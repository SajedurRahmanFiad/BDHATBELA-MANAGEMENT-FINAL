var Q3=Object.defineProperty;var zO=e=>{throw TypeError(e)};var H3=(e,t,r)=>t in e?Q3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Kv=(e,t,r)=>H3(e,typeof t!="symbol"?t+"":t,r),Fv=(e,t,r)=>t.has(e)||zO("Cannot "+r);var z=(e,t,r)=>(Fv(e,t,"read from private field"),r?r.call(e):t.get(e)),Pe=(e,t,r)=>t.has(e)?zO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),xe=(e,t,r,n)=>(Fv(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ke=(e,t,r)=>(Fv(e,t,"access private method"),r);var Mh=(e,t,r,n)=>({set _(a){xe(e,t,a,r)},get _(){return z(e,t,n)}});function V3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function Ta(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qv={exports:{}},$u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO;function G3(){if(qO)return $u;qO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return $u.Fragment=t,$u.jsx=r,$u.jsxs=r,$u}var KO;function Y3(){return KO||(KO=1,Qv.exports=G3()),Qv.exports}var c=Y3(),Hv={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FO;function W3(){if(FO)return Be;FO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=y&&I[y]||I["@@iterator"],typeof I=="function"?I:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function N(I,V,me){this.props=I,this.context=V,this.refs=_,this.updater=me||x}N.prototype.isReactComponent={},N.prototype.setState=function(I,V){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,V,"setState")},N.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function O(){}O.prototype=N.prototype;function A(I,V,me){this.props=I,this.context=V,this.refs=_,this.updater=me||x}var C=A.prototype=new O;C.constructor=A,S(C,N.prototype),C.isPureReactComponent=!0;var T=Array.isArray;function k(){}var D={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function L(I,V,me){var pe=me.ref;return{$$typeof:e,type:I,key:V,ref:pe!==void 0?pe:null,props:me}}function G(I,V){return L(I.type,V,I.props)}function Q(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function K(I){var V={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(me){return V[me]})}var J=/\/+/g;function H(I,V){return typeof I=="object"&&I!==null&&I.key!=null?K(""+I.key):V.toString(36)}function ie(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(k,k):(I.status="pending",I.then(function(V){I.status==="pending"&&(I.status="fulfilled",I.value=V)},function(V){I.status==="pending"&&(I.status="rejected",I.reason=V)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function B(I,V,me,pe,be){var ke=typeof I;(ke==="undefined"||ke==="boolean")&&(I=null);var Ae=!1;if(I===null)Ae=!0;else switch(ke){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(I.$$typeof){case e:case t:Ae=!0;break;case p:return Ae=I._init,B(Ae(I._payload),V,me,pe,be)}}if(Ae)return be=be(I),Ae=pe===""?"."+H(I,0):pe,T(be)?(me="",Ae!=null&&(me=Ae.replace(J,"$&/")+"/"),B(be,V,me,"",function(de){return de})):be!=null&&(Q(be)&&(be=G(be,me+(be.key==null||I&&I.key===be.key?"":(""+be.key).replace(J,"$&/")+"/")+Ae)),V.push(be)),1;Ae=0;var te=pe===""?".":pe+":";if(T(I))for(var R=0;R<I.length;R++)pe=I[R],ke=te+H(pe,R),Ae+=B(pe,V,me,ke,be);else if(R=v(I),typeof R=="function")for(I=R.call(I),R=0;!(pe=I.next()).done;)pe=pe.value,ke=te+H(pe,R++),Ae+=B(pe,V,me,ke,be);else if(ke==="object"){if(typeof I.then=="function")return B(ie(I),V,me,pe,be);throw V=String(I),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function U(I,V,me){if(I==null)return I;var pe=[],be=0;return B(I,pe,"","",function(ke){return V.call(me,ke,be++)}),pe}function ee(I){if(I._status===-1){var V=I._result;V=V(),V.then(function(me){(I._status===0||I._status===-1)&&(I._status=1,I._result=me)},function(me){(I._status===0||I._status===-1)&&(I._status=2,I._result=me)}),I._status===-1&&(I._status=0,I._result=V)}if(I._status===1)return I._result.default;throw I._result}var ue=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},ce={map:U,forEach:function(I,V,me){U(I,function(){V.apply(this,arguments)},me)},count:function(I){var V=0;return U(I,function(){V++}),V},toArray:function(I){return U(I,function(V){return V})||[]},only:function(I){if(!Q(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Be.Activity=g,Be.Children=ce,Be.Component=N,Be.Fragment=r,Be.Profiler=a,Be.PureComponent=A,Be.StrictMode=n,Be.Suspense=f,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Be.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},Be.cache=function(I){return function(){return I.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(I,V,me){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var pe=S({},I.props),be=I.key;if(V!=null)for(ke in V.key!==void 0&&(be=""+V.key),V)!M.call(V,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&V.ref===void 0||(pe[ke]=V[ke]);var ke=arguments.length-2;if(ke===1)pe.children=me;else if(1<ke){for(var Ae=Array(ke),te=0;te<ke;te++)Ae[te]=arguments[te+2];pe.children=Ae}return L(I.type,be,pe)},Be.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:s,_context:I},I},Be.createElement=function(I,V,me){var pe,be={},ke=null;if(V!=null)for(pe in V.key!==void 0&&(ke=""+V.key),V)M.call(V,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(be[pe]=V[pe]);var Ae=arguments.length-2;if(Ae===1)be.children=me;else if(1<Ae){for(var te=Array(Ae),R=0;R<Ae;R++)te[R]=arguments[R+2];be.children=te}if(I&&I.defaultProps)for(pe in Ae=I.defaultProps,Ae)be[pe]===void 0&&(be[pe]=Ae[pe]);return L(I,ke,be)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(I){return{$$typeof:d,render:I}},Be.isValidElement=Q,Be.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:ee}},Be.memo=function(I,V){return{$$typeof:h,type:I,compare:V===void 0?null:V}},Be.startTransition=function(I){var V=D.T,me={};D.T=me;try{var pe=I(),be=D.S;be!==null&&be(me,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(k,ue)}catch(ke){ue(ke)}finally{V!==null&&me.types!==null&&(V.types=me.types),D.T=V}},Be.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Be.use=function(I){return D.H.use(I)},Be.useActionState=function(I,V,me){return D.H.useActionState(I,V,me)},Be.useCallback=function(I,V){return D.H.useCallback(I,V)},Be.useContext=function(I){return D.H.useContext(I)},Be.useDebugValue=function(){},Be.useDeferredValue=function(I,V){return D.H.useDeferredValue(I,V)},Be.useEffect=function(I,V){return D.H.useEffect(I,V)},Be.useEffectEvent=function(I){return D.H.useEffectEvent(I)},Be.useId=function(){return D.H.useId()},Be.useImperativeHandle=function(I,V,me){return D.H.useImperativeHandle(I,V,me)},Be.useInsertionEffect=function(I,V){return D.H.useInsertionEffect(I,V)},Be.useLayoutEffect=function(I,V){return D.H.useLayoutEffect(I,V)},Be.useMemo=function(I,V){return D.H.useMemo(I,V)},Be.useOptimistic=function(I,V){return D.H.useOptimistic(I,V)},Be.useReducer=function(I,V,me){return D.H.useReducer(I,V,me)},Be.useRef=function(I){return D.H.useRef(I)},Be.useState=function(I){return D.H.useState(I)},Be.useSyncExternalStore=function(I,V,me){return D.H.useSyncExternalStore(I,V,me)},Be.useTransition=function(){return D.H.useTransition()},Be.version="19.2.4",Be}var QO;function jc(){return QO||(QO=1,Hv.exports=W3()),Hv.exports}var j=jc();const xr=Ta(j),X3=V3({__proto__:null,default:xr},[j]);var Vv={exports:{}},Uu={},Gv={exports:{}},Yv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HO;function Z3(){return HO||(HO=1,(function(e){function t(B,U){var ee=B.length;B.push(U);e:for(;0<ee;){var ue=ee-1>>>1,ce=B[ue];if(0<a(ce,U))B[ue]=U,B[ee]=ce,ee=ue;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var U=B[0],ee=B.pop();if(ee!==U){B[0]=ee;e:for(var ue=0,ce=B.length,I=ce>>>1;ue<I;){var V=2*(ue+1)-1,me=B[V],pe=V+1,be=B[pe];if(0>a(me,ee))pe<ce&&0>a(be,me)?(B[ue]=be,B[pe]=ee,ue=pe):(B[ue]=me,B[V]=ee,ue=V);else if(pe<ce&&0>a(be,ee))B[ue]=be,B[pe]=ee,ue=pe;else break e}}return U}function a(B,U){var ee=B.sortIndex-U.sortIndex;return ee!==0?ee:B.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,y=3,v=!1,x=!1,S=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(B){for(var U=r(h);U!==null;){if(U.callback===null)n(h);else if(U.startTime<=B)n(h),U.sortIndex=U.expirationTime,t(f,U);else break;U=r(h)}}function T(B){if(S=!1,C(B),!x)if(r(f)!==null)x=!0,k||(k=!0,K());else{var U=r(h);U!==null&&ie(T,U.startTime-B)}}var k=!1,D=-1,M=5,L=-1;function G(){return _?!0:!(e.unstable_now()-L<M)}function Q(){if(_=!1,k){var B=e.unstable_now();L=B;var U=!0;try{e:{x=!1,S&&(S=!1,O(D),D=-1),v=!0;var ee=y;try{t:{for(C(B),g=r(f);g!==null&&!(g.expirationTime>B&&G());){var ue=g.callback;if(typeof ue=="function"){g.callback=null,y=g.priorityLevel;var ce=ue(g.expirationTime<=B);if(B=e.unstable_now(),typeof ce=="function"){g.callback=ce,C(B),U=!0;break t}g===r(f)&&n(f),C(B)}else n(f);g=r(f)}if(g!==null)U=!0;else{var I=r(h);I!==null&&ie(T,I.startTime-B),U=!1}}break e}finally{g=null,y=ee,v=!1}U=void 0}}finally{U?K():k=!1}}}var K;if(typeof A=="function")K=function(){A(Q)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,H=J.port2;J.port1.onmessage=Q,K=function(){H.postMessage(null)}}else K=function(){N(Q,0)};function ie(B,U){D=N(function(){B(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(B){switch(y){case 1:case 2:case 3:var U=3;break;default:U=y}var ee=y;y=U;try{return B()}finally{y=ee}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(B,U){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ee=y;y=B;try{return U()}finally{y=ee}},e.unstable_scheduleCallback=function(B,U,ee){var ue=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ue+ee:ue):ee=ue,B){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ee+ce,B={id:p++,callback:U,priorityLevel:B,startTime:ee,expirationTime:ce,sortIndex:-1},ee>ue?(B.sortIndex=ee,t(h,B),r(f)===null&&B===r(h)&&(S?(O(D),D=-1):S=!0,ie(T,ee-ue))):(B.sortIndex=ce,t(f,B),x||v||(x=!0,k||(k=!0,K()))),B},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(B){var U=y;return function(){var ee=y;y=U;try{return B.apply(this,arguments)}finally{y=ee}}}})(Yv)),Yv}var VO;function J3(){return VO||(VO=1,Gv.exports=Z3()),Gv.exports}var Wv={exports:{}},Ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GO;function eB(){if(GO)return Ir;GO=1;var e=jc();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ir.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,p)},Ir.flushSync=function(f){var h=l.T,p=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=h,n.p=p,n.d.f()}},Ir.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},Ir.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Ir.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:v}):p==="script"&&n.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ir.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},Ir.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);n.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ir.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},Ir.requestFormReset=function(f){n.d.r(f)},Ir.unstable_batchedUpdates=function(f,h){return f(h)},Ir.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Ir.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ir.version="19.2.4",Ir}var YO;function oT(){if(YO)return Wv.exports;YO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wv.exports=eB(),Wv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WO;function tB(){if(WO)return Uu;WO=1;var e=J3(),t=jc(),r=oT();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(n(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,m=o;;){var b=u.return;if(b===null)break;var w=b.alternate;if(w===null){if(m=b.return,m!==null){u=m;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===u)return f(b),i;if(w===m)return f(b),o;w=w.sibling}throw Error(n(188))}if(u.return!==m.return)u=b,m=w;else{for(var E=!1,P=b.child;P;){if(P===u){E=!0,u=b,m=w;break}if(P===m){E=!0,m=b,u=w;break}P=P.sibling}if(!E){for(P=w.child;P;){if(P===u){E=!0,u=w,m=b;break}if(P===m){E=!0,m=w,u=b;break}P=P.sibling}if(!E)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var J=Symbol.for("react.client.reference");function H(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===J?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case k:return"SuspenseList";case L:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case A:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case C:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return o=i.displayName||null,o!==null?o:H(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return H(i(o))}catch{}}return null}var ie=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ue=[],ce=-1;function I(i){return{current:i}}function V(i){0>ce||(i.current=ue[ce],ue[ce]=null,ce--)}function me(i,o){ce++,ue[ce]=i.current,i.current=o}var pe=I(null),be=I(null),ke=I(null),Ae=I(null);function te(i,o){switch(me(ke,o),me(be,i),me(pe,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?uO(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=uO(o),i=dO(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}V(pe),me(pe,i)}function R(){V(pe),V(be),V(ke)}function de(i){i.memoizedState!==null&&me(Ae,i);var o=pe.current,u=dO(o,i.type);o!==u&&(me(be,i),me(pe,u))}function ge(i){be.current===i&&(V(pe),V(be)),Ae.current===i&&(V(Ae),Ru._currentValue=ee)}var se,Me;function Ce(i){if(se===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);se=o&&o[1]||"",Me=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+i+Me}var He=!1;function et(i,o){if(!i||He)return"";He=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(re){var Z=re}Reflect.construct(i,[],he)}else{try{he.call()}catch(re){Z=re}i.call(he.prototype)}}else{try{throw Error()}catch(re){Z=re}(he=i())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(re){if(re&&Z&&typeof re.stack=="string")return[re.stack,Z.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),E=w[0],P=w[1];if(E&&P){var $=E.split(`
`),X=P.split(`
`);for(b=m=0;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;for(;b<X.length&&!X[b].includes("DetermineComponentFrameRoot");)b++;if(m===$.length||b===X.length)for(m=$.length-1,b=X.length-1;1<=m&&0<=b&&$[m]!==X[b];)b--;for(;1<=m&&0<=b;m--,b--)if($[m]!==X[b]){if(m!==1||b!==1)do if(m--,b--,0>b||$[m]!==X[b]){var le=`
`+$[m].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=m&&0<=b);break}}}finally{He=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ce(u):""}function Yt(i,o){switch(i.tag){case 26:case 27:case 5:return Ce(i.type);case 16:return Ce("Lazy");case 13:return i.child!==o&&o!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return et(i.type,!1);case 11:return et(i.type.render,!1);case 1:return et(i.type,!0);case 31:return Ce("Activity");default:return""}}function Rr(i){try{var o="",u=null;do o+=Yt(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ir=Object.prototype.hasOwnProperty,oe=e.unstable_scheduleCallback,kt=e.unstable_cancelCallback,Yr=e.unstable_shouldYield,sr=e.unstable_requestPaint,ut=e.unstable_now,Fc=e.unstable_getCurrentPriorityLevel,Qc=e.unstable_ImmediatePriority,Hc=e.unstable_UserBlockingPriority,Ds=e.unstable_NormalPriority,yf=e.unstable_LowPriority,Go=e.unstable_IdlePriority,E5=e.log,A5=e.unstable_setDisableYieldValue,Vc=null,fn=null;function Pi(i){if(typeof E5=="function"&&A5(i),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(Vc,i)}catch{}}var hn=Math.clz32?Math.clz32:P5,C5=Math.log,k5=Math.LN2;function P5(i){return i>>>=0,i===0?32:31-(C5(i)/k5|0)|0}var vf=256,bf=262144,xf=4194304;function Ms(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wf(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var b=0,w=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var P=m&134217727;return P!==0?(m=P&~w,m!==0?b=Ms(m):(E&=P,E!==0?b=Ms(E):u||(u=P&~i,u!==0&&(b=Ms(u))))):(P=m&~w,P!==0?b=Ms(P):E!==0?b=Ms(E):u||(u=m&~i,u!==0&&(b=Ms(u)))),b===0?0:o!==0&&o!==b&&(o&w)===0&&(w=b&-b,u=o&-o,w>=u||w===32&&(u&4194048)!==0)?o:b}function Gc(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function T5(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q1(){var i=xf;return xf<<=1,(xf&62914560)===0&&(xf=4194304),i}function Pg(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Yc(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function D5(i,o,u,m,b,w){var E=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var P=i.entanglements,$=i.expirationTimes,X=i.hiddenUpdates;for(u=E&~u;0<u;){var le=31-hn(u),he=1<<le;P[le]=0,$[le]=-1;var Z=X[le];if(Z!==null)for(X[le]=null,le=0;le<Z.length;le++){var re=Z[le];re!==null&&(re.lane&=-536870913)}u&=~he}m!==0&&H1(i,m,0),w!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=w&~(E&~o))}function H1(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-hn(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function V1(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-hn(u),b=1<<m;b&o|i[m]&o&&(i[m]|=o),u&=~b}}function G1(i,o){var u=o&-o;return u=(u&42)!==0?1:Tg(u),(u&(i.suspendedLanes|o))!==0?0:u}function Tg(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Dg(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Y1(){var i=U.p;return i!==0?i:(i=window.event,i===void 0?32:MO(i.type))}function W1(i,o){var u=U.p;try{return U.p=i,o()}finally{U.p=u}}var Ti=Math.random().toString(36).slice(2),Nr="__reactFiber$"+Ti,Wr="__reactProps$"+Ti,Yo="__reactContainer$"+Ti,Mg="__reactEvents$"+Ti,M5="__reactListeners$"+Ti,R5="__reactHandles$"+Ti,X1="__reactResources$"+Ti,Wc="__reactMarker$"+Ti;function Rg(i){delete i[Nr],delete i[Wr],delete i[Mg],delete i[M5],delete i[R5]}function Wo(i){var o=i[Nr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Yo]||u[Nr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=vO(i);i!==null;){if(u=i[Nr])return u;i=vO(i)}return o}i=u,u=i.parentNode}return null}function Xo(i){if(i=i[Nr]||i[Yo]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Xc(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function Zo(i){var o=i[X1];return o||(o=i[X1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function mr(i){i[Wc]=!0}var Z1=new Set,J1={};function Rs(i,o){Jo(i,o),Jo(i+"Capture",o)}function Jo(i,o){for(J1[i]=o,i=0;i<o.length;i++)Z1.add(o[i])}var I5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eS={},tS={};function L5(i){return ir.call(tS,i)?!0:ir.call(eS,i)?!1:I5.test(i)?tS[i]=!0:(eS[i]=!0,!1)}function jf(i,o,u){if(L5(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Sf(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Ma(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function kn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function rS(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function B5(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,w=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(E){u=""+E,w.call(this,E)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ig(i){if(!i._valueTracker){var o=rS(i)?"checked":"value";i._valueTracker=B5(i,o,""+i[o])}}function nS(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=rS(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function _f(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var $5=/[\n"\\]/g;function Pn(i){return i.replace($5,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Lg(i,o,u,m,b,w,E,P){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),o!=null?E==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+kn(o)):i.value!==""+kn(o)&&(i.value=""+kn(o)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),o!=null?Bg(i,E,kn(o)):u!=null?Bg(i,E,kn(u)):m!=null&&i.removeAttribute("value"),b==null&&w!=null&&(i.defaultChecked=!!w),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+kn(P):i.removeAttribute("name")}function aS(i,o,u,m,b,w,E,P){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),o!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){Ig(i);return}u=u!=null?""+kn(u):"",o=o!=null?""+kn(o):u,P||o===i.value||(i.value=o),i.defaultValue=o}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=P?i.checked:!!m,i.defaultChecked=!!m,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Ig(i)}function Bg(i,o,u){o==="number"&&_f(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function el(i,o,u,m){if(i=i.options,o){o={};for(var b=0;b<u.length;b++)o["$"+u[b]]=!0;for(u=0;u<i.length;u++)b=o.hasOwnProperty("$"+i[u].value),i[u].selected!==b&&(i[u].selected=b),b&&m&&(i[u].defaultSelected=!0)}else{for(u=""+kn(u),o=null,b=0;b<i.length;b++){if(i[b].value===u){i[b].selected=!0,m&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function iS(i,o,u){if(o!=null&&(o=""+kn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+kn(u):""}function sS(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(n(92));if(ie(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=kn(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),Ig(i)}function tl(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var U5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oS(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||U5.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function lS(i,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var b in o)m=o[b],o.hasOwnProperty(b)&&u[b]!==m&&oS(i,b,m)}else for(var w in o)o.hasOwnProperty(w)&&oS(i,w,o[w])}function $g(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),q5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nf(i){return q5.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ra(){}var Ug=null;function zg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rl=null,nl=null;function cS(i){var o=Xo(i);if(o&&(i=o.stateNode)){var u=i[Wr]||null;e:switch(i=o.stateNode,o.type){case"input":if(Lg(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Pn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var b=m[Wr]||null;if(!b)throw Error(n(90));Lg(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&nS(m)}break e;case"textarea":iS(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&el(i,!!u.multiple,o,!1)}}}var qg=!1;function uS(i,o,u){if(qg)return i(o,u);qg=!0;try{var m=i(o);return m}finally{if(qg=!1,(rl!==null||nl!==null)&&(fh(),rl&&(o=rl,i=nl,nl=rl=null,cS(o),i)))for(o=0;o<i.length;o++)cS(i[o])}}function Zc(i,o){var u=i.stateNode;if(u===null)return null;var m=u[Wr]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kg=!1;if(Ia)try{var Jc={};Object.defineProperty(Jc,"passive",{get:function(){Kg=!0}}),window.addEventListener("test",Jc,Jc),window.removeEventListener("test",Jc,Jc)}catch{Kg=!1}var Di=null,Fg=null,Of=null;function dS(){if(Of)return Of;var i,o=Fg,u=o.length,m,b="value"in Di?Di.value:Di.textContent,w=b.length;for(i=0;i<u&&o[i]===b[i];i++);var E=u-i;for(m=1;m<=E&&o[u-m]===b[w-m];m++);return Of=b.slice(i,1<m?1-m:void 0)}function Ef(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Af(){return!0}function fS(){return!1}function Xr(i){function o(u,m,b,w,E){this._reactName=u,this._targetInst=b,this.type=m,this.nativeEvent=w,this.target=E,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(u=i[P],this[P]=u?u(w):w[P]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Af:fS,this.isPropagationStopped=fS,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Af)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Af)},persist:function(){},isPersistent:Af}),o}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cf=Xr(Is),eu=g({},Is,{view:0,detail:0}),K5=Xr(eu),Qg,Hg,tu,kf=g({},eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gg,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==tu&&(tu&&i.type==="mousemove"?(Qg=i.screenX-tu.screenX,Hg=i.screenY-tu.screenY):Hg=Qg=0,tu=i),Qg)},movementY:function(i){return"movementY"in i?i.movementY:Hg}}),hS=Xr(kf),F5=g({},kf,{dataTransfer:0}),Q5=Xr(F5),H5=g({},eu,{relatedTarget:0}),Vg=Xr(H5),V5=g({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),G5=Xr(V5),Y5=g({},Is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),W5=Xr(Y5),X5=g({},Is,{data:0}),mS=Xr(X5),Z5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tL(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=eL[i])?!!o[i]:!1}function Gg(){return tL}var rL=g({},eu,{key:function(i){if(i.key){var o=Z5[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ef(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?J5[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gg,charCode:function(i){return i.type==="keypress"?Ef(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ef(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nL=Xr(rL),aL=g({},kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pS=Xr(aL),iL=g({},eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gg}),sL=Xr(iL),oL=g({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),lL=Xr(oL),cL=g({},kf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),uL=Xr(cL),dL=g({},Is,{newState:0,oldState:0}),fL=Xr(dL),hL=[9,13,27,32],Yg=Ia&&"CompositionEvent"in window,ru=null;Ia&&"documentMode"in document&&(ru=document.documentMode);var mL=Ia&&"TextEvent"in window&&!ru,gS=Ia&&(!Yg||ru&&8<ru&&11>=ru),yS=" ",vS=!1;function bS(i,o){switch(i){case"keyup":return hL.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var al=!1;function pL(i,o){switch(i){case"compositionend":return xS(o);case"keypress":return o.which!==32?null:(vS=!0,yS);case"textInput":return i=o.data,i===yS&&vS?null:i;default:return null}}function gL(i,o){if(al)return i==="compositionend"||!Yg&&bS(i,o)?(i=dS(),Of=Fg=Di=null,al=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return gS&&o.locale!=="ko"?null:o.data;default:return null}}var yL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wS(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!yL[i.type]:o==="textarea"}function jS(i,o,u,m){rl?nl?nl.push(m):nl=[m]:rl=m,o=bh(o,"onChange"),0<o.length&&(u=new Cf("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var nu=null,au=null;function vL(i){aO(i,0)}function Pf(i){var o=Xc(i);if(nS(o))return i}function SS(i,o){if(i==="change")return o}var _S=!1;if(Ia){var Wg;if(Ia){var Xg="oninput"in document;if(!Xg){var NS=document.createElement("div");NS.setAttribute("oninput","return;"),Xg=typeof NS.oninput=="function"}Wg=Xg}else Wg=!1;_S=Wg&&(!document.documentMode||9<document.documentMode)}function OS(){nu&&(nu.detachEvent("onpropertychange",ES),au=nu=null)}function ES(i){if(i.propertyName==="value"&&Pf(au)){var o=[];jS(o,au,i,zg(i)),uS(vL,o)}}function bL(i,o,u){i==="focusin"?(OS(),nu=o,au=u,nu.attachEvent("onpropertychange",ES)):i==="focusout"&&OS()}function xL(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pf(au)}function wL(i,o){if(i==="click")return Pf(o)}function jL(i,o){if(i==="input"||i==="change")return Pf(o)}function SL(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var mn=typeof Object.is=="function"?Object.is:SL;function iu(i,o){if(mn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var b=u[m];if(!ir.call(o,b)||!mn(i[b],o[b]))return!1}return!0}function AS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function CS(i,o){var u=AS(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=AS(u)}}function kS(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?kS(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function PS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=_f(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=_f(i.document)}return o}function Zg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var _L=Ia&&"documentMode"in document&&11>=document.documentMode,il=null,Jg=null,su=null,ey=!1;function TS(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ey||il==null||il!==_f(m)||(m=il,"selectionStart"in m&&Zg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),su&&iu(su,m)||(su=m,m=bh(Jg,"onSelect"),0<m.length&&(o=new Cf("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=il)))}function Ls(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var sl={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},ty={},DS={};Ia&&(DS=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function Bs(i){if(ty[i])return ty[i];if(!sl[i])return i;var o=sl[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in DS)return ty[i]=o[u];return i}var MS=Bs("animationend"),RS=Bs("animationiteration"),IS=Bs("animationstart"),NL=Bs("transitionrun"),OL=Bs("transitionstart"),EL=Bs("transitioncancel"),LS=Bs("transitionend"),BS=new Map,ry="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ry.push("scrollEnd");function Xn(i,o){BS.set(i,o),Rs(o,[i])}var Tf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Tn=[],ol=0,ny=0;function Df(){for(var i=ol,o=ny=ol=0;o<i;){var u=Tn[o];Tn[o++]=null;var m=Tn[o];Tn[o++]=null;var b=Tn[o];Tn[o++]=null;var w=Tn[o];if(Tn[o++]=null,m!==null&&b!==null){var E=m.pending;E===null?b.next=b:(b.next=E.next,E.next=b),m.pending=b}w!==0&&$S(u,b,w)}}function Mf(i,o,u,m){Tn[ol++]=i,Tn[ol++]=o,Tn[ol++]=u,Tn[ol++]=m,ny|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function ay(i,o,u,m){return Mf(i,o,u,m),Rf(i)}function $s(i,o){return Mf(i,null,null,o),Rf(i)}function $S(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var b=!1,w=i.return;w!==null;)w.childLanes|=u,m=w.alternate,m!==null&&(m.childLanes|=u),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(b=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,b&&o!==null&&(b=31-hn(u),i=w.hiddenUpdates,m=i[b],m===null?i[b]=[o]:m.push(o),o.lane=u|536870912),w):null}function Rf(i){if(50<Au)throw Au=0,hv=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var ll={};function AL(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(i,o,u,m){return new AL(i,o,u,m)}function iy(i){return i=i.prototype,!(!i||!i.isReactComponent)}function La(i,o){var u=i.alternate;return u===null?(u=pn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function US(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function If(i,o,u,m,b,w){var E=0;if(m=i,typeof i=="function")iy(i)&&(E=1);else if(typeof i=="string")E=D3(i,u,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case L:return i=pn(31,u,o,b),i.elementType=L,i.lanes=w,i;case S:return Us(u.children,b,w,o);case _:E=8,b|=24;break;case N:return i=pn(12,u,o,b|2),i.elementType=N,i.lanes=w,i;case T:return i=pn(13,u,o,b),i.elementType=T,i.lanes=w,i;case k:return i=pn(19,u,o,b),i.elementType=k,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:E=10;break e;case O:E=9;break e;case C:E=11;break e;case D:E=14;break e;case M:E=16,m=null;break e}E=29,u=Error(n(130,i===null?"null":typeof i,"")),m=null}return o=pn(E,u,o,b),o.elementType=i,o.type=m,o.lanes=w,o}function Us(i,o,u,m){return i=pn(7,i,m,o),i.lanes=u,i}function sy(i,o,u){return i=pn(6,i,null,o),i.lanes=u,i}function zS(i){var o=pn(18,null,null,0);return o.stateNode=i,o}function oy(i,o,u){return o=pn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var qS=new WeakMap;function Dn(i,o){if(typeof i=="object"&&i!==null){var u=qS.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Rr(o)},qS.set(i,o),o)}return{value:i,source:o,stack:Rr(o)}}var cl=[],ul=0,Lf=null,ou=0,Mn=[],Rn=0,Mi=null,ha=1,ma="";function Ba(i,o){cl[ul++]=ou,cl[ul++]=Lf,Lf=i,ou=o}function KS(i,o,u){Mn[Rn++]=ha,Mn[Rn++]=ma,Mn[Rn++]=Mi,Mi=i;var m=ha;i=ma;var b=32-hn(m)-1;m&=~(1<<b),u+=1;var w=32-hn(o)+b;if(30<w){var E=b-b%5;w=(m&(1<<E)-1).toString(32),m>>=E,b-=E,ha=1<<32-hn(o)+b|u<<b|m,ma=w+i}else ha=1<<w|u<<b|m,ma=i}function ly(i){i.return!==null&&(Ba(i,1),KS(i,1,0))}function cy(i){for(;i===Lf;)Lf=cl[--ul],cl[ul]=null,ou=cl[--ul],cl[ul]=null;for(;i===Mi;)Mi=Mn[--Rn],Mn[Rn]=null,ma=Mn[--Rn],Mn[Rn]=null,ha=Mn[--Rn],Mn[Rn]=null}function FS(i,o){Mn[Rn++]=ha,Mn[Rn++]=ma,Mn[Rn++]=Mi,ha=o.id,ma=o.overflow,Mi=i}var Or=null,Nt=null,Xe=!1,Ri=null,In=!1,uy=Error(n(519));function Ii(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lu(Dn(o,i)),uy}function QS(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[Nr]=i,o[Wr]=m,u){case"dialog":Ge("cancel",o),Ge("close",o);break;case"iframe":case"object":case"embed":Ge("load",o);break;case"video":case"audio":for(u=0;u<ku.length;u++)Ge(ku[u],o);break;case"source":Ge("error",o);break;case"img":case"image":case"link":Ge("error",o),Ge("load",o);break;case"details":Ge("toggle",o);break;case"input":Ge("invalid",o),aS(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ge("invalid",o);break;case"textarea":Ge("invalid",o),sS(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||lO(o.textContent,u)?(m.popover!=null&&(Ge("beforetoggle",o),Ge("toggle",o)),m.onScroll!=null&&Ge("scroll",o),m.onScrollEnd!=null&&Ge("scrollend",o),m.onClick!=null&&(o.onclick=Ra),o=!0):o=!1,o||Ii(i,!0)}function HS(i){for(Or=i.return;Or;)switch(Or.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Or=Or.return}}function dl(i){if(i!==Or)return!1;if(!Xe)return HS(i),Xe=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Av(i.type,i.memoizedProps)),u=!u),u&&Nt&&Ii(i),HS(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Nt=yO(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Nt=yO(i)}else o===27?(o=Nt,Wi(i.type)?(i=Dv,Dv=null,Nt=i):Nt=o):Nt=Or?Bn(i.stateNode.nextSibling):null;return!0}function zs(){Nt=Or=null,Xe=!1}function dy(){var i=Ri;return i!==null&&(tn===null?tn=i:tn.push.apply(tn,i),Ri=null),i}function lu(i){Ri===null?Ri=[i]:Ri.push(i)}var fy=I(null),qs=null,$a=null;function Li(i,o,u){me(fy,o._currentValue),o._currentValue=u}function Ua(i){i._currentValue=fy.current,V(fy)}function hy(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function my(i,o,u,m){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var w=b.dependencies;if(w!==null){var E=b.child;w=w.firstContext;e:for(;w!==null;){var P=w;w=b;for(var $=0;$<o.length;$++)if(P.context===o[$]){w.lanes|=u,P=w.alternate,P!==null&&(P.lanes|=u),hy(w.return,u,i),m||(E=null);break e}w=P.next}}else if(b.tag===18){if(E=b.return,E===null)throw Error(n(341));E.lanes|=u,w=E.alternate,w!==null&&(w.lanes|=u),hy(E,u,i),E=null}else E=b.child;if(E!==null)E.return=b;else for(E=b;E!==null;){if(E===i){E=null;break}if(b=E.sibling,b!==null){b.return=E.return,E=b;break}E=E.return}b=E}}function fl(i,o,u,m){i=null;for(var b=o,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var E=b.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var P=b.type;mn(b.pendingProps.value,E.value)||(i!==null?i.push(P):i=[P])}}else if(b===Ae.current){if(E=b.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(Ru):i=[Ru])}b=b.return}i!==null&&my(o,i,u,m),o.flags|=262144}function Bf(i){for(i=i.firstContext;i!==null;){if(!mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ks(i){qs=i,$a=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Er(i){return VS(qs,i)}function $f(i,o){return qs===null&&Ks(i),VS(i,o)}function VS(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},$a===null){if(i===null)throw Error(n(308));$a=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else $a=$a.next=o;return u}var CL=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},kL=e.unstable_scheduleCallback,PL=e.unstable_NormalPriority,Wt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function py(){return{controller:new CL,data:new Map,refCount:0}}function cu(i){i.refCount--,i.refCount===0&&kL(PL,function(){i.controller.abort()})}var uu=null,gy=0,hl=0,ml=null;function TL(i,o){if(uu===null){var u=uu=[];gy=0,hl=bv(),ml={status:"pending",value:void 0,then:function(m){u.push(m)}}}return gy++,o.then(GS,GS),o}function GS(){if(--gy===0&&uu!==null){ml!==null&&(ml.status="fulfilled");var i=uu;uu=null,hl=0,ml=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function DL(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var b=0;b<u.length;b++)(0,u[b])(o)},function(b){for(m.status="rejected",m.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),m}var YS=B.S;B.S=function(i,o){TN=ut(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&TL(i,o),YS!==null&&YS(i,o)};var Fs=I(null);function yy(){var i=Fs.current;return i!==null?i:xt.pooledCache}function Uf(i,o){o===null?me(Fs,Fs.current):me(Fs,o.pool)}function WS(){var i=yy();return i===null?null:{parent:Wt._currentValue,pool:i}}var pl=Error(n(460)),vy=Error(n(474)),zf=Error(n(542)),qf={then:function(){}};function XS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ZS(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Ra,Ra),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,e_(i),i;default:if(typeof o.status=="string")o.then(Ra,Ra);else{if(i=xt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=m}},function(m){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,e_(i),i}throw Hs=o,pl}}function Qs(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Hs=u,pl):u}}var Hs=null;function JS(){if(Hs===null)throw Error(n(459));var i=Hs;return Hs=null,i}function e_(i){if(i===pl||i===zf)throw Error(n(483))}var gl=null,du=0;function Kf(i){var o=du;return du+=1,gl===null&&(gl=[]),ZS(gl,i,o)}function fu(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Ff(i,o){throw o.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function t_(i){function o(F,q){if(i){var W=F.deletions;W===null?(F.deletions=[q],F.flags|=16):W.push(q)}}function u(F,q){if(!i)return null;for(;q!==null;)o(F,q),q=q.sibling;return null}function m(F){for(var q=new Map;F!==null;)F.key!==null?q.set(F.key,F):q.set(F.index,F),F=F.sibling;return q}function b(F,q){return F=La(F,q),F.index=0,F.sibling=null,F}function w(F,q,W){return F.index=W,i?(W=F.alternate,W!==null?(W=W.index,W<q?(F.flags|=67108866,q):W):(F.flags|=67108866,q)):(F.flags|=1048576,q)}function E(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function P(F,q,W,fe){return q===null||q.tag!==6?(q=sy(W,F.mode,fe),q.return=F,q):(q=b(q,W),q.return=F,q)}function $(F,q,W,fe){var Te=W.type;return Te===S?le(F,q,W.props.children,fe,W.key):q!==null&&(q.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===M&&Qs(Te)===q.type)?(q=b(q,W.props),fu(q,W),q.return=F,q):(q=If(W.type,W.key,W.props,null,F.mode,fe),fu(q,W),q.return=F,q)}function X(F,q,W,fe){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=oy(W,F.mode,fe),q.return=F,q):(q=b(q,W.children||[]),q.return=F,q)}function le(F,q,W,fe,Te){return q===null||q.tag!==7?(q=Us(W,F.mode,fe,Te),q.return=F,q):(q=b(q,W),q.return=F,q)}function he(F,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=sy(""+q,F.mode,W),q.return=F,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case v:return W=If(q.type,q.key,q.props,null,F.mode,W),fu(W,q),W.return=F,W;case x:return q=oy(q,F.mode,W),q.return=F,q;case M:return q=Qs(q),he(F,q,W)}if(ie(q)||K(q))return q=Us(q,F.mode,W,null),q.return=F,q;if(typeof q.then=="function")return he(F,Kf(q),W);if(q.$$typeof===A)return he(F,$f(F,q),W);Ff(F,q)}return null}function Z(F,q,W,fe){var Te=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Te!==null?null:P(F,q,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return W.key===Te?$(F,q,W,fe):null;case x:return W.key===Te?X(F,q,W,fe):null;case M:return W=Qs(W),Z(F,q,W,fe)}if(ie(W)||K(W))return Te!==null?null:le(F,q,W,fe,null);if(typeof W.then=="function")return Z(F,q,Kf(W),fe);if(W.$$typeof===A)return Z(F,q,$f(F,W),fe);Ff(F,W)}return null}function re(F,q,W,fe,Te){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return F=F.get(W)||null,P(q,F,""+fe,Te);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case v:return F=F.get(fe.key===null?W:fe.key)||null,$(q,F,fe,Te);case x:return F=F.get(fe.key===null?W:fe.key)||null,X(q,F,fe,Te);case M:return fe=Qs(fe),re(F,q,W,fe,Te)}if(ie(fe)||K(fe))return F=F.get(W)||null,le(q,F,fe,Te,null);if(typeof fe.then=="function")return re(F,q,W,Kf(fe),Te);if(fe.$$typeof===A)return re(F,q,W,$f(q,fe),Te);Ff(q,fe)}return null}function _e(F,q,W,fe){for(var Te=null,rt=null,Oe=q,qe=q=0,We=null;Oe!==null&&qe<W.length;qe++){Oe.index>qe?(We=Oe,Oe=null):We=Oe.sibling;var nt=Z(F,Oe,W[qe],fe);if(nt===null){Oe===null&&(Oe=We);break}i&&Oe&&nt.alternate===null&&o(F,Oe),q=w(nt,q,qe),rt===null?Te=nt:rt.sibling=nt,rt=nt,Oe=We}if(qe===W.length)return u(F,Oe),Xe&&Ba(F,qe),Te;if(Oe===null){for(;qe<W.length;qe++)Oe=he(F,W[qe],fe),Oe!==null&&(q=w(Oe,q,qe),rt===null?Te=Oe:rt.sibling=Oe,rt=Oe);return Xe&&Ba(F,qe),Te}for(Oe=m(Oe);qe<W.length;qe++)We=re(Oe,F,qe,W[qe],fe),We!==null&&(i&&We.alternate!==null&&Oe.delete(We.key===null?qe:We.key),q=w(We,q,qe),rt===null?Te=We:rt.sibling=We,rt=We);return i&&Oe.forEach(function(ts){return o(F,ts)}),Xe&&Ba(F,qe),Te}function De(F,q,W,fe){if(W==null)throw Error(n(151));for(var Te=null,rt=null,Oe=q,qe=q=0,We=null,nt=W.next();Oe!==null&&!nt.done;qe++,nt=W.next()){Oe.index>qe?(We=Oe,Oe=null):We=Oe.sibling;var ts=Z(F,Oe,nt.value,fe);if(ts===null){Oe===null&&(Oe=We);break}i&&Oe&&ts.alternate===null&&o(F,Oe),q=w(ts,q,qe),rt===null?Te=ts:rt.sibling=ts,rt=ts,Oe=We}if(nt.done)return u(F,Oe),Xe&&Ba(F,qe),Te;if(Oe===null){for(;!nt.done;qe++,nt=W.next())nt=he(F,nt.value,fe),nt!==null&&(q=w(nt,q,qe),rt===null?Te=nt:rt.sibling=nt,rt=nt);return Xe&&Ba(F,qe),Te}for(Oe=m(Oe);!nt.done;qe++,nt=W.next())nt=re(Oe,F,qe,nt.value,fe),nt!==null&&(i&&nt.alternate!==null&&Oe.delete(nt.key===null?qe:nt.key),q=w(nt,q,qe),rt===null?Te=nt:rt.sibling=nt,rt=nt);return i&&Oe.forEach(function(F3){return o(F,F3)}),Xe&&Ba(F,qe),Te}function yt(F,q,W,fe){if(typeof W=="object"&&W!==null&&W.type===S&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case v:e:{for(var Te=W.key;q!==null;){if(q.key===Te){if(Te=W.type,Te===S){if(q.tag===7){u(F,q.sibling),fe=b(q,W.props.children),fe.return=F,F=fe;break e}}else if(q.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===M&&Qs(Te)===q.type){u(F,q.sibling),fe=b(q,W.props),fu(fe,W),fe.return=F,F=fe;break e}u(F,q);break}else o(F,q);q=q.sibling}W.type===S?(fe=Us(W.props.children,F.mode,fe,W.key),fe.return=F,F=fe):(fe=If(W.type,W.key,W.props,null,F.mode,fe),fu(fe,W),fe.return=F,F=fe)}return E(F);case x:e:{for(Te=W.key;q!==null;){if(q.key===Te)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){u(F,q.sibling),fe=b(q,W.children||[]),fe.return=F,F=fe;break e}else{u(F,q);break}else o(F,q);q=q.sibling}fe=oy(W,F.mode,fe),fe.return=F,F=fe}return E(F);case M:return W=Qs(W),yt(F,q,W,fe)}if(ie(W))return _e(F,q,W,fe);if(K(W)){if(Te=K(W),typeof Te!="function")throw Error(n(150));return W=Te.call(W),De(F,q,W,fe)}if(typeof W.then=="function")return yt(F,q,Kf(W),fe);if(W.$$typeof===A)return yt(F,q,$f(F,W),fe);Ff(F,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(u(F,q.sibling),fe=b(q,W),fe.return=F,F=fe):(u(F,q),fe=sy(W,F.mode,fe),fe.return=F,F=fe),E(F)):u(F,q)}return function(F,q,W,fe){try{du=0;var Te=yt(F,q,W,fe);return gl=null,Te}catch(Oe){if(Oe===pl||Oe===zf)throw Oe;var rt=pn(29,Oe,null,F.mode);return rt.lanes=fe,rt.return=F,rt}finally{}}}var Vs=t_(!0),r_=t_(!1),Bi=!1;function by(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function $i(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ui(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(ot&2)!==0){var b=m.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),m.pending=o,o=Rf(i),$S(i,null,u),o}return Mf(i,m,o,u),Rf(i)}function hu(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,V1(i,u)}}function wy(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var b=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var E={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?b=w=E:w=w.next=E,u=u.next}while(u!==null);w===null?b=w=o:w=w.next=o}else b=w=o;u={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var jy=!1;function mu(){if(jy){var i=ml;if(i!==null)throw i}}function pu(i,o,u,m){jy=!1;var b=i.updateQueue;Bi=!1;var w=b.firstBaseUpdate,E=b.lastBaseUpdate,P=b.shared.pending;if(P!==null){b.shared.pending=null;var $=P,X=$.next;$.next=null,E===null?w=X:E.next=X,E=$;var le=i.alternate;le!==null&&(le=le.updateQueue,P=le.lastBaseUpdate,P!==E&&(P===null?le.firstBaseUpdate=X:P.next=X,le.lastBaseUpdate=$))}if(w!==null){var he=b.baseState;E=0,le=X=$=null,P=w;do{var Z=P.lane&-536870913,re=Z!==P.lane;if(re?(Ye&Z)===Z:(m&Z)===Z){Z!==0&&Z===hl&&(jy=!0),le!==null&&(le=le.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var _e=i,De=P;Z=o;var yt=u;switch(De.tag){case 1:if(_e=De.payload,typeof _e=="function"){he=_e.call(yt,he,Z);break e}he=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=De.payload,Z=typeof _e=="function"?_e.call(yt,he,Z):_e,Z==null)break e;he=g({},he,Z);break e;case 2:Bi=!0}}Z=P.callback,Z!==null&&(i.flags|=64,re&&(i.flags|=8192),re=b.callbacks,re===null?b.callbacks=[Z]:re.push(Z))}else re={lane:Z,tag:P.tag,payload:P.payload,callback:P.callback,next:null},le===null?(X=le=re,$=he):le=le.next=re,E|=Z;if(P=P.next,P===null){if(P=b.shared.pending,P===null)break;re=P,P=re.next,re.next=null,b.lastBaseUpdate=re,b.shared.pending=null}}while(!0);le===null&&($=he),b.baseState=$,b.firstBaseUpdate=X,b.lastBaseUpdate=le,w===null&&(b.shared.lanes=0),Qi|=E,i.lanes=E,i.memoizedState=he}}function n_(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function a_(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)n_(u[i],o)}var yl=I(null),Qf=I(0);function i_(i,o){i=Ya,me(Qf,i),me(yl,o),Ya=i|o.baseLanes}function Sy(){me(Qf,Ya),me(yl,yl.current)}function _y(){Ya=Qf.current,V(yl),V(Qf)}var gn=I(null),Ln=null;function zi(i){var o=i.alternate;me(Vt,Vt.current&1),me(gn,i),Ln===null&&(o===null||yl.current!==null||o.memoizedState!==null)&&(Ln=i)}function Ny(i){me(Vt,Vt.current),me(gn,i),Ln===null&&(Ln=i)}function s_(i){i.tag===22?(me(Vt,Vt.current),me(gn,i),Ln===null&&(Ln=i)):qi()}function qi(){me(Vt,Vt.current),me(gn,gn.current)}function yn(i){V(gn),Ln===i&&(Ln=null),V(Vt)}var Vt=I(0);function Hf(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Pv(u)||Tv(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var za=0,Ue=null,pt=null,Xt=null,Vf=!1,vl=!1,Gs=!1,Gf=0,gu=0,bl=null,ML=0;function $t(){throw Error(n(321))}function Oy(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!mn(i[u],o[u]))return!1;return!0}function Ey(i,o,u,m,b,w){return za=w,Ue=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=i===null||i.memoizedState===null?K_:qy,Gs=!1,w=u(m,b),Gs=!1,vl&&(w=l_(o,u,m,b)),o_(i),w}function o_(i){B.H=bu;var o=pt!==null&&pt.next!==null;if(za=0,Xt=pt=Ue=null,Vf=!1,gu=0,bl=null,o)throw Error(n(300));i===null||Zt||(i=i.dependencies,i!==null&&Bf(i)&&(Zt=!0))}function l_(i,o,u,m){Ue=i;var b=0;do{if(vl&&(bl=null),gu=0,vl=!1,25<=b)throw Error(n(301));if(b+=1,Xt=pt=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}B.H=F_,w=o(u,m)}while(vl);return w}function RL(){var i=B.H,o=i.useState()[0];return o=typeof o.then=="function"?yu(o):o,i=i.useState()[0],(pt!==null?pt.memoizedState:null)!==i&&(Ue.flags|=1024),o}function Ay(){var i=Gf!==0;return Gf=0,i}function Cy(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function ky(i){if(Vf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Vf=!1}za=0,Xt=pt=Ue=null,vl=!1,gu=Gf=0,bl=null}function qr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ue.memoizedState=Xt=i:Xt=Xt.next=i,Xt}function Gt(){if(pt===null){var i=Ue.alternate;i=i!==null?i.memoizedState:null}else i=pt.next;var o=Xt===null?Ue.memoizedState:Xt.next;if(o!==null)Xt=o,pt=i;else{if(i===null)throw Ue.alternate===null?Error(n(467)):Error(n(310));pt=i,i={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Xt===null?Ue.memoizedState=Xt=i:Xt=Xt.next=i}return Xt}function Yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yu(i){var o=gu;return gu+=1,bl===null&&(bl=[]),i=ZS(bl,i,o),o=Ue,(Xt===null?o.memoizedState:Xt.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?K_:qy),i}function Wf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return yu(i);if(i.$$typeof===A)return Er(i)}throw Error(n(438,String(i)))}function Py(i){var o=null,u=Ue.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Ue.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Yf(),Ue.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=G;return o.index++,u}function qa(i,o){return typeof o=="function"?o(i):o}function Xf(i){var o=Gt();return Ty(o,pt,i)}function Ty(i,o,u){var m=i.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var b=i.baseQueue,w=m.pending;if(w!==null){if(b!==null){var E=b.next;b.next=w.next,w.next=E}o.baseQueue=b=w,m.pending=null}if(w=i.baseState,b===null)i.memoizedState=w;else{o=b.next;var P=E=null,$=null,X=o,le=!1;do{var he=X.lane&-536870913;if(he!==X.lane?(Ye&he)===he:(za&he)===he){var Z=X.revertLane;if(Z===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),he===hl&&(le=!0);else if((za&Z)===Z){X=X.next,Z===hl&&(le=!0);continue}else he={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},$===null?(P=$=he,E=w):$=$.next=he,Ue.lanes|=Z,Qi|=Z;he=X.action,Gs&&u(w,he),w=X.hasEagerState?X.eagerState:u(w,he)}else Z={lane:he,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},$===null?(P=$=Z,E=w):$=$.next=Z,Ue.lanes|=he,Qi|=he;X=X.next}while(X!==null&&X!==o);if($===null?E=w:$.next=P,!mn(w,i.memoizedState)&&(Zt=!0,le&&(u=ml,u!==null)))throw u;i.memoizedState=w,i.baseState=E,i.baseQueue=$,m.lastRenderedState=w}return b===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Dy(i){var o=Gt(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,b=u.pending,w=o.memoizedState;if(b!==null){u.pending=null;var E=b=b.next;do w=i(w,E.action),E=E.next;while(E!==b);mn(w,o.memoizedState)||(Zt=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,m]}function c_(i,o,u){var m=Ue,b=Gt(),w=Xe;if(w){if(u===void 0)throw Error(n(407));u=u()}else u=o();var E=!mn((pt||b).memoizedState,u);if(E&&(b.memoizedState=u,Zt=!0),b=b.queue,Iy(f_.bind(null,m,b,i),[i]),b.getSnapshot!==o||E||Xt!==null&&Xt.memoizedState.tag&1){if(m.flags|=2048,xl(9,{destroy:void 0},d_.bind(null,m,b,u,o),null),xt===null)throw Error(n(349));w||(za&127)!==0||u_(m,o,u)}return u}function u_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Ue.updateQueue,o===null?(o=Yf(),Ue.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function d_(i,o,u,m){o.value=u,o.getSnapshot=m,h_(o)&&m_(i)}function f_(i,o,u){return u(function(){h_(o)&&m_(i)})}function h_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!mn(i,u)}catch{return!0}}function m_(i){var o=$s(i,2);o!==null&&rn(o,i,2)}function My(i){var o=qr();if(typeof i=="function"){var u=i;if(i=u(),Gs){Pi(!0);try{u()}finally{Pi(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:i},o}function p_(i,o,u,m){return i.baseState=u,Ty(i,pt,typeof m=="function"?m:qa)}function IL(i,o,u,m,b){if(eh(i))throw Error(n(485));if(i=o.action,i!==null){var w={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){w.listeners.push(E)}};B.T!==null?u(!0):w.isTransition=!1,m(w),u=o.pending,u===null?(w.next=o.pending=w,g_(o,w)):(w.next=u.next,o.pending=u.next=w)}}function g_(i,o){var u=o.action,m=o.payload,b=i.state;if(o.isTransition){var w=B.T,E={};B.T=E;try{var P=u(b,m),$=B.S;$!==null&&$(E,P),y_(i,o,P)}catch(X){Ry(i,o,X)}finally{w!==null&&E.types!==null&&(w.types=E.types),B.T=w}}else try{w=u(b,m),y_(i,o,w)}catch(X){Ry(i,o,X)}}function y_(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){v_(i,o,m)},function(m){return Ry(i,o,m)}):v_(i,o,u)}function v_(i,o,u){o.status="fulfilled",o.value=u,b_(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,g_(i,u)))}function Ry(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,b_(o),o=o.next;while(o!==m)}i.action=null}function b_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function x_(i,o){return o}function w_(i,o){if(Xe){var u=xt.formState;if(u!==null){e:{var m=Ue;if(Xe){if(Nt){t:{for(var b=Nt,w=In;b.nodeType!==8;){if(!w){b=null;break t}if(b=Bn(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){Nt=Bn(b.nextSibling),m=b.data==="F!";break e}}Ii(m)}m=!1}m&&(o=u[0])}}return u=qr(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x_,lastRenderedState:o},u.queue=m,u=U_.bind(null,Ue,m),m.dispatch=u,m=My(!1),w=zy.bind(null,Ue,!1,m.queue),m=qr(),b={state:o,dispatch:null,action:i,pending:null},m.queue=b,u=IL.bind(null,Ue,b,w,u),b.dispatch=u,m.memoizedState=i,[o,u,!1]}function j_(i){var o=Gt();return S_(o,pt,i)}function S_(i,o,u){if(o=Ty(i,o,x_)[0],i=Xf(qa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=yu(o)}catch(E){throw E===pl?zf:E}else m=o;o=Gt();var b=o.queue,w=b.dispatch;return u!==o.memoizedState&&(Ue.flags|=2048,xl(9,{destroy:void 0},LL.bind(null,b,u),null)),[m,w,i]}function LL(i,o){i.action=o}function __(i){var o=Gt(),u=pt;if(u!==null)return S_(o,u,i);Gt(),o=o.memoizedState,u=Gt();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function xl(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=Ue.updateQueue,o===null&&(o=Yf(),Ue.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function N_(){return Gt().memoizedState}function Zf(i,o,u,m){var b=qr();Ue.flags|=i,b.memoizedState=xl(1|o,{destroy:void 0},u,m===void 0?null:m)}function Jf(i,o,u,m){var b=Gt();m=m===void 0?null:m;var w=b.memoizedState.inst;pt!==null&&m!==null&&Oy(m,pt.memoizedState.deps)?b.memoizedState=xl(o,w,u,m):(Ue.flags|=i,b.memoizedState=xl(1|o,w,u,m))}function O_(i,o){Zf(8390656,8,i,o)}function Iy(i,o){Jf(2048,8,i,o)}function BL(i){Ue.flags|=4;var o=Ue.updateQueue;if(o===null)o=Yf(),Ue.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function E_(i){var o=Gt().memoizedState;return BL({ref:o,nextImpl:i}),function(){if((ot&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function A_(i,o){return Jf(4,2,i,o)}function C_(i,o){return Jf(4,4,i,o)}function k_(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function P_(i,o,u){u=u!=null?u.concat([i]):null,Jf(4,4,k_.bind(null,o,i),u)}function Ly(){}function T_(i,o){var u=Gt();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Oy(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function D_(i,o){var u=Gt();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Oy(o,m[1]))return m[0];if(m=i(),Gs){Pi(!0);try{i()}finally{Pi(!1)}}return u.memoizedState=[m,o],m}function By(i,o,u){return u===void 0||(za&1073741824)!==0&&(Ye&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=MN(),Ue.lanes|=i,Qi|=i,u)}function M_(i,o,u,m){return mn(u,o)?u:yl.current!==null?(i=By(i,u,m),mn(i,o)||(Zt=!0),i):(za&42)===0||(za&1073741824)!==0&&(Ye&261930)===0?(Zt=!0,i.memoizedState=u):(i=MN(),Ue.lanes|=i,Qi|=i,o)}function R_(i,o,u,m,b){var w=U.p;U.p=w!==0&&8>w?w:8;var E=B.T,P={};B.T=P,zy(i,!1,o,u);try{var $=b(),X=B.S;if(X!==null&&X(P,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var le=DL($,m);vu(i,o,le,xn(i))}else vu(i,o,m,xn(i))}catch(he){vu(i,o,{then:function(){},status:"rejected",reason:he},xn())}finally{U.p=w,E!==null&&P.types!==null&&(E.types=P.types),B.T=E}}function $L(){}function $y(i,o,u,m){if(i.tag!==5)throw Error(n(476));var b=I_(i).queue;R_(i,b,o,ee,u===null?$L:function(){return L_(i),u(m)})}function I_(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:ee},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function L_(i){var o=I_(i);o.next===null&&(o=i.alternate.memoizedState),vu(i,o.next.queue,{},xn())}function Uy(){return Er(Ru)}function B_(){return Gt().memoizedState}function $_(){return Gt().memoizedState}function UL(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=xn();i=$i(u);var m=Ui(o,i,u);m!==null&&(rn(m,o,u),hu(m,o,u)),o={cache:py()},i.payload=o;return}o=o.return}}function zL(i,o,u){var m=xn();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},eh(i)?z_(o,u):(u=ay(i,o,u,m),u!==null&&(rn(u,i,m),q_(u,o,m)))}function U_(i,o,u){var m=xn();vu(i,o,u,m)}function vu(i,o,u,m){var b={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(eh(i))z_(o,b);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var E=o.lastRenderedState,P=w(E,u);if(b.hasEagerState=!0,b.eagerState=P,mn(P,E))return Mf(i,o,b,0),xt===null&&Df(),!1}catch{}finally{}if(u=ay(i,o,b,m),u!==null)return rn(u,i,m),q_(u,o,m),!0}return!1}function zy(i,o,u,m){if(m={lane:2,revertLane:bv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},eh(i)){if(o)throw Error(n(479))}else o=ay(i,u,m,2),o!==null&&rn(o,i,2)}function eh(i){var o=i.alternate;return i===Ue||o!==null&&o===Ue}function z_(i,o){vl=Vf=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function q_(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,V1(i,u)}}var bu={readContext:Er,use:Wf,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t};bu.useEffectEvent=$t;var K_={readContext:Er,use:Wf,useCallback:function(i,o){return qr().memoizedState=[i,o===void 0?null:o],i},useContext:Er,useEffect:O_,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Zf(4194308,4,k_.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Zf(4194308,4,i,o)},useInsertionEffect:function(i,o){Zf(4,2,i,o)},useMemo:function(i,o){var u=qr();o=o===void 0?null:o;var m=i();if(Gs){Pi(!0);try{i()}finally{Pi(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=qr();if(u!==void 0){var b=u(o);if(Gs){Pi(!0);try{u(o)}finally{Pi(!1)}}}else b=o;return m.memoizedState=m.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},m.queue=i,i=i.dispatch=zL.bind(null,Ue,i),[m.memoizedState,i]},useRef:function(i){var o=qr();return i={current:i},o.memoizedState=i},useState:function(i){i=My(i);var o=i.queue,u=U_.bind(null,Ue,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Ly,useDeferredValue:function(i,o){var u=qr();return By(u,i,o)},useTransition:function(){var i=My(!1);return i=R_.bind(null,Ue,i.queue,!0,!1),qr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=Ue,b=qr();if(Xe){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),xt===null)throw Error(n(349));(Ye&127)!==0||u_(m,o,u)}b.memoizedState=u;var w={value:u,getSnapshot:o};return b.queue=w,O_(f_.bind(null,m,w,i),[i]),m.flags|=2048,xl(9,{destroy:void 0},d_.bind(null,m,w,u,o),null),u},useId:function(){var i=qr(),o=xt.identifierPrefix;if(Xe){var u=ma,m=ha;u=(m&~(1<<32-hn(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Gf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=ML++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Uy,useFormState:w_,useActionState:w_,useOptimistic:function(i){var o=qr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=zy.bind(null,Ue,!0,u),u.dispatch=o,[i,o]},useMemoCache:Py,useCacheRefresh:function(){return qr().memoizedState=UL.bind(null,Ue)},useEffectEvent:function(i){var o=qr(),u={impl:i};return o.memoizedState=u,function(){if((ot&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},qy={readContext:Er,use:Wf,useCallback:T_,useContext:Er,useEffect:Iy,useImperativeHandle:P_,useInsertionEffect:A_,useLayoutEffect:C_,useMemo:D_,useReducer:Xf,useRef:N_,useState:function(){return Xf(qa)},useDebugValue:Ly,useDeferredValue:function(i,o){var u=Gt();return M_(u,pt.memoizedState,i,o)},useTransition:function(){var i=Xf(qa)[0],o=Gt().memoizedState;return[typeof i=="boolean"?i:yu(i),o]},useSyncExternalStore:c_,useId:B_,useHostTransitionStatus:Uy,useFormState:j_,useActionState:j_,useOptimistic:function(i,o){var u=Gt();return p_(u,pt,i,o)},useMemoCache:Py,useCacheRefresh:$_};qy.useEffectEvent=E_;var F_={readContext:Er,use:Wf,useCallback:T_,useContext:Er,useEffect:Iy,useImperativeHandle:P_,useInsertionEffect:A_,useLayoutEffect:C_,useMemo:D_,useReducer:Dy,useRef:N_,useState:function(){return Dy(qa)},useDebugValue:Ly,useDeferredValue:function(i,o){var u=Gt();return pt===null?By(u,i,o):M_(u,pt.memoizedState,i,o)},useTransition:function(){var i=Dy(qa)[0],o=Gt().memoizedState;return[typeof i=="boolean"?i:yu(i),o]},useSyncExternalStore:c_,useId:B_,useHostTransitionStatus:Uy,useFormState:__,useActionState:__,useOptimistic:function(i,o){var u=Gt();return pt!==null?p_(u,pt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Py,useCacheRefresh:$_};F_.useEffectEvent=E_;function Ky(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Fy={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=xn(),b=$i(m);b.payload=o,u!=null&&(b.callback=u),o=Ui(i,b,m),o!==null&&(rn(o,i,m),hu(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=xn(),b=$i(m);b.tag=1,b.payload=o,u!=null&&(b.callback=u),o=Ui(i,b,m),o!==null&&(rn(o,i,m),hu(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=xn(),m=$i(u);m.tag=2,o!=null&&(m.callback=o),o=Ui(i,m,u),o!==null&&(rn(o,i,u),hu(o,i,u))}};function Q_(i,o,u,m,b,w,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,w,E):o.prototype&&o.prototype.isPureReactComponent?!iu(u,m)||!iu(b,w):!0}function H_(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&Fy.enqueueReplaceState(o,o.state,null)}function Ys(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var b in i)u[b]===void 0&&(u[b]=i[b])}return u}function V_(i){Tf(i)}function G_(i){console.error(i)}function Y_(i){Tf(i)}function th(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function W_(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Qy(i,o,u){return u=$i(u),u.tag=3,u.payload={element:null},u.callback=function(){th(i,o)},u}function X_(i){return i=$i(i),i.tag=3,i}function Z_(i,o,u,m){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var w=m.value;i.payload=function(){return b(w)},i.callback=function(){W_(o,u,m)}}var E=u.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){W_(o,u,m),typeof b!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var P=m.stack;this.componentDidCatch(m.value,{componentStack:P!==null?P:""})})}function qL(i,o,u,m,b){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&fl(o,u,b,!0),u=gn.current,u!==null){switch(u.tag){case 31:case 13:return Ln===null?hh():u.alternate===null&&Ut===0&&(Ut=3),u.flags&=-257,u.flags|=65536,u.lanes=b,m===qf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),gv(i,m,b)),!1;case 22:return u.flags|=65536,m===qf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),gv(i,m,b)),!1}throw Error(n(435,u.tag))}return gv(i,m,b),hh(),!1}if(Xe)return o=gn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,m!==uy&&(i=Error(n(422),{cause:m}),lu(Dn(i,u)))):(m!==uy&&(o=Error(n(423),{cause:m}),lu(Dn(o,u))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,m=Dn(m,u),b=Qy(i.stateNode,m,b),wy(i,b),Ut!==4&&(Ut=2)),!1;var w=Error(n(520),{cause:m});if(w=Dn(w,u),Eu===null?Eu=[w]:Eu.push(w),Ut!==4&&(Ut=2),o===null)return!0;m=Dn(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=b&-b,u.lanes|=i,i=Qy(u.stateNode,m,i),wy(u,i),!1;case 1:if(o=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Hi===null||!Hi.has(w))))return u.flags|=65536,b&=-b,u.lanes|=b,b=X_(b),Z_(b,i,u,m),wy(u,b),!1}u=u.return}while(u!==null);return!1}var Hy=Error(n(461)),Zt=!1;function Ar(i,o,u,m){o.child=i===null?r_(o,null,u,m):Vs(o,i.child,u,m)}function J_(i,o,u,m,b){u=u.render;var w=o.ref;if("ref"in m){var E={};for(var P in m)P!=="ref"&&(E[P]=m[P])}else E=m;return Ks(o),m=Ey(i,o,u,E,w,b),P=Ay(),i!==null&&!Zt?(Cy(i,o,b),Ka(i,o,b)):(Xe&&P&&ly(o),o.flags|=1,Ar(i,o,m,b),o.child)}function eN(i,o,u,m,b){if(i===null){var w=u.type;return typeof w=="function"&&!iy(w)&&w.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=w,tN(i,o,w,m,b)):(i=If(u.type,null,m,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,!ev(i,b)){var E=w.memoizedProps;if(u=u.compare,u=u!==null?u:iu,u(E,m)&&i.ref===o.ref)return Ka(i,o,b)}return o.flags|=1,i=La(w,m),i.ref=o.ref,i.return=o,o.child=i}function tN(i,o,u,m,b){if(i!==null){var w=i.memoizedProps;if(iu(w,m)&&i.ref===o.ref)if(Zt=!1,o.pendingProps=m=w,ev(i,b))(i.flags&131072)!==0&&(Zt=!0);else return o.lanes=i.lanes,Ka(i,o,b)}return Vy(i,o,u,m,b)}function rN(i,o,u,m){var b=m.children,w=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,i!==null){for(m=o.child=i.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~w}else m=0,o.child=null;return nN(i,o,w,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Uf(o,w!==null?w.cachePool:null),w!==null?i_(o,w):Sy(),s_(o);else return m=o.lanes=536870912,nN(i,o,w!==null?w.baseLanes|u:u,u,m)}else w!==null?(Uf(o,w.cachePool),i_(o,w),qi(),o.memoizedState=null):(i!==null&&Uf(o,null),Sy(),qi());return Ar(i,o,b,u),o.child}function xu(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function nN(i,o,u,m,b){var w=yy();return w=w===null?null:{parent:Wt._currentValue,pool:w},o.memoizedState={baseLanes:u,cachePool:w},i!==null&&Uf(o,null),Sy(),s_(o),i!==null&&fl(i,o,m,!0),o.childLanes=b,null}function rh(i,o){return o=ah({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function aN(i,o,u){return Vs(o,i.child,null,u),i=rh(o,o.pendingProps),i.flags|=2,yn(o),o.memoizedState=null,i}function KL(i,o,u){var m=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Xe){if(m.mode==="hidden")return i=rh(o,m),o.lanes=536870912,xu(null,i);if(Ny(o),(i=Nt)?(i=gO(i,In),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Mi!==null?{id:ha,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},u=zS(i),u.return=o,o.child=u,Or=o,Nt=null)):i=null,i===null)throw Ii(o);return o.lanes=536870912,null}return rh(o,m)}var w=i.memoizedState;if(w!==null){var E=w.dehydrated;if(Ny(o),b)if(o.flags&256)o.flags&=-257,o=aN(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(Zt||fl(i,o,u,!1),b=(u&i.childLanes)!==0,Zt||b){if(m=xt,m!==null&&(E=G1(m,u),E!==0&&E!==w.retryLane))throw w.retryLane=E,$s(i,E),rn(m,i,E),Hy;hh(),o=aN(i,o,u)}else i=w.treeContext,Nt=Bn(E.nextSibling),Or=o,Xe=!0,Ri=null,In=!1,i!==null&&FS(o,i),o=rh(o,m),o.flags|=4096;return o}return i=La(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function nh(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Vy(i,o,u,m,b){return Ks(o),u=Ey(i,o,u,m,void 0,b),m=Ay(),i!==null&&!Zt?(Cy(i,o,b),Ka(i,o,b)):(Xe&&m&&ly(o),o.flags|=1,Ar(i,o,u,b),o.child)}function iN(i,o,u,m,b,w){return Ks(o),o.updateQueue=null,u=l_(o,m,u,b),o_(i),m=Ay(),i!==null&&!Zt?(Cy(i,o,w),Ka(i,o,w)):(Xe&&m&&ly(o),o.flags|=1,Ar(i,o,u,w),o.child)}function sN(i,o,u,m,b){if(Ks(o),o.stateNode===null){var w=ll,E=u.contextType;typeof E=="object"&&E!==null&&(w=Er(E)),w=new u(m,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Fy,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=m,w.state=o.memoizedState,w.refs={},by(o),E=u.contextType,w.context=typeof E=="object"&&E!==null?Er(E):ll,w.state=o.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(Ky(o,u,E,m),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(E=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),E!==w.state&&Fy.enqueueReplaceState(w,w.state,null),pu(o,m,w,b),mu(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){w=o.stateNode;var P=o.memoizedProps,$=Ys(u,P);w.props=$;var X=w.context,le=u.contextType;E=ll,typeof le=="object"&&le!==null&&(E=Er(le));var he=u.getDerivedStateFromProps;le=typeof he=="function"||typeof w.getSnapshotBeforeUpdate=="function",P=o.pendingProps!==P,le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P||X!==E)&&H_(o,w,m,E),Bi=!1;var Z=o.memoizedState;w.state=Z,pu(o,m,w,b),mu(),X=o.memoizedState,P||Z!==X||Bi?(typeof he=="function"&&(Ky(o,u,he,m),X=o.memoizedState),($=Bi||Q_(o,u,$,m,Z,X,E))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=X),w.props=m,w.state=X,w.context=E,m=$):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{w=o.stateNode,xy(i,o),E=o.memoizedProps,le=Ys(u,E),w.props=le,he=o.pendingProps,Z=w.context,X=u.contextType,$=ll,typeof X=="object"&&X!==null&&($=Er(X)),P=u.getDerivedStateFromProps,(X=typeof P=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==he||Z!==$)&&H_(o,w,m,$),Bi=!1,Z=o.memoizedState,w.state=Z,pu(o,m,w,b),mu();var re=o.memoizedState;E!==he||Z!==re||Bi||i!==null&&i.dependencies!==null&&Bf(i.dependencies)?(typeof P=="function"&&(Ky(o,u,P,m),re=o.memoizedState),(le=Bi||Q_(o,u,le,m,Z,re,$)||i!==null&&i.dependencies!==null&&Bf(i.dependencies))?(X||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,re,$),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,re,$)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||E===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=re),w.props=m,w.state=re,w.context=$,m=le):(typeof w.componentDidUpdate!="function"||E===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),m=!1)}return w=m,nh(i,o),m=(o.flags&128)!==0,w||m?(w=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,i!==null&&m?(o.child=Vs(o,i.child,null,b),o.child=Vs(o,null,u,b)):Ar(i,o,u,b),o.memoizedState=w.state,i=o.child):i=Ka(i,o,b),i}function oN(i,o,u,m){return zs(),o.flags|=256,Ar(i,o,u,m),o.child}var Gy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yy(i){return{baseLanes:i,cachePool:WS()}}function Wy(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=bn),i}function lN(i,o,u){var m=o.pendingProps,b=!1,w=(o.flags&128)!==0,E;if((E=w)||(E=i!==null&&i.memoizedState===null?!1:(Vt.current&2)!==0),E&&(b=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,i===null){if(Xe){if(b?zi(o):qi(),(i=Nt)?(i=gO(i,In),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Mi!==null?{id:ha,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},u=zS(i),u.return=o,o.child=u,Or=o,Nt=null)):i=null,i===null)throw Ii(o);return Tv(i)?o.lanes=32:o.lanes=536870912,null}var P=m.children;return m=m.fallback,b?(qi(),b=o.mode,P=ah({mode:"hidden",children:P},b),m=Us(m,b,u,null),P.return=o,m.return=o,P.sibling=m,o.child=P,m=o.child,m.memoizedState=Yy(u),m.childLanes=Wy(i,E,u),o.memoizedState=Gy,xu(null,m)):(zi(o),Xy(o,P))}var $=i.memoizedState;if($!==null&&(P=$.dehydrated,P!==null)){if(w)o.flags&256?(zi(o),o.flags&=-257,o=Zy(i,o,u)):o.memoizedState!==null?(qi(),o.child=i.child,o.flags|=128,o=null):(qi(),P=m.fallback,b=o.mode,m=ah({mode:"visible",children:m.children},b),P=Us(P,b,u,null),P.flags|=2,m.return=o,P.return=o,m.sibling=P,o.child=m,Vs(o,i.child,null,u),m=o.child,m.memoizedState=Yy(u),m.childLanes=Wy(i,E,u),o.memoizedState=Gy,o=xu(null,m));else if(zi(o),Tv(P)){if(E=P.nextSibling&&P.nextSibling.dataset,E)var X=E.dgst;E=X,m=Error(n(419)),m.stack="",m.digest=E,lu({value:m,source:null,stack:null}),o=Zy(i,o,u)}else if(Zt||fl(i,o,u,!1),E=(u&i.childLanes)!==0,Zt||E){if(E=xt,E!==null&&(m=G1(E,u),m!==0&&m!==$.retryLane))throw $.retryLane=m,$s(i,m),rn(E,i,m),Hy;Pv(P)||hh(),o=Zy(i,o,u)}else Pv(P)?(o.flags|=192,o.child=i.child,o=null):(i=$.treeContext,Nt=Bn(P.nextSibling),Or=o,Xe=!0,Ri=null,In=!1,i!==null&&FS(o,i),o=Xy(o,m.children),o.flags|=4096);return o}return b?(qi(),P=m.fallback,b=o.mode,$=i.child,X=$.sibling,m=La($,{mode:"hidden",children:m.children}),m.subtreeFlags=$.subtreeFlags&65011712,X!==null?P=La(X,P):(P=Us(P,b,u,null),P.flags|=2),P.return=o,m.return=o,m.sibling=P,o.child=m,xu(null,m),m=o.child,P=i.child.memoizedState,P===null?P=Yy(u):(b=P.cachePool,b!==null?($=Wt._currentValue,b=b.parent!==$?{parent:$,pool:$}:b):b=WS(),P={baseLanes:P.baseLanes|u,cachePool:b}),m.memoizedState=P,m.childLanes=Wy(i,E,u),o.memoizedState=Gy,xu(i.child,m)):(zi(o),u=i.child,i=u.sibling,u=La(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(E=o.deletions,E===null?(o.deletions=[i],o.flags|=16):E.push(i)),o.child=u,o.memoizedState=null,u)}function Xy(i,o){return o=ah({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function ah(i,o){return i=pn(22,i,null,o),i.lanes=0,i}function Zy(i,o,u){return Vs(o,i.child,null,u),i=Xy(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function cN(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),hy(i.return,o,u)}function Jy(i,o,u,m,b,w){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:b,treeForkCount:w}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=u,E.tailMode=b,E.treeForkCount=w)}function uN(i,o,u){var m=o.pendingProps,b=m.revealOrder,w=m.tail;m=m.children;var E=Vt.current,P=(E&2)!==0;if(P?(E=E&1|2,o.flags|=128):E&=1,me(Vt,E),Ar(i,o,m,u),m=Xe?ou:0,!P&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cN(i,u,o);else if(i.tag===19)cN(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(u=o.child,b=null;u!==null;)i=u.alternate,i!==null&&Hf(i)===null&&(b=u),u=u.sibling;u=b,u===null?(b=o.child,o.child=null):(b=u.sibling,u.sibling=null),Jy(o,!1,b,u,w,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&Hf(i)===null){o.child=b;break}i=b.sibling,b.sibling=u,u=b,b=i}Jy(o,!0,u,null,w,m);break;case"together":Jy(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function Ka(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Qi|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(fl(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=La(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=La(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function ev(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Bf(i)))}function FL(i,o,u){switch(o.tag){case 3:te(o,o.stateNode.containerInfo),Li(o,Wt,i.memoizedState.cache),zs();break;case 27:case 5:de(o);break;case 4:te(o,o.stateNode.containerInfo);break;case 10:Li(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Ny(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(zi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?lN(i,o,u):(zi(o),i=Ka(i,o,u),i!==null?i.sibling:null);zi(o);break;case 19:var b=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(fl(i,o,u,!1),m=(u&o.childLanes)!==0),b){if(m)return uN(i,o,u);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),me(Vt,Vt.current),m)break;return null;case 22:return o.lanes=0,rN(i,o,u,o.pendingProps);case 24:Li(o,Wt,i.memoizedState.cache)}return Ka(i,o,u)}function dN(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Zt=!0;else{if(!ev(i,u)&&(o.flags&128)===0)return Zt=!1,FL(i,o,u);Zt=(i.flags&131072)!==0}else Zt=!1,Xe&&(o.flags&1048576)!==0&&KS(o,ou,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=Qs(o.elementType),o.type=i,typeof i=="function")iy(i)?(m=Ys(i,m),o.tag=1,o=sN(null,o,i,m,u)):(o.tag=0,o=Vy(null,o,i,m,u));else{if(i!=null){var b=i.$$typeof;if(b===C){o.tag=11,o=J_(null,o,i,m,u);break e}else if(b===D){o.tag=14,o=eN(null,o,i,m,u);break e}}throw o=H(i)||i,Error(n(306,o,""))}}return o;case 0:return Vy(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,b=Ys(m,o.pendingProps),sN(i,o,m,b,u);case 3:e:{if(te(o,o.stateNode.containerInfo),i===null)throw Error(n(387));m=o.pendingProps;var w=o.memoizedState;b=w.element,xy(i,o),pu(o,m,null,u);var E=o.memoizedState;if(m=E.cache,Li(o,Wt,m),m!==w.cache&&my(o,[Wt],u,!0),mu(),m=E.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=oN(i,o,m,u);break e}else if(m!==b){b=Dn(Error(n(424)),o),lu(b),o=oN(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Nt=Bn(i.firstChild),Or=o,Xe=!0,Ri=null,In=!0,u=r_(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(zs(),m===b){o=Ka(i,o,u);break e}Ar(i,o,m,u)}o=o.child}return o;case 26:return nh(i,o),i===null?(u=jO(o.type,null,o.pendingProps,null))?o.memoizedState=u:Xe||(u=o.type,i=o.pendingProps,m=xh(ke.current).createElement(u),m[Nr]=o,m[Wr]=i,Cr(m,u,i),mr(m),o.stateNode=m):o.memoizedState=jO(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return de(o),i===null&&Xe&&(m=o.stateNode=bO(o.type,o.pendingProps,ke.current),Or=o,In=!0,b=Nt,Wi(o.type)?(Dv=b,Nt=Bn(m.firstChild)):Nt=b),Ar(i,o,o.pendingProps.children,u),nh(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Xe&&((b=m=Nt)&&(m=x3(m,o.type,o.pendingProps,In),m!==null?(o.stateNode=m,Or=o,Nt=Bn(m.firstChild),In=!1,b=!0):b=!1),b||Ii(o)),de(o),b=o.type,w=o.pendingProps,E=i!==null?i.memoizedProps:null,m=w.children,Av(b,w)?m=null:E!==null&&Av(b,E)&&(o.flags|=32),o.memoizedState!==null&&(b=Ey(i,o,RL,null,null,u),Ru._currentValue=b),nh(i,o),Ar(i,o,m,u),o.child;case 6:return i===null&&Xe&&((i=u=Nt)&&(u=w3(u,o.pendingProps,In),u!==null?(o.stateNode=u,Or=o,Nt=null,i=!0):i=!1),i||Ii(o)),null;case 13:return lN(i,o,u);case 4:return te(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Vs(o,null,m,u):Ar(i,o,m,u),o.child;case 11:return J_(i,o,o.type,o.pendingProps,u);case 7:return Ar(i,o,o.pendingProps,u),o.child;case 8:return Ar(i,o,o.pendingProps.children,u),o.child;case 12:return Ar(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,Li(o,o.type,m.value),Ar(i,o,m.children,u),o.child;case 9:return b=o.type._context,m=o.pendingProps.children,Ks(o),b=Er(b),m=m(b),o.flags|=1,Ar(i,o,m,u),o.child;case 14:return eN(i,o,o.type,o.pendingProps,u);case 15:return tN(i,o,o.type,o.pendingProps,u);case 19:return uN(i,o,u);case 31:return KL(i,o,u);case 22:return rN(i,o,u,o.pendingProps);case 24:return Ks(o),m=Er(Wt),i===null?(b=yy(),b===null&&(b=xt,w=py(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=u),b=w),o.memoizedState={parent:m,cache:b},by(o),Li(o,Wt,b)):((i.lanes&u)!==0&&(xy(i,o),pu(o,null,null,u),mu()),b=i.memoizedState,w=o.memoizedState,b.parent!==m?(b={parent:m,cache:m},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),Li(o,Wt,m)):(m=w.cache,Li(o,Wt,m),m!==b.cache&&my(o,[Wt],u,!0))),Ar(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Fa(i){i.flags|=4}function tv(i,o,u,m,b){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(BN())i.flags|=8192;else throw Hs=qf,vy}else i.flags&=-16777217}function fN(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!EO(o))if(BN())i.flags|=8192;else throw Hs=qf,vy}function ih(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Q1():536870912,i.lanes|=o,_l|=o)}function wu(i,o){if(!Xe)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Ot(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var b=i.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function QL(i,o,u){var m=o.pendingProps;switch(cy(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(o),null;case 1:return Ot(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Ua(Wt),R(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(dl(o)?Fa(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,dy())),Ot(o),null;case 26:var b=o.type,w=o.memoizedState;return i===null?(Fa(o),w!==null?(Ot(o),fN(o,w)):(Ot(o),tv(o,b,null,m,u))):w?w!==i.memoizedState?(Fa(o),Ot(o),fN(o,w)):(Ot(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&Fa(o),Ot(o),tv(o,b,i,m,u)),null;case 27:if(ge(o),u=ke.current,b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&Fa(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Ot(o),null}i=pe.current,dl(o)?QS(o):(i=bO(b,m,u),o.stateNode=i,Fa(o))}return Ot(o),null;case 5:if(ge(o),b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&Fa(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Ot(o),null}if(w=pe.current,dl(o))QS(o);else{var E=xh(ke.current);switch(w){case 1:w=E.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=E.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=E.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=E.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=E.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?E.createElement("select",{is:m.is}):E.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?E.createElement(b,{is:m.is}):E.createElement(b)}}w[Nr]=o,w[Wr]=m;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)w.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=w;e:switch(Cr(w,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Fa(o)}}return Ot(o),tv(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&Fa(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(i=ke.current,dl(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,b=Or,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}i[Nr]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||lO(i.nodeValue,u)),i||Ii(o,!0)}else i=xh(i).createTextNode(m),i[Nr]=o,o.stateNode=i}return Ot(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=dl(o),u!==null){if(i===null){if(!m)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Nr]=o}else zs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),i=!1}else u=dy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(yn(o),o):(yn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Ot(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=dl(o),m!==null&&m.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Nr]=o}else zs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),b=!1}else b=dy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(yn(o),o):(yn(o),null)}return yn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==b&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),ih(o,o.updateQueue),Ot(o),null);case 4:return R(),i===null&&Sv(o.stateNode.containerInfo),Ot(o),null;case 10:return Ua(o.type),Ot(o),null;case 19:if(V(Vt),m=o.memoizedState,m===null)return Ot(o),null;if(b=(o.flags&128)!==0,w=m.rendering,w===null)if(b)wu(m,!1);else{if(Ut!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(w=Hf(i),w!==null){for(o.flags|=128,wu(m,!1),i=w.updateQueue,o.updateQueue=i,ih(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)US(u,i),u=u.sibling;return me(Vt,Vt.current&1|2),Xe&&Ba(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&ut()>uh&&(o.flags|=128,b=!0,wu(m,!1),o.lanes=4194304)}else{if(!b)if(i=Hf(w),i!==null){if(o.flags|=128,b=!0,i=i.updateQueue,o.updateQueue=i,ih(o,i),wu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!Xe)return Ot(o),null}else 2*ut()-m.renderingStartTime>uh&&u!==536870912&&(o.flags|=128,b=!0,wu(m,!1),o.lanes=4194304);m.isBackwards?(w.sibling=o.child,o.child=w):(i=m.last,i!==null?i.sibling=w:o.child=w,m.last=w)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=ut(),i.sibling=null,u=Vt.current,me(Vt,b?u&1|2:u&1),Xe&&Ba(o,m.treeForkCount),i):(Ot(o),null);case 22:case 23:return yn(o),_y(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Ot(o),o.subtreeFlags&6&&(o.flags|=8192)):Ot(o),u=o.updateQueue,u!==null&&ih(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&V(Fs),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ua(Wt),Ot(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function HL(i,o){switch(cy(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ua(Wt),R(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return ge(o),null;case 31:if(o.memoizedState!==null){if(yn(o),o.alternate===null)throw Error(n(340));zs()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(yn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));zs()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return V(Vt),null;case 4:return R(),null;case 10:return Ua(o.type),null;case 22:case 23:return yn(o),_y(),i!==null&&V(Fs),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ua(Wt),null;case 25:return null;default:return null}}function hN(i,o){switch(cy(o),o.tag){case 3:Ua(Wt),R();break;case 26:case 27:case 5:ge(o);break;case 4:R();break;case 31:o.memoizedState!==null&&yn(o);break;case 13:yn(o);break;case 19:V(Vt);break;case 10:Ua(o.type);break;case 22:case 23:yn(o),_y(),i!==null&&V(Fs);break;case 24:Ua(Wt)}}function ju(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var b=m.next;u=b;do{if((u.tag&i)===i){m=void 0;var w=u.create,E=u.inst;m=w(),E.destroy=m}u=u.next}while(u!==b)}}catch(P){ft(o,o.return,P)}}function Ki(i,o,u){try{var m=o.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var w=b.next;m=w;do{if((m.tag&i)===i){var E=m.inst,P=E.destroy;if(P!==void 0){E.destroy=void 0,b=o;var $=u,X=P;try{X()}catch(le){ft(b,$,le)}}}m=m.next}while(m!==w)}}catch(le){ft(o,o.return,le)}}function mN(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{a_(o,u)}catch(m){ft(i,i.return,m)}}}function pN(i,o,u){u.props=Ys(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){ft(i,o,m)}}function Su(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(b){ft(i,o,b)}}function pa(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(b){ft(i,o,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){ft(i,o,b)}else u.current=null}function gN(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(b){ft(i,i.return,b)}}function rv(i,o,u){try{var m=i.stateNode;m3(m,i.type,u,o),m[Wr]=o}catch(b){ft(i,i.return,b)}}function yN(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Wi(i.type)||i.tag===4}function nv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||yN(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Wi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function av(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ra));else if(m!==4&&(m===27&&Wi(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(av(i,o,u),i=i.sibling;i!==null;)av(i,o,u),i=i.sibling}function sh(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&Wi(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(sh(i,o,u),i=i.sibling;i!==null;)sh(i,o,u),i=i.sibling}function vN(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);Cr(o,m,u),o[Nr]=i,o[Wr]=u}catch(w){ft(i,i.return,w)}}var Qa=!1,Jt=!1,iv=!1,bN=typeof WeakSet=="function"?WeakSet:Set,pr=null;function VL(i,o){if(i=i.containerInfo,Ov=Eh,i=PS(i),Zg(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var b=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var E=0,P=-1,$=-1,X=0,le=0,he=i,Z=null;t:for(;;){for(var re;he!==u||b!==0&&he.nodeType!==3||(P=E+b),he!==w||m!==0&&he.nodeType!==3||($=E+m),he.nodeType===3&&(E+=he.nodeValue.length),(re=he.firstChild)!==null;)Z=he,he=re;for(;;){if(he===i)break t;if(Z===u&&++X===b&&(P=E),Z===w&&++le===m&&($=E),(re=he.nextSibling)!==null)break;he=Z,Z=he.parentNode}he=re}u=P===-1||$===-1?null:{start:P,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ev={focusedElem:i,selectionRange:u},Eh=!1,pr=o;pr!==null;)if(o=pr,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,pr=i;else for(;pr!==null;){switch(o=pr,w=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)b=i[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,u=o,b=w.memoizedProps,w=w.memoizedState,m=u.stateNode;try{var _e=Ys(u.type,b);i=m.getSnapshotBeforeUpdate(_e,w),m.__reactInternalSnapshotBeforeUpdate=i}catch(De){ft(u,u.return,De)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)kv(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":kv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,pr=i;break}pr=o.return}}function xN(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Va(i,u),m&4&&ju(5,u);break;case 1:if(Va(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(E){ft(u,u.return,E)}else{var b=Ys(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(b,o,i.__reactInternalSnapshotBeforeUpdate)}catch(E){ft(u,u.return,E)}}m&64&&mN(u),m&512&&Su(u,u.return);break;case 3:if(Va(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{a_(i,o)}catch(E){ft(u,u.return,E)}}break;case 27:o===null&&m&4&&vN(u);case 26:case 5:Va(i,u),o===null&&m&4&&gN(u),m&512&&Su(u,u.return);break;case 12:Va(i,u);break;case 31:Va(i,u),m&4&&SN(i,u);break;case 13:Va(i,u),m&4&&_N(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=r3.bind(null,u),j3(i,u))));break;case 22:if(m=u.memoizedState!==null||Qa,!m){o=o!==null&&o.memoizedState!==null||Jt,b=Qa;var w=Jt;Qa=m,(Jt=o)&&!w?Ga(i,u,(u.subtreeFlags&8772)!==0):Va(i,u),Qa=b,Jt=w}break;case 30:break;default:Va(i,u)}}function wN(i){var o=i.alternate;o!==null&&(i.alternate=null,wN(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Rg(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Pt=null,Zr=!1;function Ha(i,o,u){for(u=u.child;u!==null;)jN(i,o,u),u=u.sibling}function jN(i,o,u){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Vc,u)}catch{}switch(u.tag){case 26:Jt||pa(u,o),Ha(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Jt||pa(u,o);var m=Pt,b=Zr;Wi(u.type)&&(Pt=u.stateNode,Zr=!1),Ha(i,o,u),Tu(u.stateNode),Pt=m,Zr=b;break;case 5:Jt||pa(u,o);case 6:if(m=Pt,b=Zr,Pt=null,Ha(i,o,u),Pt=m,Zr=b,Pt!==null)if(Zr)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(u.stateNode)}catch(w){ft(u,o,w)}else try{Pt.removeChild(u.stateNode)}catch(w){ft(u,o,w)}break;case 18:Pt!==null&&(Zr?(i=Pt,mO(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Tl(i)):mO(Pt,u.stateNode));break;case 4:m=Pt,b=Zr,Pt=u.stateNode.containerInfo,Zr=!0,Ha(i,o,u),Pt=m,Zr=b;break;case 0:case 11:case 14:case 15:Ki(2,u,o),Jt||Ki(4,u,o),Ha(i,o,u);break;case 1:Jt||(pa(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&pN(u,o,m)),Ha(i,o,u);break;case 21:Ha(i,o,u);break;case 22:Jt=(m=Jt)||u.memoizedState!==null,Ha(i,o,u),Jt=m;break;default:Ha(i,o,u)}}function SN(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Tl(i)}catch(u){ft(o,o.return,u)}}}function _N(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Tl(i)}catch(u){ft(o,o.return,u)}}function GL(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new bN),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new bN),o;default:throw Error(n(435,i.tag))}}function oh(i,o){var u=GL(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var b=n3.bind(null,i,m);m.then(b,b)}})}function Jr(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var b=u[m],w=i,E=o,P=E;e:for(;P!==null;){switch(P.tag){case 27:if(Wi(P.type)){Pt=P.stateNode,Zr=!1;break e}break;case 5:Pt=P.stateNode,Zr=!1;break e;case 3:case 4:Pt=P.stateNode.containerInfo,Zr=!0;break e}P=P.return}if(Pt===null)throw Error(n(160));jN(w,E,b),Pt=null,Zr=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)NN(o,i),o=o.sibling}var Zn=null;function NN(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Jr(o,i),en(i),m&4&&(Ki(3,i,i.return),ju(3,i),Ki(5,i,i.return));break;case 1:Jr(o,i),en(i),m&512&&(Jt||u===null||pa(u,u.return)),m&64&&Qa&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var b=Zn;if(Jr(o,i),en(i),m&512&&(Jt||u===null||pa(u,u.return)),m&4){var w=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":w=b.getElementsByTagName("title")[0],(!w||w[Wc]||w[Nr]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(m),b.head.insertBefore(w,b.querySelector("head > title"))),Cr(w,m,u),w[Nr]=i,mr(w),m=w;break e;case"link":var E=NO("link","href",b).get(m+(u.href||""));if(E){for(var P=0;P<E.length;P++)if(w=E[P],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){E.splice(P,1);break t}}w=b.createElement(m),Cr(w,m,u),b.head.appendChild(w);break;case"meta":if(E=NO("meta","content",b).get(m+(u.content||""))){for(P=0;P<E.length;P++)if(w=E[P],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){E.splice(P,1);break t}}w=b.createElement(m),Cr(w,m,u),b.head.appendChild(w);break;default:throw Error(n(468,m))}w[Nr]=i,mr(w),m=w}i.stateNode=m}else OO(b,i.type,i.stateNode);else i.stateNode=_O(b,m,i.memoizedProps);else w!==m?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,m===null?OO(b,i.type,i.stateNode):_O(b,m,i.memoizedProps)):m===null&&i.stateNode!==null&&rv(i,i.memoizedProps,u.memoizedProps)}break;case 27:Jr(o,i),en(i),m&512&&(Jt||u===null||pa(u,u.return)),u!==null&&m&4&&rv(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Jr(o,i),en(i),m&512&&(Jt||u===null||pa(u,u.return)),i.flags&32){b=i.stateNode;try{tl(b,"")}catch(_e){ft(i,i.return,_e)}}m&4&&i.stateNode!=null&&(b=i.memoizedProps,rv(i,b,u!==null?u.memoizedProps:b)),m&1024&&(iv=!0);break;case 6:if(Jr(o,i),en(i),m&4){if(i.stateNode===null)throw Error(n(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(_e){ft(i,i.return,_e)}}break;case 3:if(Sh=null,b=Zn,Zn=wh(o.containerInfo),Jr(o,i),Zn=b,en(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Tl(o.containerInfo)}catch(_e){ft(i,i.return,_e)}iv&&(iv=!1,ON(i));break;case 4:m=Zn,Zn=wh(i.stateNode.containerInfo),Jr(o,i),en(i),Zn=m;break;case 12:Jr(o,i),en(i);break;case 31:Jr(o,i),en(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,oh(i,m)));break;case 13:Jr(o,i),en(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ch=ut()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,oh(i,m)));break;case 22:b=i.memoizedState!==null;var $=u!==null&&u.memoizedState!==null,X=Qa,le=Jt;if(Qa=X||b,Jt=le||$,Jr(o,i),Jt=le,Qa=X,en(i),m&8192)e:for(o=i.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(u===null||$||Qa||Jt||Ws(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){$=u=o;try{if(w=$.stateNode,b)E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{P=$.stateNode;var he=$.memoizedProps.style,Z=he!=null&&he.hasOwnProperty("display")?he.display:null;P.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(_e){ft($,$.return,_e)}}}else if(o.tag===6){if(u===null){$=o;try{$.stateNode.nodeValue=b?"":$.memoizedProps}catch(_e){ft($,$.return,_e)}}}else if(o.tag===18){if(u===null){$=o;try{var re=$.stateNode;b?pO(re,!0):pO($.stateNode,!1)}catch(_e){ft($,$.return,_e)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,oh(i,u))));break;case 19:Jr(o,i),en(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,oh(i,m)));break;case 30:break;case 21:break;default:Jr(o,i),en(i)}}function en(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(yN(m)){u=m;break}m=m.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var b=u.stateNode,w=nv(i);sh(i,w,b);break;case 5:var E=u.stateNode;u.flags&32&&(tl(E,""),u.flags&=-33);var P=nv(i);sh(i,P,E);break;case 3:case 4:var $=u.stateNode.containerInfo,X=nv(i);av(i,X,$);break;default:throw Error(n(161))}}catch(le){ft(i,i.return,le)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function ON(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;ON(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Va(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)xN(i,o.alternate,o),o=o.sibling}function Ws(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Ki(4,o,o.return),Ws(o);break;case 1:pa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&pN(o,o.return,u),Ws(o);break;case 27:Tu(o.stateNode);case 26:case 5:pa(o,o.return),Ws(o);break;case 22:o.memoizedState===null&&Ws(o);break;case 30:Ws(o);break;default:Ws(o)}i=i.sibling}}function Ga(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,b=i,w=o,E=w.flags;switch(w.tag){case 0:case 11:case 15:Ga(b,w,u),ju(4,w);break;case 1:if(Ga(b,w,u),m=w,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(X){ft(m,m.return,X)}if(m=w,b=m.updateQueue,b!==null){var P=m.stateNode;try{var $=b.shared.hiddenCallbacks;if($!==null)for(b.shared.hiddenCallbacks=null,b=0;b<$.length;b++)n_($[b],P)}catch(X){ft(m,m.return,X)}}u&&E&64&&mN(w),Su(w,w.return);break;case 27:vN(w);case 26:case 5:Ga(b,w,u),u&&m===null&&E&4&&gN(w),Su(w,w.return);break;case 12:Ga(b,w,u);break;case 31:Ga(b,w,u),u&&E&4&&SN(b,w);break;case 13:Ga(b,w,u),u&&E&4&&_N(b,w);break;case 22:w.memoizedState===null&&Ga(b,w,u),Su(w,w.return);break;case 30:break;default:Ga(b,w,u)}o=o.sibling}}function sv(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&cu(u))}function ov(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&cu(i))}function Jn(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)EN(i,o,u,m),o=o.sibling}function EN(i,o,u,m){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Jn(i,o,u,m),b&2048&&ju(9,o);break;case 1:Jn(i,o,u,m);break;case 3:Jn(i,o,u,m),b&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&cu(i)));break;case 12:if(b&2048){Jn(i,o,u,m),i=o.stateNode;try{var w=o.memoizedProps,E=w.id,P=w.onPostCommit;typeof P=="function"&&P(E,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch($){ft(o,o.return,$)}}else Jn(i,o,u,m);break;case 31:Jn(i,o,u,m);break;case 13:Jn(i,o,u,m);break;case 23:break;case 22:w=o.stateNode,E=o.alternate,o.memoizedState!==null?w._visibility&2?Jn(i,o,u,m):_u(i,o):w._visibility&2?Jn(i,o,u,m):(w._visibility|=2,wl(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),b&2048&&sv(E,o);break;case 24:Jn(i,o,u,m),b&2048&&ov(o.alternate,o);break;default:Jn(i,o,u,m)}}function wl(i,o,u,m,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=i,E=o,P=u,$=m,X=E.flags;switch(E.tag){case 0:case 11:case 15:wl(w,E,P,$,b),ju(8,E);break;case 23:break;case 22:var le=E.stateNode;E.memoizedState!==null?le._visibility&2?wl(w,E,P,$,b):_u(w,E):(le._visibility|=2,wl(w,E,P,$,b)),b&&X&2048&&sv(E.alternate,E);break;case 24:wl(w,E,P,$,b),b&&X&2048&&ov(E.alternate,E);break;default:wl(w,E,P,$,b)}o=o.sibling}}function _u(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,b=m.flags;switch(m.tag){case 22:_u(u,m),b&2048&&sv(m.alternate,m);break;case 24:_u(u,m),b&2048&&ov(m.alternate,m);break;default:_u(u,m)}o=o.sibling}}var Nu=8192;function jl(i,o,u){if(i.subtreeFlags&Nu)for(i=i.child;i!==null;)AN(i,o,u),i=i.sibling}function AN(i,o,u){switch(i.tag){case 26:jl(i,o,u),i.flags&Nu&&i.memoizedState!==null&&M3(u,Zn,i.memoizedState,i.memoizedProps);break;case 5:jl(i,o,u);break;case 3:case 4:var m=Zn;Zn=wh(i.stateNode.containerInfo),jl(i,o,u),Zn=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=Nu,Nu=16777216,jl(i,o,u),Nu=m):jl(i,o,u));break;default:jl(i,o,u)}}function CN(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Ou(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];pr=m,PN(m,i)}CN(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kN(i),i=i.sibling}function kN(i){switch(i.tag){case 0:case 11:case 15:Ou(i),i.flags&2048&&Ki(9,i,i.return);break;case 3:Ou(i);break;case 12:Ou(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,lh(i)):Ou(i);break;default:Ou(i)}}function lh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];pr=m,PN(m,i)}CN(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Ki(8,o,o.return),lh(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,lh(o));break;default:lh(o)}i=i.sibling}}function PN(i,o){for(;pr!==null;){var u=pr;switch(u.tag){case 0:case 11:case 15:Ki(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:cu(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,pr=m;else e:for(u=i;pr!==null;){m=pr;var b=m.sibling,w=m.return;if(wN(m),m===u){pr=null;break e}if(b!==null){b.return=w,pr=b;break e}pr=w}}}var YL={getCacheForType:function(i){var o=Er(Wt),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return Er(Wt).controller.signal}},WL=typeof WeakMap=="function"?WeakMap:Map,ot=0,xt=null,Ve=null,Ye=0,dt=0,vn=null,Fi=!1,Sl=!1,lv=!1,Ya=0,Ut=0,Qi=0,Xs=0,cv=0,bn=0,_l=0,Eu=null,tn=null,uv=!1,ch=0,TN=0,uh=1/0,dh=null,Hi=null,or=0,Vi=null,Nl=null,Wa=0,dv=0,fv=null,DN=null,Au=0,hv=null;function xn(){return(ot&2)!==0&&Ye!==0?Ye&-Ye:B.T!==null?bv():Y1()}function MN(){if(bn===0)if((Ye&536870912)===0||Xe){var i=bf;bf<<=1,(bf&3932160)===0&&(bf=262144),bn=i}else bn=536870912;return i=gn.current,i!==null&&(i.flags|=32),bn}function rn(i,o,u){(i===xt&&(dt===2||dt===9)||i.cancelPendingCommit!==null)&&(Ol(i,0),Gi(i,Ye,bn,!1)),Yc(i,u),((ot&2)===0||i!==xt)&&(i===xt&&((ot&2)===0&&(Xs|=u),Ut===4&&Gi(i,Ye,bn,!1)),ga(i))}function RN(i,o,u){if((ot&6)!==0)throw Error(n(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||Gc(i,o),b=m?JL(i,o):pv(i,o,!0),w=m;do{if(b===0){Sl&&!m&&Gi(i,o,0,!1);break}else{if(u=i.current.alternate,w&&!XL(u)){b=pv(i,o,!1),w=!1;continue}if(b===2){if(w=o,i.errorRecoveryDisabledLanes&w)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var P=i;b=Eu;var $=P.current.memoizedState.isDehydrated;if($&&(Ol(P,E).flags|=256),E=pv(P,E,!1),E!==2){if(lv&&!$){P.errorRecoveryDisabledLanes|=w,Xs|=w,b=4;break e}w=tn,tn=b,w!==null&&(tn===null?tn=w:tn.push.apply(tn,w))}b=E}if(w=!1,b!==2)continue}}if(b===1){Ol(i,0),Gi(i,o,0,!0);break}e:{switch(m=i,w=b,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Gi(m,o,bn,!Fi);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=ch+300-ut(),10<b)){if(Gi(m,o,bn,!Fi),wf(m,0,!0)!==0)break e;Wa=o,m.timeoutHandle=fO(IN.bind(null,m,u,tn,dh,uv,o,bn,Xs,_l,Fi,w,"Throttled",-0,0),b);break e}IN(m,u,tn,dh,uv,o,bn,Xs,_l,Fi,w,null,-0,0)}}break}while(!0);ga(i)}function IN(i,o,u,m,b,w,E,P,$,X,le,he,Z,re){if(i.timeoutHandle=-1,he=o.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ra},AN(o,w,he);var _e=(w&62914560)===w?ch-ut():(w&4194048)===w?TN-ut():0;if(_e=R3(he,_e),_e!==null){Wa=w,i.cancelPendingCommit=_e(FN.bind(null,i,o,w,u,m,b,E,P,$,le,he,null,Z,re)),Gi(i,w,E,!X);return}}FN(i,o,w,u,m,b,E,P,$)}function XL(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var b=u[m],w=b.getSnapshot;b=b.value;try{if(!mn(w(),b))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Gi(i,o,u,m){o&=~cv,o&=~Xs,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var b=o;0<b;){var w=31-hn(b),E=1<<w;m[w]=-1,b&=~E}u!==0&&H1(i,u,o)}function fh(){return(ot&6)===0?(Cu(0),!1):!0}function mv(){if(Ve!==null){if(dt===0)var i=Ve.return;else i=Ve,$a=qs=null,ky(i),gl=null,du=0,i=Ve;for(;i!==null;)hN(i.alternate,i),i=i.return;Ve=null}}function Ol(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,y3(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Wa=0,mv(),xt=i,Ve=u=La(i.current,null),Ye=o,dt=0,vn=null,Fi=!1,Sl=Gc(i,o),lv=!1,_l=bn=cv=Xs=Qi=Ut=0,tn=Eu=null,uv=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var b=31-hn(m),w=1<<b;o|=i[b],m&=~w}return Ya=o,Df(),u}function LN(i,o){Ue=null,B.H=bu,o===pl||o===zf?(o=JS(),dt=3):o===vy?(o=JS(),dt=4):dt=o===Hy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,vn=o,Ve===null&&(Ut=1,th(i,Dn(o,i.current)))}function BN(){var i=gn.current;return i===null?!0:(Ye&4194048)===Ye?Ln===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?i===Ln:!1}function $N(){var i=B.H;return B.H=bu,i===null?bu:i}function UN(){var i=B.A;return B.A=YL,i}function hh(){Ut=4,Fi||(Ye&4194048)!==Ye&&gn.current!==null||(Sl=!0),(Qi&134217727)===0&&(Xs&134217727)===0||xt===null||Gi(xt,Ye,bn,!1)}function pv(i,o,u){var m=ot;ot|=2;var b=$N(),w=UN();(xt!==i||Ye!==o)&&(dh=null,Ol(i,o)),o=!1;var E=Ut;e:do try{if(dt!==0&&Ve!==null){var P=Ve,$=vn;switch(dt){case 8:mv(),E=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(o=!0);var X=dt;if(dt=0,vn=null,El(i,P,$,X),u&&Sl){E=0;break e}break;default:X=dt,dt=0,vn=null,El(i,P,$,X)}}ZL(),E=Ut;break}catch(le){LN(i,le)}while(!0);return o&&i.shellSuspendCounter++,$a=qs=null,ot=m,B.H=b,B.A=w,Ve===null&&(xt=null,Ye=0,Df()),E}function ZL(){for(;Ve!==null;)zN(Ve)}function JL(i,o){var u=ot;ot|=2;var m=$N(),b=UN();xt!==i||Ye!==o?(dh=null,uh=ut()+500,Ol(i,o)):Sl=Gc(i,o);e:do try{if(dt!==0&&Ve!==null){o=Ve;var w=vn;t:switch(dt){case 1:dt=0,vn=null,El(i,o,w,1);break;case 2:case 9:if(XS(w)){dt=0,vn=null,qN(o);break}o=function(){dt!==2&&dt!==9||xt!==i||(dt=7),ga(i)},w.then(o,o);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:XS(w)?(dt=0,vn=null,qN(o)):(dt=0,vn=null,El(i,o,w,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var P=Ve;if(E?EO(E):P.stateNode.complete){dt=0,vn=null;var $=P.sibling;if($!==null)Ve=$;else{var X=P.return;X!==null?(Ve=X,mh(X)):Ve=null}break t}}dt=0,vn=null,El(i,o,w,5);break;case 6:dt=0,vn=null,El(i,o,w,6);break;case 8:mv(),Ut=6;break e;default:throw Error(n(462))}}e3();break}catch(le){LN(i,le)}while(!0);return $a=qs=null,B.H=m,B.A=b,ot=u,Ve!==null?0:(xt=null,Ye=0,Df(),Ut)}function e3(){for(;Ve!==null&&!Yr();)zN(Ve)}function zN(i){var o=dN(i.alternate,i,Ya);i.memoizedProps=i.pendingProps,o===null?mh(i):Ve=o}function qN(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=iN(u,o,o.pendingProps,o.type,void 0,Ye);break;case 11:o=iN(u,o,o.pendingProps,o.type.render,o.ref,Ye);break;case 5:ky(o);default:hN(u,o),o=Ve=US(o,Ya),o=dN(u,o,Ya)}i.memoizedProps=i.pendingProps,o===null?mh(i):Ve=o}function El(i,o,u,m){$a=qs=null,ky(o),gl=null,du=0;var b=o.return;try{if(qL(i,b,o,u,Ye)){Ut=1,th(i,Dn(u,i.current)),Ve=null;return}}catch(w){if(b!==null)throw Ve=b,w;Ut=1,th(i,Dn(u,i.current)),Ve=null;return}o.flags&32768?(Xe||m===1?i=!0:Sl||(Ye&536870912)!==0?i=!1:(Fi=i=!0,(m===2||m===9||m===3||m===6)&&(m=gn.current,m!==null&&m.tag===13&&(m.flags|=16384))),KN(o,i)):mh(o)}function mh(i){var o=i;do{if((o.flags&32768)!==0){KN(o,Fi);return}i=o.return;var u=QL(o.alternate,o,Ya);if(u!==null){Ve=u;return}if(o=o.sibling,o!==null){Ve=o;return}Ve=o=i}while(o!==null);Ut===0&&(Ut=5)}function KN(i,o){do{var u=HL(i.alternate,i);if(u!==null){u.flags&=32767,Ve=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=u}while(i!==null);Ut=6,Ve=null}function FN(i,o,u,m,b,w,E,P,$){i.cancelPendingCommit=null;do ph();while(or!==0);if((ot&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=ny,D5(i,u,w,E,P,$),i===xt&&(Ve=xt=null,Ye=0),Nl=o,Vi=i,Wa=u,dv=w,fv=b,DN=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,a3(Ds,function(){return YN(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=B.T,B.T=null,b=U.p,U.p=2,E=ot,ot|=4;try{VL(i,o,u)}finally{ot=E,U.p=b,B.T=m}}or=1,QN(),HN(),VN()}}function QN(){if(or===1){or=0;var i=Vi,o=Nl,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var m=U.p;U.p=2;var b=ot;ot|=4;try{NN(o,i);var w=Ev,E=PS(i.containerInfo),P=w.focusedElem,$=w.selectionRange;if(E!==P&&P&&P.ownerDocument&&kS(P.ownerDocument.documentElement,P)){if($!==null&&Zg(P)){var X=$.start,le=$.end;if(le===void 0&&(le=X),"selectionStart"in P)P.selectionStart=X,P.selectionEnd=Math.min(le,P.value.length);else{var he=P.ownerDocument||document,Z=he&&he.defaultView||window;if(Z.getSelection){var re=Z.getSelection(),_e=P.textContent.length,De=Math.min($.start,_e),yt=$.end===void 0?De:Math.min($.end,_e);!re.extend&&De>yt&&(E=yt,yt=De,De=E);var F=CS(P,De),q=CS(P,yt);if(F&&q&&(re.rangeCount!==1||re.anchorNode!==F.node||re.anchorOffset!==F.offset||re.focusNode!==q.node||re.focusOffset!==q.offset)){var W=he.createRange();W.setStart(F.node,F.offset),re.removeAllRanges(),De>yt?(re.addRange(W),re.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),re.addRange(W))}}}}for(he=[],re=P;re=re.parentNode;)re.nodeType===1&&he.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<he.length;P++){var fe=he[P];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Eh=!!Ov,Ev=Ov=null}finally{ot=b,U.p=m,B.T=u}}i.current=o,or=2}}function HN(){if(or===2){or=0;var i=Vi,o=Nl,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var m=U.p;U.p=2;var b=ot;ot|=4;try{xN(i,o.alternate,o)}finally{ot=b,U.p=m,B.T=u}}or=3}}function VN(){if(or===4||or===3){or=0,sr();var i=Vi,o=Nl,u=Wa,m=DN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?or=5:(or=0,Nl=Vi=null,GN(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Hi=null),Dg(u),o=o.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Vc,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=B.T,b=U.p,U.p=2,B.T=null;try{for(var w=i.onRecoverableError,E=0;E<m.length;E++){var P=m[E];w(P.value,{componentStack:P.stack})}}finally{B.T=o,U.p=b}}(Wa&3)!==0&&ph(),ga(i),b=i.pendingLanes,(u&261930)!==0&&(b&42)!==0?i===hv?Au++:(Au=0,hv=i):Au=0,Cu(0)}}function GN(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,cu(o)))}function ph(){return QN(),HN(),VN(),YN()}function YN(){if(or!==5)return!1;var i=Vi,o=dv;dv=0;var u=Dg(Wa),m=B.T,b=U.p;try{U.p=32>u?32:u,B.T=null,u=fv,fv=null;var w=Vi,E=Wa;if(or=0,Nl=Vi=null,Wa=0,(ot&6)!==0)throw Error(n(331));var P=ot;if(ot|=4,kN(w.current),EN(w,w.current,E,u),ot=P,Cu(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Vc,w)}catch{}return!0}finally{U.p=b,B.T=m,GN(i,o)}}function WN(i,o,u){o=Dn(u,o),o=Qy(i.stateNode,o,2),i=Ui(i,o,2),i!==null&&(Yc(i,2),ga(i))}function ft(i,o,u){if(i.tag===3)WN(i,i,u);else for(;o!==null;){if(o.tag===3){WN(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Hi===null||!Hi.has(m))){i=Dn(u,i),u=X_(2),m=Ui(o,u,2),m!==null&&(Z_(u,m,o,i),Yc(m,2),ga(m));break}}o=o.return}}function gv(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new WL;var b=new Set;m.set(o,b)}else b=m.get(o),b===void 0&&(b=new Set,m.set(o,b));b.has(u)||(lv=!0,b.add(u),i=t3.bind(null,i,o,u),o.then(i,i))}function t3(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,xt===i&&(Ye&u)===u&&(Ut===4||Ut===3&&(Ye&62914560)===Ye&&300>ut()-ch?(ot&2)===0&&Ol(i,0):cv|=u,_l===Ye&&(_l=0)),ga(i)}function XN(i,o){o===0&&(o=Q1()),i=$s(i,o),i!==null&&(Yc(i,o),ga(i))}function r3(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),XN(i,u)}function n3(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,b=i.memoizedState;b!==null&&(u=b.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),XN(i,u)}function a3(i,o){return oe(i,o)}var gh=null,Al=null,yv=!1,yh=!1,vv=!1,Yi=0;function ga(i){i!==Al&&i.next===null&&(Al===null?gh=Al=i:Al=Al.next=i),yh=!0,yv||(yv=!0,s3())}function Cu(i,o){if(!vv&&yh){vv=!0;do for(var u=!1,m=gh;m!==null;){if(i!==0){var b=m.pendingLanes;if(b===0)var w=0;else{var E=m.suspendedLanes,P=m.pingedLanes;w=(1<<31-hn(42|i)+1)-1,w&=b&~(E&~P),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,tO(m,w))}else w=Ye,w=wf(m,m===xt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Gc(m,w)||(u=!0,tO(m,w));m=m.next}while(u);vv=!1}}function i3(){ZN()}function ZN(){yh=yv=!1;var i=0;Yi!==0&&g3()&&(i=Yi);for(var o=ut(),u=null,m=gh;m!==null;){var b=m.next,w=JN(m,o);w===0?(m.next=null,u===null?gh=b:u.next=b,b===null&&(Al=u)):(u=m,(i!==0||(w&3)!==0)&&(yh=!0)),m=b}or!==0&&or!==5||Cu(i),Yi!==0&&(Yi=0)}function JN(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,b=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var E=31-hn(w),P=1<<E,$=b[E];$===-1?((P&u)===0||(P&m)!==0)&&(b[E]=T5(P,o)):$<=o&&(i.expiredLanes|=P),w&=~P}if(o=xt,u=Ye,u=wf(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(dt===2||dt===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&kt(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Gc(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&kt(m),Dg(u)){case 2:case 8:u=Hc;break;case 32:u=Ds;break;case 268435456:u=Go;break;default:u=Ds}return m=eO.bind(null,i),u=oe(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&kt(m),i.callbackPriority=2,i.callbackNode=null,2}function eO(i,o){if(or!==0&&or!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(ph()&&i.callbackNode!==u)return null;var m=Ye;return m=wf(i,i===xt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(RN(i,m,o),JN(i,ut()),i.callbackNode!=null&&i.callbackNode===u?eO.bind(null,i):null)}function tO(i,o){if(ph())return null;RN(i,o,!0)}function s3(){v3(function(){(ot&6)!==0?oe(Qc,i3):ZN()})}function bv(){if(Yi===0){var i=hl;i===0&&(i=vf,vf<<=1,(vf&261888)===0&&(vf=256)),Yi=i}return Yi}function rO(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Nf(""+i)}function nO(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function o3(i,o,u,m,b){if(o==="submit"&&u&&u.stateNode===b){var w=rO((b[Wr]||null).action),E=m.submitter;E&&(o=(o=E[Wr]||null)?rO(o.formAction):E.getAttribute("formAction"),o!==null&&(w=o,E=null));var P=new Cf("action","action",null,m,b);i.push({event:P,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Yi!==0){var $=E?nO(b,E):new FormData(b);$y(u,{pending:!0,data:$,method:b.method,action:w},null,$)}}else typeof w=="function"&&(P.preventDefault(),$=E?nO(b,E):new FormData(b),$y(u,{pending:!0,data:$,method:b.method,action:w},w,$))},currentTarget:b}]})}}for(var xv=0;xv<ry.length;xv++){var wv=ry[xv],l3=wv.toLowerCase(),c3=wv[0].toUpperCase()+wv.slice(1);Xn(l3,"on"+c3)}Xn(MS,"onAnimationEnd"),Xn(RS,"onAnimationIteration"),Xn(IS,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(NL,"onTransitionRun"),Xn(OL,"onTransitionStart"),Xn(EL,"onTransitionCancel"),Xn(LS,"onTransitionEnd"),Jo("onMouseEnter",["mouseout","mouseover"]),Jo("onMouseLeave",["mouseout","mouseover"]),Jo("onPointerEnter",["pointerout","pointerover"]),Jo("onPointerLeave",["pointerout","pointerover"]),Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ku));function aO(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],b=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var E=m.length-1;0<=E;E--){var P=m[E],$=P.instance,X=P.currentTarget;if(P=P.listener,$!==w&&b.isPropagationStopped())break e;w=P,b.currentTarget=X;try{w(b)}catch(le){Tf(le)}b.currentTarget=null,w=$}else for(E=0;E<m.length;E++){if(P=m[E],$=P.instance,X=P.currentTarget,P=P.listener,$!==w&&b.isPropagationStopped())break e;w=P,b.currentTarget=X;try{w(b)}catch(le){Tf(le)}b.currentTarget=null,w=$}}}}function Ge(i,o){var u=o[Mg];u===void 0&&(u=o[Mg]=new Set);var m=i+"__bubble";u.has(m)||(iO(o,i,2,!1),u.add(m))}function jv(i,o,u){var m=0;o&&(m|=4),iO(u,i,m,o)}var vh="_reactListening"+Math.random().toString(36).slice(2);function Sv(i){if(!i[vh]){i[vh]=!0,Z1.forEach(function(u){u!=="selectionchange"&&(u3.has(u)||jv(u,!1,i),jv(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[vh]||(o[vh]=!0,jv("selectionchange",!1,o))}}function iO(i,o,u,m){switch(MO(o)){case 2:var b=B3;break;case 8:b=$3;break;default:b=Bv}u=b.bind(null,o,u,i),b=void 0,!Kg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),m?b!==void 0?i.addEventListener(o,u,{capture:!0,passive:b}):i.addEventListener(o,u,!0):b!==void 0?i.addEventListener(o,u,{passive:b}):i.addEventListener(o,u,!1)}function _v(i,o,u,m,b){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var E=m.tag;if(E===3||E===4){var P=m.stateNode.containerInfo;if(P===b)break;if(E===4)for(E=m.return;E!==null;){var $=E.tag;if(($===3||$===4)&&E.stateNode.containerInfo===b)return;E=E.return}for(;P!==null;){if(E=Wo(P),E===null)return;if($=E.tag,$===5||$===6||$===26||$===27){m=w=E;continue e}P=P.parentNode}}m=m.return}uS(function(){var X=w,le=zg(u),he=[];e:{var Z=BS.get(i);if(Z!==void 0){var re=Cf,_e=i;switch(i){case"keypress":if(Ef(u)===0)break e;case"keydown":case"keyup":re=nL;break;case"focusin":_e="focus",re=Vg;break;case"focusout":_e="blur",re=Vg;break;case"beforeblur":case"afterblur":re=Vg;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=hS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Q5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=sL;break;case MS:case RS:case IS:re=G5;break;case LS:re=lL;break;case"scroll":case"scrollend":re=K5;break;case"wheel":re=uL;break;case"copy":case"cut":case"paste":re=W5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=pS;break;case"toggle":case"beforetoggle":re=fL}var De=(o&4)!==0,yt=!De&&(i==="scroll"||i==="scrollend"),F=De?Z!==null?Z+"Capture":null:Z;De=[];for(var q=X,W;q!==null;){var fe=q;if(W=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||W===null||F===null||(fe=Zc(q,F),fe!=null&&De.push(Pu(q,fe,W))),yt)break;q=q.return}0<De.length&&(Z=new re(Z,_e,null,u,le),he.push({event:Z,listeners:De}))}}if((o&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",Z&&u!==Ug&&(_e=u.relatedTarget||u.fromElement)&&(Wo(_e)||_e[Yo]))break e;if((re||Z)&&(Z=le.window===le?le:(Z=le.ownerDocument)?Z.defaultView||Z.parentWindow:window,re?(_e=u.relatedTarget||u.toElement,re=X,_e=_e?Wo(_e):null,_e!==null&&(yt=s(_e),De=_e.tag,_e!==yt||De!==5&&De!==27&&De!==6)&&(_e=null)):(re=null,_e=X),re!==_e)){if(De=hS,fe="onMouseLeave",F="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(De=pS,fe="onPointerLeave",F="onPointerEnter",q="pointer"),yt=re==null?Z:Xc(re),W=_e==null?Z:Xc(_e),Z=new De(fe,q+"leave",re,u,le),Z.target=yt,Z.relatedTarget=W,fe=null,Wo(le)===X&&(De=new De(F,q+"enter",_e,u,le),De.target=W,De.relatedTarget=yt,fe=De),yt=fe,re&&_e)t:{for(De=d3,F=re,q=_e,W=0,fe=F;fe;fe=De(fe))W++;fe=0;for(var Te=q;Te;Te=De(Te))fe++;for(;0<W-fe;)F=De(F),W--;for(;0<fe-W;)q=De(q),fe--;for(;W--;){if(F===q||q!==null&&F===q.alternate){De=F;break t}F=De(F),q=De(q)}De=null}else De=null;re!==null&&sO(he,Z,re,De,!1),_e!==null&&yt!==null&&sO(he,yt,_e,De,!0)}}e:{if(Z=X?Xc(X):window,re=Z.nodeName&&Z.nodeName.toLowerCase(),re==="select"||re==="input"&&Z.type==="file")var rt=SS;else if(wS(Z))if(_S)rt=jL;else{rt=xL;var Oe=bL}else re=Z.nodeName,!re||re.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&$g(X.elementType)&&(rt=SS):rt=wL;if(rt&&(rt=rt(i,X))){jS(he,rt,u,le);break e}Oe&&Oe(i,Z,X),i==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&Bg(Z,"number",Z.value)}switch(Oe=X?Xc(X):window,i){case"focusin":(wS(Oe)||Oe.contentEditable==="true")&&(il=Oe,Jg=X,su=null);break;case"focusout":su=Jg=il=null;break;case"mousedown":ey=!0;break;case"contextmenu":case"mouseup":case"dragend":ey=!1,TS(he,u,le);break;case"selectionchange":if(_L)break;case"keydown":case"keyup":TS(he,u,le)}var qe;if(Yg)e:{switch(i){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else al?bS(i,u)&&(We="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(We="onCompositionStart");We&&(gS&&u.locale!=="ko"&&(al||We!=="onCompositionStart"?We==="onCompositionEnd"&&al&&(qe=dS()):(Di=le,Fg="value"in Di?Di.value:Di.textContent,al=!0)),Oe=bh(X,We),0<Oe.length&&(We=new mS(We,i,null,u,le),he.push({event:We,listeners:Oe}),qe?We.data=qe:(qe=xS(u),qe!==null&&(We.data=qe)))),(qe=mL?pL(i,u):gL(i,u))&&(We=bh(X,"onBeforeInput"),0<We.length&&(Oe=new mS("onBeforeInput","beforeinput",null,u,le),he.push({event:Oe,listeners:We}),Oe.data=qe)),o3(he,i,X,u,le)}aO(he,o)})}function Pu(i,o,u){return{instance:i,listener:o,currentTarget:u}}function bh(i,o){for(var u=o+"Capture",m=[];i!==null;){var b=i,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=Zc(i,u),b!=null&&m.unshift(Pu(i,b,w)),b=Zc(i,o),b!=null&&m.push(Pu(i,b,w))),i.tag===3)return m;i=i.return}return[]}function d3(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function sO(i,o,u,m,b){for(var w=o._reactName,E=[];u!==null&&u!==m;){var P=u,$=P.alternate,X=P.stateNode;if(P=P.tag,$!==null&&$===m)break;P!==5&&P!==26&&P!==27||X===null||($=X,b?(X=Zc(u,w),X!=null&&E.unshift(Pu(u,X,$))):b||(X=Zc(u,w),X!=null&&E.push(Pu(u,X,$)))),u=u.return}E.length!==0&&i.push({event:o,listeners:E})}var f3=/\r\n?/g,h3=/\u0000|\uFFFD/g;function oO(i){return(typeof i=="string"?i:""+i).replace(f3,`
`).replace(h3,"")}function lO(i,o){return o=oO(o),oO(i)===o}function gt(i,o,u,m,b,w){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||tl(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&tl(i,""+m);break;case"className":Sf(i,"class",m);break;case"tabIndex":Sf(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Sf(i,u,m);break;case"style":lS(i,m,w);break;case"data":if(o!=="object"){Sf(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Nf(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(o!=="input"&&gt(i,o,"name",b.name,b,null),gt(i,o,"formEncType",b.formEncType,b,null),gt(i,o,"formMethod",b.formMethod,b,null),gt(i,o,"formTarget",b.formTarget,b,null)):(gt(i,o,"encType",b.encType,b,null),gt(i,o,"method",b.method,b,null),gt(i,o,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Nf(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=Ra);break;case"onScroll":m!=null&&Ge("scroll",i);break;case"onScrollEnd":m!=null&&Ge("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Nf(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":Ge("beforetoggle",i),Ge("toggle",i),jf(i,"popover",m);break;case"xlinkActuate":Ma(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ma(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ma(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ma(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ma(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ma(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ma(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ma(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ma(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":jf(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=z5.get(u)||u,jf(i,u,m))}}function Nv(i,o,u,m,b,w){switch(u){case"style":lS(i,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof m=="string"?tl(i,m):(typeof m=="number"||typeof m=="bigint")&&tl(i,""+m);break;case"onScroll":m!=null&&Ge("scroll",i);break;case"onScrollEnd":m!=null&&Ge("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!J1.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),o=u.slice(2,b?u.length-7:void 0),w=i[Wr]||null,w=w!=null?w[u]:null,typeof w=="function"&&i.removeEventListener(o,w,b),typeof m=="function")){typeof w!="function"&&w!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,b);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):jf(i,u,m)}}}function Cr(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",i),Ge("load",i);var m=!1,b=!1,w;for(w in u)if(u.hasOwnProperty(w)){var E=u[w];if(E!=null)switch(w){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:gt(i,o,w,E,u,null)}}b&&gt(i,o,"srcSet",u.srcSet,u,null),m&&gt(i,o,"src",u.src,u,null);return;case"input":Ge("invalid",i);var P=w=E=b=null,$=null,X=null;for(m in u)if(u.hasOwnProperty(m)){var le=u[m];if(le!=null)switch(m){case"name":b=le;break;case"type":E=le;break;case"checked":$=le;break;case"defaultChecked":X=le;break;case"value":w=le;break;case"defaultValue":P=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(137,o));break;default:gt(i,o,m,le,u,null)}}aS(i,w,P,$,X,E,b,!1);return;case"select":Ge("invalid",i),m=E=w=null;for(b in u)if(u.hasOwnProperty(b)&&(P=u[b],P!=null))switch(b){case"value":w=P;break;case"defaultValue":E=P;break;case"multiple":m=P;default:gt(i,o,b,P,u,null)}o=w,u=E,i.multiple=!!m,o!=null?el(i,!!m,o,!1):u!=null&&el(i,!!m,u,!0);return;case"textarea":Ge("invalid",i),w=b=m=null;for(E in u)if(u.hasOwnProperty(E)&&(P=u[E],P!=null))switch(E){case"value":m=P;break;case"defaultValue":b=P;break;case"children":w=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(91));break;default:gt(i,o,E,P,u,null)}sS(i,m,b,w);return;case"option":for($ in u)if(u.hasOwnProperty($)&&(m=u[$],m!=null))switch($){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:gt(i,o,$,m,u,null)}return;case"dialog":Ge("beforetoggle",i),Ge("toggle",i),Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":Ge("load",i);break;case"video":case"audio":for(m=0;m<ku.length;m++)Ge(ku[m],i);break;case"image":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"embed":case"source":case"link":Ge("error",i),Ge("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(m=u[X],m!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:gt(i,o,X,m,u,null)}return;default:if($g(o)){for(le in u)u.hasOwnProperty(le)&&(m=u[le],m!==void 0&&Nv(i,o,le,m,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(m=u[P],m!=null&&gt(i,o,P,m,u,null))}function m3(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,E=null,P=null,$=null,X=null,le=null;for(re in u){var he=u[re];if(u.hasOwnProperty(re)&&he!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":$=he;default:m.hasOwnProperty(re)||gt(i,o,re,null,m,he)}}for(var Z in m){var re=m[Z];if(he=u[Z],m.hasOwnProperty(Z)&&(re!=null||he!=null))switch(Z){case"type":w=re;break;case"name":b=re;break;case"checked":X=re;break;case"defaultChecked":le=re;break;case"value":E=re;break;case"defaultValue":P=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,o));break;default:re!==he&&gt(i,o,Z,re,m,he)}}Lg(i,E,P,$,X,le,w,b);return;case"select":re=E=P=Z=null;for(w in u)if($=u[w],u.hasOwnProperty(w)&&$!=null)switch(w){case"value":break;case"multiple":re=$;default:m.hasOwnProperty(w)||gt(i,o,w,null,m,$)}for(b in m)if(w=m[b],$=u[b],m.hasOwnProperty(b)&&(w!=null||$!=null))switch(b){case"value":Z=w;break;case"defaultValue":P=w;break;case"multiple":E=w;default:w!==$&&gt(i,o,b,w,m,$)}o=P,u=E,m=re,Z!=null?el(i,!!u,Z,!1):!!m!=!!u&&(o!=null?el(i,!!u,o,!0):el(i,!!u,u?[]:"",!1));return;case"textarea":re=Z=null;for(P in u)if(b=u[P],u.hasOwnProperty(P)&&b!=null&&!m.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:gt(i,o,P,null,m,b)}for(E in m)if(b=m[E],w=u[E],m.hasOwnProperty(E)&&(b!=null||w!=null))switch(E){case"value":Z=b;break;case"defaultValue":re=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==w&&gt(i,o,E,b,m,w)}iS(i,Z,re);return;case"option":for(var _e in u)if(Z=u[_e],u.hasOwnProperty(_e)&&Z!=null&&!m.hasOwnProperty(_e))switch(_e){case"selected":i.selected=!1;break;default:gt(i,o,_e,null,m,Z)}for($ in m)if(Z=m[$],re=u[$],m.hasOwnProperty($)&&Z!==re&&(Z!=null||re!=null))switch($){case"selected":i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:gt(i,o,$,Z,m,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in u)Z=u[De],u.hasOwnProperty(De)&&Z!=null&&!m.hasOwnProperty(De)&&gt(i,o,De,null,m,Z);for(X in m)if(Z=m[X],re=u[X],m.hasOwnProperty(X)&&Z!==re&&(Z!=null||re!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,o));break;default:gt(i,o,X,Z,m,re)}return;default:if($g(o)){for(var yt in u)Z=u[yt],u.hasOwnProperty(yt)&&Z!==void 0&&!m.hasOwnProperty(yt)&&Nv(i,o,yt,void 0,m,Z);for(le in m)Z=m[le],re=u[le],!m.hasOwnProperty(le)||Z===re||Z===void 0&&re===void 0||Nv(i,o,le,Z,m,re);return}}for(var F in u)Z=u[F],u.hasOwnProperty(F)&&Z!=null&&!m.hasOwnProperty(F)&&gt(i,o,F,null,m,Z);for(he in m)Z=m[he],re=u[he],!m.hasOwnProperty(he)||Z===re||Z==null&&re==null||gt(i,o,he,Z,m,re)}function cO(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var b=u[m],w=b.transferSize,E=b.initiatorType,P=b.duration;if(w&&P&&cO(E)){for(E=0,P=b.responseEnd,m+=1;m<u.length;m++){var $=u[m],X=$.startTime;if(X>P)break;var le=$.transferSize,he=$.initiatorType;le&&cO(he)&&($=$.responseEnd,E+=le*($<P?1:(P-X)/($-X)))}if(--m,o+=8*(w+E)/(b.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ov=null,Ev=null;function xh(i){return i.nodeType===9?i:i.ownerDocument}function uO(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dO(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Av(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Cv=null;function g3(){var i=window.event;return i&&i.type==="popstate"?i===Cv?!1:(Cv=i,!0):(Cv=null,!1)}var fO=typeof setTimeout=="function"?setTimeout:void 0,y3=typeof clearTimeout=="function"?clearTimeout:void 0,hO=typeof Promise=="function"?Promise:void 0,v3=typeof queueMicrotask=="function"?queueMicrotask:typeof hO<"u"?function(i){return hO.resolve(null).then(i).catch(b3)}:fO;function b3(i){setTimeout(function(){throw i})}function Wi(i){return i==="head"}function mO(i,o){var u=o,m=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(b),Tl(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")Tu(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Tu(u);for(var w=u.firstChild;w;){var E=w.nextSibling,P=w.nodeName;w[Wc]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=E}}else u==="body"&&Tu(i.ownerDocument.body);u=b}while(u);Tl(o)}function pO(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function kv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":kv(u),Rg(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function x3(i,o,u,m){for(;i.nodeType===1;){var b=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[Wc])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=Bn(i.nextSibling),i===null)break}return null}function w3(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Bn(i.nextSibling),i===null))return null;return i}function gO(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Bn(i.nextSibling),i===null))return null;return i}function Pv(i){return i.data==="$?"||i.data==="$~"}function Tv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function j3(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Bn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Dv=null;function yO(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return Bn(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function vO(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function bO(i,o,u){switch(o=xh(u),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Tu(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Rg(i)}var $n=new Map,xO=new Set;function wh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Xa=U.d;U.d={f:S3,r:_3,D:N3,C:O3,L:E3,m:A3,X:k3,S:C3,M:P3};function S3(){var i=Xa.f(),o=fh();return i||o}function _3(i){var o=Xo(i);o!==null&&o.tag===5&&o.type==="form"?L_(o):Xa.r(i)}var Cl=typeof document>"u"?null:document;function wO(i,o,u){var m=Cl;if(m&&typeof o=="string"&&o){var b=Pn(o);b='link[rel="'+i+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),xO.has(b)||(xO.add(b),i={rel:i,crossOrigin:u,href:o},m.querySelector(b)===null&&(o=m.createElement("link"),Cr(o,"link",i),mr(o),m.head.appendChild(o)))}}function N3(i){Xa.D(i),wO("dns-prefetch",i,null)}function O3(i,o){Xa.C(i,o),wO("preconnect",i,o)}function E3(i,o,u){Xa.L(i,o,u);var m=Cl;if(m&&i&&o){var b='link[rel="preload"][as="'+Pn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+Pn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+Pn(u.imageSizes)+'"]')):b+='[href="'+Pn(i)+'"]';var w=b;switch(o){case"style":w=kl(i);break;case"script":w=Pl(i)}$n.has(w)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),$n.set(w,i),m.querySelector(b)!==null||o==="style"&&m.querySelector(Du(w))||o==="script"&&m.querySelector(Mu(w))||(o=m.createElement("link"),Cr(o,"link",i),mr(o),m.head.appendChild(o)))}}function A3(i,o){Xa.m(i,o);var u=Cl;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+Pn(m)+'"][href="'+Pn(i)+'"]',w=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Pl(i)}if(!$n.has(w)&&(i=g({rel:"modulepreload",href:i},o),$n.set(w,i),u.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Mu(w)))return}m=u.createElement("link"),Cr(m,"link",i),mr(m),u.head.appendChild(m)}}}function C3(i,o,u){Xa.S(i,o,u);var m=Cl;if(m&&i){var b=Zo(m).hoistableStyles,w=kl(i);o=o||"default";var E=b.get(w);if(!E){var P={loading:0,preload:null};if(E=m.querySelector(Du(w)))P.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=$n.get(w))&&Mv(i,u);var $=E=m.createElement("link");mr($),Cr($,"link",i),$._p=new Promise(function(X,le){$.onload=X,$.onerror=le}),$.addEventListener("load",function(){P.loading|=1}),$.addEventListener("error",function(){P.loading|=2}),P.loading|=4,jh(E,o,m)}E={type:"stylesheet",instance:E,count:1,state:P},b.set(w,E)}}}function k3(i,o){Xa.X(i,o);var u=Cl;if(u&&i){var m=Zo(u).hoistableScripts,b=Pl(i),w=m.get(b);w||(w=u.querySelector(Mu(b)),w||(i=g({src:i,async:!0},o),(o=$n.get(b))&&Rv(i,o),w=u.createElement("script"),mr(w),Cr(w,"link",i),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(b,w))}}function P3(i,o){Xa.M(i,o);var u=Cl;if(u&&i){var m=Zo(u).hoistableScripts,b=Pl(i),w=m.get(b);w||(w=u.querySelector(Mu(b)),w||(i=g({src:i,async:!0,type:"module"},o),(o=$n.get(b))&&Rv(i,o),w=u.createElement("script"),mr(w),Cr(w,"link",i),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(b,w))}}function jO(i,o,u,m){var b=(b=ke.current)?wh(b):null;if(!b)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=kl(u.href),u=Zo(b).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=kl(u.href);var w=Zo(b).hoistableStyles,E=w.get(i);if(E||(b=b.ownerDocument||b,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,E),(w=b.querySelector(Du(i)))&&!w._p&&(E.instance=w,E.state.loading=5),$n.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},$n.set(i,u),w||T3(b,i,u,E.state))),o&&m===null)throw Error(n(528,""));return E}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Pl(u),u=Zo(b).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function kl(i){return'href="'+Pn(i)+'"'}function Du(i){return'link[rel="stylesheet"]['+i+"]"}function SO(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function T3(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Cr(o,"link",u),mr(o),i.head.appendChild(o))}function Pl(i){return'[src="'+Pn(i)+'"]'}function Mu(i){return"script[async]"+i}function _O(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Pn(u.href)+'"]');if(m)return o.instance=m,mr(m),m;var b=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),mr(m),Cr(m,"style",b),jh(m,u.precedence,i),o.instance=m;case"stylesheet":b=kl(u.href);var w=i.querySelector(Du(b));if(w)return o.state.loading|=4,o.instance=w,mr(w),w;m=SO(u),(b=$n.get(b))&&Mv(m,b),w=(i.ownerDocument||i).createElement("link"),mr(w);var E=w;return E._p=new Promise(function(P,$){E.onload=P,E.onerror=$}),Cr(w,"link",m),o.state.loading|=4,jh(w,u.precedence,i),o.instance=w;case"script":return w=Pl(u.src),(b=i.querySelector(Mu(w)))?(o.instance=b,mr(b),b):(m=u,(b=$n.get(w))&&(m=g({},u),Rv(m,b)),i=i.ownerDocument||i,b=i.createElement("script"),mr(b),Cr(b,"link",m),i.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,jh(m,u.precedence,i));return o.instance}function jh(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,w=b,E=0;E<m.length;E++){var P=m[E];if(P.dataset.precedence===o)w=P;else if(w!==b)break}w?w.parentNode.insertBefore(i,w.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Mv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Rv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Sh=null;function NO(i,o,u){if(Sh===null){var m=new Map,b=Sh=new Map;b.set(u,m)}else b=Sh,m=b.get(u),m||(m=new Map,b.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),b=0;b<u.length;b++){var w=u[b];if(!(w[Wc]||w[Nr]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var E=w.getAttribute(o)||"";E=i+E;var P=m.get(E);P?P.push(w):m.set(E,[w])}}return m}function OO(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function D3(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function EO(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function M3(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=kl(m.href),w=o.querySelector(Du(b));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=_h.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=w,mr(w);return}w=o.ownerDocument||o,m=SO(m),(b=$n.get(b))&&Mv(m,b),w=w.createElement("link"),mr(w);var E=w;E._p=new Promise(function(P,$){E.onload=P,E.onerror=$}),Cr(w,"link",m),u.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=_h.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Iv=0;function R3(i,o){return i.stylesheets&&i.count===0&&Oh(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&Oh(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+o);0<i.imgBytes&&Iv===0&&(Iv=62500*p3());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Oh(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>Iv?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function _h(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Nh=null;function Oh(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Nh=new Map,o.forEach(I3,i),Nh=null,_h.call(i))}function I3(i,o){if(!(o.state.loading&4)){var u=Nh.get(i);if(u)var m=u.get(null);else{u=new Map,Nh.set(i,u);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var E=b[w];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(u.set(E.dataset.precedence,E),m=E)}m&&u.set(null,m)}b=o.instance,E=b.getAttribute("data-precedence"),w=u.get(E)||m,w===m&&u.set(null,b),u.set(E,b),this.count++,m=_h.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),w?w.parentNode.insertBefore(b,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),o.state.loading|=4}}var Ru={$$typeof:A,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function L3(i,o,u,m,b,w,E,P,$){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pg(0),this.hiddenUpdates=Pg(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function AO(i,o,u,m,b,w,E,P,$,X,le,he){return i=new L3(i,o,u,E,$,X,le,he,P),o=1,w===!0&&(o|=24),w=pn(3,null,null,o),i.current=w,w.stateNode=i,o=py(),o.refCount++,i.pooledCache=o,o.refCount++,w.memoizedState={element:m,isDehydrated:u,cache:o},by(w),i}function CO(i){return i?(i=ll,i):ll}function kO(i,o,u,m,b,w){b=CO(b),m.context===null?m.context=b:m.pendingContext=b,m=$i(o),m.payload={element:u},w=w===void 0?null:w,w!==null&&(m.callback=w),u=Ui(i,m,o),u!==null&&(rn(u,i,o),hu(u,i,o))}function PO(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Lv(i,o){PO(i,o),(i=i.alternate)&&PO(i,o)}function TO(i){if(i.tag===13||i.tag===31){var o=$s(i,67108864);o!==null&&rn(o,i,67108864),Lv(i,67108864)}}function DO(i){if(i.tag===13||i.tag===31){var o=xn();o=Tg(o);var u=$s(i,o);u!==null&&rn(u,i,o),Lv(i,o)}}var Eh=!0;function B3(i,o,u,m){var b=B.T;B.T=null;var w=U.p;try{U.p=2,Bv(i,o,u,m)}finally{U.p=w,B.T=b}}function $3(i,o,u,m){var b=B.T;B.T=null;var w=U.p;try{U.p=8,Bv(i,o,u,m)}finally{U.p=w,B.T=b}}function Bv(i,o,u,m){if(Eh){var b=$v(m);if(b===null)_v(i,o,m,Ah,u),RO(i,m);else if(z3(b,i,o,u,m))m.stopPropagation();else if(RO(i,m),o&4&&-1<U3.indexOf(i)){for(;b!==null;){var w=Xo(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var E=Ms(w.pendingLanes);if(E!==0){var P=w;for(P.pendingLanes|=2,P.entangledLanes|=2;E;){var $=1<<31-hn(E);P.entanglements[1]|=$,E&=~$}ga(w),(ot&6)===0&&(uh=ut()+500,Cu(0))}}break;case 31:case 13:P=$s(w,2),P!==null&&rn(P,w,2),fh(),Lv(w,2)}if(w=$v(m),w===null&&_v(i,o,m,Ah,u),w===b)break;b=w}b!==null&&m.stopPropagation()}else _v(i,o,m,null,u)}}function $v(i){return i=zg(i),Uv(i)}var Ah=null;function Uv(i){if(Ah=null,i=Wo(i),i!==null){var o=s(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=l(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ah=i,null}function MO(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fc()){case Qc:return 2;case Hc:return 8;case Ds:case yf:return 32;case Go:return 268435456;default:return 32}default:return 32}}var zv=!1,Xi=null,Zi=null,Ji=null,Iu=new Map,Lu=new Map,es=[],U3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RO(i,o){switch(i){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Iu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(o.pointerId)}}function Bu(i,o,u,m,b,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:w,targetContainers:[b]},o!==null&&(o=Xo(o),o!==null&&TO(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function z3(i,o,u,m,b){switch(o){case"focusin":return Xi=Bu(Xi,i,o,u,m,b),!0;case"dragenter":return Zi=Bu(Zi,i,o,u,m,b),!0;case"mouseover":return Ji=Bu(Ji,i,o,u,m,b),!0;case"pointerover":var w=b.pointerId;return Iu.set(w,Bu(Iu.get(w)||null,i,o,u,m,b)),!0;case"gotpointercapture":return w=b.pointerId,Lu.set(w,Bu(Lu.get(w)||null,i,o,u,m,b)),!0}return!1}function IO(i){var o=Wo(i.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){i.blockedOn=o,W1(i.priority,function(){DO(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,W1(i.priority,function(){DO(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ch(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=$v(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Ug=m,u.target.dispatchEvent(m),Ug=null}else return o=Xo(u),o!==null&&TO(o),i.blockedOn=u,!1;o.shift()}return!0}function LO(i,o,u){Ch(i)&&u.delete(o)}function q3(){zv=!1,Xi!==null&&Ch(Xi)&&(Xi=null),Zi!==null&&Ch(Zi)&&(Zi=null),Ji!==null&&Ch(Ji)&&(Ji=null),Iu.forEach(LO),Lu.forEach(LO)}function kh(i,o){i.blockedOn===o&&(i.blockedOn=null,zv||(zv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,q3)))}var Ph=null;function BO(i){Ph!==i&&(Ph=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ph===i&&(Ph=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],b=i[o+2];if(typeof m!="function"){if(Uv(m||u)===null)continue;break}var w=Xo(u);w!==null&&(i.splice(o,3),o-=3,$y(w,{pending:!0,data:b,method:u.method,action:m},m,b))}}))}function Tl(i){function o($){return kh($,i)}Xi!==null&&kh(Xi,i),Zi!==null&&kh(Zi,i),Ji!==null&&kh(Ji,i),Iu.forEach(o),Lu.forEach(o);for(var u=0;u<es.length;u++){var m=es[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<es.length&&(u=es[0],u.blockedOn===null);)IO(u),u.blockedOn===null&&es.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var b=u[m],w=u[m+1],E=b[Wr]||null;if(typeof w=="function")E||BO(u);else if(E){var P=null;if(w&&w.hasAttribute("formAction")){if(b=w,E=w[Wr]||null)P=E.formAction;else if(Uv(b)!==null)continue}else P=E.action;typeof P=="function"?u[m+1]=P:(u.splice(m,3),m-=3),BO(u)}}}function $O(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(E){return b=E})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function qv(i){this._internalRoot=i}Th.prototype.render=qv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,m=xn();kO(u,m,i,o,null,null)},Th.prototype.unmount=qv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;kO(i.current,2,null,i,null,null),fh(),o[Yo]=null}};function Th(i){this._internalRoot=i}Th.prototype.unstable_scheduleHydration=function(i){if(i){var o=Y1();i={blockedOn:null,target:i,priority:o};for(var u=0;u<es.length&&o!==0&&o<es[u].priority;u++);es.splice(u,0,i),u===0&&IO(i)}};var UO=t.version;if(UO!=="19.2.4")throw Error(n(527,UO,"19.2.4"));U.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var K3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{Vc=Dh.inject(K3),fn=Dh}catch{}}return Uu.createRoot=function(i,o){if(!a(i))throw Error(n(299));var u=!1,m="",b=V_,w=G_,E=Y_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=AO(i,1,!1,null,null,u,m,null,b,w,E,$O),i[Yo]=o.current,Sv(i),new qv(o)},Uu.hydrateRoot=function(i,o,u){if(!a(i))throw Error(n(299));var m=!1,b="",w=V_,E=G_,P=Y_,$=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.formState!==void 0&&($=u.formState)),o=AO(i,1,!0,o,u??null,m,b,$,w,E,P,$O),o.context=CO(null),u=o.current,m=xn(),m=Tg(m),b=$i(m),b.callback=null,Ui(u,b,m),u=m,o.current.lanes=u,Yc(o,u),ga(o),i[Yo]=o.current,Sv(i),new Th(o)},Uu.version="19.2.4",Uu}var XO;function rB(){if(XO)return Vv.exports;XO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vv.exports=tB(),Vv.exports}var nB=rB();const aB=Ta(nB);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZO="popstate";function iB(e={}){function t(a,s){let{pathname:l="/",search:d="",hash:f=""}=$o(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Fb("",{pathname:l,search:d,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let l=a.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof s=="string"?s:od(s))}function n(a,s){Vn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return oB(t,r,n,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sB(){return Math.random().toString(36).substring(2,10)}function JO(e,t){return{usr:e.state,key:e.key,idx:t}}function Fb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?$o(t):t,state:r,key:t&&t.key||n||sB()}}function od({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $o(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function oB(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,l=a.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let _=p(),N=_==null?null:_-h;h=_,f&&f({action:d,location:S.location,delta:N})}function y(_,N){d="PUSH";let O=Fb(S.location,_,N);r&&r(O,_),h=p()+1;let A=JO(O,h),C=S.createHref(O);try{l.pushState(A,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(C)}s&&f&&f({action:d,location:S.location,delta:1})}function v(_,N){d="REPLACE";let O=Fb(S.location,_,N);r&&r(O,_),h=p();let A=JO(O,h),C=S.createHref(O);l.replaceState(A,"",C),s&&f&&f({action:d,location:S.location,delta:0})}function x(_){return lB(_)}let S={get action(){return d},get location(){return e(a,l)},listen(_){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(ZO,g),f=_,()=>{a.removeEventListener(ZO,g),f=null}},createHref(_){return t(a,_)},createURL:x,encodeLocation(_){let N=x(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:v,go(_){return l.go(_)}};return S}function lB(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:od(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function lT(e,t,r="/"){return cB(e,t,r,!1)}function cB(e,t,r,n){let a=typeof t=="string"?$o(t):t,s=fi(a.pathname||"/",r);if(s==null)return null;let l=cT(e);uB(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=wB(s);d=bB(l[f],h,n)}return d}function cT(e,t=[],r=[],n="",a=!1){let s=(l,d,f=a,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&f)return;Rt(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=li([n,p.relativePath]),y=r.concat(p);l.children&&l.children.length>0&&(Rt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),cT(l.children,t,y,g,f)),!(l.path==null&&!l.index)&&t.push({path:g,score:yB(g,l.index),routesMeta:y})};return e.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,d);else for(let h of uT(l.path))s(l,d,!0,h)}),t}function uT(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let l=uT(n.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),a&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function uB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:vB(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var dB=/^:[\w-]+$/,fB=3,hB=2,mB=1,pB=10,gB=-2,eE=e=>e==="*";function yB(e,t){let r=e.split("/"),n=r.length;return r.some(eE)&&(n+=gB),t&&(n+=hB),r.filter(a=>!eE(a)).reduce((a,s)=>a+(dB.test(s)?fB:s===""?mB:pB),n)}function vB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function bB(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",l=[];for(let d=0;d<n.length;++d){let f=n[d],h=d===n.length-1,p=s==="/"?t:t.slice(s.length)||"/",g=gm({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=gm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:li([s,g.pathname]),pathnameBase:NB(li([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=li([s,g.pathnameBase]))}return l}function gm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=xB(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let x=d[y]||"";l=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=d[y];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:e}}function xB(e,t=!1,r=!0){Vn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(n.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function wB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function fi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var jB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function SB(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?$o(e):e,s;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?s=tE(r.substring(1),"/"):s=tE(r,t)):s=t,{pathname:s,search:OB(n),hash:EB(a)}}function tE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Xv(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _B(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vw(e){let t=_B(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function bw(e,t,r,n=!1){let a;typeof e=="string"?a=$o(e):(a={...e},Rt(!a.pathname||!a.pathname.includes("?"),Xv("?","pathname","search",a)),Rt(!a.pathname||!a.pathname.includes("#"),Xv("#","pathname","hash",a)),Rt(!a.search||!a.search.includes("#"),Xv("#","search","hash",a)));let s=e===""||a.pathname==="",l=s?"/":a.pathname,d;if(l==null)d=r;else{let g=t.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}d=g>=0?t[g]:"/"}let f=SB(a,d),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var li=e=>e.join("/").replace(/\/\/+/g,"/"),NB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),OB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,EB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,AB=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function CB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function kB(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var dT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fT(e,t){let r=e;if(typeof r!="string"||!jB.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(dT)try{let s=new URL(window.location.href),l=r.startsWith("//")?new URL(s.protocol+r):new URL(r),d=fi(l.pathname,t);l.origin===s.origin&&d!=null?r=d+l.search+l.hash:a=!0}catch{Vn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hT=["POST","PUT","PATCH","DELETE"];new Set(hT);var PB=["GET",...hT];new Set(PB);var Sc=j.createContext(null);Sc.displayName="DataRouter";var vp=j.createContext(null);vp.displayName="DataRouterState";var TB=j.createContext(!1),mT=j.createContext({isTransitioning:!1});mT.displayName="ViewTransition";var DB=j.createContext(new Map);DB.displayName="Fetchers";var MB=j.createContext(null);MB.displayName="Await";var An=j.createContext(null);An.displayName="Navigation";var Ud=j.createContext(null);Ud.displayName="Location";var da=j.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var xw=j.createContext(null);xw.displayName="RouteError";var pT="REACT_ROUTER_ERROR",RB="REDIRECT",IB="ROUTE_ERROR_RESPONSE";function LB(e){if(e.startsWith(`${pT}:${RB}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function BB(e){if(e.startsWith(`${pT}:${IB}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new AB(t.status,t.statusText,t.data)}catch{}}function $B(e,{relative:t}={}){Rt(_c(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext(An),{hash:a,pathname:s,search:l}=zd(e,{relative:t}),d=s;return r!=="/"&&(d=s==="/"?r:li([r,s])),n.createHref({pathname:d,search:l,hash:a})}function _c(){return j.useContext(Ud)!=null}function xi(){return Rt(_c(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Ud).location}var gT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yT(e){j.useContext(An).static||j.useLayoutEffect(e)}function mt(){let{isDataRoute:e}=j.useContext(da);return e?ZB():UB()}function UB(){Rt(_c(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Sc),{basename:t,navigator:r}=j.useContext(An),{matches:n}=j.useContext(da),{pathname:a}=xi(),s=JSON.stringify(vw(n)),l=j.useRef(!1);return yT(()=>{l.current=!0}),j.useCallback((f,h={})=>{if(Vn(l.current,gT),!l.current)return;if(typeof f=="number"){r.go(f);return}let p=bw(f,JSON.parse(s),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:li([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,s,a,e])}j.createContext(null);function Cn(){let{matches:e}=j.useContext(da),t=e[e.length-1];return t?t.params:{}}function zd(e,{relative:t}={}){let{matches:r}=j.useContext(da),{pathname:n}=xi(),a=JSON.stringify(vw(r));return j.useMemo(()=>bw(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function zB(e,t){return vT(e,t)}function vT(e,t,r,n,a){var O;Rt(_c(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(An),{matches:l}=j.useContext(da),d=l[l.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let A=g&&g.path||"";xT(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=xi(),v;if(t){let A=typeof t=="string"?$o(t):t;Rt(p==="/"||((O=A.pathname)==null?void 0:O.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),v=A}else v=y;let x=v.pathname||"/",S=x;if(p!=="/"){let A=p.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=lT(e,{pathname:S});Vn(g||_!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Vn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=HB(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:li([p,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:li([p,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),l,r,n,a);return t&&N?j.createElement(Ud.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},N):N}function qB(){let e=XB(),t=CB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:a},r):null,l)}var KB=j.createElement(qB,null),bT=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=BB(e.digest);r&&(e=r)}let t=e!==void 0?j.createElement(da.Provider,{value:this.props.routeContext},j.createElement(xw.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(FB,{error:e},t):t}};bT.contextType=TB;var Zv=new WeakMap;function FB({children:e,error:t}){let{basename:r}=j.useContext(An);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=LB(t.digest);if(n){let a=Zv.get(t);if(a)throw a;let s=fT(n.location,r);if(dT&&!Zv.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw Zv.set(t,l),l}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function QB({routeContext:e,match:t,children:r}){let n=j.useContext(Sc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(da.Provider,{value:e},r)}function HB(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=r==null?void 0:r.errors;if(l!=null){let p=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let d=!1,f=-1;if(r)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:y,errors:v}=r,x=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||x){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=r&&n?(p,g)=>{var y,v;n(p,{location:r.location,params:((v=(y=r.matches)==null?void 0:y[0])==null?void 0:v.params)??{},unstable_pattern:kB(r.matches),errorInfo:g})}:void 0;return s.reduceRight((p,g,y)=>{let v,x=!1,S=null,_=null;r&&(v=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||KB,d&&(f<0&&y===0?(xT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,_=null):f===y&&(x=!0,_=g.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,y+1)),O=()=>{let A;return v?A=S:x?A=_:g.route.Component?A=j.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=p,j.createElement(QB,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:r!=null},children:A})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?j.createElement(bT,{location:r.location,revalidation:r.revalidation,component:S,error:v,children:O(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):O()},null)}function ww(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VB(e){let t=j.useContext(Sc);return Rt(t,ww(e)),t}function GB(e){let t=j.useContext(vp);return Rt(t,ww(e)),t}function YB(e){let t=j.useContext(da);return Rt(t,ww(e)),t}function jw(e){let t=YB(e),r=t.matches[t.matches.length-1];return Rt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function WB(){return jw("useRouteId")}function XB(){var n;let e=j.useContext(xw),t=GB("useRouteError"),r=jw("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function ZB(){let{router:e}=VB("useNavigate"),t=jw("useNavigate"),r=j.useRef(!1);return yT(()=>{r.current=!0}),j.useCallback(async(a,s={})=>{Vn(r.current,gT),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var rE={};function xT(e,t,r){!t&&!rE[e]&&(rE[e]=!0,Vn(!1,r))}j.memo(JB);function JB({routes:e,future:t,state:r,onError:n}){return vT(e,void 0,r,n,t)}function ze({to:e,replace:t,state:r,relative:n}){Rt(_c(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(An);Vn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=j.useContext(da),{pathname:l}=xi(),d=mt(),f=bw(e,vw(s),l,n==="path"),h=JSON.stringify(f);return j.useEffect(()=>{d(JSON.parse(h),{replace:t,state:r,relative:n})},[d,h,n,t,r]),null}function Fe(e){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function e$({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:l}){Rt(!_c(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:d,navigator:a,static:s,unstable_useTransitions:l,future:{}}),[d,a,s,l]);typeof r=="string"&&(r=$o(r));let{pathname:h="/",search:p="",hash:g="",state:y=null,key:v="default"}=r,x=j.useMemo(()=>{let S=fi(h,d);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:v},navigationType:n}},[d,h,p,g,y,v,n]);return Vn(x!=null,`<Router basename="${d}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement(An.Provider,{value:f},j.createElement(Ud.Provider,{children:t,value:x}))}function t$({children:e,location:t}){return zB(Qb(e),t)}function Qb(e,t=[]){let r=[];return j.Children.forEach(e,(n,a)=>{if(!j.isValidElement(n))return;let s=[...t,a];if(n.type===j.Fragment){r.push.apply(r,Qb(n.props.children,s));return}Rt(n.type===Fe,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Qb(n.props.children,s)),r.push(l)}),r}var om="get",lm="application/x-www-form-urlencoded";function bp(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function r$(e){return bp(e)&&e.tagName.toLowerCase()==="button"}function n$(e){return bp(e)&&e.tagName.toLowerCase()==="form"}function a$(e){return bp(e)&&e.tagName.toLowerCase()==="input"}function i$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s$(e,t){return e.button===0&&(!t||t==="_self")&&!i$(e)}var Rh=null;function o$(){if(Rh===null)try{new FormData(document.createElement("form"),0),Rh=!1}catch{Rh=!0}return Rh}var l$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jv(e){return e!=null&&!l$.has(e)?(Vn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lm}"`),null):e}function c$(e,t){let r,n,a,s,l;if(n$(e)){let d=e.getAttribute("action");n=d?fi(d,t):null,r=e.getAttribute("method")||om,a=Jv(e.getAttribute("enctype"))||lm,s=new FormData(e)}else if(r$(e)||a$(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(n=f?fi(f,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||om,a=Jv(e.getAttribute("formenctype"))||Jv(d.getAttribute("enctype"))||lm,s=new FormData(d,e),!o$()){let{name:h,type:p,value:g}=e;if(p==="image"){let y=h?`${h}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else h&&s.append(h,g)}}else{if(bp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=om,n=null,a=lm,l=e}return s&&a==="text/plain"&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function u$(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&fi(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function d$(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f$(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function h$(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let l=await d$(s,r);return l.links?l.links():[]}return[]}));return y$(n.flat(1).filter(f$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function nE(e,t,r,n,a,s){let l=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,d=(f,h)=>{var p;return r[h].pathname!==f.pathname||((p=r[h].route.path)==null?void 0:p.endsWith("*"))&&r[h].params["*"]!==f.params["*"]};return s==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):s==="data"?t.filter((f,h)=>{var g;let p=n.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function m$(e,t,{includeHydrateFallback:r}={}){return p$(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function p$(e){return[...new Set(e)]}function g$(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function y$(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(g$(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function wT(){let e=j.useContext(Sc);return Sw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function v$(){let e=j.useContext(vp);return Sw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var _w=j.createContext(void 0);_w.displayName="FrameworkContext";function jT(){let e=j.useContext(_w);return Sw(e,"You must render this element inside a <HydratedRouter> element"),e}function b$(e,t){let r=j.useContext(_w),[n,a]=j.useState(!1),[s,l]=j.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,y=j.useRef(null);j.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=N=>{N.forEach(O=>{l(O.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[e]),j.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let v=()=>{a(!0)},x=()=>{a(!1),l(!1)};return r?e!=="intent"?[s,y,{}]:[s,y,{onFocus:zu(d,v),onBlur:zu(f,x),onMouseEnter:zu(h,v),onMouseLeave:zu(p,x),onTouchStart:zu(g,v)}]:[!1,y,{}]}function zu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function x$({page:e,...t}){let{router:r}=wT(),n=j.useMemo(()=>lT(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?j.createElement(j$,{page:e,matches:n,...t}):null}function w$(e){let{manifest:t,routeModules:r}=jT(),[n,a]=j.useState([]);return j.useEffect(()=>{let s=!1;return h$(e,t,r).then(l=>{s||a(l)}),()=>{s=!0}},[e,t,r]),n}function j$({page:e,matches:t,...r}){let n=xi(),{future:a,manifest:s,routeModules:l}=jT(),{basename:d}=wT(),{loaderData:f,matches:h}=v$(),p=j.useMemo(()=>nE(e,t,h,s,n,"data"),[e,t,h,s,n]),g=j.useMemo(()=>nE(e,t,h,s,n,"assets"),[e,t,h,s,n]),y=j.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,_=!1;if(t.forEach(O=>{var C;let A=s.routes[O.route.id];!A||!A.hasLoader||(!p.some(T=>T.route.id===O.route.id)&&O.route.id in f&&((C=l[O.route.id])!=null&&C.shouldRevalidate)||A.hasClientLoader?_=!0:S.add(O.route.id))}),S.size===0)return[];let N=u$(e,d,a.unstable_trailingSlashAwareDataRequests,"data");return _&&S.size>0&&N.searchParams.set("_routes",t.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[N.pathname+N.search]},[d,a.unstable_trailingSlashAwareDataRequests,f,n,s,p,t,e,l]),v=j.useMemo(()=>m$(g,s),[g,s]),x=w$(g);return j.createElement(j.Fragment,null,y.map(S=>j.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),v.map(S=>j.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),x.map(({key:S,link:_})=>j.createElement("link",{key:S,nonce:r.nonce,..._,crossOrigin:_.crossOrigin??r.crossOrigin})))}function S$(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var _$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_$&&(window.__reactRouterVersion="7.13.0")}catch{}function N$({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=j.useRef();a.current==null&&(a.current=iB({window:n,v5Compat:!0}));let s=a.current,[l,d]=j.useState({action:s.action,location:s.location}),f=j.useCallback(h=>{r===!1?d(h):j.startTransition(()=>d(h))},[r]);return j.useLayoutEffect(()=>s.listen(f),[s,f]),j.createElement(e$,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:r})}var ST=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hc=j.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...v},x){let{basename:S,unstable_useTransitions:_}=j.useContext(An),N=typeof h=="string"&&ST.test(h),O=fT(h,S);h=O.to;let A=$B(h,{relative:a}),[C,T,k]=b$(n,v),D=C$(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:_});function M(G){t&&t(G),G.defaultPrevented||D(G)}let L=j.createElement("a",{...v,...k,href:O.absoluteURL||A,onClick:O.isExternal||s?t:M,ref:S$(x,T),target:f,"data-discover":!N&&r==="render"?"true":void 0});return C&&!N?j.createElement(j.Fragment,null,L,j.createElement(x$,{page:A})):L});hc.displayName="Link";var O$=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:l,viewTransition:d,children:f,...h},p){let g=zd(l,{relative:h.relative}),y=xi(),v=j.useContext(vp),{navigator:x,basename:S}=j.useContext(An),_=v!=null&&M$(g)&&d===!0,N=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,O=y.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(O=O.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&S&&(A=fi(A,S)||A);const C=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=O===N||!a&&O.startsWith(N)&&O.charAt(C)==="/",k=A!=null&&(A===N||!a&&A.startsWith(N)&&A.charAt(N.length)==="/"),D={isActive:T,isPending:k,isTransitioning:_},M=T?t:void 0,L;typeof n=="function"?L=n(D):L=[n,T?"active":null,k?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(D):s;return j.createElement(hc,{...h,"aria-current":M,className:L,ref:p,style:G,to:l,viewTransition:d},typeof f=="function"?f(D):f)});O$.displayName="NavLink";var E$=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:l=om,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...v},x)=>{let{unstable_useTransitions:S}=j.useContext(An),_=T$(),N=D$(d,{relative:h}),O=l.toLowerCase()==="get"?"get":"post",A=typeof d=="string"&&ST.test(d),C=T=>{if(f&&f(T),T.defaultPrevented)return;T.preventDefault();let k=T.nativeEvent.submitter,D=(k==null?void 0:k.getAttribute("formmethod"))||l,M=()=>_(k||T.currentTarget,{fetcherKey:t,method:D,navigate:r,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y});S&&r!==!1?j.startTransition(()=>M()):M()};return j.createElement("form",{ref:x,method:O,action:N,onSubmit:n?f:C,...v,"data-discover":!A&&e==="render"?"true":void 0})});E$.displayName="Form";function A$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _T(e){let t=j.useContext(Sc);return Rt(t,A$(e)),t}function C$(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let h=mt(),p=xi(),g=zd(e,{relative:s});return j.useCallback(y=>{if(s$(y,t)){y.preventDefault();let v=r!==void 0?r:od(p)===od(g),x=()=>h(e,{replace:v,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d});f?j.startTransition(()=>x()):x()}},[p,h,g,r,n,t,e,a,s,l,d,f])}var k$=0,P$=()=>`__${String(++k$)}__`;function T$(){let{router:e}=_T("useSubmit"),{basename:t}=j.useContext(An),r=WB(),n=e.fetch,a=e.navigate;return j.useCallback(async(s,l={})=>{let{action:d,method:f,encType:h,formData:p,body:g}=c$(s,t);if(l.navigate===!1){let y=l.fetcherKey||P$();await n(y,r,l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await a(l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,a,t,r])}function D$(e,{relative:t}={}){let{basename:r}=j.useContext(An),n=j.useContext(da);Rt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...zd(e||".",{relative:t})},l=xi();if(e==null){s.search=l.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:li([r,s.pathname])),od(s)}function M$(e,{relative:t}={}){let r=j.useContext(mT);Rt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=_T("useViewTransitionState"),a=zd(e,{relative:t});if(!r.isTransitioning)return!1;let s=fi(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=fi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return gm(a.pathname,l)!=null||gm(a.pathname,s)!=null}var xp=oT(),Nc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},R$={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},cs,yw,WP,I$=(WP=class{constructor(){Pe(this,cs,R$);Pe(this,yw,!1)}setTimeoutProvider(e){xe(this,cs,e)}setTimeout(e,t){return z(this,cs).setTimeout(e,t)}clearTimeout(e){z(this,cs).clearTimeout(e)}setInterval(e,t){return z(this,cs).setInterval(e,t)}clearInterval(e){z(this,cs).clearInterval(e)}},cs=new WeakMap,yw=new WeakMap,WP),lo=new I$;function L$(e){setTimeout(e,0)}var Ao=typeof window>"u"||"Deno"in globalThis;function Fr(){}function B$(e,t){return typeof e=="function"?e(t):e}function Hb(e){return typeof e=="number"&&e>=0&&e!==1/0}function NT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function bs(e,t){return typeof e=="function"?e(t):e}function Qn(e,t){return typeof e=="function"?e(t):e}function aE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:l,stale:d}=e;if(l){if(n){if(t.queryHash!==Nw(l,t.options))return!1}else if(!ld(t.queryKey,l))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||a&&a!==t.state.fetchStatus||s&&!s(t))}function iE(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Co(t.options.mutationKey)!==Co(s))return!1}else if(!ld(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Nw(e,t){return((t==null?void 0:t.queryKeyHashFn)||Co)(e)}function Co(e){return JSON.stringify(e,(t,r)=>Vb(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function ld(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ld(e[r],t[r])):!1}var $$=Object.prototype.hasOwnProperty;function OT(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=sE(e)&&sE(t);if(!n&&!(Vb(e)&&Vb(t)))return t;const s=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),d=l.length,f=n?new Array(d):{};let h=0;for(let p=0;p<d;p++){const g=n?p:l[p],y=e[g],v=t[g];if(y===v){f[g]=y,(n?p<s:$$.call(e,g))&&h++;continue}if(y===null||v===null||typeof y!="object"||typeof v!="object"){f[g]=v;continue}const x=OT(y,v,r+1);f[g]=x,x===y&&h++}return s===d&&h===s?e:f}function ym(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function sE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vb(e){if(!oE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!oE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function oE(e){return Object.prototype.toString.call(e)==="[object Object]"}function U$(e){return new Promise(t=>{lo.setTimeout(t,e)})}function Gb(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?OT(e,t):t}function z$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function q$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ow=Symbol();function ET(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ow?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ew(e,t){return typeof e=="function"?e(...t):!!e}function K$(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var po,us,tc,XP,F$=(XP=class extends Nc{constructor(){super();Pe(this,po);Pe(this,us);Pe(this,tc);xe(this,tc,t=>{if(!Ao&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,us)||this.setEventListener(z(this,tc))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,us))==null||t.call(this),xe(this,us,void 0))}setEventListener(t){var r;xe(this,tc,t),(r=z(this,us))==null||r.call(this),xe(this,us,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){z(this,po)!==t&&(xe(this,po,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof z(this,po)=="boolean"?z(this,po):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},po=new WeakMap,us=new WeakMap,tc=new WeakMap,XP),Aw=new F$;function Yb(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var Q$=L$;function H$(){let e=[],t=0,r=d=>{d()},n=d=>{d()},a=Q$;const s=d=>{t?e.push(d):a(()=>{r(d)})},l=()=>{const d=e;e=[],d.length&&a(()=>{n(()=>{d.forEach(f=>{r(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||l()}return f},batchCalls:d=>(...f)=>{s(()=>{d(...f)})},schedule:s,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{a=d}}}var ur=H$(),rc,ds,nc,ZP,V$=(ZP=class extends Nc{constructor(){super();Pe(this,rc,!0);Pe(this,ds);Pe(this,nc);xe(this,nc,t=>{if(!Ao&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){z(this,ds)||this.setEventListener(z(this,nc))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,ds))==null||t.call(this),xe(this,ds,void 0))}setEventListener(t){var r;xe(this,nc,t),(r=z(this,ds))==null||r.call(this),xe(this,ds,t(this.setOnline.bind(this)))}setOnline(t){z(this,rc)!==t&&(xe(this,rc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return z(this,rc)}},rc=new WeakMap,ds=new WeakMap,nc=new WeakMap,ZP),vm=new V$;function G$(e){return Math.min(1e3*2**e,3e4)}function AT(e){return(e??"online")==="online"?vm.isOnline():!0}var Wb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function CT(e){let t=!1,r=0,n;const a=Yb(),s=()=>a.status!=="pending",l=S=>{var _;if(!s()){const N=new Wb(S);y(N),(_=e.onCancel)==null||_.call(e,N)}},d=()=>{t=!0},f=()=>{t=!1},h=()=>Aw.isFocused()&&(e.networkMode==="always"||vm.isOnline())&&e.canRun(),p=()=>AT(e.networkMode)&&e.canRun(),g=S=>{s()||(n==null||n(),a.resolve(S))},y=S=>{s()||(n==null||n(),a.reject(S))},v=()=>new Promise(S=>{var _;n=N=>{(s()||h())&&S(N)},(_=e.onPause)==null||_.call(e)}).then(()=>{var S;n=void 0,s()||(S=e.onContinue)==null||S.call(e)}),x=()=>{if(s())return;let S;const _=r===0?e.initialPromise:void 0;try{S=_??e.fn()}catch(N){S=Promise.reject(N)}Promise.resolve(S).then(g).catch(N=>{var k;if(s())return;const O=e.retry??(Ao?0:3),A=e.retryDelay??G$,C=typeof A=="function"?A(r,N):A,T=O===!0||typeof O=="number"&&r<O||typeof O=="function"&&O(r,N);if(t||!T){y(N);return}r++,(k=e.onFail)==null||k.call(e,r,N),U$(C).then(()=>h()?void 0:v()).then(()=>{t?y(N):x()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n==null||n(),a),cancelRetry:d,continueRetry:f,canStart:p,start:()=>(p()?x():v().then(x),a)}}var go,JP,kT=(JP=class{constructor(){Pe(this,go)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Hb(this.gcTime)&&xe(this,go,lo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ao?1/0:300*1e3))}clearGcTimeout(){z(this,go)&&(lo.clearTimeout(z(this,go)),xe(this,go,void 0))}},go=new WeakMap,JP),yo,ac,Fn,vo,vr,Rd,bo,na,Za,eT,Y$=(eT=class extends kT{constructor(t){super();Pe(this,na);Pe(this,yo);Pe(this,ac);Pe(this,Fn);Pe(this,vo);Pe(this,vr);Pe(this,Rd);Pe(this,bo);xe(this,bo,!1),xe(this,Rd,t.defaultOptions),this.setOptions(t.options),this.observers=[],xe(this,vo,t.client),xe(this,Fn,z(this,vo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,xe(this,yo,cE(this.options)),this.state=t.state??z(this,yo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,vr))==null?void 0:t.promise}setOptions(t){if(this.options={...z(this,Rd),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=cE(this.options);r.data!==void 0&&(this.setState(lE(r.data,r.dataUpdatedAt)),xe(this,yo,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Fn).remove(this)}setData(t,r){const n=Gb(this.state.data,t,this.options);return Ke(this,na,Za).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ke(this,na,Za).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=z(this,vr))==null?void 0:n.promise;return(a=z(this,vr))==null||a.cancel(t),r?r.then(Fr).catch(Fr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,yo))}isActive(){return this.observers.some(t=>Qn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ow||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>bs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!NT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,vr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,vr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,Fn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(z(this,vr)&&(z(this,bo)?z(this,vr).cancel({revert:!0}):z(this,vr).cancelRetry()),this.scheduleGc()),z(this,Fn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ke(this,na,Za).call(this,{type:"invalidate"})}async fetch(t,r){var f,h,p,g,y,v,x,S,_,N,O,A;if(this.state.fetchStatus!=="idle"&&((f=z(this,vr))==null?void 0:f.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,vr))return z(this,vr).continueRetry(),z(this,vr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(T=>T.options.queryFn);C&&this.setOptions(C.options)}const n=new AbortController,a=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(xe(this,bo,!0),n.signal)})},s=()=>{const C=ET(this.options,r),k=(()=>{const D={client:z(this,vo),queryKey:this.queryKey,meta:this.meta};return a(D),D})();return xe(this,bo,!1),this.options.persister?this.options.persister(C,k,this):C(k)},d=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,vo),state:this.state,fetchFn:s};return a(C),C})();(h=this.options.behavior)==null||h.onFetch(d,this),xe(this,ac,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=d.fetchOptions)==null?void 0:p.meta))&&Ke(this,na,Za).call(this,{type:"fetch",meta:(g=d.fetchOptions)==null?void 0:g.meta}),xe(this,vr,CT({initialPromise:r==null?void 0:r.initialPromise,fn:d.fetchFn,onCancel:C=>{C instanceof Wb&&C.revert&&this.setState({...z(this,ac),fetchStatus:"idle"}),n.abort()},onFail:(C,T)=>{Ke(this,na,Za).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{Ke(this,na,Za).call(this,{type:"pause"})},onContinue:()=>{Ke(this,na,Za).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const C=await z(this,vr).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(v=(y=z(this,Fn).config).onSuccess)==null||v.call(y,C,this),(S=(x=z(this,Fn).config).onSettled)==null||S.call(x,C,this.state.error,this),C}catch(C){if(C instanceof Wb){if(C.silent)return z(this,vr).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw Ke(this,na,Za).call(this,{type:"error",error:C}),(N=(_=z(this,Fn).config).onError)==null||N.call(_,C,this),(A=(O=z(this,Fn).config).onSettled)==null||A.call(O,this.state.data,C,this),C}finally{this.scheduleGc()}}},yo=new WeakMap,ac=new WeakMap,Fn=new WeakMap,vo=new WeakMap,vr=new WeakMap,Rd=new WeakMap,bo=new WeakMap,na=new WeakSet,Za=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...PT(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...lE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return xe(this,ac,t.manual?a:void 0),a;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ur.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),z(this,Fn).notify({query:this,type:"updated",action:t})})},eT);function PT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:AT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function cE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var nn,Ze,Id,Kr,xo,ic,ti,fs,Ld,sc,oc,wo,jo,hs,lc,lt,Ju,Xb,Zb,Jb,ex,tx,rx,nx,TT,tT,W$=(tT=class extends Nc{constructor(t,r){super();Pe(this,lt);Pe(this,nn);Pe(this,Ze);Pe(this,Id);Pe(this,Kr);Pe(this,xo);Pe(this,ic);Pe(this,ti);Pe(this,fs);Pe(this,Ld);Pe(this,sc);Pe(this,oc);Pe(this,wo);Pe(this,jo);Pe(this,hs);Pe(this,lc,new Set);this.options=r,xe(this,nn,t),xe(this,fs,null),xe(this,ti,Yb()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,Ze).addObserver(this),uE(z(this,Ze),this.options)?Ke(this,lt,Ju).call(this):this.updateResult(),Ke(this,lt,ex).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ax(z(this,Ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ax(z(this,Ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ke(this,lt,tx).call(this),Ke(this,lt,rx).call(this),z(this,Ze).removeObserver(this)}setOptions(t){const r=this.options,n=z(this,Ze);if(this.options=z(this,nn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Qn(this.options.enabled,z(this,Ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ke(this,lt,nx).call(this),z(this,Ze).setOptions(this.options),r._defaulted&&!ym(this.options,r)&&z(this,nn).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,Ze),observer:this});const a=this.hasListeners();a&&dE(z(this,Ze),n,this.options,r)&&Ke(this,lt,Ju).call(this),this.updateResult(),a&&(z(this,Ze)!==n||Qn(this.options.enabled,z(this,Ze))!==Qn(r.enabled,z(this,Ze))||bs(this.options.staleTime,z(this,Ze))!==bs(r.staleTime,z(this,Ze)))&&Ke(this,lt,Xb).call(this);const s=Ke(this,lt,Zb).call(this);a&&(z(this,Ze)!==n||Qn(this.options.enabled,z(this,Ze))!==Qn(r.enabled,z(this,Ze))||s!==z(this,hs))&&Ke(this,lt,Jb).call(this,s)}getOptimisticResult(t){const r=z(this,nn).getQueryCache().build(z(this,nn),t),n=this.createResult(r,t);return Z$(this,n)&&(xe(this,Kr,n),xe(this,ic,this.options),xe(this,xo,z(this,Ze).state)),n}getCurrentResult(){return z(this,Kr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&z(this,ti).status==="pending"&&z(this,ti).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){z(this,lc).add(t)}getCurrentQuery(){return z(this,Ze)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=z(this,nn).defaultQueryOptions(t),n=z(this,nn).getQueryCache().build(z(this,nn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ke(this,lt,Ju).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,Kr)))}createResult(t,r){var L;const n=z(this,Ze),a=this.options,s=z(this,Kr),l=z(this,xo),d=z(this,ic),h=t!==n?t.state:z(this,Id),{state:p}=t;let g={...p},y=!1,v;if(r._optimisticResults){const G=this.hasListeners(),Q=!G&&uE(t,r),K=G&&dE(t,n,r,a);(Q||K)&&(g={...g,...PT(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:x,errorUpdatedAt:S,status:_}=g;v=g.data;let N=!1;if(r.placeholderData!==void 0&&v===void 0&&_==="pending"){let G;s!=null&&s.isPlaceholderData&&r.placeholderData===(d==null?void 0:d.placeholderData)?(G=s.data,N=!0):G=typeof r.placeholderData=="function"?r.placeholderData((L=z(this,oc))==null?void 0:L.state.data,z(this,oc)):r.placeholderData,G!==void 0&&(_="success",v=Gb(s==null?void 0:s.data,G,r),y=!0)}if(r.select&&v!==void 0&&!N)if(s&&v===(l==null?void 0:l.data)&&r.select===z(this,Ld))v=z(this,sc);else try{xe(this,Ld,r.select),v=r.select(v),v=Gb(s==null?void 0:s.data,v,r),xe(this,sc,v),xe(this,fs,null)}catch(G){xe(this,fs,G)}z(this,fs)&&(x=z(this,fs),v=z(this,sc),S=Date.now(),_="error");const O=g.fetchStatus==="fetching",A=_==="pending",C=_==="error",T=A&&O,k=v!==void 0,M={status:_,fetchStatus:g.fetchStatus,isPending:A,isSuccess:_==="success",isError:C,isInitialLoading:T,isLoading:T,data:v,dataUpdatedAt:g.dataUpdatedAt,error:x,errorUpdatedAt:S,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:O,isRefetching:O&&!A,isLoadingError:C&&!k,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:C&&k,isStale:Cw(t,r),refetch:this.refetch,promise:z(this,ti),isEnabled:Qn(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const G=M.data!==void 0,Q=M.status==="error"&&!G,K=ie=>{Q?ie.reject(M.error):G&&ie.resolve(M.data)},J=()=>{const ie=xe(this,ti,M.promise=Yb());K(ie)},H=z(this,ti);switch(H.status){case"pending":t.queryHash===n.queryHash&&K(H);break;case"fulfilled":(Q||M.data!==H.value)&&J();break;case"rejected":(!Q||M.error!==H.reason)&&J();break}}return M}updateResult(){const t=z(this,Kr),r=this.createResult(z(this,Ze),this.options);if(xe(this,xo,z(this,Ze).state),xe(this,ic,this.options),z(this,xo).data!==void 0&&xe(this,oc,z(this,Ze)),ym(r,t))return;xe(this,Kr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!z(this,lc).size)return!0;const l=new Set(s??z(this,lc));return this.options.throwOnError&&l.add("error"),Object.keys(z(this,Kr)).some(d=>{const f=d;return z(this,Kr)[f]!==t[f]&&l.has(f)})};Ke(this,lt,TT).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ke(this,lt,ex).call(this)}},nn=new WeakMap,Ze=new WeakMap,Id=new WeakMap,Kr=new WeakMap,xo=new WeakMap,ic=new WeakMap,ti=new WeakMap,fs=new WeakMap,Ld=new WeakMap,sc=new WeakMap,oc=new WeakMap,wo=new WeakMap,jo=new WeakMap,hs=new WeakMap,lc=new WeakMap,lt=new WeakSet,Ju=function(t){Ke(this,lt,nx).call(this);let r=z(this,Ze).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Fr)),r},Xb=function(){Ke(this,lt,tx).call(this);const t=bs(this.options.staleTime,z(this,Ze));if(Ao||z(this,Kr).isStale||!Hb(t))return;const n=NT(z(this,Kr).dataUpdatedAt,t)+1;xe(this,wo,lo.setTimeout(()=>{z(this,Kr).isStale||this.updateResult()},n))},Zb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,Ze)):this.options.refetchInterval)??!1},Jb=function(t){Ke(this,lt,rx).call(this),xe(this,hs,t),!(Ao||Qn(this.options.enabled,z(this,Ze))===!1||!Hb(z(this,hs))||z(this,hs)===0)&&xe(this,jo,lo.setInterval(()=>{(this.options.refetchIntervalInBackground||Aw.isFocused())&&Ke(this,lt,Ju).call(this)},z(this,hs)))},ex=function(){Ke(this,lt,Xb).call(this),Ke(this,lt,Jb).call(this,Ke(this,lt,Zb).call(this))},tx=function(){z(this,wo)&&(lo.clearTimeout(z(this,wo)),xe(this,wo,void 0))},rx=function(){z(this,jo)&&(lo.clearInterval(z(this,jo)),xe(this,jo,void 0))},nx=function(){const t=z(this,nn).getQueryCache().build(z(this,nn),this.options);if(t===z(this,Ze))return;const r=z(this,Ze);xe(this,Ze,t),xe(this,Id,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},TT=function(t){ur.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(z(this,Kr))}),z(this,nn).getQueryCache().notify({query:z(this,Ze),type:"observerResultsUpdated"})})},tT);function X$(e,t){return Qn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function uE(e,t){return X$(e,t)||e.state.data!==void 0&&ax(e,t,t.refetchOnMount)}function ax(e,t,r){if(Qn(t.enabled,e)!==!1&&bs(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Cw(e,t)}return!1}function dE(e,t,r,n){return(e!==t||Qn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Cw(e,r)}function Cw(e,t){return Qn(t.enabled,e)!==!1&&e.isStaleByTime(bs(t.staleTime,e))}function Z$(e,t){return!ym(e.getCurrentResult(),t)}function fE(e){return{onFetch:(t,r)=>{var p,g,y,v,x;const n=t.options,a=(y=(g=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,s=((v=t.state.data)==null?void 0:v.pages)||[],l=((x=t.state.data)==null?void 0:x.pageParams)||[];let d={pages:[],pageParams:[]},f=0;const h=async()=>{let S=!1;const _=A=>{K$(A,()=>t.signal,()=>S=!0)},N=ET(t.options,t.fetchOptions),O=async(A,C,T)=>{if(S)return Promise.reject();if(C==null&&A.pages.length)return Promise.resolve(A);const D=(()=>{const Q={client:t.client,queryKey:t.queryKey,pageParam:C,direction:T?"backward":"forward",meta:t.options.meta};return _(Q),Q})(),M=await N(D),{maxPages:L}=t.options,G=T?q$:z$;return{pages:G(A.pages,M,L),pageParams:G(A.pageParams,C,L)}};if(a&&s.length){const A=a==="backward",C=A?J$:hE,T={pages:s,pageParams:l},k=C(n,T);d=await O(T,k,A)}else{const A=e??s.length;do{const C=f===0?l[0]??n.initialPageParam:hE(n,d);if(f>0&&C==null)break;d=await O(d,C),f++}while(f<A)}return d};t.options.persister?t.fetchFn=()=>{var S,_;return(_=(S=t.options).persister)==null?void 0:_.call(S,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function hE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function J$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Bd,wa,Lr,So,ja,ns,rT,e6=(rT=class extends kT{constructor(t){super();Pe(this,ja);Pe(this,Bd);Pe(this,wa);Pe(this,Lr);Pe(this,So);xe(this,Bd,t.client),this.mutationId=t.mutationId,xe(this,Lr,t.mutationCache),xe(this,wa,[]),this.state=t.state||DT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,wa).includes(t)||(z(this,wa).push(t),this.clearGcTimeout(),z(this,Lr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){xe(this,wa,z(this,wa).filter(r=>r!==t)),this.scheduleGc(),z(this,Lr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,wa).length||(this.state.status==="pending"?this.scheduleGc():z(this,Lr).remove(this))}continue(){var t;return((t=z(this,So))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,d,f,h,p,g,y,v,x,S,_,N,O,A,C,T,k,D;const r=()=>{Ke(this,ja,ns).call(this,{type:"continue"})},n={client:z(this,Bd),meta:this.options.meta,mutationKey:this.options.mutationKey};xe(this,So,CT({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(M,L)=>{Ke(this,ja,ns).call(this,{type:"failed",failureCount:M,error:L})},onPause:()=>{Ke(this,ja,ns).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Lr).canRun(this)}));const a=this.state.status==="pending",s=!z(this,So).canStart();try{if(a)r();else{Ke(this,ja,ns).call(this,{type:"pending",variables:t,isPaused:s}),z(this,Lr).config.onMutate&&await z(this,Lr).config.onMutate(t,this,n);const L=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,t,n));L!==this.state.context&&Ke(this,ja,ns).call(this,{type:"pending",context:L,variables:t,isPaused:s})}const M=await z(this,So).start();return await((h=(f=z(this,Lr).config).onSuccess)==null?void 0:h.call(f,M,t,this.state.context,this,n)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,M,t,this.state.context,n)),await((v=(y=z(this,Lr).config).onSettled)==null?void 0:v.call(y,M,null,this.state.variables,this.state.context,this,n)),await((S=(x=this.options).onSettled)==null?void 0:S.call(x,M,null,t,this.state.context,n)),Ke(this,ja,ns).call(this,{type:"success",data:M}),M}catch(M){try{await((N=(_=z(this,Lr).config).onError)==null?void 0:N.call(_,M,t,this.state.context,this,n))}catch(L){Promise.reject(L)}try{await((A=(O=this.options).onError)==null?void 0:A.call(O,M,t,this.state.context,n))}catch(L){Promise.reject(L)}try{await((T=(C=z(this,Lr).config).onSettled)==null?void 0:T.call(C,void 0,M,this.state.variables,this.state.context,this,n))}catch(L){Promise.reject(L)}try{await((D=(k=this.options).onSettled)==null?void 0:D.call(k,void 0,M,t,this.state.context,n))}catch(L){Promise.reject(L)}throw Ke(this,ja,ns).call(this,{type:"error",error:M}),M}finally{z(this,Lr).runNext(this)}}},Bd=new WeakMap,wa=new WeakMap,Lr=new WeakMap,So=new WeakMap,ja=new WeakSet,ns=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ur.batch(()=>{z(this,wa).forEach(n=>{n.onMutationUpdate(t)}),z(this,Lr).notify({mutation:this,type:"updated",action:t})})},rT);function DT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ri,aa,$d,nT,t6=(nT=class extends Nc{constructor(t={}){super();Pe(this,ri);Pe(this,aa);Pe(this,$d);this.config=t,xe(this,ri,new Set),xe(this,aa,new Map),xe(this,$d,0)}build(t,r,n){const a=new e6({client:t,mutationCache:this,mutationId:++Mh(this,$d)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){z(this,ri).add(t);const r=Ih(t);if(typeof r=="string"){const n=z(this,aa).get(r);n?n.push(t):z(this,aa).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,ri).delete(t)){const r=Ih(t);if(typeof r=="string"){const n=z(this,aa).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&z(this,aa).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ih(t);if(typeof r=="string"){const n=z(this,aa).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Ih(t);if(typeof r=="string"){const a=(n=z(this,aa).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ur.batch(()=>{z(this,ri).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,ri).clear(),z(this,aa).clear()})}getAll(){return Array.from(z(this,ri))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>iE(r,n))}findAll(t={}){return this.getAll().filter(r=>iE(t,r))}notify(t){ur.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ur.batch(()=>Promise.all(t.map(r=>r.continue().catch(Fr))))}},ri=new WeakMap,aa=new WeakMap,$d=new WeakMap,nT);function Ih(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ni,ms,an,ai,di,cm,ix,aT,r6=(aT=class extends Nc{constructor(r,n){super();Pe(this,di);Pe(this,ni);Pe(this,ms);Pe(this,an);Pe(this,ai);xe(this,ni,r),this.setOptions(n),this.bindMethods(),Ke(this,di,cm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=z(this,ni).defaultMutationOptions(r),ym(this.options,n)||z(this,ni).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,an),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Co(n.mutationKey)!==Co(this.options.mutationKey)?this.reset():((a=z(this,an))==null?void 0:a.state.status)==="pending"&&z(this,an).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=z(this,an))==null||r.removeObserver(this)}onMutationUpdate(r){Ke(this,di,cm).call(this),Ke(this,di,ix).call(this,r)}getCurrentResult(){return z(this,ms)}reset(){var r;(r=z(this,an))==null||r.removeObserver(this),xe(this,an,void 0),Ke(this,di,cm).call(this),Ke(this,di,ix).call(this)}mutate(r,n){var a;return xe(this,ai,n),(a=z(this,an))==null||a.removeObserver(this),xe(this,an,z(this,ni).getMutationCache().build(z(this,ni),this.options)),z(this,an).addObserver(this),z(this,an).execute(r)}},ni=new WeakMap,ms=new WeakMap,an=new WeakMap,ai=new WeakMap,di=new WeakSet,cm=function(){var n;const r=((n=z(this,an))==null?void 0:n.state)??DT();xe(this,ms,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},ix=function(r){ur.batch(()=>{var n,a,s,l,d,f,h,p;if(z(this,ai)&&this.hasListeners()){const g=z(this,ms).variables,y=z(this,ms).context,v={client:z(this,ni),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(a=(n=z(this,ai)).onSuccess)==null||a.call(n,r.data,g,y,v)}catch(x){Promise.reject(x)}try{(l=(s=z(this,ai)).onSettled)==null||l.call(s,r.data,null,g,y,v)}catch(x){Promise.reject(x)}}else if((r==null?void 0:r.type)==="error"){try{(f=(d=z(this,ai)).onError)==null||f.call(d,r.error,g,y,v)}catch(x){Promise.reject(x)}try{(p=(h=z(this,ai)).onSettled)==null||p.call(h,void 0,r.error,g,y,v)}catch(x){Promise.reject(x)}}}this.listeners.forEach(g=>{g(z(this,ms))})})},aT),Sa,iT,n6=(iT=class extends Nc{constructor(t={}){super();Pe(this,Sa);this.config=t,xe(this,Sa,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??Nw(a,r);let l=this.get(s);return l||(l=new Y$({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){z(this,Sa).has(t.queryHash)||(z(this,Sa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=z(this,Sa).get(t.queryHash);r&&(t.destroy(),r===t&&z(this,Sa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ur.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,Sa).get(t)}getAll(){return[...z(this,Sa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>aE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>aE(t,n)):r}notify(t){ur.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ur.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ur.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Sa=new WeakMap,iT),zt,ps,gs,cc,uc,ys,dc,fc,sT,a6=(sT=class{constructor(e={}){Pe(this,zt);Pe(this,ps);Pe(this,gs);Pe(this,cc);Pe(this,uc);Pe(this,ys);Pe(this,dc);Pe(this,fc);xe(this,zt,e.queryCache||new n6),xe(this,ps,e.mutationCache||new t6),xe(this,gs,e.defaultOptions||{}),xe(this,cc,new Map),xe(this,uc,new Map),xe(this,ys,0)}mount(){Mh(this,ys)._++,z(this,ys)===1&&(xe(this,dc,Aw.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,zt).onFocus())})),xe(this,fc,vm.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,zt).onOnline())})))}unmount(){var e,t;Mh(this,ys)._--,z(this,ys)===0&&((e=z(this,dc))==null||e.call(this),xe(this,dc,void 0),(t=z(this,fc))==null||t.call(this),xe(this,fc,void 0))}isFetching(e){return z(this,zt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,ps).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,zt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=z(this,zt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(bs(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return z(this,zt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=z(this,zt).get(n.queryHash),s=a==null?void 0:a.state.data,l=B$(t,s);if(l!==void 0)return z(this,zt).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return ur.batch(()=>z(this,zt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,zt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=z(this,zt);ur.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=z(this,zt);return ur.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ur.batch(()=>z(this,zt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Fr).catch(Fr)}invalidateQueries(e,t={}){return ur.batch(()=>(z(this,zt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ur.batch(()=>z(this,zt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Fr)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Fr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=z(this,zt).build(this,t);return r.isStaleByTime(bs(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Fr).catch(Fr)}fetchInfiniteQuery(e){return e.behavior=fE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Fr).catch(Fr)}ensureInfiniteQueryData(e){return e.behavior=fE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vm.isOnline()?z(this,ps).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,zt)}getMutationCache(){return z(this,ps)}getDefaultOptions(){return z(this,gs)}setDefaultOptions(e){xe(this,gs,e)}setQueryDefaults(e,t){z(this,cc).set(Co(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,cc).values()],r={};return t.forEach(n=>{ld(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){z(this,uc).set(Co(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,uc).values()],r={};return t.forEach(n=>{ld(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,gs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Nw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ow&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,gs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,zt).clear(),z(this,ps).clear()}},zt=new WeakMap,ps=new WeakMap,gs=new WeakMap,cc=new WeakMap,uc=new WeakMap,ys=new WeakMap,dc=new WeakMap,fc=new WeakMap,sT),MT=j.createContext(void 0),$e=e=>{const t=j.useContext(MT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},i6=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(MT.Provider,{value:e,children:t})),RT=j.createContext(!1),s6=()=>j.useContext(RT);RT.Provider;function o6(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var l6=j.createContext(o6()),c6=()=>j.useContext(l6),u6=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?Ew(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},d6=e=>{j.useEffect(()=>{e.clearReset()},[e])},f6=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||Ew(r,[e.error,n])),h6=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},m6=(e,t)=>e.isLoading&&e.isFetching&&!t,p6=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,mE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function g6(e,t,r){var y,v,x,S;const n=s6(),a=c6(),s=$e(),l=s.defaultQueryOptions(e);(v=(y=s.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||v.call(y,l);const d=s.getQueryCache().get(l.queryHash);l._optimisticResults=n?"isRestoring":"optimistic",h6(l),u6(l,a,d),d6(a);const f=!s.getQueryCache().get(l.queryHash),[h]=j.useState(()=>new t(s,l)),p=h.getOptimisticResult(l),g=!n&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(_=>{const N=g?h.subscribe(ur.batchCalls(_)):Fr;return h.updateResult(),N},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),j.useEffect(()=>{h.setOptions(l)},[l,h]),p6(l,p))throw mE(l,h,a);if(f6({result:p,errorResetBoundary:a,throwOnError:l.throwOnError,query:d,suspense:l.suspense}))throw p.error;if((S=(x=s.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||S.call(x,l,p),l.experimental_prefetchInRender&&!Ao&&m6(p,n)){const _=f?mE(l,h,a):d==null?void 0:d.promise;_==null||_.catch(Fr).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?p:h.trackResult(p)}function Lt(e,t){return g6(e,W$)}function ct(e,t){const r=$e(),[n]=j.useState(()=>new r6(r,e));j.useEffect(()=>{n.setOptions(e)},[n,e]);const a=j.useSyncExternalStore(j.useCallback(l=>n.subscribe(ur.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=j.useCallback((l,d)=>{n.mutate(l,d).catch(Fr)},[n]);if(a.error&&Ew(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}function wp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function y6(e,t,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function d(p){try{h(n.next(p))}catch(g){l(g)}}function f(p){try{h(n.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):a(p.value).then(d,f)}h((n=n.apply(e,t||[])).next())})}const v6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class kw extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class b6 extends kw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class pE extends kw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gE extends kw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var sx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sx||(sx={}));class x6{constructor(t,{headers:r={},customFetch:n,region:a=sx.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=v6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return y6(this,arguments,void 0,function*(r,n={}){var a;let s,l;try{const{headers:d,method:f,body:h,signal:p,timeout:g}=n;let y={},{region:v}=n;v||(v=this.region);const x=new URL(`${this.url}/${r}`);v&&v!=="any"&&(y["x-region"]=v,x.searchParams.set("forceFunctionRegion",v));let S;h&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",S=h):typeof h=="string"?(y["Content-Type"]="text/plain",S=h):typeof FormData<"u"&&h instanceof FormData?S=h:(y["Content-Type"]="application/json",S=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?S=JSON.stringify(h):S=h;let _=p;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),p?(_=l.signal,p.addEventListener("abort",()=>l.abort())):_=l.signal);const N=yield this.fetch(x.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),d),body:S,signal:_}).catch(T=>{throw new b6(T)}),O=N.headers.get("x-relay-error");if(O&&O==="true")throw new pE(N);if(!N.ok)throw new gE(N);let A=((a=N.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield N.json():A==="application/octet-stream"||A==="application/pdf"?C=yield N.blob():A==="text/event-stream"?C=N:A==="multipart/form-data"?C=yield N.formData():C=yield N.text(),{data:C,error:null,response:N}}catch(d){return{data:null,error:d,response:d instanceof gE||d instanceof pE?d.context:void 0}}finally{s&&clearTimeout(s)}})}}var w6=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},j6=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let l=null,d=null,f=null,h=s.status,p=s.statusText;if(s.ok){var g,y;if(r.method!=="HEAD"){var v;const N=await s.text();N===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?d=N:d=JSON.parse(N))}const S=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),_=(y=s.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");S&&_&&_.length>1&&(f=parseInt(_[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var x;const S=await s.text();try{l=JSON.parse(S),Array.isArray(l)&&s.status===404&&(d=[],l=null,h=200,p="OK")}catch{s.status===404&&S===""?(h=204,p="No Content"):l={message:S}}if(l&&r.isMaybeSingle&&(!(l==null||(x=l.details)===null||x===void 0)&&x.includes("0 rows"))&&(l=null,h=200,p="OK"),l&&r.shouldThrowOnError)throw new w6(l)}return{error:l,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(s=>{var l;let d="",f="",h="";const p=s==null?void 0:s.cause;if(p){var g,y,v,x;const N=(g=p==null?void 0:p.message)!==null&&g!==void 0?g:"",O=(y=p==null?void 0:p.code)!==null&&y!==void 0?y:"";d=`${(v=s==null?void 0:s.name)!==null&&v!==void 0?v:"FetchError"}: ${s==null?void 0:s.message}`,d+=`

Caused by: ${(x=p==null?void 0:p.name)!==null&&x!==void 0?x:"Error"}: ${N}`,O&&(d+=` (${O})`),p!=null&&p.stack&&(d+=`
${p.stack}`)}else{var S;d=(S=s==null?void 0:s.stack)!==null&&S!==void 0?S:""}const _=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(h="",f="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((p==null?void 0:p.name)==="HeadersOverflowError"||(p==null?void 0:p.code)==="UND_ERR_HEADERS_OVERFLOW")&&(h="",f="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(f+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=s==null?void 0:s.name)!==null&&l!==void 0?l:"FetchError"}: ${s==null?void 0:s.message}`,details:d,hint:f,code:h},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},S6=class extends j6{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var l;const d=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${f}"; options=${d};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const yE=new RegExp("[,()]");var Kl=class extends S6{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&yE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&yE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},_6=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:a=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let s=!1;const l=(e??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:d,headers:f}=this.cloneRequestState();return d.searchParams.set("select",l),n&&f.append("Prefer",`count=${n}`),new Kl({method:a,url:d,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),r||l.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);s.searchParams.set("columns",f.join(","))}}return new Kl({method:a,url:s,headers:l,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const l="POST",{url:d,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&d.searchParams.set("on_conflict",t),n&&f.append("Prefer",`count=${n}`),a||f.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);d.searchParams.set("columns",p.join(","))}}return new Kl({method:l,url:d,headers:f,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Kl({method:n,url:a,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Kl({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function N6(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O6(e){var t=N6(e,"string");return cd(t)=="symbol"?t:t+""}function E6(e,t,r){return(t=O6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(n){E6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var A6=class IT{constructor(t,{headers:r={},schema:n,fetch:a,timeout:s,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=l;const d=a??globalThis.fetch;s!==void 0&&s>0?this.fetch=(f,h)=>{const p=new AbortController,g=setTimeout(()=>p.abort(),s),y=h==null?void 0:h.signal;if(y){if(y.aborted)return clearTimeout(g),d(f,h);const v=()=>{clearTimeout(g),p.abort()};return y.addEventListener("abort",v,{once:!0}),d(f,Lh(Lh({},h),{},{signal:p.signal})).finally(()=>{clearTimeout(g),y.removeEventListener("abort",v)})}return d(f,Lh(Lh({},h),{},{signal:p.signal})).finally(()=>clearTimeout(g))}:this.fetch=d}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new _6(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new IT(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var l;let d;const f=new URL(`${this.url}/rpc/${t}`);let h;const p=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(p)),g=n&&Object.values(r).some(p);g?(d="POST",h=r):n||a?(d=n?"HEAD":"GET",Object.entries(r).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{f.searchParams.append(v,x)})):(d="POST",h=r);const y=new Headers(this.headers);return g?y.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&y.set("Prefer",`count=${s}`),new Kl({method:d,url:f,headers:y,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class C6{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const k6="2.95.3",P6=`realtime-js/${k6}`,T6="1.0.0",LT="2.0.0",bE=LT,ox=1e4,D6=1e3,M6=100;var as;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(as||(as={}));var lr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(lr||(lr={}));var ia;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ia||(ia={}));var lx;(function(e){e.websocket="websocket"})(lx||(lx={}));var so;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(so||(so={}));class R6{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var a,s;const l=t.topic,d=(a=t.ref)!==null&&a!==void 0?a:"",f=(s=t.join_ref)!==null&&s!==void 0?s:"",h=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+l.length+h.length+g.length,v=new ArrayBuffer(this.HEADER_LENGTH+y);let x=new DataView(v),S=0;x.setUint8(S++,this.KINDS.userBroadcastPush),x.setUint8(S++,f.length),x.setUint8(S++,d.length),x.setUint8(S++,l.length),x.setUint8(S++,h.length),x.setUint8(S++,g.length),x.setUint8(S++,r),Array.from(f,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(d,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(l,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(h,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(g,N=>x.setUint8(S++,N.charCodeAt(0)));var _=new Uint8Array(v.byteLength+n.byteLength);return _.set(new Uint8Array(v),0),_.set(new Uint8Array(n),v.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,l,d,f]=n;return r({join_ref:a,ref:s,topic:l,event:d,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const h=n.decode(t.slice(f,f+a));f=f+a;const p=n.decode(t.slice(f,f+s));f=f+s;const g=n.decode(t.slice(f,f+l));f=f+l;const y=t.slice(f,t.byteLength),v=d===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,x={type:this.BROADCAST_EVENT,event:p,payload:v};return l>0&&(x.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class BT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(jt||(jt={}));const xE=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=I6(l,e,t,a),s),{}):{}},I6=(e,t,r,n)=>{const a=t.find(d=>d.name===e),s=a==null?void 0:a.type,l=r[e];return s&&!n.includes(s)?$T(s,l):cx(l)},$T=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return U6(t,r)}switch(e){case jt.bool:return L6(t);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return B6(t);case jt.json:case jt.jsonb:return $6(t);case jt.timestamp:return z6(t);case jt.abstime:case jt.date:case jt.daterange:case jt.int4range:case jt.int8range:case jt.money:case jt.reltime:case jt.text:case jt.time:case jt.timestamptz:case jt.timetz:case jt.tsrange:case jt.tstzrange:return cx(t);default:return cx(t)}},cx=e=>e,L6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},B6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},U6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(d=>$T(t,d))}return e},z6=e=>typeof e=="string"?e.replace(" ","T"):e,UT=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class e0{constructor(t,r,n={},a=ox){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wE||(wE={}));class ad{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ad.syncState(this.state,a,s,l),this.pendingDiffs.forEach(f=>{this.state=ad.syncDiff(this.state,f,s,l)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ad.syncDiff(this.state,a,s,l),d())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),l=this.transformState(r),d={},f={};return this.map(s,(h,p)=>{l[h]||(f[h]=p)}),this.map(l,(h,p)=>{const g=s[h];if(g){const y=p.map(_=>_.presence_ref),v=g.map(_=>_.presence_ref),x=p.filter(_=>v.indexOf(_.presence_ref)<0),S=g.filter(_=>y.indexOf(_.presence_ref)<0);x.length>0&&(d[h]=x),S.length>0&&(f[h]=S)}else d[h]=p}),this.syncDiff(s,{joins:d,leaves:f},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(d,f)=>{var h;const p=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),p.length>0){const g=t[d].map(v=>v.presence_ref),y=p.filter(v=>g.indexOf(v.presence_ref)<0);t[d].unshift(...y)}n(d,p,f)}),this.map(l,(d,f)=>{let h=t[d];if(!h)return;const p=f.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),t[d]=h,a(d,h,f),h.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jE||(jE={}));var id;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(id||(id={}));var Ja;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ja||(Ja={}));class Vl{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=lr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new e0(this,ia.join,this.params,this.timeout),this.rejoinTimer=new BT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ia.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new ad(this),this.broadcastEndpointURL=UT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==lr.closed){const{config:{broadcast:l,presence:d,private:f}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[id.PRESENCE]&&this.bindings[id.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(Ja.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(Ja.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(Ja.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(x=S==null?void 0:S.length)!==null&&x!==void 0?x:0,N=[];for(let O=0;O<_;O++){const A=S[O],{filter:{event:C,schema:T,table:k,filter:D}}=A,M=v&&v[O];if(M&&M.event===C&&Vl.isFilterValueEqual(M.schema,T)&&Vl.isFilterValueEqual(M.table,k)&&Vl.isFilterValueEqual(M.filter,D))N.push(Object.assign(Object.assign({},A),{id:M.id}));else{this.unsubscribe(),this.state=lr.errored,t==null||t(Ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Ja.SUBSCRIBED);return}}).receive("error",v=>{this.state=lr.errored,t==null||t(Ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===lr.joined&&t===id.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const h=await d.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,d,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ia.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new e0(this,ia.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new e0(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>M6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:p}=ia;if(n&&[d,f,h,p].indexOf(l)>=0&&n!==this._joinRef())return;let y=this._onMessage(l,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var x,S,_;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(S=v.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(v=>v.callback(y,n)):(s=this.bindings[l])===null||s===void 0||s.filter(v=>{var x,S,_,N,O,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const C=v.id,T=(x=v.filter)===null||x===void 0?void 0:x.event;return C&&((S=r.ids)===null||S===void 0?void 0:S.includes(C))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(O=(N=v==null?void 0:v.filter)===null||N===void 0?void 0:N.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return C==="*"||C===((A=r==null?void 0:r.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof y=="object"&&"ids"in y){const x=y.data,{schema:S,table:_,commit_timestamp:N,type:O,errors:A}=x;y=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:N,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(x))}v.callback(y,n)})}_isClosed(){return this.state===lr.closed}_isJoined(){return this.state===lr.joined}_isJoining(){return this.state===lr.joining}_isLeaving(){return this.state===lr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Vl.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ia.close,{},t)}_onError(t){this._on(ia.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=xE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=xE(t.columns,t.old_record)),r}}const t0=()=>{},Bh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},q6=[1e3,2e3,5e3,1e4],K6=1e4,F6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Q6{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ox,this.transport=null,this.heartbeatIntervalMs=Bh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=t0,this.ref=0,this.reconnectTimer=null,this.vsn=bE,this.logger=t0,this.conn=null,this.sendBuffer=[],this.serializer=new R6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${lx.websocket}`,this.httpEndpoint=UT(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=C6.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case as.connecting:return so.Connecting;case as.open:return so.Open;case as.closing:return so.Closing;default:return so.Closed}}isConnected(){return this.connectionState()===so.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new Vl(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(D6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Bh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:s,ref:l}=r,d=l?`(${l})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${a} ${d}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===as.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===as.open||this.conn.readyState===as.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ia.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([F6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:P6};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(ia.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new BT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,l,d,f,h,p,g,y,v;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ox,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Bh.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:t0,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:bE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:(x=>q6[x-1]||K6),this.vsn){case T6:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:((x,S)=>S(JSON.stringify(x))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:((x,S)=>S(JSON.parse(x)));break;case LT:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ud=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function H6(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function V6(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function G6(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:l}){const d=H6(e.baseUrl,n,a),f=await V6(e.auth),h=await t(d,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...f,...l},body:s?JSON.stringify(s):void 0}),p=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),y=g&&p?JSON.parse(p):p;if(!h.ok){const v=g?y:void 0,x=v==null?void 0:v.error;throw new ud((x==null?void 0:x.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:v})}return{status:h.status,headers:h.headers,data:y}}}}function $h(e){return e.join("")}var Y6=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:$h(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$h(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$h(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$h(e.namespace)}`}),!0}catch(t){if(t instanceof ud&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ud&&r.status===409)return;throw r}}};function Dl(e){return e.join("")}var W6=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ud&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ud&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},X6=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=G6({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Y6(this.client,t),this.tableOps=new W6(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},jp=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Sp(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Uh=class extends jp{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zT=class extends jp{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Z6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),J6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ux=e=>{if(Array.isArray(e))return e.map(r=>ux(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=ux(n)}),t},eU=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function tU(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rU(e){var t=tU(e,"string");return dd(t)=="symbol"?t:t+""}function nU(e,t,r){return(t=rU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(r),!0).forEach(function(n){nU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const _E=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},aU=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,s=a.status||500;if(typeof a.json=="function")a.json().then(l=>{const d=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";t(new Uh(_E(l),s,d,n))}).catch(()=>{if(n==="vectors"){const l=s+"";t(new Uh(a.statusText||`HTTP ${s} error`,s,l,n))}else{const l=s+"";t(new Uh(a.statusText||`HTTP ${s} error`,s,l,n))}});else{const l=s+"";t(new Uh(a.statusText||`HTTP ${s} error`,s,l,n))}}else t(new zT(_E(e),e,n))},iU=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Ie(Ie({},a),r):(J6(n)?(a.headers=Ie({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Ie(Ie({},a),r))};async function qu(e,t,r,n,a,s,l){return new Promise((d,f)=>{e(r,iU(t,n,a,s)).then(h=>{if(!h.ok)throw h;if(n!=null&&n.noResolveJson)return h;if(l==="vectors"){const p=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!p||!p.includes("application/json"))return{}}return h.json()}).then(h=>d(h)).catch(h=>aU(h,f,n,l))})}function qT(e="storage"){return{get:async(t,r,n,a)=>qu(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,s)=>qu(t,"POST",r,a,s,n,e),put:async(t,r,n,a,s)=>qu(t,"PUT",r,a,s,n,e),head:async(t,r,n,a)=>qu(t,"HEAD",r,Ie(Ie({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,s)=>qu(t,"DELETE",r,a,s,n,e)}}const sU=qT("storage"),{get:fd,post:ra,put:dx,head:oU,remove:Pw}=sU,jn=qT("vectors");var Oc=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Z6(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Sp(r))return{data:null,error:r};throw r}}},lU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Sp(t))return{data:null,error:t};throw t}}};let KT;KT=Symbol.toStringTag;var cU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[KT]="BlobDownloadBuilder",this.promise=null}asStream(){return new lU(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Sp(t))return{data:null,error:t};throw t}}};const uU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},NE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var dU=class extends Oc{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let s;const l=Ie(Ie({},NE),n);let d=Ie(Ie({},a.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",a.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),f&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(f))):(s=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=a.toBase64(a.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(d=Ie(Ie({},d),n.headers));const h=a._removeEmptyFolders(t),p=a._getFinalPath(h),g=await(e=="PUT"?dx:ra)(a.fetch,`${a.url}/object/${p}`,s,Ie({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:h,id:g.Id,fullPath:g.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const s=a._removeEmptyFolders(e),l=a._getFinalPath(s),d=new URL(a.url+`/object/upload/sign/${l}`);return d.searchParams.set("token",t),a.handleOperation(async()=>{let f;const h=Ie({upsert:NE.upsert},n),p=Ie(Ie({},a.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{path:s,fullPath:(await dx(a.fetch,d.toString(),f,{headers:p})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=Ie({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=await ra(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(r.url+s.url),d=l.searchParams.get("token");if(!d)throw new jp("No token returned by API");return{signedUrl:l.toString(),path:e,token:d}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ra(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ra(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),s=await ra(n.fetch,`${n.url}/object/sign/${a}`,Ie({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${l}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await ra(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(l=>Ie(Ie({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${s}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=a?`?${a}`:"",l=this._getFinalPath(e),d=()=>fd(this.fetch,`${this.url}/${n}/${l}${s}`,{headers:this.headers,noResolveJson:!0},r);return new cU(d,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>ux(await fd(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await oU(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Sp(n)&&n instanceof zT){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${d}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Pw(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=Ie(Ie(Ie({},uU),t),{},{prefix:e||""});return await ra(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Ie({},e);return await ra(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const fU="2.95.3",qd={"X-Client-Info":`storage-js/${fU}`};var hU=class extends Oc{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const s=a.href.replace(/\/$/,""),l=Ie(Ie({},qd),t);super(s,l,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await fd(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await fd(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ra(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await dx(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ra(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Pw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},mU=class extends Oc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},qd),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ra(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await fd(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Pw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!eU(e))throw new jp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new X6({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const l=a[s];return typeof l!="function"?l:async(...d)=>{try{return{data:await l.apply(a,d),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}}}})}},pU=class extends Oc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},qd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await jn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await jn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},gU=class extends Oc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},qd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},yU=class extends Oc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},qd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},vU=class extends yU{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new bU(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},bU=class extends pU{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new xU(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},xU=class extends gU{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},wU=class extends hU{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new dU(this.url,this.headers,e,this.fetch)}get vectors(){return new vU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mU(this.url+"/iceberg",this.headers,this.fetch)}};const FT="2.95.3",Fl=30*1e3,fx=3,r0=fx*Fl,jU="http://localhost:9999",SU="supabase.auth.token",_U={"X-Client-Info":`gotrue-js/${FT}`},hx="X-Supabase-Api-Version",QT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OU=600*1e3;class hd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class EU extends hd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function AU(e){return Ee(e)&&e.name==="AuthApiError"}class oo extends hd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class wi extends hd{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class wn extends wi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function n0(e){return Ee(e)&&e.name==="AuthSessionMissingError"}class Ml extends wi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zh extends wi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qh extends wi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function CU(e){return Ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class OE extends wi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kU extends wi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class mx extends wi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function a0(e){return Ee(e)&&e.name==="AuthRetryableFetchError"}class EE extends wi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class px extends wi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),AE=` 	
\r=`.split(""),PU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<AE.length;t+=1)e[AE[t].charCodeAt(0)]=-2;for(let t=0;t<bm.length;t+=1)e[bm[t].charCodeAt(0)]=t;return e})();function CE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bm[n]),t.queuedBits-=6}}function HT(e,t,r){const n=PU[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kE(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{MU(l,n,r)};for(let l=0;l<e.length;l+=1)HT(e.charCodeAt(l),a,s);return t.join("")}function TU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DU(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}TU(n,t)}}function MU(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Wl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)HT(e.charCodeAt(a),r,n);return new Uint8Array(t)}function RU(e){const t=[];return DU(e,r=>t.push(r)),new Uint8Array(t)}function co(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>CE(a,r,n)),CE(null,r,n),t.join("")}function IU(e){return Math.round(Date.now()/1e3)+e}function LU(){return Symbol("auth-callback")}const Pr=()=>typeof window<"u"&&typeof document<"u",Zs={tested:!1,writable:!1},VT=()=>{if(!Pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zs.tested)return Zs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zs.tested=!0,Zs.writable=!0}catch{Zs.tested=!0,Zs.writable=!1}return Zs.writable};function BU(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const GT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$U=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ql=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Js=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},kr=async(e,t)=>{await e.removeItem(t)};class _p{constructor(){this.promise=new _p.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}_p.promiseConstructor=Promise;function Kh(e){const t=e.split(".");if(t.length!==3)throw new px("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!NU.test(t[n]))throw new px("JWT not in base64url format");return{header:JSON.parse(kE(t[0])),payload:JSON.parse(kE(t[1])),signature:Wl(t[2]),raw:{header:t[0],payload:t[1]}}}async function UU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zU(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){a(l);return}}})()})}function qU(e){return("0"+e.toString(16)).substr(-2)}function KU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,qU).join("")}async function FU(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function QU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await FU(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rl(e,t,r=!1){const n=KU();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Ql(e,`${t}-code-verifier`,a);const s=await QU(n);return[s,n===s?"plain":"s256"]}const HU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VU(e){const t=e.headers.get(hx);if(!t||!t.match(HU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function GU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function YU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Il(e){if(!WU.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function i0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function XU(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function PE(e){return JSON.parse(JSON.stringify(e))}const ro=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZU=[502,503,504];async function TE(e){var t;if(!$U(e))throw new mx(ro(e),0);if(ZU.includes(e.status))throw new mx(ro(e),e.status);let r;try{r=await e.json()}catch(s){throw new oo(ro(s),s)}let n;const a=VU(e);if(a&&a.getTime()>=QT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new EE(ro(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new wn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new EE(ro(r),e.status,r.weak_password.reasons);throw new EU(ro(r),e.status||500,n)}const JU=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Re(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[hx]||(s[hx]=QT["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await ez(e,t,r+d,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function ez(e,t,r,n,a,s){const l=JU(t,n,a,s);let d;try{d=await e(r,Object.assign({},l))}catch(f){throw console.error(f),new mx(ro(f),0)}if(d.ok||await TE(d),n!=null&&n.noResolveJson)return d;try{return await d.json()}catch(f){await TE(f)}}function ta(e){var t;let r=null;nz(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=IU(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function DE(e){const t=ta(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function os(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tz(e){return{data:e,error:null}}function rz(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,l=wp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function ME(e){return e}function nz(e){return e.access_token&&e.refresh_token&&e.expires_in}const s0=["global","local","others"];class az{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=GT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=s0[0]){if(s0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${s0.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:os})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=wp(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:rz,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ee(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:os})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:ME});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);h[`${_}Page`]=S}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ee(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Il(t);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:os})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Il(t);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:os})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Il(t);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:os})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Il(t.userId);try{const{data:r,error:n}=await Re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Il(t.userId),Il(t.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:ME});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);h[`${_}Page`]=S}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ee(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}}function RE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ll={debug:!!(globalThis&&VT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class YT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class iz extends YT{}async function sz(e,t,r){Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new iz(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ll.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function oz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function WT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function lz(e){return parseInt(e,16)}function cz(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function uz(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:d,requestId:f,resources:h,scheme:p,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=WT(e.address),x=p?`${p}://${n}`:n,S=e.statement?`${e.statement}
`:"",_=`${x} wants you to sign in with your Ethereum account:
${v}

${S}`;let N=`URI: ${g}
Version: ${y}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),f&&(N+=`
Request ID: ${f}`),h){let O=`
Resources:`;for(const A of h){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);O+=`
- ${A}`}N+=O}return`${_}
${N}`}class er extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class xm extends er{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function dz({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new er({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new er({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new er({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new er({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new er({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new er({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(XT(l)){if(s.rp.id!==l)return new er({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new er({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function fz({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(XT(n)){if(r.rpId!==n)return new er({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class hz{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const mz=new hz;function pz(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=wp(e,["challenge","user","excludeCredentials"]),s=Wl(t).buffer,l=Object.assign(Object.assign({},r),{id:Wl(r.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:s,user:l});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Wl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function gz(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=wp(e,["challenge","allowCredentials"]),a=Wl(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const d=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},d),{id:Wl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function yz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:co(new Uint8Array(e.response.attestationObject)),clientDataJSON:co(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function vz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:co(new Uint8Array(a.authenticatorData)),clientDataJSON:co(new Uint8Array(a.clientDataJSON)),signature:co(new Uint8Array(a.signature)),userHandle:a.userHandle?co(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function IE(){var e,t;return!!(Pr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function bz(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xm("Browser returned unexpected credential type",t)}:{data:null,error:new xm("Empty credential response",t)}}catch(t){return{data:null,error:dz({error:t,options:e})}}}async function xz(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xm("Browser returned unexpected credential type",t)}:{data:null,error:new xm("Empty credential response",t)}}catch(t){return{data:null,error:fz({error:t,options:e})}}}const wz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},jz={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wm(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const d=n[s];t(d)?n[s]=wm(d,l):n[s]=wm(l)}else n[s]=l}return n}function Sz(e,t){return wm(wz,e,t||{})}function _z(e,t){return wm(jz,e,t||{})}class Nz{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){var l;try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!d)return{data:null,error:f};const h=a??mz.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;if(!p.name){const g=n;if(g)p.name=`${p.id}:${g}`;else{const v=(await this.client.getUser()).data.user,x=((l=v==null?void 0:v.user_metadata)===null||l===void 0?void 0:l.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";p.name=`${p.id}:${x}`}}p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=Sz(d.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:g,error:y}=await bz({publicKey:p,signal:h});return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}case"request":{const p=_z(d.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:g,error:y}=await xz(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}}}catch(d){return Ee(d)?{data:null,error:d}:{data:null,error:new oo("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new hd("rpId is required for WebAuthn authentication")};try{if(!IE())return{data:null,error:new oo("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!l)return{data:null,error:d};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(l){return Ee(l)?{data:null,error:l}:{data:null,error:new oo("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new hd("rpId is required for WebAuthn registration")};try{if(!IE())return{data:null,error:new oo("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ee(l)?{data:null,error:l}:{data:null,error:new oo("Unexpected error in register",l)}}}}oz();const Oz={url:jU,storageKey:SU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_U,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function LE(e,t,r){return await r()}const Bl={};class md{get jwks(){var t,r;return(r=(t=Bl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Bl[this.storageKey]=Object.assign(Object.assign({},Bl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Bl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Bl[this.storageKey]=Object.assign(Object.assign({},Bl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Oz),t);if(this.storageKey=s.storageKey,this.instanceID=(r=md.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,md.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Pr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new az({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=GT(s.fetch),this.lock=s.lock||LE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Pr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=sz:this.lock=LE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Nz(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:VT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=RE(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=RE(this.memoryStorage)),Pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${FT}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Pr()&&(r=BU(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Pr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),CU(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:l,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ee(r)?this._returnResult({error:r}):this._returnResult({error:new oo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ta}),{data:l,error:d}=s;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:p,password:g,options:y}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Rl(this.storage,this.storageKey)),s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:g,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:x},xform:ta})}else if("phone"in t){const{phone:p,password:g,options:y}=t;s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(a=y==null?void 0:y.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:ta})}else throw new zh("You must provide either an email or phone number and a password");const{data:l,error:d}=s;if(d||!l)return await kr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:d}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:DE})}else if("phone"in t){const{phone:s,password:l,options:d}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:DE})}else throw new zh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new Ml;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,l,d,f,h,p,g,y;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:S,wallet:_,statement:N,options:O}=t;let A;if(Pr())if(typeof _=="object")A=_;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")A=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const C=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href),T=await A.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=WT(T[0]);let D=(n=O==null?void 0:O.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!D){const L=await A.request({method:"eth_chainId"});D=lz(L)}const M={domain:C.host,address:k,statement:N,uri:C.href,version:"1",chainId:D,nonce:(a=O==null?void 0:O.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=O==null?void 0:O.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=O==null?void 0:O.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=O==null?void 0:O.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=O==null?void 0:O.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=uz(M),x=await A.request({method:"personal_sign",params:[cz(v),k]})}try{const{data:S,error:_}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ta});if(_)throw _;if(!S||!S.session||!S.user){const N=new Ml;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(Ee(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var r,n,a,s,l,d,f,h,p,g,y,v;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:_,wallet:N,statement:O,options:A}=t;let C;if(Pr())if(typeof N=="object")C=N;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))C=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const T=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const k=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),O?{statement:O}:null));let D;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")D=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)D=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)x=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),S=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${T.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(a=(n=A==null?void 0:A.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=A==null?void 0:A.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((g=(p=A==null?void 0:A.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...A.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const k=await C.signMessage(new TextEncoder().encode(x),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=k}}try{const{data:_,error:N}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:co(S)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ta});if(N)throw N;if(!_||!_.session||!_.user){const O=new Ml;return this._returnResult({data:{user:null,session:null},error:O})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:N})}catch(_){if(Ee(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await Js(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new kU;const{data:s,error:l}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ta});if(await kr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const d=new Ml;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Ee(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:l}=t,d=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ta}),{data:f,error:h}=d;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const p=new Ml;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,l;try{if("email"in t){const{email:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Rl(this.storage,this.storageKey));const{error:g}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:p}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new zh("You must provide either an email or phone number.")}catch(d){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Ee(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:d}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:ta});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(Ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,l;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Rl(this.storage,this.storageKey));const h=await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:tz});return!((s=h.data)===null||s===void 0)&&s.url&&Pr()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(d){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Ee(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new wn;const{error:a}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ee(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:l}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:l,error:d}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d})}throw new zh("You must provide either an email or phone number and a type")}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Js(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<r0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await Js(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=i0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=XU(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:os}):await this._useSession(async r=>{var n,a,s;const{data:l,error:d}=r;if(d)throw d;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wn}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:os})})}catch(r){if(Ee(r))return n0(r)&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new wn;const l=a.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await Rl(this.storage,this.storageKey));const{data:h,error:p}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:os});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Ee(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wn;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:l}=Kh(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};s=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});s={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:d}=r;if(d)throw d;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new wn;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Pr())throw new qh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new OE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new OE("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:d,expires_at:f,token_type:h}=t;if(!s||!d||!l||!h)throw new qh("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(d);let y=p+g;f&&(y=parseInt(f));const v=y-p;v*1e3<=Fl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const x=y-g;p-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,y,p):p-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,y,p);const{data:S,error:_}=await this._getUser(s);if(_)throw _;const N={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:y,refresh_token:l,token_type:h,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(n){if(Ee(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Js(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s&&!n0(s))return this._returnResult({error:s});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(AU(d)&&(d.status===404||d.status===401||d.status===403)||n0(d)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=LU(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Rl(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Ee(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var l,d,f,h,p;const{data:g,error:y}=s;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return Pr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ee(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:l,provider:d,token:f,access_token:h,nonce:p}=t,g=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:f,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ta}),{data:y,error:v}=g;return v?this._returnResult({data:{user:null,session:null},error:v}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Ml}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:v}))}catch(a){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)throw l;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zU(async a=>(a>0&&await UU(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ta})),(a,s)=>{const l=200*Math.pow(2,a);return s&&a0(s)&&Date.now()+l-n<Fl})}catch(n){if(this._debug(r,"error",n),Ee(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Js(this.storage,this.storageKey);if(a&&this.userStorage){let l=await Js(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Ql(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:i0()}else if(a&&!a.user&&!a.user){const l=await Js(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,await kr(this.storage,this.storageKey+"-user"),await Ql(this.storage,this.storageKey,a)):a.user=i0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<r0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${r0}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),a0(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(a.access_token);!d&&(l!=null&&l.user)?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new _p;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new wn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const d={data:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(a,"error",s),Ee(s)){const l={data:null,error:s};return a0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(l),s.length>0){for(let d=0;d<s.length;d+=1)console.error(s[d]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await kr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ql(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=PE(a);await Ql(this.storage,this.storageKey,s)}else{const a=PE(r);await Ql(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await kr(this.storage,this.storageKey),await kr(this.storage,this.storageKey+"-code-verifier"),await kr(this.storage,this.storageKey+"-user"),this.userStorage&&await kr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Fl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Fl}ms, refresh threshold is ${fx} ticks`),a<=fx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof YT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await Rl(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(d.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&f.type==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?yz(t.webauthn.credential_response):vz(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:pz(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:gz(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,s;if(t)try{const{payload:v}=Kh(t);let x=null;v.aal&&(x=v.aal);let S=x;const{data:{user:_},error:N}=await this.getUser(t);if(N)return this._returnResult({data:null,error:N});((n=(r=_==null?void 0:_.factors)===null||r===void 0?void 0:r.filter(C=>C.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(S="aal2");const A=v.amr||[];return{data:{currentLevel:x,nextLevel:S,currentAuthenticationMethods:A},error:null}}catch(v){if(Ee(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:l},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Kh(l.access_token);let h=null;f.aal&&(h=f.aal);let p=h;((s=(a=l.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const y=f.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Re(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new wn})})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new wn});const l=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&Pr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new wn});const l=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&Pr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new wn})})}catch(t){if(Ee(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wn})})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(d=>d.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+OU>a)return n;const{data:s,error:l}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return this._returnResult({data:null,error:x});n=v.session.access_token}const{header:a,payload:s,signature:l,raw:{header:d,payload:f}}=Kh(n);r!=null&&r.allowExpired||GU(s.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:a,signature:l},error:null}}const p=YU(a.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,RU(`${d}.${f}`)))throw new px("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}}md.nextInstanceID={};const Ez=md,Az="2.95.3";let ed="";typeof Deno<"u"?ed="deno":typeof document<"u"?ed="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ed="react-native":ed="node";const Cz={"X-Client-Info":`supabase-js-${ed}/${Az}`},kz={headers:Cz},Pz={schema:"public"},Tz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dz={};function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function Mz(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rz(e){var t=Mz(e,"string");return pd(t)=="symbol"?t:t+""}function Iz(e,t,r){return(t=Rz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(n){Iz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Lz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Bz=()=>Headers,$z=(e,t,r)=>{const n=Lz(r),a=Bz();return async(s,l)=>{var d;const f=(d=await t())!==null&&d!==void 0?d:e;let h=new a(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(s,qt(qt({},l),{},{headers:h}))}};function Uz(e){return e.endsWith("/")?e:e+"/"}function zz(e,t){var r,n;const{db:a,auth:s,realtime:l,global:d}=e,{db:f,auth:h,realtime:p,global:g}=t,y={db:qt(qt({},f),a),auth:qt(qt({},h),s),realtime:qt(qt({},p),l),storage:{},global:qt(qt(qt({},g),d),{},{headers:qt(qt({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function qz(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Uz(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Kz=class extends Ez{constructor(e){super(e)}},Fz=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const s=qz(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,d={db:Pz,realtime:Dz,auth:qt(qt({},Tz),{},{storageKey:l}),global:kz},f=zz(r??{},d);if(this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=$z(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(qt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new A6(new URL("rest/v1",s).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new wU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new x6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:l,lock:d,debug:f,throwOnError:h},p,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kz({url:this.authUrl.href,headers:qt(qt({},y),p),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:l,lock:d,debug:f,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Q6(this.realtimeUrl.href,qt(qt({},e),{},{params:qt(qt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Qz=(e,t,r)=>new Fz(e,t,r);function Hz(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Hz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vz="https://ozjddzasadgffjjeqntc.supabase.co",Gz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96amRkemFzYWRnZmZqamVxbnRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTMwMzEsImV4cCI6MjA4NTk2OTAzMX0._1fbWup_bHYe0PN5QUcptRMuwZRAEFwQOPEPd7Lk3NY",ye=Qz(Vz,Gz);function ZT(e){return`${e.replace(/[^0-9]/g,"")}@bdhatbela.local`}const Yz={company:{name:"BD Hatbela",logo:"",phone:"",email:"",address:""},order:{prefix:"BDH-",nextNumber:1},invoice:{title:"Tax Invoice",logoWidth:60,logoHeight:60,footer:"Thank you for shopping with BD Hatbela!"},defaults:{accountId:"",paymentMethod:"Cash",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:20},categories:[],paymentMethods:[],courier:{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}},JT=e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null},Wz=JT("currentUser"),Xz=JT("settings"),we={users:[],customers:[],vendors:[],products:[],orders:[],bills:[],accounts:[],transactions:[],currentUser:Wz??null,settings:Xz??Yz},eo=()=>{try{localStorage.setItem("currentUser",JSON.stringify(we.currentUser)),localStorage.setItem("settings",JSON.stringify(we.settings))}catch(e){console.warn("[DB] localStorage write failed:",e)}},eD=j.createContext(void 0),Zz=({children:e})=>{const[t,r]=j.useState(null),[n,a]=j.useState(null),[s,l]=j.useState(!0);console.log("[AuthProvider] Mounting - initializing context provider");const d=(g,y)=>{const v=(y==null?void 0:y.split("@")[0].replace(/[^0-9]/g,""))||"";return{id:g,name:(y==null?void 0:y.split("@")[0])||"User",phone:v||"unknown",role:"Employee",image:null,created_at:new Date().toISOString(),is_fallback:!0}},f=async(g,y,v)=>{if(!g&&!y)return console.warn("[Auth] No userId or email provided to fetchProfile"),v?(console.log("[Auth] Using saved profile as fallback"),v):d("unknown",y);try{let x;if(g)console.log("[Auth] Fetching profile for userId:",g),x=ye.from("users").select("*").eq("id",g).single();else{const O=y.split("@")[0].replace(/[^0-9]/g,"");console.log("[Auth] Fetching profile for phone:",O),x=ye.from("users").select("*").eq("phone",O).single()}const{data:S,error:_}=await Promise.race([x,new Promise(O=>setTimeout(()=>O({data:null,error:new Error("profile_fetch_timeout")}),15e3))]);return S?(console.log("[Auth] Profile fetched successfully from database:",S.name),S):v?(console.warn("[Auth] Profile fetch failed ("+(_==null?void 0:_.message)+"), using saved profile:",v.name),v):(console.warn("[Auth] Profile fetch failed and no saved profile available, creating minimal fallback"),d(g||"unknown",y))}catch(x){return console.error("[Auth] Profile fetch exception:",x),v?(console.log("[Auth] Exception during fetch, using saved profile:",v.name),v):d(g||"unknown",y)}};j.useEffect(()=>{var _,N;let g=!0,y=null,v=!1;return(async()=>{try{console.log("[Auth] Initializing - attempting to restore session...");const O=localStorage.getItem("userProfile"),A=localStorage.getItem("userData");let C=null;if(O&&A)try{C=JSON.parse(O);const k=JSON.parse(A);console.log("[Auth] Restored session from localStorage:",C.name),g&&(r(k),a(C),we.currentUser=C,eo())}catch{console.warn("[Auth] Failed to parse saved session data"),localStorage.removeItem("userProfile"),localStorage.removeItem("userData")}const{data:{session:T}}=await ye.auth.getSession();if(T!=null&&T.user&&g){console.log("[Auth] Active Supabase session found:",T.user.email),r(T.user),localStorage.setItem("userData",JSON.stringify(T.user));const k=await f(T.user.id,T.user.email||void 0,C);g&&(console.log("[Auth] Setting profile:",k.name),a(k),we.currentUser=k,eo(),localStorage.setItem("userProfile",JSON.stringify(k)),localStorage.setItem("isLoggedIn","true"))}else!(T!=null&&T.user)&&!C?(console.log("[Auth] No session found and no saved profile - user is logged out"),g&&(r(null),a(null),we.currentUser=null,eo(),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userProfile"),localStorage.removeItem("userData"))):!(T!=null&&T.user)&&C&&console.log("[Auth] No current session but keeping saved profile from localStorage");v=!0,g&&l(!1)}catch(O){console.error("[Auth] Initialization error:",O),v=!0,g&&l(!1)}})(),y=((N=(_=ye.auth.onAuthStateChange(async(O,A)=>{if(console.log("[Auth] Auth state changed - event:",O,"hasSession:",!!(A!=null&&A.user)),!v){console.log("[Auth] Ignoring auth change during initialization");return}try{if(A!=null&&A.user){if(console.log("[Auth] User authenticated via listener:",A.user.email),g){r(A.user),localStorage.setItem("userData",JSON.stringify(A.user));let C=null;const T=localStorage.getItem("userProfile");if(T)try{C=JSON.parse(T)}catch{console.warn("[Auth] Failed to parse saved profile for fallback")}const k=await f(A.user.id,A.user.email||void 0,C);g&&(console.log("[Auth] Setting profile from listener:",k.name),a(k),we.currentUser=k,eo(),localStorage.setItem("userProfile",JSON.stringify(k)),localStorage.setItem("isLoggedIn","true"),window.dispatchEvent(new Event("authChange")))}}else console.log("[Auth] User signed out via listener"),g&&(r(null),a(null),we.currentUser=null,eo(),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userProfile"),localStorage.removeItem("userData"),window.dispatchEvent(new Event("authChange")))}catch(C){console.error("[Auth] Error handling auth state change:",C)}}).data)==null?void 0:_.subscription)==null?void 0:N.unsubscribe)||(()=>{}),()=>{if(console.log("[Auth] Cleaning up auth provider"),g=!1,y)try{y()}catch(O){console.error("[Auth] Error unsubscribing from auth changes:",O)}}},[]);const h=async(g,y)=>{var x,S;let v=g;g.includes("@")||(v=ZT(g)),console.log("[Auth] signIn called with email:",v);try{const _=await ye.auth.signInWithPassword({email:v,password:y});if(_.error)return console.error("[Auth] signIn failed:",_.error.message),((x=_.error.message)!=null&&x.includes("Email not confirmed")||_.error.status===422)&&(_.error.message='Email confirmation required. Please have administrator disable email confirmation in Supabase dashboard under Authentication > Providers > Email, then toggle off "Confirm email"'),_;if((S=_.data)!=null&&S.user){console.log("[Auth] signIn successful for:",_.data.user.email),r(_.data.user);let N=null;const O=localStorage.getItem("userProfile");if(O)try{N=JSON.parse(O)}catch{console.warn("[Auth] Failed to parse saved profile for signIn fallback")}const A=await f(_.data.user.id,_.data.user.email||void 0,N);return a(A),we.currentUser=A,eo(),localStorage.setItem("userProfile",JSON.stringify(A)),localStorage.setItem("userData",JSON.stringify(_.data.user)),localStorage.setItem("isLoggedIn","true"),l(!1),window.dispatchEvent(new Event("authChange")),console.log("[Auth] User profile loaded:",A.name),{..._,profileLoaded:!0}}return _}catch(_){return console.error("[Auth] signIn exception:",_),{error:_}}},p=async()=>{console.log("[Auth] signOut called");try{await ye.auth.signOut()}catch(g){console.error("[Auth] Supabase signOut error:",g)}r(null),a(null),we.currentUser=null,eo(),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userProfile"),localStorage.removeItem("userData"),localStorage.removeItem("currentUser"),window.dispatchEvent(new Event("authChange")),console.log("[Auth] signOut completed - state cleared")};return console.log("[AuthProvider] Rendering with state:",{userEmail:t==null?void 0:t.email,profileName:n==null?void 0:n.name,isLoading:s}),c.jsx(eD.Provider,{value:{user:t,profile:n,isLoading:s,signIn:h,signOut:p},children:e})};function Np(){const e=j.useContext(eD);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const tD=j.createContext(void 0),Jz=({children:e})=>{const[t,r]=j.useState([]),n=j.useCallback((l,d,f=3500)=>{const h=`toast-${Date.now()}-${Math.random()}`,p={id:h,message:l,type:d,duration:f};return r(g=>[...g,p]),f>0&&setTimeout(()=>{a(h)},f),h},[]),a=j.useCallback(l=>{r(d=>d.filter(f=>f.id!==l))},[]),s=j.useCallback((l,d,f,h=3500)=>{r(p=>{const g=p.map(y=>y.id===l?{...y,message:d,type:f,duration:h}:y);return h>0&&setTimeout(()=>{a(l)},h),g})},[a]);return c.jsx(tD.Provider,{value:{toasts:t,showToast:n,dismissToast:a,updateToast:s},children:e})},rD=()=>{const e=j.useContext(tD);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Mr=()=>{const{showToast:e,updateToast:t}=rD();return{success:r=>e(r,"success",3500),error:r=>e(r,"error",4500),warning:r=>e(r,"warning",3500),info:r=>e(r,"info",3500),loading:r=>e(r,"info",0),update:(r,n,a="success")=>t(r,n,a,3500)}},nD=j.createContext(void 0),eq=({children:e})=>{const[t,r]=j.useState(""),n=()=>r("");return c.jsx(nD.Provider,{value:{searchQuery:t,setSearchQuery:r,clearSearch:n},children:e})},Da=()=>{const e=j.useContext(nD);if(!e)throw new Error("useSearch must be used within a SearchProvider");return e},tq=j.createContext(void 0),rq=({children:e})=>{const t=$e(),[r,n]=xr.useState(!1);return j.useEffect(()=>{console.log("[Realtime] Initializing subscriptions for orders, bills, transactions...");const a=ye.channel("public:orders",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"orders"},f=>{var h,p;if(console.log("[Realtime] Orders change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["orders"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["orders"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["orders"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["orders"],(g=[])=>g.filter(y=>y.id!==f.new.id));t.invalidateQueries({queryKey:["ordersByCustomerId"]}),(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["order",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?(console.log("[Realtime] Orders channel subscribed"),n(!0)):f==="CHANNEL_ERROR"&&h&&(console.error("[Realtime] Orders channel error:",h),n(!1))}),s=ye.channel("public:bills",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"bills"},f=>{var h,p;if(console.log("[Realtime] Bills change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["bills"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["bills"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["bills"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["bills"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["bill",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Bills channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Bills channel error:",h)}),l=ye.channel("public:transactions",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"transactions"},f=>{var h,p;if(console.log("[Realtime] Transactions change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["transactions"])||[];if(!g.find(y=>y.id===f.new.id)){const y=[f.new,...g].sort((v,x)=>{const S=new Date(v.date||v.createdAt||0).getTime();return new Date(x.date||x.createdAt||0).getTime()-S});t.setQueryData(["transactions"],y)}}else f.eventType==="UPDATE"?t.setQueryData(["transactions"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["transactions"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["transaction",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Transactions channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Transactions channel error:",h)}),d=ye.channel("public:accounts",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"accounts"},f=>{var h,p;if(console.log("[Realtime] Accounts change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["accounts"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["accounts"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["accounts"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["accounts"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["account",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Accounts channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Accounts channel error:",h)});return()=>{console.log("[Realtime] Cleaning up all subscriptions"),ye.removeChannel(a),ye.removeChannel(s),ye.removeChannel(l),ye.removeChannel(d),n(!1)}},[t]),c.jsx(tq.Provider,{value:{isConnected:r},children:e})},aD=j.createContext(void 0),nq=({children:e})=>{const t=$e(),[r,n]=j.useState(navigator.onLine),[a,s]=j.useState(!1);return j.useEffect(()=>{console.log("[Network] Provider initialized - initial online status:",navigator.onLine);const l=()=>{console.log("[Network] Connection restored - refetching all queries"),n(!0),s(!0),t.refetchQueries()},d=()=>{console.log("[Network] Connection lost - offline mode activated"),n(!1)};return window.addEventListener("online",l),window.addEventListener("offline",d),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",d)}},[t]),c.jsx(aD.Provider,{value:{isOnline:r,wasOffline:a},children:e})};function aq(){const e=j.useContext(aD);if(!e)throw new Error("useNetwork must be used within NetworkProvider");return e}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=e=>{const t=sq(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...d},f)=>j.createElement("svg",{ref:f,...oq,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:iD("lucide",a),...!s&&!lq(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>j.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=(e,t)=>{const r=j.forwardRef(({className:n,...a},s)=>j.createElement(cq,{ref:s,iconNode:t,className:iD(`lucide-${iq($E(e))}`,`lucide-${e}`,n),...a}));return r.displayName=$E(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],dq=Ct("arrow-right-left",uq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],UE=Ct("briefcase",fq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],mq=Ct("chart-column",hq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gq=Ct("check",pq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vq=Ct("chevron-right",yq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xq=Ct("circle-alert",bq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],jq=Ct("circle-plus",wq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_q=Ct("copy",Sq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Oq=Ct("credit-card",Nq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Aq=Ct("download",Eq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],kq=Ct("ellipsis-vertical",Cq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Tq=Ct("info",Pq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Mq=Ct("layout-dashboard",Dq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Iq=Ct("log-out",Rq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"M5 12h14",key:"1ays0h"}]],Bq=Ct("minus",Lq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Uq=Ct("package",$q);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qq=Ct("plus",zq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Fq=Ct("printer",Kq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Hq=Ct("search",Qq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gq=Ct("settings",Vq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Wq=Ct("shopping-cart",Yq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Zq=Ct("square-pen",Xq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],e8=Ct("trash-2",Jq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],r8=Ct("truck",t8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zE=Ct("users",n8),ne={Dashboard:c.jsx(Mq,{size:20}),Sales:c.jsx(Wq,{size:20}),Products:c.jsx(Uq,{size:20}),Customers:c.jsx(zE,{size:20}),Vendors:c.jsx(UE,{size:20}),Users:c.jsx(zE,{size:20}),Briefcase:c.jsx(UE,{size:20}),Banking:c.jsx(Oq,{size:20}),Reports:c.jsx(mq,{size:20}),Settings:c.jsx(Gq,{size:20}),Courier:c.jsx(r8,{size:20}),Plus:c.jsx(qq,{size:20}),Minus:c.jsx(Bq,{size:20}),PlusCircle:c.jsx(jq,{size:20}),LogOut:c.jsx(Iq,{size:20}),ChevronRight:c.jsx(vq,{size:20}),Search:c.jsx(Hq,{size:18}),More:c.jsx(kq,{size:18}),Print:c.jsx(Fq,{size:18}),Download:c.jsx(Aq,{size:18}),Duplicate:c.jsx(_q,{size:18}),Edit:c.jsx(Zq,{size:18}),Delete:c.jsx(e8,{size:18}),Transfer:c.jsx(dq,{size:18}),Check:c.jsx(gq,{size:20}),AlertCircle:c.jsx(xq,{size:20}),Info:c.jsx(Tq,{size:20})},ve=e=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0,maximumFractionDigits:0}).format(e).replace("BDT",""),Op=e=>({ON_HOLD:"bg-gray-100 text-gray-600",PROCESSING:"bg-blue-100 text-blue-600",PICKED:"bg-purple-100 text-purple-600",COMPLETED:"bg-green-100 text-green-600",CANCELLED:"bg-red-100 text-red-600",RECEIVED:"bg-green-100 text-green-600","On Hold":"bg-gray-100 text-gray-600",Processing:"bg-blue-100 text-blue-600",Picked:"bg-purple-100 text-purple-600",Completed:"bg-green-100 text-green-600",Cancelled:"bg-red-100 text-red-600",Received:"bg-green-100 text-green-600"})[e]||"bg-gray-100 text-gray-600";var At=(e=>(e.ADMIN="Admin",e.EMPLOYEE="Employee",e))(At||{}),Le=(e=>(e.ON_HOLD="On Hold",e.PROCESSING="Processing",e.PICKED="Picked",e.COMPLETED="Completed",e.CANCELLED="Cancelled",e))(Le||{}),sn=(e=>(e.ON_HOLD="On Hold",e.PROCESSING="Processing",e.RECEIVED="Received",e.PAID="Paid",e))(sn||{});const ae={colors:{primary:{50:"bg-[#ebf4ff]",500:"bg-[#3c5a82]",600:"bg-[#0f2f57]",700:"bg-[#0c203b]",text:"text-[#0f2f57]"},secondary:{600:"bg-blue-600",700:"bg-blue-700"},danger:{50:"bg-red-50",600:"bg-red-600",700:"bg-red-700",text:"text-red-600"},bg:{primary:"bg-white",secondary:"bg-gray-50",tertiary:"bg-gray-100"},text:{primary:"text-gray-900",secondary:"text-gray-500",tertiary:"text-gray-400"},border:{primary:"border-gray-100"}},radius:{sm:"rounded-lg",md:"rounded-xl"},transitions:{normal:"transition-all duration-300"},buttons:{base:"inline-flex items-center justify-center gap-2 font-bold rounded-xl transition-all duration-300 cursor-pointer",secondary:"bg-gray-100 text-gray-600 hover:bg-gray-200",outline:"border-2 border-gray-200 text-gray-700 hover:bg-gray-50",sizes:{sm:"px-3 py-2 text-xs",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3.5 text-sm"}},inputs:{base:"w-full px-4 py-2.5 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] focus:border-transparent transition-all",label:"block text-sm font-semibold text-gray-700 mb-2",error:"border-red-500 focus:ring-red-500"},table:{header:"bg-gray-50 border-b border-gray-100"},card:{base:"bg-white rounded-2xl shadow-sm border border-gray-100 transition-all",elevated:"bg-white rounded-2xl shadow-md border border-gray-100"}},Ec="https://ozjddzasadgffjjeqntc.supabase.co",Ac="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96amRkemFzYWRnZmZqamVxbnRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTMwMzEsImV4cCI6MjA4NTk2OTAzMX0._1fbWup_bHYe0PN5QUcptRMuwZRAEFwQOPEPd7Lk3NY";let Ku=null;async function cn(){try{const e=Date.now();if(Ku&&e-Ku.ts<6e4)return Ku.session;const{data:t,error:r}=await ye.auth.getSession();if(r||!(t!=null&&t.session))throw new Error("No authenticated session available. Please log in.");Ku={session:t.session,ts:Date.now()};try{const n=t.session.expires_at&&Number(t.session.expires_at)||0;(n?n*1e3-Date.now():Number.POSITIVE_INFINITY)<12e4&&await ye.auth.refreshSession()}catch(n){console.warn("[supabaseQueries] session refresh failed (non-fatal):",n)}return Ku.session}catch(e){throw console.error("[supabaseQueries] ensureAuthenticated failed:",(e==null?void 0:e.message)||e),e}}async function ji(e,t=1e4){const r=n=>{if(!n)return!1;const a=((n==null?void 0:n.message)||(n==null?void 0:n.toString())||"").toLowerCase(),s=(n==null?void 0:n.code)||"";return a.includes("failed to fetch")||a.includes("connection closed")||a.includes("network")||a.includes("econnrefused")||a.includes("etimedout")||s==="ERR_CONNECTION_CLOSED"||n instanceof TypeError};try{const n=await Promise.race([e,new Promise(l=>{setTimeout(()=>l({data:null,error:{message:"Query timeout"}}),t)})]),{data:a,error:s}=n;if(s){if(r(s))return console.error("[supabaseQueries] NETWORK ERROR (no retry):",(s==null?void 0:s.message)||s),[];console.warn("[supabaseQueries] Query error (first attempt):",(s==null?void 0:s.message)||s);try{const d=await e;return d!=null&&d.error?(console.error("[supabaseQueries] Query retry failed:",d.error.message||d.error),[]):(d==null?void 0:d.data)??[]}catch(d){return console.error("[supabaseQueries] Query retry exception:",d),[]}}if(!a){console.warn("[supabaseQueries] Query returned no data on first attempt, retrying once...");try{const l=await e;return l!=null&&l.error?(console.error("[supabaseQueries] Query retry error:",l.error.message||l.error),[]):(l==null?void 0:l.data)??[]}catch(l){return console.error("[supabaseQueries] Query retry exception:",l),[]}}return a}catch(n){if(r(n))return console.error("[supabaseQueries] NETWORK ERROR in catch:",(n==null?void 0:n.message)||n),[];console.error("[supabaseQueries] Query exception (outer):",n);try{const s=await e;return s!=null&&s.error?(console.error("[supabaseQueries] Final retry error:",s.error.message||s.error),[]):(s==null?void 0:s.data)??[]}catch(s){return console.error("[supabaseQueries] Final retry exception:",s),[]}}}async function sD(){return console.log("[supabaseQueries] fetchCustomers called"),(await ji(ye.from("customers").select("*").order("created_at",{ascending:!1}))).map(Ep)}async function a8(e){const{data:t,error:r}=await ye.from("customers").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchCustomerById error:",r),null):Ep(t)}async function i8(e){await cn();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("customers").insert([{id:t,name:e.name,phone:e.phone,address:e.address,total_orders:e.totalOrders||0,due_amount:e.dueAmount||0}]).select().single();if(n)throw console.error("[supabaseQueries] createCustomer error:",n),n;return Ep(r)}async function s8(e,t){await cn();const{data:r,error:n}=await ye.from("customers").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.address&&{address:t.address},...t.totalOrders!==void 0&&{total_orders:t.totalOrders},...t.dueAmount!==void 0&&{due_amount:t.dueAmount}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateCustomer error:",n),n;return Ep(r)}async function o8(e){const{error:t}=await ye.from("customers").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteCustomer error:",t),t}function Ep(e){return{id:e.id,name:e.name,phone:e.phone,address:e.address,totalOrders:e.total_orders??e.totalOrders??0,dueAmount:e.due_amount??e.dueAmount??0}}async function l8(){return(await ji(ye.from("orders").select("*").order("created_at",{ascending:!1}))).map(Kd)}async function c8(e){const{data:t,error:r}=await ye.from("orders").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchOrderById error:",r),null):Kd(t)}async function u8(e){return(await ji(ye.from("orders").select("*").eq("customer_id",e).order("order_date",{ascending:!1}))).map(Kd)}async function d8(e){await cn();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("orders").insert([{id:t,order_number:e.orderNumber,order_date:e.orderDate,customer_id:e.customerId,created_by:e.createdBy,status:e.status,items:e.items,subtotal:e.subtotal,discount:e.discount,shipping:e.shipping,total:e.total,paid_amount:e.paidAmount,history:e.history}]).select().single();if(n)throw console.error("[supabaseQueries] createOrder error:",n),n;return Kd(r)}async function f8(e,t){await cn();const{data:r,error:n}=await ye.from("orders").update({...t.customerId&&{customer_id:t.customerId},...t.orderDate&&{order_date:t.orderDate},...t.orderNumber&&{order_number:t.orderNumber},...t.notes!==void 0&&{notes:t.notes},...t.status&&{status:t.status},...t.items&&{items:t.items},...t.subtotal!==void 0&&{subtotal:t.subtotal},...t.discount!==void 0&&{discount:t.discount},...t.shipping!==void 0&&{shipping:t.shipping},...t.total!==void 0&&{total:t.total},...t.paidAmount!==void 0&&{paid_amount:t.paidAmount},...t.history&&{history:t.history}}).eq("id",e).select();if(n)throw console.error("[supabaseQueries] updateOrder error:",n),n;if(!r||Array.isArray(r)&&r.length===0)return console.warn("[supabaseQueries] updateOrder: update succeeded but no row was returned (possible RLS). Returning null."),null;const a=Array.isArray(r)?r[0]:r;return Kd(a)}async function h8(e){const{error:t}=await ye.from("orders").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteOrder error:",t),t}function Kd(e){return{id:e.id,orderNumber:e.order_number??e.orderNumber,orderDate:e.order_date??e.orderDate,customerId:e.customer_id??e.customerId,createdBy:e.created_by??e.createdBy,status:e.status,items:e.items??[],subtotal:e.subtotal??0,discount:e.discount??0,shipping:e.shipping??0,total:e.total??0,notes:e.notes,history:e.history??{},paidAmount:e.paid_amount??e.paidAmount??0}}async function m8(){return(await ji(ye.from("accounts").select("*").order("created_at",{ascending:!1}))).map(Tw)}async function p8(e){const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("accounts").insert([{id:t,name:e.name,type:e.type,opening_balance:e.openingBalance,current_balance:e.currentBalance}]).select().single();if(n)throw console.error("[supabaseQueries] createAccount error:",n),n;return Tw(r)}async function g8(e,t){const{data:r,error:n}=await ye.from("accounts").update({...t.name&&{name:t.name},...t.type&&{type:t.type},...t.currentBalance!==void 0&&{current_balance:t.currentBalance}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateAccount error:",n),n;return Tw(r)}async function y8(e){const{error:t}=await ye.from("accounts").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteAccount error:",t),t}function Tw(e){return{id:e.id,name:e.name,type:e.type,openingBalance:e.opening_balance??e.openingBalance,currentBalance:e.current_balance??e.currentBalance}}async function v8(){return(await ji(ye.from("transactions").select("*").order("created_at",{ascending:!1}))).map(w8)}async function b8(e){await cn();const t=crypto.randomUUID(),r={id:t,date:e.date,type:e.type,category:e.category,account_id:e.accountId,amount:e.amount,description:e.description,payment_method:e.paymentMethod,created_by:e.createdBy};e.toAccountId&&(r.to_account_id=e.toAccountId),e.referenceId&&(r.reference_id=e.referenceId),e.contactId&&(r.contact_id=e.contactId),e.attachmentName&&(r.attachment_name=e.attachmentName),e.attachmentUrl&&(r.attachment_url=e.attachmentUrl);const{error:n}=await ye.from("transactions").insert([r]);if(n)throw console.error("[supabaseQueries] createTransaction error:",n),n;return{id:t,date:e.date,type:e.type,category:e.category,accountId:e.accountId,toAccountId:e.toAccountId,amount:e.amount,description:e.description,referenceId:e.referenceId,contactId:e.contactId,paymentMethod:e.paymentMethod,attachmentName:e.attachmentName,attachmentUrl:e.attachmentUrl,createdBy:e.createdBy}}async function x8(e){if(e.startsWith("temp-")){const r=new Error("Cannot delete unsaved transactions. Please refresh and try again.");throw console.error("[supabaseQueries] deleteTransaction error:",r),r}const{error:t}=await ye.from("transactions").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteTransaction error:",t),t}function w8(e){const t=e.date??e.date_string??null,r=e.created_at??e.createdAt??null,n=t&&t.toString().length>10?t:r||t||"";return{id:e.id,date:n,type:e.type,category:e.category,accountId:e.account_id??e.accountId,toAccountId:e.to_account_id??e.toAccountId,amount:e.amount,description:e.description,referenceId:e.reference_id??e.referenceId,contactId:e.contact_id??e.contactId,paymentMethod:e.payment_method??e.paymentMethod,attachmentName:e.attachment_name??e.attachmentName,attachmentUrl:e.attachment_url??e.attachmentUrl,createdBy:e.created_by??e.createdBy,createdAt:r||null}}async function j8(){return(await ji(ye.from("users").select("*").order("created_at",{ascending:!1}))).map(Ap)}async function S8(e){const{data:t,error:r}=await ye.from("users").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchUserById error:",r),null):Ap(t)}async function _8(e){var t,r,n;try{const a=ZT(e.phone),s=e.password;if(!s)throw new Error("Password is required to create a user");console.log("[supabaseQueries] Creating auth user with email:",a);const{data:l,error:d}=await ye.auth.signUp({email:a,password:s,options:{data:{name:e.name,phone:e.phone}}});if(d)throw console.error("[supabaseQueries] Auth signup error:",d),d;const f=(t=l==null?void 0:l.user)==null?void 0:t.id;if(console.log("[supabaseQueries] Auth user created:",f,"Confirmed:",(n=(r=l==null?void 0:l.user)==null?void 0:r.user_metadata)==null?void 0:n.email_confirmed),!f)throw new Error("Failed to create auth user - no user ID returned. If email confirmation is enabled in Supabase Auth settings, please disable it.");console.log("[supabaseQueries] Creating user profile in public schema...");const{data:h,error:p}=await ye.from("users").insert([{id:f,name:e.name,phone:e.phone,role:e.role,image:e.image}]).select().single();if(p)throw console.error("[supabaseQueries] Create profile error:",p),p;return console.log("[supabaseQueries] User created successfully - can now sign in"),Ap(h)}catch(a){throw console.error("[supabaseQueries] createUser error:",a),a}}async function N8(e,t){const{data:r,error:n}=await ye.from("users").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.role&&{role:t.role},...t.image&&{image:t.image}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateUser error:",n),n;return Ap(r)}async function O8(e){const{error:t}=await ye.from("users").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteUser error:",t),t}function Ap(e){return{id:e.id,name:e.name,phone:e.phone,role:e.role,image:e.image,createdAt:e.created_at}}async function E8(){return(await ji(ye.from("bills").select("*").order("created_at",{ascending:!1}))).map(Cp)}async function A8(e){const{data:t,error:r}=await ye.from("bills").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchBillById error:",r),null):Cp(t)}async function C8(e){await cn();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("bills").insert([{id:t,bill_number:e.billNumber,bill_date:e.billDate,vendor_id:e.vendorId,created_by:e.createdBy,status:e.status,items:e.items,subtotal:e.subtotal,discount:e.discount,shipping:e.shipping,total:e.total,paid_amount:e.paidAmount,history:e.history||{}}]).select().single();if(n)throw console.error("[supabaseQueries] createBill error:",n),n;return Cp(r)}async function k8(e,t){await cn();const{data:r,error:n}=await ye.from("bills").update({...t.vendorId&&{vendor_id:t.vendorId},...t.billDate&&{bill_date:t.billDate},...t.billNumber&&{bill_number:t.billNumber},...t.notes!==void 0&&{notes:t.notes},...t.status&&{status:t.status},...t.items&&{items:t.items},...t.subtotal!==void 0&&{subtotal:t.subtotal},...t.discount!==void 0&&{discount:t.discount},...t.shipping!==void 0&&{shipping:t.shipping},...t.total!==void 0&&{total:t.total},...t.paidAmount!==void 0&&{paid_amount:t.paidAmount},...t.history&&{history:t.history}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateBill error:",n),n;return Cp(r)}async function P8(e){const{error:t}=await ye.from("bills").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteBill error:",t),t}function Cp(e){return{id:e.id,billNumber:e.bill_number??e.billNumber,billDate:e.bill_date??e.billDate,vendorId:e.vendor_id??e.vendorId,createdBy:e.created_by??e.createdBy,status:e.status,items:e.items??[],subtotal:e.subtotal??0,discount:e.discount??0,shipping:e.shipping??0,total:e.total??0,notes:e.notes,paidAmount:e.paid_amount??e.paidAmount??0,history:e.history}}async function T8(){return(await ji(ye.from("vendors").select("*").order("created_at",{ascending:!1}))).map(kp)}async function D8(e){const{data:t,error:r}=await ye.from("vendors").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchVendorById error:",r),null):kp(t)}async function M8(e){await cn();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("vendors").insert([{id:t,name:e.name,phone:e.phone,address:e.address,total_purchases:e.totalPurchases||0,due_amount:e.dueAmount||0}]).select().single();if(n)throw console.error("[supabaseQueries] createVendor error:",n),n;return kp(r)}async function R8(e,t){await cn();const{data:r,error:n}=await ye.from("vendors").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.address&&{address:t.address},...t.totalPurchases!==void 0&&{total_purchases:t.totalPurchases},...t.dueAmount!==void 0&&{due_amount:t.dueAmount}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateVendor error:",n),n;return kp(r)}async function I8(e){const{error:t}=await ye.from("vendors").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteVendor error:",t),t}function kp(e){return{id:e.id,name:e.name,phone:e.phone,address:e.address,totalPurchases:e.total_purchases??e.totalPurchases??0,dueAmount:e.due_amount??e.dueAmount??0}}async function L8(e){console.log("[supabaseQueries] fetchProducts called",e?"for category: "+e:"");try{let t=ye.from("products").select("id, name, image, category, sale_price, purchase_price, created_at").order("created_at",{ascending:!1});return e&&(t=t.eq("category",e)),(await ji(t)).map(Pp)}catch(t){return console.error("[supabaseQueries] fetchProducts error:",t),[]}}async function B8(e){const{data:t,error:r}=await ye.from("products").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchProductById error:",r),null):Pp(t)}async function $8(e){await cn();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("products").insert([{id:t,name:e.name,image:e.image,category:e.category,sale_price:e.salePrice,purchase_price:e.purchasePrice}]).select().single();if(n)throw console.error("[supabaseQueries] createProduct error:",n),n;return Pp(r)}async function U8(e,t){const{data:r,error:n}=await ye.from("products").update({...t.name&&{name:t.name},...t.image&&{image:t.image},...t.category&&{category:t.category},...t.salePrice!==void 0&&{sale_price:t.salePrice},...t.purchasePrice!==void 0&&{purchase_price:t.purchasePrice}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateProduct error:",n),n;return Pp(r)}async function z8(e){const{error:t}=await ye.from("products").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteProduct error:",t),t}function Pp(e){return{id:e.id,name:e.name,image:e.image,category:e.category,salePrice:e.sale_price??e.salePrice??0,purchasePrice:e.purchase_price??e.purchasePrice??0}}async function q8(e){console.log("[supabaseQueries] fetchCategories called",e?"for type: "+e:"");try{let t=ye.from("categories").select("*").order("name",{ascending:!0});e&&(t=t.eq("type",e));const{data:r,error:n}=await t;if(n)throw console.error("[supabaseQueries] fetchCategories error:",n),new Error(`[${n.code}] ${n.message}`);return r?r.map(oD):[]}catch(t){throw console.error("[supabaseQueries] fetchCategories exception:",t),t}}async function K8(e){await cn();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("categories").insert([{id:t,name:e.name,type:e.type,color:e.color||"#3B82F6",parent_id:e.parentId||null}]).select().single();if(n)throw console.error("[supabaseQueries] createCategory error:",n),n;return oD(r)}async function F8(e){const{error:t}=await ye.from("categories").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteCategory error:",t),t}function oD(e){return{id:e.id,name:e.name,type:e.type,color:e.color,parentId:e.parent_id,createdAt:e.created_at,updatedAt:e.updated_at}}async function Q8(e=!0){console.log("[supabaseQueries] fetchPaymentMethods called");try{let t=ye.from("payment_methods").select("*").order("name",{ascending:!0});e&&(t=t.eq("is_active",!0));const{data:r,error:n}=await t;if(n)throw console.error("[supabaseQueries] fetchPaymentMethods error:",n),new Error(`[${n.code}] ${n.message}`);return r?r.map(lD):[]}catch(t){throw console.error("[supabaseQueries] fetchPaymentMethods exception:",t),t}}async function H8(e){await cn();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("payment_methods").insert([{id:t,name:e.name,description:e.description||null,is_active:!0}]).select().single();if(n)throw console.error("[supabaseQueries] createPaymentMethod error:",n),n;return lD(r)}async function V8(e){const{error:t}=await ye.from("payment_methods").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deletePaymentMethod error:",t),t}function lD(e){return{id:e.id,name:e.name,description:e.description,isActive:e.is_active,createdAt:e.created_at,updatedAt:e.updated_at}}async function G8(){console.log("[supabaseQueries] fetchUnits called");try{const{data:e,error:t}=await ye.from("units").select("*").order("name",{ascending:!0});if(t)throw console.error("[supabaseQueries] fetchUnits error:",t),new Error(`[${t.code}] ${t.message}`);return e?e.map(cD):[]}catch(e){throw console.error("[supabaseQueries] fetchUnits exception:",e),e}}async function Y8(e){const t=e.shortName.toLowerCase(),{data:r,error:n}=await ye.from("units").insert([{id:t,name:e.name,short_name:e.shortName,description:e.description||null}]).select().single();if(n)throw console.error("[supabaseQueries] createUnit error:",n),n;return cD(r)}async function W8(e){const{error:t}=await ye.from("units").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteUnit error:",t),t}function cD(e){return{id:e.id,name:e.name,shortName:e.short_name,description:e.description,createdAt:e.created_at,updatedAt:e.updated_at}}async function Fd(){try{const{data:e,error:t}=await ye.from("company_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchCompanySettings error:",t),{id:"default",name:"Your Company",phone:"+880",email:"info@company.com",address:"",logo:""}):{id:e.id,name:e.name||"Your Company",phone:e.phone||"+880",email:e.email||"info@company.com",address:e.address||"",logo:e.logo||""}}catch(e){return console.error("[supabaseQueries] fetchCompanySettings exception:",e),{id:"default",name:"Your Company",phone:"+880",email:"info@company.com",address:"",logo:""}}}async function X8(e){await cn();try{const t=await Fd(),r={name:e.name||t.name,phone:e.phone||t.phone,email:e.email||t.email,address:e.address!==void 0?e.address:t.address,logo:e.logo!==void 0?e.logo:t.logo},{data:n}=await ye.from("company_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("company_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("company_settings").insert(r).select().single();if(l)throw l;a=s}return a||r}catch(t){throw console.error("[supabaseQueries] updateCompanySettings exception:",t),t}}async function Dw(){try{const{data:e,error:t}=await ye.from("order_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchOrderSettings error:",t),{prefix:"ORD-",nextNumber:1}):{prefix:e.prefix||"ORD-",nextNumber:e.next_number||1}}catch(e){return console.error("[supabaseQueries] fetchOrderSettings exception:",e),{prefix:"ORD-",nextNumber:1}}}async function uD(e){try{const t=await Dw(),r={prefix:e.prefix||t.prefix,next_number:e.nextNumber!==void 0?e.nextNumber:t.nextNumber},{data:n}=await ye.from("order_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("order_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("order_settings").insert(r).select().single();if(l)throw l;a=s}return a?{prefix:a.prefix,nextNumber:a.next_number}:r}catch(t){throw console.error("[supabaseQueries] updateOrderSettings error:",t),t}}async function Mw(){try{const{data:e,error:t}=await ye.from("invoice_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchInvoiceSettings error:",t),{title:"Invoice",logoWidth:120,logoHeight:120,footer:""}):{title:e.title||"Invoice",logoWidth:e.logo_width||120,logoHeight:e.logo_height||120,footer:e.footer||""}}catch(e){return console.error("[supabaseQueries] fetchInvoiceSettings exception:",e),{title:"Invoice",logoWidth:120,logoHeight:120,footer:""}}}async function Z8(e){try{const t=await Mw(),r={title:e.title||t.title,logo_width:e.logoWidth!==void 0?e.logoWidth:t.logoWidth,logo_height:e.logoHeight!==void 0?e.logoHeight:t.logoHeight,footer:e.footer!==void 0?e.footer:t.footer},{data:n}=await ye.from("invoice_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("invoice_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("invoice_settings").insert(r).select().single();if(l)throw l;a=s}return a?{title:a.title,logoWidth:a.logo_width,logoHeight:a.logo_height,footer:a.footer}:{title:r.title,logoWidth:r.logo_width,logoHeight:r.logo_height,footer:r.footer}}catch(t){throw console.error("[supabaseQueries] updateInvoiceSettings error:",t),t}}async function Rw(){try{const{data:e,error:t}=await ye.from("system_defaults").select("*").single();return t?(console.error("[supabaseQueries] fetchSystemDefaults error:",t),{defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}):{defaultAccountId:e.default_account_id||"",defaultPaymentMethod:e.default_payment_method||"",incomeCategoryId:e.income_category_id||"",expenseCategoryId:e.expense_category_id||"",recordsPerPage:e.records_per_page||10}}catch(e){return console.error("[supabaseQueries] fetchSystemDefaults exception:",e),{defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}}}async function J8(e){try{const t=await Rw(),r={default_account_id:e.defaultAccountId?e.defaultAccountId:t.defaultAccountId||null,default_payment_method:e.defaultPaymentMethod?e.defaultPaymentMethod:t.defaultPaymentMethod||null,income_category_id:e.incomeCategoryId?e.incomeCategoryId:t.incomeCategoryId||null,expense_category_id:e.expenseCategoryId?e.expenseCategoryId:t.expenseCategoryId||null,records_per_page:e.recordsPerPage!==void 0?e.recordsPerPage:t.recordsPerPage},{data:n}=await ye.from("system_defaults").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("system_defaults").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("system_defaults").insert(r).select().single();if(l)throw l;a=s}return a?{defaultAccountId:a.default_account_id,defaultPaymentMethod:a.default_payment_method,incomeCategoryId:a.income_category_id,expenseCategoryId:a.expense_category_id,recordsPerPage:a.records_per_page}:t}catch(t){throw console.error("[supabaseQueries] updateSystemDefaults error:",t),t}}async function Iw(){try{const{data:e,error:t}=await ye.from("courier_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchCourierSettings error:",t),{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}):{steadfast:{baseUrl:e.steadfast_base_url||"",apiKey:e.steadfast_api_key||"",secretKey:e.steadfast_secret_key||""},carryBee:{baseUrl:e.carrybee_base_url||"",clientId:e.carrybee_client_id||"",clientSecret:e.carrybee_client_secret||"",clientContext:e.carrybee_client_context||"",storeId:e.carrybee_store_id||""}}}catch(e){return console.error("[supabaseQueries] fetchCourierSettings exception:",e),{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}}}async function e9(e){var t,r,n,a,s,l,d,f;try{const h=await Iw(),p={steadfast_base_url:((t=e.steadfast)==null?void 0:t.baseUrl)||h.steadfast.baseUrl,steadfast_api_key:((r=e.steadfast)==null?void 0:r.apiKey)||h.steadfast.apiKey,steadfast_secret_key:((n=e.steadfast)==null?void 0:n.secretKey)||h.steadfast.secretKey,carrybee_base_url:((a=e.carryBee)==null?void 0:a.baseUrl)||h.carryBee.baseUrl,carrybee_client_id:((s=e.carryBee)==null?void 0:s.clientId)||h.carryBee.clientId,carrybee_client_secret:((l=e.carryBee)==null?void 0:l.clientSecret)||h.carryBee.clientSecret,carrybee_client_context:((d=e.carryBee)==null?void 0:d.clientContext)||h.carryBee.clientContext,carrybee_store_id:((f=e.carryBee)==null?void 0:f.storeId)||h.carryBee.storeId},{data:g}=await ye.from("courier_settings").select("id").limit(1).maybeSingle();let y;if(g!=null&&g.id){const{data:v,error:x}=await ye.from("courier_settings").update(p).eq("id",g.id).select().maybeSingle();if(x)throw x;y=v}else{const{data:v,error:x}=await ye.from("courier_settings").insert(p).select().single();if(x)throw x;y=v}return{steadfast:{baseUrl:(y==null?void 0:y.steadfast_base_url)||"",apiKey:(y==null?void 0:y.steadfast_api_key)||"",secretKey:(y==null?void 0:y.steadfast_secret_key)||""},carryBee:{baseUrl:(y==null?void 0:y.carrybee_base_url)||"",clientId:(y==null?void 0:y.carrybee_client_id)||"",clientSecret:(y==null?void 0:y.carrybee_client_secret)||"",clientContext:(y==null?void 0:y.carrybee_client_context)||"",storeId:(y==null?void 0:y.carrybee_store_id)||""}}}catch(h){throw console.error("[supabaseQueries] updateCourierSettings error:",h),h}}async function t9(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.clientId)==null?void 0:r.trim(),f=(n=e.clientSecret)==null?void 0:n.trim(),h=(a=e.clientContext)==null?void 0:a.trim();if(!l||!d||!f||!h)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];console.log("[supabaseQueries] Calling Edge Function for CarryBee stores");const p=`${Ec}/functions/v1/carrybee-stores`;console.log("[supabaseQueries] Edge Function URL:",p);const g=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ac}`},body:JSON.stringify({baseUrl:l,clientId:d,clientSecret:f,clientContext:h})});if(console.log("[supabaseQueries] Edge Function response status:",g.status),!g.ok)return console.error("[supabaseQueries] Edge Function error:",g.status,g.statusText),[];const y=await g.json();if(console.log("[supabaseQueries] Edge Function response data:",y),y.error)return console.error("[supabaseQueries] Edge Function returned error:",y.error,y.details),[];if(!((s=y.data)!=null&&s.stores))return console.warn("[supabaseQueries] No stores in response"),[];const v=y.data.stores.map(x=>({id:x.id,name:x.name}));return console.log("[supabaseQueries] Successfully fetched",v.length,"stores"),v}catch(l){return console.error("[supabaseQueries] fetchCarryBeeStores exception:",l instanceof Error?l.message:l),[]}}async function r9(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.clientId)==null?void 0:r.trim(),f=(n=e.clientSecret)==null?void 0:n.trim(),h=(a=e.clientContext)==null?void 0:a.trim();if(!l||!d||!f||!h)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const p=`${Ec}/functions/v1/carrybee-cities`,g=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ac}`},body:JSON.stringify({baseUrl:l,clientId:d,clientSecret:f,clientContext:h})});if(!g.ok)return console.error("[supabaseQueries] Cities Edge Function error:",g.status),[];const y=await g.json();return y.error||!((s=y.data)!=null&&s.cities)?(console.error("[supabaseQueries] Cities Edge Function returned error:",y.error),[]):y.data.cities.map(v=>({id:v.id,name:v.name}))}catch(l){return console.error("[supabaseQueries] fetchCarryBeeCities exception:",l instanceof Error?l.message:l),[]}}async function n9(e){var t,r,n,a,s,l;try{const d=(t=e.baseUrl)==null?void 0:t.trim(),f=(r=e.clientId)==null?void 0:r.trim(),h=(n=e.clientSecret)==null?void 0:n.trim(),p=(a=e.clientContext)==null?void 0:a.trim(),g=(s=e.cityId)==null?void 0:s.trim();if(!d||!f||!h||!p||!g)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const y=`${Ec}/functions/v1/carrybee-zones`,v=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ac}`},body:JSON.stringify({baseUrl:d,clientId:f,clientSecret:h,clientContext:p,cityId:g})});if(!v.ok)return console.error("[supabaseQueries] Zones Edge Function error:",v.status),[];const x=await v.json();return x.error||!((l=x.data)!=null&&l.zones)?(console.error("[supabaseQueries] Zones Edge Function returned error:",x.error),[]):x.data.zones.map(S=>({id:S.id,name:S.name}))}catch(d){return console.error("[supabaseQueries] fetchCarryBeeZones exception:",d instanceof Error?d.message:d),[]}}async function a9(e){var t,r,n,a,s,l,d;try{const f=(t=e.baseUrl)==null?void 0:t.trim(),h=(r=e.clientId)==null?void 0:r.trim(),p=(n=e.clientSecret)==null?void 0:n.trim(),g=(a=e.clientContext)==null?void 0:a.trim(),y=(s=e.cityId)==null?void 0:s.trim(),v=(l=e.zoneId)==null?void 0:l.trim();if(!f||!h||!p||!g||!y||!v)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const x=`${Ec}/functions/v1/carrybee-areas`,S=await fetch(x,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ac}`},body:JSON.stringify({baseUrl:f,clientId:h,clientSecret:p,clientContext:g,cityId:y,zoneId:v})});if(!S.ok)return console.error("[supabaseQueries] Areas Edge Function error:",S.status),[];const _=await S.json();return _.error||!((d=_.data)!=null&&d.areas)?(console.error("[supabaseQueries] Areas Edge Function returned error:",_.error),[]):_.data.areas.map(N=>({id:N.id,name:N.name}))}catch(f){return console.error("[supabaseQueries] fetchCarryBeeAreas exception:",f instanceof Error?f.message:f),[]}}async function i9(e){var t,r,n,a;try{const s=(t=e.baseUrl)==null?void 0:t.trim(),l=(r=e.clientId)==null?void 0:r.trim(),d=(n=e.clientSecret)==null?void 0:n.trim(),f=(a=e.clientContext)==null?void 0:a.trim();if(!s||!l||!d||!f||!e.storeId)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),{error:"Missing required parameters"};console.log("[supabaseQueries] Calling Edge Function to submit CarryBee order");const h=`${Ec}/functions/v1/carrybee-submit-order`,p=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ac}`},body:JSON.stringify({baseUrl:s,clientId:l,clientSecret:d,clientContext:f,storeId:e.storeId,deliveryType:e.deliveryType,productType:e.productType,recipientPhone:e.recipientPhone,recipientName:e.recipientName,recipientAddress:e.recipientAddress,cityId:e.cityId,zoneId:e.zoneId,areaId:e.areaId,itemWeight:e.itemWeight,collectableAmount:e.collectableAmount})});if(console.log("[supabaseQueries] Submit Order Edge Function response status:",p.status),!p.ok)return console.error("[supabaseQueries] Submit Order Edge Function error:",p.status),{error:`HTTP ${p.status}`};const g=await p.json();return console.log("[supabaseQueries] Submit Order response:",g),g.error?(console.error("[supabaseQueries] Edge Function returned error:",g.error),{error:g.error}):(console.log("[supabaseQueries] Successfully submitted order to CarryBee"),g.data)}catch(s){return console.error("[supabaseQueries] submitCarryBeeOrder exception:",s instanceof Error?s.message:s),{error:s instanceof Error?s.message:"Unknown error"}}}async function s9(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.apiKey)==null?void 0:r.trim(),f=(n=e.secretKey)==null?void 0:n.trim();if(console.log("[supabaseQueries] ======== BEFORE TRIM ========"),console.log("[supabaseQueries] baseUrl (raw):",JSON.stringify(e.baseUrl)),console.log("[supabaseQueries] apiKey (raw):",JSON.stringify((a=e.apiKey)==null?void 0:a.substring(0,5))),console.log("[supabaseQueries] secretKey (raw):",JSON.stringify((s=e.secretKey)==null?void 0:s.substring(0,5))),console.log("[supabaseQueries] ======== AFTER TRIM ========"),console.log("[supabaseQueries] baseUrl (trimmed):",JSON.stringify(l)),console.log("[supabaseQueries] apiKey (trimmed):",JSON.stringify(d==null?void 0:d.substring(0,5))),console.log("[supabaseQueries] secretKey (trimmed):",JSON.stringify(f==null?void 0:f.substring(0,5))),!l||!d||!f||!e.invoice||!e.recipientName||!e.recipientPhone||!e.recipientAddress||e.codAmount===void 0)return console.warn("[supabaseQueries] Steadfast API parameters incomplete"),console.warn("[supabaseQueries] Validation:",{baseUrl:!!l,apiKey:!!d,secretKey:!!f,invoice:!!e.invoice,recipientName:!!e.recipientName,recipientPhone:!!e.recipientPhone,recipientAddress:!!e.recipientAddress,codAmount:e.codAmount!==void 0}),{error:"Missing required parameters"};console.log("[supabaseQueries] ======== CALLING EDGE FUNCTION ========");const h=`${Ec}/functions/v1/steadfast-submit-order`;console.log("[supabaseQueries] Edge Function URL:",h);const p={baseUrl:l,apiKey:d,secretKey:f,invoice:e.invoice,recipientName:e.recipientName,recipientPhone:e.recipientPhone,recipientAddress:e.recipientAddress,codAmount:e.codAmount};console.log("[supabaseQueries] Payload being sent:",{baseUrl:l,apiKey:`${d.substring(0,5)}...`,secretKey:`${f.substring(0,5)}...`,invoice:p.invoice,recipientName:p.recipientName,recipientPhone:p.recipientPhone,recipientAddress:p.recipientAddress,codAmount:p.codAmount});const g=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ac}`},body:JSON.stringify(p)});if(console.log("[supabaseQueries] Submit Steadfast Order Edge Function response status:",g.status),!g.ok)return console.error("[supabaseQueries] Submit Steadfast Order Edge Function error:",g.status),{error:`HTTP ${g.status}`};const y=await g.json();if(console.log("[supabaseQueries] Submit Steadfast Order response:",y),y.error){const v=y.details?`${y.error}: ${y.details}`:y.error;return console.error("[supabaseQueries] Edge Function returned error:",v),{error:v}}return console.log("[supabaseQueries] Successfully submitted order to Steadfast"),y.data}catch(l){return console.error("[supabaseQueries] submitSteadfastOrder exception:",l instanceof Error?l.message:l),{error:l instanceof Error?l.message:"Unknown error"}}}async function o9(e){await cn();try{const[t,r,n,a,s]=await Promise.all([e.company?X8(e.company):Fd(),e.order?uD(e.order):Dw(),e.invoice?Z8(e.invoice):Mw(),e.defaults?J8(e.defaults):Rw(),e.courier?e9(e.courier):Iw()]);return{company:t,order:r,invoice:n,defaults:a,courier:s}}catch(t){throw console.error("[supabaseQueries] batchUpdateSettings error:",t),t}}const rs=({to:e,icon:t,label:r,active:n,onClick:a,children:s})=>{const[l,d]=j.useState(n);return s?c.jsxs("div",{className:"space-y-1",children:[c.jsxs("button",{onClick:()=>d(!l),className:`flex items-center justify-between w-full px-4 py-3 ${ae.radius.md} ${ae.transitions.normal} ${n?`${ae.colors.primary[50]} ${ae.colors.primary.text}`:`text-gray-500 hover:${ae.colors.primary[50]} hover:${ae.colors.primary.text}`}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[t,c.jsx("span",{className:"font-semibold text-sm",children:r})]}),c.jsx("div",{className:`transition-transform duration-200 ${l?"rotate-90":""}`,children:ne.ChevronRight})]}),l&&c.jsx("div",{className:"pl-11 space-y-1",children:s.map(f=>c.jsx(hc,{to:f.to,onClick:a,className:`block px-4 py-2 text-sm font-medium ${ae.radius.sm} ${ae.transitions.normal} ${f.active?`${ae.colors.primary[600]} text-white`:`text-gray-400 hover:${ae.colors.primary.text} hover:${ae.colors.primary[50]}/30`}`,children:f.label},f.to))})]}):c.jsxs(hc,{to:e||"#",onClick:a,className:`flex items-center gap-3 px-4 py-3 ${ae.radius.md} ${ae.transitions.normal} ${n?`${ae.colors.primary[600]} text-white shadow-lg shadow-emerald-200/50`:`text-gray-500 hover:${ae.colors.primary[50]} hover:${ae.colors.primary.text}`}`,children:[t,c.jsx("span",{className:"font-semibold text-sm",children:r})]})},tt=({children:e})=>{const t=xi(),r=mt(),{signOut:n,profile:a}=Np(),{searchQuery:s,setSearchQuery:l}=Da(),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,y]=j.useState(!1),[v,x]=j.useState({name:we.settings.company.name,logo:we.settings.company.logo}),S=a||we.currentUser;if(j.useEffect(()=>{(async()=>{try{const A=await Fd();x(A)}catch(A){console.error("Failed to load company settings:",A)}})()},[]),xr.useEffect(()=>{const O=document.querySelector("main");O&&(O.scrollTop=0);try{window.scrollTo(0,0)}catch{}},[t.pathname]),!S)return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block p-4",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),c.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading user data..."})]})});const _=async()=>{try{await n(),r("/login",{replace:!0})}catch(O){console.error("Logout failed:",O)}},N=O=>t.pathname===O||t.pathname.startsWith(O+"/");return c.jsxs("div",{className:`${ae.colors.bg.secondary} flex overflow-hidden`,style:{minHeight:"100vh"},children:[d&&c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40 lg:hidden",onClick:()=>f(!1)}),c.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 ${ae.colors.bg.primary} border-r ${ae.colors.border.primary} ${ae.transitions.normal} transform lg:sticky lg:top-0 lg:h-screen lg:translate-x-0 ${d?"translate-x-0":"-translate-x-full"}`,children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"p-8",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-1 ${ae.colors.primary[50]} rounded-[50%]`,children:v.logo&&c.jsx("img",{src:v.logo,alt:"Logo",className:"w-10 h-10 rounded-lg object-cover"})}),c.jsxs("div",{children:[c.jsx("h1",{className:`text-xl font-black ${ae.colors.text.primary} tracking-tight leading-none`,children:v.name}),c.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Management"})]})]})}),c.jsxs("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto",children:[c.jsx(rs,{to:"/dashboard",icon:ne.Dashboard,label:"Dashboard",active:N("/dashboard"),onClick:()=>f(!1)}),c.jsx(rs,{to:"/products",icon:ne.Products,label:"Products",active:N("/products"),onClick:()=>f(!1)}),c.jsx(rs,{icon:ne.Sales,label:"Sales",active:N("/orders")||N("/customers"),children:[{to:"/orders",label:"Orders",active:N("/orders")},{to:"/customers",label:"Customers",active:N("/customers")}],onClick:()=>f(!1)}),S.role===At.ADMIN&&c.jsxs(c.Fragment,{children:[c.jsx(rs,{icon:ne.Briefcase,label:"Purchases",active:N("/bills")||N("/vendors"),children:[{to:"/bills",label:"Bills",active:N("/bills")},{to:"/vendors",label:"Vendors",active:N("/vendors")}],onClick:()=>f(!1)}),c.jsx(rs,{icon:ne.Banking,label:"Banking",active:N("/banking"),children:[{to:"/banking/accounts",label:"Accounts",active:N("/banking/accounts")},{to:"/banking/transactions",label:"Transactions",active:N("/banking/transactions")},{to:"/banking/transfer",label:"Transfer",active:N("/banking/transfer")}],onClick:()=>f(!1)})]}),S.role===At.ADMIN&&c.jsxs(c.Fragment,{children:[c.jsx(rs,{to:"/reports",icon:ne.Reports,label:"Reports",active:N("/reports"),onClick:()=>f(!1)}),c.jsx(rs,{to:"/users",icon:ne.Users,label:"Users",active:N("/users"),onClick:()=>f(!1)}),c.jsx(rs,{to:"/settings",icon:ne.Settings,label:"Settings",active:N("/settings"),onClick:()=>f(!1)})]})]})]})}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[c.jsxs("header",{className:`flex-shrink-0 sticky top-0 z-40 ${ae.colors.bg.primary}/80 backdrop-blur-lg border-b ${ae.colors.border.primary} px-6 h-20 flex items-center justify-between`,children:[c.jsx("button",{onClick:()=>f(!0),className:`lg:hidden p-2.5 hover:${ae.colors.bg.tertiary} ${ae.radius.md} ${ae.colors.text.secondary} border ${ae.colors.border.primary}`,children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),c.jsxs("div",{className:"flex-1 max-w-xl mx-4 relative group hidden sm:block",children:[c.jsx("div",{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-300 group-focus-within:${ae.colors.primary.text} ${ae.transitions.normal}`,children:ne.Search}),c.jsx("input",{type:"text",placeholder:"Search orders, invoices, or customers...",value:s,onChange:O=>l(O.target.value),className:`block w-full pl-11 pr-4 py-2.5 ${ae.colors.bg.secondary} border-transparent focus:${ae.colors.bg.primary} focus:ring-2 focus:ring-[#3c5a82] focus:border-transparent ${ae.radius.md} text-sm ${ae.transitions.normal}`})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>p(!h),className:`${ae.colors.primary[600]} text-white w-10 h-10 flex items-center justify-center ${ae.radius.md} hover:${ae.colors.primary[700]} ${ae.transitions.normal} shadow-lg shadow-[#0f2f57]/20 active:scale-95`,children:ne.Plus}),h&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>p(!1)}),c.jsxs("div",{className:`absolute right-0 mt-3 w-56 ${ae.colors.bg.primary} border ${ae.colors.border.primary} rounded-2xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in slide-in-from-top-2 duration-200 origin-top-right`,children:[c.jsx("div",{className:`px-4 py-2 text-[10px] font-bold ${ae.colors.text.tertiary} uppercase tracking-widest border-b ${ae.colors.border.primary} mb-1`,children:"Quick Actions"}),S.role===At.EMPLOYEE?[{label:"New Order",to:"/orders/new",icon:ne.Sales},{label:"New Customer",to:"/customers/new",icon:ne.Customers}].map(O=>c.jsxs(hc,{to:O.to,onClick:()=>p(!1),className:`flex items-center gap-3 px-4 py-3 text-sm font-bold ${ae.colors.text.primary} hover:${ae.colors.primary[50]} hover:${ae.colors.primary.text} ${ae.transitions.normal}`,children:[c.jsx("span",{className:"opacity-70",children:O.icon}),O.label]},O.label)):[{label:"New Order",to:"/orders/new",icon:ne.Sales},{label:"New Bill",to:"/bills/new",icon:ne.Briefcase},{label:"New Customer",to:"/customers/new",icon:ne.Customers},{label:"New Vendor",to:"/vendors/new",icon:ne.Vendors},{label:"Add Income",to:"/transactions/new/income",icon:ne.PlusCircle},{label:"Add Expense",to:"/transactions/new/expense",icon:ne.Delete}].map(O=>c.jsxs(hc,{to:O.to,onClick:()=>p(!1),className:`flex items-center gap-3 px-4 py-3 text-sm font-bold ${ae.colors.text.primary} hover:${ae.colors.primary[50]} hover:${ae.colors.primary.text} ${ae.transitions.normal}`,children:[c.jsx("span",{className:"opacity-70",children:O.icon}),O.label]},O.label))]})]})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>y(!g),className:`flex items-center gap-3 pl-4 border-l ${ae.colors.border.primary} hover:opacity-70 ${ae.transitions.normal}`,children:[c.jsxs("div",{className:"text-right hidden md:block",children:[c.jsx("p",{className:`text-sm font-black ${ae.colors.text.primary} leading-none`,children:S.name}),c.jsx("p",{className:`text-[10px] font-bold ${ae.colors.primary.text} uppercase tracking-widest mt-1`,children:S.role})]}),c.jsx("img",{src:S.image||`https://ui-avatars.com/api/?name=${S.name}&background=0f2f57&color=fff`,alt:"Profile",className:"w-10 h-10 rounded-[50%] object-cover cursor-pointer"})]}),g&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>y(!1)}),c.jsxs("div",{className:`absolute right-0 mt-3 w-48 ${ae.colors.bg.primary} border ${ae.colors.border.primary} rounded-xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in slide-in-from-top-2 duration-200 origin-top-right`,children:[c.jsxs("button",{onClick:()=>{r(`/users/${S.id}`),y(!1)},className:`flex items-center gap-3 w-full px-4 py-3 text-sm font-bold ${ae.colors.primary.text} hover:${ae.colors.primary[50]} ${ae.transitions.normal}`,children:[ne.Users,"Profile"]}),c.jsxs("button",{onClick:()=>{_(),y(!1)},className:`flex items-center gap-3 w-full px-4 py-3 text-sm font-bold ${ae.colors.danger.text} hover:${ae.colors.danger[50]} ${ae.transitions.normal}`,children:[ne.LogOut,"Logout"]})]})]})]})]})]}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-6 lg:p-10 animate-in fade-in duration-500 relative",children:[e,c.jsxs("footer",{className:`mt-20 py-8 border-t ${ae.colors.border.primary} flex flex-col items-center gap-2`,children:[c.jsxs("p",{className:`text-sm font-medium ${ae.colors.text.secondary}`,children:[" ",new Date().getFullYear()," ",v.name,". All rights reserved."]}),c.jsxs("a",{href:"https://sajedurrahmanfiad.me",target:"_blank",rel:"noreferrer",className:`group flex items-center gap-1.5 text-[11px] font-bold ${ae.colors.text.secondary} hover:${ae.colors.primary.text} ${ae.transitions.normal} uppercase tracking-widest`,children:["Developed by ",c.jsx("span",{className:`${ae.colors.text.secondary} group-hover:${ae.colors.primary.text} underline underline-offset-4 decoration-[#0f2f57]/20`,children:"Md Sajedur Rahman Fiad"})]})]})]})]})]})},l9=()=>{const{toasts:e,dismissToast:t}=rD(),r=n=>{switch(n){case"success":return{icon:ne.Check,bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon_color:"text-green-600"};case"error":return{icon:ne.AlertCircle,bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon_color:"text-red-600"};case"warning":return{icon:ne.AlertCircle,bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon_color:"text-yellow-600"};case"info":return{icon:ne.Info,bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon_color:"text-blue-600"};default:return{icon:ne.Info,bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-800",icon_color:"text-gray-600"}}};return c.jsx("div",{className:"fixed bottom-6 right-6 z-[9999] flex flex-col gap-3",children:e.map(n=>{const{icon:a,bg:s,border:l,text:d,icon_color:f}=r(n.type);return c.jsxs("div",{className:`${s} ${l} border rounded-lg p-4 shadow-md flex items-start gap-3 min-w-[320px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300`,children:[c.jsx("div",{className:`${f} flex-shrink-0 mt-0.5`,children:a}),c.jsx("div",{className:`${d} flex-1 text-sm font-medium`,children:n.message}),c.jsx("button",{onClick:()=>t(n.id),className:`${f} flex-shrink-0 hover:opacity-70 transition-opacity`,children:c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},n.id)})})},c9=()=>{const{isOnline:e}=aq(),[t,r]=j.useState(!1);return j.useEffect(()=>{if(!e)r(!0);else{const n=setTimeout(()=>{r(!1)},2e3);return()=>clearTimeout(n)}},[e]),t?c.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-red-50 border-b-2 shadow-lg transition-all duration-300",style:{borderColor:e?"#10b981":"#ef4444",backgroundColor:e?"#ecfdf5":"#fee2e2"},children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsx("div",{className:`text-xl ${e?"text-green-600":"text-red-600"}`,children:e?"":""}),c.jsxs("div",{children:[c.jsx("p",{className:`font-bold ${e?"text-green-900":"text-red-900"}`,children:e?"Connection Restored":"No Internet Connection"}),c.jsx("p",{className:`text-sm ${e?"text-green-700":"text-red-700"}`,children:e?"Data is syncing with the server":"Your changes will be saved when connection is restored"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[!e&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-pulse w-2 h-2 rounded-full bg-red-500"}),c.jsx("span",{className:"text-xs font-medium text-red-600",children:"Waiting for connection..."})]}),e&&c.jsx("span",{className:"text-xs font-medium text-green-600",children:"Syncing..."})]})]})}):null},u9=()=>{const e=mt(),{signIn:t,isLoading:r,user:n,profile:a}=Np(),[s,l]=j.useState(""),[d,f]=j.useState(""),[h,p]=j.useState(""),[g,y]=j.useState(!1),[v,x]=j.useState({name:"BD Hatbela",logo:we.settings.company.logo});j.useEffect(()=>{console.log("[Login] Checking redirect - isLoading:",r,"authenticated:",!!n),!r&&n&&(console.log("[Login] User authenticated, navigating to dashboard"),e("/dashboard",{replace:!0}))},[n,r,e]),j.useEffect(()=>{(async()=>{try{const N=await Fd();x({name:"BD Hatbela",logo:N.logo||we.settings.company.logo})}catch(N){console.error("Failed to load company settings:",N),x({name:"BD Hatbela",logo:we.settings.company.logo})}})()},[]);const S=async _=>{var N,O;_.preventDefault(),p(""),y(!0),console.log("[Login] Form submitted with phone:",s);try{console.log("[Login] Calling signIn...");const{error:A,data:C}=await t(s,d);if(A){console.error("[Login] Sign-in error:",A);const T=(A==null?void 0:A.message)||"Authentication failed";p(T),y(!1);return}if(console.log("[Login] Sign-in successful, user:",(N=C==null?void 0:C.user)==null?void 0:N.email),!(C!=null&&C.profileLoaded)){console.error("[Login] Sign-in succeeded but profile not loaded"),p(((O=C==null?void 0:C.error)==null?void 0:O.message)||"Failed to load user profile. Please try again or contact administrator."),y(!1);return}console.log("[Login] Profile loaded, waiting for state to propagate...")}catch(A){console.error("[Login] Sign-in exception:",A),p((A==null?void 0:A.message)||"Failed to sign in"),y(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[v.logo&&c.jsx("img",{src:v.logo,alt:"Logo",className:"w-12 h-12 rounded-md object-cover"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold",children:v.name}),c.jsx("p",{className:"text-sm text-gray-500",children:"Sign in to continue"})]})]}),c.jsxs("form",{onSubmit:S,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),c.jsx("input",{value:s,onChange:_=>l(_.target.value),type:"tel",placeholder:"017XXXXXXXX",required:!0,disabled:g,className:"mt-1 block w-full border rounded px-3 py-2 focus:outline-none focus:ring disabled:opacity-50"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),c.jsx("input",{value:d,onChange:_=>f(_.target.value),type:"password",required:!0,disabled:g,className:"mt-1 block w-full border rounded px-3 py-2 focus:outline-none focus:ring disabled:opacity-50"})]}),h&&c.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-600 space-y-2",children:[c.jsx("p",{className:"font-semibold",children:"Error"}),c.jsx("p",{children:h}),h.includes("Email confirmation")&&c.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-700 text-xs",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Quick Fix:"}),c.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[c.jsx("li",{children:"Go to Supabase Dashboard"}),c.jsx("li",{children:"Project  Authentication  Providers"}),c.jsx("li",{children:'Click "Email" tab'}),c.jsx("li",{children:'Toggle OFF "Confirm email"'}),c.jsx("li",{children:"Save settings"}),c.jsx("li",{children:"Try logging in again"})]})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 text-white py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed font-medium hover:bg-blue-700 transition-colors",children:g?"Signing in...":"Sign In"})})]})]})})},d9={primary:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},secondary:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},danger:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},warning:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},success:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},info:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},neutral:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},profit:{bg:"bg-gray-50",text:"text-black",icon:"text-black"}},ea=({title:e,value:t,icon:r,variant:n="primary",bgColor:a,textColor:s,iconBgColor:l,isProfitCard:d=!1,profitValue:f})=>{const h=d9[n];let p=a||"bg-white",g=s||h.text,y=l||h.bg,v="";return d&&f!==void 0&&!a&&(f>=0?(p="bg-emerald-500",g="text-white",y="bg-emerald-600"):(p="bg-red-500",g="text-white",y="bg-red-600")),c.jsxs("div",{className:`p-6 flex items-center gap-4 ${p} rounded-xl shadow-lg border border-gray-100 ${v}`,children:[c.jsx("div",{className:`${y} p-4 rounded-lg flex items-center justify-center`,children:c.jsx("div",{className:g,children:r})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:`text-xs font-bold uppercase tracking-widest ${g==="text-white"?"text-white/70":"text-gray-400"}`,children:e}),c.jsx("h3",{className:`text-2xl font-black mt-1 ${g}`,children:t})]})]})},Qe=xr.forwardRef(({variant:e="primary",size:t="md",children:r,icon:n,loading:a=!1,className:s="",...l},d)=>{const f={primary:`${ae.colors.primary[600]} text-white hover:${ae.colors.primary[700]} shadow-lg shadow-[#0f2f57]/20`,secondary:ae.buttons.secondary,danger:`${ae.colors.danger[600]} text-white hover:${ae.colors.danger[700]} shadow-lg`,outline:ae.buttons.outline,ghost:"text-gray-600 hover:bg-gray-50"},h={sm:ae.buttons.sizes.sm,md:ae.buttons.sizes.md,lg:ae.buttons.sizes.lg};return c.jsx("button",{ref:d,className:`${ae.buttons.base} ${f[e]} ${h[t]} ${a?"opacity-75 cursor-wait":""} ${s}`,disabled:a||l.disabled,...l,children:c.jsxs("span",{className:"flex items-center gap-2",children:[a&&c.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n&&!a&&c.jsx("span",{children:n}),r]})})});Qe.displayName="Button";const f9={primary:`p-2.5 text-gray-400 hover:${ae.colors.primary[600]} hover:bg-[#ebf4ff] rounded-lg transition-all`,danger:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",secondary:`p-2.5 text-gray-400 hover:${ae.colors.secondary[600]} hover:bg-[#e6f0ff] rounded-lg transition-all`,neutral:"p-2.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-all"},js=xr.forwardRef(({variant:e="primary",icon:t,title:r,className:n="",...a},s)=>c.jsx("button",{ref:s,className:`${f9[e]} ${n}`,title:r,...a,children:t}));js.displayName="IconButton";const Tp=({columns:e,rows:t=5})=>c.jsx(c.Fragment,{children:Array.from({length:t}).map((r,n)=>c.jsx("tr",{className:"border-b border-gray-50 animate-pulse",children:Array.from({length:e}).map((a,s)=>c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2"})]})},s))},n))}),Dp=({columns:e,data:t,emptyMessage:r="No data found",onRowClick:n,rowClassName:a,hover:s=!0,striped:l=!1,size:d="md",loading:f=!1,loadingRows:h=8})=>{const p={sm:"px-4 py-3",md:"px-6 py-5",lg:"px-6 py-6"}[d],g=s?"hover:bg-[#ebf4ff]/50 cursor-pointer transition-all":"",y=l?"odd:bg-gray-50":"";return c.jsx("div",{className:`${ae.card.base} overflow-visible`,children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsx("tr",{className:ae.table.header,children:e.map(v=>c.jsx("th",{className:`${p} text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ${v.align==="center"?"text-center":v.align==="right"?"text-right":""}`,style:v.width?{width:v.width}:void 0,children:v.label},v.key))})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:f?c.jsx(Tp,{columns:e.length,rows:h}):t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:e.length,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:r})}):t.map((v,x)=>c.jsx("tr",{onClick:()=>n==null?void 0:n(v,x),className:`
                    border-b border-gray-50 transition-all
                    ${g}
                    ${y}
                    ${(a==null?void 0:a(v,x))||""}
                  `,children:e.map(S=>c.jsx("td",{className:`${p} ${S.align==="center"?"text-center":S.align==="right"?"text-right":""}`,children:S.render?S.render(v[S.key],v,x):v[S.key]},S.key))},v.id||x))})]})})})},h9=xr.forwardRef(({label:e,error:t,helperText:r,className:n="",...a},s)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:ae.inputs.label,children:e}),c.jsx("input",{ref:s,className:`${ae.inputs.base} ${t?ae.inputs.error:""} ${n}`,...a}),(t||r)&&c.jsx("p",{className:`mt-1 text-xs ${t?"text-red-500":"text-gray-500"}`,children:t||r})]}));h9.displayName="Input";const m9=xr.forwardRef(({label:e,error:t,options:r,className:n="",...a},s)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:ae.inputs.label,children:e}),c.jsx("select",{ref:s,className:`${ae.inputs.base} ${t?ae.inputs.error:""} ${n}`,...a,children:r.map(l=>c.jsx("option",{value:l.value,children:l.label},l.value))}),t&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:t})]}));m9.displayName="Select";const p9=xr.forwardRef(({label:e,error:t,className:r="",...n},a)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:ae.inputs.label,children:e}),c.jsx("textarea",{ref:a,className:`${ae.inputs.base} resize-none ${t?ae.inputs.error:""} ${r}`,...n}),t&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:t})]}));p9.displayName="TextArea";const Qd=({isLoading:e,message:t="Loading..."})=>e?c.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 flex items-center justify-center",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 flex flex-col items-center gap-4",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),c.jsx("p",{className:"text-gray-600 font-medium",children:t})]})}):null,mc=({filterRange:e,setFilterRange:t,customDates:r,setCustomDates:n,statusTab:a,setStatusTab:s,statusOptions:l=[],title:d})=>{const[f,h]=j.useState(!1),{searchQuery:p,setSearchQuery:g}=Da(),y=["All Time","Today","This Week","This Month","This Year","Custom"];return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[c.jsxs("div",{className:"hidden sm:flex flex-wrap items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl border border-gray-100 shadow-sm",children:[y.map(v=>c.jsx("button",{onClick:()=>t(v),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${e===v?`${ae.colors.primary[600]} text-white shadow-md`:"text-gray-500 hover:bg-gray-50"}`,children:v},v)),e==="Custom"&&c.jsxs("div",{className:"flex items-center gap-2 px-3 border-l border-gray-100 ml-1",children:[c.jsx("input",{type:"date",value:r.from,onChange:v=>n({...r,from:v.target.value}),className:"px-2 py-1 border rounded-lg text-[10px] font-bold bg-gray-50 outline-none focus:ring-2 focus:ring-[#3c5a82]"}),c.jsx("span",{className:"text-gray-300 text-[10px] font-black tracking-widest uppercase",children:"To"}),c.jsx("input",{type:"date",value:r.to,onChange:v=>n({...r,to:v.target.value}),className:"px-2 py-1 border rounded-lg text-[10px] font-bold bg-gray-50 outline-none focus:ring-2 focus:ring-[#3c5a82]"})]})]}),s&&l.length>0&&c.jsx("div",{className:"flex items-center gap-1 bg-gray-100/50 p-1 rounded-2xl border border-gray-100",children:["All",...l].map(v=>c.jsx("button",{onClick:()=>s(v),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${a===v?"bg-white text-gray-900 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:v},v))})]}),c.jsxs("button",{onClick:()=>h(!0),className:"sm:hidden flex items-center justify-center gap-2 bg-white border border-gray-200 text-gray-600 px-4 py-3 rounded-2xl font-bold shadow-sm w-full",children:[ne.Search,c.jsx("span",{className:"text-sm",children:"Filter & Period"}),e!=="All Time"&&c.jsx("div",{className:`w-2 h-2 rounded-full ${ae.colors.primary[500]} ml-1`})]})]}),f&&c.jsxs("div",{className:"fixed inset-0 z-[150] flex items-end justify-center",children:[c.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>h(!1)}),c.jsxs("div",{className:"bg-white w-full rounded-t-2xl p-8 z-[160] animate-in slide-in-from-bottom duration-300 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("h3",{className:"text-2xl font-black text-gray-900",children:["Filter ",d]}),c.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l18 18"})})})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Search"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"Search...",value:p,onChange:v=>g(v.target.value),className:"w-full px-4 py-3 pl-12 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"}),c.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:ne.Search})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Time Period"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:y.map(v=>c.jsx("button",{onClick:()=>t(v),className:`py-3 rounded-2xl text-xs font-bold transition-all border ${e===v?`${ae.colors.primary[600]} text-white border-[#0f2f57] shadow-lg`:"bg-white text-gray-500 border-gray-100 hover:bg-gray-50"}`,children:v},v))}),e==="Custom"&&c.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 animate-in fade-in duration-200",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-2",children:"From"}),c.jsx("input",{type:"date",value:r.from,onChange:v=>n({...r,from:v.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-2",children:"To"}),c.jsx("input",{type:"date",value:r.to,onChange:v=>n({...r,to:v.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"})]})]})]}),s&&l.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Status Filter"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:["All",...l].map(v=>c.jsx("button",{onClick:()=>s(v),className:`py-3 rounded-2xl text-xs font-bold transition-all border ${a===v?"bg-gray-900 text-white border-gray-900 shadow-lg":"bg-white text-gray-500 border-gray-100"}`,children:v},v))})]}),c.jsx("button",{onClick:()=>h(!1),className:`w-full py-5 ${ae.colors.primary[600]} text-white rounded-xl font-black text-lg shadow-xl active:scale-95 transition-all mt-4`,children:"Apply Filters"})]})]})]})]})},Lw=({isOpen:e,onClose:t,onSubmit:r,accounts:n,paymentForm:a,setPaymentForm:s,isLoading:l,title:d="Record Payment",buttonText:f="Add Payment"})=>e?c.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm",onClick:t}),c.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] p-10 z-[210] animate-in zoom-in-95 duration-200 border border-[#ebf4ff]",children:[c.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-8",children:d}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Payment Date"}),c.jsx("input",{type:"date",value:a.date,onChange:h=>s({...a,date:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Payment Time"}),c.jsx("input",{type:"time",value:a.time,onChange:h=>s({...a,time:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Select Account"}),c.jsxs("select",{value:a.accountId,onChange:h=>s({...a,accountId:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50",children:[c.jsx("option",{value:"",children:"Select an account..."}),n.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",ve(h.currentBalance),")"]},h.id))]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Amount (BDT)"}),c.jsx("input",{type:"number",value:a.amount,onChange:h=>s({...a,amount:parseFloat(h.target.value)||0}),disabled:l,className:`w-full px-6 py-4 bg-[#ebf4ff] border-2 border-[#c7dff5] rounded-lg font-black ${ae.colors.primary[600]} text-xl outline-none disabled:opacity-50`})]}),c.jsxs("div",{className:"pt-6 flex gap-4",children:[c.jsx(Qe,{onClick:t,variant:"ghost",disabled:l,children:"Cancel"}),c.jsx(Qe,{onClick:r,variant:"primary",size:"md",className:"flex-1",disabled:l,loading:l,children:f})]})]})]})]}):null;function Uo(){return Lt({queryKey:["customers"],queryFn:sD,staleTime:300*1e3})}function dD(e){return Lt({queryKey:["customer",e],queryFn:()=>a8(e||""),enabled:!!e,staleTime:300*1e3})}function Cc(){return Lt({queryKey:["orders"],queryFn:l8,staleTime:300*1e3})}function Bw(e){return Lt({queryKey:["order",e],queryFn:()=>c8(e||""),enabled:!!e,staleTime:300*1e3})}function g9(e){return Lt({queryKey:["ordersByCustomerId",e],queryFn:()=>u8(e||""),enabled:!!e,staleTime:300*1e3})}function kc(){return Lt({queryKey:["bills"],queryFn:E8,staleTime:300*1e3})}function fD(e){return Lt({queryKey:["bill",e],queryFn:()=>A8(e||""),enabled:!!e,staleTime:300*1e3})}function Es(){return Lt({queryKey:["accounts"],queryFn:m8,staleTime:300*1e3})}function Pc(){return Lt({queryKey:["transactions"],queryFn:v8,staleTime:300*1e3})}function As(){return Lt({queryKey:["users"],queryFn:j8,staleTime:300*1e3})}function hD(e){return Lt({queryKey:["user",e],queryFn:()=>S8(e||""),enabled:!!e,staleTime:300*1e3})}function Tc(){return Lt({queryKey:["vendors"],queryFn:T8,staleTime:300*1e3})}function mD(e){return Lt({queryKey:["vendor",e],queryFn:()=>D8(e||""),enabled:!!e,staleTime:300*1e3})}function Dc(e){return Lt({queryKey:["products",e],queryFn:()=>L8(e),staleTime:300*1e3})}function y9(e){return Lt({queryKey:["product",e],queryFn:()=>B8(e||""),enabled:!!e,staleTime:300*1e3})}function Cs(e){return Lt({queryKey:["categories",e],queryFn:()=>q8(e),staleTime:3600*1e3})}function pD(e){return Lt({queryKey:["paymentMethods",e],queryFn:()=>Q8(e),staleTime:3600*1e3})}function v9(){return Lt({queryKey:["units"],queryFn:G8,staleTime:3600*1e3})}function Mp(){return Lt({queryKey:["settings","company"],queryFn:Fd,staleTime:3600*1e3})}function Rp(){return Lt({queryKey:["settings","order"],queryFn:Dw,staleTime:3600*1e3})}function Ip(){return Lt({queryKey:["settings","invoice"],queryFn:Mw,staleTime:3600*1e3})}function gD(){return Lt({queryKey:["settings","defaults"],queryFn:Rw,staleTime:3600*1e3})}function $w(){return Lt({queryKey:["settings","courier"],queryFn:Iw,staleTime:3600*1e3})}function b9(){const e=$e();return ct({mutationFn:i8,onMutate:async t=>{await e.cancelQueries({queryKey:["customers"]});const r=e.getQueryData(["customers"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["customers"],[...r,n])}return{previousCustomers:r}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers)},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]})}})}function x9(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>s8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["customers"]}),await e.cancelQueries({queryKey:["customer",t]});const n=e.getQueryData(["customers"]),a=e.getQueryData(["customer",t]);return n&&e.setQueryData(["customers"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["customer",t],{...a,...r}),{previousCustomers:n,previousCustomer:a}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers),n!=null&&n.previousCustomer&&e.setQueryData(["customer",r.id],n.previousCustomer)},onSuccess:t=>{e.invalidateQueries({queryKey:["customers"]}),e.invalidateQueries({queryKey:["customer",t.id]})}})}function w9(){const e=$e();return ct({mutationFn:o8,onMutate:async t=>{await e.cancelQueries({queryKey:["customers"]});const r=e.getQueryData(["customers"]);return r&&e.setQueryData(["customers"],r.filter(n=>n.id!==t)),{previousCustomers:r}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers)},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]})}})}function Lp(){const e=$e();return ct({mutationFn:d8,onMutate:async t=>{await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["orders"])||[],n={...t,id:`temp-${Date.now()}`,paidAmount:t.paidAmount||0};return e.setQueryData(["orders"],[n,...r]),{previousOrders:r,optimisticOrder:n}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:async t=>{e.setQueryData(["order",t.id],t);const n=(e.getQueryData(["orders"])||[]).filter(a=>!a.id.startsWith("temp-")).map(a=>a);e.setQueryData(["orders"],[t,...n]);try{const a=e.getQueryData(["settings","order"]);a&&a.nextNumber&&(await uD({nextNumber:a.nextNumber+1}),e.invalidateQueries({queryKey:["settings","order"]}))}catch(a){console.error("Failed to update order settings:",a)}await e.refetchQueries({queryKey:["orders"]})}})}function Hd(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>f8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["orders"]}),await e.cancelQueries({queryKey:["order",t]}),await e.cancelQueries({queryKey:["ordersByCustomerId"]});const n=e.getQueryData(["orders"]),a=e.getQueryData(["order",t]);if(n&&e.setQueryData(["orders"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["order",t],{...a,...r}),a!=null&&a.customerId){const s=e.getQueryData(["ordersByCustomerId",a.customerId]);s&&e.setQueryData(["ordersByCustomerId",a.customerId],s.map(l=>l.id===t?{...l,...r}:l))}return{previousOrders:n,previousOrder:a}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders),n!=null&&n.previousOrder&&e.setQueryData(["order",r.id],n.previousOrder)},onSuccess:t=>{e.invalidateQueries({queryKey:["orders"]}),e.invalidateQueries({queryKey:["order",t.id]})}})}function j9(){const e=$e();return ct({mutationFn:h8,onMutate:async t=>{await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["orders"]);return r&&e.setQueryData(["orders"],r.filter(n=>n.id!==t)),{previousOrders:r}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]})}})}function yD(){const e=$e();return ct({mutationFn:C8,onMutate:async t=>{await e.cancelQueries({queryKey:["bills"]});const r=e.getQueryData(["bills"])||[],n={...t,id:`temp-${Date.now()}`,paidAmount:t.paidAmount||0};return e.setQueryData(["bills"],[n,...r]),{previousBills:r,optimisticBill:n}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills)},onSuccess:async t=>{e.setQueryData(["bill",t.id],t);const n=(e.getQueryData(["bills"])||[]).filter(a=>!a.id.startsWith("temp-")).map(a=>a);e.setQueryData(["bills"],[t,...n]),await e.refetchQueries({queryKey:["bills"]})}})}function vD(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>k8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["bills"]}),await e.cancelQueries({queryKey:["bill",t]});const n=e.getQueryData(["bills"]),a=e.getQueryData(["bill",t]);return n&&e.setQueryData(["bills"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["bill",t],{...a,...r}),{previousBills:n,previousBill:a}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills),n!=null&&n.previousBill&&e.setQueryData(["bill",r.id],n.previousBill)},onSuccess:t=>{e.invalidateQueries({queryKey:["bills"]}),e.invalidateQueries({queryKey:["bill",t.id]})}})}function S9(){const e=$e();return ct({mutationFn:P8,onMutate:async t=>{await e.cancelQueries({queryKey:["bills"]});const r=e.getQueryData(["bills"]);return r&&e.setQueryData(["bills"],r.filter(n=>n.id!==t)),{previousBills:r}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills)},onSuccess:()=>{e.invalidateQueries({queryKey:["bills"]})}})}function _9(){const e=$e();return ct({mutationFn:p8,onMutate:async t=>{await e.cancelQueries({queryKey:["accounts"]});const r=e.getQueryData(["accounts"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["accounts"],[...r,n])}return{previousAccounts:r}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts)},onSuccess:()=>{e.invalidateQueries({queryKey:["accounts"]})}})}function Vd(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>g8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["accounts"]}),await e.cancelQueries({queryKey:["account",t]});const n=e.getQueryData(["accounts"]),a=e.getQueryData(["account",t]);return n&&e.setQueryData(["accounts"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["account",t],{...a,...r}),{previousAccounts:n,previousAccount:a}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts),n!=null&&n.previousAccount&&e.setQueryData(["account",r.id],n.previousAccount)},onSuccess:t=>{e.invalidateQueries({queryKey:["accounts"]}),e.invalidateQueries({queryKey:["account",t.id]})}})}function N9(){const e=$e();return ct({mutationFn:y8,onMutate:async t=>{await e.cancelQueries({queryKey:["accounts"]});const r=e.getQueryData(["accounts"]);return r&&e.setQueryData(["accounts"],r.filter(n=>n.id!==t)),{previousAccounts:r}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts)},onSuccess:()=>{e.invalidateQueries({queryKey:["accounts"]})}})}function Gd(){const e=$e();return ct({mutationFn:b8,onMutate:async t=>{await e.cancelQueries({queryKey:["transactions"]}),await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["transactions"]),n=e.getQueryData(["orders"]);if(r){const a={...t,id:`temp-${Date.now()}`};e.setQueryData(["transactions"],[...r,a])}return{previousTransactions:r,previousOrders:n}},onError:(t,r,n)=>{n!=null&&n.previousTransactions&&e.setQueryData(["transactions"],n.previousTransactions),n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:()=>{e.invalidateQueries({queryKey:["transactions"]}),e.invalidateQueries({queryKey:["orders"]})}})}function O9(){const e=$e();return ct({mutationFn:x8,onMutate:async t=>{await e.cancelQueries({queryKey:["transactions"]});const r=e.getQueryData(["transactions"]);return r&&e.setQueryData(["transactions"],r.filter(n=>n.id!==t)),{previousTransactions:r}},onError:(t,r,n)=>{n!=null&&n.previousTransactions&&e.setQueryData(["transactions"],n.previousTransactions)},onSuccess:()=>{e.invalidateQueries({queryKey:["transactions"]})}})}function E9(){const e=$e();return ct({mutationFn:_8,onMutate:async t=>{await e.cancelQueries({queryKey:["users"]});const r=e.getQueryData(["users"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["users"],[...r,n])}return{previousUsers:r}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers)},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function A9(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>N8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["users"]}),await e.cancelQueries({queryKey:["user",t]}),await e.cancelQueries({queryKey:["userByPhone"]});const n=e.getQueryData(["users"]),a=e.getQueryData(["user",t]);return n&&e.setQueryData(["users"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["user",t],{...a,...r}),{previousUsers:n,previousUser:a}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers),n!=null&&n.previousUser&&e.setQueryData(["user",r.id],n.previousUser)},onSuccess:t=>{e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["user",t.id]})}})}function bD(){const e=$e();return ct({mutationFn:O8,onMutate:async t=>{await e.cancelQueries({queryKey:["users"]});const r=e.getQueryData(["users"]);return r&&e.setQueryData(["users"],r.filter(n=>n.id!==t)),{previousUsers:r}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers)},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function C9(){const e=$e();return ct({mutationFn:M8,onMutate:async t=>{await e.cancelQueries({queryKey:["vendors"]});const r=e.getQueryData(["vendors"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["vendors"],[...r,n])}return{previousVendors:r}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors)},onSuccess:()=>{e.invalidateQueries({queryKey:["vendors"]})}})}function k9(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>R8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["vendors"]}),await e.cancelQueries({queryKey:["vendor",t]});const n=e.getQueryData(["vendors"]),a=e.getQueryData(["vendor",t]);return n&&e.setQueryData(["vendors"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["vendor",t],{...a,...r}),{previousVendors:n,previousVendor:a}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors),n!=null&&n.previousVendor&&e.setQueryData(["vendor",r.id],n.previousVendor)},onSuccess:t=>{e.invalidateQueries({queryKey:["vendors"]}),e.invalidateQueries({queryKey:["vendor",t.id]})}})}function P9(){const e=$e();return ct({mutationFn:I8,onMutate:async t=>{await e.cancelQueries({queryKey:["vendors"]});const r=e.getQueryData(["vendors"]);return r&&e.setQueryData(["vendors"],r.filter(n=>n.id!==t)),{previousVendors:r}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors)},onSuccess:()=>{e.invalidateQueries({queryKey:["vendors"]})}})}function T9(){const e=$e();return ct({mutationFn:$8,onMutate:async t=>{await e.cancelQueries({queryKey:["products"]});const r=e.getQueryData(["products"])||[],n={...t,id:`temp-${Date.now()}`};return e.setQueryData(["products"],[n,...r]),{previousProducts:r,optimisticProduct:n}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts)},onSuccess:async t=>{e.setQueryData(["product",t.id],t);const n=(e.getQueryData(["products"])||[]).filter(a=>!a.id.startsWith("temp-")).map(a=>a);e.setQueryData(["products"],[t,...n]),await e.refetchQueries({queryKey:["products"]})}})}function D9(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>U8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["products"]}),await e.cancelQueries({queryKey:["product",t]});const n=e.getQueryData(["products"]),a=e.getQueryData(["product",t]);return n&&e.setQueryData(["products"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["product",t],{...a,...r}),{previousProducts:n,previousProduct:a}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts),n!=null&&n.previousProduct&&e.setQueryData(["product",r.id],n.previousProduct)},onSuccess:t=>{e.invalidateQueries({queryKey:["products"]}),e.invalidateQueries({queryKey:["product",t.id]})}})}function M9(){const e=$e();return ct({mutationFn:z8,onMutate:async t=>{await e.cancelQueries({queryKey:["products"]});const r=e.getQueryData(["products"]);return r&&e.setQueryData(["products"],r.filter(n=>n.id!==t)),{previousProducts:r}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts)},onSuccess:()=>{e.invalidateQueries({queryKey:["products"]})}})}function R9(){const e=$e();return ct({mutationFn:K8,onMutate:async t=>{await e.cancelQueries({queryKey:["categories"]});const r=e.getQueryData(["categories"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["categories"],[...r,n])}return{previousCategories:r}},onError:(t,r,n)=>{n!=null&&n.previousCategories&&e.setQueryData(["categories"],n.previousCategories)},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function I9(){const e=$e();return ct({mutationFn:F8,onMutate:async t=>{await e.cancelQueries({queryKey:["categories"]});const r=e.getQueryData(["categories"]);return r&&e.setQueryData(["categories"],r.filter(n=>n.id!==t)),{previousCategories:r}},onError:(t,r,n)=>{n!=null&&n.previousCategories&&e.setQueryData(["categories"],n.previousCategories)},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function L9(){const e=$e();return ct({mutationFn:H8,onMutate:async t=>{await e.cancelQueries({queryKey:["paymentMethods"]});const r=e.getQueryData(["paymentMethods"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["paymentMethods"],[...r,n])}return{previousMethods:r}},onError:(t,r,n)=>{n!=null&&n.previousMethods&&e.setQueryData(["paymentMethods"],n.previousMethods)},onSuccess:()=>{e.invalidateQueries({queryKey:["paymentMethods"]})}})}function B9(){const e=$e();return ct({mutationFn:V8,onMutate:async t=>{await e.cancelQueries({queryKey:["paymentMethods"]});const r=e.getQueryData(["paymentMethods"]);return r&&e.setQueryData(["paymentMethods"],r.filter(n=>n.id!==t)),{previousMethods:r}},onError:(t,r,n)=>{n!=null&&n.previousMethods&&e.setQueryData(["paymentMethods"],n.previousMethods)},onSuccess:()=>{e.invalidateQueries({queryKey:["paymentMethods"]})}})}function $9(){const e=$e();return ct({mutationFn:Y8,onMutate:async t=>{await e.cancelQueries({queryKey:["units"]});const r=e.getQueryData(["units"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["units"],[...r,n])}return{previousUnits:r}},onError:(t,r,n)=>{n!=null&&n.previousUnits&&e.setQueryData(["units"],n.previousUnits)},onSuccess:()=>{e.invalidateQueries({queryKey:["units"]})}})}function U9(){const e=$e();return ct({mutationFn:W8,onMutate:async t=>{await e.cancelQueries({queryKey:["units"]});const r=e.getQueryData(["units"]);return r&&e.setQueryData(["units"],r.filter(n=>n.id!==t)),{previousUnits:r}},onError:(t,r,n)=>{n!=null&&n.previousUnits&&e.setQueryData(["units"],n.previousUnits)},onSuccess:()=>{e.invalidateQueries({queryKey:["units"]})}})}function z9(){const e=$e();return ct({mutationFn:o9,onMutate:async t=>{await e.cancelQueries({queryKey:["settings"]});const r=e.getQueryData(["settings","company"]),n=e.getQueryData(["settings","order"]),a=e.getQueryData(["settings","invoice"]),s=e.getQueryData(["settings","defaults"]),l=e.getQueryData(["settings","courier"]);return t.company&&r&&e.setQueryData(["settings","company"],{...r,...t.company}),t.order&&n&&e.setQueryData(["settings","order"],{...n,...t.order}),t.invoice&&a&&e.setQueryData(["settings","invoice"],{...a,...t.invoice}),t.defaults&&s&&e.setQueryData(["settings","defaults"],{...s,...t.defaults}),t.courier&&l&&e.setQueryData(["settings","courier"],{...l,...t.courier}),{previousCompany:r,previousOrder:n,previousInvoice:a,previousDefaults:s,previousCourier:l}},onError:(t,r,n)=>{n!=null&&n.previousCompany&&e.setQueryData(["settings","company"],n.previousCompany),n!=null&&n.previousOrder&&e.setQueryData(["settings","order"],n.previousOrder),n!=null&&n.previousInvoice&&e.setQueryData(["settings","invoice"],n.previousInvoice),n!=null&&n.previousDefaults&&e.setQueryData(["settings","defaults"],n.previousDefaults),n!=null&&n.previousCourier&&e.setQueryData(["settings","courier"],n.previousCourier)},onSuccess:()=>{e.invalidateQueries({queryKey:["settings"]})}})}const xD=({isOpen:e,onClose:t,order:r,customer:n})=>{var g;const{data:a}=$w(),[s,l]=j.useState(!1),[d,f]=j.useState(null),h=Hd();if(!e)return null;const p=async()=>{var S;if(f(null),!r||!n){f("Missing order or customer information"),console.error("[SteadfastModal] Missing order, customer information");return}if(!(a!=null&&a.steadfast)){f("No Steadfast credentials configured"),console.error("[SteadfastModal] No Steadfast settings");return}const{baseUrl:y,apiKey:v,secretKey:x}=a.steadfast;if(console.log("[SteadfastModal] ======== SUBMISSION DEBUG ========"),console.log("[SteadfastModal] courierSettings object:",a),console.log("[SteadfastModal] steadfast object:",a.steadfast),console.log("[SteadfastModal] baseUrl:",y),console.log("[SteadfastModal] baseUrl type:",typeof y),console.log("[SteadfastModal] baseUrl empty?:",y===""||!y),console.log("[SteadfastModal] baseUrl trimmed empty?:",(y||"").trim()===""),console.log("[SteadfastModal] apiKey:",v?`${v.substring(0,5)}...`:"EMPTY/NULL"),console.log("[SteadfastModal] apiKey type:",typeof v),console.log("[SteadfastModal] secretKey:",x?`${x.substring(0,5)}...`:"EMPTY/NULL"),console.log("[SteadfastModal] secretKey type:",typeof x),!y||!v||!x){f(`Incomplete Steadfast credentials - baseUrl: ${!!y}, apiKey: ${!!v}, secretKey: ${!!x}`),console.error("[SteadfastModal] Incomplete credentials"),console.error("[SteadfastModal] baseUrl value:",JSON.stringify(y)),console.error("[SteadfastModal] apiKey value:",JSON.stringify(v)),console.error("[SteadfastModal] secretKey value:",JSON.stringify(x));return}l(!0);try{console.log("[SteadfastModal] ======== PREPARING SUBMISSION ========"),console.log("[SteadfastModal] Order Number:",r.orderNumber),console.log("[SteadfastModal] Customer Name:",n.name),console.log("[SteadfastModal] Customer Phone:",n.phone),console.log("[SteadfastModal] Customer Address:",n.address),console.log("[SteadfastModal] Order Total:",r.total);const _=await s9({baseUrl:y,apiKey:v,secretKey:x,invoice:r.orderNumber,recipientName:n.name,recipientPhone:n.phone,recipientAddress:n.address,codAmount:r.total});if(console.log("[SteadfastModal] ======== SUBMISSION RESULT ========"),console.log("[SteadfastModal] Result:",_),_.error){let N=_.error;try{_.error.includes("Account is not active")&&(N="Something went wrong.")}catch{}f(N),console.error("[SteadfastModal] Submission failed:",_.error);return}console.log("[SteadfastModal] Order submitted successfully to Steadfast");try{const N=`Sent to Steadfast by ${((S=we.currentUser)==null?void 0:S.name)||"System"} on ${new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}`;await h.mutateAsync({id:r.id,updates:{history:{...r.history,courier:N}}})}catch(N){console.error("[SteadfastModal] Failed to update order sent flag:",N)}t()}catch(_){const N=_ instanceof Error?_.message:"Unknown error";f(N),console.error("[SteadfastModal] Exception during submission:",N)}finally{l(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40",onClick:t}),c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:`${ae.card.elevated} w-full max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-300`,children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add to Steadfast"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[d&&c.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[c.jsx("p",{className:"font-semibold",children:"Error:"}),c.jsx("p",{children:d})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Order Number"}),c.jsx("p",{className:"text-gray-900",children:(r==null?void 0:r.orderNumber)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Name"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.name)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Phone"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.phone)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Address"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.address)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"COD Amount"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[" ",((g=r==null?void 0:r.total)==null?void 0:g.toFixed(2))||"0.00"]})]})]}),c.jsxs("div",{className:"flex gap-3 px-6 py-4 border-t border-gray-100",children:[c.jsx("button",{onClick:t,disabled:s,className:"flex-1 py-2 px-4 rounded-lg border border-gray-200 text-gray-700 font-bold hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),c.jsx("button",{onClick:p,disabled:s||!r||!n,className:"flex-1 py-2 px-4 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Adding...":"Add"})]})]})})]})},wD=({isOpen:e,onClose:t,order:r,customer:n})=>{const{data:a}=$w(),[s,l]=j.useState(1e3),[d,f]=j.useState("1"),[h,p]=j.useState(""),[g,y]=j.useState(""),[v,x]=j.useState(""),[S,_]=j.useState([]),[N,O]=j.useState([]),[A,C]=j.useState([]),[T,k]=j.useState(!1),[D,M]=j.useState(!1),[L,G]=j.useState(!1),[Q,K]=j.useState(!1),J=Hd();return j.useEffect(()=>{e&&(async()=>{var ie,B,U,ee;if(!((ie=a==null?void 0:a.carryBee)!=null&&ie.baseUrl)||!((B=a==null?void 0:a.carryBee)!=null&&B.clientId)||!((U=a==null?void 0:a.carryBee)!=null&&U.clientSecret)||!((ee=a==null?void 0:a.carryBee)!=null&&ee.clientContext)){_([]);return}k(!0);try{const ue=await r9({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext});_(ue)}catch(ue){console.error("Failed to fetch cities:",ue),_([])}finally{k(!1)}})()},[e,a]),j.useEffect(()=>{(async()=>{var ie,B;if(!h||!((ie=a==null?void 0:a.carryBee)!=null&&ie.baseUrl)||!((B=a==null?void 0:a.carryBee)!=null&&B.clientId)){O([]),y(""),x(""),C([]);return}M(!0);try{const U=await n9({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext,cityId:h});O(U)}catch(U){console.error("Failed to fetch zones:",U),O([])}finally{M(!1)}})()},[h,a]),j.useEffect(()=>{(async()=>{var ie,B;if(!g||!h||!((ie=a==null?void 0:a.carryBee)!=null&&ie.baseUrl)||!((B=a==null?void 0:a.carryBee)!=null&&B.clientId)){C([]),x("");return}G(!0);try{const U=await a9({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext,cityId:h,zoneId:g});C(U)}catch(U){console.error("Failed to fetch areas:",U),C([])}finally{G(!1)}})()},[g,h,a]),e?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40",onClick:t}),c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:`${ae.card.elevated} w-full max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-300`,children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add to CarryBee"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Weight ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",value:s,onChange:H=>l(Number(H.target.value)),className:"flex-1 px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg",min:"1"}),c.jsx("span",{className:"text-sm font-semibold text-gray-700 whitespace-nowrap",children:"grams"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Delivery Type ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:d,onChange:H=>f(H.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg",children:[c.jsx("option",{value:"1",children:"Normal Delivery (Type 1)"}),c.jsx("option",{value:"2",children:"Express Delivery (Type 2)"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["City ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:h,onChange:H=>p(H.target.value),disabled:T||S.length===0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:T?"Loading cities...":S.length===0?"No cities available":"Select a city"}),S.map(H=>c.jsx("option",{value:H.id,children:H.name},H.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Zone ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:g,onChange:H=>y(H.target.value),disabled:!h||D||N.length===0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:h?D?"Loading zones...":N.length===0?"No zones available":"Select a zone":"Select a city first"}),N.map(H=>c.jsx("option",{value:H.id,children:H.name},H.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Area"}),c.jsxs("select",{value:v,onChange:H=>x(H.target.value),disabled:!g||L,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:g?L?"Loading areas...":A.length===0?"No areas available":"Select an area (optional)":"Select a zone first"}),A.map(H=>c.jsx("option",{value:H.id,children:H.name},H.id))]})]})]}),c.jsxs("div",{className:"flex gap-3 px-6 py-4 border-t border-gray-100",children:[c.jsx("button",{onClick:t,className:"flex-1 py-2 px-4 rounded-lg border border-gray-200 text-gray-700 font-bold hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{onClick:async()=>{var ue;if(!h||!g){alert("Please select both City and Zone");return}if(!r||!n){alert("Missing order or customer information"),console.error("Missing order or customer:",{order:r,customer:n});return}if(!(a!=null&&a.carryBee)){alert("CarryBee settings not configured"),console.error("Missing CarryBee settings:",a);return}const{baseUrl:H,clientId:ie,clientSecret:B,clientContext:U,storeId:ee}=a.carryBee;if(!H||!ie||!B||!U||!ee){alert("CarryBee settings incomplete. Please configure Base URL, Client ID, Client Secret, Client Context, and Store ID in Settings."),console.error("Incomplete CarryBee settings:",{baseUrl:H,clientId:ie,clientSecret:B,clientContext:U,storeId:ee});return}K(!0);try{console.log("[CarryBeeModal] Submitting order:",{storeId:ee,deliveryType:Number(d),recipientPhone:n.phone,recipientName:n.name,cityId:h,zoneId:g,areaId:v||void 0,itemWeight:s,collectableAmount:r.total});const ce=await i9({baseUrl:H,clientId:ie,clientSecret:B,clientContext:U,storeId:ee,deliveryType:Number(d),productType:1,recipientPhone:n.phone,recipientName:n.name,recipientAddress:n.address||"",cityId:h,zoneId:g,areaId:v||void 0,itemWeight:s,collectableAmount:r.total||0});if(ce.error)alert(`Failed to send order: ${ce.error}`);else{try{const I=`Sent to CarryBee by ${((ue=we.currentUser)==null?void 0:ue.name)||"System"} on ${new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}`;await J.mutateAsync({id:r.id,updates:{history:{...r.history,courier:I}}})}catch(I){console.error("[CarryBeeModal] Failed to update order sent flag:",I)}alert("Order sent to CarryBee successfully!"),t()}}catch(ce){console.error("Error submitting order:",ce),alert("Error sending order to CarryBee")}finally{K(!1)}},disabled:!h||!g||Q,className:"flex-1 py-2 px-4 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Q?"Adding...":"Add"})]})]})})]}):null},o0=(e,t,r)=>{if(t==="All Time")return!0;const n=new Date(e),a=new Date;if(t==="Today")return n.toDateString()===a.toDateString();if(t==="This Week"){const s=a.getDate()-a.getDay(),l=new Date(new Date().setDate(s)),d=new Date(new Date().setDate(s+6));return n>=l&&n<=d}return t==="This Month"?n.getMonth()===a.getMonth()&&n.getFullYear()===a.getFullYear():t==="This Year"?n.getFullYear()===a.getFullYear():t==="Custom"?!r.from||!r.to?!0:n>=new Date(r.from)&&n<=new Date(r.to):!0};function jD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=jD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function at(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=jD(e))&&(n&&(n+=" "),n+=t);return n}var q9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Uw(e){if(typeof e!="string")return!1;var t=q9;return t.includes(e)}var K9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],F9=new Set(K9);function SD(e){return typeof e!="string"?!1:F9.has(e)}function _D(e){return typeof e=="string"&&e.startsWith("data-")}function On(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(SD(r)||_D(r))&&(t[r]=e[r]);return t}function ko(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return On(t)}return typeof e=="object"&&!Array.isArray(e)?On(e):null}function Vr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(SD(r)||_D(r)||Uw(r))&&(t[r]=e[r]);return t}function Q9(e){return e==null?null:j.isValidElement(e)?Vr(e.props):typeof e=="object"&&!Array.isArray(e)?Vr(e):null}var H9=["children","width","height","viewBox","className","style","title","desc"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(null,arguments)}function V9(e,t){if(e==null)return{};var r,n,a=G9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function G9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zw=j.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:d,title:f,desc:h}=e,p=V9(e,H9),g=s||{width:n,height:a,x:0,y:0},y=at("recharts-surface",l);return j.createElement("svg",gx({},Vr(p),{className:y,width:n,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),j.createElement("title",null,f),j.createElement("desc",null,h),r)}),Y9=["children","className"];function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yx.apply(null,arguments)}function W9(e,t){if(e==null)return{};var r,n,a=X9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function X9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jr=j.forwardRef((e,t)=>{var{children:r,className:n}=e,a=W9(e,Y9),s=at("recharts-layer",n);return j.createElement("g",yx({className:s},Vr(a),{ref:t}),r)}),ND=j.createContext(null),Z9=()=>j.useContext(ND);function St(e){return function(){return e}}const OD=Math.cos,jm=Math.sin,fa=Math.sqrt,Sm=Math.PI,Bp=2*Sm,vx=Math.PI,bx=2*vx,no=1e-6,J9=bx-no;function ED(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function eK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ED;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class tK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ED:eK(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,f=n-t,h=a-r,p=l-t,g=d-r,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>no)if(!(Math.abs(g*f-h*p)>no)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-l,x=a-d,S=f*f+h*h,_=v*v+x*x,N=Math.sqrt(S),O=Math.sqrt(y),A=s*Math.tan((vx-Math.acos((S+y-_)/(2*N*O)))/2),C=A/O,T=A/N;Math.abs(C-1)>no&&this._append`L${t+C*p},${r+C*g}`,this._append`A${s},${s},0,0,${+(g*v>p*x)},${this._x1=t+T*f},${this._y1=r+T*h}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(a),f=n*Math.sin(a),h=t+d,p=r+f,g=1^l,y=l?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>no||Math.abs(this._y1-p)>no)&&this._append`L${h},${p}`,n&&(y<0&&(y=y%bx+bx),y>J9?this._append`A${n},${n},0,1,${g},${t-d},${r-f}A${n},${n},0,1,${g},${this._x1=h},${this._y1=p}`:y>no&&this._append`A${n},${n},0,${+(y>=vx)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function qw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new tK(t)}function Kw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AD(e){this._context=e}AD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function $p(e){return new AD(e)}function CD(e){return e[0]}function kD(e){return e[1]}function PD(e,t){var r=St(!0),n=null,a=$p,s=null,l=qw(d);e=typeof e=="function"?e:e===void 0?CD:St(e),t=typeof t=="function"?t:t===void 0?kD:St(t);function d(f){var h,p=(f=Kw(f)).length,g,y=!1,v;for(n==null&&(s=a(v=l())),h=0;h<=p;++h)!(h<p&&r(g=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(g,h,f),+t(g,h,f));if(v)return s=null,v+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),d):t},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:St(!!f),d):r},d.curve=function(f){return arguments.length?(a=f,n!=null&&(s=a(n)),d):a},d.context=function(f){return arguments.length?(f==null?n=s=null:s=a(n=f),d):n},d}function Fh(e,t,r){var n=null,a=St(!0),s=null,l=$p,d=null,f=qw(h);e=typeof e=="function"?e:e===void 0?CD:St(+e),t=typeof t=="function"?t:St(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?kD:St(+r);function h(g){var y,v,x,S=(g=Kw(g)).length,_,N=!1,O,A=new Array(S),C=new Array(S);for(s==null&&(d=l(O=f())),y=0;y<=S;++y){if(!(y<S&&a(_=g[y],y,g))===N)if(N=!N)v=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),x=y-1;x>=v;--x)d.point(A[x],C[x]);d.lineEnd(),d.areaEnd()}N&&(A[y]=+e(_,y,g),C[y]=+t(_,y,g),d.point(n?+n(_,y,g):A[y],r?+r(_,y,g):C[y]))}if(O)return d=null,O+""||null}function p(){return PD().defined(a).curve(l).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:St(+g),n=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:St(+g),h):e},h.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:St(+g),h):n},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:St(+g),r=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:St(+g),h):t},h.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:St(+g),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(n).y(t)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:St(!!g),h):a},h.curve=function(g){return arguments.length?(l=g,s!=null&&(d=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=d=null:d=l(s=g),h):s},h}class TD{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function rK(e){return new TD(e,!0)}function nK(e){return new TD(e,!1)}const Fw={draw(e,t){const r=fa(t/Sm);e.moveTo(r,0),e.arc(0,0,r,0,Bp)}},aK={draw(e,t){const r=fa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},DD=fa(1/3),iK=DD*2,sK={draw(e,t){const r=fa(t/iK),n=r*DD;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},oK={draw(e,t){const r=fa(t),n=-r/2;e.rect(n,n,r,r)}},lK=.8908130915292852,MD=jm(Sm/10)/jm(7*Sm/10),cK=jm(Bp/10)*MD,uK=-OD(Bp/10)*MD,dK={draw(e,t){const r=fa(t*lK),n=cK*r,a=uK*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const l=Bp*s/5,d=OD(l),f=jm(l);e.lineTo(f*r,-d*r),e.lineTo(d*n-f*a,f*n+d*a)}e.closePath()}},l0=fa(3),fK={draw(e,t){const r=-fa(t/(l0*3));e.moveTo(0,r*2),e.lineTo(-l0*r,-r),e.lineTo(l0*r,-r),e.closePath()}},Un=-.5,zn=fa(3)/2,xx=1/fa(12),hK=(xx/2+1)*3,mK={draw(e,t){const r=fa(t/hK),n=r/2,a=r*xx,s=n,l=r*xx+r,d=-s,f=l;e.moveTo(n,a),e.lineTo(s,l),e.lineTo(d,f),e.lineTo(Un*n-zn*a,zn*n+Un*a),e.lineTo(Un*s-zn*l,zn*s+Un*l),e.lineTo(Un*d-zn*f,zn*d+Un*f),e.lineTo(Un*n+zn*a,Un*a-zn*n),e.lineTo(Un*s+zn*l,Un*l-zn*s),e.lineTo(Un*d+zn*f,Un*f-zn*d),e.closePath()}};function pK(e,t){let r=null,n=qw(a);e=typeof e=="function"?e:St(e||Fw),t=typeof t=="function"?t:St(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:St(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:St(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function _m(){}function Nm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function RD(e){this._context=e}RD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gK(e){return new RD(e)}function ID(e){this._context=e}ID.prototype={areaStart:_m,areaEnd:_m,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yK(e){return new ID(e)}function LD(e){this._context=e}LD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Nm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vK(e){return new LD(e)}function BD(e){this._context=e}BD.prototype={areaStart:_m,areaEnd:_m,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function bK(e){return new BD(e)}function qE(e){return e<0?-1:1}function KE(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),d=(s*a+l*n)/(n+a);return(qE(s)+qE(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function FE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function c0(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,d=(s-n)/3;e._context.bezierCurveTo(n+d,a+d*t,s-d,l-d*r,s,l)}function Om(e){this._context=e}Om.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:c0(this,this._t0,FE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,c0(this,FE(this,r=KE(this,e,t)),r);break;default:c0(this,this._t0,r=KE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $D(e){this._context=new UD(e)}($D.prototype=Object.create(Om.prototype)).point=function(e,t){Om.prototype.point.call(this,t,e)};function UD(e){this._context=e}UD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function xK(e){return new Om(e)}function wK(e){return new $D(e)}function zD(e){this._context=e}zD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=QE(e),a=QE(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function QE(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function jK(e){return new zD(e)}function Up(e,t){this._context=e,this._t=t}Up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function SK(e){return new Up(e,.5)}function _K(e){return new Up(e,0)}function NK(e){return new Up(e,1)}function Po(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,d=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<d;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function wx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function OK(e,t){return e[t]}function EK(e){const t=[];return t.key=e,t}function AK(){var e=St([]),t=wx,r=Po,n=OK;function a(s){var l=Array.from(e.apply(this,arguments),EK),d,f=l.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(l[d][h]=[0,+n(g,l[d].key,h,s)]).data=g;for(d=0,p=Kw(t(l));d<f;++d)l[p[d]].index=d;return r(l,p),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:St(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:St(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?wx:typeof s=="function"?s:St(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Po,a):r},a}function CK(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Po(e,t)}}function kK(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,d=0;l<a;++l)d+=e[l][r][1]||0;n[r][1]+=n[r][0]=-d/2}Po(e,t)}}function PK(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var d=0,f=0,h=0;d<l;++d){for(var p=e[t[d]],g=p[n][1]||0,y=p[n-1][1]||0,v=(g-y)/2,x=0;x<d;++x){var S=e[t[x]],_=S[n][1]||0,N=S[n-1][1]||0;v+=_-N}f+=g,h+=v*g}a[n-1][1]+=a[n-1][0]=r,f&&(r-=h/f)}a[n-1][1]+=a[n-1][0]=r,Po(e,t)}}var u0={},d0={},HE;function TK(){return HE||(HE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(d0)),d0}var f0={},VE;function qD(){return VE||(VE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(f0)),f0}var h0={},GE;function Qw(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(h0)),h0}var m0={},p0={},YE;function DK(){return YE||(YE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(p0)),p0}var WE;function Hw(){return WE||(WE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DK(),r=Qw();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],l=a.length;if(l===0)return s;let d=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<l;){const g=a[d];h?g==="\\"&&d+1<l?(d++,f+=a[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}e.toPath=n})(m0)),m0}var XE;function Vw(){return XE||(XE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TK(),r=qD(),n=Qw(),a=Hw();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?r.isDeepKey(f)?s(d,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||t.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}e.get=s})(u0)),u0}var g0,ZE;function MK(){return ZE||(ZE=1,g0=Vw().get),g0}var RK=MK();const To=Ta(RK);var IK=4;function vs(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IK,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Ft(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,l)=>{var d=r[l-1];return typeof d=="string"?a+d+s:d!==void 0?a+vs(d)+s:a+s},"")}var wr=e=>e===0?0:e>0?1:-1,Aa=e=>typeof e=="number"&&e!=+e,Do=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,je=e=>(typeof e=="number"||e instanceof Number)&&!Aa(e),Ca=e=>je(e)||typeof e=="string",LK=0,gd=e=>{var t=++LK;return"".concat(e||"").concat(t)},Ur=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&typeof t!="string")return n;var s;if(Do(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return Aa(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},KD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Dt(e,t,r){return je(e)&&je(t)?vs(e+r*(t-e)):t}function FD(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):To(n,t))===r)}var It=e=>e===null||typeof e>"u",Yd=e=>It(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function on(e){return e!=null}function zo(){}var BK=["type","size","sizeType"];function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jx.apply(null,arguments)}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){$K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $K(e,t,r){return(t=UK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UK(e){var t=zK(e,"string");return typeof t=="symbol"?t:t+""}function zK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qK(e,t){if(e==null)return{};var r,n,a=KK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QD={symbolCircle:Fw,symbolCross:aK,symbolDiamond:sK,symbolSquare:oK,symbolStar:dK,symbolTriangle:fK,symbolWye:mK},FK=Math.PI/180,QK=e=>{var t="symbol".concat(Yd(e));return QD[t]||Fw},HK=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*FK;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},VK=(e,t)=>{QD["symbol".concat(Yd(e))]=t},Gw=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=qK(e,BK),s=eA(eA({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var d=()=>{var y=QK(l),v=pK().type(y).size(HK(r,n,l)),x=v();if(x!==null)return x},{className:f,cx:h,cy:p}=s,g=Vr(s);return je(h)&&je(p)&&je(r)?j.createElement("path",jx({},g,{className:at("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Gw.registerSymbol=VK;var HD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Yw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Uw(a)&&(n[a]=(s=>r[a](r,s)))}),n},GK=(e,t,r)=>n=>(e(t,r,n),null),Wd=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Uw(a)&&typeof s=="function"&&(n||(n={}),n[a]=GK(s,t,r))}),n};function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){WK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WK(e,t,r){return(t=XK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ar(e,t){var r=YK({},e),n=t,a=Object.keys(t),s=a.reduce((l,d)=>(l[d]===void 0&&n[d]!==void 0&&(l[d]=n[d]),l),r);return s}function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(null,arguments)}function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){eF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eF(e,t,r){return(t=tF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tF(e){var t=rF(e,"string");return typeof t=="symbol"?t:t+""}function rF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kn=32,nF={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function aF(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Kn/2,s=Kn/6,l=Kn/3,d=t.inactive?n:t.color,f=r??t.type;if(f==="none")return null;if(f==="plainline"){var h;return j.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:a,x2:Kn,y2:a,className:"recharts-legend-icon"})}if(f==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Kn,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(f==="rect")return j.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Kn/8,"h").concat(Kn,"v").concat(Kn*3/4,"h").concat(-Kn,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var p=JK({},t);return delete p.legendIcon,j.cloneElement(t.legendIcon,p)}return j.createElement(Gw,{fill:d,cx:a,cy:a,size:Kn,sizeType:"diameter",type:f})}function iF(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:l}=e,d={x:0,y:0,width:Kn,height:Kn},f={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var y=p.formatter||a,v=at({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var x=p.inactive?s:p.color,S=y?y(p.value,p,g):p.value;return j.createElement("li",Em({className:v,style:f,key:"legend-item-".concat(g)},Wd(e,p,g)),j.createElement(zw,{width:r,height:r,viewBox:d,style:h,"aria-label":"".concat(S," legend icon")},j.createElement(aF,{data:p,iconType:l,inactiveColor:s})),j.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},S))})}var sF=e=>{var t=ar(e,nF),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},j.createElement(iF,Em({},t,{payload:r})))},y0={},v0={},nA;function oF(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],d=n(l,s,r);a.has(d)||a.set(d,l)}return Array.from(a.values())}e.uniqBy=t})(v0)),v0}var b0={},aA;function lF(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(b0)),b0}var x0={},iA;function VD(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(x0)),x0}var w0={},j0={},S0={},sA;function cF(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(S0)),S0}var oA;function Ww(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cF();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(j0)),j0}var _0={},lA;function uF(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(_0)),_0}var cA;function dF(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ww(),r=uF();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(w0)),w0}var N0={},O0={},uA;function fF(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vw();function r(n){return function(a){return t.get(a,n)}}e.property=r})(O0)),O0}var E0={},A0={},C0={},k0={},dA;function GD(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(k0)),k0}var P0={},fA;function YD(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(P0)),P0}var T0={},hA;function WD(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(T0)),T0}var mA;function hF(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GD(),r=YD(),n=WD();function a(p,g,y){return typeof y!="function"?a(p,g,()=>{}):s(p,g,function v(x,S,_,N,O,A){const C=y(x,S,_,N,O,A);return C!==void 0?!!C:s(x,S,v,A)},new Map)}function s(p,g,y,v){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,y,v);case"function":return Object.keys(g).length>0?s(p,{...g},y,v):n.isEqualsSameValueZero(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:n.isEqualsSameValueZero(p,g)}}function l(p,g,y,v){if(g==null)return!0;if(Array.isArray(g))return f(p,g,y,v);if(g instanceof Map)return d(p,g,y,v);if(g instanceof Set)return h(p,g,y,v);const x=Object.keys(g);if(p==null||r.isPrimitive(p))return x.length===0;if(x.length===0)return!0;if(v!=null&&v.has(g))return v.get(g)===p;v==null||v.set(g,p);try{for(let S=0;S<x.length;S++){const _=x[S];if(!r.isPrimitive(p)&&!(_ in p)||g[_]===void 0&&p[_]!==void 0||g[_]===null&&p[_]!==null||!y(p[_],g[_],_,p,g,v))return!1}return!0}finally{v==null||v.delete(g)}}function d(p,g,y,v){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[x,S]of g.entries()){const _=p.get(x);if(y(_,S,x,p,g,v)===!1)return!1}return!0}function f(p,g,y,v){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const x=new Set;for(let S=0;S<g.length;S++){const _=g[S];let N=!1;for(let O=0;O<p.length;O++){if(x.has(O))continue;const A=p[O];let C=!1;if(y(A,_,S,p,g,v)&&(C=!0),C){x.add(O),N=!0;break}}if(!N)return!1}return!0}function h(p,g,y,v){return g.size===0?!0:p instanceof Set?f([...p],[...g],y,v):!1}e.isMatchWith=a,e.isSetMatch=h})(C0)),C0}var pA;function XD(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hF();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(A0)),A0}var D0={},M0={},R0={},gA;function mF(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(R0)),R0}var I0={},yA;function Xw(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(I0)),I0}var L0={},vA;function ZD(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",y="[object ArrayBuffer]",v="[object Object]",x="[object Error]",S="[object DataView]",_="[object Uint8Array]",N="[object Uint8ClampedArray]",O="[object Uint16Array]",A="[object Uint32Array]",C="[object BigUint64Array]",T="[object Int8Array]",k="[object Int16Array]",D="[object Int32Array]",M="[object BigInt64Array]",L="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=C,e.booleanTag=a,e.dataViewTag=S,e.dateTag=d,e.errorTag=x,e.float32ArrayTag=L,e.float64ArrayTag=G,e.functionTag=g,e.int16ArrayTag=k,e.int32ArrayTag=D,e.int8ArrayTag=T,e.mapTag=f,e.numberTag=n,e.objectTag=v,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=O,e.uint32ArrayTag=A,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=N})(L0)),L0}var B0={},bA;function pF(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(B0)),B0}var xA;function JD(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mF(),r=Xw(),n=ZD(),a=YD(),s=pF();function l(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,y,v=new Map,x=void 0){const S=x==null?void 0:x(p,g,y,v);if(S!==void 0)return S;if(a.isPrimitive(p))return p;if(v.has(p))return v.get(p);if(Array.isArray(p)){const _=new Array(p.length);v.set(p,_);for(let N=0;N<p.length;N++)_[N]=d(p[N],N,y,v,x);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;v.set(p,_);for(const[N,O]of p)_.set(N,d(O,N,y,v,x));return _}if(p instanceof Set){const _=new Set;v.set(p,_);for(const N of p)_.add(d(N,void 0,y,v,x));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);v.set(p,_);for(let N=0;N<p.length;N++)_[N]=d(p[N],N,y,v,x);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return v.set(p,_),f(_,p,y,v,x),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return v.set(p,_),f(_,p,y,v,x),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return v.set(p,_),f(_,p,y,v,x),_}if(p instanceof Error){const _=new p.constructor;return v.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,f(_,p,y,v,x),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return v.set(p,_),f(_,p,y,v,x),_}if(p instanceof Number){const _=new Number(p.valueOf());return v.set(p,_),f(_,p,y,v,x),_}if(p instanceof String){const _=new String(p.valueOf());return v.set(p,_),f(_,p,y,v,x),_}if(typeof p=="object"&&h(p)){const _=Object.create(Object.getPrototypeOf(p));return v.set(p,_),f(_,p,y,v,x),_}return p}function f(p,g,y=p,v,x){const S=[...Object.keys(g),...t.getSymbols(g)];for(let _=0;_<S.length;_++){const N=S[_],O=Object.getOwnPropertyDescriptor(p,N);(O==null||O.writable)&&(p[N]=d(g[N],N,y,v,x))}}function h(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=d,e.copyProperties=f})(M0)),M0}var wA;function gF(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JD();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(D0)),D0}var jA;function yF(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XD(),r=gF();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(E0)),E0}var $0={},U0={},z0={},SA;function vF(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JD(),r=Xw(),n=ZD();function a(s,l){return t.cloneDeepWith(s,(d,f,h,p)=>{const g=l==null?void 0:l(d,f,h,p);if(g!==void 0)return g;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const y={};return p.set(s,y),t.copyProperties(y,s,h,p),y}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(y,s),y}case n.argumentsTag:{const y={};return t.copyProperties(y,s),y.length=s.length,y[Symbol.iterator]=s[Symbol.iterator],y}default:return}}})}e.cloneDeepWith=a})(z0)),z0}var _A;function bF(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vF();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(U0)),U0}var q0={},K0={},NA;function eM(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(K0)),K0}var F0={},OA;function xF(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xw();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(F0)),F0}var EA;function wF(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qD(),r=eM(),n=xF(),a=Hw();function s(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(l==null?void 0:l[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=s})(q0)),q0}var AA;function jF(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XD(),r=Qw(),n=bF(),a=Vw(),s=wF();function l(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return f=n.cloneDeep(f),function(h){const p=a.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=l})($0)),$0}var CA;function SF(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VD(),r=fF(),n=yF(),a=jF();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(N0)),N0}var kA;function _F(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oF(),r=lF(),n=VD(),a=dF(),s=SF();function l(d,f=n.identity){return a.isArrayLikeObject(d)?t.uniqBy(Array.from(d),r.ary(s.iteratee(f),1)):[]}e.uniqBy=l})(y0)),y0}var Q0,PA;function NF(){return PA||(PA=1,Q0=_F().uniqBy),Q0}var OF=NF();const TA=Ta(OF);function tM(e,t,r){return t===!0?TA(e,r):typeof t=="function"?TA(e,t):e}var H0={exports:{}},V0={},G0={exports:{}},Y0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA;function EF(){if(DA)return Y0;DA=1;var e=jc();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function d(g,y){var v=y(),x=n({inst:{value:v,getSnapshot:y}}),S=x[0].inst,_=x[1];return s(function(){S.value=v,S.getSnapshot=y,f(S)&&_({inst:S})},[g,v,y]),a(function(){return f(S)&&_({inst:S}),g(function(){f(S)&&_({inst:S})})},[g]),l(v),v}function f(g){var y=g.getSnapshot;g=g.value;try{var v=y();return!r(g,v)}catch{return!0}}function h(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Y0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Y0}var MA;function AF(){return MA||(MA=1,G0.exports=EF()),G0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA;function CF(){if(RA)return V0;RA=1;var e=jc(),t=AF();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,d=e.useMemo,f=e.useDebugValue;return V0.useSyncExternalStoreWithSelector=function(h,p,g,y,v){var x=s(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=d(function(){function N(k){if(!O){if(O=!0,A=k,k=y(k),v!==void 0&&S.hasValue){var D=S.value;if(v(D,k))return C=D}return C=k}if(D=C,n(A,k))return D;var M=y(k);return v!==void 0&&v(D,M)?(A=k,D):(A=k,C=M)}var O=!1,A,C,T=g===void 0?null:g;return[function(){return N(p())},T===null?void 0:function(){return N(T())}]},[p,g,y,v]);var _=a(h,x[0],x[1]);return l(function(){S.hasValue=!0,S.value=_},[_]),f(_),_},V0}var IA;function kF(){return IA||(IA=1,H0.exports=CF()),H0.exports}var PF=kF(),Zw=j.createContext(null),TF=e=>e,_t=()=>{var e=j.useContext(Zw);return e?e.store.dispatch:TF},um=()=>{},DF=()=>um,MF=(e,t)=>e===t;function Ne(e){var t=j.useContext(Zw),r=j.useMemo(()=>t?n=>{if(n!=null)return e(n)}:um,[t,e]);return PF.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:DF,t?t.store.getState:um,t?t.store.getState:um,r,MF)}function RF(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function IF(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function LF(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var LA=e=>Array.isArray(e)?e:[e];function BF(e){const t=Array.isArray(e[0])?e[0]:e;return LF(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $F(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var UF=class{constructor(e){this.value=e}deref(){return this.value}},zF=typeof WeakRef<"u"?WeakRef:UF,qF=0,BA=1;function Qh(){return{s:qF,v:void 0,o:null,p:null}}function rM(e,t={}){let r=Qh();const{resultEqualityCheck:n}=t;let a,s=0;function l(){var g;let d=r;const{length:f}=arguments;for(let y=0,v=f;y<v;y++){const x=arguments[y];if(typeof x=="function"||typeof x=="object"&&x!==null){let S=d.o;S===null&&(d.o=S=new WeakMap);const _=S.get(x);_===void 0?(d=Qh(),S.set(x,d)):d=_}else{let S=d.p;S===null&&(d.p=S=new Map);const _=S.get(x);_===void 0?(d=Qh(),S.set(x,d)):d=_}}const h=d;let p;if(d.s===BA)p=d.v;else if(p=e.apply(null,arguments),s++,n){const y=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;y!=null&&n(y,p)&&(p=y,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new zF(p):p}return h.s=BA,h.v=p,p}return l.clearCache=()=>{r=Qh(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function KF(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,d,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),RF(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:v=rM,argsMemoizeOptions:x=[]}=p,S=LA(y),_=LA(x),N=BF(a),O=g(function(){return s++,h.apply(null,arguments)},...S),A=v(function(){l++;const T=$F(N,arguments);return d=O.apply(null,T),d},..._);return Object.assign(A,{resultFunc:h,memoizedResultFunc:O,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var Y=KF(rM),FF=Object.assign((e,t=Y)=>{IF(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,d,f)=>(l[r[f]]=d,l),{}))},{withTypes:()=>FF}),W0={},X0={},Z0={},$A;function QF(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),d=t(a);if(l===d&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};e.compareValues=r})(Z0)),Z0}var J0={},eb={},UA;function nM(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(eb)),eb}var zA;function HF(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nM(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(J0)),J0}var qA;function VF(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QF(),r=HF(),n=Hw();function a(s,l,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(v=>String(v));const h=(v,x)=>{let S=v;for(let _=0;_<x.length&&S!=null;++_)S=S[x[_]];return S},p=(v,x)=>x==null||v==null?x:typeof v=="object"&&"key"in v?Object.hasOwn(x,v.key)?x[v.key]:h(x,v.path):typeof v=="function"?v(x):Array.isArray(v)?h(x,v):typeof x=="object"?x[v]:x,g=l.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return s.map(v=>({original:v,criteria:g.map(x=>p(x,v))})).slice().sort((v,x)=>{for(let S=0;S<g.length;S++){const _=t.compareValues(v.criteria[S],x.criteria[S],d[S]);if(_!==0)return _}return 0}).map(v=>v.original)}e.orderBy=a})(X0)),X0}var tb={},KA;function GF(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?l(p,f+1):a.push(p)}};return l(r,0),a}e.flatten=t})(tb)),tb}var rb={},FA;function aM(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eM(),r=Ww(),n=GD(),a=WD();function s(l,d,f){return n.isObject(f)&&(typeof d=="number"&&r.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.isEqualsSameValueZero(f[d],l):!1}e.isIterateeCall=s})(rb)),rb}var QA;function YF(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VF(),r=GF(),n=aM();function a(s,...l){const d=l.length;return d>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})(W0)),W0}var nb,HA;function WF(){return HA||(HA=1,nb=YF().sortBy),nb}var XF=WF();const zp=Ta(XF);var iM=e=>e.legend.settings,ZF=e=>e.legend.size,JF=e=>e.legend.payload,e7=Y([JF,iM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?zp(n,r):n});function t7(){return Ne(e7)}var Hh=1;function sM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>Hh||Math.abs(l.left-t.left)>Hh||Math.abs(l.top-t.top)>Hh||Math.abs(l.width-t.width)>Hh)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Tr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var r7=typeof Symbol=="function"&&Symbol.observable||"@@observable",VA=r7,ab=()=>Math.random().toString(36).substring(7).split("").join("."),n7={INIT:`@@redux/INIT${ab()}`,REPLACE:`@@redux/REPLACE${ab()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ab()}`},Am=n7;function Jw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function oM(e,t,r){if(typeof e!="function")throw new Error(Tr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Tr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Tr(1));return r(oM)(e,t)}let n=e,a=t,s=new Map,l=s,d=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((_,N)=>{l.set(N,_)}))}function p(){if(f)throw new Error(Tr(3));return a}function g(_){if(typeof _!="function")throw new Error(Tr(4));if(f)throw new Error(Tr(5));let N=!0;h();const O=d++;return l.set(O,_),function(){if(N){if(f)throw new Error(Tr(6));N=!1,h(),l.delete(O),s=null}}}function y(_){if(!Jw(_))throw new Error(Tr(7));if(typeof _.type>"u")throw new Error(Tr(8));if(typeof _.type!="string")throw new Error(Tr(17));if(f)throw new Error(Tr(9));try{f=!0,a=n(a,_)}finally{f=!1}return(s=l).forEach(O=>{O()}),_}function v(_){if(typeof _!="function")throw new Error(Tr(10));n=_,y({type:Am.REPLACE})}function x(){const _=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Tr(11));function O(){const C=N;C.next&&C.next(p())}return O(),{unsubscribe:_(O)}},[VA](){return this}}}return y({type:Am.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:v,[VA]:x}}function a7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Am.INIT})>"u")throw new Error(Tr(12));if(typeof r(void 0,{type:Am.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tr(13))})}function lM(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{a7(r)}catch(s){a=s}return function(l={},d){if(a)throw a;let f=!1;const h={};for(let p=0;p<n.length;p++){const g=n[p],y=r[g],v=l[g],x=y(v,d);if(typeof x>"u")throw d&&d.type,new Error(Tr(14));h[g]=x,f=f||x!==v}return f=f||n.length!==Object.keys(l).length,f?h:l}}function Cm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function i7(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Tr(15))};const l={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},d=e.map(f=>f(l));return s=Cm(...d)(a.dispatch),{...a,dispatch:s}}}function cM(e){return Jw(e)&&"type"in e&&typeof e.type=="string"}var uM=Symbol.for("immer-nothing"),GA=Symbol.for("immer-draftable"),Gr=Symbol.for("immer-state");function sa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var _n=Object,pc=_n.getPrototypeOf,km="constructor",qp="prototype",Sx="configurable",Pm="enumerable",dm="writable",yd="value",hi=e=>!!e&&!!e[Gr];function ua(e){var t;return e?dM(e)||Fp(e)||!!e[GA]||!!((t=e[km])!=null&&t[GA])||Qp(e)||Hp(e):!1}var s7=_n[qp][km].toString(),YA=new WeakMap;function dM(e){if(!e||!ej(e))return!1;const t=pc(e);if(t===null||t===_n[qp])return!0;const r=_n.hasOwnProperty.call(t,km)&&t[km];if(r===Object)return!0;if(!Hl(r))return!1;let n=YA.get(r);return n===void 0&&(n=Function.toString.call(r),YA.set(r,n)),n===s7}function Kp(e,t,r=!0){Xd(e)===0?(r?Reflect.ownKeys(e):_n.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Xd(e){const t=e[Gr];return t?t.type_:Fp(e)?1:Qp(e)?2:Hp(e)?3:0}var WA=(e,t,r=Xd(e))=>r===2?e.has(t):_n[qp].hasOwnProperty.call(e,t),_x=(e,t,r=Xd(e))=>r===2?e.get(t):e[t],Tm=(e,t,r,n=Xd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function o7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Fp=Array.isArray,Qp=e=>e instanceof Map,Hp=e=>e instanceof Set,ej=e=>typeof e=="object",Hl=e=>typeof e=="function",ib=e=>typeof e=="boolean";function l7(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ei=e=>e.copy_||e.base_,tj=e=>e.modified_?e.copy_:e.base_;function Nx(e,t){if(Qp(e))return new Map(e);if(Hp(e))return new Set(e);if(Fp(e))return Array[qp].slice.call(e);const r=dM(e);if(t===!0||t==="class_only"&&!r){const n=_n.getOwnPropertyDescriptors(e);delete n[Gr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],d=n[l];d[dm]===!1&&(d[dm]=!0,d[Sx]=!0),(d.get||d.set)&&(n[l]={[Sx]:!0,[dm]:!0,[Pm]:d[Pm],[yd]:e[l]})}return _n.create(pc(e),n)}else{const n=pc(e);if(n!==null&&r)return{...e};const a=_n.create(n);return _n.assign(a,e)}}function rj(e,t=!1){return Vp(e)||hi(e)||!ua(e)||(Xd(e)>1&&_n.defineProperties(e,{set:Vh,add:Vh,clear:Vh,delete:Vh}),_n.freeze(e),t&&Kp(e,(r,n)=>{rj(n,!0)},!1)),e}function c7(){sa(2)}var Vh={[yd]:c7};function Vp(e){return e===null||!ej(e)?!0:_n.isFrozen(e)}var Dm="MapSet",Ox="Patches",XA="ArrayMethods",fM={};function Mo(e){const t=fM[e];return t||sa(0,e),t}var ZA=e=>!!fM[e],vd,hM=()=>vd,u7=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ZA(Dm)?Mo(Dm):void 0,arrayMethodsPlugin_:ZA(XA)?Mo(XA):void 0});function JA(e,t){t&&(e.patchPlugin_=Mo(Ox),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ex(e){Ax(e),e.drafts_.forEach(d7),e.drafts_=null}function Ax(e){e===vd&&(vd=e.parent_)}var eC=e=>vd=u7(vd,e);function d7(e){const t=e[Gr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Gr].modified_&&(Ex(t),sa(4)),ua(e)&&(e=rC(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Gr].base_,e,t)}else e=rC(t,r);return f7(t,e,!0),Ex(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==uM?e:void 0}function rC(e,t){if(Vp(t))return t;const r=t[Gr];if(!r)return Mm(t,e.handledSet_,e);if(!Gp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);gM(r,e)}return r.copy_}function f7(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rj(t,r)}function mM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Gp=(e,t)=>e.scope_===t,h7=[];function pM(e,t,r,n){const a=ei(e),s=e.type_;if(n!==void 0&&_x(a,n,s)===t){Tm(a,n,r,s);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;Kp(a,(f,h)=>{if(hi(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const l=e.draftLocations_.get(t)??h7;for(const d of l)Tm(a,d,r,s)}function m7(e,t,r){e.callbacks_.push(function(a){var d;const s=t;if(!s||!Gp(s,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(s);const l=tj(s);pM(e,s.draft_??s,l,r),gM(s,a)})}function gM(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}mM(e)}}function p7(e,t,r){const{scope_:n}=e;if(hi(r)){const a=r[Gr];Gp(a,n)&&a.callbacks_.push(function(){fm(e);const l=tj(a);pM(e,r,l,t)})}else ua(r)&&e.callbacks_.push(function(){const s=ei(e);e.type_===3?s.has(r)&&Mm(r,n.handledSet_,n):_x(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Mm(_x(e.copy_,t,e.type_),n.handledSet_,n)})}function Mm(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||hi(e)||t.has(e)||!ua(e)||Vp(e)||(t.add(e),Kp(e,(n,a)=>{if(hi(a)){const s=a[Gr];if(Gp(s,r)){const l=tj(s);Tm(e,n,l,e.type_),mM(s)}}else ua(a)&&Mm(a,t,r)})),e}function g7(e,t){const r=Fp(e),n={type_:r?1:0,scope_:t?t.scope_:hM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Rm;r&&(a=[n],s=bd);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return n.draft_=d,n.revoke_=l,[d,n]}var Rm={get(e,t){if(t===Gr)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=ei(e);if(!WA(a,t,e.type_))return y7(e,a,t);const s=a[t];if(e.finalized_||!ua(s)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&l7(t))return s;if(s===sb(e.base_,t)){fm(e);const l=e.type_===1?+t:t,d=kx(e.scope_,s,e,l);return e.copy_[l]=d}return s},has(e,t){return t in ei(e)},ownKeys(e){return Reflect.ownKeys(ei(e))},set(e,t,r){const n=yM(ei(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=sb(ei(e),t),s=a==null?void 0:a[Gr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(o7(r,a)&&(r!==void 0||WA(e.base_,t,e.type_)))return!0;fm(e),Cx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),p7(e,t,r)),!0},deleteProperty(e,t){return fm(e),sb(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Cx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ei(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[dm]:!0,[Sx]:e.type_!==1||t!=="length",[Pm]:n[Pm],[yd]:r[t]}},defineProperty(){sa(11)},getPrototypeOf(e){return pc(e.base_)},setPrototypeOf(){sa(12)}},bd={};for(let e in Rm){let t=Rm[e];bd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}bd.deleteProperty=function(e,t){return bd.set.call(this,e,t,void 0)};bd.set=function(e,t,r){return Rm.set.call(this,e[0],t,r,e[0])};function sb(e,t){const r=e[Gr];return(r?ei(r):e)[t]}function y7(e,t,r){var a;const n=yM(t,r);return n?yd in n?n[yd]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function yM(e,t){if(!(t in e))return;let r=pc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=pc(r)}}function Cx(e){e.modified_||(e.modified_=!0,e.parent_&&Cx(e.parent_))}function fm(e){e.copy_||(e.assigned_=new Map,e.copy_=Nx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var v7=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Hl(r)&&!Hl(n)){const l=n;n=r;const d=this;return function(h=l,...p){return d.produce(h,g=>n.call(this,g,...p))}}Hl(n)||sa(6),a!==void 0&&!Hl(a)&&sa(7);let s;if(ua(r)){const l=eC(this),d=kx(l,r,void 0);let f=!0;try{s=n(d),f=!1}finally{f?Ex(l):Ax(l)}return JA(l,a),tC(s,l)}else if(!r||!ej(r)){if(s=n(r),s===void 0&&(s=r),s===uM&&(s=void 0),this.autoFreeze_&&rj(s,!0),a){const l=[],d=[];Mo(Ox).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:d}),a(l,d)}return s}else sa(1,r)},this.produceWithPatches=(r,n)=>{if(Hl(r))return(d,...f)=>this.produceWithPatches(d,h=>r(h,...f));let a,s;return[this.produce(r,n,(d,f)=>{a=d,s=f}),a,s]},ib(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ib(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ib(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ua(t)||sa(8),hi(t)&&(t=ca(t));const r=eC(this),n=kx(r,t,void 0);return n[Gr].isManual_=!0,Ax(r),n}finishDraft(t,r){const n=t&&t[Gr];(!n||!n.isManual_)&&sa(9);const{scope_:a}=n;return JA(a,r),tC(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Mo(Ox).applyPatches_;return hi(t)?a(t,r):this.produce(t,s=>a(s,r))}};function kx(e,t,r,n){const[a,s]=Qp(t)?Mo(Dm).proxyMap_(t,r):Hp(t)?Mo(Dm).proxySet_(t,r):g7(t,r);return((r==null?void 0:r.scope_)??hM()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?m7(r,s,n):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function ca(e){return hi(e)||sa(10,e),vM(e)}function vM(e){if(!ua(e)||Vp(e))return e;const t=e[Gr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Nx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Nx(e,!0);return Kp(r,(a,s)=>{Tm(r,a,vM(s))},n),t&&(t.finalized_=!1),r}var b7=new v7,bM=b7.produce;function xM(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var x7=xM(),w7=xM,j7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Cm:Cm.apply(null,arguments)};function Gn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Nn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>cM(n)&&n.type===e,r}var wM=class td extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,td.prototype)}static get[Symbol.species](){return td}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new td(...t[0].concat(this)):new td(...t.concat(this))}};function nC(e){return ua(e)?bM(e,()=>{}):e}function Gh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function S7(e){return typeof e=="boolean"}var _7=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new wM;return r&&(S7(r)?l.push(x7):l.push(w7(r.extraArgument))),l},jM="RTK_autoBatch",Tt=()=>e=>({payload:e,meta:{[jM]:!0}}),aC=e=>t=>{setTimeout(t,e)},SM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:aC(10):e.type==="callback"?e.queueNotification:aC(e.timeout),h=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>a&&p(),y=n.subscribe(g);return d.add(p),()=>{y(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[jM]),s=!a,s&&(l||(l=!0,f(h))),n.dispatch(p)}finally{a=!0}}})},N7=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new wM(e);return n&&a.push(SM(typeof n=="object"?n:void 0)),a};function O7(e){const t=_7(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(Jw(r))d=lM(r);else throw new Error(Nn(1));let f;typeof n=="function"?f=n(t):f=t();let h=Cm;a&&(h=j7({trace:!1,...typeof a=="object"&&a}));const p=i7(...f),g=N7(p);let y=typeof l=="function"?l(g):g();const v=h(...y);return oM(d,s,v)}function _M(e){const t={},r=[];let n;const a={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(Nn(28));if(d in t)throw new Error(Nn(29));return t[d]=l,a},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function E7(e){return typeof e=="function"}function A7(e,t){let[r,n,a]=_M(t),s;if(E7(e))s=()=>nC(e());else{const d=nC(e);s=()=>d}function l(d=s(),f){let h=[r[f.type],...n.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(hi(p)){const v=g(p,f);return v===void 0?p:v}else{if(ua(p))return bM(p,y=>g(y,f));{const y=g(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},d)}return l.getInitialState=s,l}var C7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",k7=(e=21)=>{let t="",r=e;for(;r--;)t+=C7[Math.random()*64|0];return t},P7=Symbol.for("rtk-slice-createasyncthunk");function T7(e,t){return`${e}/${t}`}function D7({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[P7];return function(a){const{name:s,reducerPath:l=s}=a;if(!s)throw new Error(Nn(11));const d=(typeof a.reducers=="function"?a.reducers(R7()):a.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(C,T){const k=typeof C=="string"?C:C.type;if(!k)throw new Error(Nn(12));if(k in h.sliceCaseReducersByType)throw new Error(Nn(13));return h.sliceCaseReducersByType[k]=T,p},addMatcher(C,T){return h.sliceMatchers.push({matcher:C,reducer:T}),p},exposeAction(C,T){return h.actionCreators[C]=T,p},exposeCaseReducer(C,T){return h.sliceCaseReducersByName[C]=T,p}};f.forEach(C=>{const T=d[C],k={reducerName:C,type:T7(s,C),createNotation:typeof a.reducers=="function"};L7(T)?$7(k,T,p,t):I7(k,T,p)});function g(){const[C={},T=[],k=void 0]=typeof a.extraReducers=="function"?_M(a.extraReducers):[a.extraReducers],D={...C,...h.sliceCaseReducersByType};return A7(a.initialState,M=>{for(let L in D)M.addCase(L,D[L]);for(let L of h.sliceMatchers)M.addMatcher(L.matcher,L.reducer);for(let L of T)M.addMatcher(L.matcher,L.reducer);k&&M.addDefaultCase(k)})}const y=C=>C,v=new Map,x=new WeakMap;let S;function _(C,T){return S||(S=g()),S(C,T)}function N(){return S||(S=g()),S.getInitialState()}function O(C,T=!1){function k(M){let L=M[C];return typeof L>"u"&&T&&(L=Gh(x,k,N)),L}function D(M=y){const L=Gh(v,T,()=>new WeakMap);return Gh(L,M,()=>{const G={};for(const[Q,K]of Object.entries(a.selectors??{}))G[Q]=M7(K,M,()=>Gh(x,M,N),T);return G})}return{reducerPath:C,getSelectors:D,get selectors(){return D(k)},selectSlice:k}}const A={name:s,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:N,...O(l),injectInto(C,{reducerPath:T,...k}={}){const D=T??l;return C.inject({reducerPath:D,reducer:_},k),{...A,...O(D,!0)}}};return A}}function M7(e,t,r,n){function a(s,...l){let d=t(s);return typeof d>"u"&&n&&(d=r()),e(d,...l)}return a.unwrapped=e,a}var un=D7();function R7(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function I7({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!B7(n))throw new Error(Nn(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?Gn(e,l):Gn(e))}function L7(e){return e._reducerDefinitionType==="asyncThunk"}function B7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $7({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Nn(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=r,g=a(e,s,p);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),d&&n.addCase(g.pending,d),f&&n.addCase(g.rejected,f),h&&n.addMatcher(g.settled,h),n.exposeCaseReducer(t,{fulfilled:l||Yh,pending:d||Yh,rejected:f||Yh,settled:h||Yh})}function Yh(){}var U7="task",NM="listener",OM="completed",nj="cancelled",z7=`task-${nj}`,q7=`task-${OM}`,Px=`${NM}-${nj}`,K7=`${NM}-${OM}`,Yp=class{constructor(e){Kv(this,"name","TaskAbortError");Kv(this,"message");this.code=e,this.message=`${U7} ${nj} (reason: ${e})`}},aj=(e,t)=>{if(typeof e!="function")throw new TypeError(Nn(32))},Im=()=>{},EM=(e,t=Im)=>(e.catch(t),e),AM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),_o=e=>{if(e.aborted)throw new Yp(e.reason)};function CM(e,t){let r=Im;return new Promise((n,a)=>{const s=()=>a(new Yp(e.reason));if(e.aborted){s();return}r=AM(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Im})}var F7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Yp?"cancelled":"rejected",error:r}}finally{t==null||t()}},Lm=e=>t=>EM(CM(e,t).then(r=>(_o(e),r))),kM=e=>{const t=Lm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Xl}=Object,iC={},Wp="listenerMiddleware",Q7=(e,t)=>{const r=n=>AM(e,()=>n.abort(e.reason));return(n,a)=>{aj(n);const s=new AbortController;r(s);const l=F7(async()=>{_o(e),_o(s.signal);const d=await n({pause:Lm(s.signal),delay:kM(s.signal),signal:s.signal});return _o(s.signal),d},()=>s.abort(q7));return a!=null&&a.autoJoin&&t.push(l.catch(Im)),{result:Lm(e)(l),cancel(){s.abort(z7)}}}},H7=(e,t)=>{const r=async(n,a)=>{_o(t);let s=()=>{};const d=[new Promise((f,h)=>{let p=e({predicate:n,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await CM(t,Promise.race(d));return _o(t),f}finally{s()}};return(n,a)=>EM(r(n,a))},PM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Gn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Nn(21));return aj(s),{predicate:a,type:t,effect:s}},TM=Xl(e=>{const{type:t,predicate:r,effect:n}=PM(e);return{id:k7(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Nn(22))}}},{withTypes:()=>TM}),sC=(e,t)=>{const{type:r,effect:n,predicate:a}=PM(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},Tx=e=>{e.pending.forEach(t=>{t.abort(Px)})},V7=(e,t)=>()=>{for(const r of t.keys())Tx(r);e.clear()},oC=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},DM=Xl(Gn(`${Wp}/add`),{withTypes:()=>DM}),G7=Gn(`${Wp}/removeAll`),MM=Xl(Gn(`${Wp}/remove`),{withTypes:()=>MM}),Y7=(...e)=>{console.error(`${Wp}/error`,...e)},Zd=(e={})=>{const t=new Map,r=new Map,n=v=>{const x=r.get(v)??0;r.set(v,x+1)},a=v=>{const x=r.get(v)??1;x===1?r.delete(v):r.set(v,x-1)},{extra:s,onError:l=Y7}=e;aj(l);const d=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),x=>{v.unsubscribe(),x!=null&&x.cancelActive&&Tx(v)}),f=v=>{const x=sC(t,v)??TM(v);return d(x)};Xl(f,{withTypes:()=>f});const h=v=>{const x=sC(t,v);return x&&(x.unsubscribe(),v.cancelActive&&Tx(x)),!!x};Xl(h,{withTypes:()=>h});const p=async(v,x,S,_)=>{const N=new AbortController,O=H7(f,N.signal),A=[];try{v.pending.add(N),n(v),await Promise.resolve(v.effect(x,Xl({},S,{getOriginalState:_,condition:(C,T)=>O(C,T).then(Boolean),take:O,delay:kM(N.signal),pause:Lm(N.signal),extra:s,signal:N.signal,fork:Q7(N.signal,A),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((C,T,k)=>{C!==N&&(C.abort(Px),k.delete(C))})},cancel:()=>{N.abort(Px),v.pending.delete(N)},throwIfCancelled:()=>{_o(N.signal)}})))}catch(C){C instanceof Yp||oC(l,C,{raisedBy:"effect"})}finally{await Promise.all(A),N.abort(K7),a(v),v.pending.delete(N)}},g=V7(t,r);return{middleware:v=>x=>S=>{if(!cM(S))return x(S);if(DM.match(S))return f(S.payload);if(G7.match(S)){g();return}if(MM.match(S))return h(S.payload);let _=v.getState();const N=()=>{if(_===iC)throw new Error(Nn(23));return _};let O;try{if(O=x(S),t.size>0){const A=v.getState(),C=Array.from(t.values());for(const T of C){let k=!1;try{k=T.predicate(S,A,_)}catch(D){k=!1,oC(l,D,{raisedBy:"predicate"})}k&&p(T,S,v,N)}}}finally{_=iC}return O},startListening:f,stopListening:h,clearListeners:g}};function Nn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var W7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},RM=un({name:"chartLayout",initialState:W7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:X7,setLayout:Z7,setChartSize:J7,setScale:eQ}=RM.actions,tQ=RM.reducer;function IM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Je(e){return Number.isFinite(e)}function ka(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(n){rQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rQ(e,t,r){return(t=nQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nQ(e){var t=aQ(e,"string");return typeof t=="symbol"?t:t+""}function aQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bt(e,t,r){return It(e)||It(t)?r:Ca(t)?To(e,t,r):typeof t=="function"?t(e):r}var iQ=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:d}=t;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&je(e[s]))return Gl(Gl({},e),{},{[s]:e[s]+(n||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&je(e[l]))return Gl(Gl({},e),{},{[l]:e[l]+(a||0)})}return e},Si=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",LM=(e,t,r,n)=>{if(n)return e.map(d=>d.coordinate);var a,s,l=e.map(d=>(d.coordinate===t&&(a=!0),d.coordinate===r&&(s=!0),d.coordinate));return a||l.push(t),s||l.push(r),l},BM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:y,axisType:v}=e;if(!l)return null;var x=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=a==="category"&&l.bandwidth?l.bandwidth()/x:0;if(S=v==="angleAxis"&&s&&s.length>=2?wr(s[0]-s[1])*2*S:S,g||y){var _=(g||y||[]).map((N,O)=>{var A=n?n.indexOf(N):N,C=l.map(A);return Je(C)?{coordinate:C+S,value:N,offset:S,index:O}:null}).filter(on);return _}return f&&h?h.map((N,O)=>{var A=l.map(N);return Je(A)?{coordinate:A+S,value:N,index:O,offset:S}:null}).filter(on):l.ticks&&p!=null?l.ticks(p).map((N,O)=>{var A=l.map(N);return Je(A)?{coordinate:A+S,value:N,index:O,offset:S}:null}).filter(on):l.domain().map((N,O)=>{var A=l.map(N);return Je(A)?{coordinate:A+S,value:n?n[N]:N,index:O,offset:S}:null}).filter(on)},sQ=(e,t)=>{if(!t||t.length!==2||!je(t[0])||!je(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!je(e[0])||e[0]<r)&&(a[0]=r),(!je(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},oQ=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0,d=0;d<r;++d){var f=e[d],h=f==null?void 0:f[a];if(h!=null){var p=h[1],g=h[0],y=Aa(p)?g:p;y>=0?(h[0]=s,s+=y,h[1]=s):(h[0]=l,l+=y,h[1]=l)}}}},lQ=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0;l<r;++l){var d=e[l],f=d==null?void 0:d[a];if(f!=null){var h=Aa(f[1])?f[0]:f[1];h>=0?(f[0]=s,s+=h,f[1]=s):(f[0]=0,f[1]=0)}}}},cQ={sign:oQ,expand:CK,none:Po,silhouette:kK,wiggle:PK,positive:lQ},uQ=(e,t,r)=>{var n,a=(n=cQ[r])!==null&&n!==void 0?n:Po,s=AK().keys(t).value((d,f)=>Number(bt(d,f,0))).order(wx).offset(a),l=s(e);return l.forEach((d,f)=>{d.forEach((h,p)=>{var g=bt(e[p],t[f],0);Array.isArray(g)&&g.length===2&&je(g[0])&&je(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function dQ(e){return e==null?void 0:String(e)}function cC(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!It(a[t.dataKey])){var d=FD(r,"value",a[t.dataKey]);if(d)return d.coordinate+n/2}return r!=null&&r[s]?r[s].coordinate+n/2:null}var f=bt(a,It(l)?t.dataKey:l),h=t.scale.map(f);return je(h)?h:null}var uC=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var d=bt(s,t.dataKey,t.scale.domain()[l]);if(It(d))return null;var f=t.scale.map(d);return je(f)?f-a/2+n:null},fQ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},hQ=e=>{var t=e.flat(2).filter(je);return[Math.min(...t),Math.max(...t)]},mQ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],pQ=(e,t,r)=>{if(e!=null)return mQ(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:l}=s,d=l.reduce((f,h)=>{var p=IM(h,t,r),g=hQ(p);return!Je(g[0])||!Je(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},dC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=zp(t,p=>p.coordinate),s=1/0,l=1,d=a.length;l<d;l++){var f=a[l],h=a[l-1];s=Math.min(((f==null?void 0:f.coordinate)||0)-((h==null?void 0:h.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function hC(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Gl(Gl({},t),{},{dataKey:r,payload:n,value:a,name:s})}function Mc(e,t){if(e)return String(e);if(typeof t=="string")return t}var gQ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},yQ=(e,t)=>t==="centric"?e.angle:e.radius,_i=e=>e.layout.width,Ni=e=>e.layout.height,vQ=e=>e.layout.scale,$M=e=>e.layout.margin,Xp=Y(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Zp=Y(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),UM="data-recharts-item-index",zM="data-recharts-item-id",Jd=60;function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){bQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bQ(e,t,r){return(t=xQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xQ(e){var t=wQ(e,"string");return typeof t=="symbol"?t:t+""}function wQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jQ=e=>e.brush.height;function SQ(e){var t=Zp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Jd;return r+a}return r},0)}function _Q(e){var t=Zp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Jd;return r+a}return r},0)}function NQ(e){var t=Xp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function OQ(e){var t=Xp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var dr=Y([_i,Ni,$M,jQ,SQ,_Q,NQ,OQ,iM,ZF],(e,t,r,n,a,s,l,d,f,h)=>{var p={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+d},y=Wh(Wh({},g),p),v=y.bottom;y.bottom+=n,y=iQ(y,f,h);var x=e-y.left-y.right,S=t-y.top-y.bottom;return Wh(Wh({brushBottom:v},y),{},{width:Math.max(x,0),height:Math.max(S,0)})}),EQ=Y(dr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ij=Y(_i,Ni,(e,t)=>({x:0,y:0,width:e,height:t})),AQ=j.createContext(null),zr=()=>j.useContext(AQ)!=null,Jp=e=>e.brush,eg=Y([Jp,dr,$M],(e,t,r)=>({height:e.height,x:je(e.x)?e.x:t.left,y:je(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:je(e.width)?e.width:t.width})),ob={},lb={},cb={},pC;function CQ(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(r.apply(l,d),l=void 0,d=null)},g=()=>{h&&p(),S()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},n)},x=()=>{y!==null&&(clearTimeout(y),y=null)},S=()=>{x(),l=void 0,d=null},_=()=>{p()},N=function(...O){if(a!=null&&a.aborted)return;l=this,d=O;const A=y==null;v(),f&&A&&p()};return N.schedule=v,N.cancel=S,N.flush=_,a==null||a.addEventListener("abort",S,{once:!0}),N}e.debounce=t})(cb)),cb}var gC;function kQ(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CQ();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const y=t.debounce(function(...S){p=n.apply(this,S),g=null},a,{edges:h}),v=function(...S){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=n.apply(this,S),g=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,S),p)},x=()=>(y.flush(),p);return v.cancel=y.cancel,v.flush=x,v}e.debounce=r})(lb)),lb}var yC;function PQ(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kQ();function r(n,a=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return t.debounce(n,a,{leading:l,maxWait:a,trailing:d})}e.throttle=r})(ob)),ob}var ub,vC;function TQ(){return vC||(vC=1,ub=PQ().throttle),ub}var DQ=TQ();const MQ=Ta(DQ);var Bm=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},Na={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},qM=(e,t,r)=>{var{width:n=Na.width,height:a=Na.height,aspect:s,maxHeight:l}=r,d=Do(n)?e:Number(n),f=Do(a)?t:Number(a);return s&&s>0&&(d?f=d/s:f&&(d=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:d,calculatedHeight:f}},RQ={width:0,height:0,overflow:"visible"},IQ={width:0,overflowX:"visible"},LQ={height:0,overflowY:"visible"},BQ={},$Q=e=>{var{width:t,height:r}=e,n=Do(t),a=Do(r);return n&&a?RQ:n?IQ:a?LQ:BQ};function UQ(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a=Na.width,s=Na.height):a===void 0?a=n&&n>0?void 0:Na.width:s===void 0&&(s=n&&n>0?void 0:Na.height),{width:a,height:s}}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(null,arguments)}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){zQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zQ(e,t,r){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qQ(e){var t=KQ(e,"string");return typeof t=="symbol"?t:t+""}function KQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KM=j.createContext(Na.initialDimension);function FQ(e){return ka(e.width)&&ka(e.height)}function FM(e){var{children:t,width:r,height:n}=e,a=j.useMemo(()=>({width:r,height:n}),[r,n]);return FQ(a)?j.createElement(KM.Provider,{value:a},t):null}var sj=()=>j.useContext(KM),QQ=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Na.initialDimension,width:a,height:s,minWidth:l=Na.minWidth,minHeight:d,maxHeight:f,children:h,debounce:p=Na.debounce,id:g,className:y,onResize:v,style:x={}}=e,S=j.useRef(null),_=j.useRef();_.current=v,j.useImperativeHandle(t,()=>S.current);var[N,O]=j.useState({containerWidth:n.width,containerHeight:n.height}),A=j.useCallback((M,L)=>{O(G=>{var Q=Math.round(M),K=Math.round(L);return G.containerWidth===Q&&G.containerHeight===K?G:{containerWidth:Q,containerHeight:K}})},[]);j.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return zo;var M=K=>{var J,H=K[0];if(H!=null){var{width:ie,height:B}=H.contentRect;A(ie,B),(J=_.current)===null||J===void 0||J.call(_,ie,B)}};p>0&&(M=MQ(M,p,{trailing:!0,leading:!1}));var L=new ResizeObserver(M),{width:G,height:Q}=S.current.getBoundingClientRect();return A(G,Q),L.observe(S.current),()=>{L.disconnect()}},[A,p]);var{containerWidth:C,containerHeight:T}=N;Bm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:k,calculatedHeight:D}=qM(C,T,{width:a,height:s,aspect:r,maxHeight:f});return Bm(k!=null&&k>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,D,a,s,l,d,r),j.createElement("div",{id:g?"".concat(g):void 0,className:at("recharts-responsive-container",y),style:xC(xC({},x),{},{width:a,height:s,minWidth:l,minHeight:d,maxHeight:f}),ref:S},j.createElement("div",{style:$Q({width:a,height:s})},j.createElement(FM,{width:k,height:D},h)))}),Zl=j.forwardRef((e,t)=>{var r=sj();if(ka(r.width)&&ka(r.height))return e.children;var{width:n,height:a}=UQ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=qM(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return je(s)&&je(l)?j.createElement(FM,{width:s,height:l},e.children):j.createElement(QQ,Dx({},e,{width:n,height:a,ref:t}))});function oj(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var tg=()=>{var e,t=zr(),r=Ne(EQ),n=Ne(eg),a=(e=Ne(Jp))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},HQ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},QM=()=>{var e;return(e=Ne(dr))!==null&&e!==void 0?e:HQ},lj=()=>Ne(_i),cj=()=>Ne(Ni),VQ=()=>Ne(e=>e.layout.margin),st=e=>e.layout.layoutType,qo=()=>Ne(st),HM=()=>{var e=qo();if(e==="horizontal"||e==="vertical")return e},VM=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},GQ=()=>{var e=qo();return e!==void 0},ef=e=>{var t=_t(),r=zr(),{width:n,height:a}=e,s=sj(),l=n,d=a;return s&&(l=s.width>0?s.width:n,d=s.height>0?s.height:a),j.useEffect(()=>{!r&&ka(l)&&ka(d)&&t(J7({width:l,height:d}))},[t,r,l,d]),null},GM=Symbol.for("immer-nothing"),wC=Symbol.for("immer-draftable"),En=Symbol.for("immer-state");function oa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xd=Object.getPrototypeOf;function yc(e){return!!e&&!!e[En]}function Ro(e){var t;return e?YM(e)||Array.isArray(e)||!!e[wC]||!!((t=e.constructor)!=null&&t[wC])||tf(e)||ng(e):!1}var YQ=Object.prototype.constructor.toString(),jC=new WeakMap;function YM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=jC.get(r);return n===void 0&&(n=Function.toString.call(r),jC.set(r,n)),n===YQ}function $m(e,t,r=!0){rg(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function rg(e){const t=e[En];return t?t.type_:Array.isArray(e)?1:tf(e)?2:ng(e)?3:0}function Mx(e,t){return rg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function WM(e,t,r){const n=rg(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function WQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function tf(e){return e instanceof Map}function ng(e){return e instanceof Set}function ao(e){return e.copy_||e.base_}function Rx(e,t){if(tf(e))return new Map(e);if(ng(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=YM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[En];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],d=n[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[l]})}return Object.create(xd(e),n)}else{const n=xd(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function uj(e,t=!1){return ag(e)||yc(e)||!Ro(e)||(rg(e)>1&&Object.defineProperties(e,{set:Xh,add:Xh,clear:Xh,delete:Xh}),Object.freeze(e),t&&Object.values(e).forEach(r=>uj(r,!0))),e}function XQ(){oa(2)}var Xh={value:XQ};function ag(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var ZQ={};function Io(e){const t=ZQ[e];return t||oa(0,e),t}var wd;function XM(){return wd}function JQ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function SC(e,t){t&&(Io("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ix(e){Lx(e),e.drafts_.forEach(eH),e.drafts_=null}function Lx(e){e===wd&&(wd=e.parent_)}function _C(e){return wd=JQ(wd,e)}function eH(e){const t=e[En];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function NC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[En].modified_&&(Ix(t),oa(4)),Ro(e)&&(e=Um(t,e),t.parent_||zm(t,e)),t.patches_&&Io("Patches").generateReplacementPatches_(r[En].base_,e,t.patches_,t.inversePatches_)):e=Um(t,r,[]),Ix(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==GM?e:void 0}function Um(e,t,r){if(ag(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[En];if(!a)return $m(t,(s,l)=>OC(e,a,t,s,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return zm(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,d=!1;a.type_===3&&(l=new Set(s),s.clear(),d=!0),$m(l,(f,h)=>OC(e,a,s,f,h,r,d),n),zm(e,s,!1),r&&e.patches_&&Io("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function OC(e,t,r,n,a,s,l){if(a==null||typeof a!="object"&&!l)return;const d=ag(a);if(!(d&&!l)){if(yc(a)){const f=s&&t&&t.type_!==3&&!Mx(t.assigned_,n)?s.concat(n):void 0,h=Um(e,a,f);if(WM(r,n,h),yc(h))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Ro(a)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&d)return;Um(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(tf(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&zm(e,a)}}}function zm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&uj(t,r)}function tH(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:XM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=dj;r&&(a=[n],s=jd);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return n.draft_=d,n.revoke_=l,d}var dj={get(e,t){if(t===En)return e;const r=ao(e);if(!Mx(r,t))return rH(e,r,t);const n=r[t];return e.finalized_||!Ro(n)?n:n===db(e.base_,t)?(fb(e),e.copy_[t]=$x(n,e)):n},has(e,t){return t in ao(e)},ownKeys(e){return Reflect.ownKeys(ao(e))},set(e,t,r){const n=ZM(ao(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=db(ao(e),t),s=a==null?void 0:a[En];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(WQ(r,a)&&(r!==void 0||Mx(e.base_,t)))return!0;fb(e),Bx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return db(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,fb(e),Bx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ao(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){oa(11)},getPrototypeOf(e){return xd(e.base_)},setPrototypeOf(){oa(12)}},jd={};$m(dj,(e,t)=>{jd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});jd.deleteProperty=function(e,t){return jd.set.call(this,e,t,void 0)};jd.set=function(e,t,r){return dj.set.call(this,e[0],t,r,e[0])};function db(e,t){const r=e[En];return(r?ao(r):e)[t]}function rH(e,t,r){var a;const n=ZM(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function ZM(e,t){if(!(t in e))return;let r=xd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=xd(r)}}function Bx(e){e.modified_||(e.modified_=!0,e.parent_&&Bx(e.parent_))}function fb(e){e.copy_||(e.copy_=Rx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var nH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(f=s,...h){return l.produce(f,p=>r.call(this,p,...h))}}typeof r!="function"&&oa(6),n!==void 0&&typeof n!="function"&&oa(7);let a;if(Ro(t)){const s=_C(this),l=$x(t,void 0);let d=!0;try{a=r(l),d=!1}finally{d?Ix(s):Lx(s)}return SC(s,n),NC(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===GM&&(a=void 0),this.autoFreeze_&&uj(a,!0),n){const s=[],l=[];Io("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else oa(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...d)=>this.produceWithPatches(l,f=>t(f,...d));let n,a;return[this.produce(t,r,(l,d)=>{n=l,a=d}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ro(e)||oa(8),yc(e)&&(e=aH(e));const t=_C(this),r=$x(e,void 0);return r[En].isManual_=!0,Lx(t),r}finishDraft(e,t){const r=e&&e[En];(!r||!r.isManual_)&&oa(9);const{scope_:n}=r;return SC(n,t),NC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Io("Patches").applyPatches_;return yc(e)?n(e,t):this.produce(e,a=>n(a,t))}};function $x(e,t){const r=tf(e)?Io("MapSet").proxyMap_(e,t):ng(e)?Io("MapSet").proxySet_(e,t):tH(e,t);return(t?t.scope_:XM()).drafts_.push(r),r}function aH(e){return yc(e)||oa(10,e),JM(e)}function JM(e){if(!Ro(e)||ag(e))return e;const t=e[En];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Rx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Rx(e,!0);return $m(r,(a,s)=>{WM(r,a,JM(s))},n),t&&(t.finalized_=!1),r}var iH=new nH;iH.produce;var sH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},eR=un({name:"legend",initialState:sH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Tt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ca(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Tt()},removeLegendPayload:{reducer(e,t){var r=ca(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Tt()}}}),{setLegendSize:EC,setLegendSettings:oH,addLegendPayload:tR,replaceLegendPayload:rR,removeLegendPayload:nR}=eR.actions,lH=eR.reducer,cH=["contextPayload"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(null,arguments)}function AC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(r),!0).forEach(function(n){uH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uH(e,t,r){return(t=dH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=fH(e,"string");return typeof t=="symbol"?t:t+""}function fH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hH(e,t){if(e==null)return{};var r,n,a=mH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pH(e){return e.value}function gH(e){var{contextPayload:t}=e,r=hH(e,cH),n=tM(t,e.payloadUniqBy,pH),a=vc(vc({},r),{},{payload:n});return j.isValidElement(e.content)?j.cloneElement(e.content,a):typeof e.content=="function"?j.createElement(e.content,a):j.createElement(sF,a)}function yH(e,t,r,n,a,s){var{layout:l,align:d,verticalAlign:f}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&l==="vertical"?h={left:((n||0)-s.width)/2}:h=d==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?p={top:((a||0)-s.height)/2}:p=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),vc(vc({},h),p)}function vH(e){var t=_t();return j.useEffect(()=>{t(oH(e))},[t,e]),null}function bH(e){var t=_t();return j.useEffect(()=>(t(EC(e)),()=>{t(EC({width:0,height:0}))}),[t,e]),null}function xH(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var wH={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function ig(e){var t=ar(e,wH),r=t7(),n=Z9(),a=VQ(),{width:s,height:l,wrapperStyle:d,portal:f}=t,[h,p]=sM([r]),g=lj(),y=cj();if(g==null||y==null)return null;var v=g-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),x=xH(t.layout,l,s,v),S=f?d:vc(vc({position:"absolute",width:(x==null?void 0:x.width)||s||"auto",height:(x==null?void 0:x.height)||l||"auto"},yH(d,t,a,g,y,h)),d),_=f??n;if(_==null||r==null)return null;var N=j.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:p},j.createElement(vH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&j.createElement(bH,{width:h.width,height:h.height}),j.createElement(gH,Ux({},t,x,{margin:a,chartWidth:g,chartHeight:y,contextPayload:r})));return xp.createPortal(N,_)}ig.displayName="Legend";function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zx.apply(null,arguments)}function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){jH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jH(e,t,r){return(t=SH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SH(e){var t=_H(e,"string");return typeof t=="symbol"?t:t+""}function _H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NH(e){return Array.isArray(e)&&Ca(e[0])&&Ca(e[1])?e.join(" ~ "):e}var $l={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},OH=e=>{var{separator:t=$l.separator,contentStyle:r,itemStyle:n,labelStyle:a=$l.labelStyle,payload:s,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:y=$l.accessibilityLayer}=e,v=()=>{if(s&&s.length){var T={padding:0,margin:0},k=(d?zp(s,d):s).map((D,M)=>{if(D.type==="none")return null;var L=D.formatter||l||NH,{value:G,name:Q}=D,K=G,J=Q;if(L){var H=L(G,Q,D,M,s);if(Array.isArray(H))[K,J]=H;else if(H!=null)K=H;else return null}var ie=Fu(Fu({},$l.itemStyle),{},{color:D.color||$l.itemStyle.color},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ie},Ca(J)?j.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Ca(J)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},K),j.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:T},k)}return null},x=Fu(Fu({},$l.contentStyle),r),S=Fu({margin:0},a),_=!It(p),N=_?p:"",O=at("recharts-default-tooltip",f),A=at("recharts-tooltip-label",h);_&&g&&s!==void 0&&s!==null&&(N=g(p,s));var C=y?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",zx({className:O,style:x},C),j.createElement("p",{className:A,style:S},j.isValidElement(N)?N:"".concat(N)),v())},Qu="recharts-tooltip-wrapper",EH={visibility:"hidden"};function AH(e){var{coordinate:t,translateX:r,translateY:n}=e;return at(Qu,{["".concat(Qu,"-right")]:je(r)&&t&&je(t.x)&&r>=t.x,["".concat(Qu,"-left")]:je(r)&&t&&je(t.x)&&r<t.x,["".concat(Qu,"-bottom")]:je(n)&&t&&je(t.y)&&n>=t.y,["".concat(Qu,"-top")]:je(n)&&t&&je(t.y)&&n<t.y})}function kC(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:s,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=e;if(s&&je(s[n]))return s[n];var p=r[n]-d-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?p:g;var y=f[n];if(y==null)return 0;if(l[n]){var v=p,x=y;return v<x?Math.max(g,y):Math.max(p,y)}if(h==null)return 0;var S=g+d,_=y+h;return S>_?Math.max(p,y):Math.max(g,y)}function CH(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function kH(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:s,reverseDirection:l,tooltipBox:d,useTranslate3d:f,viewBox:h}=e,p,g,y;return d.height>0&&d.width>0&&r?(g=kC({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:s,reverseDirection:l,tooltipDimension:d.width,viewBox:h,viewBoxDimension:h.width}),y=kC({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:s,reverseDirection:l,tooltipDimension:d.height,viewBox:h,viewBoxDimension:h.height}),p=CH({translateX:g,translateY:y,useTranslate3d:f})):p=EH,{cssProperties:p,cssClasses:AH({translateX:g,translateY:y,coordinate:r})}}function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(n){qx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qx(e,t,r){return(t=PH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PH(e){var t=TH(e,"string");return typeof t=="symbol"?t:t+""}function TH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DH extends j.PureComponent{constructor(){super(...arguments),qx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),qx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:y,viewBox:v,wrapperStyle:x,lastBoundingBox:S,innerRef:_,hasPortalFromProps:N}=this.props,O=typeof h=="number"?h:h.x,A=typeof h=="number"?h:h.y,{cssClasses:C,cssProperties:T}=kH({allowEscapeViewBox:r,coordinate:l,offsetLeft:O,offsetTop:A,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:y,viewBox:v}),k=N?{}:Zh(Zh({transition:f&&t?"transform ".concat(n,"ms ").concat(a):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),D=Zh(Zh({},k),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},x);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:D,ref:_},s)}}var aR=()=>{var e;return(e=Ne(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(null,arguments)}function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){MH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MH(e,t,r){return(t=RH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RH(e){var t=IH(e,"string");return typeof t=="symbol"?t:t+""}function IH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MC={curveBasisClosed:yK,curveBasisOpen:vK,curveBasis:gK,curveBumpX:rK,curveBumpY:nK,curveLinearClosed:bK,curveLinear:$p,curveMonotoneX:xK,curveMonotoneY:wK,curveNatural:jK,curveStep:SK,curveStepAfter:NK,curveStepBefore:_K},qm=e=>Je(e.x)&&Je(e.y),RC=e=>e.base!=null&&qm(e.base)&&qm(e),Hu=e=>e.x,Vu=e=>e.y,LH=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Yd(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=MC["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return MC[r]||$p},IC={connectNulls:!1,type:"linear"},BH=e=>{var{type:t=IC.type,points:r=[],baseLine:n,layout:a,connectNulls:s=IC.connectNulls}=e,l=LH(t,a),d=s?r.filter(qm):r;if(Array.isArray(n)){var f,h=r.map((x,S)=>DC(DC({},x),{},{base:n[S]}));a==="vertical"?f=Fh().y(Vu).x1(Hu).x0(x=>x.base.x):f=Fh().x(Hu).y1(Vu).y0(x=>x.base.y);var p=f.defined(RC).curve(l),g=s?h.filter(RC):h;return p(g)}var y;a==="vertical"&&je(n)?y=Fh().y(Vu).x1(Hu).x0(n):je(n)?y=Fh().x(Hu).y1(Vu).y0(n):y=PD().x(Hu).y(Vu);var v=y.defined(qm).curve(l);return v(d)},fj=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=qo();if((!r||!r.length)&&!n)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},d=r&&r.length?BH(l):n;return j.createElement("path",Kx({},On(e),Yw(e),{className:at("recharts-curve",t),d:d===null?void 0:d,ref:a}))},$H=["x","y","top","left","width","height","className"];function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fx.apply(null,arguments)}function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){zH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zH(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=KH(e,"string");return typeof t=="symbol"?t:t+""}function KH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FH(e,t){if(e==null)return{};var r,n,a=QH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HH=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),VH=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:d}=e,f=FH(e,$H),h=UH({x:t,y:r,top:n,left:a,width:s,height:l},f);return!je(t)||!je(r)||!je(s)||!je(l)||!je(n)||!je(a)?null:j.createElement("path",Fx({},Vr(h),{className:at("recharts-cross",d),d:HH(t,r,s,l,n,a)}))};function GH(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function BC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(r),!0).forEach(function(n){YH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YH(e,t,r){return(t=WH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WH(e){var t=XH(e,"string");return typeof t=="symbol"?t:t+""}function XH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),iR=(e,t,r)=>e.map(n=>"".concat(ZH(n)," ").concat(t,"ms ").concat(r)).join(","),JH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Sd=(e,t)=>Object.keys(t).reduce((r,n)=>$C($C({},r),{},{[n]:e(n,t[n])}),{});function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){eV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eV(e,t,r){return(t=tV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tV(e){var t=rV(e,"string");return typeof t=="symbol"?t:t+""}function rV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Km=(e,t,r)=>e+(t-e)*r,Qx=e=>{var{from:t,to:r}=e;return t!==r},sR=(e,t,r)=>{var n=Sd((a,s)=>{if(Qx(s)){var[l,d]=e(s.from,s.to,s.velocity);return cr(cr({},s),{},{from:l,velocity:d})}return s},t);return r<1?Sd((a,s)=>Qx(s)&&n[a]!=null?cr(cr({},s),{},{velocity:Km(s.velocity,n[a].velocity,r),from:Km(s.from,n[a].from,r)}):s,t):sR(e,n,r-1)};function nV(e,t,r,n,a,s){var l,d=n.reduce((y,v)=>cr(cr({},y),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),f=()=>Sd((y,v)=>v.from,d),h=()=>!Object.values(d).filter(Qx).length,p=null,g=y=>{l||(l=y);var v=y-l,x=v/r.dt;d=sR(r,d,x),a(cr(cr(cr({},e),t),f())),l=y,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var y;(y=p)===null||y===void 0||y()})}function aV(e,t,r,n,a,s,l){var d=null,f=a.reduce((g,y)=>{var v=e[y],x=t[y];return v==null||x==null?g:cr(cr({},g),{},{[y]:[v,x]})},{}),h,p=g=>{h||(h=g);var y=(g-h)/n,v=Sd((S,_)=>Km(..._,r(y)),f);if(s(cr(cr(cr({},e),t),v)),y<1)d=l.setTimeout(p);else{var x=Sd((S,_)=>Km(..._,r(1)),f);s(cr(cr(cr({},e),t),x))}};return()=>(d=l.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const iV=(e,t,r,n,a,s)=>{var l=JH(e,t);return r==null?()=>(a(cr(cr({},e),t)),()=>{}):r.isStepper===!0?nV(e,t,r,l,a,s):aV(e,t,r,n,l,a,s)};var Fm=1e-4,oR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],lR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),zC=(e,t)=>r=>{var n=oR(e,t);return lR(n,r)},sV=(e,t)=>r=>{var n=oR(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return lR(a,r)},oV=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},lV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=oV(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},cV=(e,t,r,n)=>{var a=zC(e,r),s=zC(t,n),l=sV(e,r),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,y=0;y<8;++y){var v=a(g)-p,x=l(g);if(Math.abs(v-p)<Fm||x<Fm)return s(g);g=d(g-v/x)}return s(g)};return f.isStepper=!1,f},qC=function(){return cV(...lV(...arguments))},uV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,d,f)=>{var h=-(l-d)*r,p=f*n,g=f+(h-p)*a/1e3,y=f*a/1e3+l;return Math.abs(y-d)<Fm&&Math.abs(g)<Fm?[d,0]:[y,g]};return s.isStepper=!0,s.dt=a,s},dV=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qC(e);case"spring":return uV();default:if(e.split("(")[0]==="cubic-bezier")return qC(e)}return typeof e=="function"?e:null};function fV(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){a=e.setTimeout(s.bind(null,h),f);return}s(f),a=e.setTimeout(s.bind(null,h));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class hV{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function mV(){return fV(new hV)}var pV=j.createContext(mV);function gV(e,t){var r=j.useContext(pV);return j.useMemo(()=>t??r(e),[e,t,r])}var yV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sg={isSsr:yV()},vV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},KC={t:0},hb={t:1};function rf(e){var t=ar(e,vV),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=t,p=r==="auto"?!sg.isSsr:r,g=gV(t.animationId,t.animationManager),[y,v]=j.useState(p?KC:hb),x=j.useRef(null);return j.useEffect(()=>{p||v(hb)},[p]),j.useEffect(()=>{if(!p||!n)return zo;var S=iV(KC,hb,dV(s),a,v,g.getTimeoutController()),_=()=>{x.current=S()};return g.start([f,l,_,a,d]),()=>{g.stop(),x.current&&x.current(),d()}},[p,n,a,s,l,f,d,g]),h(y.t)}function nf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(gd(t)),n=j.useRef(e);return n.current!==e&&(r.current=gd(t),n.current=e),r.current}var bV=["radius"],xV=["radius"],FC,QC,HC,VC,GC,YC,WC,XC,ZC,JC;function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){wV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wV(e,t,r){return(t=jV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jV(e){var t=SV(e,"string");return typeof t=="symbol"?t:t+""}function SV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qm.apply(null,arguments)}function r2(e,t){if(e==null)return{};var r,n,a=_V(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _V(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ya(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var n2=(e,t,r,n,a)=>{var s=vs(r),l=vs(n),d=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(d>0&&Array.isArray(a)){for(var y=[0,0,0,0],v=0,x=4;v<x;v++){var S,_=(S=a[v])!==null&&S!==void 0?S:0;y[v]=_>d?d:_}g=Ft(FC||(FC=ya(["M",",",""])),e,t+f*y[0]),y[0]>0&&(g+=Ft(QC||(QC=ya(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,e+h*y[0],t)),g+=Ft(HC||(HC=ya(["L ",",",""])),e+r-h*y[1],t),y[1]>0&&(g+=Ft(VC||(VC=ya(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,e+r,t+f*y[1])),g+=Ft(GC||(GC=ya(["L ",",",""])),e+r,t+n-f*y[2]),y[2]>0&&(g+=Ft(YC||(YC=ya(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,e+r-h*y[2],t+n)),g+=Ft(WC||(WC=ya(["L ",",",""])),e+h*y[3],t+n),y[3]>0&&(g+=Ft(XC||(XC=ya(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,e,t+n-f*y[3])),g+="Z"}else if(d>0&&a===+a&&a>0){var N=Math.min(d,a);g=Ft(ZC||(ZC=ya(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*N,N,N,p,e+h*N,t,e+r-h*N,t,N,N,p,e+r,t+f*N,e+r,t+n-f*N,N,N,p,e+r-h*N,t+n,e+h*N,t+n,N,N,p,e,t+n-f*N)}else g=Ft(JC||(JC=ya(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return g},a2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cR=e=>{var t=ar(e,a2),r=j.useRef(null),[n,a]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var U=r.current.getTotalLength();U&&a(U)}catch{}},[]);var{x:s,y:l,width:d,height:f,radius:h,className:p}=t,{animationEasing:g,animationDuration:y,animationBegin:v,isAnimationActive:x,isUpdateAnimationActive:S}=t,_=j.useRef(d),N=j.useRef(f),O=j.useRef(s),A=j.useRef(l),C=j.useMemo(()=>({x:s,y:l,width:d,height:f,radius:h}),[s,l,d,f,h]),T=nf(C,"rectangle-");if(s!==+s||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var k=at("recharts-rectangle",p);if(!S){var D=Vr(t),{radius:M}=D,L=r2(D,bV);return j.createElement("path",Qm({},L,{x:vs(s),y:vs(l),width:vs(d),height:vs(f),radius:typeof h=="number"?h:void 0,className:k,d:n2(s,l,d,f,h)}))}var G=_.current,Q=N.current,K=O.current,J=A.current,H="0px ".concat(n===-1?1:n,"px"),ie="".concat(n,"px 0px"),B=iR(["strokeDasharray"],y,typeof g=="string"?g:a2.animationEasing);return j.createElement(rf,{animationId:T,key:T,canBegin:n>0,duration:y,easing:g,isActive:S,begin:v},U=>{var ee=Dt(G,d,U),ue=Dt(Q,f,U),ce=Dt(K,s,U),I=Dt(J,l,U);r.current&&(_.current=ee,N.current=ue,O.current=ce,A.current=I);var V;x?U>0?V={transition:B,strokeDasharray:ie}:V={strokeDasharray:H}:V={strokeDasharray:ie};var me=Vr(t),{radius:pe}=me,be=r2(me,xV);return j.createElement("path",Qm({},be,{radius:typeof h=="number"?h:void 0,className:k,d:n2(ce,I,ee,ue,h),ref:r,style:t2(t2({},V),t.style)}))})};function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){NV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NV(e,t,r){return(t=OV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OV(e){var t=EV(e,"string");return typeof t=="symbol"?t:t+""}function EV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hm=Math.PI/180,AV=e=>e*180/Math.PI,tr=(e,t,r,n)=>({x:e+Math.cos(-Hm*n)*r,y:t+Math.sin(-Hm*n)*r}),uR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},CV=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},kV=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=CV({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var d=(r-a)/l,f=Math.acos(d);return n>s&&(f=2*Math.PI-f),{radius:l,angle:AV(f),angleInRadian:f}},PV=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},TV=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},DV=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=kV({x:r,y:n},t),{innerRadius:l,outerRadius:d}=t;if(a<l||a>d||a===0)return null;var{startAngle:f,endAngle:h}=PV(t),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?s2(s2({},t),{},{radius:a,angle:TV(p,t)}):null};function dR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=tr(t,r,n,a),d=tr(t,r,n,s);return{points:[l,d],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var o2,l2,c2,u2,d2,f2,h2;function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(null,arguments)}function uo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var MV=(e,t)=>{var r=wr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Jh=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:f}=e,h=d*(l?1:-1)+n,p=Math.asin(d/h)/Hm,g=f?a:a+s*p,y=tr(t,r,h,g),v=tr(t,r,n,g),x=f?a-s*p:a,S=tr(t,r,h*Math.cos(p*Hm),x);return{center:y,circleTangency:v,lineTangency:S,theta:p}},fR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,d=MV(s,l),f=s+d,h=tr(t,r,a,s),p=tr(t,r,a,f),g=Ft(o2||(o2=uo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,a,a,+(Math.abs(d)>180),+(s>f),p.x,p.y);if(n>0){var y=tr(t,r,n,s),v=tr(t,r,n,f);g+=Ft(l2||(l2=uo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,n,n,+(Math.abs(d)>180),+(s<=f),y.x,y.y)}else g+=Ft(c2||(c2=uo(["L ",","," Z"])),t,r);return g},RV=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=e,p=wr(h-f),{circleTangency:g,lineTangency:y,theta:v}=Jh({cx:t,cy:r,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:x,lineTangency:S,theta:_}=Jh({cx:t,cy:r,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),N=d?Math.abs(f-h):Math.abs(f-h)-v-_;if(N<0)return l?Ft(u2||(u2=uo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):fR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:f,endAngle:h});var O=Ft(d2||(d2=uo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(p<0),g.x,g.y,a,a,+(N>180),+(p<0),x.x,x.y,s,s,+(p<0),S.x,S.y);if(n>0){var{circleTangency:A,lineTangency:C,theta:T}=Jh({cx:t,cy:r,radius:n,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:k,lineTangency:D,theta:M}=Jh({cx:t,cy:r,radius:n,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),L=d?Math.abs(f-h):Math.abs(f-h)-T-M;if(L<0&&s===0)return"".concat(O,"L").concat(t,",").concat(r,"Z");O+=Ft(f2||(f2=uo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,s,s,+(p<0),k.x,k.y,n,n,+(L>180),+(p>0),A.x,A.y,s,s,+(p<0),C.x,C.y)}else O+=Ft(h2||(h2=uo(["L",",","Z"])),t,r);return O},IV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hR=e=>{var t=ar(e,IV),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=t;if(s<a||h===p)return null;var y=at("recharts-sector",g),v=s-a,x=Ur(l,v,0,!0),S;return x>0&&Math.abs(h-p)<360?S=RV({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(x,v/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):S=fR({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),j.createElement("path",Hx({},Vr(t),{className:y,d:S}))};function LV(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(HD(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:l,angle:d}=t,f=tr(n,a,s,d),h=tr(n,a,l,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return dR(t)}}var mb={},pb={},gb={},m2;function BV(){return m2||(m2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nM();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(gb)),gb}var p2;function $V(){return p2||(p2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BV();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(pb)),pb}var g2;function UV(){return g2||(g2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aM(),r=$V();function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const d=Math.max(Math.ceil((s-a)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=a,a+=l;return f}e.range=n})(mb)),mb}var yb,y2;function zV(){return y2||(y2=1,yb=UV().range),yb}var qV=zV();const mR=Ta(qV);function xs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hj(e){let t,r,n;e.length!==2?(t=xs,r=(d,f)=>xs(e(d),f),n=(d,f)=>e(d)-f):(t=e===xs||e===KV?e:FV,r=e,n=e);function a(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(d,f,h=0,p=d.length){const g=a(d,f,h,p-1);return g>h&&n(d[g-1],f)>-n(d[g],f)?g-1:g}return{left:a,center:l,right:s}}function FV(){return 0}function pR(e){return e===null?NaN:+e}function*QV(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const HV=hj(xs),af=HV.right;hj(pR).center;class v2 extends Map{constructor(t,r=YV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(b2(this,t))}has(t){return super.has(b2(this,t))}set(t,r){return super.set(VV(this,t),r)}delete(t){return super.delete(GV(this,t))}}function b2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function VV({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function GV({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function YV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function WV(e=xs){if(e===xs)return gR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function gR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const XV=Math.sqrt(50),ZV=Math.sqrt(10),JV=Math.sqrt(2);function Vm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=XV?10:s>=ZV?5:s>=JV?2:1;let d,f,h;return a<0?(h=Math.pow(10,-a)/l,d=Math.round(e*h),f=Math.round(t*h),d/h<e&&++d,f/h>t&&--f,h=-h):(h=Math.pow(10,a)*l,d=Math.round(e/h),f=Math.round(t/h),d*h<e&&++d,f*h>t&&--f),f<d&&.5<=r&&r<2?Vm(e,t,r*2):[d,f,h]}function Vx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?Vm(t,e,r):Vm(e,t,r);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(n)if(l<0)for(let h=0;h<d;++h)f[h]=(s-h)/-l;else for(let h=0;h<d;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(a+h)/-l;else for(let h=0;h<d;++h)f[h]=(a+h)*l;return f}function Gx(e,t,r){return t=+t,e=+e,r=+r,Vm(e,t,r)[2]}function Yx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Gx(t,e,r):Gx(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function x2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function w2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function yR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?gR:WV(a);n>r;){if(n-r>600){const f=n-r+1,h=t-r+1,p=Math.log(f),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),v=Math.max(r,Math.floor(t-h*g/f+y)),x=Math.min(n,Math.floor(t+(f-h)*g/f+y));yR(e,t,v,x,a)}const s=e[t];let l=r,d=n;for(Gu(e,r,t),a(e[n],s)>0&&Gu(e,r,n);l<d;){for(Gu(e,l,d),++l,--d;a(e[l],s)<0;)++l;for(;a(e[d],s)>0;)--d}a(e[r],s)===0?Gu(e,r,d):(++d,Gu(e,d,n)),d<=t&&(r=d+1),t<=d&&(n=d-1)}return e}function Gu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function eG(e,t,r){if(e=Float64Array.from(QV(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return w2(e);if(t>=1)return x2(e);var n,a=(n-1)*t,s=Math.floor(a),l=x2(yR(e,s).subarray(0,s+1)),d=w2(e.subarray(s+1));return l+(d-l)*(a-s)}}function tG(e,t,r=pR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),d=+r(e[s+1],s+1,e);return l+(d-l)*(a-s)}}function rG(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Wn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Oi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Wx=Symbol("implicit");function mj(){var e=new v2,t=[],r=[],n=Wx;function a(s){let l=e.get(s);if(l===void 0){if(n!==Wx)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new v2;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return mj(t,r).unknown(n)},Wn.apply(a,arguments),a}function pj(){var e=mj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,d=!1,f=0,h=0,p=.5;delete e.unknown;function g(){var y=t().length,v=a<n,x=v?a:n,S=v?n:a;s=(S-x)/Math.max(1,y-f+h*2),d&&(s=Math.floor(s)),x+=(S-x-s*(y-f))*p,l=s*(1-f),d&&(x=Math.round(x),l=Math.round(l));var _=rG(y).map(function(N){return x+s*N});return r(v?_.reverse():_)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,d=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(y){return arguments.length?(d=!!y,g()):d},e.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},e.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},e.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},e.copy=function(){return pj(t(),[n,a]).round(d).paddingInner(f).paddingOuter(h).align(p)},Wn.apply(g(),arguments)}function vR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return vR(t())},e}function nG(){return vR(pj.apply(null,arguments).paddingInner(1))}function gj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function bR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function sf(){}var _d=.7,Gm=1/_d,Jl="\\s*([+-]?\\d+)\\s*",Nd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ea="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aG=/^#([0-9a-f]{3,8})$/,iG=new RegExp(`^rgb\\(${Jl},${Jl},${Jl}\\)$`),sG=new RegExp(`^rgb\\(${Ea},${Ea},${Ea}\\)$`),oG=new RegExp(`^rgba\\(${Jl},${Jl},${Jl},${Nd}\\)$`),lG=new RegExp(`^rgba\\(${Ea},${Ea},${Ea},${Nd}\\)$`),cG=new RegExp(`^hsl\\(${Nd},${Ea},${Ea}\\)$`),uG=new RegExp(`^hsla\\(${Nd},${Ea},${Ea},${Nd}\\)$`),j2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gj(sf,Od,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:S2,formatHex:S2,formatHex8:dG,formatHsl:fG,formatRgb:_2,toString:_2});function S2(){return this.rgb().formatHex()}function dG(){return this.rgb().formatHex8()}function fG(){return xR(this).formatHsl()}function _2(){return this.rgb().formatRgb()}function Od(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=aG.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?N2(t):r===3?new ln(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?em(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?em(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iG.exec(e))?new ln(t[1],t[2],t[3],1):(t=sG.exec(e))?new ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oG.exec(e))?em(t[1],t[2],t[3],t[4]):(t=lG.exec(e))?em(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cG.exec(e))?A2(t[1],t[2]/100,t[3]/100,1):(t=uG.exec(e))?A2(t[1],t[2]/100,t[3]/100,t[4]):j2.hasOwnProperty(e)?N2(j2[e]):e==="transparent"?new ln(NaN,NaN,NaN,0):null}function N2(e){return new ln(e>>16&255,e>>8&255,e&255,1)}function em(e,t,r,n){return n<=0&&(e=t=r=NaN),new ln(e,t,r,n)}function hG(e){return e instanceof sf||(e=Od(e)),e?(e=e.rgb(),new ln(e.r,e.g,e.b,e.opacity)):new ln}function Xx(e,t,r,n){return arguments.length===1?hG(e):new ln(e,t,r,n??1)}function ln(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}gj(ln,Xx,bR(sf,{brighter(e){return e=e==null?Gm:Math.pow(Gm,e),new ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_d:Math.pow(_d,e),new ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ln(No(this.r),No(this.g),No(this.b),Ym(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O2,formatHex:O2,formatHex8:mG,formatRgb:E2,toString:E2}));function O2(){return`#${fo(this.r)}${fo(this.g)}${fo(this.b)}`}function mG(){return`#${fo(this.r)}${fo(this.g)}${fo(this.b)}${fo((isNaN(this.opacity)?1:this.opacity)*255)}`}function E2(){const e=Ym(this.opacity);return`${e===1?"rgb(":"rgba("}${No(this.r)}, ${No(this.g)}, ${No(this.b)}${e===1?")":`, ${e})`}`}function Ym(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function No(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fo(e){return e=No(e),(e<16?"0":"")+e.toString(16)}function A2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new la(e,t,r,n)}function xR(e){if(e instanceof la)return new la(e.h,e.s,e.l,e.opacity);if(e instanceof sf||(e=Od(e)),!e)return new la;if(e instanceof la)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,d=s-a,f=(s+a)/2;return d?(t===s?l=(r-n)/d+(r<n)*6:r===s?l=(n-t)/d+2:l=(t-r)/d+4,d/=f<.5?s+a:2-s-a,l*=60):d=f>0&&f<1?0:l,new la(l,d,f,e.opacity)}function pG(e,t,r,n){return arguments.length===1?xR(e):new la(e,t,r,n??1)}function la(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}gj(la,pG,bR(sf,{brighter(e){return e=e==null?Gm:Math.pow(Gm,e),new la(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_d:Math.pow(_d,e),new la(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ln(vb(e>=240?e-240:e+120,a,n),vb(e,a,n),vb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new la(C2(this.h),tm(this.s),tm(this.l),Ym(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ym(this.opacity);return`${e===1?"hsl(":"hsla("}${C2(this.h)}, ${tm(this.s)*100}%, ${tm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function C2(e){return e=(e||0)%360,e<0?e+360:e}function tm(e){return Math.max(0,Math.min(1,e||0))}function vb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const yj=e=>()=>e;function gG(e,t){return function(r){return e+r*t}}function yG(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function vG(e){return(e=+e)==1?wR:function(t,r){return r-t?yG(t,r,e):yj(isNaN(t)?r:t)}}function wR(e,t){var r=t-e;return r?gG(e,r):yj(isNaN(e)?t:e)}const k2=(function e(t){var r=vG(t);function n(a,s){var l=r((a=Xx(a)).r,(s=Xx(s)).r),d=r(a.g,s.g),f=r(a.b,s.b),h=wR(a.opacity,s.opacity);return function(p){return a.r=l(p),a.g=d(p),a.b=f(p),a.opacity=h(p),a+""}}return n.gamma=e,n})(1);function bG(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function xG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wG(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=Rc(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(d){for(l=0;l<n;++l)s[l]=a[l](d);return s}}function jG(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Wm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function SG(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Rc(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Zx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bb=new RegExp(Zx.source,"g");function _G(e){return function(){return e}}function NG(e){return function(t){return e(t)+""}}function OG(e,t){var r=Zx.lastIndex=bb.lastIndex=0,n,a,s,l=-1,d=[],f=[];for(e=e+"",t=t+"";(n=Zx.exec(e))&&(a=bb.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),d[l]?d[l]+=s:d[++l]=s),(n=n[0])===(a=a[0])?d[l]?d[l]+=a:d[++l]=a:(d[++l]=null,f.push({i:l,x:Wm(n,a)})),r=bb.lastIndex;return r<t.length&&(s=t.slice(r),d[l]?d[l]+=s:d[++l]=s),d.length<2?f[0]?NG(f[0].x):_G(t):(t=f.length,function(h){for(var p=0,g;p<t;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function Rc(e,t){var r=typeof t,n;return t==null||r==="boolean"?yj(t):(r==="number"?Wm:r==="string"?(n=Od(t))?(t=n,k2):OG:t instanceof Od?k2:t instanceof Date?jG:xG(t)?bG:Array.isArray(t)?wG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?SG:Wm)(e,t)}function vj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function EG(e,t){t===void 0&&(t=e,e=Rc);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var d=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[d](l-d)}}function AG(e){return function(){return e}}function Xm(e){return+e}var P2=[0,1];function Hr(e){return e}function Jx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:AG(isNaN(t)?NaN:.5)}function CG(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function kG(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=Jx(a,n),s=r(l,s)):(n=Jx(n,a),s=r(s,l)),function(d){return s(n(d))}}function PG(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Jx(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(d){var f=af(e,d,1,n)-1;return s[f](a[f](d))}}function of(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function og(){var e=P2,t=P2,r=Rc,n,a,s,l=Hr,d,f,h;function p(){var y=Math.min(e.length,t.length);return l!==Hr&&(l=CG(e[0],e[y-1])),d=y>2?PG:kG,f=h=null,g}function g(y){return y==null||isNaN(y=+y)?s:(f||(f=d(e.map(n),t,r)))(n(l(y)))}return g.invert=function(y){return l(a((h||(h=d(t,e.map(n),Wm)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,Xm),p()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),r=vj,p()},g.clamp=function(y){return arguments.length?(l=y?!0:Hr,p()):l!==Hr},g.interpolate=function(y){return arguments.length?(r=y,p()):r},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,v){return n=y,a=v,p()}}function bj(){return og()(Hr,Hr)}function TG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zm(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bc(e){return e=Zm(Math.abs(e)),e?e[1]:NaN}function DG(e,t){return function(r,n){for(var a=r.length,s=[],l=0,d=e[0],f=0;a>0&&d>0&&(f+d+1>n&&(d=Math.max(1,n-f)),s.push(r.substring(a-=d,a+d)),!((f+=d+1)>n));)d=e[l=(l+1)%e.length];return s.reverse().join(t)}}function MG(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var RG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ed(e){if(!(t=RG.exec(e)))throw new Error("invalid format: "+e);var t;return new xj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ed.prototype=xj.prototype;function xj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IG(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Jm;function LG(e,t){var r=Zm(e,t);if(!r)return Jm=void 0,e.toPrecision(t);var n=r[0],a=r[1],s=a-(Jm=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Zm(e,Math.max(0,t+s-1))[0]}function T2(e,t){var r=Zm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const D2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:TG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>T2(e*100,t),r:T2,s:LG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function M2(e){return e}var R2=Array.prototype.map,I2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function BG(e){var t=e.grouping===void 0||e.thousands===void 0?M2:DG(R2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?M2:MG(R2.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g,y){g=Ed(g);var v=g.fill,x=g.align,S=g.sign,_=g.symbol,N=g.zero,O=g.width,A=g.comma,C=g.precision,T=g.trim,k=g.type;k==="n"?(A=!0,k="g"):D2[k]||(C===void 0&&(C=12),T=!0,k="g"),(N||v==="0"&&x==="=")&&(N=!0,v="0",x="=");var D=(y&&y.prefix!==void 0?y.prefix:"")+(_==="$"?r:_==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),M=(_==="$"?n:/[%p]/.test(k)?l:"")+(y&&y.suffix!==void 0?y.suffix:""),L=D2[k],G=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function Q(K){var J=D,H=M,ie,B,U;if(k==="c")H=L(K)+H,K="";else{K=+K;var ee=K<0||1/K<0;if(K=isNaN(K)?f:L(Math.abs(K),C),T&&(K=IG(K)),ee&&+K==0&&S!=="+"&&(ee=!1),J=(ee?S==="("?S:d:S==="-"||S==="("?"":S)+J,H=(k==="s"&&!isNaN(K)&&Jm!==void 0?I2[8+Jm/3]:"")+H+(ee&&S==="("?")":""),G){for(ie=-1,B=K.length;++ie<B;)if(U=K.charCodeAt(ie),48>U||U>57){H=(U===46?a+K.slice(ie+1):K.slice(ie))+H,K=K.slice(0,ie);break}}}A&&!N&&(K=t(K,1/0));var ue=J.length+K.length+H.length,ce=ue<O?new Array(O-ue+1).join(v):"";switch(A&&N&&(K=t(ce+K,ce.length?O-H.length:1/0),ce=""),x){case"<":K=J+K+H+ce;break;case"=":K=J+ce+K+H;break;case"^":K=ce.slice(0,ue=ce.length>>1)+J+K+H+ce.slice(ue);break;default:K=ce+J+K+H;break}return s(K)}return Q.toString=function(){return g+""},Q}function p(g,y){var v=Math.max(-8,Math.min(8,Math.floor(bc(y)/3)))*3,x=Math.pow(10,-v),S=h((g=Ed(g),g.type="f",g),{suffix:I2[8+v/3]});return function(_){return S(x*_)}}return{format:h,formatPrefix:p}}var rm,wj,jR;$G({thousands:",",grouping:[3],currency:["$",""]});function $G(e){return rm=BG(e),wj=rm.format,jR=rm.formatPrefix,rm}function UG(e){return Math.max(0,-bc(Math.abs(e)))}function zG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bc(t)/3)))*3-bc(Math.abs(e)))}function qG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bc(t)-bc(e))+1}function SR(e,t,r,n){var a=Yx(e,t,r),s;switch(n=Ed(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=zG(a,l))&&(n.precision=s),jR(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=qG(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=UG(a))&&(n.precision=s-(n.type==="%")*2);break}}return wj(n)}function ks(e){var t=e.domain;return e.ticks=function(r){var n=t();return Vx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return SR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],d=n[s],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=a,a=s,s=h);p-- >0;){if(h=Gx(l,d,r),h===f)return n[a]=l,n[s]=d,t(n);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return e},e}function _R(){var e=bj();return e.copy=function(){return of(e,_R())},Wn.apply(e,arguments),ks(e)}function NR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Xm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return NR(e).unknown(t)},e=arguments.length?Array.from(e,Xm):[0,1],ks(r)}function OR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function L2(e){return Math.log(e)}function B2(e){return Math.exp(e)}function KG(e){return-Math.log(-e)}function FG(e){return-Math.exp(-e)}function QG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function HG(e){return e===10?QG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function VG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $2(e){return(t,r)=>-e(-t,r)}function jj(e){const t=e(L2,B2),r=t.domain;let n=10,a,s;function l(){return a=VG(n),s=HG(n),r()[0]<0?(a=$2(a),s=$2(s),e(KG,FG)):e(L2,B2),t}return t.base=function(d){return arguments.length?(n=+d,l()):n},t.domain=function(d){return arguments.length?(r(d),l()):r()},t.ticks=d=>{const f=r();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let y=a(h),v=a(p),x,S;const _=d==null?10:+d;let N=[];if(!(n%1)&&v-y<_){if(y=Math.floor(y),v=Math.ceil(v),h>0){for(;y<=v;++y)for(x=1;x<n;++x)if(S=y<0?x/s(-y):x*s(y),!(S<h)){if(S>p)break;N.push(S)}}else for(;y<=v;++y)for(x=n-1;x>=1;--x)if(S=y>0?x/s(-y):x*s(y),!(S<h)){if(S>p)break;N.push(S)}N.length*2<_&&(N=Vx(h,p,_))}else N=Vx(y,v,Math.min(v-y,_)).map(s);return g?N.reverse():N},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Ed(f)).precision==null&&(f.trim=!0),f=wj(f)),d===1/0)return f;const h=Math.max(1,n*d/t.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*n<n-.5&&(g*=n),g<=h?f(p):""}},t.nice=()=>r(OR(r(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),t}function ER(){const e=jj(og()).domain([1,10]);return e.copy=()=>of(e,ER()).base(e.base()),Wn.apply(e,arguments),e}function U2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function z2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Sj(e){var t=1,r=e(U2(t),z2(t));return r.constant=function(n){return arguments.length?e(U2(t=+n),z2(t)):t},ks(r)}function AR(){var e=Sj(og());return e.copy=function(){return of(e,AR()).constant(e.constant())},Wn.apply(e,arguments)}function q2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function GG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function YG(e){return e<0?-e*e:e*e}function _j(e){var t=e(Hr,Hr),r=1;function n(){return r===1?e(Hr,Hr):r===.5?e(GG,YG):e(q2(r),q2(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ks(t)}function Nj(){var e=_j(og());return e.copy=function(){return of(e,Nj()).exponent(e.exponent())},Wn.apply(e,arguments),e}function WG(){return Nj.apply(null,arguments).exponent(.5)}function K2(e){return Math.sign(e)*e*e}function XG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function CR(){var e=bj(),t=[0,1],r=!1,n;function a(s){var l=XG(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(K2(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Xm)).map(K2)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return CR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Wn.apply(a,arguments),ks(a)}function kR(){var e=[],t=[],r=[],n;function a(){var l=0,d=Math.max(1,t.length);for(r=new Array(d-1);++l<d;)r[l-1]=tG(e,l/d);return s}function s(l){return l==null||isNaN(l=+l)?n:t[af(r,l)]}return s.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(xs),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return kR().domain(e).range(t).unknown(n)},Wn.apply(s,arguments)}function PR(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(f){return f!=null&&f<=f?a[af(n,f,0,r)]:s}function d(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},l.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,d()):a.slice()},l.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return n.slice()},l.copy=function(){return PR().domain([e,t]).range(a).unknown(s)},Wn.apply(ks(l),arguments)}function TR(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[af(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return TR().domain(e).range(t).unknown(r)},Wn.apply(a,arguments)}const xb=new Date,wb=new Date;function fr(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),d=a.ceil(s);return s-l<d-s?l:d},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return f;let h;do f.push(h=new Date(+s)),t(s,d),e(s);while(h<s&&s<l);return f},a.filter=s=>fr(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!s(l););else for(;--d>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(xb.setTime(+s),wb.setTime(+l),e(xb),e(wb),Math.floor(r(xb,wb))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const ep=fr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ep.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ep);ep.range;const si=1e3,Hn=si*60,oi=Hn*60,mi=oi*24,Oj=mi*7,F2=mi*30,jb=mi*365,ho=fr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getUTCSeconds());ho.range;const Ej=fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*si)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getMinutes());Ej.range;const Aj=fr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getUTCMinutes());Aj.range;const Cj=fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*si-e.getMinutes()*Hn)},(e,t)=>{e.setTime(+e+t*oi)},(e,t)=>(t-e)/oi,e=>e.getHours());Cj.range;const kj=fr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*oi)},(e,t)=>(t-e)/oi,e=>e.getUTCHours());kj.range;const lf=fr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hn)/mi,e=>e.getDate()-1);lf.range;const lg=fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mi,e=>e.getUTCDate()-1);lg.range;const DR=fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mi,e=>Math.floor(e/mi));DR.range;function Ko(e){return fr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Hn)/Oj)}const cg=Ko(0),tp=Ko(1),ZG=Ko(2),JG=Ko(3),xc=Ko(4),eY=Ko(5),tY=Ko(6);cg.range;tp.range;ZG.range;JG.range;xc.range;eY.range;tY.range;function Fo(e){return fr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Oj)}const ug=Fo(0),rp=Fo(1),rY=Fo(2),nY=Fo(3),wc=Fo(4),aY=Fo(5),iY=Fo(6);ug.range;rp.range;rY.range;nY.range;wc.range;aY.range;iY.range;const Pj=fr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Pj.range;const Tj=fr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Tj.range;const pi=fr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});pi.range;const gi=fr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});gi.range;function MR(e,t,r,n,a,s){const l=[[ho,1,si],[ho,5,5*si],[ho,15,15*si],[ho,30,30*si],[s,1,Hn],[s,5,5*Hn],[s,15,15*Hn],[s,30,30*Hn],[a,1,oi],[a,3,3*oi],[a,6,6*oi],[a,12,12*oi],[n,1,mi],[n,2,2*mi],[r,1,Oj],[t,1,F2],[t,3,3*F2],[e,1,jb]];function d(h,p,g){const y=p<h;y&&([h,p]=[p,h]);const v=g&&typeof g.range=="function"?g:f(h,p,g),x=v?v.range(h,+p+1):[];return y?x.reverse():x}function f(h,p,g){const y=Math.abs(p-h)/g,v=hj(([,,_])=>_).right(l,y);if(v===l.length)return e.every(Yx(h/jb,p/jb,g));if(v===0)return ep.every(Math.max(Yx(h,p,g),1));const[x,S]=l[y/l[v-1][2]<l[v][2]/y?v-1:v];return x.every(S)}return[d,f]}const[sY,oY]=MR(gi,Tj,ug,DR,kj,Aj),[lY,cY]=MR(pi,Pj,cg,lf,Cj,Ej);function Sb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _b(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function uY(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,d=e.months,f=e.shortMonths,h=Wu(a),p=Xu(a),g=Wu(s),y=Xu(s),v=Wu(l),x=Xu(l),S=Wu(d),_=Xu(d),N=Wu(f),O=Xu(f),A={a:U,A:ee,b:ue,B:ce,c:null,d:W2,e:W2,f:DY,g:KY,G:QY,H:kY,I:PY,j:TY,L:RR,m:MY,M:RY,p:I,q:V,Q:J2,s:ek,S:IY,u:LY,U:BY,V:$Y,w:UY,W:zY,x:null,X:null,y:qY,Y:FY,Z:HY,"%":Z2},C={a:me,A:pe,b:be,B:ke,c:null,d:X2,e:X2,f:WY,g:sW,G:lW,H:VY,I:GY,j:YY,L:LR,m:XY,M:ZY,p:Ae,q:te,Q:J2,s:ek,S:JY,u:eW,U:tW,V:rW,w:nW,W:aW,x:null,X:null,y:iW,Y:oW,Z:cW,"%":Z2},T={a:G,A:Q,b:K,B:J,c:H,d:G2,e:G2,f:OY,g:V2,G:H2,H:Y2,I:Y2,j:jY,L:NY,m:wY,M:SY,p:L,q:xY,Q:AY,s:CY,S:_Y,u:pY,U:gY,V:yY,w:mY,W:vY,x:ie,X:B,y:V2,Y:H2,Z:bY,"%":EY};A.x=k(r,A),A.X=k(n,A),A.c=k(t,A),C.x=k(r,C),C.X=k(n,C),C.c=k(t,C);function k(R,de){return function(ge){var se=[],Me=-1,Ce=0,He=R.length,et,Yt,Rr;for(ge instanceof Date||(ge=new Date(+ge));++Me<He;)R.charCodeAt(Me)===37&&(se.push(R.slice(Ce,Me)),(Yt=Q2[et=R.charAt(++Me)])!=null?et=R.charAt(++Me):Yt=et==="e"?" ":"0",(Rr=de[et])&&(et=Rr(ge,Yt)),se.push(et),Ce=Me+1);return se.push(R.slice(Ce,Me)),se.join("")}}function D(R,de){return function(ge){var se=Yu(1900,void 0,1),Me=M(se,R,ge+="",0),Ce,He;if(Me!=ge.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(de&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(Ce=_b(Yu(se.y,0,1)),He=Ce.getUTCDay(),Ce=He>4||He===0?rp.ceil(Ce):rp(Ce),Ce=lg.offset(Ce,(se.V-1)*7),se.y=Ce.getUTCFullYear(),se.m=Ce.getUTCMonth(),se.d=Ce.getUTCDate()+(se.w+6)%7):(Ce=Sb(Yu(se.y,0,1)),He=Ce.getDay(),Ce=He>4||He===0?tp.ceil(Ce):tp(Ce),Ce=lf.offset(Ce,(se.V-1)*7),se.y=Ce.getFullYear(),se.m=Ce.getMonth(),se.d=Ce.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),He="Z"in se?_b(Yu(se.y,0,1)).getUTCDay():Sb(Yu(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(He+5)%7:se.w+se.U*7-(He+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,_b(se)):Sb(se)}}function M(R,de,ge,se){for(var Me=0,Ce=de.length,He=ge.length,et,Yt;Me<Ce;){if(se>=He)return-1;if(et=de.charCodeAt(Me++),et===37){if(et=de.charAt(Me++),Yt=T[et in Q2?de.charAt(Me++):et],!Yt||(se=Yt(R,ge,se))<0)return-1}else if(et!=ge.charCodeAt(se++))return-1}return se}function L(R,de,ge){var se=h.exec(de.slice(ge));return se?(R.p=p.get(se[0].toLowerCase()),ge+se[0].length):-1}function G(R,de,ge){var se=v.exec(de.slice(ge));return se?(R.w=x.get(se[0].toLowerCase()),ge+se[0].length):-1}function Q(R,de,ge){var se=g.exec(de.slice(ge));return se?(R.w=y.get(se[0].toLowerCase()),ge+se[0].length):-1}function K(R,de,ge){var se=N.exec(de.slice(ge));return se?(R.m=O.get(se[0].toLowerCase()),ge+se[0].length):-1}function J(R,de,ge){var se=S.exec(de.slice(ge));return se?(R.m=_.get(se[0].toLowerCase()),ge+se[0].length):-1}function H(R,de,ge){return M(R,t,de,ge)}function ie(R,de,ge){return M(R,r,de,ge)}function B(R,de,ge){return M(R,n,de,ge)}function U(R){return l[R.getDay()]}function ee(R){return s[R.getDay()]}function ue(R){return f[R.getMonth()]}function ce(R){return d[R.getMonth()]}function I(R){return a[+(R.getHours()>=12)]}function V(R){return 1+~~(R.getMonth()/3)}function me(R){return l[R.getUTCDay()]}function pe(R){return s[R.getUTCDay()]}function be(R){return f[R.getUTCMonth()]}function ke(R){return d[R.getUTCMonth()]}function Ae(R){return a[+(R.getUTCHours()>=12)]}function te(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var de=k(R+="",A);return de.toString=function(){return R},de},parse:function(R){var de=D(R+="",!1);return de.toString=function(){return R},de},utcFormat:function(R){var de=k(R+="",C);return de.toString=function(){return R},de},utcParse:function(R){var de=D(R+="",!0);return de.toString=function(){return R},de}}}var Q2={"-":"",_:" ",0:"0"},Sr=/^\s*\d+/,dY=/^%/,fY=/[\\^$*+?|[\]().{}]/g;function it(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function hY(e){return e.replace(fY,"\\$&")}function Wu(e){return new RegExp("^(?:"+e.map(hY).join("|")+")","i")}function Xu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function mY(e,t,r){var n=Sr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function pY(e,t,r){var n=Sr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function gY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function yY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function vY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function H2(e,t,r){var n=Sr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function V2(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function bY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function xY(e,t,r){var n=Sr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function wY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function G2(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function jY(e,t,r){var n=Sr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Y2(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function SY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function _Y(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function NY(e,t,r){var n=Sr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function OY(e,t,r){var n=Sr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function EY(e,t,r){var n=dY.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function AY(e,t,r){var n=Sr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function CY(e,t,r){var n=Sr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function W2(e,t){return it(e.getDate(),t,2)}function kY(e,t){return it(e.getHours(),t,2)}function PY(e,t){return it(e.getHours()%12||12,t,2)}function TY(e,t){return it(1+lf.count(pi(e),e),t,3)}function RR(e,t){return it(e.getMilliseconds(),t,3)}function DY(e,t){return RR(e,t)+"000"}function MY(e,t){return it(e.getMonth()+1,t,2)}function RY(e,t){return it(e.getMinutes(),t,2)}function IY(e,t){return it(e.getSeconds(),t,2)}function LY(e){var t=e.getDay();return t===0?7:t}function BY(e,t){return it(cg.count(pi(e)-1,e),t,2)}function IR(e){var t=e.getDay();return t>=4||t===0?xc(e):xc.ceil(e)}function $Y(e,t){return e=IR(e),it(xc.count(pi(e),e)+(pi(e).getDay()===4),t,2)}function UY(e){return e.getDay()}function zY(e,t){return it(tp.count(pi(e)-1,e),t,2)}function qY(e,t){return it(e.getFullYear()%100,t,2)}function KY(e,t){return e=IR(e),it(e.getFullYear()%100,t,2)}function FY(e,t){return it(e.getFullYear()%1e4,t,4)}function QY(e,t){var r=e.getDay();return e=r>=4||r===0?xc(e):xc.ceil(e),it(e.getFullYear()%1e4,t,4)}function HY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+it(t/60|0,"0",2)+it(t%60,"0",2)}function X2(e,t){return it(e.getUTCDate(),t,2)}function VY(e,t){return it(e.getUTCHours(),t,2)}function GY(e,t){return it(e.getUTCHours()%12||12,t,2)}function YY(e,t){return it(1+lg.count(gi(e),e),t,3)}function LR(e,t){return it(e.getUTCMilliseconds(),t,3)}function WY(e,t){return LR(e,t)+"000"}function XY(e,t){return it(e.getUTCMonth()+1,t,2)}function ZY(e,t){return it(e.getUTCMinutes(),t,2)}function JY(e,t){return it(e.getUTCSeconds(),t,2)}function eW(e){var t=e.getUTCDay();return t===0?7:t}function tW(e,t){return it(ug.count(gi(e)-1,e),t,2)}function BR(e){var t=e.getUTCDay();return t>=4||t===0?wc(e):wc.ceil(e)}function rW(e,t){return e=BR(e),it(wc.count(gi(e),e)+(gi(e).getUTCDay()===4),t,2)}function nW(e){return e.getUTCDay()}function aW(e,t){return it(rp.count(gi(e)-1,e),t,2)}function iW(e,t){return it(e.getUTCFullYear()%100,t,2)}function sW(e,t){return e=BR(e),it(e.getUTCFullYear()%100,t,2)}function oW(e,t){return it(e.getUTCFullYear()%1e4,t,4)}function lW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?wc(e):wc.ceil(e),it(e.getUTCFullYear()%1e4,t,4)}function cW(){return"+0000"}function Z2(){return"%"}function J2(e){return+e}function ek(e){return Math.floor(+e/1e3)}var Ul,$R,UR;uW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uW(e){return Ul=uY(e),$R=Ul.format,Ul.parse,UR=Ul.utcFormat,Ul.utcParse,Ul}function dW(e){return new Date(e)}function fW(e){return e instanceof Date?+e:+new Date(+e)}function Dj(e,t,r,n,a,s,l,d,f,h){var p=bj(),g=p.invert,y=p.domain,v=h(".%L"),x=h(":%S"),S=h("%I:%M"),_=h("%I %p"),N=h("%a %d"),O=h("%b %d"),A=h("%B"),C=h("%Y");function T(k){return(f(k)<k?v:d(k)<k?x:l(k)<k?S:s(k)<k?_:n(k)<k?a(k)<k?N:O:r(k)<k?A:C)(k)}return p.invert=function(k){return new Date(g(k))},p.domain=function(k){return arguments.length?y(Array.from(k,fW)):y().map(dW)},p.ticks=function(k){var D=y();return e(D[0],D[D.length-1],k??10)},p.tickFormat=function(k,D){return D==null?T:h(D)},p.nice=function(k){var D=y();return(!k||typeof k.range!="function")&&(k=t(D[0],D[D.length-1],k??10)),k?y(OR(D,k)):p},p.copy=function(){return of(p,Dj(e,t,r,n,a,s,l,d,f,h))},p}function hW(){return Wn.apply(Dj(lY,cY,pi,Pj,cg,lf,Cj,Ej,ho,$R).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mW(){return Wn.apply(Dj(sY,oY,gi,Tj,ug,lg,kj,Aj,ho,UR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dg(){var e=0,t=1,r,n,a,s,l=Hr,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(a===0?.5:(g=(s(g)-r)*a,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(y){var v,x;return arguments.length?([v,x]=y,l=g(v,x),h):[l(0),l(1)]}}return h.range=p(Rc),h.rangeRound=p(vj),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),h}}function Ps(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zR(){var e=ks(dg()(Hr));return e.copy=function(){return Ps(e,zR())},Oi.apply(e,arguments)}function qR(){var e=jj(dg()).domain([1,10]);return e.copy=function(){return Ps(e,qR()).base(e.base())},Oi.apply(e,arguments)}function KR(){var e=Sj(dg());return e.copy=function(){return Ps(e,KR()).constant(e.constant())},Oi.apply(e,arguments)}function Mj(){var e=_j(dg());return e.copy=function(){return Ps(e,Mj()).exponent(e.exponent())},Oi.apply(e,arguments)}function pW(){return Mj.apply(null,arguments).exponent(.5)}function FR(){var e=[],t=Hr;function r(n){if(n!=null&&!isNaN(n=+n))return t((af(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(xs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>eG(e,s/n))},r.copy=function(){return FR(t).domain(e)},Oi.apply(r,arguments)}function fg(){var e=0,t=.5,r=1,n=1,a,s,l,d,f,h=Hr,p,g=!1,y;function v(S){return isNaN(S=+S)?y:(S=.5+((S=+p(S))-s)*(n*S<n*s?d:f),h(g?Math.max(0,Math.min(1,S)):S))}v.domain=function(S){return arguments.length?([e,t,r]=S,a=p(e=+e),s=p(t=+t),l=p(r=+r),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),n=s<a?-1:1,v):[e,t,r]},v.clamp=function(S){return arguments.length?(g=!!S,v):g},v.interpolator=function(S){return arguments.length?(h=S,v):h};function x(S){return function(_){var N,O,A;return arguments.length?([N,O,A]=_,h=EG(S,[N,O,A]),v):[h(0),h(.5),h(1)]}}return v.range=x(Rc),v.rangeRound=x(vj),v.unknown=function(S){return arguments.length?(y=S,v):y},function(S){return p=S,a=S(e),s=S(t),l=S(r),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),n=s<a?-1:1,v}}function QR(){var e=ks(fg()(Hr));return e.copy=function(){return Ps(e,QR())},Oi.apply(e,arguments)}function HR(){var e=jj(fg()).domain([.1,1,10]);return e.copy=function(){return Ps(e,HR()).base(e.base())},Oi.apply(e,arguments)}function VR(){var e=Sj(fg());return e.copy=function(){return Ps(e,VR()).constant(e.constant())},Oi.apply(e,arguments)}function Rj(){var e=_j(fg());return e.copy=function(){return Ps(e,Rj()).exponent(e.exponent())},Oi.apply(e,arguments)}function gW(){return Rj.apply(null,arguments).exponent(.5)}const rd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pj,scaleDiverging:QR,scaleDivergingLog:HR,scaleDivergingPow:Rj,scaleDivergingSqrt:gW,scaleDivergingSymlog:VR,scaleIdentity:NR,scaleImplicit:Wx,scaleLinear:_R,scaleLog:ER,scaleOrdinal:mj,scalePoint:nG,scalePow:Nj,scaleQuantile:kR,scaleQuantize:PR,scaleRadial:CR,scaleSequential:zR,scaleSequentialLog:qR,scaleSequentialPow:Mj,scaleSequentialQuantile:FR,scaleSequentialSqrt:pW,scaleSequentialSymlog:KR,scaleSqrt:WG,scaleSymlog:AR,scaleThreshold:TR,scaleTime:hW,scaleUtc:mW,tickFormat:SR},Symbol.toStringTag,{value:"Module"}));var Ei=e=>e.chartData,hg=Y([Ei],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ij=(e,t,r,n)=>n?hg(e):Ei(e),yW=(e,t,r)=>r?hg(e):Ei(e);function yi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Je(t)&&Je(r))return!0}return!1}function tk(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function GR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(Je(r))a=r;else if(typeof r=="function")return;if(Je(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(yi(l))return l}}function vW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(yi(n))return tk(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,d;if(a==="auto")t!=null&&(l=Math.min(...t));else if(je(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&dC.test(a)){var f=dC.exec(a);if(f==null||f[1]==null||t==null)l=void 0;else{var h=+f[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(d=Math.max(...t));else if(je(s))d=s;else if(typeof s=="function")try{t!=null&&(d=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&fC.test(s)){var p=fC.exec(s);if(p==null||p[1]==null||t==null)d=void 0;else{var g=+p[1];d=t[1]+g}}else d=t==null?void 0:t[1];var y=[l,d];if(yi(y))return t==null?y:tk(y,t,r)}}}var Ic=1e9,bW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Bj,Mt=!0,Yn="[DecimalError] ",Oo=Yn+"Invalid argument: ",Lj=Yn+"Exponent out of range: ",Lc=Math.floor,io=Math.pow,xW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sn,br=1e7,Et=7,YR=9007199254740991,np=Lc(YR/Et),Se={};Se.absoluteValue=Se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Se.comparedTo=Se.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Et;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Se.dividedBy=Se.div=function(e){return ci(this,new this.constructor(e))};Se.dividedToIntegerBy=Se.idiv=function(e){var t=this,r=t.constructor;return wt(ci(t,new r(e),0,1),r.precision)};Se.equals=Se.eq=function(e){return!this.cmp(e)};Se.exponent=function(){return nr(this)};Se.greaterThan=Se.gt=function(e){return this.cmp(e)>0};Se.greaterThanOrEqualTo=Se.gte=function(e){return this.cmp(e)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(e){return this.cmp(e)<0};Se.lessThanOrEqualTo=Se.lte=function(e){return this.cmp(e)<1};Se.logarithm=Se.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Sn))throw Error(Yn+"NaN");if(r.s<1)throw Error(Yn+(r.s?"NaN":"-Infinity"));return r.eq(Sn)?new n(0):(Mt=!1,t=ci(Ad(r,s),Ad(e,s),s),Mt=!0,wt(t,a))};Se.minus=Se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZR(t,e):WR(t,(e.s=-e.s,e))};Se.modulo=Se.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Yn+"NaN");return r.s?(Mt=!1,t=ci(r,e,0,1).times(e),Mt=!0,r.minus(t)):wt(new n(r),a)};Se.naturalExponential=Se.exp=function(){return XR(this)};Se.naturalLogarithm=Se.ln=function(){return Ad(this)};Se.negated=Se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Se.plus=Se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WR(t,e):ZR(t,(e.s=-e.s,e))};Se.precision=Se.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Oo+e);if(t=nr(a)+1,n=a.d.length-1,r=n*Et+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Se.squareRoot=Se.sqrt=function(){var e,t,r,n,a,s,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Yn+"NaN")}for(e=nr(d),Mt=!1,a=Math.sqrt(+d),a==0||a==1/0?(t=Oa(d.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Lc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=l=r+3;;)if(s=n,n=s.plus(ci(d,s,l+2)).times(.5),Oa(s.d).slice(0,l)===(t=Oa(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(wt(s,r+1,0),s.times(s).eq(d)){n=s;break}}else if(t!="9999")break;l+=4}return Mt=!0,wt(n,r)};Se.times=Se.mul=function(e){var t,r,n,a,s,l,d,f,h,p=this,g=p.constructor,y=p.d,v=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,r=p.e+e.e,f=y.length,h=v.length,f<h&&(s=y,y=v,v=s,l=f,f=h,h=l),s=[],l=f+h,n=l;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,a=f+n;a>n;)d=s[a]+v[n]*y[a-n-1]+t,s[a--]=d%br|0,t=d/br|0;s[a]=(s[a]+t)%br|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Mt?wt(e,g.precision):e};Se.toDecimalPlaces=Se.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Pa(e,0,Ic),t===void 0?t=n.rounding:Pa(t,0,8),wt(r,e+nr(r)+1,t))};Se.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Lo(n,!0):(Pa(e,0,Ic),t===void 0?t=a.rounding:Pa(t,0,8),n=wt(new a(n),e+1,t),r=Lo(n,!0,e+1)),r};Se.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Lo(a):(Pa(e,0,Ic),t===void 0?t=s.rounding:Pa(t,0,8),n=wt(new s(a),e+nr(a)+1,t),r=Lo(n.abs(),!1,e+nr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Se.toInteger=Se.toint=function(){var e=this,t=e.constructor;return wt(new t(e),nr(e)+1,t.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(e){var t,r,n,a,s,l,d=this,f=d.constructor,h=12,p=+(e=new f(e));if(!e.s)return new f(Sn);if(d=new f(d),!d.s){if(e.s<1)throw Error(Yn+"Infinity");return d}if(d.eq(Sn))return d;if(n=f.precision,e.eq(Sn))return wt(d,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=d.s,l){if((r=p<0?-p:p)<=YR){for(a=new f(Sn),t=Math.ceil(n/Et+4),Mt=!1;r%2&&(a=a.times(d),nk(a.d,t)),r=Lc(r/2),r!==0;)d=d.times(d),nk(d.d,t);return Mt=!0,e.s<0?new f(Sn).div(a):wt(a,n)}}else if(s<0)throw Error(Yn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,Mt=!1,a=e.times(Ad(d,n+h)),Mt=!0,a=XR(a),a.s=s,a};Se.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=nr(a),n=Lo(a,r<=s.toExpNeg||r>=s.toExpPos)):(Pa(e,1,Ic),t===void 0?t=s.rounding:Pa(t,0,8),a=wt(new s(a),e,t),r=nr(a),n=Lo(a,e<=r||r<=s.toExpNeg,e)),n};Se.toSignificantDigits=Se.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Pa(e,1,Ic),t===void 0?t=n.rounding:Pa(t,0,8)),wt(new n(r),e,t)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=nr(e),r=e.constructor;return Lo(e,t<=r.toExpNeg||t>=r.toExpPos)};function WR(e,t){var r,n,a,s,l,d,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Mt?wt(t,g):t;if(f=e.d,h=t.d,l=e.e,a=t.e,f=f.slice(),s=l-a,s){for(s<0?(n=f,s=-s,d=h.length):(n=h,a=l,d=f.length),l=Math.ceil(g/Et),d=l>d?l+1:d+1,s>d&&(s=d,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,n=h,h=f,f=n),r=0;s;)r=(f[--s]=f[s]+h[s]+r)/br|0,f[s]%=br;for(r&&(f.unshift(r),++a),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=a,Mt?wt(t,g):t}function Pa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Oo+e)}function Oa(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=Et-n.length,r&&(s+=is(r)),s+=n;l=e[t],n=l+"",r=Et-n.length,r&&(s+=is(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var ci=(function(){function e(n,a){var s,l=0,d=n.length;for(n=n.slice();d--;)s=n[d]*a+l,n[d]=s%br|0,l=s/br|0;return l&&n.unshift(l),n}function t(n,a,s,l){var d,f;if(s!=l)f=s>l?1:-1;else for(d=f=0;d<s;d++)if(n[d]!=a[d]){f=n[d]>a[d]?1:-1;break}return f}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*br+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var d,f,h,p,g,y,v,x,S,_,N,O,A,C,T,k,D,M,L=n.constructor,G=n.s==a.s?1:-1,Q=n.d,K=a.d;if(!n.s)return new L(n);if(!a.s)throw Error(Yn+"Division by zero");for(f=n.e-a.e,D=K.length,T=Q.length,v=new L(G),x=v.d=[],h=0;K[h]==(Q[h]||0);)++h;if(K[h]>(Q[h]||0)&&--f,s==null?O=s=L.precision:l?O=s+(nr(n)-nr(a))+1:O=s,O<0)return new L(0);if(O=O/Et+2|0,h=0,D==1)for(p=0,K=K[0],O++;(h<T||p)&&O--;h++)A=p*br+(Q[h]||0),x[h]=A/K|0,p=A%K|0;else{for(p=br/(K[0]+1)|0,p>1&&(K=e(K,p),Q=e(Q,p),D=K.length,T=Q.length),C=D,S=Q.slice(0,D),_=S.length;_<D;)S[_++]=0;M=K.slice(),M.unshift(0),k=K[0],K[1]>=br/2&&++k;do p=0,d=t(K,S,D,_),d<0?(N=S[0],D!=_&&(N=N*br+(S[1]||0)),p=N/k|0,p>1?(p>=br&&(p=br-1),g=e(K,p),y=g.length,_=S.length,d=t(g,S,y,_),d==1&&(p--,r(g,D<y?M:K,y))):(p==0&&(d=p=1),g=K.slice()),y=g.length,y<_&&g.unshift(0),r(S,g,_),d==-1&&(_=S.length,d=t(K,S,D,_),d<1&&(p++,r(S,D<_?M:K,_))),_=S.length):d===0&&(p++,S=[0]),x[h++]=p,d&&S[0]?S[_++]=Q[C]||0:(S=[Q[C]],_=1);while((C++<T||S[0]!==void 0)&&O--)}return x[0]||x.shift(),v.e=f,wt(v,l?s+nr(v)+1:s)}})();function XR(e,t){var r,n,a,s,l,d,f=0,h=0,p=e.constructor,g=p.precision;if(nr(e)>16)throw Error(Lj+nr(e));if(!e.s)return new p(Sn);for(Mt=!1,d=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(n=Math.log(io(2,h))/Math.LN10*2+5|0,d+=n,r=a=s=new p(Sn),p.precision=d;;){if(a=wt(a.times(e),d),r=r.times(++f),l=s.plus(ci(a,r,d)),Oa(l.d).slice(0,d)===Oa(s.d).slice(0,d)){for(;h--;)s=wt(s.times(s),d);return p.precision=g,t==null?(Mt=!0,wt(s,g)):s}s=l}}function nr(e){for(var t=e.e*Et,r=e.d[0];r>=10;r/=10)t++;return t}function Nb(e,t,r){if(t>e.LN10.sd())throw Mt=!0,r&&(e.precision=r),Error(Yn+"LN10 precision limit exceeded");return wt(new e(e.LN10),t)}function is(e){for(var t="";e--;)t+="0";return t}function Ad(e,t){var r,n,a,s,l,d,f,h,p,g=1,y=10,v=e,x=v.d,S=v.constructor,_=S.precision;if(v.s<1)throw Error(Yn+(v.s?"NaN":"-Infinity"));if(v.eq(Sn))return new S(0);if(t==null?(Mt=!1,h=_):h=t,v.eq(10))return t==null&&(Mt=!0),Nb(S,h);if(h+=y,S.precision=h,r=Oa(x),n=r.charAt(0),s=nr(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=Oa(v.d),n=r.charAt(0),g++;s=nr(v),n>1?(v=new S("0."+r),s++):v=new S(n+"."+r.slice(1))}else return f=Nb(S,h+2,_).times(s+""),v=Ad(new S(n+"."+r.slice(1)),h-y).plus(f),S.precision=_,t==null?(Mt=!0,wt(v,_)):v;for(d=l=v=ci(v.minus(Sn),v.plus(Sn),h),p=wt(v.times(v),h),a=3;;){if(l=wt(l.times(p),h),f=d.plus(ci(l,new S(a),h)),Oa(f.d).slice(0,h)===Oa(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(Nb(S,h+2,_).times(s+""))),d=ci(d,new S(g),h),S.precision=_,t==null?(Mt=!0,wt(d,_)):d;d=f,a+=2}}function rk(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Lc(r/Et),e.d=[],n=(r+1)%Et,r<0&&(n+=Et),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Et;n<a;)e.d.push(+t.slice(n,n+=Et));t=t.slice(n),n=Et-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Mt&&(e.e>np||e.e<-np))throw Error(Lj+r)}else e.s=0,e.e=0,e.d=[0];return e}function wt(e,t,r){var n,a,s,l,d,f,h,p,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=Et,a=t,h=g[p=0];else{if(p=Math.ceil((n+1)/Et),s=g.length,p>=s)return e;for(h=s=g[p],l=1;s>=10;s/=10)l++;n%=Et,a=n-Et+l}if(r!==void 0&&(s=io(10,l-a-1),d=h/s%10|0,f=t<0||g[p+1]!==void 0||h%s,f=r<4?(d||f)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(n>0?a>0?h/io(10,l-a):0:g[p-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(s=nr(e),g.length=1,t=t-s-1,g[0]=io(10,(Et-t%Et)%Et),e.e=Lc(-t/Et)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=p,s=1,p--):(g.length=p+1,s=io(10,Et-n),g[p]=a>0?(h/io(10,l-a)%io(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==br&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=br)break;g[p--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(Mt&&(e.e>np||e.e<-np))throw Error(Lj+nr(e));return e}function ZR(e,t){var r,n,a,s,l,d,f,h,p,g,y=e.constructor,v=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Mt?wt(t,v):t;if(f=e.d,g=t.d,n=t.e,h=e.e,f=f.slice(),l=h-n,l){for(p=l<0,p?(r=f,l=-l,d=g.length):(r=g,n=h,d=f.length),a=Math.max(Math.ceil(v/Et),d)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}l=0}for(p&&(r=f,f=g,g=r,t.s=-t.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>l;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=br-1;--f[s],f[a]+=br}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Mt?wt(t,v):t):new y(0)}function Lo(e,t,r){var n,a=nr(e),s=Oa(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+is(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+is(-a-1)+s,r&&(n=r-l)>0&&(s+=is(n))):a>=l?(s+=is(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+is(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=is(n))),e.s<0?"-"+s:s}function nk(e,t){if(e.length>t)return e.length=t,!0}function JR(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Oo+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return rk(l,s.toString())}else if(typeof s!="string")throw Error(Oo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,xW.test(s))rk(l,s);else throw Error(Oo+s)}if(a.prototype=Se,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=JR,a.config=a.set=wW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function wW(e){if(!e||typeof e!="object")throw Error(Yn+"Object expected");var t,r,n,a=["precision",1,Ic,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Lc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Oo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Oo+r+": "+n);return this}var Bj=JR(bW);Sn=new Bj(1);const ht=Bj;function eI(e){var t;return e===0?t=1:t=Math.floor(new ht(e).abs().log(10).toNumber())+1,t}function tI(e,t,r){for(var n=new ht(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var rI=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},nI=(e,t,r)=>{if(e.lte(0))return new ht(0);var n=eI(e.toNumber()),a=new ht(10).pow(n),s=e.div(a),l=n!==1?.05:.1,d=new ht(Math.ceil(s.div(l).toNumber())).add(r).mul(l),f=d.mul(a);return t?new ht(f.toNumber()):new ht(Math.ceil(f.toNumber()))},jW=(e,t,r)=>{var n=new ht(1),a=new ht(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new ht(10).pow(eI(e)-1),a=new ht(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new ht(Math.floor(e)))}else e===0?a=new ht(Math.floor((t-1)/2)):r||(a=new ht(Math.floor(e)));for(var l=Math.floor((t-1)/2),d=[],f=0;f<t;f++)d.push(a.add(new ht(f-l).mul(n)).toNumber());return d},aI=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ht(0),tickMin:new ht(0),tickMax:new ht(0)};var l=nI(new ht(r).sub(t).div(n-1),a,s),d;t<=0&&r>=0?d=new ht(0):(d=new ht(t).add(r).div(2),d=d.sub(new ht(d).mod(l)));var f=Math.ceil(d.sub(t).div(l).toNumber()),h=Math.ceil(new ht(r).sub(d).div(l).toNumber()),p=f+h+1;return p>n?aI(t,r,n,a,s+1):(p<n&&(h=r>0?h+(n-p):h,f=r>0?f:f+(n-p)),{step:l,tickMin:d.sub(new ht(f).mul(l)),tickMax:d.add(new ht(h).mul(l))})},SW=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[d,f]=rI([r,n]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return r>n?h.reverse():h}if(d===f)return jW(d,a,s);var{step:p,tickMin:g,tickMax:y}=aI(d,f,l,s,0),v=tI(g,y.add(new ht(.1).mul(p)),p);return r>n?v.reverse():v},_W=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,d]=rI([n,a]);if(l===-1/0||d===1/0)return[n,a];if(l===d)return[l];var f=Math.max(r,2),h=nI(new ht(d).sub(l).div(f-1),s,0),p=[...tI(new ht(l),new ht(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),n>a?p.reverse():p},iI=e=>e.rootProps.maxBarSize,NW=e=>e.rootProps.barGap,sI=e=>e.rootProps.barCategoryGap,OW=e=>e.rootProps.barSize,cf=e=>e.rootProps.stackOffset,oI=e=>e.rootProps.reverseStackOrder,$j=e=>e.options.chartName,Uj=e=>e.rootProps.syncId,lI=e=>e.rootProps.syncMethod,zj=e=>e.options.eventEmitter,rr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},to={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},va={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},mg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function pg(e,t,r){if(r!=="auto")return r;if(e!=null)return Si(e,t)?"category":"number"}function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return(t=AW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AW(e){var t=CW(e,"string");return typeof t=="symbol"?t:t+""}function CW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ik={allowDataOverflow:to.allowDataOverflow,allowDecimals:to.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:to.angleAxisId,includeHidden:!1,name:void 0,reversed:to.reversed,scale:to.scale,tick:to.tick,tickCount:void 0,ticks:void 0,type:to.type,unit:void 0},sk={allowDataOverflow:va.allowDataOverflow,allowDecimals:va.allowDecimals,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.radiusAxisId,includeHidden:va.includeHidden,name:void 0,reversed:va.reversed,scale:va.scale,tick:va.tick,tickCount:va.tickCount,ticks:void 0,type:va.type,unit:void 0},kW=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},qj=Y([kW,VM],(e,t)=>{var r;if(e!=null)return e;var n=(r=pg(t,"angleAxis",ik.type))!==null&&r!==void 0?r:"category";return ap(ap({},ik),{},{type:n})}),PW=(e,t)=>e.polarAxis.radiusAxis[t],Kj=Y([PW,VM],(e,t)=>{var r;if(e!=null)return e;var n=(r=pg(t,"radiusAxis",sk.type))!==null&&r!==void 0?r:"category";return ap(ap({},sk),{},{type:n})}),gg=e=>e.polarOptions,Fj=Y([_i,Ni,dr],uR),cI=Y([gg,Fj],(e,t)=>{if(e!=null)return Ur(e.innerRadius,t,0)}),uI=Y([gg,Fj],(e,t)=>{if(e!=null)return Ur(e.outerRadius,t,t*.8)}),TW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},dI=Y([gg],TW);Y([qj,dI],mg);var fI=Y([Fj,cI,uI],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Y([Kj,fI],mg);var hI=Y([st,gg,cI,uI,_i,Ni],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=t;return{cx:Ur(l,a,a/2),cy:Ur(d,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:h,clockWise:!1}}}),Bt=(e,t)=>t,uf=(e,t,r)=>r;function Qj(e){return e==null?void 0:e.id}function mI(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:n;if(!(h==null||h.length===0)){var p=Qj(d);h.forEach((g,y)=>{var v=s==null||a?y:String(bt(g,s,null)),x=bt(g,d.dataKey,0),S;l.has(v)?S=l.get(v):S={},Object.assign(S,{[p]:x}),l.set(v,S)})}}),Array.from(l.values())}function yg(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var vg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function bg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function DW(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var _r=e=>{var t=st(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Bc=e=>e.tooltip.settings.axisId;function MW(e){if(e in rd)return rd[e]();var t="scale".concat(Yd(e));if(t in rd)return rd[t]()}function ok(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(s){var l=a[0],d=a[1];return l<=d?s>=l&&s<=d:s>=d&&s<=l},bandwidth:r?()=>r.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,l)=>{var d=e(s);if(d!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var f=e.bandwidth();switch(l.position){case"middle":d+=f/2;break;case"end":d+=f;break}}return d}}}}function lk(e,t,r){if(typeof e=="function")return ok(e.copy().domain(t).range(r));if(e!=null){var n=MW(e);if(n!=null)return n.domain(t).range(r),ok(n)}}var pI=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!yi(t)){for(var r,n,a=0;a<t.length;a++){var s=t[a];Je(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ip(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){RW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RW(e,t,r){return(t=IW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IW(e){var t=LW(e,"string");return typeof t=="symbol"?t:t+""}function LW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ew=[0,"auto"],gr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gI=(e,t)=>e.cartesianAxis.xAxis[t],Ai=(e,t)=>{var r=gI(e,t);return r??gr},yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ew,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Jd},yI=(e,t)=>e.cartesianAxis.yAxis[t],Ci=(e,t)=>{var r=yI(e,t);return r??yr},BW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Hj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??BW},Ht=(e,t,r)=>{switch(t){case"xAxis":return Ai(e,r);case"yAxis":return Ci(e,r);case"zAxis":return Hj(e,r);case"angleAxis":return qj(e,r);case"radiusAxis":return Kj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$W=(e,t,r)=>{switch(t){case"xAxis":return Ai(e,r);case"yAxis":return Ci(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$c=(e,t,r)=>{switch(t){case"xAxis":return Ai(e,r);case"yAxis":return Ci(e,r);case"angleAxis":return qj(e,r);case"radiusAxis":return Kj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Vj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var xg=e=>e.graphicalItems.cartesianItems,UW=Y([Bt,uf],Vj),Gj=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),df=Y([xg,Ht,UW],Gj,{memoizeOptions:{resultEqualityCheck:bg}}),bI=Y([df],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(yg)),xI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),zW=Y([df],xI),Yj=e=>e.map(t=>t.data).filter(Boolean).flat(1),qW=Y([df],Yj,{memoizeOptions:{resultEqualityCheck:bg}}),Wj=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Xj=Y([qW,Ij],Wj),Zj=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:bt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:bt(a,n)}))):e.map(n=>({value:n})),wg=Y([Xj,Ht,df],Zj);function wI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function hm(e){if(Ca(e)||e instanceof Date){var t=Number(e);if(Je(t))return t}}function uk(e){if(Array.isArray(e)){var t=[hm(e[0]),hm(e[1])];return yi(t)?t:void 0}var r=hm(e);if(r!=null)return[r,r]}function vi(e){return e.map(hm).filter(on)}function KW(e,t,r){return!r||typeof t!="number"||Aa(t)?[]:r.length?vi(r.flatMap(n=>{var a=bt(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!Je(s)||!Je(l)))return[t-s,t+l]})):[]}var hr=e=>{var t=_r(e),r=Bc(e);return $c(e,t,r)},ff=Y([hr],e=>e==null?void 0:e.dataKey),FW=Y([bI,Ij,hr],mI),jI=(e,t,r,n)=>{var a={},s=t.reduce((l,d)=>{if(d.stackId==null)return l;var f=l[d.stackId];return f==null&&(f=[]),f.push(d),l[d.stackId]=f,l},a);return Object.fromEntries(Object.entries(s).map(l=>{var[d,f]=l,h=n?[...f].reverse():f,p=h.map(Qj);return[d,{stackedData:uQ(e,p,r),graphicalItems:h}]}))},tw=Y([FW,bI,cf,oI],jI),SI=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=pQ(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},QW=Y([Ht],e=>e.allowDataOverflow),Jj=e=>{var t;if(e==null||!("domain"in e))return ew;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=vi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ew},e1=Y([Ht],Jj),t1=Y([e1,QW],GR),HW=Y([tw,Ei,Bt,t1],SI,{memoizeOptions:{resultEqualityCheck:vg}}),jg=e=>e.errorBars,VW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>wI(r,n)),sp=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},r1=(e,t,r,n,a)=>{var s,l;if(r.length>0&&e.forEach(d=>{r.forEach(f=>{var h,p,g=(h=n[f.id])===null||h===void 0?void 0:h.filter(N=>wI(a,N)),y=bt(d,(p=t.dataKey)!==null&&p!==void 0?p:f.dataKey),v=KW(d,y,g);if(v.length>=2){var x=Math.min(...v),S=Math.max(...v);(s==null||x<s)&&(s=x),(l==null||S>l)&&(l=S)}var _=uk(y);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),l=l==null?_[1]:Math.max(l,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(d=>{var f=uk(bt(d,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Je(s)&&Je(l))return[s,l]},GW=Y([Xj,Ht,zW,jg,Bt],r1,{memoizeOptions:{resultEqualityCheck:vg}});function YW(e){var{value:t}=e;if(Ca(t)||t instanceof Date)return t}var WW=(e,t,r)=>{var n=e.map(YW).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&KD(n))?mR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},_I=e=>e.referenceElements.dots,Uc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),XW=Y([_I,Bt,uf],Uc),NI=e=>e.referenceElements.areas,ZW=Y([NI,Bt,uf],Uc),OI=e=>e.referenceElements.lines,JW=Y([OI,Bt,uf],Uc),EI=(e,t)=>{if(e!=null){var r=vi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},eX=Y(XW,Bt,EI),AI=(e,t)=>{if(e!=null){var r=vi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},tX=Y([ZW,Bt],AI);function rX(e){var t;if(e.x!=null)return vi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:vi(r)}function nX(e){var t;if(e.y!=null)return vi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:vi(r)}var CI=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?rX(n):nX(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},aX=Y([JW,Bt],CI),iX=Y(eX,aX,tX,(e,t,r)=>sp(e,r,t)),n1=(e,t,r,n,a,s,l,d)=>{if(r!=null)return r;var f=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",h=f?sp(n,s,a):sp(s,a);return vW(t,h,e.allowDataOverflow)},sX=Y([Ht,e1,t1,HW,GW,iX,st,Bt],n1,{memoizeOptions:{resultEqualityCheck:vg}}),oX=[0,1],a1=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:d,type:f}=e,h=Si(t,s);if(h&&d==null){var p;return mR(0,(p=r==null?void 0:r.length)!==null&&p!==void 0?p:0)}return f==="category"?WW(n,e,h):a==="expand"?oX:l}},i1=Y([Ht,st,Xj,wg,cf,Bt,sX],a1);function lX(e){return e in rd}var kI=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(Yd(n));return lX(s)?s:"point"}}},Ts=Y([Ht,vI,$j],kI);function s1(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?lk(e.scale,r,n):lk(t,r,n)}var o1=(e,t,r)=>{var n=Jj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&yi(e))return SW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&yi(e))return _W(e,t.tickCount,t.allowDecimals)}},l1=Y([i1,$c,Ts],o1),c1=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&yi(t)&&Array.isArray(r)&&r.length>0){var a,s,l=t[0],d=(a=r[0])!==null&&a!==void 0?a:0,f=t[1],h=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,d),Math.max(f,h)]}return t},cX=Y([Ht,i1,l1,Bt],c1),uX=Y(wg,Ht,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(vi(e.map(g=>g.value))).sort((g,y)=>g-y),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var l=s-a;if(l===0)return 1/0;for(var d=0;d<n.length-1;d++){var f=n[d],h=n[d+1];if(!(f==null||h==null)){var p=h-f;r=Math.min(r,p)}}return r/l}}),PI=Y(uX,st,sI,dr,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Je(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=Ur(r,e*s),d=e*s/2;return d-l-(d-l)/s*l}return 0}),dX=(e,t,r)=>{var n=Ai(e,t);return n==null||typeof n.padding!="string"?0:PI(e,"xAxis",t,r,n.padding)},fX=(e,t,r)=>{var n=Ci(e,t);return n==null||typeof n.padding!="string"?0:PI(e,"yAxis",t,r,n.padding)},hX=Y(Ai,dX,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),mX=Y(Ci,fX,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),pX=Y([dr,hX,eg,Jp,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),gX=Y([dr,st,mX,eg,Jp,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),hf=(e,t,r,n)=>{var a;switch(t){case"xAxis":return pX(e,r,n);case"yAxis":return gX(e,r,n);case"zAxis":return(a=Hj(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return dI(e);case"radiusAxis":return fI(e,r);default:return}},TI=Y([Ht,hf],mg),yX=Y([Ts,cX],pI),Sg=Y([Ht,Ts,yX,TI],s1);Y([df,jg,Bt],VW);function DI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var _g=(e,t)=>t,Ng=(e,t,r)=>r,vX=Y(Xp,_g,Ng,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(DI)),bX=Y(Zp,_g,Ng,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(DI)),MI=(e,t)=>({width:e.width,height:t.height}),xX=(e,t)=>{var r=typeof t.width=="number"?t.width:Jd;return{width:r,height:e.height}},RI=Y(dr,Ai,MI),wX=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},jX=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},SX=Y(Ni,dr,vX,_g,Ng,(e,t,r,n,a)=>{var s={},l;return r.forEach(d=>{var f=MI(t,d);l==null&&(l=wX(t,n,e));var h=n==="top"&&!a||n==="bottom"&&a;s[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),_X=Y(_i,dr,bX,_g,Ng,(e,t,r,n,a)=>{var s={},l;return r.forEach(d=>{var f=xX(t,d);l==null&&(l=jX(t,n,e));var h=n==="left"&&!a||n==="right"&&a;s[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),NX=(e,t)=>{var r=Ai(e,t);if(r!=null)return SX(e,r.orientation,r.mirror)},OX=Y([dr,Ai,NX,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),EX=(e,t)=>{var r=Ci(e,t);if(r!=null)return _X(e,r.orientation,r.mirror)},AX=Y([dr,Ci,EX,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),II=Y(dr,Ci,(e,t)=>{var r=typeof t.width=="number"?t.width:Jd;return{width:r,height:e.height}}),dk=(e,t,r)=>{switch(t){case"xAxis":return RI(e,r).width;case"yAxis":return II(e,r).height;default:return}},LI=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,d=Si(e,n),f=t.map(h=>h.value);if(l&&d&&s==="category"&&a&&KD(f))return f}},u1=Y([st,wg,Ht,Bt],LI),BI=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=Si(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(d=>d.value)}},d1=Y([st,wg,$c,Bt],BI),fk=Y([st,$W,Ts,Sg,u1,d1,hf,l1,Bt],(e,t,r,n,a,s,l,d,f)=>{if(t!=null){var h=Si(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:d,range:l,realScaleType:r,scale:n}}}),CX=(e,t,r,n,a,s,l,d,f)=>{if(!(t==null||n==null)){var h=Si(e,f),{type:p,ticks:g,tickCount:y}=t,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=p==="category"&&n.bandwidth?n.bandwidth()/v:0;x=f==="angleAxis"&&s!=null&&s.length>=2?wr(s[0]-s[1])*2*x:x;var S=g||a;return S?S.map((_,N)=>{var O=l?l.indexOf(_):_,A=n.map(O);return Je(A)?{index:N,coordinate:A+x,value:_,offset:x}:null}).filter(on):h&&d?d.map((_,N)=>{var O=n.map(_);return Je(O)?{coordinate:O+x,value:_,index:N,offset:x}:null}).filter(on):n.ticks?n.ticks(y).map((_,N)=>{var O=n.map(_);return Je(O)?{coordinate:O+x,value:_,index:N,offset:x}:null}).filter(on):n.domain().map((_,N)=>{var O=n.map(_);return Je(O)?{coordinate:O+x,value:l?l[_]:_,index:N,offset:x}:null}).filter(on)}},$I=Y([st,$c,Ts,Sg,l1,hf,u1,d1,Bt],CX),kX=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var d=Si(e,l),{tickCount:f}=t,h=0;return h=l==="angleAxis"&&(n==null?void 0:n.length)>=2?wr(n[0]-n[1])*2*h:h,d&&s?s.map((p,g)=>{var y=r.map(p);return Je(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(on):r.ticks?r.ticks(f).map((p,g)=>{var y=r.map(p);return Je(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(on):r.domain().map((p,g)=>{var y=r.map(p);return Je(y)?{coordinate:y+h,value:a?a[p]:p,index:g,offset:h}:null}).filter(on)}},Ss=Y([st,$c,Sg,hf,u1,d1,Bt],kX),_s=Y(Ht,Sg,(e,t)=>{if(!(e==null||t==null))return ip(ip({},e),{},{scale:t})}),PX=Y([Ht,Ts,i1,TI],s1);Y((e,t,r)=>Hj(e,r),PX,(e,t)=>{if(!(e==null||t==null))return ip(ip({},e),{},{scale:t})});var TX=Y([st,Xp,Zp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),UI=e=>e.options.defaultTooltipEventType,zI=e=>e.options.validateTooltipEventTypes;function qI(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function f1(e,t){var r=UI(e),n=zI(e);return qI(t,r,n)}function DX(e){return Ne(t=>f1(t,e))}var KI=(e,t)=>{var r,n=Number(t);if(!(Aa(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},MX=e=>e.tooltip.settings,ls={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},RX={itemInteraction:{click:ls,hover:ls},axisInteraction:{click:ls,hover:ls},keyboardInteraction:ls,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},FI=un({name:"tooltip",initialState:RX,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Tt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ca(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Tt()},removeTooltipEntrySettings:{reducer(e,t){var r=ca(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Tt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:IX,replaceTooltipEntrySettings:LX,removeTooltipEntrySettings:BX,setTooltipSettingsState:$X,setActiveMouseOverItemIndex:QI,mouseLeaveItem:UX,mouseLeaveChart:HI,setActiveClickItemIndex:zX,setMouseOverAxisIndex:VI,setMouseClickAxisIndex:qX,setSyncInteraction:rw,setKeyboardInteraction:nw}=FI.actions,KX=FI.reducer;function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(n){FX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FX(e,t,r){return(t=QX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QX(e){var t=HX(e,"string");return typeof t=="symbol"?t:t+""}function HX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VX(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function GX(e){return e.index!=null}var GI=(e,t,r,n)=>{if(t==null)return ls;var a=VX(e,t,r);if(a==null)return ls;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(GX(a)){if(s)return nm(nm({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return nm(nm({},ls),{},{coordinate:a.coordinate})};function YX(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function WX(e,t){var r=YX(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),l=Math.max(n,a);return r>=s&&r<=l}function XX(e,t,r){if(r==null||t==null)return!0;var n=bt(e,t);return n==null||!yi(r)?!0:WX(n,r)}var h1=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!Je(s))return a;var l=0,d=1/0;t.length>0&&(d=t.length-1);var f=Math.max(l,Math.min(s,d)),h=t[f];return h==null||XX(h,r,n)?String(f):null},YI=(e,t,r,n,a,s,l)=>{if(s!=null){var d=l[0],f=d==null?void 0:d.getPosition(s);if(f!=null)return f;var h=a==null?void 0:a[Number(s)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},WI=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(l=>{var d;return((d=l.settings)===null||d===void 0?void 0:d.graphicalItemId)===a})},XI=e=>e.options.tooltipPayloadSearcher,zc=e=>e.tooltip;function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(n){ZX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZX(e,t,r){return(t=JX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=eZ(e,"string");return typeof t=="symbol"?t:t+""}function eZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tZ(e,t){return e??t}var ZI=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=r,g=[];return e.reduce((y,v)=>{var x,{dataDefinedOnItem:S,settings:_}=v,N=tZ(S,d),O=Array.isArray(N)?IM(N,h,p):N,A=(x=_==null?void 0:_.dataKey)!==null&&x!==void 0?x:n,C=_==null?void 0:_.nameKey,T;if(n&&Array.isArray(O)&&!Array.isArray(O[0])&&l==="axis"?T=FD(O,n,a):T=s(O,t,f,C),Array.isArray(T))T.forEach(D=>{var M=pk(pk({},_),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});y.push(hC({tooltipEntrySettings:M,dataKey:D.dataKey,payload:D.payload,value:bt(D.payload,D.dataKey),name:D.name}))});else{var k;y.push(hC({tooltipEntrySettings:_,dataKey:A,payload:T,value:bt(T,A),name:(k=bt(T,C))!==null&&k!==void 0?k:_==null?void 0:_.name}))}return y},g)}},m1=Y([hr,vI,$j],kI),rZ=Y([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),nZ=Y([_r,Bc],Vj),qc=Y([rZ,hr,nZ],Gj,{memoizeOptions:{resultEqualityCheck:bg}}),aZ=Y([qc],e=>e.filter(yg)),iZ=Y([qc],Yj,{memoizeOptions:{resultEqualityCheck:bg}}),Kc=Y([iZ,Ei],Wj),sZ=Y([aZ,Ei,hr],mI),p1=Y([Kc,hr,qc],Zj),JI=Y([hr],Jj),oZ=Y([hr],e=>e.allowDataOverflow),e4=Y([JI,oZ],GR),lZ=Y([qc],e=>e.filter(yg)),cZ=Y([sZ,lZ,cf,oI],jI),uZ=Y([cZ,Ei,_r,e4],SI),dZ=Y([qc],xI),fZ=Y([Kc,hr,dZ,jg,_r],r1,{memoizeOptions:{resultEqualityCheck:vg}}),hZ=Y([_I,_r,Bc],Uc),mZ=Y([hZ,_r],EI),pZ=Y([NI,_r,Bc],Uc),gZ=Y([pZ,_r],AI),yZ=Y([OI,_r,Bc],Uc),vZ=Y([yZ,_r],CI),bZ=Y([mZ,vZ,gZ],sp),xZ=Y([hr,JI,e4,uZ,fZ,bZ,st,_r],n1),mf=Y([hr,st,Kc,p1,cf,_r,xZ],a1),wZ=Y([mf,hr,m1],o1),jZ=Y([hr,mf,wZ,_r],c1),t4=e=>{var t=_r(e),r=Bc(e),n=!1;return hf(e,t,r,n)},r4=Y([hr,t4],mg),n4=Y([hr,m1,jZ,r4],s1),SZ=Y([st,p1,hr,_r],LI),_Z=Y([st,p1,hr,_r],BI),NZ=(e,t,r,n,a,s,l,d)=>{if(t){var{type:f}=t,h=Si(e,d);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?wr(a[0]-a[1])*2*g:g,h&&l?l.map((y,v)=>{var x=n.map(y);return Je(x)?{coordinate:x+g,value:y,index:v,offset:g}:null}).filter(on):n.domain().map((y,v)=>{var x=n.map(y);return Je(x)?{coordinate:x+g,value:s?s[y]:y,index:v,offset:g}:null}).filter(on)}}},ki=Y([st,hr,m1,n4,t4,SZ,_Z,_r],NZ),g1=Y([UI,zI,MX],(e,t,r)=>qI(r.shared,e,t)),a4=e=>e.tooltip.settings.trigger,y1=e=>e.tooltip.settings.defaultIndex,pf=Y([zc,g1,a4,y1],GI),Ns=Y([pf,Kc,ff,mf],h1),i4=Y([ki,Ns],KI),v1=Y([pf],e=>{if(e)return e.dataKey}),OZ=Y([pf],e=>{if(e)return e.graphicalItemId}),s4=Y([zc,g1,a4,y1],WI),EZ=Y([_i,Ni,st,dr,ki,y1,s4],YI),AZ=Y([pf,EZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),CZ=Y([pf],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),kZ=Y([s4,Ns,Ei,ff,i4,XI,g1],ZI),PZ=Y([kZ],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(n){TZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TZ(e,t,r){return(t=DZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DZ(e){var t=MZ(e,"string");return typeof t=="symbol"?t:t+""}function MZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RZ=()=>Ne(hr),IZ=()=>{var e=RZ(),t=Ne(ki),r=Ne(n4);return gc(!e||!r?void 0:yk(yk({},e),{},{scale:r}),t)};function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(n){LZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LZ(e,t,r){return(t=BZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BZ(e){var t=$Z(e,"string");return typeof t=="symbol"?t:t+""}function $Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UZ=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},zZ=(e,t,r,n)=>{var a=t.find(h=>h&&h.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:l}=n;return zl(zl(zl({},n),tr(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var d=a.coordinate,{angle:f}=n;return zl(zl(zl({},n),tr(n.cx,n.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function qZ(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var o4=(e,t,r,n,a)=>{var s,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<l;d++){var f,h,p,g,y,v=d>0?(f=r[d-1])===null||f===void 0?void 0:f.coordinate:(h=r[l-1])===null||h===void 0?void 0:h.coordinate,x=(p=r[d])===null||p===void 0?void 0:p.coordinate,S=d>=l-1?(g=r[0])===null||g===void 0?void 0:g.coordinate:(y=r[d+1])===null||y===void 0?void 0:y.coordinate,_=void 0;if(!(v==null||x==null||S==null))if(wr(x-v)!==wr(S-x)){var N=[];if(wr(S-x)===wr(a[1]-a[0])){_=S;var O=x+a[1]-a[0];N[0]=Math.min(O,(O+v)/2),N[1]=Math.max(O,(O+v)/2)}else{_=v;var A=S+a[1]-a[0];N[0]=Math.min(x,(A+x)/2),N[1]=Math.max(x,(A+x)/2)}var C=[Math.min(x,(_+x)/2),Math.max(x,(_+x)/2)];if(e>C[0]&&e<=C[1]||e>=N[0]&&e<=N[1]){var T;return(T=r[d])===null||T===void 0?void 0:T.index}}else{var k=Math.min(v,S),D=Math.max(v,S);if(e>(k+x)/2&&e<=(D+x)/2){var M;return(M=r[d])===null||M===void 0?void 0:M.index}}}else if(t)for(var L=0;L<l;L++){var G=t[L];if(G!=null){var Q=t[L+1],K=t[L-1];if(L===0&&Q!=null&&e<=(G.coordinate+Q.coordinate)/2||L===l-1&&K!=null&&e>(G.coordinate+K.coordinate)/2||L>0&&L<l-1&&K!=null&&Q!=null&&e>(G.coordinate+K.coordinate)/2&&e<=(G.coordinate+Q.coordinate)/2)return G.index}}return-1},KZ=()=>Ne($j),b1=(e,t)=>t,l4=(e,t,r)=>r,x1=(e,t,r,n)=>n,FZ=Y(ki,e=>zp(e,t=>t.coordinate)),w1=Y([zc,b1,l4,x1],GI),j1=Y([w1,Kc,ff,mf],h1),QZ=(e,t,r)=>{if(t!=null){var n=zc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},c4=Y([zc,b1,l4,x1],WI),op=Y([_i,Ni,st,dr,ki,x1,c4],YI),HZ=Y([w1,op],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),u4=Y([ki,j1],KI),VZ=Y([c4,j1,Ei,ff,u4,XI,b1],ZI),GZ=Y([w1,j1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),YZ=(e,t,r,n,a,s,l)=>{if(!(!e||!r||!n||!a)&&qZ(e,l)){var d=gQ(e,t),f=o4(d,s,a,r,n),h=UZ(t,a,f,e);return{activeIndex:String(f),activeCoordinate:h}}},WZ=(e,t,r,n,a,s,l)=>{if(!(!e||!n||!a||!s||!r)){var d=DV(e,r);if(d){var f=yQ(d,t),h=o4(f,l,s,n,a),p=zZ(t,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},XZ=(e,t,r,n,a,s,l,d)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?YZ(e,t,n,a,s,l,d):WZ(e,t,r,n,a,s,l)},ZZ=Y(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),JZ=Y(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(rr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:DW}});function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(n){eJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eJ(e,t,r){return(t=tJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tJ(e){var t=rJ(e,"string");return typeof t=="symbol"?t:t+""}function rJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nJ={},aJ={zIndexMap:Object.values(rr).reduce((e,t)=>xk(xk({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),nJ)},iJ=new Set(Object.values(rr));function sJ(e){return iJ.has(e)}var d4=un({name:"zIndex",initialState:aJ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Tt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!sJ(r)&&delete e.zIndexMap[r])},prepare:Tt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Tt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Tt()}}}),{registerZIndexPortal:oJ,unregisterZIndexPortal:lJ,registerZIndexPortalElement:cJ,unregisterZIndexPortalElement:uJ}=d4.actions,dJ=d4.reducer;function dn(e){var{zIndex:t,children:r}=e,n=GQ(),a=n&&t!==void 0&&t!==0,s=zr(),l=_t();j.useLayoutEffect(()=>a?(l(oJ({zIndex:t})),()=>{l(lJ({zIndex:t}))}):zo,[l,t,a]);var d=Ne(f=>ZZ(f,t,s));return a?d?xp.createPortal(r,d):null:r}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(null,arguments)}function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(n){fJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fJ(e,t,r){return(t=hJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hJ(e){var t=mJ(e,"string");return typeof t=="symbol"?t:t+""}function mJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pJ(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return j.isValidElement(t)?j.cloneElement(t,n):j.createElement(r,n)}function gJ(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:d,cursor:f,tooltipEventType:h,chartName:p}=e,g=r,y=n,v=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var x,S,_;if(p==="ScatterChart")x=g,S=VH,_=rr.cursorLine;else if(p==="BarChart")x=GH(d,g,s,l),S=cR,_=rr.cursorRectangle;else if(d==="radial"&&HD(g)){var{cx:N,cy:O,radius:A,startAngle:C,endAngle:T}=dR(g);x={cx:N,cy:O,startAngle:C,endAngle:T,innerRadius:A,outerRadius:A},S=hR,_=rr.cursorLine}else x={points:LV(d,g,s)},S=fj,_=rr.cursorLine;var k=typeof f=="object"&&"className"in f?f.className:void 0,D=am(am(am(am({stroke:"#ccc",pointerEvents:"none"},s),x),ko(f)),{},{payload:y,payloadIndex:v,className:at("recharts-tooltip-cursor",k)});return j.createElement(dn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},j.createElement(pJ,{cursor:f,cursorComp:S,cursorProps:D}))}function yJ(e){var t=IZ(),r=QM(),n=qo(),a=KZ();return t==null||r==null||n==null||a==null?null:j.createElement(gJ,aw({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var f4=j.createContext(null),vJ=()=>j.useContext(f4),Ob={exports:{}},jk;function bJ(){return jk||(jk=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new a(p,g||f,y),x=r?r+h:h;return f._events[x]?f._events[x].fn?f._events[x]=[f._events[x],v]:f._events[x].push(v):(f._events[x]=v,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=r?r+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,v=g.length,x=new Array(v);y<v;y++)x[y]=g[y].fn;return x},d.prototype.listenerCount=function(h){var p=r?r+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,y,v,x){var S=r?r+h:h;if(!this._events[S])return!1;var _=this._events[S],N=arguments.length,O,A;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),N){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,y),!0;case 5:return _.fn.call(_.context,p,g,y,v),!0;case 6:return _.fn.call(_.context,p,g,y,v,x),!0}for(A=1,O=new Array(N-1);A<N;A++)O[A-1]=arguments[A];_.fn.apply(_.context,O)}else{var C=_.length,T;for(A=0;A<C;A++)switch(_[A].once&&this.removeListener(h,_[A].fn,void 0,!0),N){case 1:_[A].fn.call(_[A].context);break;case 2:_[A].fn.call(_[A].context,p);break;case 3:_[A].fn.call(_[A].context,p,g);break;case 4:_[A].fn.call(_[A].context,p,g,y);break;default:if(!O)for(T=1,O=new Array(N-1);T<N;T++)O[T-1]=arguments[T];_[A].fn.apply(_[A].context,O)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,y){var v=r?r+h:h;if(!this._events[v])return this;if(!p)return l(this,v),this;var x=this._events[v];if(x.fn)x.fn===p&&(!y||x.once)&&(!g||x.context===g)&&l(this,v);else{for(var S=0,_=[],N=x.length;S<N;S++)(x[S].fn!==p||y&&!x[S].once||g&&x[S].context!==g)&&_.push(x[S]);_.length?this._events[v]=_.length===1?_[0]:_:l(this,v)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(Ob)),Ob.exports}var xJ=bJ();const wJ=Ta(xJ);var Cd=new wJ,iw="recharts.syncEvent.tooltip",Sk="recharts.syncEvent.brush",S1=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Aa(r))return e[r]}},jJ={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},h4=un({name:"options",initialState:jJ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),SJ=h4.reducer,{createEventEmitter:_J}=h4.actions;function NJ(e){return e.tooltip.syncInteraction}var OJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},m4=un({name:"chartData",initialState:OJ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:_k,setDataStartEndIndexes:EJ,setComputedData:Hoe}=m4.actions,AJ=m4.reducer,CJ=["x","y"];function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ql(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(n){kJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kJ(e,t,r){return(t=PJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PJ(e){var t=TJ(e,"string");return typeof t=="symbol"?t:t+""}function TJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DJ(e,t){if(e==null)return{};var r,n,a=MJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RJ(){var e=Ne(Uj),t=Ne(zj),r=_t(),n=Ne(lI),a=Ne(ki),s=qo(),l=tg(),d=Ne(f=>f.rootProps.className);j.useEffect(()=>{if(e==null)return zo;var f=(h,p,g)=>{if(t!==g&&e===h){if(n==="index"){var y;if(l&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var v=p.payload.coordinate,{x,y:S}=v,_=DJ(v,CJ),{x:N,y:O,width:A,height:C}=p.payload.sourceViewBox,T=ql(ql({},_),{},{x:l.x+(A?(x-N)/A:0)*l.width,y:l.y+(C?(S-O)/C:0)*l.height});r(ql(ql({},p),{},{payload:ql(ql({},p.payload),{},{coordinate:T})}))}else r(p);return}if(a!=null){var k;if(typeof n=="function"){var D={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},M=n(a,D);k=a[M]}else n==="value"&&(k=a.find(B=>String(B.value)===p.payload.label));var{coordinate:L}=p.payload;if(k==null||p.payload.active===!1||L==null||l==null){r(rw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:Q}=L,K=Math.min(G,l.x+l.width),J=Math.min(Q,l.y+l.height),H={x:s==="horizontal"?k.coordinate:K,y:s==="horizontal"?J:k.coordinate},ie=rw({active:p.payload.active,coordinate:H,dataKey:p.payload.dataKey,index:String(k.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});r(ie)}}};return Cd.on(iw,f),()=>{Cd.off(iw,f)}},[d,r,t,e,n,a,s,l])}function IJ(){var e=Ne(Uj),t=Ne(zj),r=_t();j.useEffect(()=>{if(e==null)return zo;var n=(a,s,l)=>{t!==l&&e===a&&r(EJ(s))};return Cd.on(Sk,n),()=>{Cd.off(Sk,n)}},[r,t,e])}function LJ(){var e=_t();j.useEffect(()=>{e(_J())},[e]),RJ(),IJ()}function BJ(e,t,r,n,a,s){var l=Ne(v=>QZ(v,e,t)),d=Ne(zj),f=Ne(Uj),h=Ne(lI),p=Ne(NJ),g=p==null?void 0:p.active,y=tg();j.useEffect(()=>{if(!g&&f!=null&&d!=null){var v=rw({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:y,graphicalItemId:void 0});Cd.emit(iw,f,v,d)}},[g,r,l,a,n,d,f,h,s,y])}function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ek(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(n){$J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $J(e,t,r){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UJ(e){var t=zJ(e,"string");return typeof t=="symbol"?t:t+""}function zJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qJ(e){return e.dataKey}function KJ(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(OH,t)}var Ak=[],FJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ec(e){var t,r,n=ar(e,FJ),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:y,position:v,reverseDirection:x,useTranslate3d:S,wrapperStyle:_,cursor:N,shared:O,trigger:A,defaultIndex:C,portal:T,axisId:k}=n,D=_t(),M=typeof C=="number"?String(C):C;j.useEffect(()=>{D($X({shared:O,trigger:A,axisId:k,active:a,defaultIndex:M}))},[D,O,A,k,a,M]);var L=tg(),G=aR(),Q=DX(O),{activeIndex:K,isActive:J}=(t=Ne(Ae=>GZ(Ae,Q,A,M)))!==null&&t!==void 0?t:{},H=Ne(Ae=>VZ(Ae,Q,A,M)),ie=Ne(Ae=>u4(Ae,Q,A,M)),B=Ne(Ae=>HZ(Ae,Q,A,M)),U=H,ee=vJ(),ue=(r=a??J)!==null&&r!==void 0?r:!1,[ce,I]=sM([U,ue]),V=Q==="axis"?ie:void 0;BJ(Q,A,B,V,K,ue);var me=T??ee;if(me==null||L==null||Q==null)return null;var pe=U??Ak;ue||(pe=Ak),h&&pe.length&&(pe=tM(pe.filter(Ae=>Ae.value!=null&&(Ae.hide!==!0||n.includeHidden)),y,qJ));var be=pe.length>0,ke=j.createElement(DH,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:p,active:ue,coordinate:B,hasPayload:be,offset:g,position:v,reverseDirection:x,useTranslate3d:S,viewBox:L,wrapperStyle:_,lastBoundingBox:ce,innerRef:I,hasPortalFromProps:!!T},KJ(f,Ek(Ek({},n),{},{payload:pe,label:V,active:ue,activeIndex:K,coordinate:B,accessibilityLayer:G})));return j.createElement(j.Fragment,null,xp.createPortal(ke,me),ue&&j.createElement(yJ,{cursor:N,tooltipEventType:Q,coordinate:B,payload:pe,index:K}))}var Qo=e=>null;Qo.displayName="Cell";function QJ(e,t,r){return(t=HJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HJ(e){var t=VJ(e,"string");return typeof t=="symbol"?t:t+""}function VJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class GJ{constructor(t){QJ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(n){WJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WJ(e,t,r){return(t=XJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XJ(e){var t=ZJ(e,"string");return typeof t=="symbol"?t:t+""}function ZJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JJ={cacheSize:2e3,enableCache:!0},p4=YJ({},JJ),kk=new GJ(p4.cacheSize),eee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Pk="recharts_measurement_span";function tee(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(d)}var Tk=(e,t)=>{try{var r=document.getElementById(Pk);r||(r=document.createElement("span"),r.setAttribute("id",Pk),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,eee,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},sd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sg.isSsr)return{width:0,height:0};if(!p4.enableCache)return Tk(t,r);var n=tee(t,r),a=kk.get(n);if(a)return a;var s=Tk(t,r);return kk.set(n,s),s},g4;function ree(e,t,r){return(t=nee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nee(e){var t=aee(e,"string");return typeof t=="symbol"?t:t+""}function aee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,see=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lee=["cm","mm","pt","pc","in","Q","px"];function cee(e){return lee.includes(e)}var Yl="NaN";function uee(e,t){return e*oee[t]}class Dr{static parse(t){var r,[,n,a]=(r=see.exec(t))!==null&&r!==void 0?r:[];return n==null?Dr.NaN:new Dr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Aa(t)&&(this.unit=""),r!==""&&!iee.test(r)&&(this.num=NaN,this.unit=""),cee(r)&&(this.num=uee(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Aa(this.num)}}g4=Dr;ree(Dr,"NaN",new g4(NaN,""));function y4(e){if(e==null||e.includes(Yl))return Yl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=Dk.exec(t))!==null&&r!==void 0?r:[],l=Dr.parse(n??""),d=Dr.parse(s??""),f=a==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return Yl;t=t.replace(Dk,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,g,y]=(h=Mk.exec(t))!==null&&h!==void 0?h:[],v=Dr.parse(p??""),x=Dr.parse(y??""),S=g==="+"?v.add(x):v.subtract(x);if(S.isNaN())return Yl;t=t.replace(Mk,S.toString())}return t}var Rk=/\(([^()]*)\)/;function dee(e){for(var t=e,r;(r=Rk.exec(t))!=null;){var[,n]=r;t=t.replace(Rk,y4(n))}return t}function fee(e){var t=e.replace(/\s+/g,"");return t=dee(t),t=y4(t),t}function hee(e){try{return fee(e)}catch{return Yl}}function Eb(e){var t=hee(e.slice(5,-1));return t===Yl?"":t}var mee=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],pee=["dx","dy","angle","className","breakAll"];function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(null,arguments)}function Ik(e,t){if(e==null)return{};var r,n,a=gee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var v4=/[ \f\n\r\t\v\u2028\u2029]+/,b4=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];It(t)||(r?a=t.toString().split(""):a=t.toString().split(v4));var s=a.map(d=>({word:d,width:sd(d,n).width})),l=r?0:sd("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function yee(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var x4=(e,t,r,n)=>e.reduce((a,s)=>{var{word:l,width:d}=s,f=a[a.length-1];if(f&&d!=null&&(t==null||n||f.width+d+r<Number(t)))f.words.push(l),f.width+=d+r;else{var h={words:[l],width:d};a.push(h)}return a},[]),w4=e=>e.reduce((t,r)=>t.width>r.width?t:r),vee="",Lk=(e,t,r,n,a,s,l,d)=>{var f=e.slice(0,t),h=b4({breakAll:r,style:n,children:f+vee});if(!h)return[!1,[]];var p=x4(h.wordsWithComputedWidth,s,l,d),g=p.length>a||w4(p).width>Number(s);return[g,p]},bee=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:d,breakAll:f}=e,h=je(s),p=String(l),g=x4(t,n,r,a);if(!h||a)return g;var y=g.length>s||w4(g).width>Number(n);if(!y)return g;for(var v=0,x=p.length-1,S=0,_;v<=x&&S<=p.length-1;){var N=Math.floor((v+x)/2),O=N-1,[A,C]=Lk(p,O,f,d,s,n,r,a),[T]=Lk(p,N,f,d,s,n,r,a);if(!A&&!T&&(v=N+1),A&&T&&(x=N-1),!A&&T){_=C;break}S++}return _||g},Bk=e=>{var t=It(e)?[]:e.toString().split(v4);return[{words:t,width:void 0}]},xee=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!sg.isSsr){var d,f,h=b4({breakAll:s,children:n,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return Bk(n);return bee({breakAll:s,children:n,maxLines:l,style:a},d,f,t,!!r)}return Bk(n)},j4="#808080",wee={angle:0,breakAll:!1,capHeight:"0.71em",fill:j4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Og=j.forwardRef((e,t)=>{var r=ar(e,wee),{x:n,y:a,lineHeight:s,capHeight:l,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=r,g=Ik(r,mee),y=j.useMemo(()=>xee({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:v,dy:x,angle:S,className:_,breakAll:N}=g,O=Ik(g,pee);if(!Ca(n)||!Ca(a)||y.length===0)return null;var A=Number(n)+(je(v)?v:0),C=Number(a)+(je(x)?x:0);if(!Je(A)||!Je(C))return null;var T;switch(p){case"start":T=Eb("calc(".concat(l,")"));break;case"middle":T=Eb("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:T=Eb("calc(".concat(y.length-1," * -").concat(s,")"));break}var k=[],D=y[0];if(f&&D!=null){var M=D.width,{width:L}=g;k.push("scale(".concat(je(L)&&je(M)?L/M:1,")"))}return S&&k.push("rotate(".concat(S,", ").concat(A,", ").concat(C,")")),k.length&&(O.transform=k.join(" ")),j.createElement("text",sw({},Vr(O),{ref:t,x:A,y:C,className:at("recharts-text",_),textAnchor:h,fill:d.includes("url")?j4:d}),y.map((G,Q)=>{var K=G.words.join(N?"":" ");return j.createElement("tspan",{x:A,dy:Q===0?T:s,key:"".concat(K,"-").concat(Q)},K)}))});Og.displayName="Text";function $k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(r),!0).forEach(function(n){jee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jee(e,t,r){return(t=See(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function See(e){var t=_ee(e,"string");return typeof t=="symbol"?t:t+""}function _ee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nee=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:s,y:l,height:d,upperWidth:f,lowerWidth:h}=oj(t),p=s,g=s+(f-h)/2,y=(p+g)/2,v=(f+h)/2,x=p+f/2,S=d>=0?1:-1,_=S*n,N=S>0?"end":"start",O=S>0?"start":"end",A=f>=0?1:-1,C=A*n,T=A>0?"end":"start",k=A>0?"start":"end",D=a;if(r==="top"){var M={x:p+f/2,y:l-_,horizontalAnchor:"middle",verticalAnchor:N};return D&&(M.height=Math.max(l-D.y,0),M.width=f),M}if(r==="bottom"){var L={x:g+h/2,y:l+d+_,horizontalAnchor:"middle",verticalAnchor:O};return D&&(L.height=Math.max(D.y+D.height-(l+d),0),L.width=h),L}if(r==="left"){var G={x:y-C,y:l+d/2,horizontalAnchor:T,verticalAnchor:"middle"};return D&&(G.width=Math.max(G.x-D.x,0),G.height=d),G}if(r==="right"){var Q={x:y+v+C,y:l+d/2,horizontalAnchor:k,verticalAnchor:"middle"};return D&&(Q.width=Math.max(D.x+D.width-Q.x,0),Q.height=d),Q}var K=D?{width:v,height:d}:{};return r==="insideLeft"?ba({x:y+C,y:l+d/2,horizontalAnchor:k,verticalAnchor:"middle"},K):r==="insideRight"?ba({x:y+v-C,y:l+d/2,horizontalAnchor:T,verticalAnchor:"middle"},K):r==="insideTop"?ba({x:p+f/2,y:l+_,horizontalAnchor:"middle",verticalAnchor:O},K):r==="insideBottom"?ba({x:g+h/2,y:l+d-_,horizontalAnchor:"middle",verticalAnchor:N},K):r==="insideTopLeft"?ba({x:p+C,y:l+_,horizontalAnchor:k,verticalAnchor:O},K):r==="insideTopRight"?ba({x:p+f-C,y:l+_,horizontalAnchor:T,verticalAnchor:O},K):r==="insideBottomLeft"?ba({x:g+C,y:l+d-_,horizontalAnchor:k,verticalAnchor:N},K):r==="insideBottomRight"?ba({x:g+h-C,y:l+d-_,horizontalAnchor:T,verticalAnchor:N},K):r&&typeof r=="object"&&(je(r.x)||Do(r.x))&&(je(r.y)||Do(r.y))?ba({x:s+Ur(r.x,v),y:l+Ur(r.y,d),horizontalAnchor:"end",verticalAnchor:"end"},K):ba({x,y:l+d/2,horizontalAnchor:"middle",verticalAnchor:"middle"},K)},Oee=["labelRef"],Eee=["content"];function Uk(e,t){if(e==null)return{};var r,n,a=Aee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Aee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(n){Cee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cee(e,t,r){return(t=kee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kee(e){var t=Pee(e,"string");return typeof t=="symbol"?t:t+""}function Pee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ii.apply(null,arguments)}var S4=j.createContext(null),Tee=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l,children:d}=e,f=j.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l}),[t,r,n,a,s,l]);return j.createElement(S4.Provider,{value:f},d)},_4=()=>{var e=j.useContext(S4),t=tg();return e||(t?oj(t):void 0)},Dee=j.createContext(null),Mee=()=>{var e=j.useContext(Dee),t=Ne(hI);return e||t},Ree=e=>{var{value:t,formatter:r}=e,n=It(e.children)?t:e.children;return typeof r=="function"?r(n):n},_1=e=>e!=null&&typeof e=="function",Iee=(e,t)=>{var r=wr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Lee=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:y,clockWise:v}=a,x=(h+p)/2,S=Iee(g,y),_=S>=0?1:-1,N,O;switch(t){case"insideStart":N=g+_*s,O=v;break;case"insideEnd":N=y-_*s,O=!v;break;case"end":N=y+_*s,O=v;break;default:throw new Error("Unsupported position ".concat(t))}O=S<=0?O:!O;var A=tr(d,f,x,N),C=tr(d,f,x,N+(O?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),k=It(e.id)?gd("recharts-radial-line-"):e.id;return j.createElement("text",ii({},n,{dominantBaseline:"central",className:at("recharts-radial-bar-label",l)}),j.createElement("defs",null,j.createElement("path",{id:k,d:T})),j.createElement("textPath",{xlinkHref:"#".concat(k)},r))},Bee=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:d,endAngle:f}=e,h=(d+f)/2;if(r==="outside"){var{x:p,y:g}=tr(n,a,l+t,h);return{x:p,y:g,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(s+l)/2,{x:v,y:x}=tr(n,a,y,h);return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},mm=e=>e!=null&&"cx"in e&&je(e.cx),$ee={angle:0,offset:5,zIndex:rr.label,position:"middle",textBreakAll:!1};function Uee(e){if(!mm(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function ss(e){var t=ar(e,$ee),{viewBox:r,parentViewBox:n,position:a,value:s,children:l,content:d,className:f="",textBreakAll:h,labelRef:p}=t,g=Mee(),y=_4(),v=a==="center"?y:g??y,x,S,_;r==null?x=v:mm(r)?x=r:x=oj(r);var N=Uee(x);if(!x||It(s)&&It(l)&&!j.isValidElement(d)&&typeof d!="function")return null;var O=nd(nd({},t),{},{viewBox:x});if(j.isValidElement(d)){var{labelRef:A}=O,C=Uk(O,Oee);return j.cloneElement(d,C)}if(typeof d=="function"){var{content:T}=O,k=Uk(O,Eee);if(S=j.createElement(d,k),j.isValidElement(S))return S}else S=Ree(t);var D=Vr(t);if(mm(x)){if(a==="insideStart"||a==="insideEnd"||a==="end")return Lee(t,a,S,D,x);_=Bee(x,t.offset,t.position)}else{if(!N)return null;var M=Nee({viewBox:N,position:a,offset:t.offset,parentViewBox:mm(n)?void 0:n});_=nd(nd({x:M.x,y:M.y,textAnchor:M.horizontalAnchor,verticalAnchor:M.verticalAnchor},M.width!==void 0?{width:M.width}:{}),M.height!==void 0?{height:M.height}:{})}return j.createElement(dn,{zIndex:t.zIndex},j.createElement(Og,ii({ref:p,className:at("recharts-label",f)},D,_,{textAnchor:yee(D.textAnchor)?D.textAnchor:_.textAnchor,breakAll:h}),S))}ss.displayName="Label";var zee=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?j.createElement(ss,ii({key:"label-implicit"},n)):Ca(e)?j.createElement(ss,ii({key:"label-implicit",value:e},n)):j.isValidElement(e)?e.type===ss?j.cloneElement(e,nd({key:"label-implicit"},n)):j.createElement(ss,ii({key:"label-implicit",content:e},n)):_1(e)?j.createElement(ss,ii({key:"label-implicit",content:e},n)):e&&typeof e=="object"?j.createElement(ss,ii({},e,{key:"label-implicit"},n)):null};function qee(e){var{label:t,labelRef:r}=e,n=_4();return zee(t,n,r)||null}var Ab={},Cb={},qk;function Kee(){return qk||(qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Cb)),Cb}var kb={},Kk;function Fee(){return Kk||(Kk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(kb)),kb}var Fk;function Qee(){return Fk||(Fk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kee(),r=Fee(),n=Ww();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(Ab)),Ab}var Pb,Qk;function Hee(){return Qk||(Qk=1,Pb=Qee().last),Pb}var Vee=Hee();const Gee=Ta(Vee);var Yee=["valueAccessor"],Wee=["dataKey","clockWise","id","textBreakAll","zIndex"];function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(null,arguments)}function Hk(e,t){if(e==null)return{};var r,n,a=Xee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zee=e=>Array.isArray(e.value)?Gee(e.value):e.value,N4=j.createContext(void 0),O4=N4.Provider,E4=j.createContext(void 0),Jee=E4.Provider;function ete(){return j.useContext(N4)}function tte(){return j.useContext(E4)}function pm(e){var{valueAccessor:t=Zee}=e,r=Hk(e,Yee),{dataKey:n,clockWise:a,id:s,textBreakAll:l,zIndex:d}=r,f=Hk(r,Wee),h=ete(),p=tte(),g=h||p;return!g||!g.length?null:j.createElement(dn,{zIndex:d??rr.label},j.createElement(jr,{className:"recharts-label-list"},g.map((y,v)=>{var x,S=It(n)?t(y,v):bt(y.payload,n),_=It(s)?{}:{id:"".concat(s,"-").concat(v)};return j.createElement(ss,lp({key:"label-".concat(v)},Vr(y),f,_,{fill:(x=r.fill)!==null&&x!==void 0?x:y.fill,parentViewBox:y.parentViewBox,value:S,textBreakAll:l,viewBox:y.viewBox,index:v,zIndex:0}))})))}pm.displayName="LabelList";function N1(e){var{label:t}=e;return t?t===!0?j.createElement(pm,{key:"labelList-implicit"}):j.isValidElement(t)||_1(t)?j.createElement(pm,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(pm,lp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(null,arguments)}var A4=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=at("recharts-dot",a);return je(t)&&je(r)&&je(n)?j.createElement("circle",ow({},On(e),Yw(e),{className:s,cx:t,cy:r,r:n})):null},C4=e=>e.graphicalItems.polarItems,rte=Y([Bt,uf],Vj),Eg=Y([C4,Ht,rte],Gj),nte=Y([Eg],Yj),Ag=Y([nte,hg],Wj),ate=Y([Ag,Ht,Eg],Zj);Y([Ag,Ht,Eg],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,l=bt(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:bt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var Vk=()=>{},ite=Y([Ag,Ht,Eg,jg,Bt],r1),ste=Y([Ht,e1,t1,Vk,ite,Vk,st,Bt],n1),k4=Y([Ht,st,Ag,ate,cf,Bt,ste],a1),ote=Y([k4,$c,Ts],o1),lte=Y([Ht,k4,ote,Bt],c1);Y([Ts,lte],pI);var cte={radiusAxis:{},angleAxis:{}},P4=un({name:"polarAxis",initialState:cte,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Voe,removeRadiusAxis:Goe,addAngleAxis:Yoe,removeAngleAxis:Woe}=P4.actions,ute=P4.reducer;function T4(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(n){dte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dte(e,t,r){return(t=fte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mte=(e,t)=>t,O1=Y([C4,mte],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),pte=[],E1=(e,t,r)=>(r==null?void 0:r.length)===0?pte:r,D4=Y([hg,O1,E1],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>Yk(Yk({},t.presentationProps),s.props))),a!=null)return a}}),gte=Y([D4,O1,E1],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,l=bt(n,t.nameKey,t.name),d;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?d=n.fill:d=t.fill,{value:Mc(l,t.dataKey),color:d,payload:n,type:t.legendType}})}),yte=Y([D4,O1,E1,dr],(e,t,r,n)=>{if(!(t==null||e==null))return vre({offset:n,pieSettings:t,displayedData:e,cells:r})}),Tb={exports:{}},vt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk;function vte(){if(Wk)return vt;Wk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function x(S){if(typeof S=="object"&&S!==null){var _=S.$$typeof;switch(_){case e:switch(S=S.type,S){case r:case a:case n:case f:case h:case y:return S;default:switch(S=S&&S.$$typeof,S){case l:case d:case g:case p:return S;case s:return S;default:return _}}case t:return _}}}return vt.ContextConsumer=s,vt.ContextProvider=l,vt.Element=e,vt.ForwardRef=d,vt.Fragment=r,vt.Lazy=g,vt.Memo=p,vt.Portal=t,vt.Profiler=a,vt.StrictMode=n,vt.Suspense=f,vt.SuspenseList=h,vt.isContextConsumer=function(S){return x(S)===s},vt.isContextProvider=function(S){return x(S)===l},vt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},vt.isForwardRef=function(S){return x(S)===d},vt.isFragment=function(S){return x(S)===r},vt.isLazy=function(S){return x(S)===g},vt.isMemo=function(S){return x(S)===p},vt.isPortal=function(S){return x(S)===t},vt.isProfiler=function(S){return x(S)===a},vt.isStrictMode=function(S){return x(S)===n},vt.isSuspense=function(S){return x(S)===f},vt.isSuspenseList=function(S){return x(S)===h},vt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===r||S===a||S===n||S===f||S===h||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===l||S.$$typeof===s||S.$$typeof===d||S.$$typeof===v||S.getModuleId!==void 0)},vt.typeOf=x,vt}var Xk;function bte(){return Xk||(Xk=1,Tb.exports=vte()),Tb.exports}var xte=bte(),Zk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Jk=null,Db=null,M4=e=>{if(e===Jk&&Array.isArray(Db))return Db;var t=[];return j.Children.forEach(e,r=>{It(r)||(xte.isFragment(r)?t=t.concat(M4(r.props.children)):t.push(r))}),Db=t,Jk=e,t};function A1(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Zk(a)):n=[Zk(t)],M4(e).forEach(a=>{var s=To(a,"type.displayName")||To(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var R4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Mb={},eP;function wte(){return eP||(eP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Mb)),Mb}var Rb,tP;function jte(){return tP||(tP=1,Rb=wte().isPlainObject),Rb}var Ste=jte();const _te=Ta(Ste);var rP,nP,aP,iP,sP;function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){Nte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nte(e,t,r){return(t=Ote(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ote(e){var t=Ete(e,"string");return typeof t=="symbol"?t:t+""}function Ete(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(null,arguments)}function Zu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var cP=(e,t,r,n,a)=>{var s=r-n,l;return l=Ft(rP||(rP=Zu(["M ",",",""])),e,t),l+=Ft(nP||(nP=Zu(["L ",",",""])),e+r,t),l+=Ft(aP||(aP=Zu(["L ",",",""])),e+r-s/2,t+a),l+=Ft(iP||(iP=Zu(["L ",",",""])),e+r-s/2-n,t+a),l+=Ft(sP||(sP=Zu(["L ",","," Z"])),e,t),l},Ate={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cte=e=>{var t=ar(e,Ate),{x:r,y:n,upperWidth:a,lowerWidth:s,height:l,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t,y=j.useRef(null),[v,x]=j.useState(-1),S=j.useRef(a),_=j.useRef(s),N=j.useRef(l),O=j.useRef(r),A=j.useRef(n),C=nf(e,"trapezoid-");if(j.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var H=y.current.getTotalLength();H&&x(H)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var T=at("recharts-trapezoid",d);if(!g)return j.createElement("g",null,j.createElement("path",cp({},Vr(t),{className:T,d:cP(r,n,a,s,l)})));var k=S.current,D=_.current,M=N.current,L=O.current,G=A.current,Q="0px ".concat(v===-1?1:v,"px"),K="".concat(v,"px 0px"),J=iR(["strokeDasharray"],h,f);return j.createElement(rf,{animationId:C,key:C,canBegin:v>0,duration:h,easing:f,isActive:g,begin:p},H=>{var ie=Dt(k,a,H),B=Dt(D,s,H),U=Dt(M,l,H),ee=Dt(L,r,H),ue=Dt(G,n,H);y.current&&(S.current=ie,_.current=B,N.current=U,O.current=ee,A.current=ue);var ce=H>0?{transition:J,strokeDasharray:K}:{strokeDasharray:Q};return j.createElement("path",cp({},Vr(t),{className:T,d:cP(ee,ue,ie,B,U),ref:y,style:lP(lP({},ce),t.style)}))})},kte=["option","shapeType","activeClassName"];function Pte(e,t){if(e==null)return{};var r,n,a=Tte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function up(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){Dte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dte(e,t,r){return(t=Mte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mte(e){var t=Rte(e,"string");return typeof t=="symbol"?t:t+""}function Rte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ite(e,t){return up(up({},t),e)}function Lte(e,t){return e==="symbols"}function dP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(cR,r);case"trapezoid":return j.createElement(Cte,r);case"sector":return j.createElement(hR,r);case"symbols":if(Lte(t))return j.createElement(Gw,r);break;case"curve":return j.createElement(fj,r);default:return null}}function Bte(e){return j.isValidElement(e)?e.props:e}function C1(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=Pte(e,kte),s;if(j.isValidElement(t))s=j.cloneElement(t,up(up({},a),Bte(t)));else if(typeof t=="function")s=t(a,a.index);else if(_te(t)&&typeof t!="boolean"){var l=Ite(t,a);s=j.createElement(dP,{shapeType:r,elementProps:l})}else{var d=a;s=j.createElement(dP,{shapeType:r,elementProps:d})}return a.isActive?j.createElement(jr,{className:n},s):s}var k1=(e,t,r)=>{var n=_t();return(a,s)=>l=>{e==null||e(a,s,l),n(QI({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},P1=e=>{var t=_t();return(r,n)=>a=>{e==null||e(r,n,a),t(UX())}},T1=(e,t,r)=>{var n=_t();return(a,s)=>l=>{e==null||e(a,s,l),n(zX({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function D1(e){var{tooltipEntrySettings:t}=e,r=_t(),n=zr(),a=j.useRef(null);return j.useLayoutEffect(()=>{n||(a.current===null?r(IX(t)):a.current!==t&&r(LX({prev:a.current,next:t})),a.current=t)},[t,r,n]),j.useLayoutEffect(()=>()=>{a.current&&(r(BX(a.current)),a.current=null)},[r]),null}function I4(e){var{legendPayload:t}=e,r=_t(),n=zr(),a=j.useRef(null);return j.useLayoutEffect(()=>{n||(a.current===null?r(tR(t)):a.current!==t&&r(rR({prev:a.current,next:t})),a.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{a.current&&(r(nR(a.current)),a.current=null)},[r]),null}function $te(e){var{legendPayload:t}=e,r=_t(),n=Ne(st),a=j.useRef(null);return j.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(tR(t)):a.current!==t&&r(rR({prev:a.current,next:t})),a.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{a.current&&(r(nR(a.current)),a.current=null)},[r]),null}var Ib,Ute=()=>{var[e]=j.useState(()=>gd("uid-"));return e},zte=(Ib=X3.useId)!==null&&Ib!==void 0?Ib:Ute;function qte(e,t){var r=zte();return t||(e?"".concat(e,"-").concat(r):r)}var Kte=j.createContext(void 0),M1=e=>{var{id:t,type:r,children:n}=e,a=qte("recharts-".concat(r),t);return j.createElement(Kte.Provider,{value:a},n(a))},Fte={cartesianItems:[],polarItems:[]},L4=un({name:"graphicalItems",initialState:Fte,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Tt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ca(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Tt()},removeCartesianGraphicalItem:{reducer(e,t){var r=ca(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Tt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Tt()},removePolarGraphicalItem:{reducer(e,t){var r=ca(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Tt()}}}),{addCartesianGraphicalItem:Qte,replaceCartesianGraphicalItem:Hte,removeCartesianGraphicalItem:Vte,addPolarGraphicalItem:Gte,removePolarGraphicalItem:Yte}=L4.actions,Wte=L4.reducer,Xte=e=>{var t=_t(),r=j.useRef(null);return j.useLayoutEffect(()=>{r.current===null?t(Qte(e)):r.current!==e&&t(Hte({prev:r.current,next:e})),r.current=e},[t,e]),j.useLayoutEffect(()=>()=>{r.current&&(t(Vte(r.current)),r.current=null)},[t]),null},B4=j.memo(Xte);function Zte(e){var t=_t();return j.useLayoutEffect(()=>(t(Gte(e)),()=>{t(Yte(e))}),[t,e]),null}var Jte=["key"],ere=["onMouseEnter","onClick","onMouseLeave"],tre=["id"],rre=["id"];function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){nre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nre(e,t,r){return(t=are(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function are(e){var t=ire(e,"string");return typeof t=="symbol"?t:t+""}function ire(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Os.apply(null,arguments)}function Cg(e,t){if(e==null)return{};var r,n,a=sre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ore(e){var t=j.useMemo(()=>A1(e.children,Qo),[e.children]),r=Ne(n=>gte(n,e.id,t));return r==null?null:j.createElement($te,{legendPayload:r})}var lre=j.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:l,name:d,hide:f,tooltipType:h,id:p}=e,g={dataDefinedOnItem:n.map(y=>y.tooltipPayload),getPosition:y=>{var v;return(v=n[Number(y)])===null||v===void 0?void 0:v.tooltipPosition},settings:{stroke:a,strokeWidth:s,fill:l,dataKey:t,nameKey:r,name:Mc(d,t),hide:f,type:h,color:l,unit:"",graphicalItemId:p}};return j.createElement(D1,{tooltipEntrySettings:g})}),cre=(e,t)=>e>t?"start":e<t?"end":"middle",ure=(e,t,r)=>Ur(typeof t=="function"?t(e):t,r,r*.8),dre=(e,t,r)=>{var{top:n,left:a,width:s,height:l}=t,d=uR(s,l),f=a+Ur(e.cx,s,s/2),h=n+Ur(e.cy,l,l/2),p=Ur(e.innerRadius,d,0),g=ure(r,e.outerRadius,d),y=e.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:y}},fre=(e,t)=>{var r=wr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},hre=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=at("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Cg(t,Jte);return j.createElement(fj,Os({},a,{type:"linear",className:r}))},mre=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var a=at("recharts-pie-label-text",T4(e));return j.createElement(Og,Os({},t,{alignmentBaseline:"middle",className:a}),n)};function pre(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:l}=r;if(!n||!a||!t)return null;var d=On(r),f=ko(a),h=ko(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=t.map((y,v)=>{var x=(y.startAngle+y.endAngle)/2,S=tr(y.cx,y.cy,y.outerRadius+p,x),_=Qt(Qt(Qt(Qt({},d),y),{},{stroke:"none"},f),{},{index:v,textAnchor:cre(S.x,y.cx)},S),N=Qt(Qt(Qt(Qt({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[tr(y.cx,y.cy,y.outerRadius,x),S],key:"line"});return j.createElement(dn,{zIndex:rr.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},j.createElement(jr,null,s&&hre(s,N),mre(a,_,bt(y,l))))});return j.createElement(jr,{className:"recharts-pie-labels"},g)}function gre(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?j.createElement(N1,{label:a}):j.createElement(pre,{sectors:t,props:r,showLabels:n})}function yre(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:l}=e,d=Ne(Ns),f=Ne(v1),h=Ne(OZ),{onMouseEnter:p,onClick:g,onMouseLeave:y}=a,v=Cg(a,ere),x=k1(p,a.dataKey,l),S=P1(y),_=T1(g,a.dataKey,l);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((N,O)=>{if((N==null?void 0:N.startAngle)===0&&(N==null?void 0:N.endAngle)===0&&t.length!==1)return null;var A=h==null||h===l,C=String(O)===d&&(f==null||a.dataKey===f)&&A,T=d?n:null,k=r&&C?r:T,D=Qt(Qt({},N),{},{stroke:N.stroke,tabIndex:-1,[UM]:O,[zM]:l});return j.createElement(jr,Os({key:"sector-".concat(N==null?void 0:N.startAngle,"-").concat(N==null?void 0:N.endAngle,"-").concat(N.midAngle,"-").concat(O),tabIndex:-1,className:"recharts-pie-sector"},Wd(v,N,O),{onMouseEnter:x(N,O),onMouseLeave:S(N,O),onClick:_(N,O)}),j.createElement(C1,Os({option:s??k,index:O,shapeType:"sector",isActive:C},D)))}))}function vre(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:l,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=r,y=Math.abs(r.minAngle),v=fre(d,f),x=Math.abs(v),S=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,_=n.filter(k=>bt(k,h,0)!==0).length,N=(x>=360?_:_-1)*S,O=x-_*y-N,A=n.reduce((k,D)=>{var M=bt(D,h,0);return k+(je(M)?M:0)},0),C;if(A>0){var T;C=n.map((k,D)=>{var M=bt(k,h,0),L=bt(k,p,D),G=dre(r,s,k),Q=(je(M)?M:0)/A,K,J=Qt(Qt({},k),a&&a[D]&&a[D].props);D?K=T.endAngle+wr(v)*S*(M!==0?1:0):K=d;var H=K+wr(v)*((M!==0?y:0)+Q*O),ie=(K+H)/2,B=(G.innerRadius+G.outerRadius)/2,U=[{name:L,value:M,payload:J,dataKey:h,type:g,graphicalItemId:r.id}],ee=tr(G.cx,G.cy,B,ie);return T=Qt(Qt(Qt(Qt({},r.presentationProps),{},{percent:Q,cornerRadius:typeof l=="string"?parseFloat(l):l,name:L,tooltipPayload:U,midAngle:ie,middleRadius:B,tooltipPosition:ee},J),G),{},{value:M,dataKey:h,startAngle:K,endAngle:H,payload:J,paddingAngle:wr(v)*S}),T})}return C}function bre(e){var{showLabels:t,sectors:r,children:n}=e,a=j.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return j.createElement(Jee,{value:t?a:void 0},n)}function xre(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,activeShape:h,inactiveShape:p,onAnimationStart:g,onAnimationEnd:y}=t,v=nf(t,"recharts-pie-"),x=r.current,[S,_]=j.useState(!1),N=j.useCallback(()=>{typeof y=="function"&&y(),_(!1)},[y]),O=j.useCallback(()=>{typeof g=="function"&&g(),_(!0)},[g]);return j.createElement(bre,{showLabels:!S,sectors:a},j.createElement(rf,{animationId:v,begin:l,duration:d,isActive:s,easing:f,onAnimationStart:O,onAnimationEnd:N,key:v},A=>{var C,T=[],k=a&&a[0],D=(C=k==null?void 0:k.startAngle)!==null&&C!==void 0?C:0;return a==null||a.forEach((M,L)=>{var G=x&&x[L],Q=L>0?To(M,"paddingAngle",0):0;if(G){var K=Dt(G.endAngle-G.startAngle,M.endAngle-M.startAngle,A),J=Qt(Qt({},M),{},{startAngle:D+Q,endAngle:D+K+Q});T.push(J),D=J.endAngle}else{var{endAngle:H,startAngle:ie}=M,B=Dt(0,H-ie,A),U=Qt(Qt({},M),{},{startAngle:D+Q,endAngle:D+B+Q});T.push(U),D=U.endAngle}}),r.current=T,j.createElement(jr,null,j.createElement(yre,{sectors:T,activeShape:h,inactiveShape:p,allOtherPieProps:t,shape:t.shape,id:n}))}),j.createElement(gre,{showLabels:!S,sectors:a,props:t}),t.children)}var wre={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:rr.area};function jre(e){var{id:t}=e,r=Cg(e,tre),{hide:n,className:a,rootTabIndex:s}=e,l=j.useMemo(()=>A1(e.children,Qo),[e.children]),d=Ne(p=>yte(p,t,l)),f=j.useRef(null),h=at("recharts-pie",a);return n||d==null?(f.current=null,j.createElement(jr,{tabIndex:s,className:h})):j.createElement(dn,{zIndex:e.zIndex},j.createElement(lre,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement(jr,{tabIndex:s,className:h},j.createElement(xre,{props:Qt(Qt({},r),{},{sectors:d}),previousSectorsRef:f,id:t})))}function R1(e){var t=ar(e,wre),{id:r}=t,n=Cg(t,rre),a=On(n);return j.createElement(M1,{id:r,type:"pie"},s=>j.createElement(j.Fragment,null,j.createElement(Zte,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),j.createElement(ore,Os({},n,{id:s})),j.createElement(jre,Os({},n,{id:s}))))}R1.displayName="Pie";var Sre=["points"];function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){_re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _re(e,t,r){return(t=Nre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nre(e){var t=Ore(e,"string");return typeof t=="symbol"?t:t+""}function Ore(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(null,arguments)}function Ere(e,t){if(e==null)return{};var r,n,a=Are(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Are(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cre(e){var{option:t,dotProps:r,className:n}=e;if(j.isValidElement(t))return j.cloneElement(t,r);if(typeof t=="function")return t(r);var a=at(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,d=Ere(s,Sre);return j.createElement(A4,dp({},d,{className:a}))}function kre(e,t){return e==null?!1:t?!0:e.length===1}function Pre(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:l,needClip:d,clipPathId:f,zIndex:h=rr.scatter}=e;if(!kre(t,r))return null;var p=R4(r),g=Q9(r),y=t.map((x,S)=>{var _,N,O=Lb(Lb(Lb({r:3},l),g),{},{index:S,cx:(_=x.x)!==null&&_!==void 0?_:void 0,cy:(N=x.y)!==null&&N!==void 0?N:void 0,dataKey:s,value:x.value,payload:x.payload,points:t});return j.createElement(Cre,{key:"dot-".concat(S),option:r,dotProps:O,className:a})}),v={};return d&&f!=null&&(v.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),j.createElement(dn,{zIndex:h},j.createElement(jr,dp({className:n},v),y))}function mP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(r),!0).forEach(function(n){Tre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tre(e,t,r){return(t=Dre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dre(e){var t=Mre(e,"string");return typeof t=="symbol"?t:t+""}function Mre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $4=0,Rre={xAxis:{},yAxis:{},zAxis:{}},U4=un({name:"cartesianAxis",initialState:Rre,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Tt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Tt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Tt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Tt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Tt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Tt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Tt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Tt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Tt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s,l=a.widthHistory||[];if(l.length===3&&l[0]===l[2]&&n===l[1]&&n!==a.width&&Math.abs(n-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var d=[...l,n].slice(-3);e.yAxis[r]=pP(pP({},a),{},{width:n,widthHistory:d})}}}}),{addXAxis:Ire,replaceXAxis:Lre,removeXAxis:Bre,addYAxis:$re,replaceYAxis:Ure,removeYAxis:zre,addZAxis:Xoe,replaceZAxis:Zoe,removeZAxis:Joe,updateYAxisWidth:qre}=U4.actions,Kre=U4.reducer,Fre=Y([dr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Qre=Y([Fre,_i,Ni],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),I1=()=>Ne(Qre),Hre=()=>Ne(PZ);function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){Vre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vre(e,t,r){return(t=Gre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gre(e){var t=Yre(e,"string");return typeof t=="symbol"?t:t+""}function Yre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wre=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var d={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=Bb(Bb(Bb({},d),ko(a)),Yw(a)),h;return j.isValidElement(a)?h=j.cloneElement(a,f):typeof a=="function"?h=a(f):h=j.createElement(A4,f),j.createElement(jr,{className:"recharts-active-dot",clipPath:l},h)};function Xre(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:l=rr.activeDot}=e,d=Ne(Ns),f=Hre();if(t==null||f==null)return null;var h=t.find(p=>f.includes(p.payload));return It(h)?null:j.createElement(dn,{zIndex:l},j.createElement(Wre,{point:h,childIndex:Number(d),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var yP=(e,t,r)=>{var n=r??e;if(!It(n))return Ur(n,t,0)},Zre=(e,t,r)=>{var n={},a=e.filter(yg),s=e.filter(h=>h.stackId==null),l=a.reduce((h,p)=>{var g=h[p.stackId];return g==null&&(g=[]),g.push(p),h[p.stackId]=g,h},n),d=Object.entries(l).map(h=>{var p,[g,y]=h,v=y.map(S=>S.dataKey),x=yP(t,r,(p=y[0])===null||p===void 0?void 0:p.barSize);return{stackId:g,dataKeys:v,barSize:x}}),f=s.map(h=>{var p=[h.dataKey].filter(y=>y!=null),g=yP(t,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]};function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){Jre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jre(e,t,r){return(t=ene(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ene(e){var t=tne(e,"string");return typeof t=="symbol"?t:t+""}function tne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rne(e,t,r,n,a){var s,l=n.length;if(!(l<1)){var d=Ur(e,r,0,!0),f,h=[];if(Je((s=n[0])===null||s===void 0?void 0:s.barSize)){var p=!1,g=r/l,y=n.reduce((O,A)=>O+(A.barSize||0),0);y+=(l-1)*d,y>=r&&(y-=(l-1)*d,d=0),y>=r&&g>0&&(p=!0,g*=.9,y=l*g);var v=(r-y)/2>>0,x={offset:v-d,size:0};f=n.reduce((O,A)=>{var C,T={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:x.offset+x.size+d,size:p?g:(C=A.barSize)!==null&&C!==void 0?C:0}},k=[...O,T];return x=T.position,k},h)}else{var S=Ur(t,r,0,!0);r-2*S-(l-1)*d<=0&&(d=0);var _=(r-2*S-(l-1)*d)/l;_>1&&(_>>=0);var N=Je(a)?Math.min(_,a):_;f=n.reduce((O,A,C)=>[...O,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:S+(_+d)*C+(_-N)/2,size:N}}],h)}return f}}var nne=(e,t,r,n,a,s,l)=>{var d=It(l)?t:l,f=rne(r,n,a!==s?a:s,e,d);return a!==s&&f!=null&&(f=f.map(h=>im(im({},h),{},{position:im(im({},h.position),{},{offset:h.position.offset-a/2})}))),f},ane=(e,t)=>{var r=Qj(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(l=>l.key===r)}}}},ine=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function sne(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Je(e.zIndex)?e.zIndex:t}var z4=e=>{var{chartData:t}=e,r=_t(),n=zr();return j.useEffect(()=>n?()=>{}:(r(_k(t)),()=>{r(_k(void 0))}),[t,r,n]),null},bP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},q4=un({name:"brush",initialState:bP,reducers:{setBrushSettings(e,t){return t.payload==null?bP:t.payload}}}),{setBrushSettings:ele}=q4.actions,one=q4.reducer;function lne(e){return(e%180+180)%180}var cne=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=lne(a),l=s*Math.PI/180,d=Math.atan(n/r),f=l>d&&l<Math.PI-d?n/Math.sin(l):r/Math.cos(l);return Math.abs(f)},une={dots:[],areas:[],lines:[]},K4=un({name:"referenceElements",initialState:une,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ca(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ca(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ca(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:tle,removeDot:rle,addArea:nle,removeArea:ale,addLine:ile,removeLine:sle}=K4.actions,dne=K4.reducer,fne=j.createContext(void 0),hne=e=>{var{children:t}=e,[r]=j.useState("".concat(gd("recharts"),"-clip")),n=I1();if(n==null)return null;var{x:a,y:s,width:l,height:d}=n;return j.createElement(fne.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:a,y:s,height:d,width:l}))),t)};function F4(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function mne(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return cne(n,r)}function pne(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:d}=e;return t===1?{start:n?a:s,end:n?a+l:s+d}:{start:n?a+l:s+d,end:n?a:s}}function kd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function gne(e,t){return F4(e,t+1)}function yne(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:d}=t,f=0,h=1,p=l,g=function(){var x=n==null?void 0:n[f];if(x===void 0)return{v:F4(n,h)};var S=f,_,N=()=>(_===void 0&&(_=r(x,S)),_),O=x.coordinate,A=f===0||kd(e,O,N,p,d);A||(f=0,p=l,h+=1),A&&(p=O+e*(N()/2+a),f+=h)},y;h<=s.length;)if(y=g(),y)return y.v;return[]}function vne(e,t,r,n,a){var s=(n||[]).slice(),l=s.length;if(l===0)return[];for(var{start:d,end:f}=t,h=1;h<=l;h++){for(var p=(l-1)%h,g=d,y=!0,v=function(){var C=n[S];if(C==null)return 0;var T=S,k,D=()=>(k===void 0&&(k=r(C,T)),k),M=C.coordinate,L=S===p||kd(e,M,D,g,f);if(!L)return y=!1,1;L&&(g=M+e*(D()/2+a))},x,S=p;S<l&&(x=v(),!(x!==0&&x===1));S+=h);if(y){for(var _=[],N=p;N<l;N+=h){var O=n[N];O!=null&&_.push(O)}return _}}return[]}function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(n){bne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bne(e,t,r){return(t=xne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xne(e){var t=wne(e,"string");return typeof t=="symbol"?t:t+""}function wne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jne(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:d}=t,{end:f}=t,h=function(y){var v=s[y];if(v==null)return 1;var x=v,S,_=()=>(S===void 0&&(S=r(v,y)),S);if(y===l-1){var N=e*(x.coordinate+e*_()/2-f);s[y]=x=Br(Br({},x),{},{tickCoord:N>0?x.coordinate-N*e:x.coordinate})}else s[y]=x=Br(Br({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var O=kd(e,x.tickCoord,_,d,f);O&&(f=x.tickCoord-e*(_()/2+a),s[y]=Br(Br({},x),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Sne(e,t,r,n,a,s){var l=(n||[]).slice(),d=l.length,{start:f,end:h}=t;if(s){var p=n[d-1];if(p!=null){var g=r(p,d-1),y=e*(p.coordinate+e*g/2-h);if(l[d-1]=p=Br(Br({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate}),p.tickCoord!=null){var v=kd(e,p.tickCoord,()=>g,f,h);v&&(h=p.tickCoord-e*(g/2+a),l[d-1]=Br(Br({},p),{},{isShow:!0}))}}}for(var x=s?d-1:d,S=function(O){var A=l[O];if(A==null)return 1;var C=A,T,k=()=>(T===void 0&&(T=r(A,O)),T);if(O===0){var D=e*(C.coordinate-e*k()/2-f);l[O]=C=Br(Br({},C),{},{tickCoord:D<0?C.coordinate-D*e:C.coordinate})}else l[O]=C=Br(Br({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var M=kd(e,C.tickCoord,k,f,h);M&&(f=C.tickCoord+e*(k()/2+a),l[O]=Br(Br({},C),{},{isShow:!0}))}},_=0;_<x;_++)S(_);return l}function L1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=e;if(!a||!a.length||!n)return[];if(je(f)||sg.isSsr){var y;return(y=gne(a,je(f)?f:0))!==null&&y!==void 0?y:[]}var v=[],x=d==="top"||d==="bottom"?"width":"height",S=p&&x==="width"?sd(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(T,k)=>{var D=typeof h=="function"?h(T.value,k):T.value;return x==="width"?mne(sd(D,{fontSize:t,letterSpacing:r}),S,g):sd(D,{fontSize:t,letterSpacing:r})[x]},N=a[0],O=a[1],A=a.length>=2&&N!=null&&O!=null?wr(O.coordinate-N.coordinate):1,C=pne(s,A,x);return f==="equidistantPreserveStart"?yne(A,C,_,a,l):f==="equidistantPreserveEnd"?vne(A,C,_,a,l):(f==="preserveStart"||f==="preserveStartEnd"?v=Sne(A,C,_,a,l,f==="preserveStartEnd"):v=jne(A,C,_,a,l),v.filter(T=>T.isShow))}var _ne=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var d=r?r.getBoundingClientRect().width:0,f=a+s,h=l+f+d+(r?n:0);return Math.round(h)}return 0},Nne=["axisLine","width","height","className","hide","ticks","axisType"];function One(e,t){if(e==null)return{};var r,n,a=Ene(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ene(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bo.apply(null,arguments)}function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){Ane(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ane(e,t,r){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cne(e){var t=kne(e,"string");return typeof t=="symbol"?t:t+""}function kne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ui={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:rr.axis};function Pne(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var h=Kt(Kt(Kt({},f),On(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=Kt(Kt({},h),{},{x1:t,y1:r+p*a,x2:t+n,y2:r+p*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=Kt(Kt({},h),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return j.createElement("line",Bo({},h,{className:at("recharts-cartesian-axis-line",To(d,"className"))}))}function Tne(e,t,r,n,a,s,l,d,f){var h,p,g,y,v,x,S=d?-1:1,_=e.tickSize||l,N=je(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=p=e.coordinate,y=r+ +!d*a,g=y-S*_,x=g-S*f,v=N;break;case"left":g=y=e.coordinate,p=t+ +!d*n,h=p-S*_,v=h-S*f,x=N;break;case"right":g=y=e.coordinate,p=t+ +d*n,h=p+S*_,v=h+S*f,x=N;break;default:h=p=e.coordinate,y=r+ +d*a,g=y+S*_,x=g+S*f,v=N;break}return{line:{x1:h,y1:g,x2:p,y2:y},tick:{x:v,y:x}}}function Dne(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Mne(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Rne(e){var{option:t,tickProps:r,value:n}=e,a,s=at(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))a=j.cloneElement(t,Kt(Kt({},r),{},{className:s}));else if(typeof t=="function")a=t(Kt(Kt({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=at(l,T4(t))),a=j.createElement(Og,Bo({},r,{className:l}),n)}return a}var Ine=j.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:l,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x:y,y:v,width:x,height:S,tickSize:_,tickMargin:N,fontSize:O,letterSpacing:A,getTicksConfig:C,events:T,axisType:k}=e,D=L1(Kt(Kt({},C),{},{ticks:r}),O,A),M=Dne(p,g),L=Mne(p,g),G=On(C),Q=ko(n),K={};typeof a=="object"&&(K=a);var J=Kt(Kt({},G),{},{fill:"none"},K),H=D.map(U=>Kt({entry:U},Tne(U,y,v,x,S,p,_,g,N))),ie=H.map(U=>{var{entry:ee,line:ue}=U;return j.createElement(jr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},a&&j.createElement("line",Bo({},J,ue,{className:at("recharts-cartesian-axis-tick-line",To(a,"className"))})))}),B=H.map((U,ee)=>{var ue,ce,{entry:I,tick:V}=U,me=Kt(Kt(Kt(Kt({verticalAnchor:L},G),{},{textAnchor:M,stroke:"none",fill:s},V),{},{index:ee,payload:I,visibleTicksCount:D.length,tickFormatter:l,padding:f},h),{},{angle:(ue=(ce=h==null?void 0:h.angle)!==null&&ce!==void 0?ce:G.angle)!==null&&ue!==void 0?ue:0}),pe=Kt(Kt({},me),Q);return j.createElement(jr,Bo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Wd(T,I,ee)),n&&j.createElement(Rne,{option:n,tickProps:pe,value:"".concat(typeof l=="function"?l(I.value,ee):I.value).concat(d||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},B.length>0&&j.createElement(dn,{zIndex:rr.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},B)),ie.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},ie))}),Lne=j.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:d,axisType:f}=e,h=One(e,Nne),[p,g]=j.useState(""),[y,v]=j.useState(""),x=j.useRef(null);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return _ne({ticks:x.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=j.useCallback(_=>{if(_){var N=_.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=N;var O=N[0];if(O){var A=window.getComputedStyle(O),C=A.fontSize,T=A.letterSpacing;(C!==p||T!==y)&&(g(C),v(T))}}},[p,y]);return l||n!=null&&n<=0||a!=null&&a<=0?null:j.createElement(dn,{zIndex:e.zIndex},j.createElement(jr,{className:at("recharts-cartesian-axis",s)},j.createElement(Pne,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:On(e)}),j.createElement(Ine,{ref:S,axisType:f,events:h,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),j.createElement(Tee,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},j.createElement(qee,{label:e.label,labelRef:e.labelRef}),e.children)))}),B1=j.forwardRef((e,t)=>{var r=ar(e,ui);return j.createElement(Lne,Bo({},r,{ref:t}))});B1.displayName="CartesianAxis";var Bne=["x1","y1","x2","y2","key"],$ne=["offset"],Une=["xAxisId","yAxisId"],zne=["xAxisId","yAxisId"];function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){qne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qne(e,t,r){return(t=Kne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kne(e){var t=Fne(e,"string");return typeof t=="symbol"?t:t+""}function Fne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(null,arguments)}function fp(e,t){if(e==null)return{};var r,n,a=Qne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Hne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:d}=e;return j.createElement("rect",{x:n,y:a,ry:d,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Q4(e){var{option:t,lineItemProps:r}=e,n;if(j.isValidElement(t))n=j.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:l,x2:d,y2:f,key:h}=r,p=fp(r,Bne),g=(a=On(p))!==null&&a!==void 0?a:{},{offset:y}=g,v=fp(g,$ne);n=j.createElement("line",mo({},v,{x1:s,y1:l,x2:d,y2:f,fill:"none",key:h}))}return n}function Vne(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,d=fp(e,Une),f=a.map((h,p)=>{var g=$r($r({},d),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(p),index:p});return j.createElement(Q4,{key:"line-".concat(p),option:n,lineItemProps:g})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Gne(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,d=fp(e,zne),f=a.map((h,p)=>{var g=$r($r({},d),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(p),index:p});return j.createElement(Q4,{option:n,lineItemProps:g,key:"line-".concat(p)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Yne(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length||d==null)return null;var h=d.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var v=h[y+1],x=v==null,S=x?a+l-g:v-g;if(S<=0)return null;var _=y%t.length;return j.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:S,width:s,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Wne(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:d,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var v=h[y+1],x=v==null,S=x?a+l-g:v-g;if(S<=0)return null;var _=y%r.length;return j.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:S,height:d,stroke:"none",fill:r[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Xne=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return LM(L1($r($r($r({},ui),r),{},{ticks:BM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Zne=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return LM(L1($r($r($r({},ui),r),{},{ticks:BM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},Jne={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:rr.grid};function Pd(e){var t=lj(),r=cj(),n=QM(),a=$r($r({},ar(e,Jne)),{},{x:je(e.x)?e.x:n.left,y:je(e.y)?e.y:n.top,width:je(e.width)?e.width:n.width,height:je(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:y,verticalValues:v}=a,x=zr(),S=Ne(L=>fk(L,"xAxis",s,x)),_=Ne(L=>fk(L,"yAxis",l,x));if(!ka(h)||!ka(p)||!je(d)||!je(f))return null;var N=a.verticalCoordinatesGenerator||Xne,O=a.horizontalCoordinatesGenerator||Zne,{horizontalPoints:A,verticalPoints:C}=a;if((!A||!A.length)&&typeof O=="function"){var T=y&&y.length,k=O({yAxis:_?$r($r({},_),{},{ticks:T?y:_.ticks}):void 0,width:t??h,height:r??p,offset:n},T?!0:g);Bm(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(A=k)}if((!C||!C.length)&&typeof N=="function"){var D=v&&v.length,M=N({xAxis:S?$r($r({},S),{},{ticks:D?v:S.ticks}):void 0,width:t??h,height:r??p,offset:n},D?!0:g);Bm(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(C=M)}return j.createElement(dn,{zIndex:a.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(Hne,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),j.createElement(Yne,mo({},a,{horizontalPoints:A})),j.createElement(Wne,mo({},a,{verticalPoints:C})),j.createElement(Vne,mo({},a,{offset:n,horizontalPoints:A,xAxis:S,yAxis:_})),j.createElement(Gne,mo({},a,{offset:n,verticalPoints:C,xAxis:S,yAxis:_}))))}Pd.displayName="CartesianGrid";var eae={},H4=un({name:"errorBars",initialState:eae,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:ole,replaceErrorBar:lle,removeErrorBar:cle}=H4.actions,tae=H4.reducer,rae=["children"];function nae(e,t){if(e==null)return{};var r,n,a=aae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},sae=j.createContext(iae);function V4(e){var{children:t}=e,r=nae(e,rae);return j.createElement(sae.Provider,{value:r},t)}function $1(e,t){var r,n,a=Ne(h=>Ai(h,e)),s=Ne(h=>Ci(h,t)),l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:gr.allowDataOverflow,d=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:yr.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function G4(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=I1(),{needClipX:s,needClipY:l,needClip:d}=$1(t,r);if(!d||!a)return null;var{x:f,y:h,width:p,height:g}=a;return j.createElement("clipPath",{id:"clipPath-".concat(n)},j.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var Y4=(e,t,r,n)=>_s(e,"xAxis",t,n),W4=(e,t,r,n)=>Ss(e,"xAxis",t,n),X4=(e,t,r,n)=>_s(e,"yAxis",r,n),Z4=(e,t,r,n)=>Ss(e,"yAxis",r,n),oae=Y([st,Y4,X4,W4,Z4],(e,t,r,n,a)=>Si(e,"xAxis")?gc(t,n,!1):gc(r,a,!1)),lae=(e,t,r,n,a)=>a;function cae(e){return e.type==="line"}var uae=Y([xg,lae],(e,t)=>e.filter(cae).find(r=>r.id===t)),dae=Y([st,Y4,X4,W4,Z4,uae,oae,Ij],(e,t,r,n,a,s,l,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=d;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:y}=s,v;if(y!=null&&y.length>0?v=y:v=f==null?void 0:f.slice(h,p+1),v!=null)return Wae({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:v})}});function fae(e){var t=ko(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,l=Number(a),d=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(d)||d<0)&&(d=n),{r:l,strokeWidth:d}}return{r,strokeWidth:n}}var $b={exports:{}},Ub={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SP;function hae(){if(SP)return Ub;SP=1;var e=jc();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,d=e.useDebugValue;return Ub.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var v=a(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=l(function(){function _(T){if(!N){if(N=!0,O=T,T=g(T),y!==void 0&&x.hasValue){var k=x.value;if(y(k,T))return A=k}return A=T}if(k=A,r(O,T))return k;var D=g(T);return y!==void 0&&y(k,D)?(O=T,k):(O=T,A=D)}var N=!1,O,A,C=p===void 0?null:p;return[function(){return _(h())},C===null?void 0:function(){return _(C())}]},[h,p,g,y]);var S=n(f,v[0],v[1]);return s(function(){x.hasValue=!0,x.value=S},[S]),d(S),S},Ub}var _P;function mae(){return _P||(_P=1,$b.exports=hae()),$b.exports}mae();function pae(e){e()}function gae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){pae(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var NP={notify(){},get:()=>[]};function yae(e,t){let r,n=NP,a=0,s=!1;function l(S){p();const _=n.subscribe(S);let N=!1;return()=>{N||(N=!0,_(),g())}}function d(){n.notify()}function f(){x.onStateChange&&x.onStateChange()}function h(){return s}function p(){a++,r||(r=e.subscribe(f),n=gae())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=NP)}function y(){s||(s=!0,p())}function v(){s&&(s=!1,g())}const x={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>n};return x}var vae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bae=vae(),xae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wae=xae(),jae=()=>bae||wae?j.useLayoutEffect:j.useEffect,Sae=jae();function OP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function _ae(e,t){if(OP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!OP(e[r[a]],t[r[a]]))return!1;return!0}var zb=Symbol.for("react-redux-context"),qb=typeof globalThis<"u"?globalThis:{};function Nae(){if(!j.createContext)return{};const e=qb[zb]??(qb[zb]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var Oae=Nae();function Eae(e){const{children:t,context:r,serverState:n,store:a}=e,s=j.useMemo(()=>{const f=yae(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),l=j.useMemo(()=>a.getState(),[a]);Sae(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const d=r||Oae;return j.createElement(d.Provider,{value:s},t)}var Aae=Eae,Cae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function kae(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function kg(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Cae.has(n)){if(e[n]==null&&t[n]==null)continue;if(!_ae(e[n],t[n]))return!1}else if(!kae(e[n],t[n]))return!1;return!0}var Pae=["id"],Tae=["type","layout","connectNulls","needClip","shape"],Dae=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Td.apply(null,arguments)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){Mae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mae(e,t,r){return(t=Rae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rae(e){var t=Iae(e,"string");return typeof t=="symbol"?t:t+""}function Iae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U1(e,t){if(e==null)return{};var r,n,a=Lae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bae=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Mc(r,t),payload:e}]},$ae=j.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:d,unit:f,tooltipType:h,id:p}=e,g={dataDefinedOnItem:r,getPosition:zo,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Mc(l,t),hide:d,type:h,color:n,unit:f,graphicalItemId:p}};return j.createElement(D1,{tooltipEntrySettings:g})}),J4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Uae(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var zae=(e,t,r)=>{var n=r.reduce((v,x)=>v+x);if(!n)return J4(t,e);for(var a=Math.floor(e/n),s=e%n,l=t-e,d=[],f=0,h=0;f<r.length;h+=(p=r[f])!==null&&p!==void 0?p:0,++f){var p,g=r[f];if(g!=null&&h+g>s){d=[...r.slice(0,f),s-h];break}}var y=d.length%2===0?[0,l]:[l];return[...Uae(r,a),...d,...y].map(v=>"".concat(v,"px")).join(", ")};function qae(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:l}=n,{id:d}=n,f=U1(n,Pae),h=On(f);return j.createElement(Pre,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:t})}function Kae(e){var{showLabels:t,children:r,points:n}=e,a=j.useMemo(()=>n==null?void 0:n.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return _a(_a({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[n]);return j.createElement(O4,{value:t?a:void 0},r)}function AP(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:l,layout:d,connectNulls:f,needClip:h,shape:p}=s,g=U1(s,Tae),y=_a(_a({},Vr(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:d,connectNulls:f,strokeDasharray:a??s.strokeDasharray});return j.createElement(j.Fragment,null,(n==null?void 0:n.length)>1&&j.createElement(C1,Td({shapeType:"curve",option:p},y,{pathRef:r})),j.createElement(qae,{points:n,clipPathId:t,props:s}))}function Fae(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Qae(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:y,width:v,height:x,onAnimationEnd:S,onAnimationStart:_}=r,N=a.current,O=nf(l,"recharts-line-"),A=j.useRef(O),[C,T]=j.useState(!1),k=!C,D=j.useCallback(()=>{typeof S=="function"&&S(),T(!1)},[S]),M=j.useCallback(()=>{typeof _=="function"&&_(),T(!0)},[_]),L=Fae(n.current),G=j.useRef(0);A.current!==O&&(G.current=s.current,A.current=O);var Q=G.current;return j.createElement(Kae,{points:l,showLabels:k},r.children,j.createElement(rf,{animationId:O,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:D,onAnimationStart:M,key:O},K=>{var J=Dt(Q,L+Q,K),H=Math.min(J,L),ie;if(f)if(d){var B="".concat(d).split(/[,\s]+/gim).map(ue=>parseFloat(ue));ie=zae(H,L,B)}else ie=J4(L,H);else ie=d==null?void 0:String(d);if(K>0&&L>0&&(a.current=l,s.current=Math.max(s.current,H)),N){var U=N.length/l.length,ee=K===1?l:l.map((ue,ce)=>{var I=Math.floor(ce*U);if(N[I]){var V=N[I];return _a(_a({},ue),{},{x:Dt(V.x,ue.x,K),y:Dt(V.y,ue.y,K)})}return y?_a(_a({},ue),{},{x:Dt(v*2,ue.x,K),y:Dt(x/2,ue.y,K)}):_a(_a({},ue),{},{x:ue.x,y:ue.y})});return a.current=ee,j.createElement(AP,{props:r,points:ee,clipPathId:t,pathRef:n,strokeDasharray:ie})}return j.createElement(AP,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:ie})}),j.createElement(N1,{label:r.label}))}function Hae(e){var{clipPathId:t,props:r}=e,n=j.useRef(null),a=j.useRef(0),s=j.useRef(null);return j.createElement(Qae,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var Vae=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:bt(e.payload,t)}};class Gae extends j.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:l,top:d,left:f,width:h,height:p,id:g,needClip:y,zIndex:v}=this.props;if(t)return null;var x=at("recharts-line",a),S=g,{r:_,strokeWidth:N}=fae(r),O=R4(r),A=_*2+N,C=y?"url(#clipPath-".concat(O?"":"dots-").concat(S,")"):void 0;return j.createElement(dn,{zIndex:v},j.createElement(jr,{className:x},y&&j.createElement("defs",null,j.createElement(G4,{clipPathId:S,xAxisId:s,yAxisId:l}),!O&&j.createElement("clipPath",{id:"clipPath-dots-".concat(S)},j.createElement("rect",{x:f-A/2,y:d-A/2,width:h+A,height:p+A}))),j.createElement(V4,{xAxisId:s,yAxisId:l,data:n,dataPointFormatter:Vae,errorBarOffset:0},j.createElement(Hae,{props:this.props,clipPathId:S}))),j.createElement(Xre,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:C}))}}var e5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:rr.line,type:"linear"};function Yae(e){var t=ar(e,e5),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,hide:h,isAnimationActive:p,label:g,legendType:y,xAxisId:v,yAxisId:x,id:S}=t,_=U1(t,Dae),{needClip:N}=$1(v,x),O=I1(),A=qo(),C=zr(),T=Ne(G=>dae(G,v,x,C,S));if(A!=="horizontal"&&A!=="vertical"||T==null||O==null)return null;var{height:k,width:D,x:M,y:L}=O;return j.createElement(Gae,Td({},_,{id:S,connectNulls:d,dot:f,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:y,xAxisId:v,yAxisId:x,points:T,layout:A,height:k,width:D,left:M,top:L,needClip:N}))}function Wae(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:d,displayedData:f}=e;return f.map((h,p)=>{var g=bt(h,l);if(t==="horizontal"){var y=cC({axis:r,ticks:a,bandSize:d,entry:h,index:p}),v=It(g)?null:n.scale.map(g);return{x:y,y:v??null,value:g,payload:h}}var x=It(g)?null:r.scale.map(g),S=cC({axis:n,ticks:s,bandSize:d,entry:h,index:p});return x==null||S==null?null:{x,y:S,value:g,payload:h}}).filter(Boolean)}function Xae(e){var t=ar(e,e5),r=zr();return j.createElement(M1,{id:t.id,type:"line"},n=>j.createElement(j.Fragment,null,j.createElement(I4,{legendPayload:Bae(t)}),j.createElement($ae,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),j.createElement(B4,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),j.createElement(Yae,Td({},t,{id:n}))))}var z1=j.memo(Xae,kg);z1.displayName="Line";function Ho(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:$4}function Vo(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:$4}var Zae="Invariant failed";function Jae(e,t){throw new Error(Zae)}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(null,arguments)}function hp(e){return j.createElement(C1,lw({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var eie=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(je(t))return t;var s=je(n)||It(n);return s?t(n,a):(s||Jae(),r)}},tie=(e,t,r)=>r,rie=(e,t)=>t,gf=Y([xg,rie],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),nie=Y([gf],e=>e==null?void 0:e.maxBarSize),aie=(e,t,r,n)=>n,iie=Y([st,xg,Ho,Vo,tie],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),sie=(e,t,r)=>{var n=st(e),a=Ho(e,t),s=Vo(e,t);if(!(a==null||s==null))return n==="horizontal"?tw(e,"yAxis",s,r):tw(e,"xAxis",a,r)},oie=(e,t)=>{var r=st(e),n=Ho(e,t),a=Vo(e,t);if(!(n==null||a==null))return r==="horizontal"?dk(e,"xAxis",n):dk(e,"yAxis",a)},lie=Y([iie,OW,oie],Zre),cie=(e,t,r)=>{var n,a,s=gf(e,t);if(s==null)return 0;var l=Ho(e,t),d=Vo(e,t);if(l==null||d==null)return 0;var f=st(e),h=iI(e),{maxBarSize:p}=s,g=It(p)?h:p,y,v;return f==="horizontal"?(y=_s(e,"xAxis",l,r),v=Ss(e,"xAxis",l,r)):(y=_s(e,"yAxis",d,r),v=Ss(e,"yAxis",d,r)),(n=(a=gc(y,v,!0))!==null&&a!==void 0?a:g)!==null&&n!==void 0?n:0},t5=(e,t,r)=>{var n=st(e),a=Ho(e,t),s=Vo(e,t);if(!(a==null||s==null)){var l,d;return n==="horizontal"?(l=_s(e,"xAxis",a,r),d=Ss(e,"xAxis",a,r)):(l=_s(e,"yAxis",s,r),d=Ss(e,"yAxis",s,r)),gc(l,d)}},uie=Y([lie,iI,NW,sI,cie,t5,nie],nne),die=(e,t,r)=>{var n=Ho(e,t);if(n!=null)return _s(e,"xAxis",n,r)},fie=(e,t,r)=>{var n=Vo(e,t);if(n!=null)return _s(e,"yAxis",n,r)},hie=(e,t,r)=>{var n=Ho(e,t);if(n!=null)return Ss(e,"xAxis",n,r)},mie=(e,t,r)=>{var n=Vo(e,t);if(n!=null)return Ss(e,"yAxis",n,r)},pie=Y([uie,gf],ine),gie=Y([sie,gf],ane),yie=Y([dr,ij,die,fie,hie,mie,pie,st,yW,t5,gie,gf,aie],(e,t,r,n,a,s,l,d,f,h,p,g,y)=>{var{chartData:v,dataStartIndex:x,dataEndIndex:S}=f;if(!(g==null||l==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||n==null||a==null||s==null||h==null)){var{data:_}=g,N;if(_!=null&&_.length>0?N=_:N=v==null?void 0:v.slice(x,S+1),N!=null)return Qie({layout:d,barSettings:g,pos:l,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:N,offset:e,cells:y,dataStartIndex:x})}}),vie=["index"];function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(null,arguments)}function bie(e,t){if(e==null)return{};var r,n,a=xie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var r5=j.createContext(void 0),wie=e=>{var t=j.useContext(r5);if(t!=null)return t.stackId;if(e!=null)return dQ(e)},jie=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Sie=e=>{var t=j.useContext(r5);if(t!=null){var{stackId:r}=t;return"url(#".concat(jie(r,e),")")}},n5=e=>{var{index:t}=e,r=bie(e,vie),n=Sie(t);return j.createElement(jr,cw({className:"recharts-bar-stack-layer",clipPath:n},r))},_ie=["onMouseEnter","onMouseLeave","onClick"],Nie=["value","background","tooltipPosition"],Oie=["id"],Eie=["onMouseEnter","onClick","onMouseLeave"];function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(null,arguments)}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){Aie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aie(e,t,r){return(t=Cie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cie(e){var t=kie(e,"string");return typeof t=="symbol"?t:t+""}function kie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mp(e,t){if(e==null)return{};var r,n,a=Pie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tie=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Mc(r,t),payload:e}]},Die=j.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:l,unit:d,tooltipType:f,id:h}=e,p={dataDefinedOnItem:void 0,getPosition:zo,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Mc(s,t),hide:l,type:f,color:a,unit:d,graphicalItemId:h}};return j.createElement(D1,{tooltipEntrySettings:p})});function Mie(e){var t=Ne(Ns),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:d,onClick:f}=s,h=mp(s,_ie),p=k1(l,n,s.id),g=P1(d),y=T1(f,n,s.id);if(!a||r==null)return null;var v=ko(a);return j.createElement(dn,{zIndex:sne(a,rr.barBackground)},r.map((x,S)=>{var{value:_,background:N,tooltipPosition:O}=x,A=mp(x,Nie);if(!N)return null;var C=p(x,S),T=g(x,S),k=y(x,S),D=Qr(Qr(Qr(Qr(Qr({option:a,isActive:String(S)===t},A),{},{fill:"#eee"},N),v),Wd(h,x,S)),{},{onMouseEnter:C,onMouseLeave:T,onClick:k,dataKey:n,index:S,className:"recharts-bar-background-rectangle"});return j.createElement(hp,bi({key:"background-bar-".concat(S)},D))}))}function Rie(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Qr(Qr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return j.createElement(O4,{value:t?a:void 0},r)}function Iie(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:l}=e,d=Ne(Ns),f=Ne(v1),h=r&&String(s)===d&&(f==null||l===f),p=h?r:t;return h?j.createElement(dn,{zIndex:rr.activeBar},j.createElement(n5,{index:s},j.createElement(hp,bi({},n,{name:String(n.name)},a,{isActive:h,option:p,index:s,dataKey:l})))):j.createElement(hp,bi({},n,{name:String(n.name)},a,{isActive:h,option:p,index:s,dataKey:l}))}function Lie(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return j.createElement(hp,bi({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function Bie(e){var t,{data:r,props:n}=e,a=(t=On(n))!==null&&t!==void 0?t:{},{id:s}=a,l=mp(a,Oie),{shape:d,dataKey:f,activeBar:h}=n,{onMouseEnter:p,onClick:g,onMouseLeave:y}=n,v=mp(n,Eie),x=k1(p,f,s),S=P1(y),_=T1(g,f,s);return r?j.createElement(j.Fragment,null,r.map((N,O)=>j.createElement(n5,bi({index:O,key:"rectangle-".concat(N==null?void 0:N.x,"-").concat(N==null?void 0:N.y,"-").concat(N==null?void 0:N.value,"-").concat(O),className:"recharts-bar-rectangle"},Wd(v,N,O),{onMouseEnter:x(N,O),onMouseLeave:S(N,O),onClick:_(N,O)}),h?j.createElement(Iie,{shape:d,activeBar:h,baseProps:l,entry:N,index:O,dataKey:f}):j.createElement(Lie,{shape:d,baseProps:l,entry:N,index:O,dataKey:f})))):null}function $ie(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=t,g=r.current,y=nf(t,"recharts-bar-"),[v,x]=j.useState(!1),S=!v,_=j.useCallback(()=>{typeof h=="function"&&h(),x(!1)},[h]),N=j.useCallback(()=>{typeof p=="function"&&p(),x(!0)},[p]);return j.createElement(Rie,{showLabels:S,rects:n},j.createElement(rf,{animationId:y,begin:l,duration:d,isActive:s,easing:f,onAnimationEnd:_,onAnimationStart:N,key:y},O=>{var A=O===1?n:n==null?void 0:n.map((C,T)=>{var k=g&&g[T];if(k)return Qr(Qr({},C),{},{x:Dt(k.x,C.x,O),y:Dt(k.y,C.y,O),width:Dt(k.width,C.width,O),height:Dt(k.height,C.height,O)});if(a==="horizontal"){var D=Dt(0,C.height,O),M=Dt(C.stackedBarStart,C.y,O);return Qr(Qr({},C),{},{y:M,height:D})}var L=Dt(0,C.width,O),G=Dt(C.stackedBarStart,C.x,O);return Qr(Qr({},C),{},{width:L,x:G})});return O>0&&(r.current=A??null),A==null?null:j.createElement(jr,null,j.createElement(Bie,{props:t,data:A}))}),j.createElement(N1,{label:t.label}),t.children)}function Uie(e){var t=j.useRef(null);return j.createElement($ie,{previousRectanglesRef:t,props:e})}var a5=0,zie=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:bt(e,t)}};class qie extends j.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(t||r==null)return null;var p=at("recharts-bar",a),g=h;return j.createElement(jr,{className:p,id:h},d&&j.createElement("defs",null,j.createElement(G4,{clipPathId:g,xAxisId:s,yAxisId:l})),j.createElement(jr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},j.createElement(Mie,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),j.createElement(Uie,this.props)))}}var Kie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:a5,xAxisId:0,yAxisId:0,zIndex:rr.bar};function Fie(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=e,{needClip:g}=$1(t,r),y=qo(),v=zr(),x=A1(e.children,Qo),S=Ne(O=>yie(O,e.id,v,x));if(y!=="vertical"&&y!=="horizontal")return null;var _,N=S==null?void 0:S[0];return N==null||N.height==null||N.width==null?_=0:_=y==="vertical"?N.height/2:N.width/2,j.createElement(V4,{xAxisId:t,yAxisId:r,data:S,dataPointFormatter:zie,errorBarOffset:_},j.createElement(qie,bi({},e,{layout:y,needClip:g,data:S,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Qie(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:y,cells:v,parentViewBox:x,dataStartIndex:S}=e,_=t==="horizontal"?d:l,N=p?_.scale.domain():null,O=fQ({numericAxis:_}),A=_.scale.map(O);return g.map((C,T)=>{var k,D,M,L,G,Q;if(p){var K=p[T+S];if(K==null)return null;k=sQ(K,N)}else k=bt(C,r),Array.isArray(k)||(k=[O,k]);var J=eie(n,a5)(k[1],T);if(t==="horizontal"){var H,ie=d.scale.map(k[0]),B=d.scale.map(k[1]);if(ie==null||B==null)return null;D=uC({axis:l,ticks:f,bandSize:s,offset:a.offset,entry:C,index:T}),M=(H=B??ie)!==null&&H!==void 0?H:void 0,L=a.size;var U=ie-B;if(G=Aa(U)?0:U,Q={x:D,y:y.top,width:L,height:y.height},Math.abs(J)>0&&Math.abs(G)<Math.abs(J)){var ee=wr(G||J)*(Math.abs(J)-Math.abs(G));M-=ee,G+=ee}}else{var ue=l.scale.map(k[0]),ce=l.scale.map(k[1]);if(ue==null||ce==null)return null;if(D=ue,M=uC({axis:d,ticks:h,bandSize:s,offset:a.offset,entry:C,index:T}),L=ce-ue,G=a.size,Q={x:y.left,y:M,width:y.width,height:G},Math.abs(J)>0&&Math.abs(L)<Math.abs(J)){var I=wr(L||J)*(Math.abs(J)-Math.abs(L));L+=I}}if(D==null||M==null||L==null||G==null)return null;var V=Qr(Qr({},C),{},{stackedBarStart:A,x:D,y:M,width:L,height:G,value:p?k:k[1],payload:C,background:Q,tooltipPosition:{x:D+L/2,y:M+G/2},parentViewBox:x},v&&v[T]&&v[T].props);return V}).filter(Boolean)}function Hie(e){var t=ar(e,Kie),r=wie(t.stackId),n=zr();return j.createElement(M1,{id:t.id,type:"bar"},a=>j.createElement(j.Fragment,null,j.createElement(I4,{legendPayload:Tie(t)}),j.createElement(Die,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),j.createElement(B4,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),j.createElement(dn,{zIndex:t.zIndex},j.createElement(Fie,bi({},t,{id:a})))))}var Eo=j.memo(Hie,kg);Eo.displayName="Bar";var Vie=["domain","range"],Gie=["domain","range"];function kP(e,t){if(e==null)return{};var r,n,a=Yie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function i5(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=kP(e,Vie),{domain:s,range:l}=t,d=kP(t,Gie);return!PP(r,s)||!PP(n,l)?!1:kg(a,d)}var Wie=["type"],Xie=["dangerouslySetInnerHTML","ticks","scale"],Zie=["id","scale"];function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(null,arguments)}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Jie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jie(e,t,r){return(t=ese(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ese(e){var t=tse(e,"string");return typeof t=="symbol"?t:t+""}function tse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dw(e,t){if(e==null)return{};var r,n,a=rse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nse(e){var t=_t(),r=j.useRef(null),n=HM(),{type:a}=e,s=dw(e,Wie),l=pg(n,"xAxis",a),d=j.useMemo(()=>{if(l!=null)return DP(DP({},s),{},{type:l})},[s,l]);return j.useLayoutEffect(()=>{d!=null&&(r.current===null?t(Ire(d)):r.current!==d&&t(Lre({prev:r.current,next:d})),r.current=d)},[d,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(Bre(r.current)),r.current=null)},[t]),null}var ase=e=>{var{xAxisId:t,className:r}=e,n=Ne(ij),a=zr(),s="xAxis",l=Ne(N=>$I(N,s,t,a)),d=Ne(N=>RI(N,t)),f=Ne(N=>OX(N,t)),h=Ne(N=>gI(N,t));if(d==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:y}=e,v=dw(e,Xie),{id:x,scale:S}=h,_=dw(h,Zie);return j.createElement(B1,uw({},v,_,{x:f.x,y:f.y,width:d.width,height:d.height,className:at("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},ise={allowDataOverflow:gr.allowDataOverflow,allowDecimals:gr.allowDecimals,allowDuplicatedCategory:gr.allowDuplicatedCategory,angle:gr.angle,axisLine:ui.axisLine,height:gr.height,hide:!1,includeHidden:gr.includeHidden,interval:gr.interval,label:!1,minTickGap:gr.minTickGap,mirror:gr.mirror,orientation:gr.orientation,padding:gr.padding,reversed:gr.reversed,scale:gr.scale,tick:gr.tick,tickCount:gr.tickCount,tickLine:ui.tickLine,tickSize:ui.tickSize,type:gr.type,xAxisId:0},sse=e=>{var t=ar(e,ise);return j.createElement(j.Fragment,null,j.createElement(nse,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),j.createElement(ase,t))},Dd=j.memo(sse,i5);Dd.displayName="XAxis";var ose=["type"],lse=["dangerouslySetInnerHTML","ticks","scale"],cse=["id","scale"];function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fw.apply(null,arguments)}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){use(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function use(e,t,r){return(t=dse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dse(e){var t=fse(e,"string");return typeof t=="symbol"?t:t+""}function fse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hw(e,t){if(e==null)return{};var r,n,a=hse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mse(e){var t=_t(),r=j.useRef(null),n=HM(),{type:a}=e,s=hw(e,ose),l=pg(n,"yAxis",a),d=j.useMemo(()=>{if(l!=null)return RP(RP({},s),{},{type:l})},[l,s]);return j.useLayoutEffect(()=>{d!=null&&(r.current===null?t($re(d)):r.current!==d&&t(Ure({prev:r.current,next:d})),r.current=d)},[d,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(zre(r.current)),r.current=null)},[t]),null}function pse(e){var{yAxisId:t,className:r,width:n,label:a}=e,s=j.useRef(null),l=j.useRef(null),d=Ne(ij),f=zr(),h=_t(),p="yAxis",g=Ne(k=>II(k,t)),y=Ne(k=>AX(k,t)),v=Ne(k=>$I(k,p,t,f)),x=Ne(k=>yI(k,t));if(j.useLayoutEffect(()=>{if(!(n!=="auto"||!g||_1(a)||j.isValidElement(a)||x==null)){var k=s.current;if(k){var D=k.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&h(qre({id:t,width:D}))}}},[v,g,h,a,t,n,x]),g==null||y==null||x==null)return null;var{dangerouslySetInnerHTML:S,ticks:_,scale:N}=e,O=hw(e,lse),{id:A,scale:C}=x,T=hw(x,cse);return j.createElement(B1,fw({},O,T,{ref:s,labelRef:l,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:at("recharts-".concat(p," ").concat(p),r),viewBox:d,ticks:v,axisType:p}))}var gse={allowDataOverflow:yr.allowDataOverflow,allowDecimals:yr.allowDecimals,allowDuplicatedCategory:yr.allowDuplicatedCategory,angle:yr.angle,axisLine:ui.axisLine,hide:!1,includeHidden:yr.includeHidden,interval:yr.interval,label:!1,minTickGap:yr.minTickGap,mirror:yr.mirror,orientation:yr.orientation,padding:yr.padding,reversed:yr.reversed,scale:yr.scale,tick:yr.tick,tickCount:yr.tickCount,tickLine:ui.tickLine,tickSize:ui.tickSize,type:yr.type,width:yr.width,yAxisId:0},yse=e=>{var t=ar(e,gse);return j.createElement(j.Fragment,null,j.createElement(mse,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),j.createElement(pse,t))},Md=j.memo(yse,i5);Md.displayName="YAxis";var vse=(e,t)=>t,q1=Y([vse,st,hI,_r,r4,ki,FZ,dr],XZ),K1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},s5=Gn("mouseClick"),o5=Zd();o5.startListening({actionCreator:s5,effect:(e,t)=>{var r=e.payload,n=q1(t.getState(),K1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(qX({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var mw=Gn("mouseMove"),l5=Zd(),sm=null;l5.startListening({actionCreator:mw,effect:(e,t)=>{var r=e.payload;sm!==null&&cancelAnimationFrame(sm);var n=K1(r);sm=requestAnimationFrame(()=>{var a=t.getState(),s=f1(a,a.tooltip.settings.shared);if(s==="axis"){var l=q1(a,n);(l==null?void 0:l.activeIndex)!=null?t.dispatch(VI({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(HI())}sm=null})}});function bse(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var IP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},c5=un({name:"rootProps",initialState:IP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:IP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),xse=c5.reducer,{updateOptions:wse}=c5.actions,jse=null,Sse={updatePolarOptions:(e,t)=>t.payload},u5=un({name:"polarOptions",initialState:jse,reducers:Sse}),{updatePolarOptions:_se}=u5.actions,Nse=u5.reducer,d5=Gn("keyDown"),f5=Gn("focus"),F1=Zd();F1.startListening({actionCreator:d5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=h1(a,Kc(r),ff(r),mf(r)),d=l==null?-1:Number(l);if(!(!Number.isFinite(d)||d<0)){var f=ki(r);if(s==="Enter"){var h=op(r,"axis","hover",String(a.index));t.dispatch(nw({active:!a.active,activeIndex:a.index,activeCoordinate:h}));return}var p=TX(r),g=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,v=d+y*g;if(!(f==null||v>=f.length||v<0)){var x=op(r,"axis","hover",String(v));t.dispatch(nw({active:!0,activeIndex:v.toString(),activeCoordinate:x}))}}}}}});F1.startListening({actionCreator:f5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=op(r,"axis","hover",String(s));t.dispatch(nw({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var qn=Gn("externalEvent"),h5=Zd(),Kb=new Map;h5.startListening({actionCreator:qn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=Kb.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var d=t.getState(),f={activeCoordinate:AZ(d),activeDataKey:v1(d),activeIndex:Ns(d),activeLabel:i4(d),activeTooltipIndex:Ns(d),isTooltipActive:CZ(d)};r(f,n)}finally{Kb.delete(a)}});Kb.set(a,l)}}});var Ose=Y([zc],e=>e.tooltipItemPayloads),Ese=Y([Ose,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),m5=Gn("touchMove"),p5=Zd();p5.startListening({actionCreator:m5,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=f1(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var l=q1(n,K1({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(VI({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var d,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(UM),g=(d=h.getAttribute(zM))!==null&&d!==void 0?d:void 0,y=qc(n).find(S=>S.id===g);if(p==null||y==null||g==null)return;var{dataKey:v}=y,x=Ese(n,p,g);t.dispatch(QI({activeDataKey:v,activeIndex:p,activeCoordinate:x,activeGraphicalItemId:g}))}}}});var Ase=lM({brush:one,cartesianAxis:Kre,chartData:AJ,errorBars:tae,graphicalItems:Wte,layout:tQ,legend:lH,options:SJ,polarAxis:ute,polarOptions:Nse,referenceElements:dne,rootProps:xse,tooltip:KX,zIndex:dJ}),Cse=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return O7({reducer:Ase,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([o5.middleware,l5.middleware,F1.middleware,h5.middleware,p5.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(SM({type:"raf"}))},devTools:{serialize:{replacer:bse},name:"recharts-".concat(r)}})};function g5(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=zr(),s=j.useRef(null);if(a)return r;s.current==null&&(s.current=Cse(t,n));var l=Zw;return j.createElement(Aae,{context:l,store:s.current},r)}function kse(e){var{layout:t,margin:r}=e,n=_t(),a=zr();return j.useEffect(()=>{a||(n(Z7(t)),n(X7(r)))},[n,a,t,r]),null}var y5=j.memo(kse,kg);function v5(e){var t=_t();return j.useEffect(()=>{t(wse(e))},[t,e]),null}function LP(e){var{zIndex:t,isPanorama:r}=e,n=j.useRef(null),a=_t();return j.useLayoutEffect(()=>(n.current&&a(cJ({zIndex:t,element:n.current,isPanorama:r})),()=>{a(uJ({zIndex:t,isPanorama:r}))}),[a,t,r]),j.createElement("g",{tabIndex:-1,ref:n})}function BP(e){var{children:t,isPanorama:r}=e,n=Ne(JZ);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),s=n.filter(l=>l>0);return j.createElement(j.Fragment,null,a.map(l=>j.createElement(LP,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>j.createElement(LP,{key:l,zIndex:l,isPanorama:r})))}var Pse=["children"];function Tse(e,t){if(e==null)return{};var r,n,a=Dse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(null,arguments)}var Mse={width:"100%",height:"100%",display:"block"},Rse=j.forwardRef((e,t)=>{var r=lj(),n=cj(),a=aR();if(!ka(r)||!ka(n))return null;var{children:s,otherAttributes:l,title:d,desc:f}=e,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0),j.createElement(zw,pp({},l,{title:d,desc:f,role:p,tabIndex:h,width:r,height:n,style:Mse,ref:t}),s)}),Ise=e=>{var{children:t}=e,r=Ne(eg);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return j.createElement(zw,{width:n,height:a,x:l,y:s},t)},$P=j.forwardRef((e,t)=>{var{children:r}=e,n=Tse(e,Pse),a=zr();return a?j.createElement(Ise,null,j.createElement(BP,{isPanorama:!0},r)):j.createElement(Rse,pp({ref:t},n),j.createElement(BP,{isPanorama:!1},r))});function Lse(){var e=_t(),[t,r]=j.useState(null),n=Ne(vQ);return j.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Je(s)&&s!==n&&e(eQ(s))}},[t,e,n]),r}function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){$se(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $se(e,t,r){return(t=Use(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Use(e){var t=zse(e,"string");return typeof t=="symbol"?t:t+""}function zse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ws.apply(null,arguments)}var qse=()=>(LJ(),null);function gp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Kse=j.forwardRef((e,t)=>{var r,n,a=j.useRef(null),[s,l]=j.useState({containerWidth:gp((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:gp((n=e.style)===null||n===void 0?void 0:n.height)}),d=j.useCallback((h,p)=>{l(g=>{var y=Math.round(h),v=Math.round(p);return g.containerWidth===y&&g.containerHeight===v?g:{containerWidth:y,containerHeight:v}})},[]),f=j.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var y=x=>{var S=x[0];if(S!=null){var{width:_,height:N}=S.contentRect;d(_,N)}},v=new ResizeObserver(y);v.observe(h),a.current=v}},[t,d]);return j.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[d]),j.createElement(j.Fragment,null,j.createElement(ef,{width:s.containerWidth,height:s.containerHeight}),j.createElement("div",ws({ref:f},e)))}),Fse=j.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=j.useState({containerWidth:gp(r),containerHeight:gp(n)}),l=j.useCallback((f,h)=>{s(p=>{var g=Math.round(f),y=Math.round(h);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),d=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[t,l]);return j.createElement(j.Fragment,null,j.createElement(ef,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",ws({ref:d},e)))}),Qse=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return j.createElement(j.Fragment,null,j.createElement(ef,{width:r,height:n}),j.createElement("div",ws({ref:t},e)))}),Hse=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?j.createElement(Fse,ws({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?j.createElement(Qse,ws({},e,{width:r,height:n,ref:t})):j.createElement(j.Fragment,null,j.createElement(ef,{width:r,height:n}),j.createElement("div",ws({ref:t},e)))});function Vse(e){return e?Kse:Hse}var Gse=j.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:y,onTouchEnd:v,onTouchMove:x,onTouchStart:S,style:_,width:N,responsive:O,dispatchTouchEvents:A=!0}=e,C=j.useRef(null),T=_t(),[k,D]=j.useState(null),[M,L]=j.useState(null),G=Lse(),Q=sj(),K=(Q==null?void 0:Q.width)>0?Q.width:N,J=(Q==null?void 0:Q.height)>0?Q.height:a,H=j.useCallback(R=>{G(R),typeof t=="function"&&t(R),D(R),L(R),R!=null&&(C.current=R)},[G,t,D,L]),ie=j.useCallback(R=>{T(s5(R)),T(qn({handler:s,reactEvent:R}))},[T,s]),B=j.useCallback(R=>{T(mw(R)),T(qn({handler:h,reactEvent:R}))},[T,h]),U=j.useCallback(R=>{T(HI()),T(qn({handler:p,reactEvent:R}))},[T,p]),ee=j.useCallback(R=>{T(mw(R)),T(qn({handler:g,reactEvent:R}))},[T,g]),ue=j.useCallback(()=>{T(f5())},[T]),ce=j.useCallback(R=>{T(d5(R.key))},[T]),I=j.useCallback(R=>{T(qn({handler:l,reactEvent:R}))},[T,l]),V=j.useCallback(R=>{T(qn({handler:d,reactEvent:R}))},[T,d]),me=j.useCallback(R=>{T(qn({handler:f,reactEvent:R}))},[T,f]),pe=j.useCallback(R=>{T(qn({handler:y,reactEvent:R}))},[T,y]),be=j.useCallback(R=>{T(qn({handler:S,reactEvent:R}))},[T,S]),ke=j.useCallback(R=>{A&&T(m5(R)),T(qn({handler:x,reactEvent:R}))},[T,A,x]),Ae=j.useCallback(R=>{T(qn({handler:v,reactEvent:R}))},[T,v]),te=Vse(O);return j.createElement(f4.Provider,{value:k},j.createElement(ND.Provider,{value:M},j.createElement(te,{width:K??(_==null?void 0:_.width),height:J??(_==null?void 0:_.height),className:at("recharts-wrapper",n),style:Bse({position:"relative",cursor:"default",width:K,height:J},_),onClick:ie,onContextMenu:I,onDoubleClick:V,onFocus:ue,onKeyDown:ce,onMouseDown:me,onMouseEnter:B,onMouseLeave:U,onMouseMove:ee,onMouseUp:pe,onTouchEnd:Ae,onTouchMove:ke,onTouchStart:be,ref:H},j.createElement(qse,null),r)))}),Yse=["width","height","responsive","children","className","style","compact","title","desc"];function Wse(e,t){if(e==null)return{};var r,n,a=Xse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var b5=j.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:d,compact:f,title:h,desc:p}=e,g=Wse(e,Yse),y=On(g);return f?j.createElement(j.Fragment,null,j.createElement(ef,{width:r,height:n}),j.createElement($P,{otherAttributes:y,title:h,desc:p},s)):j.createElement(Gse,{className:l,style:d,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement($P,{otherAttributes:y,title:h,desc:p,ref:t},j.createElement(hne,null,s)))});function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(null,arguments)}var Zse={top:5,right:5,bottom:5,left:5},Jse={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Zse,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},x5=j.forwardRef(function(t,r){var n,a=ar(t.categoricalChartProps,Jse),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return j.createElement(g5,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},j.createElement(z4,{chartData:h.data}),j.createElement(y5,{layout:a.layout,margin:a.margin}),j.createElement(v5,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(b5,pw({},a,{ref:r})))}),eoe=["axis","item"],w5=j.forwardRef((e,t)=>j.createElement(x5,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:eoe,tooltipPayloadSearcher:S1,categoricalChartProps:e,ref:t}));function toe(e){var t=_t();return j.useEffect(()=>{t(_se(e))},[t,e]),null}var roe=["layout"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(null,arguments)}function noe(e,t){if(e==null)return{};var r,n,a=aoe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ioe={top:5,right:5,bottom:5,left:5},j5={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ioe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},soe=j.forwardRef(function(t,r){var n,a=ar(t.categoricalChartProps,j5),{layout:s}=a,l=noe(a,roe),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=t,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return j.createElement(g5,{preloadedState:{options:g},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:d},j.createElement(z4,{chartData:a.data}),j.createElement(y5,{layout:s,margin:a.margin}),j.createElement(v5,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(toe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),j.createElement(b5,gw({},l,{ref:r})))});function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){ooe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ooe(e,t,r){return(t=loe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function loe(e){var t=coe(e,"string");return typeof t=="symbol"?t:t+""}function coe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uoe=["item"],doe=qP(qP({},j5),{},{layout:"centric",startAngle:0,endAngle:360}),S5=j.forwardRef((e,t)=>{var r=ar(e,doe);return j.createElement(soe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:uoe,tooltipPayloadSearcher:S1,categoricalChartProps:r,ref:t})}),foe=["axis"],_5=j.forwardRef((e,t)=>j.createElement(x5,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:foe,tooltipPayloadSearcher:S1,categoricalChartProps:e,ref:t}));const hoe=()=>{const e=we.currentUser;if(!e)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Not Authenticated"});const t=e.role===At.ADMIN,[r,n]=j.useState("All Time"),[a,s]=j.useState({from:"",to:""}),{data:l=[],isPending:d}=Cc(),{data:f=[],isPending:h}=kc(),{data:p=[],isPending:g}=Pc(),{data:y=[],isPending:v}=As(),{data:x=[]}=Cs(),S=d||h||g||v,_=j.useMemo(()=>l.filter(U=>o0(U.orderDate,r,a)),[l,r,a]),N=j.useMemo(()=>f.filter(U=>o0(U.billDate,r,a)),[f,r,a]),O=j.useMemo(()=>p.filter(U=>o0(U.date,r,a)),[p,r,a]),A=O.filter(U=>U.type==="Income"&&!!U.referenceId).reduce((U,ee)=>U+ee.amount,0),C=A>0?A:_.filter(U=>U.status===Le.COMPLETED).reduce((U,ee)=>U+ee.total,0),T=O.filter(U=>U.type==="Expense"&&U.category==="expense_purchases").reduce((U,ee)=>U+ee.amount,0),k=T>0?T:N.reduce((U,ee)=>U+ee.total,0),D=O.filter(U=>U.type==="Expense"&&U.category!=="expense_purchases").reduce((U,ee)=>U+ee.amount,0),M=C-k-D,L={total:_.length,processing:_.filter(U=>U.status===Le.PROCESSING).length,picked:_.filter(U=>U.status===Le.PICKED).length,completed:_.filter(U=>U.status===Le.COMPLETED).length};_.reduce((U,ee)=>U+(ee.total-ee.paidAmount),0),N.reduce((U,ee)=>U+(ee.total-ee.paidAmount),0);const G=l.filter(U=>U.createdBy===e.id).length,Q=new Date().toISOString().split("T")[0],K=l.filter(U=>U.createdBy===e.id&&U.orderDate===Q).length,J=l.filter(U=>U.createdBy===e.id&&U.status===Le.ON_HOLD).length,H=j.useMemo(()=>{const U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ee=new Date().getFullYear(),ue={};return U.forEach(ce=>{ue[ce]={income:0,expense:0}}),p.forEach(ce=>{const I=new Date(ce.date);if(I.getFullYear()!==ee)return;const V=I.getMonth(),me=U[V];ce.type==="Income"?ue[me].income+=ce.amount:ce.type==="Expense"&&(ue[me].expense+=ce.amount)}),U.map(ce=>({name:ce,income:ue[ce].income,expense:-ue[ce].expense,profit:ue[ce].income-ue[ce].expense}))},[l,f,p]),ie=j.useMemo(()=>{const U=new Map(x.map(pe=>[pe.id,pe.name])),ee={},ue={},ce=["#10B981","#3B82F6","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16"];let I=0;k>0&&(ee.Purchases=k,ue.Purchases=ce[I++]),O.filter(pe=>pe.type==="Expense"&&pe.category!=="expense_purchases").forEach(pe=>{const be=U.get(pe.category)||pe.category||"Uncategorized";ee[be]=(ee[be]||0)+pe.amount,ue[be]||(ue[be]=ce[I%ce.length],I++)});const me=Object.entries(ee).map(([pe,be])=>({name:pe,value:Math.max(be,1),color:ue[pe]}));return me.length>0?me:[{name:"No Data",value:1,color:"#D1D5DB"}]},[O,k,x]),B=y.map(U=>({name:U.name.split(" ")[0],orders:_.filter(ee=>ee.createdBy===U.id).length})).sort((U,ee)=>ee.orders-U.orders);return t?c.jsxs("div",{className:"space-y-6",children:[c.jsx(Qd,{isLoading:S,message:"Loading dashboard data..."}),c.jsx(mc,{filterRange:r,setFilterRange:n,customDates:a,setCustomDates:s}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(ea,{title:"Total Sales",value:ve(C),icon:ne.Sales,bgColor:"bg-blue-600",textColor:"text-white",iconBgColor:"bg-blue-700"}),c.jsx(ea,{title:"Total Purchases",value:ve(k),icon:ne.Briefcase,bgColor:"bg-purple-600",textColor:"text-white",iconBgColor:"bg-purple-700"}),c.jsx(ea,{title:"Other Expenses",value:ve(D),icon:ne.Delete,bgColor:"bg-amber-500",textColor:"text-white",iconBgColor:"bg-amber-600"}),c.jsx(ea,{title:"Total Profit",value:ve(M),icon:ne.Reports,isProfitCard:!0,profitValue:M}),c.jsx(ea,{title:"Total Orders",value:L.total,icon:ne.Dashboard,bgColor:"bg-indigo-700",textColor:"text-white",iconBgColor:"bg-indigo-800"}),c.jsx(ea,{title:"Processing Orders",value:L.processing,icon:ne.More,bgColor:"bg-sky-500",textColor:"text-white",iconBgColor:"bg-sky-600"}),c.jsx(ea,{title:"Picked Orders",value:L.picked,icon:ne.Courier,bgColor:"bg-cyan-500",textColor:"text-white",iconBgColor:"bg-cyan-600"}),c.jsx(ea,{title:"Completed Orders",value:L.completed,icon:ne.PlusCircle,bgColor:"bg-teal-600",textColor:"text-white",iconBgColor:"bg-teal-700"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsx("div",{children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Cash Flow"})}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-[#059669]"}),c.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Income"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),c.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Expense"})]})]})]}),c.jsx("div",{className:"h-[250px]",children:c.jsx(Zl,{width:"100%",height:"100%",children:c.jsxs(_5,{data:H,children:[c.jsx(Pd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(Dd,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(Md,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(ec,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f8fafc"}}),c.jsx(Eo,{dataKey:"income",fill:"#059669",radius:[4,4,0,0],barSize:40}),c.jsx(Eo,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],barSize:40}),c.jsx(z1,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"}})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("div",{className:"flex items-center justify-between mb-8",children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Profit & Loss Summary"})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg",children:[c.jsx("span",{className:"font-bold text-gray-600 text-sm",children:"Total Incomes"}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:ve(C)})]}),c.jsxs("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg",children:[c.jsx("span",{className:"font-bold text-gray-600 text-sm",children:"Total Expenses"}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:ve(k+D)})]}),c.jsxs("div",{className:`flex justify-between items-center p-6 rounded-xl shadow-xl text-white
                  ${M>=0?"bg-emerald-600 shadow-emerald-600/20":"bg-red-600 shadow-red-600/20"}
                `,children:[c.jsx("span",{className:"font-black uppercase tracking-widest text-sm",children:"Net Profit"}),c.jsx("span",{className:"font-black text-sm",children:ve(M)})]})]})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-8",children:"Expenses by Category"}),c.jsx("div",{className:"h-[300px]",children:c.jsx(Zl,{width:"100%",height:"100%",children:c.jsxs(S5,{children:[c.jsx(R1,{data:ie,innerRadius:0,outerRadius:100,dataKey:"value",children:ie.map((U,ee)=>c.jsx(Qo,{fill:U.color},`cell-${ee}`))}),c.jsx(ec,{}),c.jsx(ig,{verticalAlign:"middle",align:"right",layout:"vertical"})]})})})]})]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx(mc,{filterRange:r,setFilterRange:n,customDates:a,setCustomDates:s}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(ea,{title:"Total Created",value:G,icon:ne.Sales,bgColor:"bg-blue-600",textColor:"text-white",iconBgColor:"bg-blue-700"}),c.jsx(ea,{title:"Created Today",value:K,icon:ne.Dashboard,bgColor:"bg-teal-500",textColor:"text-white",iconBgColor:"bg-teal-600"}),c.jsx(ea,{title:"Pending (Hold)",value:J,icon:ne.More,bgColor:"bg-orange-500",textColor:"text-white",iconBgColor:"bg-orange-600"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Performance"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Comparing total orders across all employees"})]}),c.jsx("div",{className:"h-[400px]",children:c.jsx(Zl,{width:"100%",height:"100%",children:c.jsxs(w5,{data:B,children:[c.jsx(Pd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(Dd,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:700,fill:"#64748b"}}),c.jsx(Md,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:700,fill:"#64748b"}}),c.jsx(ec,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),c.jsx(Eo,{dataKey:"orders",fill:"#10B981",radius:[12,12,0,0]})]})})})]})]})},N5=({anchorEl:e,open:t,onClose:r,children:n,align:a="right"})=>{const[s,l]=j.useState(null);if(j.useEffect(()=>{if(!t||!e){l(null);return}const f=()=>{const h=e.getBoundingClientRect(),g=a==="right"?h.right-200:h.left,y=h.bottom+8;l({top:y,left:g})};return f(),window.addEventListener("resize",f),window.addEventListener("scroll",f,!0),()=>{window.removeEventListener("resize",f),window.removeEventListener("scroll",f,!0)}},[e,t,a]),j.useEffect(()=>{if(!t)return;const f=h=>{const p=h.target;if(!e||e.contains(p))return;const g=document.getElementById("portal-menu-root");g&&g.contains(p)||r()};return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[t,e,r]),!t||!s)return null;const d=c.jsx("div",{id:"portal-menu-root",className:"fixed left-0 top-0 z-[2000] pointer-events-none",children:c.jsx("div",{style:{position:"fixed",top:s.top,left:s.left},className:"pointer-events-auto w-48 bg-white border border-gray-100 rounded-lg shadow-2xl py-2",children:n})});return xp.createPortal(d,document.body)},yp=(e,t)=>{t(`/print-order/${e}`)},moe=()=>{setTimeout(()=>{window.print()},100)},poe=()=>{const e=mt(),t=$e(),r=Mr(),{searchQuery:n}=Da(),a=we.currentUser,s=(a==null?void 0:a.role)===At.ADMIN,l=(a==null?void 0:a.role)===At.EMPLOYEE,[d,f]=j.useState("All Time"),[h,p]=j.useState({from:"",to:""}),[g,y]=j.useState("All"),[v,x]=j.useState(null),[S,_]=j.useState(null),[N,O]=j.useState(null),[A,C]=j.useState(null),[T,k]=j.useState(null),[D,M]=j.useState(null),[L,G]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:0}),{data:Q=[],isPending:K}=Cc(),{data:J=[]}=Uo(),{data:H=[]}=Es(),{data:ie=[]}=As(),{data:B}=Rp();Lp();const U=j9(),ee=Hd(),ue=Gd(),ce=Vd(),I=j.useMemo(()=>new Map(ie.map(te=>[te.id,te])),[ie]),V=te=>{if(d==="All Time")return!0;const R=new Date(te),de=new Date;if(d==="Today")return R.toDateString()===de.toDateString();if(d==="This Week"){const ge=de.getDate()-de.getDay(),se=new Date(new Date().setDate(ge)),Me=new Date(new Date().setDate(ge+6));return R>=se&&R<=Me}return d==="This Month"?R.getMonth()===de.getMonth()&&R.getFullYear()===de.getFullYear():d==="This Year"?R.getFullYear()===de.getFullYear():d==="Custom"?!h.from||!h.to?!0:R>=new Date(h.from)&&R<=new Date(h.to):!0},me=te=>{var R,de;if((R=te.createdBy)!=null&&R.trim()){const ge=I.get(te.createdBy);if(ge!=null&&ge.name)return ge.name}if((de=te.history)!=null&&de.created){const ge=te.history.created.match(/^(.+?)\s+created this order on/);if(ge&&ge[1])return ge[1]}return null},pe=j.useMemo(()=>{let te=Q.filter(R=>V(R.orderDate)).filter(R=>g==="All"||R.status===g);if(n.trim()){const R=n.toLowerCase();te=te.filter(de=>{const ge=J.find(Me=>Me.id===de.customerId),se=me(de);return de.orderNumber.toLowerCase().includes(R)||(ge==null?void 0:ge.name.toLowerCase().includes(R))||(ge==null?void 0:ge.phone.includes(R))||(se==null?void 0:se.toLowerCase().includes(R))})}return te},[Q,d,h,g,n,J]),be=async te=>{if(confirm("Are you sure you want to delete this order?"))try{await U.mutateAsync(te),t.invalidateQueries({queryKey:["orders"]})}catch(R){console.error("Failed to delete order",R)}},ke=te=>{G({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:te.total-te.paidAmount}),C(te)},Ae=async()=>{if(!A)return;const te=A;try{let R=H.find(ir=>ir.id===L.accountId);if(!R){if(!L.accountId){r.error("Please select an account");return}R={id:L.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const de=L.amount<te.total,[ge,se]=L.time.split(":").map(Number),Me=new Date(L.date);Me.setHours(ge,se,0,0);const Ce=Me.toISOString(),He={date:Ce,type:"Income",category:we.settings.defaults.incomeCategoryId||"income_sales",accountId:L.accountId,amount:te.total,description:`Payment for Order #${te.orderNumber}`,referenceId:te.id,contactId:te.customerId,paymentMethod:we.settings.defaults.paymentMethod||"Cash",createdBy:a.id};if(de){const ir=te.total-L.amount,oe={date:Ce,type:"Expense",category:"expense_shipping",accountId:L.accountId,amount:ir,description:`Shipping costs for Order #${te.orderNumber}`,paymentMethod:we.settings.defaults.paymentMethod||"Cash",createdBy:a.id};await Promise.all([ue.mutateAsync(He),ue.mutateAsync(oe)])}else await ue.mutateAsync(He);const et=L.amount,Yt=(te.paidAmount??0)+L.amount,Rr=Le.COMPLETED;await Promise.all([ce.mutateAsync({id:R.id,updates:{currentBalance:(R.currentBalance??0)+et}}),ee.mutateAsync({id:te.id,updates:{paidAmount:Yt,status:Rr}})]),C(null),t.invalidateQueries({queryKey:["orders"]})}catch(R){console.error("Failed to add payment:",R),r.error("Failed to add payment: "+(R instanceof Error?R.message:"Unknown error"))}};return c.jsxs("div",{className:"space-y-6 pb-12",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:"Orders"})}),c.jsx(Qe,{onClick:()=>e("/orders/new"),variant:"primary",size:"md",icon:ne.Plus,children:"New Order"})]}),c.jsx(mc,{title:"Orders",filterRange:d,setFilterRange:f,customDates:h,setCustomDates:p,statusTab:g,setStatusTab:y,statusOptions:Object.values(Le)}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-visible",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Order Details"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Customer"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Created By"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Status"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] text-right",children:"Net Amount"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] sm:hidden",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:K?c.jsx(Tp,{columns:6,rows:8}):pe.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:"No sales orders found for this period."})}):pe.map(te=>{var ge,se,Me,Ce,He,et,Yt,Rr;const R=s||te.status===Le.ON_HOLD,de=te.createdBy===(a==null?void 0:a.id);return c.jsxs("tr",{onMouseEnter:()=>x(te.id),onMouseLeave:()=>x(null),onClick:()=>e(`/orders/${te.id}`),className:"group relative hover:bg-[#ebf4ff]/20 cursor-pointer transition-all",children:[c.jsxs("td",{className:"px-6 py-5",children:[c.jsxs("span",{className:"font-black text-gray-900",children:["#",te.orderNumber]}),c.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-1 tracking-tight",children:new Date(te.orderDate).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})})]}),c.jsxs("td",{className:"px-6 py-5",children:[c.jsx("span",{className:"text-sm font-bold text-gray-700",children:((ge=J.find(ir=>ir.id===te.customerId))==null?void 0:ge.name)||"Unknown"}),c.jsx("p",{className:"text-[10px] text-gray-400 font-medium mt-0.5",children:(se=J.find(ir=>ir.id===te.customerId))==null?void 0:se.phone})]}),c.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500",children:me(te)||""}),c.jsxs("td",{className:"px-6 py-5",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${Op(te.status)}`,children:te.status}),te.status!==Le.COMPLETED&&((Ce=(Me=te.history)==null?void 0:Me.courier)==null?void 0:Ce.includes("Steadfast"))&&c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"inline-block w-5 h-5 rounded-full ml-2"}),te.status!==Le.COMPLETED&&((et=(He=te.history)==null?void 0:He.courier)==null?void 0:et.includes("CarryBee"))&&c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"inline-block w-5 h-5 rounded-full ml-2"})]}),c.jsxs("td",{className:"px-6 py-5 text-right",children:[c.jsx("span",{className:"font-black text-gray-900 text-base",children:ve(te.total)}),te.paidAmount>0&&c.jsx("p",{className:"text-[10px] font-black uppercase tracking-tighter mt-1 text-green-500",children:`Paid: ${ve(te.paidAmount)}`})]}),c.jsx("td",{className:"px-6 py-5 sm:hidden relative z-[999]",onClick:ir=>ir.stopPropagation(),children:c.jsxs("div",{className:"relative z-[999]",children:[c.jsx("button",{onClick:ir=>{const oe=ir.currentTarget;S===te.id?(_(null),O(null)):(_(te.id),O(oe))},className:"p-2 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg transition-all",children:ne.More}),c.jsx(N5,{anchorEl:N,open:S===te.id,onClose:()=>{_(null),O(null)},children:l?de?c.jsxs("button",{onClick:()=>{e(`/orders/edit/${te.id}`),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ne.Edit," Edit"]}):c.jsxs("button",{disabled:!0,className:"w-full text-left px-4 py-2.5 text-sm text-gray-400 flex items-center gap-2 font-bold",children:[ne.More," No Actions"]}):c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{e(`/orders/edit/${te.id}`),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ne.Edit," Edit"]}),te.status!==Le.COMPLETED&&c.jsxs("button",{onClick:()=>{ke(te),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ne.Banking," Payment"]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{yp(te.id,e),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ne.Print," Print"]}),c.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ne.Download," Download"]}),te.status!==Le.PICKED&&te.status!==Le.COMPLETED&&te.status!==Le.CANCELLED&&te.status!==Le.ON_HOLD&&!((Yt=te.history)!=null&&Yt.courier)&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{k(te.id),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-[#0f2f57]",children:[c.jsx("img",{src:"../uploads/steadfast.png",alt:"Steadfast",className:"w-5 h-5 rounded-full"})," ",c.jsx("span",{children:"Add to Steadfast"})]}),c.jsxs("button",{onClick:()=>{M(te.id),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-[#0f2f57]",children:[c.jsx("img",{src:"../uploads/carrybee.png",alt:"CarryBee",className:"w-5 h-5 rounded-full"})," ",c.jsx("span",{children:"Add to CarryBee"})]})]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{be(te.id),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[ne.Delete," Delete"]})]})})]})}),v===te.id&&(s||l&&de)&&c.jsx("td",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-10 animate-in fade-in slide-in-from-right-2 duration-200 hidden sm:table-cell",onClick:ir=>ir.stopPropagation(),children:c.jsx("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-[#ebf4ff]",children:l?de?c.jsx("button",{onClick:()=>e(`/orders/edit/${te.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:ne.Edit}):null:c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>e(`/orders/edit/${te.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:ne.Edit}),te.status!==Le.COMPLETED&&c.jsx("button",{onClick:()=>ke(te),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Add Payment",children:ne.Banking}),c.jsx("button",{onClick:()=>yp(te.id,e),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Print",children:ne.Print}),c.jsx("button",{className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Download PDF",children:ne.Download}),te.status!==Le.PICKED&&te.status!==Le.COMPLETED&&te.status!==Le.CANCELLED&&te.status!==Le.ON_HOLD&&!((Rr=te.history)!=null&&Rr.courier)&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"}),c.jsx("button",{onClick:()=>k(te.id),className:"px-1 py-1 text-[9px] font-black hover:bg-[#ebf4ff] rounded-lg",title:"Send to Steadfast",children:c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-6 h-6 rounded-full"})}),c.jsx("button",{onClick:()=>M(te.id),className:"px-1 py-1 text-[9px] font-black hover:bg-orange-50 rounded-lg",title:"Send to CarryBee",children:c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-6 h-6 rounded-full"})}),c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"})]}),R&&c.jsx("button",{onClick:()=>be(te.id),className:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:ne.Delete})]})})})]},te.id)})})]})})}),c.jsx(Lw,{isOpen:!!A,onClose:()=>C(null),onSubmit:Ae,accounts:H,paymentForm:L,setPaymentForm:G,isLoading:ue.isPending||ce.isPending||ee.isPending,title:"Receive Payment",buttonText:"Add Payment"}),c.jsx(xD,{isOpen:!!T,onClose:()=>k(null),order:T?Q.find(te=>te.id===T):null,customer:T?J.find(te=>{var R;return te.id===((R=Q.find(de=>de.id===T))==null?void 0:R.customerId)}):null}),c.jsx(wD,{isOpen:!!D,onClose:()=>M(null),order:D?Q.find(te=>te.id===D):null,customer:D?J.find(te=>{var R;return te.id===((R=Q.find(de=>de.id===D))==null?void 0:R.customerId)}):null})]})},KP=()=>{const{id:e}=Cn(),t=mt(),r=we.currentUser;r==null||r.role,At.ADMIN;const n=(r==null?void 0:r.role)===At.EMPLOYEE,a=!!e;if(!r)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(Qe,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});const{data:s=[]}=Uo(),{data:l=[]}=Dc(),{data:d}=Bw(a?e:void 0),{data:f}=Rp(),h=Lp(),p=Hd(),g=Mr(),[y,v]=j.useState(""),[x,S]=j.useState(new Date().toISOString().split("T")[0]),[_,N]=j.useState(""),[O,A]=j.useState([]),[C,T]=j.useState(0),[k,D]=j.useState(0),[M,L]=j.useState(""),[G,Q]=j.useState(!1),[K,J]=j.useState(""),[H,ie]=j.useState(!1),[B,U]=j.useState(""),[ee,ue]=j.useState(!1),[ce,I]=j.useState(null);xr.useEffect(()=>{if(d){if(a&&n){if(d.createdBy!==r.id){g.error("Access Denied: you can only edit orders you created."),t("/orders");return}if(d.status!==Le.ON_HOLD){g.warning('Employees can only edit orders that are currently "On Hold".'),t("/orders");return}}v(d.customerId),S(d.orderDate),N(d.orderNumber),A(d.items),T(d.discount),D(d.shipping),L(d.notes||"")}else!a&&f&&N(`${f.prefix}${f.nextNumber}`)},[d,a,n,f,t,g,r==null?void 0:r.id]);const V=O.reduce((R,de)=>R+de.amount,0),me=V-C+k,pe=R=>{const de=l.find(se=>se.id===R);if(!de)return;const ge={productId:de.id,productName:de.name,rate:de.salePrice,quantity:1,amount:de.salePrice};A([...O,ge]),Q(!1),J("")},be=(R,de)=>{const ge=[...O];ge[R].quantity=Math.max(1,de),ge[R].amount=ge[R].rate*ge[R].quantity,A(ge)},ke=R=>{A(O.filter((de,ge)=>ge!==R))},Ae=async()=>{if(!y||O.length===0||!_){const R=y?O.length?"Order number is not set. Please wait for it to load.":"Please add at least one product.":"Please select a customer.";I(R),g.error(R);return}if(!(r!=null&&r.id)){g.error("User session expired. Please log in again."),I("User session expired. Please log in again.");return}ue(!0),I(null);try{const R=O.reduce((He,et)=>He+et.amount,0),de=R-C+k,ge=new Date,se=ge.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),Me=ge.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),Ce={orderNumber:_,orderDate:x,customerId:y,createdBy:r.id,status:a&&d?d.status:Le.ON_HOLD,items:O,subtotal:R,discount:C,shipping:k,total:de,notes:M,paidAmount:a&&d?d.paidAmount:0,history:a&&d?d.history:{created:`${r.name} created this order on ${se}, at ${Me}`}};a?(await p.mutateAsync({id:e,updates:Ce}),g.success("Order updated successfully"),t("/orders")):h.mutateAsync(Ce).then(He=>{ue(!1),g.success("Order created successfully"),t(`/orders/${He.id}`)},He=>{ue(!1);const et=He instanceof Error?He.message:"Failed to save order";I(et),g.error(et)})}catch(R){console.error("Failed to save order:",R);const de=R instanceof Error?R.message:"Failed to save order";I(de),g.error(de),ue(!1)}},te=s.find(R=>R.id===y);return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a?"Edit Order":"New Order"}),c.jsx("button",{onClick:()=>t("/orders"),className:"text-gray-500 hover:text-gray-700 font-medium text-sm px-4 py-2 border border-gray-200 rounded-lg bg-white transition-all",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-1 relative md:col-span-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Select Customer"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>ie(!H),className:"w-full text-left px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl hover:bg-white focus:ring-2 focus:ring-[#3c5a82] transition-all flex justify-between items-center group",children:[te?c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("span",{className:"font-bold block text-sm text-gray-900",children:te.name}),c.jsx("p",{className:"text-[10px] text-gray-500 leading-none mt-0.5",children:te.phone}),c.jsx("p",{className:"text-[10px] ${theme.colors.primary[600]} italic truncate mt-1",children:te.address})]}):c.jsx("span",{className:"text-gray-400 text-sm",children:"Select Customer..."}),c.jsx("div",{className:`transition-transform duration-200 ${H?"rotate-90":""}`,children:ne.ChevronRight})]}),H&&c.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full max-w-xs bg-white border border-gray-200 shadow-2xl rounded-lg z-[110] p-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ne.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search name or phone...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:B,onChange:R=>U(R.target.value)})]}),c.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-0.5 custom-scrollbar",children:s.filter(R=>R.name.toLowerCase().includes(B.toLowerCase())||R.phone.includes(B)).map(R=>c.jsxs("button",{onClick:()=>{v(R.id),ie(!1),U("")},className:"w-full px-4 py-2.5 text-left hover:bg-[#ebf4ff] rounded-lg group transition-colors",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.primary[700]}",children:R.name}),c.jsx("p",{className:"text-[10px] text-gray-400 group-hover:${theme.colors.primary[600]}/60",children:R.phone})]},R.id))}),c.jsx("button",{onClick:()=>{ie(!1),t("/customers/new")},className:"w-full mt-2 py-3 ${theme.colors.primary[600]} text-[10px] font-black uppercase tracking-widest border-t border-gray-50 hover:bg-[#ebf4ff] transition-colors",children:"+ Add New Customer"})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Date"}),c.jsx("input",{type:"date",value:x,onChange:R=>S(R.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] focus:bg-white transition-all cursor-pointer font-bold text-sm"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Number"}),c.jsx("input",{type:"text",readOnly:!0,value:_,placeholder:f?"Order number":"Loading...",className:"w-full px-4 py-3 bg-gray-100 border border-gray-100 rounded-xl font-mono ${theme.colors.primary[700]} text-sm font-bold"})]})]}),c.jsx("div",{className:"border border-gray-100 rounded-lg overflow-visible bg-white",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Product Item"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Rate"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Qty"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),c.jsx("th",{className:"px-4 py-4"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-50",children:[O.map((R,de)=>{var ge,se;return c.jsxs("tr",{className:"group hover:bg-gray-50/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[((ge=l.find(Me=>Me.id===R.productId))==null?void 0:ge.image)&&c.jsx("img",{src:(se=l.find(Me=>Me.id===R.productId))==null?void 0:se.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-800 text-sm",children:R.productName})]})}),c.jsx("td",{className:"px-4 py-4 text-center text-sm font-bold text-gray-600",children:ve(R.rate)}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsx("input",{type:"number",value:R.quantity,onChange:Me=>be(de,parseInt(Me.target.value)),className:"w-16 text-center py-2 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold outline-none"})}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 text-sm",children:ve(R.amount)}),c.jsx("td",{className:"px-4 py-4 text-right",children:c.jsx("button",{onClick:()=>ke(de),className:"p-2 text-red-200 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:ne.Delete})})]},de)}),c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-5 relative",children:c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>Q(!G),className:"flex items-center gap-2 ${theme.colors.primary[600]} font-black text-[10px] uppercase tracking-widest hover:bg-[#ebf4ff] px-4 py-2.5 rounded-xl border-2 border-dashed border-[#c7dff5] transition-all",children:[ne.Plus," Add an item"]}),G&&c.jsxs("div",{className:"absolute top-full left-0 mt-3 w-full max-w-md bg-white border border-gray-200 shadow-2xl rounded-lg z-[100] p-2 overflow-hidden animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ne.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search catalog...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:K,onChange:R=>J(R.target.value)})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto space-y-0.5 custom-scrollbar",children:l.filter(R=>R.name.toLowerCase().includes(K.toLowerCase())).map(R=>c.jsxs("button",{onClick:()=>pe(R.id),className:"flex items-center gap-4 w-full px-4 py-3 text-left hover:bg-[#ebf4ff] rounded-xl group transition-all",children:[R.image&&c.jsx("img",{src:R.image,className:"w-10 h-10 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.primary[700]} truncate",children:R.name}),c.jsx("p",{className:"text-[10px] font-bold ${theme.colors.primary[600]}/60 uppercase tracking-widest",children:ve(R.salePrice)})]})]},R.id))})]})]})})})]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-12 pt-6",children:[c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Notes / Terms"}),c.jsx("textarea",{placeholder:"Internal notes or special instructions for this order...",value:M,onChange:R=>L(R.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-100 rounded-lg h-32 focus:ring-2 focus:ring-[#3c5a82] focus:bg-white outline-none font-medium text-sm transition-all"})]}),c.jsxs("div",{className:"w-full md:w-96 space-y-4 bg-gray-50/50 p-8 rounded-lg border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-[12px] font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Subtotal"}),c.jsx("span",{className:"text-gray-900 font-black",children:ve(V)})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-[12px] font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Discount"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-gray-500 font-black",children:""}),c.jsx("input",{type:"number",value:C,onChange:R=>T(parseFloat(R.target.value)||0),className:"w-20 text-right py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]})]}),c.jsxs("div",{className:"pt-6 border-t-4 border-[#c7dff5] flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-black text-gray-900 uppercase tracking-tighter",children:"Total"}),c.jsx("span",{className:"text-sm font-black text-[#3c5a82]",children:ve(me)})]}),ce&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:ce})}),c.jsx(Qe,{onClick:Ae,variant:"primary",size:"lg",className:"w-full mt-4",disabled:ee,loading:ee,children:a?"Update Order":"Create Order"})]})]})]})]})},goe=()=>{var V,me,pe,be,ke,Ae;const{id:e}=Cn(),t=mt(),r=$e(),n=Mr(),a=we.currentUser,s=a.role===At.ADMIN,{data:l,isPending:d,error:f}=Bw(e||""),{data:h=[]}=Uo(),{data:p=[]}=As(),{data:g=[]}=Dc(),{data:y=[]}=Es(),{data:v}=Mp(),{data:x}=Ip(),S=Hd();Lp();const _=Gd(),N=Vd(),[O,A]=j.useState(!1),[C,T]=j.useState(!1),[k,D]=j.useState(!1),[M,L]=j.useState({date:new Date().toISOString().split("T")[0],accountId:we.settings.defaults.accountId||"",amount:0}),[G,Q]=j.useState(!1),K=l?h.find(te=>te.id===l.customerId):void 0,J=l?p.find(te=>te.id===l.createdBy):void 0,H=a.role===At.EMPLOYEE,ie=l?l.createdBy===a.id:!1,B=d;if(B)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading order..."});if(f||!l)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(f==null?void 0:f.message)||"Order not found."});const U=async(te,R,de)=>{if(l)try{const ge={...l,status:te,history:R?{...l.history,[R]:de}:l.history};await S.mutateAsync({id:e,updates:ge}),r.invalidateQueries({queryKey:["order",e]}),Q(!1)}catch(ge){console.error("Failed to update order status:",ge),n.error("Failed to update order status")}},ee=async()=>{const te=`Marked as processing by ${a.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await U(Le.PROCESSING,"processing",te)},ue=async()=>{const te=`Marked as picked by courier, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await U(Le.PICKED,"picked",te)},ce=async()=>{let te=y.find(Ce=>Ce.id===M.accountId);if(!te){if(!M.accountId){n.error("Please select an account");return}te={id:M.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const R=l.paidAmount+M.amount;new Date(M.date);const de=`Payment of ${ve(M.amount)} received by ${a.name} on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`,ge=M.amount<l.total,se=Le.COMPLETED,Me={...l,paidAmount:R,status:se,history:{...l.history,payment:de}};try{const Ce={id:Math.random().toString(36).substr(2,9),date:M.date,type:"Income",category:we.settings.defaults.incomeCategoryId||"income_sales",accountId:M.accountId,amount:l.total,description:`Payment for Order #${l.orderNumber}`,referenceId:l.id,contactId:l.customerId,paymentMethod:we.settings.defaults.paymentMethod||"Cash",createdBy:a.id};if(await _.mutateAsync(Ce),ge){const Yt=l.total-M.amount,Rr={id:Math.random().toString(36).substr(2,9),date:M.date,type:"Expense",category:"expense_shipping",accountId:M.accountId,amount:Yt,description:`Shipping costs for Order #${l.orderNumber}`,paymentMethod:we.settings.defaults.paymentMethod||"Cash",createdBy:a.id};await _.mutateAsync(Rr)}const He=M.amount,et=await Promise.allSettled([S.mutateAsync({id:e,updates:Me}),N.mutateAsync({id:M.accountId,updates:{currentBalance:te.currentBalance+He}})]);if(et[0].status==="rejected"||et[1].status==="rejected"){const Yt=et[0].status==="rejected"?"failed":"succeeded",Rr=et[1].status==="rejected"?"failed":"succeeded";throw new Error(`Payment update failed: Order update ${Yt}, Account update ${Rr}`)}r.invalidateQueries({queryKey:["order",e]}),r.invalidateQueries({queryKey:["orders"]}),A(!1),n.success("Payment recorded successfully")}catch(Ce){console.error("Failed to record payment:",Ce),n.error("Failed to record payment")}},I=()=>{L({date:new Date().toISOString().split("T")[0],accountId:"",amount:l.total-l.paidAmount}),A(!0)};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsx(Qd,{isLoading:B&&!l,message:"Loading order details..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/orders"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500 transition-all",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-md md:text-2xl font-bold text-gray-900",children:l.orderNumber}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${Op(l.status)}`,children:l.status}),l.status!==Le.COMPLETED&&((me=(V=l.history)==null?void 0:V.courier)==null?void 0:me.includes("Steadfast"))&&c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-6 h-6 rounded-full"}),l.status!==Le.COMPLETED&&((be=(pe=l.history)==null?void 0:pe.courier)==null?void 0:be.includes("CarryBee"))&&c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-6 h-6 rounded-full"})]}),c.jsxs("div",{className:"flex items-center gap-2 relative",children:[c.jsxs("button",{onClick:()=>yp(e,t),className:"hidden md:flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg bg-white hover:bg-gray-50 transition-all shadow-sm",children:[ne.Print," Print"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>Q(!G),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg ${ae.colors.primary[600]} text-white hover:${ae.colors.primary[700]} transition-all shadow-md`,children:[ne.More," ",c.jsx("span",{className:"hidden md:inline",children:"Actions"})]}),G&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>Q(!1)}),c.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-100 rounded-xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in duration-150 origin-top-right",children:[c.jsxs("button",{onClick:()=>{yp(e,t),Q(!1)},className:"md:hidden w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ne.Print," Print"]}),c.jsx("div",{className:"md:hidden border-t my-1"}),(s||ie||H&&l.status===Le.ON_HOLD)&&c.jsxs("button",{onClick:()=>t(`/orders/edit/${l.id}`),className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ne.Edit," Edit Order"]}),s&&l.status!==Le.COMPLETED&&c.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",onClick:I,children:[ne.Banking," Add Payment"]}),c.jsx("div",{className:"border-t my-1"}),s&&c.jsxs("button",{onClick:()=>U(Le.CANCELLED),disabled:l.status===Le.COMPLETED,className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 disabled:hover:bg-gray-50 flex items-center gap-2 text-red-500 font-bold disabled:text-gray-300 disabled:cursor-not-allowed",children:[ne.Delete," Cancel Order"]})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[c.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden",children:c.jsxs("div",{className:"p-3 sm:p-4 md:p-6 lg:p-10 space-y-3 sm:space-y-4 lg:space-y-5",children:[c.jsxs("div",{className:"flex flex-row justify-between items-start gap-3 sm:gap-4 lg:gap-6",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[((v==null?void 0:v.logo)||we.settings.company.logo)&&c.jsx("img",{src:(v==null?void 0:v.logo)||we.settings.company.logo,className:"rounded-lg object-cover mb-2 sm:mb-3 lg:mb-4 w-auto h-auto",style:{maxWidth:"min(100px, 20%)",maxHeight:"auto"}}),c.jsx("h1",{className:"text-sm sm:text-base lg:text-xl font-black text-blue-600 uppercase tracking-tighter break-words",children:(v==null?void 0:v.name)||we.settings.company.name}),c.jsxs("div",{className:"mt-1 sm:mt-2 text-[9px] sm:text-[10px] lg:text-xs text-gray-400 font-medium space-y-0.5 sm:space-y-1",children:[c.jsx("p",{className:"break-words",children:(v==null?void 0:v.address)||we.settings.company.address}),c.jsxs("p",{className:"text-[8px] sm:text-[9px] break-words",children:[(v==null?void 0:v.phone)||we.settings.company.phone,"  ",(v==null?void 0:v.email)||we.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right flex-shrink-0",children:[c.jsx("h2",{className:"text-sm sm:text-2xl lg:text-3xl font-black text-gray-300 uppercase leading-none mb-1 sm:mb-2 break-words",children:(x==null?void 0:x.title)||we.settings.invoice.title}),c.jsxs("div",{className:"space-y-0.5 sm:space-y-1 lg:space-y-1.5 text-[9px] sm:text-sm",children:[c.jsxs("p",{className:"text-[9px] sm:text-xs lg:text-sm font-bold text-gray-900",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Order No:"})," ",c.jsx("span",{className:"break-all",children:l.orderNumber})]}),c.jsxs("p",{className:"text-[9px] sm:text-xs lg:text-sm font-bold text-gray-900",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Date:"})," ",l.orderDate]})]})]})]}),c.jsxs("div",{className:"border-t border-gray-100 py-2 sm:py-3 lg:py-4",children:[c.jsx("p",{className:"text-[8px] sm:text-[9px] lg:text-[10px] font-black text-gray-400 uppercase tracking-[0.15em] sm:tracking-[0.2em] mb-2 sm:mb-3 lg:mb-4",children:"Billed To"}),c.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-black text-gray-900 break-words",children:K==null?void 0:K.name}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm text-gray-500 leading-relaxed break-words",children:K==null?void 0:K.address}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm font-bold text-cyan-600 mt-1 sm:mt-1.5 lg:mt-2 break-words",children:K==null?void 0:K.phone})]}),c.jsx("div",{className:"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6 lg:-mx-10",children:c.jsx("div",{className:"px-3 sm:px-4 md:px-6 lg:px-10",children:c.jsxs("table",{className:"w-full text-left text-[10px] sm:text-xs lg:text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100",children:[c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 font-black text-gray-400 uppercase",children:"Item Description"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Rate"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Qty"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-right font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:l.items.map((te,R)=>{const de=g.find(ge=>ge.id===te.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-3 sm:py-4 lg:py-6",children:c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 min-w-0",children:[c.jsx("img",{src:de==null?void 0:de.image,className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 rounded-full object-cover border border-gray-100 shadow-sm flex-shrink-0"}),c.jsx("span",{className:"font-bold text-gray-900 text-[10px] sm:text-xs lg:text-base break-words",children:te.productName})]})}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:ve(te.rate)}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:te.quantity}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-right font-black text-gray-900 px-1 whitespace-nowrap",children:ve(te.amount)})]},R)})})]})})}),c.jsx("div",{className:"flex flex-col items-end pt-2 sm:pt-3 lg:pt-6 px-0",children:c.jsxs("div",{className:"w-full sm:w-full md:w-98 lg:max-w-xs space-y-2 sm:space-y-3 lg:space-y-4",children:[c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:ve(l.subtotal)})]}),l.discount>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500 flex-shrink-0",children:["-",ve(l.discount)]})]}),l.shipping>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:ve(l.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 sm:py-3 lg:py-4 border-t-2 border-[#0f2f57] gap-2",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter text-[11px] sm:text-xs lg:text-sm flex-shrink-0",children:"Net Total"}),c.jsx("span",{className:"font-black text-sm sm:text-base lg:text-lg flex-shrink-0",children:ve(l.total)})]})]})}),l.notes&&c.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-[10px] border border-gray-100",children:[c.jsx("p",{className:"text-[8px] sm:text-[9px] lg:text-[10px] font-black text-gray-300 uppercase tracking-widest mb-1 sm:mb-2",children:"Terms & Notes"}),c.jsx("p",{className:"text-[9px] sm:text-[10px] lg:text-xs text-gray-600 font-medium italic leading-relaxed",children:l.notes})]})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"1. Creation"}),c.jsx("div",{className:"p-1 bg-[#ebf4ff]0 text-white rounded-full",children:ne.Plus})]}),c.jsx("div",{className:"p-5",children:c.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:l.history.created||`Created by ${(J==null?void 0:J.name)||"Unknown"} on ${l.orderDate}`})})]}),(ke=l.history)!=null&&ke.processing||!H?c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"2. Processing"}),c.jsx("div",{className:`p-1 rounded-full ${l.history.processing?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:ne.ChevronRight})]}),c.jsxs("div",{className:"p-5 space-y-4",children:[l.history.processing?c.jsx("p",{className:"text-xs ${theme.colors.primary[600]} leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:l.history.processing}):!H&&c.jsx("button",{disabled:l.status!==Le.ON_HOLD,onClick:ee,className:`w-full py-3 ${ae.colors.secondary[600]} hover:${ae.colors.secondary[700]} disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Mark as Processing"}),l.history.courier?c.jsx("p",{className:"text-xs text-gray-700 leading-relaxed font-bold bg-gray-50 p-3 rounded-xl",children:l.history.courier}):!H&&l.status!==Le.PICKED&&l.status!==Le.COMPLETED&&l.status!==Le.CANCELLED&&l.status!==Le.ON_HOLD&&!((Ae=l.history)!=null&&Ae.courier)&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>T(!0),className:"w-full py-3 bg-[#0f2f57] hover:bg-[#0a1f38] text-white font-bold rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:[c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-5 h-5 rounded-full"})," Add to Steadfast"]}),c.jsxs("button",{onClick:()=>D(!0),className:"w-full py-3 bg-[#0f2f57] hover:bg-[#0a1f38] text-white font-bold rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:[c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-5 h-5 rounded-full"})," Add to CarryBee"]})]})]})]}):null,l.history.picked||!H?c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"3. Courier Picked"}),c.jsx("div",{className:`p-1 rounded-full ${l.history.picked?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:ne.Courier})]}),c.jsx("div",{className:"p-5",children:l.history.picked?c.jsx("p",{className:"text-xs text-purple-600 leading-relaxed font-bold bg-purple-50 p-3 rounded-xl",children:l.history.picked}):!H&&c.jsx("button",{disabled:l.status!==Le.PROCESSING,onClick:ue,className:"w-full py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95",children:"Mark as Picked"})})]}):null,l.history.payment||!H?c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"4. Payment"}),c.jsx("div",{className:`p-1 rounded-full ${l.paidAmount>=l.total?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:ne.Banking})]}),c.jsx("div",{className:"p-5 space-y-3",children:l.history.payment?c.jsx("div",{className:"space-y-2",children:c.jsx("p",{className:"text-xs ${theme.colors.primary[600]} leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:l.history.payment})}):!H&&c.jsxs("div",{className:"space-y-4 text-center",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Amount Due"}),c.jsx("p",{className:"text-2xl font-black text-gray-900",children:ve(l.total-l.paidAmount)})]}),c.jsx("button",{onClick:I,className:`w-full py-3 ${ae.colors.primary[600]} hover:${ae.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Add Payment"})]})})]}):null]})]}),c.jsx(Lw,{isOpen:O,onClose:()=>A(!1),onSubmit:ce,accounts:y,paymentForm:M,setPaymentForm:L,isLoading:S.isPending||_.isPending||N.isPending,title:"Record Payment",buttonText:"Add Payment"}),c.jsx(xD,{isOpen:C,onClose:()=>T(!1),order:l,customer:K}),c.jsx(wD,{isOpen:k,onClose:()=>D(!1),order:l,customer:K})]})},yoe=()=>{const e=mt(),t=$e(),r=Mr(),{searchQuery:n}=Da(),a=we.currentUser,{data:s=[],isPending:l}=kc(),{data:d=[]}=Tc(),{data:f=[]}=As(),[h,p]=j.useState("All Time"),[g,y]=j.useState({from:"",to:""}),[v,x]=j.useState("All"),[S,_]=j.useState(null),[N,O]=j.useState(null),[A,C]=j.useState(null),T=yD(),k=S9(),D=j.useMemo(()=>new Map(f.map(J=>[J.id,J])),[f]),M=J=>{if(h==="All Time")return!0;const H=new Date(J),ie=new Date;if(h==="Today")return H.toDateString()===ie.toDateString();if(h==="This Week"){const B=ie.getDate()-ie.getDay(),U=new Date(new Date().setDate(B)),ee=new Date(new Date().setDate(B+6));return H>=U&&H<=ee}return h==="This Month"?H.getMonth()===ie.getMonth()&&H.getFullYear()===ie.getFullYear():h==="This Year"?H.getFullYear()===ie.getFullYear():h==="Custom"?!g.from||!g.to?!0:H>=new Date(g.from)&&H<=new Date(g.to):!0},L=J=>{var H,ie;if((H=J.createdBy)!=null&&H.trim()){const B=D.get(J.createdBy);if(B!=null&&B.name)return B.name}if((ie=J.history)!=null&&ie.created){const B=J.history.created.match(/Created by\s+(.+?)\s+on/);if(B&&B[1])return B[1]}return null},G=j.useMemo(()=>{let J=s.filter(H=>M(H.billDate)).filter(H=>v==="All"||H.status===v);if(n.trim()){const H=n.toLowerCase();J=J.filter(ie=>{const B=d.find(ee=>ee.id===ie.vendorId),U=L(ie);return ie.billNumber.toLowerCase().includes(H)||(B==null?void 0:B.name.toLowerCase().includes(H))||ie.status.toLowerCase().includes(H)||(U==null?void 0:U.toLowerCase().includes(H))})}return J},[s,h,g,v,n,d]),Q=async J=>{try{const H=new Date,ie=H.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),B=H.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),U={billNumber:`PUR-${Math.floor(1e3+Math.random()*9e3)}`,billDate:new Date().toISOString().split("T")[0],vendorId:J.vendorId,createdBy:(a==null?void 0:a.id)||J.createdBy,status:sn.ON_HOLD,items:J.items,subtotal:J.subtotal,discount:J.discount,shipping:J.shipping,total:J.total,paidAmount:0,notes:J.notes,history:{created:`Created as duplicate on ${ie}, at ${B}`}};await T.mutateAsync(U),t.invalidateQueries({queryKey:["bills"]})}catch(H){console.error("Failed to duplicate bill:",H),r.error("Failed to duplicate bill")}},K=async J=>{if(confirm("Are you sure you want to delete this bill?"))try{await k.mutateAsync(J),t.invalidateQueries({queryKey:["bills"]})}catch(H){console.error("Failed to delete bill:",H),r.error("Failed to delete bill")}};return c.jsxs("div",{className:"space-y-6 pb-12",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:"Purchase Bills"})}),c.jsx(Qe,{onClick:()=>e("/bills/new"),variant:"primary",size:"md",icon:ne.Plus,children:"New Bill"})]}),c.jsx(mc,{title:"Bills",filterRange:h,setFilterRange:p,customDates:g,setCustomDates:y,statusTab:v,setStatusTab:x,statusOptions:Object.values(sn)}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-visible",children:c.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Bill Details"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Vendor"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Created By"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Status"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] text-right",children:"Net Amount"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] sm:hidden",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:l?c.jsx(Tp,{columns:6,rows:8}):G.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:"No purchase bills found for this period."})}):G.map(J=>{var H;return c.jsxs("tr",{onMouseEnter:()=>_(J.id),onMouseLeave:()=>_(null),onClick:()=>e(`/bills/${J.id}`),className:"group relative hover:bg-[#ebf4ff]/20 cursor-pointer transition-all",children:[c.jsxs("td",{className:"px-6 py-5",children:[c.jsxs("span",{className:"font-black text-gray-900",children:["#",J.billNumber]}),c.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-1 tracking-tight",children:J.billDate})]}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:"text-sm font-bold text-gray-700",children:((H=d.find(ie=>ie.id===J.vendorId))==null?void 0:H.name)||"Unknown Vendor"})}),c.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500",children:L(J)||""}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${Op(J.status)}`,children:J.status})}),c.jsx("td",{className:"px-6 py-5 text-right",children:c.jsx("span",{className:"font-black text-gray-900 text-base",children:ve(J.total)})}),c.jsx("td",{className:"px-6 py-5 sm:hidden relative z-[999]",onClick:ie=>ie.stopPropagation(),children:c.jsxs("div",{className:"relative z-[999]",children:[c.jsx("button",{onClick:ie=>{const B=ie.currentTarget;N===J.id?(O(null),C(null)):(O(J.id),C(B))},className:"p-2 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg transition-all",children:ne.More}),c.jsxs(N5,{anchorEl:A,open:N===J.id,onClose:()=>{O(null),C(null)},children:[c.jsxs("button",{onClick:()=>{e(`/bills/edit/${J.id}`),O(null),C(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ne.Edit," Edit"]}),c.jsxs("button",{onClick:()=>{Q(J),O(null),C(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ne.Duplicate," Duplicate"]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{K(J.id),O(null),C(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[ne.Delete," Delete"]})]})]})}),S===J.id&&c.jsx("td",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-10 animate-in fade-in slide-in-from-right-2 duration-200 hidden sm:table-cell",onClick:ie=>ie.stopPropagation(),children:c.jsxs("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-[#ebf4ff]",children:[c.jsx("button",{onClick:()=>e(`/bills/edit/${J.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:ne.Edit}),c.jsx("button",{onClick:()=>Q(J),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Duplicate",children:ne.Duplicate}),c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"}),c.jsx("button",{onClick:()=>K(J.id),className:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:ne.Delete})]})})]},J.id)})})]})})})]})},FP=()=>{const{id:e}=Cn(),t=mt(),r=we.currentUser,n=!!e;if(!r)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(Qe,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});const{data:a=[]}=Tc(),{data:s=[]}=Dc(),{data:l,isPending:d,error:f}=fD(e),h=yD(),p=vD(),g=Mr(),[y,v]=j.useState(""),[x,S]=j.useState(new Date().toISOString().split("T")[0]),[_,N]=j.useState(""),[O,A]=j.useState([]),[C,T]=j.useState(0),[k,D]=j.useState(0),[M,L]=j.useState(""),[G,Q]=j.useState(!1),[K,J]=j.useState(""),[H,ie]=j.useState(!1),[B,U]=j.useState(""),[ee,ue]=j.useState(!1),[ce,I]=j.useState(null);xr.useEffect(()=>{l?(v(l.vendorId),S(l.billDate),N(l.billNumber),A(l.items),T(l.discount),D(l.shipping),L(l.notes||"")):n||N(`PUR-${Math.floor(1e3+Math.random()*9e3)}`)},[l,n]);const V=O.reduce((R,de)=>R+de.amount,0),me=V-C+k,pe=R=>{const de=s.find(se=>se.id===R);if(!de)return;const ge={productId:de.id,productName:de.name,rate:de.purchasePrice,quantity:1,amount:de.purchasePrice};A([...O,ge]),Q(!1),J("")},be=(R,de)=>{const ge=[...O];ge[R].quantity=Math.max(1,de),ge[R].amount=ge[R].rate*ge[R].quantity,A(ge)},ke=R=>{A(O.filter((de,ge)=>ge!==R))},Ae=async()=>{if(!y||O.length===0){I("Please select a vendor and add at least one product.");return}if(!(r!=null&&r.id)){I("User session expired. Please log in again.");return}ue(!0),I(null);try{const R=O.reduce((Ce,He)=>Ce+He.amount,0),de=R-C+k,ge=new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),se=new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),Me={billNumber:_,billDate:x,vendorId:y,createdBy:r.id,status:n&&l?l.status:sn.ON_HOLD,items:O,subtotal:R,discount:C,shipping:k,total:de,notes:M,paidAmount:n&&l?l.paidAmount:0,history:n&&l?l.history:{created:`Created by ${r.name} on ${ge}, at ${se}`}};n?(await p.mutateAsync({id:e,updates:Me}),g.success("Bill updated successfully"),ue(!1),t("/bills")):h.mutateAsync(Me).then(Ce=>{ue(!1),g.success("Bill created successfully"),t(`/bills/${Ce.id}`)},Ce=>{ue(!1);const He=Ce instanceof Error?Ce.message:"Failed to save bill";I(He),g.error(He)})}catch(R){console.error("Failed to save bill:",R);const de=R instanceof Error?R.message:"Failed to save bill";I(de),g.error(de),ue(!1)}},te=a.find(R=>R.id===y);return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Bill":"New Purchase Bill"}),c.jsx("button",{onClick:()=>t("/bills"),className:"text-gray-500 hover:text-gray-700 font-medium text-sm px-4 py-2 border border-gray-200 rounded-lg bg-white transition-all",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-1 relative md:col-span-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Select Vendor"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>ie(!H),className:"w-full text-left px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl hover:bg-white focus:ring-2 focus:ring-[#3c5a82] transition-all flex justify-between items-center group",children:[te?c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("span",{className:"font-bold block text-sm text-gray-900",children:te.name}),c.jsx("p",{className:"text-[10px] text-gray-500 leading-none mt-0.5",children:te.phone}),c.jsx("p",{className:"text-[10px] ${theme.colors.secondary[600]} italic truncate mt-1",children:te.address})]}):c.jsx("span",{className:"text-gray-400 text-sm",children:"Select Vendor..."}),c.jsx("div",{className:`transition-transform duration-200 ${H?"rotate-90":""}`,children:ne.ChevronRight})]}),H&&c.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full max-w-xs bg-white border border-gray-200 shadow-2xl rounded-lg z-[110] p-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ne.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search business...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:B,onChange:R=>U(R.target.value)})]}),c.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-0.5 custom-scrollbar",children:a.filter(R=>R.name.toLowerCase().includes(B.toLowerCase())||R.phone.includes(B)).map(R=>c.jsxs("button",{onClick:()=>{v(R.id),ie(!1),U("")},className:"w-full px-4 py-2.5 text-left hover:bg-[#e6f0ff] rounded-lg group transition-colors",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.secondary[700]}",children:R.name}),c.jsx("p",{className:"text-[10px] text-gray-400 group-hover:${theme.colors.secondary[600]}/60",children:R.phone})]},R.id))}),c.jsx(Qe,{onClick:()=>{ie(!1),t("/vendors/new")},variant:"secondary",size:"sm",className:"w-full mt-2 text-[10px]",icon:ne.Plus,children:"Add New Vendor"})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bill Date"}),c.jsx("input",{type:"date",value:x,onChange:R=>S(R.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] focus:bg-white transition-all cursor-pointer font-bold text-sm"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bill Number"}),c.jsx("input",{type:"text",value:_,onChange:R=>N(R.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl font-mono ${theme.colors.secondary[700]} text-sm font-bold"})]})]}),c.jsx("div",{className:"border border-gray-100 rounded-lg overflow-visible bg-white",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Product Item"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Cost Rate"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Qty"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),c.jsx("th",{className:"px-4 py-4"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-50",children:[O.map((R,de)=>{var ge,se;return c.jsxs("tr",{className:"group hover:bg-gray-50/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[((ge=s.find(Me=>Me.id===R.productId))==null?void 0:ge.image)&&c.jsx("img",{src:(se=s.find(Me=>Me.id===R.productId))==null?void 0:se.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-800 text-sm",children:R.productName})]})}),c.jsx("td",{className:"px-4 py-4 text-center text-sm font-bold text-gray-600",children:ve(R.rate)}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsx("input",{type:"number",value:R.quantity,onChange:Me=>be(de,parseInt(Me.target.value)),className:"w-16 text-center py-2 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold outline-none"})}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 text-sm",children:ve(R.amount)}),c.jsx("td",{className:"px-4 py-4 text-right",children:c.jsx("button",{onClick:()=>ke(de),className:"p-2 text-red-200 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:ne.Delete})})]},de)}),c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-5 relative",children:c.jsxs("div",{className:"relative",children:[c.jsx(Qe,{onClick:()=>Q(!G),variant:"secondary",size:"sm",icon:ne.Plus,className:"border-2 border-dashed border-[#c7e0f5]",children:"Add an item"}),G&&c.jsxs("div",{className:"absolute top-full left-0 mt-3 w-full max-w-md bg-white border border-gray-200 shadow-2xl rounded-lg z-[100] p-2 overflow-hidden animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ne.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search product...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:K,onChange:R=>J(R.target.value)})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto space-y-0.5 custom-scrollbar",children:s.filter(R=>R.name.toLowerCase().includes(K.toLowerCase())).map(R=>c.jsxs("button",{onClick:()=>pe(R.id),className:"flex items-center gap-4 w-full px-4 py-3 text-left hover:bg-[#e6f0ff] rounded-xl group transition-all",children:[R.image&&c.jsx("img",{src:R.image,className:"w-10 h-10 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.secondary[700]} truncate",children:R.name}),c.jsxs("p",{className:"text-[10px] font-bold ${theme.colors.secondary[600]}/60 uppercase tracking-widest",children:["Cost: ",ve(R.purchasePrice)]})]})]},R.id))})]})]})})})]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-12 pt-6",children:[c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Purchase Memo"}),c.jsx("textarea",{placeholder:"Bill details, vendor instructions, or delivery notes...",value:M,onChange:R=>L(R.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-100 rounded-lg h-32 focus:ring-2 focus:ring-[#3c5a82] focus:bg-white outline-none font-medium text-sm transition-all"})]}),c.jsxs("div",{className:"w-full md:w-96 space-y-4 bg-gray-50/50 p-8 rounded-[2rem] border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Subtotal"}),c.jsx("span",{className:"text-gray-900 font-black",children:ve(V)})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Discount"}),c.jsx("input",{type:"number",value:C,onChange:R=>T(parseFloat(R.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Shipping"}),c.jsx("input",{type:"number",value:k,onChange:R=>D(parseFloat(R.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]}),c.jsxs("div",{className:"pt-6 border-t-4 border-[#c7e0f5] flex justify-between items-center",children:[c.jsx("span",{className:"text-lg font-bold text-gray-900 uppercase tracking-tighter",children:"Total Bill"}),c.jsx("span",{className:"text-3xl font-black",children:ve(me)})]}),c.jsx(Qe,{onClick:Ae,variant:"primary",size:"lg",className:"w-full mt-4",loading:ee,disabled:ee,children:"Save Purchase Bill"})]})]})]})]})},voe=()=>{var B,U,ee,ue;const{id:e}=Cn(),t=mt(),r=$e(),n=we.currentUser,{data:a,isPending:s,error:l}=fD(e||""),{data:d=[]}=Tc(),{data:f=[]}=As(),{data:h=[]}=Es(),{data:p=[]}=Dc(),{data:g}=Mp(),{data:y}=Ip(),v=vD(),x=Gd(),S=Vd(),_=Mr(),N=v.isPending||x.isPending||S.isPending,O=a?d.find(ce=>ce.id===a.vendorId):void 0,A=a?f.find(ce=>ce.id===a.createdBy):void 0,C=s,[T,k]=j.useState(!1),[D,M]=j.useState(!1),[L,G]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:we.settings.defaults.accountId||"",amount:0});if(C)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading bill..."});if(l||!a)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(l==null?void 0:l.message)||"Bill not found."});const Q=async(ce,I,V)=>{if(a)try{const me={...a,status:ce,history:I?{...a.history,[I]:V}:a.history};await v.mutateAsync({id:e,updates:me}),r.invalidateQueries({queryKey:["bill",e]}),r.invalidateQueries({queryKey:["bills"]}),k(!1)}catch(me){console.error("Failed to update bill status:",me),_.error("Failed to update bill status")}},K=async()=>{const ce=`Marked as processing by ${n.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await Q(sn.PROCESSING,"processing",ce)},J=async()=>{const ce=`Marked as received by ${n.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await Q(sn.RECEIVED,"received",ce)},H=async()=>{if(a)try{let ce=h.find(se=>se.id===L.accountId);if(!ce){if(!L.accountId){_.error("Please select an account");return}ce={id:L.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const I=a.paidAmount+L.amount,V=`Payment of ${ve(L.amount)} received by ${n.name} on ${new Date(L.date).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`,pe=I>=a.total?sn.PAID:a.status,[be,ke]=L.time.split(":").map(Number),Ae=new Date(L.date);Ae.setHours(be,ke,0,0);const te=Ae.toISOString(),R={...a,paidAmount:I,status:pe,history:{...a.history,paid:V},paidAt:L.date};try{const se={id:Math.random().toString(36).substr(2,9),date:te,type:"Expense",category:we.settings.defaults.expenseCategoryId||"expense_purchases",accountId:L.accountId,amount:L.amount,description:`Payment for Bill #${a.billNumber}`,referenceId:a.id,contactId:a.vendorId,paymentMethod:we.settings.defaults.paymentMethod||"Cash",createdBy:n.id};await x.mutateAsync(se)}catch(se){console.error("Failed to create transaction:",se)}const de=L.amount,ge=await Promise.allSettled([v.mutateAsync({id:e,updates:R}),S.mutateAsync({id:L.accountId,updates:{currentBalance:ce.currentBalance-de}})]);if(ge[0].status==="rejected"||ge[1].status==="rejected"){const se=ge[0].status==="rejected"?"failed":"succeeded",Me=ge[1].status==="rejected"?"failed":"succeeded";throw new Error(`Payment update failed: Bill update ${se}, Account update ${Me}`)}r.invalidateQueries({queryKey:["bill",e]}),r.invalidateQueries({queryKey:["bills"]}),M(!1),_.success("Payment recorded successfully")}catch(ce){console.error("Failed to record payment:",ce),_.error("Failed to record payment")}},ie=()=>{a&&(G({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:a.total-a.paidAmount}),M(!0))};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsx(Qd,{isLoading:C&&!a,message:"Loading bill details..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/bills"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500 transition-all",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsxs("h2",{className:"text-md md:text-2xl font-bold text-gray-900",children:["#",a.billNumber]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${Op(a.status)}`,children:a.status})]}),c.jsxs("div",{className:"flex items-center gap-2 relative",children:[c.jsxs("button",{className:"hidden md:flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg bg-white hover:bg-gray-50 transition-all",children:[ne.Print," Print Bill"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>k(!T),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg ${ae.colors.primary[600]} text-white hover:${ae.colors.primary[700]} transition-all shadow-md`,children:[ne.More," ",c.jsx("span",{className:"hidden md:inline",children:"Actions"})]}),T&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>k(!1)}),c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border rounded-xl shadow-xl z-50 py-2",children:[c.jsx("button",{onClick:()=>{window.print(),k(!1)},className:"md:hidden w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Print Bill"}),c.jsx("button",{onClick:()=>{window.print(),k(!1)},className:"md:hidden border-t w-full text-left px-4 py-2 text-sm hover:bg-gray-50"}),c.jsx("button",{onClick:()=>{K(),k(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Mark Processing"}),c.jsx("button",{onClick:()=>{J(),k(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Mark Received"}),c.jsx("div",{className:"border-t my-1"}),c.jsx("button",{onClick:()=>{ie(),k(!1)},disabled:a.paidAmount>=a.total,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 text-red-600 font-bold disabled:text-gray-300 disabled:cursor-not-allowed",children:"Record Payment"}),c.jsx("button",{onClick:()=>t(`/bills/edit/${a.id}`),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Edit Bill"})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[c.jsx("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:c.jsxs("div",{className:"p-3 sm:p-4 md:p-6 lg:p-8 space-y-6 sm:space-y-8",children:[c.jsxs("div",{className:"flex flex-row justify-between items-start gap-3 sm:gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[((g==null?void 0:g.logo)||we.settings.company.logo)&&c.jsx("img",{src:(g==null?void 0:g.logo)||we.settings.company.logo,className:"rounded-lg object-cover mb-2 sm:mb-3 lg:mb-4 w-auto h-auto",style:{maxWidth:"min(100px, 20%)",maxHeight:"auto"}}),c.jsx("h1",{className:"text-sm sm:text-base lg:text-xl font-black text-blue-600 uppercase tracking-tighter break-words",children:(g==null?void 0:g.name)||we.settings.company.name}),c.jsxs("div",{className:"mt-1 sm:mt-2 text-[9px] sm:text-[10px] lg:text-xs text-gray-400 font-medium space-y-0.5 sm:space-y-1",children:[c.jsx("p",{className:"break-words",children:(g==null?void 0:g.address)||we.settings.company.address}),c.jsxs("p",{className:"text-[8px] sm:text-[9px] break-words",children:[(g==null?void 0:g.phone)||we.settings.company.phone,"  ",(g==null?void 0:g.email)||we.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right flex-shrink-0",children:[c.jsx("h2",{className:"text-sm sm:text-2xl lg:text-3xl font-black text-gray-300 uppercase leading-none mb-1 sm:mb-2 break-words",children:(y==null?void 0:y.title)||we.settings.invoice.title}),c.jsxs("div",{className:"space-y-0.5 sm:space-y-1 lg:space-y-1.5 text-[9px] sm:text-sm",children:[c.jsxs("p",{className:"text-[9px] sm:text-sm font-bold text-gray-900 break-words",children:["Bill No: #",a.billNumber]}),c.jsx("p",{className:"text-[9px] sm:text-sm text-gray-500",children:a.billDate})]})]})]}),c.jsxs("div",{className:"border-t border-gray-100 py-2 sm:py-3 lg:py-4",children:[c.jsx("p",{className:"text-[8px] sm:text-[9px] lg:text-[10px] font-black text-gray-400 uppercase tracking-[0.15em] sm:tracking-[0.2em] mb-2 sm:mb-3 lg:mb-4",children:"Bill From (Vendor)"}),c.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-black text-gray-900 break-words",children:O==null?void 0:O.name}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm text-gray-500 leading-relaxed break-words",children:O==null?void 0:O.address}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm font-bold text-cyan-600 mt-1 sm:mt-1.5 lg:mt-2 break-words",children:O==null?void 0:O.phone})]}),c.jsx("div",{className:"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6 lg:-mx-10",children:c.jsx("div",{className:"px-3 sm:px-4 md:px-6 lg:px-10",children:c.jsxs("table",{className:"w-full text-left text-[10px] sm:text-xs lg:text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100",children:[c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 font-black text-gray-400 uppercase",children:"Description"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Cost"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Qty"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-right font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:a.items.map((ce,I)=>{const V=p.find(me=>me.id===ce.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-3 sm:py-4 lg:py-6",children:c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 min-w-0",children:[c.jsx("img",{src:V==null?void 0:V.image,className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 rounded-full object-cover border border-gray-100 shadow-sm flex-shrink-0"}),c.jsx("span",{className:"font-bold text-gray-900 text-[10px] sm:text-xs lg:text-base break-words",children:ce.productName})]})}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:ve(ce.rate)}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:ce.quantity}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-right font-black text-gray-900 px-1 whitespace-nowrap",children:ve(ce.amount)})]},I)})})]})})}),c.jsx("div",{className:"flex flex-col items-end pt-2 sm:pt-3 lg:pt-6 px-0",children:c.jsxs("div",{className:"w-full sm:w-full md:w-98 lg:max-w-xs space-y-2 sm:space-y-3 lg:space-y-4",children:[c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:ve(a.subtotal)})]}),a.discount>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500 flex-shrink-0",children:["-",ve(a.discount)]})]}),a.shipping>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:ve(a.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 sm:py-3 lg:py-4 border-t-2 border-[#0f2f57] gap-2",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter text-[11px] sm:text-xs lg:text-sm flex-shrink-0",children:"Total Payable"}),c.jsx("span",{className:"font-black text-sm sm:text-base lg:text-lg flex-shrink-0",children:ve(a.total)})]})]})})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"1. Creation"}),c.jsx("div",{className:"p-1 bg-[#ebf4ff] text-white rounded-full",children:ne.Plus})]}),c.jsx("div",{className:"p-5",children:c.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:A!=null&&A.name?`${a.history.created} `:((B=a.history)==null?void 0:B.created)||"Creation information unavailable"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"2. Processing"}),c.jsx("div",{className:`p-1 rounded-full ${a.status===sn.PROCESSING?"bg-[#ebf4ff] text-white":"bg-gray-200 text-gray-400"}`,children:ne.ChevronRight})]}),c.jsx("div",{className:"p-5",children:(U=a.history)!=null&&U.processing?c.jsx("p",{className:"text-xs text-blue-600 leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:a.history.processing}):c.jsx("button",{disabled:a.status===sn.RECEIVED,onClick:K,className:`w-full py-3 ${ae.colors.secondary[600]} hover:${ae.colors.secondary[700]} disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Mark as Processing"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"3. Received"}),c.jsx("div",{className:`p-1 rounded-full ${a.status===sn.RECEIVED?"bg-green-100 text-green-600":"bg-gray-200 text-gray-400"}`,children:ne.ChevronRight})]}),c.jsx("div",{className:"p-5",children:(ee=a.history)!=null&&ee.received?c.jsx("p",{className:"text-xs text-green-600 leading-relaxed font-bold bg-green-50 p-3 rounded-xl",children:a.history.received}):c.jsx("button",{disabled:a.status===sn.ON_HOLD,onClick:J,className:"w-full py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95",children:"Mark as Received"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"4. Payment"}),c.jsx("div",{className:`p-1 rounded-full ${a.paidAmount>0?"bg-[#ebf4ff] text-white":"bg-gray-200 text-gray-400"}`,children:ne.Banking})]}),c.jsx("div",{className:"p-5 space-y-3",children:a.paidAmount>0?c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-blue-600 leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:(ue=a.history)==null?void 0:ue.paid}),a.paidAt&&c.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:["Payment Date: ",new Date(a.paidAt).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})]}),a.paidAmount<a.total&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-100 mt-2",children:[c.jsx("p",{className:"text-[10px] font-black text-yellow-600 uppercase",children:"Remaining Amount"}),c.jsx("p",{className:"text-lg font-black text-yellow-700",children:ve(a.total-a.paidAmount)})]}),c.jsx("button",{onClick:ie,className:`w-full py-3 ${ae.colors.primary[600]} hover:${ae.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Add Balance Payment"})]})]}):c.jsxs("div",{className:"space-y-4 text-center",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Amount Due"}),c.jsx("p",{className:"text-2xl font-black text-gray-900",children:ve(a.total-a.paidAmount)})]}),c.jsx("button",{onClick:ie,className:`w-full py-3 ${ae.colors.primary[600]} hover:${ae.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Record Payment"})]})})]})]})]}),c.jsx(Lw,{isOpen:D,onClose:()=>M(!1),onSubmit:H,accounts:h,paymentForm:L,setPaymentForm:G,isLoading:N,title:"Record Payment",buttonText:"Add Payment"})]})},boe=()=>{const{data:e=[],isLoading:t}=Es(),{searchQuery:r}=Da(),n=_9(),a=N9(),s=Mr(),l=j.useMemo(()=>{if(!r.trim())return e;const _=r.toLowerCase();return e.filter(N=>N.name.toLowerCase().includes(_)||N.type.toLowerCase().includes(_))},[e,r]),[d,f]=j.useState(!1),[h,p]=j.useState(null),[g,y]=j.useState({name:"",type:"Bank",openingBalance:0}),v=async()=>{if(g.name)try{await n.mutateAsync({name:g.name,type:g.type,openingBalance:g.openingBalance,currentBalance:g.openingBalance}),f(!1),y({name:"",type:"Bank",openingBalance:0})}catch(_){console.error("Failed to create account:",_),s.error("Failed to create account. Please try again.")}},x=async _=>{const N=e.find(O=>O.id===_);if(N){if(N.currentBalance!==0){s.warning(`Cannot delete account "${N.name}" because it has a balance of ${N.currentBalance}. Please transfer the balance to another account first.`);return}if(confirm(`Are you sure you want to delete the account "${N.name}"?`))try{await a.mutateAsync(_),p(null)}catch(O){console.error("Failed to delete account:",O),s.error("Failed to delete account. Please try again.")}}},S=l.reduce((_,N)=>_+N.currentBalance,0);return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Qd,{isLoading:t,message:"Loading accounts..."}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Banking & Accounts"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Monitor balances and manage cash flow across all accounts"})]}),c.jsx(Qe,{onClick:()=>f(!0),variant:"primary",size:"md",icon:ne.Plus,disabled:n.isPending,children:"Add Account"})]}),c.jsxs("div",{className:`${ae.colors.primary[600]} rounded-xl p-8 text-white shadow-xl shadow-[#0f2f57]/20 relative overflow-hidden`,children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"text-[#c7dff5] font-medium text-sm mb-1 uppercase tracking-wider",children:"Total Combined Balance"}),c.jsx("h1",{className:"text-4xl font-black",children:ve(S)}),c.jsxs("div",{className:"mt-8 flex gap-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[#a8c5e8] text-xs font-bold uppercase",children:"Bank Accounts"}),c.jsx("p",{className:"text-xl font-bold",children:e.filter(_=>_.type==="Bank").length})]}),c.jsx("div",{className:"w-px bg-[#0f2f57]/50 h-10"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[#a8c5e8] text-xs font-bold uppercase",children:"Cash Accounts"}),c.jsx("p",{className:"text-xl font-bold",children:e.filter(_=>_.type==="Cash").length})]})]})]}),c.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none",children:c.jsx("div",{className:"w-48 h-48 border-[24px] border-white rounded-full"})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(_=>c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow group relative",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:`p-3 rounded-xl ${_.type==="Bank"?`bg-[#e6f0ff] ${ae.colors.secondary[600]}`:"bg-orange-50 text-orange-600"}`,children:(_.type==="Bank",ne.Banking)}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>p(h===_.id?null:_.id),className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-lg transition-all",children:ne.More}),h===_.id&&c.jsx("div",{className:"absolute right-0 mt-1 w-40 bg-white border border-gray-100 rounded-lg shadow-lg z-50 py-1",children:c.jsxs("button",{onClick:()=>x(_.id),disabled:_.currentBalance!==0||a.isPending,className:`w-full text-left px-4 py-2.5 text-sm flex items-center gap-2 font-bold ${_.currentBalance!==0||a.isPending?"text-gray-400 cursor-not-allowed":"text-red-600 hover:bg-red-50"}`,title:_.currentBalance!==0?"Account must have zero balance to delete":"Delete account",children:[ne.Delete," Delete"]})})]})]}),c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:_.name}),c.jsxs("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-tight mb-4",children:[_.type," Account"]}),c.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-50",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Opening Balance"}),c.jsx("span",{className:"font-semibold text-gray-700",children:ve(_.openingBalance)})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Current Balance"}),c.jsx("span",{className:"text-xl font-black",children:ve(_.currentBalance)})]})]})]},_.id))}),d&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>f(!1)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 animate-in fade-in zoom-in duration-200",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Account"})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Account Name"}),c.jsx("input",{type:"text",placeholder:"e.g. City Bank - 0987",className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.name,onChange:_=>y({...g,name:_.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Account Type"}),c.jsxs("select",{className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.type,onChange:_=>y({...g,type:_.target.value}),children:[c.jsx("option",{value:"Bank",children:"Bank"}),c.jsx("option",{value:"Cash",children:"Cash"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Opening Balance"}),c.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.openingBalance,onChange:_=>y({...g,openingBalance:parseFloat(_.target.value)||0})})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-2xl flex gap-3",children:[c.jsx(Qe,{onClick:()=>f(!1),variant:"ghost",disabled:n.isPending,children:"Cancel"}),c.jsx(Qe,{onClick:v,variant:"primary",size:"md",className:"flex-1",disabled:n.isPending||!g.name,children:n.isPending?"Creating...":"Create Account"})]})]})]})]})},xoe=()=>{const e=mt();$e(),Mr();const{searchQuery:t}=Da(),[r,n]=j.useState("All Time"),[a,s]=j.useState({from:"",to:""}),[l,d]=j.useState("All"),{data:f=[],isPending:h}=Pc(),{data:p=[]}=Uo(),{data:g=[]}=Tc(),{data:y=[]}=Cc(),{data:v=[]}=kc(),{data:x=[]}=As(),{data:S=[]}=Cs();O9();const _=j.useMemo(()=>new Map(x.map(D=>[D.id,D])),[x]),N=D=>{if(r==="All Time")return!0;const M=new Date(D),L=new Date;if(r==="Today")return M.toDateString()===L.toDateString();if(r==="This Week"){const G=L.getDate()-L.getDay(),Q=G+6,K=new Date(new Date().setDate(G)),J=new Date(new Date().setDate(Q));return M>=K&&M<=J}return r==="This Month"?M.getMonth()===L.getMonth()&&M.getFullYear()===L.getFullYear():r==="This Year"?M.getFullYear()===L.getFullYear():r==="Custom"?!a.from||!a.to?!0:M>=new Date(a.from)&&M<=new Date(a.to):!0},O=D=>{var L,G;if(!((L=D.createdBy)!=null&&L.trim()))return null;const M=_.get(D.createdBy);if(M!=null&&M.name)return M.name;if((G=D.history)!=null&&G.created){const Q=D.history.created.match(/Created by (.+?) on/);if(Q)return Q[1]}return null},A=D=>{const M=p.find(G=>G.id===D);if(M)return{name:M.name,type:"Customer"};const L=g.find(G=>G.id===D);return L?{name:L.name,type:"Vendor"}:null},C=j.useMemo(()=>{let D=f.filter(M=>N(M.date)).filter(M=>l==="All"||M.type===l);if(t.trim()){const M=t.toLowerCase();D=D.filter(L=>{var J,H;const G=L.contactId?A(L.contactId):null,Q=O(L),K=((J=S.find(ie=>ie.id===L.category))==null?void 0:J.name)||L.category||"";return L.description.toLowerCase().includes(M)||K.toLowerCase().includes(M)||L.type.toLowerCase().includes(M)||(G==null?void 0:G.name.toLowerCase().includes(M))||((H=Q==null?void 0:Q.toLowerCase)==null?void 0:H.call(Q).includes(M))||ve(L.amount).includes(M)})}return D},[f,r,a,l,t,p,g,S,x]),T=(D,M)=>{try{const L=D&&D.toString().length>10?D:M||D||"",G=new Date(L),Q="Asia/Dhaka",K=G.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric",timeZone:Q}),J=G.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:Q});return{date:K,time:J}}catch{return{date:D||M||"",time:""}}},k=D=>{if(D.referenceId){if(y.some(G=>G.id===D.referenceId)){e(`/orders/${D.referenceId}`);return}if(v.some(G=>G.id===D.referenceId)){e(`/bills/${D.referenceId}`);return}}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Financial Transactions"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Review all income and expense history"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(Qe,{onClick:()=>e("/transactions/new/income"),variant:"primary",size:"md",icon:ne.Plus,children:"Income"}),c.jsx(Qe,{onClick:()=>e("/transactions/new/expense"),variant:"danger",size:"md",icon:ne.Minus,children:"Expense"})]})]}),c.jsx(mc,{title:"Transactions",filterRange:r,setFilterRange:n,customDates:a,setCustomDates:s,statusTab:l,setStatusTab:d,statusOptions:["Income","Expense","Transfer"]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Type"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Contact"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:c.jsxs(c.Fragment,{children:["Category ",c.jsx("br",{})," Notes"]})}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:h?c.jsx(Tp,{columns:7,rows:8}):C.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-6 py-16 text-center text-gray-400 italic font-medium",children:"No transactions found."})}):C.map(D=>{var H;const M=D.contactId?A(D.contactId):null,L=O(D),G=D.referenceId&&(y.some(ie=>ie.id===D.referenceId)||v.some(ie=>ie.id===D.referenceId)),Q=!!D.referenceId,{date:K,time:J}=T(D.date,D.createdAt);return c.jsxs("tr",{onClick:()=>k(D),className:`hover:bg-gray-50 transition-all group ${G?"cursor-pointer":""}`,children:[c.jsx("td",{className:"px-6 py-5 text-sm font-bold text-gray-700",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-gray-900",children:K}),c.jsx("span",{className:"text-[11px] text-gray-400 font-medium",children:J})]})}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest ${D.type==="Income"?"bg-[#ebf4ff]":D.type==="Expense"?"bg-red-50 text-red-600":"bg-[#e6f0ff]"}`,children:D.type})}),c.jsx("td",{className:"px-6 py-5",children:Q?M?c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:M.name}),c.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest",children:M.type})]}):c.jsx("span",{className:"text-gray-300 font-bold text-xs",children:""}):L?c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:L}),c.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest",children:"Created By"})]}):c.jsx("span",{className:"text-gray-300 font-bold text-xs",children:""})}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800",children:((H=S.find(ie=>ie.id===D.category))==null?void 0:H.name)||D.category}),c.jsx("p",{className:"text-xs text-gray-400 italic max-w-xs truncate",children:D.description})]})}),c.jsx("td",{className:"px-6 py-5 text-right",children:c.jsxs("span",{className:`font-black text-base ${D.type==="Income"?"text-emerald-600":D.type==="Expense"?"text-red-600":"text-black"}`,children:[D.type==="Income"?"+":D.type==="Expense"?"-":"",ve(D.amount)]})})]},D.id)})})]})})})]})},woe=()=>{var N;const{type:e}=Cn(),t=mt(),r=we.currentUser,n=e==="income",{data:a=[]}=Es(),{data:s}=gD(),{data:l=[]}=pD(),{data:d=[]}=Cs(),f=Gd(),h=Vd(),p=Mr(),g=j.useMemo(()=>d.filter(O=>O.type===(n?"Income":"Expense")),[d,n]),[y,v]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),paymentMethod:(s==null?void 0:s.paymentMethod)||"Cash",accountId:(s==null?void 0:s.accountId)||((N=a[0])==null?void 0:N.id)||"",amount:0,description:"",category:n?(s==null?void 0:s.incomeCategoryId)||"":(s==null?void 0:s.expenseCategoryId)||"",attachmentName:"",attachmentUrl:""}),x=O=>{var C;const A=(C=O.target.files)==null?void 0:C[0];if(A){const T=new FileReader;T.onload=()=>{v({...y,attachmentName:A.name,attachmentUrl:T.result})},T.readAsDataURL(A)}},S=f.isPending||h.isPending,_=async()=>{if(y.amount<=0){p.warning("Amount must be greater than 0");return}if(!y.accountId){p.warning("Please select an account");return}if(!y.category){p.warning("Please select a category");return}if(!(r!=null&&r.id)){p.warning("User session expired. Please log in again.");return}try{if(!n){const Q=a.find(K=>K.id===y.accountId);if(Q&&Q.currentBalance<y.amount){p.error(`Insufficient balance. Account has ${ve(Q.currentBalance)} but transaction requires ${ve(y.amount)}`);return}}const A=new Date(y.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),C=y.time,[T,k]=y.time.split(":").map(Number),D=new Date(y.date);D.setHours(T,k,0,0);const M=D.toISOString(),L={type:n?"Income":"Expense",date:M,paymentMethod:y.paymentMethod,accountId:y.accountId,amount:y.amount,description:y.description,category:y.category,attachmentName:y.attachmentName,attachmentUrl:y.attachmentUrl,createdBy:r.id,history:{created:`Created by ${r.name} on ${A}, at ${C}`}};await f.mutateAsync(L);const G=a.find(Q=>Q.id===y.accountId);if(G){const Q=n?G.currentBalance+y.amount:G.currentBalance-y.amount;await h.mutateAsync({id:y.accountId,updates:{currentBalance:Q}})}t("/transactions")}catch(O){console.error("Failed to save transaction:",O),p.error("Failed to save transaction: "+(O instanceof Error?O.message:"Unknown error"))}};return c.jsxs("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:["Record ",n?"Income":"Expense"]}),c.jsx("p",{className:"text-gray-500 font-medium",children:"Log a new financial movement in your accounts"})]}),c.jsx("button",{onClick:()=>t(-1),className:"p-3 text-gray-400 hover:text-gray-600 bg-white border border-gray-100 rounded-lg shadow-sm",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l18 18"})})})]}),c.jsxs("div",{className:"bg-white p-8 lg:p-12 rounded-[2.5rem] border border-gray-100 shadow-xl shadow-gray-200/20 space-y-10",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Amount (BDT)"}),c.jsx("input",{type:"number",className:`w-full text-3xl font-black px-6 py-4 bg-gray-50 border-2 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl transition-all outline-none ${n?"${theme.colors.primary[600]}":"text-red-600"}`,value:y.amount,onChange:O=>v({...y,amount:parseFloat(O.target.value)||0}),placeholder:"0.00"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Date"}),c.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:y.date,onChange:O=>v({...y,date:O.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Time"}),c.jsx("input",{type:"time",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:y.time,onChange:O=>v({...y,time:O.target.value})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Connected Account"}),c.jsx("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.accountId,onChange:O=>v({...y,accountId:O.target.value}),children:a.map(O=>c.jsx("option",{value:O.id,children:O.name},O.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Category"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.category,onChange:O=>v({...y,category:O.target.value}),children:[c.jsx("option",{value:"",children:"-- Select a category --"}),g.map(O=>c.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Payment Method"}),c.jsx("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.paymentMethod,onChange:O=>v({...y,paymentMethod:O.target.value}),children:l.map(O=>c.jsx("option",{value:O.name,children:O.name},O.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Attachment"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"file",className:"hidden",id:"file-upload",onChange:x}),c.jsx("label",{htmlFor:"file-upload",className:"w-full px-6 py-4 bg-gray-50 border-transparent hover:bg-gray-100 rounded-lg font-bold pl-14 flex items-center cursor-pointer transition-colors",children:y.attachmentName||"Choose file to upload"}),c.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400",children:ne.Print})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Description"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 outline-none",placeholder:"What was this transaction for?",value:y.description,onChange:O=>v({...y,description:O.target.value})})]}),c.jsxs(Qe,{onClick:_,variant:n?"primary":"danger",size:"lg",className:"w-full",disabled:S,loading:S,children:["Finalize ",n?"Income":"Expense"]})]})]})},joe=()=>{mt();const e=$e(),t=we.currentUser,{data:r=[]}=Es(),n=Gd(),a=Vd(),s=Mr(),[l,d]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),fromAccountId:"",toAccountId:"",amount:0,description:""}),f=async()=>{if(!l.amount||!l.fromAccountId||!l.toAccountId){s.warning("Please fill in all fields.");return}if(l.fromAccountId===l.toAccountId){s.warning("Cannot transfer to the same account.");return}const h=r.find(g=>g.id===l.fromAccountId),p=r.find(g=>g.id===l.toAccountId);if(h&&p){if(h.currentBalance<l.amount){s.warning("Insufficient balance in source account.");return}try{const[g,y]=l.time.split(":").map(Number),v=new Date(l.date);v.setHours(g,y,0,0);const x=v.toISOString();await Promise.all([n.mutateAsync({type:"Transfer",date:x,accountId:l.fromAccountId,toAccountId:l.toAccountId,amount:l.amount,description:l.description||`Transfer from ${h.name} to ${p.name}`,category:"Transfer",paymentMethod:"Internal Transfer",createdBy:t.id}),Promise.all([a.mutateAsync({id:l.fromAccountId,updates:{currentBalance:h.currentBalance-l.amount}}),a.mutateAsync({id:l.toAccountId,updates:{currentBalance:p.currentBalance+l.amount}})])]),s.success("Transfer completed successfully"),e.invalidateQueries({queryKey:["accounts"]}),d({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),fromAccountId:"",toAccountId:"",amount:0,description:""})}catch(g){console.error("Transfer failed:",g),s.error("Failed to complete transfer: "+(g instanceof Error?g.message:"Unknown error"))}}};return c.jsxs("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:[c.jsx("div",{className:"mb-8 flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Fund Transfer"}),c.jsx("p",{className:"text-gray-500 font-medium",children:"Move balances between your business accounts"})]})}),c.jsxs("div",{className:"bg-white p-8 lg:p-12 rounded-[2.5rem] border border-gray-100 shadow-xl space-y-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Amount to Transfer (BDT)"}),c.jsx("input",{type:"number",className:`w-full text-4xl font-black px-6 py-4 bg-[#ebf4ff] border-2 border-transparent focus:border-[#3c5a82] rounded-xl transition-all outline-none ${ae.colors.primary[600]}`,value:l.amount,onChange:h=>d({...l,amount:parseFloat(h.target.value)||0}),placeholder:"0.00"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"From Account (Source)"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-bold",value:l.fromAccountId,onChange:h=>d({...l,fromAccountId:h.target.value}),children:[c.jsx("option",{value:"",children:"Select an account"}),r.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",ve(h.currentBalance),")"]},h.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"To Account (Destination)"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-bold",value:l.toAccountId,onChange:h=>d({...l,toAccountId:h.target.value}),children:[c.jsx("option",{value:"",children:"Select an account"}),r.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",ve(h.currentBalance),")"]},h.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Transfer Date"}),c.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:l.date,onChange:h=>d({...l,date:h.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Transfer Time"}),c.jsx("input",{type:"time",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:l.time,onChange:h=>d({...l,time:h.target.value})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Memo / Description"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 outline-none",placeholder:"Reason for transfer...",value:l.description,onChange:h=>d({...l,description:h.target.value})})]}),c.jsx(Qe,{onClick:f,variant:"primary",size:"lg",className:"w-full",disabled:n.isPending||a.isPending,children:n.isPending||a.isPending?"Processing Transfer...":"Execute Transfer"})]})]})},Soe=()=>{const e=mt(),t=$e(),r=Mr(),{searchQuery:n}=Da(),{data:a=[],isPending:s}=Dc(),l=M9(),d=we.currentUser.role===At.ADMIN,[f,h]=j.useState("All Time"),[p,g]=j.useState({from:"",to:""}),y=j.useMemo(()=>{let x=a;if(n.trim()){const S=n.toLowerCase();x=x.filter(_=>_.name.toLowerCase().includes(S)||_.category.toLowerCase().includes(S))}return x},[a,n]),v=async x=>{if(confirm("Are you sure you want to delete this product?"))try{await l.mutateAsync(x),t.invalidateQueries({queryKey:["products"]}),r.success("Product deleted successfully")}catch(S){console.error("Failed to delete product:",S),r.error("Failed to delete product")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Products Catalog"})}),d&&c.jsx(Qe,{onClick:()=>e("/products/new"),variant:"primary",size:"md",icon:ne.Plus,children:"Add Product"})]}),c.jsx(mc,{title:"Products",filterRange:f,setFilterRange:h,customDates:p,setCustomDates:g}),c.jsx(Dp,{columns:[{key:"name",label:"Name",render:(x,S)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:S.image||"https://via.placeholder.com/100",alt:S.name,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("div",{children:c.jsx("p",{className:"font-bold text-gray-900",children:S.name})})]})},{key:"category",label:"Category",render:x=>c.jsx("span",{className:"px-2.5 py-1 bg-[#ebf4ff] rounded-lg text-[10px] font-black uppercase tracking-widest",children:x})},{key:"salePrice",label:d?c.jsxs(c.Fragment,{children:["Sale Price",c.jsx("br",{}),"Purchase Price"]}):c.jsx(c.Fragment,{children:"Sale Price"}),render:(x,S)=>c.jsxs("div",{className:"flex flex-col gap-0.5",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-sm font-bold",children:ve(S.salePrice)})}),d&&c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-[11px] font-bold text-gray-600",children:ve(S.purchasePrice)})})]})},...d?[{key:"id",label:"Actions",align:"right",render:x=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(js,{icon:ne.Edit,variant:"primary",title:"Edit",onClick:S=>{S.stopPropagation(),e(`/products/edit/${x}`)}}),c.jsx(js,{icon:ne.Delete,variant:"danger",title:"Delete",onClick:S=>{S.stopPropagation(),v(x)}})]})}]:[]],data:y,loading:s,emptyMessage:"No products found"})]})},QP=()=>{const{id:e}=Cn(),t=mt(),r=!!e,n=we.currentUser;if(!n)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(Qe,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});if(r&&n.role===At.EMPLOYEE)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot edit products. Contact an administrator for assistance."}),c.jsx(Qe,{onClick:()=>t("/products"),variant:"primary",children:"Back to Products"})]});const{data:a}=y9(r?e:void 0),{data:s=[],isPending:l}=Cs("Product"),d=T9(),f=D9(),[h,p]=j.useState({name:"",category:"",image:"",salePrice:0,purchasePrice:0}),[g,y]=j.useState(!1),[v,x]=j.useState(null);xr.useEffect(()=>{a&&p(a)},[a]);const S=N=>{var A;const O=(A=N.target.files)==null?void 0:A[0];if(O){const C=new FileReader;C.onload=()=>{p({...h,image:C.result})},C.readAsDataURL(O)}},_=async()=>{if(!h.name||!h.category){x("Name and category are required");return}y(!0),x(null);try{const N={name:h.name||"",category:h.category||"",image:h.image||"https://picsum.photos/200/200?random="+Math.random(),salePrice:h.salePrice||0,purchasePrice:h.purchasePrice||0};r?(await f.mutateAsync({id:e,updates:N}),t("/products")):d.mutateAsync(N).then(()=>{t("/products")},O=>{y(!1),x(O instanceof Error?O.message:"Failed to create product")})}catch(N){console.error("Failed to save product:",N),x(N instanceof Error?N.message:"Failed to save product"),y(!1)}};return c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Product":"Add Product"}),c.jsx("button",{onClick:()=>t("/products"),className:"px-4 py-2 border rounded-xl text-gray-500 font-bold bg-white hover:bg-gray-50",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Product Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:h.name,onChange:N=>p({...h,name:N.target.value}),placeholder:"e.g. Cotton Polo T-Shirt"})]}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Category"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:h.category,onChange:N=>p({...h,category:N.target.value}),disabled:l,children:[c.jsx("option",{value:"",children:l?"Loading...":"Select Category..."}),s.map(N=>c.jsx("option",{value:N.name,children:N.name},N.id))]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Product Image"}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"w-24 h-24 rounded-lg border border-dashed border-gray-300 flex items-center justify-center overflow-hidden bg-gray-50",children:h.image?c.jsx("img",{src:h.image,className:"w-full h-full object-cover"}):c.jsx("span",{className:"text-gray-300 text-xs text-center p-2",children:"No image"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("input",{type:"file",id:"product-image",className:"hidden",onChange:S}),c.jsx("label",{htmlFor:"product-image",className:"inline-block px-6 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-xl cursor-pointer transition-all",children:"Upload File"}),c.jsx("p",{className:"text-[10px] text-gray-400 mt-2 font-medium",children:"Recommended size: 500x500px. JPG, PNG supported."})]})]})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sale Price (BDT)"}),c.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold",value:h.salePrice,onChange:N=>p({...h,salePrice:parseFloat(N.target.value)||0})})]}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Purchase Price (BDT)"}),c.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82] text-gray-600 font-bold",value:h.purchasePrice,onChange:N=>p({...h,purchasePrice:parseFloat(N.target.value)||0})})]})]}),c.jsxs("div",{className:"pt-6 space-y-4",children:[v&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:v})}),c.jsx(Qe,{onClick:_,variant:"primary",size:"lg",className:"w-full",disabled:g,children:g?"Saving...":r?"Update Product Item":"Create Product Item"})]})]})]})},_oe=()=>{var l;const e=mt(),{searchQuery:t}=Da(),{data:r=[],isPending:n}=As(),a=((l=we.currentUser)==null?void 0:l.role)===At.ADMIN,s=j.useMemo(()=>{if(!t.trim())return r;const d=t.toLowerCase();return r.filter(f=>f.name.toLowerCase().includes(d)||f.phone.includes(d)||f.role.toLowerCase().includes(d))},[r,t]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Application Users"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Manage staff accounts and system permissions"})]}),a&&c.jsx(Qe,{onClick:()=>e("/users/new"),variant:"primary",size:"md",icon:ne.Plus,children:"Add User"})]}),c.jsx(Dp,{columns:[{key:"name",label:"User",render:(d,f)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:f.image||"https://picsum.photos/100/100?random="+f.id,className:"w-10 h-10 rounded-full object-cover border"}),c.jsx("span",{className:"font-bold text-gray-900",children:f.name})]})},{key:"role",label:"Role",render:d=>c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${d===At.ADMIN?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:d})},{key:"phone",label:"Contact",render:d=>c.jsx("span",{className:"text-sm text-gray-600",children:d})},{key:"id",label:"Actions",align:"right",render:d=>c.jsx(js,{icon:ne.Edit,variant:"primary",title:"Edit",onClick:f=>{f.stopPropagation(),e(`/users/edit/${d}`)}})}],data:s,onRowClick:d=>e(`/users/${d.id}`),emptyMessage:"No users found",loading:n})]})},HP=()=>{const{id:e}=Cn(),t=mt(),r=!!e,{data:n,isPending:a,error:s}=hD(r?e:void 0),l=E9(),d=A9(),f=bD(),h=Mr(),[p,g]=j.useState(!1),[y,v]=j.useState(!1),[x,S]=j.useState({name:"",phone:"",password:"",role:At.EMPLOYEE,image:""});xr.useEffect(()=>{n&&S(n)},[n]);const _=localStorage.getItem("currentUser"),N=_?JSON.parse(_):null,O=(N==null?void 0:N.role)===At.ADMIN,A=(N==null?void 0:N.id)===e,C=a,T=M=>{var G;const L=(G=M.target.files)==null?void 0:G[0];if(L){const Q=new FileReader;Q.onload=()=>{S({...x,image:Q.result})},Q.readAsDataURL(L)}},k=async()=>{if(!x.name||!x.phone||O&&!r&&!x.password){h.warning("Please fill mandatory fields (Name, Phone, Password)");return}g(!0);try{if(r&&e){const M={name:x.name,phone:x.phone,image:x.image};if(O&&(x.password&&(M.password=x.password),x.role&&(M.role=x.role)),await d.mutateAsync({id:e,updates:M}),A&&N){const L={...N,...M};localStorage.setItem("currentUser",JSON.stringify(L))}}else{if(!O){h.error("Only admins can add users"),g(!1);return}await l.mutateAsync({name:x.name||"",phone:x.phone||"",password:x.password||"",role:x.role||At.EMPLOYEE,image:x.image||""})}h.success(r?"User updated successfully!":"User created successfully!"),t("/users")}catch(M){console.error("Failed to save user:",M),h.error("Failed to save user: "+(M instanceof Error?M.message:"Unknown error"))}finally{g(!1)}},D=async()=>{if(e){g(!0);try{await f.mutateAsync(e),h.success("User deleted successfully!"),t("/users")}catch(M){console.error("Failed to delete user:",M),h.error("Failed to delete user: "+(M instanceof Error?M.message:"Unknown error"))}finally{g(!1),v(!1)}}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Profile":"Add System User"}),c.jsx("button",{onClick:()=>t("/users"),className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-500 hover:bg-gray-50",children:"Cancel"})]}),r&&C&&c.jsx("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm text-center text-gray-500",children:"Loading user details..."}),s&&c.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-100 text-red-700",children:s.message||"User not found"}),(!r||!C)&&c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-6 p-6 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden bg-white border",children:c.jsx("img",{src:x.image||`https://ui-avatars.com/api/?name=${x.name||"User"}&background=10b981&color=fff`,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-2",children:"Profile Photo"}),c.jsx("input",{type:"file",id:"user-pfp",className:"hidden",onChange:T}),c.jsx("label",{htmlFor:"user-pfp",className:`cursor-pointer px-4 py-2 ${ae.colors.primary[600]} text-white text-xs font-bold rounded-lg hover:${ae.colors.primary[700]}`,children:"Upload Picture"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Full Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:x.name,onChange:M=>S({...x,name:M.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Phone Number"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:x.phone,onChange:M=>S({...x,phone:M.target.value})})]}),O&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Password (Admin Only Access)"}),c.jsx("input",{type:"password",className:"w-full px-4 py-3 bg-purple-50 border border-purple-100 rounded-xl focus:ring-2 focus:ring-purple-500",value:x.password,onChange:M=>S({...x,password:M.target.value}),placeholder:r?"Leave blank to keep current password":"Secure system password"}),c.jsx("p",{className:"text-[10px] text-purple-400 font-medium",children:"Only administrators can set or change passwords."})]}),O&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"System Role"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:x.role,onChange:M=>S({...x,role:M.target.value}),children:[c.jsx("option",{value:At.EMPLOYEE,children:"Employee"}),c.jsx("option",{value:At.ADMIN,children:"Administrator"})]})]})]}),c.jsxs("div",{className:"pt-6 space-y-3",children:[c.jsx(Qe,{onClick:k,variant:"primary",size:"lg",className:"w-full",disabled:p,children:p?"Saving...":"Save User Details"}),r&&O&&c.jsx("button",{onClick:()=>v(!0),disabled:p,className:"w-full px-4 py-3 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Delete User"})]})]}),y&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-sm w-full p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete User?"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:["Are you sure you want to delete ",c.jsx("strong",{children:x.name}),"? This action cannot be undone."]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>v(!1),disabled:p,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:D,disabled:p,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:p?"Deleting...":"Delete"})]})]})})]})},Noe=()=>{const{id:e}=Cn(),t=mt(),r=we.currentUser,{data:n,isPending:a,error:s}=hD(e),l=bD(),d=Mr(),[f,h]=j.useState(!1);if(a)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading user..."});if(s||!n)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(s==null?void 0:s.message)||"User not found."});const p=r.role===At.ADMIN||r.id===e,g=r.role===At.ADMIN,y=async()=>{if(e)try{await l.mutateAsync(e),d.success("User deleted successfully!"),t("/users")}catch(v){console.error("Failed to delete user:",v),d.error("Failed to delete user: "+(v instanceof Error?v.message:"Unknown error"))}finally{h(!1)}};return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/users"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Profile"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[p&&c.jsxs("button",{onClick:()=>t(`/users/edit/${n.id}`),className:`px-6 py-2 ${ae.colors.primary[600]} text-white rounded-xl font-bold hover:${ae.colors.primary[700]} shadow-md flex items-center gap-2`,children:[ne.Edit," Edit Profile"]}),g&&c.jsx("button",{onClick:()=>h(!0),disabled:l.isPending,className:"px-6 py-2 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Delete User"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsx("div",{className:"h-32 bg-gradient-to-r from-[#0f2f57] to-[#1a3a6e]"}),c.jsxs("div",{className:"px-8 pb-8",children:[c.jsxs("div",{className:"relative flex justify-between items-end -mt-12 mb-8",children:[c.jsx("div",{className:"p-1 bg-white rounded-full shadow-xl",children:c.jsx("img",{src:n.image||"https://picsum.photos/200/200?random="+n.id,className:"w-24 h-24 rounded-full object-cover border-1 border-black"})}),c.jsx("span",{className:`px-4 py-1 rounded-full text-xs font-black uppercase tracking-widest ${n.role===At.ADMIN?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:n.role})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Full Name"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n.name})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Phone Number"}),c.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.phone})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Joining Date"}),c.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.createdAt?new Date(n.createdAt).toLocaleDateString("en-BD",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[c.jsx("h4",{className:"font-bold text-gray-900",children:"Account Security"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Passwords are managed by system administrators. If you need to reset your password, please contact the IT department."}),c.jsxs("div",{className:"flex items-center gap-2 text-emerald-700 text-sm font-bold",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Active Status Verified"]})]})]})]})]}),f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-sm w-full p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete User?"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:["Are you sure you want to delete ",c.jsx("strong",{children:n.name}),"? This action cannot be undone."]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>h(!1),disabled:l.isPending,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:y,disabled:l.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:l.isPending?"Deleting...":"Delete"})]})]})})]})},Ooe=()=>{const[e,t]=j.useState("company"),[r,n]=j.useState(null),a=$e(),{data:s,isPending:l}=Mp(),{data:d,isPending:f}=Rp(),{data:h,isPending:p}=Ip(),{data:g,isPending:y}=gD(),{data:v,isPending:x}=$w(),{data:S=[],isPending:_}=Cs(),{data:N=[],isPending:O}=pD(),{data:A=[],isPending:C}=v9(),{data:T=[]}=Es(),k=R9(),D=I9(),M=L9(),L=B9();$9(),U9();const G=z9(),Q=Mr(),[K,J]=j.useState({name:"",phone:"",email:"",address:"",logo:""}),[H,ie]=j.useState({prefix:"ORD-",nextNumber:1}),[B,U]=j.useState({steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}),[ee,ue]=j.useState({title:"Invoice",logoWidth:120,logoHeight:120,footer:""}),[ce,I]=j.useState({defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}),[V,me]=j.useState({name:"",type:"Income",color:"#10B981",parentId:""}),[pe,be]=j.useState({name:"",description:""}),[ke,Ae]=j.useState({name:"",shortName:"",description:""}),[te,R]=j.useState([]),[de,ge]=j.useState(!1);xr.useEffect(()=>{s&&J(s)},[s]),xr.useEffect(()=>{d&&ie(d)},[d]),xr.useEffect(()=>{h&&ue(h)},[h]),xr.useEffect(()=>{g&&I(g)},[g]),xr.useEffect(()=>{v&&U(v)},[v]),j.useEffect(()=>{let oe=null;const kt=async()=>{const{baseUrl:Yr,clientId:sr,clientSecret:ut,clientContext:Fc}=B.carryBee,Qc=Yr==null?void 0:Yr.trim(),Hc=sr==null?void 0:sr.trim(),Ds=ut==null?void 0:ut.trim(),yf=Fc==null?void 0:Fc.trim();if(!Qc||!Hc||!Ds||!yf){R([]);return}ge(!0);try{const Go=await t9({baseUrl:Qc,clientId:Hc,clientSecret:Ds,clientContext:yf});R(Go)}catch(Go){console.error("Failed to fetch CarryBee stores:",Go),R([])}finally{ge(!1)}};return oe=setTimeout(()=>{kt()},700),()=>{oe&&clearTimeout(oe)}},[B.carryBee.baseUrl,B.carryBee.clientId,B.carryBee.clientSecret,B.carryBee.clientContext]);const se=l||f||p||y||x||_||O||C,Me=async()=>{try{const oe=Q.loading("Saving all settings...");G.mutateAsync({company:K,order:H,invoice:ee,defaults:ce,courier:B}).then(()=>{we.settings.company=K,we.settings.order=H,we.settings.invoice=ee,we.settings.defaults=ce,we.settings.courier=B,Q.update(oe,"Settings saved successfully!","success")}).catch(kt=>{console.error("Failed to save settings:",kt),Q.update(oe,"Failed to save settings: "+(kt instanceof Error?kt.message:"Unknown error"),"error")})}catch(oe){console.error("Failed to initiate settings save:",oe),Q.error("Failed to save settings: "+(oe instanceof Error?oe.message:"Unknown error"))}},Ce=oe=>{var Yr;const kt=(Yr=oe.target.files)==null?void 0:Yr[0];if(kt){const sr=new FileReader;sr.onload=()=>{J({...K,logo:sr.result})},sr.readAsDataURL(kt)}},He=async()=>{if(!V.name.trim()){Q.warning("Please enter a category name");return}const oe={id:crypto.randomUUID(),name:V.name,type:V.type,color:V.color,parentId:V.parentId||void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},kt=a.getQueryData(["categories"]);a.setQueryData(["categories"],(ut=[])=>[...ut,oe]);const Yr=Q.loading("Adding category..."),sr={...V};me({name:"",type:"Income",color:"#10B981",parentId:""}),n(null);try{await k.mutateAsync({name:sr.name,type:sr.type,color:sr.color,parentId:sr.parentId||void 0}),Q.update(Yr,"Category added successfully!","success")}catch(ut){console.error("Failed to add category:",ut),a.setQueryData(["categories"],kt),Q.update(Yr,"Failed to add category: "+(ut instanceof Error?ut.message:"Unknown error"),"error"),n("category"),me(sr)}},et=async oe=>{if(confirm("Are you sure you want to delete this category?"))try{await D.mutateAsync(oe),Q.success("Category deleted successfully!")}catch(kt){console.error("Failed to delete category:",kt),Q.error("Failed to delete category: "+(kt instanceof Error?kt.message:"Unknown error"))}},Yt=async()=>{if(!pe.name.trim()){Q.warning("Please enter a payment method name");return}const oe={id:crypto.randomUUID(),name:pe.name,description:pe.description||"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},kt=a.getQueryData(["paymentMethods"]);a.setQueryData(["paymentMethods"],(ut=[])=>[...ut,oe]);const Yr=Q.loading("Adding payment method..."),sr={...pe};be({name:"",description:""}),n(null);try{await M.mutateAsync({name:sr.name,description:sr.description||void 0}),Q.update(Yr,"Payment method added successfully!","success")}catch(ut){console.error("Failed to add payment method:",ut),a.setQueryData(["paymentMethods"],kt),Q.update(Yr,"Failed to add payment method: "+(ut instanceof Error?ut.message:"Unknown error"),"error"),n("payment"),be(sr)}},Rr=async oe=>{if(confirm("Are you sure you want to delete this payment method?"))try{await L.mutateAsync(oe),Q.success("Payment method deleted successfully!")}catch(kt){console.error("Failed to delete payment method:",kt),Q.error("Failed to delete payment method: "+(kt instanceof Error?kt.message:"Unknown error"))}},ir=[{id:"company",label:"Company",icon:ne.Dashboard},{id:"order",label:"Order & Invoice",icon:ne.Sales},{id:"defaults",label:"Defaults",icon:ne.Settings},{id:"categories",label:"Categories",icon:ne.More},{id:"payments",label:"Payment Methods",icon:ne.Banking},{id:"courier",label:"Courier",icon:ne.Courier}];return c.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[c.jsx(Qd,{isLoading:se,message:"Loading settings..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Configure your accounting environment and business rules"})]}),c.jsx(Qe,{onClick:Me,variant:"primary",size:"md",children:"Save All Changes"})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[c.jsx("div",{className:"w-full lg:w-64 space-y-1",children:ir.map(oe=>c.jsxs("button",{onClick:()=>t(oe.id),className:`flex items-center gap-3 w-full px-4 py-3 rounded-xl font-medium transition-all ${e===oe.id?`bg-white ${ae.colors.primary[600]} shadow-sm border border-gray-100 ring-1 ring-[#ebf4ff]`:"text-gray-500 hover:bg-gray-100"}`,children:[oe.icon,oe.label]},oe.id))}),c.jsxs("div",{className:"flex-1 bg-white p-8 rounded-xl border border-gray-100 shadow-sm min-h-[500px]",children:[e==="company"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Company Profile"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 flex items-center gap-6 p-6 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden bg-white border",children:K.logo&&c.jsx("img",{src:K.logo,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Company Logo"}),c.jsx("input",{type:"file",id:"logo-input",className:"hidden",onChange:Ce}),c.jsx(Qe,{variant:"primary",size:"sm",onClick:()=>{var oe;return(oe=document.getElementById("logo-input"))==null?void 0:oe.click()},children:"Change Logo"})]})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Company Name"}),c.jsx("input",{type:"text",value:K.name,onChange:oe=>J({...K,name:oe.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Phone"}),c.jsx("input",{type:"text",value:K.phone,onChange:oe=>J({...K,phone:oe.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Email"}),c.jsx("input",{type:"email",value:K.email,onChange:oe=>J({...K,email:oe.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("textarea",{value:K.address,onChange:oe=>J({...K,address:oe.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl h-24 focus:ring-2 focus:ring-[#3c5a82] transition-all"})]})]})]}),e==="order"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsxs("section",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Order Logic"}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Order Prefix"}),c.jsx("input",{type:"text",value:H.prefix,onChange:oe=>ie({...H,prefix:oe.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl font-mono"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Next Number"}),c.jsx("input",{type:"number",value:H.nextNumber,onChange:oe=>ie({...H,nextNumber:parseInt(oe.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]}),c.jsxs("section",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Invoice Settings"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-1 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Invoice Title"}),c.jsx("input",{type:"text",value:ee.title,onChange:oe=>ue({...ee,title:oe.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Logo Width (px)"}),c.jsx("input",{type:"number",value:ee.logoWidth,onChange:oe=>ue({...ee,logoWidth:parseInt(oe.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Logo Height (px)"}),c.jsx("input",{type:"number",value:ee.logoHeight,onChange:oe=>ue({...ee,logoHeight:parseInt(oe.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"md:col-span-3 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Invoice Footer"}),c.jsx("textarea",{value:ee.footer,onChange:oe=>ue({...ee,footer:oe.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl h-24"})]})]})]})]}),e==="defaults"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"System Defaults"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Account"}),c.jsxs("select",{value:ce.defaultAccountId,onChange:oe=>I({...ce,defaultAccountId:oe.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select an account..."}),T.map(oe=>c.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Payment Method"}),c.jsxs("select",{value:ce.defaultPaymentMethod,onChange:oe=>I({...ce,defaultPaymentMethod:oe.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a payment method..."}),N.map(oe=>c.jsx("option",{value:oe.name,children:oe.name},oe.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Income Category"}),c.jsxs("select",{value:ce.incomeCategoryId,onChange:oe=>I({...ce,incomeCategoryId:oe.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a category..."}),S.filter(oe=>oe.type==="Income").map(oe=>c.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Expense Category"}),c.jsxs("select",{value:ce.expenseCategoryId,onChange:oe=>I({...ce,expenseCategoryId:oe.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a category..."}),S.filter(oe=>oe.type==="Expense").map(oe=>c.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Records Per Page"}),c.jsx("input",{type:"number",value:ce.recordsPerPage,onChange:oe=>I({...ce,recordsPerPage:parseInt(oe.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]}),e==="categories"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Categories"}),c.jsxs(Qe,{onClick:()=>n("category"),variant:"primary",size:"md",children:[ne.Plus," Add"]})]}),_?c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading categories..."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.map(oe=>c.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-gray-50/50 hover:shadow-sm transition-all",children:[c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:oe.color}}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-800",children:oe.name}),c.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:oe.type})]}),c.jsx("button",{onClick:()=>et(oe.id),className:"text-red-500 hover:text-red-700 px-2",children:ne.Delete})]},oe.id)),S.length===0&&c.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:'No categories yet. Click "Add Category" to create one.'})]})]}),e==="payments"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Payment Methods"}),c.jsxs(Qe,{onClick:()=>n("payment"),variant:"primary",size:"md",children:[ne.Plus," Add"]})]}),O?c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading payment methods..."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.map(oe=>c.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50/50 hover:shadow-sm transition-all flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-800",children:oe.name}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:oe.description||"No description"})]}),c.jsx("button",{onClick:()=>Rr(oe.id),className:"text-red-500 hover:text-red-700 px-2",children:ne.Delete})]},oe.id)),N.length===0&&c.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:'No payment methods yet. Click "Add Method" to create one.'})]})]}),e==="courier"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsxs("section",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4 flex items-center gap-2",children:[c.jsx("span",{className:"${theme.colors.secondary[600]}",children:"Steadfast"})," Logistics"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Base URL"}),c.jsx("input",{type:"text",value:B.steadfast.baseUrl,onChange:oe=>U({...B,steadfast:{...B.steadfast,baseUrl:oe.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"API Key"}),c.jsx("input",{type:"text",value:B.steadfast.apiKey,onChange:oe=>U({...B,steadfast:{...B.steadfast,apiKey:oe.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Secret Key"}),c.jsx("input",{type:"text",value:B.steadfast.secretKey,onChange:oe=>U({...B,steadfast:{...B.steadfast,secretKey:oe.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]})]}),c.jsxs("section",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4 flex items-center gap-2",children:[c.jsx("span",{className:"text-orange-600",children:"CarryBee"})," Fulfillment"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Base URL"}),c.jsx("input",{type:"text",value:B.carryBee.baseUrl,onChange:oe=>U({...B,carryBee:{...B.carryBee,baseUrl:oe.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client ID"}),c.jsx("input",{type:"text",value:B.carryBee.clientId,onChange:oe=>U({...B,carryBee:{...B.carryBee,clientId:oe.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client Secret"}),c.jsx("input",{type:"text",value:B.carryBee.clientSecret,onChange:oe=>U({...B,carryBee:{...B.carryBee,clientSecret:oe.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client Context"}),c.jsx("input",{type:"text",value:B.carryBee.clientContext,onChange:oe=>U({...B,carryBee:{...B.carryBee,clientContext:oe.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Store ID"}),c.jsxs("select",{value:B.carryBee.storeId,onChange:oe=>U({...B,carryBee:{...B.carryBee,storeId:oe.target.value}}),disabled:de||te.length===0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:de?"Loading stores...":te.length===0?"Fill CarryBee credentials first":"Select Store"}),te.map(oe=>c.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]})]})]})]})]})]})]}),r==="category"&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>n(null)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 p-8 space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Category"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:V.name,onChange:oe=>me({...V,name:oe.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Type"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:V.type,onChange:oe=>me({...V,type:oe.target.value}),children:[c.jsx("option",{value:"Income",children:"Income"}),c.jsx("option",{value:"Expense",children:"Expense"}),c.jsx("option",{value:"Product",children:"Product"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Color"}),c.jsx("input",{type:"color",className:"w-full h-12 bg-gray-50 border rounded-xl cursor-pointer",value:V.color,onChange:oe=>me({...V,color:oe.target.value})})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(Qe,{onClick:()=>n(null),variant:"ghost",className:"flex-1",children:"Cancel"}),c.jsx(Qe,{onClick:He,variant:"primary",size:"md",className:"flex-1",children:"Add Category"})]})]})]}),r==="payment"&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>n(null)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 p-8 space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Payment Method"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Method Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:pe.name,onChange:oe=>be({...pe,name:oe.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Description"}),c.jsx("textarea",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl h-24",value:pe.description,onChange:oe=>be({...pe,description:oe.target.value})})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(Qe,{onClick:()=>n(null),variant:"ghost",className:"flex-1",children:"Cancel"}),c.jsx(Qe,{onClick:Yt,variant:"primary",size:"md",className:"flex-1",children:"Add Method"})]})]})]})]})},Eoe=()=>{const e=mt(),t=$e(),r=Mr(),{searchQuery:n}=Da(),{data:a=[],isPending:s,error:l}=Uo(),d=w9(),f=we.currentUser.role===At.ADMIN,h=j.useMemo(()=>{if(!n.trim())return a;const g=n.toLowerCase();return a.filter(y=>y.name.toLowerCase().includes(g)||y.phone.includes(g)||y.address.toLowerCase().includes(g))},[a,n]),p=async g=>{if(confirm("Are you sure you want to delete this customer?"))try{await d.mutateAsync(g),t.invalidateQueries({queryKey:["customers"]}),r.success("Customer deleted successfully")}catch(y){console.error("Failed to delete customer:",y),r.error("Failed to delete customer")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Customers"})}),c.jsx(Qe,{onClick:()=>e("/customers/new"),variant:"primary",size:"md",icon:ne.Plus,children:"New Customer"})]}),l&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsxs("p",{className:"text-red-800",children:[c.jsx("strong",{children:"Error loading customers:"})," ",l]})}),c.jsx(Dp,{columns:[{key:"name",label:"Customer Name",render:(g,y)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-full bg-green-100 ${ae.colors.primary[600]} flex items-center justify-center font-bold text-white`,children:y.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 block",children:y.name}),c.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:y.address})]})]})},{key:"phone",label:"Contact",render:g=>c.jsx("span",{className:"text-sm font-medium text-gray-700",children:g})},{key:"totalOrders",label:"Total Orders",align:"center",render:g=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-bold text-gray-600",children:g})},{key:"dueAmount",label:"Due Amount",align:"right",render:g=>c.jsx("span",{className:`font-bold ${g>0?"text-red-500":"text-green-500"}`,children:ve(g)})},{key:"id",label:"Actions",align:"right",render:g=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(js,{icon:ne.Edit,variant:"primary",title:"Edit",onClick:y=>{y.stopPropagation(),e(`/customers/edit/${g}`)}}),f&&c.jsx(js,{icon:ne.Delete,variant:"danger",title:"Delete",onClick:y=>{y.stopPropagation(),p(g)}})]})}],data:h,loading:s,onRowClick:g=>e(`/customers/${g.id}`),emptyMessage:"No customers found"})]})},VP=()=>{const{id:e}=Cn(),t=mt(),r=!!e,[n,a]=j.useState({name:"",phone:"",address:""}),[s,l]=j.useState(null),{data:d,isPending:f,error:h}=dD(r?e:void 0),p=b9(),g=x9();j.useEffect(()=>{d&&a({name:d.name,phone:d.phone,address:d.address})},[d]);const y=async()=>{if(!n.name||!n.phone){l("Name and phone are required");return}l(null);try{if(r){const v={name:n.name,phone:n.phone,address:n.address};await g.mutateAsync({id:e,updates:v}),t("/customers")}else{const v={name:n.name,phone:n.phone,address:n.address,totalOrders:0,dueAmount:0};p.mutateAsync(v).then(()=>{t("/customers")},x=>{l(x instanceof Error?x.message:"Failed to create customer")})}}catch(v){console.error(`Failed to ${r?"update":"create"} customer:`,v),l(v instanceof Error?v.message:`Failed to ${r?"update":"create"} customer`)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:r?"Edit Customer":"New Customer"}),c.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 text-gray-500 font-bold hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"})]}),c.jsx("div",{className:"bg-white p-10 rounded-xl border border-gray-100 shadow-xl space-y-8",children:r&&f?c.jsx("div",{className:"text-center text-gray-500",children:"Loading customer..."}):c.jsxs(c.Fragment,{children:[s&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:s})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Full Name"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:n.name,onChange:v=>a({...n,name:v.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Phone Number"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:n.phone,onChange:v=>a({...n,phone:v.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Address"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 transition-all outline-none",value:n.address,onChange:v=>a({...n,address:v.target.value})})]}),c.jsx(Qe,{onClick:y,variant:"primary",size:"lg",className:"w-full",disabled:p.isPending||g.isPending,children:p.isPending||g.isPending?r?"Updating...":"Adding...":r?"Update Customer":"Add Customer"})]})})]})},Aoe=()=>{const{id:e}=Cn(),t=mt(),[r,n]=j.useState(null),a=we.currentUser,s=(a==null?void 0:a.role)||null,{data:l}=dD(e||""),{data:d=[]}=g9(e||""),{data:f}=Rp(),h=Lp(),p=Mr(),{totalRevenue:g,dueAmount:y}=j.useMemo(()=>{const S=d.filter(A=>A.status===Le.COMPLETED),_=d.filter(A=>A.status===Le.PROCESSING||A.status===Le.PICKED),N=S.reduce((A,C)=>A+C.total,0),O=_.reduce((A,C)=>A+(C.total-C.paidAmount),0);return{totalRevenue:N,dueAmount:O}},[d]),v=S=>{switch(S){case Le.ON_HOLD:return"bg-gray-100 text-gray-600";case Le.PROCESSING:return"bg-[#e6f0ff] ${theme.colors.secondary[600]}";case Le.PICKED:return"bg-purple-100 text-purple-600";case Le.COMPLETED:return"bg-green-100 ${theme.colors.primary[600]}";case Le.CANCELLED:return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}},x=async S=>{try{if(!l)return;if(!f){p.error("Unable to generate new order number. Please try again.");return}const _=`${f.prefix}${f.nextNumber}`,N=new Date,O=N.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),A=N.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),C={orderNumber:_,orderDate:new Date().toISOString().split("T")[0],customerId:l.id,createdBy:S.createdBy,status:Le.ON_HOLD,items:S.items,subtotal:S.subtotal,discount:S.discount,shipping:S.shipping,total:S.total,paidAmount:0,history:{created:`Duplicated from order #${S.orderNumber} on ${O}, at ${A}`}};await h.mutateAsync(C),p.success("Order duplicated successfully"),t("/orders")}catch(_){console.error("Failed to duplicate order",_),p.error("Failed to duplicate order: "+(_ instanceof Error?_.message:"Unknown error"))}};return s===At.EMPLOYEE?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot view customer details. Contact an administrator for assistance."}),c.jsx(Qe,{onClick:()=>t("/customers"),variant:"primary",children:"Back to Customers"})]}):l?c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/customers"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Profile"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx("button",{onClick:()=>t(`/customers/edit/${e}`),className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-700 hover:bg-gray-50",children:"Edit Profile"})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-[#ebf4ff] ${theme.colors.primary[600]} flex items-center justify-center font-black text-4xl mx-auto mb-4 border-2 border-[#c7dff5]",children:l.name.charAt(0)}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:l.name}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:l.phone}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 space-y-4 text-left",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Address"}),c.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed",children:l.address})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Revenue"}),c.jsx("p",{className:"text-lg font-black text-gray-900",children:ve(g)})]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg shadow-[#0f2f57]/20/50 border border-gray-100 text-white",children:[c.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-1",children:"Due Amount"}),c.jsx("h4",{className:"text-lg font-black text-green-600",children:ve(y)})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Order History"}),c.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[d.length," Records found"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[c.jsx("th",{className:"px-6 py-4",children:"Order Number"}),c.jsx("th",{className:"px-6 py-4",children:"Order Date"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:d.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-400 italic",children:"No orders found for this customer."})}):d.map(S=>c.jsxs("tr",{onMouseEnter:()=>n(S.id),onMouseLeave:()=>n(null),onClick:()=>t(`/orders/${S.id}`),className:"group relative hover:bg-[#ebf4ff]/30 cursor-pointer transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"font-bold text-gray-900",children:["#",S.orderNumber]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:S.orderDate}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${v(S.status)}`,children:S.status})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("span",{className:"font-black text-gray-900",children:ve(S.total)})}),r===S.id&&c.jsx("td",{className:"absolute inset-y-0 right-0 flex items-center pr-6 bg-gradient-to-l from-emerald-50 via-emerald-50 to-transparent",children:c.jsxs("div",{className:"flex items-center gap-1 bg-white p-1 rounded-lg shadow-lg border border-[#c7dff5] animate-in fade-in slide-in-from-right-2 duration-200",onClick:_=>_.stopPropagation(),children:[c.jsx("button",{title:"Edit",onClick:()=>t(`/orders/edit/${S.id}`),className:"p-2 text-gray-500 hover:${theme.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors",children:ne.Edit}),c.jsx("button",{title:"Duplicate",onClick:()=>x(S),className:"p-2 text-gray-500 hover:${theme.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors",children:ne.Duplicate})]})})]},S.id))})]})})]})})]})]}):c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Customer not found."})},Coe=()=>{const e=mt(),t=$e(),r=Mr(),{searchQuery:n}=Da(),{data:a=[],isPending:s}=Tc(),l=P9(),d=j.useMemo(()=>{if(!n.trim())return a;const h=n.toLowerCase();return a.filter(p=>p.name.toLowerCase().includes(h)||p.phone.includes(h)||p.address.toLowerCase().includes(h))},[a,n]),f=async h=>{if(confirm("Are you sure you want to delete this vendor?"))try{await l.mutateAsync(h),t.invalidateQueries({queryKey:["vendors"]}),r.success("Vendor deleted successfully")}catch(p){console.error("Failed to delete vendor:",p),r.error("Failed to delete vendor")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Vendors"})}),c.jsx(Qe,{onClick:()=>e("/vendors/new"),variant:"primary",size:"md",icon:ne.Plus,children:"New Vendor"})]}),c.jsx(Dp,{columns:[{key:"name",label:"Vendor Name",render:(h,p)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold",children:p.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 block",children:p.name}),c.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:p.address})]})]})},{key:"phone",label:"Contact",render:h=>c.jsx("span",{className:"text-sm font-medium text-gray-700",children:h})},{key:"totalPurchases",label:"Purchases",align:"center",render:h=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-bold text-gray-600",children:h})},{key:"dueAmount",label:"Balance Payable",align:"right",render:h=>c.jsx("span",{className:`font-bold ${h>0?"text-red-500":"text-green-500"}`,children:ve(h)})},{key:"id",label:"Actions",align:"right",render:h=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(js,{icon:ne.Edit,variant:"primary",title:"Edit",onClick:p=>{p.stopPropagation(),e(`/vendors/edit/${h}`)}}),c.jsx(js,{icon:ne.Delete,variant:"danger",title:"Delete",onClick:p=>{p.stopPropagation(),f(h)}})]})}],data:d,loading:s,onRowClick:h=>e(`/vendors/${h.id}`),emptyMessage:"No vendors found"})]})},GP=()=>{const{id:e}=Cn(),t=mt(),{isLoading:r}=Np(),n=!!e,[a,s]=j.useState({name:"",phone:"",address:""}),[l,d]=j.useState(null),{data:f,isPending:h,error:p}=mD(n?e:void 0),g=C9(),y=k9();j.useEffect(()=>{f&&s({name:f.name,phone:f.phone,address:f.address})},[f]);const v=async()=>{if(r){d("Authenticating... Please wait");return}if(!a.name||!a.phone){d("Business name and phone are required");return}d(null);try{if(n){const x={name:a.name,phone:a.phone,address:a.address};await y.mutateAsync({id:e,updates:x}),t("/vendors")}else{const x={name:a.name,phone:a.phone,address:a.address,totalPurchases:0,dueAmount:0};g.mutateAsync(x).then(()=>{t("/vendors")},S=>{d(S instanceof Error?S.message:"Failed to create vendor")})}}catch(x){console.error(`Failed to ${n?"update":"create"} vendor:`,x),d(x instanceof Error?x.message:`Failed to ${n?"update":"create"} vendor`)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:n?"Edit Vendor":"New Vendor"}),c.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 text-gray-500 font-bold hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"})]}),c.jsx("div",{className:"bg-white p-10 rounded-xl border border-gray-100 shadow-xl space-y-8",children:n&&h?c.jsx("div",{className:"text-center text-gray-500",children:"Loading vendor..."}):c.jsxs(c.Fragment,{children:[l&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:l})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Vendor/Business Name"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-blue-500 focus:bg-white rounded-lg font-bold transition-all outline-none",value:a.name,onChange:x=>s({...a,name:x.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Contact Person / Phone"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-blue-500 focus:bg-white rounded-lg font-bold transition-all outline-none",value:a.phone,onChange:x=>s({...a,phone:x.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-blue-500 focus:bg-white rounded-lg font-medium h-32 transition-all outline-none",value:a.address,onChange:x=>s({...a,address:x.target.value})})]}),c.jsx(Qe,{onClick:v,variant:"primary",size:"lg",className:"w-full",disabled:g.isPending||y.isPending,children:g.isPending||y.isPending?n?"Updating...":"Adding...":n?"Update Vendor":"Add Vendor"})]})})]})},koe=()=>{const{id:e}=Cn(),t=mt(),{data:r,isPending:n}=mD(e||""),{data:a=[]}=kc(),[s,l]=j.useState(null);if(n)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading vendor details..."});if(!r)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Vendor not found."});const d=a.filter(h=>h.vendorId===r.id),f=h=>{switch(h){case sn.ON_HOLD:return"bg-gray-100 text-gray-600";case sn.PROCESSING:return"bg-blue-100 text-blue-600";case sn.RECEIVED:return"bg-green-100 text-green-600";default:return"bg-gray-100 text-gray-600"}};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/vendors"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vendor Profile"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-700 hover:bg-gray-50",children:"Edit Profile"}),c.jsx("button",{className:`px-4 py-2 ${ae.colors.primary[600]} text-white rounded-xl font-bold hover:${ae.colors.primary[700]} shadow-md`,children:"Purchase Statement"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[c.jsx("div",{className:`w-24 h-24 rounded-full bg-[#e6f0ff] ${ae.colors.primary.text} flex items-center justify-center font-black text-4xl mx-auto mb-4 border-2 border-[#c7dff5]`,children:r.name.charAt(0)}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r.name}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r.phone}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 space-y-4 text-left",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed",children:r.address})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Procurement"}),c.jsx("p",{className:"text-lg font-black text-gray-900",children:ve(d.reduce((h,p)=>h+p.total,0))})]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg shadow-[#0f2f57]/20 text-white",children:[c.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-1",children:"Total Payable"}),c.jsx("h4",{className:"text-lg font-black text-red-600",children:ve(r.dueAmount)})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Purchase Bills"}),c.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[d.length," Invoices"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[c.jsx("th",{className:"px-6 py-4",children:"Bill Number"}),c.jsx("th",{className:"px-6 py-4",children:"Bill Date"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:d.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-400 italic",children:"No purchase bills found for this vendor."})}):d.map(h=>c.jsxs("tr",{onMouseEnter:()=>l(h.id),onMouseLeave:()=>l(null),onClick:()=>t(`/bills/${h.id}`),className:"group relative hover:bg-blue-50/30 cursor-pointer transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"font-bold text-gray-900",children:["#",h.billNumber]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:h.billDate}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${f(h.status)}`,children:h.status})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("span",{className:"font-black text-gray-900",children:ve(h.total)})}),s===h.id&&c.jsx("td",{className:"absolute inset-y-0 right-0 flex items-center pr-6 bg-gradient-to-l from-blue-50 via-blue-50 to-transparent",children:c.jsx("div",{className:"flex items-center gap-1 bg-white p-1 rounded-lg shadow-lg border border-[#c7dff5] animate-in fade-in slide-in-from-right-2 duration-200",onClick:p=>p.stopPropagation(),children:c.jsx("button",{title:"Edit",onClick:()=>t(`/bills/edit/${h.id}`),className:`p-2 text-gray-500 hover:${ae.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors`,children:ne.Edit})})})]},h.id))})]})})]})})]})]})},Poe=({title:e,description:t,icon:r,color:n,to:a})=>{const s=mt();return c.jsxs("button",{onClick:()=>s(a),className:"flex items-start gap-4 p-6 bg-white rounded-lg border border-gray-100 shadow-sm hover:shadow-md hover:border-[#c7dff5] transition-all text-left w-full group",children:[c.jsx("div",{className:`p-4 rounded-[50%] ${n} transition-transform group-hover:scale-110 duration-300`,children:r}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:e}),c.jsx("p",{className:"text-sm text-gray-500 mt-1 leading-relaxed",children:t}),c.jsxs("div",{className:"mt-4 flex items-center gap-1 text-xs font-bold uppercase tracking-widest opacity-40 group-hover:opacity-100 transition-opacity",children:["View Report ",ne.ChevronRight]})]})]})},Toe=()=>{const e=[{title:"Expense Summary",description:"Breakdown of your business spending by category and vendor.",icon:ne.Delete,color:"bg-red-50 text-red-600",to:"/reports/expense"},{title:"Income Summary",description:"Analysis of your revenue streams and payment collections.",icon:ne.PlusCircle,color:`bg-[#ebf4ff] ${ae.colors.primary[600]}`,to:"/reports/income"},{title:"Income vs Expense",description:"Visual comparison of cash inflows and outflows over time.",icon:ne.Transfer,color:`bg-[#e6f0ff] ${ae.colors.secondary[600]}`,to:"/reports/income-vs-expense"},{title:"Profit and Loss",description:"Standard P&L statement to track net business profitability.",icon:ne.Reports,color:"bg-purple-50 text-purple-600",to:"/reports/profit-loss"}];return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Financial Reports"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Deep dive into your business metrics and performance."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,r)=>c.jsx(Poe,{...t},r))})]})},Doe=()=>{const e=mt(),{data:t=[]}=Pc(),{data:r=[]}=Tc(),{data:n=[]}=Es(),{data:a=[]}=Cs(),s=new Map(a.map(g=>[g.id,g.name])),l=t.filter(g=>g.type==="Expense"),d={};l.forEach(g=>{const y=s.get(g.category)||g.category||"Uncategorized";d[y]=(d[y]||0)+g.amount});const f=Object.entries(d).map(([g,y])=>({name:g,value:y})),h=["#EF4444","#F97316","#F59E0B","#8B5CF6","#EC4899","#3B82F6"],p=()=>{const g=`Date,Category,Contact,Account,Amount,Description
`,y=l.map(_=>{var C,T;const N=((C=r.find(k=>k.id===_.contactId))==null?void 0:C.name)||"N/A",O=((T=n.find(k=>k.id===_.accountId))==null?void 0:T.name)||"N/A",A=s.get(_.category)||_.category||"Uncategorized";return`${_.date},"${A}","${N}","${O}",${_.amount},"${_.description}"`}).join(`
`),v=new Blob([g+y],{type:"text/csv"}),x=window.URL.createObjectURL(v),S=document.createElement("a");S.setAttribute("hidden",""),S.setAttribute("href",x),S.setAttribute("download","expense_summary.csv"),document.body.appendChild(S),S.click(),document.body.removeChild(S)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Expense Summary"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-xl font-bold text-sm text-gray-700 hover:bg-gray-50",children:[ne.Download," Export CSV"]}),c.jsx(Qe,{variant:"primary",size:"sm",icon:ne.Print,children:"Export Image"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-6",children:"Expenses by Category"}),c.jsx("div",{className:"h-[350px]",children:c.jsx(Zl,{width:"100%",height:"100%",children:c.jsxs(w5,{data:f,layout:"vertical",margin:{left:40,right:40},children:[c.jsx(Pd,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f1f5f9"}),c.jsx(Dd,{type:"number",axisLine:!1,tickLine:!1,tick:{fontSize:10}}),c.jsx(Md,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),c.jsx(ec,{formatter:g=>ve(g),contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),c.jsx(Eo,{dataKey:"value",radius:[0,4,4,0],barSize:30,children:f.map((g,y)=>c.jsx(Qo,{fill:h[y%h.length]},`cell-${y}`))})]})})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsx("h3",{className:"font-bold text-gray-800",children:"Key Statistics"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-bold text-red-400 uppercase tracking-widest",children:"Total Outflow"}),c.jsx("h4",{className:"text-3xl font-black text-red-600",children:ve(l.reduce((g,y)=>g+y.amount,0))})]}),c.jsx("div",{className:"divide-y divide-gray-50",children:f.sort((g,y)=>y.value-g.value).slice(0,5).map((g,y)=>c.jsxs("div",{className:"py-3 flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium text-gray-500",children:g.name}),c.jsx("span",{className:"text-sm font-bold text-gray-900",children:ve(g.value)})]},y))})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 shadow-sm overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-50",children:c.jsx("h3",{className:"font-bold text-gray-900",children:"Recent Expense Log"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase",children:[c.jsx("th",{className:"px-6 py-4",children:"Date"}),c.jsx("th",{className:"px-6 py-4",children:"Category"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:l.slice(0,10).map(g=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:g.date}),c.jsx("td",{className:"px-6 py-4 text-sm font-bold text-gray-800",children:s.get(g.category)||g.category||"Uncategorized"}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-red-600",children:ve(g.amount)})]},g.id))})]})})]})]})},Moe=()=>{const e=mt(),{data:t=[]}=Pc(),{data:r=[]}=Uo(),{data:n=[]}=Cc(),{data:a=[]}=Cs(),s=new Map(a.map(v=>[v.id,v.name])),l=t.filter(v=>v.type==="Income"),d={};l.forEach(v=>{d[v.category]=(d[v.category]||0)+v.amount});const f=Object.entries(d).map(([v,x])=>({name:s.get(v)||v||"Uncategorized",value:x})),h=["#10B981","#34D399","#6EE7B7","#A7F3D0","#D1FAE5"],p=n.filter(v=>v.status===Le.COMPLETED),g={};p.forEach(v=>{g[v.customerId]=(g[v.customerId]||0)+v.total});const y=r.map(v=>({...v,revenue:g[v.id]||0})).filter(v=>v.revenue>0).sort((v,x)=>x.revenue-v.revenue).slice(0,3);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Income Summary"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-xl font-bold text-sm text-gray-700 hover:bg-gray-50",children:[ne.Download," Export CSV"]}),c.jsx(Qe,{variant:"primary",size:"sm",icon:ne.Print,children:"Export Image"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm flex flex-col items-center",children:[c.jsx("h3",{className:"font-bold text-gray-800 self-start mb-6",children:"Revenue Mix"}),c.jsx("div",{className:"w-full h-[300px]",children:c.jsx(Zl,{width:"100%",height:"100%",children:c.jsxs(S5,{children:[c.jsx(R1,{data:f,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:f.map((v,x)=>c.jsx(Qo,{fill:h[x%h.length]},`cell-${x}`))}),c.jsx(ec,{formatter:v=>ve(v)}),c.jsx(ig,{verticalAlign:"bottom",align:"center"})]})})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:`${ae.colors.primary[600]} p-8 rounded-lg text-white shadow-lg shadow-[#0f2f57]/20`,children:[c.jsx("p",{className:"text-[#c7dff5] text-xs font-bold uppercase tracking-widest mb-1",children:"Total Revenue Collected"}),c.jsx("h4",{className:"text-4xl font-black",children:ve(l.reduce((v,x)=>v+x.amount,0))}),c.jsxs("div",{className:"mt-6 p-4 bg-white/10 rounded-xl flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium",children:"Avg Transaction Size"}),c.jsx("span",{className:"font-bold",children:ve(l.length?l.reduce((v,x)=>v+x.amount,0)/l.length:0)})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Top Customers"}),c.jsx("div",{className:"space-y-4",children:y.map((v,x)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center font-bold text-xs",children:v.name.charAt(0)}),c.jsx("span",{className:"text-sm font-semibold text-gray-700",children:v.name})]}),c.jsx("span",{className:"text-sm font-black",children:ve(v.revenue)})]},x))})]})]})]})]})},Roe=()=>{const e=mt(),{data:t=[]}=Cc(),{data:r=[]}=kc(),{data:n=[]}=Pc(),a=j.useMemo(()=>{const s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=new Date().getFullYear(),d={};return s.forEach(f=>{d[f]={income:0,expense:0}}),t.forEach(f=>{const h=new Date(f.orderDate);if(h.getFullYear()===l){const p=h.getMonth(),g=s[p];d[g].income+=f.total}}),r.forEach(f=>{const h=new Date(f.billDate);if(h.getFullYear()===l){const p=h.getMonth(),g=s[p];d[g].expense+=f.total}}),n.filter(f=>f.type==="Expense"&&f.category!=="expense_purchases").forEach(f=>{const h=new Date(f.date);if(h.getFullYear()===l){const p=h.getMonth(),g=s[p];d[g].expense+=f.amount}}),s.map(f=>({name:f,income:d[f].income,expense:d[f].expense,profit:d[f].income-d[f].expense}))},[t,r,n]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Income vs Expense Trend"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx(Qe,{variant:"primary",size:"sm",icon:ne.Print,children:"Export Full Report"})})]}),c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-8",children:"Cash Flow Dynamics (Last 6 Months)"}),c.jsx("div",{className:"h-[400px]",children:c.jsx(Zl,{width:"100%",height:"100%",children:c.jsxs(_5,{data:a,children:[c.jsx(Pd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(Dd,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12}}),c.jsx(Md,{axisLine:!1,tickLine:!1,tick:{fontSize:12}}),c.jsx(ec,{formatter:s=>ve(s),contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),c.jsx(ig,{verticalAlign:"top",align:"right",height:36}),c.jsx(Eo,{dataKey:"income",fill:"#10B981",radius:[4,4,0,0],name:"Total Income",barSize:40}),c.jsx(Eo,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],name:"Total Expense",barSize:40}),c.jsx(z1,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"},name:"Net Cash Flow"})]})})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:(()=>{var p,g,y,v;const s=a.reduce((x,S)=>x+S.income,0),l=a.reduce((x,S)=>x+S.expense,0),d=a.length>0?(s-l)/a.length:0,f=a.reduce((x,S,_)=>S.income>a[x].income?_:x,0),h=a.reduce((x,S,_)=>S.expense<a[x].expense?_:x,0);return[{label:"Highest Revenue Month",value:((p=a[f])==null?void 0:p.name)||"",amount:((g=a[f])==null?void 0:g.income)||0},{label:"Least Expense Month",value:((y=a[h])==null?void 0:y.name)||"",amount:((v=a[h])==null?void 0:v.expense)||0},{label:"Average Monthly Profit",value:"Monthly Avg",amount:d,color:"text-purple-600"}].map((x,S)=>c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:x.label}),c.jsx("h4",{className:"text-xl font-bold text-gray-900 mt-1",children:x.value}),c.jsx("p",{className:`text-lg font-black mt-2 ${x.color}`,children:ve(x.amount)})]},S))})()})]})},xa=({label:e,amount:t,isBold:r,isTotal:n,indent:a})=>c.jsxs("div",{className:`flex justify-between py-2 ${r?"font-bold text-gray-900":"text-gray-600"} ${n?"border-t-2 border-gray-100 pt-4 mt-2":""} ${a?"pl-6":""}`,children:[c.jsx("span",{className:"text-sm",children:e}),c.jsx("span",{className:"text-sm font-black",children:ve(t)})]}),Ioe=()=>{const e=mt(),{data:t=[]}=Cc(),{data:r=[]}=kc(),{data:n=[]}=Pc(),{data:a=[]}=Cs(),s=new Map(a.map(x=>[x.id,x.name])),[l,d]=j.useState("currentYear"),[f,h]=j.useState(""),[p,g]=j.useState(""),y=x=>{const S=new Date(x),_=new Date;return l==="currentYear"?S.getFullYear()===_.getFullYear():l==="currentMonth"?S.getFullYear()===_.getFullYear()&&S.getMonth()===_.getMonth():l==="custom"?!f||!p?!0:S>=new Date(f)&&S<=new Date(p):!0},v=j.useMemo(()=>{const x=n.filter(M=>M.type==="Income"&&!!M.referenceId&&y(M.date)).reduce((M,L)=>M+L.amount,0),S=x>0?x:t.filter(M=>M.status===Le.COMPLETED&&y(M.orderDate)).reduce((M,L)=>M+L.total,0),_=n.filter(M=>M.type==="Expense"&&M.category==="expense_purchases"&&y(M.date)).reduce((M,L)=>M+L.amount,0),N=_>0?_:r.filter(M=>y(M.billDate)).reduce((M,L)=>M+L.total,0),O=S-N,A={};n.filter(M=>M.type==="Expense"&&M.category!=="expense_purchases"&&y(M.date)).forEach(M=>{const L=s.get(M.category)||M.category||"Uncategorized";A[L]=(A[L]||0)+M.amount});const T=Object.entries(A).map(([M,L])=>({categoryName:M,amount:L})).sort((M,L)=>L.amount-M.amount),k=Object.values(A).reduce((M,L)=>M+L,0),D=O-k;return{grossSales:S,costOfPurchases:N,grossProfit:O,expenses:T,totalOperatingExpenses:k,netProfit:D}},[t,r,n,l,f,p,s]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profit and Loss Statement"})]}),c.jsxs("button",{onClick:()=>window.print(),className:`flex items-center gap-2 px-4 py-2 ${ae.colors.primary[600]} hover:${ae.colors.primary[700]} text-white font-bold rounded-xl transition-colors`,children:[ne.Print," Print Statement"]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4",children:"Period"}),c.jsxs("div",{className:"flex gap-4 items-end",children:[c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"currentYear",checked:l==="currentYear",onChange:x=>d(x.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Year"})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"currentMonth",checked:l==="currentMonth",onChange:x=>d(x.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Month"})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"custom",checked:l==="custom",onChange:x=>d(x.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Custom Range"})]})]}),l==="custom"&&c.jsxs("div",{className:"flex gap-3 ml-auto",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-600",children:"From:"}),c.jsx("input",{type:"date",value:f,onChange:x=>h(x.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-600",children:"To:"}),c.jsx("input",{type:"date",value:p,onChange:x=>g(x.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"})]})]})]})]}),c.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"p-8 bg-gray-50 border-b border-gray-100 text-center",children:[we.settings.company.logo&&c.jsx("img",{src:we.settings.company.logo,className:"w-16 h-16 rounded-xl mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:we.settings.company.name})]}),c.jsxs("div",{className:"p-8 space-y-2",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Revenue"}),c.jsx(xa,{label:"Gross Sales (Completed Orders)",amount:v.grossSales}),c.jsx(xa,{label:"Other Operating Income",amount:0}),c.jsx(xa,{label:"Total Revenue",amount:v.grossSales,isBold:!0,isTotal:!0}),c.jsxs("div",{className:"pt-8",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Cost of Goods Sold"}),c.jsx(xa,{label:"Purchases",amount:v.costOfPurchases}),c.jsx(xa,{label:"Total COGS",amount:v.costOfPurchases,isBold:!0,isTotal:!0})]}),c.jsx("div",{className:"pt-8",children:c.jsx(xa,{label:"Gross Profit",amount:v.grossProfit,isBold:!0})}),c.jsxs("div",{className:"pt-8",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Operating Expenses"}),v.expenses.length>0?c.jsxs(c.Fragment,{children:[v.expenses.slice(0,5).map((x,S)=>c.jsx(xa,{label:x.categoryName,amount:x.amount,indent:!0},S)),v.expenses.length>5&&c.jsx(xa,{label:"Other Expenses",amount:v.expenses.slice(5).reduce((x,S)=>x+S.amount,0),indent:!0})]}):c.jsx(xa,{label:"None",amount:0,indent:!0}),c.jsx(xa,{label:"Total Operating Expenses",amount:v.totalOperatingExpenses,isBold:!0,isTotal:!0})]}),c.jsx("div",{className:"pt-12",children:c.jsxs("div",{className:`p-6 rounded-lg flex justify-between items-center ${v.netProfit>=0?ae.colors.primary[600]:"bg-red-600"} text-white shadow-xl`,children:[c.jsx("span",{className:"text-lg font-black uppercase tracking-widest",children:"Net Profit / Loss"}),c.jsx("span",{className:"text-3xl font-black",children:ve(v.netProfit)})]})})]}),c.jsx("div",{className:"p-8 text-center text-[10px] text-gray-300 italic border-t border-gray-50",children:"This report is generated automatically by BD Hatbela Financial Management System."})]})]})},YP=({order:e,customer:t,products:r,companySettings:n,invoiceSettings:a})=>c.jsxs("div",{className:"space-y-5 print:space-y-4 text-gray-900",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[((n==null?void 0:n.logo)||we.settings.company.logo)&&c.jsx("img",{src:(n==null?void 0:n.logo)||we.settings.company.logo,className:"rounded-lg object-cover mb-4",style:{width:(a==null?void 0:a.logoWidth)||we.settings.invoice.logoWidth,height:(a==null?void 0:a.logoHeight)||we.settings.invoice.logoHeight},alt:"Company Logo"}),c.jsx("h1",{className:"text-xl font-black uppercase tracking-tighter",children:(n==null?void 0:n.name)||we.settings.company.name}),c.jsxs("div",{className:"mt-2 text-xs text-gray-400 font-medium space-y-1 print:text-gray-600",children:[c.jsx("p",{children:(n==null?void 0:n.address)||we.settings.company.address}),c.jsxs("p",{children:[(n==null?void 0:n.phone)||we.settings.company.phone," "," ",(n==null?void 0:n.email)||we.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-300 uppercase leading-none mb-2 print:text-gray-400",children:(a==null?void 0:a.title)||we.settings.invoice.title}),c.jsxs("div",{className:"space-y-1.5 print:space-y-1",children:[c.jsxs("p",{className:"text-sm font-bold text-gray-900 print:text-gray-800",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Order No:"}),e.orderNumber]}),c.jsxs("p",{className:"text-sm font-bold text-gray-900 print:text-gray-800",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Date:"}),new Date(e.orderDate).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-12 border-t border-gray-100 py-4 print:border-gray-300 print:py-3",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 print:mb-2",children:"Billed To"}),c.jsx("h3",{className:"text-md font-black text-gray-900 print:text-gray-800",children:t==null?void 0:t.name}),c.jsx("p",{className:"text-sm text-gray-500 leading-relaxed print:text-gray-600",children:t==null?void 0:t.address}),c.jsx("p",{className:"text-sm font-bold mt-2 print:mt-1",children:t==null?void 0:t.phone})]})}),c.jsxs("table",{className:"w-full text-left print:text-gray-800",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100 print:border-gray-300",children:[c.jsx("th",{className:"py-4 text-sm font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Item Description"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Rate"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Qty"}),c.jsx("th",{className:"py-4 text-sm text-right font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50 print:divide-gray-300",children:e.items.map((s,l)=>{const d=r.find(f=>f.id===s.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-6 print:py-3",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:d==null?void 0:d.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm print:w-10 print:h-10 print:rounded-full print:border-gray-300 print:shadow-none",alt:s.productName}),c.jsx("span",{className:"font-bold text-gray-900 print:text-sm",children:s.productName})]})}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold print:py-3 print:text-sm",children:ve(s.rate)}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold print:py-3 print:text-sm",children:s.quantity}),c.jsx("td",{className:"py-6 text-right font-black text-gray-900 print:py-3 print:text-sm",children:ve(s.amount)})]},l)})})]}),c.jsx("div",{className:"flex justify-end pt-6 print:pt-4",children:c.jsxs("div",{className:"w-full max-w-xs space-y-4 print:space-y-2 print:text-sm",children:[c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900 print:text-gray-800",children:ve(e.subtotal)})]}),e.discount>0&&c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500 print:text-red-600",children:["-",ve(e.discount)]})]}),e.shipping>0&&c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900 print:text-gray-800",children:ve(e.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-6 border-t-2 border-[#0f2f57] print:py-3 print:border-t print:border-gray-400",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter print:text-gray-800",children:"Net Total"}),c.jsx("span",{className:"font-black text-gray-900 print:text-gray-800",children:ve(e.total)})]})]})}),e.notes&&c.jsxs("div",{className:"bg-gray-50 p-4 rounded-[10px] border border-gray-100 print:bg-white print:p-3 print:rounded-lg print:border-gray-300",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase tracking-widest mb-2 print:text-gray-500 print:mb-1",children:"Terms & Notes"}),c.jsx("p",{className:"text-xs text-gray-600 font-medium italic leading-relaxed print:text-gray-700",children:e.notes})]})]}),Loe=()=>{const{id:e}=Cn(),{data:t,isPending:r}=Bw(e||""),{data:n=[]}=Uo(),{data:a=[]}=As(),{data:s=[]}=Dc(),{data:l}=Mp(),{data:d}=Ip(),f=j.useRef(!1),h=t?n.find(p=>p.id===t.customerId):void 0;return t&&a.find(p=>p.id===t.createdBy),j.useEffect(()=>{t&&!r&&!f.current&&(f.current=!0,moe())},[t,r]),r||!t?c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading details..."}):c.jsxs("div",{className:"min-h-screen bg-white print:bg-white",children:[c.jsxs("div",{className:"space-y-0 print:space-y-0",children:[c.jsx("div",{className:"bg-white p-6 lg:p-10 print:p-6 min-h-screen print:min-h-fit",children:c.jsx(YP,{order:t,customer:h,products:s,companySettings:l,invoiceSettings:d})}),c.jsx("div",{className:"bg-white p-6 lg:p-10 print:p-6 min-h-screen print:min-h-fit",style:{pageBreakBefore:"always"},children:c.jsx(YP,{order:t,customer:h,products:s,companySettings:l,invoiceSettings:d})})]}),c.jsx("style",{children:`
        @media print {
          body {
            margin: 0;
            padding: 0;
            background: white;
          }
          .no-print {
            display: none !important;
          }
          table {
            page-break-inside: avoid;
          }
          tr {
            page-break-inside: avoid;
          }
          @page {
            margin: 0.25in;
            size: A4;
          }
          .print:page-break-avoid {
            page-break-inside: avoid;
          }
          .grid {
            page-break-inside: avoid;
          }
        }
      `})]})},Boe=new a6({defaultOptions:{queries:{staleTime:300*1e3,gcTime:1800*1e3,retry:2,retryDelay:e=>Math.min(1e3*2**e,1e4),refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1},mutations:{retry:1,retryDelay:1e3}}}),$oe=({user:e,profile:t,isLoading:r})=>{const n=!!e;return c.jsxs(t$,{children:[c.jsx(Fe,{path:"/login",element:n?c.jsx(ze,{to:"/dashboard",replace:!0}):c.jsx(u9,{})}),c.jsx(Fe,{path:"/",element:n?c.jsx(ze,{to:"/dashboard",replace:!0}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/dashboard",element:n?c.jsx(tt,{children:c.jsx(hoe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/orders",element:n?c.jsx(tt,{children:c.jsx(poe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/orders/new",element:n?c.jsx(tt,{children:c.jsx(KP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/orders/edit/:id",element:n?c.jsx(tt,{children:c.jsx(KP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/orders/:id",element:n?c.jsx(tt,{children:c.jsx(goe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/print-order/:id",element:n?c.jsx(Loe,{}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/bills",element:n?c.jsx(tt,{children:c.jsx(yoe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/bills/new",element:n?c.jsx(tt,{children:c.jsx(FP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/bills/edit/:id",element:n?c.jsx(tt,{children:c.jsx(FP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/bills/:id",element:n?c.jsx(tt,{children:c.jsx(voe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/banking/accounts",element:n?c.jsx(tt,{children:c.jsx(boe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/banking/transfer",element:n?c.jsx(tt,{children:c.jsx(joe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/banking/transactions",element:n?c.jsx(tt,{children:c.jsx(xoe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/transactions",element:n?c.jsx(ze,{to:"/banking/transactions",replace:!0}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/transactions/new/:type",element:n?c.jsx(tt,{children:c.jsx(woe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/customers",element:n?c.jsx(tt,{children:c.jsx(Eoe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/customers/new",element:n?c.jsx(tt,{children:c.jsx(VP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/customers/edit/:id",element:n?c.jsx(tt,{children:c.jsx(VP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/customers/:id",element:n?c.jsx(tt,{children:c.jsx(Aoe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/vendors",element:n?c.jsx(tt,{children:c.jsx(Coe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/vendors/new",element:n?c.jsx(tt,{children:c.jsx(GP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/vendors/edit/:id",element:n?c.jsx(tt,{children:c.jsx(GP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/vendors/:id",element:n?c.jsx(tt,{children:c.jsx(koe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/products",element:n?c.jsx(tt,{children:c.jsx(Soe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/products/new",element:n?c.jsx(tt,{children:c.jsx(QP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/products/edit/:id",element:n?c.jsx(tt,{children:c.jsx(QP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/users",element:n?c.jsx(tt,{children:c.jsx(_oe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/users/new",element:n?c.jsx(tt,{children:c.jsx(HP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/users/edit/:id",element:n?c.jsx(tt,{children:c.jsx(HP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/users/:id",element:n?c.jsx(tt,{children:c.jsx(Noe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/reports",element:n?c.jsx(tt,{children:c.jsx(Toe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/reports/expense",element:n?c.jsx(tt,{children:c.jsx(Doe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/reports/income",element:n?c.jsx(tt,{children:c.jsx(Moe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/reports/income-vs-expense",element:n?c.jsx(tt,{children:c.jsx(Roe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/reports/profit-loss",element:n?c.jsx(tt,{children:c.jsx(Ioe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/settings",element:n?c.jsx(tt,{children:c.jsx(Ooe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"*",element:n?c.jsx(ze,{to:"/dashboard",replace:!0}):c.jsx(ze,{to:"/login",replace:!0})})]})},Uoe=()=>{const{user:e,profile:t,isLoading:r}=Np();return console.log("[App] Render - user:",!!e,"profile:",!!t,"isLoading:",r),r?(console.log("[App] Rendering loading screen"),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block p-4",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),c.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading..."})]})})):c.jsx($oe,{user:e,profile:t,isLoading:r})},zoe=()=>(console.log("[App] Root component rendering - setting up providers"),c.jsx(i6,{client:Boe,children:c.jsx(Zz,{children:c.jsx(nq,{children:c.jsx(Jz,{children:c.jsx(eq,{children:c.jsx(rq,{children:c.jsxs(N$,{children:[c.jsx(Uoe,{}),c.jsx(c9,{}),c.jsx(l9,{})]})})})})})})})),O5=document.getElementById("root");if(!O5)throw new Error("Could not find root element to mount to");const qoe=aB.createRoot(O5);qoe.render(c.jsx(xr.StrictMode,{children:c.jsx(zoe,{})}));window.__testSupabase={async testCustomers(){console.log(" Testing customer fetch...");try{const e=await sD();return console.log(" Success! Customers:",e),e}catch(e){throw console.error(" Error:",e),e}},async testConnection(){console.log(" Testing Supabase connection...");try{const{data:e,error:t}=await ye.auth.getSession();if(t)throw t;return console.log(" Connected! Session:",e),e}catch(e){throw console.error(" Connection error:",e),e}},help(){console.log("Available test functions:"),console.log("  __testSupabase.testCustomers() - Fetch customers from DB"),console.log("  __testSupabase.testConnection() - Check auth session"),console.log("  __testSupabase.help() - Show this help")}};console.log(" Tip: Type __testSupabase.help() in console for test commands");
