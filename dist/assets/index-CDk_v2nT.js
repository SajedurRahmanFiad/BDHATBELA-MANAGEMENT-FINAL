var UL=Object.defineProperty;var $O=e=>{throw TypeError(e)};var zL=(e,t,r)=>t in e?UL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Iv=(e,t,r)=>zL(e,typeof t!="symbol"?t+"":t,r),Lv=(e,t,r)=>t.has(e)||$O("Cannot "+r);var U=(e,t,r)=>(Lv(e,t,"read from private field"),r?r.call(e):t.get(e)),Ce=(e,t,r)=>t.has(e)?$O("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),be=(e,t,r,n)=>(Lv(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),qe=(e,t,r)=>(Lv(e,t,"access private method"),r);var Ch=(e,t,r,n)=>({set _(i){be(e,t,i,r)},get _(){return U(e,t,n)}});function qL(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Ca(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $v={exports:{}},Cu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BO;function KL(){if(BO)return Cu;BO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:e,type:n,key:l,ref:i!==void 0?i:null,props:s}}return Cu.Fragment=t,Cu.jsx=r,Cu.jsxs=r,Cu}var UO;function FL(){return UO||(UO=1,$v.exports=KL()),$v.exports}var u=FL(),Bv={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zO;function HL(){if(zO)return Ie;zO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),g=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=g&&D[g]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function N(D,H,fe){this.props=D,this.context=H,this.refs=_,this.updater=fe||w}N.prototype.isReactComponent={},N.prototype.setState=function(D,H){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,H,"setState")},N.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function E(){}E.prototype=N.prototype;function A(D,H,fe){this.props=D,this.context=H,this.refs=_,this.updater=fe||w}var C=A.prototype=new E;C.constructor=A,S(C,N.prototype),C.isPureReactComponent=!0;var T=Array.isArray;function P(){}var M={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function F(D,H,fe){var me=fe.ref;return{$$typeof:e,type:D,key:H,ref:me!==void 0?me:null,props:fe}}function L(D,H){return F(D.type,H,D.props)}function K(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function B(D){var H={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(fe){return H[fe]})}var te=/\/+/g;function de(D,H){return typeof D=="object"&&D!==null&&D.key!=null?B(""+D.key):H.toString(36)}function Z(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(P,P):(D.status="pending",D.then(function(H){D.status==="pending"&&(D.status="fulfilled",D.value=H)},function(H){D.status==="pending"&&(D.status="rejected",D.reason=H)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function R(D,H,fe,me,_e){var ee=typeof D;(ee==="undefined"||ee==="boolean")&&(D=null);var pe=!1;if(D===null)pe=!0;else switch(ee){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(D.$$typeof){case e:case t:pe=!0;break;case p:return pe=D._init,R(pe(D._payload),H,fe,me,_e)}}if(pe)return _e=_e(D),pe=me===""?"."+de(D,0):me,T(_e)?(fe="",pe!=null&&(fe=pe.replace(te,"$&/")+"/"),R(_e,H,fe,"",function(re){return re})):_e!=null&&(K(_e)&&(_e=L(_e,fe+(_e.key==null||D&&D.key===_e.key?"":(""+_e.key).replace(te,"$&/")+"/")+pe)),H.push(_e)),1;pe=0;var ke=me===""?".":me+":";if(T(D))for(var z=0;z<D.length;z++)me=D[z],ee=ke+de(me,z),pe+=R(me,H,fe,ee,_e);else if(z=b(D),typeof z=="function")for(D=z.call(D),z=0;!(me=D.next()).done;)me=me.value,ee=ke+de(me,z++),pe+=R(me,H,fe,ee,_e);else if(ee==="object"){if(typeof D.then=="function")return R(Z(D),H,fe,me,_e);throw H=String(D),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return pe}function V(D,H,fe){if(D==null)return D;var me=[],_e=0;return R(D,me,"","",function(ee){return H.call(fe,ee,_e++)}),me}function J(D){if(D._status===-1){var H=D._result;H=H(),H.then(function(fe){(D._status===0||D._status===-1)&&(D._status=1,D._result=fe)},function(fe){(D._status===0||D._status===-1)&&(D._status=2,D._result=fe)}),D._status===-1&&(D._status=0,D._result=H)}if(D._status===1)return D._result.default;throw D._result}var se=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},ye={map:V,forEach:function(D,H,fe){V(D,function(){H.apply(this,arguments)},fe)},count:function(D){var H=0;return V(D,function(){H++}),H},toArray:function(D){return V(D,function(H){return H})||[]},only:function(D){if(!K(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ie.Activity=y,Ie.Children=ye,Ie.Component=N,Ie.Fragment=r,Ie.Profiler=i,Ie.PureComponent=A,Ie.StrictMode=n,Ie.Suspense=f,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(D){return M.H.useMemoCache(D)}},Ie.cache=function(D){return function(){return D.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(D,H,fe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var me=S({},D.props),_e=D.key;if(H!=null)for(ee in H.key!==void 0&&(_e=""+H.key),H)!I.call(H,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&H.ref===void 0||(me[ee]=H[ee]);var ee=arguments.length-2;if(ee===1)me.children=fe;else if(1<ee){for(var pe=Array(ee),ke=0;ke<ee;ke++)pe[ke]=arguments[ke+2];me.children=pe}return F(D.type,_e,me)},Ie.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:s,_context:D},D},Ie.createElement=function(D,H,fe){var me,_e={},ee=null;if(H!=null)for(me in H.key!==void 0&&(ee=""+H.key),H)I.call(H,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(_e[me]=H[me]);var pe=arguments.length-2;if(pe===1)_e.children=fe;else if(1<pe){for(var ke=Array(pe),z=0;z<pe;z++)ke[z]=arguments[z+2];_e.children=ke}if(D&&D.defaultProps)for(me in pe=D.defaultProps,pe)_e[me]===void 0&&(_e[me]=pe[me]);return F(D,ee,_e)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(D){return{$$typeof:d,render:D}},Ie.isValidElement=K,Ie.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:J}},Ie.memo=function(D,H){return{$$typeof:h,type:D,compare:H===void 0?null:H}},Ie.startTransition=function(D){var H=M.T,fe={};M.T=fe;try{var me=D(),_e=M.S;_e!==null&&_e(fe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(P,se)}catch(ee){se(ee)}finally{H!==null&&fe.types!==null&&(H.types=fe.types),M.T=H}},Ie.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ie.use=function(D){return M.H.use(D)},Ie.useActionState=function(D,H,fe){return M.H.useActionState(D,H,fe)},Ie.useCallback=function(D,H){return M.H.useCallback(D,H)},Ie.useContext=function(D){return M.H.useContext(D)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(D,H){return M.H.useDeferredValue(D,H)},Ie.useEffect=function(D,H){return M.H.useEffect(D,H)},Ie.useEffectEvent=function(D){return M.H.useEffectEvent(D)},Ie.useId=function(){return M.H.useId()},Ie.useImperativeHandle=function(D,H,fe){return M.H.useImperativeHandle(D,H,fe)},Ie.useInsertionEffect=function(D,H){return M.H.useInsertionEffect(D,H)},Ie.useLayoutEffect=function(D,H){return M.H.useLayoutEffect(D,H)},Ie.useMemo=function(D,H){return M.H.useMemo(D,H)},Ie.useOptimistic=function(D,H){return M.H.useOptimistic(D,H)},Ie.useReducer=function(D,H,fe){return M.H.useReducer(D,H,fe)},Ie.useRef=function(D){return M.H.useRef(D)},Ie.useState=function(D){return M.H.useState(D)},Ie.useSyncExternalStore=function(D,H,fe){return M.H.useSyncExternalStore(D,H,fe)},Ie.useTransition=function(){return M.H.useTransition()},Ie.version="19.2.4",Ie}var qO;function pc(){return qO||(qO=1,Bv.exports=HL()),Bv.exports}var j=pc();const Lr=Ca(j),QL=qL({__proto__:null,default:Lr},[j]);var Uv={exports:{}},ku={},zv={exports:{}},qv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KO;function VL(){return KO||(KO=1,(function(e){function t(R,V){var J=R.length;R.push(V);e:for(;0<J;){var se=J-1>>>1,ye=R[se];if(0<i(ye,V))R[se]=V,R[J]=ye,J=se;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var V=R[0],J=R.pop();if(J!==V){R[0]=J;e:for(var se=0,ye=R.length,D=ye>>>1;se<D;){var H=2*(se+1)-1,fe=R[H],me=H+1,_e=R[me];if(0>i(fe,J))me<ye&&0>i(_e,fe)?(R[se]=_e,R[me]=J,se=me):(R[se]=fe,R[H]=J,se=H);else if(me<ye&&0>i(_e,J))R[se]=_e,R[me]=J,se=me;else break e}}return V}function i(R,V){var J=R.sortIndex-V.sortIndex;return J!==0?J:R.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,y=null,g=3,b=!1,w=!1,S=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(R){for(var V=r(h);V!==null;){if(V.callback===null)n(h);else if(V.startTime<=R)n(h),V.sortIndex=V.expirationTime,t(f,V);else break;V=r(h)}}function T(R){if(S=!1,C(R),!w)if(r(f)!==null)w=!0,P||(P=!0,B());else{var V=r(h);V!==null&&Z(T,V.startTime-R)}}var P=!1,M=-1,I=5,F=-1;function L(){return _?!0:!(e.unstable_now()-F<I)}function K(){if(_=!1,P){var R=e.unstable_now();F=R;var V=!0;try{e:{w=!1,S&&(S=!1,E(M),M=-1),b=!0;var J=g;try{t:{for(C(R),y=r(f);y!==null&&!(y.expirationTime>R&&L());){var se=y.callback;if(typeof se=="function"){y.callback=null,g=y.priorityLevel;var ye=se(y.expirationTime<=R);if(R=e.unstable_now(),typeof ye=="function"){y.callback=ye,C(R),V=!0;break t}y===r(f)&&n(f),C(R)}else n(f);y=r(f)}if(y!==null)V=!0;else{var D=r(h);D!==null&&Z(T,D.startTime-R),V=!1}}break e}finally{y=null,g=J,b=!1}V=void 0}}finally{V?B():P=!1}}}var B;if(typeof A=="function")B=function(){A(K)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,de=te.port2;te.port1.onmessage=K,B=function(){de.postMessage(null)}}else B=function(){N(K,0)};function Z(R,V){M=N(function(){R(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var V=3;break;default:V=g}var J=g;g=V;try{return R()}finally{g=J}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(R,V){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var J=g;g=R;try{return V()}finally{g=J}},e.unstable_scheduleCallback=function(R,V,J){var se=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?se+J:se):J=se,R){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=J+ye,R={id:p++,callback:V,priorityLevel:R,startTime:J,expirationTime:ye,sortIndex:-1},J>se?(R.sortIndex=J,t(h,R),r(f)===null&&R===r(h)&&(S?(E(M),M=-1):S=!0,Z(T,J-se))):(R.sortIndex=ye,t(f,R),w||b||(w=!0,P||(P=!0,B()))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var V=g;return function(){var J=g;g=V;try{return R.apply(this,arguments)}finally{g=J}}}})(qv)),qv}var FO;function GL(){return FO||(FO=1,zv.exports=VL()),zv.exports}var Kv={exports:{}},Dr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HO;function YL(){if(HO)return Dr;HO=1;var e=pc();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Dr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,p)},Dr.flushSync=function(f){var h=l.T,p=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=h,n.p=p,n.d.f()}},Dr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},Dr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Dr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,y=d(p,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:g,fetchPriority:b}):p==="script"&&n.d.X(f,{crossOrigin:y,integrity:g,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Dr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},Dr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,y=d(p,h.crossOrigin);n.d.L(f,p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Dr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},Dr.requestFormReset=function(f){n.d.r(f)},Dr.unstable_batchedUpdates=function(f,h){return f(h)},Dr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Dr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Dr.version="19.2.4",Dr}var QO;function aT(){if(QO)return Kv.exports;QO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Kv.exports=YL(),Kv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VO;function WL(){if(VO)return ku;VO=1;var e=GL(),t=pc(),r=aT();function n(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(n(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(n(188));return o!==a?null:a}for(var c=a,m=o;;){var v=c.return;if(v===null)break;var x=v.alternate;if(x===null){if(m=v.return,m!==null){c=m;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===c)return f(v),a;if(x===m)return f(v),o;x=x.sibling}throw Error(n(188))}if(c.return!==m.return)c=v,m=x;else{for(var O=!1,k=v.child;k;){if(k===c){O=!0,c=v,m=x;break}if(k===m){O=!0,m=v,c=x;break}k=k.sibling}if(!O){for(k=x.child;k;){if(k===c){O=!0,c=x,m=v;break}if(k===m){O=!0,m=x,c=v;break}k=k.sibling}if(!O)throw Error(n(189))}}if(c.alternate!==m)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var y=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=K&&a[K]||a["@@iterator"],typeof a=="function"?a:null)}var te=Symbol.for("react.client.reference");function de(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===te?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList";case F:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case A:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case C:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return o=a.displayName||null,o!==null?o:de(a.type)||"Memo";case I:o=a._payload,a=a._init;try{return de(a(o))}catch{}}return null}var Z=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},se=[],ye=-1;function D(a){return{current:a}}function H(a){0>ye||(a.current=se[ye],se[ye]=null,ye--)}function fe(a,o){ye++,se[ye]=a.current,a.current=o}var me=D(null),_e=D(null),ee=D(null),pe=D(null);function ke(a,o){switch(fe(ee,o),fe(_e,a),fe(me,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?oO(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=oO(o),a=lO(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}H(me),fe(me,a)}function z(){H(me),H(_e),H(ee)}function re(a){a.memoizedState!==null&&fe(pe,a);var o=me.current,c=lO(o,a.type);o!==c&&(fe(_e,a),fe(me,c))}function ge(a){_e.current===a&&(H(me),H(_e)),pe.current===a&&(H(pe),Nu._currentValue=J)}var le,Ye;function Te(a){if(le===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);le=o&&o[1]||"",Ye=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+a+Ye}var vt=!1;function wt(a,o){if(!a||vt)return"";vt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ne){var X=ne}Reflect.construct(a,[],he)}else{try{he.call()}catch(ne){X=ne}a.call(he.prototype)}}else{try{throw Error()}catch(ne){X=ne}(he=a())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ne){if(ne&&X&&typeof ne.stack=="string")return[ne.stack,X.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),O=x[0],k=x[1];if(O&&k){var $=O.split(`
`),W=k.split(`
`);for(v=m=0;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;for(;v<W.length&&!W[v].includes("DetermineComponentFrameRoot");)v++;if(m===$.length||v===W.length)for(m=$.length-1,v=W.length-1;1<=m&&0<=v&&$[m]!==W[v];)v--;for(;1<=m&&0<=v;m--,v--)if($[m]!==W[v]){if(m!==1||v!==1)do if(m--,v--,0>v||$[m]!==W[v]){var oe=`
`+$[m].replace(" at new "," at ");return a.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",a.displayName)),oe}while(1<=m&&0<=v);break}}}finally{vt=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Te(c):""}function Tr(a,o){switch(a.tag){case 26:case 27:case 5:return Te(a.type);case 16:return Te("Lazy");case 13:return a.child!==o&&o!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return wt(a.type,!1);case 11:return wt(a.type.render,!1);case 1:return wt(a.type,!0);case 31:return Te("Activity");default:return""}}function Cs(a){try{var o="",c=null;do o+=Tr(a,c),c=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Dc=Object.prototype.hasOwnProperty,ce=e.unstable_scheduleCallback,jt=e.unstable_cancelCallback,Vr=e.unstable_shouldYield,ar=e.unstable_requestPaint,lt=e.unstable_now,ff=e.unstable_getCurrentPriorityLevel,Mc=e.unstable_ImmediatePriority,Rc=e.unstable_UserBlockingPriority,ks=e.unstable_NormalPriority,Ic=e.unstable_LowPriority,z1=e.unstable_IdlePriority,j5=e.log,S5=e.unstable_setDisableYieldValue,Lc=null,un=null;function Ci(a){if(typeof j5=="function"&&S5(a),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(Lc,a)}catch{}}var dn=Math.clz32?Math.clz32:O5,_5=Math.log,N5=Math.LN2;function O5(a){return a>>>=0,a===0?32:31-(_5(a)/N5|0)|0}var hf=256,mf=262144,pf=4194304;function Ps(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function yf(a,o,c){var m=a.pendingLanes;if(m===0)return 0;var v=0,x=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var k=m&134217727;return k!==0?(m=k&~x,m!==0?v=Ps(m):(O&=k,O!==0?v=Ps(O):c||(c=k&~a,c!==0&&(v=Ps(c))))):(k=m&~x,k!==0?v=Ps(k):O!==0?v=Ps(O):c||(c=m&~a,c!==0&&(v=Ps(c)))),v===0?0:o!==0&&o!==v&&(o&x)===0&&(x=v&-v,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:v}function $c(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function E5(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q1(){var a=pf;return pf<<=1,(pf&62914560)===0&&(pf=4194304),a}function _y(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function Bc(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function A5(a,o,c,m,v,x){var O=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var k=a.entanglements,$=a.expirationTimes,W=a.hiddenUpdates;for(c=O&~c;0<c;){var oe=31-dn(c),he=1<<oe;k[oe]=0,$[oe]=-1;var X=W[oe];if(X!==null)for(W[oe]=null,oe=0;oe<X.length;oe++){var ne=X[oe];ne!==null&&(ne.lane&=-536870913)}c&=~he}m!==0&&K1(a,m,0),x!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=x&~(O&~o))}function K1(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-dn(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|c&261930}function F1(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var m=31-dn(c),v=1<<m;v&o|a[m]&o&&(a[m]|=o),c&=~v}}function H1(a,o){var c=o&-o;return c=(c&42)!==0?1:Ny(c),(c&(a.suspendedLanes|o))!==0?0:c}function Ny(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Oy(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Q1(){var a=V.p;return a!==0?a:(a=window.event,a===void 0?32:PO(a.type))}function V1(a,o){var c=V.p;try{return V.p=a,o()}finally{V.p=c}}var ki=Math.random().toString(36).slice(2),jr="__reactFiber$"+ki,Gr="__reactProps$"+ki,Fo="__reactContainer$"+ki,Ey="__reactEvents$"+ki,C5="__reactListeners$"+ki,k5="__reactHandles$"+ki,G1="__reactResources$"+ki,Uc="__reactMarker$"+ki;function Ay(a){delete a[jr],delete a[Gr],delete a[Ey],delete a[C5],delete a[k5]}function Ho(a){var o=a[jr];if(o)return o;for(var c=a.parentNode;c;){if(o=c[Fo]||c[jr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=pO(a);a!==null;){if(c=a[jr])return c;a=pO(a)}return o}a=c,c=a.parentNode}return null}function Qo(a){if(a=a[jr]||a[Fo]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function zc(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(n(33))}function Vo(a){var o=a[G1];return o||(o=a[G1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function fr(a){a[Uc]=!0}var Y1=new Set,W1={};function Ts(a,o){Go(a,o),Go(a+"Capture",o)}function Go(a,o){for(W1[a]=o,a=0;a<o.length;a++)Y1.add(o[a])}var P5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),X1={},Z1={};function T5(a){return Dc.call(Z1,a)?!0:Dc.call(X1,a)?!1:P5.test(a)?Z1[a]=!0:(X1[a]=!0,!1)}function gf(a,o,c){if(T5(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function vf(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function ka(a,o,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+m)}}function An(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function J1(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function D5(a,o,c){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,x=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(O){c=""+O,x.call(this,O)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Cy(a){if(!a._valueTracker){var o=J1(a)?"checked":"value";a._valueTracker=D5(a,o,""+a[o])}}function eS(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return a&&(m=J1(a)?a.checked?"true":"false":a.value),a=m,a!==c?(o.setValue(a),!0):!1}function bf(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var M5=/[\n"\\]/g;function Cn(a){return a.replace(M5,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ky(a,o,c,m,v,x,O,k){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),o!=null?O==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+An(o)):a.value!==""+An(o)&&(a.value=""+An(o)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),o!=null?Py(a,O,An(o)):c!=null?Py(a,O,An(c)):m!=null&&a.removeAttribute("value"),v==null&&x!=null&&(a.defaultChecked=!!x),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+An(k):a.removeAttribute("name")}function tS(a,o,c,m,v,x,O,k){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){Cy(a);return}c=c!=null?""+An(c):"",o=o!=null?""+An(o):c,k||o===a.value||(a.value=o),a.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=k?a.checked:!!m,a.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O),Cy(a)}function Py(a,o,c){o==="number"&&bf(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Yo(a,o,c,m){if(a=a.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<a.length;c++)v=o.hasOwnProperty("$"+a[c].value),a[c].selected!==v&&(a[c].selected=v),v&&m&&(a[c].defaultSelected=!0)}else{for(c=""+An(c),o=null,v=0;v<a.length;v++){if(a[v].value===c){a[v].selected=!0,m&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function rS(a,o,c){if(o!=null&&(o=""+An(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+An(c):""}function nS(a,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(n(92));if(Z(m)){if(1<m.length)throw Error(n(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=An(o),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m),Cy(a)}function Wo(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var R5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function aS(a,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,c):typeof c!="number"||c===0||R5.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function iS(a,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&c[v]!==m&&aS(a,v,m)}else for(var x in o)o.hasOwnProperty(x)&&aS(a,x,o[x])}function Ty(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),L5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xf(a){return L5.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Pa(){}var Dy=null;function My(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Xo=null,Zo=null;function sS(a){var o=Qo(a);if(o&&(a=o.stateNode)){var c=a[Gr]||null;e:switch(a=o.stateNode,o.type){case"input":if(ky(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Cn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==a&&m.form===a.form){var v=m[Gr]||null;if(!v)throw Error(n(90));ky(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===a.form&&eS(m)}break e;case"textarea":rS(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Yo(a,!!c.multiple,o,!1)}}}var Ry=!1;function oS(a,o,c){if(Ry)return a(o,c);Ry=!0;try{var m=a(o);return m}finally{if(Ry=!1,(Xo!==null||Zo!==null)&&(oh(),Xo&&(o=Xo,a=Zo,Zo=Xo=null,sS(o),a)))for(o=0;o<a.length;o++)sS(a[o])}}function qc(a,o){var c=a.stateNode;if(c===null)return null;var m=c[Gr]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iy=!1;if(Ta)try{var Kc={};Object.defineProperty(Kc,"passive",{get:function(){Iy=!0}}),window.addEventListener("test",Kc,Kc),window.removeEventListener("test",Kc,Kc)}catch{Iy=!1}var Pi=null,Ly=null,wf=null;function lS(){if(wf)return wf;var a,o=Ly,c=o.length,m,v="value"in Pi?Pi.value:Pi.textContent,x=v.length;for(a=0;a<c&&o[a]===v[a];a++);var O=c-a;for(m=1;m<=O&&o[c-m]===v[x-m];m++);return wf=v.slice(a,1<m?1-m:void 0)}function jf(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Sf(){return!0}function cS(){return!1}function Yr(a){function o(c,m,v,x,O){this._reactName=c,this._targetInst=v,this.type=m,this.nativeEvent=x,this.target=O,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(c=a[k],this[k]=c?c(x):x[k]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Sf:cS,this.isPropagationStopped=cS,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Sf)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Sf)},persist:function(){},isPersistent:Sf}),o}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_f=Yr(Ds),Fc=y({},Ds,{view:0,detail:0}),$5=Yr(Fc),$y,By,Hc,Nf=y({},Fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zy,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Hc&&(Hc&&a.type==="mousemove"?($y=a.screenX-Hc.screenX,By=a.screenY-Hc.screenY):By=$y=0,Hc=a),$y)},movementY:function(a){return"movementY"in a?a.movementY:By}}),uS=Yr(Nf),B5=y({},Nf,{dataTransfer:0}),U5=Yr(B5),z5=y({},Fc,{relatedTarget:0}),Uy=Yr(z5),q5=y({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),K5=Yr(q5),F5=y({},Ds,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),H5=Yr(F5),Q5=y({},Ds,{data:0}),dS=Yr(Q5),V5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W5(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Y5[a])?!!o[a]:!1}function zy(){return W5}var X5=y({},Fc,{key:function(a){if(a.key){var o=V5[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=jf(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?G5[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zy,charCode:function(a){return a.type==="keypress"?jf(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?jf(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Z5=Yr(X5),J5=y({},Nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fS=Yr(J5),e3=y({},Fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zy}),t3=Yr(e3),r3=y({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),n3=Yr(r3),a3=y({},Nf,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),i3=Yr(a3),s3=y({},Ds,{newState:0,oldState:0}),o3=Yr(s3),l3=[9,13,27,32],qy=Ta&&"CompositionEvent"in window,Qc=null;Ta&&"documentMode"in document&&(Qc=document.documentMode);var c3=Ta&&"TextEvent"in window&&!Qc,hS=Ta&&(!qy||Qc&&8<Qc&&11>=Qc),mS=" ",pS=!1;function yS(a,o){switch(a){case"keyup":return l3.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gS(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Jo=!1;function u3(a,o){switch(a){case"compositionend":return gS(o);case"keypress":return o.which!==32?null:(pS=!0,mS);case"textInput":return a=o.data,a===mS&&pS?null:a;default:return null}}function d3(a,o){if(Jo)return a==="compositionend"||!qy&&yS(a,o)?(a=lS(),wf=Ly=Pi=null,Jo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return hS&&o.locale!=="ko"?null:o.data;default:return null}}var f3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vS(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!f3[a.type]:o==="textarea"}function bS(a,o,c,m){Xo?Zo?Zo.push(m):Zo=[m]:Xo=m,o=mh(o,"onChange"),0<o.length&&(c=new _f("onChange","change",null,c,m),a.push({event:c,listeners:o}))}var Vc=null,Gc=null;function h3(a){tO(a,0)}function Of(a){var o=zc(a);if(eS(o))return a}function xS(a,o){if(a==="change")return o}var wS=!1;if(Ta){var Ky;if(Ta){var Fy="oninput"in document;if(!Fy){var jS=document.createElement("div");jS.setAttribute("oninput","return;"),Fy=typeof jS.oninput=="function"}Ky=Fy}else Ky=!1;wS=Ky&&(!document.documentMode||9<document.documentMode)}function SS(){Vc&&(Vc.detachEvent("onpropertychange",_S),Gc=Vc=null)}function _S(a){if(a.propertyName==="value"&&Of(Gc)){var o=[];bS(o,Gc,a,My(a)),oS(h3,o)}}function m3(a,o,c){a==="focusin"?(SS(),Vc=o,Gc=c,Vc.attachEvent("onpropertychange",_S)):a==="focusout"&&SS()}function p3(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Of(Gc)}function y3(a,o){if(a==="click")return Of(o)}function g3(a,o){if(a==="input"||a==="change")return Of(o)}function v3(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var fn=typeof Object.is=="function"?Object.is:v3;function Yc(a,o){if(fn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var v=c[m];if(!Dc.call(o,v)||!fn(a[v],o[v]))return!1}return!0}function NS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function OS(a,o){var c=NS(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=o&&m>=o)return{node:c,offset:o-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=NS(c)}}function ES(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?ES(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function AS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=bf(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=bf(a.document)}return o}function Hy(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var b3=Ta&&"documentMode"in document&&11>=document.documentMode,el=null,Qy=null,Wc=null,Vy=!1;function CS(a,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Vy||el==null||el!==bf(m)||(m=el,"selectionStart"in m&&Hy(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Wc&&Yc(Wc,m)||(Wc=m,m=mh(Qy,"onSelect"),0<m.length&&(o=new _f("onSelect","select",null,o,c),a.push({event:o,listeners:m}),o.target=el)))}function Ms(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var tl={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},Gy={},kS={};Ta&&(kS=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function Rs(a){if(Gy[a])return Gy[a];if(!tl[a])return a;var o=tl[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in kS)return Gy[a]=o[c];return a}var PS=Rs("animationend"),TS=Rs("animationiteration"),DS=Rs("animationstart"),x3=Rs("transitionrun"),w3=Rs("transitionstart"),j3=Rs("transitioncancel"),MS=Rs("transitionend"),RS=new Map,Yy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yy.push("scrollEnd");function Yn(a,o){RS.set(a,o),Ts(o,[a])}var Ef=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},kn=[],rl=0,Wy=0;function Af(){for(var a=rl,o=Wy=rl=0;o<a;){var c=kn[o];kn[o++]=null;var m=kn[o];kn[o++]=null;var v=kn[o];kn[o++]=null;var x=kn[o];if(kn[o++]=null,m!==null&&v!==null){var O=m.pending;O===null?v.next=v:(v.next=O.next,O.next=v),m.pending=v}x!==0&&IS(c,v,x)}}function Cf(a,o,c,m){kn[rl++]=a,kn[rl++]=o,kn[rl++]=c,kn[rl++]=m,Wy|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Xy(a,o,c,m){return Cf(a,o,c,m),kf(a)}function Is(a,o){return Cf(a,null,null,o),kf(a)}function IS(a,o,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var v=!1,x=a.return;x!==null;)x.childLanes|=c,m=x.alternate,m!==null&&(m.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(v=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,v&&o!==null&&(v=31-dn(c),a=x.hiddenUpdates,m=a[v],m===null?a[v]=[o]:m.push(o),o.lane=c|536870912),x):null}function kf(a){if(50<vu)throw vu=0,sv=null,Error(n(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var nl={};function S3(a,o,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(a,o,c,m){return new S3(a,o,c,m)}function Zy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Da(a,o){var c=a.alternate;return c===null?(c=hn(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function LS(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Pf(a,o,c,m,v,x){var O=0;if(m=a,typeof a=="function")Zy(a)&&(O=1);else if(typeof a=="string")O=AL(a,c,me.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case F:return a=hn(31,c,o,v),a.elementType=F,a.lanes=x,a;case S:return Ls(c.children,v,x,o);case _:O=8,v|=24;break;case N:return a=hn(12,c,o,v|2),a.elementType=N,a.lanes=x,a;case T:return a=hn(13,c,o,v),a.elementType=T,a.lanes=x,a;case P:return a=hn(19,c,o,v),a.elementType=P,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:O=10;break e;case E:O=9;break e;case C:O=11;break e;case M:O=14;break e;case I:O=16,m=null;break e}O=29,c=Error(n(130,a===null?"null":typeof a,"")),m=null}return o=hn(O,c,o,v),o.elementType=a,o.type=m,o.lanes=x,o}function Ls(a,o,c,m){return a=hn(7,a,m,o),a.lanes=c,a}function Jy(a,o,c){return a=hn(6,a,null,o),a.lanes=c,a}function $S(a){var o=hn(18,null,null,0);return o.stateNode=a,o}function eg(a,o,c){return o=hn(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var BS=new WeakMap;function Pn(a,o){if(typeof a=="object"&&a!==null){var c=BS.get(a);return c!==void 0?c:(o={value:a,source:o,stack:Cs(o)},BS.set(a,o),o)}return{value:a,source:o,stack:Cs(o)}}var al=[],il=0,Tf=null,Xc=0,Tn=[],Dn=0,Ti=null,da=1,fa="";function Ma(a,o){al[il++]=Xc,al[il++]=Tf,Tf=a,Xc=o}function US(a,o,c){Tn[Dn++]=da,Tn[Dn++]=fa,Tn[Dn++]=Ti,Ti=a;var m=da;a=fa;var v=32-dn(m)-1;m&=~(1<<v),c+=1;var x=32-dn(o)+v;if(30<x){var O=v-v%5;x=(m&(1<<O)-1).toString(32),m>>=O,v-=O,da=1<<32-dn(o)+v|c<<v|m,fa=x+a}else da=1<<x|c<<v|m,fa=a}function tg(a){a.return!==null&&(Ma(a,1),US(a,1,0))}function rg(a){for(;a===Tf;)Tf=al[--il],al[il]=null,Xc=al[--il],al[il]=null;for(;a===Ti;)Ti=Tn[--Dn],Tn[Dn]=null,fa=Tn[--Dn],Tn[Dn]=null,da=Tn[--Dn],Tn[Dn]=null}function zS(a,o){Tn[Dn++]=da,Tn[Dn++]=fa,Tn[Dn++]=Ti,da=o.id,fa=o.overflow,Ti=a}var Sr=null,Ot=null,We=!1,Di=null,Mn=!1,ng=Error(n(519));function Mi(a){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zc(Pn(o,a)),ng}function qS(a){var o=a.stateNode,c=a.type,m=a.memoizedProps;switch(o[jr]=a,o[Gr]=m,c){case"dialog":He("cancel",o),He("close",o);break;case"iframe":case"object":case"embed":He("load",o);break;case"video":case"audio":for(c=0;c<xu.length;c++)He(xu[c],o);break;case"source":He("error",o);break;case"img":case"image":case"link":He("error",o),He("load",o);break;case"details":He("toggle",o);break;case"input":He("invalid",o),tS(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":He("invalid",o);break;case"textarea":He("invalid",o),nS(o,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||iO(o.textContent,c)?(m.popover!=null&&(He("beforetoggle",o),He("toggle",o)),m.onScroll!=null&&He("scroll",o),m.onScrollEnd!=null&&He("scrollend",o),m.onClick!=null&&(o.onclick=Pa),o=!0):o=!1,o||Mi(a,!0)}function KS(a){for(Sr=a.return;Sr;)switch(Sr.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Sr=Sr.return}}function sl(a){if(a!==Sr)return!1;if(!We)return KS(a),We=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||wv(a.type,a.memoizedProps)),c=!c),c&&Ot&&Mi(a),KS(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Ot=mO(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Ot=mO(a)}else o===27?(o=Ot,Gi(a.type)?(a=Ov,Ov=null,Ot=a):Ot=o):Ot=Sr?In(a.stateNode.nextSibling):null;return!0}function $s(){Ot=Sr=null,We=!1}function ag(){var a=Di;return a!==null&&(Jr===null?Jr=a:Jr.push.apply(Jr,a),Di=null),a}function Zc(a){Di===null?Di=[a]:Di.push(a)}var ig=D(null),Bs=null,Ra=null;function Ri(a,o,c){fe(ig,o._currentValue),o._currentValue=c}function Ia(a){a._currentValue=ig.current,H(ig)}function sg(a,o,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===c)break;a=a.return}}function og(a,o,c,m){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var x=v.dependencies;if(x!==null){var O=v.child;x=x.firstContext;e:for(;x!==null;){var k=x;x=v;for(var $=0;$<o.length;$++)if(k.context===o[$]){x.lanes|=c,k=x.alternate,k!==null&&(k.lanes|=c),sg(x.return,c,a),m||(O=null);break e}x=k.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(n(341));O.lanes|=c,x=O.alternate,x!==null&&(x.lanes|=c),sg(O,c,a),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===a){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function ol(a,o,c,m){a=null;for(var v=o,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(n(387));if(O=O.memoizedProps,O!==null){var k=v.type;fn(v.pendingProps.value,O.value)||(a!==null?a.push(k):a=[k])}}else if(v===pe.current){if(O=v.alternate,O===null)throw Error(n(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Nu):a=[Nu])}v=v.return}a!==null&&og(o,a,c,m),o.flags|=262144}function Df(a){for(a=a.firstContext;a!==null;){if(!fn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Us(a){Bs=a,Ra=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function _r(a){return FS(Bs,a)}function Mf(a,o){return Bs===null&&Us(a),FS(a,o)}function FS(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Ra===null){if(a===null)throw Error(n(308));Ra=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ra=Ra.next=o;return c}var _3=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},N3=e.unstable_scheduleCallback,O3=e.unstable_NormalPriority,Yt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lg(){return{controller:new _3,data:new Map,refCount:0}}function Jc(a){a.refCount--,a.refCount===0&&N3(O3,function(){a.controller.abort()})}var eu=null,cg=0,ll=0,cl=null;function E3(a,o){if(eu===null){var c=eu=[];cg=0,ll=fv(),cl={status:"pending",value:void 0,then:function(m){c.push(m)}}}return cg++,o.then(HS,HS),o}function HS(){if(--cg===0&&eu!==null){cl!==null&&(cl.status="fulfilled");var a=eu;eu=null,ll=0,cl=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function A3(a,o){var c=[],m={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),m}var QS=R.S;R.S=function(a,o){CN=lt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&E3(a,o),QS!==null&&QS(a,o)};var zs=D(null);function ug(){var a=zs.current;return a!==null?a:bt.pooledCache}function Rf(a,o){o===null?fe(zs,zs.current):fe(zs,o.pool)}function VS(){var a=ug();return a===null?null:{parent:Yt._currentValue,pool:a}}var ul=Error(n(460)),dg=Error(n(474)),If=Error(n(542)),Lf={then:function(){}};function GS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function YS(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(Pa,Pa),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,XS(a),a;default:if(typeof o.status=="string")o.then(Pa,Pa);else{if(a=bt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,XS(a),a}throw Ks=o,ul}}function qs(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ks=c,ul):c}}var Ks=null;function WS(){if(Ks===null)throw Error(n(459));var a=Ks;return Ks=null,a}function XS(a){if(a===ul||a===If)throw Error(n(483))}var dl=null,tu=0;function $f(a){var o=tu;return tu+=1,dl===null&&(dl=[]),YS(dl,a,o)}function ru(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Bf(a,o){throw o.$$typeof===g?Error(n(525)):(a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function ZS(a){function o(Q,q){if(a){var Y=Q.deletions;Y===null?(Q.deletions=[q],Q.flags|=16):Y.push(q)}}function c(Q,q){if(!a)return null;for(;q!==null;)o(Q,q),q=q.sibling;return null}function m(Q){for(var q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function v(Q,q){return Q=Da(Q,q),Q.index=0,Q.sibling=null,Q}function x(Q,q,Y){return Q.index=Y,a?(Y=Q.alternate,Y!==null?(Y=Y.index,Y<q?(Q.flags|=67108866,q):Y):(Q.flags|=67108866,q)):(Q.flags|=1048576,q)}function O(Q){return a&&Q.alternate===null&&(Q.flags|=67108866),Q}function k(Q,q,Y,ue){return q===null||q.tag!==6?(q=Jy(Y,Q.mode,ue),q.return=Q,q):(q=v(q,Y),q.return=Q,q)}function $(Q,q,Y,ue){var Pe=Y.type;return Pe===S?oe(Q,q,Y.props.children,ue,Y.key):q!==null&&(q.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===I&&qs(Pe)===q.type)?(q=v(q,Y.props),ru(q,Y),q.return=Q,q):(q=Pf(Y.type,Y.key,Y.props,null,Q.mode,ue),ru(q,Y),q.return=Q,q)}function W(Q,q,Y,ue){return q===null||q.tag!==4||q.stateNode.containerInfo!==Y.containerInfo||q.stateNode.implementation!==Y.implementation?(q=eg(Y,Q.mode,ue),q.return=Q,q):(q=v(q,Y.children||[]),q.return=Q,q)}function oe(Q,q,Y,ue,Pe){return q===null||q.tag!==7?(q=Ls(Y,Q.mode,ue,Pe),q.return=Q,q):(q=v(q,Y),q.return=Q,q)}function he(Q,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Jy(""+q,Q.mode,Y),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return Y=Pf(q.type,q.key,q.props,null,Q.mode,Y),ru(Y,q),Y.return=Q,Y;case w:return q=eg(q,Q.mode,Y),q.return=Q,q;case I:return q=qs(q),he(Q,q,Y)}if(Z(q)||B(q))return q=Ls(q,Q.mode,Y,null),q.return=Q,q;if(typeof q.then=="function")return he(Q,$f(q),Y);if(q.$$typeof===A)return he(Q,Mf(Q,q),Y);Bf(Q,q)}return null}function X(Q,q,Y,ue){var Pe=q!==null?q.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Pe!==null?null:k(Q,q,""+Y,ue);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return Y.key===Pe?$(Q,q,Y,ue):null;case w:return Y.key===Pe?W(Q,q,Y,ue):null;case I:return Y=qs(Y),X(Q,q,Y,ue)}if(Z(Y)||B(Y))return Pe!==null?null:oe(Q,q,Y,ue,null);if(typeof Y.then=="function")return X(Q,q,$f(Y),ue);if(Y.$$typeof===A)return X(Q,q,Mf(Q,Y),ue);Bf(Q,Y)}return null}function ne(Q,q,Y,ue,Pe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Q=Q.get(Y)||null,k(q,Q,""+ue,Pe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return Q=Q.get(ue.key===null?Y:ue.key)||null,$(q,Q,ue,Pe);case w:return Q=Q.get(ue.key===null?Y:ue.key)||null,W(q,Q,ue,Pe);case I:return ue=qs(ue),ne(Q,q,Y,ue,Pe)}if(Z(ue)||B(ue))return Q=Q.get(Y)||null,oe(q,Q,ue,Pe,null);if(typeof ue.then=="function")return ne(Q,q,Y,$f(ue),Pe);if(ue.$$typeof===A)return ne(Q,q,Y,Mf(q,ue),Pe);Bf(q,ue)}return null}function Ne(Q,q,Y,ue){for(var Pe=null,et=null,Ee=q,ze=q=0,Ve=null;Ee!==null&&ze<Y.length;ze++){Ee.index>ze?(Ve=Ee,Ee=null):Ve=Ee.sibling;var tt=X(Q,Ee,Y[ze],ue);if(tt===null){Ee===null&&(Ee=Ve);break}a&&Ee&&tt.alternate===null&&o(Q,Ee),q=x(tt,q,ze),et===null?Pe=tt:et.sibling=tt,et=tt,Ee=Ve}if(ze===Y.length)return c(Q,Ee),We&&Ma(Q,ze),Pe;if(Ee===null){for(;ze<Y.length;ze++)Ee=he(Q,Y[ze],ue),Ee!==null&&(q=x(Ee,q,ze),et===null?Pe=Ee:et.sibling=Ee,et=Ee);return We&&Ma(Q,ze),Pe}for(Ee=m(Ee);ze<Y.length;ze++)Ve=ne(Ee,Q,ze,Y[ze],ue),Ve!==null&&(a&&Ve.alternate!==null&&Ee.delete(Ve.key===null?ze:Ve.key),q=x(Ve,q,ze),et===null?Pe=Ve:et.sibling=Ve,et=Ve);return a&&Ee.forEach(function(Ji){return o(Q,Ji)}),We&&Ma(Q,ze),Pe}function De(Q,q,Y,ue){if(Y==null)throw Error(n(151));for(var Pe=null,et=null,Ee=q,ze=q=0,Ve=null,tt=Y.next();Ee!==null&&!tt.done;ze++,tt=Y.next()){Ee.index>ze?(Ve=Ee,Ee=null):Ve=Ee.sibling;var Ji=X(Q,Ee,tt.value,ue);if(Ji===null){Ee===null&&(Ee=Ve);break}a&&Ee&&Ji.alternate===null&&o(Q,Ee),q=x(Ji,q,ze),et===null?Pe=Ji:et.sibling=Ji,et=Ji,Ee=Ve}if(tt.done)return c(Q,Ee),We&&Ma(Q,ze),Pe;if(Ee===null){for(;!tt.done;ze++,tt=Y.next())tt=he(Q,tt.value,ue),tt!==null&&(q=x(tt,q,ze),et===null?Pe=tt:et.sibling=tt,et=tt);return We&&Ma(Q,ze),Pe}for(Ee=m(Ee);!tt.done;ze++,tt=Y.next())tt=ne(Ee,Q,ze,tt.value,ue),tt!==null&&(a&&tt.alternate!==null&&Ee.delete(tt.key===null?ze:tt.key),q=x(tt,q,ze),et===null?Pe=tt:et.sibling=tt,et=tt);return a&&Ee.forEach(function(BL){return o(Q,BL)}),We&&Ma(Q,ze),Pe}function pt(Q,q,Y,ue){if(typeof Y=="object"&&Y!==null&&Y.type===S&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:e:{for(var Pe=Y.key;q!==null;){if(q.key===Pe){if(Pe=Y.type,Pe===S){if(q.tag===7){c(Q,q.sibling),ue=v(q,Y.props.children),ue.return=Q,Q=ue;break e}}else if(q.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===I&&qs(Pe)===q.type){c(Q,q.sibling),ue=v(q,Y.props),ru(ue,Y),ue.return=Q,Q=ue;break e}c(Q,q);break}else o(Q,q);q=q.sibling}Y.type===S?(ue=Ls(Y.props.children,Q.mode,ue,Y.key),ue.return=Q,Q=ue):(ue=Pf(Y.type,Y.key,Y.props,null,Q.mode,ue),ru(ue,Y),ue.return=Q,Q=ue)}return O(Q);case w:e:{for(Pe=Y.key;q!==null;){if(q.key===Pe)if(q.tag===4&&q.stateNode.containerInfo===Y.containerInfo&&q.stateNode.implementation===Y.implementation){c(Q,q.sibling),ue=v(q,Y.children||[]),ue.return=Q,Q=ue;break e}else{c(Q,q);break}else o(Q,q);q=q.sibling}ue=eg(Y,Q.mode,ue),ue.return=Q,Q=ue}return O(Q);case I:return Y=qs(Y),pt(Q,q,Y,ue)}if(Z(Y))return Ne(Q,q,Y,ue);if(B(Y)){if(Pe=B(Y),typeof Pe!="function")throw Error(n(150));return Y=Pe.call(Y),De(Q,q,Y,ue)}if(typeof Y.then=="function")return pt(Q,q,$f(Y),ue);if(Y.$$typeof===A)return pt(Q,q,Mf(Q,Y),ue);Bf(Q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,q!==null&&q.tag===6?(c(Q,q.sibling),ue=v(q,Y),ue.return=Q,Q=ue):(c(Q,q),ue=Jy(Y,Q.mode,ue),ue.return=Q,Q=ue),O(Q)):c(Q,q)}return function(Q,q,Y,ue){try{tu=0;var Pe=pt(Q,q,Y,ue);return dl=null,Pe}catch(Ee){if(Ee===ul||Ee===If)throw Ee;var et=hn(29,Ee,null,Q.mode);return et.lanes=ue,et.return=Q,et}finally{}}}var Fs=ZS(!0),JS=ZS(!1),Ii=!1;function fg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hg(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Li(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function $i(a,o,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(it&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=kf(a),IS(a,null,c),o}return Cf(a,m,o,c),kf(a)}function nu(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,F1(a,c)}}function mg(a,o){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var v=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?v=x=O:x=x.next=O,c=c.next}while(c!==null);x===null?v=x=o:x=x.next=o}else v=x=o;c={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var pg=!1;function au(){if(pg){var a=cl;if(a!==null)throw a}}function iu(a,o,c,m){pg=!1;var v=a.updateQueue;Ii=!1;var x=v.firstBaseUpdate,O=v.lastBaseUpdate,k=v.shared.pending;if(k!==null){v.shared.pending=null;var $=k,W=$.next;$.next=null,O===null?x=W:O.next=W,O=$;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,k=oe.lastBaseUpdate,k!==O&&(k===null?oe.firstBaseUpdate=W:k.next=W,oe.lastBaseUpdate=$))}if(x!==null){var he=v.baseState;O=0,oe=W=$=null,k=x;do{var X=k.lane&-536870913,ne=X!==k.lane;if(ne?(Qe&X)===X:(m&X)===X){X!==0&&X===ll&&(pg=!0),oe!==null&&(oe=oe.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ne=a,De=k;X=o;var pt=c;switch(De.tag){case 1:if(Ne=De.payload,typeof Ne=="function"){he=Ne.call(pt,he,X);break e}he=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=De.payload,X=typeof Ne=="function"?Ne.call(pt,he,X):Ne,X==null)break e;he=y({},he,X);break e;case 2:Ii=!0}}X=k.callback,X!==null&&(a.flags|=64,ne&&(a.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[X]:ne.push(X))}else ne={lane:X,tag:k.tag,payload:k.payload,callback:k.callback,next:null},oe===null?(W=oe=ne,$=he):oe=oe.next=ne,O|=X;if(k=k.next,k===null){if(k=v.shared.pending,k===null)break;ne=k,k=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);oe===null&&($=he),v.baseState=$,v.firstBaseUpdate=W,v.lastBaseUpdate=oe,x===null&&(v.shared.lanes=0),Ki|=O,a.lanes=O,a.memoizedState=he}}function e_(a,o){if(typeof a!="function")throw Error(n(191,a));a.call(o)}function t_(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)e_(c[a],o)}var fl=D(null),Uf=D(0);function r_(a,o){a=Ha,fe(Uf,a),fe(fl,o),Ha=a|o.baseLanes}function yg(){fe(Uf,Ha),fe(fl,fl.current)}function gg(){Ha=Uf.current,H(fl),H(Uf)}var mn=D(null),Rn=null;function Bi(a){var o=a.alternate;fe(Vt,Vt.current&1),fe(mn,a),Rn===null&&(o===null||fl.current!==null||o.memoizedState!==null)&&(Rn=a)}function vg(a){fe(Vt,Vt.current),fe(mn,a),Rn===null&&(Rn=a)}function n_(a){a.tag===22?(fe(Vt,Vt.current),fe(mn,a),Rn===null&&(Rn=a)):Ui()}function Ui(){fe(Vt,Vt.current),fe(mn,mn.current)}function pn(a){H(mn),Rn===a&&(Rn=null),H(Vt)}var Vt=D(0);function zf(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||_v(c)||Nv(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var La=0,Le=null,ht=null,Wt=null,qf=!1,hl=!1,Hs=!1,Kf=0,su=0,ml=null,C3=0;function $t(){throw Error(n(321))}function bg(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!fn(a[c],o[c]))return!1;return!0}function xg(a,o,c,m,v,x){return La=x,Le=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,R.H=a===null||a.memoizedState===null?U_:Rg,Hs=!1,x=c(m,v),Hs=!1,hl&&(x=i_(o,c,m,v)),a_(a),x}function a_(a){R.H=cu;var o=ht!==null&&ht.next!==null;if(La=0,Wt=ht=Le=null,qf=!1,su=0,ml=null,o)throw Error(n(300));a===null||Xt||(a=a.dependencies,a!==null&&Df(a)&&(Xt=!0))}function i_(a,o,c,m){Le=a;var v=0;do{if(hl&&(ml=null),su=0,hl=!1,25<=v)throw Error(n(301));if(v+=1,Wt=ht=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}R.H=z_,x=o(c,m)}while(hl);return x}function k3(){var a=R.H,o=a.useState()[0];return o=typeof o.then=="function"?ou(o):o,a=a.useState()[0],(ht!==null?ht.memoizedState:null)!==a&&(Le.flags|=1024),o}function wg(){var a=Kf!==0;return Kf=0,a}function jg(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function Sg(a){if(qf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}qf=!1}La=0,Wt=ht=Le=null,hl=!1,su=Kf=0,ml=null}function Ur(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Le.memoizedState=Wt=a:Wt=Wt.next=a,Wt}function Gt(){if(ht===null){var a=Le.alternate;a=a!==null?a.memoizedState:null}else a=ht.next;var o=Wt===null?Le.memoizedState:Wt.next;if(o!==null)Wt=o,ht=a;else{if(a===null)throw Le.alternate===null?Error(n(467)):Error(n(310));ht=a,a={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Wt===null?Le.memoizedState=Wt=a:Wt=Wt.next=a}return Wt}function Ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(a){var o=su;return su+=1,ml===null&&(ml=[]),a=YS(ml,a,o),o=Le,(Wt===null?o.memoizedState:Wt.next)===null&&(o=o.alternate,R.H=o===null||o.memoizedState===null?U_:Rg),a}function Hf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ou(a);if(a.$$typeof===A)return _r(a)}throw Error(n(438,String(a)))}function _g(a){var o=null,c=Le.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=Le.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Ff(),Le.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),m=0;m<a;m++)c[m]=L;return o.index++,c}function $a(a,o){return typeof o=="function"?o(a):o}function Qf(a){var o=Gt();return Ng(o,ht,a)}function Ng(a,o,c){var m=a.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var v=a.baseQueue,x=m.pending;if(x!==null){if(v!==null){var O=v.next;v.next=x.next,x.next=O}o.baseQueue=v=x,m.pending=null}if(x=a.baseState,v===null)a.memoizedState=x;else{o=v.next;var k=O=null,$=null,W=o,oe=!1;do{var he=W.lane&-536870913;if(he!==W.lane?(Qe&he)===he:(La&he)===he){var X=W.revertLane;if(X===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),he===ll&&(oe=!0);else if((La&X)===X){W=W.next,X===ll&&(oe=!0);continue}else he={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},$===null?(k=$=he,O=x):$=$.next=he,Le.lanes|=X,Ki|=X;he=W.action,Hs&&c(x,he),x=W.hasEagerState?W.eagerState:c(x,he)}else X={lane:he,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},$===null?(k=$=X,O=x):$=$.next=X,Le.lanes|=he,Ki|=he;W=W.next}while(W!==null&&W!==o);if($===null?O=x:$.next=k,!fn(x,a.memoizedState)&&(Xt=!0,oe&&(c=cl,c!==null)))throw c;a.memoizedState=x,a.baseState=O,a.baseQueue=$,m.lastRenderedState=x}return v===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function Og(a){var o=Gt(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var m=c.dispatch,v=c.pending,x=o.memoizedState;if(v!==null){c.pending=null;var O=v=v.next;do x=a(x,O.action),O=O.next;while(O!==v);fn(x,o.memoizedState)||(Xt=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,m]}function s_(a,o,c){var m=Le,v=Gt(),x=We;if(x){if(c===void 0)throw Error(n(407));c=c()}else c=o();var O=!fn((ht||v).memoizedState,c);if(O&&(v.memoizedState=c,Xt=!0),v=v.queue,Cg(c_.bind(null,m,v,a),[a]),v.getSnapshot!==o||O||Wt!==null&&Wt.memoizedState.tag&1){if(m.flags|=2048,pl(9,{destroy:void 0},l_.bind(null,m,v,c,o),null),bt===null)throw Error(n(349));x||(La&127)!==0||o_(m,o,c)}return c}function o_(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Le.updateQueue,o===null?(o=Ff(),Le.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function l_(a,o,c,m){o.value=c,o.getSnapshot=m,u_(o)&&d_(a)}function c_(a,o,c){return c(function(){u_(o)&&d_(a)})}function u_(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!fn(a,c)}catch{return!0}}function d_(a){var o=Is(a,2);o!==null&&en(o,a,2)}function Eg(a){var o=Ur();if(typeof a=="function"){var c=a;if(a=c(),Hs){Ci(!0);try{c()}finally{Ci(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:a},o}function f_(a,o,c,m){return a.baseState=c,Ng(a,ht,typeof m=="function"?m:$a)}function P3(a,o,c,m,v){if(Yf(a))throw Error(n(485));if(a=o.action,a!==null){var x={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){x.listeners.push(O)}};R.T!==null?c(!0):x.isTransition=!1,m(x),c=o.pending,c===null?(x.next=o.pending=x,h_(o,x)):(x.next=c.next,o.pending=c.next=x)}}function h_(a,o){var c=o.action,m=o.payload,v=a.state;if(o.isTransition){var x=R.T,O={};R.T=O;try{var k=c(v,m),$=R.S;$!==null&&$(O,k),m_(a,o,k)}catch(W){Ag(a,o,W)}finally{x!==null&&O.types!==null&&(x.types=O.types),R.T=x}}else try{x=c(v,m),m_(a,o,x)}catch(W){Ag(a,o,W)}}function m_(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){p_(a,o,m)},function(m){return Ag(a,o,m)}):p_(a,o,c)}function p_(a,o,c){o.status="fulfilled",o.value=c,y_(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,h_(a,c)))}function Ag(a,o,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,y_(o),o=o.next;while(o!==m)}a.action=null}function y_(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function g_(a,o){return o}function v_(a,o){if(We){var c=bt.formState;if(c!==null){e:{var m=Le;if(We){if(Ot){t:{for(var v=Ot,x=Mn;v.nodeType!==8;){if(!x){v=null;break t}if(v=In(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Ot=In(v.nextSibling),m=v.data==="F!";break e}}Mi(m)}m=!1}m&&(o=c[0])}}return c=Ur(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g_,lastRenderedState:o},c.queue=m,c=L_.bind(null,Le,m),m.dispatch=c,m=Eg(!1),x=Mg.bind(null,Le,!1,m.queue),m=Ur(),v={state:o,dispatch:null,action:a,pending:null},m.queue=v,c=P3.bind(null,Le,v,x,c),v.dispatch=c,m.memoizedState=a,[o,c,!1]}function b_(a){var o=Gt();return x_(o,ht,a)}function x_(a,o,c){if(o=Ng(a,o,g_)[0],a=Qf($a)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=ou(o)}catch(O){throw O===ul?If:O}else m=o;o=Gt();var v=o.queue,x=v.dispatch;return c!==o.memoizedState&&(Le.flags|=2048,pl(9,{destroy:void 0},T3.bind(null,v,c),null)),[m,x,a]}function T3(a,o){a.action=o}function w_(a){var o=Gt(),c=ht;if(c!==null)return x_(o,c,a);Gt(),o=o.memoizedState,c=Gt();var m=c.queue.dispatch;return c.memoizedState=a,[o,m,!1]}function pl(a,o,c,m){return a={tag:a,create:c,deps:m,inst:o,next:null},o=Le.updateQueue,o===null&&(o=Ff(),Le.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,o.lastEffect=a),a}function j_(){return Gt().memoizedState}function Vf(a,o,c,m){var v=Ur();Le.flags|=a,v.memoizedState=pl(1|o,{destroy:void 0},c,m===void 0?null:m)}function Gf(a,o,c,m){var v=Gt();m=m===void 0?null:m;var x=v.memoizedState.inst;ht!==null&&m!==null&&bg(m,ht.memoizedState.deps)?v.memoizedState=pl(o,x,c,m):(Le.flags|=a,v.memoizedState=pl(1|o,x,c,m))}function S_(a,o){Vf(8390656,8,a,o)}function Cg(a,o){Gf(2048,8,a,o)}function D3(a){Le.flags|=4;var o=Le.updateQueue;if(o===null)o=Ff(),Le.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function __(a){var o=Gt().memoizedState;return D3({ref:o,nextImpl:a}),function(){if((it&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function N_(a,o){return Gf(4,2,a,o)}function O_(a,o){return Gf(4,4,a,o)}function E_(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function A_(a,o,c){c=c!=null?c.concat([a]):null,Gf(4,4,E_.bind(null,o,a),c)}function kg(){}function C_(a,o){var c=Gt();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&bg(o,m[1])?m[0]:(c.memoizedState=[a,o],a)}function k_(a,o){var c=Gt();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&bg(o,m[1]))return m[0];if(m=a(),Hs){Ci(!0);try{a()}finally{Ci(!1)}}return c.memoizedState=[m,o],m}function Pg(a,o,c){return c===void 0||(La&1073741824)!==0&&(Qe&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=PN(),Le.lanes|=a,Ki|=a,c)}function P_(a,o,c,m){return fn(c,o)?c:fl.current!==null?(a=Pg(a,c,m),fn(a,o)||(Xt=!0),a):(La&42)===0||(La&1073741824)!==0&&(Qe&261930)===0?(Xt=!0,a.memoizedState=c):(a=PN(),Le.lanes|=a,Ki|=a,o)}function T_(a,o,c,m,v){var x=V.p;V.p=x!==0&&8>x?x:8;var O=R.T,k={};R.T=k,Mg(a,!1,o,c);try{var $=v(),W=R.S;if(W!==null&&W(k,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var oe=A3($,m);lu(a,o,oe,vn(a))}else lu(a,o,m,vn(a))}catch(he){lu(a,o,{then:function(){},status:"rejected",reason:he},vn())}finally{V.p=x,O!==null&&k.types!==null&&(O.types=k.types),R.T=O}}function M3(){}function Tg(a,o,c,m){if(a.tag!==5)throw Error(n(476));var v=D_(a).queue;T_(a,v,o,J,c===null?M3:function(){return M_(a),c(m)})}function D_(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:J},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function M_(a){var o=D_(a);o.next===null&&(o=a.alternate.memoizedState),lu(a,o.next.queue,{},vn())}function Dg(){return _r(Nu)}function R_(){return Gt().memoizedState}function I_(){return Gt().memoizedState}function R3(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=vn();a=Li(c);var m=$i(o,a,c);m!==null&&(en(m,o,c),nu(m,o,c)),o={cache:lg()},a.payload=o;return}o=o.return}}function I3(a,o,c){var m=vn();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Yf(a)?$_(o,c):(c=Xy(a,o,c,m),c!==null&&(en(c,a,m),B_(c,o,m)))}function L_(a,o,c){var m=vn();lu(a,o,c,m)}function lu(a,o,c,m){var v={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Yf(a))$_(o,v);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var O=o.lastRenderedState,k=x(O,c);if(v.hasEagerState=!0,v.eagerState=k,fn(k,O))return Cf(a,o,v,0),bt===null&&Af(),!1}catch{}finally{}if(c=Xy(a,o,v,m),c!==null)return en(c,a,m),B_(c,o,m),!0}return!1}function Mg(a,o,c,m){if(m={lane:2,revertLane:fv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Yf(a)){if(o)throw Error(n(479))}else o=Xy(a,c,m,2),o!==null&&en(o,a,2)}function Yf(a){var o=a.alternate;return a===Le||o!==null&&o===Le}function $_(a,o){hl=qf=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function B_(a,o,c){if((c&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,F1(a,c)}}var cu={readContext:_r,use:Hf,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t};cu.useEffectEvent=$t;var U_={readContext:_r,use:Hf,useCallback:function(a,o){return Ur().memoizedState=[a,o===void 0?null:o],a},useContext:_r,useEffect:S_,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,Vf(4194308,4,E_.bind(null,o,a),c)},useLayoutEffect:function(a,o){return Vf(4194308,4,a,o)},useInsertionEffect:function(a,o){Vf(4,2,a,o)},useMemo:function(a,o){var c=Ur();o=o===void 0?null:o;var m=a();if(Hs){Ci(!0);try{a()}finally{Ci(!1)}}return c.memoizedState=[m,o],m},useReducer:function(a,o,c){var m=Ur();if(c!==void 0){var v=c(o);if(Hs){Ci(!0);try{c(o)}finally{Ci(!1)}}}else v=o;return m.memoizedState=m.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},m.queue=a,a=a.dispatch=I3.bind(null,Le,a),[m.memoizedState,a]},useRef:function(a){var o=Ur();return a={current:a},o.memoizedState=a},useState:function(a){a=Eg(a);var o=a.queue,c=L_.bind(null,Le,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:kg,useDeferredValue:function(a,o){var c=Ur();return Pg(c,a,o)},useTransition:function(){var a=Eg(!1);return a=T_.bind(null,Le,a.queue,!0,!1),Ur().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var m=Le,v=Ur();if(We){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),bt===null)throw Error(n(349));(Qe&127)!==0||o_(m,o,c)}v.memoizedState=c;var x={value:c,getSnapshot:o};return v.queue=x,S_(c_.bind(null,m,x,a),[a]),m.flags|=2048,pl(9,{destroy:void 0},l_.bind(null,m,x,c,o),null),c},useId:function(){var a=Ur(),o=bt.identifierPrefix;if(We){var c=fa,m=da;c=(m&~(1<<32-dn(m)-1)).toString(32)+c,o="_"+o+"R_"+c,c=Kf++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=C3++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Dg,useFormState:v_,useActionState:v_,useOptimistic:function(a){var o=Ur();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Mg.bind(null,Le,!0,c),c.dispatch=o,[a,o]},useMemoCache:_g,useCacheRefresh:function(){return Ur().memoizedState=R3.bind(null,Le)},useEffectEvent:function(a){var o=Ur(),c={impl:a};return o.memoizedState=c,function(){if((it&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},Rg={readContext:_r,use:Hf,useCallback:C_,useContext:_r,useEffect:Cg,useImperativeHandle:A_,useInsertionEffect:N_,useLayoutEffect:O_,useMemo:k_,useReducer:Qf,useRef:j_,useState:function(){return Qf($a)},useDebugValue:kg,useDeferredValue:function(a,o){var c=Gt();return P_(c,ht.memoizedState,a,o)},useTransition:function(){var a=Qf($a)[0],o=Gt().memoizedState;return[typeof a=="boolean"?a:ou(a),o]},useSyncExternalStore:s_,useId:R_,useHostTransitionStatus:Dg,useFormState:b_,useActionState:b_,useOptimistic:function(a,o){var c=Gt();return f_(c,ht,a,o)},useMemoCache:_g,useCacheRefresh:I_};Rg.useEffectEvent=__;var z_={readContext:_r,use:Hf,useCallback:C_,useContext:_r,useEffect:Cg,useImperativeHandle:A_,useInsertionEffect:N_,useLayoutEffect:O_,useMemo:k_,useReducer:Og,useRef:j_,useState:function(){return Og($a)},useDebugValue:kg,useDeferredValue:function(a,o){var c=Gt();return ht===null?Pg(c,a,o):P_(c,ht.memoizedState,a,o)},useTransition:function(){var a=Og($a)[0],o=Gt().memoizedState;return[typeof a=="boolean"?a:ou(a),o]},useSyncExternalStore:s_,useId:R_,useHostTransitionStatus:Dg,useFormState:w_,useActionState:w_,useOptimistic:function(a,o){var c=Gt();return ht!==null?f_(c,ht,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:_g,useCacheRefresh:I_};z_.useEffectEvent=__;function Ig(a,o,c,m){o=a.memoizedState,c=c(m,o),c=c==null?o:y({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Lg={enqueueSetState:function(a,o,c){a=a._reactInternals;var m=vn(),v=Li(m);v.payload=o,c!=null&&(v.callback=c),o=$i(a,v,m),o!==null&&(en(o,a,m),nu(o,a,m))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var m=vn(),v=Li(m);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=$i(a,v,m),o!==null&&(en(o,a,m),nu(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=vn(),m=Li(c);m.tag=2,o!=null&&(m.callback=o),o=$i(a,m,c),o!==null&&(en(o,a,c),nu(o,a,c))}};function q_(a,o,c,m,v,x,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,x,O):o.prototype&&o.prototype.isPureReactComponent?!Yc(c,m)||!Yc(v,x):!0}function K_(a,o,c,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==a&&Lg.enqueueReplaceState(o,o.state,null)}function Qs(a,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(a=a.defaultProps){c===o&&(c=y({},c));for(var v in a)c[v]===void 0&&(c[v]=a[v])}return c}function F_(a){Ef(a)}function H_(a){console.error(a)}function Q_(a){Ef(a)}function Wf(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function V_(a,o,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function $g(a,o,c){return c=Li(c),c.tag=3,c.payload={element:null},c.callback=function(){Wf(a,o)},c}function G_(a){return a=Li(a),a.tag=3,a}function Y_(a,o,c,m){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var x=m.value;a.payload=function(){return v(x)},a.callback=function(){V_(o,c,m)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){V_(o,c,m),typeof v!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function L3(a,o,c,m,v){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&ol(o,c,v,!0),c=mn.current,c!==null){switch(c.tag){case 31:case 13:return Rn===null?lh():c.alternate===null&&Bt===0&&(Bt=3),c.flags&=-257,c.flags|=65536,c.lanes=v,m===Lf?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),cv(a,m,v)),!1;case 22:return c.flags|=65536,m===Lf?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),cv(a,m,v)),!1}throw Error(n(435,c.tag))}return cv(a,m,v),lh(),!1}if(We)return o=mn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==ng&&(a=Error(n(422),{cause:m}),Zc(Pn(a,c)))):(m!==ng&&(o=Error(n(423),{cause:m}),Zc(Pn(o,c))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,m=Pn(m,c),v=$g(a.stateNode,m,v),mg(a,v),Bt!==4&&(Bt=2)),!1;var x=Error(n(520),{cause:m});if(x=Pn(x,c),gu===null?gu=[x]:gu.push(x),Bt!==4&&(Bt=2),o===null)return!0;m=Pn(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=v&-v,c.lanes|=a,a=$g(c.stateNode,m,a),mg(c,a),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Fi===null||!Fi.has(x))))return c.flags|=65536,v&=-v,c.lanes|=v,v=G_(v),Y_(v,a,c,m),mg(c,v),!1}c=c.return}while(c!==null);return!1}var Bg=Error(n(461)),Xt=!1;function Nr(a,o,c,m){o.child=a===null?JS(o,null,c,m):Fs(o,a.child,c,m)}function W_(a,o,c,m,v){c=c.render;var x=o.ref;if("ref"in m){var O={};for(var k in m)k!=="ref"&&(O[k]=m[k])}else O=m;return Us(o),m=xg(a,o,c,O,x,v),k=wg(),a!==null&&!Xt?(jg(a,o,v),Ba(a,o,v)):(We&&k&&tg(o),o.flags|=1,Nr(a,o,m,v),o.child)}function X_(a,o,c,m,v){if(a===null){var x=c.type;return typeof x=="function"&&!Zy(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,Z_(a,o,x,m,v)):(a=Pf(c.type,null,m,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!Vg(a,v)){var O=x.memoizedProps;if(c=c.compare,c=c!==null?c:Yc,c(O,m)&&a.ref===o.ref)return Ba(a,o,v)}return o.flags|=1,a=Da(x,m),a.ref=o.ref,a.return=o,o.child=a}function Z_(a,o,c,m,v){if(a!==null){var x=a.memoizedProps;if(Yc(x,m)&&a.ref===o.ref)if(Xt=!1,o.pendingProps=m=x,Vg(a,v))(a.flags&131072)!==0&&(Xt=!0);else return o.lanes=a.lanes,Ba(a,o,v)}return Ug(a,o,c,m,v)}function J_(a,o,c,m){var v=m.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(m=o.child=a.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~x}else m=0,o.child=null;return eN(a,o,x,c,m)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Rf(o,x!==null?x.cachePool:null),x!==null?r_(o,x):yg(),n_(o);else return m=o.lanes=536870912,eN(a,o,x!==null?x.baseLanes|c:c,c,m)}else x!==null?(Rf(o,x.cachePool),r_(o,x),Ui(),o.memoizedState=null):(a!==null&&Rf(o,null),yg(),Ui());return Nr(a,o,v,c),o.child}function uu(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function eN(a,o,c,m,v){var x=ug();return x=x===null?null:{parent:Yt._currentValue,pool:x},o.memoizedState={baseLanes:c,cachePool:x},a!==null&&Rf(o,null),yg(),n_(o),a!==null&&ol(a,o,m,!0),o.childLanes=v,null}function Xf(a,o){return o=Jf({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function tN(a,o,c){return Fs(o,a.child,null,c),a=Xf(o,o.pendingProps),a.flags|=2,pn(o),o.memoizedState=null,a}function $3(a,o,c){var m=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(We){if(m.mode==="hidden")return a=Xf(o,m),o.lanes=536870912,uu(null,a);if(vg(o),(a=Ot)?(a=hO(a,Mn),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ti!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},c=$S(a),c.return=o,o.child=c,Sr=o,Ot=null)):a=null,a===null)throw Mi(o);return o.lanes=536870912,null}return Xf(o,m)}var x=a.memoizedState;if(x!==null){var O=x.dehydrated;if(vg(o),v)if(o.flags&256)o.flags&=-257,o=tN(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(n(558));else if(Xt||ol(a,o,c,!1),v=(c&a.childLanes)!==0,Xt||v){if(m=bt,m!==null&&(O=H1(m,c),O!==0&&O!==x.retryLane))throw x.retryLane=O,Is(a,O),en(m,a,O),Bg;lh(),o=tN(a,o,c)}else a=x.treeContext,Ot=In(O.nextSibling),Sr=o,We=!0,Di=null,Mn=!1,a!==null&&zS(o,a),o=Xf(o,m),o.flags|=4096;return o}return a=Da(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Zf(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function Ug(a,o,c,m,v){return Us(o),c=xg(a,o,c,m,void 0,v),m=wg(),a!==null&&!Xt?(jg(a,o,v),Ba(a,o,v)):(We&&m&&tg(o),o.flags|=1,Nr(a,o,c,v),o.child)}function rN(a,o,c,m,v,x){return Us(o),o.updateQueue=null,c=i_(o,m,c,v),a_(a),m=wg(),a!==null&&!Xt?(jg(a,o,x),Ba(a,o,x)):(We&&m&&tg(o),o.flags|=1,Nr(a,o,c,x),o.child)}function nN(a,o,c,m,v){if(Us(o),o.stateNode===null){var x=nl,O=c.contextType;typeof O=="object"&&O!==null&&(x=_r(O)),x=new c(m,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Lg,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=m,x.state=o.memoizedState,x.refs={},fg(o),O=c.contextType,x.context=typeof O=="object"&&O!==null?_r(O):nl,x.state=o.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(Ig(o,c,O,m),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(O=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),O!==x.state&&Lg.enqueueReplaceState(x,x.state,null),iu(o,m,x,v),au(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){x=o.stateNode;var k=o.memoizedProps,$=Qs(c,k);x.props=$;var W=x.context,oe=c.contextType;O=nl,typeof oe=="object"&&oe!==null&&(O=_r(oe));var he=c.getDerivedStateFromProps;oe=typeof he=="function"||typeof x.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,oe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k||W!==O)&&K_(o,x,m,O),Ii=!1;var X=o.memoizedState;x.state=X,iu(o,m,x,v),au(),W=o.memoizedState,k||X!==W||Ii?(typeof he=="function"&&(Ig(o,c,he,m),W=o.memoizedState),($=Ii||q_(o,c,$,m,X,W,O))?(oe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=W),x.props=m,x.state=W,x.context=O,m=$):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{x=o.stateNode,hg(a,o),O=o.memoizedProps,oe=Qs(c,O),x.props=oe,he=o.pendingProps,X=x.context,W=c.contextType,$=nl,typeof W=="object"&&W!==null&&($=_r(W)),k=c.getDerivedStateFromProps,(W=typeof k=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==he||X!==$)&&K_(o,x,m,$),Ii=!1,X=o.memoizedState,x.state=X,iu(o,m,x,v),au();var ne=o.memoizedState;O!==he||X!==ne||Ii||a!==null&&a.dependencies!==null&&Df(a.dependencies)?(typeof k=="function"&&(Ig(o,c,k,m),ne=o.memoizedState),(oe=Ii||q_(o,c,oe,m,X,ne,$)||a!==null&&a.dependencies!==null&&Df(a.dependencies))?(W||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,ne,$),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,ne,$)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||O===a.memoizedProps&&X===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&X===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ne),x.props=m,x.state=ne,x.context=$,m=oe):(typeof x.componentDidUpdate!="function"||O===a.memoizedProps&&X===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&X===a.memoizedState||(o.flags|=1024),m=!1)}return x=m,Zf(a,o),m=(o.flags&128)!==0,x||m?(x=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&m?(o.child=Fs(o,a.child,null,v),o.child=Fs(o,null,c,v)):Nr(a,o,c,v),o.memoizedState=x.state,a=o.child):a=Ba(a,o,v),a}function aN(a,o,c,m){return $s(),o.flags|=256,Nr(a,o,c,m),o.child}var zg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qg(a){return{baseLanes:a,cachePool:VS()}}function Kg(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=gn),a}function iN(a,o,c){var m=o.pendingProps,v=!1,x=(o.flags&128)!==0,O;if((O=x)||(O=a!==null&&a.memoizedState===null?!1:(Vt.current&2)!==0),O&&(v=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,a===null){if(We){if(v?Bi(o):Ui(),(a=Ot)?(a=hO(a,Mn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ti!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},c=$S(a),c.return=o,o.child=c,Sr=o,Ot=null)):a=null,a===null)throw Mi(o);return Nv(a)?o.lanes=32:o.lanes=536870912,null}var k=m.children;return m=m.fallback,v?(Ui(),v=o.mode,k=Jf({mode:"hidden",children:k},v),m=Ls(m,v,c,null),k.return=o,m.return=o,k.sibling=m,o.child=k,m=o.child,m.memoizedState=qg(c),m.childLanes=Kg(a,O,c),o.memoizedState=zg,uu(null,m)):(Bi(o),Fg(o,k))}var $=a.memoizedState;if($!==null&&(k=$.dehydrated,k!==null)){if(x)o.flags&256?(Bi(o),o.flags&=-257,o=Hg(a,o,c)):o.memoizedState!==null?(Ui(),o.child=a.child,o.flags|=128,o=null):(Ui(),k=m.fallback,v=o.mode,m=Jf({mode:"visible",children:m.children},v),k=Ls(k,v,c,null),k.flags|=2,m.return=o,k.return=o,m.sibling=k,o.child=m,Fs(o,a.child,null,c),m=o.child,m.memoizedState=qg(c),m.childLanes=Kg(a,O,c),o.memoizedState=zg,o=uu(null,m));else if(Bi(o),Nv(k)){if(O=k.nextSibling&&k.nextSibling.dataset,O)var W=O.dgst;O=W,m=Error(n(419)),m.stack="",m.digest=O,Zc({value:m,source:null,stack:null}),o=Hg(a,o,c)}else if(Xt||ol(a,o,c,!1),O=(c&a.childLanes)!==0,Xt||O){if(O=bt,O!==null&&(m=H1(O,c),m!==0&&m!==$.retryLane))throw $.retryLane=m,Is(a,m),en(O,a,m),Bg;_v(k)||lh(),o=Hg(a,o,c)}else _v(k)?(o.flags|=192,o.child=a.child,o=null):(a=$.treeContext,Ot=In(k.nextSibling),Sr=o,We=!0,Di=null,Mn=!1,a!==null&&zS(o,a),o=Fg(o,m.children),o.flags|=4096);return o}return v?(Ui(),k=m.fallback,v=o.mode,$=a.child,W=$.sibling,m=Da($,{mode:"hidden",children:m.children}),m.subtreeFlags=$.subtreeFlags&65011712,W!==null?k=Da(W,k):(k=Ls(k,v,c,null),k.flags|=2),k.return=o,m.return=o,m.sibling=k,o.child=m,uu(null,m),m=o.child,k=a.child.memoizedState,k===null?k=qg(c):(v=k.cachePool,v!==null?($=Yt._currentValue,v=v.parent!==$?{parent:$,pool:$}:v):v=VS(),k={baseLanes:k.baseLanes|c,cachePool:v}),m.memoizedState=k,m.childLanes=Kg(a,O,c),o.memoizedState=zg,uu(a.child,m)):(Bi(o),c=a.child,a=c.sibling,c=Da(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,a!==null&&(O=o.deletions,O===null?(o.deletions=[a],o.flags|=16):O.push(a)),o.child=c,o.memoizedState=null,c)}function Fg(a,o){return o=Jf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Jf(a,o){return a=hn(22,a,null,o),a.lanes=0,a}function Hg(a,o,c){return Fs(o,a.child,null,c),a=Fg(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function sN(a,o,c){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),sg(a.return,o,c)}function Qg(a,o,c,m,v,x){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:v,treeForkCount:x}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=m,O.tail=c,O.tailMode=v,O.treeForkCount=x)}function oN(a,o,c){var m=o.pendingProps,v=m.revealOrder,x=m.tail;m=m.children;var O=Vt.current,k=(O&2)!==0;if(k?(O=O&1|2,o.flags|=128):O&=1,fe(Vt,O),Nr(a,o,m,c),m=We?Xc:0,!k&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&sN(a,c,o);else if(a.tag===19)sN(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(c=o.child,v=null;c!==null;)a=c.alternate,a!==null&&zf(a)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),Qg(o,!1,v,c,x,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&zf(a)===null){o.child=v;break}a=v.sibling,v.sibling=c,c=v,v=a}Qg(o,!0,c,null,x,m);break;case"together":Qg(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function Ba(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Ki|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(ol(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,c=Da(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=Da(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function Vg(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Df(a)))}function B3(a,o,c){switch(o.tag){case 3:ke(o,o.stateNode.containerInfo),Ri(o,Yt,a.memoizedState.cache),$s();break;case 27:case 5:re(o);break;case 4:ke(o,o.stateNode.containerInfo);break;case 10:Ri(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,vg(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Bi(o),o.flags|=128,null):(c&o.child.childLanes)!==0?iN(a,o,c):(Bi(o),a=Ba(a,o,c),a!==null?a.sibling:null);Bi(o);break;case 19:var v=(a.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(ol(a,o,c,!1),m=(c&o.childLanes)!==0),v){if(m)return oN(a,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),fe(Vt,Vt.current),m)break;return null;case 22:return o.lanes=0,J_(a,o,c,o.pendingProps);case 24:Ri(o,Yt,a.memoizedState.cache)}return Ba(a,o,c)}function lN(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Xt=!0;else{if(!Vg(a,c)&&(o.flags&128)===0)return Xt=!1,B3(a,o,c);Xt=(a.flags&131072)!==0}else Xt=!1,We&&(o.flags&1048576)!==0&&US(o,Xc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=qs(o.elementType),o.type=a,typeof a=="function")Zy(a)?(m=Qs(a,m),o.tag=1,o=nN(null,o,a,m,c)):(o.tag=0,o=Ug(null,o,a,m,c));else{if(a!=null){var v=a.$$typeof;if(v===C){o.tag=11,o=W_(null,o,a,m,c);break e}else if(v===M){o.tag=14,o=X_(null,o,a,m,c);break e}}throw o=de(a)||a,Error(n(306,o,""))}}return o;case 0:return Ug(a,o,o.type,o.pendingProps,c);case 1:return m=o.type,v=Qs(m,o.pendingProps),nN(a,o,m,v,c);case 3:e:{if(ke(o,o.stateNode.containerInfo),a===null)throw Error(n(387));m=o.pendingProps;var x=o.memoizedState;v=x.element,hg(a,o),iu(o,m,null,c);var O=o.memoizedState;if(m=O.cache,Ri(o,Yt,m),m!==x.cache&&og(o,[Yt],c,!0),au(),m=O.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=aN(a,o,m,c);break e}else if(m!==v){v=Pn(Error(n(424)),o),Zc(v),o=aN(a,o,m,c);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ot=In(a.firstChild),Sr=o,We=!0,Di=null,Mn=!0,c=JS(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if($s(),m===v){o=Ba(a,o,c);break e}Nr(a,o,m,c)}o=o.child}return o;case 26:return Zf(a,o),a===null?(c=bO(o.type,null,o.pendingProps,null))?o.memoizedState=c:We||(c=o.type,a=o.pendingProps,m=ph(ee.current).createElement(c),m[jr]=o,m[Gr]=a,Or(m,c,a),fr(m),o.stateNode=m):o.memoizedState=bO(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return re(o),a===null&&We&&(m=o.stateNode=yO(o.type,o.pendingProps,ee.current),Sr=o,Mn=!0,v=Ot,Gi(o.type)?(Ov=v,Ot=In(m.firstChild)):Ot=v),Nr(a,o,o.pendingProps.children,c),Zf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&We&&((v=m=Ot)&&(m=pL(m,o.type,o.pendingProps,Mn),m!==null?(o.stateNode=m,Sr=o,Ot=In(m.firstChild),Mn=!1,v=!0):v=!1),v||Mi(o)),re(o),v=o.type,x=o.pendingProps,O=a!==null?a.memoizedProps:null,m=x.children,wv(v,x)?m=null:O!==null&&wv(v,O)&&(o.flags|=32),o.memoizedState!==null&&(v=xg(a,o,k3,null,null,c),Nu._currentValue=v),Zf(a,o),Nr(a,o,m,c),o.child;case 6:return a===null&&We&&((a=c=Ot)&&(c=yL(c,o.pendingProps,Mn),c!==null?(o.stateNode=c,Sr=o,Ot=null,a=!0):a=!1),a||Mi(o)),null;case 13:return iN(a,o,c);case 4:return ke(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=Fs(o,null,m,c):Nr(a,o,m,c),o.child;case 11:return W_(a,o,o.type,o.pendingProps,c);case 7:return Nr(a,o,o.pendingProps,c),o.child;case 8:return Nr(a,o,o.pendingProps.children,c),o.child;case 12:return Nr(a,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,Ri(o,o.type,m.value),Nr(a,o,m.children,c),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,Us(o),v=_r(v),m=m(v),o.flags|=1,Nr(a,o,m,c),o.child;case 14:return X_(a,o,o.type,o.pendingProps,c);case 15:return Z_(a,o,o.type,o.pendingProps,c);case 19:return oN(a,o,c);case 31:return $3(a,o,c);case 22:return J_(a,o,c,o.pendingProps);case 24:return Us(o),m=_r(Yt),a===null?(v=ug(),v===null&&(v=bt,x=lg(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=c),v=x),o.memoizedState={parent:m,cache:v},fg(o),Ri(o,Yt,v)):((a.lanes&c)!==0&&(hg(a,o),iu(o,null,null,c),au()),v=a.memoizedState,x=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Ri(o,Yt,m)):(m=x.cache,Ri(o,Yt,m),m!==v.cache&&og(o,[Yt],c,!0))),Nr(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ua(a){a.flags|=4}function Gg(a,o,c,m,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(RN())a.flags|=8192;else throw Ks=Lf,dg}else a.flags&=-16777217}function cN(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!_O(o))if(RN())a.flags|=8192;else throw Ks=Lf,dg}function eh(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?q1():536870912,a.lanes|=o,bl|=o)}function du(a,o){if(!We)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Et(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(o)for(var v=a.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=m,a.childLanes=c,o}function U3(a,o,c){var m=o.pendingProps;switch(rg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(o),null;case 1:return Et(o),null;case 3:return c=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Ia(Yt),z(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(sl(o)?Ua(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ag())),Et(o),null;case 26:var v=o.type,x=o.memoizedState;return a===null?(Ua(o),x!==null?(Et(o),cN(o,x)):(Et(o),Gg(o,v,null,m,c))):x?x!==a.memoizedState?(Ua(o),Et(o),cN(o,x)):(Et(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&Ua(o),Et(o),Gg(o,v,a,m,c)),null;case 27:if(ge(o),c=ee.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Ua(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Et(o),null}a=me.current,sl(o)?qS(o):(a=yO(v,m,c),o.stateNode=a,Ua(o))}return Et(o),null;case 5:if(ge(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Ua(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Et(o),null}if(x=me.current,sl(o))qS(o);else{var O=ph(ee.current);switch(x){case 1:x=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=O.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?O.createElement("select",{is:m.is}):O.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?O.createElement(v,{is:m.is}):O.createElement(v)}}x[jr]=o,x[Gr]=m;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)x.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=x;e:switch(Or(x,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Ua(o)}}return Et(o),Gg(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&Ua(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(a=ee.current,sl(o)){if(a=o.stateNode,c=o.memoizedProps,m=null,v=Sr,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}a[jr]=o,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||iO(a.nodeValue,c)),a||Mi(o,!0)}else a=ph(a).createTextNode(m),a[jr]=o,o.stateNode=a}return Et(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(m=sl(o),c!==null){if(a===null){if(!m)throw Error(n(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[jr]=o}else $s(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Et(o),a=!1}else c=ag(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(pn(o),o):(pn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Et(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=sl(o),m!==null&&m.dehydrated!==null){if(a===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[jr]=o}else $s(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Et(o),v=!1}else v=ag(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(pn(o),o):(pn(o),null)}return pn(o),(o.flags&128)!==0?(o.lanes=c,o):(c=m!==null,a=a!==null&&a.memoizedState!==null,c&&(m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==v&&(m.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),eh(o,o.updateQueue),Et(o),null);case 4:return z(),a===null&&yv(o.stateNode.containerInfo),Et(o),null;case 10:return Ia(o.type),Et(o),null;case 19:if(H(Vt),m=o.memoizedState,m===null)return Et(o),null;if(v=(o.flags&128)!==0,x=m.rendering,x===null)if(v)du(m,!1);else{if(Bt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=zf(a),x!==null){for(o.flags|=128,du(m,!1),a=x.updateQueue,o.updateQueue=a,eh(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)LS(c,a),c=c.sibling;return fe(Vt,Vt.current&1|2),We&&Ma(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&lt()>ih&&(o.flags|=128,v=!0,du(m,!1),o.lanes=4194304)}else{if(!v)if(a=zf(x),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,eh(o,a),du(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!We)return Et(o),null}else 2*lt()-m.renderingStartTime>ih&&c!==536870912&&(o.flags|=128,v=!0,du(m,!1),o.lanes=4194304);m.isBackwards?(x.sibling=o.child,o.child=x):(a=m.last,a!==null?a.sibling=x:o.child=x,m.last=x)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=lt(),a.sibling=null,c=Vt.current,fe(Vt,v?c&1|2:c&1),We&&Ma(o,m.treeForkCount),a):(Et(o),null);case 22:case 23:return pn(o),gg(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(Et(o),o.subtreeFlags&6&&(o.flags|=8192)):Et(o),c=o.updateQueue,c!==null&&eh(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),a!==null&&H(zs),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ia(Yt),Et(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function z3(a,o){switch(rg(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ia(Yt),z(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return ge(o),null;case 31:if(o.memoizedState!==null){if(pn(o),o.alternate===null)throw Error(n(340));$s()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(pn(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));$s()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return H(Vt),null;case 4:return z(),null;case 10:return Ia(o.type),null;case 22:case 23:return pn(o),gg(),a!==null&&H(zs),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ia(Yt),null;case 25:return null;default:return null}}function uN(a,o){switch(rg(o),o.tag){case 3:Ia(Yt),z();break;case 26:case 27:case 5:ge(o);break;case 4:z();break;case 31:o.memoizedState!==null&&pn(o);break;case 13:pn(o);break;case 19:H(Vt);break;case 10:Ia(o.type);break;case 22:case 23:pn(o),gg(),a!==null&&H(zs);break;case 24:Ia(Yt)}}function fu(a,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&a)===a){m=void 0;var x=c.create,O=c.inst;m=x(),O.destroy=m}c=c.next}while(c!==v)}}catch(k){ut(o,o.return,k)}}function zi(a,o,c){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var x=v.next;m=x;do{if((m.tag&a)===a){var O=m.inst,k=O.destroy;if(k!==void 0){O.destroy=void 0,v=o;var $=c,W=k;try{W()}catch(oe){ut(v,$,oe)}}}m=m.next}while(m!==x)}}catch(oe){ut(o,o.return,oe)}}function dN(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{t_(o,c)}catch(m){ut(a,a.return,m)}}}function fN(a,o,c){c.props=Qs(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){ut(a,o,m)}}function hu(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof c=="function"?a.refCleanup=c(m):c.current=m}}catch(v){ut(a,o,v)}}function ha(a,o){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(v){ut(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){ut(a,o,v)}else c.current=null}function hN(a){var o=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(v){ut(a,a.return,v)}}function Yg(a,o,c){try{var m=a.stateNode;cL(m,a.type,c,o),m[Gr]=o}catch(v){ut(a,a.return,v)}}function mN(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Gi(a.type)||a.tag===4}function Wg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||mN(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Gi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Xg(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Pa));else if(m!==4&&(m===27&&Gi(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(Xg(a,o,c),a=a.sibling;a!==null;)Xg(a,o,c),a=a.sibling}function th(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(m!==4&&(m===27&&Gi(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(th(a,o,c),a=a.sibling;a!==null;)th(a,o,c),a=a.sibling}function pN(a){var o=a.stateNode,c=a.memoizedProps;try{for(var m=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Or(o,m,c),o[jr]=a,o[Gr]=c}catch(x){ut(a,a.return,x)}}var za=!1,Zt=!1,Zg=!1,yN=typeof WeakSet=="function"?WeakSet:Set,hr=null;function q3(a,o){if(a=a.containerInfo,bv=jh,a=AS(a),Hy(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var v=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var O=0,k=-1,$=-1,W=0,oe=0,he=a,X=null;t:for(;;){for(var ne;he!==c||v!==0&&he.nodeType!==3||(k=O+v),he!==x||m!==0&&he.nodeType!==3||($=O+m),he.nodeType===3&&(O+=he.nodeValue.length),(ne=he.firstChild)!==null;)X=he,he=ne;for(;;){if(he===a)break t;if(X===c&&++W===v&&(k=O),X===x&&++oe===m&&($=O),(ne=he.nextSibling)!==null)break;he=X,X=he.parentNode}he=ne}c=k===-1||$===-1?null:{start:k,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(xv={focusedElem:a,selectionRange:c},jh=!1,hr=o;hr!==null;)if(o=hr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,hr=a;else for(;hr!==null;){switch(o=hr,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)v=a[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=o,v=x.memoizedProps,x=x.memoizedState,m=c.stateNode;try{var Ne=Qs(c.type,v);a=m.getSnapshotBeforeUpdate(Ne,x),m.__reactInternalSnapshotBeforeUpdate=a}catch(De){ut(c,c.return,De)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)Sv(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Sv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=o.sibling,a!==null){a.return=o.return,hr=a;break}hr=o.return}}function gN(a,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Ka(a,c),m&4&&fu(5,c);break;case 1:if(Ka(a,c),m&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(O){ut(c,c.return,O)}else{var v=Qs(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(O){ut(c,c.return,O)}}m&64&&dN(c),m&512&&hu(c,c.return);break;case 3:if(Ka(a,c),m&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{t_(a,o)}catch(O){ut(c,c.return,O)}}break;case 27:o===null&&m&4&&pN(c);case 26:case 5:Ka(a,c),o===null&&m&4&&hN(c),m&512&&hu(c,c.return);break;case 12:Ka(a,c);break;case 31:Ka(a,c),m&4&&xN(a,c);break;case 13:Ka(a,c),m&4&&wN(a,c),m&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=X3.bind(null,c),gL(a,c))));break;case 22:if(m=c.memoizedState!==null||za,!m){o=o!==null&&o.memoizedState!==null||Zt,v=za;var x=Zt;za=m,(Zt=o)&&!x?Fa(a,c,(c.subtreeFlags&8772)!==0):Ka(a,c),za=v,Zt=x}break;case 30:break;default:Ka(a,c)}}function vN(a){var o=a.alternate;o!==null&&(a.alternate=null,vN(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Ay(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var kt=null,Wr=!1;function qa(a,o,c){for(c=c.child;c!==null;)bN(a,o,c),c=c.sibling}function bN(a,o,c){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Lc,c)}catch{}switch(c.tag){case 26:Zt||ha(c,o),qa(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Zt||ha(c,o);var m=kt,v=Wr;Gi(c.type)&&(kt=c.stateNode,Wr=!1),qa(a,o,c),ju(c.stateNode),kt=m,Wr=v;break;case 5:Zt||ha(c,o);case 6:if(m=kt,v=Wr,kt=null,qa(a,o,c),kt=m,Wr=v,kt!==null)if(Wr)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(c.stateNode)}catch(x){ut(c,o,x)}else try{kt.removeChild(c.stateNode)}catch(x){ut(c,o,x)}break;case 18:kt!==null&&(Wr?(a=kt,dO(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),El(a)):dO(kt,c.stateNode));break;case 4:m=kt,v=Wr,kt=c.stateNode.containerInfo,Wr=!0,qa(a,o,c),kt=m,Wr=v;break;case 0:case 11:case 14:case 15:zi(2,c,o),Zt||zi(4,c,o),qa(a,o,c);break;case 1:Zt||(ha(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&fN(c,o,m)),qa(a,o,c);break;case 21:qa(a,o,c);break;case 22:Zt=(m=Zt)||c.memoizedState!==null,qa(a,o,c),Zt=m;break;default:qa(a,o,c)}}function xN(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{El(a)}catch(c){ut(o,o.return,c)}}}function wN(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{El(a)}catch(c){ut(o,o.return,c)}}function K3(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new yN),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new yN),o;default:throw Error(n(435,a.tag))}}function rh(a,o){var c=K3(a);o.forEach(function(m){if(!c.has(m)){c.add(m);var v=Z3.bind(null,a,m);m.then(v,v)}})}function Xr(a,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var v=c[m],x=a,O=o,k=O;e:for(;k!==null;){switch(k.tag){case 27:if(Gi(k.type)){kt=k.stateNode,Wr=!1;break e}break;case 5:kt=k.stateNode,Wr=!1;break e;case 3:case 4:kt=k.stateNode.containerInfo,Wr=!0;break e}k=k.return}if(kt===null)throw Error(n(160));bN(x,O,v),kt=null,Wr=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)jN(o,a),o=o.sibling}var Wn=null;function jN(a,o){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Xr(o,a),Zr(a),m&4&&(zi(3,a,a.return),fu(3,a),zi(5,a,a.return));break;case 1:Xr(o,a),Zr(a),m&512&&(Zt||c===null||ha(c,c.return)),m&64&&za&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var v=Wn;if(Xr(o,a),Zr(a),m&512&&(Zt||c===null||ha(c,c.return)),m&4){var x=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":x=v.getElementsByTagName("title")[0],(!x||x[Uc]||x[jr]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(m),v.head.insertBefore(x,v.querySelector("head > title"))),Or(x,m,c),x[jr]=a,fr(x),m=x;break e;case"link":var O=jO("link","href",v).get(m+(c.href||""));if(O){for(var k=0;k<O.length;k++)if(x=O[k],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(k,1);break t}}x=v.createElement(m),Or(x,m,c),v.head.appendChild(x);break;case"meta":if(O=jO("meta","content",v).get(m+(c.content||""))){for(k=0;k<O.length;k++)if(x=O[k],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(k,1);break t}}x=v.createElement(m),Or(x,m,c),v.head.appendChild(x);break;default:throw Error(n(468,m))}x[jr]=a,fr(x),m=x}a.stateNode=m}else SO(v,a.type,a.stateNode);else a.stateNode=wO(v,m,a.memoizedProps);else x!==m?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,m===null?SO(v,a.type,a.stateNode):wO(v,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Yg(a,a.memoizedProps,c.memoizedProps)}break;case 27:Xr(o,a),Zr(a),m&512&&(Zt||c===null||ha(c,c.return)),c!==null&&m&4&&Yg(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Xr(o,a),Zr(a),m&512&&(Zt||c===null||ha(c,c.return)),a.flags&32){v=a.stateNode;try{Wo(v,"")}catch(Ne){ut(a,a.return,Ne)}}m&4&&a.stateNode!=null&&(v=a.memoizedProps,Yg(a,v,c!==null?c.memoizedProps:v)),m&1024&&(Zg=!0);break;case 6:if(Xr(o,a),Zr(a),m&4){if(a.stateNode===null)throw Error(n(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch(Ne){ut(a,a.return,Ne)}}break;case 3:if(vh=null,v=Wn,Wn=yh(o.containerInfo),Xr(o,a),Wn=v,Zr(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{El(o.containerInfo)}catch(Ne){ut(a,a.return,Ne)}Zg&&(Zg=!1,SN(a));break;case 4:m=Wn,Wn=yh(a.stateNode.containerInfo),Xr(o,a),Zr(a),Wn=m;break;case 12:Xr(o,a),Zr(a);break;case 31:Xr(o,a),Zr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,rh(a,m)));break;case 13:Xr(o,a),Zr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(ah=lt()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,rh(a,m)));break;case 22:v=a.memoizedState!==null;var $=c!==null&&c.memoizedState!==null,W=za,oe=Zt;if(za=W||v,Zt=oe||$,Xr(o,a),Zt=oe,za=W,Zr(a),m&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||$||za||Zt||Vs(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){$=c=o;try{if(x=$.stateNode,v)O=x.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{k=$.stateNode;var he=$.memoizedProps.style,X=he!=null&&he.hasOwnProperty("display")?he.display:null;k.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Ne){ut($,$.return,Ne)}}}else if(o.tag===6){if(c===null){$=o;try{$.stateNode.nodeValue=v?"":$.memoizedProps}catch(Ne){ut($,$.return,Ne)}}}else if(o.tag===18){if(c===null){$=o;try{var ne=$.stateNode;v?fO(ne,!0):fO($.stateNode,!1)}catch(Ne){ut($,$.return,Ne)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,rh(a,c))));break;case 19:Xr(o,a),Zr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,rh(a,m)));break;case 30:break;case 21:break;default:Xr(o,a),Zr(a)}}function Zr(a){var o=a.flags;if(o&2){try{for(var c,m=a.return;m!==null;){if(mN(m)){c=m;break}m=m.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var v=c.stateNode,x=Wg(a);th(a,x,v);break;case 5:var O=c.stateNode;c.flags&32&&(Wo(O,""),c.flags&=-33);var k=Wg(a);th(a,k,O);break;case 3:case 4:var $=c.stateNode.containerInfo,W=Wg(a);Xg(a,W,$);break;default:throw Error(n(161))}}catch(oe){ut(a,a.return,oe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function SN(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;SN(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ka(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)gN(a,o.alternate,o),o=o.sibling}function Vs(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:zi(4,o,o.return),Vs(o);break;case 1:ha(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&fN(o,o.return,c),Vs(o);break;case 27:ju(o.stateNode);case 26:case 5:ha(o,o.return),Vs(o);break;case 22:o.memoizedState===null&&Vs(o);break;case 30:Vs(o);break;default:Vs(o)}a=a.sibling}}function Fa(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=a,x=o,O=x.flags;switch(x.tag){case 0:case 11:case 15:Fa(v,x,c),fu(4,x);break;case 1:if(Fa(v,x,c),m=x,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(W){ut(m,m.return,W)}if(m=x,v=m.updateQueue,v!==null){var k=m.stateNode;try{var $=v.shared.hiddenCallbacks;if($!==null)for(v.shared.hiddenCallbacks=null,v=0;v<$.length;v++)e_($[v],k)}catch(W){ut(m,m.return,W)}}c&&O&64&&dN(x),hu(x,x.return);break;case 27:pN(x);case 26:case 5:Fa(v,x,c),c&&m===null&&O&4&&hN(x),hu(x,x.return);break;case 12:Fa(v,x,c);break;case 31:Fa(v,x,c),c&&O&4&&xN(v,x);break;case 13:Fa(v,x,c),c&&O&4&&wN(v,x);break;case 22:x.memoizedState===null&&Fa(v,x,c),hu(x,x.return);break;case 30:break;default:Fa(v,x,c)}o=o.sibling}}function Jg(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Jc(c))}function ev(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Jc(a))}function Xn(a,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)_N(a,o,c,m),o=o.sibling}function _N(a,o,c,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Xn(a,o,c,m),v&2048&&fu(9,o);break;case 1:Xn(a,o,c,m);break;case 3:Xn(a,o,c,m),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Jc(a)));break;case 12:if(v&2048){Xn(a,o,c,m),a=o.stateNode;try{var x=o.memoizedProps,O=x.id,k=x.onPostCommit;typeof k=="function"&&k(O,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){ut(o,o.return,$)}}else Xn(a,o,c,m);break;case 31:Xn(a,o,c,m);break;case 13:Xn(a,o,c,m);break;case 23:break;case 22:x=o.stateNode,O=o.alternate,o.memoizedState!==null?x._visibility&2?Xn(a,o,c,m):mu(a,o):x._visibility&2?Xn(a,o,c,m):(x._visibility|=2,yl(a,o,c,m,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Jg(O,o);break;case 24:Xn(a,o,c,m),v&2048&&ev(o.alternate,o);break;default:Xn(a,o,c,m)}}function yl(a,o,c,m,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,O=o,k=c,$=m,W=O.flags;switch(O.tag){case 0:case 11:case 15:yl(x,O,k,$,v),fu(8,O);break;case 23:break;case 22:var oe=O.stateNode;O.memoizedState!==null?oe._visibility&2?yl(x,O,k,$,v):mu(x,O):(oe._visibility|=2,yl(x,O,k,$,v)),v&&W&2048&&Jg(O.alternate,O);break;case 24:yl(x,O,k,$,v),v&&W&2048&&ev(O.alternate,O);break;default:yl(x,O,k,$,v)}o=o.sibling}}function mu(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,m=o,v=m.flags;switch(m.tag){case 22:mu(c,m),v&2048&&Jg(m.alternate,m);break;case 24:mu(c,m),v&2048&&ev(m.alternate,m);break;default:mu(c,m)}o=o.sibling}}var pu=8192;function gl(a,o,c){if(a.subtreeFlags&pu)for(a=a.child;a!==null;)NN(a,o,c),a=a.sibling}function NN(a,o,c){switch(a.tag){case 26:gl(a,o,c),a.flags&pu&&a.memoizedState!==null&&CL(c,Wn,a.memoizedState,a.memoizedProps);break;case 5:gl(a,o,c);break;case 3:case 4:var m=Wn;Wn=yh(a.stateNode.containerInfo),gl(a,o,c),Wn=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=pu,pu=16777216,gl(a,o,c),pu=m):gl(a,o,c));break;default:gl(a,o,c)}}function ON(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function yu(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];hr=m,AN(m,a)}ON(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)EN(a),a=a.sibling}function EN(a){switch(a.tag){case 0:case 11:case 15:yu(a),a.flags&2048&&zi(9,a,a.return);break;case 3:yu(a);break;case 12:yu(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,nh(a)):yu(a);break;default:yu(a)}}function nh(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];hr=m,AN(m,a)}ON(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:zi(8,o,o.return),nh(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,nh(o));break;default:nh(o)}a=a.sibling}}function AN(a,o){for(;hr!==null;){var c=hr;switch(c.tag){case 0:case 11:case 15:zi(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Jc(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,hr=m;else e:for(c=a;hr!==null;){m=hr;var v=m.sibling,x=m.return;if(vN(m),m===c){hr=null;break e}if(v!==null){v.return=x,hr=v;break e}hr=x}}}var F3={getCacheForType:function(a){var o=_r(Yt),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return _r(Yt).controller.signal}},H3=typeof WeakMap=="function"?WeakMap:Map,it=0,bt=null,Fe=null,Qe=0,ct=0,yn=null,qi=!1,vl=!1,tv=!1,Ha=0,Bt=0,Ki=0,Gs=0,rv=0,gn=0,bl=0,gu=null,Jr=null,nv=!1,ah=0,CN=0,ih=1/0,sh=null,Fi=null,ir=0,Hi=null,xl=null,Qa=0,av=0,iv=null,kN=null,vu=0,sv=null;function vn(){return(it&2)!==0&&Qe!==0?Qe&-Qe:R.T!==null?fv():Q1()}function PN(){if(gn===0)if((Qe&536870912)===0||We){var a=mf;mf<<=1,(mf&3932160)===0&&(mf=262144),gn=a}else gn=536870912;return a=mn.current,a!==null&&(a.flags|=32),gn}function en(a,o,c){(a===bt&&(ct===2||ct===9)||a.cancelPendingCommit!==null)&&(wl(a,0),Qi(a,Qe,gn,!1)),Bc(a,c),((it&2)===0||a!==bt)&&(a===bt&&((it&2)===0&&(Gs|=c),Bt===4&&Qi(a,Qe,gn,!1)),ma(a))}function TN(a,o,c){if((it&6)!==0)throw Error(n(327));var m=!c&&(o&127)===0&&(o&a.expiredLanes)===0||$c(a,o),v=m?G3(a,o):lv(a,o,!0),x=m;do{if(v===0){vl&&!m&&Qi(a,o,0,!1);break}else{if(c=a.current.alternate,x&&!Q3(c)){v=lv(a,o,!1),x=!1;continue}if(v===2){if(x=o,a.errorRecoveryDisabledLanes&x)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var k=a;v=gu;var $=k.current.memoizedState.isDehydrated;if($&&(wl(k,O).flags|=256),O=lv(k,O,!1),O!==2){if(tv&&!$){k.errorRecoveryDisabledLanes|=x,Gs|=x,v=4;break e}x=Jr,Jr=v,x!==null&&(Jr===null?Jr=x:Jr.push.apply(Jr,x))}v=O}if(x=!1,v!==2)continue}}if(v===1){wl(a,0),Qi(a,o,0,!0);break}e:{switch(m=a,x=v,x){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Qi(m,o,gn,!qi);break e;case 2:Jr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(v=ah+300-lt(),10<v)){if(Qi(m,o,gn,!qi),yf(m,0,!0)!==0)break e;Qa=o,m.timeoutHandle=cO(DN.bind(null,m,c,Jr,sh,nv,o,gn,Gs,bl,qi,x,"Throttled",-0,0),v);break e}DN(m,c,Jr,sh,nv,o,gn,Gs,bl,qi,x,null,-0,0)}}break}while(!0);ma(a)}function DN(a,o,c,m,v,x,O,k,$,W,oe,he,X,ne){if(a.timeoutHandle=-1,he=o.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pa},NN(o,x,he);var Ne=(x&62914560)===x?ah-lt():(x&4194048)===x?CN-lt():0;if(Ne=kL(he,Ne),Ne!==null){Qa=x,a.cancelPendingCommit=Ne(zN.bind(null,a,o,x,c,m,v,O,k,$,oe,he,null,X,ne)),Qi(a,x,O,!W);return}}zN(a,o,x,c,m,v,O,k,$)}function Q3(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var v=c[m],x=v.getSnapshot;v=v.value;try{if(!fn(x(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Qi(a,o,c,m){o&=~rv,o&=~Gs,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var v=o;0<v;){var x=31-dn(v),O=1<<x;m[x]=-1,v&=~O}c!==0&&K1(a,c,o)}function oh(){return(it&6)===0?(bu(0),!1):!0}function ov(){if(Fe!==null){if(ct===0)var a=Fe.return;else a=Fe,Ra=Bs=null,Sg(a),dl=null,tu=0,a=Fe;for(;a!==null;)uN(a.alternate,a),a=a.return;Fe=null}}function wl(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,fL(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Qa=0,ov(),bt=a,Fe=c=Da(a.current,null),Qe=o,ct=0,yn=null,qi=!1,vl=$c(a,o),tv=!1,bl=gn=rv=Gs=Ki=Bt=0,Jr=gu=null,nv=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var v=31-dn(m),x=1<<v;o|=a[v],m&=~x}return Ha=o,Af(),c}function MN(a,o){Le=null,R.H=cu,o===ul||o===If?(o=WS(),ct=3):o===dg?(o=WS(),ct=4):ct=o===Bg?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,yn=o,Fe===null&&(Bt=1,Wf(a,Pn(o,a.current)))}function RN(){var a=mn.current;return a===null?!0:(Qe&4194048)===Qe?Rn===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?a===Rn:!1}function IN(){var a=R.H;return R.H=cu,a===null?cu:a}function LN(){var a=R.A;return R.A=F3,a}function lh(){Bt=4,qi||(Qe&4194048)!==Qe&&mn.current!==null||(vl=!0),(Ki&134217727)===0&&(Gs&134217727)===0||bt===null||Qi(bt,Qe,gn,!1)}function lv(a,o,c){var m=it;it|=2;var v=IN(),x=LN();(bt!==a||Qe!==o)&&(sh=null,wl(a,o)),o=!1;var O=Bt;e:do try{if(ct!==0&&Fe!==null){var k=Fe,$=yn;switch(ct){case 8:ov(),O=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(o=!0);var W=ct;if(ct=0,yn=null,jl(a,k,$,W),c&&vl){O=0;break e}break;default:W=ct,ct=0,yn=null,jl(a,k,$,W)}}V3(),O=Bt;break}catch(oe){MN(a,oe)}while(!0);return o&&a.shellSuspendCounter++,Ra=Bs=null,it=m,R.H=v,R.A=x,Fe===null&&(bt=null,Qe=0,Af()),O}function V3(){for(;Fe!==null;)$N(Fe)}function G3(a,o){var c=it;it|=2;var m=IN(),v=LN();bt!==a||Qe!==o?(sh=null,ih=lt()+500,wl(a,o)):vl=$c(a,o);e:do try{if(ct!==0&&Fe!==null){o=Fe;var x=yn;t:switch(ct){case 1:ct=0,yn=null,jl(a,o,x,1);break;case 2:case 9:if(GS(x)){ct=0,yn=null,BN(o);break}o=function(){ct!==2&&ct!==9||bt!==a||(ct=7),ma(a)},x.then(o,o);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:GS(x)?(ct=0,yn=null,BN(o)):(ct=0,yn=null,jl(a,o,x,7));break;case 5:var O=null;switch(Fe.tag){case 26:O=Fe.memoizedState;case 5:case 27:var k=Fe;if(O?_O(O):k.stateNode.complete){ct=0,yn=null;var $=k.sibling;if($!==null)Fe=$;else{var W=k.return;W!==null?(Fe=W,ch(W)):Fe=null}break t}}ct=0,yn=null,jl(a,o,x,5);break;case 6:ct=0,yn=null,jl(a,o,x,6);break;case 8:ov(),Bt=6;break e;default:throw Error(n(462))}}Y3();break}catch(oe){MN(a,oe)}while(!0);return Ra=Bs=null,R.H=m,R.A=v,it=c,Fe!==null?0:(bt=null,Qe=0,Af(),Bt)}function Y3(){for(;Fe!==null&&!Vr();)$N(Fe)}function $N(a){var o=lN(a.alternate,a,Ha);a.memoizedProps=a.pendingProps,o===null?ch(a):Fe=o}function BN(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=rN(c,o,o.pendingProps,o.type,void 0,Qe);break;case 11:o=rN(c,o,o.pendingProps,o.type.render,o.ref,Qe);break;case 5:Sg(o);default:uN(c,o),o=Fe=LS(o,Ha),o=lN(c,o,Ha)}a.memoizedProps=a.pendingProps,o===null?ch(a):Fe=o}function jl(a,o,c,m){Ra=Bs=null,Sg(o),dl=null,tu=0;var v=o.return;try{if(L3(a,v,o,c,Qe)){Bt=1,Wf(a,Pn(c,a.current)),Fe=null;return}}catch(x){if(v!==null)throw Fe=v,x;Bt=1,Wf(a,Pn(c,a.current)),Fe=null;return}o.flags&32768?(We||m===1?a=!0:vl||(Qe&536870912)!==0?a=!1:(qi=a=!0,(m===2||m===9||m===3||m===6)&&(m=mn.current,m!==null&&m.tag===13&&(m.flags|=16384))),UN(o,a)):ch(o)}function ch(a){var o=a;do{if((o.flags&32768)!==0){UN(o,qi);return}a=o.return;var c=U3(o.alternate,o,Ha);if(c!==null){Fe=c;return}if(o=o.sibling,o!==null){Fe=o;return}Fe=o=a}while(o!==null);Bt===0&&(Bt=5)}function UN(a,o){do{var c=z3(a.alternate,a);if(c!==null){c.flags&=32767,Fe=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){Fe=a;return}Fe=a=c}while(a!==null);Bt=6,Fe=null}function zN(a,o,c,m,v,x,O,k,$){a.cancelPendingCommit=null;do uh();while(ir!==0);if((it&6)!==0)throw Error(n(327));if(o!==null){if(o===a.current)throw Error(n(177));if(x=o.lanes|o.childLanes,x|=Wy,A5(a,c,x,O,k,$),a===bt&&(Fe=bt=null,Qe=0),xl=o,Hi=a,Qa=c,av=x,iv=v,kN=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,J3(ks,function(){return QN(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=R.T,R.T=null,v=V.p,V.p=2,O=it,it|=4;try{q3(a,o,c)}finally{it=O,V.p=v,R.T=m}}ir=1,qN(),KN(),FN()}}function qN(){if(ir===1){ir=0;var a=Hi,o=xl,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=R.T,R.T=null;var m=V.p;V.p=2;var v=it;it|=4;try{jN(o,a);var x=xv,O=AS(a.containerInfo),k=x.focusedElem,$=x.selectionRange;if(O!==k&&k&&k.ownerDocument&&ES(k.ownerDocument.documentElement,k)){if($!==null&&Hy(k)){var W=$.start,oe=$.end;if(oe===void 0&&(oe=W),"selectionStart"in k)k.selectionStart=W,k.selectionEnd=Math.min(oe,k.value.length);else{var he=k.ownerDocument||document,X=he&&he.defaultView||window;if(X.getSelection){var ne=X.getSelection(),Ne=k.textContent.length,De=Math.min($.start,Ne),pt=$.end===void 0?De:Math.min($.end,Ne);!ne.extend&&De>pt&&(O=pt,pt=De,De=O);var Q=OS(k,De),q=OS(k,pt);if(Q&&q&&(ne.rangeCount!==1||ne.anchorNode!==Q.node||ne.anchorOffset!==Q.offset||ne.focusNode!==q.node||ne.focusOffset!==q.offset)){var Y=he.createRange();Y.setStart(Q.node,Q.offset),ne.removeAllRanges(),De>pt?(ne.addRange(Y),ne.extend(q.node,q.offset)):(Y.setEnd(q.node,q.offset),ne.addRange(Y))}}}}for(he=[],ne=k;ne=ne.parentNode;)ne.nodeType===1&&he.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<he.length;k++){var ue=he[k];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}jh=!!bv,xv=bv=null}finally{it=v,V.p=m,R.T=c}}a.current=o,ir=2}}function KN(){if(ir===2){ir=0;var a=Hi,o=xl,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=R.T,R.T=null;var m=V.p;V.p=2;var v=it;it|=4;try{gN(a,o.alternate,o)}finally{it=v,V.p=m,R.T=c}}ir=3}}function FN(){if(ir===4||ir===3){ir=0,ar();var a=Hi,o=xl,c=Qa,m=kN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ir=5:(ir=0,xl=Hi=null,HN(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Fi=null),Oy(c),o=o.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Lc,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=R.T,v=V.p,V.p=2,R.T=null;try{for(var x=a.onRecoverableError,O=0;O<m.length;O++){var k=m[O];x(k.value,{componentStack:k.stack})}}finally{R.T=o,V.p=v}}(Qa&3)!==0&&uh(),ma(a),v=a.pendingLanes,(c&261930)!==0&&(v&42)!==0?a===sv?vu++:(vu=0,sv=a):vu=0,bu(0)}}function HN(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Jc(o)))}function uh(){return qN(),KN(),FN(),QN()}function QN(){if(ir!==5)return!1;var a=Hi,o=av;av=0;var c=Oy(Qa),m=R.T,v=V.p;try{V.p=32>c?32:c,R.T=null,c=iv,iv=null;var x=Hi,O=Qa;if(ir=0,xl=Hi=null,Qa=0,(it&6)!==0)throw Error(n(331));var k=it;if(it|=4,EN(x.current),_N(x,x.current,O,c),it=k,bu(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Lc,x)}catch{}return!0}finally{V.p=v,R.T=m,HN(a,o)}}function VN(a,o,c){o=Pn(c,o),o=$g(a.stateNode,o,2),a=$i(a,o,2),a!==null&&(Bc(a,2),ma(a))}function ut(a,o,c){if(a.tag===3)VN(a,a,c);else for(;o!==null;){if(o.tag===3){VN(o,a,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Fi===null||!Fi.has(m))){a=Pn(c,a),c=G_(2),m=$i(o,c,2),m!==null&&(Y_(c,m,o,a),Bc(m,2),ma(m));break}}o=o.return}}function cv(a,o,c){var m=a.pingCache;if(m===null){m=a.pingCache=new H3;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(c)||(tv=!0,v.add(c),a=W3.bind(null,a,o,c),o.then(a,a))}function W3(a,o,c){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,bt===a&&(Qe&c)===c&&(Bt===4||Bt===3&&(Qe&62914560)===Qe&&300>lt()-ah?(it&2)===0&&wl(a,0):rv|=c,bl===Qe&&(bl=0)),ma(a)}function GN(a,o){o===0&&(o=q1()),a=Is(a,o),a!==null&&(Bc(a,o),ma(a))}function X3(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),GN(a,c)}function Z3(a,o){var c=0;switch(a.tag){case 31:case 13:var m=a.stateNode,v=a.memoizedState;v!==null&&(c=v.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),GN(a,c)}function J3(a,o){return ce(a,o)}var dh=null,Sl=null,uv=!1,fh=!1,dv=!1,Vi=0;function ma(a){a!==Sl&&a.next===null&&(Sl===null?dh=Sl=a:Sl=Sl.next=a),fh=!0,uv||(uv=!0,tL())}function bu(a,o){if(!dv&&fh){dv=!0;do for(var c=!1,m=dh;m!==null;){if(a!==0){var v=m.pendingLanes;if(v===0)var x=0;else{var O=m.suspendedLanes,k=m.pingedLanes;x=(1<<31-dn(42|a)+1)-1,x&=v&~(O&~k),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,ZN(m,x))}else x=Qe,x=yf(m,m===bt?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||$c(m,x)||(c=!0,ZN(m,x));m=m.next}while(c);dv=!1}}function eL(){YN()}function YN(){fh=uv=!1;var a=0;Vi!==0&&dL()&&(a=Vi);for(var o=lt(),c=null,m=dh;m!==null;){var v=m.next,x=WN(m,o);x===0?(m.next=null,c===null?dh=v:c.next=v,v===null&&(Sl=c)):(c=m,(a!==0||(x&3)!==0)&&(fh=!0)),m=v}ir!==0&&ir!==5||bu(a),Vi!==0&&(Vi=0)}function WN(a,o){for(var c=a.suspendedLanes,m=a.pingedLanes,v=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var O=31-dn(x),k=1<<O,$=v[O];$===-1?((k&c)===0||(k&m)!==0)&&(v[O]=E5(k,o)):$<=o&&(a.expiredLanes|=k),x&=~k}if(o=bt,c=Qe,c=yf(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,c===0||a===o&&(ct===2||ct===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&jt(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||$c(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(m!==null&&jt(m),Oy(c)){case 2:case 8:c=Rc;break;case 32:c=ks;break;case 268435456:c=z1;break;default:c=ks}return m=XN.bind(null,a),c=ce(c,m),a.callbackPriority=o,a.callbackNode=c,o}return m!==null&&m!==null&&jt(m),a.callbackPriority=2,a.callbackNode=null,2}function XN(a,o){if(ir!==0&&ir!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(uh()&&a.callbackNode!==c)return null;var m=Qe;return m=yf(a,a===bt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(TN(a,m,o),WN(a,lt()),a.callbackNode!=null&&a.callbackNode===c?XN.bind(null,a):null)}function ZN(a,o){if(uh())return null;TN(a,o,!0)}function tL(){hL(function(){(it&6)!==0?ce(Mc,eL):YN()})}function fv(){if(Vi===0){var a=ll;a===0&&(a=hf,hf<<=1,(hf&261888)===0&&(hf=256)),Vi=a}return Vi}function JN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:xf(""+a)}function eO(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function rL(a,o,c,m,v){if(o==="submit"&&c&&c.stateNode===v){var x=JN((v[Gr]||null).action),O=m.submitter;O&&(o=(o=O[Gr]||null)?JN(o.formAction):O.getAttribute("formAction"),o!==null&&(x=o,O=null));var k=new _f("action","action",null,m,v);a.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Vi!==0){var $=O?eO(v,O):new FormData(v);Tg(c,{pending:!0,data:$,method:v.method,action:x},null,$)}}else typeof x=="function"&&(k.preventDefault(),$=O?eO(v,O):new FormData(v),Tg(c,{pending:!0,data:$,method:v.method,action:x},x,$))},currentTarget:v}]})}}for(var hv=0;hv<Yy.length;hv++){var mv=Yy[hv],nL=mv.toLowerCase(),aL=mv[0].toUpperCase()+mv.slice(1);Yn(nL,"on"+aL)}Yn(PS,"onAnimationEnd"),Yn(TS,"onAnimationIteration"),Yn(DS,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(x3,"onTransitionRun"),Yn(w3,"onTransitionStart"),Yn(j3,"onTransitionCancel"),Yn(MS,"onTransitionEnd"),Go("onMouseEnter",["mouseout","mouseover"]),Go("onMouseLeave",["mouseout","mouseover"]),Go("onPointerEnter",["pointerout","pointerover"]),Go("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function tO(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],v=m.event;m=m.listeners;e:{var x=void 0;if(o)for(var O=m.length-1;0<=O;O--){var k=m[O],$=k.instance,W=k.currentTarget;if(k=k.listener,$!==x&&v.isPropagationStopped())break e;x=k,v.currentTarget=W;try{x(v)}catch(oe){Ef(oe)}v.currentTarget=null,x=$}else for(O=0;O<m.length;O++){if(k=m[O],$=k.instance,W=k.currentTarget,k=k.listener,$!==x&&v.isPropagationStopped())break e;x=k,v.currentTarget=W;try{x(v)}catch(oe){Ef(oe)}v.currentTarget=null,x=$}}}}function He(a,o){var c=o[Ey];c===void 0&&(c=o[Ey]=new Set);var m=a+"__bubble";c.has(m)||(rO(o,a,2,!1),c.add(m))}function pv(a,o,c){var m=0;o&&(m|=4),rO(c,a,m,o)}var hh="_reactListening"+Math.random().toString(36).slice(2);function yv(a){if(!a[hh]){a[hh]=!0,Y1.forEach(function(c){c!=="selectionchange"&&(iL.has(c)||pv(c,!1,a),pv(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[hh]||(o[hh]=!0,pv("selectionchange",!1,o))}}function rO(a,o,c,m){switch(PO(o)){case 2:var v=DL;break;case 8:v=ML;break;default:v=Pv}c=v.bind(null,o,c,a),v=void 0,!Iy||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?a.addEventListener(o,c,{capture:!0,passive:v}):a.addEventListener(o,c,!0):v!==void 0?a.addEventListener(o,c,{passive:v}):a.addEventListener(o,c,!1)}function gv(a,o,c,m,v){var x=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var k=m.stateNode.containerInfo;if(k===v)break;if(O===4)for(O=m.return;O!==null;){var $=O.tag;if(($===3||$===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;k!==null;){if(O=Ho(k),O===null)return;if($=O.tag,$===5||$===6||$===26||$===27){m=x=O;continue e}k=k.parentNode}}m=m.return}oS(function(){var W=x,oe=My(c),he=[];e:{var X=RS.get(a);if(X!==void 0){var ne=_f,Ne=a;switch(a){case"keypress":if(jf(c)===0)break e;case"keydown":case"keyup":ne=Z5;break;case"focusin":Ne="focus",ne=Uy;break;case"focusout":Ne="blur",ne=Uy;break;case"beforeblur":case"afterblur":ne=Uy;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=uS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=U5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=t3;break;case PS:case TS:case DS:ne=K5;break;case MS:ne=n3;break;case"scroll":case"scrollend":ne=$5;break;case"wheel":ne=i3;break;case"copy":case"cut":case"paste":ne=H5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=fS;break;case"toggle":case"beforetoggle":ne=o3}var De=(o&4)!==0,pt=!De&&(a==="scroll"||a==="scrollend"),Q=De?X!==null?X+"Capture":null:X;De=[];for(var q=W,Y;q!==null;){var ue=q;if(Y=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Y===null||Q===null||(ue=qc(q,Q),ue!=null&&De.push(wu(q,ue,Y))),pt)break;q=q.return}0<De.length&&(X=new ne(X,Ne,null,c,oe),he.push({event:X,listeners:De}))}}if((o&7)===0){e:{if(X=a==="mouseover"||a==="pointerover",ne=a==="mouseout"||a==="pointerout",X&&c!==Dy&&(Ne=c.relatedTarget||c.fromElement)&&(Ho(Ne)||Ne[Fo]))break e;if((ne||X)&&(X=oe.window===oe?oe:(X=oe.ownerDocument)?X.defaultView||X.parentWindow:window,ne?(Ne=c.relatedTarget||c.toElement,ne=W,Ne=Ne?Ho(Ne):null,Ne!==null&&(pt=s(Ne),De=Ne.tag,Ne!==pt||De!==5&&De!==27&&De!==6)&&(Ne=null)):(ne=null,Ne=W),ne!==Ne)){if(De=uS,ue="onMouseLeave",Q="onMouseEnter",q="mouse",(a==="pointerout"||a==="pointerover")&&(De=fS,ue="onPointerLeave",Q="onPointerEnter",q="pointer"),pt=ne==null?X:zc(ne),Y=Ne==null?X:zc(Ne),X=new De(ue,q+"leave",ne,c,oe),X.target=pt,X.relatedTarget=Y,ue=null,Ho(oe)===W&&(De=new De(Q,q+"enter",Ne,c,oe),De.target=Y,De.relatedTarget=pt,ue=De),pt=ue,ne&&Ne)t:{for(De=sL,Q=ne,q=Ne,Y=0,ue=Q;ue;ue=De(ue))Y++;ue=0;for(var Pe=q;Pe;Pe=De(Pe))ue++;for(;0<Y-ue;)Q=De(Q),Y--;for(;0<ue-Y;)q=De(q),ue--;for(;Y--;){if(Q===q||q!==null&&Q===q.alternate){De=Q;break t}Q=De(Q),q=De(q)}De=null}else De=null;ne!==null&&nO(he,X,ne,De,!1),Ne!==null&&pt!==null&&nO(he,pt,Ne,De,!0)}}e:{if(X=W?zc(W):window,ne=X.nodeName&&X.nodeName.toLowerCase(),ne==="select"||ne==="input"&&X.type==="file")var et=xS;else if(vS(X))if(wS)et=g3;else{et=p3;var Ee=m3}else ne=X.nodeName,!ne||ne.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&Ty(W.elementType)&&(et=xS):et=y3;if(et&&(et=et(a,W))){bS(he,et,c,oe);break e}Ee&&Ee(a,X,W),a==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&Py(X,"number",X.value)}switch(Ee=W?zc(W):window,a){case"focusin":(vS(Ee)||Ee.contentEditable==="true")&&(el=Ee,Qy=W,Wc=null);break;case"focusout":Wc=Qy=el=null;break;case"mousedown":Vy=!0;break;case"contextmenu":case"mouseup":case"dragend":Vy=!1,CS(he,c,oe);break;case"selectionchange":if(b3)break;case"keydown":case"keyup":CS(he,c,oe)}var ze;if(qy)e:{switch(a){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Jo?yS(a,c)&&(Ve="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ve="onCompositionStart");Ve&&(hS&&c.locale!=="ko"&&(Jo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Jo&&(ze=lS()):(Pi=oe,Ly="value"in Pi?Pi.value:Pi.textContent,Jo=!0)),Ee=mh(W,Ve),0<Ee.length&&(Ve=new dS(Ve,a,null,c,oe),he.push({event:Ve,listeners:Ee}),ze?Ve.data=ze:(ze=gS(c),ze!==null&&(Ve.data=ze)))),(ze=c3?u3(a,c):d3(a,c))&&(Ve=mh(W,"onBeforeInput"),0<Ve.length&&(Ee=new dS("onBeforeInput","beforeinput",null,c,oe),he.push({event:Ee,listeners:Ve}),Ee.data=ze)),rL(he,a,W,c,oe)}tO(he,o)})}function wu(a,o,c){return{instance:a,listener:o,currentTarget:c}}function mh(a,o){for(var c=o+"Capture",m=[];a!==null;){var v=a,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=qc(a,c),v!=null&&m.unshift(wu(a,v,x)),v=qc(a,o),v!=null&&m.push(wu(a,v,x))),a.tag===3)return m;a=a.return}return[]}function sL(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function nO(a,o,c,m,v){for(var x=o._reactName,O=[];c!==null&&c!==m;){var k=c,$=k.alternate,W=k.stateNode;if(k=k.tag,$!==null&&$===m)break;k!==5&&k!==26&&k!==27||W===null||($=W,v?(W=qc(c,x),W!=null&&O.unshift(wu(c,W,$))):v||(W=qc(c,x),W!=null&&O.push(wu(c,W,$)))),c=c.return}O.length!==0&&a.push({event:o,listeners:O})}var oL=/\r\n?/g,lL=/\u0000|\uFFFD/g;function aO(a){return(typeof a=="string"?a:""+a).replace(oL,`
`).replace(lL,"")}function iO(a,o){return o=aO(o),aO(a)===o}function mt(a,o,c,m,v,x){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Wo(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Wo(a,""+m);break;case"className":vf(a,"class",m);break;case"tabIndex":vf(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":vf(a,c,m);break;case"style":iS(a,m,x);break;case"data":if(o!=="object"){vf(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=xf(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&mt(a,o,"name",v.name,v,null),mt(a,o,"formEncType",v.formEncType,v,null),mt(a,o,"formMethod",v.formMethod,v,null),mt(a,o,"formTarget",v.formTarget,v,null)):(mt(a,o,"encType",v.encType,v,null),mt(a,o,"method",v.method,v,null),mt(a,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=xf(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=Pa);break;case"onScroll":m!=null&&He("scroll",a);break;case"onScrollEnd":m!=null&&He("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=xf(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":He("beforetoggle",a),He("toggle",a),gf(a,"popover",m);break;case"xlinkActuate":ka(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ka(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ka(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ka(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ka(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ka(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ka(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ka(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ka(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":gf(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=I5.get(c)||c,gf(a,c,m))}}function vv(a,o,c,m,v,x){switch(c){case"style":iS(a,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"children":typeof m=="string"?Wo(a,m):(typeof m=="number"||typeof m=="bigint")&&Wo(a,""+m);break;case"onScroll":m!=null&&He("scroll",a);break;case"onScrollEnd":m!=null&&He("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!W1.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),x=a[Gr]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(o,x,v),typeof m=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,m,v);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):gf(a,c,m)}}}function Or(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",a),He("load",a);var m=!1,v=!1,x;for(x in c)if(c.hasOwnProperty(x)){var O=c[x];if(O!=null)switch(x){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:mt(a,o,x,O,c,null)}}v&&mt(a,o,"srcSet",c.srcSet,c,null),m&&mt(a,o,"src",c.src,c,null);return;case"input":He("invalid",a);var k=x=O=v=null,$=null,W=null;for(m in c)if(c.hasOwnProperty(m)){var oe=c[m];if(oe!=null)switch(m){case"name":v=oe;break;case"type":O=oe;break;case"checked":$=oe;break;case"defaultChecked":W=oe;break;case"value":x=oe;break;case"defaultValue":k=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,o));break;default:mt(a,o,m,oe,c,null)}}tS(a,x,k,$,W,O,v,!1);return;case"select":He("invalid",a),m=O=x=null;for(v in c)if(c.hasOwnProperty(v)&&(k=c[v],k!=null))switch(v){case"value":x=k;break;case"defaultValue":O=k;break;case"multiple":m=k;default:mt(a,o,v,k,c,null)}o=x,c=O,a.multiple=!!m,o!=null?Yo(a,!!m,o,!1):c!=null&&Yo(a,!!m,c,!0);return;case"textarea":He("invalid",a),x=v=m=null;for(O in c)if(c.hasOwnProperty(O)&&(k=c[O],k!=null))switch(O){case"value":m=k;break;case"defaultValue":v=k;break;case"children":x=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:mt(a,o,O,k,c,null)}nS(a,m,v,x);return;case"option":for($ in c)if(c.hasOwnProperty($)&&(m=c[$],m!=null))switch($){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:mt(a,o,$,m,c,null)}return;case"dialog":He("beforetoggle",a),He("toggle",a),He("cancel",a),He("close",a);break;case"iframe":case"object":He("load",a);break;case"video":case"audio":for(m=0;m<xu.length;m++)He(xu[m],a);break;case"image":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"embed":case"source":case"link":He("error",a),He("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in c)if(c.hasOwnProperty(W)&&(m=c[W],m!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:mt(a,o,W,m,c,null)}return;default:if(Ty(o)){for(oe in c)c.hasOwnProperty(oe)&&(m=c[oe],m!==void 0&&vv(a,o,oe,m,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(m=c[k],m!=null&&mt(a,o,k,m,c,null))}function cL(a,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,O=null,k=null,$=null,W=null,oe=null;for(ne in c){var he=c[ne];if(c.hasOwnProperty(ne)&&he!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":$=he;default:m.hasOwnProperty(ne)||mt(a,o,ne,null,m,he)}}for(var X in m){var ne=m[X];if(he=c[X],m.hasOwnProperty(X)&&(ne!=null||he!=null))switch(X){case"type":x=ne;break;case"name":v=ne;break;case"checked":W=ne;break;case"defaultChecked":oe=ne;break;case"value":O=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,o));break;default:ne!==he&&mt(a,o,X,ne,m,he)}}ky(a,O,k,$,W,oe,x,v);return;case"select":ne=O=k=X=null;for(x in c)if($=c[x],c.hasOwnProperty(x)&&$!=null)switch(x){case"value":break;case"multiple":ne=$;default:m.hasOwnProperty(x)||mt(a,o,x,null,m,$)}for(v in m)if(x=m[v],$=c[v],m.hasOwnProperty(v)&&(x!=null||$!=null))switch(v){case"value":X=x;break;case"defaultValue":k=x;break;case"multiple":O=x;default:x!==$&&mt(a,o,v,x,m,$)}o=k,c=O,m=ne,X!=null?Yo(a,!!c,X,!1):!!m!=!!c&&(o!=null?Yo(a,!!c,o,!0):Yo(a,!!c,c?[]:"",!1));return;case"textarea":ne=X=null;for(k in c)if(v=c[k],c.hasOwnProperty(k)&&v!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:mt(a,o,k,null,m,v)}for(O in m)if(v=m[O],x=c[O],m.hasOwnProperty(O)&&(v!=null||x!=null))switch(O){case"value":X=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==x&&mt(a,o,O,v,m,x)}rS(a,X,ne);return;case"option":for(var Ne in c)if(X=c[Ne],c.hasOwnProperty(Ne)&&X!=null&&!m.hasOwnProperty(Ne))switch(Ne){case"selected":a.selected=!1;break;default:mt(a,o,Ne,null,m,X)}for($ in m)if(X=m[$],ne=c[$],m.hasOwnProperty($)&&X!==ne&&(X!=null||ne!=null))switch($){case"selected":a.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:mt(a,o,$,X,m,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in c)X=c[De],c.hasOwnProperty(De)&&X!=null&&!m.hasOwnProperty(De)&&mt(a,o,De,null,m,X);for(W in m)if(X=m[W],ne=c[W],m.hasOwnProperty(W)&&X!==ne&&(X!=null||ne!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,o));break;default:mt(a,o,W,X,m,ne)}return;default:if(Ty(o)){for(var pt in c)X=c[pt],c.hasOwnProperty(pt)&&X!==void 0&&!m.hasOwnProperty(pt)&&vv(a,o,pt,void 0,m,X);for(oe in m)X=m[oe],ne=c[oe],!m.hasOwnProperty(oe)||X===ne||X===void 0&&ne===void 0||vv(a,o,oe,X,m,ne);return}}for(var Q in c)X=c[Q],c.hasOwnProperty(Q)&&X!=null&&!m.hasOwnProperty(Q)&&mt(a,o,Q,null,m,X);for(he in m)X=m[he],ne=c[he],!m.hasOwnProperty(he)||X===ne||X==null&&ne==null||mt(a,o,he,X,m,ne)}function sO(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uL(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var v=c[m],x=v.transferSize,O=v.initiatorType,k=v.duration;if(x&&k&&sO(O)){for(O=0,k=v.responseEnd,m+=1;m<c.length;m++){var $=c[m],W=$.startTime;if(W>k)break;var oe=$.transferSize,he=$.initiatorType;oe&&sO(he)&&($=$.responseEnd,O+=oe*($<k?1:(k-W)/($-W)))}if(--m,o+=8*(x+O)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var bv=null,xv=null;function ph(a){return a.nodeType===9?a:a.ownerDocument}function oO(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lO(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function wv(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var jv=null;function dL(){var a=window.event;return a&&a.type==="popstate"?a===jv?!1:(jv=a,!0):(jv=null,!1)}var cO=typeof setTimeout=="function"?setTimeout:void 0,fL=typeof clearTimeout=="function"?clearTimeout:void 0,uO=typeof Promise=="function"?Promise:void 0,hL=typeof queueMicrotask=="function"?queueMicrotask:typeof uO<"u"?function(a){return uO.resolve(null).then(a).catch(mL)}:cO;function mL(a){setTimeout(function(){throw a})}function Gi(a){return a==="head"}function dO(a,o){var c=o,m=0;do{var v=c.nextSibling;if(a.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(m===0){a.removeChild(v),El(o);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")ju(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,ju(c);for(var x=c.firstChild;x;){var O=x.nextSibling,k=x.nodeName;x[Uc]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=O}}else c==="body"&&ju(a.ownerDocument.body);c=v}while(c);El(o)}function fO(a,o){var c=a;a=0;do{var m=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=m}while(c)}function Sv(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Sv(c),Ay(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function pL(a,o,c,m){for(;a.nodeType===1;){var v=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Uc])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=In(a.nextSibling),a===null)break}return null}function yL(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=In(a.nextSibling),a===null))return null;return a}function hO(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=In(a.nextSibling),a===null))return null;return a}function _v(a){return a.data==="$?"||a.data==="$~"}function Nv(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function gL(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function In(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Ov=null;function mO(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return In(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function pO(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function yO(a,o,c){switch(o=ph(c),a){case"html":if(a=o.documentElement,!a)throw Error(n(452));return a;case"head":if(a=o.head,!a)throw Error(n(453));return a;case"body":if(a=o.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function ju(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Ay(a)}var Ln=new Map,gO=new Set;function yh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Va=V.d;V.d={f:vL,r:bL,D:xL,C:wL,L:jL,m:SL,X:NL,S:_L,M:OL};function vL(){var a=Va.f(),o=oh();return a||o}function bL(a){var o=Qo(a);o!==null&&o.tag===5&&o.type==="form"?M_(o):Va.r(a)}var _l=typeof document>"u"?null:document;function vO(a,o,c){var m=_l;if(m&&typeof o=="string"&&o){var v=Cn(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),gO.has(v)||(gO.add(v),a={rel:a,crossOrigin:c,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),Or(o,"link",a),fr(o),m.head.appendChild(o)))}}function xL(a){Va.D(a),vO("dns-prefetch",a,null)}function wL(a,o){Va.C(a,o),vO("preconnect",a,o)}function jL(a,o,c){Va.L(a,o,c);var m=_l;if(m&&a&&o){var v='link[rel="preload"][as="'+Cn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Cn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Cn(c.imageSizes)+'"]')):v+='[href="'+Cn(a)+'"]';var x=v;switch(o){case"style":x=Nl(a);break;case"script":x=Ol(a)}Ln.has(x)||(a=y({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),Ln.set(x,a),m.querySelector(v)!==null||o==="style"&&m.querySelector(Su(x))||o==="script"&&m.querySelector(_u(x))||(o=m.createElement("link"),Or(o,"link",a),fr(o),m.head.appendChild(o)))}}function SL(a,o){Va.m(a,o);var c=_l;if(c&&a){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Cn(m)+'"][href="'+Cn(a)+'"]',x=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ol(a)}if(!Ln.has(x)&&(a=y({rel:"modulepreload",href:a},o),Ln.set(x,a),c.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(_u(x)))return}m=c.createElement("link"),Or(m,"link",a),fr(m),c.head.appendChild(m)}}}function _L(a,o,c){Va.S(a,o,c);var m=_l;if(m&&a){var v=Vo(m).hoistableStyles,x=Nl(a);o=o||"default";var O=v.get(x);if(!O){var k={loading:0,preload:null};if(O=m.querySelector(Su(x)))k.loading=5;else{a=y({rel:"stylesheet",href:a,"data-precedence":o},c),(c=Ln.get(x))&&Ev(a,c);var $=O=m.createElement("link");fr($),Or($,"link",a),$._p=new Promise(function(W,oe){$.onload=W,$.onerror=oe}),$.addEventListener("load",function(){k.loading|=1}),$.addEventListener("error",function(){k.loading|=2}),k.loading|=4,gh(O,o,m)}O={type:"stylesheet",instance:O,count:1,state:k},v.set(x,O)}}}function NL(a,o){Va.X(a,o);var c=_l;if(c&&a){var m=Vo(c).hoistableScripts,v=Ol(a),x=m.get(v);x||(x=c.querySelector(_u(v)),x||(a=y({src:a,async:!0},o),(o=Ln.get(v))&&Av(a,o),x=c.createElement("script"),fr(x),Or(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(v,x))}}function OL(a,o){Va.M(a,o);var c=_l;if(c&&a){var m=Vo(c).hoistableScripts,v=Ol(a),x=m.get(v);x||(x=c.querySelector(_u(v)),x||(a=y({src:a,async:!0,type:"module"},o),(o=Ln.get(v))&&Av(a,o),x=c.createElement("script"),fr(x),Or(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(v,x))}}function bO(a,o,c,m){var v=(v=ee.current)?yh(v):null;if(!v)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Nl(c.href),c=Vo(v).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Nl(c.href);var x=Vo(v).hoistableStyles,O=x.get(a);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,O),(x=v.querySelector(Su(a)))&&!x._p&&(O.instance=x,O.state.loading=5),Ln.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ln.set(a,c),x||EL(v,a,c,O.state))),o&&m===null)throw Error(n(528,""));return O}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ol(c),c=Vo(v).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Nl(a){return'href="'+Cn(a)+'"'}function Su(a){return'link[rel="stylesheet"]['+a+"]"}function xO(a){return y({},a,{"data-precedence":a.precedence,precedence:null})}function EL(a,o,c,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Or(o,"link",c),fr(o),a.head.appendChild(o))}function Ol(a){return'[src="'+Cn(a)+'"]'}function _u(a){return"script[async]"+a}function wO(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+Cn(c.href)+'"]');if(m)return o.instance=m,fr(m),m;var v=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),fr(m),Or(m,"style",v),gh(m,c.precedence,a),o.instance=m;case"stylesheet":v=Nl(c.href);var x=a.querySelector(Su(v));if(x)return o.state.loading|=4,o.instance=x,fr(x),x;m=xO(c),(v=Ln.get(v))&&Ev(m,v),x=(a.ownerDocument||a).createElement("link"),fr(x);var O=x;return O._p=new Promise(function(k,$){O.onload=k,O.onerror=$}),Or(x,"link",m),o.state.loading|=4,gh(x,c.precedence,a),o.instance=x;case"script":return x=Ol(c.src),(v=a.querySelector(_u(x)))?(o.instance=v,fr(v),v):(m=c,(v=Ln.get(x))&&(m=y({},c),Av(m,v)),a=a.ownerDocument||a,v=a.createElement("script"),fr(v),Or(v,"link",m),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,gh(m,c.precedence,a));return o.instance}function gh(a,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,x=v,O=0;O<m.length;O++){var k=m[O];if(k.dataset.precedence===o)x=k;else if(x!==v)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function Ev(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Av(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var vh=null;function jO(a,o,c){if(vh===null){var m=new Map,v=vh=new Map;v.set(c,m)}else v=vh,m=v.get(c),m||(m=new Map,v.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),v=0;v<c.length;v++){var x=c[v];if(!(x[Uc]||x[jr]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var O=x.getAttribute(o)||"";O=a+O;var k=m.get(O);k?k.push(x):m.set(O,[x])}}return m}function SO(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function AL(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function _O(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function CL(a,o,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=Nl(m.href),x=o.querySelector(Su(v));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=bh.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=x,fr(x);return}x=o.ownerDocument||o,m=xO(m),(v=Ln.get(v))&&Ev(m,v),x=x.createElement("link"),fr(x);var O=x;O._p=new Promise(function(k,$){O.onload=k,O.onerror=$}),Or(x,"link",m),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=bh.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var Cv=0;function kL(a,o){return a.stylesheets&&a.count===0&&wh(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var m=setTimeout(function(){if(a.stylesheets&&wh(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&Cv===0&&(Cv=62500*uL());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&wh(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>Cv?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function bh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var xh=null;function wh(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,xh=new Map,o.forEach(PL,a),xh=null,bh.call(a))}function PL(a,o){if(!(o.state.loading&4)){var c=xh.get(a);if(c)var m=c.get(null);else{c=new Map,xh.set(a,c);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var O=v[x];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),m=O)}m&&c.set(null,m)}v=o.instance,O=v.getAttribute("data-precedence"),x=c.get(O)||m,x===m&&c.set(null,v),c.set(O,v),this.count++,m=bh.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),x?x.parentNode.insertBefore(v,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var Nu={$$typeof:A,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function TL(a,o,c,m,v,x,O,k,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_y(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_y(0),this.hiddenUpdates=_y(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function NO(a,o,c,m,v,x,O,k,$,W,oe,he){return a=new TL(a,o,c,O,$,W,oe,he,k),o=1,x===!0&&(o|=24),x=hn(3,null,null,o),a.current=x,x.stateNode=a,o=lg(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:m,isDehydrated:c,cache:o},fg(x),a}function OO(a){return a?(a=nl,a):nl}function EO(a,o,c,m,v,x){v=OO(v),m.context===null?m.context=v:m.pendingContext=v,m=Li(o),m.payload={element:c},x=x===void 0?null:x,x!==null&&(m.callback=x),c=$i(a,m,o),c!==null&&(en(c,a,o),nu(c,a,o))}function AO(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function kv(a,o){AO(a,o),(a=a.alternate)&&AO(a,o)}function CO(a){if(a.tag===13||a.tag===31){var o=Is(a,67108864);o!==null&&en(o,a,67108864),kv(a,67108864)}}function kO(a){if(a.tag===13||a.tag===31){var o=vn();o=Ny(o);var c=Is(a,o);c!==null&&en(c,a,o),kv(a,o)}}var jh=!0;function DL(a,o,c,m){var v=R.T;R.T=null;var x=V.p;try{V.p=2,Pv(a,o,c,m)}finally{V.p=x,R.T=v}}function ML(a,o,c,m){var v=R.T;R.T=null;var x=V.p;try{V.p=8,Pv(a,o,c,m)}finally{V.p=x,R.T=v}}function Pv(a,o,c,m){if(jh){var v=Tv(m);if(v===null)gv(a,o,m,Sh,c),TO(a,m);else if(IL(v,a,o,c,m))m.stopPropagation();else if(TO(a,m),o&4&&-1<RL.indexOf(a)){for(;v!==null;){var x=Qo(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var O=Ps(x.pendingLanes);if(O!==0){var k=x;for(k.pendingLanes|=2,k.entangledLanes|=2;O;){var $=1<<31-dn(O);k.entanglements[1]|=$,O&=~$}ma(x),(it&6)===0&&(ih=lt()+500,bu(0))}}break;case 31:case 13:k=Is(x,2),k!==null&&en(k,x,2),oh(),kv(x,2)}if(x=Tv(m),x===null&&gv(a,o,m,Sh,c),x===v)break;v=x}v!==null&&m.stopPropagation()}else gv(a,o,m,null,c)}}function Tv(a){return a=My(a),Dv(a)}var Sh=null;function Dv(a){if(Sh=null,a=Ho(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=d(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Sh=a,null}function PO(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ff()){case Mc:return 2;case Rc:return 8;case ks:case Ic:return 32;case z1:return 268435456;default:return 32}default:return 32}}var Mv=!1,Yi=null,Wi=null,Xi=null,Ou=new Map,Eu=new Map,Zi=[],RL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TO(a,o){switch(a){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Ou.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(o.pointerId)}}function Au(a,o,c,m,v,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:x,targetContainers:[v]},o!==null&&(o=Qo(o),o!==null&&CO(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function IL(a,o,c,m,v){switch(o){case"focusin":return Yi=Au(Yi,a,o,c,m,v),!0;case"dragenter":return Wi=Au(Wi,a,o,c,m,v),!0;case"mouseover":return Xi=Au(Xi,a,o,c,m,v),!0;case"pointerover":var x=v.pointerId;return Ou.set(x,Au(Ou.get(x)||null,a,o,c,m,v)),!0;case"gotpointercapture":return x=v.pointerId,Eu.set(x,Au(Eu.get(x)||null,a,o,c,m,v)),!0}return!1}function DO(a){var o=Ho(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,V1(a.priority,function(){kO(c)});return}}else if(o===31){if(o=d(c),o!==null){a.blockedOn=o,V1(a.priority,function(){kO(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _h(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=Tv(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);Dy=m,c.target.dispatchEvent(m),Dy=null}else return o=Qo(c),o!==null&&CO(o),a.blockedOn=c,!1;o.shift()}return!0}function MO(a,o,c){_h(a)&&c.delete(o)}function LL(){Mv=!1,Yi!==null&&_h(Yi)&&(Yi=null),Wi!==null&&_h(Wi)&&(Wi=null),Xi!==null&&_h(Xi)&&(Xi=null),Ou.forEach(MO),Eu.forEach(MO)}function Nh(a,o){a.blockedOn===o&&(a.blockedOn=null,Mv||(Mv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,LL)))}var Oh=null;function RO(a){Oh!==a&&(Oh=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Oh===a&&(Oh=null);for(var o=0;o<a.length;o+=3){var c=a[o],m=a[o+1],v=a[o+2];if(typeof m!="function"){if(Dv(m||c)===null)continue;break}var x=Qo(c);x!==null&&(a.splice(o,3),o-=3,Tg(x,{pending:!0,data:v,method:c.method,action:m},m,v))}}))}function El(a){function o($){return Nh($,a)}Yi!==null&&Nh(Yi,a),Wi!==null&&Nh(Wi,a),Xi!==null&&Nh(Xi,a),Ou.forEach(o),Eu.forEach(o);for(var c=0;c<Zi.length;c++){var m=Zi[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Zi.length&&(c=Zi[0],c.blockedOn===null);)DO(c),c.blockedOn===null&&Zi.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var v=c[m],x=c[m+1],O=v[Gr]||null;if(typeof x=="function")O||RO(c);else if(O){var k=null;if(x&&x.hasAttribute("formAction")){if(v=x,O=x[Gr]||null)k=O.formAction;else if(Dv(v)!==null)continue}else k=O.action;typeof k=="function"?c[m+1]=k:(c.splice(m,3),m-=3),RO(c)}}}function IO(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Rv(a){this._internalRoot=a}Eh.prototype.render=Rv.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,m=vn();EO(c,m,a,o,null,null)},Eh.prototype.unmount=Rv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;EO(a.current,2,null,a,null,null),oh(),o[Fo]=null}};function Eh(a){this._internalRoot=a}Eh.prototype.unstable_scheduleHydration=function(a){if(a){var o=Q1();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Zi.length&&o!==0&&o<Zi[c].priority;c++);Zi.splice(c,0,a),c===0&&DO(a)}};var LO=t.version;if(LO!=="19.2.4")throw Error(n(527,LO,"19.2.4"));V.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var $L={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{Lc=Ah.inject($L),un=Ah}catch{}}return ku.createRoot=function(a,o){if(!i(a))throw Error(n(299));var c=!1,m="",v=F_,x=H_,O=Q_;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=NO(a,1,!1,null,null,c,m,null,v,x,O,IO),a[Fo]=o.current,yv(a),new Rv(o)},ku.hydrateRoot=function(a,o,c){if(!i(a))throw Error(n(299));var m=!1,v="",x=F_,O=H_,k=Q_,$=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.formState!==void 0&&($=c.formState)),o=NO(a,1,!0,o,c??null,m,v,$,x,O,k,IO),o.context=OO(null),c=o.current,m=vn(),m=Ny(m),v=Li(m),v.callback=null,$i(c,v,m),c=m,o.current.lanes=c,Bc(o,c),ma(o),a[Fo]=o.current,yv(a),new Eh(o)},ku.version="19.2.4",ku}var GO;function XL(){if(GO)return Uv.exports;GO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Uv.exports=WL(),Uv.exports}var ZL=XL();const JL=Ca(ZL);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var YO="popstate";function e$(e={}){function t(i,s){let{pathname:l="/",search:d="",hash:f=""}=Ro(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Lb("",{pathname:l,search:d,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let l=i.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let f=i.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof s=="string"?s:Xu(s))}function n(i,s){Hn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return r$(t,r,n,e)}function Mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function t$(){return Math.random().toString(36).substring(2,10)}function WO(e,t){return{usr:e.state,key:e.key,idx:t}}function Lb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ro(t):t,state:r,key:t&&t.key||n||t$()}}function Xu({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ro(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function r$(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,l=i.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function y(){d="POP";let _=p(),N=_==null?null:_-h;h=_,f&&f({action:d,location:S.location,delta:N})}function g(_,N){d="PUSH";let E=Lb(S.location,_,N);r&&r(E,_),h=p()+1;let A=WO(E,h),C=S.createHref(E);try{l.pushState(A,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(C)}s&&f&&f({action:d,location:S.location,delta:1})}function b(_,N){d="REPLACE";let E=Lb(S.location,_,N);r&&r(E,_),h=p();let A=WO(E,h),C=S.createHref(E);l.replaceState(A,"",C),s&&f&&f({action:d,location:S.location,delta:0})}function w(_){return n$(_)}let S={get action(){return d},get location(){return e(i,l)},listen(_){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(YO,y),f=_,()=>{i.removeEventListener(YO,y),f=null}},createHref(_){return t(i,_)},createURL:w,encodeLocation(_){let N=w(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:b,go(_){return l.go(_)}};return S}function n$(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Xu(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function iT(e,t,r="/"){return a$(e,t,r,!1)}function a$(e,t,r,n){let i=typeof t=="string"?Ro(t):t,s=ci(i.pathname||"/",r);if(s==null)return null;let l=sT(e);i$(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=y$(s);d=m$(l[f],h,n)}return d}function sT(e,t=[],r=[],n="",i=!1){let s=(l,d,f=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&f)return;Mt(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let y=ii([n,p.relativePath]),g=r.concat(p);l.children&&l.children.length>0&&(Mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),sT(l.children,t,g,y,f)),!(l.path==null&&!l.index)&&t.push({path:y,score:f$(y,l.index),routesMeta:g})};return e.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,d);else for(let h of oT(l.path))s(l,d,!0,h)}),t}function oT(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let l=oT(n.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),i&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function i$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:h$(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var s$=/^:[\w-]+$/,o$=3,l$=2,c$=1,u$=10,d$=-2,XO=e=>e==="*";function f$(e,t){let r=e.split("/"),n=r.length;return r.some(XO)&&(n+=d$),t&&(n+=l$),r.filter(i=>!XO(i)).reduce((i,s)=>i+(s$.test(s)?o$:s===""?c$:u$),n)}function h$(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function m$(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",l=[];for(let d=0;d<n.length;++d){let f=n[d],h=d===n.length-1,p=s==="/"?t:t.slice(s.length)||"/",y=dm({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),g=f.route;if(!y&&h&&r&&!n[n.length-1].route.index&&(y=dm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:ii([s,y.pathname]),pathnameBase:x$(ii([s,y.pathnameBase])),route:g}),y.pathnameBase!=="/"&&(s=ii([s,y.pathnameBase]))}return l}function dm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=p$(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:y},g)=>{if(p==="*"){let w=d[g]||"";l=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[g];return y&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:e}}function p$(e,t=!1,r=!0){Hn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(n.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function y$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ci(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var g$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function v$(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Ro(e):e,s;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?s=ZO(r.substring(1),"/"):s=ZO(r,t)):s=t,{pathname:s,search:w$(n),hash:j$(i)}}function ZO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Fv(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b$(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function fw(e){let t=b$(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function hw(e,t,r,n=!1){let i;typeof e=="string"?i=Ro(e):(i={...e},Mt(!i.pathname||!i.pathname.includes("?"),Fv("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),Fv("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),Fv("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,d;if(l==null)d=r;else{let y=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),y-=1;i.pathname=g.join("/")}d=y>=0?t[y]:"/"}let f=v$(i,d),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var ii=e=>e.join("/").replace(/\/\/+/g,"/"),x$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),w$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,j$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,S$=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function _$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function N$(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var lT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cT(e,t){let r=e;if(typeof r!="string"||!g$.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(lT)try{let s=new URL(window.location.href),l=r.startsWith("//")?new URL(s.protocol+r):new URL(r),d=ci(l.pathname,t);l.origin===s.origin&&d!=null?r=d+l.search+l.hash:i=!0}catch{Hn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uT=["POST","PUT","PATCH","DELETE"];new Set(uT);var O$=["GET",...uT];new Set(O$);var yc=j.createContext(null);yc.displayName="DataRouter";var fp=j.createContext(null);fp.displayName="DataRouterState";var E$=j.createContext(!1),dT=j.createContext({isTransitioning:!1});dT.displayName="ViewTransition";var A$=j.createContext(new Map);A$.displayName="Fetchers";var C$=j.createContext(null);C$.displayName="Await";var On=j.createContext(null);On.displayName="Navigation";var Td=j.createContext(null);Td.displayName="Location";var ca=j.createContext({outlet:null,matches:[],isDataRoute:!1});ca.displayName="Route";var mw=j.createContext(null);mw.displayName="RouteError";var fT="REACT_ROUTER_ERROR",k$="REDIRECT",P$="ROUTE_ERROR_RESPONSE";function T$(e){if(e.startsWith(`${fT}:${k$}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function D$(e){if(e.startsWith(`${fT}:${P$}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new S$(t.status,t.statusText,t.data)}catch{}}function M$(e,{relative:t}={}){Mt(gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext(On),{hash:i,pathname:s,search:l}=Dd(e,{relative:t}),d=s;return r!=="/"&&(d=s==="/"?r:ii([r,s])),n.createHref({pathname:d,search:l,hash:i})}function gc(){return j.useContext(Td)!=null}function vi(){return Mt(gc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Td).location}var hT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mT(e){j.useContext(On).static||j.useLayoutEffect(e)}function ft(){let{isDataRoute:e}=j.useContext(ca);return e?V$():R$()}function R$(){Mt(gc(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(yc),{basename:t,navigator:r}=j.useContext(On),{matches:n}=j.useContext(ca),{pathname:i}=vi(),s=JSON.stringify(fw(n)),l=j.useRef(!1);return mT(()=>{l.current=!0}),j.useCallback((f,h={})=>{if(Hn(l.current,hT),!l.current)return;if(typeof f=="number"){r.go(f);return}let p=hw(f,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ii([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,s,i,e])}j.createContext(null);function En(){let{matches:e}=j.useContext(ca),t=e[e.length-1];return t?t.params:{}}function Dd(e,{relative:t}={}){let{matches:r}=j.useContext(ca),{pathname:n}=vi(),i=JSON.stringify(fw(r));return j.useMemo(()=>hw(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function I$(e,t){return pT(e,t)}function pT(e,t,r,n,i){var E;Mt(gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(On),{matches:l}=j.useContext(ca),d=l[l.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",y=d&&d.route;{let A=y&&y.path||"";gT(h,!y||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let g=vi(),b;if(t){let A=typeof t=="string"?Ro(t):t;Mt(p==="/"||((E=A.pathname)==null?void 0:E.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=g;let w=b.pathname||"/",S=w;if(p!=="/"){let A=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=iT(e,{pathname:S});Hn(y||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Hn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=z$(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:ii([p,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:ii([p,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),l,r,n,i);return t&&N?j.createElement(Td.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function L$(){let e=Q$(),t=_$(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,l)}var $$=j.createElement(L$,null),yT=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=D$(e.digest);r&&(e=r)}let t=e!==void 0?j.createElement(ca.Provider,{value:this.props.routeContext},j.createElement(mw.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(B$,{error:e},t):t}};yT.contextType=E$;var Hv=new WeakMap;function B$({children:e,error:t}){let{basename:r}=j.useContext(On);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=T$(t.digest);if(n){let i=Hv.get(t);if(i)throw i;let s=cT(n.location,r);if(lT&&!Hv.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw Hv.set(t,l),l}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function U$({routeContext:e,match:t,children:r}){let n=j.useContext(yc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(ca.Provider,{value:e},r)}function z$(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=r==null?void 0:r.errors;if(l!=null){let p=s.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);Mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let d=!1,f=-1;if(r)for(let p=0;p<s.length;p++){let y=s[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:g,errors:b}=r,w=y.route.loader&&!g.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||w){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=r&&n?(p,y)=>{var g,b;n(p,{location:r.location,params:((b=(g=r.matches)==null?void 0:g[0])==null?void 0:b.params)??{},unstable_pattern:N$(r.matches),errorInfo:y})}:void 0;return s.reduceRight((p,y,g)=>{let b,w=!1,S=null,_=null;r&&(b=l&&y.route.id?l[y.route.id]:void 0,S=y.route.errorElement||$$,d&&(f<0&&g===0?(gT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,_=null):f===g&&(w=!0,_=y.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,g+1)),E=()=>{let A;return b?A=S:w?A=_:y.route.Component?A=j.createElement(y.route.Component,null):y.route.element?A=y.route.element:A=p,j.createElement(U$,{match:y,routeContext:{outlet:p,matches:N,isDataRoute:r!=null},children:A})};return r&&(y.route.ErrorBoundary||y.route.errorElement||g===0)?j.createElement(yT,{location:r.location,revalidation:r.revalidation,component:S,error:b,children:E(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):E()},null)}function pw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q$(e){let t=j.useContext(yc);return Mt(t,pw(e)),t}function K$(e){let t=j.useContext(fp);return Mt(t,pw(e)),t}function F$(e){let t=j.useContext(ca);return Mt(t,pw(e)),t}function yw(e){let t=F$(e),r=t.matches[t.matches.length-1];return Mt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function H$(){return yw("useRouteId")}function Q$(){var n;let e=j.useContext(mw),t=K$("useRouteError"),r=yw("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function V$(){let{router:e}=q$("useNavigate"),t=yw("useNavigate"),r=j.useRef(!1);return mT(()=>{r.current=!0}),j.useCallback(async(i,s={})=>{Hn(r.current,hT),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var JO={};function gT(e,t,r){!t&&!JO[e]&&(JO[e]=!0,Hn(!1,r))}j.memo(G$);function G$({routes:e,future:t,state:r,onError:n}){return pT(e,void 0,r,n,t)}function $e({to:e,replace:t,state:r,relative:n}){Mt(gc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=j.useContext(On);Hn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=j.useContext(ca),{pathname:l}=vi(),d=ft(),f=hw(e,fw(s),l,n==="path"),h=JSON.stringify(f);return j.useEffect(()=>{d(JSON.parse(h),{replace:t,state:r,relative:n})},[d,h,n,t,r]),null}function Ke(e){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y$({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1,unstable_useTransitions:l}){Mt(!gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:d,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[d,i,s,l]);typeof r=="string"&&(r=Ro(r));let{pathname:h="/",search:p="",hash:y="",state:g=null,key:b="default"}=r,w=j.useMemo(()=>{let S=ci(h,d);return S==null?null:{location:{pathname:S,search:p,hash:y,state:g,key:b},navigationType:n}},[d,h,p,y,g,b,n]);return Hn(w!=null,`<Router basename="${d}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:j.createElement(On.Provider,{value:f},j.createElement(Td.Provider,{children:t,value:w}))}function W$({children:e,location:t}){return I$($b(e),t)}function $b(e,t=[]){let r=[];return j.Children.forEach(e,(n,i)=>{if(!j.isValidElement(n))return;let s=[...t,i];if(n.type===j.Fragment){r.push.apply(r,$b(n.props.children,s));return}Mt(n.type===Ke,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=$b(n.props.children,s)),r.push(l)}),r}var rm="get",nm="application/x-www-form-urlencoded";function hp(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function X$(e){return hp(e)&&e.tagName.toLowerCase()==="button"}function Z$(e){return hp(e)&&e.tagName.toLowerCase()==="form"}function J$(e){return hp(e)&&e.tagName.toLowerCase()==="input"}function eB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tB(e,t){return e.button===0&&(!t||t==="_self")&&!eB(e)}var kh=null;function rB(){if(kh===null)try{new FormData(document.createElement("form"),0),kh=!1}catch{kh=!0}return kh}var nB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qv(e){return e!=null&&!nB.has(e)?(Hn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nm}"`),null):e}function aB(e,t){let r,n,i,s,l;if(Z$(e)){let d=e.getAttribute("action");n=d?ci(d,t):null,r=e.getAttribute("method")||rm,i=Qv(e.getAttribute("enctype"))||nm,s=new FormData(e)}else if(X$(e)||J$(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(n=f?ci(f,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||rm,i=Qv(e.getAttribute("formenctype"))||Qv(d.getAttribute("enctype"))||nm,s=new FormData(d,e),!rB()){let{name:h,type:p,value:y}=e;if(p==="image"){let g=h?`${h}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else h&&s.append(h,y)}}else{if(hp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=rm,n=null,i=nm,l=e}return s&&i==="text/plain"&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function iB(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&ci(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function sB(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oB(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function lB(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let l=await sB(s,r);return l.links?l.links():[]}return[]}));return fB(n.flat(1).filter(oB).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function eE(e,t,r,n,i,s){let l=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,d=(f,h)=>{var p;return r[h].pathname!==f.pathname||((p=r[h].route.path)==null?void 0:p.endsWith("*"))&&r[h].params["*"]!==f.params["*"]};return s==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):s==="data"?t.filter((f,h)=>{var y;let p=n.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=r[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function cB(e,t,{includeHydrateFallback:r}={}){return uB(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function uB(e){return[...new Set(e)]}function dB(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function fB(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(dB(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function vT(){let e=j.useContext(yc);return gw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function hB(){let e=j.useContext(fp);return gw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var vw=j.createContext(void 0);vw.displayName="FrameworkContext";function bT(){let e=j.useContext(vw);return gw(e,"You must render this element inside a <HydratedRouter> element"),e}function mB(e,t){let r=j.useContext(vw),[n,i]=j.useState(!1),[s,l]=j.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:y}=t,g=j.useRef(null);j.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=N=>{N.forEach(E=>{l(E.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[e]),j.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let b=()=>{i(!0)},w=()=>{i(!1),l(!1)};return r?e!=="intent"?[s,g,{}]:[s,g,{onFocus:Pu(d,b),onBlur:Pu(f,w),onMouseEnter:Pu(h,b),onMouseLeave:Pu(p,w),onTouchStart:Pu(y,b)}]:[!1,g,{}]}function Pu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function pB({page:e,...t}){let{router:r}=vT(),n=j.useMemo(()=>iT(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?j.createElement(gB,{page:e,matches:n,...t}):null}function yB(e){let{manifest:t,routeModules:r}=bT(),[n,i]=j.useState([]);return j.useEffect(()=>{let s=!1;return lB(e,t,r).then(l=>{s||i(l)}),()=>{s=!0}},[e,t,r]),n}function gB({page:e,matches:t,...r}){let n=vi(),{future:i,manifest:s,routeModules:l}=bT(),{basename:d}=vT(),{loaderData:f,matches:h}=hB(),p=j.useMemo(()=>eE(e,t,h,s,n,"data"),[e,t,h,s,n]),y=j.useMemo(()=>eE(e,t,h,s,n,"assets"),[e,t,h,s,n]),g=j.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,_=!1;if(t.forEach(E=>{var C;let A=s.routes[E.route.id];!A||!A.hasLoader||(!p.some(T=>T.route.id===E.route.id)&&E.route.id in f&&((C=l[E.route.id])!=null&&C.shouldRevalidate)||A.hasClientLoader?_=!0:S.add(E.route.id))}),S.size===0)return[];let N=iB(e,d,i.unstable_trailingSlashAwareDataRequests,"data");return _&&S.size>0&&N.searchParams.set("_routes",t.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[N.pathname+N.search]},[d,i.unstable_trailingSlashAwareDataRequests,f,n,s,p,t,e,l]),b=j.useMemo(()=>cB(y,s),[y,s]),w=yB(y);return j.createElement(j.Fragment,null,g.map(S=>j.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),b.map(S=>j.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),w.map(({key:S,link:_})=>j.createElement("link",{key:S,nonce:r.nonce,..._,crossOrigin:_.crossOrigin??r.crossOrigin})))}function vB(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var bB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bB&&(window.__reactRouterVersion="7.13.0")}catch{}function xB({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=j.useRef();i.current==null&&(i.current=e$({window:n,v5Compat:!0}));let s=i.current,[l,d]=j.useState({action:s.action,location:s.location}),f=j.useCallback(h=>{r===!1?d(h):j.startTransition(()=>d(h))},[r]);return j.useLayoutEffect(()=>s.listen(f),[s,f]),j.createElement(Y$,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:r})}var xT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zu=j.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:g,...b},w){let{basename:S,unstable_useTransitions:_}=j.useContext(On),N=typeof h=="string"&&xT.test(h),E=cT(h,S);h=E.to;let A=M$(h,{relative:i}),[C,T,P]=mB(n,b),M=_B(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:i,viewTransition:y,unstable_defaultShouldRevalidate:g,unstable_useTransitions:_});function I(L){t&&t(L),L.defaultPrevented||M(L)}let F=j.createElement("a",{...b,...P,href:E.absoluteURL||A,onClick:E.isExternal||s?t:I,ref:vB(w,T),target:f,"data-discover":!N&&r==="render"?"true":void 0});return C&&!N?j.createElement(j.Fragment,null,F,j.createElement(pB,{page:A})):F});Zu.displayName="Link";var wB=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:l,viewTransition:d,children:f,...h},p){let y=Dd(l,{relative:h.relative}),g=vi(),b=j.useContext(fp),{navigator:w,basename:S}=j.useContext(On),_=b!=null&&CB(y)&&d===!0,N=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,E=g.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(E=E.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&S&&(A=ci(A,S)||A);const C=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=E===N||!i&&E.startsWith(N)&&E.charAt(C)==="/",P=A!=null&&(A===N||!i&&A.startsWith(N)&&A.charAt(N.length)==="/"),M={isActive:T,isPending:P,isTransitioning:_},I=T?t:void 0,F;typeof n=="function"?F=n(M):F=[n,T?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(M):s;return j.createElement(Zu,{...h,"aria-current":I,className:F,ref:p,style:L,to:l,viewTransition:d},typeof f=="function"?f(M):f)});wB.displayName="NavLink";var jB=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:l=rm,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:g,...b},w)=>{let{unstable_useTransitions:S}=j.useContext(On),_=EB(),N=AB(d,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",A=typeof d=="string"&&xT.test(d),C=T=>{if(f&&f(T),T.defaultPrevented)return;T.preventDefault();let P=T.nativeEvent.submitter,M=(P==null?void 0:P.getAttribute("formmethod"))||l,I=()=>_(P||T.currentTarget,{fetcherKey:t,method:M,navigate:r,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:g});S&&r!==!1?j.startTransition(()=>I()):I()};return j.createElement("form",{ref:w,method:E,action:N,onSubmit:n?f:C,...b,"data-discover":!A&&e==="render"?"true":void 0})});jB.displayName="Form";function SB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wT(e){let t=j.useContext(yc);return Mt(t,SB(e)),t}function _B(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let h=ft(),p=vi(),y=Dd(e,{relative:s});return j.useCallback(g=>{if(tB(g,t)){g.preventDefault();let b=r!==void 0?r:Xu(p)===Xu(y),w=()=>h(e,{replace:b,state:n,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d});f?j.startTransition(()=>w()):w()}},[p,h,y,r,n,t,e,i,s,l,d,f])}var NB=0,OB=()=>`__${String(++NB)}__`;function EB(){let{router:e}=wT("useSubmit"),{basename:t}=j.useContext(On),r=H$(),n=e.fetch,i=e.navigate;return j.useCallback(async(s,l={})=>{let{action:d,method:f,encType:h,formData:p,body:y}=aB(s,t);if(l.navigate===!1){let g=l.fetcherKey||OB();await n(g,r,l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await i(l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,i,t,r])}function AB(e,{relative:t}={}){let{basename:r}=j.useContext(On),n=j.useContext(ca);Mt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Dd(e||".",{relative:t})},l=vi();if(e==null){s.search=l.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let p=d.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ii([r,s.pathname])),Xu(s)}function CB(e,{relative:t}={}){let r=j.useContext(dT);Mt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=wT("useViewTransitionState"),i=Dd(e,{relative:t});if(!r.isTransitioning)return!1;let s=ci(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=ci(r.nextLocation.pathname,n)||r.nextLocation.pathname;return dm(i.pathname,l)!=null||dm(i.pathname,s)!=null}var bw=aT(),vc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kB={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},os,dw,VP,PB=(VP=class{constructor(){Ce(this,os,kB);Ce(this,dw,!1)}setTimeoutProvider(e){be(this,os,e)}setTimeout(e,t){return U(this,os).setTimeout(e,t)}clearTimeout(e){U(this,os).clearTimeout(e)}setInterval(e,t){return U(this,os).setInterval(e,t)}clearInterval(e){U(this,os).clearInterval(e)}},os=new WeakMap,dw=new WeakMap,VP),ao=new PB;function TB(e){setTimeout(e,0)}var _o=typeof window>"u"||"Deno"in globalThis;function qr(){}function DB(e,t){return typeof e=="function"?e(t):e}function Bb(e){return typeof e=="number"&&e>=0&&e!==1/0}function jT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gs(e,t){return typeof e=="function"?e(t):e}function Kn(e,t){return typeof e=="function"?e(t):e}function tE(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:l,stale:d}=e;if(l){if(n){if(t.queryHash!==xw(l,t.options))return!1}else if(!Ju(t.queryKey,l))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||i&&i!==t.state.fetchStatus||s&&!s(t))}function rE(e,t){const{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(No(t.options.mutationKey)!==No(s))return!1}else if(!Ju(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function xw(e,t){return((t==null?void 0:t.queryKeyHashFn)||No)(e)}function No(e){return JSON.stringify(e,(t,r)=>Ub(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Ju(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ju(e[r],t[r])):!1}var MB=Object.prototype.hasOwnProperty;function ST(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=nE(e)&&nE(t);if(!n&&!(Ub(e)&&Ub(t)))return t;const s=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),d=l.length,f=n?new Array(d):{};let h=0;for(let p=0;p<d;p++){const y=n?p:l[p],g=e[y],b=t[y];if(g===b){f[y]=g,(n?p<s:MB.call(e,y))&&h++;continue}if(g===null||b===null||typeof g!="object"||typeof b!="object"){f[y]=b;continue}const w=ST(g,b,r+1);f[y]=w,w===g&&h++}return s===d&&h===s?e:f}function fm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function nE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ub(e){if(!aE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!aE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function aE(e){return Object.prototype.toString.call(e)==="[object Object]"}function RB(e){return new Promise(t=>{ao.setTimeout(t,e)})}function zb(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ST(e,t):t}function IB(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function LB(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ww=Symbol();function _T(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ww?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function jw(e,t){return typeof e=="function"?e(...t):!!e}function $B(e,t,r){let n=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??(i=t()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),e}var uo,ls,Wl,GP,BB=(GP=class extends vc{constructor(){super();Ce(this,uo);Ce(this,ls);Ce(this,Wl);be(this,Wl,t=>{if(!_o&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){U(this,ls)||this.setEventListener(U(this,Wl))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,ls))==null||t.call(this),be(this,ls,void 0))}setEventListener(t){var r;be(this,Wl,t),(r=U(this,ls))==null||r.call(this),be(this,ls,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){U(this,uo)!==t&&(be(this,uo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof U(this,uo)=="boolean"?U(this,uo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},uo=new WeakMap,ls=new WeakMap,Wl=new WeakMap,GP),Sw=new BB;function qb(){let e,t;const r=new Promise((i,s)=>{e=i,t=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}var UB=TB;function zB(){let e=[],t=0,r=d=>{d()},n=d=>{d()},i=UB;const s=d=>{t?e.push(d):i(()=>{r(d)})},l=()=>{const d=e;e=[],d.length&&i(()=>{n(()=>{d.forEach(f=>{r(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||l()}return f},batchCalls:d=>(...f)=>{s(()=>{d(...f)})},schedule:s,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{i=d}}}var lr=zB(),Xl,cs,Zl,YP,qB=(YP=class extends vc{constructor(){super();Ce(this,Xl,!0);Ce(this,cs);Ce(this,Zl);be(this,Zl,t=>{if(!_o&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){U(this,cs)||this.setEventListener(U(this,Zl))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,cs))==null||t.call(this),be(this,cs,void 0))}setEventListener(t){var r;be(this,Zl,t),(r=U(this,cs))==null||r.call(this),be(this,cs,t(this.setOnline.bind(this)))}setOnline(t){U(this,Xl)!==t&&(be(this,Xl,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return U(this,Xl)}},Xl=new WeakMap,cs=new WeakMap,Zl=new WeakMap,YP),hm=new qB;function KB(e){return Math.min(1e3*2**e,3e4)}function NT(e){return(e??"online")==="online"?hm.isOnline():!0}var Kb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function OT(e){let t=!1,r=0,n;const i=qb(),s=()=>i.status!=="pending",l=S=>{var _;if(!s()){const N=new Kb(S);g(N),(_=e.onCancel)==null||_.call(e,N)}},d=()=>{t=!0},f=()=>{t=!1},h=()=>Sw.isFocused()&&(e.networkMode==="always"||hm.isOnline())&&e.canRun(),p=()=>NT(e.networkMode)&&e.canRun(),y=S=>{s()||(n==null||n(),i.resolve(S))},g=S=>{s()||(n==null||n(),i.reject(S))},b=()=>new Promise(S=>{var _;n=N=>{(s()||h())&&S(N)},(_=e.onPause)==null||_.call(e)}).then(()=>{var S;n=void 0,s()||(S=e.onContinue)==null||S.call(e)}),w=()=>{if(s())return;let S;const _=r===0?e.initialPromise:void 0;try{S=_??e.fn()}catch(N){S=Promise.reject(N)}Promise.resolve(S).then(y).catch(N=>{var P;if(s())return;const E=e.retry??(_o?0:3),A=e.retryDelay??KB,C=typeof A=="function"?A(r,N):A,T=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,N);if(t||!T){g(N);return}r++,(P=e.onFail)==null||P.call(e,r,N),RB(C).then(()=>h()?void 0:b()).then(()=>{t?g(N):w()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(n==null||n(),i),cancelRetry:d,continueRetry:f,canStart:p,start:()=>(p()?w():b().then(w),i)}}var fo,WP,ET=(WP=class{constructor(){Ce(this,fo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bb(this.gcTime)&&be(this,fo,ao.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_o?1/0:300*1e3))}clearGcTimeout(){U(this,fo)&&(ao.clearTimeout(U(this,fo)),be(this,fo,void 0))}},fo=new WeakMap,WP),ho,Jl,qn,mo,yr,Ed,po,ta,Ya,XP,FB=(XP=class extends ET{constructor(t){super();Ce(this,ta);Ce(this,ho);Ce(this,Jl);Ce(this,qn);Ce(this,mo);Ce(this,yr);Ce(this,Ed);Ce(this,po);be(this,po,!1),be(this,Ed,t.defaultOptions),this.setOptions(t.options),this.observers=[],be(this,mo,t.client),be(this,qn,U(this,mo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,be(this,ho,sE(this.options)),this.state=t.state??U(this,ho),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,yr))==null?void 0:t.promise}setOptions(t){if(this.options={...U(this,Ed),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=sE(this.options);r.data!==void 0&&(this.setState(iE(r.data,r.dataUpdatedAt)),be(this,ho,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,qn).remove(this)}setData(t,r){const n=zb(this.state.data,t,this.options);return qe(this,ta,Ya).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){qe(this,ta,Ya).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=U(this,yr))==null?void 0:n.promise;return(i=U(this,yr))==null||i.cancel(t),r?r.then(qr).catch(qr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,ho))}isActive(){return this.observers.some(t=>Kn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ww||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>gs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!jT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,yr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,yr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,qn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(U(this,yr)&&(U(this,po)?U(this,yr).cancel({revert:!0}):U(this,yr).cancelRetry()),this.scheduleGc()),U(this,qn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,ta,Ya).call(this,{type:"invalidate"})}async fetch(t,r){var f,h,p,y,g,b,w,S,_,N,E,A;if(this.state.fetchStatus!=="idle"&&((f=U(this,yr))==null?void 0:f.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,yr))return U(this,yr).continueRetry(),U(this,yr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(T=>T.options.queryFn);C&&this.setOptions(C.options)}const n=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(be(this,po,!0),n.signal)})},s=()=>{const C=_T(this.options,r),P=(()=>{const M={client:U(this,mo),queryKey:this.queryKey,meta:this.meta};return i(M),M})();return be(this,po,!1),this.options.persister?this.options.persister(C,P,this):C(P)},d=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,mo),state:this.state,fetchFn:s};return i(C),C})();(h=this.options.behavior)==null||h.onFetch(d,this),be(this,Jl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=d.fetchOptions)==null?void 0:p.meta))&&qe(this,ta,Ya).call(this,{type:"fetch",meta:(y=d.fetchOptions)==null?void 0:y.meta}),be(this,yr,OT({initialPromise:r==null?void 0:r.initialPromise,fn:d.fetchFn,onCancel:C=>{C instanceof Kb&&C.revert&&this.setState({...U(this,Jl),fetchStatus:"idle"}),n.abort()},onFail:(C,T)=>{qe(this,ta,Ya).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{qe(this,ta,Ya).call(this,{type:"pause"})},onContinue:()=>{qe(this,ta,Ya).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const C=await U(this,yr).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(b=(g=U(this,qn).config).onSuccess)==null||b.call(g,C,this),(S=(w=U(this,qn).config).onSettled)==null||S.call(w,C,this.state.error,this),C}catch(C){if(C instanceof Kb){if(C.silent)return U(this,yr).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw qe(this,ta,Ya).call(this,{type:"error",error:C}),(N=(_=U(this,qn).config).onError)==null||N.call(_,C,this),(A=(E=U(this,qn).config).onSettled)==null||A.call(E,this.state.data,C,this),C}finally{this.scheduleGc()}}},ho=new WeakMap,Jl=new WeakMap,qn=new WeakMap,mo=new WeakMap,yr=new WeakMap,Ed=new WeakMap,po=new WeakMap,ta=new WeakSet,Ya=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...AT(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,...iE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return be(this,Jl,t.manual?i:void 0),i;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),lr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),U(this,qn).notify({query:this,type:"updated",action:t})})},XP);function AT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:NT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function iE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function sE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var tn,Xe,Ad,zr,yo,ec,Za,us,Cd,tc,rc,go,vo,ds,nc,st,Ku,Fb,Hb,Qb,Vb,Gb,Yb,Wb,CT,ZP,HB=(ZP=class extends vc{constructor(t,r){super();Ce(this,st);Ce(this,tn);Ce(this,Xe);Ce(this,Ad);Ce(this,zr);Ce(this,yo);Ce(this,ec);Ce(this,Za);Ce(this,us);Ce(this,Cd);Ce(this,tc);Ce(this,rc);Ce(this,go);Ce(this,vo);Ce(this,ds);Ce(this,nc,new Set);this.options=r,be(this,tn,t),be(this,us,null),be(this,Za,qb()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,Xe).addObserver(this),oE(U(this,Xe),this.options)?qe(this,st,Ku).call(this):this.updateResult(),qe(this,st,Vb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xb(U(this,Xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xb(U(this,Xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qe(this,st,Gb).call(this),qe(this,st,Yb).call(this),U(this,Xe).removeObserver(this)}setOptions(t){const r=this.options,n=U(this,Xe);if(this.options=U(this,tn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Kn(this.options.enabled,U(this,Xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qe(this,st,Wb).call(this),U(this,Xe).setOptions(this.options),r._defaulted&&!fm(this.options,r)&&U(this,tn).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,Xe),observer:this});const i=this.hasListeners();i&&lE(U(this,Xe),n,this.options,r)&&qe(this,st,Ku).call(this),this.updateResult(),i&&(U(this,Xe)!==n||Kn(this.options.enabled,U(this,Xe))!==Kn(r.enabled,U(this,Xe))||gs(this.options.staleTime,U(this,Xe))!==gs(r.staleTime,U(this,Xe)))&&qe(this,st,Fb).call(this);const s=qe(this,st,Hb).call(this);i&&(U(this,Xe)!==n||Kn(this.options.enabled,U(this,Xe))!==Kn(r.enabled,U(this,Xe))||s!==U(this,ds))&&qe(this,st,Qb).call(this,s)}getOptimisticResult(t){const r=U(this,tn).getQueryCache().build(U(this,tn),t),n=this.createResult(r,t);return VB(this,n)&&(be(this,zr,n),be(this,ec,this.options),be(this,yo,U(this,Xe).state)),n}getCurrentResult(){return U(this,zr)}trackResult(t,r){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&U(this,Za).status==="pending"&&U(this,Za).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){U(this,nc).add(t)}getCurrentQuery(){return U(this,Xe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=U(this,tn).defaultQueryOptions(t),n=U(this,tn).getQueryCache().build(U(this,tn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return qe(this,st,Ku).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,zr)))}createResult(t,r){var F;const n=U(this,Xe),i=this.options,s=U(this,zr),l=U(this,yo),d=U(this,ec),h=t!==n?t.state:U(this,Ad),{state:p}=t;let y={...p},g=!1,b;if(r._optimisticResults){const L=this.hasListeners(),K=!L&&oE(t,r),B=L&&lE(t,n,r,i);(K||B)&&(y={...y,...AT(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:w,errorUpdatedAt:S,status:_}=y;b=y.data;let N=!1;if(r.placeholderData!==void 0&&b===void 0&&_==="pending"){let L;s!=null&&s.isPlaceholderData&&r.placeholderData===(d==null?void 0:d.placeholderData)?(L=s.data,N=!0):L=typeof r.placeholderData=="function"?r.placeholderData((F=U(this,rc))==null?void 0:F.state.data,U(this,rc)):r.placeholderData,L!==void 0&&(_="success",b=zb(s==null?void 0:s.data,L,r),g=!0)}if(r.select&&b!==void 0&&!N)if(s&&b===(l==null?void 0:l.data)&&r.select===U(this,Cd))b=U(this,tc);else try{be(this,Cd,r.select),b=r.select(b),b=zb(s==null?void 0:s.data,b,r),be(this,tc,b),be(this,us,null)}catch(L){be(this,us,L)}U(this,us)&&(w=U(this,us),b=U(this,tc),S=Date.now(),_="error");const E=y.fetchStatus==="fetching",A=_==="pending",C=_==="error",T=A&&E,P=b!==void 0,I={status:_,fetchStatus:y.fetchStatus,isPending:A,isSuccess:_==="success",isError:C,isInitialLoading:T,isLoading:T,data:b,dataUpdatedAt:y.dataUpdatedAt,error:w,errorUpdatedAt:S,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>h.dataUpdateCount||y.errorUpdateCount>h.errorUpdateCount,isFetching:E,isRefetching:E&&!A,isLoadingError:C&&!P,isPaused:y.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:C&&P,isStale:_w(t,r),refetch:this.refetch,promise:U(this,Za),isEnabled:Kn(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const L=I.data!==void 0,K=I.status==="error"&&!L,B=Z=>{K?Z.reject(I.error):L&&Z.resolve(I.data)},te=()=>{const Z=be(this,Za,I.promise=qb());B(Z)},de=U(this,Za);switch(de.status){case"pending":t.queryHash===n.queryHash&&B(de);break;case"fulfilled":(K||I.data!==de.value)&&te();break;case"rejected":(!K||I.error!==de.reason)&&te();break}}return I}updateResult(){const t=U(this,zr),r=this.createResult(U(this,Xe),this.options);if(be(this,yo,U(this,Xe).state),be(this,ec,this.options),U(this,yo).data!==void 0&&be(this,rc,U(this,Xe)),fm(r,t))return;be(this,zr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!U(this,nc).size)return!0;const l=new Set(s??U(this,nc));return this.options.throwOnError&&l.add("error"),Object.keys(U(this,zr)).some(d=>{const f=d;return U(this,zr)[f]!==t[f]&&l.has(f)})};qe(this,st,CT).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qe(this,st,Vb).call(this)}},tn=new WeakMap,Xe=new WeakMap,Ad=new WeakMap,zr=new WeakMap,yo=new WeakMap,ec=new WeakMap,Za=new WeakMap,us=new WeakMap,Cd=new WeakMap,tc=new WeakMap,rc=new WeakMap,go=new WeakMap,vo=new WeakMap,ds=new WeakMap,nc=new WeakMap,st=new WeakSet,Ku=function(t){qe(this,st,Wb).call(this);let r=U(this,Xe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(qr)),r},Fb=function(){qe(this,st,Gb).call(this);const t=gs(this.options.staleTime,U(this,Xe));if(_o||U(this,zr).isStale||!Bb(t))return;const n=jT(U(this,zr).dataUpdatedAt,t)+1;be(this,go,ao.setTimeout(()=>{U(this,zr).isStale||this.updateResult()},n))},Hb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,Xe)):this.options.refetchInterval)??!1},Qb=function(t){qe(this,st,Yb).call(this),be(this,ds,t),!(_o||Kn(this.options.enabled,U(this,Xe))===!1||!Bb(U(this,ds))||U(this,ds)===0)&&be(this,vo,ao.setInterval(()=>{(this.options.refetchIntervalInBackground||Sw.isFocused())&&qe(this,st,Ku).call(this)},U(this,ds)))},Vb=function(){qe(this,st,Fb).call(this),qe(this,st,Qb).call(this,qe(this,st,Hb).call(this))},Gb=function(){U(this,go)&&(ao.clearTimeout(U(this,go)),be(this,go,void 0))},Yb=function(){U(this,vo)&&(ao.clearInterval(U(this,vo)),be(this,vo,void 0))},Wb=function(){const t=U(this,tn).getQueryCache().build(U(this,tn),this.options);if(t===U(this,Xe))return;const r=U(this,Xe);be(this,Xe,t),be(this,Ad,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},CT=function(t){lr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(U(this,zr))}),U(this,tn).getQueryCache().notify({query:U(this,Xe),type:"observerResultsUpdated"})})},ZP);function QB(e,t){return Kn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function oE(e,t){return QB(e,t)||e.state.data!==void 0&&Xb(e,t,t.refetchOnMount)}function Xb(e,t,r){if(Kn(t.enabled,e)!==!1&&gs(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&_w(e,t)}return!1}function lE(e,t,r,n){return(e!==t||Kn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&_w(e,r)}function _w(e,t){return Kn(t.enabled,e)!==!1&&e.isStaleByTime(gs(t.staleTime,e))}function VB(e,t){return!fm(e.getCurrentResult(),t)}function cE(e){return{onFetch:(t,r)=>{var p,y,g,b,w;const n=t.options,i=(g=(y=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:y.fetchMore)==null?void 0:g.direction,s=((b=t.state.data)==null?void 0:b.pages)||[],l=((w=t.state.data)==null?void 0:w.pageParams)||[];let d={pages:[],pageParams:[]},f=0;const h=async()=>{let S=!1;const _=A=>{$B(A,()=>t.signal,()=>S=!0)},N=_T(t.options,t.fetchOptions),E=async(A,C,T)=>{if(S)return Promise.reject();if(C==null&&A.pages.length)return Promise.resolve(A);const M=(()=>{const K={client:t.client,queryKey:t.queryKey,pageParam:C,direction:T?"backward":"forward",meta:t.options.meta};return _(K),K})(),I=await N(M),{maxPages:F}=t.options,L=T?LB:IB;return{pages:L(A.pages,I,F),pageParams:L(A.pageParams,C,F)}};if(i&&s.length){const A=i==="backward",C=A?GB:uE,T={pages:s,pageParams:l},P=C(n,T);d=await E(T,P,A)}else{const A=e??s.length;do{const C=f===0?l[0]??n.initialPageParam:uE(n,d);if(f>0&&C==null)break;d=await E(d,C),f++}while(f<A)}return d};t.options.persister?t.fetchFn=()=>{var S,_;return(_=(S=t.options).persister)==null?void 0:_.call(S,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function uE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function GB(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var kd,va,Mr,bo,ba,ts,JP,YB=(JP=class extends ET{constructor(t){super();Ce(this,ba);Ce(this,kd);Ce(this,va);Ce(this,Mr);Ce(this,bo);be(this,kd,t.client),this.mutationId=t.mutationId,be(this,Mr,t.mutationCache),be(this,va,[]),this.state=t.state||kT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,va).includes(t)||(U(this,va).push(t),this.clearGcTimeout(),U(this,Mr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){be(this,va,U(this,va).filter(r=>r!==t)),this.scheduleGc(),U(this,Mr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,va).length||(this.state.status==="pending"?this.scheduleGc():U(this,Mr).remove(this))}continue(){var t;return((t=U(this,bo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,d,f,h,p,y,g,b,w,S,_,N,E,A,C,T,P,M;const r=()=>{qe(this,ba,ts).call(this,{type:"continue"})},n={client:U(this,kd),meta:this.options.meta,mutationKey:this.options.mutationKey};be(this,bo,OT({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(I,F)=>{qe(this,ba,ts).call(this,{type:"failed",failureCount:I,error:F})},onPause:()=>{qe(this,ba,ts).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Mr).canRun(this)}));const i=this.state.status==="pending",s=!U(this,bo).canStart();try{if(i)r();else{qe(this,ba,ts).call(this,{type:"pending",variables:t,isPaused:s}),U(this,Mr).config.onMutate&&await U(this,Mr).config.onMutate(t,this,n);const F=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,t,n));F!==this.state.context&&qe(this,ba,ts).call(this,{type:"pending",context:F,variables:t,isPaused:s})}const I=await U(this,bo).start();return await((h=(f=U(this,Mr).config).onSuccess)==null?void 0:h.call(f,I,t,this.state.context,this,n)),await((y=(p=this.options).onSuccess)==null?void 0:y.call(p,I,t,this.state.context,n)),await((b=(g=U(this,Mr).config).onSettled)==null?void 0:b.call(g,I,null,this.state.variables,this.state.context,this,n)),await((S=(w=this.options).onSettled)==null?void 0:S.call(w,I,null,t,this.state.context,n)),qe(this,ba,ts).call(this,{type:"success",data:I}),I}catch(I){try{await((N=(_=U(this,Mr).config).onError)==null?void 0:N.call(_,I,t,this.state.context,this,n))}catch(F){Promise.reject(F)}try{await((A=(E=this.options).onError)==null?void 0:A.call(E,I,t,this.state.context,n))}catch(F){Promise.reject(F)}try{await((T=(C=U(this,Mr).config).onSettled)==null?void 0:T.call(C,void 0,I,this.state.variables,this.state.context,this,n))}catch(F){Promise.reject(F)}try{await((M=(P=this.options).onSettled)==null?void 0:M.call(P,void 0,I,t,this.state.context,n))}catch(F){Promise.reject(F)}throw qe(this,ba,ts).call(this,{type:"error",error:I}),I}finally{U(this,Mr).runNext(this)}}},kd=new WeakMap,va=new WeakMap,Mr=new WeakMap,bo=new WeakMap,ba=new WeakSet,ts=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),lr.batch(()=>{U(this,va).forEach(n=>{n.onMutationUpdate(t)}),U(this,Mr).notify({mutation:this,type:"updated",action:t})})},JP);function kT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ja,ra,Pd,eT,WB=(eT=class extends vc{constructor(t={}){super();Ce(this,Ja);Ce(this,ra);Ce(this,Pd);this.config=t,be(this,Ja,new Set),be(this,ra,new Map),be(this,Pd,0)}build(t,r,n){const i=new YB({client:t,mutationCache:this,mutationId:++Ch(this,Pd)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){U(this,Ja).add(t);const r=Ph(t);if(typeof r=="string"){const n=U(this,ra).get(r);n?n.push(t):U(this,ra).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(U(this,Ja).delete(t)){const r=Ph(t);if(typeof r=="string"){const n=U(this,ra).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&U(this,ra).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ph(t);if(typeof r=="string"){const n=U(this,ra).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=Ph(t);if(typeof r=="string"){const i=(n=U(this,ra).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){lr.batch(()=>{U(this,Ja).forEach(t=>{this.notify({type:"removed",mutation:t})}),U(this,Ja).clear(),U(this,ra).clear()})}getAll(){return Array.from(U(this,Ja))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>rE(r,n))}findAll(t={}){return this.getAll().filter(r=>rE(t,r))}notify(t){lr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return lr.batch(()=>Promise.all(t.map(r=>r.continue().catch(qr))))}},Ja=new WeakMap,ra=new WeakMap,Pd=new WeakMap,eT);function Ph(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ei,fs,rn,ti,li,am,Zb,tT,XB=(tT=class extends vc{constructor(r,n){super();Ce(this,li);Ce(this,ei);Ce(this,fs);Ce(this,rn);Ce(this,ti);be(this,ei,r),this.setOptions(n),this.bindMethods(),qe(this,li,am).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=U(this,ei).defaultMutationOptions(r),fm(this.options,n)||U(this,ei).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,rn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&No(n.mutationKey)!==No(this.options.mutationKey)?this.reset():((i=U(this,rn))==null?void 0:i.state.status)==="pending"&&U(this,rn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=U(this,rn))==null||r.removeObserver(this)}onMutationUpdate(r){qe(this,li,am).call(this),qe(this,li,Zb).call(this,r)}getCurrentResult(){return U(this,fs)}reset(){var r;(r=U(this,rn))==null||r.removeObserver(this),be(this,rn,void 0),qe(this,li,am).call(this),qe(this,li,Zb).call(this)}mutate(r,n){var i;return be(this,ti,n),(i=U(this,rn))==null||i.removeObserver(this),be(this,rn,U(this,ei).getMutationCache().build(U(this,ei),this.options)),U(this,rn).addObserver(this),U(this,rn).execute(r)}},ei=new WeakMap,fs=new WeakMap,rn=new WeakMap,ti=new WeakMap,li=new WeakSet,am=function(){var n;const r=((n=U(this,rn))==null?void 0:n.state)??kT();be(this,fs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Zb=function(r){lr.batch(()=>{var n,i,s,l,d,f,h,p;if(U(this,ti)&&this.hasListeners()){const y=U(this,fs).variables,g=U(this,fs).context,b={client:U(this,ei),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(i=(n=U(this,ti)).onSuccess)==null||i.call(n,r.data,y,g,b)}catch(w){Promise.reject(w)}try{(l=(s=U(this,ti)).onSettled)==null||l.call(s,r.data,null,y,g,b)}catch(w){Promise.reject(w)}}else if((r==null?void 0:r.type)==="error"){try{(f=(d=U(this,ti)).onError)==null||f.call(d,r.error,y,g,b)}catch(w){Promise.reject(w)}try{(p=(h=U(this,ti)).onSettled)==null||p.call(h,void 0,r.error,y,g,b)}catch(w){Promise.reject(w)}}}this.listeners.forEach(y=>{y(U(this,fs))})})},tT),xa,rT,ZB=(rT=class extends vc{constructor(t={}){super();Ce(this,xa);this.config=t,be(this,xa,new Map)}build(t,r,n){const i=r.queryKey,s=r.queryHash??xw(i,r);let l=this.get(s);return l||(l=new FB({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){U(this,xa).has(t.queryHash)||(U(this,xa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=U(this,xa).get(t.queryHash);r&&(t.destroy(),r===t&&U(this,xa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){lr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,xa).get(t)}getAll(){return[...U(this,xa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>tE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>tE(t,n)):r}notify(t){lr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){lr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){lr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},xa=new WeakMap,rT),Ut,hs,ms,ac,ic,ps,sc,oc,nT,JB=(nT=class{constructor(e={}){Ce(this,Ut);Ce(this,hs);Ce(this,ms);Ce(this,ac);Ce(this,ic);Ce(this,ps);Ce(this,sc);Ce(this,oc);be(this,Ut,e.queryCache||new ZB),be(this,hs,e.mutationCache||new WB),be(this,ms,e.defaultOptions||{}),be(this,ac,new Map),be(this,ic,new Map),be(this,ps,0)}mount(){Ch(this,ps)._++,U(this,ps)===1&&(be(this,sc,Sw.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Ut).onFocus())})),be(this,oc,hm.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Ut).onOnline())})))}unmount(){var e,t;Ch(this,ps)._--,U(this,ps)===0&&((e=U(this,sc))==null||e.call(this),be(this,sc,void 0),(t=U(this,oc))==null||t.call(this),be(this,oc,void 0))}isFetching(e){return U(this,Ut).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,hs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,Ut).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=U(this,Ut).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(gs(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return U(this,Ut).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=U(this,Ut).get(n.queryHash),s=i==null?void 0:i.state.data,l=DB(t,s);if(l!==void 0)return U(this,Ut).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return lr.batch(()=>U(this,Ut).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,Ut).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=U(this,Ut);lr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=U(this,Ut);return lr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=lr.batch(()=>U(this,Ut).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(qr).catch(qr)}invalidateQueries(e,t={}){return lr.batch(()=>(U(this,Ut).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=lr.batch(()=>U(this,Ut).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(qr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(qr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=U(this,Ut).build(this,t);return r.isStaleByTime(gs(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qr).catch(qr)}fetchInfiniteQuery(e){return e.behavior=cE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qr).catch(qr)}ensureInfiniteQueryData(e){return e.behavior=cE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hm.isOnline()?U(this,hs).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Ut)}getMutationCache(){return U(this,hs)}getDefaultOptions(){return U(this,ms)}setDefaultOptions(e){be(this,ms,e)}setQueryDefaults(e,t){U(this,ac).set(No(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,ac).values()],r={};return t.forEach(n=>{Ju(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){U(this,ic).set(No(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,ic).values()],r={};return t.forEach(n=>{Ju(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,ms).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=xw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ww&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,ms).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,Ut).clear(),U(this,hs).clear()}},Ut=new WeakMap,hs=new WeakMap,ms=new WeakMap,ac=new WeakMap,ic=new WeakMap,ps=new WeakMap,sc=new WeakMap,oc=new WeakMap,nT),PT=j.createContext(void 0),Ue=e=>{const t=j.useContext(PT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},e6=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(PT.Provider,{value:e,children:t})),TT=j.createContext(!1),t6=()=>j.useContext(TT);TT.Provider;function r6(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var n6=j.createContext(r6()),a6=()=>j.useContext(n6),i6=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?jw(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},s6=e=>{j.useEffect(()=>{e.clearReset()},[e])},o6=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||jw(r,[e.error,n])),l6=e=>{if(e.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},c6=(e,t)=>e.isLoading&&e.isFetching&&!t,u6=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,dE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function d6(e,t,r){var g,b,w,S;const n=t6(),i=a6(),s=Ue(),l=s.defaultQueryOptions(e);(b=(g=s.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||b.call(g,l);const d=s.getQueryCache().get(l.queryHash);l._optimisticResults=n?"isRestoring":"optimistic",l6(l),i6(l,i,d),s6(i);const f=!s.getQueryCache().get(l.queryHash),[h]=j.useState(()=>new t(s,l)),p=h.getOptimisticResult(l),y=!n&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(_=>{const N=y?h.subscribe(lr.batchCalls(_)):qr;return h.updateResult(),N},[h,y]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),j.useEffect(()=>{h.setOptions(l)},[l,h]),u6(l,p))throw dE(l,h,i);if(o6({result:p,errorResetBoundary:i,throwOnError:l.throwOnError,query:d,suspense:l.suspense}))throw p.error;if((S=(w=s.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||S.call(w,l,p),l.experimental_prefetchInRender&&!_o&&c6(p,n)){const _=f?dE(l,h,i):d==null?void 0:d.promise;_==null||_.catch(qr).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?p:h.trackResult(p)}function It(e,t){return d6(e,HB)}function ot(e,t){const r=Ue(),[n]=j.useState(()=>new XB(r,e));j.useEffect(()=>{n.setOptions(e)},[n,e]);const i=j.useSyncExternalStore(j.useCallback(l=>n.subscribe(lr.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=j.useCallback((l,d)=>{n.mutate(l,d).catch(qr)},[n]);if(i.error&&jw(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function mp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function f6(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function d(p){try{h(n.next(p))}catch(y){l(y)}}function f(p){try{h(n.throw(p))}catch(y){l(y)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((n=n.apply(e,t||[])).next())})}const h6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Nw extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class m6 extends Nw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class fE extends Nw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hE extends Nw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Jb||(Jb={}));class p6{constructor(t,{headers:r={},customFetch:n,region:i=Jb.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=h6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return f6(this,arguments,void 0,function*(r,n={}){var i;let s,l;try{const{headers:d,method:f,body:h,signal:p,timeout:y}=n;let g={},{region:b}=n;b||(b=this.region);const w=new URL(`${this.url}/${r}`);b&&b!=="any"&&(g["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let S;h&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",S=h):typeof h=="string"?(g["Content-Type"]="text/plain",S=h):typeof FormData<"u"&&h instanceof FormData?S=h:(g["Content-Type"]="application/json",S=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?S=JSON.stringify(h):S=h;let _=p;y&&(l=new AbortController,s=setTimeout(()=>l.abort(),y),p?(_=l.signal,p.addEventListener("abort",()=>l.abort())):_=l.signal);const N=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),d),body:S,signal:_}).catch(T=>{throw new m6(T)}),E=N.headers.get("x-relay-error");if(E&&E==="true")throw new fE(N);if(!N.ok)throw new hE(N);let A=((i=N.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield N.json():A==="application/octet-stream"||A==="application/pdf"?C=yield N.blob():A==="text/event-stream"?C=N:A==="multipart/form-data"?C=yield N.formData():C=yield N.text(),{data:C,error:null,response:N}}catch(d){return{data:null,error:d,response:d instanceof hE||d instanceof fE?d.context:void 0}}finally{s&&clearTimeout(s)}})}}var y6=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},g6=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let l=null,d=null,f=null,h=s.status,p=s.statusText;if(s.ok){var y,g;if(r.method!=="HEAD"){var b;const N=await s.text();N===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?d=N:d=JSON.parse(N))}const S=(y=r.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),_=(g=s.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");S&&_&&_.length>1&&(f=parseInt(_[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var w;const S=await s.text();try{l=JSON.parse(S),Array.isArray(l)&&s.status===404&&(d=[],l=null,h=200,p="OK")}catch{s.status===404&&S===""?(h=204,p="No Content"):l={message:S}}if(l&&r.isMaybeSingle&&(!(l==null||(w=l.details)===null||w===void 0)&&w.includes("0 rows"))&&(l=null,h=200,p="OK"),l&&r.shouldThrowOnError)throw new y6(l)}return{error:l,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var l;let d="",f="",h="";const p=s==null?void 0:s.cause;if(p){var y,g,b,w;const N=(y=p==null?void 0:p.message)!==null&&y!==void 0?y:"",E=(g=p==null?void 0:p.code)!==null&&g!==void 0?g:"";d=`${(b=s==null?void 0:s.name)!==null&&b!==void 0?b:"FetchError"}: ${s==null?void 0:s.message}`,d+=`

Caused by: ${(w=p==null?void 0:p.name)!==null&&w!==void 0?w:"Error"}: ${N}`,E&&(d+=` (${E})`),p!=null&&p.stack&&(d+=`
${p.stack}`)}else{var S;d=(S=s==null?void 0:s.stack)!==null&&S!==void 0?S:""}const _=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(h="",f="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((p==null?void 0:p.name)==="HeadersOverflowError"||(p==null?void 0:p.code)==="UND_ERR_HEADERS_OVERFLOW")&&(h="",f="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(f+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=s==null?void 0:s.name)!==null&&l!==void 0?l:"FetchError"}: ${s==null?void 0:s.message}`,details:d,hint:f,code:h},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},v6=class extends g6{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var l;const d=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),f=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${f}"; options=${d};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const mE=new RegExp("[,()]");var $l=class extends v6{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&mE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&mE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},b6=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let s=!1;const l=(e??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:d,headers:f}=this.cloneRequestState();return d.searchParams.set("select",l),n&&f.append("Prefer",`count=${n}`),new $l({method:i,url:d,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),r||l.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);s.searchParams.set("columns",f.join(","))}}return new $l({method:i,url:s,headers:l,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const l="POST",{url:d,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&d.searchParams.set("on_conflict",t),n&&f.append("Prefer",`count=${n}`),i||f.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(h.length>0){const p=[...new Set(h)].map(y=>`"${y}"`);d.searchParams.set("columns",p.join(","))}}return new $l({method:l,url:d,headers:f,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new $l({method:n,url:i,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new $l({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function x6(e,t){if(ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w6(e){var t=x6(e,"string");return ed(t)=="symbol"?t:t+""}function j6(e,t,r){return(t=w6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(r),!0).forEach(function(n){j6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var S6=class DT{constructor(t,{headers:r={},schema:n,fetch:i,timeout:s,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=l;const d=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(f,h)=>{const p=new AbortController,y=setTimeout(()=>p.abort(),s),g=h==null?void 0:h.signal;if(g){if(g.aborted)return clearTimeout(y),d(f,h);const b=()=>{clearTimeout(y),p.abort()};return g.addEventListener("abort",b,{once:!0}),d(f,Th(Th({},h),{},{signal:p.signal})).finally(()=>{clearTimeout(y),g.removeEventListener("abort",b)})}return d(f,Th(Th({},h),{},{signal:p.signal})).finally(()=>clearTimeout(y))}:this.fetch=d}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new b6(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new DT(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){var l;let d;const f=new URL(`${this.url}/rpc/${t}`);let h;const p=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(p)),y=n&&Object.values(r).some(p);y?(d="POST",h=r):n||i?(d=n?"HEAD":"GET",Object.entries(r).filter(([b,w])=>w!==void 0).map(([b,w])=>[b,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([b,w])=>{f.searchParams.append(b,w)})):(d="POST",h=r);const g=new Headers(this.headers);return y?g.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&g.set("Prefer",`count=${s}`),new $l({method:d,url:f,headers:g,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class _6{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const N6="2.95.3",O6=`realtime-js/${N6}`,E6="1.0.0",MT="2.0.0",yE=MT,ex=1e4,A6=1e3,C6=100;var rs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(rs||(rs={}));var sr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(sr||(sr={}));var na;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(na||(na={}));var tx;(function(e){e.websocket="websocket"})(tx||(tx={}));var ro;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ro||(ro={}));class k6{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var i,s;const l=t.topic,d=(i=t.ref)!==null&&i!==void 0?i:"",f=(s=t.join_ref)!==null&&s!==void 0?s:"",h=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},y=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+l.length+h.length+y.length,b=new ArrayBuffer(this.HEADER_LENGTH+g);let w=new DataView(b),S=0;w.setUint8(S++,this.KINDS.userBroadcastPush),w.setUint8(S++,f.length),w.setUint8(S++,d.length),w.setUint8(S++,l.length),w.setUint8(S++,h.length),w.setUint8(S++,y.length),w.setUint8(S++,r),Array.from(f,N=>w.setUint8(S++,N.charCodeAt(0))),Array.from(d,N=>w.setUint8(S++,N.charCodeAt(0))),Array.from(l,N=>w.setUint8(S++,N.charCodeAt(0))),Array.from(h,N=>w.setUint8(S++,N.charCodeAt(0))),Array.from(y,N=>w.setUint8(S++,N.charCodeAt(0)));var _=new Uint8Array(b.byteLength+n.byteLength);return _.set(new Uint8Array(b),0),_.set(new Uint8Array(n),b.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,l,d,f]=n;return r({join_ref:i,ref:s,topic:l,event:d,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const h=n.decode(t.slice(f,f+i));f=f+i;const p=n.decode(t.slice(f,f+s));f=f+s;const y=n.decode(t.slice(f,f+l));f=f+l;const g=t.slice(f,t.byteLength),b=d===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,w={type:this.BROADCAST_EVENT,event:p,payload:b};return l>0&&(w.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class RT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var St;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(St||(St={}));const gE=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=P6(l,e,t,i),s),{}):{}},P6=(e,t,r,n)=>{const i=t.find(d=>d.name===e),s=i==null?void 0:i.type,l=r[e];return s&&!n.includes(s)?IT(s,l):rx(l)},IT=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return R6(t,r)}switch(e){case St.bool:return T6(t);case St.float4:case St.float8:case St.int2:case St.int4:case St.int8:case St.numeric:case St.oid:return D6(t);case St.json:case St.jsonb:return M6(t);case St.timestamp:return I6(t);case St.abstime:case St.date:case St.daterange:case St.int4range:case St.int8range:case St.money:case St.reltime:case St.text:case St.time:case St.timestamptz:case St.timetz:case St.tsrange:case St.tstzrange:return rx(t);default:return rx(t)}},rx=e=>e,T6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},D6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},M6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},R6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(d=>IT(t,d))}return e},I6=e=>typeof e=="string"?e.replace(" ","T"):e,LT=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Vv{constructor(t,r,n={},i=ex){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vE||(vE={}));class Gu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gu.syncState(this.state,i,s,l),this.pendingDiffs.forEach(f=>{this.state=Gu.syncDiff(this.state,f,s,l)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Gu.syncDiff(this.state,i,s,l),d())}),this.onJoin((i,s,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:l})}),this.onLeave((i,s,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),l=this.transformState(r),d={},f={};return this.map(s,(h,p)=>{l[h]||(f[h]=p)}),this.map(l,(h,p)=>{const y=s[h];if(y){const g=p.map(_=>_.presence_ref),b=y.map(_=>_.presence_ref),w=p.filter(_=>b.indexOf(_.presence_ref)<0),S=y.filter(_=>g.indexOf(_.presence_ref)<0);w.length>0&&(d[h]=w),S.length>0&&(f[h]=S)}else d[h]=p}),this.syncDiff(s,{joins:d,leaves:f},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(d,f)=>{var h;const p=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),p.length>0){const y=t[d].map(b=>b.presence_ref),g=p.filter(b=>y.indexOf(b.presence_ref)<0);t[d].unshift(...g)}n(d,p,f)}),this.map(l,(d,f)=>{let h=t[d];if(!h)return;const p=f.map(y=>y.presence_ref);h=h.filter(y=>p.indexOf(y.presence_ref)<0),t[d]=h,i(d,h,f),h.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(bE||(bE={}));var Yu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yu||(Yu={}));var Wa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Wa||(Wa={}));class ql{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vv(this,na.join,this.params,this.timeout),this.rejoinTimer=new RT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(na.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new Gu(this),this.broadcastEndpointURL=LT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==sr.closed){const{config:{broadcast:l,presence:d,private:f}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Yu.PRESENCE]&&this.bindings[Yu.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,y={},g={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(b=>t==null?void 0:t(Wa.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(Wa.CLOSED)),this.updateJoinPayload(Object.assign({config:g},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){t==null||t(Wa.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(w=S==null?void 0:S.length)!==null&&w!==void 0?w:0,N=[];for(let E=0;E<_;E++){const A=S[E],{filter:{event:C,schema:T,table:P,filter:M}}=A,I=b&&b[E];if(I&&I.event===C&&ql.isFilterValueEqual(I.schema,T)&&ql.isFilterValueEqual(I.table,P)&&ql.isFilterValueEqual(I.filter,M))N.push(Object.assign(Object.assign({},A),{id:I.id}));else{this.unsubscribe(),this.state=sr.errored,t==null||t(Wa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Wa.SUBSCRIBED);return}}).receive("error",b=>{this.state=sr.errored,t==null||t(Wa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Wa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===sr.joined&&t===Yu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const h=await d.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,d,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=sr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(na.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Vv(this,na.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=sr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Vv(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>C6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:p}=na;if(n&&[d,f,h,p].indexOf(l)>=0&&n!==this._joinRef())return;let g=this._onMessage(l,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var w,S,_;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(S=b.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(b=>b.callback(g,n)):(s=this.bindings[l])===null||s===void 0||s.filter(b=>{var w,S,_,N,E,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const C=b.id,T=(w=b.filter)===null||w===void 0?void 0:w.event;return C&&((S=r.ids)===null||S===void 0?void 0:S.includes(C))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(E=(N=b==null?void 0:b.filter)===null||N===void 0?void 0:N.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return C==="*"||C===((A=r==null?void 0:r.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:S,table:_,commit_timestamp:N,type:E,errors:A}=w;g=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:N,eventType:E,new:{},old:{},errors:A}),this._getPayloadRecords(w))}b.callback(g,n)})}_isClosed(){return this.state===sr.closed}_isJoined(){return this.state===sr.joined}_isJoining(){return this.state===sr.joining}_isLeaving(){return this.state===sr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&ql.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(na.close,{},t)}_onError(t){this._on(na.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=gE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=gE(t.columns,t.old_record)),r}}const Gv=()=>{},Dh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},L6=[1e3,2e3,5e3,1e4],$6=1e4,B6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class U6{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ex,this.transport=null,this.heartbeatIntervalMs=Dh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gv,this.ref=0,this.reconnectTimer=null,this.vsn=yE,this.logger=Gv,this.conn=null,this.sendBuffer=[],this.serializer=new k6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${tx.websocket}`,this.httpEndpoint=LT(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_6.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case rs.connecting:return ro.Connecting;case rs.open:return ro.Open;case rs.closing:return ro.Closing;default:return ro.Closed}}isConnected(){return this.connectionState()===ro.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new ql(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(A6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Dh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:l}=r,d=l?`(${l})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${i} ${d}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===rs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===rs.open||this.conn.readyState===rs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(na.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([B6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:O6};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(na.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new RT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Dh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,l,d,f,h,p,y,g,b;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ex,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Dh.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:Gv,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:yE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:(w=>L6[w-1]||$6),this.vsn){case E6:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:((w,S)=>S(JSON.stringify(w))),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:((w,S)=>S(JSON.parse(w)));break;case MT:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var td=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function z6(e,t,r){const n=new URL(t,e);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function q6(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function K6(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:l}){const d=z6(e.baseUrl,n,i),f=await q6(e.auth),h=await t(d,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...f,...l},body:s?JSON.stringify(s):void 0}),p=await h.text(),y=(h.headers.get("content-type")||"").includes("application/json"),g=y&&p?JSON.parse(p):p;if(!h.ok){const b=y?g:void 0,w=b==null?void 0:b.error;throw new td((w==null?void 0:w.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:b})}return{status:h.status,headers:h.headers,data:g}}}}function Mh(e){return e.join("")}var F6=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Mh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Mh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Mh(e.namespace)}`}),!0}catch(t){if(t instanceof td&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof td&&r.status===409)return;throw r}}};function Al(e){return e.join("")}var H6=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof td&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof td&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Q6=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=K6({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new F6(this.client,t),this.tableOps=new H6(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},pp=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function yp(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Rh=class extends pp{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$T=class extends pp{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const V6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),G6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},nx=e=>{if(Array.isArray(e))return e.map(r=>nx(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=nx(n)}),t},Y6=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function W6(e,t){if(rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X6(e){var t=W6(e,"string");return rd(t)=="symbol"?t:t+""}function Z6(e,t,r){return(t=X6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(n){Z6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const wE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},J6=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(l=>{const d=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";t(new Rh(wE(l),s,d,n))}).catch(()=>{if(n==="vectors"){const l=s+"";t(new Rh(i.statusText||`HTTP ${s} error`,s,l,n))}else{const l=s+"";t(new Rh(i.statusText||`HTTP ${s} error`,s,l,n))}});else{const l=s+"";t(new Rh(i.statusText||`HTTP ${s} error`,s,l,n))}}else t(new $T(wE(e),e,n))},eU=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Re(Re({},i),r):(G6(n)?(i.headers=Re({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Re(Re({},i),r))};async function Tu(e,t,r,n,i,s,l){return new Promise((d,f)=>{e(r,eU(t,n,i,s)).then(h=>{if(!h.ok)throw h;if(n!=null&&n.noResolveJson)return h;if(l==="vectors"){const p=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!p||!p.includes("application/json"))return{}}return h.json()}).then(h=>d(h)).catch(h=>J6(h,f,n,l))})}function BT(e="storage"){return{get:async(t,r,n,i)=>Tu(t,"GET",r,n,i,void 0,e),post:async(t,r,n,i,s)=>Tu(t,"POST",r,i,s,n,e),put:async(t,r,n,i,s)=>Tu(t,"PUT",r,i,s,n,e),head:async(t,r,n,i)=>Tu(t,"HEAD",r,Re(Re({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,r,n,i,s)=>Tu(t,"DELETE",r,i,s,n,e)}}const tU=BT("storage"),{get:nd,post:ea,put:ax,head:rU,remove:Ow}=tU,xn=BT("vectors");var bc=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=V6(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(yp(r))return{data:null,error:r};throw r}}},nU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yp(t))return{data:null,error:t};throw t}}};let UT;UT=Symbol.toStringTag;var aU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[UT]="BlobDownloadBuilder",this.promise=null}asStream(){return new nU(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yp(t))return{data:null,error:t};throw t}}};const iU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var sU=class extends bc{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var i=this;return i.handleOperation(async()=>{let s;const l=Re(Re({},jE),n);let d=Re(Re({},i.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",i.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),f&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(f))):(s=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=i.toBase64(i.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(d=Re(Re({},d),n.headers));const h=i._removeEmptyFolders(t),p=i._getFinalPath(h),y=await(e=="PUT"?ax:ea)(i.fetch,`${i.url}/object/${p}`,s,Re({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:h,id:y.Id,fullPath:y.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const s=i._removeEmptyFolders(e),l=i._getFinalPath(s),d=new URL(i.url+`/object/upload/sign/${l}`);return d.searchParams.set("token",t),i.handleOperation(async()=>{let f;const h=Re({upsert:jE.upsert},n),p=Re(Re({},i.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{path:s,fullPath:(await ax(i.fetch,d.toString(),f,{headers:p})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const i=Re({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=await ea(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(r.url+s.url),d=l.searchParams.get("token");if(!d)throw new pp("No token returned by API");return{signedUrl:l.toString(),path:e,token:d}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ea(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ea(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),s=await ea(n.fetch,`${n.url}/object/sign/${i}`,Re({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${l}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const i=await ea(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(l=>Re(Re({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${s}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=i?`?${i}`:"",l=this._getFinalPath(e),d=()=>nd(this.fetch,`${this.url}/${n}/${l}${s}`,{headers:this.headers,noResolveJson:!0},r);return new aU(d,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>nx(await nd(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await rU(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yp(n)&&n instanceof $T){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${d}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Ow(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const i=Re(Re(Re({},iU),t),{},{prefix:e||""});return await ea(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Re({},e);return await ea(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const oU="2.95.3",Md={"X-Client-Info":`storage-js/${oU}`};var lU=class extends bc{constructor(e,t={},r,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),l=Re(Re({},Md),t);super(s,l,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await nd(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await nd(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ea(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await ax(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ea(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ow(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},cU=class extends bc{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Re(Re({},Md),t);super(n,i,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ea(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await nd(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ow(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Y6(e))throw new pp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Q6({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const l=i[s];return typeof l!="function"?l:async(...d)=>{try{return{data:await l.apply(i,d),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}}}})}},uU=class extends bc{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Re(Re({},Md),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await xn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await xn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},dU=class extends bc{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Re(Re({},Md),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},fU=class extends bc{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Re(Re({},Md),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},hU=class extends fU{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new mU(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},mU=class extends uU{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new pU(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},pU=class extends dU{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},yU=class extends lU{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new sU(this.url,this.headers,e,this.fetch)}get vectors(){return new hU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new cU(this.url+"/iceberg",this.headers,this.fetch)}};const zT="2.95.3",Bl=30*1e3,ix=3,Yv=ix*Bl,gU="http://localhost:9999",vU="supabase.auth.token",bU={"X-Client-Info":`gotrue-js/${zT}`},sx="X-Supabase-Api-Version",qT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wU=600*1e3;class ad extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jU extends ad{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function SU(e){return Ae(e)&&e.name==="AuthApiError"}class no extends ad{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class bi extends ad{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class bn extends bi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wv(e){return Ae(e)&&e.name==="AuthSessionMissingError"}class Cl extends bi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ih extends bi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Lh extends bi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _U(e){return Ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class SE extends bi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class NU extends bi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ox extends bi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Xv(e){return Ae(e)&&e.name==="AuthRetryableFetchError"}class _E extends bi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class lx extends bi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const mm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),NE=` 	
\r=`.split(""),OU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<NE.length;t+=1)e[NE[t].charCodeAt(0)]=-2;for(let t=0;t<mm.length;t+=1)e[mm[t].charCodeAt(0)]=t;return e})();function OE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(mm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(mm[n]),t.queuedBits-=6}}function KT(e,t,r){const n=OU[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function EE(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=l=>{CU(l,n,r)};for(let l=0;l<e.length;l+=1)KT(e.charCodeAt(l),i,s);return t.join("")}function EU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function AU(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}EU(n,t)}}function CU(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Hl(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)KT(e.charCodeAt(i),r,n);return new Uint8Array(t)}function kU(e){const t=[];return AU(e,r=>t.push(r)),new Uint8Array(t)}function io(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>OE(i,r,n)),OE(null,r,n),t.join("")}function PU(e){return Math.round(Date.now()/1e3)+e}function TU(){return Symbol("auth-callback")}const Ar=()=>typeof window<"u"&&typeof document<"u",Ys={tested:!1,writable:!1},FT=()=>{if(!Ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ys.tested)return Ys.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ys.tested=!0,Ys.writable=!0}catch{Ys.tested=!0,Ys.writable=!1}return Ys.writable};function DU(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const HT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),MU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ul=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ws=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Er=async(e,t)=>{await e.removeItem(t)};class gp{constructor(){this.promise=new gp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}gp.promiseConstructor=Promise;function $h(e){const t=e.split(".");if(t.length!==3)throw new lx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!xU.test(t[n]))throw new lx("JWT not in base64url format");return{header:JSON.parse(EE(t[0])),payload:JSON.parse(EE(t[1])),signature:Hl(t[2]),raw:{header:t[0],payload:t[1]}}}async function RU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function IU(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){i(l);return}}})()})}function LU(e){return("0"+e.toString(16)).substr(-2)}function $U(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,LU).join("")}async function BU(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function UU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await BU(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kl(e,t,r=!1){const n=$U();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ul(e,`${t}-code-verifier`,i);const s=await UU(n);return[s,n===s?"plain":"s256"]}const zU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qU(e){const t=e.headers.get(sx);if(!t||!t.match(zU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function KU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function FU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const HU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pl(e){if(!HU.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zv(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function QU(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function AE(e){return JSON.parse(JSON.stringify(e))}const Zs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VU=[502,503,504];async function CE(e){var t;if(!MU(e))throw new ox(Zs(e),0);if(VU.includes(e.status))throw new ox(Zs(e),e.status);let r;try{r=await e.json()}catch(s){throw new no(Zs(s),s)}let n;const i=qU(e);if(i&&i.getTime()>=qT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _E(Zs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new bn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new _E(Zs(r),e.status,r.weak_password.reasons);throw new jU(Zs(r),e.status||500,n)}const GU=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Me(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[sx]||(s[sx]=qT["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await YU(e,t,r+d,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function YU(e,t,r,n,i,s){const l=GU(t,n,i,s);let d;try{d=await e(r,Object.assign({},l))}catch(f){throw console.error(f),new ox(Zs(f),0)}if(d.ok||await CE(d),n!=null&&n.noResolveJson)return d;try{return await d.json()}catch(f){await CE(f)}}function Jn(e){var t;let r=null;ZU(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=PU(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function kE(e){const t=Jn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function is(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function WU(e){return{data:e,error:null}}function XU(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,l=mp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function PE(e){return e}function ZU(e){return e.access_token&&e.refresh_token&&e.expires_in}const Jv=["global","local","others"];class JU{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=HT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Jv[0]){if(Jv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jv.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:is})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=mp(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:XU,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:is})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:PE});if(p.error)throw p.error;const y=await p.json(),g=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);h[`${_}Page`]=S}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(Ae(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Pl(t);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:is})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Pl(t);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:is})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Pl(t);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:is})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Pl(t.userId);try{const{data:r,error:n}=await Me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Pl(t.userId),Pl(t.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:PE});if(p.error)throw p.error;const y=await p.json(),g=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);h[`${_}Page`]=S}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(Ae(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}function TE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Tl={debug:!!(globalThis&&FT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class QT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ez extends QT{}async function tz(e,t,r){Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ez(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function rz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function VT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function nz(e){return parseInt(e,16)}function az(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function iz(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:l,notBefore:d,requestId:f,resources:h,scheme:p,uri:y,version:g}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=VT(e.address),w=p?`${p}://${n}`:n,S=e.statement?`${e.statement}
`:"",_=`${w} wants you to sign in with your Ethereum account:
${b}

${S}`;let N=`URI: ${y}
Version: ${g}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),f&&(N+=`
Request ID: ${f}`),h){let E=`
Resources:`;for(const A of h){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);E+=`
- ${A}`}N+=E}return`${_}
${N}`}class Jt extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class pm extends Jt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function sz({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(GT(l)){if(s.rp.id!==l)return new Jt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function oz({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(GT(n)){if(r.rpId!==n)return new Jt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class lz{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const cz=new lz;function uz(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=mp(e,["challenge","user","excludeCredentials"]),s=Hl(t).buffer,l=Object.assign(Object.assign({},r),{id:Hl(r.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:s,user:l});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Hl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function dz(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=mp(e,["challenge","allowCredentials"]),i=Hl(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const d=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},d),{id:Hl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function fz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:io(new Uint8Array(e.response.attestationObject)),clientDataJSON:io(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:io(new Uint8Array(i.authenticatorData)),clientDataJSON:io(new Uint8Array(i.clientDataJSON)),signature:io(new Uint8Array(i.signature)),userHandle:i.userHandle?io(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function GT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function DE(){var e,t;return!!(Ar()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function mz(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new pm("Browser returned unexpected credential type",t)}:{data:null,error:new pm("Empty credential response",t)}}catch(t){return{data:null,error:sz({error:t,options:e})}}}async function pz(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new pm("Browser returned unexpected credential type",t)}:{data:null,error:new pm("Empty credential response",t)}}catch(t){return{data:null,error:oz({error:t,options:e})}}}const yz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gz={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ym(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const l=i[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const d=n[s];t(d)?n[s]=ym(d,l):n[s]=ym(l)}else n[s]=l}return n}function vz(e,t){return ym(yz,e,t||{})}function bz(e,t){return ym(gz,e,t||{})}class xz{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){var l;try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!d)return{data:null,error:f};const h=i??cz.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;if(!p.name){const y=n;if(y)p.name=`${p.id}:${y}`;else{const b=(await this.client.getUser()).data.user,w=((l=b==null?void 0:b.user_metadata)===null||l===void 0?void 0:l.name)||(b==null?void 0:b.email)||(b==null?void 0:b.id)||"User";p.name=`${p.id}:${w}`}}p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=vz(d.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:y,error:g}=await mz({publicKey:p,signal:h});return y?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:g}}case"request":{const p=bz(d.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:y,error:g}=await pz(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:h}));return y?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:g}}}}catch(d){return Ae(d)?{data:null,error:d}:{data:null,error:new no("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new ad("rpId is required for WebAuthn authentication")};try{if(!DE())return{data:null,error:new no("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!l)return{data:null,error:d};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new no("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new ad("rpId is required for WebAuthn registration")};try{if(!DE())return{data:null,error:new no("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var y;return(y=p.data)===null||y===void 0?void 0:y.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new no("Unexpected error in register",l)}}}}rz();const wz={url:gU,storageKey:vU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ME(e,t,r){return await r()}const Dl={};class id{get jwks(){var t,r;return(r=(t=Dl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Dl[this.storageKey]=Object.assign(Object.assign({},Dl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Dl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Dl[this.storageKey]=Object.assign(Object.assign({},Dl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},wz),t);if(this.storageKey=s.storageKey,this.instanceID=(r=id.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,id.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ar()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new JU({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=HT(s.fetch),this.lock=s.lock||ME,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Ar()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=tz:this.lock=ME,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xz(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:FT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=TE(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=TE(this.memoryStorage)),Ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zT}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ar()&&(r=DU(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ar()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),_U(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:l,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?this._returnResult({error:r}):this._returnResult({error:new no("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Jn}),{data:l,error:d}=s;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:p,password:y,options:g}=t;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await kl(this.storage,this.storageKey)),s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:p,password:y,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:b,code_challenge_method:w},xform:Jn})}else if("phone"in t){const{phone:p,password:y,options:g}=t;s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Jn})}else throw new Ih("You must provide either an email or phone number and a password");const{data:l,error:d}=s;if(d||!l)return await Er(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(await Er(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:d}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:kE})}else if("phone"in t){const{phone:s,password:l,options:d}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:kE})}else throw new Ih("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Cl;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,l,d,f,h,p,y,g;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:S,wallet:_,statement:N,options:E}=t;let A;if(Ar())if(typeof _=="object")A=_;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")A=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const C=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href),T=await A.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=VT(T[0]);let M=(n=E==null?void 0:E.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!M){const F=await A.request({method:"eth_chainId"});M=nz(F)}const I={domain:C.host,address:P,statement:N,uri:C.href,version:"1",chainId:M,nonce:(i=E==null?void 0:E.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(s=E==null?void 0:E.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=E==null?void 0:E.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=E==null?void 0:E.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=E==null?void 0:E.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=E==null?void 0:E.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=iz(I),w=await A.request({method:"personal_sign",params:[az(b),P]})}try{const{data:S,error:_}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Jn});if(_)throw _;if(!S||!S.session||!S.user){const N=new Cl;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(Ae(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var r,n,i,s,l,d,f,h,p,y,g,b;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:_,wallet:N,statement:E,options:A}=t;let C;if(Ar())if(typeof N=="object")C=N;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const T=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),E?{statement:E}:null));let M;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")M=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)M=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)w=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),S=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${T.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(n=A==null?void 0:A.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A==null?void 0:A.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((y=(p=A==null?void 0:A.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...A.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(w),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=P}}try{const{data:_,error:N}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:io(S)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Jn});if(N)throw N;if(!_||!_.session||!_.user){const E=new Cl;return this._returnResult({data:{user:null,session:null},error:E})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:N})}catch(_){if(Ae(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await Ws(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new NU;const{data:s,error:l}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Jn});if(await Er(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const d=new Cl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:l})}catch(s){if(await Er(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:l}=t,d=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Jn}),{data:f,error:h}=d;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const p=new Cl;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,l;try{if("email"in t){const{email:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await kl(this.storage,this.storageKey));const{error:y}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:p}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new Ih("You must provide either an email or phone number.")}catch(d){if(await Er(this.storage,`${this.storageKey}-code-verifier`),Ae(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:d}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Jn});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(i){if(Ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,s,l;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await kl(this.storage,this.storageKey));const h=await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:WU});return!((s=h.data)===null||s===void 0)&&s.url&&Ar()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(d){if(await Er(this.storage,`${this.storageKey}-code-verifier`),Ae(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new bn;const{error:i}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:l}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:l,error:d}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d})}throw new Ih("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Yv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await Ws(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Zv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=QU(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:is}):await this._useSession(async r=>{var n,i,s;const{data:l,error:d}=r;if(d)throw d;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bn}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:is})})}catch(r){if(Ae(r))return Wv(r)&&(await this._removeSession(),await Er(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new bn;const l=i.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await kl(this.storage,this.storageKey));const{data:h,error:p}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:is});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Er(this.storage,`${this.storageKey}-code-verifier`),Ae(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bn;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:l}=$h(t.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};s=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});s={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:d}=r;if(d)throw d;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new bn;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ar())throw new Lh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Lh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new SE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new SE("No code detected.");const{data:E,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:l,expires_in:d,expires_at:f,token_type:h}=t;if(!s||!d||!l||!h)throw new Lh("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(d);let g=p+y;f&&(g=parseInt(f));const b=g-p;b*1e3<=Bl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const w=g-y;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,p);const{data:S,error:_}=await this._getUser(s);if(_)throw _;const N={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:y,expires_at:g,refresh_token:l,token_type:h,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(n){if(Ae(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ws(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s&&!Wv(s))return this._returnResult({error:s});const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(SU(d)&&(d.status===404||d.status===401||d.status===403)||Wv(d)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Er(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=TU(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await kl(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Er(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var l,d,f,h,p;const{data:y,error:g}=s;if(g)throw g;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(h=y.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Ar()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ae(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:l,provider:d,token:f,access_token:h,nonce:p}=t,y=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:f,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Jn}),{data:g,error:b}=y;return b?this._returnResult({data:{user:null,session:null},error:b}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Cl}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:b}))}catch(i){if(await Er(this.storage,`${this.storageKey}-code-verifier`),Ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:l}=r;if(l)throw l;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await IU(async i=>(i>0&&await RU(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jn})),(i,s)=>{const l=200*Math.pow(2,i);return s&&Xv(s)&&Date.now()+l-n<Bl})}catch(n){if(this._debug(r,"error",n),Ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ar()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ws(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Ws(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Ul(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Zv()}else if(i&&!i.user&&!i.user){const l=await Ws(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Er(this.storage,this.storageKey+"-user"),await Ul(this.storage,this.storageKey,i)):i.user=Zv()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Yv;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Yv}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Xv(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(i.access_token);!d&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new gp;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new bn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const d={data:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(i,"error",s),Ae(s)){const l={data:null,error:s};return Xv(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(l),s.length>0){for(let d=0;d<s.length;d+=1)console.error(s[d]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Er(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ul(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=AE(i);await Ul(this.storage,this.storageKey,s)}else{const i=AE(r);await Ul(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Er(this.storage,this.storageKey),await Er(this.storage,this.storageKey+"-code-verifier"),await Er(this.storage,this.storageKey+"-user"),this.userStorage&&await Er(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Bl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Bl}ms, refresh threshold is ${ix} ticks`),i<=ix&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof QT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await kl(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(d.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?fz(t.webauthn.credential_response):hz(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:uz(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:dz(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,i,s;if(t)try{const{payload:b}=$h(t);let w=null;b.aal&&(w=b.aal);let S=w;const{data:{user:_},error:N}=await this.getUser(t);if(N)return this._returnResult({data:null,error:N});((n=(r=_==null?void 0:_.factors)===null||r===void 0?void 0:r.filter(C=>C.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(S="aal2");const A=b.amr||[];return{data:{currentLevel:w,nextLevel:S,currentAuthenticationMethods:A},error:null}}catch(b){if(Ae(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:l},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=$h(l.access_token);let h=null;f.aal&&(h=f.aal);let p=h;((s=(i=l.user.factors)===null||i===void 0?void 0:i.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const g=f.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Me(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new bn})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new bn});const l=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&Ar()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new bn});const l=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&Ar()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new bn})})}catch(t){if(Ae(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new bn})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(d=>d.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+wU>i)return n;const{data:s,error:l}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:b,error:w}=await this.getSession();if(w||!b.session)return this._returnResult({data:null,error:w});n=b.session.access_token}const{header:i,payload:s,signature:l,raw:{header:d,payload:f}}=$h(n);r!=null&&r.allowExpired||KU(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:s,header:i,signature:l},error:null}}const p=FU(i.alg),y=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,l,kU(`${d}.${f}`)))throw new lx("Invalid JWT signature");return{data:{claims:s,header:i,signature:l},error:null}}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}}id.nextInstanceID={};const jz=id,Sz="2.95.3";let Fu="";typeof Deno<"u"?Fu="deno":typeof document<"u"?Fu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fu="react-native":Fu="node";const _z={"X-Client-Info":`supabase-js-${Fu}/${Sz}`},Nz={headers:_z},Oz={schema:"public"},Ez={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Az={};function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function Cz(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kz(e){var t=Cz(e,"string");return sd(t)=="symbol"?t:t+""}function Pz(e,t,r){return(t=kz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(r),!0).forEach(function(n){Pz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Tz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Dz=()=>Headers,Mz=(e,t,r)=>{const n=Tz(r),i=Dz();return async(s,l)=>{var d;const f=(d=await t())!==null&&d!==void 0?d:e;let h=new i(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(s,zt(zt({},l),{},{headers:h}))}};function Rz(e){return e.endsWith("/")?e:e+"/"}function Iz(e,t){var r,n;const{db:i,auth:s,realtime:l,global:d}=e,{db:f,auth:h,realtime:p,global:y}=t,g={db:zt(zt({},f),i),auth:zt(zt({},h),s),realtime:zt(zt({},p),l),storage:{},global:zt(zt(zt({},y),d),{},{headers:zt(zt({},(r=y==null?void 0:y.headers)!==null&&r!==void 0?r:{}),(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function Lz(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Rz(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var $z=class extends jz{constructor(e){super(e)}},Bz=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const s=Lz(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,d={db:Oz,realtime:Az,auth:zt(zt({},Ez),{},{storageKey:l}),global:Nz},f=Iz(r??{},d);if(this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=Mz(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(zt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new S6(new URL("rest/v1",s).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new yU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new p6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:l,lock:d,debug:f,throwOnError:h},p,y){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $z({url:this.authUrl.href,headers:zt(zt({},g),p),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:l,lock:d,debug:f,throwOnError:h,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new U6(this.realtimeUrl.href,zt(zt({},e),{},{params:zt(zt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Uz=(e,t,r)=>new Bz(e,t,r);function zz(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}zz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qz="https://ozjddzasadgffjjeqntc.supabase.co",Kz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96amRkemFzYWRnZmZqamVxbnRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTMwMzEsImV4cCI6MjA4NTk2OTAzMX0._1fbWup_bHYe0PN5QUcptRMuwZRAEFwQOPEPd7Lk3NY",ve=Uz(qz,Kz);function YT(e){return`${e.replace(/[^0-9]/g,"")}@bdhatbela.local`}const Fz={company:{name:"BD Hatbela",logo:"",phone:"",email:"",address:""},order:{prefix:"BDH-",nextNumber:1},invoice:{title:"Tax Invoice",logoWidth:60,logoHeight:60,footer:"Thank you for shopping with BD Hatbela!"},defaults:{accountId:"",paymentMethod:"Cash",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:20},categories:[],paymentMethods:[],courier:{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}},WT=e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null},Hz=WT("currentUser"),Qz=WT("settings"),xe={users:[],customers:[],vendors:[],products:[],orders:[],bills:[],accounts:[],transactions:[],currentUser:Hz??null,settings:Qz??Fz},Du=()=>{try{localStorage.setItem("currentUser",JSON.stringify(xe.currentUser)),localStorage.setItem("settings",JSON.stringify(xe.settings))}catch(e){console.warn("[DB] localStorage write failed:",e)}},XT=j.createContext(void 0),Vz=({children:e})=>{const[t,r]=j.useState(null),[n,i]=j.useState(null),[s,l]=j.useState(!0);console.log("[AuthProvider] Mounting - initializing context provider");const d=async(p,y)=>{if(!p&&!y)return console.warn("[Auth] No userId or email provided to fetchProfile"),null;try{let g;if(p)console.log("[Auth] Fetching profile for userId:",p),g=ve.from("users").select("*").eq("id",p).single();else{const S=y.split("@")[0].replace(/[^0-9]/g,"");console.log("[Auth] Fetching profile for phone:",S),g=ve.from("users").select("*").eq("phone",S).single()}const{data:b,error:w}=await Promise.race([g,new Promise(S=>setTimeout(()=>S({data:null,error:new Error("timeout")}),3e3))]);return w?(console.error("[Auth] Profile fetch error:",w.message),null):(console.log("[Auth] Profile fetched successfully"),b)}catch(g){return console.error("[Auth] Profile fetch exception:",g),null}};j.useEffect(()=>{var w,S;let p=!0,y=null;return(async()=>{var _;try{console.log("[Auth] Initializing - trying to restore session...");const{data:N}=await Promise.race([ve.auth.getSession(),new Promise(E=>setTimeout(()=>E({data:null}),3e3))]);if((_=N==null?void 0:N.session)!=null&&_.user&&p){console.log("[Auth] Session restored from storage:",N.session.user.email),r(N.session.user);const E=await d(N.session.user.id,N.session.user.email||void 0);E&&p?(console.log("[Auth] Session profile loaded"),i(E),xe.currentUser=E,Du(),localStorage.setItem("isLoggedIn","true")):p&&console.warn("[Auth] Session exists but profile not found, proceeding without it")}p&&l(!1)}catch(N){console.error("[Auth] Init error (non-fatal, waiting for onAuthStateChange):",N),p&&l(!1)}})(),y=((S=(w=ve.auth.onAuthStateChange(async(_,N)=>{console.log("[Auth] onAuthStateChange fired, event:",_,"has session:",!!(N!=null&&N.user));try{if(N!=null&&N.user){console.log("[Auth] User authenticated:",N.user.email,"userId:",N.user.id),r(N.user);let E=await d(N.user.id,N.user.email||void 0);E||(console.log("[Auth] First profile fetch failed, retrying after 1 second..."),await new Promise(A=>setTimeout(A,1e3)),E=await d(N.user.id,N.user.email||void 0)),E&&p?(console.log("[Auth] Profile loaded successfully, updating state"),i(E),xe.currentUser=E,Du(),localStorage.setItem("isLoggedIn","true"),window.dispatchEvent(new Event("authChange"))):p&&(console.warn("[Auth] Profile not found after retries"),i(null),localStorage.setItem("isLoggedIn","true"),window.dispatchEvent(new Event("authChange"))),p&&l(!1)}else console.log("[Auth] No session - user logged out or never logged in"),p&&(r(null),i(null),xe.currentUser=null,Du(),localStorage.removeItem("isLoggedIn"),window.dispatchEvent(new Event("authChange")),l(!1))}catch(E){console.error("[Auth] onAuthStateChange error:",E),p&&(r(null),i(null),l(!1))}}).data)==null?void 0:w.subscription)==null?void 0:S.unsubscribe)||(()=>{}),()=>{if(console.log("[Auth] Cleanup function called"),p=!1,y)try{y()}catch(_){console.error("[Auth] Error unsubscribing:",_)}}},[]);const f=async(p,y)=>{var b,w;let g=p;p.includes("@")||(g=YT(p)),console.log("[Auth] signIn called with email:",g);try{const S=await ve.auth.signInWithPassword({email:g,password:y});if(console.log("[Auth] signInWithPassword response:",S.error?"Error":"Success"),S.error)return(b=S.error.message)!=null&&b.includes("Email not confirmed")||S.error.status===422?(console.error("[Auth] Login blocked - Email confirmation required. Admin must disable email confirmation in Supabase:",S.error),S.error.message='Email confirmation required. Please have administrator disable email confirmation in Supabase dashboard under Authentication > Providers > Email, then toggle off "Confirm email"'):console.error("[Auth] signIn error:",S.error),S;if((w=S.data)!=null&&w.user){console.log("[Auth] signIn successful, updating state immediately for user:",S.data.user.email),r(S.data.user);const _=await d(S.data.user.id,S.data.user.email||void 0);_?(console.log("[Auth] Profile loaded after signIn"),i(_),xe.currentUser=_,Du()):(console.warn("[Auth] Profile not found after signIn, but proceeding with authenticated user"),i(null)),localStorage.setItem("isLoggedIn","true"),l(!1),window.dispatchEvent(new Event("authChange"))}return S}catch(S){return console.error("[Auth] signIn exception:",S),{error:S}}},h=async()=>{console.log("[Auth] signOut called");try{await ve.auth.signOut(),r(null),i(null),xe.currentUser=null,Du(),localStorage.removeItem("isLoggedIn"),window.dispatchEvent(new Event("authChange")),console.log("[Auth] signOut completed successfully")}catch(p){console.error("[Auth] signOut error:",p)}};return console.log("[AuthProvider] Rendering with context value:",{user:!!t,profile:!!n,isLoading:s}),u.jsx(XT.Provider,{value:{user:t,profile:n,isLoading:s,signIn:f,signOut:h},children:e})};function vp(){console.log("[useAuth] Called, checking context...");const e=j.useContext(XT);if(console.log("[useAuth] Context value:",e?"exists":"undefined"),!e)throw console.error("[useAuth] ERROR: Context not available! This hook must be used within <AuthProvider>",{contextName:"AuthContext",componentStack:new Error().stack}),new Error("useAuth must be used within AuthProvider");return e}const ZT=j.createContext(void 0),Gz=({children:e})=>{const[t,r]=j.useState([]),n=j.useCallback((l,d,f=3500)=>{const h=`toast-${Date.now()}-${Math.random()}`,p={id:h,message:l,type:d,duration:f};return r(y=>[...y,p]),f>0&&setTimeout(()=>{i(h)},f),h},[]),i=j.useCallback(l=>{r(d=>d.filter(f=>f.id!==l))},[]),s=j.useCallback((l,d,f,h=3500)=>{r(p=>{const y=p.map(g=>g.id===l?{...g,message:d,type:f,duration:h}:g);return h>0&&setTimeout(()=>{i(l)},h),y})},[i]);return u.jsx(ZT.Provider,{value:{toasts:t,showToast:n,dismissToast:i,updateToast:s},children:e})},JT=()=>{const e=j.useContext(ZT);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Pr=()=>{const{showToast:e,updateToast:t}=JT();return{success:r=>e(r,"success",3500),error:r=>e(r,"error",4500),warning:r=>e(r,"warning",3500),info:r=>e(r,"info",3500),loading:r=>e(r,"info",0),update:(r,n,i="success")=>t(r,n,i,3500)}};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=e=>{const t=Wz(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:l,...d},f)=>j.createElement("svg",{ref:f,...Xz,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:eD("lucide",i),...!s&&!Zz(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>j.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=(e,t)=>{const r=j.forwardRef(({className:n,...i},s)=>j.createElement(Jz,{ref:s,iconNode:t,className:eD(`lucide-${Yz(IE(e))}`,`lucide-${e}`,n),...i}));return r.displayName=IE(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],tq=Ct("arrow-right-left",eq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],LE=Ct("briefcase",rq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],aq=Ct("chart-column",nq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sq=Ct("check",iq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lq=Ct("chevron-right",oq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uq=Ct("circle-alert",cq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],fq=Ct("circle-plus",dq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],mq=Ct("copy",hq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],yq=Ct("credit-card",pq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],vq=Ct("download",gq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],xq=Ct("ellipsis-vertical",bq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],jq=Ct("info",wq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],_q=Ct("layout-dashboard",Sq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Oq=Ct("log-out",Nq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"M5 12h14",key:"1ays0h"}]],Aq=Ct("minus",Eq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],kq=Ct("package",Cq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Tq=Ct("plus",Pq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Mq=Ct("printer",Dq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Iq=Ct("search",Rq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$q=Ct("settings",Lq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Uq=Ct("shopping-cart",Bq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],qq=Ct("square-pen",zq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fq=Ct("trash-2",Kq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Qq=Ct("truck",Hq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$E=Ct("users",Vq),ae={Dashboard:u.jsx(_q,{size:20}),Sales:u.jsx(Uq,{size:20}),Products:u.jsx(kq,{size:20}),Customers:u.jsx($E,{size:20}),Vendors:u.jsx(LE,{size:20}),Users:u.jsx($E,{size:20}),Briefcase:u.jsx(LE,{size:20}),Banking:u.jsx(yq,{size:20}),Reports:u.jsx(aq,{size:20}),Settings:u.jsx($q,{size:20}),Courier:u.jsx(Qq,{size:20}),Plus:u.jsx(Tq,{size:20}),Minus:u.jsx(Aq,{size:20}),PlusCircle:u.jsx(fq,{size:20}),LogOut:u.jsx(Oq,{size:20}),ChevronRight:u.jsx(lq,{size:20}),Search:u.jsx(Iq,{size:18}),More:u.jsx(xq,{size:18}),Print:u.jsx(Mq,{size:18}),Download:u.jsx(vq,{size:18}),Duplicate:u.jsx(mq,{size:18}),Edit:u.jsx(qq,{size:18}),Delete:u.jsx(Fq,{size:18}),Transfer:u.jsx(tq,{size:18}),Check:u.jsx(sq,{size:20}),AlertCircle:u.jsx(uq,{size:20}),Info:u.jsx(jq,{size:20})},we=e=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0,maximumFractionDigits:0}).format(e).replace("BDT",""),bp=e=>({ON_HOLD:"bg-gray-100 text-gray-600",PROCESSING:"bg-blue-100 text-blue-600",PICKED:"bg-purple-100 text-purple-600",COMPLETED:"bg-green-100 text-green-600",CANCELLED:"bg-red-100 text-red-600",RECEIVED:"bg-green-100 text-green-600","On Hold":"bg-gray-100 text-gray-600",Processing:"bg-blue-100 text-blue-600",Picked:"bg-purple-100 text-purple-600",Completed:"bg-green-100 text-green-600",Cancelled:"bg-red-100 text-red-600",Received:"bg-green-100 text-green-600"})[e]||"bg-gray-100 text-gray-600";var Ht=(e=>(e.ADMIN="Admin",e.EMPLOYEE="Employee",e))(Ht||{}),Ge=(e=>(e.ON_HOLD="On Hold",e.PROCESSING="Processing",e.PICKED="Picked",e.COMPLETED="Completed",e.CANCELLED="Cancelled",e))(Ge||{}),nn=(e=>(e.ON_HOLD="On Hold",e.PROCESSING="Processing",e.RECEIVED="Received",e.PAID="Paid",e))(nn||{});const ie={colors:{primary:{50:"bg-[#ebf4ff]",500:"bg-[#3c5a82]",600:"bg-[#0f2f57]",700:"bg-[#0c203b]",text:"text-[#0f2f57]"},secondary:{600:"bg-blue-600",700:"bg-blue-700"},danger:{50:"bg-red-50",600:"bg-red-600",700:"bg-red-700",text:"text-red-600"},bg:{primary:"bg-white",secondary:"bg-gray-50",tertiary:"bg-gray-100"},text:{primary:"text-gray-900",secondary:"text-gray-500",tertiary:"text-gray-400"},border:{primary:"border-gray-100"}},radius:{sm:"rounded-lg",md:"rounded-xl"},transitions:{normal:"transition-all duration-300"},buttons:{base:"inline-flex items-center justify-center gap-2 font-bold rounded-xl transition-all duration-300 cursor-pointer",secondary:"bg-gray-100 text-gray-600 hover:bg-gray-200",outline:"border-2 border-gray-200 text-gray-700 hover:bg-gray-50",sizes:{sm:"px-3 py-2 text-xs",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3.5 text-sm"}},inputs:{base:"w-full px-4 py-2.5 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] focus:border-transparent transition-all",label:"block text-sm font-semibold text-gray-700 mb-2",error:"border-red-500 focus:ring-red-500"},table:{header:"bg-gray-50 border-b border-gray-100"},card:{base:"bg-white rounded-2xl shadow-sm border border-gray-100 transition-all",elevated:"bg-white rounded-2xl shadow-md border border-gray-100"}},xc="https://ozjddzasadgffjjeqntc.supabase.co",wc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96amRkemFzYWRnZmZqamVxbnRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTMwMzEsImV4cCI6MjA4NTk2OTAzMX0._1fbWup_bHYe0PN5QUcptRMuwZRAEFwQOPEPd7Lk3NY";async function on(){try{const{data:e,error:t}=await ve.auth.getSession();if(t||!(e!=null&&e.session))throw new Error("No authenticated session available. Please log in.");return await ve.auth.refreshSession(),e.session}catch(e){throw console.error("[supabaseQueries] ensureAuthenticated failed:",e.message),e}}async function xi(e,t=1e4){try{const r=await Promise.race([e,new Promise(s=>{setTimeout(()=>s({data:null,error:{message:"Query timeout"}}),t)})]),{data:n,error:i}=r;return i?(console.error("[supabaseQueries] Query error:",i.message),[]):n||(console.warn("[supabaseQueries] Query returned no data"),[])}catch(r){return console.error("[supabaseQueries] Query exception:",r.message),[]}}async function tD(){return console.log("[supabaseQueries] fetchCustomers called"),(await xi(ve.from("customers").select("*").order("created_at",{ascending:!1}))).map(xp)}async function Gq(e){const{data:t,error:r}=await ve.from("customers").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchCustomerById error:",r),null):xp(t)}async function Yq(e){await on();const t=crypto.randomUUID(),{data:r,error:n}=await ve.from("customers").insert([{id:t,name:e.name,phone:e.phone,address:e.address,total_orders:e.totalOrders||0,due_amount:e.dueAmount||0}]).select().single();if(n)throw console.error("[supabaseQueries] createCustomer error:",n),n;return xp(r)}async function Wq(e,t){await on();const{data:r,error:n}=await ve.from("customers").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.address&&{address:t.address},...t.totalOrders!==void 0&&{total_orders:t.totalOrders},...t.dueAmount!==void 0&&{due_amount:t.dueAmount}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateCustomer error:",n),n;return xp(r)}async function Xq(e){const{error:t}=await ve.from("customers").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteCustomer error:",t),t}function xp(e){return{id:e.id,name:e.name,phone:e.phone,address:e.address,totalOrders:e.total_orders??e.totalOrders??0,dueAmount:e.due_amount??e.dueAmount??0}}async function Zq(){return(await xi(ve.from("orders").select("*").order("order_date",{ascending:!1}))).map(Rd)}async function Jq(e){const{data:t,error:r}=await ve.from("orders").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchOrderById error:",r),null):Rd(t)}async function e8(e){return(await xi(ve.from("orders").select("*").eq("customer_id",e).order("order_date",{ascending:!1}))).map(Rd)}async function t8(e){await on();const t=crypto.randomUUID(),{data:r,error:n}=await ve.from("orders").insert([{id:t,order_number:e.orderNumber,order_date:e.orderDate,customer_id:e.customerId,created_by:e.createdBy,status:e.status,items:e.items,subtotal:e.subtotal,discount:e.discount,shipping:e.shipping,total:e.total,paid_amount:e.paidAmount,history:e.history}]).select().single();if(n)throw console.error("[supabaseQueries] createOrder error:",n),n;return Rd(r)}async function r8(e,t){await on();const{data:r,error:n}=await ve.from("orders").update({...t.customerId&&{customer_id:t.customerId},...t.orderDate&&{order_date:t.orderDate},...t.orderNumber&&{order_number:t.orderNumber},...t.notes!==void 0&&{notes:t.notes},...t.status&&{status:t.status},...t.items&&{items:t.items},...t.subtotal!==void 0&&{subtotal:t.subtotal},...t.discount!==void 0&&{discount:t.discount},...t.shipping!==void 0&&{shipping:t.shipping},...t.total!==void 0&&{total:t.total},...t.paidAmount!==void 0&&{paid_amount:t.paidAmount},...t.history&&{history:t.history}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateOrder error:",n),n;return Rd(r)}async function n8(e){const{error:t}=await ve.from("orders").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteOrder error:",t),t}function Rd(e){return{id:e.id,orderNumber:e.order_number??e.orderNumber,orderDate:e.order_date??e.orderDate,customerId:e.customer_id??e.customerId,createdBy:e.created_by??e.createdBy,status:e.status,items:e.items??[],subtotal:e.subtotal??0,discount:e.discount??0,shipping:e.shipping??0,total:e.total??0,notes:e.notes,history:e.history??{},paidAmount:e.paid_amount??e.paidAmount??0}}async function a8(){return(await xi(ve.from("accounts").select("*").order("created_at",{ascending:!1}))).map(Ew)}async function i8(e){const t=crypto.randomUUID(),{data:r,error:n}=await ve.from("accounts").insert([{id:t,name:e.name,type:e.type,opening_balance:e.openingBalance,current_balance:e.currentBalance}]).select().single();if(n)throw console.error("[supabaseQueries] createAccount error:",n),n;return Ew(r)}async function s8(e,t){const{data:r,error:n}=await ve.from("accounts").update({...t.name&&{name:t.name},...t.type&&{type:t.type},...t.currentBalance!==void 0&&{current_balance:t.currentBalance}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateAccount error:",n),n;return Ew(r)}async function o8(e){const{error:t}=await ve.from("accounts").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteAccount error:",t),t}function Ew(e){return{id:e.id,name:e.name,type:e.type,openingBalance:e.opening_balance??e.openingBalance,currentBalance:e.current_balance??e.currentBalance}}async function l8(){return(await xi(ve.from("transactions").select("*").order("date",{ascending:!1}))).map(d8)}async function c8(e){await on();const t=crypto.randomUUID(),r={id:t,date:e.date,type:e.type,category:e.category,account_id:e.accountId,amount:e.amount,description:e.description,payment_method:e.paymentMethod,created_by:e.createdBy};e.toAccountId&&(r.to_account_id=e.toAccountId),e.referenceId&&(r.reference_id=e.referenceId),e.contactId&&(r.contact_id=e.contactId),e.attachmentName&&(r.attachment_name=e.attachmentName),e.attachmentUrl&&(r.attachment_url=e.attachmentUrl);const{error:n}=await ve.from("transactions").insert([r]);if(n)throw console.error("[supabaseQueries] createTransaction error:",n),n;return{id:t,date:e.date,type:e.type,category:e.category,accountId:e.accountId,toAccountId:e.toAccountId,amount:e.amount,description:e.description,referenceId:e.referenceId,contactId:e.contactId,paymentMethod:e.paymentMethod,attachmentName:e.attachmentName,attachmentUrl:e.attachmentUrl,createdBy:e.createdBy}}async function u8(e){if(e.startsWith("temp-")){const r=new Error("Cannot delete unsaved transactions. Please refresh and try again.");throw console.error("[supabaseQueries] deleteTransaction error:",r),r}const{error:t}=await ve.from("transactions").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteTransaction error:",t),t}function d8(e){return{id:e.id,date:e.date,type:e.type,category:e.category,accountId:e.account_id??e.accountId,toAccountId:e.to_account_id??e.toAccountId,amount:e.amount,description:e.description,referenceId:e.reference_id??e.referenceId,contactId:e.contact_id??e.contactId,paymentMethod:e.payment_method??e.paymentMethod,attachmentName:e.attachment_name??e.attachmentName,attachmentUrl:e.attachment_url??e.attachmentUrl,createdBy:e.created_by??e.createdBy}}async function f8(){return(await xi(ve.from("users").select("*").order("created_at",{ascending:!1}))).map(wp)}async function h8(e){const{data:t,error:r}=await ve.from("users").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchUserById error:",r),null):wp(t)}async function m8(e){var t,r,n;try{const i=YT(e.phone),s=e.password;if(!s)throw new Error("Password is required to create a user");console.log("[supabaseQueries] Creating auth user with email:",i);const{data:l,error:d}=await ve.auth.signUp({email:i,password:s,options:{data:{name:e.name,phone:e.phone}}});if(d)throw console.error("[supabaseQueries] Auth signup error:",d),d;const f=(t=l==null?void 0:l.user)==null?void 0:t.id;if(console.log("[supabaseQueries] Auth user created:",f,"Confirmed:",(n=(r=l==null?void 0:l.user)==null?void 0:r.user_metadata)==null?void 0:n.email_confirmed),!f)throw new Error("Failed to create auth user - no user ID returned. If email confirmation is enabled in Supabase Auth settings, please disable it.");console.log("[supabaseQueries] Creating user profile in public schema...");const{data:h,error:p}=await ve.from("users").insert([{id:f,name:e.name,phone:e.phone,role:e.role,image:e.image}]).select().single();if(p)throw console.error("[supabaseQueries] Create profile error:",p),p;return console.log("[supabaseQueries] User created successfully - can now sign in"),wp(h)}catch(i){throw console.error("[supabaseQueries] createUser error:",i),i}}async function p8(e,t){const{data:r,error:n}=await ve.from("users").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.role&&{role:t.role},...t.image&&{image:t.image}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateUser error:",n),n;return wp(r)}async function y8(e){const{error:t}=await ve.from("users").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteUser error:",t),t}function wp(e){return{id:e.id,name:e.name,phone:e.phone,role:e.role,image:e.image,createdAt:e.created_at}}async function g8(){return(await xi(ve.from("bills").select("*").order("bill_date",{ascending:!1}))).map(jp)}async function v8(e){const{data:t,error:r}=await ve.from("bills").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchBillById error:",r),null):jp(t)}async function b8(e){await on();const t=crypto.randomUUID(),{data:r,error:n}=await ve.from("bills").insert([{id:t,bill_number:e.billNumber,bill_date:e.billDate,vendor_id:e.vendorId,created_by:e.createdBy,status:e.status,items:e.items,subtotal:e.subtotal,discount:e.discount,shipping:e.shipping,total:e.total,paid_amount:e.paidAmount,history:e.history||{}}]).select().single();if(n)throw console.error("[supabaseQueries] createBill error:",n),n;return jp(r)}async function x8(e,t){await on();const{data:r,error:n}=await ve.from("bills").update({...t.vendorId&&{vendor_id:t.vendorId},...t.billDate&&{bill_date:t.billDate},...t.billNumber&&{bill_number:t.billNumber},...t.notes!==void 0&&{notes:t.notes},...t.status&&{status:t.status},...t.items&&{items:t.items},...t.subtotal!==void 0&&{subtotal:t.subtotal},...t.discount!==void 0&&{discount:t.discount},...t.shipping!==void 0&&{shipping:t.shipping},...t.total!==void 0&&{total:t.total},...t.paidAmount!==void 0&&{paid_amount:t.paidAmount},...t.history&&{history:t.history}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateBill error:",n),n;return jp(r)}async function w8(e){const{error:t}=await ve.from("bills").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteBill error:",t),t}function jp(e){return{id:e.id,billNumber:e.bill_number??e.billNumber,billDate:e.bill_date??e.billDate,vendorId:e.vendor_id??e.vendorId,createdBy:e.created_by??e.createdBy,status:e.status,items:e.items??[],subtotal:e.subtotal??0,discount:e.discount??0,shipping:e.shipping??0,total:e.total??0,notes:e.notes,paidAmount:e.paid_amount??e.paidAmount??0,history:e.history}}async function j8(){return(await xi(ve.from("vendors").select("*").order("created_at",{ascending:!1}))).map(Sp)}async function S8(e){const{data:t,error:r}=await ve.from("vendors").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchVendorById error:",r),null):Sp(t)}async function _8(e){await on();const t=crypto.randomUUID(),{data:r,error:n}=await ve.from("vendors").insert([{id:t,name:e.name,phone:e.phone,address:e.address,total_purchases:e.totalPurchases||0,due_amount:e.dueAmount||0}]).select().single();if(n)throw console.error("[supabaseQueries] createVendor error:",n),n;return Sp(r)}async function N8(e,t){await on();const{data:r,error:n}=await ve.from("vendors").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.address&&{address:t.address},...t.totalPurchases!==void 0&&{total_purchases:t.totalPurchases},...t.dueAmount!==void 0&&{due_amount:t.dueAmount}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateVendor error:",n),n;return Sp(r)}async function O8(e){const{error:t}=await ve.from("vendors").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteVendor error:",t),t}function Sp(e){return{id:e.id,name:e.name,phone:e.phone,address:e.address,totalPurchases:e.total_purchases??e.totalPurchases??0,dueAmount:e.due_amount??e.dueAmount??0}}async function E8(){return(await xi(ve.from("products").select("*").order("created_at",{ascending:!1}))).map(_p)}async function A8(e){const{data:t,error:r}=await ve.from("products").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchProductById error:",r),null):_p(t)}async function C8(e){await on();const t=crypto.randomUUID(),{data:r,error:n}=await ve.from("products").insert([{id:t,name:e.name,image:e.image,category:e.category,sale_price:e.salePrice,purchase_price:e.purchasePrice}]).select().single();if(n)throw console.error("[supabaseQueries] createProduct error:",n),n;return _p(r)}async function k8(e,t){const{data:r,error:n}=await ve.from("products").update({...t.name&&{name:t.name},...t.image&&{image:t.image},...t.category&&{category:t.category},...t.salePrice!==void 0&&{sale_price:t.salePrice},...t.purchasePrice!==void 0&&{purchase_price:t.purchasePrice}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateProduct error:",n),n;return _p(r)}async function P8(e){const{error:t}=await ve.from("products").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteProduct error:",t),t}function _p(e){return{id:e.id,name:e.name,image:e.image,category:e.category,salePrice:e.sale_price??e.salePrice??0,purchasePrice:e.purchase_price??e.purchasePrice??0}}async function T8(e){console.log("[supabaseQueries] fetchCategories called",e?"for type: "+e:"");try{let t=ve.from("categories").select("*").order("name",{ascending:!0});e&&(t=t.eq("type",e));const{data:r,error:n}=await t;if(n)throw console.error("[supabaseQueries] fetchCategories error:",n),new Error(`[${n.code}] ${n.message}`);return r?r.map(rD):[]}catch(t){throw console.error("[supabaseQueries] fetchCategories exception:",t),t}}async function D8(e){await on();const t=crypto.randomUUID(),{data:r,error:n}=await ve.from("categories").insert([{id:t,name:e.name,type:e.type,color:e.color||"#3B82F6",parent_id:e.parentId||null}]).select().single();if(n)throw console.error("[supabaseQueries] createCategory error:",n),n;return rD(r)}async function M8(e){const{error:t}=await ve.from("categories").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteCategory error:",t),t}function rD(e){return{id:e.id,name:e.name,type:e.type,color:e.color,parentId:e.parent_id,createdAt:e.created_at,updatedAt:e.updated_at}}async function R8(e=!0){console.log("[supabaseQueries] fetchPaymentMethods called");try{let t=ve.from("payment_methods").select("*").order("name",{ascending:!0});e&&(t=t.eq("is_active",!0));const{data:r,error:n}=await t;if(n)throw console.error("[supabaseQueries] fetchPaymentMethods error:",n),new Error(`[${n.code}] ${n.message}`);return r?r.map(nD):[]}catch(t){throw console.error("[supabaseQueries] fetchPaymentMethods exception:",t),t}}async function I8(e){await on();const t=crypto.randomUUID(),{data:r,error:n}=await ve.from("payment_methods").insert([{id:t,name:e.name,description:e.description||null,is_active:!0}]).select().single();if(n)throw console.error("[supabaseQueries] createPaymentMethod error:",n),n;return nD(r)}async function L8(e){const{error:t}=await ve.from("payment_methods").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deletePaymentMethod error:",t),t}function nD(e){return{id:e.id,name:e.name,description:e.description,isActive:e.is_active,createdAt:e.created_at,updatedAt:e.updated_at}}async function $8(){console.log("[supabaseQueries] fetchUnits called");try{const{data:e,error:t}=await ve.from("units").select("*").order("name",{ascending:!0});if(t)throw console.error("[supabaseQueries] fetchUnits error:",t),new Error(`[${t.code}] ${t.message}`);return e?e.map(aD):[]}catch(e){throw console.error("[supabaseQueries] fetchUnits exception:",e),e}}async function B8(e){const t=e.shortName.toLowerCase(),{data:r,error:n}=await ve.from("units").insert([{id:t,name:e.name,short_name:e.shortName,description:e.description||null}]).select().single();if(n)throw console.error("[supabaseQueries] createUnit error:",n),n;return aD(r)}async function U8(e){const{error:t}=await ve.from("units").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteUnit error:",t),t}function aD(e){return{id:e.id,name:e.name,shortName:e.short_name,description:e.description,createdAt:e.created_at,updatedAt:e.updated_at}}async function Id(){try{const{data:e,error:t}=await ve.from("company_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchCompanySettings error:",t),{id:"default",name:"Your Company",phone:"+880",email:"info@company.com",address:"",logo:""}):{id:e.id,name:e.name||"Your Company",phone:e.phone||"+880",email:e.email||"info@company.com",address:e.address||"",logo:e.logo||""}}catch(e){return console.error("[supabaseQueries] fetchCompanySettings exception:",e),{id:"default",name:"Your Company",phone:"+880",email:"info@company.com",address:"",logo:""}}}async function z8(e){await on();try{const t=await Id(),r={name:e.name||t.name,phone:e.phone||t.phone,email:e.email||t.email,address:e.address!==void 0?e.address:t.address,logo:e.logo!==void 0?e.logo:t.logo},{data:n}=await ve.from("company_settings").select("id").limit(1).maybeSingle();let i;if(n!=null&&n.id){const{data:s,error:l}=await ve.from("company_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;i=s}else{const{data:s,error:l}=await ve.from("company_settings").insert(r).select().single();if(l)throw l;i=s}return i||r}catch(t){throw console.error("[supabaseQueries] updateCompanySettings exception:",t),t}}async function Aw(){try{const{data:e,error:t}=await ve.from("order_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchOrderSettings error:",t),{prefix:"ORD-",nextNumber:1}):{prefix:e.prefix||"ORD-",nextNumber:e.next_number||1}}catch(e){return console.error("[supabaseQueries] fetchOrderSettings exception:",e),{prefix:"ORD-",nextNumber:1}}}async function iD(e){try{const t=await Aw(),r={prefix:e.prefix||t.prefix,next_number:e.nextNumber!==void 0?e.nextNumber:t.nextNumber},{data:n}=await ve.from("order_settings").select("id").limit(1).maybeSingle();let i;if(n!=null&&n.id){const{data:s,error:l}=await ve.from("order_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;i=s}else{const{data:s,error:l}=await ve.from("order_settings").insert(r).select().single();if(l)throw l;i=s}return i?{prefix:i.prefix,nextNumber:i.next_number}:r}catch(t){throw console.error("[supabaseQueries] updateOrderSettings error:",t),t}}async function Cw(){try{const{data:e,error:t}=await ve.from("invoice_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchInvoiceSettings error:",t),{title:"Invoice",logoWidth:120,logoHeight:120,footer:""}):{title:e.title||"Invoice",logoWidth:e.logo_width||120,logoHeight:e.logo_height||120,footer:e.footer||""}}catch(e){return console.error("[supabaseQueries] fetchInvoiceSettings exception:",e),{title:"Invoice",logoWidth:120,logoHeight:120,footer:""}}}async function q8(e){try{const t=await Cw(),r={title:e.title||t.title,logo_width:e.logoWidth!==void 0?e.logoWidth:t.logoWidth,logo_height:e.logoHeight!==void 0?e.logoHeight:t.logoHeight,footer:e.footer!==void 0?e.footer:t.footer},{data:n}=await ve.from("invoice_settings").select("id").limit(1).maybeSingle();let i;if(n!=null&&n.id){const{data:s,error:l}=await ve.from("invoice_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;i=s}else{const{data:s,error:l}=await ve.from("invoice_settings").insert(r).select().single();if(l)throw l;i=s}return i?{title:i.title,logoWidth:i.logo_width,logoHeight:i.logo_height,footer:i.footer}:{title:r.title,logoWidth:r.logo_width,logoHeight:r.logo_height,footer:r.footer}}catch(t){throw console.error("[supabaseQueries] updateInvoiceSettings error:",t),t}}async function kw(){try{const{data:e,error:t}=await ve.from("system_defaults").select("*").single();return t?(console.error("[supabaseQueries] fetchSystemDefaults error:",t),{defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}):{defaultAccountId:e.default_account_id||"",defaultPaymentMethod:e.default_payment_method||"",incomeCategoryId:e.income_category_id||"",expenseCategoryId:e.expense_category_id||"",recordsPerPage:e.records_per_page||10}}catch(e){return console.error("[supabaseQueries] fetchSystemDefaults exception:",e),{defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}}}async function K8(e){try{const t=await kw(),r={default_account_id:e.defaultAccountId?e.defaultAccountId:t.defaultAccountId||null,default_payment_method:e.defaultPaymentMethod?e.defaultPaymentMethod:t.defaultPaymentMethod||null,income_category_id:e.incomeCategoryId?e.incomeCategoryId:t.incomeCategoryId||null,expense_category_id:e.expenseCategoryId?e.expenseCategoryId:t.expenseCategoryId||null,records_per_page:e.recordsPerPage!==void 0?e.recordsPerPage:t.recordsPerPage},{data:n}=await ve.from("system_defaults").select("id").limit(1).maybeSingle();let i;if(n!=null&&n.id){const{data:s,error:l}=await ve.from("system_defaults").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;i=s}else{const{data:s,error:l}=await ve.from("system_defaults").insert(r).select().single();if(l)throw l;i=s}return i?{defaultAccountId:i.default_account_id,defaultPaymentMethod:i.default_payment_method,incomeCategoryId:i.income_category_id,expenseCategoryId:i.expense_category_id,recordsPerPage:i.records_per_page}:t}catch(t){throw console.error("[supabaseQueries] updateSystemDefaults error:",t),t}}async function Pw(){try{const{data:e,error:t}=await ve.from("courier_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchCourierSettings error:",t),{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}):{steadfast:{baseUrl:e.steadfast_base_url||"",apiKey:e.steadfast_api_key||"",secretKey:e.steadfast_secret_key||""},carryBee:{baseUrl:e.carrybee_base_url||"",clientId:e.carrybee_client_id||"",clientSecret:e.carrybee_client_secret||"",clientContext:e.carrybee_client_context||"",storeId:e.carrybee_store_id||""}}}catch(e){return console.error("[supabaseQueries] fetchCourierSettings exception:",e),{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}}}async function F8(e){var t,r,n,i,s,l,d,f;try{const h=await Pw(),p={steadfast_base_url:((t=e.steadfast)==null?void 0:t.baseUrl)||h.steadfast.baseUrl,steadfast_api_key:((r=e.steadfast)==null?void 0:r.apiKey)||h.steadfast.apiKey,steadfast_secret_key:((n=e.steadfast)==null?void 0:n.secretKey)||h.steadfast.secretKey,carrybee_base_url:((i=e.carryBee)==null?void 0:i.baseUrl)||h.carryBee.baseUrl,carrybee_client_id:((s=e.carryBee)==null?void 0:s.clientId)||h.carryBee.clientId,carrybee_client_secret:((l=e.carryBee)==null?void 0:l.clientSecret)||h.carryBee.clientSecret,carrybee_client_context:((d=e.carryBee)==null?void 0:d.clientContext)||h.carryBee.clientContext,carrybee_store_id:((f=e.carryBee)==null?void 0:f.storeId)||h.carryBee.storeId},{data:y}=await ve.from("courier_settings").select("id").limit(1).maybeSingle();let g;if(y!=null&&y.id){const{data:b,error:w}=await ve.from("courier_settings").update(p).eq("id",y.id).select().maybeSingle();if(w)throw w;g=b}else{const{data:b,error:w}=await ve.from("courier_settings").insert(p).select().single();if(w)throw w;g=b}return{steadfast:{baseUrl:(g==null?void 0:g.steadfast_base_url)||"",apiKey:(g==null?void 0:g.steadfast_api_key)||"",secretKey:(g==null?void 0:g.steadfast_secret_key)||""},carryBee:{baseUrl:(g==null?void 0:g.carrybee_base_url)||"",clientId:(g==null?void 0:g.carrybee_client_id)||"",clientSecret:(g==null?void 0:g.carrybee_client_secret)||"",clientContext:(g==null?void 0:g.carrybee_client_context)||"",storeId:(g==null?void 0:g.carrybee_store_id)||""}}}catch(h){throw console.error("[supabaseQueries] updateCourierSettings error:",h),h}}async function H8(e){var t,r,n,i,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.clientId)==null?void 0:r.trim(),f=(n=e.clientSecret)==null?void 0:n.trim(),h=(i=e.clientContext)==null?void 0:i.trim();if(!l||!d||!f||!h)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];console.log("[supabaseQueries] Calling Edge Function for CarryBee stores");const p=`${xc}/functions/v1/carrybee-stores`;console.log("[supabaseQueries] Edge Function URL:",p);const y=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${wc}`},body:JSON.stringify({baseUrl:l,clientId:d,clientSecret:f,clientContext:h})});if(console.log("[supabaseQueries] Edge Function response status:",y.status),!y.ok)return console.error("[supabaseQueries] Edge Function error:",y.status,y.statusText),[];const g=await y.json();if(console.log("[supabaseQueries] Edge Function response data:",g),g.error)return console.error("[supabaseQueries] Edge Function returned error:",g.error,g.details),[];if(!((s=g.data)!=null&&s.stores))return console.warn("[supabaseQueries] No stores in response"),[];const b=g.data.stores.map(w=>({id:w.id,name:w.name}));return console.log("[supabaseQueries] Successfully fetched",b.length,"stores"),b}catch(l){return console.error("[supabaseQueries] fetchCarryBeeStores exception:",l instanceof Error?l.message:l),[]}}async function Q8(e){var t,r,n,i,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.clientId)==null?void 0:r.trim(),f=(n=e.clientSecret)==null?void 0:n.trim(),h=(i=e.clientContext)==null?void 0:i.trim();if(!l||!d||!f||!h)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const p=`${xc}/functions/v1/carrybee-cities`,y=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${wc}`},body:JSON.stringify({baseUrl:l,clientId:d,clientSecret:f,clientContext:h})});if(!y.ok)return console.error("[supabaseQueries] Cities Edge Function error:",y.status),[];const g=await y.json();return g.error||!((s=g.data)!=null&&s.cities)?(console.error("[supabaseQueries] Cities Edge Function returned error:",g.error),[]):g.data.cities.map(b=>({id:b.id,name:b.name}))}catch(l){return console.error("[supabaseQueries] fetchCarryBeeCities exception:",l instanceof Error?l.message:l),[]}}async function V8(e){var t,r,n,i,s,l;try{const d=(t=e.baseUrl)==null?void 0:t.trim(),f=(r=e.clientId)==null?void 0:r.trim(),h=(n=e.clientSecret)==null?void 0:n.trim(),p=(i=e.clientContext)==null?void 0:i.trim(),y=(s=e.cityId)==null?void 0:s.trim();if(!d||!f||!h||!p||!y)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const g=`${xc}/functions/v1/carrybee-zones`,b=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${wc}`},body:JSON.stringify({baseUrl:d,clientId:f,clientSecret:h,clientContext:p,cityId:y})});if(!b.ok)return console.error("[supabaseQueries] Zones Edge Function error:",b.status),[];const w=await b.json();return w.error||!((l=w.data)!=null&&l.zones)?(console.error("[supabaseQueries] Zones Edge Function returned error:",w.error),[]):w.data.zones.map(S=>({id:S.id,name:S.name}))}catch(d){return console.error("[supabaseQueries] fetchCarryBeeZones exception:",d instanceof Error?d.message:d),[]}}async function G8(e){var t,r,n,i,s,l,d;try{const f=(t=e.baseUrl)==null?void 0:t.trim(),h=(r=e.clientId)==null?void 0:r.trim(),p=(n=e.clientSecret)==null?void 0:n.trim(),y=(i=e.clientContext)==null?void 0:i.trim(),g=(s=e.cityId)==null?void 0:s.trim(),b=(l=e.zoneId)==null?void 0:l.trim();if(!f||!h||!p||!y||!g||!b)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const w=`${xc}/functions/v1/carrybee-areas`,S=await fetch(w,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${wc}`},body:JSON.stringify({baseUrl:f,clientId:h,clientSecret:p,clientContext:y,cityId:g,zoneId:b})});if(!S.ok)return console.error("[supabaseQueries] Areas Edge Function error:",S.status),[];const _=await S.json();return _.error||!((d=_.data)!=null&&d.areas)?(console.error("[supabaseQueries] Areas Edge Function returned error:",_.error),[]):_.data.areas.map(N=>({id:N.id,name:N.name}))}catch(f){return console.error("[supabaseQueries] fetchCarryBeeAreas exception:",f instanceof Error?f.message:f),[]}}async function Y8(e){var t,r,n,i;try{const s=(t=e.baseUrl)==null?void 0:t.trim(),l=(r=e.clientId)==null?void 0:r.trim(),d=(n=e.clientSecret)==null?void 0:n.trim(),f=(i=e.clientContext)==null?void 0:i.trim();if(!s||!l||!d||!f||!e.storeId)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),{error:"Missing required parameters"};console.log("[supabaseQueries] Calling Edge Function to submit CarryBee order");const h=`${xc}/functions/v1/carrybee-submit-order`,p=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${wc}`},body:JSON.stringify({baseUrl:s,clientId:l,clientSecret:d,clientContext:f,storeId:e.storeId,deliveryType:e.deliveryType,productType:e.productType,recipientPhone:e.recipientPhone,recipientName:e.recipientName,recipientAddress:e.recipientAddress,cityId:e.cityId,zoneId:e.zoneId,areaId:e.areaId,itemWeight:e.itemWeight,collectableAmount:e.collectableAmount})});if(console.log("[supabaseQueries] Submit Order Edge Function response status:",p.status),!p.ok)return console.error("[supabaseQueries] Submit Order Edge Function error:",p.status),{error:`HTTP ${p.status}`};const y=await p.json();return console.log("[supabaseQueries] Submit Order response:",y),y.error?(console.error("[supabaseQueries] Edge Function returned error:",y.error),{error:y.error}):(console.log("[supabaseQueries] Successfully submitted order to CarryBee"),y.data)}catch(s){return console.error("[supabaseQueries] submitCarryBeeOrder exception:",s instanceof Error?s.message:s),{error:s instanceof Error?s.message:"Unknown error"}}}async function W8(e){var t,r,n,i,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.apiKey)==null?void 0:r.trim(),f=(n=e.secretKey)==null?void 0:n.trim();if(console.log("[supabaseQueries] ======== BEFORE TRIM ========"),console.log("[supabaseQueries] baseUrl (raw):",JSON.stringify(e.baseUrl)),console.log("[supabaseQueries] apiKey (raw):",JSON.stringify((i=e.apiKey)==null?void 0:i.substring(0,5))),console.log("[supabaseQueries] secretKey (raw):",JSON.stringify((s=e.secretKey)==null?void 0:s.substring(0,5))),console.log("[supabaseQueries] ======== AFTER TRIM ========"),console.log("[supabaseQueries] baseUrl (trimmed):",JSON.stringify(l)),console.log("[supabaseQueries] apiKey (trimmed):",JSON.stringify(d==null?void 0:d.substring(0,5))),console.log("[supabaseQueries] secretKey (trimmed):",JSON.stringify(f==null?void 0:f.substring(0,5))),!l||!d||!f||!e.invoice||!e.recipientName||!e.recipientPhone||!e.recipientAddress||e.codAmount===void 0)return console.warn("[supabaseQueries] Steadfast API parameters incomplete"),console.warn("[supabaseQueries] Validation:",{baseUrl:!!l,apiKey:!!d,secretKey:!!f,invoice:!!e.invoice,recipientName:!!e.recipientName,recipientPhone:!!e.recipientPhone,recipientAddress:!!e.recipientAddress,codAmount:e.codAmount!==void 0}),{error:"Missing required parameters"};console.log("[supabaseQueries] ======== CALLING EDGE FUNCTION ========");const h=`${xc}/functions/v1/steadfast-submit-order`;console.log("[supabaseQueries] Edge Function URL:",h);const p={baseUrl:l,apiKey:d,secretKey:f,invoice:e.invoice,recipientName:e.recipientName,recipientPhone:e.recipientPhone,recipientAddress:e.recipientAddress,codAmount:e.codAmount};console.log("[supabaseQueries] Payload being sent:",{baseUrl:l,apiKey:`${d.substring(0,5)}...`,secretKey:`${f.substring(0,5)}...`,invoice:p.invoice,recipientName:p.recipientName,recipientPhone:p.recipientPhone,recipientAddress:p.recipientAddress,codAmount:p.codAmount});const y=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${wc}`},body:JSON.stringify(p)});if(console.log("[supabaseQueries] Submit Steadfast Order Edge Function response status:",y.status),!y.ok)return console.error("[supabaseQueries] Submit Steadfast Order Edge Function error:",y.status),{error:`HTTP ${y.status}`};const g=await y.json();if(console.log("[supabaseQueries] Submit Steadfast Order response:",g),g.error){const b=g.details?`${g.error}: ${g.details}`:g.error;return console.error("[supabaseQueries] Edge Function returned error:",b),{error:b}}return console.log("[supabaseQueries] Successfully submitted order to Steadfast"),g.data}catch(l){return console.error("[supabaseQueries] submitSteadfastOrder exception:",l instanceof Error?l.message:l),{error:l instanceof Error?l.message:"Unknown error"}}}async function X8(e){await on();try{const[t,r,n,i,s]=await Promise.all([e.company?z8(e.company):Id(),e.order?iD(e.order):Aw(),e.invoice?q8(e.invoice):Cw(),e.defaults?K8(e.defaults):kw(),e.courier?F8(e.courier):Pw()]);return{company:t,order:r,invoice:n,defaults:i,courier:s}}catch(t){throw console.error("[supabaseQueries] batchUpdateSettings error:",t),t}}const es=({to:e,icon:t,label:r,active:n,onClick:i,children:s})=>{const[l,d]=j.useState(n);return s?u.jsxs("div",{className:"space-y-1",children:[u.jsxs("button",{onClick:()=>d(!l),className:`flex items-center justify-between w-full px-4 py-3 ${ie.radius.md} ${ie.transitions.normal} ${n?`${ie.colors.primary[50]} ${ie.colors.primary.text}`:`text-gray-500 hover:${ie.colors.primary[50]} hover:${ie.colors.primary.text}`}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[t,u.jsx("span",{className:"font-semibold text-sm",children:r})]}),u.jsx("div",{className:`transition-transform duration-200 ${l?"rotate-90":""}`,children:ae.ChevronRight})]}),l&&u.jsx("div",{className:"pl-11 space-y-1",children:s.map(f=>u.jsx(Zu,{to:f.to,onClick:i,className:`block px-4 py-2 text-sm font-medium ${ie.radius.sm} ${ie.transitions.normal} ${f.active?`${ie.colors.primary[600]} text-white`:`text-gray-400 hover:${ie.colors.primary.text} hover:${ie.colors.primary[50]}/30`}`,children:f.label},f.to))})]}):u.jsxs(Zu,{to:e||"#",onClick:i,className:`flex items-center gap-3 px-4 py-3 ${ie.radius.md} ${ie.transitions.normal} ${n?`${ie.colors.primary[600]} text-white shadow-lg shadow-emerald-200/50`:`text-gray-500 hover:${ie.colors.primary[50]} hover:${ie.colors.primary.text}`}`,children:[t,u.jsx("span",{className:"font-semibold text-sm",children:r})]})},Je=({children:e})=>{const t=vi(),r=ft(),{signOut:n,profile:i}=vp(),[s,l]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[y,g]=j.useState({name:xe.settings.company.name,logo:xe.settings.company.logo}),b=i||xe.currentUser;j.useEffect(()=>{(async()=>{try{const N=await Id();g(N)}catch(N){console.error("Failed to load company settings:",N)}})()},[]);const w=async()=>{try{await n(),r("/login",{replace:!0})}catch(_){console.error("Logout failed:",_)}},S=_=>t.pathname===_||t.pathname.startsWith(_+"/");return u.jsxs("div",{className:`${ie.colors.bg.secondary} flex overflow-hidden`,style:{minHeight:"100vh"},children:[s&&u.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40 lg:hidden",onClick:()=>l(!1)}),u.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 ${ie.colors.bg.primary} border-r ${ie.colors.border.primary} ${ie.transitions.normal} transform lg:sticky lg:top-0 lg:h-screen lg:translate-x-0 ${s?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"p-8",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`p-1 ${ie.colors.primary[50]} rounded-[50%]`,children:y.logo&&u.jsx("img",{src:y.logo,alt:"Logo",className:"w-10 h-10 rounded-lg object-cover"})}),u.jsxs("div",{children:[u.jsx("h1",{className:`text-xl font-black ${ie.colors.text.primary} tracking-tight leading-none`,children:y.name}),u.jsx("span",{className:`text-[10px] font-bold ${ie.colors.primary.text} uppercase tracking-widest`,children:"Management"})]})]})}),u.jsxs("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto",children:[u.jsx(es,{to:"/dashboard",icon:ae.Dashboard,label:"Dashboard",active:S("/dashboard"),onClick:()=>l(!1)}),u.jsx(es,{to:"/products",icon:ae.Products,label:"Products",active:S("/products"),onClick:()=>l(!1)}),u.jsx(es,{icon:ae.Sales,label:"Sales",active:S("/orders")||S("/customers"),children:[{to:"/orders",label:"Orders",active:S("/orders")},{to:"/customers",label:"Customers",active:S("/customers")}],onClick:()=>l(!1)}),b.role===Ht.ADMIN&&u.jsxs(u.Fragment,{children:[u.jsx(es,{icon:ae.Briefcase,label:"Purchases",active:S("/bills")||S("/vendors"),children:[{to:"/bills",label:"Bills",active:S("/bills")},{to:"/vendors",label:"Vendors",active:S("/vendors")}],onClick:()=>l(!1)}),u.jsx(es,{icon:ae.Banking,label:"Banking",active:S("/banking"),children:[{to:"/banking/accounts",label:"Accounts",active:S("/banking/accounts")},{to:"/banking/transactions",label:"Transactions",active:S("/banking/transactions")},{to:"/banking/transfer",label:"Transfer",active:S("/banking/transfer")}],onClick:()=>l(!1)})]}),b.role===Ht.ADMIN&&u.jsxs(u.Fragment,{children:[u.jsx(es,{to:"/reports",icon:ae.Reports,label:"Reports",active:S("/reports"),onClick:()=>l(!1)}),u.jsx(es,{to:"/users",icon:ae.Users,label:"Users",active:S("/users"),onClick:()=>l(!1)}),u.jsx(es,{to:"/settings",icon:ae.Settings,label:"Settings",active:S("/settings"),onClick:()=>l(!1)})]})]})]})}),u.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[u.jsxs("header",{className:`flex-shrink-0 sticky top-0 z-40 ${ie.colors.bg.primary}/80 backdrop-blur-lg border-b ${ie.colors.border.primary} px-6 h-20 flex items-center justify-between`,children:[u.jsx("button",{onClick:()=>l(!0),className:`lg:hidden p-2.5 hover:${ie.colors.bg.tertiary} ${ie.radius.md} ${ie.colors.text.secondary} border ${ie.colors.border.primary}`,children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),u.jsxs("div",{className:"flex-1 max-w-xl mx-4 relative group hidden sm:block",children:[u.jsx("div",{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-300 group-focus-within:${ie.colors.primary.text} ${ie.transitions.normal}`,children:ae.Search}),u.jsx("input",{type:"text",placeholder:"Search orders, invoices, or customers...",className:`block w-full pl-11 pr-4 py-2.5 ${ie.colors.bg.secondary} border-transparent focus:${ie.colors.bg.primary} focus:ring-2 focus:ring-[#3c5a82] focus:border-transparent ${ie.radius.md} text-sm ${ie.transitions.normal}`})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>f(!d),className:`${ie.colors.primary[600]} text-white w-10 h-10 flex items-center justify-center ${ie.radius.md} hover:${ie.colors.primary[700]} ${ie.transitions.normal} shadow-lg shadow-[#0f2f57]/20 active:scale-95`,children:ae.Plus}),d&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),u.jsxs("div",{className:`absolute right-0 mt-3 w-56 ${ie.colors.bg.primary} border ${ie.colors.border.primary} rounded-2xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in slide-in-from-top-2 duration-200 origin-top-right`,children:[u.jsx("div",{className:`px-4 py-2 text-[10px] font-bold ${ie.colors.text.tertiary} uppercase tracking-widest border-b ${ie.colors.border.primary} mb-1`,children:"Quick Actions"}),[{label:"New Order",to:"/orders/new",icon:ae.Sales},{label:"New Bill",to:"/bills/new",icon:ae.Briefcase},{label:"New Customer",to:"/customers/new",icon:ae.Customers},{label:"New Vendor",to:"/vendors/new",icon:ae.Vendors},{label:"Add Income",to:"/transactions/new/income",icon:ae.PlusCircle},{label:"Add Expense",to:"/transactions/new/expense",icon:ae.Delete}].map(_=>u.jsxs(Zu,{to:_.to,onClick:()=>f(!1),className:`flex items-center gap-3 px-4 py-3 text-sm font-bold ${ie.colors.text.primary} hover:${ie.colors.primary[50]} hover:${ie.colors.primary.text} ${ie.transitions.normal}`,children:[u.jsx("span",{className:"opacity-70",children:_.icon}),_.label]},_.label))]})]})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>p(!h),className:`flex items-center gap-3 pl-4 border-l ${ie.colors.border.primary} hover:opacity-70 ${ie.transitions.normal}`,children:[u.jsxs("div",{className:"text-right hidden md:block",children:[u.jsx("p",{className:`text-sm font-black ${ie.colors.text.primary} leading-none`,children:b.name}),u.jsx("p",{className:`text-[10px] font-bold ${ie.colors.primary.text} uppercase tracking-widest mt-1`,children:b.role})]}),u.jsx("img",{src:b.image||`https://ui-avatars.com/api/?name=${b.name}&background=0f2f57&color=fff`,alt:"Profile",className:"w-10 h-10 rounded-[50%] object-cover cursor-pointer"})]}),h&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>p(!1)}),u.jsxs("div",{className:`absolute right-0 mt-3 w-48 ${ie.colors.bg.primary} border ${ie.colors.border.primary} rounded-xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in slide-in-from-top-2 duration-200 origin-top-right`,children:[u.jsxs("button",{onClick:()=>{r(`/users/${b.id}`),p(!1)},className:`flex items-center gap-3 w-full px-4 py-3 text-sm font-bold ${ie.colors.primary.text} hover:${ie.colors.primary[50]} ${ie.transitions.normal}`,children:[ae.Users,"Profile"]}),u.jsxs("button",{onClick:()=>{w(),p(!1)},className:`flex items-center gap-3 w-full px-4 py-3 text-sm font-bold ${ie.colors.danger.text} hover:${ie.colors.danger[50]} ${ie.transitions.normal}`,children:[ae.LogOut,"Logout"]})]})]})]})]})]}),u.jsxs("main",{className:"flex-1 overflow-y-auto p-6 lg:p-10 animate-in fade-in duration-500 relative",children:[e,u.jsxs("footer",{className:`mt-20 py-8 border-t ${ie.colors.border.primary} flex flex-col items-center gap-2`,children:[u.jsxs("p",{className:`text-sm font-medium ${ie.colors.text.secondary}`,children:[" ",new Date().getFullYear()," ",y.name,". All rights reserved."]}),u.jsxs("a",{href:"https://sajedurrahmanfiad.me",target:"_blank",rel:"noreferrer",className:`group flex items-center gap-1.5 text-[11px] font-bold ${ie.colors.text.secondary} hover:${ie.colors.primary.text} ${ie.transitions.normal} uppercase tracking-widest`,children:["Developed by ",u.jsx("span",{className:`${ie.colors.text.secondary} group-hover:${ie.colors.primary.text} underline underline-offset-4 decoration-[#0f2f57]/20`,children:"Md Sajedur Rahman Fiad"})]})]})]})]})]})},Z8=()=>{const{toasts:e,dismissToast:t}=JT(),r=n=>{switch(n){case"success":return{icon:ae.Check,bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon_color:"text-green-600"};case"error":return{icon:ae.AlertCircle,bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon_color:"text-red-600"};case"warning":return{icon:ae.AlertCircle,bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon_color:"text-yellow-600"};case"info":return{icon:ae.Info,bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon_color:"text-blue-600"};default:return{icon:ae.Info,bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-800",icon_color:"text-gray-600"}}};return u.jsx("div",{className:"fixed bottom-6 right-6 z-[9999] flex flex-col gap-3",children:e.map(n=>{const{icon:i,bg:s,border:l,text:d,icon_color:f}=r(n.type);return u.jsxs("div",{className:`${s} ${l} border rounded-lg p-4 shadow-md flex items-start gap-3 min-w-[320px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300`,children:[u.jsx("div",{className:`${f} flex-shrink-0 mt-0.5`,children:i}),u.jsx("div",{className:`${d} flex-1 text-sm font-medium`,children:n.message}),u.jsx("button",{onClick:()=>t(n.id),className:`${f} flex-shrink-0 hover:opacity-70 transition-opacity`,children:u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},n.id)})})},J8=()=>{const e=ft(),{signIn:t,isLoading:r,user:n}=vp(),[i,s]=j.useState(""),[l,d]=j.useState(""),[f,h]=j.useState(""),[p,y]=j.useState(!1),[g,b]=j.useState({name:"Your Company",logo:xe.settings.company.logo});j.useEffect(()=>{console.log("[Login] useEffect checking auth - isLoading:",r,"user:",!!n,"should navigate:",!r&&!!n),!r&&n&&(console.log("[Login] This is a backup redirect - user state already updated"),e("/dashboard",{replace:!0}))},[n,r,e]),j.useEffect(()=>{(async()=>{try{const _=await Id();b({name:_.name,logo:_.logo||xe.settings.company.logo})}catch(_){console.error("Failed to load company settings:",_),b({name:xe.settings.company.name,logo:xe.settings.company.logo})}})()},[]);const w=async S=>{var _;S.preventDefault(),h(""),y(!0),console.log("[Login] Form submitted with phone:",i);try{console.log("[Login] Calling signIn...");const{error:N,data:E}=await t(i,l);if(N){console.error("[Login] Sign-in error:",N);const A=(N==null?void 0:N.message)||"Authentication failed";h(A),y(!1);return}console.log("[Login] Sign-in successful, user:",(_=E==null?void 0:E.user)==null?void 0:_.email),y(!1),console.log("[Login] Navigating to dashboard in 300ms..."),setTimeout(()=>{console.log("[Login] setTimeout callback executing - navigating to /dashboard"),e("/dashboard",{replace:!0})},300)}catch(N){console.error("[Login] Sign-in exception:",N),h((N==null?void 0:N.message)||"Failed to sign in"),y(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-8",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[g.logo&&u.jsx("img",{src:g.logo,alt:"Logo",className:"w-12 h-12 rounded-md object-cover"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold",children:g.name}),u.jsx("p",{className:"text-sm text-gray-500",children:"Sign in to continue"})]})]}),u.jsxs("form",{onSubmit:w,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),u.jsx("input",{value:i,onChange:S=>s(S.target.value),type:"tel",placeholder:"017XXXXXXXX",required:!0,disabled:p,className:"mt-1 block w-full border rounded px-3 py-2 focus:outline-none focus:ring disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),u.jsx("input",{value:l,onChange:S=>d(S.target.value),type:"password",required:!0,disabled:p,className:"mt-1 block w-full border rounded px-3 py-2 focus:outline-none focus:ring disabled:opacity-50"})]}),f&&u.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-600 space-y-2",children:[u.jsx("p",{className:"font-semibold",children:"Error"}),u.jsx("p",{children:f}),f.includes("Email confirmation")&&u.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-700 text-xs",children:[u.jsx("p",{className:"font-semibold mb-1",children:"Quick Fix:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[u.jsx("li",{children:"Go to Supabase Dashboard"}),u.jsx("li",{children:"Project  Authentication  Providers"}),u.jsx("li",{children:'Click "Email" tab'}),u.jsx("li",{children:'Toggle OFF "Confirm email"'}),u.jsx("li",{children:"Save settings"}),u.jsx("li",{children:"Try logging in again"})]})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:p,className:"w-full bg-blue-600 text-white py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed font-medium hover:bg-blue-700 transition-colors",children:p?"Signing in...":"Sign In"})}),u.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded text-xs text-gray-600 space-y-1",children:[u.jsx("p",{className:"font-semibold text-gray-700",children:"Demo Admin Credentials:"}),u.jsxs("p",{children:["Phone: ",u.jsx("code",{className:"bg-white px-2 py-1 rounded",children:"01404020000"})]}),u.jsxs("p",{children:["Password: ",u.jsx("code",{className:"bg-white px-2 py-1 rounded",children:"admin@bdhatbela"})]})]})]})]})})},e9={primary:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},secondary:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},danger:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},warning:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},success:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},info:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},neutral:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},profit:{bg:"bg-gray-50",text:"text-black",icon:"text-black"}},Zn=({title:e,value:t,icon:r,variant:n="primary",bgColor:i,textColor:s,iconBgColor:l,isProfitCard:d=!1,profitValue:f})=>{const h=e9[n];let p=i||"bg-white",y=s||h.text,g=l||h.bg,b="";return d&&f!==void 0&&!i&&(f>=0?(p="bg-emerald-500",y="text-white",g="bg-emerald-600"):(p="bg-red-500",y="text-white",g="bg-red-600")),u.jsxs("div",{className:`p-6 flex items-center gap-4 ${p} rounded-xl shadow-lg border border-gray-100 ${b}`,children:[u.jsx("div",{className:`${g} p-4 rounded-lg flex items-center justify-center`,children:u.jsx("div",{className:y,children:r})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:`text-xs font-bold uppercase tracking-widest ${y==="text-white"?"text-white/70":"text-gray-400"}`,children:e}),u.jsx("h3",{className:`text-2xl font-black mt-1 ${y}`,children:t})]})]})},Be=Lr.forwardRef(({variant:e="primary",size:t="md",children:r,icon:n,loading:i=!1,className:s="",...l},d)=>{const f={primary:`${ie.colors.primary[600]} text-white hover:${ie.colors.primary[700]} shadow-lg shadow-[#0f2f57]/20`,secondary:ie.buttons.secondary,danger:`${ie.colors.danger[600]} text-white hover:${ie.colors.danger[700]} shadow-lg`,outline:ie.buttons.outline,ghost:"text-gray-600 hover:bg-gray-50"},h={sm:ie.buttons.sizes.sm,md:ie.buttons.sizes.md,lg:ie.buttons.sizes.lg};return u.jsx("button",{ref:d,className:`${ie.buttons.base} ${f[e]} ${h[t]} ${i?"opacity-75 cursor-wait":""} ${s}`,disabled:i||l.disabled,...l,children:u.jsxs("span",{className:"flex items-center gap-2",children:[i&&u.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n&&!i&&u.jsx("span",{children:n}),r]})})});Be.displayName="Button";const t9={primary:`p-2.5 text-gray-400 hover:${ie.colors.primary[600]} hover:bg-[#ebf4ff] rounded-lg transition-all`,danger:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",secondary:`p-2.5 text-gray-400 hover:${ie.colors.secondary[600]} hover:bg-[#e6f0ff] rounded-lg transition-all`,neutral:"p-2.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-all"},ui=Lr.forwardRef(({variant:e="primary",icon:t,title:r,className:n="",...i},s)=>u.jsx("button",{ref:s,className:`${t9[e]} ${n}`,title:r,...i,children:t}));ui.displayName="IconButton";const Np=({columns:e,rows:t=5})=>u.jsx(u.Fragment,{children:Array.from({length:t}).map((r,n)=>u.jsx("tr",{className:"border-b border-gray-50 animate-pulse",children:Array.from({length:e}).map((i,s)=>u.jsx("td",{className:"px-6 py-5",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),u.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2"})]})},s))},n))}),Op=({columns:e,data:t,emptyMessage:r="No data found",onRowClick:n,rowClassName:i,hover:s=!0,striped:l=!1,size:d="md",loading:f=!1,loadingRows:h=8})=>{const p={sm:"px-4 py-3",md:"px-6 py-5",lg:"px-6 py-6"}[d],y=s?"hover:bg-[#ebf4ff]/50 cursor-pointer transition-all":"",g=l?"odd:bg-gray-50":"";return u.jsx("div",{className:`${ie.card.base} overflow-visible`,children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsx("tr",{className:ie.table.header,children:e.map(b=>u.jsx("th",{className:`${p} text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ${b.align==="center"?"text-center":b.align==="right"?"text-right":""}`,style:b.width?{width:b.width}:void 0,children:b.label},b.key))})}),u.jsx("tbody",{className:"divide-y divide-gray-50",children:f?u.jsx(Np,{columns:e.length,rows:h}):t.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:e.length,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:r})}):t.map((b,w)=>u.jsx("tr",{onClick:()=>n==null?void 0:n(b,w),className:`
                    border-b border-gray-50 transition-all
                    ${y}
                    ${g}
                    ${(i==null?void 0:i(b,w))||""}
                  `,children:e.map(S=>u.jsx("td",{className:`${p} ${S.align==="center"?"text-center":S.align==="right"?"text-right":""}`,children:S.render?S.render(b[S.key],b,w):b[S.key]},S.key))},b.id||w))})]})})})},r9=Lr.forwardRef(({label:e,error:t,helperText:r,className:n="",...i},s)=>u.jsxs("div",{className:"w-full",children:[e&&u.jsx("label",{className:ie.inputs.label,children:e}),u.jsx("input",{ref:s,className:`${ie.inputs.base} ${t?ie.inputs.error:""} ${n}`,...i}),(t||r)&&u.jsx("p",{className:`mt-1 text-xs ${t?"text-red-500":"text-gray-500"}`,children:t||r})]}));r9.displayName="Input";const n9=Lr.forwardRef(({label:e,error:t,options:r,className:n="",...i},s)=>u.jsxs("div",{className:"w-full",children:[e&&u.jsx("label",{className:ie.inputs.label,children:e}),u.jsx("select",{ref:s,className:`${ie.inputs.base} ${t?ie.inputs.error:""} ${n}`,...i,children:r.map(l=>u.jsx("option",{value:l.value,children:l.label},l.value))}),t&&u.jsx("p",{className:"mt-1 text-xs text-red-500",children:t})]}));n9.displayName="Select";const a9=Lr.forwardRef(({label:e,error:t,className:r="",...n},i)=>u.jsxs("div",{className:"w-full",children:[e&&u.jsx("label",{className:ie.inputs.label,children:e}),u.jsx("textarea",{ref:i,className:`${ie.inputs.base} resize-none ${t?ie.inputs.error:""} ${r}`,...n}),t&&u.jsx("p",{className:"mt-1 text-xs text-red-500",children:t})]}));a9.displayName="TextArea";const Ld=({isLoading:e,message:t="Loading..."})=>e?u.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 flex flex-col items-center gap-4",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),u.jsx("p",{className:"text-gray-600 font-medium",children:t})]})}):null,od=({filterRange:e,setFilterRange:t,customDates:r,setCustomDates:n,statusTab:i,setStatusTab:s,statusOptions:l=[],title:d})=>{const[f,h]=j.useState(!1),p=["All Time","Today","This Week","This Month","This Year","Custom"];return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[u.jsxs("div",{className:"hidden sm:flex flex-wrap items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl border border-gray-100 shadow-sm",children:[p.map(y=>u.jsx("button",{onClick:()=>t(y),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${e===y?`${ie.colors.primary[600]} text-white shadow-md`:"text-gray-500 hover:bg-gray-50"}`,children:y},y)),e==="Custom"&&u.jsxs("div",{className:"flex items-center gap-2 px-3 border-l border-gray-100 ml-1",children:[u.jsx("input",{type:"date",value:r.from,onChange:y=>n({...r,from:y.target.value}),className:"px-2 py-1 border rounded-lg text-[10px] font-bold bg-gray-50 outline-none focus:ring-2 focus:ring-[#3c5a82]"}),u.jsx("span",{className:"text-gray-300 text-[10px] font-black tracking-widest uppercase",children:"To"}),u.jsx("input",{type:"date",value:r.to,onChange:y=>n({...r,to:y.target.value}),className:"px-2 py-1 border rounded-lg text-[10px] font-bold bg-gray-50 outline-none focus:ring-2 focus:ring-[#3c5a82]"})]})]}),s&&l.length>0&&u.jsx("div",{className:"flex items-center gap-1 bg-gray-100/50 p-1 rounded-2xl border border-gray-100",children:["All",...l].map(y=>u.jsx("button",{onClick:()=>s(y),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${i===y?"bg-white text-gray-900 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:y},y))})]}),u.jsxs("button",{onClick:()=>h(!0),className:"sm:hidden flex items-center justify-center gap-2 bg-white border border-gray-200 text-gray-600 px-4 py-3 rounded-2xl font-bold shadow-sm w-full",children:[ae.Search,u.jsx("span",{className:"text-sm",children:"Filter & Period"}),e!=="All Time"&&u.jsx("div",{className:`w-2 h-2 rounded-full ${ie.colors.primary[500]} ml-1`})]})]}),f&&u.jsxs("div",{className:"fixed inset-0 z-[150] flex items-end justify-center",children:[u.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>h(!1)}),u.jsxs("div",{className:"bg-white w-full rounded-t-[3rem] p-8 z-[160] animate-in slide-in-from-bottom duration-300 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("h3",{className:"text-2xl font-black text-gray-900",children:["Filter ",d]}),u.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l18 18"})})})]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Time Period"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(y=>u.jsx("button",{onClick:()=>t(y),className:`py-3 rounded-2xl text-xs font-bold transition-all border ${e===y?`${ie.colors.primary[600]} text-white border-[#0f2f57] shadow-lg`:"bg-white text-gray-500 border-gray-100 hover:bg-gray-50"}`,children:y},y))}),e==="Custom"&&u.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 animate-in fade-in duration-200",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-2",children:"From"}),u.jsx("input",{type:"date",value:r.from,onChange:y=>n({...r,from:y.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-2",children:"To"}),u.jsx("input",{type:"date",value:r.to,onChange:y=>n({...r,to:y.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"})]})]})]}),s&&l.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Status Filter"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:["All",...l].map(y=>u.jsx("button",{onClick:()=>s(y),className:`py-3 rounded-2xl text-xs font-bold transition-all border ${i===y?"bg-gray-900 text-white border-gray-900 shadow-lg":"bg-white text-gray-500 border-gray-100"}`,children:y},y))})]}),u.jsx("button",{onClick:()=>h(!1),className:`w-full py-5 ${ie.colors.primary[600]} text-white rounded-xl font-black text-lg shadow-xl active:scale-95 transition-all mt-4`,children:"Apply Filters"})]})]})]})]})},Tw=({isOpen:e,onClose:t,onSubmit:r,accounts:n,paymentForm:i,setPaymentForm:s,isLoading:l,title:d="Record Payment",buttonText:f="Add Payment"})=>e?u.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[u.jsx("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm",onClick:t}),u.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] p-10 z-[210] animate-in zoom-in-95 duration-200 border border-[#ebf4ff]",children:[u.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-8",children:d}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Payment Date"}),u.jsx("input",{type:"date",value:i.date,onChange:h=>s({...i,date:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Select Account"}),u.jsxs("select",{value:i.accountId,onChange:h=>s({...i,accountId:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50",children:[u.jsx("option",{value:"",children:"Select an account..."}),n.map(h=>u.jsxs("option",{value:h.id,children:[h.name," (",we(h.currentBalance),")"]},h.id))]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Amount (BDT)"}),u.jsx("input",{type:"number",value:i.amount,onChange:h=>s({...i,amount:parseFloat(h.target.value)||0}),disabled:l,className:`w-full px-6 py-4 bg-[#ebf4ff] border-2 border-[#c7dff5] rounded-lg font-black ${ie.colors.primary[600]} text-xl outline-none disabled:opacity-50`})]}),u.jsxs("div",{className:"pt-6 flex gap-4",children:[u.jsx(Be,{onClick:t,variant:"ghost",disabled:l,children:"Cancel"}),u.jsx(Be,{onClick:r,variant:"primary",size:"md",className:"flex-1",disabled:l,loading:l,children:f})]})]})]})]}):null;function Io(){return It({queryKey:["customers"],queryFn:tD,staleTime:300*1e3})}function sD(e){return It({queryKey:["customer",e],queryFn:()=>Gq(e||""),enabled:!!e,staleTime:300*1e3})}function Ep(){return It({queryKey:["orders"],queryFn:Zq,staleTime:300*1e3})}function Dw(e){return It({queryKey:["order",e],queryFn:()=>Jq(e||""),enabled:!!e,staleTime:300*1e3})}function i9(e){return It({queryKey:["ordersByCustomerId",e],queryFn:()=>e8(e||""),enabled:!!e,staleTime:300*1e3})}function $d(){return It({queryKey:["bills"],queryFn:g8,staleTime:300*1e3})}function oD(e){return It({queryKey:["bill",e],queryFn:()=>v8(e||""),enabled:!!e,staleTime:300*1e3})}function _s(){return It({queryKey:["accounts"],queryFn:a8,staleTime:300*1e3})}function Bd(){return It({queryKey:["transactions"],queryFn:l8,staleTime:300*1e3})}function Ns(){return It({queryKey:["users"],queryFn:f8,staleTime:300*1e3})}function lD(e){return It({queryKey:["user",e],queryFn:()=>h8(e||""),enabled:!!e,staleTime:300*1e3})}function jc(){return It({queryKey:["vendors"],queryFn:j8,staleTime:300*1e3})}function cD(e){return It({queryKey:["vendor",e],queryFn:()=>S8(e||""),enabled:!!e,staleTime:300*1e3})}function Ud(){return It({queryKey:["products"],queryFn:E8,staleTime:1800*1e3})}function s9(e){return It({queryKey:["product",e],queryFn:()=>A8(e||""),enabled:!!e,staleTime:1800*1e3})}function zd(e){return It({queryKey:["categories",e],queryFn:()=>T8(e),staleTime:3600*1e3})}function uD(e){return It({queryKey:["paymentMethods",e],queryFn:()=>R8(e),staleTime:3600*1e3})}function o9(){return It({queryKey:["units"],queryFn:$8,staleTime:3600*1e3})}function Ap(){return It({queryKey:["settings","company"],queryFn:Id,staleTime:3600*1e3})}function dD(){return It({queryKey:["settings","order"],queryFn:Aw,staleTime:3600*1e3})}function Cp(){return It({queryKey:["settings","invoice"],queryFn:Cw,staleTime:3600*1e3})}function fD(){return It({queryKey:["settings","defaults"],queryFn:kw,staleTime:3600*1e3})}function Mw(){return It({queryKey:["settings","courier"],queryFn:Pw,staleTime:3600*1e3})}const hD=({isOpen:e,onClose:t,order:r,customer:n})=>{var p;const{data:i}=Mw(),[s,l]=j.useState(!1),[d,f]=j.useState(null);if(!e)return null;const h=async()=>{if(f(null),!r||!n){f("Missing order or customer information"),console.error("[SteadfastModal] Missing order, customer information");return}if(!(i!=null&&i.steadfast)){f("No Steadfast credentials configured"),console.error("[SteadfastModal] No Steadfast settings");return}const{baseUrl:y,apiKey:g,secretKey:b}=i.steadfast;if(console.log("[SteadfastModal] ======== SUBMISSION DEBUG ========"),console.log("[SteadfastModal] courierSettings object:",i),console.log("[SteadfastModal] steadfast object:",i.steadfast),console.log("[SteadfastModal] baseUrl:",y),console.log("[SteadfastModal] baseUrl type:",typeof y),console.log("[SteadfastModal] baseUrl empty?:",y===""||!y),console.log("[SteadfastModal] baseUrl trimmed empty?:",(y||"").trim()===""),console.log("[SteadfastModal] apiKey:",g?`${g.substring(0,5)}...`:"EMPTY/NULL"),console.log("[SteadfastModal] apiKey type:",typeof g),console.log("[SteadfastModal] secretKey:",b?`${b.substring(0,5)}...`:"EMPTY/NULL"),console.log("[SteadfastModal] secretKey type:",typeof b),!y||!g||!b){f(`Incomplete Steadfast credentials - baseUrl: ${!!y}, apiKey: ${!!g}, secretKey: ${!!b}`),console.error("[SteadfastModal] Incomplete credentials"),console.error("[SteadfastModal] baseUrl value:",JSON.stringify(y)),console.error("[SteadfastModal] apiKey value:",JSON.stringify(g)),console.error("[SteadfastModal] secretKey value:",JSON.stringify(b));return}l(!0);try{console.log("[SteadfastModal] ======== PREPARING SUBMISSION ========"),console.log("[SteadfastModal] Order Number:",r.orderNumber),console.log("[SteadfastModal] Customer Name:",n.name),console.log("[SteadfastModal] Customer Phone:",n.phone),console.log("[SteadfastModal] Customer Address:",n.address),console.log("[SteadfastModal] Order Total:",r.total);const w=await W8({baseUrl:y,apiKey:g,secretKey:b,invoice:r.orderNumber,recipientName:n.name,recipientPhone:n.phone,recipientAddress:n.address,codAmount:r.total});if(console.log("[SteadfastModal] ======== SUBMISSION RESULT ========"),console.log("[SteadfastModal] Result:",w),w.error){let S=w.error;try{w.error.includes("Account is not active")&&(S="Something went wrong.")}catch{}f(S),console.error("[SteadfastModal] Submission failed:",w.error);return}console.log("[SteadfastModal] Order submitted successfully to Steadfast"),t()}catch(w){const S=w instanceof Error?w.message:"Unknown error";f(S),console.error("[SteadfastModal] Exception during submission:",S)}finally{l(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40",onClick:t}),u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:`${ie.card.elevated} w-full max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-300`,children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add to Steadfast"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),u.jsxs("div",{className:"p-6 space-y-4",children:[d&&u.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[u.jsx("p",{className:"font-semibold",children:"Error:"}),u.jsx("p",{children:d})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Order Number"}),u.jsx("p",{className:"text-gray-900",children:(r==null?void 0:r.orderNumber)||"-"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Name"}),u.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.name)||"-"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Phone"}),u.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.phone)||"-"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Address"}),u.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.address)||"-"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"COD Amount"}),u.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[" ",((p=r==null?void 0:r.total)==null?void 0:p.toFixed(2))||"0.00"]})]})]}),u.jsxs("div",{className:"flex gap-3 px-6 py-4 border-t border-gray-100",children:[u.jsx("button",{onClick:t,disabled:s,className:"flex-1 py-2 px-4 rounded-lg border border-gray-200 text-gray-700 font-bold hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),u.jsx("button",{onClick:h,disabled:s||!r||!n,className:"flex-1 py-2 px-4 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Adding...":"Add"})]})]})})]})},mD=({isOpen:e,onClose:t,order:r,customer:n})=>{const{data:i}=Mw(),[s,l]=j.useState(1e3),[d,f]=j.useState("1"),[h,p]=j.useState(""),[y,g]=j.useState(""),[b,w]=j.useState(""),[S,_]=j.useState([]),[N,E]=j.useState([]),[A,C]=j.useState([]),[T,P]=j.useState(!1),[M,I]=j.useState(!1),[F,L]=j.useState(!1),[K,B]=j.useState(!1);return j.useEffect(()=>{e&&(async()=>{var de,Z,R,V;if(!((de=i==null?void 0:i.carryBee)!=null&&de.baseUrl)||!((Z=i==null?void 0:i.carryBee)!=null&&Z.clientId)||!((R=i==null?void 0:i.carryBee)!=null&&R.clientSecret)||!((V=i==null?void 0:i.carryBee)!=null&&V.clientContext)){_([]);return}P(!0);try{const J=await Q8({baseUrl:i.carryBee.baseUrl,clientId:i.carryBee.clientId,clientSecret:i.carryBee.clientSecret,clientContext:i.carryBee.clientContext});_(J)}catch(J){console.error("Failed to fetch cities:",J),_([])}finally{P(!1)}})()},[e,i]),j.useEffect(()=>{(async()=>{var de,Z;if(!h||!((de=i==null?void 0:i.carryBee)!=null&&de.baseUrl)||!((Z=i==null?void 0:i.carryBee)!=null&&Z.clientId)){E([]),g(""),w(""),C([]);return}I(!0);try{const R=await V8({baseUrl:i.carryBee.baseUrl,clientId:i.carryBee.clientId,clientSecret:i.carryBee.clientSecret,clientContext:i.carryBee.clientContext,cityId:h});E(R)}catch(R){console.error("Failed to fetch zones:",R),E([])}finally{I(!1)}})()},[h,i]),j.useEffect(()=>{(async()=>{var de,Z;if(!y||!h||!((de=i==null?void 0:i.carryBee)!=null&&de.baseUrl)||!((Z=i==null?void 0:i.carryBee)!=null&&Z.clientId)){C([]),w("");return}L(!0);try{const R=await G8({baseUrl:i.carryBee.baseUrl,clientId:i.carryBee.clientId,clientSecret:i.carryBee.clientSecret,clientContext:i.carryBee.clientContext,cityId:h,zoneId:y});C(R)}catch(R){console.error("Failed to fetch areas:",R),C([])}finally{L(!1)}})()},[y,h,i]),e?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40",onClick:t}),u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:`${ie.card.elevated} w-full max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-300`,children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add to CarryBee"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Weight ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",value:s,onChange:te=>l(Number(te.target.value)),className:"flex-1 px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg",min:"1"}),u.jsx("span",{className:"text-sm font-semibold text-gray-700 whitespace-nowrap",children:"grams"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Delivery Type ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:d,onChange:te=>f(te.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg",children:[u.jsx("option",{value:"1",children:"Normal Delivery (Type 1)"}),u.jsx("option",{value:"2",children:"Express Delivery (Type 2)"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["City ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:h,onChange:te=>p(te.target.value),disabled:T||S.length===0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("option",{value:"",children:T?"Loading cities...":S.length===0?"No cities available":"Select a city"}),S.map(te=>u.jsx("option",{value:te.id,children:te.name},te.id))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Zone ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:y,onChange:te=>g(te.target.value),disabled:!h||M||N.length===0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("option",{value:"",children:h?M?"Loading zones...":N.length===0?"No zones available":"Select a zone":"Select a city first"}),N.map(te=>u.jsx("option",{value:te.id,children:te.name},te.id))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Area"}),u.jsxs("select",{value:b,onChange:te=>w(te.target.value),disabled:!y||F,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("option",{value:"",children:y?F?"Loading areas...":A.length===0?"No areas available":"Select an area (optional)":"Select a zone first"}),A.map(te=>u.jsx("option",{value:te.id,children:te.name},te.id))]})]})]}),u.jsxs("div",{className:"flex gap-3 px-6 py-4 border-t border-gray-100",children:[u.jsx("button",{onClick:t,className:"flex-1 py-2 px-4 rounded-lg border border-gray-200 text-gray-700 font-bold hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{onClick:async()=>{if(!h||!y){alert("Please select both City and Zone");return}if(!r||!n){alert("Missing order or customer information"),console.error("Missing order or customer:",{order:r,customer:n});return}if(!(i!=null&&i.carryBee)){alert("CarryBee settings not configured"),console.error("Missing CarryBee settings:",i);return}const{baseUrl:te,clientId:de,clientSecret:Z,clientContext:R,storeId:V}=i.carryBee;if(!te||!de||!Z||!R||!V){alert("CarryBee settings incomplete. Please configure Base URL, Client ID, Client Secret, Client Context, and Store ID in Settings."),console.error("Incomplete CarryBee settings:",{baseUrl:te,clientId:de,clientSecret:Z,clientContext:R,storeId:V});return}B(!0);try{console.log("[CarryBeeModal] Submitting order:",{storeId:V,deliveryType:Number(d),recipientPhone:n.phone,recipientName:n.name,cityId:h,zoneId:y,areaId:b||void 0,itemWeight:s,collectableAmount:r.total});const J=await Y8({baseUrl:te,clientId:de,clientSecret:Z,clientContext:R,storeId:V,deliveryType:Number(d),productType:1,recipientPhone:n.phone,recipientName:n.name,recipientAddress:n.address||"",cityId:h,zoneId:y,areaId:b||void 0,itemWeight:s,collectableAmount:r.total||0});J.error?alert(`Failed to send order: ${J.error}`):(alert("Order sent to CarryBee successfully!"),t())}catch(J){console.error("Error submitting order:",J),alert("Error sending order to CarryBee")}finally{B(!1)}},disabled:!h||!y||K,className:"flex-1 py-2 px-4 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:K?"Sending...":"Send"})]})]})})]}):null},e0=(e,t,r)=>{if(t==="All Time")return!0;const n=new Date(e),i=new Date;if(t==="Today")return n.toDateString()===i.toDateString();if(t==="This Week"){const s=i.getDate()-i.getDay(),l=new Date(new Date().setDate(s)),d=new Date(new Date().setDate(s+6));return n>=l&&n<=d}return t==="This Month"?n.getMonth()===i.getMonth()&&n.getFullYear()===i.getFullYear():t==="This Year"?n.getFullYear()===i.getFullYear():t==="Custom"?!r.from||!r.to?!0:n>=new Date(r.from)&&n<=new Date(r.to):!0};function pD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=pD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function rt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=pD(e))&&(n&&(n+=" "),n+=t);return n}var l9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Rw(e){if(typeof e!="string")return!1;var t=l9;return t.includes(e)}var c9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],u9=new Set(c9);function yD(e){return typeof e!="string"?!1:u9.has(e)}function gD(e){return typeof e=="string"&&e.startsWith("data-")}function _n(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(yD(r)||gD(r))&&(t[r]=e[r]);return t}function Oo(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return _n(t)}return typeof e=="object"&&!Array.isArray(e)?_n(e):null}function Hr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(yD(r)||gD(r)||Rw(r))&&(t[r]=e[r]);return t}function d9(e){return e==null?null:j.isValidElement(e)?Hr(e.props):typeof e=="object"&&!Array.isArray(e)?Hr(e):null}var f9=["children","width","height","viewBox","className","style","title","desc"];function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cx.apply(null,arguments)}function h9(e,t){if(e==null)return{};var r,n,i=m9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function m9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Iw=j.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:l,style:d,title:f,desc:h}=e,p=h9(e,f9),y=s||{width:n,height:i,x:0,y:0},g=rt("recharts-surface",l);return j.createElement("svg",cx({},Hr(p),{className:g,width:n,height:i,style:d,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height),ref:t}),j.createElement("title",null,f),j.createElement("desc",null,h),r)}),p9=["children","className"];function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ux.apply(null,arguments)}function y9(e,t){if(e==null)return{};var r,n,i=g9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function g9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var br=j.forwardRef((e,t)=>{var{children:r,className:n}=e,i=y9(e,p9),s=rt("recharts-layer",n);return j.createElement("g",ux({className:s},Hr(i),{ref:t}),r)}),vD=j.createContext(null),v9=()=>j.useContext(vD);function _t(e){return function(){return e}}const bD=Math.cos,gm=Math.sin,ua=Math.sqrt,vm=Math.PI,kp=2*vm,dx=Math.PI,fx=2*dx,Js=1e-6,b9=fx-Js;function xD(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function x9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xD;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class w9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xD:x9(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,l){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,f=n-t,h=i-r,p=l-t,y=d-r,g=p*p+y*y;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>Js)if(!(Math.abs(y*f-h*p)>Js)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-l,w=i-d,S=f*f+h*h,_=b*b+w*w,N=Math.sqrt(S),E=Math.sqrt(g),A=s*Math.tan((dx-Math.acos((S+g-_)/(2*N*E)))/2),C=A/E,T=A/N;Math.abs(C-1)>Js&&this._append`L${t+C*p},${r+C*y}`,this._append`A${s},${s},0,0,${+(y*b>p*w)},${this._x1=t+T*f},${this._y1=r+T*h}`}}arc(t,r,n,i,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(i),f=n*Math.sin(i),h=t+d,p=r+f,y=1^l,g=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Js||Math.abs(this._y1-p)>Js)&&this._append`L${h},${p}`,n&&(g<0&&(g=g%fx+fx),g>b9?this._append`A${n},${n},0,1,${y},${t-d},${r-f}A${n},${n},0,1,${y},${this._x1=h},${this._y1=p}`:g>Js&&this._append`A${n},${n},0,${+(g>=dx)},${y},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Lw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new w9(t)}function $w(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wD(e){this._context=e}wD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Pp(e){return new wD(e)}function jD(e){return e[0]}function SD(e){return e[1]}function _D(e,t){var r=_t(!0),n=null,i=Pp,s=null,l=Lw(d);e=typeof e=="function"?e:e===void 0?jD:_t(e),t=typeof t=="function"?t:t===void 0?SD:_t(t);function d(f){var h,p=(f=$w(f)).length,y,g=!1,b;for(n==null&&(s=i(b=l())),h=0;h<=p;++h)!(h<p&&r(y=f[h],h,f))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+e(y,h,f),+t(y,h,f));if(b)return s=null,b+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:_t(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:_t(+f),d):t},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:_t(!!f),d):r},d.curve=function(f){return arguments.length?(i=f,n!=null&&(s=i(n)),d):i},d.context=function(f){return arguments.length?(f==null?n=s=null:s=i(n=f),d):n},d}function Bh(e,t,r){var n=null,i=_t(!0),s=null,l=Pp,d=null,f=Lw(h);e=typeof e=="function"?e:e===void 0?jD:_t(+e),t=typeof t=="function"?t:_t(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?SD:_t(+r);function h(y){var g,b,w,S=(y=$w(y)).length,_,N=!1,E,A=new Array(S),C=new Array(S);for(s==null&&(d=l(E=f())),g=0;g<=S;++g){if(!(g<S&&i(_=y[g],g,y))===N)if(N=!N)b=g,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=g-1;w>=b;--w)d.point(A[w],C[w]);d.lineEnd(),d.areaEnd()}N&&(A[g]=+e(_,g,y),C[g]=+t(_,g,y),d.point(n?+n(_,g,y):A[g],r?+r(_,g,y):C[g]))}if(E)return d=null,E+""||null}function p(){return _D().defined(i).curve(l).context(s)}return h.x=function(y){return arguments.length?(e=typeof y=="function"?y:_t(+y),n=null,h):e},h.x0=function(y){return arguments.length?(e=typeof y=="function"?y:_t(+y),h):e},h.x1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:_t(+y),h):n},h.y=function(y){return arguments.length?(t=typeof y=="function"?y:_t(+y),r=null,h):t},h.y0=function(y){return arguments.length?(t=typeof y=="function"?y:_t(+y),h):t},h.y1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:_t(+y),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(n).y(t)},h.defined=function(y){return arguments.length?(i=typeof y=="function"?y:_t(!!y),h):i},h.curve=function(y){return arguments.length?(l=y,s!=null&&(d=l(s)),h):l},h.context=function(y){return arguments.length?(y==null?s=d=null:d=l(s=y),h):s},h}class ND{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function j9(e){return new ND(e,!0)}function S9(e){return new ND(e,!1)}const Bw={draw(e,t){const r=ua(t/vm);e.moveTo(r,0),e.arc(0,0,r,0,kp)}},_9={draw(e,t){const r=ua(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},OD=ua(1/3),N9=OD*2,O9={draw(e,t){const r=ua(t/N9),n=r*OD;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},E9={draw(e,t){const r=ua(t),n=-r/2;e.rect(n,n,r,r)}},A9=.8908130915292852,ED=gm(vm/10)/gm(7*vm/10),C9=gm(kp/10)*ED,k9=-bD(kp/10)*ED,P9={draw(e,t){const r=ua(t*A9),n=C9*r,i=k9*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const l=kp*s/5,d=bD(l),f=gm(l);e.lineTo(f*r,-d*r),e.lineTo(d*n-f*i,f*n+d*i)}e.closePath()}},t0=ua(3),T9={draw(e,t){const r=-ua(t/(t0*3));e.moveTo(0,r*2),e.lineTo(-t0*r,-r),e.lineTo(t0*r,-r),e.closePath()}},$n=-.5,Bn=ua(3)/2,hx=1/ua(12),D9=(hx/2+1)*3,M9={draw(e,t){const r=ua(t/D9),n=r/2,i=r*hx,s=n,l=r*hx+r,d=-s,f=l;e.moveTo(n,i),e.lineTo(s,l),e.lineTo(d,f),e.lineTo($n*n-Bn*i,Bn*n+$n*i),e.lineTo($n*s-Bn*l,Bn*s+$n*l),e.lineTo($n*d-Bn*f,Bn*d+$n*f),e.lineTo($n*n+Bn*i,$n*i-Bn*n),e.lineTo($n*s+Bn*l,$n*l-Bn*s),e.lineTo($n*d+Bn*f,$n*f-Bn*d),e.closePath()}};function R9(e,t){let r=null,n=Lw(i);e=typeof e=="function"?e:_t(e||Bw),t=typeof t=="function"?t:_t(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:_t(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:_t(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function bm(){}function xm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function AD(e){this._context=e}AD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I9(e){return new AD(e)}function CD(e){this._context=e}CD.prototype={areaStart:bm,areaEnd:bm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function L9(e){return new CD(e)}function kD(e){this._context=e}kD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $9(e){return new kD(e)}function PD(e){this._context=e}PD.prototype={areaStart:bm,areaEnd:bm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function B9(e){return new PD(e)}function BE(e){return e<0?-1:1}function UE(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),l=(r-e._y1)/(i||n<0&&-0),d=(s*i+l*n)/(n+i);return(BE(s)+BE(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function zE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function r0(e,t,r){var n=e._x0,i=e._y0,s=e._x1,l=e._y1,d=(s-n)/3;e._context.bezierCurveTo(n+d,i+d*t,s-d,l-d*r,s,l)}function wm(e){this._context=e}wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:r0(this,this._t0,zE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,r0(this,zE(this,r=UE(this,e,t)),r);break;default:r0(this,this._t0,r=UE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function TD(e){this._context=new DD(e)}(TD.prototype=Object.create(wm.prototype)).point=function(e,t){wm.prototype.point.call(this,t,e)};function DD(e){this._context=e}DD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function U9(e){return new wm(e)}function z9(e){return new TD(e)}function MD(e){this._context=e}MD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=qE(e),i=qE(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function qE(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),l=new Array(r);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(i[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function q9(e){return new MD(e)}function Tp(e,t){this._context=e,this._t=t}Tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function K9(e){return new Tp(e,.5)}function F9(e){return new Tp(e,0)}function H9(e){return new Tp(e,1)}function Eo(e,t){if((l=e.length)>1)for(var r=1,n,i,s=e[t[0]],l,d=s.length;r<l;++r)for(i=s,s=e[t[r]],n=0;n<d;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function mx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Q9(e,t){return e[t]}function V9(e){const t=[];return t.key=e,t}function G9(){var e=_t([]),t=mx,r=Eo,n=Q9;function i(s){var l=Array.from(e.apply(this,arguments),V9),d,f=l.length,h=-1,p;for(const y of s)for(d=0,++h;d<f;++d)(l[d][h]=[0,+n(y,l[d].key,h,s)]).data=y;for(d=0,p=$w(t(l));d<f;++d)l[p[d]].index=d;return r(l,p),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:_t(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:_t(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?mx:typeof s=="function"?s:_t(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Eo,i):r},i}function Y9(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,l;i<s;++i){for(l=r=0;r<n;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<n;++r)e[r][i][1]/=l}Eo(e,t)}}function W9(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var l=0,d=0;l<i;++l)d+=e[l][r][1]||0;n[r][1]+=n[r][0]=-d/2}Eo(e,t)}}function X9(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,l;n<s;++n){for(var d=0,f=0,h=0;d<l;++d){for(var p=e[t[d]],y=p[n][1]||0,g=p[n-1][1]||0,b=(y-g)/2,w=0;w<d;++w){var S=e[t[w]],_=S[n][1]||0,N=S[n-1][1]||0;b+=_-N}f+=y,h+=b*y}i[n-1][1]+=i[n-1][0]=r,f&&(r-=h/f)}i[n-1][1]+=i[n-1][0]=r,Eo(e,t)}}var n0={},a0={},KE;function Z9(){return KE||(KE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(a0)),a0}var i0={},FE;function RD(){return FE||(FE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(i0)),i0}var s0={},HE;function Uw(){return HE||(HE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(s0)),s0}var o0={},l0={},QE;function J9(){return QE||(QE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(l0)),l0}var VE;function zw(){return VE||(VE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J9(),r=Uw();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],l=i.length;if(l===0)return s;let d=0,f="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),d++);d<l;){const y=i[d];h?y==="\\"&&d+1<l?(d++,f+=i[d]):y===h?h="":f+=y:p?y==='"'||y==="'"?h=y:y==="]"?(p=!1,s.push(f),f=""):f+=y:y==="["?(p=!0,f&&(s.push(f),f="")):y==="."?f&&(s.push(f),f=""):f+=y,d++}return f&&s.push(f),s}e.toPath=n})(o0)),o0}var GE;function qw(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z9(),r=RD(),n=Uw(),i=zw();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?r.isDeepKey(f)?s(d,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let y=0;y<f.length;y++){if(p==null||t.isUnsafeProperty(f[y]))return h;p=p[f[y]]}return p===void 0?h:p}e.get=s})(n0)),n0}var c0,YE;function eK(){return YE||(YE=1,c0=qw().get),c0}var tK=eK();const Ao=Ca(tK);var rK=4;function ys(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rK,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Kt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,s,l)=>{var d=r[l-1];return typeof d=="string"?i+d+s:d!==void 0?i+ys(d)+s:i+s},"")}var vr=e=>e===0?0:e>0?1:-1,Na=e=>typeof e=="number"&&e!=+e,Co=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,je=e=>(typeof e=="number"||e instanceof Number)&&!Na(e),Oa=e=>je(e)||typeof e=="string",nK=0,ld=e=>{var t=++nK;return"".concat(e||"").concat(t)},$r=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&typeof t!="string")return n;var s;if(Co(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return Na(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},ID=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Tt(e,t,r){return je(e)&&je(t)?ys(e+r*(t-e)):t}function LD(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ao(n,t))===r)}var Rt=e=>e===null||typeof e>"u",qd=e=>Rt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function an(e){return e!=null}function Lo(){}var aK=["type","size","sizeType"];function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},px.apply(null,arguments)}function WE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(r),!0).forEach(function(n){iK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iK(e,t,r){return(t=sK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=oK(e,"string");return typeof t=="symbol"?t:t+""}function oK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lK(e,t){if(e==null)return{};var r,n,i=cK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $D={symbolCircle:Bw,symbolCross:_9,symbolDiamond:O9,symbolSquare:E9,symbolStar:P9,symbolTriangle:T9,symbolWye:M9},uK=Math.PI/180,dK=e=>{var t="symbol".concat(qd(e));return $D[t]||Bw},fK=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*uK;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},hK=(e,t)=>{$D["symbol".concat(qd(e))]=t},Kw=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=lK(e,aK),s=XE(XE({},i),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var d=()=>{var g=dK(l),b=R9().type(g).size(fK(r,n,l)),w=b();if(w!==null)return w},{className:f,cx:h,cy:p}=s,y=Hr(s);return je(h)&&je(p)&&je(r)?j.createElement("path",px({},y,{className:rt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Kw.registerSymbol=hK;var BD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Fw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Rw(i)&&(n[i]=(s=>r[i](r,s)))}),n},mK=(e,t,r)=>n=>(e(t,r,n),null),Kd=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];Rw(i)&&typeof s=="function"&&(n||(n={}),n[i]=mK(s,t,r))}),n};function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(n){yK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yK(e,t,r){return(t=gK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gK(e){var t=vK(e,"string");return typeof t=="symbol"?t:t+""}function vK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nr(e,t){var r=pK({},e),n=t,i=Object.keys(t),s=i.reduce((l,d)=>(l[d]===void 0&&n[d]!==void 0&&(l[d]=n[d]),l),r);return s}function jm(){return jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jm.apply(null,arguments)}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){xK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xK(e,t,r){return(t=wK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=jK(e,"string");return typeof t=="symbol"?t:t+""}function jK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zn=32,SK={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function _K(e){var{data:t,iconType:r,inactiveColor:n}=e,i=zn/2,s=zn/6,l=zn/3,d=t.inactive?n:t.color,f=r??t.type;if(f==="none")return null;if(f==="plainline"){var h;return j.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:zn,y2:i,className:"recharts-legend-icon"})}if(f==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(zn,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return j.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(zn/8,"h").concat(zn,"v").concat(zn*3/4,"h").concat(-zn,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var p=bK({},t);return delete p.legendIcon,j.cloneElement(t.legendIcon,p)}return j.createElement(Kw,{fill:d,cx:i,cy:i,size:zn,sizeType:"diameter",type:f})}function NK(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:l}=e,d={x:0,y:0,width:zn,height:zn},f={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,y)=>{var g=p.formatter||i,b=rt({"recharts-legend-item":!0,["legend-item-".concat(y)]:!0,inactive:p.inactive});if(p.type==="none")return null;var w=p.inactive?s:p.color,S=g?g(p.value,p,y):p.value;return j.createElement("li",jm({className:b,style:f,key:"legend-item-".concat(y)},Kd(e,p,y)),j.createElement(Iw,{width:r,height:r,viewBox:d,style:h,"aria-label":"".concat(S," legend icon")},j.createElement(_K,{data:p,iconType:l,inactiveColor:s})),j.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},S))})}var OK=e=>{var t=nr(e,SK),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},j.createElement(NK,jm({},t,{payload:r})))},u0={},d0={},eA;function EK(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const l=r[s],d=n(l,s,r);i.has(d)||i.set(d,l)}return Array.from(i.values())}e.uniqBy=t})(d0)),d0}var f0={},tA;function AK(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(f0)),f0}var h0={},rA;function UD(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(h0)),h0}var m0={},p0={},y0={},nA;function CK(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(y0)),y0}var aA;function Hw(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CK();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(p0)),p0}var g0={},iA;function kK(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(g0)),g0}var sA;function PK(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hw(),r=kK();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(m0)),m0}var v0={},b0={},oA;function TK(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qw();function r(n){return function(i){return t.get(i,n)}}e.property=r})(b0)),b0}var x0={},w0={},j0={},S0={},lA;function zD(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(S0)),S0}var _0={},cA;function qD(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(_0)),_0}var N0={},uA;function KD(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(N0)),N0}var dA;function DK(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zD(),r=qD(),n=KD();function i(p,y,g){return typeof g!="function"?i(p,y,()=>{}):s(p,y,function b(w,S,_,N,E,A){const C=g(w,S,_,N,E,A);return C!==void 0?!!C:s(w,S,b,A)},new Map)}function s(p,y,g,b){if(y===p)return!0;switch(typeof y){case"object":return l(p,y,g,b);case"function":return Object.keys(y).length>0?s(p,{...y},g,b):n.isEqualsSameValueZero(p,y);default:return t.isObject(p)?typeof y=="string"?y==="":!0:n.isEqualsSameValueZero(p,y)}}function l(p,y,g,b){if(y==null)return!0;if(Array.isArray(y))return f(p,y,g,b);if(y instanceof Map)return d(p,y,g,b);if(y instanceof Set)return h(p,y,g,b);const w=Object.keys(y);if(p==null||r.isPrimitive(p))return w.length===0;if(w.length===0)return!0;if(b!=null&&b.has(y))return b.get(y)===p;b==null||b.set(y,p);try{for(let S=0;S<w.length;S++){const _=w[S];if(!r.isPrimitive(p)&&!(_ in p)||y[_]===void 0&&p[_]!==void 0||y[_]===null&&p[_]!==null||!g(p[_],y[_],_,p,y,b))return!1}return!0}finally{b==null||b.delete(y)}}function d(p,y,g,b){if(y.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,S]of y.entries()){const _=p.get(w);if(g(_,S,w,p,y,b)===!1)return!1}return!0}function f(p,y,g,b){if(y.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let S=0;S<y.length;S++){const _=y[S];let N=!1;for(let E=0;E<p.length;E++){if(w.has(E))continue;const A=p[E];let C=!1;if(g(A,_,S,p,y,b)&&(C=!0),C){w.add(E),N=!0;break}}if(!N)return!1}return!0}function h(p,y,g,b){return y.size===0?!0:p instanceof Set?f([...p],[...y],g,b):!1}e.isMatchWith=i,e.isSetMatch=h})(j0)),j0}var fA;function FD(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DK();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(w0)),w0}var O0={},E0={},A0={},hA;function MK(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(A0)),A0}var C0={},mA;function Qw(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(C0)),C0}var k0={},pA;function HD(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",y="[object Function]",g="[object ArrayBuffer]",b="[object Object]",w="[object Error]",S="[object DataView]",_="[object Uint8Array]",N="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",C="[object BigUint64Array]",T="[object Int8Array]",P="[object Int16Array]",M="[object Int32Array]",I="[object BigInt64Array]",F="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=g,e.arrayTag=p,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=S,e.dateTag=d,e.errorTag=w,e.float32ArrayTag=F,e.float64ArrayTag=L,e.functionTag=y,e.int16ArrayTag=P,e.int32ArrayTag=M,e.int8ArrayTag=T,e.mapTag=f,e.numberTag=n,e.objectTag=b,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=N})(k0)),k0}var P0={},yA;function RK(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(P0)),P0}var gA;function QD(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MK(),r=Qw(),n=HD(),i=qD(),s=RK();function l(p,y){return d(p,void 0,p,new Map,y)}function d(p,y,g,b=new Map,w=void 0){const S=w==null?void 0:w(p,y,g,b);if(S!==void 0)return S;if(i.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const _=new Array(p.length);b.set(p,_);for(let N=0;N<p.length;N++)_[N]=d(p[N],N,g,b,w);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;b.set(p,_);for(const[N,E]of p)_.set(N,d(E,N,g,b,w));return _}if(p instanceof Set){const _=new Set;b.set(p,_);for(const N of p)_.add(d(N,void 0,g,b,w));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,_);for(let N=0;N<p.length;N++)_[N]=d(p[N],N,g,b,w);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,_),f(_,p,g,b,w),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return b.set(p,_),f(_,p,g,b,w),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return b.set(p,_),f(_,p,g,b,w),_}if(p instanceof Error){const _=new p.constructor;return b.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,f(_,p,g,b,w),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return b.set(p,_),f(_,p,g,b,w),_}if(p instanceof Number){const _=new Number(p.valueOf());return b.set(p,_),f(_,p,g,b,w),_}if(p instanceof String){const _=new String(p.valueOf());return b.set(p,_),f(_,p,g,b,w),_}if(typeof p=="object"&&h(p)){const _=Object.create(Object.getPrototypeOf(p));return b.set(p,_),f(_,p,g,b,w),_}return p}function f(p,y,g=p,b,w){const S=[...Object.keys(y),...t.getSymbols(y)];for(let _=0;_<S.length;_++){const N=S[_],E=Object.getOwnPropertyDescriptor(p,N);(E==null||E.writable)&&(p[N]=d(y[N],N,g,b,w))}}function h(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=d,e.copyProperties=f})(E0)),E0}var vA;function IK(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QD();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(O0)),O0}var bA;function LK(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FD(),r=IK();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(x0)),x0}var T0={},D0={},M0={},xA;function $K(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QD(),r=Qw(),n=HD();function i(s,l){return t.cloneDeepWith(s,(d,f,h,p)=>{const y=l==null?void 0:l(d,f,h,p);if(y!==void 0)return y;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const g={};return p.set(s,g),t.copyProperties(g,s,h,p),g}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(g,s),g}case n.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}}})}e.cloneDeepWith=i})(M0)),M0}var wA;function BK(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$K();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(D0)),D0}var R0={},I0={},jA;function VD(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(I0)),I0}var L0={},SA;function UK(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qw();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(L0)),L0}var _A;function zK(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RD(),r=VD(),n=UK(),i=zw();function s(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(l==null?void 0:l[d])==null?f=i.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const y=f[p];if((h==null||!Object.hasOwn(h,y))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(y)&&y<h.length))return!1;h=h[y]}return!0}e.has=s})(R0)),R0}var NA;function qK(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FD(),r=Uw(),n=BK(),i=qw(),s=zK();function l(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return f=n.cloneDeep(f),function(h){const p=i.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=l})(T0)),T0}var OA;function KK(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UD(),r=TK(),n=LK(),i=qK();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(v0)),v0}var EA;function FK(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EK(),r=AK(),n=UD(),i=PK(),s=KK();function l(d,f=n.identity){return i.isArrayLikeObject(d)?t.uniqBy(Array.from(d),r.ary(s.iteratee(f),1)):[]}e.uniqBy=l})(u0)),u0}var $0,AA;function HK(){return AA||(AA=1,$0=FK().uniqBy),$0}var QK=HK();const CA=Ca(QK);function GD(e,t,r){return t===!0?CA(e,r):typeof t=="function"?CA(e,t):e}var B0={exports:{}},U0={},z0={exports:{}},q0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA;function VK(){if(kA)return q0;kA=1;var e=pc();function t(y,g){return y===g&&(y!==0||1/y===1/g)||y!==y&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function d(y,g){var b=g(),w=n({inst:{value:b,getSnapshot:g}}),S=w[0].inst,_=w[1];return s(function(){S.value=b,S.getSnapshot=g,f(S)&&_({inst:S})},[y,b,g]),i(function(){return f(S)&&_({inst:S}),y(function(){f(S)&&_({inst:S})})},[y]),l(b),b}function f(y){var g=y.getSnapshot;y=y.value;try{var b=g();return!r(y,b)}catch{return!0}}function h(y,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return q0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,q0}var PA;function GK(){return PA||(PA=1,z0.exports=VK()),z0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TA;function YK(){if(TA)return U0;TA=1;var e=pc(),t=GK();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,d=e.useMemo,f=e.useDebugValue;return U0.useSyncExternalStoreWithSelector=function(h,p,y,g,b){var w=s(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=d(function(){function N(P){if(!E){if(E=!0,A=P,P=g(P),b!==void 0&&S.hasValue){var M=S.value;if(b(M,P))return C=M}return C=P}if(M=C,n(A,P))return M;var I=g(P);return b!==void 0&&b(M,I)?(A=P,M):(A=P,C=I)}var E=!1,A,C,T=y===void 0?null:y;return[function(){return N(p())},T===null?void 0:function(){return N(T())}]},[p,y,g,b]);var _=i(h,w[0],w[1]);return l(function(){S.hasValue=!0,S.value=_},[_]),f(_),_},U0}var DA;function WK(){return DA||(DA=1,B0.exports=YK()),B0.exports}var XK=WK(),Vw=j.createContext(null),ZK=e=>e,Nt=()=>{var e=j.useContext(Vw);return e?e.store.dispatch:ZK},im=()=>{},JK=()=>im,eF=(e,t)=>e===t;function Oe(e){var t=j.useContext(Vw),r=j.useMemo(()=>t?n=>{if(n!=null)return e(n)}:im,[t,e]);return XK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:JK,t?t.store.getState:im,t?t.store.getState:im,r,eF)}function tF(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function rF(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function nF(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var MA=e=>Array.isArray(e)?e:[e];function aF(e){const t=Array.isArray(e[0])?e[0]:e;return nF(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function iF(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var sF=class{constructor(e){this.value=e}deref(){return this.value}},oF=typeof WeakRef<"u"?WeakRef:sF,lF=0,RA=1;function Uh(){return{s:lF,v:void 0,o:null,p:null}}function YD(e,t={}){let r=Uh();const{resultEqualityCheck:n}=t;let i,s=0;function l(){var y;let d=r;const{length:f}=arguments;for(let g=0,b=f;g<b;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let S=d.o;S===null&&(d.o=S=new WeakMap);const _=S.get(w);_===void 0?(d=Uh(),S.set(w,d)):d=_}else{let S=d.p;S===null&&(d.p=S=new Map);const _=S.get(w);_===void 0?(d=Uh(),S.set(w,d)):d=_}}const h=d;let p;if(d.s===RA)p=d.v;else if(p=e.apply(null,arguments),s++,n){const g=((y=i==null?void 0:i.deref)==null?void 0:y.call(i))??i;g!=null&&n(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new oF(p):p}return h.s=RA,h.v=p,p}return l.clearCache=()=>{r=Uh(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function cF(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,l=0,d,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),tF(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...f},{memoize:y,memoizeOptions:g=[],argsMemoize:b=YD,argsMemoizeOptions:w=[]}=p,S=MA(g),_=MA(w),N=aF(i),E=y(function(){return s++,h.apply(null,arguments)},...S),A=b(function(){l++;const T=iF(N,arguments);return d=E.apply(null,T),d},..._);return Object.assign(A,{resultFunc:h,memoizedResultFunc:E,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:y,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var G=cF(YD),uF=Object.assign((e,t=G)=>{rF(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,d,f)=>(l[r[f]]=d,l),{}))},{withTypes:()=>uF}),K0={},F0={},H0={},IA;function dF(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const l=t(n),d=t(i);if(l===d&&l===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};e.compareValues=r})(H0)),H0}var Q0={},V0={},LA;function WD(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(V0)),V0}var $A;function fF(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WD(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=i})(Q0)),Q0}var BA;function hF(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dF(),r=fF(),n=zw();function i(s,l,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const h=(b,w)=>{let S=b;for(let _=0;_<w.length&&S!=null;++_)S=S[w[_]];return S},p=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:h(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?h(w,b):typeof w=="object"?w[b]:w,y=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:n.toPath(b)}));return s.map(b=>({original:b,criteria:y.map(w=>p(w,b))})).slice().sort((b,w)=>{for(let S=0;S<y.length;S++){const _=t.compareValues(b.criteria[S],w.criteria[S],d[S]);if(_!==0)return _}return 0}).map(b=>b.original)}e.orderBy=i})(F0)),F0}var G0={},UA;function mF(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?l(p,f+1):i.push(p)}};return l(r,0),i}e.flatten=t})(G0)),G0}var Y0={},zA;function XD(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VD(),r=Hw(),n=zD(),i=KD();function s(l,d,f){return n.isObject(f)&&(typeof d=="number"&&r.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?i.isEqualsSameValueZero(f[d],l):!1}e.isIterateeCall=s})(Y0)),Y0}var qA;function pF(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hF(),r=mF(),n=XD();function i(s,...l){const d=l.length;return d>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=i})(K0)),K0}var W0,KA;function yF(){return KA||(KA=1,W0=pF().sortBy),W0}var gF=yF();const Dp=Ca(gF);var ZD=e=>e.legend.settings,vF=e=>e.legend.size,bF=e=>e.legend.payload,xF=G([bF,ZD],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Dp(n,r):n});function wF(){return Oe(xF)}var zh=1;function JD(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>zh||Math.abs(l.left-t.left)>zh||Math.abs(l.top-t.top)>zh||Math.abs(l.width-t.width)>zh)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Cr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var jF=typeof Symbol=="function"&&Symbol.observable||"@@observable",FA=jF,X0=()=>Math.random().toString(36).substring(7).split("").join("."),SF={INIT:`@@redux/INIT${X0()}`,REPLACE:`@@redux/REPLACE${X0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${X0()}`},Sm=SF;function Gw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function eM(e,t,r){if(typeof e!="function")throw new Error(Cr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Cr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Cr(1));return r(eM)(e,t)}let n=e,i=t,s=new Map,l=s,d=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((_,N)=>{l.set(N,_)}))}function p(){if(f)throw new Error(Cr(3));return i}function y(_){if(typeof _!="function")throw new Error(Cr(4));if(f)throw new Error(Cr(5));let N=!0;h();const E=d++;return l.set(E,_),function(){if(N){if(f)throw new Error(Cr(6));N=!1,h(),l.delete(E),s=null}}}function g(_){if(!Gw(_))throw new Error(Cr(7));if(typeof _.type>"u")throw new Error(Cr(8));if(typeof _.type!="string")throw new Error(Cr(17));if(f)throw new Error(Cr(9));try{f=!0,i=n(i,_)}finally{f=!1}return(s=l).forEach(E=>{E()}),_}function b(_){if(typeof _!="function")throw new Error(Cr(10));n=_,g({type:Sm.REPLACE})}function w(){const _=y;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Cr(11));function E(){const C=N;C.next&&C.next(p())}return E(),{unsubscribe:_(E)}},[FA](){return this}}}return g({type:Sm.INIT}),{dispatch:g,subscribe:y,getState:p,replaceReducer:b,[FA]:w}}function _F(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Sm.INIT})>"u")throw new Error(Cr(12));if(typeof r(void 0,{type:Sm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Cr(13))})}function tM(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let i;try{_F(r)}catch(s){i=s}return function(l={},d){if(i)throw i;let f=!1;const h={};for(let p=0;p<n.length;p++){const y=n[p],g=r[y],b=l[y],w=g(b,d);if(typeof w>"u")throw d&&d.type,new Error(Cr(14));h[y]=w,f=f||w!==b}return f=f||n.length!==Object.keys(l).length,f?h:l}}function _m(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function NF(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Cr(15))};const l={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},d=e.map(f=>f(l));return s=_m(...d)(i.dispatch),{...i,dispatch:s}}}function rM(e){return Gw(e)&&"type"in e&&typeof e.type=="string"}var nM=Symbol.for("immer-nothing"),HA=Symbol.for("immer-draftable"),Qr=Symbol.for("immer-state");function aa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jn=Object,lc=jn.getPrototypeOf,Nm="constructor",Mp="prototype",yx="configurable",Om="enumerable",sm="writable",cd="value",di=e=>!!e&&!!e[Qr];function la(e){var t;return e?aM(e)||Ip(e)||!!e[HA]||!!((t=e[Nm])!=null&&t[HA])||Lp(e)||$p(e):!1}var OF=jn[Mp][Nm].toString(),QA=new WeakMap;function aM(e){if(!e||!Yw(e))return!1;const t=lc(e);if(t===null||t===jn[Mp])return!0;const r=jn.hasOwnProperty.call(t,Nm)&&t[Nm];if(r===Object)return!0;if(!zl(r))return!1;let n=QA.get(r);return n===void 0&&(n=Function.toString.call(r),QA.set(r,n)),n===OF}function Rp(e,t,r=!0){Fd(e)===0?(r?Reflect.ownKeys(e):jn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Fd(e){const t=e[Qr];return t?t.type_:Ip(e)?1:Lp(e)?2:$p(e)?3:0}var VA=(e,t,r=Fd(e))=>r===2?e.has(t):jn[Mp].hasOwnProperty.call(e,t),gx=(e,t,r=Fd(e))=>r===2?e.get(t):e[t],Em=(e,t,r,n=Fd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function EF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ip=Array.isArray,Lp=e=>e instanceof Map,$p=e=>e instanceof Set,Yw=e=>typeof e=="object",zl=e=>typeof e=="function",Z0=e=>typeof e=="boolean";function AF(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Xa=e=>e.copy_||e.base_,Ww=e=>e.modified_?e.copy_:e.base_;function vx(e,t){if(Lp(e))return new Map(e);if($p(e))return new Set(e);if(Ip(e))return Array[Mp].slice.call(e);const r=aM(e);if(t===!0||t==="class_only"&&!r){const n=jn.getOwnPropertyDescriptors(e);delete n[Qr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const l=i[s],d=n[l];d[sm]===!1&&(d[sm]=!0,d[yx]=!0),(d.get||d.set)&&(n[l]={[yx]:!0,[sm]:!0,[Om]:d[Om],[cd]:e[l]})}return jn.create(lc(e),n)}else{const n=lc(e);if(n!==null&&r)return{...e};const i=jn.create(n);return jn.assign(i,e)}}function Xw(e,t=!1){return Bp(e)||di(e)||!la(e)||(Fd(e)>1&&jn.defineProperties(e,{set:qh,add:qh,clear:qh,delete:qh}),jn.freeze(e),t&&Rp(e,(r,n)=>{Xw(n,!0)},!1)),e}function CF(){aa(2)}var qh={[cd]:CF};function Bp(e){return e===null||!Yw(e)?!0:jn.isFrozen(e)}var Am="MapSet",bx="Patches",GA="ArrayMethods",iM={};function ko(e){const t=iM[e];return t||aa(0,e),t}var YA=e=>!!iM[e],ud,sM=()=>ud,kF=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:YA(Am)?ko(Am):void 0,arrayMethodsPlugin_:YA(GA)?ko(GA):void 0});function WA(e,t){t&&(e.patchPlugin_=ko(bx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xx(e){wx(e),e.drafts_.forEach(PF),e.drafts_=null}function wx(e){e===ud&&(ud=e.parent_)}var XA=e=>ud=kF(ud,e);function PF(e){const t=e[Qr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ZA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Qr].modified_&&(xx(t),aa(4)),la(e)&&(e=JA(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Qr].base_,e,t)}else e=JA(t,r);return TF(t,e,!0),xx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nM?e:void 0}function JA(e,t){if(Bp(t))return t;const r=t[Qr];if(!r)return Cm(t,e.handledSet_,e);if(!Up(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);cM(r,e)}return r.copy_}function TF(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Xw(t,r)}function oM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Up=(e,t)=>e.scope_===t,DF=[];function lM(e,t,r,n){const i=Xa(e),s=e.type_;if(n!==void 0&&gx(i,n,s)===t){Em(i,n,r,s);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;Rp(i,(f,h)=>{if(di(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const l=e.draftLocations_.get(t)??DF;for(const d of l)Em(i,d,r,s)}function MF(e,t,r){e.callbacks_.push(function(i){var d;const s=t;if(!s||!Up(s,i))return;(d=i.mapSetPlugin_)==null||d.fixSetContents(s);const l=Ww(s);lM(e,s.draft_??s,l,r),cM(s,i)})}function cM(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const s=i.getPath(e);s&&i.generatePatches_(e,s,t)}oM(e)}}function RF(e,t,r){const{scope_:n}=e;if(di(r)){const i=r[Qr];Up(i,n)&&i.callbacks_.push(function(){om(e);const l=Ww(i);lM(e,r,l,t)})}else la(r)&&e.callbacks_.push(function(){const s=Xa(e);e.type_===3?s.has(r)&&Cm(r,n.handledSet_,n):gx(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Cm(gx(e.copy_,t,e.type_),n.handledSet_,n)})}function Cm(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||di(e)||t.has(e)||!la(e)||Bp(e)||(t.add(e),Rp(e,(n,i)=>{if(di(i)){const s=i[Qr];if(Up(s,r)){const l=Ww(s);Em(e,n,l,e.type_),oM(s)}}else la(i)&&Cm(i,t,r)})),e}function IF(e,t){const r=Ip(e),n={type_:r?1:0,scope_:t?t.scope_:sM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=km;r&&(i=[n],s=dd);const{revoke:l,proxy:d}=Proxy.revocable(i,s);return n.draft_=d,n.revoke_=l,[d,n]}var km={get(e,t){if(t===Qr)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Xa(e);if(!VA(i,t,e.type_))return LF(e,i,t);const s=i[t];if(e.finalized_||!la(s)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&AF(t))return s;if(s===J0(e.base_,t)){om(e);const l=e.type_===1?+t:t,d=Sx(e.scope_,s,e,l);return e.copy_[l]=d}return s},has(e,t){return t in Xa(e)},ownKeys(e){return Reflect.ownKeys(Xa(e))},set(e,t,r){const n=uM(Xa(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=J0(Xa(e),t),s=i==null?void 0:i[Qr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(EF(r,i)&&(r!==void 0||VA(e.base_,t,e.type_)))return!0;om(e),jx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),RF(e,t,r)),!0},deleteProperty(e,t){return om(e),J0(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),jx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Xa(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[sm]:!0,[yx]:e.type_!==1||t!=="length",[Om]:n[Om],[cd]:r[t]}},defineProperty(){aa(11)},getPrototypeOf(e){return lc(e.base_)},setPrototypeOf(){aa(12)}},dd={};for(let e in km){let t=km[e];dd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}dd.deleteProperty=function(e,t){return dd.set.call(this,e,t,void 0)};dd.set=function(e,t,r){return km.set.call(this,e[0],t,r,e[0])};function J0(e,t){const r=e[Qr];return(r?Xa(r):e)[t]}function LF(e,t,r){var i;const n=uM(t,r);return n?cd in n?n[cd]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function uM(e,t){if(!(t in e))return;let r=lc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=lc(r)}}function jx(e){e.modified_||(e.modified_=!0,e.parent_&&jx(e.parent_))}function om(e){e.copy_||(e.assigned_=new Map,e.copy_=vx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $F=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(zl(r)&&!zl(n)){const l=n;n=r;const d=this;return function(h=l,...p){return d.produce(h,y=>n.call(this,y,...p))}}zl(n)||aa(6),i!==void 0&&!zl(i)&&aa(7);let s;if(la(r)){const l=XA(this),d=Sx(l,r,void 0);let f=!0;try{s=n(d),f=!1}finally{f?xx(l):wx(l)}return WA(l,i),ZA(s,l)}else if(!r||!Yw(r)){if(s=n(r),s===void 0&&(s=r),s===nM&&(s=void 0),this.autoFreeze_&&Xw(s,!0),i){const l=[],d=[];ko(bx).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:d}),i(l,d)}return s}else aa(1,r)},this.produceWithPatches=(r,n)=>{if(zl(r))return(d,...f)=>this.produceWithPatches(d,h=>r(h,...f));let i,s;return[this.produce(r,n,(d,f)=>{i=d,s=f}),i,s]},Z0(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Z0(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Z0(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){la(t)||aa(8),di(t)&&(t=oa(t));const r=XA(this),n=Sx(r,t,void 0);return n[Qr].isManual_=!0,wx(r),n}finishDraft(t,r){const n=t&&t[Qr];(!n||!n.isManual_)&&aa(9);const{scope_:i}=n;return WA(i,r),ZA(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const i=ko(bx).applyPatches_;return di(t)?i(t,r):this.produce(t,s=>i(s,r))}};function Sx(e,t,r,n){const[i,s]=Lp(t)?ko(Am).proxyMap_(t,r):$p(t)?ko(Am).proxySet_(t,r):IF(t,r);return((r==null?void 0:r.scope_)??sM()).drafts_.push(i),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?MF(r,s,n):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),i}function oa(e){return di(e)||aa(10,e),dM(e)}function dM(e){if(!la(e)||Bp(e))return e;const t=e[Qr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=vx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=vx(e,!0);return Rp(r,(i,s)=>{Em(r,i,dM(s))},n),t&&(t.finalized_=!1),r}var BF=new $F,fM=BF.produce;function hM(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var UF=hM(),zF=hM,qF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_m:_m.apply(null,arguments)};function Qn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Sn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>rM(n)&&n.type===e,r}var mM=class Hu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Hu.prototype)}static get[Symbol.species](){return Hu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Hu(...t[0].concat(this)):new Hu(...t.concat(this))}};function eC(e){return la(e)?fM(e,()=>{}):e}function Kh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function KF(e){return typeof e=="boolean"}var FF=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let l=new mM;return r&&(KF(r)?l.push(UF):l.push(zF(r.extraArgument))),l},pM="RTK_autoBatch",Pt=()=>e=>({payload:e,meta:{[pM]:!0}}),tC=e=>t=>{setTimeout(t,e)},yM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,l=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tC(10):e.type==="callback"?e.queueNotification:tC(e.timeout),h=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const y=()=>i&&p(),g=n.subscribe(y);return d.add(p),()=>{g(),d.delete(p)}},dispatch(p){var y;try{return i=!((y=p==null?void 0:p.meta)!=null&&y[pM]),s=!i,s&&(l||(l=!0,f(h))),n.dispatch(p)}finally{i=!0}}})},HF=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new mM(e);return n&&i.push(yM(typeof n=="object"?n:void 0)),i};function QF(e){const t=FF(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(Gw(r))d=tM(r);else throw new Error(Sn(1));let f;typeof n=="function"?f=n(t):f=t();let h=_m;i&&(h=qF({trace:!1,...typeof i=="object"&&i}));const p=NF(...f),y=HF(p);let g=typeof l=="function"?l(y):y();const b=h(...g);return eM(d,s,b)}function gM(e){const t={},r=[];let n;const i={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(Sn(28));if(d in t)throw new Error(Sn(29));return t[d]=l,i},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return r.push({matcher:s,reducer:l}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function VF(e){return typeof e=="function"}function GF(e,t){let[r,n,i]=gM(t),s;if(VF(e))s=()=>eC(e());else{const d=eC(e);s=()=>d}function l(d=s(),f){let h=[r[f.type],...n.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,y)=>{if(y)if(di(p)){const b=y(p,f);return b===void 0?p:b}else{if(la(p))return fM(p,g=>y(g,f));{const g=y(p,f);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return p},d)}return l.getInitialState=s,l}var YF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",WF=(e=21)=>{let t="",r=e;for(;r--;)t+=YF[Math.random()*64|0];return t},XF=Symbol.for("rtk-slice-createasyncthunk");function ZF(e,t){return`${e}/${t}`}function JF({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[XF];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(Sn(11));const d=(typeof i.reducers=="function"?i.reducers(t7()):i.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(C,T){const P=typeof C=="string"?C:C.type;if(!P)throw new Error(Sn(12));if(P in h.sliceCaseReducersByType)throw new Error(Sn(13));return h.sliceCaseReducersByType[P]=T,p},addMatcher(C,T){return h.sliceMatchers.push({matcher:C,reducer:T}),p},exposeAction(C,T){return h.actionCreators[C]=T,p},exposeCaseReducer(C,T){return h.sliceCaseReducersByName[C]=T,p}};f.forEach(C=>{const T=d[C],P={reducerName:C,type:ZF(s,C),createNotation:typeof i.reducers=="function"};n7(T)?i7(P,T,p,t):r7(P,T,p)});function y(){const[C={},T=[],P=void 0]=typeof i.extraReducers=="function"?gM(i.extraReducers):[i.extraReducers],M={...C,...h.sliceCaseReducersByType};return GF(i.initialState,I=>{for(let F in M)I.addCase(F,M[F]);for(let F of h.sliceMatchers)I.addMatcher(F.matcher,F.reducer);for(let F of T)I.addMatcher(F.matcher,F.reducer);P&&I.addDefaultCase(P)})}const g=C=>C,b=new Map,w=new WeakMap;let S;function _(C,T){return S||(S=y()),S(C,T)}function N(){return S||(S=y()),S.getInitialState()}function E(C,T=!1){function P(I){let F=I[C];return typeof F>"u"&&T&&(F=Kh(w,P,N)),F}function M(I=g){const F=Kh(b,T,()=>new WeakMap);return Kh(F,I,()=>{const L={};for(const[K,B]of Object.entries(i.selectors??{}))L[K]=e7(B,I,()=>Kh(w,I,N),T);return L})}return{reducerPath:C,getSelectors:M,get selectors(){return M(P)},selectSlice:P}}const A={name:s,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:N,...E(l),injectInto(C,{reducerPath:T,...P}={}){const M=T??l;return C.inject({reducerPath:M,reducer:_},P),{...A,...E(M,!0)}}};return A}}function e7(e,t,r,n){function i(s,...l){let d=t(s);return typeof d>"u"&&n&&(d=r()),e(d,...l)}return i.unwrapped=e,i}var ln=JF();function t7(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function r7({type:e,reducerName:t,createNotation:r},n,i){let s,l;if("reducer"in n){if(r&&!a7(n))throw new Error(Sn(17));s=n.reducer,l=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?Qn(e,l):Qn(e))}function n7(e){return e._reducerDefinitionType==="asyncThunk"}function a7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function i7({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Sn(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=r,y=i(e,s,p);n.exposeAction(t,y),l&&n.addCase(y.fulfilled,l),d&&n.addCase(y.pending,d),f&&n.addCase(y.rejected,f),h&&n.addMatcher(y.settled,h),n.exposeCaseReducer(t,{fulfilled:l||Fh,pending:d||Fh,rejected:f||Fh,settled:h||Fh})}function Fh(){}var s7="task",vM="listener",bM="completed",Zw="cancelled",o7=`task-${Zw}`,l7=`task-${bM}`,_x=`${vM}-${Zw}`,c7=`${vM}-${bM}`,zp=class{constructor(e){Iv(this,"name","TaskAbortError");Iv(this,"message");this.code=e,this.message=`${s7} ${Zw} (reason: ${e})`}},Jw=(e,t)=>{if(typeof e!="function")throw new TypeError(Sn(32))},Pm=()=>{},xM=(e,t=Pm)=>(e.catch(t),e),wM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),xo=e=>{if(e.aborted)throw new zp(e.reason)};function jM(e,t){let r=Pm;return new Promise((n,i)=>{const s=()=>i(new zp(e.reason));if(e.aborted){s();return}r=wM(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Pm})}var u7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof zp?"cancelled":"rejected",error:r}}finally{t==null||t()}},Tm=e=>t=>xM(jM(e,t).then(r=>(xo(e),r))),SM=e=>{const t=Tm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ql}=Object,rC={},qp="listenerMiddleware",d7=(e,t)=>{const r=n=>wM(e,()=>n.abort(e.reason));return(n,i)=>{Jw(n);const s=new AbortController;r(s);const l=u7(async()=>{xo(e),xo(s.signal);const d=await n({pause:Tm(s.signal),delay:SM(s.signal),signal:s.signal});return xo(s.signal),d},()=>s.abort(l7));return i!=null&&i.autoJoin&&t.push(l.catch(Pm)),{result:Tm(e)(l),cancel(){s.abort(o7)}}}},f7=(e,t)=>{const r=async(n,i)=>{xo(t);let s=()=>{};const d=[new Promise((f,h)=>{let p=e({predicate:n,effect:(y,g)=>{g.unsubscribe(),f([y,g.getState(),g.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&d.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await jM(t,Promise.race(d));return xo(t),f}finally{s()}};return(n,i)=>xM(r(n,i))},_M=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Qn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Sn(21));return Jw(s),{predicate:i,type:t,effect:s}},NM=Ql(e=>{const{type:t,predicate:r,effect:n}=_M(e);return{id:WF(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Sn(22))}}},{withTypes:()=>NM}),nC=(e,t)=>{const{type:r,effect:n,predicate:i}=_M(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},Nx=e=>{e.pending.forEach(t=>{t.abort(_x)})},h7=(e,t)=>()=>{for(const r of t.keys())Nx(r);e.clear()},aC=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},OM=Ql(Qn(`${qp}/add`),{withTypes:()=>OM}),m7=Qn(`${qp}/removeAll`),EM=Ql(Qn(`${qp}/remove`),{withTypes:()=>EM}),p7=(...e)=>{console.error(`${qp}/error`,...e)},Hd=(e={})=>{const t=new Map,r=new Map,n=b=>{const w=r.get(b)??0;r.set(b,w+1)},i=b=>{const w=r.get(b)??1;w===1?r.delete(b):r.set(b,w-1)},{extra:s,onError:l=p7}=e;Jw(l);const d=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),w=>{b.unsubscribe(),w!=null&&w.cancelActive&&Nx(b)}),f=b=>{const w=nC(t,b)??NM(b);return d(w)};Ql(f,{withTypes:()=>f});const h=b=>{const w=nC(t,b);return w&&(w.unsubscribe(),b.cancelActive&&Nx(w)),!!w};Ql(h,{withTypes:()=>h});const p=async(b,w,S,_)=>{const N=new AbortController,E=f7(f,N.signal),A=[];try{b.pending.add(N),n(b),await Promise.resolve(b.effect(w,Ql({},S,{getOriginalState:_,condition:(C,T)=>E(C,T).then(Boolean),take:E,delay:SM(N.signal),pause:Tm(N.signal),extra:s,signal:N.signal,fork:d7(N.signal,A),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((C,T,P)=>{C!==N&&(C.abort(_x),P.delete(C))})},cancel:()=>{N.abort(_x),b.pending.delete(N)},throwIfCancelled:()=>{xo(N.signal)}})))}catch(C){C instanceof zp||aC(l,C,{raisedBy:"effect"})}finally{await Promise.all(A),N.abort(c7),i(b),b.pending.delete(N)}},y=h7(t,r);return{middleware:b=>w=>S=>{if(!rM(S))return w(S);if(OM.match(S))return f(S.payload);if(m7.match(S)){y();return}if(EM.match(S))return h(S.payload);let _=b.getState();const N=()=>{if(_===rC)throw new Error(Sn(23));return _};let E;try{if(E=w(S),t.size>0){const A=b.getState(),C=Array.from(t.values());for(const T of C){let P=!1;try{P=T.predicate(S,A,_)}catch(M){P=!1,aC(l,M,{raisedBy:"predicate"})}P&&p(T,S,b,N)}}}finally{_=rC}return E},startListening:f,stopListening:h,clearListeners:y}};function Sn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var y7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},AM=ln({name:"chartLayout",initialState:y7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:g7,setLayout:v7,setChartSize:b7,setScale:x7}=AM.actions,w7=AM.reducer;function CM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Ze(e){return Number.isFinite(e)}function Ea(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function iC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(r),!0).forEach(function(n){j7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j7(e,t,r){return(t=S7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S7(e){var t=_7(e,"string");return typeof t=="symbol"?t:t+""}function _7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gt(e,t,r){return Rt(e)||Rt(t)?r:Oa(t)?Ao(e,t,r):typeof t=="function"?t(e):r}var N7=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:l,layout:d}=t;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&je(e[s]))return Kl(Kl({},e),{},{[s]:e[s]+(n||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&je(e[l]))return Kl(Kl({},e),{},{[l]:e[l]+(i||0)})}return e},wi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",kM=(e,t,r,n)=>{if(n)return e.map(d=>d.coordinate);var i,s,l=e.map(d=>(d.coordinate===t&&(i=!0),d.coordinate===r&&(s=!0),d.coordinate));return i||l.push(t),s||l.push(r),l},PM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:y,niceTicks:g,axisType:b}=e;if(!l)return null;var w=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(S=b==="angleAxis"&&s&&s.length>=2?vr(s[0]-s[1])*2*S:S,y||g){var _=(y||g||[]).map((N,E)=>{var A=n?n.indexOf(N):N,C=l.map(A);return Ze(C)?{coordinate:C+S,value:N,offset:S,index:E}:null}).filter(an);return _}return f&&h?h.map((N,E)=>{var A=l.map(N);return Ze(A)?{coordinate:A+S,value:N,index:E,offset:S}:null}).filter(an):l.ticks&&p!=null?l.ticks(p).map((N,E)=>{var A=l.map(N);return Ze(A)?{coordinate:A+S,value:N,index:E,offset:S}:null}).filter(an):l.domain().map((N,E)=>{var A=l.map(N);return Ze(A)?{coordinate:A+S,value:n?n[N]:N,index:E,offset:S}:null}).filter(an)},O7=(e,t)=>{if(!t||t.length!==2||!je(t[0])||!je(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!je(e[0])||e[0]<r)&&(i[0]=r),(!je(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},E7=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,l=0,d=0;d<r;++d){var f=e[d],h=f==null?void 0:f[i];if(h!=null){var p=h[1],y=h[0],g=Na(p)?y:p;g>=0?(h[0]=s,s+=g,h[1]=s):(h[0]=l,l+=g,h[1]=l)}}}},A7=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,l=0;l<r;++l){var d=e[l],f=d==null?void 0:d[i];if(f!=null){var h=Na(f[1])?f[0]:f[1];h>=0?(f[0]=s,s+=h,f[1]=s):(f[0]=0,f[1]=0)}}}},C7={sign:E7,expand:Y9,none:Eo,silhouette:W9,wiggle:X9,positive:A7},k7=(e,t,r)=>{var n,i=(n=C7[r])!==null&&n!==void 0?n:Eo,s=G9().keys(t).value((d,f)=>Number(gt(d,f,0))).order(mx).offset(i),l=s(e);return l.forEach((d,f)=>{d.forEach((h,p)=>{var y=gt(e[p],t[f],0);Array.isArray(y)&&y.length===2&&je(y[0])&&je(y[1])&&(h[0]=y[0],h[1]=y[1])})}),l};function P7(e){return e==null?void 0:String(e)}function sC(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Rt(i[t.dataKey])){var d=LD(r,"value",i[t.dataKey]);if(d)return d.coordinate+n/2}return r!=null&&r[s]?r[s].coordinate+n/2:null}var f=gt(i,Rt(l)?t.dataKey:l),h=t.scale.map(f);return je(h)?h:null}var oC=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var d=gt(s,t.dataKey,t.scale.domain()[l]);if(Rt(d))return null;var f=t.scale.map(d);return je(f)?f-i/2+n:null},T7=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},D7=e=>{var t=e.flat(2).filter(je);return[Math.min(...t),Math.max(...t)]},M7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],R7=(e,t,r)=>{if(e!=null)return M7(Object.keys(e).reduce((n,i)=>{var s=e[i];if(!s)return n;var{stackedData:l}=s,d=l.reduce((f,h)=>{var p=CM(h,t,r),y=D7(p);return!Ze(y[0])||!Ze(y[1])?f:[Math.min(f[0],y[0]),Math.max(f[1],y[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},lC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Dp(t,p=>p.coordinate),s=1/0,l=1,d=i.length;l<d;l++){var f=i[l],h=i[l-1];s=Math.min(((f==null?void 0:f.coordinate)||0)-((h==null?void 0:h.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function uC(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return Kl(Kl({},t),{},{dataKey:r,payload:n,value:i,name:s})}function Sc(e,t){if(e)return String(e);if(typeof t=="string")return t}var I7=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},L7=(e,t)=>t==="centric"?e.angle:e.radius,ji=e=>e.layout.width,Si=e=>e.layout.height,$7=e=>e.layout.scale,TM=e=>e.layout.margin,Kp=G(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Fp=G(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),DM="data-recharts-item-index",MM="data-recharts-item-id",Qd=60;function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(r),!0).forEach(function(n){B7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B7(e,t,r){return(t=U7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U7(e){var t=z7(e,"string");return typeof t=="symbol"?t:t+""}function z7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q7=e=>e.brush.height;function K7(e){var t=Fp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Qd;return r+i}return r},0)}function F7(e){var t=Fp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Qd;return r+i}return r},0)}function H7(e){var t=Kp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Q7(e){var t=Kp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var cr=G([ji,Si,TM,q7,K7,F7,H7,Q7,ZD,vF],(e,t,r,n,i,s,l,d,f,h)=>{var p={left:(r.left||0)+i,right:(r.right||0)+s},y={top:(r.top||0)+l,bottom:(r.bottom||0)+d},g=Hh(Hh({},y),p),b=g.bottom;g.bottom+=n,g=N7(g,f,h);var w=e-g.left-g.right,S=t-g.top-g.bottom;return Hh(Hh({brushBottom:b},g),{},{width:Math.max(w,0),height:Math.max(S,0)})}),V7=G(cr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ej=G(ji,Si,(e,t)=>({x:0,y:0,width:e,height:t})),G7=j.createContext(null),Br=()=>j.useContext(G7)!=null,Hp=e=>e.brush,Qp=G([Hp,cr,TM],(e,t,r)=>({height:e.height,x:je(e.x)?e.x:t.left,y:je(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:je(e.width)?e.width:t.width})),eb={},tb={},rb={},fC;function Y7(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let l,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(r.apply(l,d),l=void 0,d=null)},y=()=>{h&&p(),S()};let g=null;const b=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,y()},n)},w=()=>{g!==null&&(clearTimeout(g),g=null)},S=()=>{w(),l=void 0,d=null},_=()=>{p()},N=function(...E){if(i!=null&&i.aborted)return;l=this,d=E;const A=g==null;b(),f&&A&&p()};return N.schedule=b,N.cancel=S,N.flush=_,i==null||i.addEventListener("abort",S,{once:!0}),N}e.debounce=t})(rb)),rb}var hC;function W7(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y7();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,y=null;const g=t.debounce(function(...S){p=n.apply(this,S),y=null},i,{edges:h}),b=function(...S){return f!=null&&(y===null&&(y=Date.now()),Date.now()-y>=f)?(p=n.apply(this,S),y=Date.now(),g.cancel(),g.schedule(),p):(g.apply(this,S),p)},w=()=>(g.flush(),p);return b.cancel=g.cancel,b.flush=w,b}e.debounce=r})(tb)),tb}var mC;function X7(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W7();function r(n,i=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return t.debounce(n,i,{leading:l,maxWait:i,trailing:d})}e.throttle=r})(eb)),eb}var nb,pC;function Z7(){return pC||(pC=1,nb=X7().throttle),nb}var J7=Z7();const eH=Ca(J7);var Dm=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>i[l++]))}},ja={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},RM=(e,t,r)=>{var{width:n=ja.width,height:i=ja.height,aspect:s,maxHeight:l}=r,d=Co(n)?e:Number(n),f=Co(i)?t:Number(i);return s&&s>0&&(d?f=d/s:f&&(d=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:d,calculatedHeight:f}},tH={width:0,height:0,overflow:"visible"},rH={width:0,overflowX:"visible"},nH={height:0,overflowY:"visible"},aH={},iH=e=>{var{width:t,height:r}=e,n=Co(t),i=Co(r);return n&&i?tH:n?rH:i?nH:aH};function sH(e){var{width:t,height:r,aspect:n}=e,i=t,s=r;return i===void 0&&s===void 0?(i=ja.width,s=ja.height):i===void 0?i=n&&n>0?void 0:ja.width:s===void 0&&(s=n&&n>0?void 0:ja.height),{width:i,height:s}}function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ox.apply(null,arguments)}function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(n){oH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oH(e,t,r){return(t=lH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lH(e){var t=cH(e,"string");return typeof t=="symbol"?t:t+""}function cH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IM=j.createContext(ja.initialDimension);function uH(e){return Ea(e.width)&&Ea(e.height)}function LM(e){var{children:t,width:r,height:n}=e,i=j.useMemo(()=>({width:r,height:n}),[r,n]);return uH(i)?j.createElement(IM.Provider,{value:i},t):null}var tj=()=>j.useContext(IM),dH=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=ja.initialDimension,width:i,height:s,minWidth:l=ja.minWidth,minHeight:d,maxHeight:f,children:h,debounce:p=ja.debounce,id:y,className:g,onResize:b,style:w={}}=e,S=j.useRef(null),_=j.useRef();_.current=b,j.useImperativeHandle(t,()=>S.current);var[N,E]=j.useState({containerWidth:n.width,containerHeight:n.height}),A=j.useCallback((I,F)=>{E(L=>{var K=Math.round(I),B=Math.round(F);return L.containerWidth===K&&L.containerHeight===B?L:{containerWidth:K,containerHeight:B}})},[]);j.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return Lo;var I=B=>{var te,de=B[0];if(de!=null){var{width:Z,height:R}=de.contentRect;A(Z,R),(te=_.current)===null||te===void 0||te.call(_,Z,R)}};p>0&&(I=eH(I,p,{trailing:!0,leading:!1}));var F=new ResizeObserver(I),{width:L,height:K}=S.current.getBoundingClientRect();return A(L,K),F.observe(S.current),()=>{F.disconnect()}},[A,p]);var{containerWidth:C,containerHeight:T}=N;Dm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:M}=RM(C,T,{width:i,height:s,aspect:r,maxHeight:f});return Dm(P!=null&&P>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,M,i,s,l,d,r),j.createElement("div",{id:y?"".concat(y):void 0,className:rt("recharts-responsive-container",g),style:gC(gC({},w),{},{width:i,height:s,minWidth:l,minHeight:d,maxHeight:f}),ref:S},j.createElement("div",{style:iH({width:i,height:s})},j.createElement(LM,{width:P,height:M},h)))}),Vl=j.forwardRef((e,t)=>{var r=tj();if(Ea(r.width)&&Ea(r.height))return e.children;var{width:n,height:i}=sH({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=RM(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return je(s)&&je(l)?j.createElement(LM,{width:s,height:l},e.children):j.createElement(dH,Ox({},e,{width:n,height:i,ref:t}))});function rj(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Vp=()=>{var e,t=Br(),r=Oe(V7),n=Oe(Qp),i=(e=Oe(Hp))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},fH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},$M=()=>{var e;return(e=Oe(cr))!==null&&e!==void 0?e:fH},nj=()=>Oe(ji),aj=()=>Oe(Si),hH=()=>Oe(e=>e.layout.margin),at=e=>e.layout.layoutType,$o=()=>Oe(at),BM=()=>{var e=$o();if(e==="horizontal"||e==="vertical")return e},UM=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},mH=()=>{var e=$o();return e!==void 0},Vd=e=>{var t=Nt(),r=Br(),{width:n,height:i}=e,s=tj(),l=n,d=i;return s&&(l=s.width>0?s.width:n,d=s.height>0?s.height:i),j.useEffect(()=>{!r&&Ea(l)&&Ea(d)&&t(b7({width:l,height:d}))},[t,r,l,d]),null},zM=Symbol.for("immer-nothing"),vC=Symbol.for("immer-draftable"),Nn=Symbol.for("immer-state");function ia(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fd=Object.getPrototypeOf;function uc(e){return!!e&&!!e[Nn]}function Po(e){var t;return e?qM(e)||Array.isArray(e)||!!e[vC]||!!((t=e.constructor)!=null&&t[vC])||Gd(e)||Yp(e):!1}var pH=Object.prototype.constructor.toString(),bC=new WeakMap;function qM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=bC.get(r);return n===void 0&&(n=Function.toString.call(r),bC.set(r,n)),n===pH}function Mm(e,t,r=!0){Gp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Gp(e){const t=e[Nn];return t?t.type_:Array.isArray(e)?1:Gd(e)?2:Yp(e)?3:0}function Ex(e,t){return Gp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function KM(e,t,r){const n=Gp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function yH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Gd(e){return e instanceof Map}function Yp(e){return e instanceof Set}function eo(e){return e.copy_||e.base_}function Ax(e,t){if(Gd(e))return new Map(e);if(Yp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=qM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Nn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const l=i[s],d=n[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[l]})}return Object.create(fd(e),n)}else{const n=fd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function ij(e,t=!1){return Wp(e)||uc(e)||!Po(e)||(Gp(e)>1&&Object.defineProperties(e,{set:Qh,add:Qh,clear:Qh,delete:Qh}),Object.freeze(e),t&&Object.values(e).forEach(r=>ij(r,!0))),e}function gH(){ia(2)}var Qh={value:gH};function Wp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var vH={};function To(e){const t=vH[e];return t||ia(0,e),t}var hd;function FM(){return hd}function bH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function xC(e,t){t&&(To("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Cx(e){kx(e),e.drafts_.forEach(xH),e.drafts_=null}function kx(e){e===hd&&(hd=e.parent_)}function wC(e){return hd=bH(hd,e)}function xH(e){const t=e[Nn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function jC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Nn].modified_&&(Cx(t),ia(4)),Po(e)&&(e=Rm(t,e),t.parent_||Im(t,e)),t.patches_&&To("Patches").generateReplacementPatches_(r[Nn].base_,e,t.patches_,t.inversePatches_)):e=Rm(t,r,[]),Cx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zM?e:void 0}function Rm(e,t,r){if(Wp(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Nn];if(!i)return Mm(t,(s,l)=>SC(e,i,t,s,l,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Im(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,d=!1;i.type_===3&&(l=new Set(s),s.clear(),d=!0),Mm(l,(f,h)=>SC(e,i,s,f,h,r,d),n),Im(e,s,!1),r&&e.patches_&&To("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function SC(e,t,r,n,i,s,l){if(i==null||typeof i!="object"&&!l)return;const d=Wp(i);if(!(d&&!l)){if(uc(i)){const f=s&&t&&t.type_!==3&&!Ex(t.assigned_,n)?s.concat(n):void 0,h=Rm(e,i,f);if(KM(r,n,h),uc(h))e.canAutoFreeze_=!1;else return}else l&&r.add(i);if(Po(i)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&d)return;Rm(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Gd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Im(e,i)}}}function Im(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ij(t,r)}function wH(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:FM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=sj;r&&(i=[n],s=md);const{revoke:l,proxy:d}=Proxy.revocable(i,s);return n.draft_=d,n.revoke_=l,d}var sj={get(e,t){if(t===Nn)return e;const r=eo(e);if(!Ex(r,t))return jH(e,r,t);const n=r[t];return e.finalized_||!Po(n)?n:n===ab(e.base_,t)?(ib(e),e.copy_[t]=Tx(n,e)):n},has(e,t){return t in eo(e)},ownKeys(e){return Reflect.ownKeys(eo(e))},set(e,t,r){const n=HM(eo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=ab(eo(e),t),s=i==null?void 0:i[Nn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(yH(r,i)&&(r!==void 0||Ex(e.base_,t)))return!0;ib(e),Px(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ab(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ib(e),Px(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=eo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ia(11)},getPrototypeOf(e){return fd(e.base_)},setPrototypeOf(){ia(12)}},md={};Mm(sj,(e,t)=>{md[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});md.deleteProperty=function(e,t){return md.set.call(this,e,t,void 0)};md.set=function(e,t,r){return sj.set.call(this,e[0],t,r,e[0])};function ab(e,t){const r=e[Nn];return(r?eo(r):e)[t]}function jH(e,t,r){var i;const n=HM(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function HM(e,t){if(!(t in e))return;let r=fd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=fd(r)}}function Px(e){e.modified_||(e.modified_=!0,e.parent_&&Px(e.parent_))}function ib(e){e.copy_||(e.copy_=Ax(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var SH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(f=s,...h){return l.produce(f,p=>r.call(this,p,...h))}}typeof r!="function"&&ia(6),n!==void 0&&typeof n!="function"&&ia(7);let i;if(Po(t)){const s=wC(this),l=Tx(t,void 0);let d=!0;try{i=r(l),d=!1}finally{d?Cx(s):kx(s)}return xC(s,n),jC(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===zM&&(i=void 0),this.autoFreeze_&&ij(i,!0),n){const s=[],l=[];To("Patches").generateReplacementPatches_(t,i,s,l),n(s,l)}return i}else ia(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...d)=>this.produceWithPatches(l,f=>t(f,...d));let n,i;return[this.produce(t,r,(l,d)=>{n=l,i=d}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Po(e)||ia(8),uc(e)&&(e=_H(e));const t=wC(this),r=Tx(e,void 0);return r[Nn].isManual_=!0,kx(t),r}finishDraft(e,t){const r=e&&e[Nn];(!r||!r.isManual_)&&ia(9);const{scope_:n}=r;return xC(n,t),jC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=To("Patches").applyPatches_;return uc(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Tx(e,t){const r=Gd(e)?To("MapSet").proxyMap_(e,t):Yp(e)?To("MapSet").proxySet_(e,t):wH(e,t);return(t?t.scope_:FM()).drafts_.push(r),r}function _H(e){return uc(e)||ia(10,e),QM(e)}function QM(e){if(!Po(e)||Wp(e))return e;const t=e[Nn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ax(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Ax(e,!0);return Mm(r,(i,s)=>{KM(r,i,QM(s))},n),t&&(t.finalized_=!1),r}var NH=new SH;NH.produce;var OH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},VM=ln({name:"legend",initialState:OH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Pt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=oa(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Pt()},removeLegendPayload:{reducer(e,t){var r=oa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Pt()}}}),{setLegendSize:_C,setLegendSettings:EH,addLegendPayload:GM,replaceLegendPayload:YM,removeLegendPayload:WM}=VM.actions,AH=VM.reducer,CH=["contextPayload"];function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(null,arguments)}function NC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(r),!0).forEach(function(n){kH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kH(e,t,r){return(t=PH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PH(e){var t=TH(e,"string");return typeof t=="symbol"?t:t+""}function TH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DH(e,t){if(e==null)return{};var r,n,i=MH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RH(e){return e.value}function IH(e){var{contextPayload:t}=e,r=DH(e,CH),n=GD(t,e.payloadUniqBy,RH),i=dc(dc({},r),{},{payload:n});return j.isValidElement(e.content)?j.cloneElement(e.content,i):typeof e.content=="function"?j.createElement(e.content,i):j.createElement(OK,i)}function LH(e,t,r,n,i,s){var{layout:l,align:d,verticalAlign:f}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&l==="vertical"?h={left:((n||0)-s.width)/2}:h=d==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?p={top:((i||0)-s.height)/2}:p=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),dc(dc({},h),p)}function $H(e){var t=Nt();return j.useEffect(()=>{t(EH(e))},[t,e]),null}function BH(e){var t=Nt();return j.useEffect(()=>(t(_C(e)),()=>{t(_C({width:0,height:0}))}),[t,e]),null}function UH(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var zH={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Xp(e){var t=nr(e,zH),r=wF(),n=v9(),i=hH(),{width:s,height:l,wrapperStyle:d,portal:f}=t,[h,p]=JD([r]),y=nj(),g=aj();if(y==null||g==null)return null;var b=y-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),w=UH(t.layout,l,s,b),S=f?d:dc(dc({position:"absolute",width:(w==null?void 0:w.width)||s||"auto",height:(w==null?void 0:w.height)||l||"auto"},LH(d,t,i,y,g,h)),d),_=f??n;if(_==null||r==null)return null;var N=j.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:p},j.createElement($H,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&j.createElement(BH,{width:h.width,height:h.height}),j.createElement(IH,Dx({},t,w,{margin:i,chartWidth:y,chartHeight:g,contextPayload:r})));return bw.createPortal(N,_)}Xp.displayName="Legend";function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mx.apply(null,arguments)}function OC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(r),!0).forEach(function(n){qH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qH(e,t,r){return(t=KH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KH(e){var t=FH(e,"string");return typeof t=="symbol"?t:t+""}function FH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HH(e){return Array.isArray(e)&&Oa(e[0])&&Oa(e[1])?e.join(" ~ "):e}var Ml={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},QH=e=>{var{separator:t=Ml.separator,contentStyle:r,itemStyle:n,labelStyle:i=Ml.labelStyle,payload:s,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:y,accessibilityLayer:g=Ml.accessibilityLayer}=e,b=()=>{if(s&&s.length){var T={padding:0,margin:0},P=(d?Dp(s,d):s).map((M,I)=>{if(M.type==="none")return null;var F=M.formatter||l||HH,{value:L,name:K}=M,B=L,te=K;if(F){var de=F(L,K,M,I,s);if(Array.isArray(de))[B,te]=de;else if(de!=null)B=de;else return null}var Z=Mu(Mu({},Ml.itemStyle),{},{color:M.color||Ml.itemStyle.color},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:Z},Oa(te)?j.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Oa(te)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},B),j.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:T},P)}return null},w=Mu(Mu({},Ml.contentStyle),r),S=Mu({margin:0},i),_=!Rt(p),N=_?p:"",E=rt("recharts-default-tooltip",f),A=rt("recharts-tooltip-label",h);_&&y&&s!==void 0&&s!==null&&(N=y(p,s));var C=g?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Mx({className:E,style:w},C),j.createElement("p",{className:A,style:S},j.isValidElement(N)?N:"".concat(N)),b())},Ru="recharts-tooltip-wrapper",VH={visibility:"hidden"};function GH(e){var{coordinate:t,translateX:r,translateY:n}=e;return rt(Ru,{["".concat(Ru,"-right")]:je(r)&&t&&je(t.x)&&r>=t.x,["".concat(Ru,"-left")]:je(r)&&t&&je(t.x)&&r<t.x,["".concat(Ru,"-bottom")]:je(n)&&t&&je(t.y)&&n>=t.y,["".concat(Ru,"-top")]:je(n)&&t&&je(t.y)&&n<t.y})}function EC(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:s,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=e;if(s&&je(s[n]))return s[n];var p=r[n]-d-(i>0?i:0),y=r[n]+i;if(t[n])return l[n]?p:y;var g=f[n];if(g==null)return 0;if(l[n]){var b=p,w=g;return b<w?Math.max(y,g):Math.max(p,g)}if(h==null)return 0;var S=y+d,_=g+h;return S>_?Math.max(p,g):Math.max(y,g)}function YH(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function WH(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:s,reverseDirection:l,tooltipBox:d,useTranslate3d:f,viewBox:h}=e,p,y,g;return d.height>0&&d.width>0&&r?(y=EC({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:s,reverseDirection:l,tooltipDimension:d.width,viewBox:h,viewBoxDimension:h.width}),g=EC({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:s,reverseDirection:l,tooltipDimension:d.height,viewBox:h,viewBoxDimension:h.height}),p=YH({translateX:y,translateY:g,useTranslate3d:f})):p=VH,{cssProperties:p,cssClasses:GH({translateX:y,translateY:g,coordinate:r})}}function AC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(r),!0).forEach(function(n){Rx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rx(e,t,r){return(t=XH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XH(e){var t=ZH(e,"string");return typeof t=="symbol"?t:t+""}function ZH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class JH extends j.PureComponent{constructor(){super(...arguments),Rx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Rx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:y,useTranslate3d:g,viewBox:b,wrapperStyle:w,lastBoundingBox:S,innerRef:_,hasPortalFromProps:N}=this.props,E=typeof h=="number"?h:h.x,A=typeof h=="number"?h:h.y,{cssClasses:C,cssProperties:T}=WH({allowEscapeViewBox:r,coordinate:l,offsetLeft:E,offsetTop:A,position:p,reverseDirection:y,tooltipBox:{height:S.height,width:S.width},useTranslate3d:g,viewBox:b}),P=N?{}:Vh(Vh({transition:f&&t?"transform ".concat(n,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),M=Vh(Vh({},P),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},w);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:M,ref:_},s)}}var XM=()=>{var e;return(e=Oe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ix.apply(null,arguments)}function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){eQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eQ(e,t,r){return(t=tQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tQ(e){var t=rQ(e,"string");return typeof t=="symbol"?t:t+""}function rQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PC={curveBasisClosed:L9,curveBasisOpen:$9,curveBasis:I9,curveBumpX:j9,curveBumpY:S9,curveLinearClosed:B9,curveLinear:Pp,curveMonotoneX:U9,curveMonotoneY:z9,curveNatural:q9,curveStep:K9,curveStepAfter:H9,curveStepBefore:F9},Lm=e=>Ze(e.x)&&Ze(e.y),TC=e=>e.base!=null&&Lm(e.base)&&Lm(e),Iu=e=>e.x,Lu=e=>e.y,nQ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(qd(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=PC["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return PC[r]||Pp},DC={connectNulls:!1,type:"linear"},aQ=e=>{var{type:t=DC.type,points:r=[],baseLine:n,layout:i,connectNulls:s=DC.connectNulls}=e,l=nQ(t,i),d=s?r.filter(Lm):r;if(Array.isArray(n)){var f,h=r.map((w,S)=>kC(kC({},w),{},{base:n[S]}));i==="vertical"?f=Bh().y(Lu).x1(Iu).x0(w=>w.base.x):f=Bh().x(Iu).y1(Lu).y0(w=>w.base.y);var p=f.defined(TC).curve(l),y=s?h.filter(TC):h;return p(y)}var g;i==="vertical"&&je(n)?g=Bh().y(Lu).x1(Iu).x0(n):je(n)?g=Bh().x(Iu).y1(Lu).y0(n):g=_D().x(Iu).y(Lu);var b=g.defined(Lm).curve(l);return b(d)},oj=e=>{var{className:t,points:r,path:n,pathRef:i}=e,s=$o();if((!r||!r.length)&&!n)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},d=r&&r.length?aQ(l):n;return j.createElement("path",Ix({},_n(e),Fw(e),{className:rt("recharts-curve",t),d:d===null?void 0:d,ref:i}))},iQ=["x","y","top","left","width","height","className"];function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lx.apply(null,arguments)}function MC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(r),!0).forEach(function(n){oQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oQ(e,t,r){return(t=lQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lQ(e){var t=cQ(e,"string");return typeof t=="symbol"?t:t+""}function cQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uQ(e,t){if(e==null)return{};var r,n,i=dQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fQ=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),hQ=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:l=0,className:d}=e,f=uQ(e,iQ),h=sQ({x:t,y:r,top:n,left:i,width:s,height:l},f);return!je(t)||!je(r)||!je(s)||!je(l)||!je(n)||!je(i)?null:j.createElement("path",Lx({},Hr(h),{className:rt("recharts-cross",d),d:fQ(t,r,s,l,n,i)}))};function mQ(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function RC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(r),!0).forEach(function(n){pQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pQ(e,t,r){return(t=yQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yQ(e){var t=gQ(e,"string");return typeof t=="symbol"?t:t+""}function gQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),ZM=(e,t,r)=>e.map(n=>"".concat(vQ(n)," ").concat(t,"ms ").concat(r)).join(","),bQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),pd=(e,t)=>Object.keys(t).reduce((r,n)=>IC(IC({},r),{},{[n]:e(n,t[n])}),{});function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){xQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xQ(e,t,r){return(t=wQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wQ(e){var t=jQ(e,"string");return typeof t=="symbol"?t:t+""}function jQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $m=(e,t,r)=>e+(t-e)*r,$x=e=>{var{from:t,to:r}=e;return t!==r},JM=(e,t,r)=>{var n=pd((i,s)=>{if($x(s)){var[l,d]=e(s.from,s.to,s.velocity);return or(or({},s),{},{from:l,velocity:d})}return s},t);return r<1?pd((i,s)=>$x(s)&&n[i]!=null?or(or({},s),{},{velocity:$m(s.velocity,n[i].velocity,r),from:$m(s.from,n[i].from,r)}):s,t):JM(e,n,r-1)};function SQ(e,t,r,n,i,s){var l,d=n.reduce((g,b)=>or(or({},g),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>pd((g,b)=>b.from,d),h=()=>!Object.values(d).filter($x).length,p=null,y=g=>{l||(l=g);var b=g-l,w=b/r.dt;d=JM(r,d,w),i(or(or(or({},e),t),f())),l=g,h()||(p=s.setTimeout(y))};return()=>(p=s.setTimeout(y),()=>{var g;(g=p)===null||g===void 0||g()})}function _Q(e,t,r,n,i,s,l){var d=null,f=i.reduce((y,g)=>{var b=e[g],w=t[g];return b==null||w==null?y:or(or({},y),{},{[g]:[b,w]})},{}),h,p=y=>{h||(h=y);var g=(y-h)/n,b=pd((S,_)=>$m(..._,r(g)),f);if(s(or(or(or({},e),t),b)),g<1)d=l.setTimeout(p);else{var w=pd((S,_)=>$m(..._,r(1)),f);s(or(or(or({},e),t),w))}};return()=>(d=l.setTimeout(p),()=>{var y;(y=d)===null||y===void 0||y()})}const NQ=(e,t,r,n,i,s)=>{var l=bQ(e,t);return r==null?()=>(i(or(or({},e),t)),()=>{}):r.isStepper===!0?SQ(e,t,r,l,i,s):_Q(e,t,r,n,l,i,s)};var Bm=1e-4,eR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],tR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),$C=(e,t)=>r=>{var n=eR(e,t);return tR(n,r)},OQ=(e,t)=>r=>{var n=eR(e,t),i=[...n.map((s,l)=>s*l).slice(1),0];return tR(i,r)},EQ=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},AQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=EQ(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},CQ=(e,t,r,n)=>{var i=$C(e,r),s=$C(t,n),l=OQ(e,r),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,y=p,g=0;g<8;++g){var b=i(y)-p,w=l(y);if(Math.abs(b-p)<Bm||w<Bm)return s(y);y=d(y-b/w)}return s(y)};return f.isStepper=!1,f},BC=function(){return CQ(...AQ(...arguments))},kQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(l,d,f)=>{var h=-(l-d)*r,p=f*n,y=f+(h-p)*i/1e3,g=f*i/1e3+l;return Math.abs(g-d)<Bm&&Math.abs(y)<Bm?[d,0]:[g,y]};return s.isStepper=!0,s.dt=i,s},PQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BC(e);case"spring":return kQ();default:if(e.split("(")[0]==="cubic-bezier")return BC(e)}return typeof e=="function"?e:null};function TQ(e){var t,r=()=>null,n=!1,i=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){i=e.setTimeout(s.bind(null,h),f);return}s(f),i=e.setTimeout(s.bind(null,h));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,i&&(i(),i=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class DQ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function MQ(){return TQ(new DQ)}var RQ=j.createContext(MQ);function IQ(e,t){var r=j.useContext(RQ);return j.useMemo(()=>t??r(e),[e,t,r])}var LQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Zp={isSsr:LQ()},$Q={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},UC={t:0},sb={t:1};function Yd(e){var t=nr(e,$Q),{isActive:r,canBegin:n,duration:i,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=t,p=r==="auto"?!Zp.isSsr:r,y=IQ(t.animationId,t.animationManager),[g,b]=j.useState(p?UC:sb),w=j.useRef(null);return j.useEffect(()=>{p||b(sb)},[p]),j.useEffect(()=>{if(!p||!n)return Lo;var S=NQ(UC,sb,PQ(s),i,b,y.getTimeoutController()),_=()=>{w.current=S()};return y.start([f,l,_,i,d]),()=>{y.stop(),w.current&&w.current(),d()}},[p,n,i,s,l,f,d,y]),h(g.t)}function Wd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(ld(t)),n=j.useRef(e);return n.current!==e&&(r.current=ld(t),n.current=e),r.current}var BQ=["radius"],UQ=["radius"],zC,qC,KC,FC,HC,QC,VC,GC,YC,WC;function XC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(r),!0).forEach(function(n){zQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zQ(e,t,r){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qQ(e){var t=KQ(e,"string");return typeof t=="symbol"?t:t+""}function KQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Um.apply(null,arguments)}function JC(e,t){if(e==null)return{};var r,n,i=FQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var e2=(e,t,r,n,i)=>{var s=ys(r),l=ys(n),d=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,y;if(d>0&&Array.isArray(i)){for(var g=[0,0,0,0],b=0,w=4;b<w;b++){var S,_=(S=i[b])!==null&&S!==void 0?S:0;g[b]=_>d?d:_}y=Kt(zC||(zC=pa(["M",",",""])),e,t+f*g[0]),g[0]>0&&(y+=Kt(qC||(qC=pa(["A ",",",",0,0,",",",",",""])),g[0],g[0],p,e+h*g[0],t)),y+=Kt(KC||(KC=pa(["L ",",",""])),e+r-h*g[1],t),g[1]>0&&(y+=Kt(FC||(FC=pa(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],p,e+r,t+f*g[1])),y+=Kt(HC||(HC=pa(["L ",",",""])),e+r,t+n-f*g[2]),g[2]>0&&(y+=Kt(QC||(QC=pa(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],p,e+r-h*g[2],t+n)),y+=Kt(VC||(VC=pa(["L ",",",""])),e+h*g[3],t+n),g[3]>0&&(y+=Kt(GC||(GC=pa(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],p,e,t+n-f*g[3])),y+="Z"}else if(d>0&&i===+i&&i>0){var N=Math.min(d,i);y=Kt(YC||(YC=pa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*N,N,N,p,e+h*N,t,e+r-h*N,t,N,N,p,e+r,t+f*N,e+r,t+n-f*N,N,N,p,e+r-h*N,t+n,e+h*N,t+n,N,N,p,e,t+n-f*N)}else y=Kt(WC||(WC=pa(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return y},t2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rR=e=>{var t=nr(e,t2),r=j.useRef(null),[n,i]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&i(V)}catch{}},[]);var{x:s,y:l,width:d,height:f,radius:h,className:p}=t,{animationEasing:y,animationDuration:g,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:S}=t,_=j.useRef(d),N=j.useRef(f),E=j.useRef(s),A=j.useRef(l),C=j.useMemo(()=>({x:s,y:l,width:d,height:f,radius:h}),[s,l,d,f,h]),T=Wd(C,"rectangle-");if(s!==+s||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var P=rt("recharts-rectangle",p);if(!S){var M=Hr(t),{radius:I}=M,F=JC(M,BQ);return j.createElement("path",Um({},F,{x:ys(s),y:ys(l),width:ys(d),height:ys(f),radius:typeof h=="number"?h:void 0,className:P,d:e2(s,l,d,f,h)}))}var L=_.current,K=N.current,B=E.current,te=A.current,de="0px ".concat(n===-1?1:n,"px"),Z="".concat(n,"px 0px"),R=ZM(["strokeDasharray"],g,typeof y=="string"?y:t2.animationEasing);return j.createElement(Yd,{animationId:T,key:T,canBegin:n>0,duration:g,easing:y,isActive:S,begin:b},V=>{var J=Tt(L,d,V),se=Tt(K,f,V),ye=Tt(B,s,V),D=Tt(te,l,V);r.current&&(_.current=J,N.current=se,E.current=ye,A.current=D);var H;w?V>0?H={transition:R,strokeDasharray:Z}:H={strokeDasharray:de}:H={strokeDasharray:Z};var fe=Hr(t),{radius:me}=fe,_e=JC(fe,UQ);return j.createElement("path",Um({},_e,{radius:typeof h=="number"?h:void 0,className:P,d:e2(ye,D,J,se,h),ref:r,style:ZC(ZC({},H),t.style)}))})};function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function n2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){HQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HQ(e,t,r){return(t=QQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QQ(e){var t=VQ(e,"string");return typeof t=="symbol"?t:t+""}function VQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zm=Math.PI/180,GQ=e=>e*180/Math.PI,er=(e,t,r,n)=>({x:e+Math.cos(-zm*n)*r,y:t+Math.sin(-zm*n)*r}),nR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},YQ=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},WQ=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,l=YQ({x:r,y:n},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var d=(r-i)/l,f=Math.acos(d);return n>s&&(f=2*Math.PI-f),{radius:l,angle:GQ(f),angleInRadian:f}},XQ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},ZQ=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(i,s);return e+l*360},JQ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:s}=WQ({x:r,y:n},t),{innerRadius:l,outerRadius:d}=t;if(i<l||i>d||i===0)return null;var{startAngle:f,endAngle:h}=XQ(t),p=s,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?n2(n2({},t),{},{radius:i,angle:ZQ(p,t)}):null};function aR(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,l=er(t,r,n,i),d=er(t,r,n,s);return{points:[l,d],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}var a2,i2,s2,o2,l2,c2,u2;function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bx.apply(null,arguments)}function so(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var eV=(e,t)=>{var r=vr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Gh=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:f}=e,h=d*(l?1:-1)+n,p=Math.asin(d/h)/zm,y=f?i:i+s*p,g=er(t,r,h,y),b=er(t,r,n,y),w=f?i-s*p:i,S=er(t,r,h*Math.cos(p*zm),w);return{center:g,circleTangency:b,lineTangency:S,theta:p}},iR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:l}=e,d=eV(s,l),f=s+d,h=er(t,r,i,s),p=er(t,r,i,f),y=Kt(a2||(a2=so(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(d)>180),+(s>f),p.x,p.y);if(n>0){var g=er(t,r,n,s),b=er(t,r,n,f);y+=Kt(i2||(i2=so(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,n,n,+(Math.abs(d)>180),+(s<=f),g.x,g.y)}else y+=Kt(s2||(s2=so(["L ",","," Z"])),t,r);return y},tV=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=e,p=vr(h-f),{circleTangency:y,lineTangency:g,theta:b}=Gh({cx:t,cy:r,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:w,lineTangency:S,theta:_}=Gh({cx:t,cy:r,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),N=d?Math.abs(f-h):Math.abs(f-h)-b-_;if(N<0)return l?Kt(o2||(o2=so(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,s,s,s*2,s,s,-s*2):iR({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:f,endAngle:h});var E=Kt(l2||(l2=so(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,s,s,+(p<0),y.x,y.y,i,i,+(N>180),+(p<0),w.x,w.y,s,s,+(p<0),S.x,S.y);if(n>0){var{circleTangency:A,lineTangency:C,theta:T}=Gh({cx:t,cy:r,radius:n,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:P,lineTangency:M,theta:I}=Gh({cx:t,cy:r,radius:n,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),F=d?Math.abs(f-h):Math.abs(f-h)-T-I;if(F<0&&s===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+=Kt(c2||(c2=so(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,s,s,+(p<0),P.x,P.y,n,n,+(F>180),+(p>0),A.x,A.y,s,s,+(p<0),C.x,C.y)}else E+=Kt(u2||(u2=so(["L",",","Z"])),t,r);return E},rV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sR=e=>{var t=nr(e,rV),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:y}=t;if(s<i||h===p)return null;var g=rt("recharts-sector",y),b=s-i,w=$r(l,b,0,!0),S;return w>0&&Math.abs(h-p)<360?S=tV({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):S=iR({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),j.createElement("path",Bx({},Hr(t),{className:g,d:S}))};function nV(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(BD(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:l,angle:d}=t,f=er(n,i,s,d),h=er(n,i,l,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return aR(t)}}var ob={},lb={},cb={},d2;function aV(){return d2||(d2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WD();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(cb)),cb}var f2;function iV(){return f2||(f2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aV();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(lb)),lb}var h2;function sV(){return h2||(h2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XD(),r=iV();function n(i,s,l){l&&typeof l!="number"&&t.isIterateeCall(i,s,l)&&(s=l=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),l=l===void 0?i<s?1:-1:r.toFinite(l);const d=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=i,i+=l;return f}e.range=n})(ob)),ob}var ub,m2;function oV(){return m2||(m2=1,ub=sV().range),ub}var lV=oV();const oR=Ca(lV);function vs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lj(e){let t,r,n;e.length!==2?(t=vs,r=(d,f)=>vs(e(d),f),n=(d,f)=>e(d)-f):(t=e===vs||e===cV?e:uV,r=e,n=e);function i(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const y=h+p>>>1;r(d[y],f)<0?h=y+1:p=y}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const y=h+p>>>1;r(d[y],f)<=0?h=y+1:p=y}while(h<p)}return h}function l(d,f,h=0,p=d.length){const y=i(d,f,h,p-1);return y>h&&n(d[y-1],f)>-n(d[y],f)?y-1:y}return{left:i,center:l,right:s}}function uV(){return 0}function lR(e){return e===null?NaN:+e}function*dV(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const fV=lj(vs),Xd=fV.right;lj(lR).center;class p2 extends Map{constructor(t,r=pV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(y2(this,t))}has(t){return super.has(y2(this,t))}set(t,r){return super.set(hV(this,t),r)}delete(t){return super.delete(mV(this,t))}}function y2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function hV({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function mV({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function pV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function yV(e=vs){if(e===vs)return cR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function cR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gV=Math.sqrt(50),vV=Math.sqrt(10),bV=Math.sqrt(2);function qm(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),l=s>=gV?10:s>=vV?5:s>=bV?2:1;let d,f,h;return i<0?(h=Math.pow(10,-i)/l,d=Math.round(e*h),f=Math.round(t*h),d/h<e&&++d,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*l,d=Math.round(e/h),f=Math.round(t/h),d*h<e&&++d,f*h>t&&--f),f<d&&.5<=r&&r<2?qm(e,t,r*2):[d,f,h]}function Ux(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,l]=n?qm(t,e,r):qm(e,t,r);if(!(s>=i))return[];const d=s-i+1,f=new Array(d);if(n)if(l<0)for(let h=0;h<d;++h)f[h]=(s-h)/-l;else for(let h=0;h<d;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(i+h)/-l;else for(let h=0;h<d;++h)f[h]=(i+h)*l;return f}function zx(e,t,r){return t=+t,e=+e,r=+r,qm(e,t,r)[2]}function qx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?zx(t,e,r):zx(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function g2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function v2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function uR(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?cR:yV(i);n>r;){if(n-r>600){const f=n-r+1,h=t-r+1,p=Math.log(f),y=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*y*(f-y)/f)*(h-f/2<0?-1:1),b=Math.max(r,Math.floor(t-h*y/f+g)),w=Math.min(n,Math.floor(t+(f-h)*y/f+g));uR(e,t,b,w,i)}const s=e[t];let l=r,d=n;for($u(e,r,t),i(e[n],s)>0&&$u(e,r,n);l<d;){for($u(e,l,d),++l,--d;i(e[l],s)<0;)++l;for(;i(e[d],s)>0;)--d}i(e[r],s)===0?$u(e,r,d):(++d,$u(e,d,n)),d<=t&&(r=d+1),t<=d&&(n=d-1)}return e}function $u(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function xV(e,t,r){if(e=Float64Array.from(dV(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return v2(e);if(t>=1)return g2(e);var n,i=(n-1)*t,s=Math.floor(i),l=g2(uR(e,s).subarray(0,s+1)),d=v2(e.subarray(s+1));return l+(d-l)*(i-s)}}function wV(e,t,r=lR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),l=+r(e[s],s,e),d=+r(e[s+1],s+1,e);return l+(d-l)*(i-s)}}function jV(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Gn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _i(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Kx=Symbol("implicit");function cj(){var e=new p2,t=[],r=[],n=Kx;function i(s){let l=e.get(s);if(l===void 0){if(n!==Kx)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new p2;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return cj(t,r).unknown(n)},Gn.apply(i,arguments),i}function uj(){var e=cj().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,l,d=!1,f=0,h=0,p=.5;delete e.unknown;function y(){var g=t().length,b=i<n,w=b?i:n,S=b?n:i;s=(S-w)/Math.max(1,g-f+h*2),d&&(s=Math.floor(s)),w+=(S-w-s*(g-f))*p,l=s*(1-f),d&&(w=Math.round(w),l=Math.round(l));var _=jV(g).map(function(N){return w+s*N});return r(b?_.reverse():_)}return e.domain=function(g){return arguments.length?(t(g),y()):t()},e.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,y()):[n,i]},e.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,d=!0,y()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(g){return arguments.length?(d=!!g,y()):d},e.padding=function(g){return arguments.length?(f=Math.min(1,h=+g),y()):f},e.paddingInner=function(g){return arguments.length?(f=Math.min(1,g),y()):f},e.paddingOuter=function(g){return arguments.length?(h=+g,y()):h},e.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),y()):p},e.copy=function(){return uj(t(),[n,i]).round(d).paddingInner(f).paddingOuter(h).align(p)},Gn.apply(y(),arguments)}function dR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return dR(t())},e}function SV(){return dR(uj.apply(null,arguments).paddingInner(1))}function dj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function fR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Zd(){}var yd=.7,Km=1/yd,Gl="\\s*([+-]?\\d+)\\s*",gd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_V=/^#([0-9a-f]{3,8})$/,NV=new RegExp(`^rgb\\(${Gl},${Gl},${Gl}\\)$`),OV=new RegExp(`^rgb\\(${_a},${_a},${_a}\\)$`),EV=new RegExp(`^rgba\\(${Gl},${Gl},${Gl},${gd}\\)$`),AV=new RegExp(`^rgba\\(${_a},${_a},${_a},${gd}\\)$`),CV=new RegExp(`^hsl\\(${gd},${_a},${_a}\\)$`),kV=new RegExp(`^hsla\\(${gd},${_a},${_a},${gd}\\)$`),b2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dj(Zd,vd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:x2,formatHex:x2,formatHex8:PV,formatHsl:TV,formatRgb:w2,toString:w2});function x2(){return this.rgb().formatHex()}function PV(){return this.rgb().formatHex8()}function TV(){return hR(this).formatHsl()}function w2(){return this.rgb().formatRgb()}function vd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=_V.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?j2(t):r===3?new sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Yh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Yh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=NV.exec(e))?new sn(t[1],t[2],t[3],1):(t=OV.exec(e))?new sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=EV.exec(e))?Yh(t[1],t[2],t[3],t[4]):(t=AV.exec(e))?Yh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=CV.exec(e))?N2(t[1],t[2]/100,t[3]/100,1):(t=kV.exec(e))?N2(t[1],t[2]/100,t[3]/100,t[4]):b2.hasOwnProperty(e)?j2(b2[e]):e==="transparent"?new sn(NaN,NaN,NaN,0):null}function j2(e){return new sn(e>>16&255,e>>8&255,e&255,1)}function Yh(e,t,r,n){return n<=0&&(e=t=r=NaN),new sn(e,t,r,n)}function DV(e){return e instanceof Zd||(e=vd(e)),e?(e=e.rgb(),new sn(e.r,e.g,e.b,e.opacity)):new sn}function Fx(e,t,r,n){return arguments.length===1?DV(e):new sn(e,t,r,n??1)}function sn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}dj(sn,Fx,fR(Zd,{brighter(e){return e=e==null?Km:Math.pow(Km,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yd:Math.pow(yd,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sn(wo(this.r),wo(this.g),wo(this.b),Fm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S2,formatHex:S2,formatHex8:MV,formatRgb:_2,toString:_2}));function S2(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}`}function MV(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}${oo((isNaN(this.opacity)?1:this.opacity)*255)}`}function _2(){const e=Fm(this.opacity);return`${e===1?"rgb(":"rgba("}${wo(this.r)}, ${wo(this.g)}, ${wo(this.b)}${e===1?")":`, ${e})`}`}function Fm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oo(e){return e=wo(e),(e<16?"0":"")+e.toString(16)}function N2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sa(e,t,r,n)}function hR(e){if(e instanceof sa)return new sa(e.h,e.s,e.l,e.opacity);if(e instanceof Zd||(e=vd(e)),!e)return new sa;if(e instanceof sa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,d=s-i,f=(s+i)/2;return d?(t===s?l=(r-n)/d+(r<n)*6:r===s?l=(n-t)/d+2:l=(t-r)/d+4,d/=f<.5?s+i:2-s-i,l*=60):d=f>0&&f<1?0:l,new sa(l,d,f,e.opacity)}function RV(e,t,r,n){return arguments.length===1?hR(e):new sa(e,t,r,n??1)}function sa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}dj(sa,RV,fR(Zd,{brighter(e){return e=e==null?Km:Math.pow(Km,e),new sa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yd:Math.pow(yd,e),new sa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new sn(db(e>=240?e-240:e+120,i,n),db(e,i,n),db(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new sa(O2(this.h),Wh(this.s),Wh(this.l),Fm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fm(this.opacity);return`${e===1?"hsl(":"hsla("}${O2(this.h)}, ${Wh(this.s)*100}%, ${Wh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function O2(e){return e=(e||0)%360,e<0?e+360:e}function Wh(e){return Math.max(0,Math.min(1,e||0))}function db(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const fj=e=>()=>e;function IV(e,t){return function(r){return e+r*t}}function LV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $V(e){return(e=+e)==1?mR:function(t,r){return r-t?LV(t,r,e):fj(isNaN(t)?r:t)}}function mR(e,t){var r=t-e;return r?IV(e,r):fj(isNaN(e)?t:e)}const E2=(function e(t){var r=$V(t);function n(i,s){var l=r((i=Fx(i)).r,(s=Fx(s)).r),d=r(i.g,s.g),f=r(i.b,s.b),h=mR(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=d(p),i.b=f(p),i.opacity=h(p),i+""}}return n.gamma=e,n})(1);function BV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function UV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)i[l]=_c(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(d){for(l=0;l<n;++l)s[l]=i[l](d);return s}}function qV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Hm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function KV(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=_c(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Hx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fb=new RegExp(Hx.source,"g");function FV(e){return function(){return e}}function HV(e){return function(t){return e(t)+""}}function QV(e,t){var r=Hx.lastIndex=fb.lastIndex=0,n,i,s,l=-1,d=[],f=[];for(e=e+"",t=t+"";(n=Hx.exec(e))&&(i=fb.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),d[l]?d[l]+=s:d[++l]=s),(n=n[0])===(i=i[0])?d[l]?d[l]+=i:d[++l]=i:(d[++l]=null,f.push({i:l,x:Hm(n,i)})),r=fb.lastIndex;return r<t.length&&(s=t.slice(r),d[l]?d[l]+=s:d[++l]=s),d.length<2?f[0]?HV(f[0].x):FV(t):(t=f.length,function(h){for(var p=0,y;p<t;++p)d[(y=f[p]).i]=y.x(h);return d.join("")})}function _c(e,t){var r=typeof t,n;return t==null||r==="boolean"?fj(t):(r==="number"?Hm:r==="string"?(n=vd(t))?(t=n,E2):QV:t instanceof vd?E2:t instanceof Date?qV:UV(t)?BV:Array.isArray(t)?zV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?KV:Hm)(e,t)}function hj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function VV(e,t){t===void 0&&(t=e,e=_c);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(l){var d=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[d](l-d)}}function GV(e){return function(){return e}}function Qm(e){return+e}var A2=[0,1];function Fr(e){return e}function Qx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:GV(isNaN(t)?NaN:.5)}function YV(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function WV(e,t,r){var n=e[0],i=e[1],s=t[0],l=t[1];return i<n?(n=Qx(i,n),s=r(l,s)):(n=Qx(n,i),s=r(s,l)),function(d){return s(n(d))}}function XV(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)i[l]=Qx(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(d){var f=Xd(e,d,1,n)-1;return s[f](i[f](d))}}function Jd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Jp(){var e=A2,t=A2,r=_c,n,i,s,l=Fr,d,f,h;function p(){var g=Math.min(e.length,t.length);return l!==Fr&&(l=YV(e[0],e[g-1])),d=g>2?XV:WV,f=h=null,y}function y(g){return g==null||isNaN(g=+g)?s:(f||(f=d(e.map(n),t,r)))(n(l(g)))}return y.invert=function(g){return l(i((h||(h=d(t,e.map(n),Hm)))(g)))},y.domain=function(g){return arguments.length?(e=Array.from(g,Qm),p()):e.slice()},y.range=function(g){return arguments.length?(t=Array.from(g),p()):t.slice()},y.rangeRound=function(g){return t=Array.from(g),r=hj,p()},y.clamp=function(g){return arguments.length?(l=g?!0:Fr,p()):l!==Fr},y.interpolate=function(g){return arguments.length?(r=g,p()):r},y.unknown=function(g){return arguments.length?(s=g,y):s},function(g,b){return n=g,i=b,p()}}function mj(){return Jp()(Fr,Fr)}function ZV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vm(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function fc(e){return e=Vm(Math.abs(e)),e?e[1]:NaN}function JV(e,t){return function(r,n){for(var i=r.length,s=[],l=0,d=e[0],f=0;i>0&&d>0&&(f+d+1>n&&(d=Math.max(1,n-f)),s.push(r.substring(i-=d,i+d)),!((f+=d+1)>n));)d=e[l=(l+1)%e.length];return s.reverse().join(t)}}function eG(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bd(e){if(!(t=tG.exec(e)))throw new Error("invalid format: "+e);var t;return new pj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bd.prototype=pj.prototype;function pj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rG(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Gm;function nG(e,t){var r=Vm(e,t);if(!r)return Gm=void 0,e.toPrecision(t);var n=r[0],i=r[1],s=i-(Gm=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Vm(e,Math.max(0,t+s-1))[0]}function C2(e,t){var r=Vm(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const k2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>C2(e*100,t),r:C2,s:nG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function P2(e){return e}var T2=Array.prototype.map,D2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aG(e){var t=e.grouping===void 0||e.thousands===void 0?P2:JV(T2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?P2:eG(T2.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(y,g){y=bd(y);var b=y.fill,w=y.align,S=y.sign,_=y.symbol,N=y.zero,E=y.width,A=y.comma,C=y.precision,T=y.trim,P=y.type;P==="n"?(A=!0,P="g"):k2[P]||(C===void 0&&(C=12),T=!0,P="g"),(N||b==="0"&&w==="=")&&(N=!0,b="0",w="=");var M=(g&&g.prefix!==void 0?g.prefix:"")+(_==="$"?r:_==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),I=(_==="$"?n:/[%p]/.test(P)?l:"")+(g&&g.suffix!==void 0?g.suffix:""),F=k2[P],L=/[defgprs%]/.test(P);C=C===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function K(B){var te=M,de=I,Z,R,V;if(P==="c")de=F(B)+de,B="";else{B=+B;var J=B<0||1/B<0;if(B=isNaN(B)?f:F(Math.abs(B),C),T&&(B=rG(B)),J&&+B==0&&S!=="+"&&(J=!1),te=(J?S==="("?S:d:S==="-"||S==="("?"":S)+te,de=(P==="s"&&!isNaN(B)&&Gm!==void 0?D2[8+Gm/3]:"")+de+(J&&S==="("?")":""),L){for(Z=-1,R=B.length;++Z<R;)if(V=B.charCodeAt(Z),48>V||V>57){de=(V===46?i+B.slice(Z+1):B.slice(Z))+de,B=B.slice(0,Z);break}}}A&&!N&&(B=t(B,1/0));var se=te.length+B.length+de.length,ye=se<E?new Array(E-se+1).join(b):"";switch(A&&N&&(B=t(ye+B,ye.length?E-de.length:1/0),ye=""),w){case"<":B=te+B+de+ye;break;case"=":B=te+ye+B+de;break;case"^":B=ye.slice(0,se=ye.length>>1)+te+B+de+ye.slice(se);break;default:B=ye+te+B+de;break}return s(B)}return K.toString=function(){return y+""},K}function p(y,g){var b=Math.max(-8,Math.min(8,Math.floor(fc(g)/3)))*3,w=Math.pow(10,-b),S=h((y=bd(y),y.type="f",y),{suffix:D2[8+b/3]});return function(_){return S(w*_)}}return{format:h,formatPrefix:p}}var Xh,yj,pR;iG({thousands:",",grouping:[3],currency:["$",""]});function iG(e){return Xh=aG(e),yj=Xh.format,pR=Xh.formatPrefix,Xh}function sG(e){return Math.max(0,-fc(Math.abs(e)))}function oG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fc(t)/3)))*3-fc(Math.abs(e)))}function lG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fc(t)-fc(e))+1}function yR(e,t,r,n){var i=qx(e,t,r),s;switch(n=bd(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=oG(i,l))&&(n.precision=s),pR(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=lG(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=sG(i))&&(n.precision=s-(n.type==="%")*2);break}}return yj(n)}function Os(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ux(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return yR(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,l=n[i],d=n[s],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=i,i=s,s=h);p-- >0;){if(h=zx(l,d,r),h===f)return n[i]=l,n[s]=d,t(n);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return e},e}function gR(){var e=mj();return e.copy=function(){return Jd(e,gR())},Gn.apply(e,arguments),Os(e)}function vR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Qm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return vR(e).unknown(t)},e=arguments.length?Array.from(e,Qm):[0,1],Os(r)}function bR(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],l;return s<i&&(l=r,r=n,n=l,l=i,i=s,s=l),e[r]=t.floor(i),e[n]=t.ceil(s),e}function M2(e){return Math.log(e)}function R2(e){return Math.exp(e)}function cG(e){return-Math.log(-e)}function uG(e){return-Math.exp(-e)}function dG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fG(e){return e===10?dG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function I2(e){return(t,r)=>-e(-t,r)}function gj(e){const t=e(M2,R2),r=t.domain;let n=10,i,s;function l(){return i=hG(n),s=fG(n),r()[0]<0?(i=I2(i),s=I2(s),e(cG,uG)):e(M2,R2),t}return t.base=function(d){return arguments.length?(n=+d,l()):n},t.domain=function(d){return arguments.length?(r(d),l()):r()},t.ticks=d=>{const f=r();let h=f[0],p=f[f.length-1];const y=p<h;y&&([h,p]=[p,h]);let g=i(h),b=i(p),w,S;const _=d==null?10:+d;let N=[];if(!(n%1)&&b-g<_){if(g=Math.floor(g),b=Math.ceil(b),h>0){for(;g<=b;++g)for(w=1;w<n;++w)if(S=g<0?w/s(-g):w*s(g),!(S<h)){if(S>p)break;N.push(S)}}else for(;g<=b;++g)for(w=n-1;w>=1;--w)if(S=g>0?w/s(-g):w*s(g),!(S<h)){if(S>p)break;N.push(S)}N.length*2<_&&(N=Ux(h,p,_))}else N=Ux(g,b,Math.min(b-g,_)).map(s);return y?N.reverse():N},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=bd(f)).precision==null&&(f.trim=!0),f=yj(f)),d===1/0)return f;const h=Math.max(1,n*d/t.ticks().length);return p=>{let y=p/s(Math.round(i(p)));return y*n<n-.5&&(y*=n),y<=h?f(p):""}},t.nice=()=>r(bR(r(),{floor:d=>s(Math.floor(i(d))),ceil:d=>s(Math.ceil(i(d)))})),t}function xR(){const e=gj(Jp()).domain([1,10]);return e.copy=()=>Jd(e,xR()).base(e.base()),Gn.apply(e,arguments),e}function L2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function vj(e){var t=1,r=e(L2(t),$2(t));return r.constant=function(n){return arguments.length?e(L2(t=+n),$2(t)):t},Os(r)}function wR(){var e=vj(Jp());return e.copy=function(){return Jd(e,wR()).constant(e.constant())},Gn.apply(e,arguments)}function B2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pG(e){return e<0?-e*e:e*e}function bj(e){var t=e(Fr,Fr),r=1;function n(){return r===1?e(Fr,Fr):r===.5?e(mG,pG):e(B2(r),B2(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Os(t)}function xj(){var e=bj(Jp());return e.copy=function(){return Jd(e,xj()).exponent(e.exponent())},Gn.apply(e,arguments),e}function yG(){return xj.apply(null,arguments).exponent(.5)}function U2(e){return Math.sign(e)*e*e}function gG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function jR(){var e=mj(),t=[0,1],r=!1,n;function i(s){var l=gG(e(s));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(s){return e.invert(U2(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Qm)).map(U2)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return jR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gn.apply(i,arguments),Os(i)}function SR(){var e=[],t=[],r=[],n;function i(){var l=0,d=Math.max(1,t.length);for(r=new Array(d-1);++l<d;)r[l-1]=wV(e,l/d);return s}function s(l){return l==null||isNaN(l=+l)?n:t[Xd(r,l)]}return s.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(vs),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return SR().domain(e).range(t).unknown(n)},Gn.apply(s,arguments)}function _R(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[Xd(n,f,0,r)]:s}function d(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},l.range=function(f){return arguments.length?(r=(i=Array.from(f)).length-1,d()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return n.slice()},l.copy=function(){return _R().domain([e,t]).range(i).unknown(s)},Gn.apply(Os(l),arguments)}function NR(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Xd(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return NR().domain(e).range(t).unknown(r)},Gn.apply(i,arguments)}const hb=new Date,mb=new Date;function ur(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),d=i.ceil(s);return s-l<d-s?l:d},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,d)=>{const f=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return f;let h;do f.push(h=new Date(+s)),t(s,d),e(s);while(h<s&&s<l);return f},i.filter=s=>ur(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!s(l););else for(;--d>=0;)for(;t(l,1),!s(l););}),r&&(i.count=(s,l)=>(hb.setTime(+s),mb.setTime(+l),e(hb),e(mb),Math.floor(r(hb,mb))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?l=>n(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Ym=ur(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ym.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ur(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ym);Ym.range;const ni=1e3,Fn=ni*60,ai=Fn*60,fi=ai*24,wj=fi*7,z2=fi*30,pb=fi*365,lo=ur(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ni)},(e,t)=>(t-e)/ni,e=>e.getUTCSeconds());lo.range;const jj=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ni)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getMinutes());jj.range;const Sj=ur(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCMinutes());Sj.range;const _j=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ni-e.getMinutes()*Fn)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getHours());_j.range;const Nj=ur(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getUTCHours());Nj.range;const ef=ur(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fn)/fi,e=>e.getDate()-1);ef.range;const ey=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fi,e=>e.getUTCDate()-1);ey.range;const OR=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fi,e=>Math.floor(e/fi));OR.range;function Bo(e){return ur(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Fn)/wj)}const ty=Bo(0),Wm=Bo(1),vG=Bo(2),bG=Bo(3),hc=Bo(4),xG=Bo(5),wG=Bo(6);ty.range;Wm.range;vG.range;bG.range;hc.range;xG.range;wG.range;function Uo(e){return ur(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/wj)}const ry=Uo(0),Xm=Uo(1),jG=Uo(2),SG=Uo(3),mc=Uo(4),_G=Uo(5),NG=Uo(6);ry.range;Xm.range;jG.range;SG.range;mc.range;_G.range;NG.range;const Oj=ur(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Oj.range;const Ej=ur(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ej.range;const hi=ur(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});hi.range;const mi=ur(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});mi.range;function ER(e,t,r,n,i,s){const l=[[lo,1,ni],[lo,5,5*ni],[lo,15,15*ni],[lo,30,30*ni],[s,1,Fn],[s,5,5*Fn],[s,15,15*Fn],[s,30,30*Fn],[i,1,ai],[i,3,3*ai],[i,6,6*ai],[i,12,12*ai],[n,1,fi],[n,2,2*fi],[r,1,wj],[t,1,z2],[t,3,3*z2],[e,1,pb]];function d(h,p,y){const g=p<h;g&&([h,p]=[p,h]);const b=y&&typeof y.range=="function"?y:f(h,p,y),w=b?b.range(h,+p+1):[];return g?w.reverse():w}function f(h,p,y){const g=Math.abs(p-h)/y,b=lj(([,,_])=>_).right(l,g);if(b===l.length)return e.every(qx(h/pb,p/pb,y));if(b===0)return Ym.every(Math.max(qx(h,p,y),1));const[w,S]=l[g/l[b-1][2]<l[b][2]/g?b-1:b];return w.every(S)}return[d,f]}const[OG,EG]=ER(mi,Ej,ry,OR,Nj,Sj),[AG,CG]=ER(hi,Oj,ty,ef,_j,jj);function yb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function kG(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,l=e.shortDays,d=e.months,f=e.shortMonths,h=Uu(i),p=zu(i),y=Uu(s),g=zu(s),b=Uu(l),w=zu(l),S=Uu(d),_=zu(d),N=Uu(f),E=zu(f),A={a:V,A:J,b:se,B:ye,c:null,d:V2,e:V2,f:JG,g:cY,G:dY,H:WG,I:XG,j:ZG,L:AR,m:eY,M:tY,p:D,q:H,Q:W2,s:X2,S:rY,u:nY,U:aY,V:iY,w:sY,W:oY,x:null,X:null,y:lY,Y:uY,Z:fY,"%":Y2},C={a:fe,A:me,b:_e,B:ee,c:null,d:G2,e:G2,f:yY,g:OY,G:AY,H:hY,I:mY,j:pY,L:kR,m:gY,M:vY,p:pe,q:ke,Q:W2,s:X2,S:bY,u:xY,U:wY,V:jY,w:SY,W:_Y,x:null,X:null,y:NY,Y:EY,Z:CY,"%":Y2},T={a:L,A:K,b:B,B:te,c:de,d:H2,e:H2,f:QG,g:F2,G:K2,H:Q2,I:Q2,j:qG,L:HG,m:zG,M:KG,p:F,q:UG,Q:GG,s:YG,S:FG,u:RG,U:IG,V:LG,w:MG,W:$G,x:Z,X:R,y:F2,Y:K2,Z:BG,"%":VG};A.x=P(r,A),A.X=P(n,A),A.c=P(t,A),C.x=P(r,C),C.X=P(n,C),C.c=P(t,C);function P(z,re){return function(ge){var le=[],Ye=-1,Te=0,vt=z.length,wt,Tr,Cs;for(ge instanceof Date||(ge=new Date(+ge));++Ye<vt;)z.charCodeAt(Ye)===37&&(le.push(z.slice(Te,Ye)),(Tr=q2[wt=z.charAt(++Ye)])!=null?wt=z.charAt(++Ye):Tr=wt==="e"?" ":"0",(Cs=re[wt])&&(wt=Cs(ge,Tr)),le.push(wt),Te=Ye+1);return le.push(z.slice(Te,Ye)),le.join("")}}function M(z,re){return function(ge){var le=Bu(1900,void 0,1),Ye=I(le,z,ge+="",0),Te,vt;if(Ye!=ge.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(re&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Te=gb(Bu(le.y,0,1)),vt=Te.getUTCDay(),Te=vt>4||vt===0?Xm.ceil(Te):Xm(Te),Te=ey.offset(Te,(le.V-1)*7),le.y=Te.getUTCFullYear(),le.m=Te.getUTCMonth(),le.d=Te.getUTCDate()+(le.w+6)%7):(Te=yb(Bu(le.y,0,1)),vt=Te.getDay(),Te=vt>4||vt===0?Wm.ceil(Te):Wm(Te),Te=ef.offset(Te,(le.V-1)*7),le.y=Te.getFullYear(),le.m=Te.getMonth(),le.d=Te.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),vt="Z"in le?gb(Bu(le.y,0,1)).getUTCDay():yb(Bu(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(vt+5)%7:le.w+le.U*7-(vt+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,gb(le)):yb(le)}}function I(z,re,ge,le){for(var Ye=0,Te=re.length,vt=ge.length,wt,Tr;Ye<Te;){if(le>=vt)return-1;if(wt=re.charCodeAt(Ye++),wt===37){if(wt=re.charAt(Ye++),Tr=T[wt in q2?re.charAt(Ye++):wt],!Tr||(le=Tr(z,ge,le))<0)return-1}else if(wt!=ge.charCodeAt(le++))return-1}return le}function F(z,re,ge){var le=h.exec(re.slice(ge));return le?(z.p=p.get(le[0].toLowerCase()),ge+le[0].length):-1}function L(z,re,ge){var le=b.exec(re.slice(ge));return le?(z.w=w.get(le[0].toLowerCase()),ge+le[0].length):-1}function K(z,re,ge){var le=y.exec(re.slice(ge));return le?(z.w=g.get(le[0].toLowerCase()),ge+le[0].length):-1}function B(z,re,ge){var le=N.exec(re.slice(ge));return le?(z.m=E.get(le[0].toLowerCase()),ge+le[0].length):-1}function te(z,re,ge){var le=S.exec(re.slice(ge));return le?(z.m=_.get(le[0].toLowerCase()),ge+le[0].length):-1}function de(z,re,ge){return I(z,t,re,ge)}function Z(z,re,ge){return I(z,r,re,ge)}function R(z,re,ge){return I(z,n,re,ge)}function V(z){return l[z.getDay()]}function J(z){return s[z.getDay()]}function se(z){return f[z.getMonth()]}function ye(z){return d[z.getMonth()]}function D(z){return i[+(z.getHours()>=12)]}function H(z){return 1+~~(z.getMonth()/3)}function fe(z){return l[z.getUTCDay()]}function me(z){return s[z.getUTCDay()]}function _e(z){return f[z.getUTCMonth()]}function ee(z){return d[z.getUTCMonth()]}function pe(z){return i[+(z.getUTCHours()>=12)]}function ke(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var re=P(z+="",A);return re.toString=function(){return z},re},parse:function(z){var re=M(z+="",!1);return re.toString=function(){return z},re},utcFormat:function(z){var re=P(z+="",C);return re.toString=function(){return z},re},utcParse:function(z){var re=M(z+="",!0);return re.toString=function(){return z},re}}}var q2={"-":"",_:" ",0:"0"},xr=/^\s*\d+/,PG=/^%/,TG=/[\\^$*+?|[\]().{}]/g;function nt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function DG(e){return e.replace(TG,"\\$&")}function Uu(e){return new RegExp("^(?:"+e.map(DG).join("|")+")","i")}function zu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function MG(e,t,r){var n=xr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function RG(e,t,r){var n=xr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function IG(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function LG(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function $G(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function K2(e,t,r){var n=xr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function F2(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function BG(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function UG(e,t,r){var n=xr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function zG(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function H2(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function qG(e,t,r){var n=xr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Q2(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function KG(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function FG(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function HG(e,t,r){var n=xr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function QG(e,t,r){var n=xr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function VG(e,t,r){var n=PG.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function GG(e,t,r){var n=xr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function YG(e,t,r){var n=xr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function V2(e,t){return nt(e.getDate(),t,2)}function WG(e,t){return nt(e.getHours(),t,2)}function XG(e,t){return nt(e.getHours()%12||12,t,2)}function ZG(e,t){return nt(1+ef.count(hi(e),e),t,3)}function AR(e,t){return nt(e.getMilliseconds(),t,3)}function JG(e,t){return AR(e,t)+"000"}function eY(e,t){return nt(e.getMonth()+1,t,2)}function tY(e,t){return nt(e.getMinutes(),t,2)}function rY(e,t){return nt(e.getSeconds(),t,2)}function nY(e){var t=e.getDay();return t===0?7:t}function aY(e,t){return nt(ty.count(hi(e)-1,e),t,2)}function CR(e){var t=e.getDay();return t>=4||t===0?hc(e):hc.ceil(e)}function iY(e,t){return e=CR(e),nt(hc.count(hi(e),e)+(hi(e).getDay()===4),t,2)}function sY(e){return e.getDay()}function oY(e,t){return nt(Wm.count(hi(e)-1,e),t,2)}function lY(e,t){return nt(e.getFullYear()%100,t,2)}function cY(e,t){return e=CR(e),nt(e.getFullYear()%100,t,2)}function uY(e,t){return nt(e.getFullYear()%1e4,t,4)}function dY(e,t){var r=e.getDay();return e=r>=4||r===0?hc(e):hc.ceil(e),nt(e.getFullYear()%1e4,t,4)}function fY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nt(t/60|0,"0",2)+nt(t%60,"0",2)}function G2(e,t){return nt(e.getUTCDate(),t,2)}function hY(e,t){return nt(e.getUTCHours(),t,2)}function mY(e,t){return nt(e.getUTCHours()%12||12,t,2)}function pY(e,t){return nt(1+ey.count(mi(e),e),t,3)}function kR(e,t){return nt(e.getUTCMilliseconds(),t,3)}function yY(e,t){return kR(e,t)+"000"}function gY(e,t){return nt(e.getUTCMonth()+1,t,2)}function vY(e,t){return nt(e.getUTCMinutes(),t,2)}function bY(e,t){return nt(e.getUTCSeconds(),t,2)}function xY(e){var t=e.getUTCDay();return t===0?7:t}function wY(e,t){return nt(ry.count(mi(e)-1,e),t,2)}function PR(e){var t=e.getUTCDay();return t>=4||t===0?mc(e):mc.ceil(e)}function jY(e,t){return e=PR(e),nt(mc.count(mi(e),e)+(mi(e).getUTCDay()===4),t,2)}function SY(e){return e.getUTCDay()}function _Y(e,t){return nt(Xm.count(mi(e)-1,e),t,2)}function NY(e,t){return nt(e.getUTCFullYear()%100,t,2)}function OY(e,t){return e=PR(e),nt(e.getUTCFullYear()%100,t,2)}function EY(e,t){return nt(e.getUTCFullYear()%1e4,t,4)}function AY(e,t){var r=e.getUTCDay();return e=r>=4||r===0?mc(e):mc.ceil(e),nt(e.getUTCFullYear()%1e4,t,4)}function CY(){return"+0000"}function Y2(){return"%"}function W2(e){return+e}function X2(e){return Math.floor(+e/1e3)}var Rl,TR,DR;kY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kY(e){return Rl=kG(e),TR=Rl.format,Rl.parse,DR=Rl.utcFormat,Rl.utcParse,Rl}function PY(e){return new Date(e)}function TY(e){return e instanceof Date?+e:+new Date(+e)}function Aj(e,t,r,n,i,s,l,d,f,h){var p=mj(),y=p.invert,g=p.domain,b=h(".%L"),w=h(":%S"),S=h("%I:%M"),_=h("%I %p"),N=h("%a %d"),E=h("%b %d"),A=h("%B"),C=h("%Y");function T(P){return(f(P)<P?b:d(P)<P?w:l(P)<P?S:s(P)<P?_:n(P)<P?i(P)<P?N:E:r(P)<P?A:C)(P)}return p.invert=function(P){return new Date(y(P))},p.domain=function(P){return arguments.length?g(Array.from(P,TY)):g().map(PY)},p.ticks=function(P){var M=g();return e(M[0],M[M.length-1],P??10)},p.tickFormat=function(P,M){return M==null?T:h(M)},p.nice=function(P){var M=g();return(!P||typeof P.range!="function")&&(P=t(M[0],M[M.length-1],P??10)),P?g(bR(M,P)):p},p.copy=function(){return Jd(p,Aj(e,t,r,n,i,s,l,d,f,h))},p}function DY(){return Gn.apply(Aj(AG,CG,hi,Oj,ty,ef,_j,jj,lo,TR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MY(){return Gn.apply(Aj(OG,EG,mi,Ej,ry,ey,Nj,Sj,lo,DR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ny(){var e=0,t=1,r,n,i,s,l=Fr,d=!1,f;function h(y){return y==null||isNaN(y=+y)?f:l(i===0?.5:(y=(s(y)-r)*i,d?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t]=y,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(y){return arguments.length?(d=!!y,h):d},h.interpolator=function(y){return arguments.length?(l=y,h):l};function p(y){return function(g){var b,w;return arguments.length?([b,w]=g,l=y(b,w),h):[l(0),l(1)]}}return h.range=p(_c),h.rangeRound=p(hj),h.unknown=function(y){return arguments.length?(f=y,h):f},function(y){return s=y,r=y(e),n=y(t),i=r===n?0:1/(n-r),h}}function Es(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function MR(){var e=Os(ny()(Fr));return e.copy=function(){return Es(e,MR())},_i.apply(e,arguments)}function RR(){var e=gj(ny()).domain([1,10]);return e.copy=function(){return Es(e,RR()).base(e.base())},_i.apply(e,arguments)}function IR(){var e=vj(ny());return e.copy=function(){return Es(e,IR()).constant(e.constant())},_i.apply(e,arguments)}function Cj(){var e=bj(ny());return e.copy=function(){return Es(e,Cj()).exponent(e.exponent())},_i.apply(e,arguments)}function RY(){return Cj.apply(null,arguments).exponent(.5)}function LR(){var e=[],t=Fr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Xd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(vs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>xV(e,s/n))},r.copy=function(){return LR(t).domain(e)},_i.apply(r,arguments)}function ay(){var e=0,t=.5,r=1,n=1,i,s,l,d,f,h=Fr,p,y=!1,g;function b(S){return isNaN(S=+S)?g:(S=.5+((S=+p(S))-s)*(n*S<n*s?d:f),h(y?Math.max(0,Math.min(1,S)):S))}b.domain=function(S){return arguments.length?([e,t,r]=S,i=p(e=+e),s=p(t=+t),l=p(r=+r),d=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),n=s<i?-1:1,b):[e,t,r]},b.clamp=function(S){return arguments.length?(y=!!S,b):y},b.interpolator=function(S){return arguments.length?(h=S,b):h};function w(S){return function(_){var N,E,A;return arguments.length?([N,E,A]=_,h=VV(S,[N,E,A]),b):[h(0),h(.5),h(1)]}}return b.range=w(_c),b.rangeRound=w(hj),b.unknown=function(S){return arguments.length?(g=S,b):g},function(S){return p=S,i=S(e),s=S(t),l=S(r),d=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),n=s<i?-1:1,b}}function $R(){var e=Os(ay()(Fr));return e.copy=function(){return Es(e,$R())},_i.apply(e,arguments)}function BR(){var e=gj(ay()).domain([.1,1,10]);return e.copy=function(){return Es(e,BR()).base(e.base())},_i.apply(e,arguments)}function UR(){var e=vj(ay());return e.copy=function(){return Es(e,UR()).constant(e.constant())},_i.apply(e,arguments)}function kj(){var e=bj(ay());return e.copy=function(){return Es(e,kj()).exponent(e.exponent())},_i.apply(e,arguments)}function IY(){return kj.apply(null,arguments).exponent(.5)}const Qu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uj,scaleDiverging:$R,scaleDivergingLog:BR,scaleDivergingPow:kj,scaleDivergingSqrt:IY,scaleDivergingSymlog:UR,scaleIdentity:vR,scaleImplicit:Kx,scaleLinear:gR,scaleLog:xR,scaleOrdinal:cj,scalePoint:SV,scalePow:xj,scaleQuantile:SR,scaleQuantize:_R,scaleRadial:jR,scaleSequential:MR,scaleSequentialLog:RR,scaleSequentialPow:Cj,scaleSequentialQuantile:LR,scaleSequentialSqrt:RY,scaleSequentialSymlog:IR,scaleSqrt:yG,scaleSymlog:wR,scaleThreshold:NR,scaleTime:DY,scaleUtc:MY,tickFormat:yR},Symbol.toStringTag,{value:"Module"}));var Ni=e=>e.chartData,iy=G([Ni],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Pj=(e,t,r,n)=>n?iy(e):Ni(e),LY=(e,t,r)=>r?iy(e):Ni(e);function pi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ze(t)&&Ze(r))return!0}return!1}function Z2(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function zR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(Ze(r))i=r;else if(typeof r=="function")return;if(Ze(n))s=n;else if(typeof n=="function")return;var l=[i,s];if(pi(l))return l}}function $Y(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(pi(n))return Z2(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,l,d;if(i==="auto")t!=null&&(l=Math.min(...t));else if(je(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&lC.test(i)){var f=lC.exec(i);if(f==null||f[1]==null||t==null)l=void 0;else{var h=+f[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(d=Math.max(...t));else if(je(s))d=s;else if(typeof s=="function")try{t!=null&&(d=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&cC.test(s)){var p=cC.exec(s);if(p==null||p[1]==null||t==null)d=void 0;else{var y=+p[1];d=t[1]+y}}else d=t==null?void 0:t[1];var g=[l,d];if(pi(g))return t==null?g:Z2(g,t,r)}}}var Nc=1e9,BY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Dj,Dt=!0,Vn="[DecimalError] ",jo=Vn+"Invalid argument: ",Tj=Vn+"Exponent out of range: ",Oc=Math.floor,to=Math.pow,UY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wn,gr=1e7,At=7,qR=9007199254740991,Zm=Oc(qR/At),Se={};Se.absoluteValue=Se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Se.comparedTo=Se.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*At;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Se.dividedBy=Se.div=function(e){return si(this,new this.constructor(e))};Se.dividedToIntegerBy=Se.idiv=function(e){var t=this,r=t.constructor;return xt(si(t,new r(e),0,1),r.precision)};Se.equals=Se.eq=function(e){return!this.cmp(e)};Se.exponent=function(){return rr(this)};Se.greaterThan=Se.gt=function(e){return this.cmp(e)>0};Se.greaterThanOrEqualTo=Se.gte=function(e){return this.cmp(e)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(e){return this.cmp(e)<0};Se.lessThanOrEqualTo=Se.lte=function(e){return this.cmp(e)<1};Se.logarithm=Se.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(wn))throw Error(Vn+"NaN");if(r.s<1)throw Error(Vn+(r.s?"NaN":"-Infinity"));return r.eq(wn)?new n(0):(Dt=!1,t=si(xd(r,s),xd(e,s),s),Dt=!0,xt(t,i))};Se.minus=Se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HR(t,e):KR(t,(e.s=-e.s,e))};Se.modulo=Se.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Vn+"NaN");return r.s?(Dt=!1,t=si(r,e,0,1).times(e),Dt=!0,r.minus(t)):xt(new n(r),i)};Se.naturalExponential=Se.exp=function(){return FR(this)};Se.naturalLogarithm=Se.ln=function(){return xd(this)};Se.negated=Se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Se.plus=Se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?KR(t,e):HR(t,(e.s=-e.s,e))};Se.precision=Se.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jo+e);if(t=rr(i)+1,n=i.d.length-1,r=n*At+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Se.squareRoot=Se.sqrt=function(){var e,t,r,n,i,s,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Vn+"NaN")}for(e=rr(d),Dt=!1,i=Math.sqrt(+d),i==0||i==1/0?(t=Sa(d.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Oc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(i.toString()),r=f.precision,i=l=r+3;;)if(s=n,n=s.plus(si(d,s,l+2)).times(.5),Sa(s.d).slice(0,l)===(t=Sa(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(xt(s,r+1,0),s.times(s).eq(d)){n=s;break}}else if(t!="9999")break;l+=4}return Dt=!0,xt(n,r)};Se.times=Se.mul=function(e){var t,r,n,i,s,l,d,f,h,p=this,y=p.constructor,g=p.d,b=(e=new y(e)).d;if(!p.s||!e.s)return new y(0);for(e.s*=p.s,r=p.e+e.e,f=g.length,h=b.length,f<h&&(s=g,g=b,b=s,l=f,f=h,h=l),s=[],l=f+h,n=l;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,i=f+n;i>n;)d=s[i]+b[n]*g[i-n-1]+t,s[i--]=d%gr|0,t=d/gr|0;s[i]=(s[i]+t)%gr|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Dt?xt(e,y.precision):e};Se.toDecimalPlaces=Se.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Aa(e,0,Nc),t===void 0?t=n.rounding:Aa(t,0,8),xt(r,e+rr(r)+1,t))};Se.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Do(n,!0):(Aa(e,0,Nc),t===void 0?t=i.rounding:Aa(t,0,8),n=xt(new i(n),e+1,t),r=Do(n,!0,e+1)),r};Se.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Do(i):(Aa(e,0,Nc),t===void 0?t=s.rounding:Aa(t,0,8),n=xt(new s(i),e+rr(i)+1,t),r=Do(n.abs(),!1,e+rr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Se.toInteger=Se.toint=function(){var e=this,t=e.constructor;return xt(new t(e),rr(e)+1,t.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(e){var t,r,n,i,s,l,d=this,f=d.constructor,h=12,p=+(e=new f(e));if(!e.s)return new f(wn);if(d=new f(d),!d.s){if(e.s<1)throw Error(Vn+"Infinity");return d}if(d.eq(wn))return d;if(n=f.precision,e.eq(wn))return xt(d,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=d.s,l){if((r=p<0?-p:p)<=qR){for(i=new f(wn),t=Math.ceil(n/At+4),Dt=!1;r%2&&(i=i.times(d),ek(i.d,t)),r=Oc(r/2),r!==0;)d=d.times(d),ek(d.d,t);return Dt=!0,e.s<0?new f(wn).div(i):xt(i,n)}}else if(s<0)throw Error(Vn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,Dt=!1,i=e.times(xd(d,n+h)),Dt=!0,i=FR(i),i.s=s,i};Se.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=rr(i),n=Do(i,r<=s.toExpNeg||r>=s.toExpPos)):(Aa(e,1,Nc),t===void 0?t=s.rounding:Aa(t,0,8),i=xt(new s(i),e,t),r=rr(i),n=Do(i,e<=r||r<=s.toExpNeg,e)),n};Se.toSignificantDigits=Se.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Aa(e,1,Nc),t===void 0?t=n.rounding:Aa(t,0,8)),xt(new n(r),e,t)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rr(e),r=e.constructor;return Do(e,t<=r.toExpNeg||t>=r.toExpPos)};function KR(e,t){var r,n,i,s,l,d,f,h,p=e.constructor,y=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Dt?xt(t,y):t;if(f=e.d,h=t.d,l=e.e,i=t.e,f=f.slice(),s=l-i,s){for(s<0?(n=f,s=-s,d=h.length):(n=h,i=l,d=f.length),l=Math.ceil(y/At),d=l>d?l+1:d+1,s>d&&(s=d,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,n=h,h=f,f=n),r=0;s;)r=(f[--s]=f[s]+h[s]+r)/gr|0,f[s]%=gr;for(r&&(f.unshift(r),++i),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=i,Dt?xt(t,y):t}function Aa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(jo+e)}function Sa(e){var t,r,n,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)n=e[t]+"",r=At-n.length,r&&(s+=ns(r)),s+=n;l=e[t],n=l+"",r=At-n.length,r&&(s+=ns(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var si=(function(){function e(n,i){var s,l=0,d=n.length;for(n=n.slice();d--;)s=n[d]*i+l,n[d]=s%gr|0,l=s/gr|0;return l&&n.unshift(l),n}function t(n,i,s,l){var d,f;if(s!=l)f=s>l?1:-1;else for(d=f=0;d<s;d++)if(n[d]!=i[d]){f=n[d]>i[d]?1:-1;break}return f}function r(n,i,s){for(var l=0;s--;)n[s]-=l,l=n[s]<i[s]?1:0,n[s]=l*gr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,l){var d,f,h,p,y,g,b,w,S,_,N,E,A,C,T,P,M,I,F=n.constructor,L=n.s==i.s?1:-1,K=n.d,B=i.d;if(!n.s)return new F(n);if(!i.s)throw Error(Vn+"Division by zero");for(f=n.e-i.e,M=B.length,T=K.length,b=new F(L),w=b.d=[],h=0;B[h]==(K[h]||0);)++h;if(B[h]>(K[h]||0)&&--f,s==null?E=s=F.precision:l?E=s+(rr(n)-rr(i))+1:E=s,E<0)return new F(0);if(E=E/At+2|0,h=0,M==1)for(p=0,B=B[0],E++;(h<T||p)&&E--;h++)A=p*gr+(K[h]||0),w[h]=A/B|0,p=A%B|0;else{for(p=gr/(B[0]+1)|0,p>1&&(B=e(B,p),K=e(K,p),M=B.length,T=K.length),C=M,S=K.slice(0,M),_=S.length;_<M;)S[_++]=0;I=B.slice(),I.unshift(0),P=B[0],B[1]>=gr/2&&++P;do p=0,d=t(B,S,M,_),d<0?(N=S[0],M!=_&&(N=N*gr+(S[1]||0)),p=N/P|0,p>1?(p>=gr&&(p=gr-1),y=e(B,p),g=y.length,_=S.length,d=t(y,S,g,_),d==1&&(p--,r(y,M<g?I:B,g))):(p==0&&(d=p=1),y=B.slice()),g=y.length,g<_&&y.unshift(0),r(S,y,_),d==-1&&(_=S.length,d=t(B,S,M,_),d<1&&(p++,r(S,M<_?I:B,_))),_=S.length):d===0&&(p++,S=[0]),w[h++]=p,d&&S[0]?S[_++]=K[C]||0:(S=[K[C]],_=1);while((C++<T||S[0]!==void 0)&&E--)}return w[0]||w.shift(),b.e=f,xt(b,l?s+rr(b)+1:s)}})();function FR(e,t){var r,n,i,s,l,d,f=0,h=0,p=e.constructor,y=p.precision;if(rr(e)>16)throw Error(Tj+rr(e));if(!e.s)return new p(wn);for(Dt=!1,d=y,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(n=Math.log(to(2,h))/Math.LN10*2+5|0,d+=n,r=i=s=new p(wn),p.precision=d;;){if(i=xt(i.times(e),d),r=r.times(++f),l=s.plus(si(i,r,d)),Sa(l.d).slice(0,d)===Sa(s.d).slice(0,d)){for(;h--;)s=xt(s.times(s),d);return p.precision=y,t==null?(Dt=!0,xt(s,y)):s}s=l}}function rr(e){for(var t=e.e*At,r=e.d[0];r>=10;r/=10)t++;return t}function vb(e,t,r){if(t>e.LN10.sd())throw Dt=!0,r&&(e.precision=r),Error(Vn+"LN10 precision limit exceeded");return xt(new e(e.LN10),t)}function ns(e){for(var t="";e--;)t+="0";return t}function xd(e,t){var r,n,i,s,l,d,f,h,p,y=1,g=10,b=e,w=b.d,S=b.constructor,_=S.precision;if(b.s<1)throw Error(Vn+(b.s?"NaN":"-Infinity"));if(b.eq(wn))return new S(0);if(t==null?(Dt=!1,h=_):h=t,b.eq(10))return t==null&&(Dt=!0),vb(S,h);if(h+=g,S.precision=h,r=Sa(w),n=r.charAt(0),s=rr(b),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=Sa(b.d),n=r.charAt(0),y++;s=rr(b),n>1?(b=new S("0."+r),s++):b=new S(n+"."+r.slice(1))}else return f=vb(S,h+2,_).times(s+""),b=xd(new S(n+"."+r.slice(1)),h-g).plus(f),S.precision=_,t==null?(Dt=!0,xt(b,_)):b;for(d=l=b=si(b.minus(wn),b.plus(wn),h),p=xt(b.times(b),h),i=3;;){if(l=xt(l.times(p),h),f=d.plus(si(l,new S(i),h)),Sa(f.d).slice(0,h)===Sa(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(vb(S,h+2,_).times(s+""))),d=si(d,new S(y),h),S.precision=_,t==null?(Dt=!0,xt(d,_)):d;d=f,i+=2}}function J2(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Oc(r/At),e.d=[],n=(r+1)%At,r<0&&(n+=At),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=At;n<i;)e.d.push(+t.slice(n,n+=At));t=t.slice(n),n=At-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Dt&&(e.e>Zm||e.e<-Zm))throw Error(Tj+r)}else e.s=0,e.e=0,e.d=[0];return e}function xt(e,t,r){var n,i,s,l,d,f,h,p,y=e.d;for(l=1,s=y[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=At,i=t,h=y[p=0];else{if(p=Math.ceil((n+1)/At),s=y.length,p>=s)return e;for(h=s=y[p],l=1;s>=10;s/=10)l++;n%=At,i=n-At+l}if(r!==void 0&&(s=to(10,l-i-1),d=h/s%10|0,f=t<0||y[p+1]!==void 0||h%s,f=r<4?(d||f)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(n>0?i>0?h/to(10,l-i):0:y[p-1])%10&1||r==(e.s<0?8:7))),t<1||!y[0])return f?(s=rr(e),y.length=1,t=t-s-1,y[0]=to(10,(At-t%At)%At),e.e=Oc(-t/At)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(n==0?(y.length=p,s=1,p--):(y.length=p+1,s=to(10,At-n),y[p]=i>0?(h/to(10,l-i)%to(10,i)|0)*s:0),f)for(;;)if(p==0){(y[0]+=s)==gr&&(y[0]=1,++e.e);break}else{if(y[p]+=s,y[p]!=gr)break;y[p--]=0,s=1}for(n=y.length;y[--n]===0;)y.pop();if(Dt&&(e.e>Zm||e.e<-Zm))throw Error(Tj+rr(e));return e}function HR(e,t){var r,n,i,s,l,d,f,h,p,y,g=e.constructor,b=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Dt?xt(t,b):t;if(f=e.d,y=t.d,n=t.e,h=e.e,f=f.slice(),l=h-n,l){for(p=l<0,p?(r=f,l=-l,d=y.length):(r=y,n=h,d=f.length),i=Math.max(Math.ceil(b/At),d)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=f.length,d=y.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(f[i]!=y[i]){p=f[i]<y[i];break}l=0}for(p&&(r=f,f=y,y=r,t.s=-t.s),d=f.length,i=y.length-d;i>0;--i)f[d++]=0;for(i=y.length;i>l;){if(f[--i]<y[i]){for(s=i;s&&f[--s]===0;)f[s]=gr-1;--f[s],f[i]+=gr}f[i]-=y[i]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Dt?xt(t,b):t):new g(0)}function Do(e,t,r){var n,i=rr(e),s=Sa(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+ns(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ns(-i-1)+s,r&&(n=r-l)>0&&(s+=ns(n))):i>=l?(s+=ns(i+1-l),r&&(n=r-i-1)>0&&(s=s+"."+ns(n))):((n=i+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(s+="."),s+=ns(n))),e.s<0?"-"+s:s}function ek(e,t){if(e.length>t)return e.length=t,!0}function QR(e){var t,r,n;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(jo+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return J2(l,s.toString())}else if(typeof s!="string")throw Error(jo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,UY.test(s))J2(l,s);else throw Error(jo+s)}if(i.prototype=Se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=QR,i.config=i.set=zY,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function zY(e){if(!e||typeof e!="object")throw Error(Vn+"Object expected");var t,r,n,i=["precision",1,Nc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Oc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(jo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jo+r+": "+n);return this}var Dj=QR(BY);wn=new Dj(1);const dt=Dj;function VR(e){var t;return e===0?t=1:t=Math.floor(new dt(e).abs().log(10).toNumber())+1,t}function GR(e,t,r){for(var n=new dt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var YR=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},WR=(e,t,r)=>{if(e.lte(0))return new dt(0);var n=VR(e.toNumber()),i=new dt(10).pow(n),s=e.div(i),l=n!==1?.05:.1,d=new dt(Math.ceil(s.div(l).toNumber())).add(r).mul(l),f=d.mul(i);return t?new dt(f.toNumber()):new dt(Math.ceil(f.toNumber()))},qY=(e,t,r)=>{var n=new dt(1),i=new dt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new dt(10).pow(VR(e)-1),i=new dt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new dt(Math.floor(e)))}else e===0?i=new dt(Math.floor((t-1)/2)):r||(i=new dt(Math.floor(e)));for(var l=Math.floor((t-1)/2),d=[],f=0;f<t;f++)d.push(i.add(new dt(f-l).mul(n)).toNumber());return d},XR=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new dt(0),tickMin:new dt(0),tickMax:new dt(0)};var l=WR(new dt(r).sub(t).div(n-1),i,s),d;t<=0&&r>=0?d=new dt(0):(d=new dt(t).add(r).div(2),d=d.sub(new dt(d).mod(l)));var f=Math.ceil(d.sub(t).div(l).toNumber()),h=Math.ceil(new dt(r).sub(d).div(l).toNumber()),p=f+h+1;return p>n?XR(t,r,n,i,s+1):(p<n&&(h=r>0?h+(n-p):h,f=r>0?f:f+(n-p)),{step:l,tickMin:d.sub(new dt(f).mul(l)),tickMax:d.add(new dt(h).mul(l))})},KY=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[d,f]=YR([r,n]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return r>n?h.reverse():h}if(d===f)return qY(d,i,s);var{step:p,tickMin:y,tickMax:g}=XR(d,f,l,s,0),b=GR(y,g.add(new dt(.1).mul(p)),p);return r>n?b.reverse():b},FY=function(t,r){var[n,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,d]=YR([n,i]);if(l===-1/0||d===1/0)return[n,i];if(l===d)return[l];var f=Math.max(r,2),h=WR(new dt(d).sub(l).div(f-1),s,0),p=[...GR(new dt(l),new dt(d),h),d];return s===!1&&(p=p.map(y=>Math.round(y))),n>i?p.reverse():p},ZR=e=>e.rootProps.maxBarSize,HY=e=>e.rootProps.barGap,JR=e=>e.rootProps.barCategoryGap,QY=e=>e.rootProps.barSize,tf=e=>e.rootProps.stackOffset,e4=e=>e.rootProps.reverseStackOrder,Mj=e=>e.options.chartName,Rj=e=>e.rootProps.syncId,t4=e=>e.rootProps.syncMethod,Ij=e=>e.options.eventEmitter,tr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Xs={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},ya={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},sy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function oy(e,t,r){if(r!=="auto")return r;if(e!=null)return wi(e,t)?"category":"number"}function tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(r),!0).forEach(function(n){VY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VY(e,t,r){return(t=GY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GY(e){var t=YY(e,"string");return typeof t=="symbol"?t:t+""}function YY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rk={allowDataOverflow:Xs.allowDataOverflow,allowDecimals:Xs.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Xs.angleAxisId,includeHidden:!1,name:void 0,reversed:Xs.reversed,scale:Xs.scale,tick:Xs.tick,tickCount:void 0,ticks:void 0,type:Xs.type,unit:void 0},nk={allowDataOverflow:ya.allowDataOverflow,allowDecimals:ya.allowDecimals,allowDuplicatedCategory:ya.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ya.radiusAxisId,includeHidden:ya.includeHidden,name:void 0,reversed:ya.reversed,scale:ya.scale,tick:ya.tick,tickCount:ya.tickCount,ticks:void 0,type:ya.type,unit:void 0},WY=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Lj=G([WY,UM],(e,t)=>{var r;if(e!=null)return e;var n=(r=oy(t,"angleAxis",rk.type))!==null&&r!==void 0?r:"category";return Jm(Jm({},rk),{},{type:n})}),XY=(e,t)=>e.polarAxis.radiusAxis[t],$j=G([XY,UM],(e,t)=>{var r;if(e!=null)return e;var n=(r=oy(t,"radiusAxis",nk.type))!==null&&r!==void 0?r:"category";return Jm(Jm({},nk),{},{type:n})}),ly=e=>e.polarOptions,Bj=G([ji,Si,cr],nR),r4=G([ly,Bj],(e,t)=>{if(e!=null)return $r(e.innerRadius,t,0)}),n4=G([ly,Bj],(e,t)=>{if(e!=null)return $r(e.outerRadius,t,t*.8)}),ZY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},a4=G([ly],ZY);G([Lj,a4],sy);var i4=G([Bj,r4,n4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});G([$j,i4],sy);var s4=G([at,ly,r4,n4,ji,Si],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=t;return{cx:$r(l,i,i/2),cy:$r(d,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:h,clockWise:!1}}}),Lt=(e,t)=>t,rf=(e,t,r)=>r;function Uj(e){return e==null?void 0:e.id}function o4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,l=new Map;return e.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:n;if(!(h==null||h.length===0)){var p=Uj(d);h.forEach((y,g)=>{var b=s==null||i?g:String(gt(y,s,null)),w=gt(y,d.dataKey,0),S;l.has(b)?S=l.get(b):S={},Object.assign(S,{[p]:w}),l.set(b,S)})}}),Array.from(l.values())}function cy(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var uy=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function dy(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function JY(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var wr=e=>{var t=at(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ec=e=>e.tooltip.settings.axisId;function eW(e){if(e in Qu)return Qu[e]();var t="scale".concat(qd(e));if(t in Qu)return Qu[t]()}function ak(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var l=i[0],d=i[1];return l<=d?s>=l&&s<=d:s>=d&&s<=l},bandwidth:r?()=>r.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,l)=>{var d=e(s);if(d!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var f=e.bandwidth();switch(l.position){case"middle":d+=f/2;break;case"end":d+=f;break}}return d}}}}function ik(e,t,r){if(typeof e=="function")return ak(e.copy().domain(t).range(r));if(e!=null){var n=eW(e);if(n!=null)return n.domain(t).range(r),ak(n)}}var l4=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!pi(t)){for(var r,n,i=0;i<t.length;i++){var s=t[i];Ze(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ep(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(n){tW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tW(e,t,r){return(t=rW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rW(e){var t=nW(e,"string");return typeof t=="symbol"?t:t+""}function nW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vx=[0,"auto"],mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},c4=(e,t)=>e.cartesianAxis.xAxis[t],Oi=(e,t)=>{var r=c4(e,t);return r??mr},pr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Vx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Qd},u4=(e,t)=>e.cartesianAxis.yAxis[t],Ei=(e,t)=>{var r=u4(e,t);return r??pr},aW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},zj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??aW},Qt=(e,t,r)=>{switch(t){case"xAxis":return Oi(e,r);case"yAxis":return Ei(e,r);case"zAxis":return zj(e,r);case"angleAxis":return Lj(e,r);case"radiusAxis":return $j(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},iW=(e,t,r)=>{switch(t){case"xAxis":return Oi(e,r);case"yAxis":return Ei(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ac=(e,t,r)=>{switch(t){case"xAxis":return Oi(e,r);case"yAxis":return Ei(e,r);case"angleAxis":return Lj(e,r);case"radiusAxis":return $j(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},d4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function qj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var fy=e=>e.graphicalItems.cartesianItems,sW=G([Lt,rf],qj),Kj=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),nf=G([fy,Qt,sW],Kj,{memoizeOptions:{resultEqualityCheck:dy}}),f4=G([nf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(cy)),h4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),oW=G([nf],h4),Fj=e=>e.map(t=>t.data).filter(Boolean).flat(1),lW=G([nf],Fj,{memoizeOptions:{resultEqualityCheck:dy}}),Hj=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Qj=G([lW,Pj],Hj),Vj=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:gt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:gt(i,n)}))):e.map(n=>({value:n})),hy=G([Qj,Qt,nf],Vj);function m4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lm(e){if(Oa(e)||e instanceof Date){var t=Number(e);if(Ze(t))return t}}function ok(e){if(Array.isArray(e)){var t=[lm(e[0]),lm(e[1])];return pi(t)?t:void 0}var r=lm(e);if(r!=null)return[r,r]}function yi(e){return e.map(lm).filter(an)}function cW(e,t,r){return!r||typeof t!="number"||Na(t)?[]:r.length?yi(r.flatMap(n=>{var i=gt(e,n.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Ze(s)||!Ze(l)))return[t-s,t+l]})):[]}var dr=e=>{var t=wr(e),r=Ec(e);return Ac(e,t,r)},af=G([dr],e=>e==null?void 0:e.dataKey),uW=G([f4,Pj,dr],o4),p4=(e,t,r,n)=>{var i={},s=t.reduce((l,d)=>{if(d.stackId==null)return l;var f=l[d.stackId];return f==null&&(f=[]),f.push(d),l[d.stackId]=f,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[d,f]=l,h=n?[...f].reverse():f,p=h.map(Uj);return[d,{stackedData:k7(e,p,r),graphicalItems:h}]}))},Gx=G([uW,f4,tf,e4],p4),y4=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=R7(e,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},dW=G([Qt],e=>e.allowDataOverflow),Gj=e=>{var t;if(e==null||!("domain"in e))return Vx;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=yi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Vx},Yj=G([Qt],Gj),Wj=G([Yj,dW],zR),fW=G([Gx,Ni,Lt,Wj],y4,{memoizeOptions:{resultEqualityCheck:uy}}),my=e=>e.errorBars,hW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>m4(r,n)),tp=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},Xj=(e,t,r,n,i)=>{var s,l;if(r.length>0&&e.forEach(d=>{r.forEach(f=>{var h,p,y=(h=n[f.id])===null||h===void 0?void 0:h.filter(N=>m4(i,N)),g=gt(d,(p=t.dataKey)!==null&&p!==void 0?p:f.dataKey),b=cW(d,g,y);if(b.length>=2){var w=Math.min(...b),S=Math.max(...b);(s==null||w<s)&&(s=w),(l==null||S>l)&&(l=S)}var _=ok(g);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),l=l==null?_[1]:Math.max(l,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(d=>{var f=ok(gt(d,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Ze(s)&&Ze(l))return[s,l]},mW=G([Qj,Qt,oW,my,Lt],Xj,{memoizeOptions:{resultEqualityCheck:uy}});function pW(e){var{value:t}=e;if(Oa(t)||t instanceof Date)return t}var yW=(e,t,r)=>{var n=e.map(pW).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&ID(n))?oR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},g4=e=>e.referenceElements.dots,Cc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),gW=G([g4,Lt,rf],Cc),v4=e=>e.referenceElements.areas,vW=G([v4,Lt,rf],Cc),b4=e=>e.referenceElements.lines,bW=G([b4,Lt,rf],Cc),x4=(e,t)=>{if(e!=null){var r=yi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},xW=G(gW,Lt,x4),w4=(e,t)=>{if(e!=null){var r=yi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},wW=G([vW,Lt],w4);function jW(e){var t;if(e.x!=null)return yi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:yi(r)}function SW(e){var t;if(e.y!=null)return yi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:yi(r)}var j4=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?jW(n):SW(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},_W=G([bW,Lt],j4),NW=G(xW,_W,wW,(e,t,r)=>tp(e,r,t)),Zj=(e,t,r,n,i,s,l,d)=>{if(r!=null)return r;var f=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",h=f?tp(n,s,i):tp(s,i);return $Y(t,h,e.allowDataOverflow)},OW=G([Qt,Yj,Wj,fW,mW,NW,at,Lt],Zj,{memoizeOptions:{resultEqualityCheck:uy}}),EW=[0,1],Jj=(e,t,r,n,i,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:d,type:f}=e,h=wi(t,s);if(h&&d==null){var p;return oR(0,(p=r==null?void 0:r.length)!==null&&p!==void 0?p:0)}return f==="category"?yW(n,e,h):i==="expand"?EW:l}},e1=G([Qt,at,Qj,hy,tf,Lt,OW],Jj);function AW(e){return e in Qu}var S4=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(qd(n));return AW(s)?s:"point"}}},As=G([Qt,d4,Mj],S4);function t1(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?ik(e.scale,r,n):ik(t,r,n)}var r1=(e,t,r)=>{var n=Gj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&pi(e))return KY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&pi(e))return FY(e,t.tickCount,t.allowDecimals)}},n1=G([e1,Ac,As],r1),a1=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&pi(t)&&Array.isArray(r)&&r.length>0){var i,s,l=t[0],d=(i=r[0])!==null&&i!==void 0?i:0,f=t[1],h=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,d),Math.max(f,h)]}return t},CW=G([Qt,e1,n1,Lt],a1),kW=G(hy,Qt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(yi(e.map(y=>y.value))).sort((y,g)=>y-g),i=n[0],s=n[n.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var d=0;d<n.length-1;d++){var f=n[d],h=n[d+1];if(!(f==null||h==null)){var p=h-f;r=Math.min(r,p)}}return r/l}}),_4=G(kW,at,JR,cr,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!Ze(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var l=$r(r,e*s),d=e*s/2;return d-l-(d-l)/s*l}return 0}),PW=(e,t,r)=>{var n=Oi(e,t);return n==null||typeof n.padding!="string"?0:_4(e,"xAxis",t,r,n.padding)},TW=(e,t,r)=>{var n=Ei(e,t);return n==null||typeof n.padding!="string"?0:_4(e,"yAxis",t,r,n.padding)},DW=G(Oi,PW,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),MW=G(Ei,TW,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),RW=G([cr,DW,Qp,Hp,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),IW=G([cr,at,MW,Qp,Hp,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:l}=i;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),sf=(e,t,r,n)=>{var i;switch(t){case"xAxis":return RW(e,r,n);case"yAxis":return IW(e,r,n);case"zAxis":return(i=zj(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return a4(e);case"radiusAxis":return i4(e,r);default:return}},N4=G([Qt,sf],sy),LW=G([As,CW],l4),py=G([Qt,As,LW,N4],t1);G([nf,my,Lt],hW);function O4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var yy=(e,t)=>t,gy=(e,t,r)=>r,$W=G(Kp,yy,gy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(O4)),BW=G(Fp,yy,gy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(O4)),E4=(e,t)=>({width:e.width,height:t.height}),UW=(e,t)=>{var r=typeof t.width=="number"?t.width:Qd;return{width:r,height:e.height}},A4=G(cr,Oi,E4),zW=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},qW=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},KW=G(Si,cr,$W,yy,gy,(e,t,r,n,i)=>{var s={},l;return r.forEach(d=>{var f=E4(t,d);l==null&&(l=zW(t,n,e));var h=n==="top"&&!i||n==="bottom"&&i;s[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),FW=G(ji,cr,BW,yy,gy,(e,t,r,n,i)=>{var s={},l;return r.forEach(d=>{var f=UW(t,d);l==null&&(l=qW(t,n,e));var h=n==="left"&&!i||n==="right"&&i;s[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),HW=(e,t)=>{var r=Oi(e,t);if(r!=null)return KW(e,r.orientation,r.mirror)},QW=G([cr,Oi,HW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),VW=(e,t)=>{var r=Ei(e,t);if(r!=null)return FW(e,r.orientation,r.mirror)},GW=G([cr,Ei,VW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),C4=G(cr,Ei,(e,t)=>{var r=typeof t.width=="number"?t.width:Qd;return{width:r,height:e.height}}),lk=(e,t,r)=>{switch(t){case"xAxis":return A4(e,r).width;case"yAxis":return C4(e,r).height;default:return}},k4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=r,d=wi(e,n),f=t.map(h=>h.value);if(l&&d&&s==="category"&&i&&ID(f))return f}},i1=G([at,hy,Qt,Lt],k4),P4=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,l=wi(e,n);if(l&&(i==="number"||s!=="auto"))return t.map(d=>d.value)}},s1=G([at,hy,Ac,Lt],P4),ck=G([at,iW,As,py,i1,s1,sf,n1,Lt],(e,t,r,n,i,s,l,d,f)=>{if(t!=null){var h=wi(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:d,range:l,realScaleType:r,scale:n}}}),YW=(e,t,r,n,i,s,l,d,f)=>{if(!(t==null||n==null)){var h=wi(e,f),{type:p,ticks:y,tickCount:g}=t,b=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,w=p==="category"&&n.bandwidth?n.bandwidth()/b:0;w=f==="angleAxis"&&s!=null&&s.length>=2?vr(s[0]-s[1])*2*w:w;var S=y||i;return S?S.map((_,N)=>{var E=l?l.indexOf(_):_,A=n.map(E);return Ze(A)?{index:N,coordinate:A+w,value:_,offset:w}:null}).filter(an):h&&d?d.map((_,N)=>{var E=n.map(_);return Ze(E)?{coordinate:E+w,value:_,index:N,offset:w}:null}).filter(an):n.ticks?n.ticks(g).map((_,N)=>{var E=n.map(_);return Ze(E)?{coordinate:E+w,value:_,index:N,offset:w}:null}).filter(an):n.domain().map((_,N)=>{var E=n.map(_);return Ze(E)?{coordinate:E+w,value:l?l[_]:_,index:N,offset:w}:null}).filter(an)}},T4=G([at,Ac,As,py,n1,sf,i1,s1,Lt],YW),WW=(e,t,r,n,i,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var d=wi(e,l),{tickCount:f}=t,h=0;return h=l==="angleAxis"&&(n==null?void 0:n.length)>=2?vr(n[0]-n[1])*2*h:h,d&&s?s.map((p,y)=>{var g=r.map(p);return Ze(g)?{coordinate:g+h,value:p,index:y,offset:h}:null}).filter(an):r.ticks?r.ticks(f).map((p,y)=>{var g=r.map(p);return Ze(g)?{coordinate:g+h,value:p,index:y,offset:h}:null}).filter(an):r.domain().map((p,y)=>{var g=r.map(p);return Ze(g)?{coordinate:g+h,value:i?i[p]:p,index:y,offset:h}:null}).filter(an)}},xs=G([at,Ac,py,sf,i1,s1,Lt],WW),ws=G(Qt,py,(e,t)=>{if(!(e==null||t==null))return ep(ep({},e),{},{scale:t})}),XW=G([Qt,As,e1,N4],t1);G((e,t,r)=>zj(e,r),XW,(e,t)=>{if(!(e==null||t==null))return ep(ep({},e),{},{scale:t})});var ZW=G([at,Kp,Fp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),D4=e=>e.options.defaultTooltipEventType,M4=e=>e.options.validateTooltipEventTypes;function R4(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function o1(e,t){var r=D4(e),n=M4(e);return R4(t,r,n)}function JW(e){return Oe(t=>o1(t,e))}var I4=(e,t)=>{var r,n=Number(t);if(!(Na(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},eX=e=>e.tooltip.settings,ss={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},tX={itemInteraction:{click:ss,hover:ss},axisInteraction:{click:ss,hover:ss},keyboardInteraction:ss,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},L4=ln({name:"tooltip",initialState:tX,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Pt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=oa(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Pt()},removeTooltipEntrySettings:{reducer(e,t){var r=oa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Pt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:rX,replaceTooltipEntrySettings:nX,removeTooltipEntrySettings:aX,setTooltipSettingsState:iX,setActiveMouseOverItemIndex:$4,mouseLeaveItem:sX,mouseLeaveChart:B4,setActiveClickItemIndex:oX,setMouseOverAxisIndex:U4,setMouseClickAxisIndex:lX,setSyncInteraction:Yx,setKeyboardInteraction:Wx}=L4.actions,cX=L4.reducer;function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(n){uX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uX(e,t,r){return(t=dX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dX(e){var t=fX(e,"string");return typeof t=="symbol"?t:t+""}function fX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hX(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function mX(e){return e.index!=null}var z4=(e,t,r,n)=>{if(t==null)return ss;var i=hX(e,t,r);if(i==null)return ss;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(mX(i)){if(s)return Zh(Zh({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Zh(Zh({},ss),{},{coordinate:i.coordinate})};function pX(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function yX(e,t){var r=pX(e),n=t[0],i=t[1];if(r===void 0)return!1;var s=Math.min(n,i),l=Math.max(n,i);return r>=s&&r<=l}function gX(e,t,r){if(r==null||t==null)return!0;var n=gt(e,t);return n==null||!pi(r)?!0:yX(n,r)}var l1=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var s=Number(i);if(!Ze(s))return i;var l=0,d=1/0;t.length>0&&(d=t.length-1);var f=Math.max(l,Math.min(s,d)),h=t[f];return h==null||gX(h,r,n)?String(f):null},q4=(e,t,r,n,i,s,l)=>{if(s!=null){var d=l[0],f=d==null?void 0:d.getPosition(s);if(f!=null)return f;var h=i==null?void 0:i[Number(s)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},K4=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(l=>{var d;return((d=l.settings)===null||d===void 0?void 0:d.graphicalItemId)===i})},F4=e=>e.options.tooltipPayloadSearcher,kc=e=>e.tooltip;function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(n){vX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vX(e,t,r){return(t=bX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bX(e){var t=xX(e,"string");return typeof t=="symbol"?t:t+""}function xX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wX(e,t){return e??t}var H4=(e,t,r,n,i,s,l)=>{if(!(t==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=r,y=[];return e.reduce((g,b)=>{var w,{dataDefinedOnItem:S,settings:_}=b,N=wX(S,d),E=Array.isArray(N)?CM(N,h,p):N,A=(w=_==null?void 0:_.dataKey)!==null&&w!==void 0?w:n,C=_==null?void 0:_.nameKey,T;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&l==="axis"?T=LD(E,n,i):T=s(E,t,f,C),Array.isArray(T))T.forEach(M=>{var I=fk(fk({},_),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});g.push(uC({tooltipEntrySettings:I,dataKey:M.dataKey,payload:M.payload,value:gt(M.payload,M.dataKey),name:M.name}))});else{var P;g.push(uC({tooltipEntrySettings:_,dataKey:A,payload:T,value:gt(T,A),name:(P=gt(T,C))!==null&&P!==void 0?P:_==null?void 0:_.name}))}return g},y)}},c1=G([dr,d4,Mj],S4),jX=G([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),SX=G([wr,Ec],qj),Pc=G([jX,dr,SX],Kj,{memoizeOptions:{resultEqualityCheck:dy}}),_X=G([Pc],e=>e.filter(cy)),NX=G([Pc],Fj,{memoizeOptions:{resultEqualityCheck:dy}}),Tc=G([NX,Ni],Hj),OX=G([_X,Ni,dr],o4),u1=G([Tc,dr,Pc],Vj),Q4=G([dr],Gj),EX=G([dr],e=>e.allowDataOverflow),V4=G([Q4,EX],zR),AX=G([Pc],e=>e.filter(cy)),CX=G([OX,AX,tf,e4],p4),kX=G([CX,Ni,wr,V4],y4),PX=G([Pc],h4),TX=G([Tc,dr,PX,my,wr],Xj,{memoizeOptions:{resultEqualityCheck:uy}}),DX=G([g4,wr,Ec],Cc),MX=G([DX,wr],x4),RX=G([v4,wr,Ec],Cc),IX=G([RX,wr],w4),LX=G([b4,wr,Ec],Cc),$X=G([LX,wr],j4),BX=G([MX,$X,IX],tp),UX=G([dr,Q4,V4,kX,TX,BX,at,wr],Zj),of=G([dr,at,Tc,u1,tf,wr,UX],Jj),zX=G([of,dr,c1],r1),qX=G([dr,of,zX,wr],a1),G4=e=>{var t=wr(e),r=Ec(e),n=!1;return sf(e,t,r,n)},Y4=G([dr,G4],sy),W4=G([dr,c1,qX,Y4],t1),KX=G([at,u1,dr,wr],k4),FX=G([at,u1,dr,wr],P4),HX=(e,t,r,n,i,s,l,d)=>{if(t){var{type:f}=t,h=wi(e,d);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,y=f==="category"&&n.bandwidth?n.bandwidth()/p:0;return y=d==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?vr(i[0]-i[1])*2*y:y,h&&l?l.map((g,b)=>{var w=n.map(g);return Ze(w)?{coordinate:w+y,value:g,index:b,offset:y}:null}).filter(an):n.domain().map((g,b)=>{var w=n.map(g);return Ze(w)?{coordinate:w+y,value:s?s[g]:g,index:b,offset:y}:null}).filter(an)}}},Ai=G([at,dr,c1,W4,G4,KX,FX,wr],HX),d1=G([D4,M4,eX],(e,t,r)=>R4(r.shared,e,t)),X4=e=>e.tooltip.settings.trigger,f1=e=>e.tooltip.settings.defaultIndex,lf=G([kc,d1,X4,f1],z4),js=G([lf,Tc,af,of],l1),Z4=G([Ai,js],I4),h1=G([lf],e=>{if(e)return e.dataKey}),QX=G([lf],e=>{if(e)return e.graphicalItemId}),J4=G([kc,d1,X4,f1],K4),VX=G([ji,Si,at,cr,Ai,f1,J4],q4),GX=G([lf,VX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),YX=G([lf],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),WX=G([J4,js,Ni,af,Z4,F4,d1],H4),XX=G([WX],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(n){ZX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZX(e,t,r){return(t=JX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=eZ(e,"string");return typeof t=="symbol"?t:t+""}function eZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tZ=()=>Oe(dr),rZ=()=>{var e=tZ(),t=Oe(Ai),r=Oe(W4);return cc(!e||!r?void 0:mk(mk({},e),{},{scale:r}),t)};function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(n){nZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nZ(e,t,r){return(t=aZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aZ(e){var t=iZ(e,"string");return typeof t=="symbol"?t:t+""}function iZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sZ=(e,t,r,n)=>{var i=t.find(s=>s&&s.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},oZ=(e,t,r,n)=>{var i=t.find(h=>h&&h.index===r);if(i){if(e==="centric"){var s=i.coordinate,{radius:l}=n;return Il(Il(Il({},n),er(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var d=i.coordinate,{angle:f}=n;return Il(Il(Il({},n),er(n.cx,n.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function lZ(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var eI=(e,t,r,n,i)=>{var s,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<l;d++){var f,h,p,y,g,b=d>0?(f=r[d-1])===null||f===void 0?void 0:f.coordinate:(h=r[l-1])===null||h===void 0?void 0:h.coordinate,w=(p=r[d])===null||p===void 0?void 0:p.coordinate,S=d>=l-1?(y=r[0])===null||y===void 0?void 0:y.coordinate:(g=r[d+1])===null||g===void 0?void 0:g.coordinate,_=void 0;if(!(b==null||w==null||S==null))if(vr(w-b)!==vr(S-w)){var N=[];if(vr(S-w)===vr(i[1]-i[0])){_=S;var E=w+i[1]-i[0];N[0]=Math.min(E,(E+b)/2),N[1]=Math.max(E,(E+b)/2)}else{_=b;var A=S+i[1]-i[0];N[0]=Math.min(w,(A+w)/2),N[1]=Math.max(w,(A+w)/2)}var C=[Math.min(w,(_+w)/2),Math.max(w,(_+w)/2)];if(e>C[0]&&e<=C[1]||e>=N[0]&&e<=N[1]){var T;return(T=r[d])===null||T===void 0?void 0:T.index}}else{var P=Math.min(b,S),M=Math.max(b,S);if(e>(P+w)/2&&e<=(M+w)/2){var I;return(I=r[d])===null||I===void 0?void 0:I.index}}}else if(t)for(var F=0;F<l;F++){var L=t[F];if(L!=null){var K=t[F+1],B=t[F-1];if(F===0&&K!=null&&e<=(L.coordinate+K.coordinate)/2||F===l-1&&B!=null&&e>(L.coordinate+B.coordinate)/2||F>0&&F<l-1&&B!=null&&K!=null&&e>(L.coordinate+B.coordinate)/2&&e<=(L.coordinate+K.coordinate)/2)return L.index}}return-1},cZ=()=>Oe(Mj),m1=(e,t)=>t,tI=(e,t,r)=>r,p1=(e,t,r,n)=>n,uZ=G(Ai,e=>Dp(e,t=>t.coordinate)),y1=G([kc,m1,tI,p1],z4),g1=G([y1,Tc,af,of],l1),dZ=(e,t,r)=>{if(t!=null){var n=kc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},rI=G([kc,m1,tI,p1],K4),rp=G([ji,Si,at,cr,Ai,p1,rI],q4),fZ=G([y1,rp],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),nI=G([Ai,g1],I4),hZ=G([rI,g1,Ni,af,nI,F4,m1],H4),mZ=G([y1,g1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),pZ=(e,t,r,n,i,s,l)=>{if(!(!e||!r||!n||!i)&&lZ(e,l)){var d=I7(e,t),f=eI(d,s,i,r,n),h=sZ(t,i,f,e);return{activeIndex:String(f),activeCoordinate:h}}},yZ=(e,t,r,n,i,s,l)=>{if(!(!e||!n||!i||!s||!r)){var d=JQ(e,r);if(d){var f=L7(d,t),h=eI(f,l,s,n,i),p=oZ(t,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},gZ=(e,t,r,n,i,s,l,d)=>{if(!(!e||!t||!n||!i||!s))return t==="horizontal"||t==="vertical"?pZ(e,t,n,i,s,l,d):yZ(e,t,r,n,i,s,l)},vZ=G(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),bZ=G(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(tr)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:JY}});function yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(r),!0).forEach(function(n){xZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xZ(e,t,r){return(t=wZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SZ={},_Z={zIndexMap:Object.values(tr).reduce((e,t)=>gk(gk({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),SZ)},NZ=new Set(Object.values(tr));function OZ(e){return NZ.has(e)}var aI=ln({name:"zIndex",initialState:_Z,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Pt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!OZ(r)&&delete e.zIndexMap[r])},prepare:Pt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Pt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Pt()}}}),{registerZIndexPortal:EZ,unregisterZIndexPortal:AZ,registerZIndexPortalElement:CZ,unregisterZIndexPortalElement:kZ}=aI.actions,PZ=aI.reducer;function cn(e){var{zIndex:t,children:r}=e,n=mH(),i=n&&t!==void 0&&t!==0,s=Br(),l=Nt();j.useLayoutEffect(()=>i?(l(EZ({zIndex:t})),()=>{l(AZ({zIndex:t}))}):Lo,[l,t,i]);var d=Oe(f=>vZ(f,t,s));return i?d?bw.createPortal(r,d):null:r}function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xx.apply(null,arguments)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(n){TZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TZ(e,t,r){return(t=DZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DZ(e){var t=MZ(e,"string");return typeof t=="symbol"?t:t+""}function MZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RZ(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return j.isValidElement(t)?j.cloneElement(t,n):j.createElement(r,n)}function IZ(e){var t,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:l,layout:d,cursor:f,tooltipEventType:h,chartName:p}=e,y=r,g=n,b=i;if(!f||!y||p!=="ScatterChart"&&h!=="axis")return null;var w,S,_;if(p==="ScatterChart")w=y,S=hQ,_=tr.cursorLine;else if(p==="BarChart")w=mQ(d,y,s,l),S=rR,_=tr.cursorRectangle;else if(d==="radial"&&BD(y)){var{cx:N,cy:E,radius:A,startAngle:C,endAngle:T}=aR(y);w={cx:N,cy:E,startAngle:C,endAngle:T,innerRadius:A,outerRadius:A},S=sR,_=tr.cursorLine}else w={points:nV(d,y,s)},S=oj,_=tr.cursorLine;var P=typeof f=="object"&&"className"in f?f.className:void 0,M=Jh(Jh(Jh(Jh({stroke:"#ccc",pointerEvents:"none"},s),w),Oo(f)),{},{payload:g,payloadIndex:b,className:rt("recharts-tooltip-cursor",P)});return j.createElement(cn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},j.createElement(RZ,{cursor:f,cursorComp:S,cursorProps:M}))}function LZ(e){var t=rZ(),r=$M(),n=$o(),i=cZ();return t==null||r==null||n==null||i==null?null:j.createElement(IZ,Xx({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var iI=j.createContext(null),$Z=()=>j.useContext(iI),bb={exports:{}},bk;function BZ(){return bk||(bk=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,y,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,y||f,g),w=r?r+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,y;if(this._eventsCount===0)return h;for(y in p=this._events)t.call(p,y)&&h.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=r?r+h:h,y=this._events[p];if(!y)return[];if(y.fn)return[y.fn];for(var g=0,b=y.length,w=new Array(b);g<b;g++)w[g]=y[g].fn;return w},d.prototype.listenerCount=function(h){var p=r?r+h:h,y=this._events[p];return y?y.fn?1:y.length:0},d.prototype.emit=function(h,p,y,g,b,w){var S=r?r+h:h;if(!this._events[S])return!1;var _=this._events[S],N=arguments.length,E,A;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),N){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,y),!0;case 4:return _.fn.call(_.context,p,y,g),!0;case 5:return _.fn.call(_.context,p,y,g,b),!0;case 6:return _.fn.call(_.context,p,y,g,b,w),!0}for(A=1,E=new Array(N-1);A<N;A++)E[A-1]=arguments[A];_.fn.apply(_.context,E)}else{var C=_.length,T;for(A=0;A<C;A++)switch(_[A].once&&this.removeListener(h,_[A].fn,void 0,!0),N){case 1:_[A].fn.call(_[A].context);break;case 2:_[A].fn.call(_[A].context,p);break;case 3:_[A].fn.call(_[A].context,p,y);break;case 4:_[A].fn.call(_[A].context,p,y,g);break;default:if(!E)for(T=1,E=new Array(N-1);T<N;T++)E[T-1]=arguments[T];_[A].fn.apply(_[A].context,E)}}return!0},d.prototype.on=function(h,p,y){return s(this,h,p,y,!1)},d.prototype.once=function(h,p,y){return s(this,h,p,y,!0)},d.prototype.removeListener=function(h,p,y,g){var b=r?r+h:h;if(!this._events[b])return this;if(!p)return l(this,b),this;var w=this._events[b];if(w.fn)w.fn===p&&(!g||w.once)&&(!y||w.context===y)&&l(this,b);else{for(var S=0,_=[],N=w.length;S<N;S++)(w[S].fn!==p||g&&!w[S].once||y&&w[S].context!==y)&&_.push(w[S]);_.length?this._events[b]=_.length===1?_[0]:_:l(this,b)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(bb)),bb.exports}var UZ=BZ();const zZ=Ca(UZ);var wd=new zZ,Zx="recharts.syncEvent.tooltip",xk="recharts.syncEvent.brush",v1=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Na(r))return e[r]}},qZ={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},sI=ln({name:"options",initialState:qZ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),KZ=sI.reducer,{createEventEmitter:FZ}=sI.actions;function HZ(e){return e.tooltip.syncInteraction}var QZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},oI=ln({name:"chartData",initialState:QZ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:wk,setDataStartEndIndexes:VZ,setComputedData:Roe}=oI.actions,GZ=oI.reducer,YZ=["x","y"];function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ll(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(n){WZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WZ(e,t,r){return(t=XZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XZ(e){var t=ZZ(e,"string");return typeof t=="symbol"?t:t+""}function ZZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JZ(e,t){if(e==null)return{};var r,n,i=eJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tJ(){var e=Oe(Rj),t=Oe(Ij),r=Nt(),n=Oe(t4),i=Oe(Ai),s=$o(),l=Vp(),d=Oe(f=>f.rootProps.className);j.useEffect(()=>{if(e==null)return Lo;var f=(h,p,y)=>{if(t!==y&&e===h){if(n==="index"){var g;if(l&&p!==null&&p!==void 0&&(g=p.payload)!==null&&g!==void 0&&g.coordinate&&p.payload.sourceViewBox){var b=p.payload.coordinate,{x:w,y:S}=b,_=JZ(b,YZ),{x:N,y:E,width:A,height:C}=p.payload.sourceViewBox,T=Ll(Ll({},_),{},{x:l.x+(A?(w-N)/A:0)*l.width,y:l.y+(C?(S-E)/C:0)*l.height});r(Ll(Ll({},p),{},{payload:Ll(Ll({},p.payload),{},{coordinate:T})}))}else r(p);return}if(i!=null){var P;if(typeof n=="function"){var M={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},I=n(i,M);P=i[I]}else n==="value"&&(P=i.find(R=>String(R.value)===p.payload.label));var{coordinate:F}=p.payload;if(P==null||p.payload.active===!1||F==null||l==null){r(Yx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:K}=F,B=Math.min(L,l.x+l.width),te=Math.min(K,l.y+l.height),de={x:s==="horizontal"?P.coordinate:B,y:s==="horizontal"?te:P.coordinate},Z=Yx({active:p.payload.active,coordinate:de,dataKey:p.payload.dataKey,index:String(P.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});r(Z)}}};return wd.on(Zx,f),()=>{wd.off(Zx,f)}},[d,r,t,e,n,i,s,l])}function rJ(){var e=Oe(Rj),t=Oe(Ij),r=Nt();j.useEffect(()=>{if(e==null)return Lo;var n=(i,s,l)=>{t!==l&&e===i&&r(VZ(s))};return wd.on(xk,n),()=>{wd.off(xk,n)}},[r,t,e])}function nJ(){var e=Nt();j.useEffect(()=>{e(FZ())},[e]),tJ(),rJ()}function aJ(e,t,r,n,i,s){var l=Oe(b=>dZ(b,e,t)),d=Oe(Ij),f=Oe(Rj),h=Oe(t4),p=Oe(HZ),y=p==null?void 0:p.active,g=Vp();j.useEffect(()=>{if(!y&&f!=null&&d!=null){var b=Yx({active:s,coordinate:r,dataKey:l,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:g,graphicalItemId:void 0});wd.emit(Zx,f,b,d)}},[y,r,l,i,n,d,f,h,s,g])}function Sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(r),!0).forEach(function(n){iJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iJ(e,t,r){return(t=sJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sJ(e){var t=oJ(e,"string");return typeof t=="symbol"?t:t+""}function oJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lJ(e){return e.dataKey}function cJ(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(QH,t)}var Nk=[],uJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Yl(e){var t,r,n=nr(e,uJ),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:y,payloadUniqBy:g,position:b,reverseDirection:w,useTranslate3d:S,wrapperStyle:_,cursor:N,shared:E,trigger:A,defaultIndex:C,portal:T,axisId:P}=n,M=Nt(),I=typeof C=="number"?String(C):C;j.useEffect(()=>{M(iX({shared:E,trigger:A,axisId:P,active:i,defaultIndex:I}))},[M,E,A,P,i,I]);var F=Vp(),L=XM(),K=JW(E),{activeIndex:B,isActive:te}=(t=Oe(pe=>mZ(pe,K,A,I)))!==null&&t!==void 0?t:{},de=Oe(pe=>hZ(pe,K,A,I)),Z=Oe(pe=>nI(pe,K,A,I)),R=Oe(pe=>fZ(pe,K,A,I)),V=de,J=$Z(),se=(r=i??te)!==null&&r!==void 0?r:!1,[ye,D]=JD([V,se]),H=K==="axis"?Z:void 0;aJ(K,A,R,H,B,se);var fe=T??J;if(fe==null||F==null||K==null)return null;var me=V??Nk;se||(me=Nk),h&&me.length&&(me=GD(me.filter(pe=>pe.value!=null&&(pe.hide!==!0||n.includeHidden)),g,lJ));var _e=me.length>0,ee=j.createElement(JH,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:p,active:se,coordinate:R,hasPayload:_e,offset:y,position:b,reverseDirection:w,useTranslate3d:S,viewBox:F,wrapperStyle:_,lastBoundingBox:ye,innerRef:D,hasPortalFromProps:!!T},cJ(f,_k(_k({},n),{},{payload:me,label:H,active:se,activeIndex:B,coordinate:R,accessibilityLayer:L})));return j.createElement(j.Fragment,null,bw.createPortal(ee,fe),se&&j.createElement(LZ,{cursor:N,tooltipEventType:K,coordinate:R,payload:me,index:B}))}var zo=e=>null;zo.displayName="Cell";function dJ(e,t,r){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mJ{constructor(t){dJ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(n){yJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yJ(e,t,r){return(t=gJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gJ(e){var t=vJ(e,"string");return typeof t=="symbol"?t:t+""}function vJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bJ={cacheSize:2e3,enableCache:!0},lI=pJ({},bJ),Ek=new mJ(lI.cacheSize),xJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ak="recharts_measurement_span";function wJ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(d)}var Ck=(e,t)=>{try{var r=document.getElementById(Ak);r||(r=document.createElement("span"),r.setAttribute("id",Ak),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,xJ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Wu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Zp.isSsr)return{width:0,height:0};if(!lI.enableCache)return Ck(t,r);var n=wJ(t,r),i=Ek.get(n);if(i)return i;var s=Ck(t,r);return Ek.set(n,s),s},cI;function jJ(e,t,r){return(t=SJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SJ(e){var t=_J(e,"string");return typeof t=="symbol"?t:t+""}function _J(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,OJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,EJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},AJ=["cm","mm","pt","pc","in","Q","px"];function CJ(e){return AJ.includes(e)}var Fl="NaN";function kJ(e,t){return e*EJ[t]}class kr{static parse(t){var r,[,n,i]=(r=OJ.exec(t))!==null&&r!==void 0?r:[];return n==null?kr.NaN:new kr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Na(t)&&(this.unit=""),r!==""&&!NJ.test(r)&&(this.num=NaN,this.unit=""),CJ(r)&&(this.num=kJ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new kr(NaN,""):new kr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new kr(NaN,""):new kr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kr(NaN,""):new kr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kr(NaN,""):new kr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Na(this.num)}}cI=kr;jJ(kr,"NaN",new cI(NaN,""));function uI(e){if(e==null||e.includes(Fl))return Fl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=kk.exec(t))!==null&&r!==void 0?r:[],l=kr.parse(n??""),d=kr.parse(s??""),f=i==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return Fl;t=t.replace(kk,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,y,g]=(h=Pk.exec(t))!==null&&h!==void 0?h:[],b=kr.parse(p??""),w=kr.parse(g??""),S=y==="+"?b.add(w):b.subtract(w);if(S.isNaN())return Fl;t=t.replace(Pk,S.toString())}return t}var Tk=/\(([^()]*)\)/;function PJ(e){for(var t=e,r;(r=Tk.exec(t))!=null;){var[,n]=r;t=t.replace(Tk,uI(n))}return t}function TJ(e){var t=e.replace(/\s+/g,"");return t=PJ(t),t=uI(t),t}function DJ(e){try{return TJ(e)}catch{return Fl}}function xb(e){var t=DJ(e.slice(5,-1));return t===Fl?"":t}var MJ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],RJ=["dx","dy","angle","className","breakAll"];function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jx.apply(null,arguments)}function Dk(e,t){if(e==null)return{};var r,n,i=IJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dI=/[ \f\n\r\t\v\u2028\u2029]+/,fI=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Rt(t)||(r?i=t.toString().split(""):i=t.toString().split(dI));var s=i.map(d=>({word:d,width:Wu(d,n).width})),l=r?0:Wu("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function LJ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var hI=(e,t,r,n)=>e.reduce((i,s)=>{var{word:l,width:d}=s,f=i[i.length-1];if(f&&d!=null&&(t==null||n||f.width+d+r<Number(t)))f.words.push(l),f.width+=d+r;else{var h={words:[l],width:d};i.push(h)}return i},[]),mI=e=>e.reduce((t,r)=>t.width>r.width?t:r),$J="",Mk=(e,t,r,n,i,s,l,d)=>{var f=e.slice(0,t),h=fI({breakAll:r,style:n,children:f+$J});if(!h)return[!1,[]];var p=hI(h.wordsWithComputedWidth,s,l,d),y=p.length>i||mI(p).width>Number(s);return[y,p]},BJ=(e,t,r,n,i)=>{var{maxLines:s,children:l,style:d,breakAll:f}=e,h=je(s),p=String(l),y=hI(t,n,r,i);if(!h||i)return y;var g=y.length>s||mI(y).width>Number(n);if(!g)return y;for(var b=0,w=p.length-1,S=0,_;b<=w&&S<=p.length-1;){var N=Math.floor((b+w)/2),E=N-1,[A,C]=Mk(p,E,f,d,s,n,r,i),[T]=Mk(p,N,f,d,s,n,r,i);if(!A&&!T&&(b=N+1),A&&T&&(w=N-1),!A&&T){_=C;break}S++}return _||y},Rk=e=>{var t=Rt(e)?[]:e.toString().split(dI);return[{words:t,width:void 0}]},UJ=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:l}=e;if((t||r)&&!Zp.isSsr){var d,f,h=fI({breakAll:s,children:n,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:y}=h;d=p,f=y}else return Rk(n);return BJ({breakAll:s,children:n,maxLines:l,style:i},d,f,t,!!r)}return Rk(n)},pI="#808080",zJ={angle:0,breakAll:!1,capHeight:"0.71em",fill:pI,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},vy=j.forwardRef((e,t)=>{var r=nr(e,zJ),{x:n,y:i,lineHeight:s,capHeight:l,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=r,y=Dk(r,MJ),g=j.useMemo(()=>UJ({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width}),[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),{dx:b,dy:w,angle:S,className:_,breakAll:N}=y,E=Dk(y,RJ);if(!Oa(n)||!Oa(i)||g.length===0)return null;var A=Number(n)+(je(b)?b:0),C=Number(i)+(je(w)?w:0);if(!Ze(A)||!Ze(C))return null;var T;switch(p){case"start":T=xb("calc(".concat(l,")"));break;case"middle":T=xb("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:T=xb("calc(".concat(g.length-1," * -").concat(s,")"));break}var P=[],M=g[0];if(f&&M!=null){var I=M.width,{width:F}=y;P.push("scale(".concat(je(F)&&je(I)?F/I:1,")"))}return S&&P.push("rotate(".concat(S,", ").concat(A,", ").concat(C,")")),P.length&&(E.transform=P.join(" ")),j.createElement("text",Jx({},Hr(E),{ref:t,x:A,y:C,className:rt("recharts-text",_),textAnchor:h,fill:d.includes("url")?pI:d}),g.map((L,K)=>{var B=L.words.join(N?"":" ");return j.createElement("tspan",{x:A,dy:K===0?T:s,key:"".concat(B,"-").concat(K)},B)}))});vy.displayName="Text";function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(n){qJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qJ(e,t,r){return(t=KJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KJ(e){var t=FJ(e,"string");return typeof t=="symbol"?t:t+""}function FJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HJ=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:s,y:l,height:d,upperWidth:f,lowerWidth:h}=rj(t),p=s,y=s+(f-h)/2,g=(p+y)/2,b=(f+h)/2,w=p+f/2,S=d>=0?1:-1,_=S*n,N=S>0?"end":"start",E=S>0?"start":"end",A=f>=0?1:-1,C=A*n,T=A>0?"end":"start",P=A>0?"start":"end",M=i;if(r==="top"){var I={x:p+f/2,y:l-_,horizontalAnchor:"middle",verticalAnchor:N};return M&&(I.height=Math.max(l-M.y,0),I.width=f),I}if(r==="bottom"){var F={x:y+h/2,y:l+d+_,horizontalAnchor:"middle",verticalAnchor:E};return M&&(F.height=Math.max(M.y+M.height-(l+d),0),F.width=h),F}if(r==="left"){var L={x:g-C,y:l+d/2,horizontalAnchor:T,verticalAnchor:"middle"};return M&&(L.width=Math.max(L.x-M.x,0),L.height=d),L}if(r==="right"){var K={x:g+b+C,y:l+d/2,horizontalAnchor:P,verticalAnchor:"middle"};return M&&(K.width=Math.max(M.x+M.width-K.x,0),K.height=d),K}var B=M?{width:b,height:d}:{};return r==="insideLeft"?ga({x:g+C,y:l+d/2,horizontalAnchor:P,verticalAnchor:"middle"},B):r==="insideRight"?ga({x:g+b-C,y:l+d/2,horizontalAnchor:T,verticalAnchor:"middle"},B):r==="insideTop"?ga({x:p+f/2,y:l+_,horizontalAnchor:"middle",verticalAnchor:E},B):r==="insideBottom"?ga({x:y+h/2,y:l+d-_,horizontalAnchor:"middle",verticalAnchor:N},B):r==="insideTopLeft"?ga({x:p+C,y:l+_,horizontalAnchor:P,verticalAnchor:E},B):r==="insideTopRight"?ga({x:p+f-C,y:l+_,horizontalAnchor:T,verticalAnchor:E},B):r==="insideBottomLeft"?ga({x:y+C,y:l+d-_,horizontalAnchor:P,verticalAnchor:N},B):r==="insideBottomRight"?ga({x:y+h-C,y:l+d-_,horizontalAnchor:T,verticalAnchor:N},B):r&&typeof r=="object"&&(je(r.x)||Co(r.x))&&(je(r.y)||Co(r.y))?ga({x:s+$r(r.x,b),y:l+$r(r.y,d),horizontalAnchor:"end",verticalAnchor:"end"},B):ga({x:w,y:l+d/2,horizontalAnchor:"middle",verticalAnchor:"middle"},B)},QJ=["labelRef"],VJ=["content"];function Lk(e,t){if(e==null)return{};var r,n,i=GJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(r),!0).forEach(function(n){YJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YJ(e,t,r){return(t=WJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WJ(e){var t=XJ(e,"string");return typeof t=="symbol"?t:t+""}function XJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(null,arguments)}var yI=j.createContext(null),ZJ=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:l,children:d}=e,f=j.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:l}),[t,r,n,i,s,l]);return j.createElement(yI.Provider,{value:f},d)},gI=()=>{var e=j.useContext(yI),t=Vp();return e||(t?rj(t):void 0)},JJ=j.createContext(null),eee=()=>{var e=j.useContext(JJ),t=Oe(s4);return e||t},tee=e=>{var{value:t,formatter:r}=e,n=Rt(e.children)?t:e.children;return typeof r=="function"?r(n):n},b1=e=>e!=null&&typeof e=="function",ree=(e,t)=>{var r=vr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},nee=(e,t,r,n,i)=>{var{offset:s,className:l}=e,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:y,endAngle:g,clockWise:b}=i,w=(h+p)/2,S=ree(y,g),_=S>=0?1:-1,N,E;switch(t){case"insideStart":N=y+_*s,E=b;break;case"insideEnd":N=g-_*s,E=!b;break;case"end":N=g+_*s,E=b;break;default:throw new Error("Unsupported position ".concat(t))}E=S<=0?E:!E;var A=er(d,f,w,N),C=er(d,f,w,N+(E?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(E?0:1,`,
    `).concat(C.x,",").concat(C.y),P=Rt(e.id)?ld("recharts-radial-line-"):e.id;return j.createElement("text",ri({},n,{dominantBaseline:"central",className:rt("recharts-radial-bar-label",l)}),j.createElement("defs",null,j.createElement("path",{id:P,d:T})),j.createElement("textPath",{xlinkHref:"#".concat(P)},r))},aee=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:l,startAngle:d,endAngle:f}=e,h=(d+f)/2;if(r==="outside"){var{x:p,y}=er(n,i,l+t,h);return{x:p,y,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(s+l)/2,{x:b,y:w}=er(n,i,g,h);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},cm=e=>e!=null&&"cx"in e&&je(e.cx),iee={angle:0,offset:5,zIndex:tr.label,position:"middle",textBreakAll:!1};function see(e){if(!cm(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function as(e){var t=nr(e,iee),{viewBox:r,parentViewBox:n,position:i,value:s,children:l,content:d,className:f="",textBreakAll:h,labelRef:p}=t,y=eee(),g=gI(),b=i==="center"?g:y??g,w,S,_;r==null?w=b:cm(r)?w=r:w=rj(r);var N=see(w);if(!w||Rt(s)&&Rt(l)&&!j.isValidElement(d)&&typeof d!="function")return null;var E=Vu(Vu({},t),{},{viewBox:w});if(j.isValidElement(d)){var{labelRef:A}=E,C=Lk(E,QJ);return j.cloneElement(d,C)}if(typeof d=="function"){var{content:T}=E,P=Lk(E,VJ);if(S=j.createElement(d,P),j.isValidElement(S))return S}else S=tee(t);var M=Hr(t);if(cm(w)){if(i==="insideStart"||i==="insideEnd"||i==="end")return nee(t,i,S,M,w);_=aee(w,t.offset,t.position)}else{if(!N)return null;var I=HJ({viewBox:N,position:i,offset:t.offset,parentViewBox:cm(n)?void 0:n});_=Vu(Vu({x:I.x,y:I.y,textAnchor:I.horizontalAnchor,verticalAnchor:I.verticalAnchor},I.width!==void 0?{width:I.width}:{}),I.height!==void 0?{height:I.height}:{})}return j.createElement(cn,{zIndex:t.zIndex},j.createElement(vy,ri({ref:p,className:rt("recharts-label",f)},M,_,{textAnchor:LJ(M.textAnchor)?M.textAnchor:_.textAnchor,breakAll:h}),S))}as.displayName="Label";var oee=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?j.createElement(as,ri({key:"label-implicit"},n)):Oa(e)?j.createElement(as,ri({key:"label-implicit",value:e},n)):j.isValidElement(e)?e.type===as?j.cloneElement(e,Vu({key:"label-implicit"},n)):j.createElement(as,ri({key:"label-implicit",content:e},n)):b1(e)?j.createElement(as,ri({key:"label-implicit",content:e},n)):e&&typeof e=="object"?j.createElement(as,ri({},e,{key:"label-implicit"},n)):null};function lee(e){var{label:t,labelRef:r}=e,n=gI();return oee(t,n,r)||null}var wb={},jb={},Bk;function cee(){return Bk||(Bk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(jb)),jb}var Sb={},Uk;function uee(){return Uk||(Uk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Sb)),Sb}var zk;function dee(){return zk||(zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cee(),r=uee(),n=Hw();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(wb)),wb}var _b,qk;function fee(){return qk||(qk=1,_b=dee().last),_b}var hee=fee();const mee=Ca(hee);var pee=["valueAccessor"],yee=["dataKey","clockWise","id","textBreakAll","zIndex"];function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},np.apply(null,arguments)}function Kk(e,t){if(e==null)return{};var r,n,i=gee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vee=e=>Array.isArray(e.value)?mee(e.value):e.value,vI=j.createContext(void 0),bI=vI.Provider,xI=j.createContext(void 0),bee=xI.Provider;function xee(){return j.useContext(vI)}function wee(){return j.useContext(xI)}function um(e){var{valueAccessor:t=vee}=e,r=Kk(e,pee),{dataKey:n,clockWise:i,id:s,textBreakAll:l,zIndex:d}=r,f=Kk(r,yee),h=xee(),p=wee(),y=h||p;return!y||!y.length?null:j.createElement(cn,{zIndex:d??tr.label},j.createElement(br,{className:"recharts-label-list"},y.map((g,b)=>{var w,S=Rt(n)?t(g,b):gt(g.payload,n),_=Rt(s)?{}:{id:"".concat(s,"-").concat(b)};return j.createElement(as,np({key:"label-".concat(b)},Hr(g),f,_,{fill:(w=r.fill)!==null&&w!==void 0?w:g.fill,parentViewBox:g.parentViewBox,value:S,textBreakAll:l,viewBox:g.viewBox,index:b,zIndex:0}))})))}um.displayName="LabelList";function x1(e){var{label:t}=e;return t?t===!0?j.createElement(um,{key:"labelList-implicit"}):j.isValidElement(t)||b1(t)?j.createElement(um,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(um,np({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ew.apply(null,arguments)}var wI=e=>{var{cx:t,cy:r,r:n,className:i}=e,s=rt("recharts-dot",i);return je(t)&&je(r)&&je(n)?j.createElement("circle",ew({},_n(e),Fw(e),{className:s,cx:t,cy:r,r:n})):null},jI=e=>e.graphicalItems.polarItems,jee=G([Lt,rf],qj),by=G([jI,Qt,jee],Kj),See=G([by],Fj),xy=G([See,iy],Hj),_ee=G([xy,Qt,by],Vj);G([xy,Qt,by],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,l=gt(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:gt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var Fk=()=>{},Nee=G([xy,Qt,by,my,Lt],Xj),Oee=G([Qt,Yj,Wj,Fk,Nee,Fk,at,Lt],Zj),SI=G([Qt,at,xy,_ee,tf,Lt,Oee],Jj),Eee=G([SI,Ac,As],r1),Aee=G([Qt,SI,Eee,Lt],a1);G([As,Aee],l4);var Cee={radiusAxis:{},angleAxis:{}},_I=ln({name:"polarAxis",initialState:Cee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Ioe,removeRadiusAxis:Loe,addAngleAxis:$oe,removeAngleAxis:Boe}=_I.actions,kee=_I.reducer;function NI(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(n){Pee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pee(e,t,r){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tee(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mee=(e,t)=>t,w1=G([jI,Mee],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Ree=[],j1=(e,t,r)=>(r==null?void 0:r.length)===0?Ree:r,OI=G([iy,w1,j1],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>Qk(Qk({},t.presentationProps),s.props))),i!=null)return i}}),Iee=G([OI,w1,j1],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,l=gt(n,t.nameKey,t.name),d;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?d=n.fill:d=t.fill,{value:Sc(l,t.dataKey),color:d,payload:n,type:t.legendType}})}),Lee=G([OI,w1,j1,cr],(e,t,r,n)=>{if(!(t==null||e==null))return $te({offset:n,pieSettings:t,displayedData:e,cells:r})}),Nb={exports:{}},yt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vk;function $ee(){if(Vk)return yt;Vk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(S){if(typeof S=="object"&&S!==null){var _=S.$$typeof;switch(_){case e:switch(S=S.type,S){case r:case i:case n:case f:case h:case g:return S;default:switch(S=S&&S.$$typeof,S){case l:case d:case y:case p:return S;case s:return S;default:return _}}case t:return _}}}return yt.ContextConsumer=s,yt.ContextProvider=l,yt.Element=e,yt.ForwardRef=d,yt.Fragment=r,yt.Lazy=y,yt.Memo=p,yt.Portal=t,yt.Profiler=i,yt.StrictMode=n,yt.Suspense=f,yt.SuspenseList=h,yt.isContextConsumer=function(S){return w(S)===s},yt.isContextProvider=function(S){return w(S)===l},yt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},yt.isForwardRef=function(S){return w(S)===d},yt.isFragment=function(S){return w(S)===r},yt.isLazy=function(S){return w(S)===y},yt.isMemo=function(S){return w(S)===p},yt.isPortal=function(S){return w(S)===t},yt.isProfiler=function(S){return w(S)===i},yt.isStrictMode=function(S){return w(S)===n},yt.isSuspense=function(S){return w(S)===f},yt.isSuspenseList=function(S){return w(S)===h},yt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===r||S===i||S===n||S===f||S===h||typeof S=="object"&&S!==null&&(S.$$typeof===y||S.$$typeof===p||S.$$typeof===l||S.$$typeof===s||S.$$typeof===d||S.$$typeof===b||S.getModuleId!==void 0)},yt.typeOf=w,yt}var Gk;function Bee(){return Gk||(Gk=1,Nb.exports=$ee()),Nb.exports}var Uee=Bee(),Yk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Wk=null,Ob=null,EI=e=>{if(e===Wk&&Array.isArray(Ob))return Ob;var t=[];return j.Children.forEach(e,r=>{Rt(r)||(Uee.isFragment(r)?t=t.concat(EI(r.props.children)):t.push(r))}),Ob=t,Wk=e,t};function S1(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>Yk(i)):n=[Yk(t)],EI(e).forEach(i=>{var s=Ao(i,"type.displayName")||Ao(i,"type.name");s&&n.indexOf(s)!==-1&&r.push(i)}),r}var AI=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Eb={},Xk;function zee(){return Xk||(Xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Eb)),Eb}var Ab,Zk;function qee(){return Zk||(Zk=1,Ab=zee().isPlainObject),Ab}var Kee=qee();const Fee=Ca(Kee);var Jk,eP,tP,rP,nP;function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){Hee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hee(e,t,r){return(t=Qee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qee(e){var t=Vee(e,"string");return typeof t=="symbol"?t:t+""}function Vee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ap.apply(null,arguments)}function qu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var sP=(e,t,r,n,i)=>{var s=r-n,l;return l=Kt(Jk||(Jk=qu(["M ",",",""])),e,t),l+=Kt(eP||(eP=qu(["L ",",",""])),e+r,t),l+=Kt(tP||(tP=qu(["L ",",",""])),e+r-s/2,t+i),l+=Kt(rP||(rP=qu(["L ",",",""])),e+r-s/2-n,t+i),l+=Kt(nP||(nP=qu(["L ",","," Z"])),e,t),l},Gee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yee=e=>{var t=nr(e,Gee),{x:r,y:n,upperWidth:i,lowerWidth:s,height:l,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:y}=t,g=j.useRef(null),[b,w]=j.useState(-1),S=j.useRef(i),_=j.useRef(s),N=j.useRef(l),E=j.useRef(r),A=j.useRef(n),C=Wd(e,"trapezoid-");if(j.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var de=g.current.getTotalLength();de&&w(de)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var T=rt("recharts-trapezoid",d);if(!y)return j.createElement("g",null,j.createElement("path",ap({},Hr(t),{className:T,d:sP(r,n,i,s,l)})));var P=S.current,M=_.current,I=N.current,F=E.current,L=A.current,K="0px ".concat(b===-1?1:b,"px"),B="".concat(b,"px 0px"),te=ZM(["strokeDasharray"],h,f);return j.createElement(Yd,{animationId:C,key:C,canBegin:b>0,duration:h,easing:f,isActive:y,begin:p},de=>{var Z=Tt(P,i,de),R=Tt(M,s,de),V=Tt(I,l,de),J=Tt(F,r,de),se=Tt(L,n,de);g.current&&(S.current=Z,_.current=R,N.current=V,E.current=J,A.current=se);var ye=de>0?{transition:te,strokeDasharray:B}:{strokeDasharray:K};return j.createElement("path",ap({},Hr(t),{className:T,d:sP(J,se,Z,R,V),ref:g,style:iP(iP({},ye),t.style)}))})},Wee=["option","shapeType","activeClassName"];function Xee(e,t){if(e==null)return{};var r,n,i=Zee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Zee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ip(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){Jee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jee(e,t,r){return(t=ete(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ete(e){var t=tte(e,"string");return typeof t=="symbol"?t:t+""}function tte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rte(e,t){return ip(ip({},t),e)}function nte(e,t){return e==="symbols"}function lP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(rR,r);case"trapezoid":return j.createElement(Yee,r);case"sector":return j.createElement(sR,r);case"symbols":if(nte(t))return j.createElement(Kw,r);break;case"curve":return j.createElement(oj,r);default:return null}}function ate(e){return j.isValidElement(e)?e.props:e}function _1(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=Xee(e,Wee),s;if(j.isValidElement(t))s=j.cloneElement(t,ip(ip({},i),ate(t)));else if(typeof t=="function")s=t(i,i.index);else if(Fee(t)&&typeof t!="boolean"){var l=rte(t,i);s=j.createElement(lP,{shapeType:r,elementProps:l})}else{var d=i;s=j.createElement(lP,{shapeType:r,elementProps:d})}return i.isActive?j.createElement(br,{className:n},s):s}var N1=(e,t,r)=>{var n=Nt();return(i,s)=>l=>{e==null||e(i,s,l),n($4({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},O1=e=>{var t=Nt();return(r,n)=>i=>{e==null||e(r,n,i),t(sX())}},E1=(e,t,r)=>{var n=Nt();return(i,s)=>l=>{e==null||e(i,s,l),n(oX({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function A1(e){var{tooltipEntrySettings:t}=e,r=Nt(),n=Br(),i=j.useRef(null);return j.useLayoutEffect(()=>{n||(i.current===null?r(rX(t)):i.current!==t&&r(nX({prev:i.current,next:t})),i.current=t)},[t,r,n]),j.useLayoutEffect(()=>()=>{i.current&&(r(aX(i.current)),i.current=null)},[r]),null}function CI(e){var{legendPayload:t}=e,r=Nt(),n=Br(),i=j.useRef(null);return j.useLayoutEffect(()=>{n||(i.current===null?r(GM(t)):i.current!==t&&r(YM({prev:i.current,next:t})),i.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{i.current&&(r(WM(i.current)),i.current=null)},[r]),null}function ite(e){var{legendPayload:t}=e,r=Nt(),n=Oe(at),i=j.useRef(null);return j.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(GM(t)):i.current!==t&&r(YM({prev:i.current,next:t})),i.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{i.current&&(r(WM(i.current)),i.current=null)},[r]),null}var Cb,ste=()=>{var[e]=j.useState(()=>ld("uid-"));return e},ote=(Cb=QL.useId)!==null&&Cb!==void 0?Cb:ste;function lte(e,t){var r=ote();return t||(e?"".concat(e,"-").concat(r):r)}var cte=j.createContext(void 0),C1=e=>{var{id:t,type:r,children:n}=e,i=lte("recharts-".concat(r),t);return j.createElement(cte.Provider,{value:i},n(i))},ute={cartesianItems:[],polarItems:[]},kI=ln({name:"graphicalItems",initialState:ute,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Pt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=oa(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Pt()},removeCartesianGraphicalItem:{reducer(e,t){var r=oa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Pt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Pt()},removePolarGraphicalItem:{reducer(e,t){var r=oa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Pt()}}}),{addCartesianGraphicalItem:dte,replaceCartesianGraphicalItem:fte,removeCartesianGraphicalItem:hte,addPolarGraphicalItem:mte,removePolarGraphicalItem:pte}=kI.actions,yte=kI.reducer,gte=e=>{var t=Nt(),r=j.useRef(null);return j.useLayoutEffect(()=>{r.current===null?t(dte(e)):r.current!==e&&t(fte({prev:r.current,next:e})),r.current=e},[t,e]),j.useLayoutEffect(()=>()=>{r.current&&(t(hte(r.current)),r.current=null)},[t]),null},PI=j.memo(gte);function vte(e){var t=Nt();return j.useLayoutEffect(()=>(t(mte(e)),()=>{t(pte(e))}),[t,e]),null}var bte=["key"],xte=["onMouseEnter","onClick","onMouseLeave"],wte=["id"],jte=["id"];function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){Ste(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ste(e,t,r){return(t=_te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _te(e){var t=Nte(e,"string");return typeof t=="symbol"?t:t+""}function Nte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(null,arguments)}function wy(e,t){if(e==null)return{};var r,n,i=Ote(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ote(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ete(e){var t=j.useMemo(()=>S1(e.children,zo),[e.children]),r=Oe(n=>Iee(n,e.id,t));return r==null?null:j.createElement(ite,{legendPayload:r})}var Ate=j.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:l,name:d,hide:f,tooltipType:h,id:p}=e,y={dataDefinedOnItem:n.map(g=>g.tooltipPayload),getPosition:g=>{var b;return(b=n[Number(g)])===null||b===void 0?void 0:b.tooltipPosition},settings:{stroke:i,strokeWidth:s,fill:l,dataKey:t,nameKey:r,name:Sc(d,t),hide:f,type:h,color:l,unit:"",graphicalItemId:p}};return j.createElement(A1,{tooltipEntrySettings:y})}),Cte=(e,t)=>e>t?"start":e<t?"end":"middle",kte=(e,t,r)=>$r(typeof t=="function"?t(e):t,r,r*.8),Pte=(e,t,r)=>{var{top:n,left:i,width:s,height:l}=t,d=nR(s,l),f=i+$r(e.cx,s,s/2),h=n+$r(e.cy,l,l/2),p=$r(e.innerRadius,d,0),y=kte(r,e.outerRadius,d),g=e.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:y,maxRadius:g}},Tte=(e,t)=>{var r=vr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Dte=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=rt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=wy(t,bte);return j.createElement(oj,Ss({},i,{type:"linear",className:r}))},Mte=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var i=rt("recharts-pie-label-text",NI(e));return j.createElement(vy,Ss({},t,{alignmentBaseline:"middle",className:i}),n)};function Rte(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:l}=r;if(!n||!i||!t)return null;var d=_n(r),f=Oo(i),h=Oo(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,y=t.map((g,b)=>{var w=(g.startAngle+g.endAngle)/2,S=er(g.cx,g.cy,g.outerRadius+p,w),_=Ft(Ft(Ft(Ft({},d),g),{},{stroke:"none"},f),{},{index:b,textAnchor:Cte(S.x,g.cx)},S),N=Ft(Ft(Ft(Ft({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:b,points:[er(g.cx,g.cy,g.outerRadius,w),S],key:"line"});return j.createElement(cn,{zIndex:tr.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(b)},j.createElement(br,null,s&&Dte(s,N),Mte(i,_,gt(g,l))))});return j.createElement(br,{className:"recharts-pie-labels"},y)}function Ite(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?j.createElement(x1,{label:i}):j.createElement(Rte,{sectors:t,props:r,showLabels:n})}function Lte(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:s,id:l}=e,d=Oe(js),f=Oe(h1),h=Oe(QX),{onMouseEnter:p,onClick:y,onMouseLeave:g}=i,b=wy(i,xte),w=N1(p,i.dataKey,l),S=O1(g),_=E1(y,i.dataKey,l);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((N,E)=>{if((N==null?void 0:N.startAngle)===0&&(N==null?void 0:N.endAngle)===0&&t.length!==1)return null;var A=h==null||h===l,C=String(E)===d&&(f==null||i.dataKey===f)&&A,T=d?n:null,P=r&&C?r:T,M=Ft(Ft({},N),{},{stroke:N.stroke,tabIndex:-1,[DM]:E,[MM]:l});return j.createElement(br,Ss({key:"sector-".concat(N==null?void 0:N.startAngle,"-").concat(N==null?void 0:N.endAngle,"-").concat(N.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},Kd(b,N,E),{onMouseEnter:w(N,E),onMouseLeave:S(N,E),onClick:_(N,E)}),j.createElement(_1,Ss({option:s??P,index:E,shapeType:"sector",isActive:C},M)))}))}function $te(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:l,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:y}=r,g=Math.abs(r.minAngle),b=Tte(d,f),w=Math.abs(b),S=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,_=n.filter(P=>gt(P,h,0)!==0).length,N=(w>=360?_:_-1)*S,E=w-_*g-N,A=n.reduce((P,M)=>{var I=gt(M,h,0);return P+(je(I)?I:0)},0),C;if(A>0){var T;C=n.map((P,M)=>{var I=gt(P,h,0),F=gt(P,p,M),L=Pte(r,s,P),K=(je(I)?I:0)/A,B,te=Ft(Ft({},P),i&&i[M]&&i[M].props);M?B=T.endAngle+vr(b)*S*(I!==0?1:0):B=d;var de=B+vr(b)*((I!==0?g:0)+K*E),Z=(B+de)/2,R=(L.innerRadius+L.outerRadius)/2,V=[{name:F,value:I,payload:te,dataKey:h,type:y,graphicalItemId:r.id}],J=er(L.cx,L.cy,R,Z);return T=Ft(Ft(Ft(Ft({},r.presentationProps),{},{percent:K,cornerRadius:typeof l=="string"?parseFloat(l):l,name:F,tooltipPayload:V,midAngle:Z,middleRadius:R,tooltipPosition:J},te),L),{},{value:I,dataKey:h,startAngle:B,endAngle:de,payload:te,paddingAngle:vr(b)*S}),T})}return C}function Bte(e){var{showLabels:t,sectors:r,children:n}=e,i=j.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return j.createElement(bee,{value:t?i:void 0},n)}function Ute(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,activeShape:h,inactiveShape:p,onAnimationStart:y,onAnimationEnd:g}=t,b=Wd(t,"recharts-pie-"),w=r.current,[S,_]=j.useState(!1),N=j.useCallback(()=>{typeof g=="function"&&g(),_(!1)},[g]),E=j.useCallback(()=>{typeof y=="function"&&y(),_(!0)},[y]);return j.createElement(Bte,{showLabels:!S,sectors:i},j.createElement(Yd,{animationId:b,begin:l,duration:d,isActive:s,easing:f,onAnimationStart:E,onAnimationEnd:N,key:b},A=>{var C,T=[],P=i&&i[0],M=(C=P==null?void 0:P.startAngle)!==null&&C!==void 0?C:0;return i==null||i.forEach((I,F)=>{var L=w&&w[F],K=F>0?Ao(I,"paddingAngle",0):0;if(L){var B=Tt(L.endAngle-L.startAngle,I.endAngle-I.startAngle,A),te=Ft(Ft({},I),{},{startAngle:M+K,endAngle:M+B+K});T.push(te),M=te.endAngle}else{var{endAngle:de,startAngle:Z}=I,R=Tt(0,de-Z,A),V=Ft(Ft({},I),{},{startAngle:M+K,endAngle:M+R+K});T.push(V),M=V.endAngle}}),r.current=T,j.createElement(br,null,j.createElement(Lte,{sectors:T,activeShape:h,inactiveShape:p,allOtherPieProps:t,shape:t.shape,id:n}))}),j.createElement(Ite,{showLabels:!S,sectors:i,props:t}),t.children)}var zte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:tr.area};function qte(e){var{id:t}=e,r=wy(e,wte),{hide:n,className:i,rootTabIndex:s}=e,l=j.useMemo(()=>S1(e.children,zo),[e.children]),d=Oe(p=>Lee(p,t,l)),f=j.useRef(null),h=rt("recharts-pie",i);return n||d==null?(f.current=null,j.createElement(br,{tabIndex:s,className:h})):j.createElement(cn,{zIndex:e.zIndex},j.createElement(Ate,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement(br,{tabIndex:s,className:h},j.createElement(Ute,{props:Ft(Ft({},r),{},{sectors:d}),previousSectorsRef:f,id:t})))}function k1(e){var t=nr(e,zte),{id:r}=t,n=wy(t,jte),i=_n(n);return j.createElement(C1,{id:r,type:"pie"},s=>j.createElement(j.Fragment,null,j.createElement(vte,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),j.createElement(Ete,Ss({},n,{id:s})),j.createElement(qte,Ss({},n,{id:s}))))}k1.displayName="Pie";var Kte=["points"];function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){Fte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fte(e,t,r){return(t=Hte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hte(e){var t=Qte(e,"string");return typeof t=="symbol"?t:t+""}function Qte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sp(){return sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sp.apply(null,arguments)}function Vte(e,t){if(e==null)return{};var r,n,i=Gte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Gte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yte(e){var{option:t,dotProps:r,className:n}=e;if(j.isValidElement(t))return j.cloneElement(t,r);if(typeof t=="function")return t(r);var i=rt(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,d=Vte(s,Kte);return j.createElement(wI,sp({},d,{className:i}))}function Wte(e,t){return e==null?!1:t?!0:e.length===1}function Xte(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:s,baseProps:l,needClip:d,clipPathId:f,zIndex:h=tr.scatter}=e;if(!Wte(t,r))return null;var p=AI(r),y=d9(r),g=t.map((w,S)=>{var _,N,E=kb(kb(kb({r:3},l),y),{},{index:S,cx:(_=w.x)!==null&&_!==void 0?_:void 0,cy:(N=w.y)!==null&&N!==void 0?N:void 0,dataKey:s,value:w.value,payload:w.payload,points:t});return j.createElement(Yte,{key:"dot-".concat(S),option:r,dotProps:E,className:i})}),b={};return d&&f!=null&&(b.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),j.createElement(cn,{zIndex:h},j.createElement(br,sp({className:n},b),g))}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){Zte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zte(e,t,r){return(t=Jte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jte(e){var t=ere(e,"string");return typeof t=="symbol"?t:t+""}function ere(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TI=0,tre={xAxis:{},yAxis:{},zAxis:{}},DI=ln({name:"cartesianAxis",initialState:tre,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Pt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Pt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Pt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Pt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Pt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Pt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Pt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Pt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Pt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var s,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&n===l[1]&&n!==i.width&&Math.abs(n-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var d=[...l,n].slice(-3);e.yAxis[r]=fP(fP({},i),{},{width:n,widthHistory:d})}}}}),{addXAxis:rre,replaceXAxis:nre,removeXAxis:are,addYAxis:ire,replaceYAxis:sre,removeYAxis:ore,addZAxis:Uoe,replaceZAxis:zoe,removeZAxis:qoe,updateYAxisWidth:lre}=DI.actions,cre=DI.reducer,ure=G([cr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),dre=G([ure,ji,Si],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),P1=()=>Oe(dre),fre=()=>Oe(XX);function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){hre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hre(e,t,r){return(t=mre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mre(e){var t=pre(e,"string");return typeof t=="symbol"?t:t+""}function pre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yre=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:s,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var d={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=Pb(Pb(Pb({},d),Oo(i)),Fw(i)),h;return j.isValidElement(i)?h=j.cloneElement(i,f):typeof i=="function"?h=i(f):h=j.createElement(wI,f),j.createElement(br,{className:"recharts-active-dot",clipPath:l},h)};function gre(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:s,zIndex:l=tr.activeDot}=e,d=Oe(js),f=fre();if(t==null||f==null)return null;var h=t.find(p=>f.includes(p.payload));return Rt(h)?null:j.createElement(cn,{zIndex:l},j.createElement(yre,{point:h,childIndex:Number(d),mainColor:r,dataKey:i,activeDot:n,clipPath:s}))}var mP=(e,t,r)=>{var n=r??e;if(!Rt(n))return $r(n,t,0)},vre=(e,t,r)=>{var n={},i=e.filter(cy),s=e.filter(h=>h.stackId==null),l=i.reduce((h,p)=>{var y=h[p.stackId];return y==null&&(y=[]),y.push(p),h[p.stackId]=y,h},n),d=Object.entries(l).map(h=>{var p,[y,g]=h,b=g.map(S=>S.dataKey),w=mP(t,r,(p=g[0])===null||p===void 0?void 0:p.barSize);return{stackId:y,dataKeys:b,barSize:w}}),f=s.map(h=>{var p=[h.dataKey].filter(g=>g!=null),y=mP(t,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:y}});return[...d,...f]};function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){bre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bre(e,t,r){return(t=xre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xre(e){var t=wre(e,"string");return typeof t=="symbol"?t:t+""}function wre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jre(e,t,r,n,i){var s,l=n.length;if(!(l<1)){var d=$r(e,r,0,!0),f,h=[];if(Ze((s=n[0])===null||s===void 0?void 0:s.barSize)){var p=!1,y=r/l,g=n.reduce((E,A)=>E+(A.barSize||0),0);g+=(l-1)*d,g>=r&&(g-=(l-1)*d,d=0),g>=r&&y>0&&(p=!0,y*=.9,g=l*y);var b=(r-g)/2>>0,w={offset:b-d,size:0};f=n.reduce((E,A)=>{var C,T={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:w.offset+w.size+d,size:p?y:(C=A.barSize)!==null&&C!==void 0?C:0}},P=[...E,T];return w=T.position,P},h)}else{var S=$r(t,r,0,!0);r-2*S-(l-1)*d<=0&&(d=0);var _=(r-2*S-(l-1)*d)/l;_>1&&(_>>=0);var N=Ze(i)?Math.min(_,i):_;f=n.reduce((E,A,C)=>[...E,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:S+(_+d)*C+(_-N)/2,size:N}}],h)}return f}}var Sre=(e,t,r,n,i,s,l)=>{var d=Rt(l)?t:l,f=jre(r,n,i!==s?i:s,e,d);return i!==s&&f!=null&&(f=f.map(h=>em(em({},h),{},{position:em(em({},h.position),{},{offset:h.position.offset-i/2})}))),f},_re=(e,t)=>{var r=Uj(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===r)}}}},Nre=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function Ore(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ze(e.zIndex)?e.zIndex:t}var MI=e=>{var{chartData:t}=e,r=Nt(),n=Br();return j.useEffect(()=>n?()=>{}:(r(wk(t)),()=>{r(wk(void 0))}),[t,r,n]),null},yP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},RI=ln({name:"brush",initialState:yP,reducers:{setBrushSettings(e,t){return t.payload==null?yP:t.payload}}}),{setBrushSettings:Koe}=RI.actions,Ere=RI.reducer;function Are(e){return(e%180+180)%180}var Cre=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Are(i),l=s*Math.PI/180,d=Math.atan(n/r),f=l>d&&l<Math.PI-d?n/Math.sin(l):r/Math.cos(l);return Math.abs(f)},kre={dots:[],areas:[],lines:[]},II=ln({name:"referenceElements",initialState:kre,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=oa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=oa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=oa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Foe,removeDot:Hoe,addArea:Qoe,removeArea:Voe,addLine:Goe,removeLine:Yoe}=II.actions,Pre=II.reducer,Tre=j.createContext(void 0),Dre=e=>{var{children:t}=e,[r]=j.useState("".concat(ld("recharts"),"-clip")),n=P1();if(n==null)return null;var{x:i,y:s,width:l,height:d}=n;return j.createElement(Tre.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:i,y:s,height:d,width:l}))),t)};function LI(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function Mre(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Cre(n,r)}function Rre(e,t,r){var n=r==="width",{x:i,y:s,width:l,height:d}=e;return t===1?{start:n?i:s,end:n?i+l:s+d}:{start:n?i+l:s+d,end:n?i:s}}function jd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function Ire(e,t){return LI(e,t+1)}function Lre(e,t,r,n,i){for(var s=(n||[]).slice(),{start:l,end:d}=t,f=0,h=1,p=l,y=function(){var w=n==null?void 0:n[f];if(w===void 0)return{v:LI(n,h)};var S=f,_,N=()=>(_===void 0&&(_=r(w,S)),_),E=w.coordinate,A=f===0||jd(e,E,N,p,d);A||(f=0,p=l,h+=1),A&&(p=E+e*(N()/2+i),f+=h)},g;h<=s.length;)if(g=y(),g)return g.v;return[]}function $re(e,t,r,n,i){var s=(n||[]).slice(),l=s.length;if(l===0)return[];for(var{start:d,end:f}=t,h=1;h<=l;h++){for(var p=(l-1)%h,y=d,g=!0,b=function(){var C=n[S];if(C==null)return 0;var T=S,P,M=()=>(P===void 0&&(P=r(C,T)),P),I=C.coordinate,F=S===p||jd(e,I,M,y,f);if(!F)return g=!1,1;F&&(y=I+e*(M()/2+i))},w,S=p;S<l&&(w=b(),!(w!==0&&w===1));S+=h);if(g){for(var _=[],N=p;N<l;N+=h){var E=n[N];E!=null&&_.push(E)}return _}}return[]}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){Bre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bre(e,t,r){return(t=Ure(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ure(e){var t=zre(e,"string");return typeof t=="symbol"?t:t+""}function zre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qre(e,t,r,n,i){for(var s=(n||[]).slice(),l=s.length,{start:d}=t,{end:f}=t,h=function(g){var b=s[g];if(b==null)return 1;var w=b,S,_=()=>(S===void 0&&(S=r(b,g)),S);if(g===l-1){var N=e*(w.coordinate+e*_()/2-f);s[g]=w=Rr(Rr({},w),{},{tickCoord:N>0?w.coordinate-N*e:w.coordinate})}else s[g]=w=Rr(Rr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var E=jd(e,w.tickCoord,_,d,f);E&&(f=w.tickCoord-e*(_()/2+i),s[g]=Rr(Rr({},w),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Kre(e,t,r,n,i,s){var l=(n||[]).slice(),d=l.length,{start:f,end:h}=t;if(s){var p=n[d-1];if(p!=null){var y=r(p,d-1),g=e*(p.coordinate+e*y/2-h);if(l[d-1]=p=Rr(Rr({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate}),p.tickCoord!=null){var b=jd(e,p.tickCoord,()=>y,f,h);b&&(h=p.tickCoord-e*(y/2+i),l[d-1]=Rr(Rr({},p),{},{isShow:!0}))}}}for(var w=s?d-1:d,S=function(E){var A=l[E];if(A==null)return 1;var C=A,T,P=()=>(T===void 0&&(T=r(A,E)),T);if(E===0){var M=e*(C.coordinate-e*P()/2-f);l[E]=C=Rr(Rr({},C),{},{tickCoord:M<0?C.coordinate-M*e:C.coordinate})}else l[E]=C=Rr(Rr({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var I=jd(e,C.tickCoord,P,f,h);I&&(f=C.tickCoord+e*(P()/2+i),l[E]=Rr(Rr({},C),{},{isShow:!0}))}},_=0;_<w;_++)S(_);return l}function T1(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:y}=e;if(!i||!i.length||!n)return[];if(je(f)||Zp.isSsr){var g;return(g=Ire(i,je(f)?f:0))!==null&&g!==void 0?g:[]}var b=[],w=d==="top"||d==="bottom"?"width":"height",S=p&&w==="width"?Wu(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(T,P)=>{var M=typeof h=="function"?h(T.value,P):T.value;return w==="width"?Mre(Wu(M,{fontSize:t,letterSpacing:r}),S,y):Wu(M,{fontSize:t,letterSpacing:r})[w]},N=i[0],E=i[1],A=i.length>=2&&N!=null&&E!=null?vr(E.coordinate-N.coordinate):1,C=Rre(s,A,w);return f==="equidistantPreserveStart"?Lre(A,C,_,i,l):f==="equidistantPreserveEnd"?$re(A,C,_,i,l):(f==="preserveStart"||f==="preserveStartEnd"?b=Kre(A,C,_,i,l,f==="preserveStartEnd"):b=qre(A,C,_,i,l),b.filter(T=>T.isShow))}var Fre=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var y=p.getBoundingClientRect();y.width>l&&(l=y.width)}});var d=r?r.getBoundingClientRect().width:0,f=i+s,h=l+f+d+(r?n:0);return Math.round(h)}return 0},Hre=["axisLine","width","height","className","hide","ticks","axisType"];function Qre(e,t){if(e==null)return{};var r,n,i=Vre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Vre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mo.apply(null,arguments)}function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){Gre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gre(e,t,r){return(t=Yre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yre(e){var t=Wre(e,"string");return typeof t=="symbol"?t:t+""}function Wre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:tr.axis};function Xre(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:l,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var h=qt(qt(qt({},f),_n(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=qt(qt({},h),{},{x1:t,y1:r+p*i,x2:t+n,y2:r+p*i})}else{var y=+(s==="left"&&!l||s==="right"&&l);h=qt(qt({},h),{},{x1:t+y*n,y1:r,x2:t+y*n,y2:r+i})}return j.createElement("line",Mo({},h,{className:rt("recharts-cartesian-axis-line",Ao(d,"className"))}))}function Zre(e,t,r,n,i,s,l,d,f){var h,p,y,g,b,w,S=d?-1:1,_=e.tickSize||l,N=je(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=p=e.coordinate,g=r+ +!d*i,y=g-S*_,w=y-S*f,b=N;break;case"left":y=g=e.coordinate,p=t+ +!d*n,h=p-S*_,b=h-S*f,w=N;break;case"right":y=g=e.coordinate,p=t+ +d*n,h=p+S*_,b=h+S*f,w=N;break;default:h=p=e.coordinate,g=r+ +d*i,y=g+S*_,w=y+S*f,b=N;break}return{line:{x1:h,y1:y,x2:p,y2:g},tick:{x:b,y:w}}}function Jre(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function ene(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function tne(e){var{option:t,tickProps:r,value:n}=e,i,s=rt(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))i=j.cloneElement(t,qt(qt({},r),{},{className:s}));else if(typeof t=="function")i=t(qt(qt({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=rt(l,NI(t))),i=j.createElement(vy,Mo({},r,{className:l}),n)}return i}var rne=j.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:l,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:y,x:g,y:b,width:w,height:S,tickSize:_,tickMargin:N,fontSize:E,letterSpacing:A,getTicksConfig:C,events:T,axisType:P}=e,M=T1(qt(qt({},C),{},{ticks:r}),E,A),I=Jre(p,y),F=ene(p,y),L=_n(C),K=Oo(n),B={};typeof i=="object"&&(B=i);var te=qt(qt({},L),{},{fill:"none"},B),de=M.map(V=>qt({entry:V},Zre(V,g,b,w,S,p,_,y,N))),Z=de.map(V=>{var{entry:J,line:se}=V;return j.createElement(br,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},i&&j.createElement("line",Mo({},te,se,{className:rt("recharts-cartesian-axis-tick-line",Ao(i,"className"))})))}),R=de.map((V,J)=>{var se,ye,{entry:D,tick:H}=V,fe=qt(qt(qt(qt({verticalAnchor:F},L),{},{textAnchor:I,stroke:"none",fill:s},H),{},{index:J,payload:D,visibleTicksCount:M.length,tickFormatter:l,padding:f},h),{},{angle:(se=(ye=h==null?void 0:h.angle)!==null&&ye!==void 0?ye:L.angle)!==null&&se!==void 0?se:0}),me=qt(qt({},fe),K);return j.createElement(br,Mo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},Kd(T,D,J)),n&&j.createElement(tne,{option:n,tickProps:me,value:"".concat(typeof l=="function"?l(D.value,J):D.value).concat(d||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},R.length>0&&j.createElement(cn,{zIndex:tr.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},R)),Z.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},Z))}),nne=j.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:l,ticks:d,axisType:f}=e,h=Qre(e,Hre),[p,y]=j.useState(""),[g,b]=j.useState(""),w=j.useRef(null);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return Fre({ticks:w.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=j.useCallback(_=>{if(_){var N=_.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=N;var E=N[0];if(E){var A=window.getComputedStyle(E),C=A.fontSize,T=A.letterSpacing;(C!==p||T!==g)&&(y(C),b(T))}}},[p,g]);return l||n!=null&&n<=0||i!=null&&i<=0?null:j.createElement(cn,{zIndex:e.zIndex},j.createElement(br,{className:rt("recharts-cartesian-axis",s)},j.createElement(Xre,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:_n(e)}),j.createElement(rne,{ref:S,axisType:f,events:h,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),j.createElement(ZJ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},j.createElement(lee,{label:e.label,labelRef:e.labelRef}),e.children)))}),D1=j.forwardRef((e,t)=>{var r=nr(e,oi);return j.createElement(nne,Mo({},r,{ref:t}))});D1.displayName="CartesianAxis";var ane=["x1","y1","x2","y2","key"],ine=["offset"],sne=["xAxisId","yAxisId"],one=["xAxisId","yAxisId"];function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){lne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lne(e,t,r){return(t=cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cne(e){var t=une(e,"string");return typeof t=="symbol"?t:t+""}function une(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(null,arguments)}function op(e,t){if(e==null)return{};var r,n,i=dne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:l,ry:d}=e;return j.createElement("rect",{x:n,y:i,ry:d,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function $I(e){var{option:t,lineItemProps:r}=e,n;if(j.isValidElement(t))n=j.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:s,y1:l,x2:d,y2:f,key:h}=r,p=op(r,ane),y=(i=_n(p))!==null&&i!==void 0?i:{},{offset:g}=y,b=op(y,ine);n=j.createElement("line",co({},b,{x1:s,y1:l,x2:d,y2:f,fill:"none",key:h}))}return n}function hne(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,d=op(e,sne),f=i.map((h,p)=>{var y=Ir(Ir({},d),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(p),index:p});return j.createElement($I,{key:"line-".concat(p),option:n,lineItemProps:y})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function mne(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,d=op(e,one),f=i.map((h,p)=>{var y=Ir(Ir({},d),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(p),index:p});return j.createElement($I,{option:n,lineItemProps:y,key:"line-".concat(p)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function pne(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:l,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length||d==null)return null;var h=d.map(y=>Math.round(y+i-i)).sort((y,g)=>y-g);i!==h[0]&&h.unshift(0);var p=h.map((y,g)=>{var b=h[g+1],w=b==null,S=w?i+l-y:b-y;if(S<=0)return null;var _=g%t.length;return j.createElement("rect",{key:"react-".concat(g),y,x:n,height:S,width:s,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function yne(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:l,height:d,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var h=f.map(y=>Math.round(y+i-i)).sort((y,g)=>y-g);i!==h[0]&&h.unshift(0);var p=h.map((y,g)=>{var b=h[g+1],w=b==null,S=w?i+l-y:b-y;if(S<=0)return null;var _=g%r.length;return j.createElement("rect",{key:"react-".concat(g),x:y,y:s,width:S,height:d,stroke:"none",fill:r[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var gne=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return kM(T1(Ir(Ir(Ir({},oi),r),{},{ticks:PM(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},vne=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return kM(T1(Ir(Ir(Ir({},oi),r),{},{ticks:PM(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},bne={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:tr.grid};function Sd(e){var t=nj(),r=aj(),n=$M(),i=Ir(Ir({},nr(e,bne)),{},{x:je(e.x)?e.x:n.left,y:je(e.y)?e.y:n.top,width:je(e.width)?e.width:n.width,height:je(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:y,horizontalValues:g,verticalValues:b}=i,w=Br(),S=Oe(F=>ck(F,"xAxis",s,w)),_=Oe(F=>ck(F,"yAxis",l,w));if(!Ea(h)||!Ea(p)||!je(d)||!je(f))return null;var N=i.verticalCoordinatesGenerator||gne,E=i.horizontalCoordinatesGenerator||vne,{horizontalPoints:A,verticalPoints:C}=i;if((!A||!A.length)&&typeof E=="function"){var T=g&&g.length,P=E({yAxis:_?Ir(Ir({},_),{},{ticks:T?g:_.ticks}):void 0,width:t??h,height:r??p,offset:n},T?!0:y);Dm(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(A=P)}if((!C||!C.length)&&typeof N=="function"){var M=b&&b.length,I=N({xAxis:S?Ir(Ir({},S),{},{ticks:M?b:S.ticks}):void 0,width:t??h,height:r??p,offset:n},M?!0:y);Dm(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(C=I)}return j.createElement(cn,{zIndex:i.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(fne,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),j.createElement(pne,co({},i,{horizontalPoints:A})),j.createElement(yne,co({},i,{verticalPoints:C})),j.createElement(hne,co({},i,{offset:n,horizontalPoints:A,xAxis:S,yAxis:_})),j.createElement(mne,co({},i,{offset:n,verticalPoints:C,xAxis:S,yAxis:_}))))}Sd.displayName="CartesianGrid";var xne={},BI=ln({name:"errorBars",initialState:xne,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Woe,replaceErrorBar:Xoe,removeErrorBar:Zoe}=BI.actions,wne=BI.reducer,jne=["children"];function Sne(e,t){if(e==null)return{};var r,n,i=_ne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _ne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},One=j.createContext(Nne);function UI(e){var{children:t}=e,r=Sne(e,jne);return j.createElement(One.Provider,{value:r},t)}function M1(e,t){var r,n,i=Oe(h=>Oi(h,e)),s=Oe(h=>Ei(h,t)),l=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:mr.allowDataOverflow,d=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:pr.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function zI(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=P1(),{needClipX:s,needClipY:l,needClip:d}=M1(t,r);if(!d||!i)return null;var{x:f,y:h,width:p,height:y}=i;return j.createElement("clipPath",{id:"clipPath-".concat(n)},j.createElement("rect",{x:s?f:f-p/2,y:l?h:h-y/2,width:s?p:p*2,height:l?y:y*2}))}var qI=(e,t,r,n)=>ws(e,"xAxis",t,n),KI=(e,t,r,n)=>xs(e,"xAxis",t,n),FI=(e,t,r,n)=>ws(e,"yAxis",r,n),HI=(e,t,r,n)=>xs(e,"yAxis",r,n),Ene=G([at,qI,FI,KI,HI],(e,t,r,n,i)=>wi(e,"xAxis")?cc(t,n,!1):cc(r,i,!1)),Ane=(e,t,r,n,i)=>i;function Cne(e){return e.type==="line"}var kne=G([fy,Ane],(e,t)=>e.filter(Cne).find(r=>r.id===t)),Pne=G([at,qI,FI,KI,HI,kne,Ene,Pj],(e,t,r,n,i,s,l,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=d;if(!(s==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:y,data:g}=s,b;if(g!=null&&g.length>0?b=g:b=f==null?void 0:f.slice(h,p+1),b!=null)return yae({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:y,bandSize:l,displayedData:b})}});function Tne(e){var t=Oo(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:s}=t,l=Number(i),d=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(d)||d<0)&&(d=n),{r:l,strokeWidth:d}}return{r,strokeWidth:n}}var Tb={exports:{}},Db={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP;function Dne(){if(xP)return Db;xP=1;var e=pc();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,l=e.useMemo,d=e.useDebugValue;return Db.useSyncExternalStoreWithSelector=function(f,h,p,y,g){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function _(T){if(!N){if(N=!0,E=T,T=y(T),g!==void 0&&w.hasValue){var P=w.value;if(g(P,T))return A=P}return A=T}if(P=A,r(E,T))return P;var M=y(T);return g!==void 0&&g(P,M)?(E=T,P):(E=T,A=M)}var N=!1,E,A,C=p===void 0?null:p;return[function(){return _(h())},C===null?void 0:function(){return _(C())}]},[h,p,y,g]);var S=n(f,b[0],b[1]);return s(function(){w.hasValue=!0,w.value=S},[S]),d(S),S},Db}var wP;function Mne(){return wP||(wP=1,Tb.exports=Dne()),Tb.exports}Mne();function Rne(e){e()}function Ine(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Rne(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var jP={notify(){},get:()=>[]};function Lne(e,t){let r,n=jP,i=0,s=!1;function l(S){p();const _=n.subscribe(S);let N=!1;return()=>{N||(N=!0,_(),y())}}function d(){n.notify()}function f(){w.onStateChange&&w.onStateChange()}function h(){return s}function p(){i++,r||(r=e.subscribe(f),n=Ine())}function y(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=jP)}function g(){s||(s=!0,p())}function b(){s&&(s=!1,y())}const w={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:g,tryUnsubscribe:b,getListeners:()=>n};return w}var $ne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bne=$ne(),Une=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zne=Une(),qne=()=>Bne||zne?j.useLayoutEffect:j.useEffect,Kne=qne();function SP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Fne(e,t){if(SP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!SP(e[r[i]],t[r[i]]))return!1;return!0}var Mb=Symbol.for("react-redux-context"),Rb=typeof globalThis<"u"?globalThis:{};function Hne(){if(!j.createContext)return{};const e=Rb[Mb]??(Rb[Mb]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var Qne=Hne();function Vne(e){const{children:t,context:r,serverState:n,store:i}=e,s=j.useMemo(()=>{const f=Lne(i);return{store:i,subscription:f,getServerState:n?()=>n:void 0}},[i,n]),l=j.useMemo(()=>i.getState(),[i]);Kne(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const d=r||Qne;return j.createElement(d.Provider,{value:s},t)}var Gne=Vne,Yne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Wne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function jy(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Yne.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Fne(e[n],t[n]))return!1}else if(!Wne(e[n],t[n]))return!1;return!0}var Xne=["id"],Zne=["type","layout","connectNulls","needClip","shape"],Jne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(null,arguments)}function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){eae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eae(e,t,r){return(t=tae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tae(e){var t=rae(e,"string");return typeof t=="symbol"?t:t+""}function rae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R1(e,t){if(e==null)return{};var r,n,i=nae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aae=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:Sc(r,t),payload:e}]},iae=j.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:s,name:l,hide:d,unit:f,tooltipType:h,id:p}=e,y={dataDefinedOnItem:r,getPosition:Lo,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:Sc(l,t),hide:d,type:h,color:n,unit:f,graphicalItemId:p}};return j.createElement(A1,{tooltipEntrySettings:y})}),QI=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function sae(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var oae=(e,t,r)=>{var n=r.reduce((b,w)=>b+w);if(!n)return QI(t,e);for(var i=Math.floor(e/n),s=e%n,l=t-e,d=[],f=0,h=0;f<r.length;h+=(p=r[f])!==null&&p!==void 0?p:0,++f){var p,y=r[f];if(y!=null&&h+y>s){d=[...r.slice(0,f),s-h];break}}var g=d.length%2===0?[0,l]:[l];return[...sae(r,i),...d,...g].map(b=>"".concat(b,"px")).join(", ")};function lae(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:s,needClip:l}=n,{id:d}=n,f=R1(n,Xne),h=_n(f);return j.createElement(Xte,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:t})}function cae(e){var{showLabels:t,children:r,points:n}=e,i=j.useMemo(()=>n==null?void 0:n.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return wa(wa({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[n]);return j.createElement(bI,{value:t?i:void 0},r)}function NP(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:s}=e,{type:l,layout:d,connectNulls:f,needClip:h,shape:p}=s,y=R1(s,Zne),g=wa(wa({},Hr(y)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:d,connectNulls:f,strokeDasharray:i??s.strokeDasharray});return j.createElement(j.Fragment,null,(n==null?void 0:n.length)>1&&j.createElement(_1,_d({shapeType:"curve",option:p},g,{pathRef:r})),j.createElement(lae,{points:n,clipPathId:t,props:s}))}function uae(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function dae(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:y,animateNewValues:g,width:b,height:w,onAnimationEnd:S,onAnimationStart:_}=r,N=i.current,E=Wd(l,"recharts-line-"),A=j.useRef(E),[C,T]=j.useState(!1),P=!C,M=j.useCallback(()=>{typeof S=="function"&&S(),T(!1)},[S]),I=j.useCallback(()=>{typeof _=="function"&&_(),T(!0)},[_]),F=uae(n.current),L=j.useRef(0);A.current!==E&&(L.current=s.current,A.current=E);var K=L.current;return j.createElement(cae,{points:l,showLabels:P},r.children,j.createElement(Yd,{animationId:E,begin:h,duration:p,isActive:f,easing:y,onAnimationEnd:M,onAnimationStart:I,key:E},B=>{var te=Tt(K,F+K,B),de=Math.min(te,F),Z;if(f)if(d){var R="".concat(d).split(/[,\s]+/gim).map(se=>parseFloat(se));Z=oae(de,F,R)}else Z=QI(F,de);else Z=d==null?void 0:String(d);if(B>0&&F>0&&(i.current=l,s.current=Math.max(s.current,de)),N){var V=N.length/l.length,J=B===1?l:l.map((se,ye)=>{var D=Math.floor(ye*V);if(N[D]){var H=N[D];return wa(wa({},se),{},{x:Tt(H.x,se.x,B),y:Tt(H.y,se.y,B)})}return g?wa(wa({},se),{},{x:Tt(b*2,se.x,B),y:Tt(w/2,se.y,B)}):wa(wa({},se),{},{x:se.x,y:se.y})});return i.current=J,j.createElement(NP,{props:r,points:J,clipPathId:t,pathRef:n,strokeDasharray:Z})}return j.createElement(NP,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:Z})}),j.createElement(x1,{label:r.label}))}function fae(e){var{clipPathId:t,props:r}=e,n=j.useRef(null),i=j.useRef(0),s=j.useRef(null);return j.createElement(dae,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:s})}var hae=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:gt(e.payload,t)}};class mae extends j.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:s,yAxisId:l,top:d,left:f,width:h,height:p,id:y,needClip:g,zIndex:b}=this.props;if(t)return null;var w=rt("recharts-line",i),S=y,{r:_,strokeWidth:N}=Tne(r),E=AI(r),A=_*2+N,C=g?"url(#clipPath-".concat(E?"":"dots-").concat(S,")"):void 0;return j.createElement(cn,{zIndex:b},j.createElement(br,{className:w},g&&j.createElement("defs",null,j.createElement(zI,{clipPathId:S,xAxisId:s,yAxisId:l}),!E&&j.createElement("clipPath",{id:"clipPath-dots-".concat(S)},j.createElement("rect",{x:f-A/2,y:d-A/2,width:h+A,height:p+A}))),j.createElement(UI,{xAxisId:s,yAxisId:l,data:n,dataPointFormatter:hae,errorBarOffset:0},j.createElement(fae,{props:this.props,clipPathId:S}))),j.createElement(gre,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:C}))}}var VI={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:tr.line,type:"linear"};function pae(e){var t=nr(e,VI),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,hide:h,isAnimationActive:p,label:y,legendType:g,xAxisId:b,yAxisId:w,id:S}=t,_=R1(t,Jne),{needClip:N}=M1(b,w),E=P1(),A=$o(),C=Br(),T=Oe(L=>Pne(L,b,w,C,S));if(A!=="horizontal"&&A!=="vertical"||T==null||E==null)return null;var{height:P,width:M,x:I,y:F}=E;return j.createElement(mae,_d({},_,{id:S,connectNulls:d,dot:f,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:y,legendType:g,xAxisId:b,yAxisId:w,points:T,layout:A,height:P,width:M,left:I,top:F,needClip:N}))}function yae(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:d,displayedData:f}=e;return f.map((h,p)=>{var y=gt(h,l);if(t==="horizontal"){var g=sC({axis:r,ticks:i,bandSize:d,entry:h,index:p}),b=Rt(y)?null:n.scale.map(y);return{x:g,y:b??null,value:y,payload:h}}var w=Rt(y)?null:r.scale.map(y),S=sC({axis:n,ticks:s,bandSize:d,entry:h,index:p});return w==null||S==null?null:{x:w,y:S,value:y,payload:h}}).filter(Boolean)}function gae(e){var t=nr(e,VI),r=Br();return j.createElement(C1,{id:t.id,type:"line"},n=>j.createElement(j.Fragment,null,j.createElement(CI,{legendPayload:aae(t)}),j.createElement(iae,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),j.createElement(PI,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),j.createElement(pae,_d({},t,{id:n}))))}var I1=j.memo(gae,jy);I1.displayName="Line";function qo(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:TI}function Ko(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:TI}var vae="Invariant failed";function bae(e,t){throw new Error(vae)}function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tw.apply(null,arguments)}function lp(e){return j.createElement(_1,tw({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var xae=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(je(t))return t;var s=je(n)||Rt(n);return s?t(n,i):(s||bae(),r)}},wae=(e,t,r)=>r,jae=(e,t)=>t,cf=G([fy,jae],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Sae=G([cf],e=>e==null?void 0:e.maxBarSize),_ae=(e,t,r,n)=>n,Nae=G([at,fy,qo,Ko,wae],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Oae=(e,t,r)=>{var n=at(e),i=qo(e,t),s=Ko(e,t);if(!(i==null||s==null))return n==="horizontal"?Gx(e,"yAxis",s,r):Gx(e,"xAxis",i,r)},Eae=(e,t)=>{var r=at(e),n=qo(e,t),i=Ko(e,t);if(!(n==null||i==null))return r==="horizontal"?lk(e,"xAxis",n):lk(e,"yAxis",i)},Aae=G([Nae,QY,Eae],vre),Cae=(e,t,r)=>{var n,i,s=cf(e,t);if(s==null)return 0;var l=qo(e,t),d=Ko(e,t);if(l==null||d==null)return 0;var f=at(e),h=ZR(e),{maxBarSize:p}=s,y=Rt(p)?h:p,g,b;return f==="horizontal"?(g=ws(e,"xAxis",l,r),b=xs(e,"xAxis",l,r)):(g=ws(e,"yAxis",d,r),b=xs(e,"yAxis",d,r)),(n=(i=cc(g,b,!0))!==null&&i!==void 0?i:y)!==null&&n!==void 0?n:0},GI=(e,t,r)=>{var n=at(e),i=qo(e,t),s=Ko(e,t);if(!(i==null||s==null)){var l,d;return n==="horizontal"?(l=ws(e,"xAxis",i,r),d=xs(e,"xAxis",i,r)):(l=ws(e,"yAxis",s,r),d=xs(e,"yAxis",s,r)),cc(l,d)}},kae=G([Aae,ZR,HY,JR,Cae,GI,Sae],Sre),Pae=(e,t,r)=>{var n=qo(e,t);if(n!=null)return ws(e,"xAxis",n,r)},Tae=(e,t,r)=>{var n=Ko(e,t);if(n!=null)return ws(e,"yAxis",n,r)},Dae=(e,t,r)=>{var n=qo(e,t);if(n!=null)return xs(e,"xAxis",n,r)},Mae=(e,t,r)=>{var n=Ko(e,t);if(n!=null)return xs(e,"yAxis",n,r)},Rae=G([kae,cf],Nre),Iae=G([Oae,cf],_re),Lae=G([cr,ej,Pae,Tae,Dae,Mae,Rae,at,LY,GI,Iae,cf,_ae],(e,t,r,n,i,s,l,d,f,h,p,y,g)=>{var{chartData:b,dataStartIndex:w,dataEndIndex:S}=f;if(!(y==null||l==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||n==null||i==null||s==null||h==null)){var{data:_}=y,N;if(_!=null&&_.length>0?N=_:N=b==null?void 0:b.slice(w,S+1),N!=null)return die({layout:d,barSettings:y,pos:l,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:N,offset:e,cells:g,dataStartIndex:w})}}),$ae=["index"];function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(null,arguments)}function Bae(e,t){if(e==null)return{};var r,n,i=Uae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Uae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YI=j.createContext(void 0),zae=e=>{var t=j.useContext(YI);if(t!=null)return t.stackId;if(e!=null)return P7(e)},qae=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Kae=e=>{var t=j.useContext(YI);if(t!=null){var{stackId:r}=t;return"url(#".concat(qae(r,e),")")}},WI=e=>{var{index:t}=e,r=Bae(e,$ae),n=Kae(t);return j.createElement(br,rw({className:"recharts-bar-stack-layer",clipPath:n},r))},Fae=["onMouseEnter","onMouseLeave","onClick"],Hae=["value","background","tooltipPosition"],Qae=["id"],Vae=["onMouseEnter","onClick","onMouseLeave"];function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gi.apply(null,arguments)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){Gae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gae(e,t,r){return(t=Yae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yae(e){var t=Wae(e,"string");return typeof t=="symbol"?t:t+""}function Wae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cp(e,t){if(e==null)return{};var r,n,i=Xae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Xae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zae=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:Sc(r,t),payload:e}]},Jae=j.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:l,unit:d,tooltipType:f,id:h}=e,p={dataDefinedOnItem:void 0,getPosition:Lo,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Sc(s,t),hide:l,type:f,color:i,unit:d,graphicalItemId:h}};return j.createElement(A1,{tooltipEntrySettings:p})});function eie(e){var t=Oe(js),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:d,onClick:f}=s,h=cp(s,Fae),p=N1(l,n,s.id),y=O1(d),g=E1(f,n,s.id);if(!i||r==null)return null;var b=Oo(i);return j.createElement(cn,{zIndex:Ore(i,tr.barBackground)},r.map((w,S)=>{var{value:_,background:N,tooltipPosition:E}=w,A=cp(w,Hae);if(!N)return null;var C=p(w,S),T=y(w,S),P=g(w,S),M=Kr(Kr(Kr(Kr(Kr({option:i,isActive:String(S)===t},A),{},{fill:"#eee"},N),b),Kd(h,w,S)),{},{onMouseEnter:C,onMouseLeave:T,onClick:P,dataKey:n,index:S,className:"recharts-bar-background-rectangle"});return j.createElement(lp,gi({key:"background-bar-".concat(S)},M))}))}function tie(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Kr(Kr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return j.createElement(bI,{value:t?i:void 0},r)}function rie(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:l}=e,d=Oe(js),f=Oe(h1),h=r&&String(s)===d&&(f==null||l===f),p=h?r:t;return h?j.createElement(cn,{zIndex:tr.activeBar},j.createElement(WI,{index:s},j.createElement(lp,gi({},n,{name:String(n.name)},i,{isActive:h,option:p,index:s,dataKey:l})))):j.createElement(lp,gi({},n,{name:String(n.name)},i,{isActive:h,option:p,index:s,dataKey:l}))}function nie(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return j.createElement(lp,gi({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:s}))}function aie(e){var t,{data:r,props:n}=e,i=(t=_n(n))!==null&&t!==void 0?t:{},{id:s}=i,l=cp(i,Qae),{shape:d,dataKey:f,activeBar:h}=n,{onMouseEnter:p,onClick:y,onMouseLeave:g}=n,b=cp(n,Vae),w=N1(p,f,s),S=O1(g),_=E1(y,f,s);return r?j.createElement(j.Fragment,null,r.map((N,E)=>j.createElement(WI,gi({index:E,key:"rectangle-".concat(N==null?void 0:N.x,"-").concat(N==null?void 0:N.y,"-").concat(N==null?void 0:N.value,"-").concat(E),className:"recharts-bar-rectangle"},Kd(b,N,E),{onMouseEnter:w(N,E),onMouseLeave:S(N,E),onClick:_(N,E)}),h?j.createElement(rie,{shape:d,activeBar:h,baseProps:l,entry:N,index:E,dataKey:f}):j.createElement(nie,{shape:d,baseProps:l,entry:N,index:E,dataKey:f})))):null}function iie(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=t,y=r.current,g=Wd(t,"recharts-bar-"),[b,w]=j.useState(!1),S=!b,_=j.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),N=j.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return j.createElement(tie,{showLabels:S,rects:n},j.createElement(Yd,{animationId:g,begin:l,duration:d,isActive:s,easing:f,onAnimationEnd:_,onAnimationStart:N,key:g},E=>{var A=E===1?n:n==null?void 0:n.map((C,T)=>{var P=y&&y[T];if(P)return Kr(Kr({},C),{},{x:Tt(P.x,C.x,E),y:Tt(P.y,C.y,E),width:Tt(P.width,C.width,E),height:Tt(P.height,C.height,E)});if(i==="horizontal"){var M=Tt(0,C.height,E),I=Tt(C.stackedBarStart,C.y,E);return Kr(Kr({},C),{},{y:I,height:M})}var F=Tt(0,C.width,E),L=Tt(C.stackedBarStart,C.x,E);return Kr(Kr({},C),{},{width:F,x:L})});return E>0&&(r.current=A??null),A==null?null:j.createElement(br,null,j.createElement(aie,{props:t,data:A}))}),j.createElement(x1,{label:t.label}),t.children)}function sie(e){var t=j.useRef(null);return j.createElement(iie,{previousRectanglesRef:t,props:e})}var XI=0,oie=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:gt(e,t)}};class lie extends j.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(t||r==null)return null;var p=rt("recharts-bar",i),y=h;return j.createElement(br,{className:p,id:h},d&&j.createElement("defs",null,j.createElement(zI,{clipPathId:y,xAxisId:s,yAxisId:l})),j.createElement(br,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(y,")"):void 0},j.createElement(eie,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),j.createElement(sie,this.props)))}}var cie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:XI,xAxisId:0,yAxisId:0,zIndex:tr.bar};function uie(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=e,{needClip:y}=M1(t,r),g=$o(),b=Br(),w=S1(e.children,zo),S=Oe(E=>Lae(E,e.id,b,w));if(g!=="vertical"&&g!=="horizontal")return null;var _,N=S==null?void 0:S[0];return N==null||N.height==null||N.width==null?_=0:_=g==="vertical"?N.height/2:N.width/2,j.createElement(UI,{xAxisId:t,yAxisId:r,data:S,dataPointFormatter:oie,errorBarOffset:_},j.createElement(lie,gi({},e,{layout:g,needClip:y,data:S,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function die(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:y,offset:g,cells:b,parentViewBox:w,dataStartIndex:S}=e,_=t==="horizontal"?d:l,N=p?_.scale.domain():null,E=T7({numericAxis:_}),A=_.scale.map(E);return y.map((C,T)=>{var P,M,I,F,L,K;if(p){var B=p[T+S];if(B==null)return null;P=O7(B,N)}else P=gt(C,r),Array.isArray(P)||(P=[E,P]);var te=xae(n,XI)(P[1],T);if(t==="horizontal"){var de,Z=d.scale.map(P[0]),R=d.scale.map(P[1]);if(Z==null||R==null)return null;M=oC({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:C,index:T}),I=(de=R??Z)!==null&&de!==void 0?de:void 0,F=i.size;var V=Z-R;if(L=Na(V)?0:V,K={x:M,y:g.top,width:F,height:g.height},Math.abs(te)>0&&Math.abs(L)<Math.abs(te)){var J=vr(L||te)*(Math.abs(te)-Math.abs(L));I-=J,L+=J}}else{var se=l.scale.map(P[0]),ye=l.scale.map(P[1]);if(se==null||ye==null)return null;if(M=se,I=oC({axis:d,ticks:h,bandSize:s,offset:i.offset,entry:C,index:T}),F=ye-se,L=i.size,K={x:g.left,y:I,width:g.width,height:L},Math.abs(te)>0&&Math.abs(F)<Math.abs(te)){var D=vr(F||te)*(Math.abs(te)-Math.abs(F));F+=D}}if(M==null||I==null||F==null||L==null)return null;var H=Kr(Kr({},C),{},{stackedBarStart:A,x:M,y:I,width:F,height:L,value:p?P:P[1],payload:C,background:K,tooltipPosition:{x:M+F/2,y:I+L/2},parentViewBox:w},b&&b[T]&&b[T].props);return H}).filter(Boolean)}function fie(e){var t=nr(e,cie),r=zae(t.stackId),n=Br();return j.createElement(C1,{id:t.id,type:"bar"},i=>j.createElement(j.Fragment,null,j.createElement(CI,{legendPayload:Zae(t)}),j.createElement(Jae,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),j.createElement(PI,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),j.createElement(cn,{zIndex:t.zIndex},j.createElement(uie,gi({},t,{id:i})))))}var So=j.memo(fie,jy);So.displayName="Bar";var hie=["domain","range"],mie=["domain","range"];function EP(e,t){if(e==null)return{};var r,n,i=pie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function ZI(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=EP(e,hie),{domain:s,range:l}=t,d=EP(t,mie);return!AP(r,s)||!AP(n,l)?!1:jy(i,d)}var yie=["type"],gie=["dangerouslySetInnerHTML","ticks","scale"],vie=["id","scale"];function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(null,arguments)}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){bie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bie(e,t,r){return(t=xie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xie(e){var t=wie(e,"string");return typeof t=="symbol"?t:t+""}function wie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aw(e,t){if(e==null)return{};var r,n,i=jie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Sie(e){var t=Nt(),r=j.useRef(null),n=BM(),{type:i}=e,s=aw(e,yie),l=oy(n,"xAxis",i),d=j.useMemo(()=>{if(l!=null)return kP(kP({},s),{},{type:l})},[s,l]);return j.useLayoutEffect(()=>{d!=null&&(r.current===null?t(rre(d)):r.current!==d&&t(nre({prev:r.current,next:d})),r.current=d)},[d,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(are(r.current)),r.current=null)},[t]),null}var _ie=e=>{var{xAxisId:t,className:r}=e,n=Oe(ej),i=Br(),s="xAxis",l=Oe(N=>T4(N,s,t,i)),d=Oe(N=>A4(N,t)),f=Oe(N=>QW(N,t)),h=Oe(N=>c4(N,t));if(d==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:y,scale:g}=e,b=aw(e,gie),{id:w,scale:S}=h,_=aw(h,vie);return j.createElement(D1,nw({},b,_,{x:f.x,y:f.y,width:d.width,height:d.height,className:rt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},Nie={allowDataOverflow:mr.allowDataOverflow,allowDecimals:mr.allowDecimals,allowDuplicatedCategory:mr.allowDuplicatedCategory,angle:mr.angle,axisLine:oi.axisLine,height:mr.height,hide:!1,includeHidden:mr.includeHidden,interval:mr.interval,label:!1,minTickGap:mr.minTickGap,mirror:mr.mirror,orientation:mr.orientation,padding:mr.padding,reversed:mr.reversed,scale:mr.scale,tick:mr.tick,tickCount:mr.tickCount,tickLine:oi.tickLine,tickSize:oi.tickSize,type:mr.type,xAxisId:0},Oie=e=>{var t=nr(e,Nie);return j.createElement(j.Fragment,null,j.createElement(Sie,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),j.createElement(_ie,t))},Nd=j.memo(Oie,ZI);Nd.displayName="XAxis";var Eie=["type"],Aie=["dangerouslySetInnerHTML","ticks","scale"],Cie=["id","scale"];function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iw.apply(null,arguments)}function PP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(r),!0).forEach(function(n){kie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kie(e,t,r){return(t=Pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pie(e){var t=Tie(e,"string");return typeof t=="symbol"?t:t+""}function Tie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sw(e,t){if(e==null)return{};var r,n,i=Die(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Die(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Mie(e){var t=Nt(),r=j.useRef(null),n=BM(),{type:i}=e,s=sw(e,Eie),l=oy(n,"yAxis",i),d=j.useMemo(()=>{if(l!=null)return TP(TP({},s),{},{type:l})},[l,s]);return j.useLayoutEffect(()=>{d!=null&&(r.current===null?t(ire(d)):r.current!==d&&t(sre({prev:r.current,next:d})),r.current=d)},[d,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(ore(r.current)),r.current=null)},[t]),null}function Rie(e){var{yAxisId:t,className:r,width:n,label:i}=e,s=j.useRef(null),l=j.useRef(null),d=Oe(ej),f=Br(),h=Nt(),p="yAxis",y=Oe(P=>C4(P,t)),g=Oe(P=>GW(P,t)),b=Oe(P=>T4(P,p,t,f)),w=Oe(P=>u4(P,t));if(j.useLayoutEffect(()=>{if(!(n!=="auto"||!y||b1(i)||j.isValidElement(i)||w==null)){var P=s.current;if(P){var M=P.getCalculatedWidth();Math.round(y.width)!==Math.round(M)&&h(lre({id:t,width:M}))}}},[b,y,h,i,t,n,w]),y==null||g==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:_,scale:N}=e,E=sw(e,Aie),{id:A,scale:C}=w,T=sw(w,Cie);return j.createElement(D1,iw({},E,T,{ref:s,labelRef:l,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:y.width,height:y.height,className:rt("recharts-".concat(p," ").concat(p),r),viewBox:d,ticks:b,axisType:p}))}var Iie={allowDataOverflow:pr.allowDataOverflow,allowDecimals:pr.allowDecimals,allowDuplicatedCategory:pr.allowDuplicatedCategory,angle:pr.angle,axisLine:oi.axisLine,hide:!1,includeHidden:pr.includeHidden,interval:pr.interval,label:!1,minTickGap:pr.minTickGap,mirror:pr.mirror,orientation:pr.orientation,padding:pr.padding,reversed:pr.reversed,scale:pr.scale,tick:pr.tick,tickCount:pr.tickCount,tickLine:oi.tickLine,tickSize:oi.tickSize,type:pr.type,width:pr.width,yAxisId:0},Lie=e=>{var t=nr(e,Iie);return j.createElement(j.Fragment,null,j.createElement(Mie,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),j.createElement(Rie,t))},Od=j.memo(Lie,ZI);Od.displayName="YAxis";var $ie=(e,t)=>t,L1=G([$ie,at,s4,wr,Y4,Ai,uZ,cr],gZ),$1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},JI=Qn("mouseClick"),e5=Hd();e5.startListening({actionCreator:JI,effect:(e,t)=>{var r=e.payload,n=L1(t.getState(),$1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(lX({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var ow=Qn("mouseMove"),t5=Hd(),tm=null;t5.startListening({actionCreator:ow,effect:(e,t)=>{var r=e.payload;tm!==null&&cancelAnimationFrame(tm);var n=$1(r);tm=requestAnimationFrame(()=>{var i=t.getState(),s=o1(i,i.tooltip.settings.shared);if(s==="axis"){var l=L1(i,n);(l==null?void 0:l.activeIndex)!=null?t.dispatch(U4({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(B4())}tm=null})}});function Bie(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var DP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},r5=ln({name:"rootProps",initialState:DP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:DP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Uie=r5.reducer,{updateOptions:zie}=r5.actions,qie=null,Kie={updatePolarOptions:(e,t)=>t.payload},n5=ln({name:"polarOptions",initialState:qie,reducers:Kie}),{updatePolarOptions:Fie}=n5.actions,Hie=n5.reducer,a5=Qn("keyDown"),i5=Qn("focus"),B1=Hd();B1.startListening({actionCreator:a5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=l1(i,Tc(r),af(r),of(r)),d=l==null?-1:Number(l);if(!(!Number.isFinite(d)||d<0)){var f=Ai(r);if(s==="Enter"){var h=rp(r,"axis","hover",String(i.index));t.dispatch(Wx({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=ZW(r),y=p==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,b=d+g*y;if(!(f==null||b>=f.length||b<0)){var w=rp(r,"axis","hover",String(b));t.dispatch(Wx({active:!0,activeIndex:b.toString(),activeCoordinate:w}))}}}}}});B1.startListening({actionCreator:i5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",l=rp(r,"axis","hover",String(s));t.dispatch(Wx({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Un=Qn("externalEvent"),s5=Hd(),Ib=new Map;s5.startListening({actionCreator:Un,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,s=Ib.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var d=t.getState(),f={activeCoordinate:GX(d),activeDataKey:h1(d),activeIndex:js(d),activeLabel:Z4(d),activeTooltipIndex:js(d),isTooltipActive:YX(d)};r(f,n)}finally{Ib.delete(i)}});Ib.set(i,l)}}});var Qie=G([kc],e=>e.tooltipItemPayloads),Vie=G([Qie,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),o5=Qn("touchMove"),l5=Hd();l5.startListening({actionCreator:o5,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=o1(n,n.tooltip.settings.shared);if(i==="axis"){var s=r.touches[0];if(s==null)return;var l=L1(n,$1({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(U4({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var d,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(DM),y=(d=h.getAttribute(MM))!==null&&d!==void 0?d:void 0,g=Pc(n).find(S=>S.id===y);if(p==null||g==null||y==null)return;var{dataKey:b}=g,w=Vie(n,p,y);t.dispatch($4({activeDataKey:b,activeIndex:p,activeCoordinate:w,activeGraphicalItemId:y}))}}}});var Gie=tM({brush:Ere,cartesianAxis:cre,chartData:GZ,errorBars:wne,graphicalItems:yte,layout:w7,legend:AH,options:KZ,polarAxis:kee,polarOptions:Hie,referenceElements:Pre,rootProps:Uie,tooltip:cX,zIndex:PZ}),Yie=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return QF({reducer:Gie,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([e5.middleware,t5.middleware,B1.middleware,s5.middleware,l5.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(yM({type:"raf"}))},devTools:{serialize:{replacer:Bie},name:"recharts-".concat(r)}})};function c5(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Br(),s=j.useRef(null);if(i)return r;s.current==null&&(s.current=Yie(t,n));var l=Vw;return j.createElement(Gne,{context:l,store:s.current},r)}function Wie(e){var{layout:t,margin:r}=e,n=Nt(),i=Br();return j.useEffect(()=>{i||(n(v7(t)),n(g7(r)))},[n,i,t,r]),null}var u5=j.memo(Wie,jy);function d5(e){var t=Nt();return j.useEffect(()=>{t(zie(e))},[t,e]),null}function MP(e){var{zIndex:t,isPanorama:r}=e,n=j.useRef(null),i=Nt();return j.useLayoutEffect(()=>(n.current&&i(CZ({zIndex:t,element:n.current,isPanorama:r})),()=>{i(kZ({zIndex:t,isPanorama:r}))}),[i,t,r]),j.createElement("g",{tabIndex:-1,ref:n})}function RP(e){var{children:t,isPanorama:r}=e,n=Oe(bZ);if(!n||n.length===0)return t;var i=n.filter(l=>l<0),s=n.filter(l=>l>0);return j.createElement(j.Fragment,null,i.map(l=>j.createElement(MP,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>j.createElement(MP,{key:l,zIndex:l,isPanorama:r})))}var Xie=["children"];function Zie(e,t){if(e==null)return{};var r,n,i=Jie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Jie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(null,arguments)}var ese={width:"100%",height:"100%",display:"block"},tse=j.forwardRef((e,t)=>{var r=nj(),n=aj(),i=XM();if(!Ea(r)||!Ea(n))return null;var{children:s,otherAttributes:l,title:d,desc:f}=e,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),j.createElement(Iw,up({},l,{title:d,desc:f,role:p,tabIndex:h,width:r,height:n,style:ese,ref:t}),s)}),rse=e=>{var{children:t}=e,r=Oe(Qp);if(!r)return null;var{width:n,height:i,y:s,x:l}=r;return j.createElement(Iw,{width:n,height:i,x:l,y:s},t)},IP=j.forwardRef((e,t)=>{var{children:r}=e,n=Zie(e,Xie),i=Br();return i?j.createElement(rse,null,j.createElement(RP,{isPanorama:!0},r)):j.createElement(tse,up({ref:t},n),j.createElement(RP,{isPanorama:!1},r))});function nse(){var e=Nt(),[t,r]=j.useState(null),n=Oe($7);return j.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Ze(s)&&s!==n&&e(x7(s))}},[t,e,n]),r}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ase(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){ise(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ise(e,t,r){return(t=sse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sse(e){var t=ose(e,"string");return typeof t=="symbol"?t:t+""}function ose(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bs.apply(null,arguments)}var lse=()=>(nJ(),null);function dp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var cse=j.forwardRef((e,t)=>{var r,n,i=j.useRef(null),[s,l]=j.useState({containerWidth:dp((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:dp((n=e.style)===null||n===void 0?void 0:n.height)}),d=j.useCallback((h,p)=>{l(y=>{var g=Math.round(h),b=Math.round(p);return y.containerWidth===g&&y.containerHeight===b?y:{containerWidth:g,containerHeight:b}})},[]),f=j.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:y}=h.getBoundingClientRect();d(p,y);var g=w=>{var S=w[0];if(S!=null){var{width:_,height:N}=S.contentRect;d(_,N)}},b=new ResizeObserver(g);b.observe(h),i.current=b}},[t,d]);return j.useEffect(()=>()=>{var h=i.current;h!=null&&h.disconnect()},[d]),j.createElement(j.Fragment,null,j.createElement(Vd,{width:s.containerWidth,height:s.containerHeight}),j.createElement("div",bs({ref:f},e)))}),use=j.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,s]=j.useState({containerWidth:dp(r),containerHeight:dp(n)}),l=j.useCallback((f,h)=>{s(p=>{var y=Math.round(f),g=Math.round(h);return p.containerWidth===y&&p.containerHeight===g?p:{containerWidth:y,containerHeight:g}})},[]),d=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[t,l]);return j.createElement(j.Fragment,null,j.createElement(Vd,{width:i.containerWidth,height:i.containerHeight}),j.createElement("div",bs({ref:d},e)))}),dse=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return j.createElement(j.Fragment,null,j.createElement(Vd,{width:r,height:n}),j.createElement("div",bs({ref:t},e)))}),fse=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?j.createElement(use,bs({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?j.createElement(dse,bs({},e,{width:r,height:n,ref:t})):j.createElement(j.Fragment,null,j.createElement(Vd,{width:r,height:n}),j.createElement("div",bs({ref:t},e)))});function hse(e){return e?cse:fse}var mse=j.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:y,onMouseUp:g,onTouchEnd:b,onTouchMove:w,onTouchStart:S,style:_,width:N,responsive:E,dispatchTouchEvents:A=!0}=e,C=j.useRef(null),T=Nt(),[P,M]=j.useState(null),[I,F]=j.useState(null),L=nse(),K=tj(),B=(K==null?void 0:K.width)>0?K.width:N,te=(K==null?void 0:K.height)>0?K.height:i,de=j.useCallback(z=>{L(z),typeof t=="function"&&t(z),M(z),F(z),z!=null&&(C.current=z)},[L,t,M,F]),Z=j.useCallback(z=>{T(JI(z)),T(Un({handler:s,reactEvent:z}))},[T,s]),R=j.useCallback(z=>{T(ow(z)),T(Un({handler:h,reactEvent:z}))},[T,h]),V=j.useCallback(z=>{T(B4()),T(Un({handler:p,reactEvent:z}))},[T,p]),J=j.useCallback(z=>{T(ow(z)),T(Un({handler:y,reactEvent:z}))},[T,y]),se=j.useCallback(()=>{T(i5())},[T]),ye=j.useCallback(z=>{T(a5(z.key))},[T]),D=j.useCallback(z=>{T(Un({handler:l,reactEvent:z}))},[T,l]),H=j.useCallback(z=>{T(Un({handler:d,reactEvent:z}))},[T,d]),fe=j.useCallback(z=>{T(Un({handler:f,reactEvent:z}))},[T,f]),me=j.useCallback(z=>{T(Un({handler:g,reactEvent:z}))},[T,g]),_e=j.useCallback(z=>{T(Un({handler:S,reactEvent:z}))},[T,S]),ee=j.useCallback(z=>{A&&T(o5(z)),T(Un({handler:w,reactEvent:z}))},[T,A,w]),pe=j.useCallback(z=>{T(Un({handler:b,reactEvent:z}))},[T,b]),ke=hse(E);return j.createElement(iI.Provider,{value:P},j.createElement(vD.Provider,{value:I},j.createElement(ke,{width:B??(_==null?void 0:_.width),height:te??(_==null?void 0:_.height),className:rt("recharts-wrapper",n),style:ase({position:"relative",cursor:"default",width:B,height:te},_),onClick:Z,onContextMenu:D,onDoubleClick:H,onFocus:se,onKeyDown:ye,onMouseDown:fe,onMouseEnter:R,onMouseLeave:V,onMouseMove:J,onMouseUp:me,onTouchEnd:pe,onTouchMove:ee,onTouchStart:_e,ref:de},j.createElement(lse,null),r)))}),pse=["width","height","responsive","children","className","style","compact","title","desc"];function yse(e,t){if(e==null)return{};var r,n,i=gse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var f5=j.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:s,className:l,style:d,compact:f,title:h,desc:p}=e,y=yse(e,pse),g=_n(y);return f?j.createElement(j.Fragment,null,j.createElement(Vd,{width:r,height:n}),j.createElement(IP,{otherAttributes:g,title:h,desc:p},s)):j.createElement(mse,{className:l,style:d,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(IP,{otherAttributes:g,title:h,desc:p,ref:t},j.createElement(Dre,null,s)))});function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(null,arguments)}var vse={top:5,right:5,bottom:5,left:5},bse={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:vse,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},h5=j.forwardRef(function(t,r){var n,i=nr(t.categoricalChartProps,bse),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return j.createElement(c5,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},j.createElement(MI,{chartData:h.data}),j.createElement(u5,{layout:i.layout,margin:i.margin}),j.createElement(d5,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement(f5,lw({},i,{ref:r})))}),xse=["axis","item"],m5=j.forwardRef((e,t)=>j.createElement(h5,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xse,tooltipPayloadSearcher:v1,categoricalChartProps:e,ref:t}));function wse(e){var t=Nt();return j.useEffect(()=>{t(Fie(e))},[t,e]),null}var jse=["layout"];function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(null,arguments)}function Sse(e,t){if(e==null)return{};var r,n,i=_se(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _se(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nse={top:5,right:5,bottom:5,left:5},p5={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Nse,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ose=j.forwardRef(function(t,r){var n,i=nr(t.categoricalChartProps,p5),{layout:s}=i,l=Sse(i,jse),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=t,y={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return j.createElement(c5,{preloadedState:{options:y},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:d},j.createElement(MI,{chartData:i.data}),j.createElement(u5,{layout:s,margin:i.margin}),j.createElement(d5,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement(wse,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),j.createElement(f5,cw({},l,{ref:r})))});function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){Ese(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ese(e,t,r){return(t=Ase(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ase(e){var t=Cse(e,"string");return typeof t=="symbol"?t:t+""}function Cse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kse=["item"],Pse=BP(BP({},p5),{},{layout:"centric",startAngle:0,endAngle:360}),y5=j.forwardRef((e,t)=>{var r=nr(e,Pse);return j.createElement(Ose,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:kse,tooltipPayloadSearcher:v1,categoricalChartProps:r,ref:t})}),Tse=["axis"],g5=j.forwardRef((e,t)=>j.createElement(h5,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tse,tooltipPayloadSearcher:v1,categoricalChartProps:e,ref:t}));const Dse=()=>{const e=xe.currentUser;if(!e)return u.jsx("div",{className:"p-8 text-center text-gray-500",children:"Not Authenticated"});const t=e.role===Ht.ADMIN,[r,n]=j.useState("All Time"),[i,s]=j.useState({from:"",to:""}),{data:l=[],isPending:d}=Ep(),{data:f=[],isPending:h}=$d(),{data:p=[],isPending:y}=Bd(),{data:g=[],isPending:b}=Ns(),{data:w=[]}=zd(),S=d||h||y||b,_=j.useMemo(()=>l.filter(Z=>e0(Z.orderDate,r,i)),[l,r,i]),N=j.useMemo(()=>f.filter(Z=>e0(Z.billDate,r,i)),[f,r,i]),E=j.useMemo(()=>p.filter(Z=>e0(Z.date,r,i)),[p,r,i]),A=_.reduce((Z,R)=>Z+R.total,0),C=N.reduce((Z,R)=>Z+R.total,0),T=E.filter(Z=>Z.type==="Expense"&&Z.category!=="expense_purchases").reduce((Z,R)=>Z+R.amount,0),P=A-C-T,M={total:_.length,processing:_.filter(Z=>Z.status===Ge.PROCESSING).length,picked:_.filter(Z=>Z.status===Ge.PICKED).length,completed:_.filter(Z=>Z.status===Ge.COMPLETED).length};_.reduce((Z,R)=>Z+(R.total-R.paidAmount),0),N.reduce((Z,R)=>Z+(R.total-R.paidAmount),0);const I=_.filter(Z=>Z.createdBy===e.id).length,F=new Date().toISOString().split("T")[0],L=_.filter(Z=>Z.createdBy===e.id&&Z.orderDate===F).length,K=_.filter(Z=>Z.createdBy===e.id&&Z.status===Ge.ON_HOLD).length,B=j.useMemo(()=>{const Z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],R=new Date().getFullYear(),V={};return Z.forEach(J=>{V[J]={income:0,expense:0}}),_.forEach(J=>{const se=new Date(J.orderDate);if(se.getFullYear()===R){const ye=se.getMonth(),D=Z[ye];V[D].income+=J.total}}),N.forEach(J=>{const se=new Date(J.billDate);if(se.getFullYear()===R){const ye=se.getMonth(),D=Z[ye];V[D].expense+=J.total}}),E.filter(J=>J.type==="Expense"&&J.category!=="expense_purchases").forEach(J=>{const se=new Date(J.date);if(se.getFullYear()===R){const ye=se.getMonth(),D=Z[ye];V[D].expense+=J.amount}}),Z.map(J=>({name:J,income:V[J].income,expense:-V[J].expense,profit:V[J].income-V[J].expense}))},[_,N,E]),te=j.useMemo(()=>{const Z=new Map(w.map(H=>[H.id,H.name])),R={},V={},J=["#10B981","#3B82F6","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16"];let se=0;C>0&&(R.Purchases=C,V.Purchases=J[se++]),E.filter(H=>H.type==="Expense"&&H.category!=="expense_purchases").forEach(H=>{const fe=Z.get(H.category)||H.category||"Uncategorized";R[fe]=(R[fe]||0)+H.amount,V[fe]||(V[fe]=J[se%J.length],se++)});const D=Object.entries(R).map(([H,fe])=>({name:H,value:Math.max(fe,1),color:V[H]}));return D.length>0?D:[{name:"No Data",value:1,color:"#D1D5DB"}]},[E,C,w]),de=g.map(Z=>({name:Z.name.split(" ")[0],orders:l.filter(R=>R.createdBy===Z.id).length})).sort((Z,R)=>R.orders-Z.orders);return t?u.jsxs("div",{className:"space-y-6",children:[u.jsx(Ld,{isLoading:S,message:"Loading dashboard data..."}),u.jsx(od,{filterRange:r,setFilterRange:n,customDates:i,setCustomDates:s}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(Zn,{title:"Total Sales",value:we(A),icon:ae.Sales,bgColor:"bg-blue-600",textColor:"text-white",iconBgColor:"bg-blue-700"}),u.jsx(Zn,{title:"Total Purchases",value:we(C),icon:ae.Briefcase,bgColor:"bg-purple-600",textColor:"text-white",iconBgColor:"bg-purple-700"}),u.jsx(Zn,{title:"Other Expenses",value:we(T),icon:ae.Delete,bgColor:"bg-amber-500",textColor:"text-white",iconBgColor:"bg-amber-600"}),u.jsx(Zn,{title:"Total Profit",value:we(P),icon:ae.Reports,isProfitCard:!0,profitValue:P}),u.jsx(Zn,{title:"Total Orders",value:M.total,icon:ae.Dashboard,bgColor:"bg-indigo-700",textColor:"text-white",iconBgColor:"bg-indigo-800"}),u.jsx(Zn,{title:"Processing Orders",value:M.processing,icon:ae.More,bgColor:"bg-sky-500",textColor:"text-white",iconBgColor:"bg-sky-600"}),u.jsx(Zn,{title:"Picked Orders",value:M.picked,icon:ae.Courier,bgColor:"bg-cyan-500",textColor:"text-white",iconBgColor:"bg-cyan-600"}),u.jsx(Zn,{title:"Completed Orders",value:M.completed,icon:ae.PlusCircle,bgColor:"bg-teal-600",textColor:"text-white",iconBgColor:"bg-teal-700"})]}),u.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsx("div",{children:u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Cash Flow"})}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-[#059669]"}),u.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Income"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),u.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Expense"})]})]})]}),u.jsx("div",{className:"h-[250px]",children:u.jsx(Vl,{width:"100%",height:"100%",children:u.jsxs(g5,{data:B,children:[u.jsx(Sd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),u.jsx(Nd,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),u.jsx(Od,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),u.jsx(Yl,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f8fafc"}}),u.jsx(So,{dataKey:"income",fill:"#059669",radius:[4,4,0,0],barSize:40}),u.jsx(So,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],barSize:40}),u.jsx(I1,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"}})]})})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[u.jsx("div",{className:"flex items-center justify-between mb-8",children:u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Profit & Loss Summary"})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg",children:[u.jsx("span",{className:"font-bold text-gray-600 text-sm",children:"Total Incomes"}),u.jsx("span",{className:"font-black text-gray-900 text-sm",children:we(A)})]}),u.jsxs("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg",children:[u.jsx("span",{className:"font-bold text-gray-600 text-sm",children:"Total Expenses"}),u.jsx("span",{className:"font-black text-gray-900 text-sm",children:we(C+T)})]}),u.jsxs("div",{className:`flex justify-between items-center p-6 rounded-xl shadow-xl text-white
                  ${P>=0?"bg-emerald-600 shadow-emerald-600/20":"bg-red-600 shadow-red-600/20"}
                `,children:[u.jsx("span",{className:"font-black uppercase tracking-widest text-sm",children:"Net Profit"}),u.jsx("span",{className:"font-black text-sm",children:we(P)})]})]})]}),u.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-8",children:"Expenses by Category"}),u.jsx("div",{className:"h-[300px]",children:u.jsx(Vl,{width:"100%",height:"100%",children:u.jsxs(y5,{children:[u.jsx(k1,{data:te,innerRadius:0,outerRadius:100,dataKey:"value",children:te.map((Z,R)=>u.jsx(zo,{fill:Z.color},`cell-${R}`))}),u.jsx(Yl,{}),u.jsx(Xp,{verticalAlign:"middle",align:"right",layout:"vertical"})]})})})]})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsx(od,{filterRange:r,setFilterRange:n,customDates:i,setCustomDates:s}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx(Zn,{title:"Total Created",value:I,icon:ae.Sales,bgColor:"bg-blue-600",textColor:"text-white",iconBgColor:"bg-blue-700"}),u.jsx(Zn,{title:"Created Today",value:L,icon:ae.Dashboard,bgColor:"bg-teal-500",textColor:"text-white",iconBgColor:"bg-teal-600"}),u.jsx(Zn,{title:"Pending (Hold)",value:K,icon:ae.More,bgColor:"bg-orange-500",textColor:"text-white",iconBgColor:"bg-orange-600"})]}),u.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Performance"}),u.jsx("p",{className:"text-sm text-gray-400",children:"Comparing total orders across all employees"})]}),u.jsx("div",{className:"h-[400px]",children:u.jsx(Vl,{width:"100%",height:"100%",children:u.jsxs(m5,{data:de,children:[u.jsx(Sd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),u.jsx(Nd,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:700,fill:"#64748b"}}),u.jsx(Od,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:700,fill:"#64748b"}}),u.jsx(Yl,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),u.jsx(So,{dataKey:"orders",fill:"#10B981",radius:[12,12,0,0]})]})})})]})]})};function Mse(){const e=Ue();return ot({mutationFn:Yq,onMutate:async t=>{await e.cancelQueries({queryKey:["customers"]});const r=e.getQueryData(["customers"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["customers"],[...r,n])}return{previousCustomers:r}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers)},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]})}})}function Rse(){const e=Ue();return ot({mutationFn:({id:t,updates:r})=>Wq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["customers"]}),await e.cancelQueries({queryKey:["customer",t]});const n=e.getQueryData(["customers"]),i=e.getQueryData(["customer",t]);return n&&e.setQueryData(["customers"],n.map(s=>s.id===t?{...s,...r}:s)),i&&e.setQueryData(["customer",t],{...i,...r}),{previousCustomers:n,previousCustomer:i}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers),n!=null&&n.previousCustomer&&e.setQueryData(["customer",r.id],n.previousCustomer)},onSuccess:t=>{e.invalidateQueries({queryKey:["customers"]}),e.invalidateQueries({queryKey:["customer",t.id]})}})}function Ise(){const e=Ue();return ot({mutationFn:Xq,onMutate:async t=>{await e.cancelQueries({queryKey:["customers"]});const r=e.getQueryData(["customers"]);return r&&e.setQueryData(["customers"],r.filter(n=>n.id!==t)),{previousCustomers:r}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers)},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]})}})}function Sy(){const e=Ue();return ot({mutationFn:t8,onSuccess:async t=>{e.setQueryData(["order",t.id],t);try{const r=e.getQueryData(["settings","order"]);r&&r.nextNumber&&(await iD({nextNumber:r.nextNumber+1}),e.invalidateQueries({queryKey:["settings","order"]}))}catch(r){console.error("Failed to update order settings:",r)}e.invalidateQueries({queryKey:["orders"]})}})}function U1(){const e=Ue();return ot({mutationFn:({id:t,updates:r})=>r8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["orders"]}),await e.cancelQueries({queryKey:["order",t]}),await e.cancelQueries({queryKey:["ordersByCustomerId"]});const n=e.getQueryData(["orders"]),i=e.getQueryData(["order",t]);if(n&&e.setQueryData(["orders"],n.map(s=>s.id===t?{...s,...r}:s)),i&&e.setQueryData(["order",t],{...i,...r}),i!=null&&i.customerId){const s=e.getQueryData(["ordersByCustomerId",i.customerId]);s&&e.setQueryData(["ordersByCustomerId",i.customerId],s.map(l=>l.id===t?{...l,...r}:l))}return{previousOrders:n,previousOrder:i}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders),n!=null&&n.previousOrder&&e.setQueryData(["order",r.id],n.previousOrder)},onSuccess:t=>{e.invalidateQueries({queryKey:["orders"]}),e.invalidateQueries({queryKey:["order",t.id]})}})}function Lse(){const e=Ue();return ot({mutationFn:n8,onMutate:async t=>{await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["orders"]);return r&&e.setQueryData(["orders"],r.filter(n=>n.id!==t)),{previousOrders:r}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]})}})}function v5(){const e=Ue();return ot({mutationFn:b8,onSuccess:t=>{e.setQueryData(["bill",t.id],t),e.invalidateQueries({queryKey:["bills"]})}})}function b5(){const e=Ue();return ot({mutationFn:({id:t,updates:r})=>x8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["bills"]}),await e.cancelQueries({queryKey:["bill",t]});const n=e.getQueryData(["bills"]),i=e.getQueryData(["bill",t]);return n&&e.setQueryData(["bills"],n.map(s=>s.id===t?{...s,...r}:s)),i&&e.setQueryData(["bill",t],{...i,...r}),{previousBills:n,previousBill:i}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills),n!=null&&n.previousBill&&e.setQueryData(["bill",r.id],n.previousBill)},onSuccess:t=>{e.invalidateQueries({queryKey:["bills"]}),e.invalidateQueries({queryKey:["bill",t.id]})}})}function $se(){const e=Ue();return ot({mutationFn:w8,onMutate:async t=>{await e.cancelQueries({queryKey:["bills"]});const r=e.getQueryData(["bills"]);return r&&e.setQueryData(["bills"],r.filter(n=>n.id!==t)),{previousBills:r}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills)},onSuccess:()=>{e.invalidateQueries({queryKey:["bills"]})}})}function Bse(){const e=Ue();return ot({mutationFn:i8,onMutate:async t=>{await e.cancelQueries({queryKey:["accounts"]});const r=e.getQueryData(["accounts"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["accounts"],[...r,n])}return{previousAccounts:r}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts)},onSuccess:()=>{e.invalidateQueries({queryKey:["accounts"]})}})}function uf(){const e=Ue();return ot({mutationFn:({id:t,updates:r})=>s8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["accounts"]}),await e.cancelQueries({queryKey:["account",t]});const n=e.getQueryData(["accounts"]),i=e.getQueryData(["account",t]);return n&&e.setQueryData(["accounts"],n.map(s=>s.id===t?{...s,...r}:s)),i&&e.setQueryData(["account",t],{...i,...r}),{previousAccounts:n,previousAccount:i}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts),n!=null&&n.previousAccount&&e.setQueryData(["account",r.id],n.previousAccount)},onSuccess:t=>{e.invalidateQueries({queryKey:["accounts"]}),e.invalidateQueries({queryKey:["account",t.id]})}})}function Use(){const e=Ue();return ot({mutationFn:o8,onMutate:async t=>{await e.cancelQueries({queryKey:["accounts"]});const r=e.getQueryData(["accounts"]);return r&&e.setQueryData(["accounts"],r.filter(n=>n.id!==t)),{previousAccounts:r}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts)},onSuccess:()=>{e.invalidateQueries({queryKey:["accounts"]})}})}function df(){const e=Ue();return ot({mutationFn:c8,onMutate:async t=>{await e.cancelQueries({queryKey:["transactions"]}),await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["transactions"]),n=e.getQueryData(["orders"]);if(r){const i={...t,id:`temp-${Date.now()}`};e.setQueryData(["transactions"],[...r,i])}return{previousTransactions:r,previousOrders:n}},onError:(t,r,n)=>{n!=null&&n.previousTransactions&&e.setQueryData(["transactions"],n.previousTransactions),n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:()=>{e.invalidateQueries({queryKey:["transactions"]}),e.invalidateQueries({queryKey:["orders"]})}})}function zse(){const e=Ue();return ot({mutationFn:u8,onMutate:async t=>{await e.cancelQueries({queryKey:["transactions"]});const r=e.getQueryData(["transactions"]);return r&&e.setQueryData(["transactions"],r.filter(n=>n.id!==t)),{previousTransactions:r}},onError:(t,r,n)=>{n!=null&&n.previousTransactions&&e.setQueryData(["transactions"],n.previousTransactions)},onSuccess:()=>{e.invalidateQueries({queryKey:["transactions"]})}})}function qse(){const e=Ue();return ot({mutationFn:m8,onMutate:async t=>{await e.cancelQueries({queryKey:["users"]});const r=e.getQueryData(["users"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["users"],[...r,n])}return{previousUsers:r}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers)},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function Kse(){const e=Ue();return ot({mutationFn:({id:t,updates:r})=>p8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["users"]}),await e.cancelQueries({queryKey:["user",t]}),await e.cancelQueries({queryKey:["userByPhone"]});const n=e.getQueryData(["users"]),i=e.getQueryData(["user",t]);return n&&e.setQueryData(["users"],n.map(s=>s.id===t?{...s,...r}:s)),i&&e.setQueryData(["user",t],{...i,...r}),{previousUsers:n,previousUser:i}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers),n!=null&&n.previousUser&&e.setQueryData(["user",r.id],n.previousUser)},onSuccess:t=>{e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["user",t.id]})}})}function x5(){const e=Ue();return ot({mutationFn:y8,onMutate:async t=>{await e.cancelQueries({queryKey:["users"]});const r=e.getQueryData(["users"]);return r&&e.setQueryData(["users"],r.filter(n=>n.id!==t)),{previousUsers:r}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers)},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function Fse(){const e=Ue();return ot({mutationFn:_8,onMutate:async t=>{await e.cancelQueries({queryKey:["vendors"]});const r=e.getQueryData(["vendors"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["vendors"],[...r,n])}return{previousVendors:r}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors)},onSuccess:()=>{e.invalidateQueries({queryKey:["vendors"]})}})}function Hse(){const e=Ue();return ot({mutationFn:({id:t,updates:r})=>N8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["vendors"]}),await e.cancelQueries({queryKey:["vendor",t]});const n=e.getQueryData(["vendors"]),i=e.getQueryData(["vendor",t]);return n&&e.setQueryData(["vendors"],n.map(s=>s.id===t?{...s,...r}:s)),i&&e.setQueryData(["vendor",t],{...i,...r}),{previousVendors:n,previousVendor:i}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors),n!=null&&n.previousVendor&&e.setQueryData(["vendor",r.id],n.previousVendor)},onSuccess:t=>{e.invalidateQueries({queryKey:["vendors"]}),e.invalidateQueries({queryKey:["vendor",t.id]})}})}function Qse(){const e=Ue();return ot({mutationFn:O8,onMutate:async t=>{await e.cancelQueries({queryKey:["vendors"]});const r=e.getQueryData(["vendors"]);return r&&e.setQueryData(["vendors"],r.filter(n=>n.id!==t)),{previousVendors:r}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors)},onSuccess:()=>{e.invalidateQueries({queryKey:["vendors"]})}})}function Vse(){const e=Ue();return ot({mutationFn:C8,onMutate:async t=>{await e.cancelQueries({queryKey:["products"]});const r=e.getQueryData(["products"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["products"],[...r,n])}return{previousProducts:r}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts)},onSuccess:()=>{e.invalidateQueries({queryKey:["products"]})}})}function Gse(){const e=Ue();return ot({mutationFn:({id:t,updates:r})=>k8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["products"]}),await e.cancelQueries({queryKey:["product",t]});const n=e.getQueryData(["products"]),i=e.getQueryData(["product",t]);return n&&e.setQueryData(["products"],n.map(s=>s.id===t?{...s,...r}:s)),i&&e.setQueryData(["product",t],{...i,...r}),{previousProducts:n,previousProduct:i}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts),n!=null&&n.previousProduct&&e.setQueryData(["product",r.id],n.previousProduct)},onSuccess:t=>{e.invalidateQueries({queryKey:["products"]}),e.invalidateQueries({queryKey:["product",t.id]})}})}function Yse(){const e=Ue();return ot({mutationFn:P8,onMutate:async t=>{await e.cancelQueries({queryKey:["products"]});const r=e.getQueryData(["products"]);return r&&e.setQueryData(["products"],r.filter(n=>n.id!==t)),{previousProducts:r}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts)},onSuccess:()=>{e.invalidateQueries({queryKey:["products"]})}})}function Wse(){const e=Ue();return ot({mutationFn:D8,onMutate:async t=>{await e.cancelQueries({queryKey:["categories"]});const r=e.getQueryData(["categories"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["categories"],[...r,n])}return{previousCategories:r}},onError:(t,r,n)=>{n!=null&&n.previousCategories&&e.setQueryData(["categories"],n.previousCategories)},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function Xse(){const e=Ue();return ot({mutationFn:M8,onMutate:async t=>{await e.cancelQueries({queryKey:["categories"]});const r=e.getQueryData(["categories"]);return r&&e.setQueryData(["categories"],r.filter(n=>n.id!==t)),{previousCategories:r}},onError:(t,r,n)=>{n!=null&&n.previousCategories&&e.setQueryData(["categories"],n.previousCategories)},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function Zse(){const e=Ue();return ot({mutationFn:I8,onMutate:async t=>{await e.cancelQueries({queryKey:["paymentMethods"]});const r=e.getQueryData(["paymentMethods"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["paymentMethods"],[...r,n])}return{previousMethods:r}},onError:(t,r,n)=>{n!=null&&n.previousMethods&&e.setQueryData(["paymentMethods"],n.previousMethods)},onSuccess:()=>{e.invalidateQueries({queryKey:["paymentMethods"]})}})}function Jse(){const e=Ue();return ot({mutationFn:L8,onMutate:async t=>{await e.cancelQueries({queryKey:["paymentMethods"]});const r=e.getQueryData(["paymentMethods"]);return r&&e.setQueryData(["paymentMethods"],r.filter(n=>n.id!==t)),{previousMethods:r}},onError:(t,r,n)=>{n!=null&&n.previousMethods&&e.setQueryData(["paymentMethods"],n.previousMethods)},onSuccess:()=>{e.invalidateQueries({queryKey:["paymentMethods"]})}})}function eoe(){const e=Ue();return ot({mutationFn:B8,onMutate:async t=>{await e.cancelQueries({queryKey:["units"]});const r=e.getQueryData(["units"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["units"],[...r,n])}return{previousUnits:r}},onError:(t,r,n)=>{n!=null&&n.previousUnits&&e.setQueryData(["units"],n.previousUnits)},onSuccess:()=>{e.invalidateQueries({queryKey:["units"]})}})}function toe(){const e=Ue();return ot({mutationFn:U8,onMutate:async t=>{await e.cancelQueries({queryKey:["units"]});const r=e.getQueryData(["units"]);return r&&e.setQueryData(["units"],r.filter(n=>n.id!==t)),{previousUnits:r}},onError:(t,r,n)=>{n!=null&&n.previousUnits&&e.setQueryData(["units"],n.previousUnits)},onSuccess:()=>{e.invalidateQueries({queryKey:["units"]})}})}function roe(){const e=Ue();return ot({mutationFn:X8,onMutate:async t=>{await e.cancelQueries({queryKey:["settings"]});const r=e.getQueryData(["settings","company"]),n=e.getQueryData(["settings","order"]),i=e.getQueryData(["settings","invoice"]),s=e.getQueryData(["settings","defaults"]),l=e.getQueryData(["settings","courier"]);return t.company&&r&&e.setQueryData(["settings","company"],{...r,...t.company}),t.order&&n&&e.setQueryData(["settings","order"],{...n,...t.order}),t.invoice&&i&&e.setQueryData(["settings","invoice"],{...i,...t.invoice}),t.defaults&&s&&e.setQueryData(["settings","defaults"],{...s,...t.defaults}),t.courier&&l&&e.setQueryData(["settings","courier"],{...l,...t.courier}),{previousCompany:r,previousOrder:n,previousInvoice:i,previousDefaults:s,previousCourier:l}},onError:(t,r,n)=>{n!=null&&n.previousCompany&&e.setQueryData(["settings","company"],n.previousCompany),n!=null&&n.previousOrder&&e.setQueryData(["settings","order"],n.previousOrder),n!=null&&n.previousInvoice&&e.setQueryData(["settings","invoice"],n.previousInvoice),n!=null&&n.previousDefaults&&e.setQueryData(["settings","defaults"],n.previousDefaults),n!=null&&n.previousCourier&&e.setQueryData(["settings","courier"],n.previousCourier)},onSuccess:()=>{e.invalidateQueries({queryKey:["settings"]})}})}const uw=(e,t)=>{t(`/print-order/${e}`)},noe=()=>{setTimeout(()=>{window.print()},100)},aoe=()=>{const e=ft(),t=Ue(),r=Pr(),n=xe.currentUser,i=(n==null?void 0:n.role)===Ht.ADMIN,s=(n==null?void 0:n.role)===Ht.EMPLOYEE,[l,d]=j.useState("All Time"),[f,h]=j.useState({from:"",to:""}),[p,y]=j.useState("All"),[g,b]=j.useState(null),[w,S]=j.useState(null),[_,N]=j.useState(null),[E,A]=j.useState(null),[C,T]=j.useState(null),[P,M]=j.useState({date:new Date().toISOString().split("T")[0],accountId:"",amount:0}),{data:I=[],isPending:F}=Ep(),{data:L=[]}=Io(),{data:K=[]}=_s(),{data:B=[]}=Ns(),te=Sy(),de=Lse(),Z=U1(),R=df(),V=uf(),J=j.useMemo(()=>new Map(B.map(ee=>[ee.id,ee])),[B]),se=ee=>{if(l==="All Time")return!0;const pe=new Date(ee),ke=new Date;if(l==="Today")return pe.toDateString()===ke.toDateString();if(l==="This Week"){const z=ke.getDate()-ke.getDay(),re=new Date(new Date().setDate(z)),ge=new Date(new Date().setDate(z+6));return pe>=re&&pe<=ge}return l==="This Month"?pe.getMonth()===ke.getMonth()&&pe.getFullYear()===ke.getFullYear():l==="This Year"?pe.getFullYear()===ke.getFullYear():l==="Custom"?!f.from||!f.to?!0:pe>=new Date(f.from)&&pe<=new Date(f.to):!0},ye=j.useMemo(()=>I.filter(ee=>se(ee.orderDate)).filter(ee=>p==="All"||ee.status===p),[I,l,f,p]),D=ee=>{var pe,ke;if((pe=ee.createdBy)!=null&&pe.trim()){const z=J.get(ee.createdBy);if(z!=null&&z.name)return z.name}if((ke=ee.history)!=null&&ke.created){const z=ee.history.created.match(/^(.+?)\s+created this order on/);if(z&&z[1])return z[1]}return null},H=async ee=>{const pe={orderNumber:ee.orderNumber,orderDate:new Date().toISOString().split("T")[0],customerId:ee.customerId,createdBy:(n==null?void 0:n.id)||ee.createdBy,status:Ge.ON_HOLD,items:ee.items,subtotal:ee.subtotal,discount:ee.discount,shipping:ee.shipping,total:ee.total,paidAmount:0,history:ee.history};try{await te.mutateAsync(pe),t.invalidateQueries({queryKey:["orders"]})}catch(ke){console.error("Failed to duplicate order",ke)}},fe=async ee=>{if(confirm("Are you sure you want to delete this order?"))try{await de.mutateAsync(ee),t.invalidateQueries({queryKey:["orders"]})}catch(pe){console.error("Failed to delete order",pe)}},me=ee=>{M({date:new Date().toISOString().split("T")[0],accountId:"",amount:ee.total-ee.paidAmount}),N(ee)},_e=async()=>{if(!_)return;const ee=_;try{let pe=K.find(le=>le.id===P.accountId);if(!pe){if(!P.accountId){r.error("Please select an account");return}pe={id:P.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const ke=P.amount<ee.total;if(await R.mutateAsync({date:P.date,type:"Income",category:xe.settings.defaults.incomeCategoryId||"income_sales",accountId:P.accountId,amount:ee.total,description:`Payment for Order #${ee.orderNumber}`,referenceId:ee.id,contactId:ee.customerId,paymentMethod:xe.settings.defaults.paymentMethod||"Cash",createdBy:n.id}),ke){const le=ee.total-P.amount;await R.mutateAsync({date:P.date,type:"Expense",category:"expense_shipping",accountId:P.accountId,amount:le,description:`Shipping costs for Order #${ee.orderNumber}`,paymentMethod:xe.settings.defaults.paymentMethod||"Cash",createdBy:n.id})}const z=P.amount,re=(ee.paidAmount??0)+P.amount,ge=Ge.COMPLETED;await Promise.all([V.mutateAsync({id:pe.id,updates:{currentBalance:(pe.currentBalance??0)+z}}),Z.mutateAsync({id:ee.id,updates:{paidAmount:re,status:ge}})]),N(null),t.invalidateQueries({queryKey:["orders"]})}catch(pe){console.error("Failed to add payment:",pe),r.error("Failed to add payment: "+(pe instanceof Error?pe.message:"Unknown error"))}};return u.jsxs("div",{className:"space-y-6 pb-12",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Sales Orders"}),u.jsx("p",{className:"text-gray-500 font-medium text-sm",children:"Monitor and process your client fulfillment cycle"})]}),u.jsx(Be,{onClick:()=>e("/orders/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Order"})]}),u.jsx(od,{title:"Orders",filterRange:l,setFilterRange:d,customDates:f,setCustomDates:h,statusTab:p,setStatusTab:y,statusOptions:Object.values(Ge)}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-visible",children:u.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[u.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Order Details"}),u.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Customer"}),u.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Created By"}),u.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Status"}),u.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] text-right",children:"Net Amount"}),u.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] sm:hidden",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-50",children:F?u.jsx(Np,{columns:6,rows:8}):ye.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:"No sales orders found for this period."})}):ye.map(ee=>{var ke,z;const pe=i||ee.status===Ge.ON_HOLD;return u.jsxs("tr",{onMouseEnter:()=>b(ee.id),onMouseLeave:()=>b(null),onClick:()=>e(`/orders/${ee.id}`),className:"group relative hover:bg-[#ebf4ff]/20 cursor-pointer transition-all",children:[u.jsxs("td",{className:"px-6 py-5",children:[u.jsxs("span",{className:"font-black text-gray-900",children:["#",ee.orderNumber]}),u.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-1 tracking-tight",children:new Date(ee.orderDate).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})})]}),u.jsxs("td",{className:"px-6 py-5",children:[u.jsx("span",{className:"text-sm font-bold text-gray-700",children:((ke=L.find(re=>re.id===ee.customerId))==null?void 0:ke.name)||"Unknown"}),u.jsx("p",{className:"text-[10px] text-gray-400 font-medium mt-0.5",children:(z=L.find(re=>re.id===ee.customerId))==null?void 0:z.phone})]}),u.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500",children:D(ee)||""}),u.jsx("td",{className:"px-6 py-5",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${bp(ee.status)}`,children:ee.status})}),u.jsxs("td",{className:"px-6 py-5 text-right",children:[u.jsx("span",{className:"font-black text-gray-900 text-base",children:we(ee.total)}),ee.paidAmount>0&&u.jsx("p",{className:"text-[10px] font-black uppercase tracking-tighter mt-1 text-green-500",children:`Paid: ${we(ee.paidAmount)}`})]}),u.jsx("td",{className:"px-6 py-5 sm:hidden relative",onClick:re=>re.stopPropagation(),children:u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>S(w===ee.id?null:ee.id),className:"p-2 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg transition-all",children:ae.More}),w===ee.id&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-100 rounded-lg shadow-lg z-50 py-2",children:s?u.jsxs("button",{onClick:()=>{e(`/orders/edit/${ee.id}`),S(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit"]}):u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>{e(`/orders/edit/${ee.id}`),S(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit"]}),u.jsxs("button",{onClick:()=>{H(ee),S(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Duplicate," Duplicate"]}),ee.status!==Ge.COMPLETED&&u.jsxs("button",{onClick:()=>{me(ee),S(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Banking," Payment"]}),u.jsx("div",{className:"border-t my-1"}),u.jsxs("button",{onClick:()=>{uw(ee.id,e),S(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Print," Print"]}),u.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Download," Download"]}),ee.status!==Ge.PICKED&&ee.status!==Ge.COMPLETED&&ee.status!==Ge.CANCELLED&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border-t my-1"}),u.jsx("button",{onClick:()=>{A(ee.id),S(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-[#0f2f57]",children:"ST Steadfast"}),u.jsx("button",{onClick:()=>{T(ee.id),S(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-orange-500",children:"CB CarryBee"})]}),u.jsx("div",{className:"border-t my-1"}),u.jsxs("button",{onClick:()=>{fe(ee.id),S(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[ae.Delete," Delete"]})]})})]})}),g===ee.id&&u.jsx("td",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-10 animate-in fade-in slide-in-from-right-2 duration-200 hidden sm:table-cell",onClick:re=>re.stopPropagation(),children:u.jsx("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-[#ebf4ff]",children:s?u.jsx("button",{onClick:()=>e(`/orders/edit/${ee.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:ae.Edit}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>e(`/orders/edit/${ee.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:ae.Edit}),u.jsx("button",{onClick:()=>H(ee),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Duplicate",children:ae.Duplicate}),ee.status!==Ge.COMPLETED&&u.jsx("button",{onClick:()=>me(ee),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Add Payment",children:ae.Banking}),u.jsx("button",{onClick:()=>uw(ee.id,e),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Print",children:ae.Print}),u.jsx("button",{className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Download PDF",children:ae.Download}),ee.status!==Ge.PICKED&&ee.status!==Ge.COMPLETED&&ee.status!==Ge.CANCELLED&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"}),u.jsx("button",{onClick:()=>A(ee.id),className:"px-3 py-1 text-[9px] font-black text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg",title:"Send to Steadfast",children:"ST"}),u.jsx("button",{onClick:()=>T(ee.id),className:"px-3 py-1 text-[9px] font-black text-orange-500 hover:bg-orange-50 rounded-lg",title:"Send to CarryBee",children:"CB"}),u.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"})]}),pe&&u.jsx("button",{onClick:()=>fe(ee.id),className:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:ae.Delete})]})})})]},ee.id)})})]})})}),u.jsx(Tw,{isOpen:!!_,onClose:()=>N(null),onSubmit:_e,accounts:K,paymentForm:P,setPaymentForm:M,isLoading:R.isPending||V.isPending||Z.isPending,title:"Receive Payment",buttonText:"Add Payment"}),u.jsx(hD,{isOpen:!!E,onClose:()=>A(null),order:E?I.find(ee=>ee.id===E):null,customer:E?L.find(ee=>{var pe;return ee.id===((pe=I.find(ke=>ke.id===E))==null?void 0:pe.customerId)}):null}),u.jsx(mD,{isOpen:!!C,onClose:()=>T(null),order:C?I.find(ee=>ee.id===C):null,customer:C?L.find(ee=>{var pe;return ee.id===((pe=I.find(ke=>ke.id===C))==null?void 0:pe.customerId)}):null})]})},UP=()=>{const{id:e}=En(),t=ft(),r=xe.currentUser,n=(r==null?void 0:r.role)===Ht.ADMIN,i=(r==null?void 0:r.role)===Ht.EMPLOYEE,s=!!e;if(!r)return u.jsxs("div",{className:"p-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),u.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),u.jsx(Be,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});if(s&&i)return u.jsxs("div",{className:"p-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),u.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot edit orders. Contact an administrator for assistance."}),u.jsx(Be,{onClick:()=>t("/orders"),variant:"primary",children:"Back to Orders"})]});const{data:l=[]}=Io(),{data:d=[]}=Ud(),{data:f}=Dw(s?e:void 0),{data:h}=dD(),p=Sy(),y=U1(),g=Pr(),[b,w]=j.useState(""),[S,_]=j.useState(new Date().toISOString().split("T")[0]),[N,E]=j.useState(""),[A,C]=j.useState([]),[T,P]=j.useState(0),[M,I]=j.useState(0),[F,L]=j.useState(""),[K,B]=j.useState(!1),[te,de]=j.useState(""),[Z,R]=j.useState(!1),[V,J]=j.useState(""),[se,ye]=j.useState(!1),[D,H]=j.useState(null);Lr.useEffect(()=>{if(f){if(!n&&f.status!==Ge.ON_HOLD){g.warning('Employees can only edit orders that are currently "On Hold".'),t("/orders");return}w(f.customerId),_(f.orderDate),E(f.orderNumber),C(f.items),P(f.discount),I(f.shipping),L(f.notes||"")}else!s&&h&&E(`${h.prefix}${h.nextNumber}`)},[f,s,n,h,t,g]);const fe=A.reduce((re,ge)=>re+ge.amount,0),me=fe-T+M,_e=re=>{const ge=d.find(Ye=>Ye.id===re);if(!ge)return;const le={productId:ge.id,productName:ge.name,rate:ge.salePrice,quantity:1,amount:ge.salePrice};C([...A,le]),B(!1),de("")},ee=(re,ge)=>{const le=[...A];le[re].quantity=Math.max(1,ge),le[re].amount=le[re].rate*le[re].quantity,C(le)},pe=re=>{C(A.filter((ge,le)=>le!==re))},ke=async()=>{if(!b||A.length===0||!N){const re=b?A.length?"Order number is not set. Please wait for it to load.":"Please add at least one product.":"Please select a customer.";H(re),g.error(re);return}if(!(r!=null&&r.id)){g.error("User session expired. Please log in again."),H("User session expired. Please log in again.");return}ye(!0),H(null);try{const re=A.reduce((wt,Tr)=>wt+Tr.amount,0),ge=re-T+M,le=new Date,Ye=le.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),Te=le.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),vt={orderNumber:N,orderDate:S,customerId:b,createdBy:r.id,status:s&&f?f.status:Ge.ON_HOLD,items:A,subtotal:re,discount:T,shipping:M,total:ge,notes:F,paidAmount:s&&f?f.paidAmount:0,history:s&&f?f.history:{created:`${r.name} created this order on ${Ye}, at ${Te}`}};s?(await y.mutateAsync({id:e,updates:vt}),g.success("Order updated successfully"),t("/orders")):p.mutateAsync(vt).then(wt=>{ye(!1),g.success("Order created successfully"),t(`/orders/${wt.id}`)},wt=>{ye(!1);const Tr=wt instanceof Error?wt.message:"Failed to save order";H(Tr),g.error(Tr)})}catch(re){console.error("Failed to save order:",re);const ge=re instanceof Error?re.message:"Failed to save order";H(ge),g.error(ge),ye(!1)}},z=l.find(re=>re.id===b);return u.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s?"Edit Order":"New Order"}),u.jsx("button",{onClick:()=>t("/orders"),className:"text-gray-500 hover:text-gray-700 font-medium text-sm px-4 py-2 border border-gray-200 rounded-lg bg-white transition-all",children:"Cancel"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"space-y-1 relative md:col-span-1",children:[u.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Select Customer"}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>R(!Z),className:"w-full text-left px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl hover:bg-white focus:ring-2 focus:ring-[#3c5a82] transition-all flex justify-between items-center group",children:[z?u.jsxs("div",{className:"flex-1 overflow-hidden",children:[u.jsx("span",{className:"font-bold block text-sm text-gray-900",children:z.name}),u.jsx("p",{className:"text-[10px] text-gray-500 leading-none mt-0.5",children:z.phone}),u.jsx("p",{className:"text-[10px] ${theme.colors.primary[600]} italic truncate mt-1",children:z.address})]}):u.jsx("span",{className:"text-gray-400 text-sm",children:"Select Customer..."}),u.jsx("div",{className:`transition-transform duration-200 ${Z?"rotate-90":""}`,children:ae.ChevronRight})]}),Z&&u.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full max-w-xs bg-white border border-gray-200 shadow-2xl rounded-lg z-[110] p-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"relative mb-2",children:[u.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),u.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search name or phone...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:V,onChange:re=>J(re.target.value)})]}),u.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-0.5 custom-scrollbar",children:l.filter(re=>re.name.toLowerCase().includes(V.toLowerCase())||re.phone.includes(V)).map(re=>u.jsxs("button",{onClick:()=>{w(re.id),R(!1),J("")},className:"w-full px-4 py-2.5 text-left hover:bg-[#ebf4ff] rounded-lg group transition-colors",children:[u.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.primary[700]}",children:re.name}),u.jsx("p",{className:"text-[10px] text-gray-400 group-hover:${theme.colors.primary[600]}/60",children:re.phone})]},re.id))}),u.jsx("button",{onClick:()=>{R(!1),t("/customers/new")},className:"w-full mt-2 py-3 ${theme.colors.primary[600]} text-[10px] font-black uppercase tracking-widest border-t border-gray-50 hover:bg-[#ebf4ff] transition-colors",children:"+ Add New Customer"})]})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Date"}),u.jsx("input",{type:"date",value:S,onChange:re=>_(re.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] focus:bg-white transition-all cursor-pointer font-bold text-sm"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Number"}),u.jsx("input",{type:"text",readOnly:!0,value:N,placeholder:h?"Order number":"Loading...",className:"w-full px-4 py-3 bg-gray-100 border border-gray-100 rounded-xl font-mono ${theme.colors.primary[700]} text-sm font-bold"})]})]}),u.jsx("div",{className:"border border-gray-100 rounded-lg overflow-visible bg-white",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[u.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Product Item"}),u.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Rate"}),u.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Qty"}),u.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),u.jsx("th",{className:"px-4 py-4"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-50",children:[A.map((re,ge)=>{var le,Ye;return u.jsxs("tr",{className:"group hover:bg-gray-50/50",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[((le=d.find(Te=>Te.id===re.productId))==null?void 0:le.image)&&u.jsx("img",{src:(Ye=d.find(Te=>Te.id===re.productId))==null?void 0:Ye.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),u.jsx("span",{className:"font-bold text-gray-800 text-sm",children:re.productName})]})}),u.jsx("td",{className:"px-4 py-4 text-center text-sm font-bold text-gray-600",children:we(re.rate)}),u.jsx("td",{className:"px-4 py-4 text-center",children:u.jsx("input",{type:"number",value:re.quantity,onChange:Te=>ee(ge,parseInt(Te.target.value)),className:"w-16 text-center py-2 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold outline-none"})}),u.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 text-sm",children:we(re.amount)}),u.jsx("td",{className:"px-4 py-4 text-right",children:u.jsx("button",{onClick:()=>pe(ge),className:"p-2 text-red-200 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:ae.Delete})})]},ge)}),u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"px-6 py-5 relative",children:u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>B(!K),className:"flex items-center gap-2 ${theme.colors.primary[600]} font-black text-[10px] uppercase tracking-widest hover:bg-[#ebf4ff] px-4 py-2.5 rounded-xl border-2 border-dashed border-[#c7dff5] transition-all",children:[ae.Plus," Add an item"]}),K&&u.jsxs("div",{className:"absolute top-full left-0 mt-3 w-full max-w-md bg-white border border-gray-200 shadow-2xl rounded-lg z-[100] p-2 overflow-hidden animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{className:"relative mb-2",children:[u.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),u.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search catalog...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:te,onChange:re=>de(re.target.value)})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto space-y-0.5 custom-scrollbar",children:d.filter(re=>re.name.toLowerCase().includes(te.toLowerCase())).map(re=>u.jsxs("button",{onClick:()=>_e(re.id),className:"flex items-center gap-4 w-full px-4 py-3 text-left hover:bg-[#ebf4ff] rounded-xl group transition-all",children:[re.image&&u.jsx("img",{src:re.image,className:"w-10 h-10 rounded-full object-cover border border-gray-100 shadow-sm"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.primary[700]} truncate",children:re.name}),u.jsx("p",{className:"text-[10px] font-bold ${theme.colors.primary[600]}/60 uppercase tracking-widest",children:we(re.salePrice)})]})]},re.id))})]})]})})})]})]})}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-12 pt-6",children:[u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Notes / Terms"}),u.jsx("textarea",{placeholder:"Internal notes or special instructions for this order...",value:F,onChange:re=>L(re.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-100 rounded-lg h-32 focus:ring-2 focus:ring-[#3c5a82] focus:bg-white outline-none font-medium text-sm transition-all"})]}),u.jsxs("div",{className:"w-full md:w-96 space-y-4 bg-gray-50/50 p-8 rounded-[2rem] border border-gray-100",children:[u.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[u.jsx("span",{children:"Subtotal"}),u.jsx("span",{className:"text-gray-900 font-black",children:we(fe)})]}),u.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[u.jsx("span",{children:"Discount"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-300 font-black",children:""}),u.jsx("input",{type:"number",value:T,onChange:re=>P(parseFloat(re.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]})]}),u.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[u.jsx("span",{children:"Shipping"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-300 font-black",children:""}),u.jsx("input",{type:"number",value:M,onChange:re=>I(parseFloat(re.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]})]}),u.jsxs("div",{className:"pt-6 border-t-4 border-[#c7dff5] flex justify-between items-center",children:[u.jsx("span",{className:"text-lg font-black text-gray-900 uppercase tracking-tighter",children:"Grand Total"}),u.jsx("span",{className:"text-3xl font-black ${theme.colors.primary[600]}",children:we(me)})]}),D&&u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:u.jsx("p",{className:"text-sm font-bold text-red-600",children:D})}),u.jsx(Be,{onClick:ke,variant:"primary",size:"lg",className:"w-full mt-4",disabled:se,loading:se,children:s?"Update Order":"Create Order"})]})]})]})]})},ioe=()=>{const{id:e}=En(),t=ft(),r=Ue(),n=Pr(),i=xe.currentUser;i.role,Ht.ADMIN;const{data:s,isPending:l,error:d}=Dw(e||""),{data:f=[]}=Io(),{data:h=[]}=Ns(),{data:p=[]}=Ud(),{data:y=[]}=_s(),{data:g}=Ap(),{data:b}=Cp(),w=U1(),S=Sy(),_=df(),N=uf(),[E,A]=j.useState(!1),[C,T]=j.useState(!1),[P,M]=j.useState(!1),[I,F]=j.useState({date:new Date().toISOString().split("T")[0],accountId:xe.settings.defaults.accountId||"",amount:0}),[L,K]=j.useState(!1),B=s?f.find(D=>D.id===s.customerId):void 0,te=s?h.find(D=>D.id===s.createdBy):void 0,de=l;if(de)return u.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading order..."});if(d||!s)return u.jsx("div",{className:"p-8 text-center text-gray-500",children:(d==null?void 0:d.message)||"Order not found."});const Z=async(D,H,fe)=>{if(s)try{const me={...s,status:D,history:H?{...s.history,[H]:fe}:s.history};await w.mutateAsync({id:e,updates:me}),r.invalidateQueries({queryKey:["order",e]}),K(!1)}catch(me){console.error("Failed to update order status:",me),n.error("Failed to update order status")}},R=async()=>{const D=`Marked as processing by ${i.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await Z(Ge.PROCESSING,"processing",D)},V=async()=>{const D=`Marked as picked by courier, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await Z(Ge.PICKED,"picked",D)},J=async()=>{let D=y.find(pe=>pe.id===I.accountId);if(!D){if(!I.accountId){n.error("Please select an account");return}D={id:I.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const H=s.paidAmount+I.amount;new Date(I.date);const fe=`Payment of ${we(I.amount)} received by ${i.name} on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`,me=I.amount<s.total,_e=Ge.COMPLETED,ee={...s,paidAmount:H,status:_e,history:{...s.history,payment:fe}};try{const pe={id:Math.random().toString(36).substr(2,9),date:I.date,type:"Income",category:xe.settings.defaults.incomeCategoryId||"income_sales",accountId:I.accountId,amount:s.total,description:`Payment for Order #${s.orderNumber}`,referenceId:s.id,contactId:s.customerId,paymentMethod:xe.settings.defaults.paymentMethod||"Cash",createdBy:i.id};if(await _.mutateAsync(pe),me){const re=s.total-I.amount,ge={id:Math.random().toString(36).substr(2,9),date:I.date,type:"Expense",category:"expense_shipping",accountId:I.accountId,amount:re,description:`Shipping costs for Order #${s.orderNumber}`,paymentMethod:xe.settings.defaults.paymentMethod||"Cash",createdBy:i.id};await _.mutateAsync(ge)}const ke=I.amount,z=await Promise.allSettled([w.mutateAsync({id:e,updates:ee}),N.mutateAsync({id:I.accountId,updates:{currentBalance:D.currentBalance+ke}})]);if(z[0].status==="rejected"||z[1].status==="rejected"){const re=z[0].status==="rejected"?"failed":"succeeded",ge=z[1].status==="rejected"?"failed":"succeeded";throw new Error(`Payment update failed: Order update ${re}, Account update ${ge}`)}r.invalidateQueries({queryKey:["order",e]}),r.invalidateQueries({queryKey:["orders"]}),A(!1),n.success("Payment recorded successfully")}catch(pe){console.error("Failed to record payment:",pe),n.error("Failed to record payment")}},se=()=>{F({date:new Date().toISOString().split("T")[0],accountId:"",amount:s.total-s.paidAmount}),A(!0)},ye=async()=>{if(s)try{const D={orderNumber:xe.settings.order.prefix+xe.settings.order.nextNumber,orderDate:s.orderDate,customerId:s.customerId,createdBy:i.id,status:s.status,items:s.items,subtotal:s.subtotal,discount:s.discount,shipping:s.shipping,total:s.total,notes:s.notes,paidAmount:0,history:{created:`${i.name} created this order as duplicate on ${new Date().toLocaleDateString("en-BD")}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`}};await S.mutateAsync(D),t("/orders")}catch(D){n.error("Failed to duplicate order: "+(D instanceof Error?D.message:"Unknown error"))}};return u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[u.jsx(Ld,{isLoading:de&&!s,message:"Loading order details..."}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>t("/orders"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500 transition-all",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Order Details"}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${bp(s.status)}`,children:s.status})]}),u.jsxs("div",{className:"flex items-center gap-2 relative",children:[u.jsxs("button",{onClick:()=>uw(e,t),className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg bg-white hover:bg-gray-50 transition-all shadow-sm",children:[ae.Print," Print"]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>K(!L),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg ${ie.colors.primary[600]} text-white hover:${ie.colors.primary[700]} transition-all shadow-md`,children:[ae.More," Actions"]}),L&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>K(!1)}),u.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-100 rounded-xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in duration-150 origin-top-right",children:[u.jsxs("button",{onClick:()=>t(`/orders/edit/${s.id}`),className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit Order"]}),u.jsxs("button",{onClick:ye,className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Duplicate," Duplicate Order"]}),s.status!==Ge.COMPLETED&&u.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",onClick:se,children:[ae.Banking," Add Payment"]}),u.jsx("div",{className:"border-t my-1"}),u.jsxs("button",{onClick:()=>Z(Ge.CANCELLED),disabled:s.status===Ge.COMPLETED,className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 disabled:hover:bg-gray-50 flex items-center gap-2 text-red-500 font-bold disabled:text-gray-300 disabled:cursor-not-allowed",children:[ae.Delete," Cancel Order"]})]})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden",children:u.jsxs("div",{className:"p-10 space-y-5",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[((g==null?void 0:g.logo)||xe.settings.company.logo)&&u.jsx("img",{src:(g==null?void 0:g.logo)||xe.settings.company.logo,className:"rounded-lg object-cover mb-4",style:{width:(b==null?void 0:b.logoWidth)||xe.settings.invoice.logoWidth,height:(b==null?void 0:b.logoHeight)||xe.settings.invoice.logoHeight}}),u.jsx("h1",{className:"text-xl font-black ${theme.colors.primary[600]} uppercase tracking-tighter",children:(g==null?void 0:g.name)||xe.settings.company.name}),u.jsxs("div",{className:"mt-2 text-xs text-gray-400 font-medium space-y-1",children:[u.jsx("p",{children:(g==null?void 0:g.address)||xe.settings.company.address}),u.jsxs("p",{children:[(g==null?void 0:g.phone)||xe.settings.company.phone,"  ",(g==null?void 0:g.email)||xe.settings.company.email]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("h2",{className:"text-3xl font-black text-gray-300 uppercase leading-none mb-2",children:(b==null?void 0:b.title)||xe.settings.invoice.title}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[u.jsx("span",{className:"text-gray-400 font-medium",children:"Order No:"})," ",s.orderNumber]}),u.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[u.jsx("span",{className:"text-gray-400 font-medium",children:"Date:"})," ",s.orderDate]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 gap-12 border-t border-gray-100 py-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Billed To"}),u.jsx("h3",{className:"text-md font-black text-gray-900",children:B==null?void 0:B.name}),u.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:B==null?void 0:B.address}),u.jsx("p",{className:"text-sm font-bold ${theme.colors.primary[600]} mt-2",children:B==null?void 0:B.phone})]})}),u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b-2 border-gray-100",children:[u.jsx("th",{className:"py-4 text-sm font-black text-gray-400 uppercase",children:"Item Description"}),u.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase",children:"Rate"}),u.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase",children:"Qty"}),u.jsx("th",{className:"py-4 text-sm text-right font-black text-gray-400 uppercase",children:"Total"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-50",children:s.items.map((D,H)=>{const fe=p.find(me=>me.id===D.productId);return u.jsxs("tr",{className:"group",children:[u.jsx("td",{className:"py-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:fe==null?void 0:fe.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),u.jsx("span",{className:"font-bold text-gray-900",children:D.productName})]})}),u.jsx("td",{className:"py-6 text-center text-gray-500 font-bold",children:we(D.rate)}),u.jsx("td",{className:"py-6 text-center text-gray-500 font-bold",children:D.quantity}),u.jsx("td",{className:"py-6 text-right font-black text-gray-900",children:we(D.amount)})]},H)})})]}),u.jsx("div",{className:"flex justify-end pt-6",children:u.jsxs("div",{className:"w-full max-w-xs space-y-4",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-400 font-bold uppercase",children:"Subtotal"}),u.jsx("span",{className:"font-bold text-gray-900",children:we(s.subtotal)})]}),s.discount>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-400 font-bold uppercase",children:"Discount"}),u.jsxs("span",{className:"font-bold text-red-500",children:["-",we(s.discount)]})]}),s.shipping>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-400 font-bold uppercase",children:"Shipping"}),u.jsx("span",{className:"font-bold text-gray-900",children:we(s.shipping)})]}),u.jsxs("div",{className:"flex justify-between items-center py-6 border-t-2 border-[#0f2f57]",children:[u.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter",children:"Net Total"}),u.jsx("span",{className:"font-black",children:we(s.total)})]})]})}),s.notes&&u.jsxs("div",{className:"bg-gray-50 p-4 rounded-[10px] border border-gray-100",children:[u.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase tracking-widest mb-2",children:"Terms & Notes"}),u.jsx("p",{className:"text-xs text-gray-600 font-medium italic leading-relaxed",children:s.notes})]})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[u.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"1. Creation"}),u.jsx("div",{className:"p-1 bg-[#ebf4ff]0 text-white rounded-full",children:ae.Plus})]}),u.jsx("div",{className:"p-5",children:u.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:s.history.created||`Created by ${(te==null?void 0:te.name)||"Unknown"} on ${s.orderDate}`})})]}),u.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[u.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"2. Processing"}),u.jsx("div",{className:`p-1 rounded-full ${s.history.processing?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:ae.ChevronRight})]}),u.jsxs("div",{className:"p-5 space-y-4",children:[s.history.processing?u.jsx("p",{className:"text-xs ${theme.colors.primary[600]} leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:s.history.processing}):u.jsx("button",{disabled:s.status!==Ge.ON_HOLD,onClick:R,className:`w-full py-3 ${ie.colors.secondary[600]} hover:${ie.colors.secondary[700]} disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Mark as Processing"}),s.status!==Ge.PICKED&&s.status!==Ge.COMPLETED&&s.status!==Ge.CANCELLED&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>T(!0),className:"w-full py-3 bg-[#0f2f57] hover:bg-[#0a1f38] text-white font-bold rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:[ae.Courier," Send to Steadfast"]}),u.jsxs("button",{onClick:()=>M(!0),className:"w-full py-3 bg-orange-500 hover:bg-orange-600 text-white font-bold rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:[ae.Courier," Send to CarryBee"]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[u.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"3. Courier Picked"}),u.jsx("div",{className:`p-1 rounded-full ${s.history.picked?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:ae.Courier})]}),u.jsx("div",{className:"p-5",children:s.history.picked?u.jsx("p",{className:"text-xs text-purple-600 leading-relaxed font-bold bg-purple-50 p-3 rounded-xl",children:s.history.picked}):u.jsx("button",{disabled:s.status!==Ge.PROCESSING,onClick:V,className:"w-full py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95",children:"Mark as Picked"})})]}),u.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[u.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"4. Payment"}),u.jsx("div",{className:`p-1 rounded-full ${s.paidAmount>=s.total?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:ae.Banking})]}),u.jsx("div",{className:"p-5 space-y-3",children:s.history.payment?u.jsx("div",{className:"space-y-2",children:u.jsx("p",{className:"text-xs ${theme.colors.primary[600]} leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:s.history.payment})}):u.jsxs("div",{className:"space-y-4 text-center",children:[u.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[u.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Amount Due"}),u.jsx("p",{className:"text-2xl font-black text-gray-900",children:we(s.total-s.paidAmount)})]}),u.jsx("button",{onClick:se,className:`w-full py-3 ${ie.colors.primary[600]} hover:${ie.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Add Payment"})]})})]})]})]}),u.jsx(Tw,{isOpen:E,onClose:()=>A(!1),onSubmit:J,accounts:y,paymentForm:I,setPaymentForm:F,isLoading:w.isPending||_.isPending||N.isPending,title:"Record Payment",buttonText:"Add Payment"}),u.jsx(hD,{isOpen:C,onClose:()=>T(!1),order:s,customer:B}),u.jsx(mD,{isOpen:P,onClose:()=>M(!1),order:s,customer:B})]})},soe=()=>{const e=ft(),t=Ue(),r=Pr(),n=xe.currentUser,{data:i=[],isPending:s}=$d(),{data:l=[]}=jc(),{data:d=[]}=Ns(),[f,h]=j.useState("All Time"),[p,y]=j.useState({from:"",to:""}),[g,b]=j.useState("All"),[w,S]=j.useState(null),[_,N]=j.useState(null),E=v5(),A=$se(),C=j.useMemo(()=>new Map(d.map(L=>[L.id,L])),[d]),T=L=>{if(f==="All Time")return!0;const K=new Date(L),B=new Date;if(f==="Today")return K.toDateString()===B.toDateString();if(f==="This Week"){const te=B.getDate()-B.getDay(),de=new Date(new Date().setDate(te)),Z=new Date(new Date().setDate(te+6));return K>=de&&K<=Z}return f==="This Month"?K.getMonth()===B.getMonth()&&K.getFullYear()===B.getFullYear():f==="This Year"?K.getFullYear()===B.getFullYear():f==="Custom"?!p.from||!p.to?!0:K>=new Date(p.from)&&K<=new Date(p.to):!0},P=j.useMemo(()=>i.filter(L=>T(L.billDate)).filter(L=>g==="All"||L.status===g),[i,f,p,g]),M=L=>{var K,B;if((K=L.createdBy)!=null&&K.trim()){const te=C.get(L.createdBy);if(te!=null&&te.name)return te.name}if((B=L.history)!=null&&B.created){const te=L.history.created.match(/Created by\s+(.+?)\s+on/);if(te&&te[1])return te[1]}return null},I=async L=>{try{const K=new Date,B=K.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),te=K.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),de={billNumber:`PUR-${Math.floor(1e3+Math.random()*9e3)}`,billDate:new Date().toISOString().split("T")[0],vendorId:L.vendorId,createdBy:(n==null?void 0:n.id)||L.createdBy,status:nn.ON_HOLD,items:L.items,subtotal:L.subtotal,discount:L.discount,shipping:L.shipping,total:L.total,paidAmount:0,notes:L.notes,history:{created:`Created as duplicate on ${B}, at ${te}`}};await E.mutateAsync(de),t.invalidateQueries({queryKey:["bills"]})}catch(K){console.error("Failed to duplicate bill:",K),r.error("Failed to duplicate bill")}},F=async L=>{if(confirm("Are you sure you want to delete this bill?"))try{await A.mutateAsync(L),t.invalidateQueries({queryKey:["bills"]})}catch(K){console.error("Failed to delete bill:",K),r.error("Failed to delete bill")}};return u.jsxs("div",{className:"space-y-6 pb-12",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Purchase Bills"}),u.jsx("p",{className:"text-gray-500 font-medium text-sm",children:"Manage vendor procurement and supply chain payables"})]}),u.jsx(Be,{onClick:()=>e("/bills/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Bill"})]}),u.jsx(od,{title:"Bills",filterRange:f,setFilterRange:h,customDates:p,setCustomDates:y,statusTab:g,setStatusTab:b,statusOptions:Object.values(nn)}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-visible",children:u.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[u.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Bill Details"}),u.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Vendor"}),u.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Created By"}),u.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Status"}),u.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] text-right",children:"Net Amount"}),u.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] sm:hidden",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-50",children:s?u.jsx(Np,{columns:6,rows:8}):P.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:"No purchase bills found for this period."})}):P.map(L=>{var K;return u.jsxs("tr",{onMouseEnter:()=>S(L.id),onMouseLeave:()=>S(null),onClick:()=>e(`/bills/${L.id}`),className:"group relative hover:bg-[#ebf4ff]/20 cursor-pointer transition-all",children:[u.jsxs("td",{className:"px-6 py-5",children:[u.jsxs("span",{className:"font-black text-gray-900",children:["#",L.billNumber]}),u.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-1 tracking-tight",children:L.billDate})]}),u.jsx("td",{className:"px-6 py-5",children:u.jsx("span",{className:"text-sm font-bold text-gray-700",children:((K=l.find(B=>B.id===L.vendorId))==null?void 0:K.name)||"Unknown Vendor"})}),u.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500",children:M(L)||""}),u.jsx("td",{className:"px-6 py-5",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${bp(L.status)}`,children:L.status})}),u.jsx("td",{className:"px-6 py-5 text-right",children:u.jsx("span",{className:"font-black text-gray-900 text-base",children:we(L.total)})}),u.jsx("td",{className:"px-6 py-5 sm:hidden relative",onClick:B=>B.stopPropagation(),children:u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>N(_===L.id?null:L.id),className:"p-2 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg transition-all",children:ae.More}),_===L.id&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-100 rounded-lg shadow-lg z-50 py-2",children:[u.jsxs("button",{onClick:()=>{e(`/bills/edit/${L.id}`),N(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit"]}),u.jsxs("button",{onClick:()=>{I(L),N(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Duplicate," Duplicate"]}),u.jsx("div",{className:"border-t my-1"}),u.jsxs("button",{onClick:()=>{F(L.id),N(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[ae.Delete," Delete"]})]})]})}),w===L.id&&u.jsx("td",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-10 animate-in fade-in slide-in-from-right-2 duration-200 hidden sm:table-cell",onClick:B=>B.stopPropagation(),children:u.jsxs("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-[#ebf4ff]",children:[u.jsx("button",{onClick:()=>e(`/bills/edit/${L.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:ae.Edit}),u.jsx("button",{onClick:()=>I(L),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Duplicate",children:ae.Duplicate}),u.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"}),u.jsx("button",{onClick:()=>F(L.id),className:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:ae.Delete})]})})]},L.id)})})]})})})]})},zP=()=>{const{id:e}=En(),t=ft(),r=xe.currentUser,n=!!e;if(!r)return u.jsxs("div",{className:"p-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),u.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),u.jsx(Be,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});const{data:i=[]}=jc(),{data:s=[]}=Ud(),{data:l,isPending:d,error:f}=oD(e),h=v5(),p=b5(),y=Pr(),[g,b]=j.useState(""),[w,S]=j.useState(new Date().toISOString().split("T")[0]),[_,N]=j.useState(""),[E,A]=j.useState([]),[C,T]=j.useState(0),[P,M]=j.useState(0),[I,F]=j.useState(""),[L,K]=j.useState(!1),[B,te]=j.useState(""),[de,Z]=j.useState(!1),[R,V]=j.useState(""),[J,se]=j.useState(!1),[ye,D]=j.useState(null);Lr.useEffect(()=>{l?(b(l.vendorId),S(l.billDate),N(l.billNumber),A(l.items),T(l.discount),M(l.shipping),F(l.notes||"")):n||N(`PUR-${Math.floor(1e3+Math.random()*9e3)}`)},[l,n]);const H=E.reduce((z,re)=>z+re.amount,0),fe=H-C+P,me=z=>{const re=s.find(le=>le.id===z);if(!re)return;const ge={productId:re.id,productName:re.name,rate:re.purchasePrice,quantity:1,amount:re.purchasePrice};A([...E,ge]),K(!1),te("")},_e=(z,re)=>{const ge=[...E];ge[z].quantity=Math.max(1,re),ge[z].amount=ge[z].rate*ge[z].quantity,A(ge)},ee=z=>{A(E.filter((re,ge)=>ge!==z))},pe=async()=>{if(!g||E.length===0){D("Please select a vendor and add at least one product.");return}if(!(r!=null&&r.id)){D("User session expired. Please log in again.");return}se(!0),D(null);try{const z=E.reduce((Te,vt)=>Te+vt.amount,0),re=z-C+P,ge=new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),le=new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),Ye={billNumber:_,billDate:w,vendorId:g,createdBy:r.id,status:n&&l?l.status:nn.ON_HOLD,items:E,subtotal:z,discount:C,shipping:P,total:re,notes:I,paidAmount:n&&l?l.paidAmount:0,history:n&&l?l.history:{created:`Created by ${r.name} on ${ge}, at ${le}`}};n?(await p.mutateAsync({id:e,updates:Ye}),y.success("Bill updated successfully"),se(!1),t("/bills")):h.mutateAsync(Ye).then(Te=>{se(!1),y.success("Bill created successfully"),t(`/bills/${Te.id}`)},Te=>{se(!1);const vt=Te instanceof Error?Te.message:"Failed to save bill";D(vt),y.error(vt)})}catch(z){console.error("Failed to save bill:",z);const re=z instanceof Error?z.message:"Failed to save bill";D(re),y.error(re),se(!1)}},ke=i.find(z=>z.id===g);return u.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Bill":"New Purchase Bill"}),u.jsx("button",{onClick:()=>t("/bills"),className:"text-gray-500 hover:text-gray-700 font-medium text-sm px-4 py-2 border border-gray-200 rounded-lg bg-white transition-all",children:"Cancel"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"space-y-1 relative md:col-span-1",children:[u.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Select Vendor"}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>Z(!de),className:"w-full text-left px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl hover:bg-white focus:ring-2 focus:ring-[#3c5a82] transition-all flex justify-between items-center group",children:[ke?u.jsxs("div",{className:"flex-1 overflow-hidden",children:[u.jsx("span",{className:"font-bold block text-sm text-gray-900",children:ke.name}),u.jsx("p",{className:"text-[10px] text-gray-500 leading-none mt-0.5",children:ke.phone}),u.jsx("p",{className:"text-[10px] ${theme.colors.secondary[600]} italic truncate mt-1",children:ke.address})]}):u.jsx("span",{className:"text-gray-400 text-sm",children:"Select Vendor..."}),u.jsx("div",{className:`transition-transform duration-200 ${de?"rotate-90":""}`,children:ae.ChevronRight})]}),de&&u.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full max-w-xs bg-white border border-gray-200 shadow-2xl rounded-lg z-[110] p-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"relative mb-2",children:[u.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),u.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search business...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:R,onChange:z=>V(z.target.value)})]}),u.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-0.5 custom-scrollbar",children:i.filter(z=>z.name.toLowerCase().includes(R.toLowerCase())||z.phone.includes(R)).map(z=>u.jsxs("button",{onClick:()=>{b(z.id),Z(!1),V("")},className:"w-full px-4 py-2.5 text-left hover:bg-[#e6f0ff] rounded-lg group transition-colors",children:[u.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.secondary[700]}",children:z.name}),u.jsx("p",{className:"text-[10px] text-gray-400 group-hover:${theme.colors.secondary[600]}/60",children:z.phone})]},z.id))}),u.jsx(Be,{onClick:()=>{Z(!1),t("/vendors/new")},variant:"secondary",size:"sm",className:"w-full mt-2 text-[10px]",icon:ae.Plus,children:"Add New Vendor"})]})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bill Date"}),u.jsx("input",{type:"date",value:w,onChange:z=>S(z.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] focus:bg-white transition-all cursor-pointer font-bold text-sm"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bill Number"}),u.jsx("input",{type:"text",value:_,onChange:z=>N(z.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl font-mono ${theme.colors.secondary[700]} text-sm font-bold"})]})]}),u.jsx("div",{className:"border border-gray-100 rounded-lg overflow-visible bg-white",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[u.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Product Item"}),u.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Cost Rate"}),u.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Qty"}),u.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),u.jsx("th",{className:"px-4 py-4"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-50",children:[E.map((z,re)=>{var ge,le;return u.jsxs("tr",{className:"group hover:bg-gray-50/50",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[((ge=s.find(Ye=>Ye.id===z.productId))==null?void 0:ge.image)&&u.jsx("img",{src:(le=s.find(Ye=>Ye.id===z.productId))==null?void 0:le.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),u.jsx("span",{className:"font-bold text-gray-800 text-sm",children:z.productName})]})}),u.jsx("td",{className:"px-4 py-4 text-center text-sm font-bold text-gray-600",children:we(z.rate)}),u.jsx("td",{className:"px-4 py-4 text-center",children:u.jsx("input",{type:"number",value:z.quantity,onChange:Ye=>_e(re,parseInt(Ye.target.value)),className:"w-16 text-center py-2 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold outline-none"})}),u.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 text-sm",children:we(z.amount)}),u.jsx("td",{className:"px-4 py-4 text-right",children:u.jsx("button",{onClick:()=>ee(re),className:"p-2 text-red-200 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:ae.Delete})})]},re)}),u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"px-6 py-5 relative",children:u.jsxs("div",{className:"relative",children:[u.jsx(Be,{onClick:()=>K(!L),variant:"secondary",size:"sm",icon:ae.Plus,className:"border-2 border-dashed border-[#c7e0f5]",children:"Add an item"}),L&&u.jsxs("div",{className:"absolute top-full left-0 mt-3 w-full max-w-md bg-white border border-gray-200 shadow-2xl rounded-lg z-[100] p-2 overflow-hidden animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{className:"relative mb-2",children:[u.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),u.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search product...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:B,onChange:z=>te(z.target.value)})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto space-y-0.5 custom-scrollbar",children:s.filter(z=>z.name.toLowerCase().includes(B.toLowerCase())).map(z=>u.jsxs("button",{onClick:()=>me(z.id),className:"flex items-center gap-4 w-full px-4 py-3 text-left hover:bg-[#e6f0ff] rounded-xl group transition-all",children:[z.image&&u.jsx("img",{src:z.image,className:"w-10 h-10 rounded-full object-cover border border-gray-100 shadow-sm"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.secondary[700]} truncate",children:z.name}),u.jsxs("p",{className:"text-[10px] font-bold ${theme.colors.secondary[600]}/60 uppercase tracking-widest",children:["Cost: ",we(z.purchasePrice)]})]})]},z.id))})]})]})})})]})]})}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-12 pt-6",children:[u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Purchase Memo"}),u.jsx("textarea",{placeholder:"Bill details, vendor instructions, or delivery notes...",value:I,onChange:z=>F(z.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-100 rounded-lg h-32 focus:ring-2 focus:ring-[#3c5a82] focus:bg-white outline-none font-medium text-sm transition-all"})]}),u.jsxs("div",{className:"w-full md:w-96 space-y-4 bg-gray-50/50 p-8 rounded-[2rem] border border-gray-100",children:[u.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[u.jsx("span",{children:"Subtotal"}),u.jsx("span",{className:"text-gray-900 font-black",children:we(H)})]}),u.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[u.jsx("span",{children:"Discount"}),u.jsx("input",{type:"number",value:C,onChange:z=>T(parseFloat(z.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]}),u.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[u.jsx("span",{children:"Shipping"}),u.jsx("input",{type:"number",value:P,onChange:z=>M(parseFloat(z.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]}),u.jsxs("div",{className:"pt-6 border-t-4 border-[#c7e0f5] flex justify-between items-center",children:[u.jsx("span",{className:"text-lg font-bold text-gray-900 uppercase tracking-tighter",children:"Total Bill"}),u.jsx("span",{className:"text-3xl font-black",children:we(fe)})]}),u.jsx(Be,{onClick:pe,variant:"primary",size:"lg",className:"w-full mt-4",loading:J,disabled:J,children:"Save Purchase Bill"})]})]})]})]})},ooe=()=>{var Z,R,V,J;const{id:e}=En(),t=ft(),r=Ue(),n=xe.currentUser,{data:i,isPending:s,error:l}=oD(e||""),{data:d=[]}=jc(),{data:f=[]}=Ns(),{data:h=[]}=_s(),{data:p}=Ap(),{data:y}=Cp(),g=b5(),b=df(),w=uf(),S=Pr(),_=g.isPending||b.isPending||w.isPending,N=i?d.find(se=>se.id===i.vendorId):void 0,E=i?f.find(se=>se.id===i.createdBy):void 0,A=s,[C,T]=j.useState(!1),[P,M]=j.useState(!1),[I,F]=j.useState({date:new Date().toISOString().split("T")[0],accountId:xe.settings.defaults.accountId||"",amount:0});if(A)return u.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading bill..."});if(l||!i)return u.jsx("div",{className:"p-8 text-center text-gray-500",children:(l==null?void 0:l.message)||"Bill not found."});const L=async(se,ye,D)=>{if(i)try{const H={...i,status:se,history:ye?{...i.history,[ye]:D}:i.history};await g.mutateAsync({id:e,updates:H}),r.invalidateQueries({queryKey:["bill",e]}),r.invalidateQueries({queryKey:["bills"]}),T(!1)}catch(H){console.error("Failed to update bill status:",H),S.error("Failed to update bill status")}},K=async()=>{const se=`Marked as processing by ${n.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await L(nn.PROCESSING,"processing",se)},B=async()=>{const se=`Marked as received by ${n.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await L(nn.RECEIVED,"received",se)},te=async()=>{if(i)try{let se=h.find(pe=>pe.id===I.accountId);if(!se){if(!I.accountId){S.error("Please select an account");return}se={id:I.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const ye=i.paidAmount+I.amount,D=`Payment of ${we(I.amount)} received by ${n.name} on ${new Date(I.date).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`,fe=ye>=i.total?nn.PAID:i.status,me={...i,paidAmount:ye,status:fe,history:{...i.history,paid:D},paidAt:I.date};try{const pe={id:Math.random().toString(36).substr(2,9),date:I.date,type:"Expense",category:xe.settings.defaults.expenseCategoryId||"expense_purchases",accountId:I.accountId,amount:I.amount,description:`Payment for Bill #${i.billNumber}`,referenceId:i.id,contactId:i.vendorId,paymentMethod:xe.settings.defaults.paymentMethod||"Cash",createdBy:n.id};await b.mutateAsync(pe)}catch(pe){console.error("Failed to create transaction:",pe)}const _e=I.amount,ee=await Promise.allSettled([g.mutateAsync({id:e,updates:me}),w.mutateAsync({id:I.accountId,updates:{currentBalance:se.currentBalance-_e}})]);if(ee[0].status==="rejected"||ee[1].status==="rejected"){const pe=ee[0].status==="rejected"?"failed":"succeeded",ke=ee[1].status==="rejected"?"failed":"succeeded";throw new Error(`Payment update failed: Bill update ${pe}, Account update ${ke}`)}r.invalidateQueries({queryKey:["bill",e]}),r.invalidateQueries({queryKey:["bills"]}),M(!1),S.success("Payment recorded successfully")}catch(se){console.error("Failed to record payment:",se),S.error("Failed to record payment")}},de=()=>{i&&(F({date:new Date().toISOString().split("T")[0],accountId:"",amount:i.total-i.paidAmount}),M(!0))};return u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[u.jsx(Ld,{isLoading:A&&!i,message:"Loading bill details..."}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>t("/bills"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500 transition-all",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),u.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Purchase Bill #",i.billNumber]}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${bp(i.status)}`,children:i.status})]}),u.jsxs("div",{className:"flex items-center gap-2 relative",children:[u.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg bg-white hover:bg-gray-50 transition-all",children:[ae.Print," Print Bill"]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>T(!C),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg ${ie.colors.primary[600]} text-white hover:${ie.colors.primary[700]} transition-all shadow-md`,children:[ae.More," Actions"]}),C&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>T(!1)}),u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border rounded-xl shadow-xl z-50 py-2",children:[u.jsx("button",{onClick:()=>{K(),T(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Mark Processing"}),u.jsx("button",{onClick:()=>{B(),T(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Mark Received"}),u.jsx("div",{className:"border-t my-1"}),u.jsx("button",{onClick:()=>{de(),T(!1)},disabled:i.paidAmount>=i.total,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 text-red-600 font-bold disabled:text-gray-300 disabled:cursor-not-allowed",children:"Record Payment"}),u.jsx("button",{onClick:()=>t(`/bills/edit/${i.id}`),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Edit Bill"})]})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:u.jsxs("div",{className:"p-8 space-y-8",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[((p==null?void 0:p.logo)||xe.settings.company.logo)&&u.jsx("img",{src:(p==null?void 0:p.logo)||xe.settings.company.logo,className:"rounded-xl object-cover mb-4 border",style:{width:(y==null?void 0:y.logoWidth)||xe.settings.invoice.logoWidth,height:(y==null?void 0:y.logoHeight)||xe.settings.invoice.logoHeight}}),u.jsx("h1",{className:"text-2xl font-extrabold ${theme.colors.secondary[600]} uppercase tracking-tighter",children:"Purchase Bill"}),u.jsx("p",{className:"text-sm text-gray-500",children:(p==null?void 0:p.name)||xe.settings.company.name})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["Bill No: #",i.billNumber]}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Date: ",i.billDate]})]})]}),u.jsx("div",{className:"grid grid-cols-2 gap-8 border-t border-gray-100 py-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-3",children:"Bill From (Vendor)"}),u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:N==null?void 0:N.name}),u.jsx("p",{className:"text-sm text-gray-600",children:N==null?void 0:N.address}),u.jsx("p",{className:"text-sm text-gray-600",children:N==null?void 0:N.phone})]})}),u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b-2 border-gray-100",children:[u.jsx("th",{className:"py-4 text-xs font-bold text-gray-400 uppercase",children:"Description"}),u.jsx("th",{className:"py-4 text-center text-xs font-bold text-gray-400 uppercase",children:"Cost"}),u.jsx("th",{className:"py-4 text-center text-xs font-bold text-gray-400 uppercase",children:"Qty"}),u.jsx("th",{className:"py-4 text-right text-xs font-bold text-gray-400 uppercase",children:"Total"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-50",children:i.items.map((se,ye)=>u.jsxs("tr",{children:[u.jsx("td",{className:"py-5 font-bold text-gray-800",children:se.productName}),u.jsx("td",{className:"py-5 text-center text-gray-600 font-medium",children:we(se.rate)}),u.jsx("td",{className:"py-5 text-center text-gray-600 font-medium",children:se.quantity}),u.jsx("td",{className:"py-5 text-right font-black text-gray-900",children:we(se.amount)})]},ye))})]}),u.jsx("div",{className:"flex justify-end pt-4",children:u.jsxs("div",{className:"w-full max-w-xs space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-gray-500",children:[u.jsx("span",{className:"text-sm font-medium",children:"Subtotal"}),u.jsx("span",{className:"font-bold text-gray-900",children:we(i.subtotal)})]}),i.discount>0&&u.jsxs("div",{className:"flex justify-between text-gray-500",children:[u.jsx("span",{className:"text-sm font-medium",children:"Discount"}),u.jsxs("span",{className:"font-bold text-red-500",children:["-",we(i.discount)]})]}),i.shipping>0&&u.jsxs("div",{className:"flex justify-between text-gray-500",children:[u.jsx("span",{className:"text-sm font-medium",children:"Shipping"}),u.jsx("span",{className:"font-bold text-gray-900",children:we(i.shipping)})]}),u.jsxs("div",{className:"flex justify-between items-center py-4 border-t-2 border-[#3c5a82]",children:[u.jsx("span",{className:"text-lg font-black text-gray-900 uppercase",children:"Total Payable"}),u.jsx("span",{className:"text-2xl font-black ${theme.colors.secondary[600]}",children:we(i.total)})]})]})}),((y==null?void 0:y.footer)||xe.settings.invoice.footer)&&u.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:u.jsx("p",{className:"text-xs text-gray-500 whitespace-pre-wrap",children:(y==null?void 0:y.footer)||xe.settings.invoice.footer})})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[u.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"1. Creation"}),u.jsx("div",{className:"p-1 bg-[#ebf4ff] text-white rounded-full",children:ae.Plus})]}),u.jsx("div",{className:"p-5",children:u.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:E!=null&&E.name?`${i.history.created} `:((Z=i.history)==null?void 0:Z.created)||"Creation information unavailable"})})]}),u.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[u.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"2. Processing"}),u.jsx("div",{className:`p-1 rounded-full ${i.status===nn.PROCESSING?"bg-[#ebf4ff] text-white":"bg-gray-200 text-gray-400"}`,children:ae.ChevronRight})]}),u.jsx("div",{className:"p-5",children:(R=i.history)!=null&&R.processing?u.jsx("p",{className:"text-xs text-blue-600 leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:i.history.processing}):u.jsx("button",{disabled:i.status===nn.RECEIVED,onClick:K,className:`w-full py-3 ${ie.colors.secondary[600]} hover:${ie.colors.secondary[700]} disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Mark as Processing"})})]}),u.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[u.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"3. Received"}),u.jsx("div",{className:`p-1 rounded-full ${i.status===nn.RECEIVED?"bg-green-100 text-green-600":"bg-gray-200 text-gray-400"}`,children:ae.ChevronRight})]}),u.jsx("div",{className:"p-5",children:(V=i.history)!=null&&V.received?u.jsx("p",{className:"text-xs text-green-600 leading-relaxed font-bold bg-green-50 p-3 rounded-xl",children:i.history.received}):u.jsx("button",{disabled:i.status===nn.ON_HOLD,onClick:B,className:"w-full py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95",children:"Mark as Received"})})]}),u.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[u.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"4. Payment"}),u.jsx("div",{className:`p-1 rounded-full ${i.paidAmount>0?"bg-[#ebf4ff] text-white":"bg-gray-200 text-gray-400"}`,children:ae.Banking})]}),u.jsx("div",{className:"p-5 space-y-3",children:i.paidAmount>0?u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs text-blue-600 leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:(J=i.history)==null?void 0:J.paid}),i.paidAt&&u.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:["Payment Date: ",new Date(i.paidAt).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})]}),i.paidAmount<i.total&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-100 mt-2",children:[u.jsx("p",{className:"text-[10px] font-black text-yellow-600 uppercase",children:"Remaining Amount"}),u.jsx("p",{className:"text-lg font-black text-yellow-700",children:we(i.total-i.paidAmount)})]}),u.jsx("button",{onClick:de,className:`w-full py-3 ${ie.colors.primary[600]} hover:${ie.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Add Balance Payment"})]})]}):u.jsxs("div",{className:"space-y-4 text-center",children:[u.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[u.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Amount Due"}),u.jsx("p",{className:"text-2xl font-black text-gray-900",children:we(i.total-i.paidAmount)})]}),u.jsx("button",{onClick:de,className:`w-full py-3 ${ie.colors.primary[600]} hover:${ie.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Record Payment"})]})})]})]})]}),u.jsx(Tw,{isOpen:P,onClose:()=>M(!1),onSubmit:te,accounts:h,paymentForm:I,setPaymentForm:F,isLoading:_,title:"Record Payment",buttonText:"Add Payment"})]})},loe=()=>{const{data:e=[],isLoading:t}=_s(),r=Bse(),n=Use(),i=Pr(),[s,l]=j.useState(!1),[d,f]=j.useState(null),[h,p]=j.useState({name:"",type:"Bank",openingBalance:0}),y=async()=>{if(h.name)try{await r.mutateAsync({name:h.name,type:h.type,openingBalance:h.openingBalance,currentBalance:h.openingBalance}),l(!1),p({name:"",type:"Bank",openingBalance:0})}catch(w){console.error("Failed to create account:",w),i.error("Failed to create account. Please try again.")}},g=async w=>{const S=e.find(_=>_.id===w);if(S){if(S.currentBalance!==0){i.warning(`Cannot delete account "${S.name}" because it has a balance of ${S.currentBalance}. Please transfer the balance to another account first.`);return}if(confirm(`Are you sure you want to delete the account "${S.name}"?`))try{await n.mutateAsync(w),f(null)}catch(_){console.error("Failed to delete account:",_),i.error("Failed to delete account. Please try again.")}}},b=e.reduce((w,S)=>w+S.currentBalance,0);return u.jsxs("div",{className:"space-y-6",children:[u.jsx(Ld,{isLoading:t,message:"Loading accounts..."}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Banking & Accounts"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Monitor balances and manage cash flow across all accounts"})]}),u.jsx(Be,{onClick:()=>l(!0),variant:"primary",size:"md",icon:ae.Plus,disabled:r.isPending,children:"Add Account"})]}),u.jsxs("div",{className:`${ie.colors.primary[600]} rounded-xl p-8 text-white shadow-xl shadow-[#0f2f57]/20 relative overflow-hidden`,children:[u.jsxs("div",{className:"relative z-10",children:[u.jsx("p",{className:"text-[#c7dff5] font-medium text-sm mb-1 uppercase tracking-wider",children:"Total Combined Balance"}),u.jsx("h1",{className:"text-4xl font-black",children:we(b)}),u.jsxs("div",{className:"mt-8 flex gap-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[#a8c5e8] text-xs font-bold uppercase",children:"Bank Accounts"}),u.jsx("p",{className:"text-xl font-bold",children:e.filter(w=>w.type==="Bank").length})]}),u.jsx("div",{className:"w-px bg-[#0f2f57]/50 h-10"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[#a8c5e8] text-xs font-bold uppercase",children:"Cash Accounts"}),u.jsx("p",{className:"text-xl font-bold",children:e.filter(w=>w.type==="Cash").length})]})]})]}),u.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none",children:u.jsx("div",{className:"w-48 h-48 border-[24px] border-white rounded-full"})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(w=>u.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow group relative",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:`p-3 rounded-xl ${w.type==="Bank"?`bg-[#e6f0ff] ${ie.colors.secondary[600]}`:"bg-orange-50 text-orange-600"}`,children:(w.type==="Bank",ae.Banking)}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>f(d===w.id?null:w.id),className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-lg transition-all",children:ae.More}),d===w.id&&u.jsx("div",{className:"absolute right-0 mt-1 w-40 bg-white border border-gray-100 rounded-lg shadow-lg z-50 py-1",children:u.jsxs("button",{onClick:()=>g(w.id),disabled:w.currentBalance!==0||n.isPending,className:`w-full text-left px-4 py-2.5 text-sm flex items-center gap-2 font-bold ${w.currentBalance!==0||n.isPending?"text-gray-400 cursor-not-allowed":"text-red-600 hover:bg-red-50"}`,title:w.currentBalance!==0?"Account must have zero balance to delete":"Delete account",children:[ae.Delete," Delete"]})})]})]}),u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:w.name}),u.jsxs("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-tight mb-4",children:[w.type," Account"]}),u.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-50",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-500",children:"Opening Balance"}),u.jsx("span",{className:"font-semibold text-gray-700",children:we(w.openingBalance)})]}),u.jsxs("div",{className:"flex justify-between items-center pt-2",children:[u.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Current Balance"}),u.jsx("span",{className:"text-xl font-black",children:we(w.currentBalance)})]})]})]},w.id))}),s&&u.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[u.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>l(!1)}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 animate-in fade-in zoom-in duration-200",children:[u.jsx("div",{className:"p-6 border-b",children:u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Account"})}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Account Name"}),u.jsx("input",{type:"text",placeholder:"e.g. City Bank - 0987",className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:h.name,onChange:w=>p({...h,name:w.target.value})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Account Type"}),u.jsxs("select",{className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:h.type,onChange:w=>p({...h,type:w.target.value}),children:[u.jsx("option",{value:"Bank",children:"Bank"}),u.jsx("option",{value:"Cash",children:"Cash"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Opening Balance"}),u.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:h.openingBalance,onChange:w=>p({...h,openingBalance:parseFloat(w.target.value)||0})})]})]}),u.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-2xl flex gap-3",children:[u.jsx(Be,{onClick:()=>l(!1),variant:"ghost",disabled:r.isPending,children:"Cancel"}),u.jsx(Be,{onClick:y,variant:"primary",size:"md",className:"flex-1",disabled:r.isPending||!h.name,children:r.isPending?"Creating...":"Create Account"})]})]})]})]})},coe=()=>{const e=ft(),t=Ue(),r=Pr(),[n,i]=j.useState("All Time"),[s,l]=j.useState({from:"",to:""}),[d,f]=j.useState("All"),{data:h=[],isPending:p}=Bd(),{data:y=[]}=Io(),{data:g=[]}=jc(),{data:b=[]}=Ep(),{data:w=[]}=$d(),{data:S=[]}=Ns(),{data:_=[]}=zd(),N=zse(),E=async L=>{if(L.startsWith("temp-")){r.error("Cannot delete unsaved transactions. Please refresh and try again.");return}if(confirm("Are you sure you want to delete this transaction?"))try{await N.mutateAsync(L),t.invalidateQueries({queryKey:["transactions"]}),r.success("Transaction deleted successfully")}catch(K){console.error("Failed to delete transaction:",K),r.error("Failed to delete transaction")}},A=j.useMemo(()=>new Map(S.map(L=>[L.id,L])),[S]),C=L=>{if(n==="All Time")return!0;const K=new Date(L),B=new Date;if(n==="Today")return K.toDateString()===B.toDateString();if(n==="This Week"){const te=B.getDate()-B.getDay(),de=te+6,Z=new Date(new Date().setDate(te)),R=new Date(new Date().setDate(de));return K>=Z&&K<=R}return n==="This Month"?K.getMonth()===B.getMonth()&&K.getFullYear()===B.getFullYear():n==="This Year"?K.getFullYear()===B.getFullYear():n==="Custom"?!s.from||!s.to?!0:K>=new Date(s.from)&&K<=new Date(s.to):!0},T=j.useMemo(()=>h.filter(L=>C(L.date)).filter(L=>d==="All"||L.type===d),[h,n,s,d]),P=L=>{const K=y.find(te=>te.id===L);if(K)return{name:K.name,type:"Customer"};const B=g.find(te=>te.id===L);return B?{name:B.name,type:"Vendor"}:null},M=L=>{var B;if(!((B=L.createdBy)!=null&&B.trim()))return null;const K=A.get(L.createdBy);return(K==null?void 0:K.name)||null},I=L=>{try{const K=new Date(L),B=K.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),te=K.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!0});return{date:B,time:te}}catch{return{date:L,time:""}}},F=L=>{if(L.referenceId){if(b.some(te=>te.id===L.referenceId)){e(`/orders/${L.referenceId}`);return}if(w.some(te=>te.id===L.referenceId)){e(`/bills/${L.referenceId}`);return}}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Financial Transactions"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Review all income and expense history"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(Be,{onClick:()=>e("/transactions/new/income"),variant:"primary",size:"md",icon:ae.Plus,children:"Income"}),u.jsx(Be,{onClick:()=>e("/transactions/new/expense"),variant:"danger",size:"md",icon:ae.Minus,children:"Expense"})]})]}),u.jsx(od,{title:"Transactions",filterRange:n,setFilterRange:i,customDates:s,setCustomDates:l,statusTab:d,setStatusTab:f,statusOptions:["Income","Expense","Transfer"]}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[u.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),u.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Type"}),u.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Contact"}),u.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:u.jsxs(u.Fragment,{children:["Category ",u.jsx("br",{})," Notes"]})}),u.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),u.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Attachment"}),u.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-50",children:p?u.jsx(Np,{columns:7,rows:8}):T.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-6 py-16 text-center text-gray-400 italic font-medium",children:"No transactions found."})}):T.map(L=>{var V;const K=L.contactId?P(L.contactId):null,B=M(L),te=L.referenceId&&(b.some(J=>J.id===L.referenceId)||w.some(J=>J.id===L.referenceId)),de=!!L.referenceId,{date:Z,time:R}=I(L.date);return u.jsxs("tr",{onClick:()=>F(L),className:`hover:bg-gray-50 transition-all group ${te?"cursor-pointer":""}`,children:[u.jsx("td",{className:"px-6 py-5 text-sm font-bold text-gray-700",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-bold text-gray-900",children:Z}),u.jsx("span",{className:"text-[11px] text-gray-400 font-medium",children:R})]})}),u.jsx("td",{className:"px-6 py-5",children:u.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest ${L.type==="Income"?`bg-[#ebf4ff] ${ie.colors.primary[600]}`:L.type==="Expense"?"bg-red-50 text-red-600":`bg-[#e6f0ff] ${ie.colors.secondary[600]}`}`,children:L.type})}),u.jsx("td",{className:"px-6 py-5",children:de?K?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-sm font-bold text-gray-900",children:K.name}),u.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest",children:K.type})]}):u.jsx("span",{className:"text-gray-300 font-bold text-xs",children:""}):B?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-sm font-bold text-gray-900",children:B}),u.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest",children:"Created By"})]}):u.jsx("span",{className:"text-gray-300 font-bold text-xs",children:""})}),u.jsx("td",{className:"px-6 py-5",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("p",{className:"text-sm font-bold text-gray-800",children:((V=_.find(J=>J.id===L.category))==null?void 0:V.name)||L.category}),u.jsx("p",{className:"text-xs text-gray-400 italic max-w-xs truncate",children:L.description})]})}),u.jsx("td",{className:"px-6 py-5 text-right",children:u.jsxs("span",{className:`font-black text-base ${L.type==="Income"?"${theme.colors.primary[600]}":L.type==="Expense"?"text-red-600":"${theme.colors.secondary[600]}"}`,children:[L.type==="Income"?"+":L.type==="Expense"?"-":"",we(L.amount)]})}),u.jsx("td",{className:"px-6 py-5 text-center",children:L.attachmentUrl?u.jsx("div",{className:"p-2 bg-[#ebf4ff] ${theme.colors.primary[600]} rounded-lg inline-block",children:ae.Download}):u.jsx("span",{className:"text-gray-200",children:""})}),u.jsx("td",{className:"justify-end px-6 py-5 text-right",onClick:J=>J.stopPropagation(),children:u.jsx(ui,{icon:ae.Delete,variant:"danger",title:"Delete",onClick:()=>E(L.id)})})]},L.id)})})]})})})]})},uoe=()=>{var N;const{type:e}=En(),t=ft(),r=xe.currentUser,n=e==="income",{data:i=[]}=_s(),{data:s}=fD(),{data:l=[]}=uD(),{data:d=[]}=zd(),f=df(),h=uf(),p=Pr(),y=j.useMemo(()=>d.filter(E=>E.type===(n?"Income":"Expense")),[d,n]),[g,b]=j.useState({date:new Date().toISOString().split("T")[0],paymentMethod:(s==null?void 0:s.paymentMethod)||"Cash",accountId:(s==null?void 0:s.accountId)||((N=i[0])==null?void 0:N.id)||"",amount:0,description:"",category:n?(s==null?void 0:s.incomeCategoryId)||"":(s==null?void 0:s.expenseCategoryId)||"",attachmentName:"",attachmentUrl:""}),w=E=>{var C;const A=(C=E.target.files)==null?void 0:C[0];if(A){const T=new FileReader;T.onload=()=>{b({...g,attachmentName:A.name,attachmentUrl:T.result})},T.readAsDataURL(A)}},S=f.isPending||h.isPending,_=async()=>{if(g.amount<=0){p.warning("Amount must be greater than 0");return}if(!g.accountId){p.warning("Please select an account");return}if(!g.category){p.warning("Please select a category");return}if(!(r!=null&&r.id)){p.warning("User session expired. Please log in again.");return}try{const A=new Date(g.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),C={type:n?"Income":"Expense",date:g.date,paymentMethod:g.paymentMethod,accountId:g.accountId,amount:g.amount,description:g.description,category:g.category,attachmentName:g.attachmentName,attachmentUrl:g.attachmentUrl,createdBy:r.id,history:{created:`Created by ${r.name} on ${A}`}};await f.mutateAsync(C);const T=i.find(P=>P.id===g.accountId);if(T){const P=n?T.currentBalance+g.amount:T.currentBalance-g.amount;await h.mutateAsync({id:g.accountId,updates:{currentBalance:P}})}t("/transactions")}catch(E){console.error("Failed to save transaction:",E),p.error("Failed to save transaction: "+(E instanceof Error?E.message:"Unknown error"))}};return u.jsxs("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:[u.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:["Record ",n?"Income":"Expense"]}),u.jsx("p",{className:"text-gray-500 font-medium",children:"Log a new financial movement in your accounts"})]}),u.jsx("button",{onClick:()=>t(-1),className:"p-3 text-gray-400 hover:text-gray-600 bg-white border border-gray-100 rounded-lg shadow-sm",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l18 18"})})})]}),u.jsxs("div",{className:"bg-white p-8 lg:p-12 rounded-[2.5rem] border border-gray-100 shadow-xl shadow-gray-200/20 space-y-10",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Amount (BDT)"}),u.jsx("input",{type:"number",className:`w-full text-3xl font-black px-6 py-4 bg-gray-50 border-2 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl transition-all outline-none ${n?"${theme.colors.primary[600]}":"text-red-600"}`,value:g.amount,onChange:E=>b({...g,amount:parseFloat(E.target.value)||0}),placeholder:"0.00"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Date"}),u.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:g.date,onChange:E=>b({...g,date:E.target.value})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Connected Account"}),u.jsx("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:g.accountId,onChange:E=>b({...g,accountId:E.target.value}),children:i.map(E=>u.jsx("option",{value:E.id,children:E.name},E.id))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Category"}),u.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:g.category,onChange:E=>b({...g,category:E.target.value}),children:[u.jsx("option",{value:"",children:"-- Select a category --"}),y.map(E=>u.jsx("option",{value:E.id,children:E.name},E.id))]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Payment Method"}),u.jsx("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:g.paymentMethod,onChange:E=>b({...g,paymentMethod:E.target.value}),children:l.map(E=>u.jsx("option",{value:E.name,children:E.name},E.id))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Attachment"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"file",className:"hidden",id:"file-upload",onChange:w}),u.jsx("label",{htmlFor:"file-upload",className:"w-full px-6 py-4 bg-gray-50 border-transparent hover:bg-gray-100 rounded-lg font-bold pl-14 flex items-center cursor-pointer transition-colors",children:g.attachmentName||"Choose file to upload"}),u.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400",children:ae.Print})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Description"}),u.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 outline-none",placeholder:"What was this transaction for?",value:g.description,onChange:E=>b({...g,description:E.target.value})})]}),u.jsxs(Be,{onClick:_,variant:n?"primary":"danger",size:"lg",className:"w-full",disabled:S,loading:S,children:["Finalize ",n?"Income":"Expense"]})]})]})},doe=()=>{ft();const e=Ue(),t=xe.currentUser,{data:r=[]}=_s(),n=df(),i=uf(),s=Pr(),[l,d]=j.useState({date:new Date().toISOString().split("T")[0],fromAccountId:"",toAccountId:"",amount:0,description:""}),f=async()=>{if(!l.amount||!l.fromAccountId||!l.toAccountId){s.warning("Please fill in all fields.");return}if(l.fromAccountId===l.toAccountId){s.warning("Cannot transfer to the same account.");return}const h=r.find(y=>y.id===l.fromAccountId),p=r.find(y=>y.id===l.toAccountId);if(h&&p){if(h.currentBalance<l.amount){s.warning("Insufficient balance in source account.");return}try{await Promise.all([n.mutateAsync({type:"Transfer",date:l.date,accountId:l.fromAccountId,toAccountId:l.toAccountId,amount:l.amount,description:l.description||`Transfer from ${h.name} to ${p.name}`,category:"Transfer",paymentMethod:"Internal Transfer",createdBy:t.id}),Promise.all([i.mutateAsync({id:l.fromAccountId,updates:{currentBalance:h.currentBalance-l.amount}}),i.mutateAsync({id:l.toAccountId,updates:{currentBalance:p.currentBalance+l.amount}})])]),s.success("Transfer completed successfully"),e.invalidateQueries({queryKey:["accounts"]}),d({date:new Date().toISOString().split("T")[0],fromAccountId:"",toAccountId:"",amount:0,description:""})}catch(y){console.error("Transfer failed:",y),s.error("Failed to complete transfer: "+(y instanceof Error?y.message:"Unknown error"))}}};return u.jsxs("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:[u.jsx("div",{className:"mb-8 flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Fund Transfer"}),u.jsx("p",{className:"text-gray-500 font-medium",children:"Move balances between your business accounts"})]})}),u.jsxs("div",{className:"bg-white p-8 lg:p-12 rounded-[2.5rem] border border-gray-100 shadow-xl space-y-8",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Amount to Transfer (BDT)"}),u.jsx("input",{type:"number",className:`w-full text-4xl font-black px-6 py-4 bg-[#ebf4ff] border-2 border-transparent focus:border-[#3c5a82] rounded-xl transition-all outline-none ${ie.colors.primary[600]}`,value:l.amount,onChange:h=>d({...l,amount:parseFloat(h.target.value)||0}),placeholder:"0.00"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"From Account (Source)"}),u.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-bold",value:l.fromAccountId,onChange:h=>d({...l,fromAccountId:h.target.value}),children:[u.jsx("option",{value:"",children:"Select an account"}),r.map(h=>u.jsxs("option",{value:h.id,children:[h.name," (",we(h.currentBalance),")"]},h.id))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"To Account (Destination)"}),u.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-bold",value:l.toAccountId,onChange:h=>d({...l,toAccountId:h.target.value}),children:[u.jsx("option",{value:"",children:"Select an account"}),r.map(h=>u.jsxs("option",{value:h.id,children:[h.name," (",we(h.currentBalance),")"]},h.id))]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Transfer Date"}),u.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:l.date,onChange:h=>d({...l,date:h.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Memo / Description"}),u.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 outline-none",placeholder:"Reason for transfer...",value:l.description,onChange:h=>d({...l,description:h.target.value})})]}),u.jsx(Be,{onClick:f,variant:"primary",size:"lg",className:"w-full",disabled:n.isPending||i.isPending,children:n.isPending||i.isPending?"Processing Transfer...":"Execute Transfer"})]})]})},foe=()=>{const e=ft(),t=Ue(),r=Pr(),{data:n=[],isPending:i}=Ud(),s=Yse(),l=async d=>{if(confirm("Are you sure you want to delete this product?"))try{await s.mutateAsync(d),t.invalidateQueries({queryKey:["products"]}),r.success("Product deleted successfully")}catch(f){console.error("Failed to delete product:",f),r.error("Failed to delete product")}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Items Catalog"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Manage your inventory and pricing"})]}),u.jsx(Be,{onClick:()=>e("/products/new"),variant:"primary",size:"md",icon:ae.Plus,children:"Add Product"})]}),u.jsx(Op,{columns:[{key:"name",label:"Name",render:(d,f)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:f.image||"https://via.placeholder.com/100",alt:f.name,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),u.jsx("div",{children:u.jsx("p",{className:"font-bold text-gray-900",children:f.name})})]})},{key:"category",label:"Category",render:d=>u.jsx("span",{className:"px-2.5 py-1 bg-[#ebf4ff] rounded-lg text-[10px] font-black uppercase tracking-widest",children:d})},{key:"salePrice",label:u.jsxs(u.Fragment,{children:["Sale Price",u.jsx("br",{}),"Purchase Price"]}),render:(d,f)=>u.jsxs("div",{className:"flex flex-col gap-0.5",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{className:"text-sm font-bold",children:we(f.salePrice)})}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{className:"text-[11px] font-bold text-gray-600",children:we(f.purchasePrice)})})]})},{key:"id",label:"Actions",align:"right",render:d=>xe.currentUser.role===Ht.ADMIN?u.jsxs("div",{className:"justify-end flex items-center gap-2",children:[u.jsx(ui,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:h=>{h.stopPropagation(),e(`/products/edit/${d}`)}}),u.jsx(ui,{icon:ae.Delete,variant:"danger",title:"Delete",onClick:h=>{h.stopPropagation(),l(d)}})]}):null}],data:n,loading:i,emptyMessage:"No products found"})]})},qP=()=>{const{id:e}=En(),t=ft(),r=!!e,n=xe.currentUser;if(!n)return u.jsxs("div",{className:"p-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),u.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),u.jsx(Be,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});if(r&&n.role===Ht.EMPLOYEE)return u.jsxs("div",{className:"p-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),u.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot edit products. Contact an administrator for assistance."}),u.jsx(Be,{onClick:()=>t("/products"),variant:"primary",children:"Back to Products"})]});const{data:i}=s9(r?e:void 0),{data:s=[],isPending:l}=zd("Product"),d=Vse(),f=Gse(),[h,p]=j.useState({name:"",category:"",image:"",salePrice:0,purchasePrice:0}),[y,g]=j.useState(!1),[b,w]=j.useState(null);Lr.useEffect(()=>{i&&p(i)},[i]);const S=N=>{var A;const E=(A=N.target.files)==null?void 0:A[0];if(E){const C=new FileReader;C.onload=()=>{p({...h,image:C.result})},C.readAsDataURL(E)}},_=async()=>{if(!h.name||!h.category){w("Name and category are required");return}g(!0),w(null);try{const N={name:h.name||"",category:h.category||"",image:h.image||"https://picsum.photos/200/200?random="+Math.random(),salePrice:h.salePrice||0,purchasePrice:h.purchasePrice||0};r?(await f.mutateAsync({id:e,updates:N}),t("/products")):d.mutateAsync(N).then(()=>{t("/products")},E=>{g(!1),w(E instanceof Error?E.message:"Failed to create product")})}catch(N){console.error("Failed to save product:",N),w(N instanceof Error?N.message:"Failed to save product"),g(!1)}};return u.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Product":"Add Product"}),u.jsx("button",{onClick:()=>t("/products"),className:"px-4 py-2 border rounded-xl text-gray-500 font-bold bg-white hover:bg-gray-50",children:"Cancel"})]}),u.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[u.jsxs("div",{className:"flex-1 space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Product Name"}),u.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:h.name,onChange:N=>p({...h,name:N.target.value}),placeholder:"e.g. Cotton Polo T-Shirt"})]}),u.jsxs("div",{className:"flex-1 space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Category"}),u.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:h.category,onChange:N=>p({...h,category:N.target.value}),disabled:l,children:[u.jsx("option",{value:"",children:l?"Loading...":"Select Category..."}),s.map(N=>u.jsx("option",{value:N.name,children:N.name},N.id))]})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Product Image"}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("div",{className:"w-24 h-24 rounded-lg border border-dashed border-gray-300 flex items-center justify-center overflow-hidden bg-gray-50",children:h.image?u.jsx("img",{src:h.image,className:"w-full h-full object-cover"}):u.jsx("span",{className:"text-gray-300 text-xs text-center p-2",children:"No image"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("input",{type:"file",id:"product-image",className:"hidden",onChange:S}),u.jsx("label",{htmlFor:"product-image",className:"inline-block px-6 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-xl cursor-pointer transition-all",children:"Upload File"}),u.jsx("p",{className:"text-[10px] text-gray-400 mt-2 font-medium",children:"Recommended size: 500x500px. JPG, PNG supported."})]})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[u.jsxs("div",{className:"flex-1 space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sale Price (BDT)"}),u.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold",value:h.salePrice,onChange:N=>p({...h,salePrice:parseFloat(N.target.value)||0})})]}),u.jsxs("div",{className:"flex-1 space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Purchase Price (BDT)"}),u.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82] text-gray-600 font-bold",value:h.purchasePrice,onChange:N=>p({...h,purchasePrice:parseFloat(N.target.value)||0})})]})]}),u.jsxs("div",{className:"pt-6 space-y-4",children:[b&&u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:u.jsx("p",{className:"text-sm font-bold text-red-600",children:b})}),u.jsx(Be,{onClick:_,variant:"primary",size:"lg",className:"w-full",disabled:y,children:y?"Saving...":r?"Update Product Item":"Create Product Item"})]})]})]})},hoe=()=>{var i;const e=ft(),{data:t=[],isPending:r}=Ns(),n=((i=xe.currentUser)==null?void 0:i.role)===Ht.ADMIN;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Application Users"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Manage staff accounts and system permissions"})]}),n&&u.jsx(Be,{onClick:()=>e("/users/new"),variant:"primary",size:"md",icon:ae.Plus,children:"Add User"})]}),u.jsx(Op,{columns:[{key:"name",label:"User",render:(s,l)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:l.image||"https://picsum.photos/100/100?random="+l.id,className:"w-10 h-10 rounded-full object-cover border"}),u.jsx("span",{className:"font-bold text-gray-900",children:l.name})]})},{key:"role",label:"Role",render:s=>u.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${s===Ht.ADMIN?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:s})},{key:"phone",label:"Contact",render:s=>u.jsx("span",{className:"text-sm text-gray-600",children:s})},{key:"id",label:"Actions",align:"right",render:s=>u.jsx(ui,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:l=>{l.stopPropagation(),e(`/users/edit/${s}`)}})}],data:t,onRowClick:s=>e(`/users/${s.id}`),emptyMessage:"No users found",loading:r})]})},KP=()=>{const{id:e}=En(),t=ft(),r=!!e,{data:n,isPending:i,error:s}=lD(r?e:void 0),l=qse(),d=Kse(),f=x5(),h=Pr(),[p,y]=j.useState(!1),[g,b]=j.useState(!1),[w,S]=j.useState({name:"",phone:"",password:"",role:Ht.EMPLOYEE,image:""});Lr.useEffect(()=>{n&&S(n)},[n]);const _=localStorage.getItem("currentUser"),N=_?JSON.parse(_):null,E=(N==null?void 0:N.role)===Ht.ADMIN,A=(N==null?void 0:N.id)===e,C=i,T=I=>{var L;const F=(L=I.target.files)==null?void 0:L[0];if(F){const K=new FileReader;K.onload=()=>{S({...w,image:K.result})},K.readAsDataURL(F)}},P=async()=>{if(!w.name||!w.phone||E&&!r&&!w.password){h.warning("Please fill mandatory fields (Name, Phone, Password)");return}y(!0);try{if(r&&e){const I={name:w.name,phone:w.phone,image:w.image};if(E&&(w.password&&(I.password=w.password),w.role&&(I.role=w.role)),await d.mutateAsync({id:e,updates:I}),A&&N){const F={...N,...I};localStorage.setItem("currentUser",JSON.stringify(F))}}else{if(!E){h.error("Only admins can add users"),y(!1);return}await l.mutateAsync({name:w.name||"",phone:w.phone||"",password:w.password||"",role:w.role||Ht.EMPLOYEE,image:w.image||""})}h.success(r?"User updated successfully!":"User created successfully!"),t("/users")}catch(I){console.error("Failed to save user:",I),h.error("Failed to save user: "+(I instanceof Error?I.message:"Unknown error"))}finally{y(!1)}},M=async()=>{if(e){y(!0);try{await f.mutateAsync(e),h.success("User deleted successfully!"),t("/users")}catch(I){console.error("Failed to delete user:",I),h.error("Failed to delete user: "+(I instanceof Error?I.message:"Unknown error"))}finally{y(!1),b(!1)}}};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 pb-20",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Profile":"Add System User"}),u.jsx("button",{onClick:()=>t("/users"),className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-500 hover:bg-gray-50",children:"Cancel"})]}),r&&C&&u.jsx("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm text-center text-gray-500",children:"Loading user details..."}),s&&u.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-100 text-red-700",children:s.message||"User not found"}),!r||!C&&u.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-6 p-6 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden bg-white border",children:u.jsx("img",{src:w.image||`https://ui-avatars.com/api/?name=${w.name||"User"}&background=10b981&color=fff`,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Profile Photo"}),u.jsx("input",{type:"file",id:"user-pfp",className:"hidden",onChange:T}),u.jsx("label",{htmlFor:"user-pfp",className:`cursor-pointer px-4 py-2 ${ie.colors.primary[600]} text-white text-xs font-bold rounded-lg hover:${ie.colors.primary[700]}`,children:"Upload Picture"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Full Name"}),u.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:w.name,onChange:I=>S({...w,name:I.target.value})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Phone Number"}),u.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:w.phone,onChange:I=>S({...w,phone:I.target.value})})]}),E&&u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Password (Admin Only Access)"}),u.jsx("input",{type:"password",className:"w-full px-4 py-3 bg-purple-50 border border-purple-100 rounded-xl focus:ring-2 focus:ring-purple-500",value:w.password,onChange:I=>S({...w,password:I.target.value}),placeholder:r?"Leave blank to keep current password":"Secure system password"}),u.jsx("p",{className:"text-[10px] text-purple-400 font-medium",children:"Only administrators can set or change passwords."})]}),E&&u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"System Role"}),u.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:w.role,onChange:I=>S({...w,role:I.target.value}),children:[u.jsx("option",{value:Ht.EMPLOYEE,children:"Employee"}),u.jsx("option",{value:Ht.ADMIN,children:"Administrator"})]})]})]}),u.jsxs("div",{className:"pt-6 space-y-3",children:[u.jsx(Be,{onClick:P,variant:"primary",size:"lg",className:"w-full",disabled:p,children:p?"Saving...":"Save User Details"}),r&&E&&u.jsx("button",{onClick:()=>b(!0),disabled:p,className:"w-full px-4 py-3 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Delete User"})]})]}),g&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-sm w-full p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete User?"}),u.jsxs("p",{className:"text-gray-600 text-sm",children:["Are you sure you want to delete ",u.jsx("strong",{children:w.name}),"? This action cannot be undone."]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>b(!1),disabled:p,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),u.jsx("button",{onClick:M,disabled:p,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:p?"Deleting...":"Delete"})]})]})})]})},moe=()=>{const{id:e}=En(),t=ft(),r=xe.currentUser,{data:n,isPending:i,error:s}=lD(e),l=x5(),d=Pr(),[f,h]=j.useState(!1);if(i)return u.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading user..."});if(s||!n)return u.jsx("div",{className:"p-8 text-center text-gray-500",children:(s==null?void 0:s.message)||"User not found."});const p=r.role===Ht.ADMIN||r.id===e,y=r.role===Ht.ADMIN,g=async()=>{if(e)try{await l.mutateAsync(e),d.success("User deleted successfully!"),t("/users")}catch(b){console.error("Failed to delete user:",b),d.error("Failed to delete user: "+(b instanceof Error?b.message:"Unknown error"))}finally{h(!1)}};return u.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>t("/users"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Profile"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[p&&u.jsxs("button",{onClick:()=>t(`/users/edit/${n.id}`),className:`px-6 py-2 ${ie.colors.primary[600]} text-white rounded-xl font-bold hover:${ie.colors.primary[700]} shadow-md flex items-center gap-2`,children:[ae.Edit," Edit Profile"]}),y&&u.jsx("button",{onClick:()=>h(!0),disabled:l.isPending,className:"px-6 py-2 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Delete User"})]})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[u.jsx("div",{className:"h-32 bg-gradient-to-r from-[#0f2f57] to-[#1a3a6e]"}),u.jsxs("div",{className:"px-8 pb-8",children:[u.jsxs("div",{className:"relative flex justify-between items-end -mt-12 mb-8",children:[u.jsx("div",{className:"p-1 bg-white rounded-full shadow-xl",children:u.jsx("img",{src:n.image||"https://picsum.photos/200/200?random="+n.id,className:"w-24 h-24 rounded-full object-cover border-1 border-black"})}),u.jsx("span",{className:`px-4 py-1 rounded-full text-xs font-black uppercase tracking-widest ${n.role===Ht.ADMIN?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:n.role})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Full Name"}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n.name})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Phone Number"}),u.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.phone})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Joining Date"}),u.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.createdAt?new Date(n.createdAt).toLocaleDateString("en-BD",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]}),u.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[u.jsx("h4",{className:"font-bold text-gray-900",children:"Account Security"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Passwords are managed by system administrators. If you need to reset your password, please contact the IT department."}),u.jsxs("div",{className:"flex items-center gap-2 text-emerald-700 text-sm font-bold",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Active Status Verified"]})]})]})]})]}),f&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-sm w-full p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete User?"}),u.jsxs("p",{className:"text-gray-600 text-sm",children:["Are you sure you want to delete ",u.jsx("strong",{children:n.name}),"? This action cannot be undone."]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>h(!1),disabled:l.isPending,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),u.jsx("button",{onClick:g,disabled:l.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:l.isPending?"Deleting...":"Delete"})]})]})})]})},poe=()=>{const[e,t]=j.useState("company"),[r,n]=j.useState(null),i=Ue(),{data:s,isPending:l}=Ap(),{data:d,isPending:f}=dD(),{data:h,isPending:p}=Cp(),{data:y,isPending:g}=fD(),{data:b,isPending:w}=Mw(),{data:S=[],isPending:_}=zd(),{data:N=[],isPending:E}=uD(),{data:A=[],isPending:C}=o9(),{data:T=[]}=_s(),P=Wse(),M=Xse(),I=Zse(),F=Jse();eoe(),toe();const L=roe(),K=Pr(),[B,te]=j.useState({name:"",phone:"",email:"",address:"",logo:""}),[de,Z]=j.useState({prefix:"ORD-",nextNumber:1}),[R,V]=j.useState({steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}),[J,se]=j.useState({title:"Invoice",logoWidth:120,logoHeight:120,footer:""}),[ye,D]=j.useState({defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}),[H,fe]=j.useState({name:"",type:"Income",color:"#10B981",parentId:""}),[me,_e]=j.useState({name:"",description:""}),[ee,pe]=j.useState({name:"",shortName:"",description:""}),[ke,z]=j.useState([]),[re,ge]=j.useState(!1);Lr.useEffect(()=>{s&&te(s)},[s]),Lr.useEffect(()=>{d&&Z(d)},[d]),Lr.useEffect(()=>{h&&se(h)},[h]),Lr.useEffect(()=>{y&&D(y)},[y]),Lr.useEffect(()=>{b&&V(b)},[b]),j.useEffect(()=>{(async()=>{const{baseUrl:jt,clientId:Vr,clientSecret:ar,clientContext:lt}=R.carryBee,ff=jt==null?void 0:jt.trim(),Mc=Vr==null?void 0:Vr.trim(),Rc=ar==null?void 0:ar.trim(),ks=lt==null?void 0:lt.trim();if(!ff||!Mc||!Rc||!ks){z([]);return}ge(!0);try{const Ic=await H8({baseUrl:ff,clientId:Mc,clientSecret:Rc,clientContext:ks});z(Ic)}catch(Ic){console.error("Failed to fetch CarryBee stores:",Ic),z([])}finally{ge(!1)}})()},[R.carryBee.baseUrl,R.carryBee.clientId,R.carryBee.clientSecret,R.carryBee.clientContext]);const le=l||f||p||g||w||_||E||C,Ye=async()=>{try{const ce=K.loading("Saving all settings...");L.mutateAsync({company:B,order:de,invoice:J,defaults:ye,courier:R}).then(()=>{xe.settings.company=B,xe.settings.order=de,xe.settings.invoice=J,xe.settings.defaults=ye,xe.settings.courier=R,K.update(ce,"Settings saved successfully!","success")}).catch(jt=>{console.error("Failed to save settings:",jt),K.update(ce,"Failed to save settings: "+(jt instanceof Error?jt.message:"Unknown error"),"error")})}catch(ce){console.error("Failed to initiate settings save:",ce),K.error("Failed to save settings: "+(ce instanceof Error?ce.message:"Unknown error"))}},Te=ce=>{var Vr;const jt=(Vr=ce.target.files)==null?void 0:Vr[0];if(jt){const ar=new FileReader;ar.onload=()=>{te({...B,logo:ar.result})},ar.readAsDataURL(jt)}},vt=async()=>{if(!H.name.trim()){K.warning("Please enter a category name");return}const ce={id:crypto.randomUUID(),name:H.name,type:H.type,color:H.color,parentId:H.parentId||void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},jt=i.getQueryData(["categories"]);i.setQueryData(["categories"],(lt=[])=>[...lt,ce]);const Vr=K.loading("Adding category..."),ar={...H};fe({name:"",type:"Income",color:"#10B981",parentId:""}),n(null);try{await P.mutateAsync({name:ar.name,type:ar.type,color:ar.color,parentId:ar.parentId||void 0}),K.update(Vr,"Category added successfully!","success")}catch(lt){console.error("Failed to add category:",lt),i.setQueryData(["categories"],jt),K.update(Vr,"Failed to add category: "+(lt instanceof Error?lt.message:"Unknown error"),"error"),n("category"),fe(ar)}},wt=async ce=>{if(confirm("Are you sure you want to delete this category?"))try{await M.mutateAsync(ce),K.success("Category deleted successfully!")}catch(jt){console.error("Failed to delete category:",jt),K.error("Failed to delete category: "+(jt instanceof Error?jt.message:"Unknown error"))}},Tr=async()=>{if(!me.name.trim()){K.warning("Please enter a payment method name");return}const ce={id:crypto.randomUUID(),name:me.name,description:me.description||"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},jt=i.getQueryData(["paymentMethods"]);i.setQueryData(["paymentMethods"],(lt=[])=>[...lt,ce]);const Vr=K.loading("Adding payment method..."),ar={...me};_e({name:"",description:""}),n(null);try{await I.mutateAsync({name:ar.name,description:ar.description||void 0}),K.update(Vr,"Payment method added successfully!","success")}catch(lt){console.error("Failed to add payment method:",lt),i.setQueryData(["paymentMethods"],jt),K.update(Vr,"Failed to add payment method: "+(lt instanceof Error?lt.message:"Unknown error"),"error"),n("payment"),_e(ar)}},Cs=async ce=>{if(confirm("Are you sure you want to delete this payment method?"))try{await F.mutateAsync(ce),K.success("Payment method deleted successfully!")}catch(jt){console.error("Failed to delete payment method:",jt),K.error("Failed to delete payment method: "+(jt instanceof Error?jt.message:"Unknown error"))}},Dc=[{id:"company",label:"Company",icon:ae.Dashboard},{id:"order",label:"Order & Invoice",icon:ae.Sales},{id:"defaults",label:"Defaults",icon:ae.Settings},{id:"categories",label:"Categories",icon:ae.More},{id:"payments",label:"Payment Methods",icon:ae.Banking},{id:"courier",label:"Courier",icon:ae.Courier}];return u.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[u.jsx(Ld,{isLoading:le,message:"Loading settings..."}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Configure your accounting environment and business rules"})]}),u.jsx(Be,{onClick:Ye,variant:"primary",size:"md",children:"Save All Changes"})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[u.jsx("div",{className:"w-full lg:w-64 space-y-1",children:Dc.map(ce=>u.jsxs("button",{onClick:()=>t(ce.id),className:`flex items-center gap-3 w-full px-4 py-3 rounded-xl font-medium transition-all ${e===ce.id?`bg-white ${ie.colors.primary[600]} shadow-sm border border-gray-100 ring-1 ring-[#ebf4ff]`:"text-gray-500 hover:bg-gray-100"}`,children:[ce.icon,ce.label]},ce.id))}),u.jsxs("div",{className:"flex-1 bg-white p-8 rounded-xl border border-gray-100 shadow-sm min-h-[500px]",children:[e==="company"&&u.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Company Profile"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"md:col-span-2 flex items-center gap-6 p-6 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden bg-white border",children:B.logo&&u.jsx("img",{src:B.logo,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Company Logo"}),u.jsx("input",{type:"file",id:"logo-input",className:"hidden",onChange:Te}),u.jsx(Be,{variant:"primary",size:"sm",onClick:()=>{var ce;return(ce=document.getElementById("logo-input"))==null?void 0:ce.click()},children:"Change Logo"})]})]}),u.jsxs("div",{className:"md:col-span-2 space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Company Name"}),u.jsx("input",{type:"text",value:B.name,onChange:ce=>te({...B,name:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Phone"}),u.jsx("input",{type:"text",value:B.phone,onChange:ce=>te({...B,phone:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Email"}),u.jsx("input",{type:"email",value:B.email,onChange:ce=>te({...B,email:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),u.jsxs("div",{className:"md:col-span-2 space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Office Address"}),u.jsx("textarea",{value:B.address,onChange:ce=>te({...B,address:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl h-24 focus:ring-2 focus:ring-[#3c5a82] transition-all"})]})]})]}),e==="order"&&u.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[u.jsxs("section",{className:"space-y-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Order Logic"}),u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Order Prefix"}),u.jsx("input",{type:"text",value:de.prefix,onChange:ce=>Z({...de,prefix:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl font-mono"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Next Number"}),u.jsx("input",{type:"number",value:de.nextNumber,onChange:ce=>Z({...de,nextNumber:parseInt(ce.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]}),u.jsxs("section",{className:"space-y-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Invoice Settings"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"md:col-span-1 space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Invoice Title"}),u.jsx("input",{type:"text",value:J.title,onChange:ce=>se({...J,title:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Logo Width (px)"}),u.jsx("input",{type:"number",value:J.logoWidth,onChange:ce=>se({...J,logoWidth:parseInt(ce.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Logo Height (px)"}),u.jsx("input",{type:"number",value:J.logoHeight,onChange:ce=>se({...J,logoHeight:parseInt(ce.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),u.jsxs("div",{className:"md:col-span-3 space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Invoice Footer"}),u.jsx("textarea",{value:J.footer,onChange:ce=>se({...J,footer:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl h-24"})]})]})]})]}),e==="defaults"&&u.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"System Defaults"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Account"}),u.jsxs("select",{value:ye.defaultAccountId,onChange:ce=>D({...ye,defaultAccountId:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[u.jsx("option",{value:"",children:"Select an account..."}),T.map(ce=>u.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Payment Method"}),u.jsxs("select",{value:ye.defaultPaymentMethod,onChange:ce=>D({...ye,defaultPaymentMethod:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[u.jsx("option",{value:"",children:"Select a payment method..."}),N.map(ce=>u.jsx("option",{value:ce.name,children:ce.name},ce.id))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Income Category"}),u.jsxs("select",{value:ye.incomeCategoryId,onChange:ce=>D({...ye,incomeCategoryId:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[u.jsx("option",{value:"",children:"Select a category..."}),S.filter(ce=>ce.type==="Income").map(ce=>u.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Expense Category"}),u.jsxs("select",{value:ye.expenseCategoryId,onChange:ce=>D({...ye,expenseCategoryId:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[u.jsx("option",{value:"",children:"Select a category..."}),S.filter(ce=>ce.type==="Expense").map(ce=>u.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Records Per Page"}),u.jsx("input",{type:"number",value:ye.recordsPerPage,onChange:ce=>D({...ye,recordsPerPage:parseInt(ce.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]}),e==="categories"&&u.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[u.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Categories"}),u.jsxs(Be,{onClick:()=>n("category"),variant:"primary",size:"md",children:[ae.Plus," Add"]})]}),_?u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading categories..."}):u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.map(ce=>u.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-gray-50/50 hover:shadow-sm transition-all",children:[u.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:ce.color}}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-bold text-gray-800",children:ce.name}),u.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:ce.type})]}),u.jsx("button",{onClick:()=>wt(ce.id),className:"text-red-500 hover:text-red-700 px-2",children:ae.Delete})]},ce.id)),S.length===0&&u.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:'No categories yet. Click "Add Category" to create one.'})]})]}),e==="payments"&&u.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[u.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Payment Methods"}),u.jsxs(Be,{onClick:()=>n("payment"),variant:"primary",size:"md",children:[ae.Plus," Add"]})]}),E?u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading payment methods..."}):u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.map(ce=>u.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50/50 hover:shadow-sm transition-all flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-bold text-gray-800",children:ce.name}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:ce.description||"No description"})]}),u.jsx("button",{onClick:()=>Cs(ce.id),className:"text-red-500 hover:text-red-700 px-2",children:ae.Delete})]},ce.id)),N.length===0&&u.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:'No payment methods yet. Click "Add Method" to create one.'})]})]}),e==="courier"&&u.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[u.jsxs("section",{className:"space-y-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4 flex items-center gap-2",children:[u.jsx("span",{className:"${theme.colors.secondary[600]}",children:"Steadfast"})," Logistics"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Base URL"}),u.jsx("input",{type:"text",value:R.steadfast.baseUrl,onChange:ce=>V({...R,steadfast:{...R.steadfast,baseUrl:ce.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"API Key"}),u.jsx("input",{type:"text",value:R.steadfast.apiKey,onChange:ce=>V({...R,steadfast:{...R.steadfast,apiKey:ce.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Secret Key"}),u.jsx("input",{type:"text",value:R.steadfast.secretKey,onChange:ce=>V({...R,steadfast:{...R.steadfast,secretKey:ce.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]})]}),u.jsxs("section",{className:"space-y-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4 flex items-center gap-2",children:[u.jsx("span",{className:"text-orange-600",children:"CarryBee"})," Fulfillment"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Base URL"}),u.jsx("input",{type:"text",value:R.carryBee.baseUrl,onChange:ce=>V({...R,carryBee:{...R.carryBee,baseUrl:ce.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client ID"}),u.jsx("input",{type:"text",value:R.carryBee.clientId,onChange:ce=>V({...R,carryBee:{...R.carryBee,clientId:ce.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client Secret"}),u.jsx("input",{type:"text",value:R.carryBee.clientSecret,onChange:ce=>V({...R,carryBee:{...R.carryBee,clientSecret:ce.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client Context"}),u.jsx("input",{type:"text",value:R.carryBee.clientContext,onChange:ce=>V({...R,carryBee:{...R.carryBee,clientContext:ce.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Store ID"}),u.jsxs("select",{value:R.carryBee.storeId,onChange:ce=>V({...R,carryBee:{...R.carryBee,storeId:ce.target.value}}),disabled:re||ke.length===0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("option",{value:"",children:re?"Loading stores...":ke.length===0?"Fill CarryBee credentials first":"Select Store"}),ke.map(ce=>u.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]})]})]})]})]})]})]}),r==="category"&&u.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[u.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>n(null)}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 p-8 space-y-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Category"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Name"}),u.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:H.name,onChange:ce=>fe({...H,name:ce.target.value})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Type"}),u.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:H.type,onChange:ce=>fe({...H,type:ce.target.value}),children:[u.jsx("option",{value:"Income",children:"Income"}),u.jsx("option",{value:"Expense",children:"Expense"}),u.jsx("option",{value:"Product",children:"Product"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Color"}),u.jsx("input",{type:"color",className:"w-full h-12 bg-gray-50 border rounded-xl cursor-pointer",value:H.color,onChange:ce=>fe({...H,color:ce.target.value})})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx(Be,{onClick:()=>n(null),variant:"ghost",className:"flex-1",children:"Cancel"}),u.jsx(Be,{onClick:vt,variant:"primary",size:"md",className:"flex-1",children:"Add Category"})]})]})]}),r==="payment"&&u.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[u.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>n(null)}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 p-8 space-y-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Payment Method"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Method Name"}),u.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:me.name,onChange:ce=>_e({...me,name:ce.target.value})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Description"}),u.jsx("textarea",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl h-24",value:me.description,onChange:ce=>_e({...me,description:ce.target.value})})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx(Be,{onClick:()=>n(null),variant:"ghost",className:"flex-1",children:"Cancel"}),u.jsx(Be,{onClick:Tr,variant:"primary",size:"md",className:"flex-1",children:"Add Method"})]})]})]})]})},yoe=()=>{const e=ft(),t=Ue(),r=Pr(),{data:n=[],isPending:i,error:s}=Io(),l=Ise(),d=async f=>{if(confirm("Are you sure you want to delete this customer?"))try{await l.mutateAsync(f),t.invalidateQueries({queryKey:["customers"]}),r.success("Customer deleted successfully")}catch(h){console.error("Failed to delete customer:",h),r.error("Failed to delete customer")}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Manage client relationships and account balances"})]}),u.jsx(Be,{onClick:()=>e("/customers/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Customer"})]}),s&&u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:u.jsxs("p",{className:"text-red-800",children:[u.jsx("strong",{children:"Error loading customers:"})," ",s]})}),u.jsx(Op,{columns:[{key:"name",label:"Customer Name",render:(f,h)=>u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-full bg-green-100 ${ie.colors.primary[600]} flex items-center justify-center font-bold text-white`,children:h.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("span",{className:"font-bold text-gray-900 block",children:h.name}),u.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:h.address})]})]})},{key:"phone",label:"Contact",render:f=>u.jsx("span",{className:"text-sm font-medium text-gray-700",children:f})},{key:"totalOrders",label:"Total Orders",align:"center",render:f=>u.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-bold text-gray-600",children:f})},{key:"dueAmount",label:"Due Amount",align:"right",render:f=>u.jsx("span",{className:`font-bold ${f>0?"text-red-500":"text-green-500"}`,children:we(f)})},{key:"id",label:"Actions",align:"right",render:f=>u.jsxs("div",{className:"justify-end flex items-center gap-2",children:[u.jsx(ui,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:h=>{h.stopPropagation(),e(`/customers/edit/${f}`)}}),u.jsx(ui,{icon:ae.Delete,variant:"danger",title:"Delete",onClick:h=>{h.stopPropagation(),d(f)}})]})}],data:n,loading:i,onRowClick:f=>e(`/customers/${f.id}`),emptyMessage:"No customers found"})]})},FP=()=>{const{id:e}=En(),t=ft(),r=!!e,[n,i]=j.useState({name:"",phone:"",address:""}),[s,l]=j.useState(null),{data:d,isPending:f,error:h}=sD(r?e:void 0),p=Mse(),y=Rse();j.useEffect(()=>{d&&i({name:d.name,phone:d.phone,address:d.address})},[d]);const g=async()=>{if(!n.name||!n.phone){l("Name and phone are required");return}l(null);try{if(r){const b={name:n.name,phone:n.phone,address:n.address};await y.mutateAsync({id:e,updates:b}),t("/customers")}else{const b={name:n.name,phone:n.phone,address:n.address,totalOrders:0,dueAmount:0};p.mutateAsync(b).then(()=>{t("/customers")},w=>{l(w instanceof Error?w.message:"Failed to create customer")})}}catch(b){console.error(`Failed to ${r?"update":"create"} customer:`,b),l(b instanceof Error?b.message:`Failed to ${r?"update":"create"} customer`)}};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:r?"Edit Customer":"New Customer"}),u.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 text-gray-500 font-bold hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"})]}),u.jsx("div",{className:"bg-white p-10 rounded-xl border border-gray-100 shadow-xl space-y-8",children:r&&f?u.jsx("div",{className:"text-center text-gray-500",children:"Loading customer..."}):u.jsxs(u.Fragment,{children:[s&&u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:u.jsx("p",{className:"text-sm font-bold text-red-600",children:s})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Full Name"}),u.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:n.name,onChange:b=>i({...n,name:b.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Phone Number"}),u.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:n.phone,onChange:b=>i({...n,phone:b.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Address"}),u.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 transition-all outline-none",value:n.address,onChange:b=>i({...n,address:b.target.value})})]}),u.jsx(Be,{onClick:g,variant:"primary",size:"lg",className:"w-full",disabled:p.isPending||y.isPending,children:p.isPending||y.isPending?r?"Updating...":"Adding...":r?"Update Customer":"Add Customer"})]})})]})},goe=()=>{const{id:e}=En(),t=ft(),[r,n]=j.useState(null),i=xe.currentUser,s=(i==null?void 0:i.role)||null,{data:l}=sD(e||""),{data:d=[]}=i9(e||""),f=Sy(),h=Pr();if(s===Ht.EMPLOYEE)return u.jsxs("div",{className:"p-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),u.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot view customer details. Contact an administrator for assistance."}),u.jsx(Be,{onClick:()=>t("/customers"),variant:"primary",children:"Back to Customers"})]});if(!l)return u.jsx("div",{className:"p-8 text-center text-gray-500",children:"Customer not found."});const p=g=>{switch(g){case Ge.ON_HOLD:return"bg-gray-100 text-gray-600";case Ge.PROCESSING:return"bg-[#e6f0ff] ${theme.colors.secondary[600]}";case Ge.PICKED:return"bg-purple-100 text-purple-600";case Ge.COMPLETED:return"bg-green-100 ${theme.colors.primary[600]}";case Ge.CANCELLED:return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}},y=async g=>{try{if(!l)return;const b=new Date,w=b.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),S=b.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),_={orderNumber:g.orderNumber,orderDate:new Date().toISOString().split("T")[0],customerId:l.id,createdBy:g.createdBy,status:Ge.ON_HOLD,items:g.items,subtotal:g.subtotal,discount:g.discount,shipping:g.shipping,total:g.total,paidAmount:0,history:{created:`Duplicated from order #${g.orderNumber} on ${w}, at ${S}`}};await f.mutateAsync(_),t("/orders")}catch(b){console.error("Failed to duplicate order",b),h.error("Failed to duplicate order: "+(b instanceof Error?b.message:"Unknown error"))}};return u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>t("/customers"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Profile"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx("button",{onClick:()=>t(`/customers/edit/${e}`),className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-700 hover:bg-gray-50",children:"Edit Profile"})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[u.jsx("div",{className:"w-24 h-24 rounded-full bg-[#ebf4ff] ${theme.colors.primary[600]} flex items-center justify-center font-black text-4xl mx-auto mb-4 border-2 border-[#c7dff5]",children:l.name.charAt(0)}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:l.name}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:l.phone}),u.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 space-y-4 text-left",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Address"}),u.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed",children:l.address})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Revenue"}),u.jsx("p",{className:"text-lg font-black text-gray-900",children:we(d.reduce((g,b)=>g+b.total,0))})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg shadow-[#0f2f57]/20/50 border border-gray-100 text-white",children:[u.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-1",children:"Due Amount"}),u.jsx("h4",{className:"text-lg font-black text-green-600",children:we(l.dueAmount)})]})]}),u.jsx("div",{className:"lg:col-span-3",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[u.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between",children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Order History"}),u.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[d.length," Records found"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[u.jsx("th",{className:"px-6 py-4",children:"Order Number"}),u.jsx("th",{className:"px-6 py-4",children:"Order Date"}),u.jsx("th",{className:"px-6 py-4",children:"Status"}),u.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-50",children:d.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-400 italic",children:"No orders found for this customer."})}):d.map(g=>u.jsxs("tr",{onMouseEnter:()=>n(g.id),onMouseLeave:()=>n(null),onClick:()=>t(`/orders/${g.id}`),className:"group relative hover:bg-[#ebf4ff]/30 cursor-pointer transition-colors",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("span",{className:"font-bold text-gray-900",children:["#",g.orderNumber]})}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:g.orderDate}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${p(g.status)}`,children:g.status})}),u.jsx("td",{className:"px-6 py-4 text-right",children:u.jsx("span",{className:"font-black text-gray-900",children:we(g.total)})}),r===g.id&&u.jsx("td",{className:"absolute inset-y-0 right-0 flex items-center pr-6 bg-gradient-to-l from-emerald-50 via-emerald-50 to-transparent",children:u.jsxs("div",{className:"flex items-center gap-1 bg-white p-1 rounded-lg shadow-lg border border-[#c7dff5] animate-in fade-in slide-in-from-right-2 duration-200",onClick:b=>b.stopPropagation(),children:[u.jsx("button",{title:"Edit",onClick:()=>t(`/orders/edit/${g.id}`),className:"p-2 text-gray-500 hover:${theme.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors",children:ae.Edit}),u.jsx("button",{title:"Duplicate",onClick:()=>y(g),className:"p-2 text-gray-500 hover:${theme.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors",children:ae.Duplicate})]})})]},g.id))})]})})]})})]})]})},voe=()=>{const e=ft(),t=Ue(),r=Pr(),{data:n=[],isPending:i}=jc(),s=Qse(),l=async d=>{if(confirm("Are you sure you want to delete this vendor?"))try{await s.mutateAsync(d),t.invalidateQueries({queryKey:["vendors"]}),r.success("Vendor deleted successfully")}catch(f){console.error("Failed to delete vendor:",f),r.error("Failed to delete vendor")}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vendors"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Manage suppliers and procurement channels"})]}),u.jsx(Be,{onClick:()=>e("/vendors/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Vendor"})]}),u.jsx(Op,{columns:[{key:"name",label:"Vendor Name",render:(d,f)=>u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold",children:f.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("span",{className:"font-bold text-gray-900 block",children:f.name}),u.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:f.address})]})]})},{key:"phone",label:"Contact",render:d=>u.jsx("span",{className:"text-sm font-medium text-gray-700",children:d})},{key:"totalPurchases",label:"Purchases",align:"center",render:d=>u.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-bold text-gray-600",children:d})},{key:"dueAmount",label:"Balance Payable",align:"right",render:d=>u.jsx("span",{className:`font-bold ${d>0?"text-red-500":"text-green-500"}`,children:we(d)})},{key:"id",label:"Actions",align:"right",render:d=>u.jsxs("div",{className:"justify-end flex items-center gap-2",children:[u.jsx(ui,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:f=>{f.stopPropagation(),e(`/vendors/edit/${d}`)}}),u.jsx(ui,{icon:ae.Delete,variant:"danger",title:"Delete",onClick:f=>{f.stopPropagation(),l(d)}})]})}],data:n,loading:i,onRowClick:d=>e(`/vendors/${d.id}`),emptyMessage:"No vendors found"})]})},HP=()=>{const{id:e}=En(),t=ft(),{isLoading:r}=vp(),n=!!e,[i,s]=j.useState({name:"",phone:"",address:""}),[l,d]=j.useState(null),{data:f,isPending:h,error:p}=cD(n?e:void 0),y=Fse(),g=Hse();j.useEffect(()=>{f&&s({name:f.name,phone:f.phone,address:f.address})},[f]);const b=async()=>{if(r){d("Authenticating... Please wait");return}if(!i.name||!i.phone){d("Business name and phone are required");return}d(null);try{if(n){const w={name:i.name,phone:i.phone,address:i.address};await g.mutateAsync({id:e,updates:w}),t("/vendors")}else{const w={name:i.name,phone:i.phone,address:i.address,totalPurchases:0,dueAmount:0};y.mutateAsync(w).then(()=>{t("/vendors")},S=>{d(S instanceof Error?S.message:"Failed to create vendor")})}}catch(w){console.error(`Failed to ${n?"update":"create"} vendor:`,w),d(w instanceof Error?w.message:`Failed to ${n?"update":"create"} vendor`)}};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:n?"Edit Vendor":"New Vendor"}),u.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 text-gray-500 font-bold hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"})]}),u.jsx("div",{className:"bg-white p-10 rounded-xl border border-gray-100 shadow-xl space-y-8",children:n&&h?u.jsx("div",{className:"text-center text-gray-500",children:"Loading vendor..."}):u.jsxs(u.Fragment,{children:[l&&u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:u.jsx("p",{className:"text-sm font-bold text-red-600",children:l})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Business Name"}),u.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-blue-500 focus:bg-white rounded-lg font-bold transition-all outline-none",value:i.name,onChange:w=>s({...i,name:w.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Contact Person / Phone"}),u.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-blue-500 focus:bg-white rounded-lg font-bold transition-all outline-none",value:i.phone,onChange:w=>s({...i,phone:w.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Office Address"}),u.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-blue-500 focus:bg-white rounded-lg font-medium h-32 transition-all outline-none",value:i.address,onChange:w=>s({...i,address:w.target.value})})]}),u.jsx(Be,{onClick:b,variant:"primary",size:"lg",className:"w-full",disabled:y.isPending||g.isPending,children:y.isPending||g.isPending?n?"Updating...":"Adding...":n?"Update Vendor":"Add Vendor"})]})})]})},boe=()=>{const{id:e}=En(),t=ft(),{data:r,isPending:n}=cD(e||""),{data:i=[]}=$d(),[s,l]=j.useState(null);if(n)return u.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading vendor details..."});if(!r)return u.jsx("div",{className:"p-8 text-center text-gray-500",children:"Vendor not found."});const d=i.filter(h=>h.vendorId===r.id),f=h=>{switch(h){case nn.ON_HOLD:return"bg-gray-100 text-gray-600";case nn.PROCESSING:return"bg-blue-100 text-blue-600";case nn.RECEIVED:return"bg-green-100 text-green-600";default:return"bg-gray-100 text-gray-600"}};return u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>t("/vendors"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vendor Profile"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-700 hover:bg-gray-50",children:"Edit Profile"}),u.jsx("button",{className:`px-4 py-2 ${ie.colors.primary[600]} text-white rounded-xl font-bold hover:${ie.colors.primary[700]} shadow-md`,children:"Purchase Statement"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[u.jsx("div",{className:`w-24 h-24 rounded-full bg-[#e6f0ff] ${ie.colors.primary.text} flex items-center justify-center font-black text-4xl mx-auto mb-4 border-2 border-[#c7dff5]`,children:r.name.charAt(0)}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r.name}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r.phone}),u.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 space-y-4 text-left",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Office Address"}),u.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed",children:r.address})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Procurement"}),u.jsx("p",{className:"text-lg font-black text-gray-900",children:we(d.reduce((h,p)=>h+p.total,0))})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg shadow-[#0f2f57]/20 text-white",children:[u.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-1",children:"Total Payable"}),u.jsx("h4",{className:"text-lg font-black text-red-600",children:we(r.dueAmount)})]})]}),u.jsx("div",{className:"lg:col-span-3",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[u.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between",children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Purchase Bills"}),u.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[d.length," Invoices"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[u.jsx("th",{className:"px-6 py-4",children:"Bill Number"}),u.jsx("th",{className:"px-6 py-4",children:"Bill Date"}),u.jsx("th",{className:"px-6 py-4",children:"Status"}),u.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-50",children:d.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-400 italic",children:"No purchase bills found for this vendor."})}):d.map(h=>u.jsxs("tr",{onMouseEnter:()=>l(h.id),onMouseLeave:()=>l(null),onClick:()=>t(`/bills/${h.id}`),className:"group relative hover:bg-blue-50/30 cursor-pointer transition-colors",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("span",{className:"font-bold text-gray-900",children:["#",h.billNumber]})}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:h.billDate}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${f(h.status)}`,children:h.status})}),u.jsx("td",{className:"px-6 py-4 text-right",children:u.jsx("span",{className:"font-black text-gray-900",children:we(h.total)})}),s===h.id&&u.jsx("td",{className:"absolute inset-y-0 right-0 flex items-center pr-6 bg-gradient-to-l from-blue-50 via-blue-50 to-transparent",children:u.jsx("div",{className:"flex items-center gap-1 bg-white p-1 rounded-lg shadow-lg border border-[#c7dff5] animate-in fade-in slide-in-from-right-2 duration-200",onClick:p=>p.stopPropagation(),children:u.jsx("button",{title:"Edit",onClick:()=>t(`/bills/edit/${h.id}`),className:`p-2 text-gray-500 hover:${ie.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors`,children:ae.Edit})})})]},h.id))})]})})]})})]})]})},xoe=({title:e,description:t,icon:r,color:n,to:i})=>{const s=ft();return u.jsxs("button",{onClick:()=>s(i),className:"flex items-start gap-4 p-6 bg-white rounded-lg border border-gray-100 shadow-sm hover:shadow-md hover:border-[#c7dff5] transition-all text-left w-full group",children:[u.jsx("div",{className:`p-4 rounded-lg ${n} transition-transform group-hover:scale-110 duration-300`,children:r}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:e}),u.jsx("p",{className:"text-sm text-gray-500 mt-1 leading-relaxed",children:t}),u.jsxs("div",{className:`mt-4 flex items-center gap-1 ${ie.colors.primary[600]} text-xs font-bold uppercase tracking-widest opacity-0 group-hover:opacity-100 transition-opacity`,children:["View Report ",ae.ChevronRight]})]})]})},woe=()=>{const e=[{title:"Expense Summary",description:"Breakdown of your business spending by category and vendor.",icon:ae.Delete,color:"bg-red-50 text-red-600",to:"/reports/expense"},{title:"Income Summary",description:"Analysis of your revenue streams and payment collections.",icon:ae.PlusCircle,color:`bg-[#ebf4ff] ${ie.colors.primary[600]}`,to:"/reports/income"},{title:"Income vs Expense",description:"Visual comparison of cash inflows and outflows over time.",icon:ae.Transfer,color:`bg-[#e6f0ff] ${ie.colors.secondary[600]}`,to:"/reports/income-vs-expense"},{title:"Profit and Loss",description:"Standard P&L statement to track net business profitability.",icon:ae.Reports,color:"bg-purple-50 text-purple-600",to:"/reports/profit-loss"}];return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Financial Reports"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Deep dive into your business metrics and performance."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,r)=>u.jsx(xoe,{...t},r))})]})},joe=()=>{const e=ft(),{data:t=[]}=Bd(),{data:r=[]}=jc(),{data:n=[]}=_s(),i=t.filter(h=>h.type==="Expense"),s={};i.forEach(h=>{s[h.category]=(s[h.category]||0)+h.amount});const l=Object.entries(s).map(([h,p])=>({name:h,value:p})),d=["#EF4444","#F97316","#F59E0B","#8B5CF6","#EC4899","#3B82F6"],f=()=>{const h=`Date,Category,Contact,Account,Amount,Description
`,p=i.map(w=>{var N,E;const S=((N=r.find(A=>A.id===w.contactId))==null?void 0:N.name)||"N/A",_=((E=n.find(A=>A.id===w.accountId))==null?void 0:E.name)||"N/A";return`${w.date},${w.category},"${S}","${_}",${w.amount},"${w.description}"`}).join(`
`),y=new Blob([h+p],{type:"text/csv"}),g=window.URL.createObjectURL(y),b=document.createElement("a");b.setAttribute("hidden",""),b.setAttribute("href",g),b.setAttribute("download","expense_summary.csv"),document.body.appendChild(b),b.click(),document.body.removeChild(b)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Expense Summary"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-xl font-bold text-sm text-gray-700 hover:bg-gray-50",children:[ae.Download," Export CSV"]}),u.jsx(Be,{variant:"primary",size:"sm",icon:ae.Print,children:"Export Image"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("h3",{className:"font-bold text-gray-800 mb-6",children:"Expenses by Category"}),u.jsx("div",{className:"h-[350px]",children:u.jsx(Vl,{width:"100%",height:"100%",children:u.jsxs(m5,{data:l,layout:"vertical",margin:{left:40,right:40},children:[u.jsx(Sd,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f1f5f9"}),u.jsx(Nd,{type:"number",axisLine:!1,tickLine:!1,tick:{fontSize:10}}),u.jsx(Od,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),u.jsx(Yl,{formatter:h=>we(h),contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),u.jsx(So,{dataKey:"value",radius:[0,4,4,0],barSize:30,children:l.map((h,p)=>u.jsx(zo,{fill:d[p%d.length]},`cell-${p}`))})]})})})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[u.jsx("h3",{className:"font-bold text-gray-800",children:"Key Statistics"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[u.jsx("p",{className:"text-[10px] font-bold text-red-400 uppercase tracking-widest",children:"Total Outflow"}),u.jsx("h4",{className:"text-3xl font-black text-red-600",children:we(i.reduce((h,p)=>h+p.amount,0))})]}),u.jsx("div",{className:"divide-y divide-gray-50",children:l.sort((h,p)=>p.value-h.value).slice(0,5).map((h,p)=>u.jsxs("div",{className:"py-3 flex justify-between items-center",children:[u.jsx("span",{className:"text-sm font-medium text-gray-500",children:h.name}),u.jsx("span",{className:"text-sm font-bold text-gray-900",children:we(h.value)})]},p))})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 shadow-sm overflow-hidden",children:[u.jsx("div",{className:"p-6 border-b border-gray-50",children:u.jsx("h3",{className:"font-bold text-gray-900",children:"Recent Expense Log"})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase",children:[u.jsx("th",{className:"px-6 py-4",children:"Date"}),u.jsx("th",{className:"px-6 py-4",children:"Category"}),u.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-50",children:i.slice(0,10).map(h=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:h.date}),u.jsx("td",{className:"px-6 py-4 text-sm font-bold text-gray-800",children:h.category}),u.jsx("td",{className:"px-6 py-4 text-right font-black text-red-600",children:we(h.amount)})]},h.id))})]})})]})]})},Soe=()=>{const e=ft(),{data:t=[]}=Bd(),{data:r=[]}=Io(),n=t.filter(d=>d.type==="Income"),i={};n.forEach(d=>{i[d.category]=(i[d.category]||0)+d.amount});const s=Object.entries(i).map(([d,f])=>({name:d,value:f})),l=["#10B981","#34D399","#6EE7B7","#A7F3D0","#D1FAE5"];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Income Summary"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-xl font-bold text-sm text-gray-700 hover:bg-gray-50",children:[ae.Download," Export CSV"]}),u.jsx(Be,{variant:"primary",size:"sm",icon:ae.Print,children:"Export Image"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm flex flex-col items-center",children:[u.jsx("h3",{className:"font-bold text-gray-800 self-start mb-6",children:"Revenue Mix"}),u.jsx("div",{className:"w-full h-[300px]",children:u.jsx(Vl,{width:"100%",height:"100%",children:u.jsxs(y5,{children:[u.jsx(k1,{data:s,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:s.map((d,f)=>u.jsx(zo,{fill:l[f%l.length]},`cell-${f}`))}),u.jsx(Yl,{formatter:d=>we(d)}),u.jsx(Xp,{verticalAlign:"bottom",align:"center"})]})})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:`${ie.colors.primary[600]} p-8 rounded-lg text-white shadow-lg shadow-[#0f2f57]/20`,children:[u.jsx("p",{className:"text-[#c7dff5] text-xs font-bold uppercase tracking-widest mb-1",children:"Total Revenue Collected"}),u.jsx("h4",{className:"text-4xl font-black",children:we(n.reduce((d,f)=>d+f.amount,0))}),u.jsxs("div",{className:"mt-6 p-4 bg-white/10 rounded-xl flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium",children:"Avg Transaction Size"}),u.jsx("span",{className:"font-bold",children:we(n.length?n.reduce((d,f)=>d+f.amount,0)/n.length:0)})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Top Customers"}),u.jsx("div",{className:"space-y-4",children:r.slice(0,3).map((d,f)=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center font-bold text-xs",children:d.name.charAt(0)}),u.jsx("span",{className:"text-sm font-semibold text-gray-700",children:d.name})]}),u.jsx("span",{className:`text-sm font-black ${ie.colors.primary[600]}`,children:we(d.totalOrders*1200)})," "]},f))})]})]})]})]})},_oe=()=>{const e=ft(),r=Object.entries({Jan:{income:45e3,expense:32e3},Feb:{income:52e3,expense:28e3},Mar:{income:38e3,expense:45e3},Apr:{income:61e3,expense:39e3},May:{income:55e3,expense:41e3},Jun:{income:72e3,expense:5e4}}).map(([n,i])=>({name:n,income:i.income,expense:i.expense,profit:i.income-i.expense}));return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Income vs Expense Trend"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx(Be,{variant:"primary",size:"sm",icon:ae.Print,children:"Export Full Report"})})]}),u.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("h3",{className:"font-bold text-gray-800 mb-8",children:"Cash Flow Dynamics (Last 6 Months)"}),u.jsx("div",{className:"h-[400px]",children:u.jsx(Vl,{width:"100%",height:"100%",children:u.jsxs(g5,{data:r,children:[u.jsx(Sd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),u.jsx(Nd,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12}}),u.jsx(Od,{axisLine:!1,tickLine:!1,tick:{fontSize:12}}),u.jsx(Yl,{formatter:n=>we(n),contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),u.jsx(Xp,{verticalAlign:"top",align:"right",height:36}),u.jsx(So,{dataKey:"income",fill:"#10B981",radius:[4,4,0,0],name:"Total Income",barSize:40}),u.jsx(So,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],name:"Total Expense",barSize:40}),u.jsx(I1,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"},name:"Net Cash Flow"})]})})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{label:"Highest Revenue Month",value:"June",amount:72e3,color:`${ie.colors.primary[600]}`},{label:"Least Expense Month",value:"February",amount:28e3,color:"${theme.colors.secondary[600]}"},{label:"Average Monthly Profit",value:"Steady Growth",amount:18e3,color:"text-purple-600"}].map((n,i)=>u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:n.label}),u.jsx("h4",{className:"text-xl font-bold text-gray-900 mt-1",children:n.value}),u.jsx("p",{className:`text-lg font-black mt-2 ${n.color}`,children:we(n.amount)})]},i))})]})},Ga=({label:e,amount:t,isBold:r,isTotal:n,indent:i})=>u.jsxs("div",{className:`flex justify-between py-2 ${r?"font-bold text-gray-900":"text-gray-600"} ${n?"border-t-2 border-gray-100 pt-4 mt-2":""} ${i?"pl-6":""}`,children:[u.jsx("span",{className:"text-sm",children:e}),u.jsx("span",{className:"text-sm font-black",children:we(t)})]}),Noe=()=>{const e=ft(),{data:t=[]}=Ep(),{data:r=[]}=$d(),{data:n=[]}=Bd(),i=t.reduce((p,y)=>p+y.total,0),s=r.reduce((p,y)=>p+y.total,0),l=i-s,d=n.filter(p=>p.type==="Expense"&&p.category!=="Purchases"),f=d.reduce((p,y)=>p+y.amount,0),h=l-f;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profit and Loss Statement"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx(Be,{variant:"primary",size:"sm",icon:ae.Print,children:"Print Statement"})})]}),u.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"p-8 bg-gray-50 border-b border-gray-100 text-center",children:[xe.settings.company.logo&&u.jsx("img",{src:xe.settings.company.logo,className:"w-16 h-16 rounded-xl mx-auto mb-4 grayscale opacity-50"}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:xe.settings.company.name}),u.jsxs("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest mt-1",children:["For the period ending ",new Date().toLocaleDateString("en-BD",{month:"long",year:"numeric"})]})]}),u.jsxs("div",{className:"p-8 space-y-2",children:[u.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Revenue"}),u.jsx(Ga,{label:"Gross Sales",amount:i}),u.jsx(Ga,{label:"Other Operating Income",amount:0}),u.jsx(Ga,{label:"Total Revenue",amount:i,isBold:!0,isTotal:!0}),u.jsxs("div",{className:"pt-8",children:[u.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Cost of Goods Sold"}),u.jsx(Ga,{label:"Purchases",amount:s}),u.jsx(Ga,{label:"Total COGS",amount:s,isBold:!0,isTotal:!0})]}),u.jsx("div",{className:"pt-8",children:u.jsx(Ga,{label:"Gross Profit",amount:l,isBold:!0})}),u.jsxs("div",{className:"pt-8",children:[u.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Operating Expenses"}),d.slice(0,5).map((p,y)=>u.jsx(Ga,{label:p.category,amount:p.amount,indent:!0},y)),d.length>5&&u.jsx(Ga,{label:"Other Miscellaneous",amount:d.slice(5).reduce((p,y)=>p+y.amount,0),indent:!0}),u.jsx(Ga,{label:"Total Operating Expenses",amount:f,isBold:!0,isTotal:!0})]}),u.jsx("div",{className:"pt-12",children:u.jsxs("div",{className:`p-6 rounded-lg flex justify-between items-center ${h>=0?ie.colors.primary[600]:"bg-red-600"} text-white shadow-xl`,children:[u.jsx("span",{className:"text-lg font-black uppercase tracking-widest",children:"Net Profit / Loss"}),u.jsx("span",{className:"text-3xl font-black",children:we(h)})]})})]}),u.jsx("div",{className:"p-8 text-center text-[10px] text-gray-300 italic border-t border-gray-50",children:"This report is generated automatically by BD Hatbela Financial Management System."})]})]})},QP=({order:e,customer:t,products:r,companySettings:n,invoiceSettings:i})=>u.jsxs("div",{className:"space-y-5 print:space-y-4 text-gray-900",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[((n==null?void 0:n.logo)||xe.settings.company.logo)&&u.jsx("img",{src:(n==null?void 0:n.logo)||xe.settings.company.logo,className:"rounded-lg object-cover mb-4",style:{width:(i==null?void 0:i.logoWidth)||xe.settings.invoice.logoWidth,height:(i==null?void 0:i.logoHeight)||xe.settings.invoice.logoHeight},alt:"Company Logo"}),u.jsx("h1",{className:"text-xl font-black uppercase tracking-tighter",children:(n==null?void 0:n.name)||xe.settings.company.name}),u.jsxs("div",{className:"mt-2 text-xs text-gray-400 font-medium space-y-1 print:text-gray-600",children:[u.jsx("p",{children:(n==null?void 0:n.address)||xe.settings.company.address}),u.jsxs("p",{children:[(n==null?void 0:n.phone)||xe.settings.company.phone," "," ",(n==null?void 0:n.email)||xe.settings.company.email]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("h2",{className:"text-3xl font-black text-gray-300 uppercase leading-none mb-2 print:text-gray-400",children:(i==null?void 0:i.title)||xe.settings.invoice.title}),u.jsxs("div",{className:"space-y-1.5 print:space-y-1",children:[u.jsxs("p",{className:"text-sm font-bold text-gray-900 print:text-gray-800",children:[u.jsx("span",{className:"text-gray-400 font-medium",children:"Order No:"}),e.orderNumber]}),u.jsxs("p",{className:"text-sm font-bold text-gray-900 print:text-gray-800",children:[u.jsx("span",{className:"text-gray-400 font-medium",children:"Date:"}),new Date(e.orderDate).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 gap-12 border-t border-gray-100 py-4 print:border-gray-300 print:py-3",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 print:mb-2",children:"Billed To"}),u.jsx("h3",{className:"text-md font-black text-gray-900 print:text-gray-800",children:t==null?void 0:t.name}),u.jsx("p",{className:"text-sm text-gray-500 leading-relaxed print:text-gray-600",children:t==null?void 0:t.address}),u.jsx("p",{className:"text-sm font-bold mt-2 print:mt-1",children:t==null?void 0:t.phone})]})}),u.jsxs("table",{className:"w-full text-left print:text-gray-800",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b-2 border-gray-100 print:border-gray-300",children:[u.jsx("th",{className:"py-4 text-sm font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Item Description"}),u.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Rate"}),u.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Qty"}),u.jsx("th",{className:"py-4 text-sm text-right font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Total"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-50 print:divide-gray-300",children:e.items.map((s,l)=>{const d=r.find(f=>f.id===s.productId);return u.jsxs("tr",{className:"group",children:[u.jsx("td",{className:"py-6 print:py-3",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:d==null?void 0:d.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm print:w-10 print:h-10 print:rounded-full print:border-gray-300 print:shadow-none",alt:s.productName}),u.jsx("span",{className:"font-bold text-gray-900 print:text-sm",children:s.productName})]})}),u.jsx("td",{className:"py-6 text-center text-gray-500 font-bold print:py-3 print:text-sm",children:we(s.rate)}),u.jsx("td",{className:"py-6 text-center text-gray-500 font-bold print:py-3 print:text-sm",children:s.quantity}),u.jsx("td",{className:"py-6 text-right font-black text-gray-900 print:py-3 print:text-sm",children:we(s.amount)})]},l)})})]}),u.jsx("div",{className:"flex justify-end pt-6 print:pt-4",children:u.jsxs("div",{className:"w-full max-w-xs space-y-4 print:space-y-2 print:text-sm",children:[u.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[u.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Subtotal"}),u.jsx("span",{className:"font-bold text-gray-900 print:text-gray-800",children:we(e.subtotal)})]}),e.discount>0&&u.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[u.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Discount"}),u.jsxs("span",{className:"font-bold text-red-500 print:text-red-600",children:["-",we(e.discount)]})]}),e.shipping>0&&u.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[u.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Shipping"}),u.jsx("span",{className:"font-bold text-gray-900 print:text-gray-800",children:we(e.shipping)})]}),u.jsxs("div",{className:"flex justify-between items-center py-6 border-t-2 border-[#0f2f57] print:py-3 print:border-t print:border-gray-400",children:[u.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter print:text-gray-800",children:"Net Total"}),u.jsx("span",{className:"font-black text-gray-900 print:text-gray-800",children:we(e.total)})]})]})}),e.notes&&u.jsxs("div",{className:"bg-gray-50 p-4 rounded-[10px] border border-gray-100 print:bg-white print:p-3 print:rounded-lg print:border-gray-300",children:[u.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase tracking-widest mb-2 print:text-gray-500 print:mb-1",children:"Terms & Notes"}),u.jsx("p",{className:"text-xs text-gray-600 font-medium italic leading-relaxed print:text-gray-700",children:e.notes})]})]}),Ooe=()=>{const{id:e}=En(),{data:t,isPending:r}=Dw(e||""),{data:n=[]}=Io(),{data:i=[]}=Ns(),{data:s=[]}=Ud(),{data:l}=Ap(),{data:d}=Cp(),f=j.useRef(!1),h=t?n.find(p=>p.id===t.customerId):void 0;return t&&i.find(p=>p.id===t.createdBy),j.useEffect(()=>{t&&!r&&!f.current&&(f.current=!0,noe())},[t,r]),r||!t?u.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading details..."}):u.jsxs("div",{className:"min-h-screen bg-white print:bg-white",children:[u.jsxs("div",{className:"space-y-0 print:space-y-0",children:[u.jsx("div",{className:"bg-white p-6 lg:p-10 print:p-6 min-h-screen print:min-h-fit",children:u.jsx(QP,{order:t,customer:h,products:s,companySettings:l,invoiceSettings:d})}),u.jsx("div",{className:"bg-white p-6 lg:p-10 print:p-6 min-h-screen print:min-h-fit",style:{pageBreakBefore:"always"},children:u.jsx(QP,{order:t,customer:h,products:s,companySettings:l,invoiceSettings:d})})]}),u.jsx("style",{children:`
        @media print {
          body {
            margin: 0;
            padding: 0;
            background: white;
          }
          .no-print {
            display: none !important;
          }
          table {
            page-break-inside: avoid;
          }
          tr {
            page-break-inside: avoid;
          }
          @page {
            margin: 0.25in;
            size: A4;
          }
          .print:page-break-avoid {
            page-break-inside: avoid;
          }
          .grid {
            page-break-inside: avoid;
          }
        }
      `})]})},Eoe=new JB({defaultOptions:{queries:{staleTime:300*1e3,gcTime:1800*1e3,retry:2,retryDelay:e=>Math.min(1e3*2**e,1e4),refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1},mutations:{retry:1,retryDelay:1e3}}}),Aoe=({user:e,profile:t,isLoading:r})=>{const n=e&&t;return u.jsxs(W$,{children:[u.jsx(Ke,{path:"/login",element:n?u.jsx($e,{to:"/dashboard",replace:!0}):u.jsx(J8,{})}),u.jsx(Ke,{path:"/",element:e?u.jsx($e,{to:"/dashboard",replace:!0}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/dashboard",element:e?u.jsx(Je,{children:u.jsx(Dse,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/orders",element:e?u.jsx(Je,{children:u.jsx(aoe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/orders/new",element:e?u.jsx(Je,{children:u.jsx(UP,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/orders/edit/:id",element:e?u.jsx(Je,{children:u.jsx(UP,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/orders/:id",element:e?u.jsx(Je,{children:u.jsx(ioe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/print-order/:id",element:e?u.jsx(Ooe,{}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/bills",element:e?u.jsx(Je,{children:u.jsx(soe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/bills/new",element:e?u.jsx(Je,{children:u.jsx(zP,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/bills/edit/:id",element:e?u.jsx(Je,{children:u.jsx(zP,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/bills/:id",element:e?u.jsx(Je,{children:u.jsx(ooe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/banking/accounts",element:e?u.jsx(Je,{children:u.jsx(loe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/banking/transfer",element:e?u.jsx(Je,{children:u.jsx(doe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/banking/transactions",element:e?u.jsx(Je,{children:u.jsx(coe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/transactions",element:e?u.jsx($e,{to:"/banking/transactions",replace:!0}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/transactions/new/:type",element:e?u.jsx(Je,{children:u.jsx(uoe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/customers",element:e?u.jsx(Je,{children:u.jsx(yoe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/customers/new",element:e?u.jsx(Je,{children:u.jsx(FP,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/customers/edit/:id",element:e?u.jsx(Je,{children:u.jsx(FP,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/customers/:id",element:e?u.jsx(Je,{children:u.jsx(goe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/vendors",element:e?u.jsx(Je,{children:u.jsx(voe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/vendors/new",element:e?u.jsx(Je,{children:u.jsx(HP,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/vendors/edit/:id",element:e?u.jsx(Je,{children:u.jsx(HP,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/vendors/:id",element:e?u.jsx(Je,{children:u.jsx(boe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/products",element:e?u.jsx(Je,{children:u.jsx(foe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/products/new",element:e?u.jsx(Je,{children:u.jsx(qP,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/products/edit/:id",element:e?u.jsx(Je,{children:u.jsx(qP,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/users",element:e?u.jsx(Je,{children:u.jsx(hoe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/users/new",element:e?u.jsx(Je,{children:u.jsx(KP,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/users/edit/:id",element:e?u.jsx(Je,{children:u.jsx(KP,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/users/:id",element:e?u.jsx(Je,{children:u.jsx(moe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/reports",element:e?u.jsx(Je,{children:u.jsx(woe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/reports/expense",element:e?u.jsx(Je,{children:u.jsx(joe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/reports/income",element:e?u.jsx(Je,{children:u.jsx(Soe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/reports/income-vs-expense",element:e?u.jsx(Je,{children:u.jsx(_oe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/reports/profit-loss",element:e?u.jsx(Je,{children:u.jsx(Noe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"/settings",element:e?u.jsx(Je,{children:u.jsx(poe,{})}):u.jsx($e,{to:"/login",replace:!0})}),u.jsx(Ke,{path:"*",element:e?u.jsx($e,{to:"/dashboard",replace:!0}):u.jsx($e,{to:"/login",replace:!0})})]})},Coe=()=>{const{user:e,profile:t,isLoading:r}=vp();return console.log("[App] Render - user:",!!e,"profile:",!!t,"isLoading:",r),r?(console.log("[App] Rendering loading screen"),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"inline-block p-4",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),u.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading..."})]})})):u.jsx(Aoe,{user:e,profile:t,isLoading:r})},koe=()=>(console.log("[App] Root component rendering - setting up providers"),u.jsx(e6,{client:Eoe,children:u.jsx(Vz,{children:u.jsx(Gz,{children:u.jsxs(xB,{children:[u.jsx(Coe,{}),u.jsx(Z8,{})]})})})})),w5=document.getElementById("root");if(!w5)throw new Error("Could not find root element to mount to");const Poe=JL.createRoot(w5);Poe.render(u.jsx(Lr.StrictMode,{children:u.jsx(koe,{})}));window.__testSupabase={async testCustomers(){console.log(" Testing customer fetch...");try{const e=await tD();return console.log(" Success! Customers:",e),e}catch(e){throw console.error(" Error:",e),e}},async testConnection(){console.log(" Testing Supabase connection...");try{const{data:e,error:t}=await ve.auth.getSession();if(t)throw t;return console.log(" Connected! Session:",e),e}catch(e){throw console.error(" Connection error:",e),e}},help(){console.log("Available test functions:"),console.log("  __testSupabase.testCustomers() - Fetch customers from DB"),console.log("  __testSupabase.testConnection() - Check auth session"),console.log("  __testSupabase.help() - Show this help")}};console.log(" Tip: Type __testSupabase.help() in console for test commands");
