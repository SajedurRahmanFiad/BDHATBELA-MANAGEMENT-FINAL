var V3=Object.defineProperty;var qO=e=>{throw TypeError(e)};var G3=(e,t,r)=>t in e?V3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Kv=(e,t,r)=>G3(e,typeof t!="symbol"?t+"":t,r),Fv=(e,t,r)=>t.has(e)||qO("Cannot "+r);var U=(e,t,r)=>(Fv(e,t,"read from private field"),r?r.call(e):t.get(e)),Pe=(e,t,r)=>t.has(e)?qO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),we=(e,t,r,n)=>(Fv(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ke=(e,t,r)=>(Fv(e,t,"access private method"),r);var Ih=(e,t,r,n)=>({set _(a){we(e,t,a,r)},get _(){return U(e,t,n)}});function Y3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function Ta(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Goe(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Qv={exports:{}},zu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KO;function W3(){if(KO)return zu;KO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return zu.Fragment=t,zu.jsx=r,zu.jsxs=r,zu}var FO;function X3(){return FO||(FO=1,Qv.exports=W3()),Qv.exports}var c=X3(),Hv={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QO;function Z3(){if(QO)return Be;QO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=y&&I[y]||I["@@iterator"],typeof I=="function"?I:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function N(I,K,he){this.props=I,this.context=K,this.refs=_,this.updater=he||x}N.prototype.isReactComponent={},N.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},N.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function O(){}O.prototype=N.prototype;function A(I,K,he){this.props=I,this.context=K,this.refs=_,this.updater=he||x}var C=A.prototype=new O;C.constructor=A,S(C,N.prototype),C.isPureReactComponent=!0;var T=Array.isArray;function P(){}var D={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function L(I,K,he){var ge=he.ref;return{$$typeof:e,type:I,key:K,ref:ge!==void 0?ge:null,props:he}}function Y(I,K){return L(I.type,K,I.props)}function Q(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function q(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(he){return K[he]})}var ee=/\/+/g;function H(I,K){return typeof I=="object"&&I!==null&&I.key!=null?q(""+I.key):K.toString(36)}function oe(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(P,P):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function B(I,K,he,ge,xe){var je=typeof I;(je==="undefined"||je==="boolean")&&(I=null);var Ne=!1;if(I===null)Ne=!0;else switch(je){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(I.$$typeof){case e:case t:Ne=!0;break;case p:return Ne=I._init,B(Ne(I._payload),K,he,ge,xe)}}if(Ne)return xe=xe(I),Ne=ge===""?"."+H(I,0):ge,T(xe)?(he="",Ne!=null&&(he=Ne.replace(ee,"$&/")+"/"),B(xe,K,he,"",function(de){return de})):xe!=null&&(Q(xe)&&(xe=Y(xe,he+(xe.key==null||I&&I.key===xe.key?"":(""+xe.key).replace(ee,"$&/")+"/")+Ne)),K.push(xe)),1;Ne=0;var te=ge===""?".":ge+":";if(T(I))for(var R=0;R<I.length;R++)ge=I[R],je=te+H(ge,R),Ne+=B(ge,K,he,je,xe);else if(R=v(I),typeof R=="function")for(I=R.call(I),R=0;!(ge=I.next()).done;)ge=ge.value,je=te+H(ge,R++),Ne+=B(ge,K,he,je,xe);else if(je==="object"){if(typeof I.then=="function")return B(oe(I),K,he,ge,xe);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function V(I,K,he){if(I==null)return I;var ge=[],xe=0;return B(I,ge,"","",function(je){return K.call(he,je,xe++)}),ge}function ue(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(he){(I._status===0||I._status===-1)&&(I._status=1,I._result=he)},function(he){(I._status===0||I._status===-1)&&(I._status=2,I._result=he)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var G=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},ne={map:V,forEach:function(I,K,he){V(I,function(){K.apply(this,arguments)},he)},count:function(I){var K=0;return V(I,function(){K++}),K},toArray:function(I){return V(I,function(K){return K})||[]},only:function(I){if(!Q(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Be.Activity=g,Be.Children=ne,Be.Component=N,Be.Fragment=r,Be.Profiler=a,Be.PureComponent=A,Be.StrictMode=n,Be.Suspense=f,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Be.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},Be.cache=function(I){return function(){return I.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(I,K,he){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ge=S({},I.props),xe=I.key;if(K!=null)for(je in K.key!==void 0&&(xe=""+K.key),K)!M.call(K,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&K.ref===void 0||(ge[je]=K[je]);var je=arguments.length-2;if(je===1)ge.children=he;else if(1<je){for(var Ne=Array(je),te=0;te<je;te++)Ne[te]=arguments[te+2];ge.children=Ne}return L(I.type,xe,ge)},Be.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:s,_context:I},I},Be.createElement=function(I,K,he){var ge,xe={},je=null;if(K!=null)for(ge in K.key!==void 0&&(je=""+K.key),K)M.call(K,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(xe[ge]=K[ge]);var Ne=arguments.length-2;if(Ne===1)xe.children=he;else if(1<Ne){for(var te=Array(Ne),R=0;R<Ne;R++)te[R]=arguments[R+2];xe.children=te}if(I&&I.defaultProps)for(ge in Ne=I.defaultProps,Ne)xe[ge]===void 0&&(xe[ge]=Ne[ge]);return L(I,je,xe)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(I){return{$$typeof:d,render:I}},Be.isValidElement=Q,Be.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:ue}},Be.memo=function(I,K){return{$$typeof:h,type:I,compare:K===void 0?null:K}},Be.startTransition=function(I){var K=D.T,he={};D.T=he;try{var ge=I(),xe=D.S;xe!==null&&xe(he,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(P,G)}catch(je){G(je)}finally{K!==null&&he.types!==null&&(K.types=he.types),D.T=K}},Be.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Be.use=function(I){return D.H.use(I)},Be.useActionState=function(I,K,he){return D.H.useActionState(I,K,he)},Be.useCallback=function(I,K){return D.H.useCallback(I,K)},Be.useContext=function(I){return D.H.useContext(I)},Be.useDebugValue=function(){},Be.useDeferredValue=function(I,K){return D.H.useDeferredValue(I,K)},Be.useEffect=function(I,K){return D.H.useEffect(I,K)},Be.useEffectEvent=function(I){return D.H.useEffectEvent(I)},Be.useId=function(){return D.H.useId()},Be.useImperativeHandle=function(I,K,he){return D.H.useImperativeHandle(I,K,he)},Be.useInsertionEffect=function(I,K){return D.H.useInsertionEffect(I,K)},Be.useLayoutEffect=function(I,K){return D.H.useLayoutEffect(I,K)},Be.useMemo=function(I,K){return D.H.useMemo(I,K)},Be.useOptimistic=function(I,K){return D.H.useOptimistic(I,K)},Be.useReducer=function(I,K,he){return D.H.useReducer(I,K,he)},Be.useRef=function(I){return D.H.useRef(I)},Be.useState=function(I){return D.H.useState(I)},Be.useSyncExternalStore=function(I,K,he){return D.H.useSyncExternalStore(I,K,he)},Be.useTransition=function(){return D.H.useTransition()},Be.version="19.2.4",Be}var HO;function _c(){return HO||(HO=1,Hv.exports=Z3()),Hv.exports}var j=_c();const xr=Ta(j),J3=Y3({__proto__:null,default:xr},[j]);var Vv={exports:{}},qu={},Gv={exports:{}},Yv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VO;function eB(){return VO||(VO=1,(function(e){function t(B,V){var ue=B.length;B.push(V);e:for(;0<ue;){var G=ue-1>>>1,ne=B[G];if(0<a(ne,V))B[G]=V,B[ue]=ne,ue=G;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var V=B[0],ue=B.pop();if(ue!==V){B[0]=ue;e:for(var G=0,ne=B.length,I=ne>>>1;G<I;){var K=2*(G+1)-1,he=B[K],ge=K+1,xe=B[ge];if(0>a(he,ue))ge<ne&&0>a(xe,he)?(B[G]=xe,B[ge]=ue,G=ge):(B[G]=he,B[K]=ue,G=K);else if(ge<ne&&0>a(xe,ue))B[G]=xe,B[ge]=ue,G=ge;else break e}}return V}function a(B,V){var ue=B.sortIndex-V.sortIndex;return ue!==0?ue:B.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,y=3,v=!1,x=!1,S=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(B){for(var V=r(h);V!==null;){if(V.callback===null)n(h);else if(V.startTime<=B)n(h),V.sortIndex=V.expirationTime,t(f,V);else break;V=r(h)}}function T(B){if(S=!1,C(B),!x)if(r(f)!==null)x=!0,P||(P=!0,q());else{var V=r(h);V!==null&&oe(T,V.startTime-B)}}var P=!1,D=-1,M=5,L=-1;function Y(){return _?!0:!(e.unstable_now()-L<M)}function Q(){if(_=!1,P){var B=e.unstable_now();L=B;var V=!0;try{e:{x=!1,S&&(S=!1,O(D),D=-1),v=!0;var ue=y;try{t:{for(C(B),g=r(f);g!==null&&!(g.expirationTime>B&&Y());){var G=g.callback;if(typeof G=="function"){g.callback=null,y=g.priorityLevel;var ne=G(g.expirationTime<=B);if(B=e.unstable_now(),typeof ne=="function"){g.callback=ne,C(B),V=!0;break t}g===r(f)&&n(f),C(B)}else n(f);g=r(f)}if(g!==null)V=!0;else{var I=r(h);I!==null&&oe(T,I.startTime-B),V=!1}}break e}finally{g=null,y=ue,v=!1}V=void 0}}finally{V?q():P=!1}}}var q;if(typeof A=="function")q=function(){A(Q)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,H=ee.port2;ee.port1.onmessage=Q,q=function(){H.postMessage(null)}}else q=function(){N(Q,0)};function oe(B,V){D=N(function(){B(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(B){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var ue=y;y=V;try{return B()}finally{y=ue}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ue=y;y=B;try{return V()}finally{y=ue}},e.unstable_scheduleCallback=function(B,V,ue){var G=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?G+ue:G):ue=G,B){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ue+ne,B={id:p++,callback:V,priorityLevel:B,startTime:ue,expirationTime:ne,sortIndex:-1},ue>G?(B.sortIndex=ue,t(h,B),r(f)===null&&B===r(h)&&(S?(O(D),D=-1):S=!0,oe(T,ue-G))):(B.sortIndex=ne,t(f,B),x||v||(x=!0,P||(P=!0,q()))),B},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(B){var V=y;return function(){var ue=y;y=V;try{return B.apply(this,arguments)}finally{y=ue}}}})(Yv)),Yv}var GO;function tB(){return GO||(GO=1,Gv.exports=eB()),Gv.exports}var Wv={exports:{}},Ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YO;function rB(){if(YO)return Ir;YO=1;var e=_c();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ir.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,p)},Ir.flushSync=function(f){var h=l.T,p=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=h,n.p=p,n.d.f()}},Ir.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},Ir.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Ir.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:v}):p==="script"&&n.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ir.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},Ir.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);n.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ir.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},Ir.requestFormReset=function(f){n.d.r(f)},Ir.unstable_batchedUpdates=function(f,h){return f(h)},Ir.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Ir.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ir.version="19.2.4",Ir}var WO;function uT(){if(WO)return Wv.exports;WO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wv.exports=rB(),Wv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XO;function nB(){if(XO)return qu;XO=1;var e=tB(),t=_c(),r=uT();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(n(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,m=o;;){var b=u.return;if(b===null)break;var w=b.alternate;if(w===null){if(m=b.return,m!==null){u=m;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===u)return f(b),i;if(w===m)return f(b),o;w=w.sibling}throw Error(n(188))}if(u.return!==m.return)u=b,m=w;else{for(var E=!1,k=b.child;k;){if(k===u){E=!0,u=b,m=w;break}if(k===m){E=!0,m=b,u=w;break}k=k.sibling}if(!E){for(k=w.child;k;){if(k===u){E=!0,u=w,m=b;break}if(k===m){E=!0,m=w,u=b;break}k=k.sibling}if(!E)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var ee=Symbol.for("react.client.reference");function H(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ee?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList";case L:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case A:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case C:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return o=i.displayName||null,o!==null?o:H(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return H(i(o))}catch{}}return null}var oe=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},G=[],ne=-1;function I(i){return{current:i}}function K(i){0>ne||(i.current=G[ne],G[ne]=null,ne--)}function he(i,o){ne++,G[ne]=i.current,i.current=o}var ge=I(null),xe=I(null),je=I(null),Ne=I(null);function te(i,o){switch(he(je,o),he(xe,i),he(ge,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?dO(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=dO(o),i=fO(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(ge),he(ge,i)}function R(){K(ge),K(xe),K(je)}function de(i){i.memoizedState!==null&&he(Ne,i);var o=ge.current,u=fO(o,i.type);o!==u&&(he(xe,i),he(ge,u))}function pe(i){xe.current===i&&(K(ge),K(xe)),Ne.current===i&&(K(Ne),Lu._currentValue=ue)}var se,Me;function ke(i){if(se===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);se=o&&o[1]||"",Me=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+i+Me}var He=!1;function et(i,o){if(!i||He)return"";He=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(re){var J=re}Reflect.construct(i,[],me)}else{try{me.call()}catch(re){J=re}i.call(me.prototype)}}else{try{throw Error()}catch(re){J=re}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(re){if(re&&J&&typeof re.stack=="string")return[re.stack,J.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),E=w[0],k=w[1];if(E&&k){var $=E.split(`
`),Z=k.split(`
`);for(b=m=0;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;for(;b<Z.length&&!Z[b].includes("DetermineComponentFrameRoot");)b++;if(m===$.length||b===Z.length)for(m=$.length-1,b=Z.length-1;1<=m&&0<=b&&$[m]!==Z[b];)b--;for(;1<=m&&0<=b;m--,b--)if($[m]!==Z[b]){if(m!==1||b!==1)do if(m--,b--,0>b||$[m]!==Z[b]){var ce=`
`+$[m].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=m&&0<=b);break}}}finally{He=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?ke(u):""}function Yt(i,o){switch(i.tag){case 26:case 27:case 5:return ke(i.type);case 16:return ke("Lazy");case 13:return i.child!==o&&o!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return et(i.type,!1);case 11:return et(i.type.render,!1);case 1:return et(i.type,!0);case 31:return ke("Activity");default:return""}}function Rr(i){try{var o="",u=null;do o+=Yt(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ir=Object.prototype.hasOwnProperty,le=e.unstable_scheduleCallback,kt=e.unstable_cancelCallback,Yr=e.unstable_shouldYield,sr=e.unstable_requestPaint,ut=e.unstable_now,Hc=e.unstable_getCurrentPriorityLevel,Vc=e.unstable_ImmediatePriority,Gc=e.unstable_UserBlockingPriority,Rs=e.unstable_NormalPriority,bf=e.unstable_LowPriority,Go=e.unstable_IdlePriority,C5=e.log,k5=e.unstable_setDisableYieldValue,Yc=null,fn=null;function Ti(i){if(typeof C5=="function"&&k5(i),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(Yc,i)}catch{}}var hn=Math.clz32?Math.clz32:D5,P5=Math.log,T5=Math.LN2;function D5(i){return i>>>=0,i===0?32:31-(P5(i)/T5|0)|0}var xf=256,wf=262144,jf=4194304;function Is(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Sf(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var b=0,w=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var k=m&134217727;return k!==0?(m=k&~w,m!==0?b=Is(m):(E&=k,E!==0?b=Is(E):u||(u=k&~i,u!==0&&(b=Is(u))))):(k=m&~w,k!==0?b=Is(k):E!==0?b=Is(E):u||(u=m&~i,u!==0&&(b=Is(u)))),b===0?0:o!==0&&o!==b&&(o&w)===0&&(w=b&-b,u=o&-o,w>=u||w===32&&(u&4194048)!==0)?o:b}function Wc(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function M5(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H1(){var i=jf;return jf<<=1,(jf&62914560)===0&&(jf=4194304),i}function Pg(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Xc(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function R5(i,o,u,m,b,w){var E=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var k=i.entanglements,$=i.expirationTimes,Z=i.hiddenUpdates;for(u=E&~u;0<u;){var ce=31-hn(u),me=1<<ce;k[ce]=0,$[ce]=-1;var J=Z[ce];if(J!==null)for(Z[ce]=null,ce=0;ce<J.length;ce++){var re=J[ce];re!==null&&(re.lane&=-536870913)}u&=~me}m!==0&&V1(i,m,0),w!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=w&~(E&~o))}function V1(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-hn(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function G1(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-hn(u),b=1<<m;b&o|i[m]&o&&(i[m]|=o),u&=~b}}function Y1(i,o){var u=o&-o;return u=(u&42)!==0?1:Tg(u),(u&(i.suspendedLanes|o))!==0?0:u}function Tg(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Dg(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function W1(){var i=V.p;return i!==0?i:(i=window.event,i===void 0?32:RO(i.type))}function X1(i,o){var u=V.p;try{return V.p=i,o()}finally{V.p=u}}var Di=Math.random().toString(36).slice(2),Nr="__reactFiber$"+Di,Wr="__reactProps$"+Di,Yo="__reactContainer$"+Di,Mg="__reactEvents$"+Di,I5="__reactListeners$"+Di,L5="__reactHandles$"+Di,Z1="__reactResources$"+Di,Zc="__reactMarker$"+Di;function Rg(i){delete i[Nr],delete i[Wr],delete i[Mg],delete i[I5],delete i[L5]}function Wo(i){var o=i[Nr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Yo]||u[Nr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=bO(i);i!==null;){if(u=i[Nr])return u;i=bO(i)}return o}i=u,u=i.parentNode}return null}function Xo(i){if(i=i[Nr]||i[Yo]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Jc(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function Zo(i){var o=i[Z1];return o||(o=i[Z1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function mr(i){i[Zc]=!0}var J1=new Set,eS={};function Ls(i,o){Jo(i,o),Jo(i+"Capture",o)}function Jo(i,o){for(eS[i]=o,i=0;i<o.length;i++)J1.add(o[i])}var B5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tS={},rS={};function $5(i){return ir.call(rS,i)?!0:ir.call(tS,i)?!1:B5.test(i)?rS[i]=!0:(tS[i]=!0,!1)}function _f(i,o,u){if($5(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Nf(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Ma(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function kn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function nS(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function U5(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,w=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(E){u=""+E,w.call(this,E)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ig(i){if(!i._valueTracker){var o=nS(i)?"checked":"value";i._valueTracker=U5(i,o,""+i[o])}}function aS(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=nS(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function Of(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var z5=/[\n"\\]/g;function Pn(i){return i.replace(z5,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Lg(i,o,u,m,b,w,E,k){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),o!=null?E==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+kn(o)):i.value!==""+kn(o)&&(i.value=""+kn(o)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),o!=null?Bg(i,E,kn(o)):u!=null?Bg(i,E,kn(u)):m!=null&&i.removeAttribute("value"),b==null&&w!=null&&(i.defaultChecked=!!w),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+kn(k):i.removeAttribute("name")}function iS(i,o,u,m,b,w,E,k){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),o!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){Ig(i);return}u=u!=null?""+kn(u):"",o=o!=null?""+kn(o):u,k||o===i.value||(i.value=o),i.defaultValue=o}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=k?i.checked:!!m,i.defaultChecked=!!m,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Ig(i)}function Bg(i,o,u){o==="number"&&Of(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function el(i,o,u,m){if(i=i.options,o){o={};for(var b=0;b<u.length;b++)o["$"+u[b]]=!0;for(u=0;u<i.length;u++)b=o.hasOwnProperty("$"+i[u].value),i[u].selected!==b&&(i[u].selected=b),b&&m&&(i[u].defaultSelected=!0)}else{for(u=""+kn(u),o=null,b=0;b<i.length;b++){if(i[b].value===u){i[b].selected=!0,m&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function sS(i,o,u){if(o!=null&&(o=""+kn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+kn(u):""}function oS(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(n(92));if(oe(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=kn(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),Ig(i)}function tl(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var q5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lS(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||q5.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function cS(i,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var b in o)m=o[b],o.hasOwnProperty(b)&&u[b]!==m&&lS(i,b,m)}else for(var w in o)o.hasOwnProperty(w)&&lS(i,w,o[w])}function $g(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),F5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ef(i){return F5.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ra(){}var Ug=null;function zg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rl=null,nl=null;function uS(i){var o=Xo(i);if(o&&(i=o.stateNode)){var u=i[Wr]||null;e:switch(i=o.stateNode,o.type){case"input":if(Lg(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Pn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var b=m[Wr]||null;if(!b)throw Error(n(90));Lg(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&aS(m)}break e;case"textarea":sS(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&el(i,!!u.multiple,o,!1)}}}var qg=!1;function dS(i,o,u){if(qg)return i(o,u);qg=!0;try{var m=i(o);return m}finally{if(qg=!1,(rl!==null||nl!==null)&&(mh(),rl&&(o=rl,i=nl,nl=rl=null,uS(o),i)))for(o=0;o<i.length;o++)uS(i[o])}}function eu(i,o){var u=i.stateNode;if(u===null)return null;var m=u[Wr]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kg=!1;if(Ia)try{var tu={};Object.defineProperty(tu,"passive",{get:function(){Kg=!0}}),window.addEventListener("test",tu,tu),window.removeEventListener("test",tu,tu)}catch{Kg=!1}var Mi=null,Fg=null,Af=null;function fS(){if(Af)return Af;var i,o=Fg,u=o.length,m,b="value"in Mi?Mi.value:Mi.textContent,w=b.length;for(i=0;i<u&&o[i]===b[i];i++);var E=u-i;for(m=1;m<=E&&o[u-m]===b[w-m];m++);return Af=b.slice(i,1<m?1-m:void 0)}function Cf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function kf(){return!0}function hS(){return!1}function Xr(i){function o(u,m,b,w,E){this._reactName=u,this._targetInst=b,this.type=m,this.nativeEvent=w,this.target=E,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(u=i[k],this[k]=u?u(w):w[k]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?kf:hS,this.isPropagationStopped=hS,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=kf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=kf)},persist:function(){},isPersistent:kf}),o}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pf=Xr(Bs),ru=g({},Bs,{view:0,detail:0}),Q5=Xr(ru),Qg,Hg,nu,Tf=g({},ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gg,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==nu&&(nu&&i.type==="mousemove"?(Qg=i.screenX-nu.screenX,Hg=i.screenY-nu.screenY):Hg=Qg=0,nu=i),Qg)},movementY:function(i){return"movementY"in i?i.movementY:Hg}}),mS=Xr(Tf),H5=g({},Tf,{dataTransfer:0}),V5=Xr(H5),G5=g({},ru,{relatedTarget:0}),Vg=Xr(G5),Y5=g({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),W5=Xr(Y5),X5=g({},Bs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Z5=Xr(X5),J5=g({},Bs,{data:0}),pS=Xr(J5),eL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nL(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=rL[i])?!!o[i]:!1}function Gg(){return nL}var aL=g({},ru,{key:function(i){if(i.key){var o=eL[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Cf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tL[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gg,charCode:function(i){return i.type==="keypress"?Cf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Cf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),iL=Xr(aL),sL=g({},Tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gS=Xr(sL),oL=g({},ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gg}),lL=Xr(oL),cL=g({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),uL=Xr(cL),dL=g({},Tf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),fL=Xr(dL),hL=g({},Bs,{newState:0,oldState:0}),mL=Xr(hL),pL=[9,13,27,32],Yg=Ia&&"CompositionEvent"in window,au=null;Ia&&"documentMode"in document&&(au=document.documentMode);var gL=Ia&&"TextEvent"in window&&!au,yS=Ia&&(!Yg||au&&8<au&&11>=au),vS=" ",bS=!1;function xS(i,o){switch(i){case"keyup":return pL.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var al=!1;function yL(i,o){switch(i){case"compositionend":return wS(o);case"keypress":return o.which!==32?null:(bS=!0,vS);case"textInput":return i=o.data,i===vS&&bS?null:i;default:return null}}function vL(i,o){if(al)return i==="compositionend"||!Yg&&xS(i,o)?(i=fS(),Af=Fg=Mi=null,al=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return yS&&o.locale!=="ko"?null:o.data;default:return null}}var bL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jS(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!bL[i.type]:o==="textarea"}function SS(i,o,u,m){rl?nl?nl.push(m):nl=[m]:rl=m,o=wh(o,"onChange"),0<o.length&&(u=new Pf("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var iu=null,su=null;function xL(i){iO(i,0)}function Df(i){var o=Jc(i);if(aS(o))return i}function _S(i,o){if(i==="change")return o}var NS=!1;if(Ia){var Wg;if(Ia){var Xg="oninput"in document;if(!Xg){var OS=document.createElement("div");OS.setAttribute("oninput","return;"),Xg=typeof OS.oninput=="function"}Wg=Xg}else Wg=!1;NS=Wg&&(!document.documentMode||9<document.documentMode)}function ES(){iu&&(iu.detachEvent("onpropertychange",AS),su=iu=null)}function AS(i){if(i.propertyName==="value"&&Df(su)){var o=[];SS(o,su,i,zg(i)),dS(xL,o)}}function wL(i,o,u){i==="focusin"?(ES(),iu=o,su=u,iu.attachEvent("onpropertychange",AS)):i==="focusout"&&ES()}function jL(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Df(su)}function SL(i,o){if(i==="click")return Df(o)}function _L(i,o){if(i==="input"||i==="change")return Df(o)}function NL(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var mn=typeof Object.is=="function"?Object.is:NL;function ou(i,o){if(mn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var b=u[m];if(!ir.call(o,b)||!mn(i[b],o[b]))return!1}return!0}function CS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function kS(i,o){var u=CS(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=CS(u)}}function PS(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?PS(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function TS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Of(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Of(i.document)}return o}function Zg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var OL=Ia&&"documentMode"in document&&11>=document.documentMode,il=null,Jg=null,lu=null,ey=!1;function DS(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ey||il==null||il!==Of(m)||(m=il,"selectionStart"in m&&Zg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),lu&&ou(lu,m)||(lu=m,m=wh(Jg,"onSelect"),0<m.length&&(o=new Pf("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=il)))}function $s(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var sl={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},ty={},MS={};Ia&&(MS=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function Us(i){if(ty[i])return ty[i];if(!sl[i])return i;var o=sl[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in MS)return ty[i]=o[u];return i}var RS=Us("animationend"),IS=Us("animationiteration"),LS=Us("animationstart"),EL=Us("transitionrun"),AL=Us("transitionstart"),CL=Us("transitioncancel"),BS=Us("transitionend"),$S=new Map,ry="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ry.push("scrollEnd");function Xn(i,o){$S.set(i,o),Ls(o,[i])}var Mf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Tn=[],ol=0,ny=0;function Rf(){for(var i=ol,o=ny=ol=0;o<i;){var u=Tn[o];Tn[o++]=null;var m=Tn[o];Tn[o++]=null;var b=Tn[o];Tn[o++]=null;var w=Tn[o];if(Tn[o++]=null,m!==null&&b!==null){var E=m.pending;E===null?b.next=b:(b.next=E.next,E.next=b),m.pending=b}w!==0&&US(u,b,w)}}function If(i,o,u,m){Tn[ol++]=i,Tn[ol++]=o,Tn[ol++]=u,Tn[ol++]=m,ny|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function ay(i,o,u,m){return If(i,o,u,m),Lf(i)}function zs(i,o){return If(i,null,null,o),Lf(i)}function US(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var b=!1,w=i.return;w!==null;)w.childLanes|=u,m=w.alternate,m!==null&&(m.childLanes|=u),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(b=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,b&&o!==null&&(b=31-hn(u),i=w.hiddenUpdates,m=i[b],m===null?i[b]=[o]:m.push(o),o.lane=u|536870912),w):null}function Lf(i){if(50<ku)throw ku=0,hv=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var ll={};function kL(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(i,o,u,m){return new kL(i,o,u,m)}function iy(i){return i=i.prototype,!(!i||!i.isReactComponent)}function La(i,o){var u=i.alternate;return u===null?(u=pn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function zS(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Bf(i,o,u,m,b,w){var E=0;if(m=i,typeof i=="function")iy(i)&&(E=1);else if(typeof i=="string")E=R3(i,u,ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case L:return i=pn(31,u,o,b),i.elementType=L,i.lanes=w,i;case S:return qs(u.children,b,w,o);case _:E=8,b|=24;break;case N:return i=pn(12,u,o,b|2),i.elementType=N,i.lanes=w,i;case T:return i=pn(13,u,o,b),i.elementType=T,i.lanes=w,i;case P:return i=pn(19,u,o,b),i.elementType=P,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:E=10;break e;case O:E=9;break e;case C:E=11;break e;case D:E=14;break e;case M:E=16,m=null;break e}E=29,u=Error(n(130,i===null?"null":typeof i,"")),m=null}return o=pn(E,u,o,b),o.elementType=i,o.type=m,o.lanes=w,o}function qs(i,o,u,m){return i=pn(7,i,m,o),i.lanes=u,i}function sy(i,o,u){return i=pn(6,i,null,o),i.lanes=u,i}function qS(i){var o=pn(18,null,null,0);return o.stateNode=i,o}function oy(i,o,u){return o=pn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var KS=new WeakMap;function Dn(i,o){if(typeof i=="object"&&i!==null){var u=KS.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Rr(o)},KS.set(i,o),o)}return{value:i,source:o,stack:Rr(o)}}var cl=[],ul=0,$f=null,cu=0,Mn=[],Rn=0,Ri=null,ha=1,ma="";function Ba(i,o){cl[ul++]=cu,cl[ul++]=$f,$f=i,cu=o}function FS(i,o,u){Mn[Rn++]=ha,Mn[Rn++]=ma,Mn[Rn++]=Ri,Ri=i;var m=ha;i=ma;var b=32-hn(m)-1;m&=~(1<<b),u+=1;var w=32-hn(o)+b;if(30<w){var E=b-b%5;w=(m&(1<<E)-1).toString(32),m>>=E,b-=E,ha=1<<32-hn(o)+b|u<<b|m,ma=w+i}else ha=1<<w|u<<b|m,ma=i}function ly(i){i.return!==null&&(Ba(i,1),FS(i,1,0))}function cy(i){for(;i===$f;)$f=cl[--ul],cl[ul]=null,cu=cl[--ul],cl[ul]=null;for(;i===Ri;)Ri=Mn[--Rn],Mn[Rn]=null,ma=Mn[--Rn],Mn[Rn]=null,ha=Mn[--Rn],Mn[Rn]=null}function QS(i,o){Mn[Rn++]=ha,Mn[Rn++]=ma,Mn[Rn++]=Ri,ha=o.id,ma=o.overflow,Ri=i}var Or=null,Nt=null,Xe=!1,Ii=null,In=!1,uy=Error(n(519));function Li(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uu(Dn(o,i)),uy}function HS(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[Nr]=i,o[Wr]=m,u){case"dialog":Ge("cancel",o),Ge("close",o);break;case"iframe":case"object":case"embed":Ge("load",o);break;case"video":case"audio":for(u=0;u<Tu.length;u++)Ge(Tu[u],o);break;case"source":Ge("error",o);break;case"img":case"image":case"link":Ge("error",o),Ge("load",o);break;case"details":Ge("toggle",o);break;case"input":Ge("invalid",o),iS(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ge("invalid",o);break;case"textarea":Ge("invalid",o),oS(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||cO(o.textContent,u)?(m.popover!=null&&(Ge("beforetoggle",o),Ge("toggle",o)),m.onScroll!=null&&Ge("scroll",o),m.onScrollEnd!=null&&Ge("scrollend",o),m.onClick!=null&&(o.onclick=Ra),o=!0):o=!1,o||Li(i,!0)}function VS(i){for(Or=i.return;Or;)switch(Or.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Or=Or.return}}function dl(i){if(i!==Or)return!1;if(!Xe)return VS(i),Xe=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Av(i.type,i.memoizedProps)),u=!u),u&&Nt&&Li(i),VS(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Nt=vO(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Nt=vO(i)}else o===27?(o=Nt,Xi(i.type)?(i=Dv,Dv=null,Nt=i):Nt=o):Nt=Or?Bn(i.stateNode.nextSibling):null;return!0}function Ks(){Nt=Or=null,Xe=!1}function dy(){var i=Ii;return i!==null&&(tn===null?tn=i:tn.push.apply(tn,i),Ii=null),i}function uu(i){Ii===null?Ii=[i]:Ii.push(i)}var fy=I(null),Fs=null,$a=null;function Bi(i,o,u){he(fy,o._currentValue),o._currentValue=u}function Ua(i){i._currentValue=fy.current,K(fy)}function hy(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function my(i,o,u,m){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var w=b.dependencies;if(w!==null){var E=b.child;w=w.firstContext;e:for(;w!==null;){var k=w;w=b;for(var $=0;$<o.length;$++)if(k.context===o[$]){w.lanes|=u,k=w.alternate,k!==null&&(k.lanes|=u),hy(w.return,u,i),m||(E=null);break e}w=k.next}}else if(b.tag===18){if(E=b.return,E===null)throw Error(n(341));E.lanes|=u,w=E.alternate,w!==null&&(w.lanes|=u),hy(E,u,i),E=null}else E=b.child;if(E!==null)E.return=b;else for(E=b;E!==null;){if(E===i){E=null;break}if(b=E.sibling,b!==null){b.return=E.return,E=b;break}E=E.return}b=E}}function fl(i,o,u,m){i=null;for(var b=o,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var E=b.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var k=b.type;mn(b.pendingProps.value,E.value)||(i!==null?i.push(k):i=[k])}}else if(b===Ne.current){if(E=b.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(Lu):i=[Lu])}b=b.return}i!==null&&my(o,i,u,m),o.flags|=262144}function Uf(i){for(i=i.firstContext;i!==null;){if(!mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Qs(i){Fs=i,$a=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Er(i){return GS(Fs,i)}function zf(i,o){return Fs===null&&Qs(i),GS(i,o)}function GS(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},$a===null){if(i===null)throw Error(n(308));$a=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else $a=$a.next=o;return u}var PL=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},TL=e.unstable_scheduleCallback,DL=e.unstable_NormalPriority,Wt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function py(){return{controller:new PL,data:new Map,refCount:0}}function du(i){i.refCount--,i.refCount===0&&TL(DL,function(){i.controller.abort()})}var fu=null,gy=0,hl=0,ml=null;function ML(i,o){if(fu===null){var u=fu=[];gy=0,hl=bv(),ml={status:"pending",value:void 0,then:function(m){u.push(m)}}}return gy++,o.then(YS,YS),o}function YS(){if(--gy===0&&fu!==null){ml!==null&&(ml.status="fulfilled");var i=fu;fu=null,hl=0,ml=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function RL(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var b=0;b<u.length;b++)(0,u[b])(o)},function(b){for(m.status="rejected",m.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),m}var WS=B.S;B.S=function(i,o){DN=ut(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&ML(i,o),WS!==null&&WS(i,o)};var Hs=I(null);function yy(){var i=Hs.current;return i!==null?i:xt.pooledCache}function qf(i,o){o===null?he(Hs,Hs.current):he(Hs,o.pool)}function XS(){var i=yy();return i===null?null:{parent:Wt._currentValue,pool:i}}var pl=Error(n(460)),vy=Error(n(474)),Kf=Error(n(542)),Ff={then:function(){}};function ZS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function JS(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Ra,Ra),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,t_(i),i;default:if(typeof o.status=="string")o.then(Ra,Ra);else{if(i=xt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=m}},function(m){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,t_(i),i}throw Gs=o,pl}}function Vs(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Gs=u,pl):u}}var Gs=null;function e_(){if(Gs===null)throw Error(n(459));var i=Gs;return Gs=null,i}function t_(i){if(i===pl||i===Kf)throw Error(n(483))}var gl=null,hu=0;function Qf(i){var o=hu;return hu+=1,gl===null&&(gl=[]),JS(gl,i,o)}function mu(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Hf(i,o){throw o.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function r_(i){function o(F,z){if(i){var X=F.deletions;X===null?(F.deletions=[z],F.flags|=16):X.push(z)}}function u(F,z){if(!i)return null;for(;z!==null;)o(F,z),z=z.sibling;return null}function m(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function b(F,z){return F=La(F,z),F.index=0,F.sibling=null,F}function w(F,z,X){return F.index=X,i?(X=F.alternate,X!==null?(X=X.index,X<z?(F.flags|=67108866,z):X):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function E(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function k(F,z,X,fe){return z===null||z.tag!==6?(z=sy(X,F.mode,fe),z.return=F,z):(z=b(z,X),z.return=F,z)}function $(F,z,X,fe){var Te=X.type;return Te===S?ce(F,z,X.props.children,fe,X.key):z!==null&&(z.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===M&&Vs(Te)===z.type)?(z=b(z,X.props),mu(z,X),z.return=F,z):(z=Bf(X.type,X.key,X.props,null,F.mode,fe),mu(z,X),z.return=F,z)}function Z(F,z,X,fe){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=oy(X,F.mode,fe),z.return=F,z):(z=b(z,X.children||[]),z.return=F,z)}function ce(F,z,X,fe,Te){return z===null||z.tag!==7?(z=qs(X,F.mode,fe,Te),z.return=F,z):(z=b(z,X),z.return=F,z)}function me(F,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=sy(""+z,F.mode,X),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return X=Bf(z.type,z.key,z.props,null,F.mode,X),mu(X,z),X.return=F,X;case x:return z=oy(z,F.mode,X),z.return=F,z;case M:return z=Vs(z),me(F,z,X)}if(oe(z)||q(z))return z=qs(z,F.mode,X,null),z.return=F,z;if(typeof z.then=="function")return me(F,Qf(z),X);if(z.$$typeof===A)return me(F,zf(F,z),X);Hf(F,z)}return null}function J(F,z,X,fe){var Te=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Te!==null?null:k(F,z,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return X.key===Te?$(F,z,X,fe):null;case x:return X.key===Te?Z(F,z,X,fe):null;case M:return X=Vs(X),J(F,z,X,fe)}if(oe(X)||q(X))return Te!==null?null:ce(F,z,X,fe,null);if(typeof X.then=="function")return J(F,z,Qf(X),fe);if(X.$$typeof===A)return J(F,z,zf(F,X),fe);Hf(F,X)}return null}function re(F,z,X,fe,Te){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return F=F.get(X)||null,k(z,F,""+fe,Te);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case v:return F=F.get(fe.key===null?X:fe.key)||null,$(z,F,fe,Te);case x:return F=F.get(fe.key===null?X:fe.key)||null,Z(z,F,fe,Te);case M:return fe=Vs(fe),re(F,z,X,fe,Te)}if(oe(fe)||q(fe))return F=F.get(X)||null,ce(z,F,fe,Te,null);if(typeof fe.then=="function")return re(F,z,X,Qf(fe),Te);if(fe.$$typeof===A)return re(F,z,X,zf(z,fe),Te);Hf(z,fe)}return null}function Oe(F,z,X,fe){for(var Te=null,rt=null,Ae=z,qe=z=0,We=null;Ae!==null&&qe<X.length;qe++){Ae.index>qe?(We=Ae,Ae=null):We=Ae.sibling;var nt=J(F,Ae,X[qe],fe);if(nt===null){Ae===null&&(Ae=We);break}i&&Ae&&nt.alternate===null&&o(F,Ae),z=w(nt,z,qe),rt===null?Te=nt:rt.sibling=nt,rt=nt,Ae=We}if(qe===X.length)return u(F,Ae),Xe&&Ba(F,qe),Te;if(Ae===null){for(;qe<X.length;qe++)Ae=me(F,X[qe],fe),Ae!==null&&(z=w(Ae,z,qe),rt===null?Te=Ae:rt.sibling=Ae,rt=Ae);return Xe&&Ba(F,qe),Te}for(Ae=m(Ae);qe<X.length;qe++)We=re(Ae,F,qe,X[qe],fe),We!==null&&(i&&We.alternate!==null&&Ae.delete(We.key===null?qe:We.key),z=w(We,z,qe),rt===null?Te=We:rt.sibling=We,rt=We);return i&&Ae.forEach(function(rs){return o(F,rs)}),Xe&&Ba(F,qe),Te}function De(F,z,X,fe){if(X==null)throw Error(n(151));for(var Te=null,rt=null,Ae=z,qe=z=0,We=null,nt=X.next();Ae!==null&&!nt.done;qe++,nt=X.next()){Ae.index>qe?(We=Ae,Ae=null):We=Ae.sibling;var rs=J(F,Ae,nt.value,fe);if(rs===null){Ae===null&&(Ae=We);break}i&&Ae&&rs.alternate===null&&o(F,Ae),z=w(rs,z,qe),rt===null?Te=rs:rt.sibling=rs,rt=rs,Ae=We}if(nt.done)return u(F,Ae),Xe&&Ba(F,qe),Te;if(Ae===null){for(;!nt.done;qe++,nt=X.next())nt=me(F,nt.value,fe),nt!==null&&(z=w(nt,z,qe),rt===null?Te=nt:rt.sibling=nt,rt=nt);return Xe&&Ba(F,qe),Te}for(Ae=m(Ae);!nt.done;qe++,nt=X.next())nt=re(Ae,F,qe,nt.value,fe),nt!==null&&(i&&nt.alternate!==null&&Ae.delete(nt.key===null?qe:nt.key),z=w(nt,z,qe),rt===null?Te=nt:rt.sibling=nt,rt=nt);return i&&Ae.forEach(function(H3){return o(F,H3)}),Xe&&Ba(F,qe),Te}function yt(F,z,X,fe){if(typeof X=="object"&&X!==null&&X.type===S&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case v:e:{for(var Te=X.key;z!==null;){if(z.key===Te){if(Te=X.type,Te===S){if(z.tag===7){u(F,z.sibling),fe=b(z,X.props.children),fe.return=F,F=fe;break e}}else if(z.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===M&&Vs(Te)===z.type){u(F,z.sibling),fe=b(z,X.props),mu(fe,X),fe.return=F,F=fe;break e}u(F,z);break}else o(F,z);z=z.sibling}X.type===S?(fe=qs(X.props.children,F.mode,fe,X.key),fe.return=F,F=fe):(fe=Bf(X.type,X.key,X.props,null,F.mode,fe),mu(fe,X),fe.return=F,F=fe)}return E(F);case x:e:{for(Te=X.key;z!==null;){if(z.key===Te)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){u(F,z.sibling),fe=b(z,X.children||[]),fe.return=F,F=fe;break e}else{u(F,z);break}else o(F,z);z=z.sibling}fe=oy(X,F.mode,fe),fe.return=F,F=fe}return E(F);case M:return X=Vs(X),yt(F,z,X,fe)}if(oe(X))return Oe(F,z,X,fe);if(q(X)){if(Te=q(X),typeof Te!="function")throw Error(n(150));return X=Te.call(X),De(F,z,X,fe)}if(typeof X.then=="function")return yt(F,z,Qf(X),fe);if(X.$$typeof===A)return yt(F,z,zf(F,X),fe);Hf(F,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,z!==null&&z.tag===6?(u(F,z.sibling),fe=b(z,X),fe.return=F,F=fe):(u(F,z),fe=sy(X,F.mode,fe),fe.return=F,F=fe),E(F)):u(F,z)}return function(F,z,X,fe){try{hu=0;var Te=yt(F,z,X,fe);return gl=null,Te}catch(Ae){if(Ae===pl||Ae===Kf)throw Ae;var rt=pn(29,Ae,null,F.mode);return rt.lanes=fe,rt.return=F,rt}finally{}}}var Ys=r_(!0),n_=r_(!1),$i=!1;function by(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ui(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function zi(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(ot&2)!==0){var b=m.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),m.pending=o,o=Lf(i),US(i,null,u),o}return If(i,m,o,u),Lf(i)}function pu(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,G1(i,u)}}function wy(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var b=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var E={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?b=w=E:w=w.next=E,u=u.next}while(u!==null);w===null?b=w=o:w=w.next=o}else b=w=o;u={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var jy=!1;function gu(){if(jy){var i=ml;if(i!==null)throw i}}function yu(i,o,u,m){jy=!1;var b=i.updateQueue;$i=!1;var w=b.firstBaseUpdate,E=b.lastBaseUpdate,k=b.shared.pending;if(k!==null){b.shared.pending=null;var $=k,Z=$.next;$.next=null,E===null?w=Z:E.next=Z,E=$;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,k=ce.lastBaseUpdate,k!==E&&(k===null?ce.firstBaseUpdate=Z:k.next=Z,ce.lastBaseUpdate=$))}if(w!==null){var me=b.baseState;E=0,ce=Z=$=null,k=w;do{var J=k.lane&-536870913,re=J!==k.lane;if(re?(Ye&J)===J:(m&J)===J){J!==0&&J===hl&&(jy=!0),ce!==null&&(ce=ce.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Oe=i,De=k;J=o;var yt=u;switch(De.tag){case 1:if(Oe=De.payload,typeof Oe=="function"){me=Oe.call(yt,me,J);break e}me=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=De.payload,J=typeof Oe=="function"?Oe.call(yt,me,J):Oe,J==null)break e;me=g({},me,J);break e;case 2:$i=!0}}J=k.callback,J!==null&&(i.flags|=64,re&&(i.flags|=8192),re=b.callbacks,re===null?b.callbacks=[J]:re.push(J))}else re={lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ce===null?(Z=ce=re,$=me):ce=ce.next=re,E|=J;if(k=k.next,k===null){if(k=b.shared.pending,k===null)break;re=k,k=re.next,re.next=null,b.lastBaseUpdate=re,b.shared.pending=null}}while(!0);ce===null&&($=me),b.baseState=$,b.firstBaseUpdate=Z,b.lastBaseUpdate=ce,w===null&&(b.shared.lanes=0),Hi|=E,i.lanes=E,i.memoizedState=me}}function a_(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function i_(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)a_(u[i],o)}var yl=I(null),Vf=I(0);function s_(i,o){i=Ya,he(Vf,i),he(yl,o),Ya=i|o.baseLanes}function Sy(){he(Vf,Ya),he(yl,yl.current)}function _y(){Ya=Vf.current,K(yl),K(Vf)}var gn=I(null),Ln=null;function qi(i){var o=i.alternate;he(Vt,Vt.current&1),he(gn,i),Ln===null&&(o===null||yl.current!==null||o.memoizedState!==null)&&(Ln=i)}function Ny(i){he(Vt,Vt.current),he(gn,i),Ln===null&&(Ln=i)}function o_(i){i.tag===22?(he(Vt,Vt.current),he(gn,i),Ln===null&&(Ln=i)):Ki()}function Ki(){he(Vt,Vt.current),he(gn,gn.current)}function yn(i){K(gn),Ln===i&&(Ln=null),K(Vt)}var Vt=I(0);function Gf(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Pv(u)||Tv(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var za=0,Ue=null,pt=null,Xt=null,Yf=!1,vl=!1,Ws=!1,Wf=0,vu=0,bl=null,IL=0;function $t(){throw Error(n(321))}function Oy(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!mn(i[u],o[u]))return!1;return!0}function Ey(i,o,u,m,b,w){return za=w,Ue=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=i===null||i.memoizedState===null?F_:qy,Ws=!1,w=u(m,b),Ws=!1,vl&&(w=c_(o,u,m,b)),l_(i),w}function l_(i){B.H=wu;var o=pt!==null&&pt.next!==null;if(za=0,Xt=pt=Ue=null,Yf=!1,vu=0,bl=null,o)throw Error(n(300));i===null||Zt||(i=i.dependencies,i!==null&&Uf(i)&&(Zt=!0))}function c_(i,o,u,m){Ue=i;var b=0;do{if(vl&&(bl=null),vu=0,vl=!1,25<=b)throw Error(n(301));if(b+=1,Xt=pt=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}B.H=Q_,w=o(u,m)}while(vl);return w}function LL(){var i=B.H,o=i.useState()[0];return o=typeof o.then=="function"?bu(o):o,i=i.useState()[0],(pt!==null?pt.memoizedState:null)!==i&&(Ue.flags|=1024),o}function Ay(){var i=Wf!==0;return Wf=0,i}function Cy(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function ky(i){if(Yf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Yf=!1}za=0,Xt=pt=Ue=null,vl=!1,vu=Wf=0,bl=null}function qr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ue.memoizedState=Xt=i:Xt=Xt.next=i,Xt}function Gt(){if(pt===null){var i=Ue.alternate;i=i!==null?i.memoizedState:null}else i=pt.next;var o=Xt===null?Ue.memoizedState:Xt.next;if(o!==null)Xt=o,pt=i;else{if(i===null)throw Ue.alternate===null?Error(n(467)):Error(n(310));pt=i,i={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Xt===null?Ue.memoizedState=Xt=i:Xt=Xt.next=i}return Xt}function Xf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(i){var o=vu;return vu+=1,bl===null&&(bl=[]),i=JS(bl,i,o),o=Ue,(Xt===null?o.memoizedState:Xt.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?F_:qy),i}function Zf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return bu(i);if(i.$$typeof===A)return Er(i)}throw Error(n(438,String(i)))}function Py(i){var o=null,u=Ue.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Ue.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Xf(),Ue.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=Y;return o.index++,u}function qa(i,o){return typeof o=="function"?o(i):o}function Jf(i){var o=Gt();return Ty(o,pt,i)}function Ty(i,o,u){var m=i.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var b=i.baseQueue,w=m.pending;if(w!==null){if(b!==null){var E=b.next;b.next=w.next,w.next=E}o.baseQueue=b=w,m.pending=null}if(w=i.baseState,b===null)i.memoizedState=w;else{o=b.next;var k=E=null,$=null,Z=o,ce=!1;do{var me=Z.lane&-536870913;if(me!==Z.lane?(Ye&me)===me:(za&me)===me){var J=Z.revertLane;if(J===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),me===hl&&(ce=!0);else if((za&J)===J){Z=Z.next,J===hl&&(ce=!0);continue}else me={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(k=$=me,E=w):$=$.next=me,Ue.lanes|=J,Hi|=J;me=Z.action,Ws&&u(w,me),w=Z.hasEagerState?Z.eagerState:u(w,me)}else J={lane:me,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(k=$=J,E=w):$=$.next=J,Ue.lanes|=me,Hi|=me;Z=Z.next}while(Z!==null&&Z!==o);if($===null?E=w:$.next=k,!mn(w,i.memoizedState)&&(Zt=!0,ce&&(u=ml,u!==null)))throw u;i.memoizedState=w,i.baseState=E,i.baseQueue=$,m.lastRenderedState=w}return b===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Dy(i){var o=Gt(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,b=u.pending,w=o.memoizedState;if(b!==null){u.pending=null;var E=b=b.next;do w=i(w,E.action),E=E.next;while(E!==b);mn(w,o.memoizedState)||(Zt=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,m]}function u_(i,o,u){var m=Ue,b=Gt(),w=Xe;if(w){if(u===void 0)throw Error(n(407));u=u()}else u=o();var E=!mn((pt||b).memoizedState,u);if(E&&(b.memoizedState=u,Zt=!0),b=b.queue,Iy(h_.bind(null,m,b,i),[i]),b.getSnapshot!==o||E||Xt!==null&&Xt.memoizedState.tag&1){if(m.flags|=2048,xl(9,{destroy:void 0},f_.bind(null,m,b,u,o),null),xt===null)throw Error(n(349));w||(za&127)!==0||d_(m,o,u)}return u}function d_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Ue.updateQueue,o===null?(o=Xf(),Ue.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function f_(i,o,u,m){o.value=u,o.getSnapshot=m,m_(o)&&p_(i)}function h_(i,o,u){return u(function(){m_(o)&&p_(i)})}function m_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!mn(i,u)}catch{return!0}}function p_(i){var o=zs(i,2);o!==null&&rn(o,i,2)}function My(i){var o=qr();if(typeof i=="function"){var u=i;if(i=u(),Ws){Ti(!0);try{u()}finally{Ti(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:i},o}function g_(i,o,u,m){return i.baseState=u,Ty(i,pt,typeof m=="function"?m:qa)}function BL(i,o,u,m,b){if(rh(i))throw Error(n(485));if(i=o.action,i!==null){var w={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){w.listeners.push(E)}};B.T!==null?u(!0):w.isTransition=!1,m(w),u=o.pending,u===null?(w.next=o.pending=w,y_(o,w)):(w.next=u.next,o.pending=u.next=w)}}function y_(i,o){var u=o.action,m=o.payload,b=i.state;if(o.isTransition){var w=B.T,E={};B.T=E;try{var k=u(b,m),$=B.S;$!==null&&$(E,k),v_(i,o,k)}catch(Z){Ry(i,o,Z)}finally{w!==null&&E.types!==null&&(w.types=E.types),B.T=w}}else try{w=u(b,m),v_(i,o,w)}catch(Z){Ry(i,o,Z)}}function v_(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){b_(i,o,m)},function(m){return Ry(i,o,m)}):b_(i,o,u)}function b_(i,o,u){o.status="fulfilled",o.value=u,x_(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,y_(i,u)))}function Ry(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,x_(o),o=o.next;while(o!==m)}i.action=null}function x_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function w_(i,o){return o}function j_(i,o){if(Xe){var u=xt.formState;if(u!==null){e:{var m=Ue;if(Xe){if(Nt){t:{for(var b=Nt,w=In;b.nodeType!==8;){if(!w){b=null;break t}if(b=Bn(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){Nt=Bn(b.nextSibling),m=b.data==="F!";break e}}Li(m)}m=!1}m&&(o=u[0])}}return u=qr(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:w_,lastRenderedState:o},u.queue=m,u=z_.bind(null,Ue,m),m.dispatch=u,m=My(!1),w=zy.bind(null,Ue,!1,m.queue),m=qr(),b={state:o,dispatch:null,action:i,pending:null},m.queue=b,u=BL.bind(null,Ue,b,w,u),b.dispatch=u,m.memoizedState=i,[o,u,!1]}function S_(i){var o=Gt();return __(o,pt,i)}function __(i,o,u){if(o=Ty(i,o,w_)[0],i=Jf(qa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=bu(o)}catch(E){throw E===pl?Kf:E}else m=o;o=Gt();var b=o.queue,w=b.dispatch;return u!==o.memoizedState&&(Ue.flags|=2048,xl(9,{destroy:void 0},$L.bind(null,b,u),null)),[m,w,i]}function $L(i,o){i.action=o}function N_(i){var o=Gt(),u=pt;if(u!==null)return __(o,u,i);Gt(),o=o.memoizedState,u=Gt();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function xl(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=Ue.updateQueue,o===null&&(o=Xf(),Ue.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function O_(){return Gt().memoizedState}function eh(i,o,u,m){var b=qr();Ue.flags|=i,b.memoizedState=xl(1|o,{destroy:void 0},u,m===void 0?null:m)}function th(i,o,u,m){var b=Gt();m=m===void 0?null:m;var w=b.memoizedState.inst;pt!==null&&m!==null&&Oy(m,pt.memoizedState.deps)?b.memoizedState=xl(o,w,u,m):(Ue.flags|=i,b.memoizedState=xl(1|o,w,u,m))}function E_(i,o){eh(8390656,8,i,o)}function Iy(i,o){th(2048,8,i,o)}function UL(i){Ue.flags|=4;var o=Ue.updateQueue;if(o===null)o=Xf(),Ue.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function A_(i){var o=Gt().memoizedState;return UL({ref:o,nextImpl:i}),function(){if((ot&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function C_(i,o){return th(4,2,i,o)}function k_(i,o){return th(4,4,i,o)}function P_(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function T_(i,o,u){u=u!=null?u.concat([i]):null,th(4,4,P_.bind(null,o,i),u)}function Ly(){}function D_(i,o){var u=Gt();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Oy(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function M_(i,o){var u=Gt();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Oy(o,m[1]))return m[0];if(m=i(),Ws){Ti(!0);try{i()}finally{Ti(!1)}}return u.memoizedState=[m,o],m}function By(i,o,u){return u===void 0||(za&1073741824)!==0&&(Ye&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=RN(),Ue.lanes|=i,Hi|=i,u)}function R_(i,o,u,m){return mn(u,o)?u:yl.current!==null?(i=By(i,u,m),mn(i,o)||(Zt=!0),i):(za&42)===0||(za&1073741824)!==0&&(Ye&261930)===0?(Zt=!0,i.memoizedState=u):(i=RN(),Ue.lanes|=i,Hi|=i,o)}function I_(i,o,u,m,b){var w=V.p;V.p=w!==0&&8>w?w:8;var E=B.T,k={};B.T=k,zy(i,!1,o,u);try{var $=b(),Z=B.S;if(Z!==null&&Z(k,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ce=RL($,m);xu(i,o,ce,xn(i))}else xu(i,o,m,xn(i))}catch(me){xu(i,o,{then:function(){},status:"rejected",reason:me},xn())}finally{V.p=w,E!==null&&k.types!==null&&(E.types=k.types),B.T=E}}function zL(){}function $y(i,o,u,m){if(i.tag!==5)throw Error(n(476));var b=L_(i).queue;I_(i,b,o,ue,u===null?zL:function(){return B_(i),u(m)})}function L_(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:ue},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function B_(i){var o=L_(i);o.next===null&&(o=i.alternate.memoizedState),xu(i,o.next.queue,{},xn())}function Uy(){return Er(Lu)}function $_(){return Gt().memoizedState}function U_(){return Gt().memoizedState}function qL(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=xn();i=Ui(u);var m=zi(o,i,u);m!==null&&(rn(m,o,u),pu(m,o,u)),o={cache:py()},i.payload=o;return}o=o.return}}function KL(i,o,u){var m=xn();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},rh(i)?q_(o,u):(u=ay(i,o,u,m),u!==null&&(rn(u,i,m),K_(u,o,m)))}function z_(i,o,u){var m=xn();xu(i,o,u,m)}function xu(i,o,u,m){var b={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(rh(i))q_(o,b);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var E=o.lastRenderedState,k=w(E,u);if(b.hasEagerState=!0,b.eagerState=k,mn(k,E))return If(i,o,b,0),xt===null&&Rf(),!1}catch{}finally{}if(u=ay(i,o,b,m),u!==null)return rn(u,i,m),K_(u,o,m),!0}return!1}function zy(i,o,u,m){if(m={lane:2,revertLane:bv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},rh(i)){if(o)throw Error(n(479))}else o=ay(i,u,m,2),o!==null&&rn(o,i,2)}function rh(i){var o=i.alternate;return i===Ue||o!==null&&o===Ue}function q_(i,o){vl=Yf=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function K_(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,G1(i,u)}}var wu={readContext:Er,use:Zf,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t};wu.useEffectEvent=$t;var F_={readContext:Er,use:Zf,useCallback:function(i,o){return qr().memoizedState=[i,o===void 0?null:o],i},useContext:Er,useEffect:E_,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,eh(4194308,4,P_.bind(null,o,i),u)},useLayoutEffect:function(i,o){return eh(4194308,4,i,o)},useInsertionEffect:function(i,o){eh(4,2,i,o)},useMemo:function(i,o){var u=qr();o=o===void 0?null:o;var m=i();if(Ws){Ti(!0);try{i()}finally{Ti(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=qr();if(u!==void 0){var b=u(o);if(Ws){Ti(!0);try{u(o)}finally{Ti(!1)}}}else b=o;return m.memoizedState=m.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},m.queue=i,i=i.dispatch=KL.bind(null,Ue,i),[m.memoizedState,i]},useRef:function(i){var o=qr();return i={current:i},o.memoizedState=i},useState:function(i){i=My(i);var o=i.queue,u=z_.bind(null,Ue,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Ly,useDeferredValue:function(i,o){var u=qr();return By(u,i,o)},useTransition:function(){var i=My(!1);return i=I_.bind(null,Ue,i.queue,!0,!1),qr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=Ue,b=qr();if(Xe){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),xt===null)throw Error(n(349));(Ye&127)!==0||d_(m,o,u)}b.memoizedState=u;var w={value:u,getSnapshot:o};return b.queue=w,E_(h_.bind(null,m,w,i),[i]),m.flags|=2048,xl(9,{destroy:void 0},f_.bind(null,m,w,u,o),null),u},useId:function(){var i=qr(),o=xt.identifierPrefix;if(Xe){var u=ma,m=ha;u=(m&~(1<<32-hn(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Wf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=IL++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Uy,useFormState:j_,useActionState:j_,useOptimistic:function(i){var o=qr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=zy.bind(null,Ue,!0,u),u.dispatch=o,[i,o]},useMemoCache:Py,useCacheRefresh:function(){return qr().memoizedState=qL.bind(null,Ue)},useEffectEvent:function(i){var o=qr(),u={impl:i};return o.memoizedState=u,function(){if((ot&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},qy={readContext:Er,use:Zf,useCallback:D_,useContext:Er,useEffect:Iy,useImperativeHandle:T_,useInsertionEffect:C_,useLayoutEffect:k_,useMemo:M_,useReducer:Jf,useRef:O_,useState:function(){return Jf(qa)},useDebugValue:Ly,useDeferredValue:function(i,o){var u=Gt();return R_(u,pt.memoizedState,i,o)},useTransition:function(){var i=Jf(qa)[0],o=Gt().memoizedState;return[typeof i=="boolean"?i:bu(i),o]},useSyncExternalStore:u_,useId:$_,useHostTransitionStatus:Uy,useFormState:S_,useActionState:S_,useOptimistic:function(i,o){var u=Gt();return g_(u,pt,i,o)},useMemoCache:Py,useCacheRefresh:U_};qy.useEffectEvent=A_;var Q_={readContext:Er,use:Zf,useCallback:D_,useContext:Er,useEffect:Iy,useImperativeHandle:T_,useInsertionEffect:C_,useLayoutEffect:k_,useMemo:M_,useReducer:Dy,useRef:O_,useState:function(){return Dy(qa)},useDebugValue:Ly,useDeferredValue:function(i,o){var u=Gt();return pt===null?By(u,i,o):R_(u,pt.memoizedState,i,o)},useTransition:function(){var i=Dy(qa)[0],o=Gt().memoizedState;return[typeof i=="boolean"?i:bu(i),o]},useSyncExternalStore:u_,useId:$_,useHostTransitionStatus:Uy,useFormState:N_,useActionState:N_,useOptimistic:function(i,o){var u=Gt();return pt!==null?g_(u,pt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Py,useCacheRefresh:U_};Q_.useEffectEvent=A_;function Ky(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Fy={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=xn(),b=Ui(m);b.payload=o,u!=null&&(b.callback=u),o=zi(i,b,m),o!==null&&(rn(o,i,m),pu(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=xn(),b=Ui(m);b.tag=1,b.payload=o,u!=null&&(b.callback=u),o=zi(i,b,m),o!==null&&(rn(o,i,m),pu(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=xn(),m=Ui(u);m.tag=2,o!=null&&(m.callback=o),o=zi(i,m,u),o!==null&&(rn(o,i,u),pu(o,i,u))}};function H_(i,o,u,m,b,w,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,w,E):o.prototype&&o.prototype.isPureReactComponent?!ou(u,m)||!ou(b,w):!0}function V_(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&Fy.enqueueReplaceState(o,o.state,null)}function Xs(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var b in i)u[b]===void 0&&(u[b]=i[b])}return u}function G_(i){Mf(i)}function Y_(i){console.error(i)}function W_(i){Mf(i)}function nh(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function X_(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Qy(i,o,u){return u=Ui(u),u.tag=3,u.payload={element:null},u.callback=function(){nh(i,o)},u}function Z_(i){return i=Ui(i),i.tag=3,i}function J_(i,o,u,m){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var w=m.value;i.payload=function(){return b(w)},i.callback=function(){X_(o,u,m)}}var E=u.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){X_(o,u,m),typeof b!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function FL(i,o,u,m,b){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&fl(o,u,b,!0),u=gn.current,u!==null){switch(u.tag){case 31:case 13:return Ln===null?ph():u.alternate===null&&Ut===0&&(Ut=3),u.flags&=-257,u.flags|=65536,u.lanes=b,m===Ff?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),gv(i,m,b)),!1;case 22:return u.flags|=65536,m===Ff?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),gv(i,m,b)),!1}throw Error(n(435,u.tag))}return gv(i,m,b),ph(),!1}if(Xe)return o=gn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,m!==uy&&(i=Error(n(422),{cause:m}),uu(Dn(i,u)))):(m!==uy&&(o=Error(n(423),{cause:m}),uu(Dn(o,u))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,m=Dn(m,u),b=Qy(i.stateNode,m,b),wy(i,b),Ut!==4&&(Ut=2)),!1;var w=Error(n(520),{cause:m});if(w=Dn(w,u),Cu===null?Cu=[w]:Cu.push(w),Ut!==4&&(Ut=2),o===null)return!0;m=Dn(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=b&-b,u.lanes|=i,i=Qy(u.stateNode,m,i),wy(u,i),!1;case 1:if(o=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Vi===null||!Vi.has(w))))return u.flags|=65536,b&=-b,u.lanes|=b,b=Z_(b),J_(b,i,u,m),wy(u,b),!1}u=u.return}while(u!==null);return!1}var Hy=Error(n(461)),Zt=!1;function Ar(i,o,u,m){o.child=i===null?n_(o,null,u,m):Ys(o,i.child,u,m)}function eN(i,o,u,m,b){u=u.render;var w=o.ref;if("ref"in m){var E={};for(var k in m)k!=="ref"&&(E[k]=m[k])}else E=m;return Qs(o),m=Ey(i,o,u,E,w,b),k=Ay(),i!==null&&!Zt?(Cy(i,o,b),Ka(i,o,b)):(Xe&&k&&ly(o),o.flags|=1,Ar(i,o,m,b),o.child)}function tN(i,o,u,m,b){if(i===null){var w=u.type;return typeof w=="function"&&!iy(w)&&w.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=w,rN(i,o,w,m,b)):(i=Bf(u.type,null,m,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,!ev(i,b)){var E=w.memoizedProps;if(u=u.compare,u=u!==null?u:ou,u(E,m)&&i.ref===o.ref)return Ka(i,o,b)}return o.flags|=1,i=La(w,m),i.ref=o.ref,i.return=o,o.child=i}function rN(i,o,u,m,b){if(i!==null){var w=i.memoizedProps;if(ou(w,m)&&i.ref===o.ref)if(Zt=!1,o.pendingProps=m=w,ev(i,b))(i.flags&131072)!==0&&(Zt=!0);else return o.lanes=i.lanes,Ka(i,o,b)}return Vy(i,o,u,m,b)}function nN(i,o,u,m){var b=m.children,w=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,i!==null){for(m=o.child=i.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~w}else m=0,o.child=null;return aN(i,o,w,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&qf(o,w!==null?w.cachePool:null),w!==null?s_(o,w):Sy(),o_(o);else return m=o.lanes=536870912,aN(i,o,w!==null?w.baseLanes|u:u,u,m)}else w!==null?(qf(o,w.cachePool),s_(o,w),Ki(),o.memoizedState=null):(i!==null&&qf(o,null),Sy(),Ki());return Ar(i,o,b,u),o.child}function ju(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function aN(i,o,u,m,b){var w=yy();return w=w===null?null:{parent:Wt._currentValue,pool:w},o.memoizedState={baseLanes:u,cachePool:w},i!==null&&qf(o,null),Sy(),o_(o),i!==null&&fl(i,o,m,!0),o.childLanes=b,null}function ah(i,o){return o=sh({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function iN(i,o,u){return Ys(o,i.child,null,u),i=ah(o,o.pendingProps),i.flags|=2,yn(o),o.memoizedState=null,i}function QL(i,o,u){var m=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Xe){if(m.mode==="hidden")return i=ah(o,m),o.lanes=536870912,ju(null,i);if(Ny(o),(i=Nt)?(i=yO(i,In),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ri!==null?{id:ha,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},u=qS(i),u.return=o,o.child=u,Or=o,Nt=null)):i=null,i===null)throw Li(o);return o.lanes=536870912,null}return ah(o,m)}var w=i.memoizedState;if(w!==null){var E=w.dehydrated;if(Ny(o),b)if(o.flags&256)o.flags&=-257,o=iN(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(Zt||fl(i,o,u,!1),b=(u&i.childLanes)!==0,Zt||b){if(m=xt,m!==null&&(E=Y1(m,u),E!==0&&E!==w.retryLane))throw w.retryLane=E,zs(i,E),rn(m,i,E),Hy;ph(),o=iN(i,o,u)}else i=w.treeContext,Nt=Bn(E.nextSibling),Or=o,Xe=!0,Ii=null,In=!1,i!==null&&QS(o,i),o=ah(o,m),o.flags|=4096;return o}return i=La(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function ih(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Vy(i,o,u,m,b){return Qs(o),u=Ey(i,o,u,m,void 0,b),m=Ay(),i!==null&&!Zt?(Cy(i,o,b),Ka(i,o,b)):(Xe&&m&&ly(o),o.flags|=1,Ar(i,o,u,b),o.child)}function sN(i,o,u,m,b,w){return Qs(o),o.updateQueue=null,u=c_(o,m,u,b),l_(i),m=Ay(),i!==null&&!Zt?(Cy(i,o,w),Ka(i,o,w)):(Xe&&m&&ly(o),o.flags|=1,Ar(i,o,u,w),o.child)}function oN(i,o,u,m,b){if(Qs(o),o.stateNode===null){var w=ll,E=u.contextType;typeof E=="object"&&E!==null&&(w=Er(E)),w=new u(m,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Fy,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=m,w.state=o.memoizedState,w.refs={},by(o),E=u.contextType,w.context=typeof E=="object"&&E!==null?Er(E):ll,w.state=o.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(Ky(o,u,E,m),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(E=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),E!==w.state&&Fy.enqueueReplaceState(w,w.state,null),yu(o,m,w,b),gu(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){w=o.stateNode;var k=o.memoizedProps,$=Xs(u,k);w.props=$;var Z=w.context,ce=u.contextType;E=ll,typeof ce=="object"&&ce!==null&&(E=Er(ce));var me=u.getDerivedStateFromProps;ce=typeof me=="function"||typeof w.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,ce||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k||Z!==E)&&V_(o,w,m,E),$i=!1;var J=o.memoizedState;w.state=J,yu(o,m,w,b),gu(),Z=o.memoizedState,k||J!==Z||$i?(typeof me=="function"&&(Ky(o,u,me,m),Z=o.memoizedState),($=$i||H_(o,u,$,m,J,Z,E))?(ce||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=Z),w.props=m,w.state=Z,w.context=E,m=$):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{w=o.stateNode,xy(i,o),E=o.memoizedProps,ce=Xs(u,E),w.props=ce,me=o.pendingProps,J=w.context,Z=u.contextType,$=ll,typeof Z=="object"&&Z!==null&&($=Er(Z)),k=u.getDerivedStateFromProps,(Z=typeof k=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==me||J!==$)&&V_(o,w,m,$),$i=!1,J=o.memoizedState,w.state=J,yu(o,m,w,b),gu();var re=o.memoizedState;E!==me||J!==re||$i||i!==null&&i.dependencies!==null&&Uf(i.dependencies)?(typeof k=="function"&&(Ky(o,u,k,m),re=o.memoizedState),(ce=$i||H_(o,u,ce,m,J,re,$)||i!==null&&i.dependencies!==null&&Uf(i.dependencies))?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,re,$),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,re,$)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=re),w.props=m,w.state=re,w.context=$,m=ce):(typeof w.componentDidUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),m=!1)}return w=m,ih(i,o),m=(o.flags&128)!==0,w||m?(w=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,i!==null&&m?(o.child=Ys(o,i.child,null,b),o.child=Ys(o,null,u,b)):Ar(i,o,u,b),o.memoizedState=w.state,i=o.child):i=Ka(i,o,b),i}function lN(i,o,u,m){return Ks(),o.flags|=256,Ar(i,o,u,m),o.child}var Gy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yy(i){return{baseLanes:i,cachePool:XS()}}function Wy(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=bn),i}function cN(i,o,u){var m=o.pendingProps,b=!1,w=(o.flags&128)!==0,E;if((E=w)||(E=i!==null&&i.memoizedState===null?!1:(Vt.current&2)!==0),E&&(b=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,i===null){if(Xe){if(b?qi(o):Ki(),(i=Nt)?(i=yO(i,In),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ri!==null?{id:ha,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},u=qS(i),u.return=o,o.child=u,Or=o,Nt=null)):i=null,i===null)throw Li(o);return Tv(i)?o.lanes=32:o.lanes=536870912,null}var k=m.children;return m=m.fallback,b?(Ki(),b=o.mode,k=sh({mode:"hidden",children:k},b),m=qs(m,b,u,null),k.return=o,m.return=o,k.sibling=m,o.child=k,m=o.child,m.memoizedState=Yy(u),m.childLanes=Wy(i,E,u),o.memoizedState=Gy,ju(null,m)):(qi(o),Xy(o,k))}var $=i.memoizedState;if($!==null&&(k=$.dehydrated,k!==null)){if(w)o.flags&256?(qi(o),o.flags&=-257,o=Zy(i,o,u)):o.memoizedState!==null?(Ki(),o.child=i.child,o.flags|=128,o=null):(Ki(),k=m.fallback,b=o.mode,m=sh({mode:"visible",children:m.children},b),k=qs(k,b,u,null),k.flags|=2,m.return=o,k.return=o,m.sibling=k,o.child=m,Ys(o,i.child,null,u),m=o.child,m.memoizedState=Yy(u),m.childLanes=Wy(i,E,u),o.memoizedState=Gy,o=ju(null,m));else if(qi(o),Tv(k)){if(E=k.nextSibling&&k.nextSibling.dataset,E)var Z=E.dgst;E=Z,m=Error(n(419)),m.stack="",m.digest=E,uu({value:m,source:null,stack:null}),o=Zy(i,o,u)}else if(Zt||fl(i,o,u,!1),E=(u&i.childLanes)!==0,Zt||E){if(E=xt,E!==null&&(m=Y1(E,u),m!==0&&m!==$.retryLane))throw $.retryLane=m,zs(i,m),rn(E,i,m),Hy;Pv(k)||ph(),o=Zy(i,o,u)}else Pv(k)?(o.flags|=192,o.child=i.child,o=null):(i=$.treeContext,Nt=Bn(k.nextSibling),Or=o,Xe=!0,Ii=null,In=!1,i!==null&&QS(o,i),o=Xy(o,m.children),o.flags|=4096);return o}return b?(Ki(),k=m.fallback,b=o.mode,$=i.child,Z=$.sibling,m=La($,{mode:"hidden",children:m.children}),m.subtreeFlags=$.subtreeFlags&65011712,Z!==null?k=La(Z,k):(k=qs(k,b,u,null),k.flags|=2),k.return=o,m.return=o,m.sibling=k,o.child=m,ju(null,m),m=o.child,k=i.child.memoizedState,k===null?k=Yy(u):(b=k.cachePool,b!==null?($=Wt._currentValue,b=b.parent!==$?{parent:$,pool:$}:b):b=XS(),k={baseLanes:k.baseLanes|u,cachePool:b}),m.memoizedState=k,m.childLanes=Wy(i,E,u),o.memoizedState=Gy,ju(i.child,m)):(qi(o),u=i.child,i=u.sibling,u=La(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(E=o.deletions,E===null?(o.deletions=[i],o.flags|=16):E.push(i)),o.child=u,o.memoizedState=null,u)}function Xy(i,o){return o=sh({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function sh(i,o){return i=pn(22,i,null,o),i.lanes=0,i}function Zy(i,o,u){return Ys(o,i.child,null,u),i=Xy(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function uN(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),hy(i.return,o,u)}function Jy(i,o,u,m,b,w){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:b,treeForkCount:w}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=u,E.tailMode=b,E.treeForkCount=w)}function dN(i,o,u){var m=o.pendingProps,b=m.revealOrder,w=m.tail;m=m.children;var E=Vt.current,k=(E&2)!==0;if(k?(E=E&1|2,o.flags|=128):E&=1,he(Vt,E),Ar(i,o,m,u),m=Xe?cu:0,!k&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&uN(i,u,o);else if(i.tag===19)uN(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(u=o.child,b=null;u!==null;)i=u.alternate,i!==null&&Gf(i)===null&&(b=u),u=u.sibling;u=b,u===null?(b=o.child,o.child=null):(b=u.sibling,u.sibling=null),Jy(o,!1,b,u,w,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&Gf(i)===null){o.child=b;break}i=b.sibling,b.sibling=u,u=b,b=i}Jy(o,!0,u,null,w,m);break;case"together":Jy(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function Ka(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Hi|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(fl(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=La(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=La(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function ev(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Uf(i)))}function HL(i,o,u){switch(o.tag){case 3:te(o,o.stateNode.containerInfo),Bi(o,Wt,i.memoizedState.cache),Ks();break;case 27:case 5:de(o);break;case 4:te(o,o.stateNode.containerInfo);break;case 10:Bi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Ny(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(qi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?cN(i,o,u):(qi(o),i=Ka(i,o,u),i!==null?i.sibling:null);qi(o);break;case 19:var b=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(fl(i,o,u,!1),m=(u&o.childLanes)!==0),b){if(m)return dN(i,o,u);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),he(Vt,Vt.current),m)break;return null;case 22:return o.lanes=0,nN(i,o,u,o.pendingProps);case 24:Bi(o,Wt,i.memoizedState.cache)}return Ka(i,o,u)}function fN(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Zt=!0;else{if(!ev(i,u)&&(o.flags&128)===0)return Zt=!1,HL(i,o,u);Zt=(i.flags&131072)!==0}else Zt=!1,Xe&&(o.flags&1048576)!==0&&FS(o,cu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=Vs(o.elementType),o.type=i,typeof i=="function")iy(i)?(m=Xs(i,m),o.tag=1,o=oN(null,o,i,m,u)):(o.tag=0,o=Vy(null,o,i,m,u));else{if(i!=null){var b=i.$$typeof;if(b===C){o.tag=11,o=eN(null,o,i,m,u);break e}else if(b===D){o.tag=14,o=tN(null,o,i,m,u);break e}}throw o=H(i)||i,Error(n(306,o,""))}}return o;case 0:return Vy(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,b=Xs(m,o.pendingProps),oN(i,o,m,b,u);case 3:e:{if(te(o,o.stateNode.containerInfo),i===null)throw Error(n(387));m=o.pendingProps;var w=o.memoizedState;b=w.element,xy(i,o),yu(o,m,null,u);var E=o.memoizedState;if(m=E.cache,Bi(o,Wt,m),m!==w.cache&&my(o,[Wt],u,!0),gu(),m=E.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=lN(i,o,m,u);break e}else if(m!==b){b=Dn(Error(n(424)),o),uu(b),o=lN(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Nt=Bn(i.firstChild),Or=o,Xe=!0,Ii=null,In=!0,u=n_(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ks(),m===b){o=Ka(i,o,u);break e}Ar(i,o,m,u)}o=o.child}return o;case 26:return ih(i,o),i===null?(u=SO(o.type,null,o.pendingProps,null))?o.memoizedState=u:Xe||(u=o.type,i=o.pendingProps,m=jh(je.current).createElement(u),m[Nr]=o,m[Wr]=i,Cr(m,u,i),mr(m),o.stateNode=m):o.memoizedState=SO(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return de(o),i===null&&Xe&&(m=o.stateNode=xO(o.type,o.pendingProps,je.current),Or=o,In=!0,b=Nt,Xi(o.type)?(Dv=b,Nt=Bn(m.firstChild)):Nt=b),Ar(i,o,o.pendingProps.children,u),ih(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Xe&&((b=m=Nt)&&(m=j3(m,o.type,o.pendingProps,In),m!==null?(o.stateNode=m,Or=o,Nt=Bn(m.firstChild),In=!1,b=!0):b=!1),b||Li(o)),de(o),b=o.type,w=o.pendingProps,E=i!==null?i.memoizedProps:null,m=w.children,Av(b,w)?m=null:E!==null&&Av(b,E)&&(o.flags|=32),o.memoizedState!==null&&(b=Ey(i,o,LL,null,null,u),Lu._currentValue=b),ih(i,o),Ar(i,o,m,u),o.child;case 6:return i===null&&Xe&&((i=u=Nt)&&(u=S3(u,o.pendingProps,In),u!==null?(o.stateNode=u,Or=o,Nt=null,i=!0):i=!1),i||Li(o)),null;case 13:return cN(i,o,u);case 4:return te(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Ys(o,null,m,u):Ar(i,o,m,u),o.child;case 11:return eN(i,o,o.type,o.pendingProps,u);case 7:return Ar(i,o,o.pendingProps,u),o.child;case 8:return Ar(i,o,o.pendingProps.children,u),o.child;case 12:return Ar(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,Bi(o,o.type,m.value),Ar(i,o,m.children,u),o.child;case 9:return b=o.type._context,m=o.pendingProps.children,Qs(o),b=Er(b),m=m(b),o.flags|=1,Ar(i,o,m,u),o.child;case 14:return tN(i,o,o.type,o.pendingProps,u);case 15:return rN(i,o,o.type,o.pendingProps,u);case 19:return dN(i,o,u);case 31:return QL(i,o,u);case 22:return nN(i,o,u,o.pendingProps);case 24:return Qs(o),m=Er(Wt),i===null?(b=yy(),b===null&&(b=xt,w=py(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=u),b=w),o.memoizedState={parent:m,cache:b},by(o),Bi(o,Wt,b)):((i.lanes&u)!==0&&(xy(i,o),yu(o,null,null,u),gu()),b=i.memoizedState,w=o.memoizedState,b.parent!==m?(b={parent:m,cache:m},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),Bi(o,Wt,m)):(m=w.cache,Bi(o,Wt,m),m!==b.cache&&my(o,[Wt],u,!0))),Ar(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Fa(i){i.flags|=4}function tv(i,o,u,m,b){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if($N())i.flags|=8192;else throw Gs=Ff,vy}else i.flags&=-16777217}function hN(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!AO(o))if($N())i.flags|=8192;else throw Gs=Ff,vy}function oh(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?H1():536870912,i.lanes|=o,_l|=o)}function Su(i,o){if(!Xe)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Ot(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var b=i.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function VL(i,o,u){var m=o.pendingProps;switch(cy(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(o),null;case 1:return Ot(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Ua(Wt),R(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(dl(o)?Fa(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,dy())),Ot(o),null;case 26:var b=o.type,w=o.memoizedState;return i===null?(Fa(o),w!==null?(Ot(o),hN(o,w)):(Ot(o),tv(o,b,null,m,u))):w?w!==i.memoizedState?(Fa(o),Ot(o),hN(o,w)):(Ot(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&Fa(o),Ot(o),tv(o,b,i,m,u)),null;case 27:if(pe(o),u=je.current,b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&Fa(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Ot(o),null}i=ge.current,dl(o)?HS(o):(i=xO(b,m,u),o.stateNode=i,Fa(o))}return Ot(o),null;case 5:if(pe(o),b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&Fa(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Ot(o),null}if(w=ge.current,dl(o))HS(o);else{var E=jh(je.current);switch(w){case 1:w=E.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=E.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=E.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=E.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=E.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?E.createElement("select",{is:m.is}):E.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?E.createElement(b,{is:m.is}):E.createElement(b)}}w[Nr]=o,w[Wr]=m;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)w.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=w;e:switch(Cr(w,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Fa(o)}}return Ot(o),tv(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&Fa(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(i=je.current,dl(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,b=Or,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}i[Nr]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||cO(i.nodeValue,u)),i||Li(o,!0)}else i=jh(i).createTextNode(m),i[Nr]=o,o.stateNode=i}return Ot(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=dl(o),u!==null){if(i===null){if(!m)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Nr]=o}else Ks(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),i=!1}else u=dy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(yn(o),o):(yn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Ot(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=dl(o),m!==null&&m.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Nr]=o}else Ks(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),b=!1}else b=dy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(yn(o),o):(yn(o),null)}return yn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==b&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),oh(o,o.updateQueue),Ot(o),null);case 4:return R(),i===null&&Sv(o.stateNode.containerInfo),Ot(o),null;case 10:return Ua(o.type),Ot(o),null;case 19:if(K(Vt),m=o.memoizedState,m===null)return Ot(o),null;if(b=(o.flags&128)!==0,w=m.rendering,w===null)if(b)Su(m,!1);else{if(Ut!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(w=Gf(i),w!==null){for(o.flags|=128,Su(m,!1),i=w.updateQueue,o.updateQueue=i,oh(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)zS(u,i),u=u.sibling;return he(Vt,Vt.current&1|2),Xe&&Ba(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&ut()>fh&&(o.flags|=128,b=!0,Su(m,!1),o.lanes=4194304)}else{if(!b)if(i=Gf(w),i!==null){if(o.flags|=128,b=!0,i=i.updateQueue,o.updateQueue=i,oh(o,i),Su(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!Xe)return Ot(o),null}else 2*ut()-m.renderingStartTime>fh&&u!==536870912&&(o.flags|=128,b=!0,Su(m,!1),o.lanes=4194304);m.isBackwards?(w.sibling=o.child,o.child=w):(i=m.last,i!==null?i.sibling=w:o.child=w,m.last=w)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=ut(),i.sibling=null,u=Vt.current,he(Vt,b?u&1|2:u&1),Xe&&Ba(o,m.treeForkCount),i):(Ot(o),null);case 22:case 23:return yn(o),_y(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Ot(o),o.subtreeFlags&6&&(o.flags|=8192)):Ot(o),u=o.updateQueue,u!==null&&oh(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&K(Hs),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ua(Wt),Ot(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function GL(i,o){switch(cy(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ua(Wt),R(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return pe(o),null;case 31:if(o.memoizedState!==null){if(yn(o),o.alternate===null)throw Error(n(340));Ks()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(yn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ks()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return K(Vt),null;case 4:return R(),null;case 10:return Ua(o.type),null;case 22:case 23:return yn(o),_y(),i!==null&&K(Hs),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ua(Wt),null;case 25:return null;default:return null}}function mN(i,o){switch(cy(o),o.tag){case 3:Ua(Wt),R();break;case 26:case 27:case 5:pe(o);break;case 4:R();break;case 31:o.memoizedState!==null&&yn(o);break;case 13:yn(o);break;case 19:K(Vt);break;case 10:Ua(o.type);break;case 22:case 23:yn(o),_y(),i!==null&&K(Hs);break;case 24:Ua(Wt)}}function _u(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var b=m.next;u=b;do{if((u.tag&i)===i){m=void 0;var w=u.create,E=u.inst;m=w(),E.destroy=m}u=u.next}while(u!==b)}}catch(k){ft(o,o.return,k)}}function Fi(i,o,u){try{var m=o.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var w=b.next;m=w;do{if((m.tag&i)===i){var E=m.inst,k=E.destroy;if(k!==void 0){E.destroy=void 0,b=o;var $=u,Z=k;try{Z()}catch(ce){ft(b,$,ce)}}}m=m.next}while(m!==w)}}catch(ce){ft(o,o.return,ce)}}function pN(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{i_(o,u)}catch(m){ft(i,i.return,m)}}}function gN(i,o,u){u.props=Xs(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){ft(i,o,m)}}function Nu(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(b){ft(i,o,b)}}function pa(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(b){ft(i,o,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){ft(i,o,b)}else u.current=null}function yN(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(b){ft(i,i.return,b)}}function rv(i,o,u){try{var m=i.stateNode;g3(m,i.type,u,o),m[Wr]=o}catch(b){ft(i,i.return,b)}}function vN(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xi(i.type)||i.tag===4}function nv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||vN(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function av(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ra));else if(m!==4&&(m===27&&Xi(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(av(i,o,u),i=i.sibling;i!==null;)av(i,o,u),i=i.sibling}function lh(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&Xi(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(lh(i,o,u),i=i.sibling;i!==null;)lh(i,o,u),i=i.sibling}function bN(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);Cr(o,m,u),o[Nr]=i,o[Wr]=u}catch(w){ft(i,i.return,w)}}var Qa=!1,Jt=!1,iv=!1,xN=typeof WeakSet=="function"?WeakSet:Set,pr=null;function YL(i,o){if(i=i.containerInfo,Ov=Ch,i=TS(i),Zg(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var b=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var E=0,k=-1,$=-1,Z=0,ce=0,me=i,J=null;t:for(;;){for(var re;me!==u||b!==0&&me.nodeType!==3||(k=E+b),me!==w||m!==0&&me.nodeType!==3||($=E+m),me.nodeType===3&&(E+=me.nodeValue.length),(re=me.firstChild)!==null;)J=me,me=re;for(;;){if(me===i)break t;if(J===u&&++Z===b&&(k=E),J===w&&++ce===m&&($=E),(re=me.nextSibling)!==null)break;me=J,J=me.parentNode}me=re}u=k===-1||$===-1?null:{start:k,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ev={focusedElem:i,selectionRange:u},Ch=!1,pr=o;pr!==null;)if(o=pr,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,pr=i;else for(;pr!==null;){switch(o=pr,w=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)b=i[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,u=o,b=w.memoizedProps,w=w.memoizedState,m=u.stateNode;try{var Oe=Xs(u.type,b);i=m.getSnapshotBeforeUpdate(Oe,w),m.__reactInternalSnapshotBeforeUpdate=i}catch(De){ft(u,u.return,De)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)kv(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":kv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,pr=i;break}pr=o.return}}function wN(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Va(i,u),m&4&&_u(5,u);break;case 1:if(Va(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(E){ft(u,u.return,E)}else{var b=Xs(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(b,o,i.__reactInternalSnapshotBeforeUpdate)}catch(E){ft(u,u.return,E)}}m&64&&pN(u),m&512&&Nu(u,u.return);break;case 3:if(Va(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{i_(i,o)}catch(E){ft(u,u.return,E)}}break;case 27:o===null&&m&4&&bN(u);case 26:case 5:Va(i,u),o===null&&m&4&&yN(u),m&512&&Nu(u,u.return);break;case 12:Va(i,u);break;case 31:Va(i,u),m&4&&_N(i,u);break;case 13:Va(i,u),m&4&&NN(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=a3.bind(null,u),_3(i,u))));break;case 22:if(m=u.memoizedState!==null||Qa,!m){o=o!==null&&o.memoizedState!==null||Jt,b=Qa;var w=Jt;Qa=m,(Jt=o)&&!w?Ga(i,u,(u.subtreeFlags&8772)!==0):Va(i,u),Qa=b,Jt=w}break;case 30:break;default:Va(i,u)}}function jN(i){var o=i.alternate;o!==null&&(i.alternate=null,jN(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Rg(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Pt=null,Zr=!1;function Ha(i,o,u){for(u=u.child;u!==null;)SN(i,o,u),u=u.sibling}function SN(i,o,u){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Yc,u)}catch{}switch(u.tag){case 26:Jt||pa(u,o),Ha(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Jt||pa(u,o);var m=Pt,b=Zr;Xi(u.type)&&(Pt=u.stateNode,Zr=!1),Ha(i,o,u),Mu(u.stateNode),Pt=m,Zr=b;break;case 5:Jt||pa(u,o);case 6:if(m=Pt,b=Zr,Pt=null,Ha(i,o,u),Pt=m,Zr=b,Pt!==null)if(Zr)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(u.stateNode)}catch(w){ft(u,o,w)}else try{Pt.removeChild(u.stateNode)}catch(w){ft(u,o,w)}break;case 18:Pt!==null&&(Zr?(i=Pt,pO(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Tl(i)):pO(Pt,u.stateNode));break;case 4:m=Pt,b=Zr,Pt=u.stateNode.containerInfo,Zr=!0,Ha(i,o,u),Pt=m,Zr=b;break;case 0:case 11:case 14:case 15:Fi(2,u,o),Jt||Fi(4,u,o),Ha(i,o,u);break;case 1:Jt||(pa(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&gN(u,o,m)),Ha(i,o,u);break;case 21:Ha(i,o,u);break;case 22:Jt=(m=Jt)||u.memoizedState!==null,Ha(i,o,u),Jt=m;break;default:Ha(i,o,u)}}function _N(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Tl(i)}catch(u){ft(o,o.return,u)}}}function NN(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Tl(i)}catch(u){ft(o,o.return,u)}}function WL(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new xN),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new xN),o;default:throw Error(n(435,i.tag))}}function ch(i,o){var u=WL(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var b=i3.bind(null,i,m);m.then(b,b)}})}function Jr(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var b=u[m],w=i,E=o,k=E;e:for(;k!==null;){switch(k.tag){case 27:if(Xi(k.type)){Pt=k.stateNode,Zr=!1;break e}break;case 5:Pt=k.stateNode,Zr=!1;break e;case 3:case 4:Pt=k.stateNode.containerInfo,Zr=!0;break e}k=k.return}if(Pt===null)throw Error(n(160));SN(w,E,b),Pt=null,Zr=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)ON(o,i),o=o.sibling}var Zn=null;function ON(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Jr(o,i),en(i),m&4&&(Fi(3,i,i.return),_u(3,i),Fi(5,i,i.return));break;case 1:Jr(o,i),en(i),m&512&&(Jt||u===null||pa(u,u.return)),m&64&&Qa&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var b=Zn;if(Jr(o,i),en(i),m&512&&(Jt||u===null||pa(u,u.return)),m&4){var w=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":w=b.getElementsByTagName("title")[0],(!w||w[Zc]||w[Nr]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(m),b.head.insertBefore(w,b.querySelector("head > title"))),Cr(w,m,u),w[Nr]=i,mr(w),m=w;break e;case"link":var E=OO("link","href",b).get(m+(u.href||""));if(E){for(var k=0;k<E.length;k++)if(w=E[k],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){E.splice(k,1);break t}}w=b.createElement(m),Cr(w,m,u),b.head.appendChild(w);break;case"meta":if(E=OO("meta","content",b).get(m+(u.content||""))){for(k=0;k<E.length;k++)if(w=E[k],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){E.splice(k,1);break t}}w=b.createElement(m),Cr(w,m,u),b.head.appendChild(w);break;default:throw Error(n(468,m))}w[Nr]=i,mr(w),m=w}i.stateNode=m}else EO(b,i.type,i.stateNode);else i.stateNode=NO(b,m,i.memoizedProps);else w!==m?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,m===null?EO(b,i.type,i.stateNode):NO(b,m,i.memoizedProps)):m===null&&i.stateNode!==null&&rv(i,i.memoizedProps,u.memoizedProps)}break;case 27:Jr(o,i),en(i),m&512&&(Jt||u===null||pa(u,u.return)),u!==null&&m&4&&rv(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Jr(o,i),en(i),m&512&&(Jt||u===null||pa(u,u.return)),i.flags&32){b=i.stateNode;try{tl(b,"")}catch(Oe){ft(i,i.return,Oe)}}m&4&&i.stateNode!=null&&(b=i.memoizedProps,rv(i,b,u!==null?u.memoizedProps:b)),m&1024&&(iv=!0);break;case 6:if(Jr(o,i),en(i),m&4){if(i.stateNode===null)throw Error(n(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(Oe){ft(i,i.return,Oe)}}break;case 3:if(Nh=null,b=Zn,Zn=Sh(o.containerInfo),Jr(o,i),Zn=b,en(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Tl(o.containerInfo)}catch(Oe){ft(i,i.return,Oe)}iv&&(iv=!1,EN(i));break;case 4:m=Zn,Zn=Sh(i.stateNode.containerInfo),Jr(o,i),en(i),Zn=m;break;case 12:Jr(o,i),en(i);break;case 31:Jr(o,i),en(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,ch(i,m)));break;case 13:Jr(o,i),en(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(dh=ut()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,ch(i,m)));break;case 22:b=i.memoizedState!==null;var $=u!==null&&u.memoizedState!==null,Z=Qa,ce=Jt;if(Qa=Z||b,Jt=ce||$,Jr(o,i),Jt=ce,Qa=Z,en(i),m&8192)e:for(o=i.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(u===null||$||Qa||Jt||Zs(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){$=u=o;try{if(w=$.stateNode,b)E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{k=$.stateNode;var me=$.memoizedProps.style,J=me!=null&&me.hasOwnProperty("display")?me.display:null;k.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Oe){ft($,$.return,Oe)}}}else if(o.tag===6){if(u===null){$=o;try{$.stateNode.nodeValue=b?"":$.memoizedProps}catch(Oe){ft($,$.return,Oe)}}}else if(o.tag===18){if(u===null){$=o;try{var re=$.stateNode;b?gO(re,!0):gO($.stateNode,!1)}catch(Oe){ft($,$.return,Oe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,ch(i,u))));break;case 19:Jr(o,i),en(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,ch(i,m)));break;case 30:break;case 21:break;default:Jr(o,i),en(i)}}function en(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(vN(m)){u=m;break}m=m.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var b=u.stateNode,w=nv(i);lh(i,w,b);break;case 5:var E=u.stateNode;u.flags&32&&(tl(E,""),u.flags&=-33);var k=nv(i);lh(i,k,E);break;case 3:case 4:var $=u.stateNode.containerInfo,Z=nv(i);av(i,Z,$);break;default:throw Error(n(161))}}catch(ce){ft(i,i.return,ce)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function EN(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;EN(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Va(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)wN(i,o.alternate,o),o=o.sibling}function Zs(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Fi(4,o,o.return),Zs(o);break;case 1:pa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&gN(o,o.return,u),Zs(o);break;case 27:Mu(o.stateNode);case 26:case 5:pa(o,o.return),Zs(o);break;case 22:o.memoizedState===null&&Zs(o);break;case 30:Zs(o);break;default:Zs(o)}i=i.sibling}}function Ga(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,b=i,w=o,E=w.flags;switch(w.tag){case 0:case 11:case 15:Ga(b,w,u),_u(4,w);break;case 1:if(Ga(b,w,u),m=w,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Z){ft(m,m.return,Z)}if(m=w,b=m.updateQueue,b!==null){var k=m.stateNode;try{var $=b.shared.hiddenCallbacks;if($!==null)for(b.shared.hiddenCallbacks=null,b=0;b<$.length;b++)a_($[b],k)}catch(Z){ft(m,m.return,Z)}}u&&E&64&&pN(w),Nu(w,w.return);break;case 27:bN(w);case 26:case 5:Ga(b,w,u),u&&m===null&&E&4&&yN(w),Nu(w,w.return);break;case 12:Ga(b,w,u);break;case 31:Ga(b,w,u),u&&E&4&&_N(b,w);break;case 13:Ga(b,w,u),u&&E&4&&NN(b,w);break;case 22:w.memoizedState===null&&Ga(b,w,u),Nu(w,w.return);break;case 30:break;default:Ga(b,w,u)}o=o.sibling}}function sv(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&du(u))}function ov(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&du(i))}function Jn(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)AN(i,o,u,m),o=o.sibling}function AN(i,o,u,m){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Jn(i,o,u,m),b&2048&&_u(9,o);break;case 1:Jn(i,o,u,m);break;case 3:Jn(i,o,u,m),b&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&du(i)));break;case 12:if(b&2048){Jn(i,o,u,m),i=o.stateNode;try{var w=o.memoizedProps,E=w.id,k=w.onPostCommit;typeof k=="function"&&k(E,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch($){ft(o,o.return,$)}}else Jn(i,o,u,m);break;case 31:Jn(i,o,u,m);break;case 13:Jn(i,o,u,m);break;case 23:break;case 22:w=o.stateNode,E=o.alternate,o.memoizedState!==null?w._visibility&2?Jn(i,o,u,m):Ou(i,o):w._visibility&2?Jn(i,o,u,m):(w._visibility|=2,wl(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),b&2048&&sv(E,o);break;case 24:Jn(i,o,u,m),b&2048&&ov(o.alternate,o);break;default:Jn(i,o,u,m)}}function wl(i,o,u,m,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=i,E=o,k=u,$=m,Z=E.flags;switch(E.tag){case 0:case 11:case 15:wl(w,E,k,$,b),_u(8,E);break;case 23:break;case 22:var ce=E.stateNode;E.memoizedState!==null?ce._visibility&2?wl(w,E,k,$,b):Ou(w,E):(ce._visibility|=2,wl(w,E,k,$,b)),b&&Z&2048&&sv(E.alternate,E);break;case 24:wl(w,E,k,$,b),b&&Z&2048&&ov(E.alternate,E);break;default:wl(w,E,k,$,b)}o=o.sibling}}function Ou(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,b=m.flags;switch(m.tag){case 22:Ou(u,m),b&2048&&sv(m.alternate,m);break;case 24:Ou(u,m),b&2048&&ov(m.alternate,m);break;default:Ou(u,m)}o=o.sibling}}var Eu=8192;function jl(i,o,u){if(i.subtreeFlags&Eu)for(i=i.child;i!==null;)CN(i,o,u),i=i.sibling}function CN(i,o,u){switch(i.tag){case 26:jl(i,o,u),i.flags&Eu&&i.memoizedState!==null&&I3(u,Zn,i.memoizedState,i.memoizedProps);break;case 5:jl(i,o,u);break;case 3:case 4:var m=Zn;Zn=Sh(i.stateNode.containerInfo),jl(i,o,u),Zn=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=Eu,Eu=16777216,jl(i,o,u),Eu=m):jl(i,o,u));break;default:jl(i,o,u)}}function kN(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Au(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];pr=m,TN(m,i)}kN(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)PN(i),i=i.sibling}function PN(i){switch(i.tag){case 0:case 11:case 15:Au(i),i.flags&2048&&Fi(9,i,i.return);break;case 3:Au(i);break;case 12:Au(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,uh(i)):Au(i);break;default:Au(i)}}function uh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];pr=m,TN(m,i)}kN(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Fi(8,o,o.return),uh(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,uh(o));break;default:uh(o)}i=i.sibling}}function TN(i,o){for(;pr!==null;){var u=pr;switch(u.tag){case 0:case 11:case 15:Fi(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:du(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,pr=m;else e:for(u=i;pr!==null;){m=pr;var b=m.sibling,w=m.return;if(jN(m),m===u){pr=null;break e}if(b!==null){b.return=w,pr=b;break e}pr=w}}}var XL={getCacheForType:function(i){var o=Er(Wt),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return Er(Wt).controller.signal}},ZL=typeof WeakMap=="function"?WeakMap:Map,ot=0,xt=null,Ve=null,Ye=0,dt=0,vn=null,Qi=!1,Sl=!1,lv=!1,Ya=0,Ut=0,Hi=0,Js=0,cv=0,bn=0,_l=0,Cu=null,tn=null,uv=!1,dh=0,DN=0,fh=1/0,hh=null,Vi=null,or=0,Gi=null,Nl=null,Wa=0,dv=0,fv=null,MN=null,ku=0,hv=null;function xn(){return(ot&2)!==0&&Ye!==0?Ye&-Ye:B.T!==null?bv():W1()}function RN(){if(bn===0)if((Ye&536870912)===0||Xe){var i=wf;wf<<=1,(wf&3932160)===0&&(wf=262144),bn=i}else bn=536870912;return i=gn.current,i!==null&&(i.flags|=32),bn}function rn(i,o,u){(i===xt&&(dt===2||dt===9)||i.cancelPendingCommit!==null)&&(Ol(i,0),Yi(i,Ye,bn,!1)),Xc(i,u),((ot&2)===0||i!==xt)&&(i===xt&&((ot&2)===0&&(Js|=u),Ut===4&&Yi(i,Ye,bn,!1)),ga(i))}function IN(i,o,u){if((ot&6)!==0)throw Error(n(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||Wc(i,o),b=m?t3(i,o):pv(i,o,!0),w=m;do{if(b===0){Sl&&!m&&Yi(i,o,0,!1);break}else{if(u=i.current.alternate,w&&!JL(u)){b=pv(i,o,!1),w=!1;continue}if(b===2){if(w=o,i.errorRecoveryDisabledLanes&w)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var k=i;b=Cu;var $=k.current.memoizedState.isDehydrated;if($&&(Ol(k,E).flags|=256),E=pv(k,E,!1),E!==2){if(lv&&!$){k.errorRecoveryDisabledLanes|=w,Js|=w,b=4;break e}w=tn,tn=b,w!==null&&(tn===null?tn=w:tn.push.apply(tn,w))}b=E}if(w=!1,b!==2)continue}}if(b===1){Ol(i,0),Yi(i,o,0,!0);break}e:{switch(m=i,w=b,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Yi(m,o,bn,!Qi);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=dh+300-ut(),10<b)){if(Yi(m,o,bn,!Qi),Sf(m,0,!0)!==0)break e;Wa=o,m.timeoutHandle=hO(LN.bind(null,m,u,tn,hh,uv,o,bn,Js,_l,Qi,w,"Throttled",-0,0),b);break e}LN(m,u,tn,hh,uv,o,bn,Js,_l,Qi,w,null,-0,0)}}break}while(!0);ga(i)}function LN(i,o,u,m,b,w,E,k,$,Z,ce,me,J,re){if(i.timeoutHandle=-1,me=o.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ra},CN(o,w,me);var Oe=(w&62914560)===w?dh-ut():(w&4194048)===w?DN-ut():0;if(Oe=L3(me,Oe),Oe!==null){Wa=w,i.cancelPendingCommit=Oe(QN.bind(null,i,o,w,u,m,b,E,k,$,ce,me,null,J,re)),Yi(i,w,E,!Z);return}}QN(i,o,w,u,m,b,E,k,$)}function JL(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var b=u[m],w=b.getSnapshot;b=b.value;try{if(!mn(w(),b))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Yi(i,o,u,m){o&=~cv,o&=~Js,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var b=o;0<b;){var w=31-hn(b),E=1<<w;m[w]=-1,b&=~E}u!==0&&V1(i,u,o)}function mh(){return(ot&6)===0?(Pu(0),!1):!0}function mv(){if(Ve!==null){if(dt===0)var i=Ve.return;else i=Ve,$a=Fs=null,ky(i),gl=null,hu=0,i=Ve;for(;i!==null;)mN(i.alternate,i),i=i.return;Ve=null}}function Ol(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,b3(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Wa=0,mv(),xt=i,Ve=u=La(i.current,null),Ye=o,dt=0,vn=null,Qi=!1,Sl=Wc(i,o),lv=!1,_l=bn=cv=Js=Hi=Ut=0,tn=Cu=null,uv=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var b=31-hn(m),w=1<<b;o|=i[b],m&=~w}return Ya=o,Rf(),u}function BN(i,o){Ue=null,B.H=wu,o===pl||o===Kf?(o=e_(),dt=3):o===vy?(o=e_(),dt=4):dt=o===Hy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,vn=o,Ve===null&&(Ut=1,nh(i,Dn(o,i.current)))}function $N(){var i=gn.current;return i===null?!0:(Ye&4194048)===Ye?Ln===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?i===Ln:!1}function UN(){var i=B.H;return B.H=wu,i===null?wu:i}function zN(){var i=B.A;return B.A=XL,i}function ph(){Ut=4,Qi||(Ye&4194048)!==Ye&&gn.current!==null||(Sl=!0),(Hi&134217727)===0&&(Js&134217727)===0||xt===null||Yi(xt,Ye,bn,!1)}function pv(i,o,u){var m=ot;ot|=2;var b=UN(),w=zN();(xt!==i||Ye!==o)&&(hh=null,Ol(i,o)),o=!1;var E=Ut;e:do try{if(dt!==0&&Ve!==null){var k=Ve,$=vn;switch(dt){case 8:mv(),E=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(o=!0);var Z=dt;if(dt=0,vn=null,El(i,k,$,Z),u&&Sl){E=0;break e}break;default:Z=dt,dt=0,vn=null,El(i,k,$,Z)}}e3(),E=Ut;break}catch(ce){BN(i,ce)}while(!0);return o&&i.shellSuspendCounter++,$a=Fs=null,ot=m,B.H=b,B.A=w,Ve===null&&(xt=null,Ye=0,Rf()),E}function e3(){for(;Ve!==null;)qN(Ve)}function t3(i,o){var u=ot;ot|=2;var m=UN(),b=zN();xt!==i||Ye!==o?(hh=null,fh=ut()+500,Ol(i,o)):Sl=Wc(i,o);e:do try{if(dt!==0&&Ve!==null){o=Ve;var w=vn;t:switch(dt){case 1:dt=0,vn=null,El(i,o,w,1);break;case 2:case 9:if(ZS(w)){dt=0,vn=null,KN(o);break}o=function(){dt!==2&&dt!==9||xt!==i||(dt=7),ga(i)},w.then(o,o);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:ZS(w)?(dt=0,vn=null,KN(o)):(dt=0,vn=null,El(i,o,w,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var k=Ve;if(E?AO(E):k.stateNode.complete){dt=0,vn=null;var $=k.sibling;if($!==null)Ve=$;else{var Z=k.return;Z!==null?(Ve=Z,gh(Z)):Ve=null}break t}}dt=0,vn=null,El(i,o,w,5);break;case 6:dt=0,vn=null,El(i,o,w,6);break;case 8:mv(),Ut=6;break e;default:throw Error(n(462))}}r3();break}catch(ce){BN(i,ce)}while(!0);return $a=Fs=null,B.H=m,B.A=b,ot=u,Ve!==null?0:(xt=null,Ye=0,Rf(),Ut)}function r3(){for(;Ve!==null&&!Yr();)qN(Ve)}function qN(i){var o=fN(i.alternate,i,Ya);i.memoizedProps=i.pendingProps,o===null?gh(i):Ve=o}function KN(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=sN(u,o,o.pendingProps,o.type,void 0,Ye);break;case 11:o=sN(u,o,o.pendingProps,o.type.render,o.ref,Ye);break;case 5:ky(o);default:mN(u,o),o=Ve=zS(o,Ya),o=fN(u,o,Ya)}i.memoizedProps=i.pendingProps,o===null?gh(i):Ve=o}function El(i,o,u,m){$a=Fs=null,ky(o),gl=null,hu=0;var b=o.return;try{if(FL(i,b,o,u,Ye)){Ut=1,nh(i,Dn(u,i.current)),Ve=null;return}}catch(w){if(b!==null)throw Ve=b,w;Ut=1,nh(i,Dn(u,i.current)),Ve=null;return}o.flags&32768?(Xe||m===1?i=!0:Sl||(Ye&536870912)!==0?i=!1:(Qi=i=!0,(m===2||m===9||m===3||m===6)&&(m=gn.current,m!==null&&m.tag===13&&(m.flags|=16384))),FN(o,i)):gh(o)}function gh(i){var o=i;do{if((o.flags&32768)!==0){FN(o,Qi);return}i=o.return;var u=VL(o.alternate,o,Ya);if(u!==null){Ve=u;return}if(o=o.sibling,o!==null){Ve=o;return}Ve=o=i}while(o!==null);Ut===0&&(Ut=5)}function FN(i,o){do{var u=GL(i.alternate,i);if(u!==null){u.flags&=32767,Ve=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=u}while(i!==null);Ut=6,Ve=null}function QN(i,o,u,m,b,w,E,k,$){i.cancelPendingCommit=null;do yh();while(or!==0);if((ot&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=ny,R5(i,u,w,E,k,$),i===xt&&(Ve=xt=null,Ye=0),Nl=o,Gi=i,Wa=u,dv=w,fv=b,MN=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,s3(Rs,function(){return WN(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=B.T,B.T=null,b=V.p,V.p=2,E=ot,ot|=4;try{YL(i,o,u)}finally{ot=E,V.p=b,B.T=m}}or=1,HN(),VN(),GN()}}function HN(){if(or===1){or=0;var i=Gi,o=Nl,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var m=V.p;V.p=2;var b=ot;ot|=4;try{ON(o,i);var w=Ev,E=TS(i.containerInfo),k=w.focusedElem,$=w.selectionRange;if(E!==k&&k&&k.ownerDocument&&PS(k.ownerDocument.documentElement,k)){if($!==null&&Zg(k)){var Z=$.start,ce=$.end;if(ce===void 0&&(ce=Z),"selectionStart"in k)k.selectionStart=Z,k.selectionEnd=Math.min(ce,k.value.length);else{var me=k.ownerDocument||document,J=me&&me.defaultView||window;if(J.getSelection){var re=J.getSelection(),Oe=k.textContent.length,De=Math.min($.start,Oe),yt=$.end===void 0?De:Math.min($.end,Oe);!re.extend&&De>yt&&(E=yt,yt=De,De=E);var F=kS(k,De),z=kS(k,yt);if(F&&z&&(re.rangeCount!==1||re.anchorNode!==F.node||re.anchorOffset!==F.offset||re.focusNode!==z.node||re.focusOffset!==z.offset)){var X=me.createRange();X.setStart(F.node,F.offset),re.removeAllRanges(),De>yt?(re.addRange(X),re.extend(z.node,z.offset)):(X.setEnd(z.node,z.offset),re.addRange(X))}}}}for(me=[],re=k;re=re.parentNode;)re.nodeType===1&&me.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<me.length;k++){var fe=me[k];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Ch=!!Ov,Ev=Ov=null}finally{ot=b,V.p=m,B.T=u}}i.current=o,or=2}}function VN(){if(or===2){or=0;var i=Gi,o=Nl,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var m=V.p;V.p=2;var b=ot;ot|=4;try{wN(i,o.alternate,o)}finally{ot=b,V.p=m,B.T=u}}or=3}}function GN(){if(or===4||or===3){or=0,sr();var i=Gi,o=Nl,u=Wa,m=MN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?or=5:(or=0,Nl=Gi=null,YN(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Vi=null),Dg(u),o=o.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Yc,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=B.T,b=V.p,V.p=2,B.T=null;try{for(var w=i.onRecoverableError,E=0;E<m.length;E++){var k=m[E];w(k.value,{componentStack:k.stack})}}finally{B.T=o,V.p=b}}(Wa&3)!==0&&yh(),ga(i),b=i.pendingLanes,(u&261930)!==0&&(b&42)!==0?i===hv?ku++:(ku=0,hv=i):ku=0,Pu(0)}}function YN(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,du(o)))}function yh(){return HN(),VN(),GN(),WN()}function WN(){if(or!==5)return!1;var i=Gi,o=dv;dv=0;var u=Dg(Wa),m=B.T,b=V.p;try{V.p=32>u?32:u,B.T=null,u=fv,fv=null;var w=Gi,E=Wa;if(or=0,Nl=Gi=null,Wa=0,(ot&6)!==0)throw Error(n(331));var k=ot;if(ot|=4,PN(w.current),AN(w,w.current,E,u),ot=k,Pu(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Yc,w)}catch{}return!0}finally{V.p=b,B.T=m,YN(i,o)}}function XN(i,o,u){o=Dn(u,o),o=Qy(i.stateNode,o,2),i=zi(i,o,2),i!==null&&(Xc(i,2),ga(i))}function ft(i,o,u){if(i.tag===3)XN(i,i,u);else for(;o!==null;){if(o.tag===3){XN(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Vi===null||!Vi.has(m))){i=Dn(u,i),u=Z_(2),m=zi(o,u,2),m!==null&&(J_(u,m,o,i),Xc(m,2),ga(m));break}}o=o.return}}function gv(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new ZL;var b=new Set;m.set(o,b)}else b=m.get(o),b===void 0&&(b=new Set,m.set(o,b));b.has(u)||(lv=!0,b.add(u),i=n3.bind(null,i,o,u),o.then(i,i))}function n3(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,xt===i&&(Ye&u)===u&&(Ut===4||Ut===3&&(Ye&62914560)===Ye&&300>ut()-dh?(ot&2)===0&&Ol(i,0):cv|=u,_l===Ye&&(_l=0)),ga(i)}function ZN(i,o){o===0&&(o=H1()),i=zs(i,o),i!==null&&(Xc(i,o),ga(i))}function a3(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),ZN(i,u)}function i3(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,b=i.memoizedState;b!==null&&(u=b.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),ZN(i,u)}function s3(i,o){return le(i,o)}var vh=null,Al=null,yv=!1,bh=!1,vv=!1,Wi=0;function ga(i){i!==Al&&i.next===null&&(Al===null?vh=Al=i:Al=Al.next=i),bh=!0,yv||(yv=!0,l3())}function Pu(i,o){if(!vv&&bh){vv=!0;do for(var u=!1,m=vh;m!==null;){if(i!==0){var b=m.pendingLanes;if(b===0)var w=0;else{var E=m.suspendedLanes,k=m.pingedLanes;w=(1<<31-hn(42|i)+1)-1,w&=b&~(E&~k),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,rO(m,w))}else w=Ye,w=Sf(m,m===xt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Wc(m,w)||(u=!0,rO(m,w));m=m.next}while(u);vv=!1}}function o3(){JN()}function JN(){bh=yv=!1;var i=0;Wi!==0&&v3()&&(i=Wi);for(var o=ut(),u=null,m=vh;m!==null;){var b=m.next,w=eO(m,o);w===0?(m.next=null,u===null?vh=b:u.next=b,b===null&&(Al=u)):(u=m,(i!==0||(w&3)!==0)&&(bh=!0)),m=b}or!==0&&or!==5||Pu(i),Wi!==0&&(Wi=0)}function eO(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,b=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var E=31-hn(w),k=1<<E,$=b[E];$===-1?((k&u)===0||(k&m)!==0)&&(b[E]=M5(k,o)):$<=o&&(i.expiredLanes|=k),w&=~k}if(o=xt,u=Ye,u=Sf(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(dt===2||dt===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&kt(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Wc(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&kt(m),Dg(u)){case 2:case 8:u=Gc;break;case 32:u=Rs;break;case 268435456:u=Go;break;default:u=Rs}return m=tO.bind(null,i),u=le(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&kt(m),i.callbackPriority=2,i.callbackNode=null,2}function tO(i,o){if(or!==0&&or!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(yh()&&i.callbackNode!==u)return null;var m=Ye;return m=Sf(i,i===xt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(IN(i,m,o),eO(i,ut()),i.callbackNode!=null&&i.callbackNode===u?tO.bind(null,i):null)}function rO(i,o){if(yh())return null;IN(i,o,!0)}function l3(){x3(function(){(ot&6)!==0?le(Vc,o3):JN()})}function bv(){if(Wi===0){var i=hl;i===0&&(i=xf,xf<<=1,(xf&261888)===0&&(xf=256)),Wi=i}return Wi}function nO(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ef(""+i)}function aO(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function c3(i,o,u,m,b){if(o==="submit"&&u&&u.stateNode===b){var w=nO((b[Wr]||null).action),E=m.submitter;E&&(o=(o=E[Wr]||null)?nO(o.formAction):E.getAttribute("formAction"),o!==null&&(w=o,E=null));var k=new Pf("action","action",null,m,b);i.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Wi!==0){var $=E?aO(b,E):new FormData(b);$y(u,{pending:!0,data:$,method:b.method,action:w},null,$)}}else typeof w=="function"&&(k.preventDefault(),$=E?aO(b,E):new FormData(b),$y(u,{pending:!0,data:$,method:b.method,action:w},w,$))},currentTarget:b}]})}}for(var xv=0;xv<ry.length;xv++){var wv=ry[xv],u3=wv.toLowerCase(),d3=wv[0].toUpperCase()+wv.slice(1);Xn(u3,"on"+d3)}Xn(RS,"onAnimationEnd"),Xn(IS,"onAnimationIteration"),Xn(LS,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(EL,"onTransitionRun"),Xn(AL,"onTransitionStart"),Xn(CL,"onTransitionCancel"),Xn(BS,"onTransitionEnd"),Jo("onMouseEnter",["mouseout","mouseover"]),Jo("onMouseLeave",["mouseout","mouseover"]),Jo("onPointerEnter",["pointerout","pointerover"]),Jo("onPointerLeave",["pointerout","pointerover"]),Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function iO(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],b=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var E=m.length-1;0<=E;E--){var k=m[E],$=k.instance,Z=k.currentTarget;if(k=k.listener,$!==w&&b.isPropagationStopped())break e;w=k,b.currentTarget=Z;try{w(b)}catch(ce){Mf(ce)}b.currentTarget=null,w=$}else for(E=0;E<m.length;E++){if(k=m[E],$=k.instance,Z=k.currentTarget,k=k.listener,$!==w&&b.isPropagationStopped())break e;w=k,b.currentTarget=Z;try{w(b)}catch(ce){Mf(ce)}b.currentTarget=null,w=$}}}}function Ge(i,o){var u=o[Mg];u===void 0&&(u=o[Mg]=new Set);var m=i+"__bubble";u.has(m)||(sO(o,i,2,!1),u.add(m))}function jv(i,o,u){var m=0;o&&(m|=4),sO(u,i,m,o)}var xh="_reactListening"+Math.random().toString(36).slice(2);function Sv(i){if(!i[xh]){i[xh]=!0,J1.forEach(function(u){u!=="selectionchange"&&(f3.has(u)||jv(u,!1,i),jv(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[xh]||(o[xh]=!0,jv("selectionchange",!1,o))}}function sO(i,o,u,m){switch(RO(o)){case 2:var b=U3;break;case 8:b=z3;break;default:b=Bv}u=b.bind(null,o,u,i),b=void 0,!Kg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),m?b!==void 0?i.addEventListener(o,u,{capture:!0,passive:b}):i.addEventListener(o,u,!0):b!==void 0?i.addEventListener(o,u,{passive:b}):i.addEventListener(o,u,!1)}function _v(i,o,u,m,b){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var E=m.tag;if(E===3||E===4){var k=m.stateNode.containerInfo;if(k===b)break;if(E===4)for(E=m.return;E!==null;){var $=E.tag;if(($===3||$===4)&&E.stateNode.containerInfo===b)return;E=E.return}for(;k!==null;){if(E=Wo(k),E===null)return;if($=E.tag,$===5||$===6||$===26||$===27){m=w=E;continue e}k=k.parentNode}}m=m.return}dS(function(){var Z=w,ce=zg(u),me=[];e:{var J=$S.get(i);if(J!==void 0){var re=Pf,Oe=i;switch(i){case"keypress":if(Cf(u)===0)break e;case"keydown":case"keyup":re=iL;break;case"focusin":Oe="focus",re=Vg;break;case"focusout":Oe="blur",re=Vg;break;case"beforeblur":case"afterblur":re=Vg;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=mS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=V5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=lL;break;case RS:case IS:case LS:re=W5;break;case BS:re=uL;break;case"scroll":case"scrollend":re=Q5;break;case"wheel":re=fL;break;case"copy":case"cut":case"paste":re=Z5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=gS;break;case"toggle":case"beforetoggle":re=mL}var De=(o&4)!==0,yt=!De&&(i==="scroll"||i==="scrollend"),F=De?J!==null?J+"Capture":null:J;De=[];for(var z=Z,X;z!==null;){var fe=z;if(X=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||X===null||F===null||(fe=eu(z,F),fe!=null&&De.push(Du(z,fe,X))),yt)break;z=z.return}0<De.length&&(J=new re(J,Oe,null,u,ce),me.push({event:J,listeners:De}))}}if((o&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",J&&u!==Ug&&(Oe=u.relatedTarget||u.fromElement)&&(Wo(Oe)||Oe[Yo]))break e;if((re||J)&&(J=ce.window===ce?ce:(J=ce.ownerDocument)?J.defaultView||J.parentWindow:window,re?(Oe=u.relatedTarget||u.toElement,re=Z,Oe=Oe?Wo(Oe):null,Oe!==null&&(yt=s(Oe),De=Oe.tag,Oe!==yt||De!==5&&De!==27&&De!==6)&&(Oe=null)):(re=null,Oe=Z),re!==Oe)){if(De=mS,fe="onMouseLeave",F="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(De=gS,fe="onPointerLeave",F="onPointerEnter",z="pointer"),yt=re==null?J:Jc(re),X=Oe==null?J:Jc(Oe),J=new De(fe,z+"leave",re,u,ce),J.target=yt,J.relatedTarget=X,fe=null,Wo(ce)===Z&&(De=new De(F,z+"enter",Oe,u,ce),De.target=X,De.relatedTarget=yt,fe=De),yt=fe,re&&Oe)t:{for(De=h3,F=re,z=Oe,X=0,fe=F;fe;fe=De(fe))X++;fe=0;for(var Te=z;Te;Te=De(Te))fe++;for(;0<X-fe;)F=De(F),X--;for(;0<fe-X;)z=De(z),fe--;for(;X--;){if(F===z||z!==null&&F===z.alternate){De=F;break t}F=De(F),z=De(z)}De=null}else De=null;re!==null&&oO(me,J,re,De,!1),Oe!==null&&yt!==null&&oO(me,yt,Oe,De,!0)}}e:{if(J=Z?Jc(Z):window,re=J.nodeName&&J.nodeName.toLowerCase(),re==="select"||re==="input"&&J.type==="file")var rt=_S;else if(jS(J))if(NS)rt=_L;else{rt=jL;var Ae=wL}else re=J.nodeName,!re||re.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&$g(Z.elementType)&&(rt=_S):rt=SL;if(rt&&(rt=rt(i,Z))){SS(me,rt,u,ce);break e}Ae&&Ae(i,J,Z),i==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&Bg(J,"number",J.value)}switch(Ae=Z?Jc(Z):window,i){case"focusin":(jS(Ae)||Ae.contentEditable==="true")&&(il=Ae,Jg=Z,lu=null);break;case"focusout":lu=Jg=il=null;break;case"mousedown":ey=!0;break;case"contextmenu":case"mouseup":case"dragend":ey=!1,DS(me,u,ce);break;case"selectionchange":if(OL)break;case"keydown":case"keyup":DS(me,u,ce)}var qe;if(Yg)e:{switch(i){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else al?xS(i,u)&&(We="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(We="onCompositionStart");We&&(yS&&u.locale!=="ko"&&(al||We!=="onCompositionStart"?We==="onCompositionEnd"&&al&&(qe=fS()):(Mi=ce,Fg="value"in Mi?Mi.value:Mi.textContent,al=!0)),Ae=wh(Z,We),0<Ae.length&&(We=new pS(We,i,null,u,ce),me.push({event:We,listeners:Ae}),qe?We.data=qe:(qe=wS(u),qe!==null&&(We.data=qe)))),(qe=gL?yL(i,u):vL(i,u))&&(We=wh(Z,"onBeforeInput"),0<We.length&&(Ae=new pS("onBeforeInput","beforeinput",null,u,ce),me.push({event:Ae,listeners:We}),Ae.data=qe)),c3(me,i,Z,u,ce)}iO(me,o)})}function Du(i,o,u){return{instance:i,listener:o,currentTarget:u}}function wh(i,o){for(var u=o+"Capture",m=[];i!==null;){var b=i,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=eu(i,u),b!=null&&m.unshift(Du(i,b,w)),b=eu(i,o),b!=null&&m.push(Du(i,b,w))),i.tag===3)return m;i=i.return}return[]}function h3(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function oO(i,o,u,m,b){for(var w=o._reactName,E=[];u!==null&&u!==m;){var k=u,$=k.alternate,Z=k.stateNode;if(k=k.tag,$!==null&&$===m)break;k!==5&&k!==26&&k!==27||Z===null||($=Z,b?(Z=eu(u,w),Z!=null&&E.unshift(Du(u,Z,$))):b||(Z=eu(u,w),Z!=null&&E.push(Du(u,Z,$)))),u=u.return}E.length!==0&&i.push({event:o,listeners:E})}var m3=/\r\n?/g,p3=/\u0000|\uFFFD/g;function lO(i){return(typeof i=="string"?i:""+i).replace(m3,`
`).replace(p3,"")}function cO(i,o){return o=lO(o),lO(i)===o}function gt(i,o,u,m,b,w){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||tl(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&tl(i,""+m);break;case"className":Nf(i,"class",m);break;case"tabIndex":Nf(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Nf(i,u,m);break;case"style":cS(i,m,w);break;case"data":if(o!=="object"){Nf(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Ef(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(o!=="input"&&gt(i,o,"name",b.name,b,null),gt(i,o,"formEncType",b.formEncType,b,null),gt(i,o,"formMethod",b.formMethod,b,null),gt(i,o,"formTarget",b.formTarget,b,null)):(gt(i,o,"encType",b.encType,b,null),gt(i,o,"method",b.method,b,null),gt(i,o,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Ef(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=Ra);break;case"onScroll":m!=null&&Ge("scroll",i);break;case"onScrollEnd":m!=null&&Ge("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Ef(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":Ge("beforetoggle",i),Ge("toggle",i),_f(i,"popover",m);break;case"xlinkActuate":Ma(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ma(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ma(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ma(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ma(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ma(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ma(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ma(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ma(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":_f(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=K5.get(u)||u,_f(i,u,m))}}function Nv(i,o,u,m,b,w){switch(u){case"style":cS(i,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof m=="string"?tl(i,m):(typeof m=="number"||typeof m=="bigint")&&tl(i,""+m);break;case"onScroll":m!=null&&Ge("scroll",i);break;case"onScrollEnd":m!=null&&Ge("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eS.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),o=u.slice(2,b?u.length-7:void 0),w=i[Wr]||null,w=w!=null?w[u]:null,typeof w=="function"&&i.removeEventListener(o,w,b),typeof m=="function")){typeof w!="function"&&w!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,b);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):_f(i,u,m)}}}function Cr(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",i),Ge("load",i);var m=!1,b=!1,w;for(w in u)if(u.hasOwnProperty(w)){var E=u[w];if(E!=null)switch(w){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:gt(i,o,w,E,u,null)}}b&&gt(i,o,"srcSet",u.srcSet,u,null),m&&gt(i,o,"src",u.src,u,null);return;case"input":Ge("invalid",i);var k=w=E=b=null,$=null,Z=null;for(m in u)if(u.hasOwnProperty(m)){var ce=u[m];if(ce!=null)switch(m){case"name":b=ce;break;case"type":E=ce;break;case"checked":$=ce;break;case"defaultChecked":Z=ce;break;case"value":w=ce;break;case"defaultValue":k=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(137,o));break;default:gt(i,o,m,ce,u,null)}}iS(i,w,k,$,Z,E,b,!1);return;case"select":Ge("invalid",i),m=E=w=null;for(b in u)if(u.hasOwnProperty(b)&&(k=u[b],k!=null))switch(b){case"value":w=k;break;case"defaultValue":E=k;break;case"multiple":m=k;default:gt(i,o,b,k,u,null)}o=w,u=E,i.multiple=!!m,o!=null?el(i,!!m,o,!1):u!=null&&el(i,!!m,u,!0);return;case"textarea":Ge("invalid",i),w=b=m=null;for(E in u)if(u.hasOwnProperty(E)&&(k=u[E],k!=null))switch(E){case"value":m=k;break;case"defaultValue":b=k;break;case"children":w=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:gt(i,o,E,k,u,null)}oS(i,m,b,w);return;case"option":for($ in u)if(u.hasOwnProperty($)&&(m=u[$],m!=null))switch($){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:gt(i,o,$,m,u,null)}return;case"dialog":Ge("beforetoggle",i),Ge("toggle",i),Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":Ge("load",i);break;case"video":case"audio":for(m=0;m<Tu.length;m++)Ge(Tu[m],i);break;case"image":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"embed":case"source":case"link":Ge("error",i),Ge("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(m=u[Z],m!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:gt(i,o,Z,m,u,null)}return;default:if($g(o)){for(ce in u)u.hasOwnProperty(ce)&&(m=u[ce],m!==void 0&&Nv(i,o,ce,m,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(m=u[k],m!=null&&gt(i,o,k,m,u,null))}function g3(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,E=null,k=null,$=null,Z=null,ce=null;for(re in u){var me=u[re];if(u.hasOwnProperty(re)&&me!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":$=me;default:m.hasOwnProperty(re)||gt(i,o,re,null,m,me)}}for(var J in m){var re=m[J];if(me=u[J],m.hasOwnProperty(J)&&(re!=null||me!=null))switch(J){case"type":w=re;break;case"name":b=re;break;case"checked":Z=re;break;case"defaultChecked":ce=re;break;case"value":E=re;break;case"defaultValue":k=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,o));break;default:re!==me&&gt(i,o,J,re,m,me)}}Lg(i,E,k,$,Z,ce,w,b);return;case"select":re=E=k=J=null;for(w in u)if($=u[w],u.hasOwnProperty(w)&&$!=null)switch(w){case"value":break;case"multiple":re=$;default:m.hasOwnProperty(w)||gt(i,o,w,null,m,$)}for(b in m)if(w=m[b],$=u[b],m.hasOwnProperty(b)&&(w!=null||$!=null))switch(b){case"value":J=w;break;case"defaultValue":k=w;break;case"multiple":E=w;default:w!==$&&gt(i,o,b,w,m,$)}o=k,u=E,m=re,J!=null?el(i,!!u,J,!1):!!m!=!!u&&(o!=null?el(i,!!u,o,!0):el(i,!!u,u?[]:"",!1));return;case"textarea":re=J=null;for(k in u)if(b=u[k],u.hasOwnProperty(k)&&b!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:gt(i,o,k,null,m,b)}for(E in m)if(b=m[E],w=u[E],m.hasOwnProperty(E)&&(b!=null||w!=null))switch(E){case"value":J=b;break;case"defaultValue":re=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==w&&gt(i,o,E,b,m,w)}sS(i,J,re);return;case"option":for(var Oe in u)if(J=u[Oe],u.hasOwnProperty(Oe)&&J!=null&&!m.hasOwnProperty(Oe))switch(Oe){case"selected":i.selected=!1;break;default:gt(i,o,Oe,null,m,J)}for($ in m)if(J=m[$],re=u[$],m.hasOwnProperty($)&&J!==re&&(J!=null||re!=null))switch($){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:gt(i,o,$,J,m,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in u)J=u[De],u.hasOwnProperty(De)&&J!=null&&!m.hasOwnProperty(De)&&gt(i,o,De,null,m,J);for(Z in m)if(J=m[Z],re=u[Z],m.hasOwnProperty(Z)&&J!==re&&(J!=null||re!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,o));break;default:gt(i,o,Z,J,m,re)}return;default:if($g(o)){for(var yt in u)J=u[yt],u.hasOwnProperty(yt)&&J!==void 0&&!m.hasOwnProperty(yt)&&Nv(i,o,yt,void 0,m,J);for(ce in m)J=m[ce],re=u[ce],!m.hasOwnProperty(ce)||J===re||J===void 0&&re===void 0||Nv(i,o,ce,J,m,re);return}}for(var F in u)J=u[F],u.hasOwnProperty(F)&&J!=null&&!m.hasOwnProperty(F)&&gt(i,o,F,null,m,J);for(me in m)J=m[me],re=u[me],!m.hasOwnProperty(me)||J===re||J==null&&re==null||gt(i,o,me,J,m,re)}function uO(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function y3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var b=u[m],w=b.transferSize,E=b.initiatorType,k=b.duration;if(w&&k&&uO(E)){for(E=0,k=b.responseEnd,m+=1;m<u.length;m++){var $=u[m],Z=$.startTime;if(Z>k)break;var ce=$.transferSize,me=$.initiatorType;ce&&uO(me)&&($=$.responseEnd,E+=ce*($<k?1:(k-Z)/($-Z)))}if(--m,o+=8*(w+E)/(b.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ov=null,Ev=null;function jh(i){return i.nodeType===9?i:i.ownerDocument}function dO(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fO(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Av(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Cv=null;function v3(){var i=window.event;return i&&i.type==="popstate"?i===Cv?!1:(Cv=i,!0):(Cv=null,!1)}var hO=typeof setTimeout=="function"?setTimeout:void 0,b3=typeof clearTimeout=="function"?clearTimeout:void 0,mO=typeof Promise=="function"?Promise:void 0,x3=typeof queueMicrotask=="function"?queueMicrotask:typeof mO<"u"?function(i){return mO.resolve(null).then(i).catch(w3)}:hO;function w3(i){setTimeout(function(){throw i})}function Xi(i){return i==="head"}function pO(i,o){var u=o,m=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(b),Tl(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")Mu(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Mu(u);for(var w=u.firstChild;w;){var E=w.nextSibling,k=w.nodeName;w[Zc]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=E}}else u==="body"&&Mu(i.ownerDocument.body);u=b}while(u);Tl(o)}function gO(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function kv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":kv(u),Rg(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function j3(i,o,u,m){for(;i.nodeType===1;){var b=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[Zc])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=Bn(i.nextSibling),i===null)break}return null}function S3(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Bn(i.nextSibling),i===null))return null;return i}function yO(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Bn(i.nextSibling),i===null))return null;return i}function Pv(i){return i.data==="$?"||i.data==="$~"}function Tv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function _3(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Bn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Dv=null;function vO(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return Bn(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function bO(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function xO(i,o,u){switch(o=jh(u),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Mu(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Rg(i)}var $n=new Map,wO=new Set;function Sh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Xa=V.d;V.d={f:N3,r:O3,D:E3,C:A3,L:C3,m:k3,X:T3,S:P3,M:D3};function N3(){var i=Xa.f(),o=mh();return i||o}function O3(i){var o=Xo(i);o!==null&&o.tag===5&&o.type==="form"?B_(o):Xa.r(i)}var Cl=typeof document>"u"?null:document;function jO(i,o,u){var m=Cl;if(m&&typeof o=="string"&&o){var b=Pn(o);b='link[rel="'+i+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),wO.has(b)||(wO.add(b),i={rel:i,crossOrigin:u,href:o},m.querySelector(b)===null&&(o=m.createElement("link"),Cr(o,"link",i),mr(o),m.head.appendChild(o)))}}function E3(i){Xa.D(i),jO("dns-prefetch",i,null)}function A3(i,o){Xa.C(i,o),jO("preconnect",i,o)}function C3(i,o,u){Xa.L(i,o,u);var m=Cl;if(m&&i&&o){var b='link[rel="preload"][as="'+Pn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+Pn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+Pn(u.imageSizes)+'"]')):b+='[href="'+Pn(i)+'"]';var w=b;switch(o){case"style":w=kl(i);break;case"script":w=Pl(i)}$n.has(w)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),$n.set(w,i),m.querySelector(b)!==null||o==="style"&&m.querySelector(Ru(w))||o==="script"&&m.querySelector(Iu(w))||(o=m.createElement("link"),Cr(o,"link",i),mr(o),m.head.appendChild(o)))}}function k3(i,o){Xa.m(i,o);var u=Cl;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+Pn(m)+'"][href="'+Pn(i)+'"]',w=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Pl(i)}if(!$n.has(w)&&(i=g({rel:"modulepreload",href:i},o),$n.set(w,i),u.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Iu(w)))return}m=u.createElement("link"),Cr(m,"link",i),mr(m),u.head.appendChild(m)}}}function P3(i,o,u){Xa.S(i,o,u);var m=Cl;if(m&&i){var b=Zo(m).hoistableStyles,w=kl(i);o=o||"default";var E=b.get(w);if(!E){var k={loading:0,preload:null};if(E=m.querySelector(Ru(w)))k.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=$n.get(w))&&Mv(i,u);var $=E=m.createElement("link");mr($),Cr($,"link",i),$._p=new Promise(function(Z,ce){$.onload=Z,$.onerror=ce}),$.addEventListener("load",function(){k.loading|=1}),$.addEventListener("error",function(){k.loading|=2}),k.loading|=4,_h(E,o,m)}E={type:"stylesheet",instance:E,count:1,state:k},b.set(w,E)}}}function T3(i,o){Xa.X(i,o);var u=Cl;if(u&&i){var m=Zo(u).hoistableScripts,b=Pl(i),w=m.get(b);w||(w=u.querySelector(Iu(b)),w||(i=g({src:i,async:!0},o),(o=$n.get(b))&&Rv(i,o),w=u.createElement("script"),mr(w),Cr(w,"link",i),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(b,w))}}function D3(i,o){Xa.M(i,o);var u=Cl;if(u&&i){var m=Zo(u).hoistableScripts,b=Pl(i),w=m.get(b);w||(w=u.querySelector(Iu(b)),w||(i=g({src:i,async:!0,type:"module"},o),(o=$n.get(b))&&Rv(i,o),w=u.createElement("script"),mr(w),Cr(w,"link",i),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(b,w))}}function SO(i,o,u,m){var b=(b=je.current)?Sh(b):null;if(!b)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=kl(u.href),u=Zo(b).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=kl(u.href);var w=Zo(b).hoistableStyles,E=w.get(i);if(E||(b=b.ownerDocument||b,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,E),(w=b.querySelector(Ru(i)))&&!w._p&&(E.instance=w,E.state.loading=5),$n.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},$n.set(i,u),w||M3(b,i,u,E.state))),o&&m===null)throw Error(n(528,""));return E}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Pl(u),u=Zo(b).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function kl(i){return'href="'+Pn(i)+'"'}function Ru(i){return'link[rel="stylesheet"]['+i+"]"}function _O(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function M3(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Cr(o,"link",u),mr(o),i.head.appendChild(o))}function Pl(i){return'[src="'+Pn(i)+'"]'}function Iu(i){return"script[async]"+i}function NO(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Pn(u.href)+'"]');if(m)return o.instance=m,mr(m),m;var b=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),mr(m),Cr(m,"style",b),_h(m,u.precedence,i),o.instance=m;case"stylesheet":b=kl(u.href);var w=i.querySelector(Ru(b));if(w)return o.state.loading|=4,o.instance=w,mr(w),w;m=_O(u),(b=$n.get(b))&&Mv(m,b),w=(i.ownerDocument||i).createElement("link"),mr(w);var E=w;return E._p=new Promise(function(k,$){E.onload=k,E.onerror=$}),Cr(w,"link",m),o.state.loading|=4,_h(w,u.precedence,i),o.instance=w;case"script":return w=Pl(u.src),(b=i.querySelector(Iu(w)))?(o.instance=b,mr(b),b):(m=u,(b=$n.get(w))&&(m=g({},u),Rv(m,b)),i=i.ownerDocument||i,b=i.createElement("script"),mr(b),Cr(b,"link",m),i.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,_h(m,u.precedence,i));return o.instance}function _h(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,w=b,E=0;E<m.length;E++){var k=m[E];if(k.dataset.precedence===o)w=k;else if(w!==b)break}w?w.parentNode.insertBefore(i,w.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Mv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Rv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Nh=null;function OO(i,o,u){if(Nh===null){var m=new Map,b=Nh=new Map;b.set(u,m)}else b=Nh,m=b.get(u),m||(m=new Map,b.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),b=0;b<u.length;b++){var w=u[b];if(!(w[Zc]||w[Nr]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var E=w.getAttribute(o)||"";E=i+E;var k=m.get(E);k?k.push(w):m.set(E,[w])}}return m}function EO(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function R3(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function AO(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function I3(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=kl(m.href),w=o.querySelector(Ru(b));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Oh.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=w,mr(w);return}w=o.ownerDocument||o,m=_O(m),(b=$n.get(b))&&Mv(m,b),w=w.createElement("link"),mr(w);var E=w;E._p=new Promise(function(k,$){E.onload=k,E.onerror=$}),Cr(w,"link",m),u.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Oh.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Iv=0;function L3(i,o){return i.stylesheets&&i.count===0&&Ah(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&Ah(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+o);0<i.imgBytes&&Iv===0&&(Iv=62500*y3());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ah(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>Iv?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function Oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ah(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Eh=null;function Ah(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Eh=new Map,o.forEach(B3,i),Eh=null,Oh.call(i))}function B3(i,o){if(!(o.state.loading&4)){var u=Eh.get(i);if(u)var m=u.get(null);else{u=new Map,Eh.set(i,u);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var E=b[w];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(u.set(E.dataset.precedence,E),m=E)}m&&u.set(null,m)}b=o.instance,E=b.getAttribute("data-precedence"),w=u.get(E)||m,w===m&&u.set(null,b),u.set(E,b),this.count++,m=Oh.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),w?w.parentNode.insertBefore(b,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),o.state.loading|=4}}var Lu={$$typeof:A,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function $3(i,o,u,m,b,w,E,k,$){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pg(0),this.hiddenUpdates=Pg(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function CO(i,o,u,m,b,w,E,k,$,Z,ce,me){return i=new $3(i,o,u,E,$,Z,ce,me,k),o=1,w===!0&&(o|=24),w=pn(3,null,null,o),i.current=w,w.stateNode=i,o=py(),o.refCount++,i.pooledCache=o,o.refCount++,w.memoizedState={element:m,isDehydrated:u,cache:o},by(w),i}function kO(i){return i?(i=ll,i):ll}function PO(i,o,u,m,b,w){b=kO(b),m.context===null?m.context=b:m.pendingContext=b,m=Ui(o),m.payload={element:u},w=w===void 0?null:w,w!==null&&(m.callback=w),u=zi(i,m,o),u!==null&&(rn(u,i,o),pu(u,i,o))}function TO(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Lv(i,o){TO(i,o),(i=i.alternate)&&TO(i,o)}function DO(i){if(i.tag===13||i.tag===31){var o=zs(i,67108864);o!==null&&rn(o,i,67108864),Lv(i,67108864)}}function MO(i){if(i.tag===13||i.tag===31){var o=xn();o=Tg(o);var u=zs(i,o);u!==null&&rn(u,i,o),Lv(i,o)}}var Ch=!0;function U3(i,o,u,m){var b=B.T;B.T=null;var w=V.p;try{V.p=2,Bv(i,o,u,m)}finally{V.p=w,B.T=b}}function z3(i,o,u,m){var b=B.T;B.T=null;var w=V.p;try{V.p=8,Bv(i,o,u,m)}finally{V.p=w,B.T=b}}function Bv(i,o,u,m){if(Ch){var b=$v(m);if(b===null)_v(i,o,m,kh,u),IO(i,m);else if(K3(b,i,o,u,m))m.stopPropagation();else if(IO(i,m),o&4&&-1<q3.indexOf(i)){for(;b!==null;){var w=Xo(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var E=Is(w.pendingLanes);if(E!==0){var k=w;for(k.pendingLanes|=2,k.entangledLanes|=2;E;){var $=1<<31-hn(E);k.entanglements[1]|=$,E&=~$}ga(w),(ot&6)===0&&(fh=ut()+500,Pu(0))}}break;case 31:case 13:k=zs(w,2),k!==null&&rn(k,w,2),mh(),Lv(w,2)}if(w=$v(m),w===null&&_v(i,o,m,kh,u),w===b)break;b=w}b!==null&&m.stopPropagation()}else _v(i,o,m,null,u)}}function $v(i){return i=zg(i),Uv(i)}var kh=null;function Uv(i){if(kh=null,i=Wo(i),i!==null){var o=s(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=l(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return kh=i,null}function RO(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hc()){case Vc:return 2;case Gc:return 8;case Rs:case bf:return 32;case Go:return 268435456;default:return 32}default:return 32}}var zv=!1,Zi=null,Ji=null,es=null,Bu=new Map,$u=new Map,ts=[],q3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IO(i,o){switch(i){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Bu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":$u.delete(o.pointerId)}}function Uu(i,o,u,m,b,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:w,targetContainers:[b]},o!==null&&(o=Xo(o),o!==null&&DO(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function K3(i,o,u,m,b){switch(o){case"focusin":return Zi=Uu(Zi,i,o,u,m,b),!0;case"dragenter":return Ji=Uu(Ji,i,o,u,m,b),!0;case"mouseover":return es=Uu(es,i,o,u,m,b),!0;case"pointerover":var w=b.pointerId;return Bu.set(w,Uu(Bu.get(w)||null,i,o,u,m,b)),!0;case"gotpointercapture":return w=b.pointerId,$u.set(w,Uu($u.get(w)||null,i,o,u,m,b)),!0}return!1}function LO(i){var o=Wo(i.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){i.blockedOn=o,X1(i.priority,function(){MO(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,X1(i.priority,function(){MO(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ph(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=$v(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Ug=m,u.target.dispatchEvent(m),Ug=null}else return o=Xo(u),o!==null&&DO(o),i.blockedOn=u,!1;o.shift()}return!0}function BO(i,o,u){Ph(i)&&u.delete(o)}function F3(){zv=!1,Zi!==null&&Ph(Zi)&&(Zi=null),Ji!==null&&Ph(Ji)&&(Ji=null),es!==null&&Ph(es)&&(es=null),Bu.forEach(BO),$u.forEach(BO)}function Th(i,o){i.blockedOn===o&&(i.blockedOn=null,zv||(zv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,F3)))}var Dh=null;function $O(i){Dh!==i&&(Dh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Dh===i&&(Dh=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],b=i[o+2];if(typeof m!="function"){if(Uv(m||u)===null)continue;break}var w=Xo(u);w!==null&&(i.splice(o,3),o-=3,$y(w,{pending:!0,data:b,method:u.method,action:m},m,b))}}))}function Tl(i){function o($){return Th($,i)}Zi!==null&&Th(Zi,i),Ji!==null&&Th(Ji,i),es!==null&&Th(es,i),Bu.forEach(o),$u.forEach(o);for(var u=0;u<ts.length;u++){var m=ts[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<ts.length&&(u=ts[0],u.blockedOn===null);)LO(u),u.blockedOn===null&&ts.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var b=u[m],w=u[m+1],E=b[Wr]||null;if(typeof w=="function")E||$O(u);else if(E){var k=null;if(w&&w.hasAttribute("formAction")){if(b=w,E=w[Wr]||null)k=E.formAction;else if(Uv(b)!==null)continue}else k=E.action;typeof k=="function"?u[m+1]=k:(u.splice(m,3),m-=3),$O(u)}}}function UO(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(E){return b=E})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function qv(i){this._internalRoot=i}Mh.prototype.render=qv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,m=xn();PO(u,m,i,o,null,null)},Mh.prototype.unmount=qv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;PO(i.current,2,null,i,null,null),mh(),o[Yo]=null}};function Mh(i){this._internalRoot=i}Mh.prototype.unstable_scheduleHydration=function(i){if(i){var o=W1();i={blockedOn:null,target:i,priority:o};for(var u=0;u<ts.length&&o!==0&&o<ts[u].priority;u++);ts.splice(u,0,i),u===0&&LO(i)}};var zO=t.version;if(zO!=="19.2.4")throw Error(n(527,zO,"19.2.4"));V.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var Q3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{Yc=Rh.inject(Q3),fn=Rh}catch{}}return qu.createRoot=function(i,o){if(!a(i))throw Error(n(299));var u=!1,m="",b=G_,w=Y_,E=W_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=CO(i,1,!1,null,null,u,m,null,b,w,E,UO),i[Yo]=o.current,Sv(i),new qv(o)},qu.hydrateRoot=function(i,o,u){if(!a(i))throw Error(n(299));var m=!1,b="",w=G_,E=Y_,k=W_,$=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.formState!==void 0&&($=u.formState)),o=CO(i,1,!0,o,u??null,m,b,$,w,E,k,UO),o.context=kO(null),u=o.current,m=xn(),m=Tg(m),b=Ui(m),b.callback=null,zi(u,b,m),u=m,o.current.lanes=u,Xc(o,u),ga(o),i[Yo]=o.current,Sv(i),new Mh(o)},qu.version="19.2.4",qu}var ZO;function aB(){if(ZO)return Vv.exports;ZO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vv.exports=nB(),Vv.exports}var iB=aB();const sB=Ta(iB);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JO="popstate";function oB(e={}){function t(a,s){let{pathname:l="/",search:d="",hash:f=""}=Uo(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Fb("",{pathname:l,search:d,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let l=a.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof s=="string"?s:cd(s))}function n(a,s){Vn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return cB(t,r,n,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lB(){return Math.random().toString(36).substring(2,10)}function eE(e,t){return{usr:e.state,key:e.key,idx:t}}function Fb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Uo(t):t,state:r,key:t&&t.key||n||lB()}}function cd({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Uo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function cB(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,l=a.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let _=p(),N=_==null?null:_-h;h=_,f&&f({action:d,location:S.location,delta:N})}function y(_,N){d="PUSH";let O=Fb(S.location,_,N);r&&r(O,_),h=p()+1;let A=eE(O,h),C=S.createHref(O);try{l.pushState(A,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(C)}s&&f&&f({action:d,location:S.location,delta:1})}function v(_,N){d="REPLACE";let O=Fb(S.location,_,N);r&&r(O,_),h=p();let A=eE(O,h),C=S.createHref(O);l.replaceState(A,"",C),s&&f&&f({action:d,location:S.location,delta:0})}function x(_){return uB(_)}let S={get action(){return d},get location(){return e(a,l)},listen(_){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(JO,g),f=_,()=>{a.removeEventListener(JO,g),f=null}},createHref(_){return t(a,_)},createURL:x,encodeLocation(_){let N=x(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:v,go(_){return l.go(_)}};return S}function uB(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:cd(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function dT(e,t,r="/"){return dB(e,t,r,!1)}function dB(e,t,r,n){let a=typeof t=="string"?Uo(t):t,s=hi(a.pathname||"/",r);if(s==null)return null;let l=fT(e);fB(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=SB(s);d=wB(l[f],h,n)}return d}function fT(e,t=[],r=[],n="",a=!1){let s=(l,d,f=a,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&f)return;Rt(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=ci([n,p.relativePath]),y=r.concat(p);l.children&&l.children.length>0&&(Rt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),fT(l.children,t,y,g,f)),!(l.path==null&&!l.index)&&t.push({path:g,score:bB(g,l.index),routesMeta:y})};return e.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,d);else for(let h of hT(l.path))s(l,d,!0,h)}),t}function hT(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let l=hT(n.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),a&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function fB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xB(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var hB=/^:[\w-]+$/,mB=3,pB=2,gB=1,yB=10,vB=-2,tE=e=>e==="*";function bB(e,t){let r=e.split("/"),n=r.length;return r.some(tE)&&(n+=vB),t&&(n+=pB),r.filter(a=>!tE(a)).reduce((a,s)=>a+(hB.test(s)?mB:s===""?gB:yB),n)}function xB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function wB(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",l=[];for(let d=0;d<n.length;++d){let f=n[d],h=d===n.length-1,p=s==="/"?t:t.slice(s.length)||"/",g=vm({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=vm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:ci([s,g.pathname]),pathnameBase:EB(ci([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=ci([s,g.pathnameBase]))}return l}function vm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jB(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let x=d[y]||"";l=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=d[y];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:e}}function jB(e,t=!1,r=!0){Vn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(n.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function SB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var _B=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function NB(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Uo(e):e,s;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?s=rE(r.substring(1),"/"):s=rE(r,t)):s=t,{pathname:s,search:AB(n),hash:CB(a)}}function rE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Xv(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OB(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function bw(e){let t=OB(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function xw(e,t,r,n=!1){let a;typeof e=="string"?a=Uo(e):(a={...e},Rt(!a.pathname||!a.pathname.includes("?"),Xv("?","pathname","search",a)),Rt(!a.pathname||!a.pathname.includes("#"),Xv("#","pathname","hash",a)),Rt(!a.search||!a.search.includes("#"),Xv("#","search","hash",a)));let s=e===""||a.pathname==="",l=s?"/":a.pathname,d;if(l==null)d=r;else{let g=t.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}d=g>=0?t[g]:"/"}let f=NB(a,d),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var ci=e=>e.join("/").replace(/\/\/+/g,"/"),EB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,kB=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function PB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function TB(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var mT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pT(e,t){let r=e;if(typeof r!="string"||!_B.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(mT)try{let s=new URL(window.location.href),l=r.startsWith("//")?new URL(s.protocol+r):new URL(r),d=hi(l.pathname,t);l.origin===s.origin&&d!=null?r=d+l.search+l.hash:a=!0}catch{Vn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gT=["POST","PUT","PATCH","DELETE"];new Set(gT);var DB=["GET",...gT];new Set(DB);var Nc=j.createContext(null);Nc.displayName="DataRouter";var wp=j.createContext(null);wp.displayName="DataRouterState";var MB=j.createContext(!1),yT=j.createContext({isTransitioning:!1});yT.displayName="ViewTransition";var RB=j.createContext(new Map);RB.displayName="Fetchers";var IB=j.createContext(null);IB.displayName="Await";var An=j.createContext(null);An.displayName="Navigation";var zd=j.createContext(null);zd.displayName="Location";var da=j.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var ww=j.createContext(null);ww.displayName="RouteError";var vT="REACT_ROUTER_ERROR",LB="REDIRECT",BB="ROUTE_ERROR_RESPONSE";function $B(e){if(e.startsWith(`${vT}:${LB}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function UB(e){if(e.startsWith(`${vT}:${BB}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new kB(t.status,t.statusText,t.data)}catch{}}function zB(e,{relative:t}={}){Rt(Oc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext(An),{hash:a,pathname:s,search:l}=qd(e,{relative:t}),d=s;return r!=="/"&&(d=s==="/"?r:ci([r,s])),n.createHref({pathname:d,search:l,hash:a})}function Oc(){return j.useContext(zd)!=null}function wi(){return Rt(Oc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(zd).location}var bT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xT(e){j.useContext(An).static||j.useLayoutEffect(e)}function mt(){let{isDataRoute:e}=j.useContext(da);return e?e$():qB()}function qB(){Rt(Oc(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Nc),{basename:t,navigator:r}=j.useContext(An),{matches:n}=j.useContext(da),{pathname:a}=wi(),s=JSON.stringify(bw(n)),l=j.useRef(!1);return xT(()=>{l.current=!0}),j.useCallback((f,h={})=>{if(Vn(l.current,bT),!l.current)return;if(typeof f=="number"){r.go(f);return}let p=xw(f,JSON.parse(s),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ci([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,s,a,e])}j.createContext(null);function Cn(){let{matches:e}=j.useContext(da),t=e[e.length-1];return t?t.params:{}}function qd(e,{relative:t}={}){let{matches:r}=j.useContext(da),{pathname:n}=wi(),a=JSON.stringify(bw(r));return j.useMemo(()=>xw(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function KB(e,t){return wT(e,t)}function wT(e,t,r,n,a){var O;Rt(Oc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(An),{matches:l}=j.useContext(da),d=l[l.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let A=g&&g.path||"";ST(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=wi(),v;if(t){let A=typeof t=="string"?Uo(t):t;Rt(p==="/"||((O=A.pathname)==null?void 0:O.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),v=A}else v=y;let x=v.pathname||"/",S=x;if(p!=="/"){let A=p.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=dT(e,{pathname:S});Vn(g||_!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Vn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=GB(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:ci([p,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:ci([p,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),l,r,n,a);return t&&N?j.createElement(zd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},N):N}function FB(){let e=JB(),t=PB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:a},r):null,l)}var QB=j.createElement(FB,null),jT=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=UB(e.digest);r&&(e=r)}let t=e!==void 0?j.createElement(da.Provider,{value:this.props.routeContext},j.createElement(ww.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(HB,{error:e},t):t}};jT.contextType=MB;var Zv=new WeakMap;function HB({children:e,error:t}){let{basename:r}=j.useContext(An);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=$B(t.digest);if(n){let a=Zv.get(t);if(a)throw a;let s=pT(n.location,r);if(mT&&!Zv.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw Zv.set(t,l),l}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function VB({routeContext:e,match:t,children:r}){let n=j.useContext(Nc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(da.Provider,{value:e},r)}function GB(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=r==null?void 0:r.errors;if(l!=null){let p=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let d=!1,f=-1;if(r)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:y,errors:v}=r,x=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||x){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=r&&n?(p,g)=>{var y,v;n(p,{location:r.location,params:((v=(y=r.matches)==null?void 0:y[0])==null?void 0:v.params)??{},unstable_pattern:TB(r.matches),errorInfo:g})}:void 0;return s.reduceRight((p,g,y)=>{let v,x=!1,S=null,_=null;r&&(v=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||QB,d&&(f<0&&y===0?(ST("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,_=null):f===y&&(x=!0,_=g.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,y+1)),O=()=>{let A;return v?A=S:x?A=_:g.route.Component?A=j.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=p,j.createElement(VB,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:r!=null},children:A})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?j.createElement(jT,{location:r.location,revalidation:r.revalidation,component:S,error:v,children:O(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):O()},null)}function jw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YB(e){let t=j.useContext(Nc);return Rt(t,jw(e)),t}function WB(e){let t=j.useContext(wp);return Rt(t,jw(e)),t}function XB(e){let t=j.useContext(da);return Rt(t,jw(e)),t}function Sw(e){let t=XB(e),r=t.matches[t.matches.length-1];return Rt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ZB(){return Sw("useRouteId")}function JB(){var n;let e=j.useContext(ww),t=WB("useRouteError"),r=Sw("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function e$(){let{router:e}=YB("useNavigate"),t=Sw("useNavigate"),r=j.useRef(!1);return xT(()=>{r.current=!0}),j.useCallback(async(a,s={})=>{Vn(r.current,bT),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var nE={};function ST(e,t,r){!t&&!nE[e]&&(nE[e]=!0,Vn(!1,r))}j.memo(t$);function t$({routes:e,future:t,state:r,onError:n}){return wT(e,void 0,r,n,t)}function ze({to:e,replace:t,state:r,relative:n}){Rt(Oc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(An);Vn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=j.useContext(da),{pathname:l}=wi(),d=mt(),f=xw(e,bw(s),l,n==="path"),h=JSON.stringify(f);return j.useEffect(()=>{d(JSON.parse(h),{replace:t,state:r,relative:n})},[d,h,n,t,r]),null}function Fe(e){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r$({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:l}){Rt(!Oc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:d,navigator:a,static:s,unstable_useTransitions:l,future:{}}),[d,a,s,l]);typeof r=="string"&&(r=Uo(r));let{pathname:h="/",search:p="",hash:g="",state:y=null,key:v="default"}=r,x=j.useMemo(()=>{let S=hi(h,d);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:v},navigationType:n}},[d,h,p,g,y,v,n]);return Vn(x!=null,`<Router basename="${d}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement(An.Provider,{value:f},j.createElement(zd.Provider,{children:t,value:x}))}function n$({children:e,location:t}){return KB(Qb(e),t)}function Qb(e,t=[]){let r=[];return j.Children.forEach(e,(n,a)=>{if(!j.isValidElement(n))return;let s=[...t,a];if(n.type===j.Fragment){r.push.apply(r,Qb(n.props.children,s));return}Rt(n.type===Fe,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Qb(n.props.children,s)),r.push(l)}),r}var cm="get",um="application/x-www-form-urlencoded";function jp(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function a$(e){return jp(e)&&e.tagName.toLowerCase()==="button"}function i$(e){return jp(e)&&e.tagName.toLowerCase()==="form"}function s$(e){return jp(e)&&e.tagName.toLowerCase()==="input"}function o$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l$(e,t){return e.button===0&&(!t||t==="_self")&&!o$(e)}var Lh=null;function c$(){if(Lh===null)try{new FormData(document.createElement("form"),0),Lh=!1}catch{Lh=!0}return Lh}var u$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jv(e){return e!=null&&!u$.has(e)?(Vn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${um}"`),null):e}function d$(e,t){let r,n,a,s,l;if(i$(e)){let d=e.getAttribute("action");n=d?hi(d,t):null,r=e.getAttribute("method")||cm,a=Jv(e.getAttribute("enctype"))||um,s=new FormData(e)}else if(a$(e)||s$(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(n=f?hi(f,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||cm,a=Jv(e.getAttribute("formenctype"))||Jv(d.getAttribute("enctype"))||um,s=new FormData(d,e),!c$()){let{name:h,type:p,value:g}=e;if(p==="image"){let y=h?`${h}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else h&&s.append(h,g)}}else{if(jp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=cm,n=null,a=um,l=e}return s&&a==="text/plain"&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _w(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function f$(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&hi(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function h$(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m$(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function p$(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let l=await h$(s,r);return l.links?l.links():[]}return[]}));return b$(n.flat(1).filter(m$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function aE(e,t,r,n,a,s){let l=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,d=(f,h)=>{var p;return r[h].pathname!==f.pathname||((p=r[h].route.path)==null?void 0:p.endsWith("*"))&&r[h].params["*"]!==f.params["*"]};return s==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):s==="data"?t.filter((f,h)=>{var g;let p=n.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function g$(e,t,{includeHydrateFallback:r}={}){return y$(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function y$(e){return[...new Set(e)]}function v$(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function b$(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(v$(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function _T(){let e=j.useContext(Nc);return _w(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function x$(){let e=j.useContext(wp);return _w(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Nw=j.createContext(void 0);Nw.displayName="FrameworkContext";function NT(){let e=j.useContext(Nw);return _w(e,"You must render this element inside a <HydratedRouter> element"),e}function w$(e,t){let r=j.useContext(Nw),[n,a]=j.useState(!1),[s,l]=j.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,y=j.useRef(null);j.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=N=>{N.forEach(O=>{l(O.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[e]),j.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let v=()=>{a(!0)},x=()=>{a(!1),l(!1)};return r?e!=="intent"?[s,y,{}]:[s,y,{onFocus:Ku(d,v),onBlur:Ku(f,x),onMouseEnter:Ku(h,v),onMouseLeave:Ku(p,x),onTouchStart:Ku(g,v)}]:[!1,y,{}]}function Ku(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function j$({page:e,...t}){let{router:r}=_T(),n=j.useMemo(()=>dT(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?j.createElement(_$,{page:e,matches:n,...t}):null}function S$(e){let{manifest:t,routeModules:r}=NT(),[n,a]=j.useState([]);return j.useEffect(()=>{let s=!1;return p$(e,t,r).then(l=>{s||a(l)}),()=>{s=!0}},[e,t,r]),n}function _$({page:e,matches:t,...r}){let n=wi(),{future:a,manifest:s,routeModules:l}=NT(),{basename:d}=_T(),{loaderData:f,matches:h}=x$(),p=j.useMemo(()=>aE(e,t,h,s,n,"data"),[e,t,h,s,n]),g=j.useMemo(()=>aE(e,t,h,s,n,"assets"),[e,t,h,s,n]),y=j.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,_=!1;if(t.forEach(O=>{var C;let A=s.routes[O.route.id];!A||!A.hasLoader||(!p.some(T=>T.route.id===O.route.id)&&O.route.id in f&&((C=l[O.route.id])!=null&&C.shouldRevalidate)||A.hasClientLoader?_=!0:S.add(O.route.id))}),S.size===0)return[];let N=f$(e,d,a.unstable_trailingSlashAwareDataRequests,"data");return _&&S.size>0&&N.searchParams.set("_routes",t.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[N.pathname+N.search]},[d,a.unstable_trailingSlashAwareDataRequests,f,n,s,p,t,e,l]),v=j.useMemo(()=>g$(g,s),[g,s]),x=S$(g);return j.createElement(j.Fragment,null,y.map(S=>j.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),v.map(S=>j.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),x.map(({key:S,link:_})=>j.createElement("link",{key:S,nonce:r.nonce,..._,crossOrigin:_.crossOrigin??r.crossOrigin})))}function N$(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var O$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O$&&(window.__reactRouterVersion="7.13.0")}catch{}function E$({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=j.useRef();a.current==null&&(a.current=oB({window:n,v5Compat:!0}));let s=a.current,[l,d]=j.useState({action:s.action,location:s.location}),f=j.useCallback(h=>{r===!1?d(h):j.startTransition(()=>d(h))},[r]);return j.useLayoutEffect(()=>s.listen(f),[s,f]),j.createElement(r$,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:r})}var OT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pc=j.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...v},x){let{basename:S,unstable_useTransitions:_}=j.useContext(An),N=typeof h=="string"&&OT.test(h),O=pT(h,S);h=O.to;let A=zB(h,{relative:a}),[C,T,P]=w$(n,v),D=P$(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:_});function M(Y){t&&t(Y),Y.defaultPrevented||D(Y)}let L=j.createElement("a",{...v,...P,href:O.absoluteURL||A,onClick:O.isExternal||s?t:M,ref:N$(x,T),target:f,"data-discover":!N&&r==="render"?"true":void 0});return C&&!N?j.createElement(j.Fragment,null,L,j.createElement(j$,{page:A})):L});pc.displayName="Link";var A$=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:l,viewTransition:d,children:f,...h},p){let g=qd(l,{relative:h.relative}),y=wi(),v=j.useContext(wp),{navigator:x,basename:S}=j.useContext(An),_=v!=null&&I$(g)&&d===!0,N=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,O=y.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(O=O.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&S&&(A=hi(A,S)||A);const C=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=O===N||!a&&O.startsWith(N)&&O.charAt(C)==="/",P=A!=null&&(A===N||!a&&A.startsWith(N)&&A.charAt(N.length)==="/"),D={isActive:T,isPending:P,isTransitioning:_},M=T?t:void 0,L;typeof n=="function"?L=n(D):L=[n,T?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let Y=typeof s=="function"?s(D):s;return j.createElement(pc,{...h,"aria-current":M,className:L,ref:p,style:Y,to:l,viewTransition:d},typeof f=="function"?f(D):f)});A$.displayName="NavLink";var C$=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:l=cm,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...v},x)=>{let{unstable_useTransitions:S}=j.useContext(An),_=M$(),N=R$(d,{relative:h}),O=l.toLowerCase()==="get"?"get":"post",A=typeof d=="string"&&OT.test(d),C=T=>{if(f&&f(T),T.defaultPrevented)return;T.preventDefault();let P=T.nativeEvent.submitter,D=(P==null?void 0:P.getAttribute("formmethod"))||l,M=()=>_(P||T.currentTarget,{fetcherKey:t,method:D,navigate:r,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y});S&&r!==!1?j.startTransition(()=>M()):M()};return j.createElement("form",{ref:x,method:O,action:N,onSubmit:n?f:C,...v,"data-discover":!A&&e==="render"?"true":void 0})});C$.displayName="Form";function k$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ET(e){let t=j.useContext(Nc);return Rt(t,k$(e)),t}function P$(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let h=mt(),p=wi(),g=qd(e,{relative:s});return j.useCallback(y=>{if(l$(y,t)){y.preventDefault();let v=r!==void 0?r:cd(p)===cd(g),x=()=>h(e,{replace:v,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d});f?j.startTransition(()=>x()):x()}},[p,h,g,r,n,t,e,a,s,l,d,f])}var T$=0,D$=()=>`__${String(++T$)}__`;function M$(){let{router:e}=ET("useSubmit"),{basename:t}=j.useContext(An),r=ZB(),n=e.fetch,a=e.navigate;return j.useCallback(async(s,l={})=>{let{action:d,method:f,encType:h,formData:p,body:g}=d$(s,t);if(l.navigate===!1){let y=l.fetcherKey||D$();await n(y,r,l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await a(l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,a,t,r])}function R$(e,{relative:t}={}){let{basename:r}=j.useContext(An),n=j.useContext(da);Rt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...qd(e||".",{relative:t})},l=wi();if(e==null){s.search=l.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ci([r,s.pathname])),cd(s)}function I$(e,{relative:t}={}){let r=j.useContext(yT);Rt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ET("useViewTransitionState"),a=qd(e,{relative:t});if(!r.isTransitioning)return!1;let s=hi(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=hi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return vm(a.pathname,l)!=null||vm(a.pathname,s)!=null}var Sp=uT(),Ec=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},L$={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},us,vw,JP,B$=(JP=class{constructor(){Pe(this,us,L$);Pe(this,vw,!1)}setTimeoutProvider(e){we(this,us,e)}setTimeout(e,t){return U(this,us).setTimeout(e,t)}clearTimeout(e){U(this,us).clearTimeout(e)}setInterval(e,t){return U(this,us).setInterval(e,t)}clearInterval(e){U(this,us).clearInterval(e)}},us=new WeakMap,vw=new WeakMap,JP),co=new B$;function $$(e){setTimeout(e,0)}var Co=typeof window>"u"||"Deno"in globalThis;function Fr(){}function U$(e,t){return typeof e=="function"?e(t):e}function Hb(e){return typeof e=="number"&&e>=0&&e!==1/0}function AT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function xs(e,t){return typeof e=="function"?e(t):e}function Qn(e,t){return typeof e=="function"?e(t):e}function iE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:l,stale:d}=e;if(l){if(n){if(t.queryHash!==Ow(l,t.options))return!1}else if(!ud(t.queryKey,l))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||a&&a!==t.state.fetchStatus||s&&!s(t))}function sE(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(ko(t.options.mutationKey)!==ko(s))return!1}else if(!ud(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Ow(e,t){return((t==null?void 0:t.queryKeyHashFn)||ko)(e)}function ko(e){return JSON.stringify(e,(t,r)=>Vb(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function ud(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ud(e[r],t[r])):!1}var z$=Object.prototype.hasOwnProperty;function CT(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=oE(e)&&oE(t);if(!n&&!(Vb(e)&&Vb(t)))return t;const s=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),d=l.length,f=n?new Array(d):{};let h=0;for(let p=0;p<d;p++){const g=n?p:l[p],y=e[g],v=t[g];if(y===v){f[g]=y,(n?p<s:z$.call(e,g))&&h++;continue}if(y===null||v===null||typeof y!="object"||typeof v!="object"){f[g]=v;continue}const x=CT(y,v,r+1);f[g]=x,x===y&&h++}return s===d&&h===s?e:f}function bm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function oE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vb(e){if(!lE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!lE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function lE(e){return Object.prototype.toString.call(e)==="[object Object]"}function q$(e){return new Promise(t=>{co.setTimeout(t,e)})}function Gb(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?CT(e,t):t}function K$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function F$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ew=Symbol();function kT(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ew?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Aw(e,t){return typeof e=="function"?e(...t):!!e}function Q$(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var yo,ds,nc,eT,H$=(eT=class extends Ec{constructor(){super();Pe(this,yo);Pe(this,ds);Pe(this,nc);we(this,nc,t=>{if(!Co&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){U(this,ds)||this.setEventListener(U(this,nc))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,ds))==null||t.call(this),we(this,ds,void 0))}setEventListener(t){var r;we(this,nc,t),(r=U(this,ds))==null||r.call(this),we(this,ds,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){U(this,yo)!==t&&(we(this,yo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof U(this,yo)=="boolean"?U(this,yo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},yo=new WeakMap,ds=new WeakMap,nc=new WeakMap,eT),Cw=new H$;function Yb(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var V$=$$;function G$(){let e=[],t=0,r=d=>{d()},n=d=>{d()},a=V$;const s=d=>{t?e.push(d):a(()=>{r(d)})},l=()=>{const d=e;e=[],d.length&&a(()=>{n(()=>{d.forEach(f=>{r(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||l()}return f},batchCalls:d=>(...f)=>{s(()=>{d(...f)})},schedule:s,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{a=d}}}var ur=G$(),ac,fs,ic,tT,Y$=(tT=class extends Ec{constructor(){super();Pe(this,ac,!0);Pe(this,fs);Pe(this,ic);we(this,ic,t=>{if(!Co&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){U(this,fs)||this.setEventListener(U(this,ic))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,fs))==null||t.call(this),we(this,fs,void 0))}setEventListener(t){var r;we(this,ic,t),(r=U(this,fs))==null||r.call(this),we(this,fs,t(this.setOnline.bind(this)))}setOnline(t){U(this,ac)!==t&&(we(this,ac,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return U(this,ac)}},ac=new WeakMap,fs=new WeakMap,ic=new WeakMap,tT),xm=new Y$;function W$(e){return Math.min(1e3*2**e,3e4)}function PT(e){return(e??"online")==="online"?xm.isOnline():!0}var Wb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function TT(e){let t=!1,r=0,n;const a=Yb(),s=()=>a.status!=="pending",l=S=>{var _;if(!s()){const N=new Wb(S);y(N),(_=e.onCancel)==null||_.call(e,N)}},d=()=>{t=!0},f=()=>{t=!1},h=()=>Cw.isFocused()&&(e.networkMode==="always"||xm.isOnline())&&e.canRun(),p=()=>PT(e.networkMode)&&e.canRun(),g=S=>{s()||(n==null||n(),a.resolve(S))},y=S=>{s()||(n==null||n(),a.reject(S))},v=()=>new Promise(S=>{var _;n=N=>{(s()||h())&&S(N)},(_=e.onPause)==null||_.call(e)}).then(()=>{var S;n=void 0,s()||(S=e.onContinue)==null||S.call(e)}),x=()=>{if(s())return;let S;const _=r===0?e.initialPromise:void 0;try{S=_??e.fn()}catch(N){S=Promise.reject(N)}Promise.resolve(S).then(g).catch(N=>{var P;if(s())return;const O=e.retry??(Co?0:3),A=e.retryDelay??W$,C=typeof A=="function"?A(r,N):A,T=O===!0||typeof O=="number"&&r<O||typeof O=="function"&&O(r,N);if(t||!T){y(N);return}r++,(P=e.onFail)==null||P.call(e,r,N),q$(C).then(()=>h()?void 0:v()).then(()=>{t?y(N):x()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n==null||n(),a),cancelRetry:d,continueRetry:f,canStart:p,start:()=>(p()?x():v().then(x),a)}}var vo,rT,DT=(rT=class{constructor(){Pe(this,vo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Hb(this.gcTime)&&we(this,vo,co.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Co?1/0:300*1e3))}clearGcTimeout(){U(this,vo)&&(co.clearTimeout(U(this,vo)),we(this,vo,void 0))}},vo=new WeakMap,rT),bo,sc,Fn,xo,vr,Id,wo,na,Za,nT,X$=(nT=class extends DT{constructor(t){super();Pe(this,na);Pe(this,bo);Pe(this,sc);Pe(this,Fn);Pe(this,xo);Pe(this,vr);Pe(this,Id);Pe(this,wo);we(this,wo,!1),we(this,Id,t.defaultOptions),this.setOptions(t.options),this.observers=[],we(this,xo,t.client),we(this,Fn,U(this,xo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,we(this,bo,uE(this.options)),this.state=t.state??U(this,bo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,vr))==null?void 0:t.promise}setOptions(t){if(this.options={...U(this,Id),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=uE(this.options);r.data!==void 0&&(this.setState(cE(r.data,r.dataUpdatedAt)),we(this,bo,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Fn).remove(this)}setData(t,r){const n=Gb(this.state.data,t,this.options);return Ke(this,na,Za).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ke(this,na,Za).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=U(this,vr))==null?void 0:n.promise;return(a=U(this,vr))==null||a.cancel(t),r?r.then(Fr).catch(Fr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,bo))}isActive(){return this.observers.some(t=>Qn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ew||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>xs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!AT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,vr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,vr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,Fn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(U(this,vr)&&(U(this,wo)?U(this,vr).cancel({revert:!0}):U(this,vr).cancelRetry()),this.scheduleGc()),U(this,Fn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ke(this,na,Za).call(this,{type:"invalidate"})}async fetch(t,r){var f,h,p,g,y,v,x,S,_,N,O,A;if(this.state.fetchStatus!=="idle"&&((f=U(this,vr))==null?void 0:f.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,vr))return U(this,vr).continueRetry(),U(this,vr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(T=>T.options.queryFn);C&&this.setOptions(C.options)}const n=new AbortController,a=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(we(this,wo,!0),n.signal)})},s=()=>{const C=kT(this.options,r),P=(()=>{const D={client:U(this,xo),queryKey:this.queryKey,meta:this.meta};return a(D),D})();return we(this,wo,!1),this.options.persister?this.options.persister(C,P,this):C(P)},d=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,xo),state:this.state,fetchFn:s};return a(C),C})();(h=this.options.behavior)==null||h.onFetch(d,this),we(this,sc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=d.fetchOptions)==null?void 0:p.meta))&&Ke(this,na,Za).call(this,{type:"fetch",meta:(g=d.fetchOptions)==null?void 0:g.meta}),we(this,vr,TT({initialPromise:r==null?void 0:r.initialPromise,fn:d.fetchFn,onCancel:C=>{C instanceof Wb&&C.revert&&this.setState({...U(this,sc),fetchStatus:"idle"}),n.abort()},onFail:(C,T)=>{Ke(this,na,Za).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{Ke(this,na,Za).call(this,{type:"pause"})},onContinue:()=>{Ke(this,na,Za).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const C=await U(this,vr).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(v=(y=U(this,Fn).config).onSuccess)==null||v.call(y,C,this),(S=(x=U(this,Fn).config).onSettled)==null||S.call(x,C,this.state.error,this),C}catch(C){if(C instanceof Wb){if(C.silent)return U(this,vr).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw Ke(this,na,Za).call(this,{type:"error",error:C}),(N=(_=U(this,Fn).config).onError)==null||N.call(_,C,this),(A=(O=U(this,Fn).config).onSettled)==null||A.call(O,this.state.data,C,this),C}finally{this.scheduleGc()}}},bo=new WeakMap,sc=new WeakMap,Fn=new WeakMap,xo=new WeakMap,vr=new WeakMap,Id=new WeakMap,wo=new WeakMap,na=new WeakSet,Za=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...MT(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...cE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return we(this,sc,t.manual?a:void 0),a;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ur.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),U(this,Fn).notify({query:this,type:"updated",action:t})})},nT);function MT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function cE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function uE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var nn,Ze,Ld,Kr,jo,oc,ti,hs,Bd,lc,cc,So,_o,ms,uc,lt,td,Xb,Zb,Jb,ex,tx,rx,nx,RT,aT,Z$=(aT=class extends Ec{constructor(t,r){super();Pe(this,lt);Pe(this,nn);Pe(this,Ze);Pe(this,Ld);Pe(this,Kr);Pe(this,jo);Pe(this,oc);Pe(this,ti);Pe(this,hs);Pe(this,Bd);Pe(this,lc);Pe(this,cc);Pe(this,So);Pe(this,_o);Pe(this,ms);Pe(this,uc,new Set);this.options=r,we(this,nn,t),we(this,hs,null),we(this,ti,Yb()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,Ze).addObserver(this),dE(U(this,Ze),this.options)?Ke(this,lt,td).call(this):this.updateResult(),Ke(this,lt,ex).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ax(U(this,Ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ax(U(this,Ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ke(this,lt,tx).call(this),Ke(this,lt,rx).call(this),U(this,Ze).removeObserver(this)}setOptions(t){const r=this.options,n=U(this,Ze);if(this.options=U(this,nn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Qn(this.options.enabled,U(this,Ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ke(this,lt,nx).call(this),U(this,Ze).setOptions(this.options),r._defaulted&&!bm(this.options,r)&&U(this,nn).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,Ze),observer:this});const a=this.hasListeners();a&&fE(U(this,Ze),n,this.options,r)&&Ke(this,lt,td).call(this),this.updateResult(),a&&(U(this,Ze)!==n||Qn(this.options.enabled,U(this,Ze))!==Qn(r.enabled,U(this,Ze))||xs(this.options.staleTime,U(this,Ze))!==xs(r.staleTime,U(this,Ze)))&&Ke(this,lt,Xb).call(this);const s=Ke(this,lt,Zb).call(this);a&&(U(this,Ze)!==n||Qn(this.options.enabled,U(this,Ze))!==Qn(r.enabled,U(this,Ze))||s!==U(this,ms))&&Ke(this,lt,Jb).call(this,s)}getOptimisticResult(t){const r=U(this,nn).getQueryCache().build(U(this,nn),t),n=this.createResult(r,t);return e6(this,n)&&(we(this,Kr,n),we(this,oc,this.options),we(this,jo,U(this,Ze).state)),n}getCurrentResult(){return U(this,Kr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&U(this,ti).status==="pending"&&U(this,ti).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){U(this,uc).add(t)}getCurrentQuery(){return U(this,Ze)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=U(this,nn).defaultQueryOptions(t),n=U(this,nn).getQueryCache().build(U(this,nn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ke(this,lt,td).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,Kr)))}createResult(t,r){var L;const n=U(this,Ze),a=this.options,s=U(this,Kr),l=U(this,jo),d=U(this,oc),h=t!==n?t.state:U(this,Ld),{state:p}=t;let g={...p},y=!1,v;if(r._optimisticResults){const Y=this.hasListeners(),Q=!Y&&dE(t,r),q=Y&&fE(t,n,r,a);(Q||q)&&(g={...g,...MT(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:x,errorUpdatedAt:S,status:_}=g;v=g.data;let N=!1;if(r.placeholderData!==void 0&&v===void 0&&_==="pending"){let Y;s!=null&&s.isPlaceholderData&&r.placeholderData===(d==null?void 0:d.placeholderData)?(Y=s.data,N=!0):Y=typeof r.placeholderData=="function"?r.placeholderData((L=U(this,cc))==null?void 0:L.state.data,U(this,cc)):r.placeholderData,Y!==void 0&&(_="success",v=Gb(s==null?void 0:s.data,Y,r),y=!0)}if(r.select&&v!==void 0&&!N)if(s&&v===(l==null?void 0:l.data)&&r.select===U(this,Bd))v=U(this,lc);else try{we(this,Bd,r.select),v=r.select(v),v=Gb(s==null?void 0:s.data,v,r),we(this,lc,v),we(this,hs,null)}catch(Y){we(this,hs,Y)}U(this,hs)&&(x=U(this,hs),v=U(this,lc),S=Date.now(),_="error");const O=g.fetchStatus==="fetching",A=_==="pending",C=_==="error",T=A&&O,P=v!==void 0,M={status:_,fetchStatus:g.fetchStatus,isPending:A,isSuccess:_==="success",isError:C,isInitialLoading:T,isLoading:T,data:v,dataUpdatedAt:g.dataUpdatedAt,error:x,errorUpdatedAt:S,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:O,isRefetching:O&&!A,isLoadingError:C&&!P,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:C&&P,isStale:kw(t,r),refetch:this.refetch,promise:U(this,ti),isEnabled:Qn(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const Y=M.data!==void 0,Q=M.status==="error"&&!Y,q=oe=>{Q?oe.reject(M.error):Y&&oe.resolve(M.data)},ee=()=>{const oe=we(this,ti,M.promise=Yb());q(oe)},H=U(this,ti);switch(H.status){case"pending":t.queryHash===n.queryHash&&q(H);break;case"fulfilled":(Q||M.data!==H.value)&&ee();break;case"rejected":(!Q||M.error!==H.reason)&&ee();break}}return M}updateResult(){const t=U(this,Kr),r=this.createResult(U(this,Ze),this.options);if(we(this,jo,U(this,Ze).state),we(this,oc,this.options),U(this,jo).data!==void 0&&we(this,cc,U(this,Ze)),bm(r,t))return;we(this,Kr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!U(this,uc).size)return!0;const l=new Set(s??U(this,uc));return this.options.throwOnError&&l.add("error"),Object.keys(U(this,Kr)).some(d=>{const f=d;return U(this,Kr)[f]!==t[f]&&l.has(f)})};Ke(this,lt,RT).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ke(this,lt,ex).call(this)}},nn=new WeakMap,Ze=new WeakMap,Ld=new WeakMap,Kr=new WeakMap,jo=new WeakMap,oc=new WeakMap,ti=new WeakMap,hs=new WeakMap,Bd=new WeakMap,lc=new WeakMap,cc=new WeakMap,So=new WeakMap,_o=new WeakMap,ms=new WeakMap,uc=new WeakMap,lt=new WeakSet,td=function(t){Ke(this,lt,nx).call(this);let r=U(this,Ze).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Fr)),r},Xb=function(){Ke(this,lt,tx).call(this);const t=xs(this.options.staleTime,U(this,Ze));if(Co||U(this,Kr).isStale||!Hb(t))return;const n=AT(U(this,Kr).dataUpdatedAt,t)+1;we(this,So,co.setTimeout(()=>{U(this,Kr).isStale||this.updateResult()},n))},Zb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,Ze)):this.options.refetchInterval)??!1},Jb=function(t){Ke(this,lt,rx).call(this),we(this,ms,t),!(Co||Qn(this.options.enabled,U(this,Ze))===!1||!Hb(U(this,ms))||U(this,ms)===0)&&we(this,_o,co.setInterval(()=>{(this.options.refetchIntervalInBackground||Cw.isFocused())&&Ke(this,lt,td).call(this)},U(this,ms)))},ex=function(){Ke(this,lt,Xb).call(this),Ke(this,lt,Jb).call(this,Ke(this,lt,Zb).call(this))},tx=function(){U(this,So)&&(co.clearTimeout(U(this,So)),we(this,So,void 0))},rx=function(){U(this,_o)&&(co.clearInterval(U(this,_o)),we(this,_o,void 0))},nx=function(){const t=U(this,nn).getQueryCache().build(U(this,nn),this.options);if(t===U(this,Ze))return;const r=U(this,Ze);we(this,Ze,t),we(this,Ld,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},RT=function(t){ur.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(U(this,Kr))}),U(this,nn).getQueryCache().notify({query:U(this,Ze),type:"observerResultsUpdated"})})},aT);function J$(e,t){return Qn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function dE(e,t){return J$(e,t)||e.state.data!==void 0&&ax(e,t,t.refetchOnMount)}function ax(e,t,r){if(Qn(t.enabled,e)!==!1&&xs(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&kw(e,t)}return!1}function fE(e,t,r,n){return(e!==t||Qn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&kw(e,r)}function kw(e,t){return Qn(t.enabled,e)!==!1&&e.isStaleByTime(xs(t.staleTime,e))}function e6(e,t){return!bm(e.getCurrentResult(),t)}function hE(e){return{onFetch:(t,r)=>{var p,g,y,v,x;const n=t.options,a=(y=(g=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,s=((v=t.state.data)==null?void 0:v.pages)||[],l=((x=t.state.data)==null?void 0:x.pageParams)||[];let d={pages:[],pageParams:[]},f=0;const h=async()=>{let S=!1;const _=A=>{Q$(A,()=>t.signal,()=>S=!0)},N=kT(t.options,t.fetchOptions),O=async(A,C,T)=>{if(S)return Promise.reject();if(C==null&&A.pages.length)return Promise.resolve(A);const D=(()=>{const Q={client:t.client,queryKey:t.queryKey,pageParam:C,direction:T?"backward":"forward",meta:t.options.meta};return _(Q),Q})(),M=await N(D),{maxPages:L}=t.options,Y=T?F$:K$;return{pages:Y(A.pages,M,L),pageParams:Y(A.pageParams,C,L)}};if(a&&s.length){const A=a==="backward",C=A?t6:mE,T={pages:s,pageParams:l},P=C(n,T);d=await O(T,P,A)}else{const A=e??s.length;do{const C=f===0?l[0]??n.initialPageParam:mE(n,d);if(f>0&&C==null)break;d=await O(d,C),f++}while(f<A)}return d};t.options.persister?t.fetchFn=()=>{var S,_;return(_=(S=t.options).persister)==null?void 0:_.call(S,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function mE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function t6(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var $d,wa,Lr,No,ja,as,iT,r6=(iT=class extends DT{constructor(t){super();Pe(this,ja);Pe(this,$d);Pe(this,wa);Pe(this,Lr);Pe(this,No);we(this,$d,t.client),this.mutationId=t.mutationId,we(this,Lr,t.mutationCache),we(this,wa,[]),this.state=t.state||IT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,wa).includes(t)||(U(this,wa).push(t),this.clearGcTimeout(),U(this,Lr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){we(this,wa,U(this,wa).filter(r=>r!==t)),this.scheduleGc(),U(this,Lr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,wa).length||(this.state.status==="pending"?this.scheduleGc():U(this,Lr).remove(this))}continue(){var t;return((t=U(this,No))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,d,f,h,p,g,y,v,x,S,_,N,O,A,C,T,P,D;const r=()=>{Ke(this,ja,as).call(this,{type:"continue"})},n={client:U(this,$d),meta:this.options.meta,mutationKey:this.options.mutationKey};we(this,No,TT({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(M,L)=>{Ke(this,ja,as).call(this,{type:"failed",failureCount:M,error:L})},onPause:()=>{Ke(this,ja,as).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Lr).canRun(this)}));const a=this.state.status==="pending",s=!U(this,No).canStart();try{if(a)r();else{Ke(this,ja,as).call(this,{type:"pending",variables:t,isPaused:s}),U(this,Lr).config.onMutate&&await U(this,Lr).config.onMutate(t,this,n);const L=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,t,n));L!==this.state.context&&Ke(this,ja,as).call(this,{type:"pending",context:L,variables:t,isPaused:s})}const M=await U(this,No).start();return await((h=(f=U(this,Lr).config).onSuccess)==null?void 0:h.call(f,M,t,this.state.context,this,n)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,M,t,this.state.context,n)),await((v=(y=U(this,Lr).config).onSettled)==null?void 0:v.call(y,M,null,this.state.variables,this.state.context,this,n)),await((S=(x=this.options).onSettled)==null?void 0:S.call(x,M,null,t,this.state.context,n)),Ke(this,ja,as).call(this,{type:"success",data:M}),M}catch(M){try{await((N=(_=U(this,Lr).config).onError)==null?void 0:N.call(_,M,t,this.state.context,this,n))}catch(L){Promise.reject(L)}try{await((A=(O=this.options).onError)==null?void 0:A.call(O,M,t,this.state.context,n))}catch(L){Promise.reject(L)}try{await((T=(C=U(this,Lr).config).onSettled)==null?void 0:T.call(C,void 0,M,this.state.variables,this.state.context,this,n))}catch(L){Promise.reject(L)}try{await((D=(P=this.options).onSettled)==null?void 0:D.call(P,void 0,M,t,this.state.context,n))}catch(L){Promise.reject(L)}throw Ke(this,ja,as).call(this,{type:"error",error:M}),M}finally{U(this,Lr).runNext(this)}}},$d=new WeakMap,wa=new WeakMap,Lr=new WeakMap,No=new WeakMap,ja=new WeakSet,as=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ur.batch(()=>{U(this,wa).forEach(n=>{n.onMutationUpdate(t)}),U(this,Lr).notify({mutation:this,type:"updated",action:t})})},iT);function IT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ri,aa,Ud,sT,n6=(sT=class extends Ec{constructor(t={}){super();Pe(this,ri);Pe(this,aa);Pe(this,Ud);this.config=t,we(this,ri,new Set),we(this,aa,new Map),we(this,Ud,0)}build(t,r,n){const a=new r6({client:t,mutationCache:this,mutationId:++Ih(this,Ud)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){U(this,ri).add(t);const r=Bh(t);if(typeof r=="string"){const n=U(this,aa).get(r);n?n.push(t):U(this,aa).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(U(this,ri).delete(t)){const r=Bh(t);if(typeof r=="string"){const n=U(this,aa).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&U(this,aa).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Bh(t);if(typeof r=="string"){const n=U(this,aa).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Bh(t);if(typeof r=="string"){const a=(n=U(this,aa).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ur.batch(()=>{U(this,ri).forEach(t=>{this.notify({type:"removed",mutation:t})}),U(this,ri).clear(),U(this,aa).clear()})}getAll(){return Array.from(U(this,ri))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>sE(r,n))}findAll(t={}){return this.getAll().filter(r=>sE(t,r))}notify(t){ur.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ur.batch(()=>Promise.all(t.map(r=>r.continue().catch(Fr))))}},ri=new WeakMap,aa=new WeakMap,Ud=new WeakMap,sT);function Bh(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ni,ps,an,ai,fi,dm,ix,oT,a6=(oT=class extends Ec{constructor(r,n){super();Pe(this,fi);Pe(this,ni);Pe(this,ps);Pe(this,an);Pe(this,ai);we(this,ni,r),this.setOptions(n),this.bindMethods(),Ke(this,fi,dm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=U(this,ni).defaultMutationOptions(r),bm(this.options,n)||U(this,ni).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,an),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ko(n.mutationKey)!==ko(this.options.mutationKey)?this.reset():((a=U(this,an))==null?void 0:a.state.status)==="pending"&&U(this,an).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=U(this,an))==null||r.removeObserver(this)}onMutationUpdate(r){Ke(this,fi,dm).call(this),Ke(this,fi,ix).call(this,r)}getCurrentResult(){return U(this,ps)}reset(){var r;(r=U(this,an))==null||r.removeObserver(this),we(this,an,void 0),Ke(this,fi,dm).call(this),Ke(this,fi,ix).call(this)}mutate(r,n){var a;return we(this,ai,n),(a=U(this,an))==null||a.removeObserver(this),we(this,an,U(this,ni).getMutationCache().build(U(this,ni),this.options)),U(this,an).addObserver(this),U(this,an).execute(r)}},ni=new WeakMap,ps=new WeakMap,an=new WeakMap,ai=new WeakMap,fi=new WeakSet,dm=function(){var n;const r=((n=U(this,an))==null?void 0:n.state)??IT();we(this,ps,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},ix=function(r){ur.batch(()=>{var n,a,s,l,d,f,h,p;if(U(this,ai)&&this.hasListeners()){const g=U(this,ps).variables,y=U(this,ps).context,v={client:U(this,ni),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(a=(n=U(this,ai)).onSuccess)==null||a.call(n,r.data,g,y,v)}catch(x){Promise.reject(x)}try{(l=(s=U(this,ai)).onSettled)==null||l.call(s,r.data,null,g,y,v)}catch(x){Promise.reject(x)}}else if((r==null?void 0:r.type)==="error"){try{(f=(d=U(this,ai)).onError)==null||f.call(d,r.error,g,y,v)}catch(x){Promise.reject(x)}try{(p=(h=U(this,ai)).onSettled)==null||p.call(h,void 0,r.error,g,y,v)}catch(x){Promise.reject(x)}}}this.listeners.forEach(g=>{g(U(this,ps))})})},oT),Sa,lT,i6=(lT=class extends Ec{constructor(t={}){super();Pe(this,Sa);this.config=t,we(this,Sa,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??Ow(a,r);let l=this.get(s);return l||(l=new X$({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){U(this,Sa).has(t.queryHash)||(U(this,Sa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=U(this,Sa).get(t.queryHash);r&&(t.destroy(),r===t&&U(this,Sa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ur.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,Sa).get(t)}getAll(){return[...U(this,Sa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>iE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>iE(t,n)):r}notify(t){ur.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ur.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ur.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Sa=new WeakMap,lT),zt,gs,ys,dc,fc,vs,hc,mc,cT,s6=(cT=class{constructor(e={}){Pe(this,zt);Pe(this,gs);Pe(this,ys);Pe(this,dc);Pe(this,fc);Pe(this,vs);Pe(this,hc);Pe(this,mc);we(this,zt,e.queryCache||new i6),we(this,gs,e.mutationCache||new n6),we(this,ys,e.defaultOptions||{}),we(this,dc,new Map),we(this,fc,new Map),we(this,vs,0)}mount(){Ih(this,vs)._++,U(this,vs)===1&&(we(this,hc,Cw.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,zt).onFocus())})),we(this,mc,xm.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,zt).onOnline())})))}unmount(){var e,t;Ih(this,vs)._--,U(this,vs)===0&&((e=U(this,hc))==null||e.call(this),we(this,hc,void 0),(t=U(this,mc))==null||t.call(this),we(this,mc,void 0))}isFetching(e){return U(this,zt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,gs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,zt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=U(this,zt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(xs(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return U(this,zt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=U(this,zt).get(n.queryHash),s=a==null?void 0:a.state.data,l=U$(t,s);if(l!==void 0)return U(this,zt).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return ur.batch(()=>U(this,zt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,zt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=U(this,zt);ur.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=U(this,zt);return ur.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ur.batch(()=>U(this,zt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Fr).catch(Fr)}invalidateQueries(e,t={}){return ur.batch(()=>(U(this,zt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ur.batch(()=>U(this,zt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Fr)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Fr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=U(this,zt).build(this,t);return r.isStaleByTime(xs(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Fr).catch(Fr)}fetchInfiniteQuery(e){return e.behavior=hE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Fr).catch(Fr)}ensureInfiniteQueryData(e){return e.behavior=hE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xm.isOnline()?U(this,gs).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,zt)}getMutationCache(){return U(this,gs)}getDefaultOptions(){return U(this,ys)}setDefaultOptions(e){we(this,ys,e)}setQueryDefaults(e,t){U(this,dc).set(ko(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,dc).values()],r={};return t.forEach(n=>{ud(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){U(this,fc).set(ko(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,fc).values()],r={};return t.forEach(n=>{ud(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,ys).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ow(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ew&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,ys).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,zt).clear(),U(this,gs).clear()}},zt=new WeakMap,gs=new WeakMap,ys=new WeakMap,dc=new WeakMap,fc=new WeakMap,vs=new WeakMap,hc=new WeakMap,mc=new WeakMap,cT),LT=j.createContext(void 0),$e=e=>{const t=j.useContext(LT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},o6=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(LT.Provider,{value:e,children:t})),BT=j.createContext(!1),l6=()=>j.useContext(BT);BT.Provider;function c6(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var u6=j.createContext(c6()),d6=()=>j.useContext(u6),f6=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?Aw(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},h6=e=>{j.useEffect(()=>{e.clearReset()},[e])},m6=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||Aw(r,[e.error,n])),p6=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},g6=(e,t)=>e.isLoading&&e.isFetching&&!t,y6=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,pE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function v6(e,t,r){var y,v,x,S;const n=l6(),a=d6(),s=$e(),l=s.defaultQueryOptions(e);(v=(y=s.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||v.call(y,l);const d=s.getQueryCache().get(l.queryHash);l._optimisticResults=n?"isRestoring":"optimistic",p6(l),f6(l,a,d),h6(a);const f=!s.getQueryCache().get(l.queryHash),[h]=j.useState(()=>new t(s,l)),p=h.getOptimisticResult(l),g=!n&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(_=>{const N=g?h.subscribe(ur.batchCalls(_)):Fr;return h.updateResult(),N},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),j.useEffect(()=>{h.setOptions(l)},[l,h]),y6(l,p))throw pE(l,h,a);if(m6({result:p,errorResetBoundary:a,throwOnError:l.throwOnError,query:d,suspense:l.suspense}))throw p.error;if((S=(x=s.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||S.call(x,l,p),l.experimental_prefetchInRender&&!Co&&g6(p,n)){const _=f?pE(l,h,a):d==null?void 0:d.promise;_==null||_.catch(Fr).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?p:h.trackResult(p)}function Lt(e,t){return v6(e,Z$)}function ct(e,t){const r=$e(),[n]=j.useState(()=>new a6(r,e));j.useEffect(()=>{n.setOptions(e)},[n,e]);const a=j.useSyncExternalStore(j.useCallback(l=>n.subscribe(ur.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=j.useCallback((l,d)=>{n.mutate(l,d).catch(Fr)},[n]);if(a.error&&Aw(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}const b6="modulepreload",x6=function(e){return"/"+e},gE={},$T=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=l(r.map(h=>{if(h=x6(h),h in gE)return;gE[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":b6,p||(y.as="script"),y.crossOrigin="",y.href=h,f&&y.setAttribute("nonce",f),document.head.appendChild(y),p)return new Promise((v,x)=>{y.addEventListener("load",v),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return a.then(l=>{for(const d of l||[])d.status==="rejected"&&s(d.reason);return t().catch(s)})};function _p(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function w6(e,t,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function d(p){try{h(n.next(p))}catch(g){l(g)}}function f(p){try{h(n.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):a(p.value).then(d,f)}h((n=n.apply(e,t||[])).next())})}const j6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Pw extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class S6 extends Pw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yE extends Pw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vE extends Pw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var sx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sx||(sx={}));class _6{constructor(t,{headers:r={},customFetch:n,region:a=sx.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=j6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return w6(this,arguments,void 0,function*(r,n={}){var a;let s,l;try{const{headers:d,method:f,body:h,signal:p,timeout:g}=n;let y={},{region:v}=n;v||(v=this.region);const x=new URL(`${this.url}/${r}`);v&&v!=="any"&&(y["x-region"]=v,x.searchParams.set("forceFunctionRegion",v));let S;h&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",S=h):typeof h=="string"?(y["Content-Type"]="text/plain",S=h):typeof FormData<"u"&&h instanceof FormData?S=h:(y["Content-Type"]="application/json",S=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?S=JSON.stringify(h):S=h;let _=p;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),p?(_=l.signal,p.addEventListener("abort",()=>l.abort())):_=l.signal);const N=yield this.fetch(x.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),d),body:S,signal:_}).catch(T=>{throw new S6(T)}),O=N.headers.get("x-relay-error");if(O&&O==="true")throw new yE(N);if(!N.ok)throw new vE(N);let A=((a=N.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield N.json():A==="application/octet-stream"||A==="application/pdf"?C=yield N.blob():A==="text/event-stream"?C=N:A==="multipart/form-data"?C=yield N.formData():C=yield N.text(),{data:C,error:null,response:N}}catch(d){return{data:null,error:d,response:d instanceof vE||d instanceof yE?d.context:void 0}}finally{s&&clearTimeout(s)}})}}var N6=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},O6=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let l=null,d=null,f=null,h=s.status,p=s.statusText;if(s.ok){var g,y;if(r.method!=="HEAD"){var v;const N=await s.text();N===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?d=N:d=JSON.parse(N))}const S=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),_=(y=s.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");S&&_&&_.length>1&&(f=parseInt(_[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var x;const S=await s.text();try{l=JSON.parse(S),Array.isArray(l)&&s.status===404&&(d=[],l=null,h=200,p="OK")}catch{s.status===404&&S===""?(h=204,p="No Content"):l={message:S}}if(l&&r.isMaybeSingle&&(!(l==null||(x=l.details)===null||x===void 0)&&x.includes("0 rows"))&&(l=null,h=200,p="OK"),l&&r.shouldThrowOnError)throw new N6(l)}return{error:l,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(s=>{var l;let d="",f="",h="";const p=s==null?void 0:s.cause;if(p){var g,y,v,x;const N=(g=p==null?void 0:p.message)!==null&&g!==void 0?g:"",O=(y=p==null?void 0:p.code)!==null&&y!==void 0?y:"";d=`${(v=s==null?void 0:s.name)!==null&&v!==void 0?v:"FetchError"}: ${s==null?void 0:s.message}`,d+=`

Caused by: ${(x=p==null?void 0:p.name)!==null&&x!==void 0?x:"Error"}: ${N}`,O&&(d+=` (${O})`),p!=null&&p.stack&&(d+=`
${p.stack}`)}else{var S;d=(S=s==null?void 0:s.stack)!==null&&S!==void 0?S:""}const _=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(h="",f="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((p==null?void 0:p.name)==="HeadersOverflowError"||(p==null?void 0:p.code)==="UND_ERR_HEADERS_OVERFLOW")&&(h="",f="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(f+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=s==null?void 0:s.name)!==null&&l!==void 0?l:"FetchError"}: ${s==null?void 0:s.message}`,details:d,hint:f,code:h},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},E6=class extends O6{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var l;const d=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${f}"; options=${d};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const bE=new RegExp("[,()]");var Kl=class extends E6{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&bE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&bE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},A6=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:a=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let s=!1;const l=(e??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:d,headers:f}=this.cloneRequestState();return d.searchParams.set("select",l),n&&f.append("Prefer",`count=${n}`),new Kl({method:a,url:d,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),r||l.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);s.searchParams.set("columns",f.join(","))}}return new Kl({method:a,url:s,headers:l,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const l="POST",{url:d,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&d.searchParams.set("on_conflict",t),n&&f.append("Prefer",`count=${n}`),a||f.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);d.searchParams.set("columns",p.join(","))}}return new Kl({method:l,url:d,headers:f,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Kl({method:n,url:a,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Kl({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function C6(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k6(e){var t=C6(e,"string");return dd(t)=="symbol"?t:t+""}function P6(e,t,r){return(t=k6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(n){P6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var T6=class UT{constructor(t,{headers:r={},schema:n,fetch:a,timeout:s,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=l;const d=a??globalThis.fetch;s!==void 0&&s>0?this.fetch=(f,h)=>{const p=new AbortController,g=setTimeout(()=>p.abort(),s),y=h==null?void 0:h.signal;if(y){if(y.aborted)return clearTimeout(g),d(f,h);const v=()=>{clearTimeout(g),p.abort()};return y.addEventListener("abort",v,{once:!0}),d(f,$h($h({},h),{},{signal:p.signal})).finally(()=>{clearTimeout(g),y.removeEventListener("abort",v)})}return d(f,$h($h({},h),{},{signal:p.signal})).finally(()=>clearTimeout(g))}:this.fetch=d}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new A6(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new UT(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var l;let d;const f=new URL(`${this.url}/rpc/${t}`);let h;const p=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(p)),g=n&&Object.values(r).some(p);g?(d="POST",h=r):n||a?(d=n?"HEAD":"GET",Object.entries(r).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{f.searchParams.append(v,x)})):(d="POST",h=r);const y=new Headers(this.headers);return g?y.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&y.set("Prefer",`count=${s}`),new Kl({method:d,url:f,headers:y,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class D6{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const M6="2.95.3",R6=`realtime-js/${M6}`,I6="1.0.0",zT="2.0.0",wE=zT,ox=1e4,L6=1e3,B6=100;var is;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(is||(is={}));var lr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(lr||(lr={}));var ia;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ia||(ia={}));var lx;(function(e){e.websocket="websocket"})(lx||(lx={}));var oo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(oo||(oo={}));class $6{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var a,s;const l=t.topic,d=(a=t.ref)!==null&&a!==void 0?a:"",f=(s=t.join_ref)!==null&&s!==void 0?s:"",h=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+l.length+h.length+g.length,v=new ArrayBuffer(this.HEADER_LENGTH+y);let x=new DataView(v),S=0;x.setUint8(S++,this.KINDS.userBroadcastPush),x.setUint8(S++,f.length),x.setUint8(S++,d.length),x.setUint8(S++,l.length),x.setUint8(S++,h.length),x.setUint8(S++,g.length),x.setUint8(S++,r),Array.from(f,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(d,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(l,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(h,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(g,N=>x.setUint8(S++,N.charCodeAt(0)));var _=new Uint8Array(v.byteLength+n.byteLength);return _.set(new Uint8Array(v),0),_.set(new Uint8Array(n),v.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,l,d,f]=n;return r({join_ref:a,ref:s,topic:l,event:d,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const h=n.decode(t.slice(f,f+a));f=f+a;const p=n.decode(t.slice(f,f+s));f=f+s;const g=n.decode(t.slice(f,f+l));f=f+l;const y=t.slice(f,t.byteLength),v=d===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,x={type:this.BROADCAST_EVENT,event:p,payload:v};return l>0&&(x.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class qT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(jt||(jt={}));const jE=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=U6(l,e,t,a),s),{}):{}},U6=(e,t,r,n)=>{const a=t.find(d=>d.name===e),s=a==null?void 0:a.type,l=r[e];return s&&!n.includes(s)?KT(s,l):cx(l)},KT=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return F6(t,r)}switch(e){case jt.bool:return z6(t);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return q6(t);case jt.json:case jt.jsonb:return K6(t);case jt.timestamp:return Q6(t);case jt.abstime:case jt.date:case jt.daterange:case jt.int4range:case jt.int8range:case jt.money:case jt.reltime:case jt.text:case jt.time:case jt.timestamptz:case jt.timetz:case jt.tsrange:case jt.tstzrange:return cx(t);default:return cx(t)}},cx=e=>e,z6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},q6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},K6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},F6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(d=>KT(t,d))}return e},Q6=e=>typeof e=="string"?e.replace(" ","T"):e,FT=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class e0{constructor(t,r,n={},a=ox){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var SE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(SE||(SE={}));class sd{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sd.syncState(this.state,a,s,l),this.pendingDiffs.forEach(f=>{this.state=sd.syncDiff(this.state,f,s,l)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=sd.syncDiff(this.state,a,s,l),d())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),l=this.transformState(r),d={},f={};return this.map(s,(h,p)=>{l[h]||(f[h]=p)}),this.map(l,(h,p)=>{const g=s[h];if(g){const y=p.map(_=>_.presence_ref),v=g.map(_=>_.presence_ref),x=p.filter(_=>v.indexOf(_.presence_ref)<0),S=g.filter(_=>y.indexOf(_.presence_ref)<0);x.length>0&&(d[h]=x),S.length>0&&(f[h]=S)}else d[h]=p}),this.syncDiff(s,{joins:d,leaves:f},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(d,f)=>{var h;const p=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),p.length>0){const g=t[d].map(v=>v.presence_ref),y=p.filter(v=>g.indexOf(v.presence_ref)<0);t[d].unshift(...y)}n(d,p,f)}),this.map(l,(d,f)=>{let h=t[d];if(!h)return;const p=f.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),t[d]=h,a(d,h,f),h.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _E;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(_E||(_E={}));var od;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(od||(od={}));var Ja;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ja||(Ja={}));class Vl{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=lr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new e0(this,ia.join,this.params,this.timeout),this.rejoinTimer=new qT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ia.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new sd(this),this.broadcastEndpointURL=FT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==lr.closed){const{config:{broadcast:l,presence:d,private:f}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[od.PRESENCE]&&this.bindings[od.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(Ja.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(Ja.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(Ja.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(x=S==null?void 0:S.length)!==null&&x!==void 0?x:0,N=[];for(let O=0;O<_;O++){const A=S[O],{filter:{event:C,schema:T,table:P,filter:D}}=A,M=v&&v[O];if(M&&M.event===C&&Vl.isFilterValueEqual(M.schema,T)&&Vl.isFilterValueEqual(M.table,P)&&Vl.isFilterValueEqual(M.filter,D))N.push(Object.assign(Object.assign({},A),{id:M.id}));else{this.unsubscribe(),this.state=lr.errored,t==null||t(Ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Ja.SUBSCRIBED);return}}).receive("error",v=>{this.state=lr.errored,t==null||t(Ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===lr.joined&&t===od.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const h=await d.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,d,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ia.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new e0(this,ia.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new e0(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>B6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:p}=ia;if(n&&[d,f,h,p].indexOf(l)>=0&&n!==this._joinRef())return;let y=this._onMessage(l,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var x,S,_;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(S=v.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(v=>v.callback(y,n)):(s=this.bindings[l])===null||s===void 0||s.filter(v=>{var x,S,_,N,O,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const C=v.id,T=(x=v.filter)===null||x===void 0?void 0:x.event;return C&&((S=r.ids)===null||S===void 0?void 0:S.includes(C))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(O=(N=v==null?void 0:v.filter)===null||N===void 0?void 0:N.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return C==="*"||C===((A=r==null?void 0:r.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof y=="object"&&"ids"in y){const x=y.data,{schema:S,table:_,commit_timestamp:N,type:O,errors:A}=x;y=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:N,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(x))}v.callback(y,n)})}_isClosed(){return this.state===lr.closed}_isJoined(){return this.state===lr.joined}_isJoining(){return this.state===lr.joining}_isLeaving(){return this.state===lr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Vl.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ia.close,{},t)}_onError(t){this._on(ia.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=jE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=jE(t.columns,t.old_record)),r}}const t0=()=>{},Uh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},H6=[1e3,2e3,5e3,1e4],V6=1e4,G6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y6{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ox,this.transport=null,this.heartbeatIntervalMs=Uh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=t0,this.ref=0,this.reconnectTimer=null,this.vsn=wE,this.logger=t0,this.conn=null,this.sendBuffer=[],this.serializer=new $6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${lx.websocket}`,this.httpEndpoint=FT(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=D6.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case is.connecting:return oo.Connecting;case is.open:return oo.Open;case is.closing:return oo.Closing;default:return oo.Closed}}isConnected(){return this.connectionState()===oo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new Vl(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(L6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Uh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:s,ref:l}=r,d=l?`(${l})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${a} ${d}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===is.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===is.open||this.conn.readyState===is.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ia.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([G6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:R6};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(ia.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new qT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Uh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,l,d,f,h,p,g,y,v;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ox,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Uh.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:t0,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:wE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:(x=>H6[x-1]||V6),this.vsn){case I6:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:((x,S)=>S(JSON.stringify(x))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:((x,S)=>S(JSON.parse(x)));break;case zT:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var fd=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function W6(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function X6(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Z6(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:l}){const d=W6(e.baseUrl,n,a),f=await X6(e.auth),h=await t(d,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...f,...l},body:s?JSON.stringify(s):void 0}),p=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),y=g&&p?JSON.parse(p):p;if(!h.ok){const v=g?y:void 0,x=v==null?void 0:v.error;throw new fd((x==null?void 0:x.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:v})}return{status:h.status,headers:h.headers,data:y}}}}function zh(e){return e.join("")}var J6=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:zh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zh(e.namespace)}`}),!0}catch(t){if(t instanceof fd&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof fd&&r.status===409)return;throw r}}};function Dl(e){return e.join("")}var eU=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof fd&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof fd&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},tU=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Z6({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new J6(this.client,t),this.tableOps=new eU(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Np=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Op(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var qh=class extends Np{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},QT=class extends Np{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const rU=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ux=e=>{if(Array.isArray(e))return e.map(r=>ux(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=ux(n)}),t},aU=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function iU(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sU(e){var t=iU(e,"string");return hd(t)=="symbol"?t:t+""}function oU(e,t,r){return(t=sU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(r),!0).forEach(function(n){oU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const OE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},lU=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,s=a.status||500;if(typeof a.json=="function")a.json().then(l=>{const d=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";t(new qh(OE(l),s,d,n))}).catch(()=>{if(n==="vectors"){const l=s+"";t(new qh(a.statusText||`HTTP ${s} error`,s,l,n))}else{const l=s+"";t(new qh(a.statusText||`HTTP ${s} error`,s,l,n))}});else{const l=s+"";t(new qh(a.statusText||`HTTP ${s} error`,s,l,n))}}else t(new QT(OE(e),e,n))},cU=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Ie(Ie({},a),r):(nU(n)?(a.headers=Ie({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Ie(Ie({},a),r))};async function Fu(e,t,r,n,a,s,l){return new Promise((d,f)=>{e(r,cU(t,n,a,s)).then(h=>{if(!h.ok)throw h;if(n!=null&&n.noResolveJson)return h;if(l==="vectors"){const p=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!p||!p.includes("application/json"))return{}}return h.json()}).then(h=>d(h)).catch(h=>lU(h,f,n,l))})}function HT(e="storage"){return{get:async(t,r,n,a)=>Fu(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,s)=>Fu(t,"POST",r,a,s,n,e),put:async(t,r,n,a,s)=>Fu(t,"PUT",r,a,s,n,e),head:async(t,r,n,a)=>Fu(t,"HEAD",r,Ie(Ie({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,s)=>Fu(t,"DELETE",r,a,s,n,e)}}const uU=HT("storage"),{get:md,post:ra,put:dx,head:dU,remove:Tw}=uU,jn=HT("vectors");var Ac=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=rU(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Op(r))return{data:null,error:r};throw r}}},fU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Op(t))return{data:null,error:t};throw t}}};let VT;VT=Symbol.toStringTag;var hU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[VT]="BlobDownloadBuilder",this.promise=null}asStream(){return new fU(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Op(t))return{data:null,error:t};throw t}}};const mU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},EE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var pU=class extends Ac{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let s;const l=Ie(Ie({},EE),n);let d=Ie(Ie({},a.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",a.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),f&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(f))):(s=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=a.toBase64(a.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(d=Ie(Ie({},d),n.headers));const h=a._removeEmptyFolders(t),p=a._getFinalPath(h),g=await(e=="PUT"?dx:ra)(a.fetch,`${a.url}/object/${p}`,s,Ie({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:h,id:g.Id,fullPath:g.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const s=a._removeEmptyFolders(e),l=a._getFinalPath(s),d=new URL(a.url+`/object/upload/sign/${l}`);return d.searchParams.set("token",t),a.handleOperation(async()=>{let f;const h=Ie({upsert:EE.upsert},n),p=Ie(Ie({},a.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{path:s,fullPath:(await dx(a.fetch,d.toString(),f,{headers:p})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=Ie({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=await ra(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(r.url+s.url),d=l.searchParams.get("token");if(!d)throw new Np("No token returned by API");return{signedUrl:l.toString(),path:e,token:d}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ra(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ra(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),s=await ra(n.fetch,`${n.url}/object/sign/${a}`,Ie({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${l}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await ra(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(l=>Ie(Ie({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${s}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=a?`?${a}`:"",l=this._getFinalPath(e),d=()=>md(this.fetch,`${this.url}/${n}/${l}${s}`,{headers:this.headers,noResolveJson:!0},r);return new hU(d,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>ux(await md(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await dU(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Op(n)&&n instanceof QT){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${d}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Tw(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=Ie(Ie(Ie({},mU),t),{},{prefix:e||""});return await ra(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Ie({},e);return await ra(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const gU="2.95.3",Kd={"X-Client-Info":`storage-js/${gU}`};var yU=class extends Ac{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const s=a.href.replace(/\/$/,""),l=Ie(Ie({},Kd),t);super(s,l,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await md(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await md(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ra(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await dx(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ra(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Tw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},vU=class extends Ac{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},Kd),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ra(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await md(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Tw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!aU(e))throw new Np("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new tU({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const l=a[s];return typeof l!="function"?l:async(...d)=>{try{return{data:await l.apply(a,d),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}}}})}},bU=class extends Ac{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},Kd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await jn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await jn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},xU=class extends Ac{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},Kd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},wU=class extends Ac{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},Kd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},jU=class extends wU{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new SU(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},SU=class extends bU{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new _U(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},_U=class extends xU{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},NU=class extends yU{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new pU(this.url,this.headers,e,this.fetch)}get vectors(){return new jU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vU(this.url+"/iceberg",this.headers,this.fetch)}};const GT="2.95.3",Fl=30*1e3,fx=3,r0=fx*Fl,OU="http://localhost:9999",EU="supabase.auth.token",AU={"X-Client-Info":`gotrue-js/${GT}`},hx="X-Supabase-Api-Version",YT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},CU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kU=600*1e3;class pd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class PU extends pd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function TU(e){return Ce(e)&&e.name==="AuthApiError"}class lo extends pd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ji extends pd{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class wn extends ji{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function n0(e){return Ce(e)&&e.name==="AuthSessionMissingError"}class Ml extends ji{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kh extends ji{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fh extends ji{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function DU(e){return Ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class AE extends ji{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class MU extends ji{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class mx extends ji{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function a0(e){return Ce(e)&&e.name==="AuthRetryableFetchError"}class CE extends ji{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class px extends ji{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kE=` 	
\r=`.split(""),RU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kE.length;t+=1)e[kE[t].charCodeAt(0)]=-2;for(let t=0;t<wm.length;t+=1)e[wm[t].charCodeAt(0)]=t;return e})();function PE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wm[n]),t.queuedBits-=6}}function WT(e,t,r){const n=RU[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function TE(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{BU(l,n,r)};for(let l=0;l<e.length;l+=1)WT(e.charCodeAt(l),a,s);return t.join("")}function IU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function LU(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}IU(n,t)}}function BU(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Wl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)WT(e.charCodeAt(a),r,n);return new Uint8Array(t)}function $U(e){const t=[];return LU(e,r=>t.push(r)),new Uint8Array(t)}function uo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>PE(a,r,n)),PE(null,r,n),t.join("")}function UU(e){return Math.round(Date.now()/1e3)+e}function zU(){return Symbol("auth-callback")}const Pr=()=>typeof window<"u"&&typeof document<"u",eo={tested:!1,writable:!1},XT=()=>{if(!Pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(eo.tested)return eo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),eo.tested=!0,eo.writable=!0}catch{eo.tested=!0,eo.writable=!1}return eo.writable};function qU(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const ZT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),KU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ql=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},to=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},kr=async(e,t)=>{await e.removeItem(t)};class Ep{constructor(){this.promise=new Ep.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ep.promiseConstructor=Promise;function Qh(e){const t=e.split(".");if(t.length!==3)throw new px("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!CU.test(t[n]))throw new px("JWT not in base64url format");return{header:JSON.parse(TE(t[0])),payload:JSON.parse(TE(t[1])),signature:Wl(t[2]),raw:{header:t[0],payload:t[1]}}}async function FU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function QU(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){a(l);return}}})()})}function HU(e){return("0"+e.toString(16)).substr(-2)}function VU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,HU).join("")}async function GU(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function YU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await GU(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rl(e,t,r=!1){const n=VU();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Ql(e,`${t}-code-verifier`,a);const s=await YU(n);return[s,n===s?"plain":"s256"]}const WU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XU(e){const t=e.headers.get(hx);if(!t||!t.match(WU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ZU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function JU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ez=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Il(e){if(!ez.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function i0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tz(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function DE(e){return JSON.parse(JSON.stringify(e))}const no=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rz=[502,503,504];async function ME(e){var t;if(!KU(e))throw new mx(no(e),0);if(rz.includes(e.status))throw new mx(no(e),e.status);let r;try{r=await e.json()}catch(s){throw new lo(no(s),s)}let n;const a=XU(e);if(a&&a.getTime()>=YT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new CE(no(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new wn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new CE(no(r),e.status,r.weak_password.reasons);throw new PU(no(r),e.status||500,n)}const nz=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Re(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[hx]||(s[hx]=YT["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await az(e,t,r+d,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function az(e,t,r,n,a,s){const l=nz(t,n,a,s);let d;try{d=await e(r,Object.assign({},l))}catch(f){throw console.error(f),new mx(no(f),0)}if(d.ok||await ME(d),n!=null&&n.noResolveJson)return d;try{return await d.json()}catch(f){await ME(f)}}function ta(e){var t;let r=null;oz(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=UU(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function RE(e){const t=ta(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ls(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iz(e){return{data:e,error:null}}function sz(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,l=_p(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function IE(e){return e}function oz(e){return e.access_token&&e.refresh_token&&e.expires_in}const s0=["global","local","others"];class lz{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=ZT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=s0[0]){if(s0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${s0.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ls})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=_p(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:sz,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ce(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ls})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:IE});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);h[`${_}Page`]=S}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ce(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Il(t);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ls})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Il(t);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ls})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Il(t);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ls})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Il(t.userId);try{const{data:r,error:n}=await Re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Il(t.userId),Il(t.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:IE});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);h[`${_}Page`]=S}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ce(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}}}function LE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ll={debug:!!(globalThis&&XT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class JT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cz extends JT{}async function uz(e,t,r){Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cz(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ll.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function dz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eD(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function fz(e){return parseInt(e,16)}function hz(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function mz(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:d,requestId:f,resources:h,scheme:p,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=eD(e.address),x=p?`${p}://${n}`:n,S=e.statement?`${e.statement}
`:"",_=`${x} wants you to sign in with your Ethereum account:
${v}

${S}`;let N=`URI: ${g}
Version: ${y}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),f&&(N+=`
Request ID: ${f}`),h){let O=`
Resources:`;for(const A of h){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);O+=`
- ${A}`}N+=O}return`${_}
${N}`}class er extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class jm extends er{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function pz({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new er({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new er({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new er({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new er({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new er({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new er({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(tD(l)){if(s.rp.id!==l)return new er({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new er({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function gz({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(tD(n)){if(r.rpId!==n)return new er({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class yz{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const vz=new yz;function bz(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=_p(e,["challenge","user","excludeCredentials"]),s=Wl(t).buffer,l=Object.assign(Object.assign({},r),{id:Wl(r.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:s,user:l});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Wl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function xz(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=_p(e,["challenge","allowCredentials"]),a=Wl(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const d=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},d),{id:Wl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function wz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:uo(new Uint8Array(e.response.attestationObject)),clientDataJSON:uo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function jz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:uo(new Uint8Array(a.authenticatorData)),clientDataJSON:uo(new Uint8Array(a.clientDataJSON)),signature:uo(new Uint8Array(a.signature)),userHandle:a.userHandle?uo(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tD(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function BE(){var e,t;return!!(Pr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Sz(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jm("Browser returned unexpected credential type",t)}:{data:null,error:new jm("Empty credential response",t)}}catch(t){return{data:null,error:pz({error:t,options:e})}}}async function _z(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jm("Browser returned unexpected credential type",t)}:{data:null,error:new jm("Empty credential response",t)}}catch(t){return{data:null,error:gz({error:t,options:e})}}}const Nz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Oz={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sm(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const d=n[s];t(d)?n[s]=Sm(d,l):n[s]=Sm(l)}else n[s]=l}return n}function Ez(e,t){return Sm(Nz,e,t||{})}function Az(e,t){return Sm(Oz,e,t||{})}class Cz{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){var l;try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!d)return{data:null,error:f};const h=a??vz.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;if(!p.name){const g=n;if(g)p.name=`${p.id}:${g}`;else{const v=(await this.client.getUser()).data.user,x=((l=v==null?void 0:v.user_metadata)===null||l===void 0?void 0:l.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";p.name=`${p.id}:${x}`}}p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=Ez(d.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:g,error:y}=await Sz({publicKey:p,signal:h});return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}case"request":{const p=Az(d.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:g,error:y}=await _z(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}}}catch(d){return Ce(d)?{data:null,error:d}:{data:null,error:new lo("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new pd("rpId is required for WebAuthn authentication")};try{if(!BE())return{data:null,error:new lo("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!l)return{data:null,error:d};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(l){return Ce(l)?{data:null,error:l}:{data:null,error:new lo("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new pd("rpId is required for WebAuthn registration")};try{if(!BE())return{data:null,error:new lo("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ce(l)?{data:null,error:l}:{data:null,error:new lo("Unexpected error in register",l)}}}}dz();const kz={url:OU,storageKey:EU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function $E(e,t,r){return await r()}const Bl={};class gd{get jwks(){var t,r;return(r=(t=Bl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Bl[this.storageKey]=Object.assign(Object.assign({},Bl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Bl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Bl[this.storageKey]=Object.assign(Object.assign({},Bl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},kz),t);if(this.storageKey=s.storageKey,this.instanceID=(r=gd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,gd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Pr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new lz({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ZT(s.fetch),this.lock=s.lock||$E,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Pr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=uz:this.lock=$E,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Cz(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:XT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=LE(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=LE(this.memoryStorage)),Pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${GT}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Pr()&&(r=qU(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Pr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),DU(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:l,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ce(r)?this._returnResult({error:r}):this._returnResult({error:new lo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ta}),{data:l,error:d}=s;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Ce(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:p,password:g,options:y}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Rl(this.storage,this.storageKey)),s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:g,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:x},xform:ta})}else if("phone"in t){const{phone:p,password:g,options:y}=t;s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(a=y==null?void 0:y.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:ta})}else throw new Kh("You must provide either an email or phone number and a password");const{data:l,error:d}=s;if(d||!l)return await kr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Ce(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:d}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:RE})}else if("phone"in t){const{phone:s,password:l,options:d}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:RE})}else throw new Kh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new Ml;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,l,d,f,h,p,g,y;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:S,wallet:_,statement:N,options:O}=t;let A;if(Pr())if(typeof _=="object")A=_;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")A=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const C=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href),T=await A.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=eD(T[0]);let D=(n=O==null?void 0:O.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!D){const L=await A.request({method:"eth_chainId"});D=fz(L)}const M={domain:C.host,address:P,statement:N,uri:C.href,version:"1",chainId:D,nonce:(a=O==null?void 0:O.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=O==null?void 0:O.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=O==null?void 0:O.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=O==null?void 0:O.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=O==null?void 0:O.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=mz(M),x=await A.request({method:"personal_sign",params:[hz(v),P]})}try{const{data:S,error:_}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ta});if(_)throw _;if(!S||!S.session||!S.user){const N=new Ml;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(Ce(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var r,n,a,s,l,d,f,h,p,g,y,v;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:_,wallet:N,statement:O,options:A}=t;let C;if(Pr())if(typeof N=="object")C=N;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const T=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),O?{statement:O}:null));let D;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")D=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)D=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)x=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),S=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${T.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(a=(n=A==null?void 0:A.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=A==null?void 0:A.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((g=(p=A==null?void 0:A.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...A.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(x),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=P}}try{const{data:_,error:N}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:uo(S)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ta});if(N)throw N;if(!_||!_.session||!_.user){const O=new Ml;return this._returnResult({data:{user:null,session:null},error:O})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:N})}catch(_){if(Ce(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await to(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new MU;const{data:s,error:l}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ta});if(await kr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const d=new Ml;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Ce(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:l}=t,d=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ta}),{data:f,error:h}=d;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const p=new Ml;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(r){if(Ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,l;try{if("email"in t){const{email:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Rl(this.storage,this.storageKey));const{error:g}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:p}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new Kh("You must provide either an email or phone number.")}catch(d){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Ce(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:d}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:ta});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(Ce(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,l;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Rl(this.storage,this.storageKey));const h=await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:iz});return!((s=h.data)===null||s===void 0)&&s.url&&Pr()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(d){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Ce(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new wn;const{error:a}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:l}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:l,error:d}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d})}throw new Kh("You must provide either an email or phone number and a type")}catch(r){if(Ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await to(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<r0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await to(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=i0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=tz(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ls}):await this._useSession(async r=>{var n,a,s;const{data:l,error:d}=r;if(d)throw d;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wn}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:ls})})}catch(r){if(Ce(r))return n0(r)&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new wn;const l=a.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await Rl(this.storage,this.storageKey));const{data:h,error:p}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:ls});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Ce(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wn;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:l}=Qh(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};s=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});s={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ce(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:d}=r;if(d)throw d;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new wn;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Pr())throw new Fh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new AE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new AE("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:d,expires_at:f,token_type:h}=t;if(!s||!d||!l||!h)throw new Fh("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(d);let y=p+g;f&&(y=parseInt(f));const v=y-p;v*1e3<=Fl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const x=y-g;p-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,y,p):p-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,y,p);const{data:S,error:_}=await this._getUser(s);if(_)throw _;const N={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:y,refresh_token:l,token_type:h,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(n){if(Ce(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await to(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s&&!n0(s))return this._returnResult({error:s});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(TU(d)&&(d.status===404||d.status===401||d.status===403)||n0(d)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=zU(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Rl(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Ce(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ce(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var l,d,f,h,p;const{data:g,error:y}=s;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return Pr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ce(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:l,provider:d,token:f,access_token:h,nonce:p}=t,g=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:f,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ta}),{data:y,error:v}=g;return v?this._returnResult({data:{user:null,session:null},error:v}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Ml}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:v}))}catch(a){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Ce(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)throw l;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ce(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await QU(async a=>(a>0&&await FU(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ta})),(a,s)=>{const l=200*Math.pow(2,a);return s&&a0(s)&&Date.now()+l-n<Fl})}catch(n){if(this._debug(r,"error",n),Ce(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await to(this.storage,this.storageKey);if(a&&this.userStorage){let l=await to(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Ql(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:i0()}else if(a&&!a.user&&!a.user){const l=await to(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,await kr(this.storage,this.storageKey+"-user"),await Ql(this.storage,this.storageKey,a)):a.user=i0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<r0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${r0}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),a0(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(a.access_token);!d&&(l!=null&&l.user)?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ep;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new wn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const d={data:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(a,"error",s),Ce(s)){const l={data:null,error:s};return a0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(l),s.length>0){for(let d=0;d<s.length;d+=1)console.error(s[d]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await kr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ql(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=DE(a);await Ql(this.storage,this.storageKey,s)}else{const a=DE(r);await Ql(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await kr(this.storage,this.storageKey),await kr(this.storage,this.storageKey+"-code-verifier"),await kr(this.storage,this.storageKey+"-user"),this.userStorage&&await kr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Fl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Fl}ms, refresh threshold is ${fx} ticks`),a<=fx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof JT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await Rl(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(d.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ce(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&f.type==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(Ce(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?wz(t.webauthn.credential_response):jz(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(Ce(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:bz(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:xz(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ce(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,s;if(t)try{const{payload:v}=Qh(t);let x=null;v.aal&&(x=v.aal);let S=x;const{data:{user:_},error:N}=await this.getUser(t);if(N)return this._returnResult({data:null,error:N});((n=(r=_==null?void 0:_.factors)===null||r===void 0?void 0:r.filter(C=>C.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(S="aal2");const A=v.amr||[];return{data:{currentLevel:x,nextLevel:S,currentAuthenticationMethods:A},error:null}}catch(v){if(Ce(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:l},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Qh(l.access_token);let h=null;f.aal&&(h=f.aal);let p=h;((s=(a=l.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const y=f.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Re(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new wn})})}catch(r){if(Ce(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new wn});const l=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&Pr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Ce(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new wn});const l=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&Pr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Ce(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new wn})})}catch(t){if(Ce(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wn})})}catch(r){if(Ce(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(d=>d.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+kU>a)return n;const{data:s,error:l}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return this._returnResult({data:null,error:x});n=v.session.access_token}const{header:a,payload:s,signature:l,raw:{header:d,payload:f}}=Qh(n);r!=null&&r.allowExpired||ZU(s.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:a,signature:l},error:null}}const p=JU(a.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,$U(`${d}.${f}`)))throw new px("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(n){if(Ce(n))return this._returnResult({data:null,error:n});throw n}}}gd.nextInstanceID={};const Pz=gd,Tz="2.95.3";let rd="";typeof Deno<"u"?rd="deno":typeof document<"u"?rd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rd="react-native":rd="node";const Dz={"X-Client-Info":`supabase-js-${rd}/${Tz}`},Mz={headers:Dz},Rz={schema:"public"},Iz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lz={};function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function Bz(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $z(e){var t=Bz(e,"string");return yd(t)=="symbol"?t:t+""}function Uz(e,t,r){return(t=$z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(r),!0).forEach(function(n){Uz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const zz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qz=()=>Headers,Kz=(e,t,r)=>{const n=zz(r),a=qz();return async(s,l)=>{var d;const f=(d=await t())!==null&&d!==void 0?d:e;let h=new a(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(s,qt(qt({},l),{},{headers:h}))}};function Fz(e){return e.endsWith("/")?e:e+"/"}function Qz(e,t){var r,n;const{db:a,auth:s,realtime:l,global:d}=e,{db:f,auth:h,realtime:p,global:g}=t,y={db:qt(qt({},f),a),auth:qt(qt({},h),s),realtime:qt(qt({},p),l),storage:{},global:qt(qt(qt({},g),d),{},{headers:qt(qt({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function Hz(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Fz(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Vz=class extends Pz{constructor(e){super(e)}},Gz=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const s=Hz(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,d={db:Rz,realtime:Lz,auth:qt(qt({},Iz),{},{storageKey:l}),global:Mz},f=Qz(r??{},d);if(this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=Kz(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(qt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new T6(new URL("rest/v1",s).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new NU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new _6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:l,lock:d,debug:f,throwOnError:h},p,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vz({url:this.authUrl.href,headers:qt(qt({},y),p),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:l,lock:d,debug:f,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Y6(this.realtimeUrl.href,qt(qt({},e),{},{params:qt(qt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Yz=(e,t,r)=>new Gz(e,t,r);function Wz(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Wz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xz="https://ozjddzasadgffjjeqntc.supabase.co",Zz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96amRkemFzYWRnZmZqamVxbnRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTMwMzEsImV4cCI6MjA4NTk2OTAzMX0._1fbWup_bHYe0PN5QUcptRMuwZRAEFwQOPEPd7Lk3NY",ye=Yz(Xz,Zz),Jz={company:{name:"BD Hatbela",logo:"",phone:"",email:"",address:""},order:{prefix:"BDH-",nextNumber:1},invoice:{title:"Tax Invoice",logoWidth:60,logoHeight:60,footer:"Thank you for shopping with BD Hatbela!"},defaults:{accountId:"",paymentMethod:"Cash",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:20},categories:[],paymentMethods:[],courier:{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}},rD=e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null},eq=rD("currentUser"),tq=rD("settings"),ve={users:[],customers:[],vendors:[],products:[],orders:[],bills:[],accounts:[],transactions:[],currentUser:eq??null,settings:tq??Jz},Qu=()=>{try{localStorage.setItem("currentUser",JSON.stringify(ve.currentUser)),localStorage.setItem("settings",JSON.stringify(ve.settings))}catch(e){console.warn("[DB] localStorage write failed:",e)}},Cc="https://ozjddzasadgffjjeqntc.supabase.co",kc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96amRkemFzYWRnZmZqamVxbnRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTMwMzEsImV4cCI6MjA4NTk2OTAzMX0._1fbWup_bHYe0PN5QUcptRMuwZRAEFwQOPEPd7Lk3NY";async function cn(){try{if(ve.currentUser)return{user:ve.currentUser};const e=localStorage.getItem("currentUserId");if(e)try{const r=await Mw(e);if(r){ve.currentUser=r;try{localStorage.setItem("userData",JSON.stringify(r)),localStorage.setItem("userProfile",JSON.stringify(r))}catch{}return{user:r}}}catch(r){console.warn("[supabaseQueries] Failed to fetch stored user id profile:",r)}const t=localStorage.getItem("userData");if(t)try{const r=JSON.parse(t);return ve.currentUser=r,{user:r}}catch{}throw new Error("No authenticated session available. Please log in.")}catch(e){throw console.error("[supabaseQueries] ensureAuthenticated failed:",(e==null?void 0:e.message)||e),e}}async function Si(e,t=1e4){const r=n=>{if(!n)return!1;const a=((n==null?void 0:n.message)||(n==null?void 0:n.toString())||"").toLowerCase(),s=(n==null?void 0:n.code)||"";return a.includes("failed to fetch")||a.includes("connection closed")||a.includes("network")||a.includes("econnrefused")||a.includes("etimedout")||s==="ERR_CONNECTION_CLOSED"||n instanceof TypeError};try{const n=await Promise.race([e,new Promise(l=>{setTimeout(()=>l({data:null,error:{message:"Query timeout"}}),t)})]),{data:a,error:s}=n;if(s){if(r(s))return console.error("[supabaseQueries] NETWORK ERROR (no retry):",(s==null?void 0:s.message)||s),[];console.warn("[supabaseQueries] Query error (first attempt):",(s==null?void 0:s.message)||s);try{const d=await e;return d!=null&&d.error?(console.error("[supabaseQueries] Query retry failed:",d.error.message||d.error),[]):(d==null?void 0:d.data)??[]}catch(d){return console.error("[supabaseQueries] Query retry exception:",d),[]}}if(!a){console.warn("[supabaseQueries] Query returned no data on first attempt, retrying once...");try{const l=await e;return l!=null&&l.error?(console.error("[supabaseQueries] Query retry error:",l.error.message||l.error),[]):(l==null?void 0:l.data)??[]}catch(l){return console.error("[supabaseQueries] Query retry exception:",l),[]}}return a}catch(n){if(r(n))return console.error("[supabaseQueries] NETWORK ERROR in catch:",(n==null?void 0:n.message)||n),[];console.error("[supabaseQueries] Query exception (outer):",n);try{const s=await e;return s!=null&&s.error?(console.error("[supabaseQueries] Final retry error:",s.error.message||s.error),[]):(s==null?void 0:s.data)??[]}catch(s){return console.error("[supabaseQueries] Final retry exception:",s),[]}}}async function nD(){return console.log("[supabaseQueries] fetchCustomers called"),(await Si(ye.from("customers").select("*").order("created_at",{ascending:!1}))).map(vd)}async function rq(e){if(!e)return null;if(e.startsWith("temp-"))return console.warn("[supabaseQueries] fetchCustomerById called with temp id, returning null:",e),null;const{data:t,error:r}=await ye.from("customers").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchCustomerById error:",r),null):vd(t)}async function nq(e){await cn();const t=crypto.randomUUID(),r=async()=>await ye.from("customers").insert([{id:t,name:e.name,phone:e.phone,address:e.address,total_orders:e.totalOrders||0,due_amount:e.dueAmount||0}]).select().single();try{const{data:n,error:a}=await r();if(a)throw console.error("[supabaseQueries] createCustomer error:",a),a;return vd(n)}catch(n){const a=(n==null?void 0:n.name)||(n==null?void 0:n.code)||"";if(a==="AbortError"||a==="ABORT_ERR"||String(n).toLowerCase().includes("abort")){console.warn("[supabaseQueries] createCustomer aborted - retrying once");try{await new Promise(d=>setTimeout(d,250));const{data:s,error:l}=await r();if(l)throw console.error("[supabaseQueries] createCustomer retry error:",l),l;return vd(s)}catch(s){throw console.error("[supabaseQueries] createCustomer abort/retry failed:",s),s}}throw console.error("[supabaseQueries] createCustomer error:",n),n}}async function aq(e,t){await cn();const{data:r,error:n}=await ye.from("customers").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.address&&{address:t.address},...t.totalOrders!==void 0&&{total_orders:t.totalOrders},...t.dueAmount!==void 0&&{due_amount:t.dueAmount}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateCustomer error:",n),n;return vd(r)}async function iq(e){if(e.startsWith("temp-")){const r=new Error("Cannot delete unsaved customer. Please refresh and try again.");throw console.error("[supabaseQueries] deleteCustomer error:",r),r}const{error:t}=await ye.from("customers").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteCustomer error:",t),t}function vd(e){return{id:e.id,name:e.name,phone:e.phone,address:e.address,totalOrders:e.total_orders??e.totalOrders??0,dueAmount:e.due_amount??e.dueAmount??0}}async function sq(){return(await Si(ye.from("orders").select("*").order("created_at",{ascending:!1}))).map(Fd)}async function oq(e){const{data:t,error:r}=await ye.from("orders").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchOrderById error:",r),null):Fd(t)}async function lq(e){return(await Si(ye.from("orders").select("*").eq("customer_id",e).order("order_date",{ascending:!1}))).map(Fd)}async function cq(e){await cn();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("orders").insert([{id:t,order_number:e.orderNumber,order_date:e.orderDate,customer_id:e.customerId,created_by:e.createdBy,status:e.status,items:e.items,subtotal:e.subtotal,discount:e.discount,shipping:e.shipping,total:e.total,paid_amount:e.paidAmount,history:e.history}]).select().single();if(n)throw console.error("[supabaseQueries] createOrder error:",n),n;return Fd(r)}async function uq(e,t){await cn();const{data:r,error:n}=await ye.from("orders").update({...t.customerId&&{customer_id:t.customerId},...t.orderDate&&{order_date:t.orderDate},...t.orderNumber&&{order_number:t.orderNumber},...t.notes!==void 0&&{notes:t.notes},...t.status&&{status:t.status},...t.items&&{items:t.items},...t.subtotal!==void 0&&{subtotal:t.subtotal},...t.discount!==void 0&&{discount:t.discount},...t.shipping!==void 0&&{shipping:t.shipping},...t.total!==void 0&&{total:t.total},...t.paidAmount!==void 0&&{paid_amount:t.paidAmount},...t.history&&{history:t.history}}).eq("id",e).select();if(n)throw console.error("[supabaseQueries] updateOrder error:",n),n;if(!r||Array.isArray(r)&&r.length===0)return console.warn("[supabaseQueries] updateOrder: update succeeded but no row was returned (possible RLS). Returning null."),null;const a=Array.isArray(r)?r[0]:r;return Fd(a)}async function dq(e){const{error:t}=await ye.from("orders").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteOrder error:",t),t}function Fd(e){return{id:e.id,orderNumber:e.order_number??e.orderNumber,orderDate:e.order_date??e.orderDate,customerId:e.customer_id??e.customerId,createdBy:e.created_by??e.createdBy,status:e.status,items:e.items??[],subtotal:e.subtotal??0,discount:e.discount??0,shipping:e.shipping??0,total:e.total??0,notes:e.notes,history:e.history??{},paidAmount:e.paid_amount??e.paidAmount??0}}async function fq(){return(await Si(ye.from("accounts").select("*").order("created_at",{ascending:!1}))).map(Dw)}async function hq(e){const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("accounts").insert([{id:t,name:e.name,type:e.type,opening_balance:e.openingBalance,current_balance:e.currentBalance}]).select().single();if(n)throw console.error("[supabaseQueries] createAccount error:",n),n;return Dw(r)}async function mq(e,t){const{data:r,error:n}=await ye.from("accounts").update({...t.name&&{name:t.name},...t.type&&{type:t.type},...t.currentBalance!==void 0&&{current_balance:t.currentBalance}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateAccount error:",n),n;return Dw(r)}async function pq(e){const{error:t}=await ye.from("accounts").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteAccount error:",t),t}function Dw(e){return{id:e.id,name:e.name,type:e.type,openingBalance:e.opening_balance??e.openingBalance,currentBalance:e.current_balance??e.currentBalance}}async function gq(){return(await Si(ye.from("transactions").select("*").order("created_at",{ascending:!1}))).map(bq)}async function yq(e){await cn();const t=crypto.randomUUID(),r={id:t,date:e.date,type:e.type,category:e.category,account_id:e.accountId,amount:e.amount,description:e.description,payment_method:e.paymentMethod,created_by:e.createdBy};e.toAccountId&&(r.to_account_id=e.toAccountId),e.referenceId&&(r.reference_id=e.referenceId),e.contactId&&(r.contact_id=e.contactId),e.attachmentName&&(r.attachment_name=e.attachmentName),e.attachmentUrl&&(r.attachment_url=e.attachmentUrl);const{error:n}=await ye.from("transactions").insert([r]);if(n)throw console.error("[supabaseQueries] createTransaction error:",n),n;return{id:t,date:e.date,type:e.type,category:e.category,accountId:e.accountId,toAccountId:e.toAccountId,amount:e.amount,description:e.description,referenceId:e.referenceId,contactId:e.contactId,paymentMethod:e.paymentMethod,attachmentName:e.attachmentName,attachmentUrl:e.attachmentUrl,createdBy:e.createdBy}}async function vq(e){if(e.startsWith("temp-")){const r=new Error("Cannot delete unsaved transactions. Please refresh and try again.");throw console.error("[supabaseQueries] deleteTransaction error:",r),r}const{error:t}=await ye.from("transactions").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteTransaction error:",t),t}function bq(e){const t=e.date??e.date_string??null,r=e.created_at??e.createdAt??null,n=t&&t.toString().length>10?t:r||t||"";return{id:e.id,date:n,type:e.type,category:e.category,accountId:e.account_id??e.accountId,toAccountId:e.to_account_id??e.toAccountId,amount:e.amount,description:e.description,referenceId:e.reference_id??e.referenceId,contactId:e.contact_id??e.contactId,paymentMethod:e.payment_method??e.paymentMethod,attachmentName:e.attachment_name??e.attachmentName,attachmentUrl:e.attachment_url??e.attachmentUrl,createdBy:e.created_by??e.createdBy,createdAt:r||null}}async function xq(){return(await Si(ye.from("users").select("*").order("created_at",{ascending:!1}))).map(Qd)}async function Mw(e){const{data:t,error:r}=await ye.from("users").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchUserById error:",r),null):Qd(t)}async function wq(e,t){try{console.log("[supabaseQueries] loginUser - fetching user by phone:",e);const{data:r,error:n}=await ye.from("users").select("*").eq("phone",e).single();if(n)return console.error("[supabaseQueries] loginUser - user not found:",n==null?void 0:n.message),{user:null,error:"User not found"};if(!r)return{user:null,error:"User not found"};console.log("[supabaseQueries] loginUser - validating password");try{if(!(await $T(()=>import("./bcrypt-tWyeFQ2e.js").then(l=>l.b),[])).compareSync(t,r.password_hash||""))return console.error("[supabaseQueries] loginUser - password mismatch"),{user:null,error:"Invalid password"}}catch(a){return console.error("[supabaseQueries] loginUser - bcrypt error:",a==null?void 0:a.message),{user:null,error:"Password validation failed"}}return console.log("[supabaseQueries] loginUser - success for user:",r.id),{user:Qd(r),error:null}}catch(r){return console.error("[supabaseQueries] loginUser exception:",(r==null?void 0:r.message)||r),{user:null,error:(r==null?void 0:r.message)||"Login failed"}}}async function jq(e){try{const t=e.password;if(!t)throw new Error("Password is required to create a user");const r=crypto.randomUUID();console.log("[supabaseQueries] Creating user with phone:",e.phone,"id:",r);let n;try{n=(await $T(()=>import("./bcrypt-tWyeFQ2e.js").then(f=>f.b),[])).hashSync(t,12),console.log("[supabaseQueries] Password hashed successfully")}catch(l){throw console.error("[supabaseQueries] Password hashing failed:",l==null?void 0:l.message),new Error(`Password hashing failed: ${(l==null?void 0:l.message)||"Unknown error"}`)}console.log("[supabaseQueries] Inserting user row into users table");const{data:a,error:s}=await ye.from("users").insert([{id:r,name:e.name,phone:e.phone,role:e.role,image:e.image,password_hash:n}]).select().single();if(s)throw console.error("[supabaseQueries] Create profile error:",s),s;return console.log("[supabaseQueries] User created successfully - can now sign in (frontend-password mode)"),Qd(a)}catch(t){throw console.error("[supabaseQueries] createUser error:",t),t}}async function Sq(e,t){const{data:r,error:n}=await ye.from("users").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.role&&{role:t.role},...t.image&&{image:t.image}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateUser error:",n),n;return Qd(r)}async function _q(e){const{error:t}=await ye.from("users").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteUser error:",t),t}function zE(e){return e?typeof e=="string"?e:e.message?e.message:e.details?e.details:e.hint?e.hint:JSON.stringify(e):"Unknown error"}function Qd(e){return{id:e.id,name:e.name,phone:e.phone,role:e.role,image:e.image,createdAt:e.created_at}}async function Nq(){return(await Si(ye.from("bills").select("*").order("created_at",{ascending:!1}))).map(Ap)}async function Oq(e){const{data:t,error:r}=await ye.from("bills").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchBillById error:",r),null):Ap(t)}async function Eq(e){await cn();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("bills").insert([{id:t,bill_number:e.billNumber,bill_date:e.billDate,vendor_id:e.vendorId,created_by:e.createdBy,status:e.status,items:e.items,subtotal:e.subtotal,discount:e.discount,shipping:e.shipping,total:e.total,paid_amount:e.paidAmount,history:e.history||{}}]).select().single();if(n)throw console.error("[supabaseQueries] createBill error:",n),n;return Ap(r)}async function Aq(e,t){await cn();const{data:r,error:n}=await ye.from("bills").update({...t.vendorId&&{vendor_id:t.vendorId},...t.billDate&&{bill_date:t.billDate},...t.billNumber&&{bill_number:t.billNumber},...t.notes!==void 0&&{notes:t.notes},...t.status&&{status:t.status},...t.items&&{items:t.items},...t.subtotal!==void 0&&{subtotal:t.subtotal},...t.discount!==void 0&&{discount:t.discount},...t.shipping!==void 0&&{shipping:t.shipping},...t.total!==void 0&&{total:t.total},...t.paidAmount!==void 0&&{paid_amount:t.paidAmount},...t.history&&{history:t.history}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateBill error:",n),n;return Ap(r)}async function Cq(e){const{error:t}=await ye.from("bills").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteBill error:",t),t}function Ap(e){return{id:e.id,billNumber:e.bill_number??e.billNumber,billDate:e.bill_date??e.billDate,vendorId:e.vendor_id??e.vendorId,createdBy:e.created_by??e.createdBy,status:e.status,items:e.items??[],subtotal:e.subtotal??0,discount:e.discount??0,shipping:e.shipping??0,total:e.total??0,notes:e.notes,paidAmount:e.paid_amount??e.paidAmount??0,history:e.history}}async function kq(){return(await Si(ye.from("vendors").select("*").order("created_at",{ascending:!1}))).map(Cp)}async function Pq(e){const{data:t,error:r}=await ye.from("vendors").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchVendorById error:",r),null):Cp(t)}async function Tq(e){await cn();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("vendors").insert([{id:t,name:e.name,phone:e.phone,address:e.address,total_purchases:e.totalPurchases||0,due_amount:e.dueAmount||0}]).select().single();if(n)throw console.error("[supabaseQueries] createVendor error:",n),n;return Cp(r)}async function Dq(e,t){await cn();const{data:r,error:n}=await ye.from("vendors").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.address&&{address:t.address},...t.totalPurchases!==void 0&&{total_purchases:t.totalPurchases},...t.dueAmount!==void 0&&{due_amount:t.dueAmount}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateVendor error:",n),n;return Cp(r)}async function Mq(e){const{error:t}=await ye.from("vendors").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteVendor error:",t),t}function Cp(e){return{id:e.id,name:e.name,phone:e.phone,address:e.address,totalPurchases:e.total_purchases??e.totalPurchases??0,dueAmount:e.due_amount??e.dueAmount??0}}async function Rq(e){console.log("[supabaseQueries] fetchProducts called",e?"for category: "+e:"");try{let t=ye.from("products").select("id, name, image, category, sale_price, purchase_price, created_at").order("created_at",{ascending:!1});return e&&(t=t.eq("category",e)),(await Si(t)).map(kp)}catch(t){return console.error("[supabaseQueries] fetchProducts error:",t),[]}}async function Iq(e){const{data:t,error:r}=await ye.from("products").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchProductById error:",r),null):kp(t)}async function Lq(e){await cn();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("products").insert([{id:t,name:e.name,image:e.image,category:e.category,sale_price:e.salePrice,purchase_price:e.purchasePrice}]).select().single();if(n)throw console.error("[supabaseQueries] createProduct error:",n),n;return kp(r)}async function Bq(e,t){const{data:r,error:n}=await ye.from("products").update({...t.name&&{name:t.name},...t.image&&{image:t.image},...t.category&&{category:t.category},...t.salePrice!==void 0&&{sale_price:t.salePrice},...t.purchasePrice!==void 0&&{purchase_price:t.purchasePrice}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateProduct error:",n),n;return kp(r)}async function $q(e){const{error:t}=await ye.from("products").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteProduct error:",t),t}function kp(e){return{id:e.id,name:e.name,image:e.image,category:e.category,salePrice:e.sale_price??e.salePrice??0,purchasePrice:e.purchase_price??e.purchasePrice??0}}async function Uq(e){console.log("[supabaseQueries] fetchCategories called",e?"for type: "+e:"");try{let t=ye.from("categories").select("*").order("name",{ascending:!0});e&&(t=t.eq("type",e));const{data:r,error:n}=await t;if(n)throw console.error("[supabaseQueries] fetchCategories error:",n),new Error(`[${n.code}] ${n.message}`);return r?r.map(aD):[]}catch(t){throw console.error("[supabaseQueries] fetchCategories exception:",t),t}}async function zq(e){await cn();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("categories").insert([{id:t,name:e.name,type:e.type,color:e.color||"#3B82F6",parent_id:e.parentId||null}]).select().single();if(n)throw console.error("[supabaseQueries] createCategory error:",n),n;return aD(r)}async function qq(e){const{error:t}=await ye.from("categories").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteCategory error:",t),t}function aD(e){return{id:e.id,name:e.name,type:e.type,color:e.color,parentId:e.parent_id,createdAt:e.created_at,updatedAt:e.updated_at}}async function Kq(e=!0){console.log("[supabaseQueries] fetchPaymentMethods called");try{let t=ye.from("payment_methods").select("*").order("name",{ascending:!0});e&&(t=t.eq("is_active",!0));const{data:r,error:n}=await t;if(n)throw console.error("[supabaseQueries] fetchPaymentMethods error:",n),new Error(`[${n.code}] ${n.message}`);return r?r.map(iD):[]}catch(t){throw console.error("[supabaseQueries] fetchPaymentMethods exception:",t),t}}async function Fq(e){await cn();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("payment_methods").insert([{id:t,name:e.name,description:e.description||null,is_active:!0}]).select().single();if(n)throw console.error("[supabaseQueries] createPaymentMethod error:",n),n;return iD(r)}async function Qq(e){const{error:t}=await ye.from("payment_methods").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deletePaymentMethod error:",t),t}function iD(e){return{id:e.id,name:e.name,description:e.description,isActive:e.is_active,createdAt:e.created_at,updatedAt:e.updated_at}}async function Hq(){console.log("[supabaseQueries] fetchUnits called");try{const{data:e,error:t}=await ye.from("units").select("*").order("name",{ascending:!0});if(t)throw console.error("[supabaseQueries] fetchUnits error:",t),new Error(`[${t.code}] ${t.message}`);return e?e.map(sD):[]}catch(e){throw console.error("[supabaseQueries] fetchUnits exception:",e),e}}async function Vq(e){const t=e.shortName.toLowerCase(),{data:r,error:n}=await ye.from("units").insert([{id:t,name:e.name,short_name:e.shortName,description:e.description||null}]).select().single();if(n)throw console.error("[supabaseQueries] createUnit error:",n),n;return sD(r)}async function Gq(e){const{error:t}=await ye.from("units").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteUnit error:",t),t}function sD(e){return{id:e.id,name:e.name,shortName:e.short_name,description:e.description,createdAt:e.created_at,updatedAt:e.updated_at}}async function Hd(){try{const{data:e,error:t}=await ye.from("company_settings").select("*").maybeSingle();return t||!e?(console.error("[supabaseQueries] fetchCompanySettings error:",t),{id:"default",name:"Your Company",phone:"+880",email:"info@company.com",address:"",logo:""}):{id:e.id,name:e.name||"Your Company",phone:e.phone||"+880",email:e.email||"info@company.com",address:e.address||"",logo:e.logo||""}}catch(e){return console.error("[supabaseQueries] fetchCompanySettings exception:",e),{id:"default",name:"Your Company",phone:"+880",email:"info@company.com",address:"",logo:""}}}async function Yq(e){await cn();try{const t=await Hd(),r={name:e.name||t.name,phone:e.phone||t.phone,email:e.email||t.email,address:e.address!==void 0?e.address:t.address,logo:e.logo!==void 0?e.logo:t.logo},{data:n}=await ye.from("company_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("company_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("company_settings").insert(r).select().single();if(l)throw l;a=s}return a||r}catch(t){throw console.error("[supabaseQueries] updateCompanySettings exception:",t),t}}async function Rw(){try{const{data:e,error:t}=await ye.from("order_settings").select("*").maybeSingle();return t||!e?(console.error("[supabaseQueries] fetchOrderSettings error:",t),{prefix:"ORD-",nextNumber:1}):{prefix:e.prefix||"ORD-",nextNumber:e.next_number||1}}catch(e){return console.error("[supabaseQueries] fetchOrderSettings exception:",e),{prefix:"ORD-",nextNumber:1}}}async function oD(e){try{const t=await Rw(),r={prefix:e.prefix||t.prefix,next_number:e.nextNumber!==void 0?e.nextNumber:t.nextNumber},{data:n}=await ye.from("order_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("order_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("order_settings").insert(r).select().single();if(l)throw l;a=s}return a?{prefix:a.prefix,nextNumber:a.next_number}:r}catch(t){throw console.error("[supabaseQueries] updateOrderSettings error:",t),t}}async function Iw(){try{const{data:e,error:t}=await ye.from("invoice_settings").select("*").maybeSingle();return t||!e?(console.error("[supabaseQueries] fetchInvoiceSettings error:",t),{title:"Invoice",logoWidth:120,logoHeight:120,footer:""}):{title:e.title||"Invoice",logoWidth:e.logo_width||120,logoHeight:e.logo_height||120,footer:e.footer||""}}catch(e){return console.error("[supabaseQueries] fetchInvoiceSettings exception:",e),{title:"Invoice",logoWidth:120,logoHeight:120,footer:""}}}async function Wq(e){try{const t=await Iw(),r={title:e.title||t.title,logo_width:e.logoWidth!==void 0?e.logoWidth:t.logoWidth,logo_height:e.logoHeight!==void 0?e.logoHeight:t.logoHeight,footer:e.footer!==void 0?e.footer:t.footer},{data:n}=await ye.from("invoice_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("invoice_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("invoice_settings").insert(r).select().single();if(l)throw l;a=s}return a?{title:a.title,logoWidth:a.logo_width,logoHeight:a.logo_height,footer:a.footer}:{title:r.title,logoWidth:r.logo_width,logoHeight:r.logo_height,footer:r.footer}}catch(t){throw console.error("[supabaseQueries] updateInvoiceSettings error:",t),t}}async function Lw(){try{const{data:e,error:t}=await ye.from("system_defaults").select("*").maybeSingle();return t||!e?(console.error("[supabaseQueries] fetchSystemDefaults error:",t),{defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}):{defaultAccountId:e.default_account_id||"",defaultPaymentMethod:e.default_payment_method||"",incomeCategoryId:e.income_category_id||"",expenseCategoryId:e.expense_category_id||"",recordsPerPage:e.records_per_page||10}}catch(e){return console.error("[supabaseQueries] fetchSystemDefaults exception:",e),{defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}}}async function Xq(e){try{const t=await Lw(),r={default_account_id:e.defaultAccountId?e.defaultAccountId:t.defaultAccountId||null,default_payment_method:e.defaultPaymentMethod?e.defaultPaymentMethod:t.defaultPaymentMethod||null,income_category_id:e.incomeCategoryId?e.incomeCategoryId:t.incomeCategoryId||null,expense_category_id:e.expenseCategoryId?e.expenseCategoryId:t.expenseCategoryId||null,records_per_page:e.recordsPerPage!==void 0?e.recordsPerPage:t.recordsPerPage},{data:n}=await ye.from("system_defaults").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("system_defaults").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("system_defaults").insert(r).select().single();if(l)throw l;a=s}return a?{defaultAccountId:a.default_account_id,defaultPaymentMethod:a.default_payment_method,incomeCategoryId:a.income_category_id,expenseCategoryId:a.expense_category_id,recordsPerPage:a.records_per_page}:t}catch(t){throw console.error("[supabaseQueries] updateSystemDefaults error:",t),t}}async function Bw(){try{const{data:e,error:t}=await ye.from("courier_settings").select("*").maybeSingle();return t||!e?(console.error("[supabaseQueries] fetchCourierSettings error:",t),{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}):{steadfast:{baseUrl:e.steadfast_base_url||"",apiKey:e.steadfast_api_key||"",secretKey:e.steadfast_secret_key||""},carryBee:{baseUrl:e.carrybee_base_url||"",clientId:e.carrybee_client_id||"",clientSecret:e.carrybee_client_secret||"",clientContext:e.carrybee_client_context||"",storeId:e.carrybee_store_id||""}}}catch(e){return console.error("[supabaseQueries] fetchCourierSettings exception:",e),{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}}}async function Zq(e){var t,r,n,a,s,l,d,f;try{const h=await Bw(),p={steadfast_base_url:((t=e.steadfast)==null?void 0:t.baseUrl)||h.steadfast.baseUrl,steadfast_api_key:((r=e.steadfast)==null?void 0:r.apiKey)||h.steadfast.apiKey,steadfast_secret_key:((n=e.steadfast)==null?void 0:n.secretKey)||h.steadfast.secretKey,carrybee_base_url:((a=e.carryBee)==null?void 0:a.baseUrl)||h.carryBee.baseUrl,carrybee_client_id:((s=e.carryBee)==null?void 0:s.clientId)||h.carryBee.clientId,carrybee_client_secret:((l=e.carryBee)==null?void 0:l.clientSecret)||h.carryBee.clientSecret,carrybee_client_context:((d=e.carryBee)==null?void 0:d.clientContext)||h.carryBee.clientContext,carrybee_store_id:((f=e.carryBee)==null?void 0:f.storeId)||h.carryBee.storeId},{data:g}=await ye.from("courier_settings").select("id").limit(1).maybeSingle();let y;if(g!=null&&g.id){const{data:v,error:x}=await ye.from("courier_settings").update(p).eq("id",g.id).select().maybeSingle();if(x)throw x;y=v}else{const{data:v,error:x}=await ye.from("courier_settings").insert(p).select().single();if(x)throw x;y=v}return{steadfast:{baseUrl:(y==null?void 0:y.steadfast_base_url)||"",apiKey:(y==null?void 0:y.steadfast_api_key)||"",secretKey:(y==null?void 0:y.steadfast_secret_key)||""},carryBee:{baseUrl:(y==null?void 0:y.carrybee_base_url)||"",clientId:(y==null?void 0:y.carrybee_client_id)||"",clientSecret:(y==null?void 0:y.carrybee_client_secret)||"",clientContext:(y==null?void 0:y.carrybee_client_context)||"",storeId:(y==null?void 0:y.carrybee_store_id)||""}}}catch(h){throw console.error("[supabaseQueries] updateCourierSettings error:",h),h}}async function Jq(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.clientId)==null?void 0:r.trim(),f=(n=e.clientSecret)==null?void 0:n.trim(),h=(a=e.clientContext)==null?void 0:a.trim();if(!l||!d||!f||!h)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];console.log("[supabaseQueries] Calling Edge Function for CarryBee stores");const p=`${Cc}/functions/v1/carrybee-stores`;console.log("[supabaseQueries] Edge Function URL:",p);const g=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${kc}`},body:JSON.stringify({baseUrl:l,clientId:d,clientSecret:f,clientContext:h})});if(console.log("[supabaseQueries] Edge Function response status:",g.status),!g.ok)return console.error("[supabaseQueries] Edge Function error:",g.status,g.statusText),[];const y=await g.json();if(console.log("[supabaseQueries] Edge Function response data:",y),y.error)return console.error("[supabaseQueries] Edge Function returned error:",y.error,y.details),[];if(!((s=y.data)!=null&&s.stores))return console.warn("[supabaseQueries] No stores in response"),[];const v=y.data.stores.map(x=>({id:x.id,name:x.name}));return console.log("[supabaseQueries] Successfully fetched",v.length,"stores"),v}catch(l){return console.error("[supabaseQueries] fetchCarryBeeStores exception:",l instanceof Error?l.message:l),[]}}async function e8(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.clientId)==null?void 0:r.trim(),f=(n=e.clientSecret)==null?void 0:n.trim(),h=(a=e.clientContext)==null?void 0:a.trim();if(!l||!d||!f||!h)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const p=`${Cc}/functions/v1/carrybee-cities`,g=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${kc}`},body:JSON.stringify({baseUrl:l,clientId:d,clientSecret:f,clientContext:h})});if(!g.ok)return console.error("[supabaseQueries] Cities Edge Function error:",g.status),[];const y=await g.json();return y.error||!((s=y.data)!=null&&s.cities)?(console.error("[supabaseQueries] Cities Edge Function returned error:",y.error),[]):y.data.cities.map(v=>({id:v.id,name:v.name}))}catch(l){return console.error("[supabaseQueries] fetchCarryBeeCities exception:",l instanceof Error?l.message:l),[]}}async function t8(e){var t,r,n,a,s,l;try{const d=(t=e.baseUrl)==null?void 0:t.trim(),f=(r=e.clientId)==null?void 0:r.trim(),h=(n=e.clientSecret)==null?void 0:n.trim(),p=(a=e.clientContext)==null?void 0:a.trim(),g=(s=e.cityId)==null?void 0:s.trim();if(!d||!f||!h||!p||!g)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const y=`${Cc}/functions/v1/carrybee-zones`,v=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${kc}`},body:JSON.stringify({baseUrl:d,clientId:f,clientSecret:h,clientContext:p,cityId:g})});if(!v.ok)return console.error("[supabaseQueries] Zones Edge Function error:",v.status),[];const x=await v.json();return x.error||!((l=x.data)!=null&&l.zones)?(console.error("[supabaseQueries] Zones Edge Function returned error:",x.error),[]):x.data.zones.map(S=>({id:S.id,name:S.name}))}catch(d){return console.error("[supabaseQueries] fetchCarryBeeZones exception:",d instanceof Error?d.message:d),[]}}async function r8(e){var t,r,n,a,s,l,d;try{const f=(t=e.baseUrl)==null?void 0:t.trim(),h=(r=e.clientId)==null?void 0:r.trim(),p=(n=e.clientSecret)==null?void 0:n.trim(),g=(a=e.clientContext)==null?void 0:a.trim(),y=(s=e.cityId)==null?void 0:s.trim(),v=(l=e.zoneId)==null?void 0:l.trim();if(!f||!h||!p||!g||!y||!v)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const x=`${Cc}/functions/v1/carrybee-areas`,S=await fetch(x,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${kc}`},body:JSON.stringify({baseUrl:f,clientId:h,clientSecret:p,clientContext:g,cityId:y,zoneId:v})});if(!S.ok)return console.error("[supabaseQueries] Areas Edge Function error:",S.status),[];const _=await S.json();return _.error||!((d=_.data)!=null&&d.areas)?(console.error("[supabaseQueries] Areas Edge Function returned error:",_.error),[]):_.data.areas.map(N=>({id:N.id,name:N.name}))}catch(f){return console.error("[supabaseQueries] fetchCarryBeeAreas exception:",f instanceof Error?f.message:f),[]}}async function n8(e){var t,r,n,a;try{const s=(t=e.baseUrl)==null?void 0:t.trim(),l=(r=e.clientId)==null?void 0:r.trim(),d=(n=e.clientSecret)==null?void 0:n.trim(),f=(a=e.clientContext)==null?void 0:a.trim();if(!s||!l||!d||!f||!e.storeId)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),{error:"Missing required parameters"};console.log("[supabaseQueries] Calling Edge Function to submit CarryBee order");const h=`${Cc}/functions/v1/carrybee-submit-order`,p=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${kc}`},body:JSON.stringify({baseUrl:s,clientId:l,clientSecret:d,clientContext:f,storeId:e.storeId,deliveryType:e.deliveryType,productType:e.productType,recipientPhone:e.recipientPhone,recipientName:e.recipientName,recipientAddress:e.recipientAddress,cityId:e.cityId,zoneId:e.zoneId,areaId:e.areaId,itemWeight:e.itemWeight,collectableAmount:e.collectableAmount})});if(console.log("[supabaseQueries] Submit Order Edge Function response status:",p.status),!p.ok)return console.error("[supabaseQueries] Submit Order Edge Function error:",p.status),{error:`HTTP ${p.status}`};const g=await p.json();return console.log("[supabaseQueries] Submit Order response:",g),g.error?(console.error("[supabaseQueries] Edge Function returned error:",g.error),{error:g.error}):(console.log("[supabaseQueries] Successfully submitted order to CarryBee"),g.data)}catch(s){return console.error("[supabaseQueries] submitCarryBeeOrder exception:",s instanceof Error?s.message:s),{error:s instanceof Error?s.message:"Unknown error"}}}async function a8(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.apiKey)==null?void 0:r.trim(),f=(n=e.secretKey)==null?void 0:n.trim();if(console.log("[supabaseQueries] ======== BEFORE TRIM ========"),console.log("[supabaseQueries] baseUrl (raw):",JSON.stringify(e.baseUrl)),console.log("[supabaseQueries] apiKey (raw):",JSON.stringify((a=e.apiKey)==null?void 0:a.substring(0,5))),console.log("[supabaseQueries] secretKey (raw):",JSON.stringify((s=e.secretKey)==null?void 0:s.substring(0,5))),console.log("[supabaseQueries] ======== AFTER TRIM ========"),console.log("[supabaseQueries] baseUrl (trimmed):",JSON.stringify(l)),console.log("[supabaseQueries] apiKey (trimmed):",JSON.stringify(d==null?void 0:d.substring(0,5))),console.log("[supabaseQueries] secretKey (trimmed):",JSON.stringify(f==null?void 0:f.substring(0,5))),!l||!d||!f||!e.invoice||!e.recipientName||!e.recipientPhone||!e.recipientAddress||e.codAmount===void 0)return console.warn("[supabaseQueries] Steadfast API parameters incomplete"),console.warn("[supabaseQueries] Validation:",{baseUrl:!!l,apiKey:!!d,secretKey:!!f,invoice:!!e.invoice,recipientName:!!e.recipientName,recipientPhone:!!e.recipientPhone,recipientAddress:!!e.recipientAddress,codAmount:e.codAmount!==void 0}),{error:"Missing required parameters"};console.log("[supabaseQueries] ======== CALLING EDGE FUNCTION ========");const h=`${Cc}/functions/v1/steadfast-submit-order`;console.log("[supabaseQueries] Edge Function URL:",h);const p={baseUrl:l,apiKey:d,secretKey:f,invoice:e.invoice,recipientName:e.recipientName,recipientPhone:e.recipientPhone,recipientAddress:e.recipientAddress,codAmount:e.codAmount};console.log("[supabaseQueries] Payload being sent:",{baseUrl:l,apiKey:`${d.substring(0,5)}...`,secretKey:`${f.substring(0,5)}...`,invoice:p.invoice,recipientName:p.recipientName,recipientPhone:p.recipientPhone,recipientAddress:p.recipientAddress,codAmount:p.codAmount});const g=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${kc}`},body:JSON.stringify(p)});if(console.log("[supabaseQueries] Submit Steadfast Order Edge Function response status:",g.status),!g.ok)return console.error("[supabaseQueries] Submit Steadfast Order Edge Function error:",g.status),{error:`HTTP ${g.status}`};const y=await g.json();if(console.log("[supabaseQueries] Submit Steadfast Order response:",y),y.error){const v=y.details?`${y.error}: ${y.details}`:y.error;return console.error("[supabaseQueries] Edge Function returned error:",v),{error:v}}return console.log("[supabaseQueries] Successfully submitted order to Steadfast"),y.data}catch(l){return console.error("[supabaseQueries] submitSteadfastOrder exception:",l instanceof Error?l.message:l),{error:l instanceof Error?l.message:"Unknown error"}}}async function i8(e){await cn();try{const[t,r,n,a,s]=await Promise.all([e.company?Yq(e.company):Hd(),e.order?oD(e.order):Rw(),e.invoice?Wq(e.invoice):Iw(),e.defaults?Xq(e.defaults):Lw(),e.courier?Zq(e.courier):Bw()]);return{company:t,order:r,invoice:n,defaults:a,courier:s}}catch(t){throw console.error("[supabaseQueries] batchUpdateSettings error:",t),t}}const lD=j.createContext(void 0),s8=({children:e})=>{const[t,r]=j.useState(null),[n,a]=j.useState(null),[s,l]=j.useState(!0),d=2500;console.log("[AuthProvider] Mounting - initializing context provider"),j.useEffect(()=>{let p=!0,g=null,y=!1;return(async()=>{try{console.log("[Auth] Initializing - attempting to restore session from localStorage...");const x=localStorage.getItem("currentUserId");let S=null;const _=localStorage.getItem("userProfile"),N=localStorage.getItem("userData");if(_&&N)try{S=JSON.parse(_);const O=JSON.parse(N);console.log("[Auth] Restored legacy session from localStorage:",S.name),p&&(r(O),a(S),ve.currentUser=S,Qu())}catch{console.warn("[Auth] Failed to parse saved legacy session data, clearing..."),localStorage.removeItem("userProfile"),localStorage.removeItem("userData")}if(!S&&x){console.log("[Auth] Found stored user id - polling for full profile:",x),p&&l(!0);let O=!1;const A=async()=>{try{const T=await Mw(x);T&&p&&(console.log("[Auth] Fetched user profile from server:",T.name),r(T),a(T),ve.currentUser=T,Qu(),O=!0,p&&l(!1),window.dispatchEvent(new Event("authChange")))}catch(T){console.warn("[Auth] Poll fetch failed - will retry:",T)}};await A();const C=setInterval(async()=>{if(O||!p){clearInterval(C);return}await A()},d)}!S&&!x&&(console.log("[Auth] No saved profile or id - user is logged out"),p&&(r(null),a(null),ve.currentUser=null,Qu(),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userProfile"),localStorage.removeItem("userData"),localStorage.removeItem("currentUserId"))),y=!0,p&&l(!1)}catch(x){console.error("[Auth] Initialization error:",x),y=!0,p&&l(!1)}})(),g=()=>{},()=>{if(console.log("[Auth] Cleaning up auth provider"),p=!1,g)try{g()}catch(x){console.error("[Auth] Error unsubscribing from auth changes:",x)}}},[]);const f=async(p,g)=>{const y=p.includes("@")?p.split("@")[0]:p;console.log("[Auth] signIn called with phone:",y);try{const{user:v,error:x}=await wq(y,g);return x||!v?(console.error("[Auth] signIn failed:",x),{error:{message:x||"Login failed"}}):(console.log("[Auth] signIn successful for:",v.phone),r(v),a(v),ve.currentUser=v,Qu(),localStorage.setItem("currentUserId",v.id),localStorage.setItem("userProfile",JSON.stringify(v)),localStorage.setItem("userData",JSON.stringify(v)),localStorage.setItem("isLoggedIn","true"),l(!1),window.dispatchEvent(new Event("authChange")),console.log("[Auth] User profile loaded:",v.name),{data:{user:v},error:null,profileLoaded:!0})}catch(v){return console.error("[Auth] signIn exception:",(v==null?void 0:v.message)||v),{error:{message:(v==null?void 0:v.message)||"Login failed"}}}},h=async()=>{console.log("[Auth] signOut called"),r(null),a(null),ve.currentUser=null,Qu(),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userProfile"),localStorage.removeItem("userData"),localStorage.removeItem("currentUserId"),localStorage.removeItem("currentUser"),window.dispatchEvent(new Event("authChange")),console.log("[Auth] signOut completed - state cleared")};return console.log("[AuthProvider] Rendering with state:",{userEmail:t==null?void 0:t.email,profileName:n==null?void 0:n.name,isLoading:s}),c.jsx(lD.Provider,{value:{user:t,profile:n,isLoading:s,signIn:f,signOut:h},children:e})};function Pp(){const e=j.useContext(lD);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const cD=j.createContext(void 0),o8=({children:e})=>{const[t,r]=j.useState([]),n=j.useCallback((l,d,f=3500)=>{const h=`toast-${Date.now()}-${Math.random()}`,p={id:h,message:l,type:d,duration:f};return r(g=>[...g,p]),f>0&&setTimeout(()=>{a(h)},f),h},[]),a=j.useCallback(l=>{r(d=>d.filter(f=>f.id!==l))},[]),s=j.useCallback((l,d,f,h=3500)=>{r(p=>{const g=p.map(y=>y.id===l?{...y,message:d,type:f,duration:h}:y);return h>0&&setTimeout(()=>{a(l)},h),g})},[a]);return c.jsx(cD.Provider,{value:{toasts:t,showToast:n,dismissToast:a,updateToast:s},children:e})},uD=()=>{const e=j.useContext(cD);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Mr=()=>{const{showToast:e,updateToast:t}=uD();return{success:r=>e(r,"success",3500),error:r=>e(r,"error",4500),warning:r=>e(r,"warning",3500),info:r=>e(r,"info",3500),loading:r=>e(r,"info",0),update:(r,n,a="success")=>t(r,n,a,3500)}},dD=j.createContext(void 0),l8=({children:e})=>{const[t,r]=j.useState(""),n=()=>r("");return c.jsx(dD.Provider,{value:{searchQuery:t,setSearchQuery:r,clearSearch:n},children:e})},Da=()=>{const e=j.useContext(dD);if(!e)throw new Error("useSearch must be used within a SearchProvider");return e},c8=j.createContext(void 0),u8=({children:e})=>{const t=$e(),[r,n]=xr.useState(!1);return j.useEffect(()=>{console.log("[Realtime] Initializing subscriptions for orders, bills, transactions...");const a=ye.channel("public:orders",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"orders"},f=>{var h,p;if(console.log("[Realtime] Orders change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["orders"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["orders"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["orders"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["orders"],(g=[])=>g.filter(y=>y.id!==f.new.id));t.invalidateQueries({queryKey:["ordersByCustomerId"]}),(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["order",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?(console.log("[Realtime] Orders channel subscribed"),n(!0)):f==="CHANNEL_ERROR"&&h&&(console.error("[Realtime] Orders channel error:",h),n(!1))}),s=ye.channel("public:bills",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"bills"},f=>{var h,p;if(console.log("[Realtime] Bills change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["bills"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["bills"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["bills"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["bills"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["bill",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Bills channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Bills channel error:",h)}),l=ye.channel("public:transactions",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"transactions"},f=>{var h,p;if(console.log("[Realtime] Transactions change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["transactions"])||[];if(!g.find(y=>y.id===f.new.id)){const y=[f.new,...g].sort((v,x)=>{const S=new Date(v.date||v.createdAt||0).getTime();return new Date(x.date||x.createdAt||0).getTime()-S});t.setQueryData(["transactions"],y)}}else f.eventType==="UPDATE"?t.setQueryData(["transactions"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["transactions"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["transaction",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Transactions channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Transactions channel error:",h)}),d=ye.channel("public:accounts",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"accounts"},f=>{var h,p;if(console.log("[Realtime] Accounts change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["accounts"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["accounts"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["accounts"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["accounts"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["account",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Accounts channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Accounts channel error:",h)});return()=>{console.log("[Realtime] Cleaning up all subscriptions"),ye.removeChannel(a),ye.removeChannel(s),ye.removeChannel(l),ye.removeChannel(d),n(!1)}},[t]),c.jsx(c8.Provider,{value:{isConnected:r},children:e})},fD=j.createContext(void 0),d8=({children:e})=>{const t=$e(),[r,n]=j.useState(navigator.onLine),[a,s]=j.useState(!1);return j.useEffect(()=>{console.log("[Network] Provider initialized - initial online status:",navigator.onLine);const l=()=>{console.log("[Network] Connection restored - refetching all queries"),n(!0),s(!0),t.refetchQueries()},d=()=>{console.log("[Network] Connection lost - offline mode activated"),n(!1)};return window.addEventListener("online",l),window.addEventListener("offline",d),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",d)}},[t]),c.jsx(fD.Provider,{value:{isOnline:r,wasOffline:a},children:e})};function f8(){const e=j.useContext(fD);if(!e)throw new Error("useNetwork must be used within NetworkProvider");return e}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=e=>{const t=m8(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...d},f)=>j.createElement("svg",{ref:f,...p8,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:hD("lucide",a),...!s&&!g8(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>j.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=(e,t)=>{const r=j.forwardRef(({className:n,...a},s)=>j.createElement(y8,{ref:s,iconNode:t,className:hD(`lucide-${h8(qE(e))}`,`lucide-${e}`,n),...a}));return r.displayName=qE(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],b8=Ct("arrow-right-left",v8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],KE=Ct("briefcase",x8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],j8=Ct("chart-column",w8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_8=Ct("check",S8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],O8=Ct("chevron-right",N8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],A8=Ct("circle-alert",E8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],k8=Ct("circle-plus",C8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],T8=Ct("copy",P8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],M8=Ct("credit-card",D8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],I8=Ct("download",R8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],B8=Ct("ellipsis-vertical",L8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],U8=Ct("info",$8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],q8=Ct("layout-dashboard",z8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],F8=Ct("log-out",K8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["path",{d:"M5 12h14",key:"1ays0h"}]],H8=Ct("minus",Q8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],G8=Ct("package",V8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],W8=Ct("plus",Y8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Z8=Ct("printer",X8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],e9=Ct("search",J8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],r9=Ct("settings",t9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],a9=Ct("shopping-cart",n9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],s9=Ct("square-pen",i9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],l9=Ct("trash-2",o9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],u9=Ct("truck",c9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],FE=Ct("users",d9),ae={Dashboard:c.jsx(q8,{size:20}),Sales:c.jsx(a9,{size:20}),Products:c.jsx(G8,{size:20}),Customers:c.jsx(FE,{size:20}),Vendors:c.jsx(KE,{size:20}),Users:c.jsx(FE,{size:20}),Briefcase:c.jsx(KE,{size:20}),Banking:c.jsx(M8,{size:20}),Reports:c.jsx(j8,{size:20}),Settings:c.jsx(r9,{size:20}),Courier:c.jsx(u9,{size:20}),Plus:c.jsx(W8,{size:20}),Minus:c.jsx(H8,{size:20}),PlusCircle:c.jsx(k8,{size:20}),LogOut:c.jsx(F8,{size:20}),ChevronRight:c.jsx(O8,{size:20}),Search:c.jsx(e9,{size:18}),More:c.jsx(B8,{size:18}),Print:c.jsx(Z8,{size:18}),Download:c.jsx(I8,{size:18}),Duplicate:c.jsx(T8,{size:18}),Edit:c.jsx(s9,{size:18}),Delete:c.jsx(l9,{size:18}),Transfer:c.jsx(b8,{size:18}),Check:c.jsx(_8,{size:20}),AlertCircle:c.jsx(A8,{size:20}),Info:c.jsx(U8,{size:20})},be=e=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0,maximumFractionDigits:0}).format(e).replace("BDT",""),Tp=e=>({ON_HOLD:"bg-gray-100 text-gray-600",PROCESSING:"bg-blue-100 text-blue-600",PICKED:"bg-purple-100 text-purple-600",COMPLETED:"bg-green-100 text-green-600",CANCELLED:"bg-red-100 text-red-600",RECEIVED:"bg-green-100 text-green-600","On Hold":"bg-gray-100 text-gray-600",Processing:"bg-blue-100 text-blue-600",Picked:"bg-purple-100 text-purple-600",Completed:"bg-green-100 text-green-600",Cancelled:"bg-red-100 text-red-600",Received:"bg-green-100 text-green-600"})[e]||"bg-gray-100 text-gray-600";var At=(e=>(e.ADMIN="Admin",e.EMPLOYEE="Employee",e))(At||{}),Le=(e=>(e.ON_HOLD="On Hold",e.PROCESSING="Processing",e.PICKED="Picked",e.COMPLETED="Completed",e.CANCELLED="Cancelled",e))(Le||{}),sn=(e=>(e.ON_HOLD="On Hold",e.PROCESSING="Processing",e.RECEIVED="Received",e.PAID="Paid",e))(sn||{});const ie={colors:{primary:{50:"bg-[#ebf4ff]",500:"bg-[#3c5a82]",600:"bg-[#0f2f57]",700:"bg-[#0c203b]",text:"text-[#0f2f57]"},secondary:{600:"bg-blue-600",700:"bg-blue-700"},danger:{50:"bg-red-50",600:"bg-red-600",700:"bg-red-700",text:"text-red-600"},bg:{primary:"bg-white",secondary:"bg-gray-50",tertiary:"bg-gray-100"},text:{primary:"text-gray-900",secondary:"text-gray-500",tertiary:"text-gray-400"},border:{primary:"border-gray-100"}},radius:{sm:"rounded-lg",md:"rounded-xl"},transitions:{normal:"transition-all duration-300"},buttons:{base:"inline-flex items-center justify-center gap-2 font-bold rounded-xl transition-all duration-300 cursor-pointer",secondary:"bg-gray-100 text-gray-600 hover:bg-gray-200",outline:"border-2 border-gray-200 text-gray-700 hover:bg-gray-50",sizes:{sm:"px-3 py-2 text-xs",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3.5 text-sm"}},inputs:{base:"w-full px-4 py-2.5 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] focus:border-transparent transition-all",label:"block text-sm font-semibold text-gray-700 mb-2",error:"border-red-500 focus:ring-red-500"},table:{header:"bg-gray-50 border-b border-gray-100"},card:{base:"bg-white rounded-2xl shadow-sm border border-gray-100 transition-all",elevated:"bg-white rounded-2xl shadow-md border border-gray-100"}},ns=({to:e,icon:t,label:r,active:n,onClick:a,children:s})=>{const[l,d]=j.useState(n);return s?c.jsxs("div",{className:"space-y-1",children:[c.jsxs("button",{onClick:()=>d(!l),className:`flex items-center justify-between w-full px-4 py-3 ${ie.radius.md} ${ie.transitions.normal} ${n?`${ie.colors.primary[50]} ${ie.colors.primary.text}`:`text-gray-500 hover:${ie.colors.primary[50]} hover:${ie.colors.primary.text}`}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[t,c.jsx("span",{className:"font-semibold text-sm",children:r})]}),c.jsx("div",{className:`transition-transform duration-200 ${l?"rotate-90":""}`,children:ae.ChevronRight})]}),l&&c.jsx("div",{className:"pl-11 space-y-1",children:s.map(f=>c.jsx(pc,{to:f.to,onClick:a,className:`block px-4 py-2 text-sm font-medium ${ie.radius.sm} ${ie.transitions.normal} ${f.active?`${ie.colors.primary[600]} text-white`:`text-gray-400 hover:${ie.colors.primary.text} hover:${ie.colors.primary[50]}/30`}`,children:f.label},f.to))})]}):c.jsxs(pc,{to:e||"#",onClick:a,className:`flex items-center gap-3 px-4 py-3 ${ie.radius.md} ${ie.transitions.normal} ${n?`${ie.colors.primary[600]} text-white shadow-lg shadow-emerald-200/50`:`text-gray-500 hover:${ie.colors.primary[50]} hover:${ie.colors.primary.text}`}`,children:[t,c.jsx("span",{className:"font-semibold text-sm",children:r})]})},tt=({children:e})=>{const t=wi(),r=mt(),{signOut:n,profile:a}=Pp(),{searchQuery:s,setSearchQuery:l}=Da(),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,y]=j.useState(!1),[v,x]=j.useState({name:ve.settings.company.name,logo:ve.settings.company.logo}),S=a||ve.currentUser;if(j.useEffect(()=>{(async()=>{try{const A=await Hd();x(A)}catch(A){console.error("Failed to load company settings:",A)}})()},[]),xr.useEffect(()=>{const O=document.querySelector("main");O&&(O.scrollTop=0);try{window.scrollTo(0,0)}catch{}},[t.pathname]),!S)return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block p-4",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),c.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading user data..."})]})});const _=async()=>{try{await n(),r("/login",{replace:!0})}catch(O){console.error("Logout failed:",O)}},N=O=>t.pathname===O||t.pathname.startsWith(O+"/");return c.jsxs("div",{className:`${ie.colors.bg.secondary} flex overflow-hidden`,style:{minHeight:"100vh"},children:[d&&c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40 lg:hidden",onClick:()=>f(!1)}),c.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 ${ie.colors.bg.primary} border-r ${ie.colors.border.primary} ${ie.transitions.normal} transform lg:sticky lg:top-0 lg:h-screen lg:translate-x-0 ${d?"translate-x-0":"-translate-x-full"}`,children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"p-8",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-1 ${ie.colors.primary[50]} rounded-[50%]`,children:v.logo&&c.jsx("img",{src:v.logo,alt:"Logo",className:"w-10 h-10 rounded-lg object-cover"})}),c.jsxs("div",{children:[c.jsx("h1",{className:`text-xl font-black ${ie.colors.text.primary} tracking-tight leading-none`,children:v.name}),c.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Management"})]})]})}),c.jsxs("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto",children:[c.jsx(ns,{to:"/dashboard",icon:ae.Dashboard,label:"Dashboard",active:N("/dashboard"),onClick:()=>f(!1)}),c.jsx(ns,{to:"/products",icon:ae.Products,label:"Products",active:N("/products"),onClick:()=>f(!1)}),c.jsx(ns,{icon:ae.Sales,label:"Sales",active:N("/orders")||N("/customers"),children:[{to:"/orders",label:"Orders",active:N("/orders")},{to:"/customers",label:"Customers",active:N("/customers")}],onClick:()=>f(!1)}),S.role===At.ADMIN&&c.jsxs(c.Fragment,{children:[c.jsx(ns,{icon:ae.Briefcase,label:"Purchases",active:N("/bills")||N("/vendors"),children:[{to:"/bills",label:"Bills",active:N("/bills")},{to:"/vendors",label:"Vendors",active:N("/vendors")}],onClick:()=>f(!1)}),c.jsx(ns,{icon:ae.Banking,label:"Banking",active:N("/banking"),children:[{to:"/banking/accounts",label:"Accounts",active:N("/banking/accounts")},{to:"/banking/transactions",label:"Transactions",active:N("/banking/transactions")},{to:"/banking/transfer",label:"Transfer",active:N("/banking/transfer")}],onClick:()=>f(!1)})]}),S.role===At.ADMIN&&c.jsxs(c.Fragment,{children:[c.jsx(ns,{to:"/reports",icon:ae.Reports,label:"Reports",active:N("/reports"),onClick:()=>f(!1)}),c.jsx(ns,{to:"/users",icon:ae.Users,label:"Users",active:N("/users"),onClick:()=>f(!1)}),c.jsx(ns,{to:"/settings",icon:ae.Settings,label:"Settings",active:N("/settings"),onClick:()=>f(!1)})]})]})]})}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[c.jsxs("header",{className:`flex-shrink-0 sticky top-0 z-40 ${ie.colors.bg.primary}/80 backdrop-blur-lg border-b ${ie.colors.border.primary} px-6 h-20 flex items-center justify-between`,children:[c.jsx("button",{onClick:()=>f(!0),className:`lg:hidden p-2.5 hover:${ie.colors.bg.tertiary} ${ie.radius.md} ${ie.colors.text.secondary} border ${ie.colors.border.primary}`,children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),c.jsxs("div",{className:"flex-1 max-w-xl mx-4 relative group hidden sm:block",children:[c.jsx("div",{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-300 group-focus-within:${ie.colors.primary.text} ${ie.transitions.normal}`,children:ae.Search}),c.jsx("input",{type:"text",placeholder:"Search orders, invoices, or customers...",value:s,onChange:O=>l(O.target.value),className:`block w-full pl-11 pr-4 py-2.5 ${ie.colors.bg.secondary} border-transparent focus:${ie.colors.bg.primary} focus:ring-2 focus:ring-[#3c5a82] focus:border-transparent ${ie.radius.md} text-sm ${ie.transitions.normal}`})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>p(!h),className:`${ie.colors.primary[600]} text-white w-10 h-10 flex items-center justify-center ${ie.radius.md} hover:${ie.colors.primary[700]} ${ie.transitions.normal} shadow-lg shadow-[#0f2f57]/20 active:scale-95`,children:ae.Plus}),h&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>p(!1)}),c.jsxs("div",{className:`absolute right-0 mt-3 w-56 ${ie.colors.bg.primary} border ${ie.colors.border.primary} rounded-2xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in slide-in-from-top-2 duration-200 origin-top-right`,children:[c.jsx("div",{className:`px-4 py-2 text-[10px] font-bold ${ie.colors.text.tertiary} uppercase tracking-widest border-b ${ie.colors.border.primary} mb-1`,children:"Quick Actions"}),S.role===At.EMPLOYEE?[{label:"New Order",to:"/orders/new",icon:ae.Sales},{label:"New Customer",to:"/customers/new",icon:ae.Customers}].map(O=>c.jsxs(pc,{to:O.to,onClick:()=>p(!1),className:`flex items-center gap-3 px-4 py-3 text-sm font-bold ${ie.colors.text.primary} hover:${ie.colors.primary[50]} hover:${ie.colors.primary.text} ${ie.transitions.normal}`,children:[c.jsx("span",{className:"opacity-70",children:O.icon}),O.label]},O.label)):[{label:"New Order",to:"/orders/new",icon:ae.Sales},{label:"New Bill",to:"/bills/new",icon:ae.Briefcase},{label:"New Customer",to:"/customers/new",icon:ae.Customers},{label:"New Vendor",to:"/vendors/new",icon:ae.Vendors},{label:"Add Income",to:"/transactions/new/income",icon:ae.PlusCircle},{label:"Add Expense",to:"/transactions/new/expense",icon:ae.Delete}].map(O=>c.jsxs(pc,{to:O.to,onClick:()=>p(!1),className:`flex items-center gap-3 px-4 py-3 text-sm font-bold ${ie.colors.text.primary} hover:${ie.colors.primary[50]} hover:${ie.colors.primary.text} ${ie.transitions.normal}`,children:[c.jsx("span",{className:"opacity-70",children:O.icon}),O.label]},O.label))]})]})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>y(!g),className:`flex items-center gap-3 pl-4 border-l ${ie.colors.border.primary} hover:opacity-70 ${ie.transitions.normal}`,children:[c.jsxs("div",{className:"text-right hidden md:block",children:[c.jsx("p",{className:`text-sm font-black ${ie.colors.text.primary} leading-none`,children:S.name}),c.jsx("p",{className:`text-[10px] font-bold ${ie.colors.primary.text} uppercase tracking-widest mt-1`,children:S.role})]}),c.jsx("img",{src:S.image||`https://ui-avatars.com/api/?name=${S.name}&background=0f2f57&color=fff`,alt:"Profile",className:"w-10 h-10 rounded-[50%] object-cover cursor-pointer"})]}),g&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>y(!1)}),c.jsxs("div",{className:`absolute right-0 mt-3 w-48 ${ie.colors.bg.primary} border ${ie.colors.border.primary} rounded-xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in slide-in-from-top-2 duration-200 origin-top-right`,children:[c.jsxs("button",{onClick:()=>{r(`/users/${S.id}`),y(!1)},className:`flex items-center gap-3 w-full px-4 py-3 text-sm font-bold ${ie.colors.primary.text} hover:${ie.colors.primary[50]} ${ie.transitions.normal}`,children:[ae.Users,"Profile"]}),c.jsxs("button",{onClick:()=>{_(),y(!1)},className:`flex items-center gap-3 w-full px-4 py-3 text-sm font-bold ${ie.colors.danger.text} hover:${ie.colors.danger[50]} ${ie.transitions.normal}`,children:[ae.LogOut,"Logout"]})]})]})]})]})]}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-6 lg:p-10 animate-in fade-in duration-500 relative",children:[e,c.jsxs("footer",{className:`mt-20 py-8 border-t ${ie.colors.border.primary} flex flex-col items-center gap-2`,children:[c.jsxs("p",{className:`text-sm font-medium ${ie.colors.text.secondary}`,children:[" ",new Date().getFullYear()," ",v.name,". All rights reserved."]}),c.jsxs("a",{href:"https://sajedurrahmanfiad.me",target:"_blank",rel:"noreferrer",className:`group flex items-center gap-1.5 text-[11px] font-bold ${ie.colors.text.secondary} hover:${ie.colors.primary.text} ${ie.transitions.normal} uppercase tracking-widest`,children:["Developed by ",c.jsx("span",{className:`${ie.colors.text.secondary} group-hover:${ie.colors.primary.text} underline underline-offset-4 decoration-[#0f2f57]/20`,children:"Md Sajedur Rahman Fiad"})]})]})]})]})]})},f9=()=>{const{toasts:e,dismissToast:t}=uD(),r=n=>{switch(n){case"success":return{icon:ae.Check,bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon_color:"text-green-600"};case"error":return{icon:ae.AlertCircle,bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon_color:"text-red-600"};case"warning":return{icon:ae.AlertCircle,bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon_color:"text-yellow-600"};case"info":return{icon:ae.Info,bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon_color:"text-blue-600"};default:return{icon:ae.Info,bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-800",icon_color:"text-gray-600"}}};return c.jsx("div",{className:"fixed bottom-6 right-6 z-[9999] flex flex-col gap-3",children:e.map(n=>{const{icon:a,bg:s,border:l,text:d,icon_color:f}=r(n.type);return c.jsxs("div",{className:`${s} ${l} border rounded-lg p-4 shadow-md flex items-start gap-3 min-w-[320px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300`,children:[c.jsx("div",{className:`${f} flex-shrink-0 mt-0.5`,children:a}),c.jsx("div",{className:`${d} flex-1 text-sm font-medium`,children:n.message}),c.jsx("button",{onClick:()=>t(n.id),className:`${f} flex-shrink-0 hover:opacity-70 transition-opacity`,children:c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},n.id)})})},h9=()=>{const{isOnline:e}=f8(),[t,r]=j.useState(!1);return j.useEffect(()=>{if(!e)r(!0);else{const n=setTimeout(()=>{r(!1)},2e3);return()=>clearTimeout(n)}},[e]),t?c.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-red-50 border-b-2 shadow-lg transition-all duration-300",style:{borderColor:e?"#10b981":"#ef4444",backgroundColor:e?"#ecfdf5":"#fee2e2"},children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsx("div",{className:`text-xl ${e?"text-green-600":"text-red-600"}`,children:e?"":""}),c.jsxs("div",{children:[c.jsx("p",{className:`font-bold ${e?"text-green-900":"text-red-900"}`,children:e?"Connection Restored":"No Internet Connection"}),c.jsx("p",{className:`text-sm ${e?"text-green-700":"text-red-700"}`,children:e?"Data is syncing with the server":"Your changes will be saved when connection is restored"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[!e&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-pulse w-2 h-2 rounded-full bg-red-500"}),c.jsx("span",{className:"text-xs font-medium text-red-600",children:"Waiting for connection..."})]}),e&&c.jsx("span",{className:"text-xs font-medium text-green-600",children:"Syncing..."})]})]})}):null},m9=()=>{const e=mt(),{signIn:t,isLoading:r,user:n,profile:a}=Pp(),[s,l]=j.useState(""),[d,f]=j.useState(""),[h,p]=j.useState(""),[g,y]=j.useState(!1),[v,x]=j.useState({name:"BD Hatbela",logo:ve.settings.company.logo});j.useEffect(()=>{console.log("[Login] Checking redirect - isLoading:",r,"authenticated:",!!n),!r&&n&&(console.log("[Login] User authenticated, navigating to dashboard"),e("/dashboard",{replace:!0}))},[n,r,e]),j.useEffect(()=>{(async()=>{try{const N=await Hd();x({name:"BD Hatbela",logo:N.logo||ve.settings.company.logo})}catch(N){console.error("Failed to load company settings:",N),x({name:"BD Hatbela",logo:ve.settings.company.logo})}})()},[]);const S=async _=>{var N,O;_.preventDefault(),p(""),y(!0),console.log("[Login] Form submitted with phone:",s);try{console.log("[Login] Calling signIn...");const{error:A,data:C}=await t(s,d);if(A){console.error("[Login] Sign-in error:",A);const T=(A==null?void 0:A.message)||"Authentication failed";p(T),y(!1);return}if(console.log("[Login] Sign-in successful, user:",(N=C==null?void 0:C.user)==null?void 0:N.email),!(C!=null&&C.profileLoaded)){console.error("[Login] Sign-in succeeded but profile not loaded"),p(((O=C==null?void 0:C.error)==null?void 0:O.message)||"Failed to load user profile. Please try again or contact administrator."),y(!1);return}console.log("[Login] Profile loaded, waiting for state to propagate...")}catch(A){console.error("[Login] Sign-in exception:",A),p((A==null?void 0:A.message)||"Failed to sign in"),y(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[v.logo&&c.jsx("img",{src:v.logo,alt:"Logo",className:"w-12 h-12 rounded-md object-cover"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold",children:v.name}),c.jsx("p",{className:"text-sm text-gray-500",children:"Sign in to continue"})]})]}),c.jsxs("form",{onSubmit:S,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),c.jsx("input",{value:s,onChange:_=>l(_.target.value),type:"tel",placeholder:"017XXXXXXXX",required:!0,disabled:g,className:"mt-1 block w-full border rounded px-3 py-2 focus:outline-none focus:ring disabled:opacity-50"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),c.jsx("input",{value:d,onChange:_=>f(_.target.value),type:"password",required:!0,disabled:g,className:"mt-1 block w-full border rounded px-3 py-2 focus:outline-none focus:ring disabled:opacity-50"})]}),h&&c.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-600 space-y-2",children:[c.jsx("p",{className:"font-semibold",children:"Error"}),c.jsx("p",{children:h}),h.includes("Email confirmation")&&c.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-700 text-xs",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Quick Fix:"}),c.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[c.jsx("li",{children:"Go to Supabase Dashboard"}),c.jsx("li",{children:"Project  Authentication  Providers"}),c.jsx("li",{children:'Click "Email" tab'}),c.jsx("li",{children:'Toggle OFF "Confirm email"'}),c.jsx("li",{children:"Save settings"}),c.jsx("li",{children:"Try logging in again"})]})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 text-white py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed font-medium hover:bg-blue-700 transition-colors",children:g?"Signing in...":"Sign In"})})]})]})})},p9={primary:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},secondary:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},danger:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},warning:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},success:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},info:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},neutral:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},profit:{bg:"bg-gray-50",text:"text-black",icon:"text-black"}},ea=({title:e,value:t,icon:r,variant:n="primary",bgColor:a,textColor:s,iconBgColor:l,isProfitCard:d=!1,profitValue:f})=>{const h=p9[n];let p=a||"bg-white",g=s||h.text,y=l||h.bg,v="";return d&&f!==void 0&&!a&&(f>=0?(p="bg-emerald-500",g="text-white",y="bg-emerald-600"):(p="bg-red-500",g="text-white",y="bg-red-600")),c.jsxs("div",{className:`p-6 flex items-center gap-4 ${p} rounded-xl shadow-lg border border-gray-100 ${v}`,children:[c.jsx("div",{className:`${y} p-4 rounded-lg flex items-center justify-center`,children:c.jsx("div",{className:g,children:r})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:`text-xs font-bold uppercase tracking-widest ${g==="text-white"?"text-white/70":"text-gray-400"}`,children:e}),c.jsx("h3",{className:`text-2xl font-black mt-1 ${g}`,children:t})]})]})},Qe=xr.forwardRef(({variant:e="primary",size:t="md",children:r,icon:n,loading:a=!1,className:s="",...l},d)=>{const f={primary:`${ie.colors.primary[600]} text-white hover:${ie.colors.primary[700]} shadow-lg shadow-[#0f2f57]/20`,secondary:ie.buttons.secondary,danger:`${ie.colors.danger[600]} text-white hover:${ie.colors.danger[700]} shadow-lg`,outline:ie.buttons.outline,ghost:"text-gray-600 hover:bg-gray-50"},h={sm:ie.buttons.sizes.sm,md:ie.buttons.sizes.md,lg:ie.buttons.sizes.lg};return c.jsx("button",{ref:d,className:`${ie.buttons.base} ${f[e]} ${h[t]} ${a?"opacity-75 cursor-wait":""} ${s}`,disabled:a||l.disabled,...l,children:c.jsxs("span",{className:"flex items-center gap-2",children:[a&&c.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n&&!a&&c.jsx("span",{children:n}),r]})})});Qe.displayName="Button";const g9={primary:`p-2.5 text-gray-400 hover:${ie.colors.primary[600]} hover:bg-[#ebf4ff] rounded-lg transition-all`,danger:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",secondary:`p-2.5 text-gray-400 hover:${ie.colors.secondary[600]} hover:bg-[#e6f0ff] rounded-lg transition-all`,neutral:"p-2.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-all"},Ss=xr.forwardRef(({variant:e="primary",icon:t,title:r,className:n="",...a},s)=>c.jsx("button",{ref:s,className:`${g9[e]} ${n}`,title:r,...a,children:t}));Ss.displayName="IconButton";const Dp=({columns:e,rows:t=5})=>c.jsx(c.Fragment,{children:Array.from({length:t}).map((r,n)=>c.jsx("tr",{className:"border-b border-gray-50 animate-pulse",children:Array.from({length:e}).map((a,s)=>c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2"})]})},s))},n))}),Mp=({columns:e,data:t,emptyMessage:r="No data found",onRowClick:n,rowClassName:a,hover:s=!0,striped:l=!1,size:d="md",loading:f=!1,loadingRows:h=8})=>{const p={sm:"px-4 py-3",md:"px-6 py-5",lg:"px-6 py-6"}[d],g=s?"hover:bg-[#ebf4ff]/50 cursor-pointer transition-all":"",y=l?"odd:bg-gray-50":"";return c.jsx("div",{className:`${ie.card.base} overflow-visible`,children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsx("tr",{className:ie.table.header,children:e.map(v=>c.jsx("th",{className:`${p} text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ${v.align==="center"?"text-center":v.align==="right"?"text-right":""}`,style:v.width?{width:v.width}:void 0,children:v.label},v.key))})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:f?c.jsx(Dp,{columns:e.length,rows:h}):t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:e.length,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:r})}):t.map((v,x)=>c.jsx("tr",{onClick:()=>n==null?void 0:n(v,x),className:`
                    border-b border-gray-50 transition-all
                    ${g}
                    ${y}
                    ${(a==null?void 0:a(v,x))||""}
                  `,children:e.map(S=>c.jsx("td",{className:`${p} ${S.align==="center"?"text-center":S.align==="right"?"text-right":""}`,children:S.render?S.render(v[S.key],v,x):v[S.key]},S.key))},v.id||x))})]})})})},y9=xr.forwardRef(({label:e,error:t,helperText:r,className:n="",...a},s)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:ie.inputs.label,children:e}),c.jsx("input",{ref:s,className:`${ie.inputs.base} ${t?ie.inputs.error:""} ${n}`,...a}),(t||r)&&c.jsx("p",{className:`mt-1 text-xs ${t?"text-red-500":"text-gray-500"}`,children:t||r})]}));y9.displayName="Input";const v9=xr.forwardRef(({label:e,error:t,options:r,className:n="",...a},s)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:ie.inputs.label,children:e}),c.jsx("select",{ref:s,className:`${ie.inputs.base} ${t?ie.inputs.error:""} ${n}`,...a,children:r.map(l=>c.jsx("option",{value:l.value,children:l.label},l.value))}),t&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:t})]}));v9.displayName="Select";const b9=xr.forwardRef(({label:e,error:t,className:r="",...n},a)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:ie.inputs.label,children:e}),c.jsx("textarea",{ref:a,className:`${ie.inputs.base} resize-none ${t?ie.inputs.error:""} ${r}`,...n}),t&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:t})]}));b9.displayName="TextArea";const Vd=({isLoading:e,message:t="Loading..."})=>e?c.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 flex items-center justify-center",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 flex flex-col items-center gap-4",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),c.jsx("p",{className:"text-gray-600 font-medium",children:t})]})}):null,gc=({filterRange:e,setFilterRange:t,customDates:r,setCustomDates:n,statusTab:a,setStatusTab:s,statusOptions:l=[],title:d})=>{const[f,h]=j.useState(!1),{searchQuery:p,setSearchQuery:g}=Da(),y=["All Time","Today","This Week","This Month","This Year","Custom"];return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[c.jsxs("div",{className:"hidden sm:flex flex-wrap items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl border border-gray-100 shadow-sm",children:[y.map(v=>c.jsx("button",{onClick:()=>t(v),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${e===v?`${ie.colors.primary[600]} text-white shadow-md`:"text-gray-500 hover:bg-gray-50"}`,children:v},v)),e==="Custom"&&c.jsxs("div",{className:"flex items-center gap-2 px-3 border-l border-gray-100 ml-1",children:[c.jsx("input",{type:"date",value:r.from,onChange:v=>n({...r,from:v.target.value}),className:"px-2 py-1 border rounded-lg text-[10px] font-bold bg-gray-50 outline-none focus:ring-2 focus:ring-[#3c5a82]"}),c.jsx("span",{className:"text-gray-300 text-[10px] font-black tracking-widest uppercase",children:"To"}),c.jsx("input",{type:"date",value:r.to,onChange:v=>n({...r,to:v.target.value}),className:"px-2 py-1 border rounded-lg text-[10px] font-bold bg-gray-50 outline-none focus:ring-2 focus:ring-[#3c5a82]"})]})]}),s&&l.length>0&&c.jsx("div",{className:"flex items-center gap-1 bg-gray-100/50 p-1 rounded-2xl border border-gray-100",children:["All",...l].map(v=>c.jsx("button",{onClick:()=>s(v),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${a===v?"bg-white text-gray-900 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:v},v))})]}),c.jsxs("button",{onClick:()=>h(!0),className:"sm:hidden flex items-center justify-center gap-2 bg-white border border-gray-200 text-gray-600 px-4 py-3 rounded-2xl font-bold shadow-sm w-full",children:[ae.Search,c.jsx("span",{className:"text-sm",children:"Filter & Period"}),e!=="All Time"&&c.jsx("div",{className:`w-2 h-2 rounded-full ${ie.colors.primary[500]} ml-1`})]})]}),f&&c.jsxs("div",{className:"fixed inset-0 z-[150] flex items-end justify-center",children:[c.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>h(!1)}),c.jsxs("div",{className:"bg-white w-full rounded-t-2xl p-8 z-[160] animate-in slide-in-from-bottom duration-300 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("h3",{className:"text-2xl font-black text-gray-900",children:["Filter ",d]}),c.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l18 18"})})})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Search"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"Search...",value:p,onChange:v=>g(v.target.value),className:"w-full px-4 py-3 pl-12 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"}),c.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:ae.Search})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Time Period"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:y.map(v=>c.jsx("button",{onClick:()=>t(v),className:`py-3 rounded-2xl text-xs font-bold transition-all border ${e===v?`${ie.colors.primary[600]} text-white border-[#0f2f57] shadow-lg`:"bg-white text-gray-500 border-gray-100 hover:bg-gray-50"}`,children:v},v))}),e==="Custom"&&c.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 animate-in fade-in duration-200",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-2",children:"From"}),c.jsx("input",{type:"date",value:r.from,onChange:v=>n({...r,from:v.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-2",children:"To"}),c.jsx("input",{type:"date",value:r.to,onChange:v=>n({...r,to:v.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"})]})]})]}),s&&l.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Status Filter"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:["All",...l].map(v=>c.jsx("button",{onClick:()=>s(v),className:`py-3 rounded-2xl text-xs font-bold transition-all border ${a===v?"bg-gray-900 text-white border-gray-900 shadow-lg":"bg-white text-gray-500 border-gray-100"}`,children:v},v))})]}),c.jsx("button",{onClick:()=>h(!1),className:`w-full py-5 ${ie.colors.primary[600]} text-white rounded-xl font-black text-lg shadow-xl active:scale-95 transition-all mt-4`,children:"Apply Filters"})]})]})]})]})},$w=({isOpen:e,onClose:t,onSubmit:r,accounts:n,paymentForm:a,setPaymentForm:s,isLoading:l,title:d="Record Payment",buttonText:f="Add Payment"})=>e?c.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm",onClick:t}),c.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] p-10 z-[210] animate-in zoom-in-95 duration-200 border border-[#ebf4ff]",children:[c.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-8",children:d}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Payment Date"}),c.jsx("input",{type:"date",value:a.date,onChange:h=>s({...a,date:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Payment Time"}),c.jsx("input",{type:"time",value:a.time,onChange:h=>s({...a,time:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Select Account"}),c.jsxs("select",{value:a.accountId,onChange:h=>s({...a,accountId:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50",children:[c.jsx("option",{value:"",children:"Select an account..."}),n.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",be(h.currentBalance),")"]},h.id))]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Amount (BDT)"}),c.jsx("input",{type:"number",value:a.amount,onChange:h=>s({...a,amount:parseFloat(h.target.value)||0}),disabled:l,className:`w-full px-6 py-4 bg-[#ebf4ff] border-2 border-[#c7dff5] rounded-lg font-black ${ie.colors.primary[600]} text-xl outline-none disabled:opacity-50`})]}),c.jsxs("div",{className:"pt-6 flex gap-4",children:[c.jsx(Qe,{onClick:t,variant:"ghost",disabled:l,children:"Cancel"}),c.jsx(Qe,{onClick:r,variant:"primary",size:"md",className:"flex-1",disabled:l,loading:l,children:f})]})]})]})]}):null;function As(){return Lt({queryKey:["customers"],queryFn:nD,staleTime:300*1e3})}function mD(e){return Lt({queryKey:["customer",e],queryFn:()=>rq(e||""),enabled:!!e&&!(e||"").startsWith("temp-"),staleTime:300*1e3})}function Pc(){return Lt({queryKey:["orders"],queryFn:sq,staleTime:300*1e3})}function Uw(e){return Lt({queryKey:["order",e],queryFn:()=>oq(e||""),enabled:!!e,staleTime:300*1e3})}function x9(e){return Lt({queryKey:["ordersByCustomerId",e],queryFn:()=>lq(e||""),enabled:!!e,staleTime:300*1e3})}function Tc(){return Lt({queryKey:["bills"],queryFn:Nq,staleTime:300*1e3})}function pD(e){return Lt({queryKey:["bill",e],queryFn:()=>Oq(e||""),enabled:!!e,staleTime:300*1e3})}function Cs(){return Lt({queryKey:["accounts"],queryFn:fq,staleTime:300*1e3})}function Dc(){return Lt({queryKey:["transactions"],queryFn:gq,staleTime:300*1e3})}function ks(){return Lt({queryKey:["users"],queryFn:xq,staleTime:300*1e3})}function gD(e){return Lt({queryKey:["user",e],queryFn:()=>Mw(e||""),enabled:!!e,staleTime:300*1e3})}function Mc(){return Lt({queryKey:["vendors"],queryFn:kq,staleTime:300*1e3})}function yD(e){return Lt({queryKey:["vendor",e],queryFn:()=>Pq(e||""),enabled:!!e,staleTime:300*1e3})}function Rc(e){return Lt({queryKey:["products",e],queryFn:()=>Rq(e),staleTime:300*1e3})}function w9(e){return Lt({queryKey:["product",e],queryFn:()=>Iq(e||""),enabled:!!e,staleTime:300*1e3})}function Ps(e){return Lt({queryKey:["categories",e],queryFn:()=>Uq(e),staleTime:3600*1e3})}function vD(e){return Lt({queryKey:["paymentMethods",e],queryFn:()=>Kq(e),staleTime:3600*1e3})}function j9(){return Lt({queryKey:["units"],queryFn:Hq,staleTime:3600*1e3})}function Rp(){return Lt({queryKey:["settings","company"],queryFn:Hd,staleTime:3600*1e3})}function Ip(){return Lt({queryKey:["settings","order"],queryFn:Rw,staleTime:3600*1e3})}function Lp(){return Lt({queryKey:["settings","invoice"],queryFn:Iw,staleTime:3600*1e3})}function bD(){return Lt({queryKey:["settings","defaults"],queryFn:Lw,staleTime:3600*1e3})}function zw(){return Lt({queryKey:["settings","courier"],queryFn:Bw,staleTime:3600*1e3})}function S9(){const e=$e();return ct({mutationFn:nq,onMutate:async t=>{await e.cancelQueries({queryKey:["customers"]});const r=e.getQueryData(["customers"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["customers"],[...r,n])}return{previousCustomers:r}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers)},onSuccess:async t=>{if(t&&t.id){e.setQueryData(["customer",t.id],t);const n=(e.getQueryData(["customers"])||[]||[]).filter(a=>!String(a.id).startsWith("temp-"));e.setQueryData(["customers"],[t,...n])}await e.invalidateQueries({queryKey:["customers"]})}})}function _9(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>aq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["customers"]}),await e.cancelQueries({queryKey:["customer",t]});const n=e.getQueryData(["customers"]),a=e.getQueryData(["customer",t]);return n&&e.setQueryData(["customers"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["customer",t],{...a,...r}),{previousCustomers:n,previousCustomer:a}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers),n!=null&&n.previousCustomer&&e.setQueryData(["customer",r.id],n.previousCustomer)},onSuccess:t=>{e.invalidateQueries({queryKey:["customers"]}),e.invalidateQueries({queryKey:["customer",t.id]})}})}function N9(){const e=$e();return ct({mutationFn:iq,onMutate:async t=>{await e.cancelQueries({queryKey:["customers"]});const r=e.getQueryData(["customers"]);return r&&e.setQueryData(["customers"],r.filter(n=>n.id!==t)),{previousCustomers:r}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers)},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]})}})}function Bp(){const e=$e();return ct({mutationFn:cq,onMutate:async t=>{await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["orders"])||[],n={...t,id:`temp-${Date.now()}`,paidAmount:t.paidAmount||0};return e.setQueryData(["orders"],[n,...r]),{previousOrders:r,optimisticOrder:n}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:async t=>{e.setQueryData(["order",t.id],t);const n=(e.getQueryData(["orders"])||[]).filter(a=>!a.id.startsWith("temp-")).map(a=>a);e.setQueryData(["orders"],[t,...n]);try{const a=e.getQueryData(["settings","order"]);a&&a.nextNumber&&(await oD({nextNumber:a.nextNumber+1}),e.invalidateQueries({queryKey:["settings","order"]}))}catch(a){console.error("Failed to update order settings:",a)}await e.refetchQueries({queryKey:["orders"]})}})}function Gd(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>uq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["orders"]}),await e.cancelQueries({queryKey:["order",t]}),await e.cancelQueries({queryKey:["ordersByCustomerId"]});const n=e.getQueryData(["orders"]),a=e.getQueryData(["order",t]);if(n&&e.setQueryData(["orders"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["order",t],{...a,...r}),a!=null&&a.customerId){const s=e.getQueryData(["ordersByCustomerId",a.customerId]);s&&e.setQueryData(["ordersByCustomerId",a.customerId],s.map(l=>l.id===t?{...l,...r}:l))}return{previousOrders:n,previousOrder:a}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders),n!=null&&n.previousOrder&&e.setQueryData(["order",r.id],n.previousOrder)},onSuccess:t=>{e.invalidateQueries({queryKey:["orders"]}),e.invalidateQueries({queryKey:["order",t.id]})}})}function O9(){const e=$e();return ct({mutationFn:dq,onMutate:async t=>{await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["orders"]);return r&&e.setQueryData(["orders"],r.filter(n=>n.id!==t)),{previousOrders:r}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]})}})}function xD(){const e=$e();return ct({mutationFn:Eq,onMutate:async t=>{await e.cancelQueries({queryKey:["bills"]});const r=e.getQueryData(["bills"])||[],n={...t,id:`temp-${Date.now()}`,paidAmount:t.paidAmount||0};return e.setQueryData(["bills"],[n,...r]),{previousBills:r,optimisticBill:n}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills)},onSuccess:async t=>{e.setQueryData(["bill",t.id],t);const n=(e.getQueryData(["bills"])||[]).filter(a=>!a.id.startsWith("temp-")).map(a=>a);e.setQueryData(["bills"],[t,...n]),await e.refetchQueries({queryKey:["bills"]})}})}function wD(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>Aq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["bills"]}),await e.cancelQueries({queryKey:["bill",t]});const n=e.getQueryData(["bills"]),a=e.getQueryData(["bill",t]);return n&&e.setQueryData(["bills"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["bill",t],{...a,...r}),{previousBills:n,previousBill:a}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills),n!=null&&n.previousBill&&e.setQueryData(["bill",r.id],n.previousBill)},onSuccess:t=>{e.invalidateQueries({queryKey:["bills"]}),e.invalidateQueries({queryKey:["bill",t.id]})}})}function E9(){const e=$e();return ct({mutationFn:Cq,onMutate:async t=>{await e.cancelQueries({queryKey:["bills"]});const r=e.getQueryData(["bills"]);return r&&e.setQueryData(["bills"],r.filter(n=>n.id!==t)),{previousBills:r}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills)},onSuccess:()=>{e.invalidateQueries({queryKey:["bills"]})}})}function A9(){const e=$e();return ct({mutationFn:hq,onMutate:async t=>{await e.cancelQueries({queryKey:["accounts"]});const r=e.getQueryData(["accounts"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["accounts"],[...r,n])}return{previousAccounts:r}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts)},onSuccess:()=>{e.invalidateQueries({queryKey:["accounts"]})}})}function Yd(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>mq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["accounts"]}),await e.cancelQueries({queryKey:["account",t]});const n=e.getQueryData(["accounts"]),a=e.getQueryData(["account",t]);return n&&e.setQueryData(["accounts"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["account",t],{...a,...r}),{previousAccounts:n,previousAccount:a}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts),n!=null&&n.previousAccount&&e.setQueryData(["account",r.id],n.previousAccount)},onSuccess:t=>{e.invalidateQueries({queryKey:["accounts"]}),e.invalidateQueries({queryKey:["account",t.id]})}})}function C9(){const e=$e();return ct({mutationFn:pq,onMutate:async t=>{await e.cancelQueries({queryKey:["accounts"]});const r=e.getQueryData(["accounts"]);return r&&e.setQueryData(["accounts"],r.filter(n=>n.id!==t)),{previousAccounts:r}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts)},onSuccess:()=>{e.invalidateQueries({queryKey:["accounts"]})}})}function Wd(){const e=$e();return ct({mutationFn:yq,onMutate:async t=>{await e.cancelQueries({queryKey:["transactions"]}),await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["transactions"]),n=e.getQueryData(["orders"]);if(r){const a={...t,id:`temp-${Date.now()}`};e.setQueryData(["transactions"],[...r,a])}return{previousTransactions:r,previousOrders:n}},onError:(t,r,n)=>{n!=null&&n.previousTransactions&&e.setQueryData(["transactions"],n.previousTransactions),n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:()=>{e.invalidateQueries({queryKey:["transactions"]}),e.invalidateQueries({queryKey:["orders"]})}})}function k9(){const e=$e();return ct({mutationFn:vq,onMutate:async t=>{await e.cancelQueries({queryKey:["transactions"]});const r=e.getQueryData(["transactions"]);return r&&e.setQueryData(["transactions"],r.filter(n=>n.id!==t)),{previousTransactions:r}},onError:(t,r,n)=>{n!=null&&n.previousTransactions&&e.setQueryData(["transactions"],n.previousTransactions)},onSuccess:()=>{e.invalidateQueries({queryKey:["transactions"]})}})}function P9(){const e=$e();return ct({mutationFn:jq,onMutate:async t=>{await e.cancelQueries({queryKey:["users"]});const r=e.getQueryData(["users"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["users"],[...r,n])}return{previousUsers:r}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers)},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function T9(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>Sq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["users"]}),await e.cancelQueries({queryKey:["user",t]}),await e.cancelQueries({queryKey:["userByPhone"]});const n=e.getQueryData(["users"]),a=e.getQueryData(["user",t]);return n&&e.setQueryData(["users"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["user",t],{...a,...r}),{previousUsers:n,previousUser:a}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers),n!=null&&n.previousUser&&e.setQueryData(["user",r.id],n.previousUser)},onSuccess:t=>{e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["user",t.id]})}})}function jD(){const e=$e();return ct({mutationFn:_q,onMutate:async t=>{await e.cancelQueries({queryKey:["users"]});const r=e.getQueryData(["users"]);return r&&e.setQueryData(["users"],r.filter(n=>n.id!==t)),{previousUsers:r}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers)},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function D9(){const e=$e();return ct({mutationFn:Tq,onMutate:async t=>{await e.cancelQueries({queryKey:["vendors"]});const r=e.getQueryData(["vendors"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["vendors"],[...r,n])}return{previousVendors:r}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors)},onSuccess:()=>{e.invalidateQueries({queryKey:["vendors"]})}})}function M9(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>Dq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["vendors"]}),await e.cancelQueries({queryKey:["vendor",t]});const n=e.getQueryData(["vendors"]),a=e.getQueryData(["vendor",t]);return n&&e.setQueryData(["vendors"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["vendor",t],{...a,...r}),{previousVendors:n,previousVendor:a}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors),n!=null&&n.previousVendor&&e.setQueryData(["vendor",r.id],n.previousVendor)},onSuccess:t=>{e.invalidateQueries({queryKey:["vendors"]}),e.invalidateQueries({queryKey:["vendor",t.id]})}})}function R9(){const e=$e();return ct({mutationFn:Mq,onMutate:async t=>{await e.cancelQueries({queryKey:["vendors"]});const r=e.getQueryData(["vendors"]);return r&&e.setQueryData(["vendors"],r.filter(n=>n.id!==t)),{previousVendors:r}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors)},onSuccess:()=>{e.invalidateQueries({queryKey:["vendors"]})}})}function I9(){const e=$e();return ct({mutationFn:Lq,onMutate:async t=>{await e.cancelQueries({queryKey:["products"]});const r=e.getQueryData(["products"])||[],n={...t,id:`temp-${Date.now()}`};return e.setQueryData(["products"],[n,...r]),{previousProducts:r,optimisticProduct:n}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts)},onSuccess:async t=>{e.setQueryData(["product",t.id],t);const n=(e.getQueryData(["products"])||[]).filter(a=>!a.id.startsWith("temp-")).map(a=>a);e.setQueryData(["products"],[t,...n]),await e.refetchQueries({queryKey:["products"]})}})}function L9(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>Bq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["products"]}),await e.cancelQueries({queryKey:["product",t]});const n=e.getQueryData(["products"]),a=e.getQueryData(["product",t]);return n&&e.setQueryData(["products"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["product",t],{...a,...r}),{previousProducts:n,previousProduct:a}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts),n!=null&&n.previousProduct&&e.setQueryData(["product",r.id],n.previousProduct)},onSuccess:t=>{e.invalidateQueries({queryKey:["products"]}),e.invalidateQueries({queryKey:["product",t.id]})}})}function B9(){const e=$e();return ct({mutationFn:$q,onMutate:async t=>{await e.cancelQueries({queryKey:["products"]});const r=e.getQueryData(["products"]);return r&&e.setQueryData(["products"],r.filter(n=>n.id!==t)),{previousProducts:r}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts)},onSuccess:()=>{e.invalidateQueries({queryKey:["products"]})}})}function $9(){const e=$e();return ct({mutationFn:zq,onMutate:async t=>{await e.cancelQueries({queryKey:["categories"]});const r=e.getQueryData(["categories"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["categories"],[...r,n])}return{previousCategories:r}},onError:(t,r,n)=>{n!=null&&n.previousCategories&&e.setQueryData(["categories"],n.previousCategories)},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function U9(){const e=$e();return ct({mutationFn:qq,onMutate:async t=>{await e.cancelQueries({queryKey:["categories"]});const r=e.getQueryData(["categories"]);return r&&e.setQueryData(["categories"],r.filter(n=>n.id!==t)),{previousCategories:r}},onError:(t,r,n)=>{n!=null&&n.previousCategories&&e.setQueryData(["categories"],n.previousCategories)},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function z9(){const e=$e();return ct({mutationFn:Fq,onMutate:async t=>{await e.cancelQueries({queryKey:["paymentMethods"]});const r=e.getQueryData(["paymentMethods"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["paymentMethods"],[...r,n])}return{previousMethods:r}},onError:(t,r,n)=>{n!=null&&n.previousMethods&&e.setQueryData(["paymentMethods"],n.previousMethods)},onSuccess:()=>{e.invalidateQueries({queryKey:["paymentMethods"]})}})}function q9(){const e=$e();return ct({mutationFn:Qq,onMutate:async t=>{await e.cancelQueries({queryKey:["paymentMethods"]});const r=e.getQueryData(["paymentMethods"]);return r&&e.setQueryData(["paymentMethods"],r.filter(n=>n.id!==t)),{previousMethods:r}},onError:(t,r,n)=>{n!=null&&n.previousMethods&&e.setQueryData(["paymentMethods"],n.previousMethods)},onSuccess:()=>{e.invalidateQueries({queryKey:["paymentMethods"]})}})}function K9(){const e=$e();return ct({mutationFn:Vq,onMutate:async t=>{await e.cancelQueries({queryKey:["units"]});const r=e.getQueryData(["units"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["units"],[...r,n])}return{previousUnits:r}},onError:(t,r,n)=>{n!=null&&n.previousUnits&&e.setQueryData(["units"],n.previousUnits)},onSuccess:()=>{e.invalidateQueries({queryKey:["units"]})}})}function F9(){const e=$e();return ct({mutationFn:Gq,onMutate:async t=>{await e.cancelQueries({queryKey:["units"]});const r=e.getQueryData(["units"]);return r&&e.setQueryData(["units"],r.filter(n=>n.id!==t)),{previousUnits:r}},onError:(t,r,n)=>{n!=null&&n.previousUnits&&e.setQueryData(["units"],n.previousUnits)},onSuccess:()=>{e.invalidateQueries({queryKey:["units"]})}})}function Q9(){const e=$e();return ct({mutationFn:i8,onMutate:async t=>{await e.cancelQueries({queryKey:["settings"]});const r=e.getQueryData(["settings","company"]),n=e.getQueryData(["settings","order"]),a=e.getQueryData(["settings","invoice"]),s=e.getQueryData(["settings","defaults"]),l=e.getQueryData(["settings","courier"]);return t.company&&r&&e.setQueryData(["settings","company"],{...r,...t.company}),t.order&&n&&e.setQueryData(["settings","order"],{...n,...t.order}),t.invoice&&a&&e.setQueryData(["settings","invoice"],{...a,...t.invoice}),t.defaults&&s&&e.setQueryData(["settings","defaults"],{...s,...t.defaults}),t.courier&&l&&e.setQueryData(["settings","courier"],{...l,...t.courier}),{previousCompany:r,previousOrder:n,previousInvoice:a,previousDefaults:s,previousCourier:l}},onError:(t,r,n)=>{n!=null&&n.previousCompany&&e.setQueryData(["settings","company"],n.previousCompany),n!=null&&n.previousOrder&&e.setQueryData(["settings","order"],n.previousOrder),n!=null&&n.previousInvoice&&e.setQueryData(["settings","invoice"],n.previousInvoice),n!=null&&n.previousDefaults&&e.setQueryData(["settings","defaults"],n.previousDefaults),n!=null&&n.previousCourier&&e.setQueryData(["settings","courier"],n.previousCourier)},onSuccess:()=>{e.invalidateQueries({queryKey:["settings"]})}})}const SD=({isOpen:e,onClose:t,order:r,customer:n})=>{var g;const{data:a}=zw(),[s,l]=j.useState(!1),[d,f]=j.useState(null),h=Gd();if(!e)return null;const p=async()=>{var S;if(f(null),!r||!n){f("Missing order or customer information"),console.error("[SteadfastModal] Missing order, customer information");return}if(!(a!=null&&a.steadfast)){f("No Steadfast credentials configured"),console.error("[SteadfastModal] No Steadfast settings");return}const{baseUrl:y,apiKey:v,secretKey:x}=a.steadfast;if(console.log("[SteadfastModal] ======== SUBMISSION DEBUG ========"),console.log("[SteadfastModal] courierSettings object:",a),console.log("[SteadfastModal] steadfast object:",a.steadfast),console.log("[SteadfastModal] baseUrl:",y),console.log("[SteadfastModal] baseUrl type:",typeof y),console.log("[SteadfastModal] baseUrl empty?:",y===""||!y),console.log("[SteadfastModal] baseUrl trimmed empty?:",(y||"").trim()===""),console.log("[SteadfastModal] apiKey:",v?`${v.substring(0,5)}...`:"EMPTY/NULL"),console.log("[SteadfastModal] apiKey type:",typeof v),console.log("[SteadfastModal] secretKey:",x?`${x.substring(0,5)}...`:"EMPTY/NULL"),console.log("[SteadfastModal] secretKey type:",typeof x),!y||!v||!x){f(`Incomplete Steadfast credentials - baseUrl: ${!!y}, apiKey: ${!!v}, secretKey: ${!!x}`),console.error("[SteadfastModal] Incomplete credentials"),console.error("[SteadfastModal] baseUrl value:",JSON.stringify(y)),console.error("[SteadfastModal] apiKey value:",JSON.stringify(v)),console.error("[SteadfastModal] secretKey value:",JSON.stringify(x));return}l(!0);try{console.log("[SteadfastModal] ======== PREPARING SUBMISSION ========"),console.log("[SteadfastModal] Order Number:",r.orderNumber),console.log("[SteadfastModal] Customer Name:",n.name),console.log("[SteadfastModal] Customer Phone:",n.phone),console.log("[SteadfastModal] Customer Address:",n.address),console.log("[SteadfastModal] Order Total:",r.total);const _=await a8({baseUrl:y,apiKey:v,secretKey:x,invoice:r.orderNumber,recipientName:n.name,recipientPhone:n.phone,recipientAddress:n.address,codAmount:r.total});if(console.log("[SteadfastModal] ======== SUBMISSION RESULT ========"),console.log("[SteadfastModal] Result:",_),_.error){let N=_.error;try{_.error.includes("Account is not active")&&(N="Something went wrong.")}catch{}f(N),console.error("[SteadfastModal] Submission failed:",_.error);return}console.log("[SteadfastModal] Order submitted successfully to Steadfast");try{const N=`Sent to Steadfast by ${((S=ve.currentUser)==null?void 0:S.name)||"System"} on ${new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}`;await h.mutateAsync({id:r.id,updates:{history:{...r.history,courier:N}}})}catch(N){console.error("[SteadfastModal] Failed to update order sent flag:",N)}t()}catch(_){const N=_ instanceof Error?_.message:"Unknown error";f(N),console.error("[SteadfastModal] Exception during submission:",N)}finally{l(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40",onClick:t}),c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:`${ie.card.elevated} w-full max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-300`,children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add to Steadfast"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[d&&c.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[c.jsx("p",{className:"font-semibold",children:"Error:"}),c.jsx("p",{children:d})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Order Number"}),c.jsx("p",{className:"text-gray-900",children:(r==null?void 0:r.orderNumber)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Name"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.name)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Phone"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.phone)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Address"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.address)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"COD Amount"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[" ",((g=r==null?void 0:r.total)==null?void 0:g.toFixed(2))||"0.00"]})]})]}),c.jsxs("div",{className:"flex gap-3 px-6 py-4 border-t border-gray-100",children:[c.jsx("button",{onClick:t,disabled:s,className:"flex-1 py-2 px-4 rounded-lg border border-gray-200 text-gray-700 font-bold hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),c.jsx("button",{onClick:p,disabled:s||!r||!n,className:"flex-1 py-2 px-4 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Adding...":"Add"})]})]})})]})},_D=({isOpen:e,onClose:t,order:r,customer:n})=>{const{data:a}=zw(),[s,l]=j.useState(1e3),[d,f]=j.useState("1"),[h,p]=j.useState(""),[g,y]=j.useState(""),[v,x]=j.useState(""),[S,_]=j.useState([]),[N,O]=j.useState([]),[A,C]=j.useState([]),[T,P]=j.useState(!1),[D,M]=j.useState(!1),[L,Y]=j.useState(!1),[Q,q]=j.useState(!1),ee=Gd();return j.useEffect(()=>{e&&(async()=>{var oe,B,V,ue;if(!((oe=a==null?void 0:a.carryBee)!=null&&oe.baseUrl)||!((B=a==null?void 0:a.carryBee)!=null&&B.clientId)||!((V=a==null?void 0:a.carryBee)!=null&&V.clientSecret)||!((ue=a==null?void 0:a.carryBee)!=null&&ue.clientContext)){_([]);return}P(!0);try{const G=await e8({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext});_(G)}catch(G){console.error("Failed to fetch cities:",G),_([])}finally{P(!1)}})()},[e,a]),j.useEffect(()=>{(async()=>{var oe,B;if(!h||!((oe=a==null?void 0:a.carryBee)!=null&&oe.baseUrl)||!((B=a==null?void 0:a.carryBee)!=null&&B.clientId)){O([]),y(""),x(""),C([]);return}M(!0);try{const V=await t8({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext,cityId:h});O(V)}catch(V){console.error("Failed to fetch zones:",V),O([])}finally{M(!1)}})()},[h,a]),j.useEffect(()=>{(async()=>{var oe,B;if(!g||!h||!((oe=a==null?void 0:a.carryBee)!=null&&oe.baseUrl)||!((B=a==null?void 0:a.carryBee)!=null&&B.clientId)){C([]),x("");return}Y(!0);try{const V=await r8({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext,cityId:h,zoneId:g});C(V)}catch(V){console.error("Failed to fetch areas:",V),C([])}finally{Y(!1)}})()},[g,h,a]),e?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40",onClick:t}),c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:`${ie.card.elevated} w-full max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-300`,children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add to CarryBee"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Weight ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",value:s,onChange:H=>l(Number(H.target.value)),className:"flex-1 px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg",min:"1"}),c.jsx("span",{className:"text-sm font-semibold text-gray-700 whitespace-nowrap",children:"grams"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Delivery Type ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:d,onChange:H=>f(H.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg",children:[c.jsx("option",{value:"1",children:"Normal Delivery (Type 1)"}),c.jsx("option",{value:"2",children:"Express Delivery (Type 2)"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["City ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:h,onChange:H=>p(H.target.value),disabled:T||S.length===0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:T?"Loading cities...":S.length===0?"No cities available":"Select a city"}),S.map(H=>c.jsx("option",{value:H.id,children:H.name},H.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Zone ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:g,onChange:H=>y(H.target.value),disabled:!h||D||N.length===0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:h?D?"Loading zones...":N.length===0?"No zones available":"Select a zone":"Select a city first"}),N.map(H=>c.jsx("option",{value:H.id,children:H.name},H.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Area"}),c.jsxs("select",{value:v,onChange:H=>x(H.target.value),disabled:!g||L,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:g?L?"Loading areas...":A.length===0?"No areas available":"Select an area (optional)":"Select a zone first"}),A.map(H=>c.jsx("option",{value:H.id,children:H.name},H.id))]})]})]}),c.jsxs("div",{className:"flex gap-3 px-6 py-4 border-t border-gray-100",children:[c.jsx("button",{onClick:t,className:"flex-1 py-2 px-4 rounded-lg border border-gray-200 text-gray-700 font-bold hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{onClick:async()=>{var G;if(!h||!g){alert("Please select both City and Zone");return}if(!r||!n){alert("Missing order or customer information"),console.error("Missing order or customer:",{order:r,customer:n});return}if(!(a!=null&&a.carryBee)){alert("CarryBee settings not configured"),console.error("Missing CarryBee settings:",a);return}const{baseUrl:H,clientId:oe,clientSecret:B,clientContext:V,storeId:ue}=a.carryBee;if(!H||!oe||!B||!V||!ue){alert("CarryBee settings incomplete. Please configure Base URL, Client ID, Client Secret, Client Context, and Store ID in Settings."),console.error("Incomplete CarryBee settings:",{baseUrl:H,clientId:oe,clientSecret:B,clientContext:V,storeId:ue});return}q(!0);try{console.log("[CarryBeeModal] Submitting order:",{storeId:ue,deliveryType:Number(d),recipientPhone:n.phone,recipientName:n.name,cityId:h,zoneId:g,areaId:v||void 0,itemWeight:s,collectableAmount:r.total});const ne=await n8({baseUrl:H,clientId:oe,clientSecret:B,clientContext:V,storeId:ue,deliveryType:Number(d),productType:1,recipientPhone:n.phone,recipientName:n.name,recipientAddress:n.address||"",cityId:h,zoneId:g,areaId:v||void 0,itemWeight:s,collectableAmount:r.total||0});if(ne.error)alert(`Failed to send order: ${ne.error}`);else{try{const I=`Sent to CarryBee by ${((G=ve.currentUser)==null?void 0:G.name)||"System"} on ${new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}`;await ee.mutateAsync({id:r.id,updates:{history:{...r.history,courier:I}}})}catch(I){console.error("[CarryBeeModal] Failed to update order sent flag:",I)}alert("Order sent to CarryBee successfully!"),t()}}catch(ne){console.error("Error submitting order:",ne),alert("Error sending order to CarryBee")}finally{q(!1)}},disabled:!h||!g||Q,className:"flex-1 py-2 px-4 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Q?"Adding...":"Add"})]})]})})]}):null},o0=(e,t,r)=>{if(t==="All Time")return!0;const n=new Date(e),a=new Date;if(t==="Today")return n.toDateString()===a.toDateString();if(t==="This Week"){const s=a.getDate()-a.getDay(),l=new Date(new Date().setDate(s)),d=new Date(new Date().setDate(s+6));return n>=l&&n<=d}return t==="This Month"?n.getMonth()===a.getMonth()&&n.getFullYear()===a.getFullYear():t==="This Year"?n.getFullYear()===a.getFullYear():t==="Custom"?!r.from||!r.to?!0:n>=new Date(r.from)&&n<=new Date(r.to):!0};function ND(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ND(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function at(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ND(e))&&(n&&(n+=" "),n+=t);return n}var H9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function qw(e){if(typeof e!="string")return!1;var t=H9;return t.includes(e)}var V9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],G9=new Set(V9);function OD(e){return typeof e!="string"?!1:G9.has(e)}function ED(e){return typeof e=="string"&&e.startsWith("data-")}function On(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(OD(r)||ED(r))&&(t[r]=e[r]);return t}function Po(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return On(t)}return typeof e=="object"&&!Array.isArray(e)?On(e):null}function Vr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(OD(r)||ED(r)||qw(r))&&(t[r]=e[r]);return t}function Y9(e){return e==null?null:j.isValidElement(e)?Vr(e.props):typeof e=="object"&&!Array.isArray(e)?Vr(e):null}var W9=["children","width","height","viewBox","className","style","title","desc"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(null,arguments)}function X9(e,t){if(e==null)return{};var r,n,a=Z9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Z9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Kw=j.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:d,title:f,desc:h}=e,p=X9(e,W9),g=s||{width:n,height:a,x:0,y:0},y=at("recharts-surface",l);return j.createElement("svg",gx({},Vr(p),{className:y,width:n,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),j.createElement("title",null,f),j.createElement("desc",null,h),r)}),J9=["children","className"];function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yx.apply(null,arguments)}function eK(e,t){if(e==null)return{};var r,n,a=tK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jr=j.forwardRef((e,t)=>{var{children:r,className:n}=e,a=eK(e,J9),s=at("recharts-layer",n);return j.createElement("g",yx({className:s},Vr(a),{ref:t}),r)}),AD=j.createContext(null),rK=()=>j.useContext(AD);function St(e){return function(){return e}}const CD=Math.cos,_m=Math.sin,fa=Math.sqrt,Nm=Math.PI,$p=2*Nm,vx=Math.PI,bx=2*vx,ao=1e-6,nK=bx-ao;function kD(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function aK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kD;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class iK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kD:aK(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,f=n-t,h=a-r,p=l-t,g=d-r,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>ao)if(!(Math.abs(g*f-h*p)>ao)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-l,x=a-d,S=f*f+h*h,_=v*v+x*x,N=Math.sqrt(S),O=Math.sqrt(y),A=s*Math.tan((vx-Math.acos((S+y-_)/(2*N*O)))/2),C=A/O,T=A/N;Math.abs(C-1)>ao&&this._append`L${t+C*p},${r+C*g}`,this._append`A${s},${s},0,0,${+(g*v>p*x)},${this._x1=t+T*f},${this._y1=r+T*h}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(a),f=n*Math.sin(a),h=t+d,p=r+f,g=1^l,y=l?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>ao||Math.abs(this._y1-p)>ao)&&this._append`L${h},${p}`,n&&(y<0&&(y=y%bx+bx),y>nK?this._append`A${n},${n},0,1,${g},${t-d},${r-f}A${n},${n},0,1,${g},${this._x1=h},${this._y1=p}`:y>ao&&this._append`A${n},${n},0,${+(y>=vx)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Fw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new iK(t)}function Qw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function PD(e){this._context=e}PD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Up(e){return new PD(e)}function TD(e){return e[0]}function DD(e){return e[1]}function MD(e,t){var r=St(!0),n=null,a=Up,s=null,l=Fw(d);e=typeof e=="function"?e:e===void 0?TD:St(e),t=typeof t=="function"?t:t===void 0?DD:St(t);function d(f){var h,p=(f=Qw(f)).length,g,y=!1,v;for(n==null&&(s=a(v=l())),h=0;h<=p;++h)!(h<p&&r(g=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(g,h,f),+t(g,h,f));if(v)return s=null,v+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),d):t},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:St(!!f),d):r},d.curve=function(f){return arguments.length?(a=f,n!=null&&(s=a(n)),d):a},d.context=function(f){return arguments.length?(f==null?n=s=null:s=a(n=f),d):n},d}function Hh(e,t,r){var n=null,a=St(!0),s=null,l=Up,d=null,f=Fw(h);e=typeof e=="function"?e:e===void 0?TD:St(+e),t=typeof t=="function"?t:St(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?DD:St(+r);function h(g){var y,v,x,S=(g=Qw(g)).length,_,N=!1,O,A=new Array(S),C=new Array(S);for(s==null&&(d=l(O=f())),y=0;y<=S;++y){if(!(y<S&&a(_=g[y],y,g))===N)if(N=!N)v=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),x=y-1;x>=v;--x)d.point(A[x],C[x]);d.lineEnd(),d.areaEnd()}N&&(A[y]=+e(_,y,g),C[y]=+t(_,y,g),d.point(n?+n(_,y,g):A[y],r?+r(_,y,g):C[y]))}if(O)return d=null,O+""||null}function p(){return MD().defined(a).curve(l).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:St(+g),n=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:St(+g),h):e},h.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:St(+g),h):n},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:St(+g),r=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:St(+g),h):t},h.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:St(+g),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(n).y(t)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:St(!!g),h):a},h.curve=function(g){return arguments.length?(l=g,s!=null&&(d=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=d=null:d=l(s=g),h):s},h}class RD{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function sK(e){return new RD(e,!0)}function oK(e){return new RD(e,!1)}const Hw={draw(e,t){const r=fa(t/Nm);e.moveTo(r,0),e.arc(0,0,r,0,$p)}},lK={draw(e,t){const r=fa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},ID=fa(1/3),cK=ID*2,uK={draw(e,t){const r=fa(t/cK),n=r*ID;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},dK={draw(e,t){const r=fa(t),n=-r/2;e.rect(n,n,r,r)}},fK=.8908130915292852,LD=_m(Nm/10)/_m(7*Nm/10),hK=_m($p/10)*LD,mK=-CD($p/10)*LD,pK={draw(e,t){const r=fa(t*fK),n=hK*r,a=mK*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const l=$p*s/5,d=CD(l),f=_m(l);e.lineTo(f*r,-d*r),e.lineTo(d*n-f*a,f*n+d*a)}e.closePath()}},l0=fa(3),gK={draw(e,t){const r=-fa(t/(l0*3));e.moveTo(0,r*2),e.lineTo(-l0*r,-r),e.lineTo(l0*r,-r),e.closePath()}},Un=-.5,zn=fa(3)/2,xx=1/fa(12),yK=(xx/2+1)*3,vK={draw(e,t){const r=fa(t/yK),n=r/2,a=r*xx,s=n,l=r*xx+r,d=-s,f=l;e.moveTo(n,a),e.lineTo(s,l),e.lineTo(d,f),e.lineTo(Un*n-zn*a,zn*n+Un*a),e.lineTo(Un*s-zn*l,zn*s+Un*l),e.lineTo(Un*d-zn*f,zn*d+Un*f),e.lineTo(Un*n+zn*a,Un*a-zn*n),e.lineTo(Un*s+zn*l,Un*l-zn*s),e.lineTo(Un*d+zn*f,Un*f-zn*d),e.closePath()}};function bK(e,t){let r=null,n=Fw(a);e=typeof e=="function"?e:St(e||Hw),t=typeof t=="function"?t:St(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:St(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:St(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Om(){}function Em(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function BD(e){this._context=e}BD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Em(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Em(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xK(e){return new BD(e)}function $D(e){this._context=e}$D.prototype={areaStart:Om,areaEnd:Om,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Em(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wK(e){return new $D(e)}function UD(e){this._context=e}UD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Em(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jK(e){return new UD(e)}function zD(e){this._context=e}zD.prototype={areaStart:Om,areaEnd:Om,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function SK(e){return new zD(e)}function QE(e){return e<0?-1:1}function HE(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),d=(s*a+l*n)/(n+a);return(QE(s)+QE(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function VE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function c0(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,d=(s-n)/3;e._context.bezierCurveTo(n+d,a+d*t,s-d,l-d*r,s,l)}function Am(e){this._context=e}Am.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:c0(this,this._t0,VE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,c0(this,VE(this,r=HE(this,e,t)),r);break;default:c0(this,this._t0,r=HE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function qD(e){this._context=new KD(e)}(qD.prototype=Object.create(Am.prototype)).point=function(e,t){Am.prototype.point.call(this,t,e)};function KD(e){this._context=e}KD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function _K(e){return new Am(e)}function NK(e){return new qD(e)}function FD(e){this._context=e}FD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=GE(e),a=GE(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function GE(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function OK(e){return new FD(e)}function zp(e,t){this._context=e,this._t=t}zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function EK(e){return new zp(e,.5)}function AK(e){return new zp(e,0)}function CK(e){return new zp(e,1)}function To(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,d=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<d;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function wx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function kK(e,t){return e[t]}function PK(e){const t=[];return t.key=e,t}function TK(){var e=St([]),t=wx,r=To,n=kK;function a(s){var l=Array.from(e.apply(this,arguments),PK),d,f=l.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(l[d][h]=[0,+n(g,l[d].key,h,s)]).data=g;for(d=0,p=Qw(t(l));d<f;++d)l[p[d]].index=d;return r(l,p),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:St(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:St(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?wx:typeof s=="function"?s:St(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??To,a):r},a}function DK(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}To(e,t)}}function MK(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,d=0;l<a;++l)d+=e[l][r][1]||0;n[r][1]+=n[r][0]=-d/2}To(e,t)}}function RK(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var d=0,f=0,h=0;d<l;++d){for(var p=e[t[d]],g=p[n][1]||0,y=p[n-1][1]||0,v=(g-y)/2,x=0;x<d;++x){var S=e[t[x]],_=S[n][1]||0,N=S[n-1][1]||0;v+=_-N}f+=g,h+=v*g}a[n-1][1]+=a[n-1][0]=r,f&&(r-=h/f)}a[n-1][1]+=a[n-1][0]=r,To(e,t)}}var u0={},d0={},YE;function IK(){return YE||(YE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(d0)),d0}var f0={},WE;function QD(){return WE||(WE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(f0)),f0}var h0={},XE;function Vw(){return XE||(XE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(h0)),h0}var m0={},p0={},ZE;function LK(){return ZE||(ZE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(p0)),p0}var JE;function Gw(){return JE||(JE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LK(),r=Vw();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],l=a.length;if(l===0)return s;let d=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<l;){const g=a[d];h?g==="\\"&&d+1<l?(d++,f+=a[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}e.toPath=n})(m0)),m0}var eA;function Yw(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IK(),r=QD(),n=Vw(),a=Gw();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?r.isDeepKey(f)?s(d,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||t.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}e.get=s})(u0)),u0}var g0,tA;function BK(){return tA||(tA=1,g0=Yw().get),g0}var $K=BK();const Do=Ta($K);var UK=4;function bs(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:UK,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Ft(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,l)=>{var d=r[l-1];return typeof d=="string"?a+d+s:d!==void 0?a+bs(d)+s:a+s},"")}var wr=e=>e===0?0:e>0?1:-1,Aa=e=>typeof e=="number"&&e!=+e,Mo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Se=e=>(typeof e=="number"||e instanceof Number)&&!Aa(e),Ca=e=>Se(e)||typeof e=="string",zK=0,bd=e=>{var t=++zK;return"".concat(e||"").concat(t)},Ur=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(t)&&typeof t!="string")return n;var s;if(Mo(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return Aa(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},HD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Dt(e,t,r){return Se(e)&&Se(t)?bs(e+r*(t-e)):t}function VD(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Do(n,t))===r)}var It=e=>e===null||typeof e>"u",Xd=e=>It(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function on(e){return e!=null}function zo(){}var qK=["type","size","sizeType"];function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jx.apply(null,arguments)}function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){KK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KK(e,t,r){return(t=FK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FK(e){var t=QK(e,"string");return typeof t=="symbol"?t:t+""}function QK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HK(e,t){if(e==null)return{};var r,n,a=VK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GD={symbolCircle:Hw,symbolCross:lK,symbolDiamond:uK,symbolSquare:dK,symbolStar:pK,symbolTriangle:gK,symbolWye:vK},GK=Math.PI/180,YK=e=>{var t="symbol".concat(Xd(e));return GD[t]||Hw},WK=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*GK;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},XK=(e,t)=>{GD["symbol".concat(Xd(e))]=t},Ww=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=HK(e,qK),s=nA(nA({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var d=()=>{var y=YK(l),v=bK().type(y).size(WK(r,n,l)),x=v();if(x!==null)return x},{className:f,cx:h,cy:p}=s,g=Vr(s);return Se(h)&&Se(p)&&Se(r)?j.createElement("path",jx({},g,{className:at("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Ww.registerSymbol=XK;var YD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Xw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{qw(a)&&(n[a]=(s=>r[a](r,s)))}),n},ZK=(e,t,r)=>n=>(e(t,r,n),null),Zd=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];qw(a)&&typeof s=="function"&&(n||(n={}),n[a]=ZK(s,t,r))}),n};function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){eF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eF(e,t,r){return(t=tF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tF(e){var t=rF(e,"string");return typeof t=="symbol"?t:t+""}function rF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ar(e,t){var r=JK({},e),n=t,a=Object.keys(t),s=a.reduce((l,d)=>(l[d]===void 0&&n[d]!==void 0&&(l[d]=n[d]),l),r);return s}function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cm.apply(null,arguments)}function iA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(r),!0).forEach(function(n){aF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aF(e,t,r){return(t=iF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iF(e){var t=sF(e,"string");return typeof t=="symbol"?t:t+""}function sF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kn=32,oF={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function lF(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Kn/2,s=Kn/6,l=Kn/3,d=t.inactive?n:t.color,f=r??t.type;if(f==="none")return null;if(f==="plainline"){var h;return j.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:a,x2:Kn,y2:a,className:"recharts-legend-icon"})}if(f==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Kn,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(f==="rect")return j.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Kn/8,"h").concat(Kn,"v").concat(Kn*3/4,"h").concat(-Kn,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var p=nF({},t);return delete p.legendIcon,j.cloneElement(t.legendIcon,p)}return j.createElement(Ww,{fill:d,cx:a,cy:a,size:Kn,sizeType:"diameter",type:f})}function cF(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:l}=e,d={x:0,y:0,width:Kn,height:Kn},f={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var y=p.formatter||a,v=at({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var x=p.inactive?s:p.color,S=y?y(p.value,p,g):p.value;return j.createElement("li",Cm({className:v,style:f,key:"legend-item-".concat(g)},Zd(e,p,g)),j.createElement(Kw,{width:r,height:r,viewBox:d,style:h,"aria-label":"".concat(S," legend icon")},j.createElement(lF,{data:p,iconType:l,inactiveColor:s})),j.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},S))})}var uF=e=>{var t=ar(e,oF),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},j.createElement(cF,Cm({},t,{payload:r})))},y0={},v0={},sA;function dF(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],d=n(l,s,r);a.has(d)||a.set(d,l)}return Array.from(a.values())}e.uniqBy=t})(v0)),v0}var b0={},oA;function fF(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(b0)),b0}var x0={},lA;function WD(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(x0)),x0}var w0={},j0={},S0={},cA;function hF(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(S0)),S0}var uA;function Zw(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hF();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(j0)),j0}var _0={},dA;function mF(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(_0)),_0}var fA;function pF(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zw(),r=mF();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(w0)),w0}var N0={},O0={},hA;function gF(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yw();function r(n){return function(a){return t.get(a,n)}}e.property=r})(O0)),O0}var E0={},A0={},C0={},k0={},mA;function XD(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(k0)),k0}var P0={},pA;function ZD(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(P0)),P0}var T0={},gA;function JD(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(T0)),T0}var yA;function yF(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XD(),r=ZD(),n=JD();function a(p,g,y){return typeof y!="function"?a(p,g,()=>{}):s(p,g,function v(x,S,_,N,O,A){const C=y(x,S,_,N,O,A);return C!==void 0?!!C:s(x,S,v,A)},new Map)}function s(p,g,y,v){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,y,v);case"function":return Object.keys(g).length>0?s(p,{...g},y,v):n.isEqualsSameValueZero(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:n.isEqualsSameValueZero(p,g)}}function l(p,g,y,v){if(g==null)return!0;if(Array.isArray(g))return f(p,g,y,v);if(g instanceof Map)return d(p,g,y,v);if(g instanceof Set)return h(p,g,y,v);const x=Object.keys(g);if(p==null||r.isPrimitive(p))return x.length===0;if(x.length===0)return!0;if(v!=null&&v.has(g))return v.get(g)===p;v==null||v.set(g,p);try{for(let S=0;S<x.length;S++){const _=x[S];if(!r.isPrimitive(p)&&!(_ in p)||g[_]===void 0&&p[_]!==void 0||g[_]===null&&p[_]!==null||!y(p[_],g[_],_,p,g,v))return!1}return!0}finally{v==null||v.delete(g)}}function d(p,g,y,v){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[x,S]of g.entries()){const _=p.get(x);if(y(_,S,x,p,g,v)===!1)return!1}return!0}function f(p,g,y,v){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const x=new Set;for(let S=0;S<g.length;S++){const _=g[S];let N=!1;for(let O=0;O<p.length;O++){if(x.has(O))continue;const A=p[O];let C=!1;if(y(A,_,S,p,g,v)&&(C=!0),C){x.add(O),N=!0;break}}if(!N)return!1}return!0}function h(p,g,y,v){return g.size===0?!0:p instanceof Set?f([...p],[...g],y,v):!1}e.isMatchWith=a,e.isSetMatch=h})(C0)),C0}var vA;function eM(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yF();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(A0)),A0}var D0={},M0={},R0={},bA;function vF(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(R0)),R0}var I0={},xA;function Jw(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(I0)),I0}var L0={},wA;function tM(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",y="[object ArrayBuffer]",v="[object Object]",x="[object Error]",S="[object DataView]",_="[object Uint8Array]",N="[object Uint8ClampedArray]",O="[object Uint16Array]",A="[object Uint32Array]",C="[object BigUint64Array]",T="[object Int8Array]",P="[object Int16Array]",D="[object Int32Array]",M="[object BigInt64Array]",L="[object Float32Array]",Y="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=C,e.booleanTag=a,e.dataViewTag=S,e.dateTag=d,e.errorTag=x,e.float32ArrayTag=L,e.float64ArrayTag=Y,e.functionTag=g,e.int16ArrayTag=P,e.int32ArrayTag=D,e.int8ArrayTag=T,e.mapTag=f,e.numberTag=n,e.objectTag=v,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=O,e.uint32ArrayTag=A,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=N})(L0)),L0}var B0={},jA;function bF(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(B0)),B0}var SA;function rM(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vF(),r=Jw(),n=tM(),a=ZD(),s=bF();function l(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,y,v=new Map,x=void 0){const S=x==null?void 0:x(p,g,y,v);if(S!==void 0)return S;if(a.isPrimitive(p))return p;if(v.has(p))return v.get(p);if(Array.isArray(p)){const _=new Array(p.length);v.set(p,_);for(let N=0;N<p.length;N++)_[N]=d(p[N],N,y,v,x);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;v.set(p,_);for(const[N,O]of p)_.set(N,d(O,N,y,v,x));return _}if(p instanceof Set){const _=new Set;v.set(p,_);for(const N of p)_.add(d(N,void 0,y,v,x));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);v.set(p,_);for(let N=0;N<p.length;N++)_[N]=d(p[N],N,y,v,x);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return v.set(p,_),f(_,p,y,v,x),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return v.set(p,_),f(_,p,y,v,x),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return v.set(p,_),f(_,p,y,v,x),_}if(p instanceof Error){const _=new p.constructor;return v.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,f(_,p,y,v,x),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return v.set(p,_),f(_,p,y,v,x),_}if(p instanceof Number){const _=new Number(p.valueOf());return v.set(p,_),f(_,p,y,v,x),_}if(p instanceof String){const _=new String(p.valueOf());return v.set(p,_),f(_,p,y,v,x),_}if(typeof p=="object"&&h(p)){const _=Object.create(Object.getPrototypeOf(p));return v.set(p,_),f(_,p,y,v,x),_}return p}function f(p,g,y=p,v,x){const S=[...Object.keys(g),...t.getSymbols(g)];for(let _=0;_<S.length;_++){const N=S[_],O=Object.getOwnPropertyDescriptor(p,N);(O==null||O.writable)&&(p[N]=d(g[N],N,y,v,x))}}function h(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=d,e.copyProperties=f})(M0)),M0}var _A;function xF(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rM();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(D0)),D0}var NA;function wF(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eM(),r=xF();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(E0)),E0}var $0={},U0={},z0={},OA;function jF(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rM(),r=Jw(),n=tM();function a(s,l){return t.cloneDeepWith(s,(d,f,h,p)=>{const g=l==null?void 0:l(d,f,h,p);if(g!==void 0)return g;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const y={};return p.set(s,y),t.copyProperties(y,s,h,p),y}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(y,s),y}case n.argumentsTag:{const y={};return t.copyProperties(y,s),y.length=s.length,y[Symbol.iterator]=s[Symbol.iterator],y}default:return}}})}e.cloneDeepWith=a})(z0)),z0}var EA;function SF(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jF();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(U0)),U0}var q0={},K0={},AA;function nM(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(K0)),K0}var F0={},CA;function _F(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jw();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(F0)),F0}var kA;function NF(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QD(),r=nM(),n=_F(),a=Gw();function s(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(l==null?void 0:l[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=s})(q0)),q0}var PA;function OF(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eM(),r=Vw(),n=SF(),a=Yw(),s=NF();function l(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return f=n.cloneDeep(f),function(h){const p=a.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=l})($0)),$0}var TA;function EF(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WD(),r=gF(),n=wF(),a=OF();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(N0)),N0}var DA;function AF(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dF(),r=fF(),n=WD(),a=pF(),s=EF();function l(d,f=n.identity){return a.isArrayLikeObject(d)?t.uniqBy(Array.from(d),r.ary(s.iteratee(f),1)):[]}e.uniqBy=l})(y0)),y0}var Q0,MA;function CF(){return MA||(MA=1,Q0=AF().uniqBy),Q0}var kF=CF();const RA=Ta(kF);function aM(e,t,r){return t===!0?RA(e,r):typeof t=="function"?RA(e,t):e}var H0={exports:{}},V0={},G0={exports:{}},Y0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IA;function PF(){if(IA)return Y0;IA=1;var e=_c();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function d(g,y){var v=y(),x=n({inst:{value:v,getSnapshot:y}}),S=x[0].inst,_=x[1];return s(function(){S.value=v,S.getSnapshot=y,f(S)&&_({inst:S})},[g,v,y]),a(function(){return f(S)&&_({inst:S}),g(function(){f(S)&&_({inst:S})})},[g]),l(v),v}function f(g){var y=g.getSnapshot;g=g.value;try{var v=y();return!r(g,v)}catch{return!0}}function h(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Y0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Y0}var LA;function TF(){return LA||(LA=1,G0.exports=PF()),G0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA;function DF(){if(BA)return V0;BA=1;var e=_c(),t=TF();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,d=e.useMemo,f=e.useDebugValue;return V0.useSyncExternalStoreWithSelector=function(h,p,g,y,v){var x=s(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=d(function(){function N(P){if(!O){if(O=!0,A=P,P=y(P),v!==void 0&&S.hasValue){var D=S.value;if(v(D,P))return C=D}return C=P}if(D=C,n(A,P))return D;var M=y(P);return v!==void 0&&v(D,M)?(A=P,D):(A=P,C=M)}var O=!1,A,C,T=g===void 0?null:g;return[function(){return N(p())},T===null?void 0:function(){return N(T())}]},[p,g,y,v]);var _=a(h,x[0],x[1]);return l(function(){S.hasValue=!0,S.value=_},[_]),f(_),_},V0}var $A;function MF(){return $A||($A=1,H0.exports=DF()),H0.exports}var RF=MF(),ej=j.createContext(null),IF=e=>e,_t=()=>{var e=j.useContext(ej);return e?e.store.dispatch:IF},fm=()=>{},LF=()=>fm,BF=(e,t)=>e===t;function Ee(e){var t=j.useContext(ej),r=j.useMemo(()=>t?n=>{if(n!=null)return e(n)}:fm,[t,e]);return RF.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:LF,t?t.store.getState:fm,t?t.store.getState:fm,r,BF)}function $F(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function UF(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function zF(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var UA=e=>Array.isArray(e)?e:[e];function qF(e){const t=Array.isArray(e[0])?e[0]:e;return zF(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function KF(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var FF=class{constructor(e){this.value=e}deref(){return this.value}},QF=typeof WeakRef<"u"?WeakRef:FF,HF=0,zA=1;function Vh(){return{s:HF,v:void 0,o:null,p:null}}function iM(e,t={}){let r=Vh();const{resultEqualityCheck:n}=t;let a,s=0;function l(){var g;let d=r;const{length:f}=arguments;for(let y=0,v=f;y<v;y++){const x=arguments[y];if(typeof x=="function"||typeof x=="object"&&x!==null){let S=d.o;S===null&&(d.o=S=new WeakMap);const _=S.get(x);_===void 0?(d=Vh(),S.set(x,d)):d=_}else{let S=d.p;S===null&&(d.p=S=new Map);const _=S.get(x);_===void 0?(d=Vh(),S.set(x,d)):d=_}}const h=d;let p;if(d.s===zA)p=d.v;else if(p=e.apply(null,arguments),s++,n){const y=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;y!=null&&n(y,p)&&(p=y,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new QF(p):p}return h.s=zA,h.v=p,p}return l.clearCache=()=>{r=Vh(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function VF(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,d,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),$F(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:v=iM,argsMemoizeOptions:x=[]}=p,S=UA(y),_=UA(x),N=qF(a),O=g(function(){return s++,h.apply(null,arguments)},...S),A=v(function(){l++;const T=KF(N,arguments);return d=O.apply(null,T),d},..._);return Object.assign(A,{resultFunc:h,memoizedResultFunc:O,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var W=VF(iM),GF=Object.assign((e,t=W)=>{UF(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,d,f)=>(l[r[f]]=d,l),{}))},{withTypes:()=>GF}),W0={},X0={},Z0={},qA;function YF(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),d=t(a);if(l===d&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};e.compareValues=r})(Z0)),Z0}var J0={},eb={},KA;function sM(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(eb)),eb}var FA;function WF(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sM(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(J0)),J0}var QA;function XF(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YF(),r=WF(),n=Gw();function a(s,l,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(v=>String(v));const h=(v,x)=>{let S=v;for(let _=0;_<x.length&&S!=null;++_)S=S[x[_]];return S},p=(v,x)=>x==null||v==null?x:typeof v=="object"&&"key"in v?Object.hasOwn(x,v.key)?x[v.key]:h(x,v.path):typeof v=="function"?v(x):Array.isArray(v)?h(x,v):typeof x=="object"?x[v]:x,g=l.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return s.map(v=>({original:v,criteria:g.map(x=>p(x,v))})).slice().sort((v,x)=>{for(let S=0;S<g.length;S++){const _=t.compareValues(v.criteria[S],x.criteria[S],d[S]);if(_!==0)return _}return 0}).map(v=>v.original)}e.orderBy=a})(X0)),X0}var tb={},HA;function ZF(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?l(p,f+1):a.push(p)}};return l(r,0),a}e.flatten=t})(tb)),tb}var rb={},VA;function oM(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nM(),r=Zw(),n=XD(),a=JD();function s(l,d,f){return n.isObject(f)&&(typeof d=="number"&&r.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.isEqualsSameValueZero(f[d],l):!1}e.isIterateeCall=s})(rb)),rb}var GA;function JF(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XF(),r=ZF(),n=oM();function a(s,...l){const d=l.length;return d>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})(W0)),W0}var nb,YA;function eQ(){return YA||(YA=1,nb=JF().sortBy),nb}var tQ=eQ();const qp=Ta(tQ);var lM=e=>e.legend.settings,rQ=e=>e.legend.size,nQ=e=>e.legend.payload,aQ=W([nQ,lM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?qp(n,r):n});function iQ(){return Ee(aQ)}var Gh=1;function cM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>Gh||Math.abs(l.left-t.left)>Gh||Math.abs(l.top-t.top)>Gh||Math.abs(l.width-t.width)>Gh)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Tr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",WA=sQ,ab=()=>Math.random().toString(36).substring(7).split("").join("."),oQ={INIT:`@@redux/INIT${ab()}`,REPLACE:`@@redux/REPLACE${ab()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ab()}`},km=oQ;function tj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function uM(e,t,r){if(typeof e!="function")throw new Error(Tr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Tr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Tr(1));return r(uM)(e,t)}let n=e,a=t,s=new Map,l=s,d=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((_,N)=>{l.set(N,_)}))}function p(){if(f)throw new Error(Tr(3));return a}function g(_){if(typeof _!="function")throw new Error(Tr(4));if(f)throw new Error(Tr(5));let N=!0;h();const O=d++;return l.set(O,_),function(){if(N){if(f)throw new Error(Tr(6));N=!1,h(),l.delete(O),s=null}}}function y(_){if(!tj(_))throw new Error(Tr(7));if(typeof _.type>"u")throw new Error(Tr(8));if(typeof _.type!="string")throw new Error(Tr(17));if(f)throw new Error(Tr(9));try{f=!0,a=n(a,_)}finally{f=!1}return(s=l).forEach(O=>{O()}),_}function v(_){if(typeof _!="function")throw new Error(Tr(10));n=_,y({type:km.REPLACE})}function x(){const _=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Tr(11));function O(){const C=N;C.next&&C.next(p())}return O(),{unsubscribe:_(O)}},[WA](){return this}}}return y({type:km.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:v,[WA]:x}}function lQ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:km.INIT})>"u")throw new Error(Tr(12));if(typeof r(void 0,{type:km.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tr(13))})}function dM(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{lQ(r)}catch(s){a=s}return function(l={},d){if(a)throw a;let f=!1;const h={};for(let p=0;p<n.length;p++){const g=n[p],y=r[g],v=l[g],x=y(v,d);if(typeof x>"u")throw d&&d.type,new Error(Tr(14));h[g]=x,f=f||x!==v}return f=f||n.length!==Object.keys(l).length,f?h:l}}function Pm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function cQ(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Tr(15))};const l={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},d=e.map(f=>f(l));return s=Pm(...d)(a.dispatch),{...a,dispatch:s}}}function fM(e){return tj(e)&&"type"in e&&typeof e.type=="string"}var hM=Symbol.for("immer-nothing"),XA=Symbol.for("immer-draftable"),Gr=Symbol.for("immer-state");function sa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var _n=Object,yc=_n.getPrototypeOf,Tm="constructor",Kp="prototype",Sx="configurable",Dm="enumerable",hm="writable",xd="value",mi=e=>!!e&&!!e[Gr];function ua(e){var t;return e?mM(e)||Qp(e)||!!e[XA]||!!((t=e[Tm])!=null&&t[XA])||Hp(e)||Vp(e):!1}var uQ=_n[Kp][Tm].toString(),ZA=new WeakMap;function mM(e){if(!e||!rj(e))return!1;const t=yc(e);if(t===null||t===_n[Kp])return!0;const r=_n.hasOwnProperty.call(t,Tm)&&t[Tm];if(r===Object)return!0;if(!Hl(r))return!1;let n=ZA.get(r);return n===void 0&&(n=Function.toString.call(r),ZA.set(r,n)),n===uQ}function Fp(e,t,r=!0){Jd(e)===0?(r?Reflect.ownKeys(e):_n.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Jd(e){const t=e[Gr];return t?t.type_:Qp(e)?1:Hp(e)?2:Vp(e)?3:0}var JA=(e,t,r=Jd(e))=>r===2?e.has(t):_n[Kp].hasOwnProperty.call(e,t),_x=(e,t,r=Jd(e))=>r===2?e.get(t):e[t],Mm=(e,t,r,n=Jd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function dQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Qp=Array.isArray,Hp=e=>e instanceof Map,Vp=e=>e instanceof Set,rj=e=>typeof e=="object",Hl=e=>typeof e=="function",ib=e=>typeof e=="boolean";function fQ(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ei=e=>e.copy_||e.base_,nj=e=>e.modified_?e.copy_:e.base_;function Nx(e,t){if(Hp(e))return new Map(e);if(Vp(e))return new Set(e);if(Qp(e))return Array[Kp].slice.call(e);const r=mM(e);if(t===!0||t==="class_only"&&!r){const n=_n.getOwnPropertyDescriptors(e);delete n[Gr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],d=n[l];d[hm]===!1&&(d[hm]=!0,d[Sx]=!0),(d.get||d.set)&&(n[l]={[Sx]:!0,[hm]:!0,[Dm]:d[Dm],[xd]:e[l]})}return _n.create(yc(e),n)}else{const n=yc(e);if(n!==null&&r)return{...e};const a=_n.create(n);return _n.assign(a,e)}}function aj(e,t=!1){return Gp(e)||mi(e)||!ua(e)||(Jd(e)>1&&_n.defineProperties(e,{set:Yh,add:Yh,clear:Yh,delete:Yh}),_n.freeze(e),t&&Fp(e,(r,n)=>{aj(n,!0)},!1)),e}function hQ(){sa(2)}var Yh={[xd]:hQ};function Gp(e){return e===null||!rj(e)?!0:_n.isFrozen(e)}var Rm="MapSet",Ox="Patches",eC="ArrayMethods",pM={};function Ro(e){const t=pM[e];return t||sa(0,e),t}var tC=e=>!!pM[e],wd,gM=()=>wd,mQ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:tC(Rm)?Ro(Rm):void 0,arrayMethodsPlugin_:tC(eC)?Ro(eC):void 0});function rC(e,t){t&&(e.patchPlugin_=Ro(Ox),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ex(e){Ax(e),e.drafts_.forEach(pQ),e.drafts_=null}function Ax(e){e===wd&&(wd=e.parent_)}var nC=e=>wd=mQ(wd,e);function pQ(e){const t=e[Gr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Gr].modified_&&(Ex(t),sa(4)),ua(e)&&(e=iC(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Gr].base_,e,t)}else e=iC(t,r);return gQ(t,e,!0),Ex(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hM?e:void 0}function iC(e,t){if(Gp(t))return t;const r=t[Gr];if(!r)return Im(t,e.handledSet_,e);if(!Yp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);bM(r,e)}return r.copy_}function gQ(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&aj(t,r)}function yM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Yp=(e,t)=>e.scope_===t,yQ=[];function vM(e,t,r,n){const a=ei(e),s=e.type_;if(n!==void 0&&_x(a,n,s)===t){Mm(a,n,r,s);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;Fp(a,(f,h)=>{if(mi(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const l=e.draftLocations_.get(t)??yQ;for(const d of l)Mm(a,d,r,s)}function vQ(e,t,r){e.callbacks_.push(function(a){var d;const s=t;if(!s||!Yp(s,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(s);const l=nj(s);vM(e,s.draft_??s,l,r),bM(s,a)})}function bM(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}yM(e)}}function bQ(e,t,r){const{scope_:n}=e;if(mi(r)){const a=r[Gr];Yp(a,n)&&a.callbacks_.push(function(){mm(e);const l=nj(a);vM(e,r,l,t)})}else ua(r)&&e.callbacks_.push(function(){const s=ei(e);e.type_===3?s.has(r)&&Im(r,n.handledSet_,n):_x(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Im(_x(e.copy_,t,e.type_),n.handledSet_,n)})}function Im(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||mi(e)||t.has(e)||!ua(e)||Gp(e)||(t.add(e),Fp(e,(n,a)=>{if(mi(a)){const s=a[Gr];if(Yp(s,r)){const l=nj(s);Mm(e,n,l,e.type_),yM(s)}}else ua(a)&&Im(a,t,r)})),e}function xQ(e,t){const r=Qp(e),n={type_:r?1:0,scope_:t?t.scope_:gM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Lm;r&&(a=[n],s=jd);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return n.draft_=d,n.revoke_=l,[d,n]}var Lm={get(e,t){if(t===Gr)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=ei(e);if(!JA(a,t,e.type_))return wQ(e,a,t);const s=a[t];if(e.finalized_||!ua(s)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&fQ(t))return s;if(s===sb(e.base_,t)){mm(e);const l=e.type_===1?+t:t,d=kx(e.scope_,s,e,l);return e.copy_[l]=d}return s},has(e,t){return t in ei(e)},ownKeys(e){return Reflect.ownKeys(ei(e))},set(e,t,r){const n=xM(ei(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=sb(ei(e),t),s=a==null?void 0:a[Gr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(dQ(r,a)&&(r!==void 0||JA(e.base_,t,e.type_)))return!0;mm(e),Cx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),bQ(e,t,r)),!0},deleteProperty(e,t){return mm(e),sb(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Cx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ei(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[hm]:!0,[Sx]:e.type_!==1||t!=="length",[Dm]:n[Dm],[xd]:r[t]}},defineProperty(){sa(11)},getPrototypeOf(e){return yc(e.base_)},setPrototypeOf(){sa(12)}},jd={};for(let e in Lm){let t=Lm[e];jd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}jd.deleteProperty=function(e,t){return jd.set.call(this,e,t,void 0)};jd.set=function(e,t,r){return Lm.set.call(this,e[0],t,r,e[0])};function sb(e,t){const r=e[Gr];return(r?ei(r):e)[t]}function wQ(e,t,r){var a;const n=xM(t,r);return n?xd in n?n[xd]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function xM(e,t){if(!(t in e))return;let r=yc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=yc(r)}}function Cx(e){e.modified_||(e.modified_=!0,e.parent_&&Cx(e.parent_))}function mm(e){e.copy_||(e.assigned_=new Map,e.copy_=Nx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var jQ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Hl(r)&&!Hl(n)){const l=n;n=r;const d=this;return function(h=l,...p){return d.produce(h,g=>n.call(this,g,...p))}}Hl(n)||sa(6),a!==void 0&&!Hl(a)&&sa(7);let s;if(ua(r)){const l=nC(this),d=kx(l,r,void 0);let f=!0;try{s=n(d),f=!1}finally{f?Ex(l):Ax(l)}return rC(l,a),aC(s,l)}else if(!r||!rj(r)){if(s=n(r),s===void 0&&(s=r),s===hM&&(s=void 0),this.autoFreeze_&&aj(s,!0),a){const l=[],d=[];Ro(Ox).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:d}),a(l,d)}return s}else sa(1,r)},this.produceWithPatches=(r,n)=>{if(Hl(r))return(d,...f)=>this.produceWithPatches(d,h=>r(h,...f));let a,s;return[this.produce(r,n,(d,f)=>{a=d,s=f}),a,s]},ib(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ib(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ib(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ua(t)||sa(8),mi(t)&&(t=ca(t));const r=nC(this),n=kx(r,t,void 0);return n[Gr].isManual_=!0,Ax(r),n}finishDraft(t,r){const n=t&&t[Gr];(!n||!n.isManual_)&&sa(9);const{scope_:a}=n;return rC(a,r),aC(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Ro(Ox).applyPatches_;return mi(t)?a(t,r):this.produce(t,s=>a(s,r))}};function kx(e,t,r,n){const[a,s]=Hp(t)?Ro(Rm).proxyMap_(t,r):Vp(t)?Ro(Rm).proxySet_(t,r):xQ(t,r);return((r==null?void 0:r.scope_)??gM()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?vQ(r,s,n):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function ca(e){return mi(e)||sa(10,e),wM(e)}function wM(e){if(!ua(e)||Gp(e))return e;const t=e[Gr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Nx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Nx(e,!0);return Fp(r,(a,s)=>{Mm(r,a,wM(s))},n),t&&(t.finalized_=!1),r}var SQ=new jQ,jM=SQ.produce;function SM(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var _Q=SM(),NQ=SM,OQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Pm:Pm.apply(null,arguments)};function Gn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Nn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>fM(n)&&n.type===e,r}var _M=class nd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,nd.prototype)}static get[Symbol.species](){return nd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new nd(...t[0].concat(this)):new nd(...t.concat(this))}};function sC(e){return ua(e)?jM(e,()=>{}):e}function Wh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function EQ(e){return typeof e=="boolean"}var AQ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new _M;return r&&(EQ(r)?l.push(_Q):l.push(NQ(r.extraArgument))),l},NM="RTK_autoBatch",Tt=()=>e=>({payload:e,meta:{[NM]:!0}}),oC=e=>t=>{setTimeout(t,e)},OM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:oC(10):e.type==="callback"?e.queueNotification:oC(e.timeout),h=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>a&&p(),y=n.subscribe(g);return d.add(p),()=>{y(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[NM]),s=!a,s&&(l||(l=!0,f(h))),n.dispatch(p)}finally{a=!0}}})},CQ=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new _M(e);return n&&a.push(OM(typeof n=="object"?n:void 0)),a};function kQ(e){const t=AQ(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(tj(r))d=dM(r);else throw new Error(Nn(1));let f;typeof n=="function"?f=n(t):f=t();let h=Pm;a&&(h=OQ({trace:!1,...typeof a=="object"&&a}));const p=cQ(...f),g=CQ(p);let y=typeof l=="function"?l(g):g();const v=h(...y);return uM(d,s,v)}function EM(e){const t={},r=[];let n;const a={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(Nn(28));if(d in t)throw new Error(Nn(29));return t[d]=l,a},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function PQ(e){return typeof e=="function"}function TQ(e,t){let[r,n,a]=EM(t),s;if(PQ(e))s=()=>sC(e());else{const d=sC(e);s=()=>d}function l(d=s(),f){let h=[r[f.type],...n.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(mi(p)){const v=g(p,f);return v===void 0?p:v}else{if(ua(p))return jM(p,y=>g(y,f));{const y=g(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},d)}return l.getInitialState=s,l}var DQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",MQ=(e=21)=>{let t="",r=e;for(;r--;)t+=DQ[Math.random()*64|0];return t},RQ=Symbol.for("rtk-slice-createasyncthunk");function IQ(e,t){return`${e}/${t}`}function LQ({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[RQ];return function(a){const{name:s,reducerPath:l=s}=a;if(!s)throw new Error(Nn(11));const d=(typeof a.reducers=="function"?a.reducers($Q()):a.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(C,T){const P=typeof C=="string"?C:C.type;if(!P)throw new Error(Nn(12));if(P in h.sliceCaseReducersByType)throw new Error(Nn(13));return h.sliceCaseReducersByType[P]=T,p},addMatcher(C,T){return h.sliceMatchers.push({matcher:C,reducer:T}),p},exposeAction(C,T){return h.actionCreators[C]=T,p},exposeCaseReducer(C,T){return h.sliceCaseReducersByName[C]=T,p}};f.forEach(C=>{const T=d[C],P={reducerName:C,type:IQ(s,C),createNotation:typeof a.reducers=="function"};zQ(T)?KQ(P,T,p,t):UQ(P,T,p)});function g(){const[C={},T=[],P=void 0]=typeof a.extraReducers=="function"?EM(a.extraReducers):[a.extraReducers],D={...C,...h.sliceCaseReducersByType};return TQ(a.initialState,M=>{for(let L in D)M.addCase(L,D[L]);for(let L of h.sliceMatchers)M.addMatcher(L.matcher,L.reducer);for(let L of T)M.addMatcher(L.matcher,L.reducer);P&&M.addDefaultCase(P)})}const y=C=>C,v=new Map,x=new WeakMap;let S;function _(C,T){return S||(S=g()),S(C,T)}function N(){return S||(S=g()),S.getInitialState()}function O(C,T=!1){function P(M){let L=M[C];return typeof L>"u"&&T&&(L=Wh(x,P,N)),L}function D(M=y){const L=Wh(v,T,()=>new WeakMap);return Wh(L,M,()=>{const Y={};for(const[Q,q]of Object.entries(a.selectors??{}))Y[Q]=BQ(q,M,()=>Wh(x,M,N),T);return Y})}return{reducerPath:C,getSelectors:D,get selectors(){return D(P)},selectSlice:P}}const A={name:s,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:N,...O(l),injectInto(C,{reducerPath:T,...P}={}){const D=T??l;return C.inject({reducerPath:D,reducer:_},P),{...A,...O(D,!0)}}};return A}}function BQ(e,t,r,n){function a(s,...l){let d=t(s);return typeof d>"u"&&n&&(d=r()),e(d,...l)}return a.unwrapped=e,a}var un=LQ();function $Q(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function UQ({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!qQ(n))throw new Error(Nn(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?Gn(e,l):Gn(e))}function zQ(e){return e._reducerDefinitionType==="asyncThunk"}function qQ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function KQ({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Nn(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=r,g=a(e,s,p);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),d&&n.addCase(g.pending,d),f&&n.addCase(g.rejected,f),h&&n.addMatcher(g.settled,h),n.exposeCaseReducer(t,{fulfilled:l||Xh,pending:d||Xh,rejected:f||Xh,settled:h||Xh})}function Xh(){}var FQ="task",AM="listener",CM="completed",ij="cancelled",QQ=`task-${ij}`,HQ=`task-${CM}`,Px=`${AM}-${ij}`,VQ=`${AM}-${CM}`,Wp=class{constructor(e){Kv(this,"name","TaskAbortError");Kv(this,"message");this.code=e,this.message=`${FQ} ${ij} (reason: ${e})`}},sj=(e,t)=>{if(typeof e!="function")throw new TypeError(Nn(32))},Bm=()=>{},kM=(e,t=Bm)=>(e.catch(t),e),PM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Oo=e=>{if(e.aborted)throw new Wp(e.reason)};function TM(e,t){let r=Bm;return new Promise((n,a)=>{const s=()=>a(new Wp(e.reason));if(e.aborted){s();return}r=PM(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Bm})}var GQ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Wp?"cancelled":"rejected",error:r}}finally{t==null||t()}},$m=e=>t=>kM(TM(e,t).then(r=>(Oo(e),r))),DM=e=>{const t=$m(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Xl}=Object,lC={},Xp="listenerMiddleware",YQ=(e,t)=>{const r=n=>PM(e,()=>n.abort(e.reason));return(n,a)=>{sj(n);const s=new AbortController;r(s);const l=GQ(async()=>{Oo(e),Oo(s.signal);const d=await n({pause:$m(s.signal),delay:DM(s.signal),signal:s.signal});return Oo(s.signal),d},()=>s.abort(HQ));return a!=null&&a.autoJoin&&t.push(l.catch(Bm)),{result:$m(e)(l),cancel(){s.abort(QQ)}}}},WQ=(e,t)=>{const r=async(n,a)=>{Oo(t);let s=()=>{};const d=[new Promise((f,h)=>{let p=e({predicate:n,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await TM(t,Promise.race(d));return Oo(t),f}finally{s()}};return(n,a)=>kM(r(n,a))},MM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Gn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Nn(21));return sj(s),{predicate:a,type:t,effect:s}},RM=Xl(e=>{const{type:t,predicate:r,effect:n}=MM(e);return{id:MQ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Nn(22))}}},{withTypes:()=>RM}),cC=(e,t)=>{const{type:r,effect:n,predicate:a}=MM(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},Tx=e=>{e.pending.forEach(t=>{t.abort(Px)})},XQ=(e,t)=>()=>{for(const r of t.keys())Tx(r);e.clear()},uC=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},IM=Xl(Gn(`${Xp}/add`),{withTypes:()=>IM}),ZQ=Gn(`${Xp}/removeAll`),LM=Xl(Gn(`${Xp}/remove`),{withTypes:()=>LM}),JQ=(...e)=>{console.error(`${Xp}/error`,...e)},ef=(e={})=>{const t=new Map,r=new Map,n=v=>{const x=r.get(v)??0;r.set(v,x+1)},a=v=>{const x=r.get(v)??1;x===1?r.delete(v):r.set(v,x-1)},{extra:s,onError:l=JQ}=e;sj(l);const d=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),x=>{v.unsubscribe(),x!=null&&x.cancelActive&&Tx(v)}),f=v=>{const x=cC(t,v)??RM(v);return d(x)};Xl(f,{withTypes:()=>f});const h=v=>{const x=cC(t,v);return x&&(x.unsubscribe(),v.cancelActive&&Tx(x)),!!x};Xl(h,{withTypes:()=>h});const p=async(v,x,S,_)=>{const N=new AbortController,O=WQ(f,N.signal),A=[];try{v.pending.add(N),n(v),await Promise.resolve(v.effect(x,Xl({},S,{getOriginalState:_,condition:(C,T)=>O(C,T).then(Boolean),take:O,delay:DM(N.signal),pause:$m(N.signal),extra:s,signal:N.signal,fork:YQ(N.signal,A),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((C,T,P)=>{C!==N&&(C.abort(Px),P.delete(C))})},cancel:()=>{N.abort(Px),v.pending.delete(N)},throwIfCancelled:()=>{Oo(N.signal)}})))}catch(C){C instanceof Wp||uC(l,C,{raisedBy:"effect"})}finally{await Promise.all(A),N.abort(VQ),a(v),v.pending.delete(N)}},g=XQ(t,r);return{middleware:v=>x=>S=>{if(!fM(S))return x(S);if(IM.match(S))return f(S.payload);if(ZQ.match(S)){g();return}if(LM.match(S))return h(S.payload);let _=v.getState();const N=()=>{if(_===lC)throw new Error(Nn(23));return _};let O;try{if(O=x(S),t.size>0){const A=v.getState(),C=Array.from(t.values());for(const T of C){let P=!1;try{P=T.predicate(S,A,_)}catch(D){P=!1,uC(l,D,{raisedBy:"predicate"})}P&&p(T,S,v,N)}}}finally{_=lC}return O},startListening:f,stopListening:h,clearListeners:g}};function Nn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var e7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},BM=un({name:"chartLayout",initialState:e7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:t7,setLayout:r7,setChartSize:n7,setScale:a7}=BM.actions,i7=BM.reducer;function $M(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Je(e){return Number.isFinite(e)}function ka(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(r),!0).forEach(function(n){s7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s7(e,t,r){return(t=o7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o7(e){var t=l7(e,"string");return typeof t=="symbol"?t:t+""}function l7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bt(e,t,r){return It(e)||It(t)?r:Ca(t)?Do(e,t,r):typeof t=="function"?t(e):r}var c7=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:d}=t;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&Se(e[s]))return Gl(Gl({},e),{},{[s]:e[s]+(n||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&Se(e[l]))return Gl(Gl({},e),{},{[l]:e[l]+(a||0)})}return e},_i=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",UM=(e,t,r,n)=>{if(n)return e.map(d=>d.coordinate);var a,s,l=e.map(d=>(d.coordinate===t&&(a=!0),d.coordinate===r&&(s=!0),d.coordinate));return a||l.push(t),s||l.push(r),l},zM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:y,axisType:v}=e;if(!l)return null;var x=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=a==="category"&&l.bandwidth?l.bandwidth()/x:0;if(S=v==="angleAxis"&&s&&s.length>=2?wr(s[0]-s[1])*2*S:S,g||y){var _=(g||y||[]).map((N,O)=>{var A=n?n.indexOf(N):N,C=l.map(A);return Je(C)?{coordinate:C+S,value:N,offset:S,index:O}:null}).filter(on);return _}return f&&h?h.map((N,O)=>{var A=l.map(N);return Je(A)?{coordinate:A+S,value:N,index:O,offset:S}:null}).filter(on):l.ticks&&p!=null?l.ticks(p).map((N,O)=>{var A=l.map(N);return Je(A)?{coordinate:A+S,value:N,index:O,offset:S}:null}).filter(on):l.domain().map((N,O)=>{var A=l.map(N);return Je(A)?{coordinate:A+S,value:n?n[N]:N,index:O,offset:S}:null}).filter(on)},u7=(e,t)=>{if(!t||t.length!==2||!Se(t[0])||!Se(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Se(e[0])||e[0]<r)&&(a[0]=r),(!Se(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},d7=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0,d=0;d<r;++d){var f=e[d],h=f==null?void 0:f[a];if(h!=null){var p=h[1],g=h[0],y=Aa(p)?g:p;y>=0?(h[0]=s,s+=y,h[1]=s):(h[0]=l,l+=y,h[1]=l)}}}},f7=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0;l<r;++l){var d=e[l],f=d==null?void 0:d[a];if(f!=null){var h=Aa(f[1])?f[0]:f[1];h>=0?(f[0]=s,s+=h,f[1]=s):(f[0]=0,f[1]=0)}}}},h7={sign:d7,expand:DK,none:To,silhouette:MK,wiggle:RK,positive:f7},m7=(e,t,r)=>{var n,a=(n=h7[r])!==null&&n!==void 0?n:To,s=TK().keys(t).value((d,f)=>Number(bt(d,f,0))).order(wx).offset(a),l=s(e);return l.forEach((d,f)=>{d.forEach((h,p)=>{var g=bt(e[p],t[f],0);Array.isArray(g)&&g.length===2&&Se(g[0])&&Se(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function p7(e){return e==null?void 0:String(e)}function fC(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!It(a[t.dataKey])){var d=VD(r,"value",a[t.dataKey]);if(d)return d.coordinate+n/2}return r!=null&&r[s]?r[s].coordinate+n/2:null}var f=bt(a,It(l)?t.dataKey:l),h=t.scale.map(f);return Se(h)?h:null}var hC=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var d=bt(s,t.dataKey,t.scale.domain()[l]);if(It(d))return null;var f=t.scale.map(d);return Se(f)?f-a/2+n:null},g7=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},y7=e=>{var t=e.flat(2).filter(Se);return[Math.min(...t),Math.max(...t)]},v7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],b7=(e,t,r)=>{if(e!=null)return v7(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:l}=s,d=l.reduce((f,h)=>{var p=$M(h,t,r),g=y7(p);return!Je(g[0])||!Je(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},mC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=qp(t,p=>p.coordinate),s=1/0,l=1,d=a.length;l<d;l++){var f=a[l],h=a[l-1];s=Math.min(((f==null?void 0:f.coordinate)||0)-((h==null?void 0:h.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function gC(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Gl(Gl({},t),{},{dataKey:r,payload:n,value:a,name:s})}function Ic(e,t){if(e)return String(e);if(typeof t=="string")return t}var x7=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},w7=(e,t)=>t==="centric"?e.angle:e.radius,Ni=e=>e.layout.width,Oi=e=>e.layout.height,j7=e=>e.layout.scale,qM=e=>e.layout.margin,Zp=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Jp=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),KM="data-recharts-item-index",FM="data-recharts-item-id",tf=60;function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(n){S7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S7(e,t,r){return(t=_7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _7(e){var t=N7(e,"string");return typeof t=="symbol"?t:t+""}function N7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O7=e=>e.brush.height;function E7(e){var t=Jp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:tf;return r+a}return r},0)}function A7(e){var t=Jp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:tf;return r+a}return r},0)}function C7(e){var t=Zp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function k7(e){var t=Zp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var dr=W([Ni,Oi,qM,O7,E7,A7,C7,k7,lM,rQ],(e,t,r,n,a,s,l,d,f,h)=>{var p={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+d},y=Zh(Zh({},g),p),v=y.bottom;y.bottom+=n,y=c7(y,f,h);var x=e-y.left-y.right,S=t-y.top-y.bottom;return Zh(Zh({brushBottom:v},y),{},{width:Math.max(x,0),height:Math.max(S,0)})}),P7=W(dr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),oj=W(Ni,Oi,(e,t)=>({x:0,y:0,width:e,height:t})),T7=j.createContext(null),zr=()=>j.useContext(T7)!=null,eg=e=>e.brush,tg=W([eg,dr,qM],(e,t,r)=>({height:e.height,x:Se(e.x)?e.x:t.left,y:Se(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Se(e.width)?e.width:t.width})),ob={},lb={},cb={},vC;function D7(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(r.apply(l,d),l=void 0,d=null)},g=()=>{h&&p(),S()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},n)},x=()=>{y!==null&&(clearTimeout(y),y=null)},S=()=>{x(),l=void 0,d=null},_=()=>{p()},N=function(...O){if(a!=null&&a.aborted)return;l=this,d=O;const A=y==null;v(),f&&A&&p()};return N.schedule=v,N.cancel=S,N.flush=_,a==null||a.addEventListener("abort",S,{once:!0}),N}e.debounce=t})(cb)),cb}var bC;function M7(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D7();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const y=t.debounce(function(...S){p=n.apply(this,S),g=null},a,{edges:h}),v=function(...S){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=n.apply(this,S),g=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,S),p)},x=()=>(y.flush(),p);return v.cancel=y.cancel,v.flush=x,v}e.debounce=r})(lb)),lb}var xC;function R7(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M7();function r(n,a=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return t.debounce(n,a,{leading:l,maxWait:a,trailing:d})}e.throttle=r})(ob)),ob}var ub,wC;function I7(){return wC||(wC=1,ub=R7().throttle),ub}var L7=I7();const B7=Ta(L7);var Um=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},Na={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},QM=(e,t,r)=>{var{width:n=Na.width,height:a=Na.height,aspect:s,maxHeight:l}=r,d=Mo(n)?e:Number(n),f=Mo(a)?t:Number(a);return s&&s>0&&(d?f=d/s:f&&(d=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:d,calculatedHeight:f}},$7={width:0,height:0,overflow:"visible"},U7={width:0,overflowX:"visible"},z7={height:0,overflowY:"visible"},q7={},K7=e=>{var{width:t,height:r}=e,n=Mo(t),a=Mo(r);return n&&a?$7:n?U7:a?z7:q7};function F7(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a=Na.width,s=Na.height):a===void 0?a=n&&n>0?void 0:Na.width:s===void 0&&(s=n&&n>0?void 0:Na.height),{width:a,height:s}}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(null,arguments)}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){Q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q7(e,t,r){return(t=H7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HM=j.createContext(Na.initialDimension);function G7(e){return ka(e.width)&&ka(e.height)}function VM(e){var{children:t,width:r,height:n}=e,a=j.useMemo(()=>({width:r,height:n}),[r,n]);return G7(a)?j.createElement(HM.Provider,{value:a},t):null}var lj=()=>j.useContext(HM),Y7=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Na.initialDimension,width:a,height:s,minWidth:l=Na.minWidth,minHeight:d,maxHeight:f,children:h,debounce:p=Na.debounce,id:g,className:y,onResize:v,style:x={}}=e,S=j.useRef(null),_=j.useRef();_.current=v,j.useImperativeHandle(t,()=>S.current);var[N,O]=j.useState({containerWidth:n.width,containerHeight:n.height}),A=j.useCallback((M,L)=>{O(Y=>{var Q=Math.round(M),q=Math.round(L);return Y.containerWidth===Q&&Y.containerHeight===q?Y:{containerWidth:Q,containerHeight:q}})},[]);j.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return zo;var M=q=>{var ee,H=q[0];if(H!=null){var{width:oe,height:B}=H.contentRect;A(oe,B),(ee=_.current)===null||ee===void 0||ee.call(_,oe,B)}};p>0&&(M=B7(M,p,{trailing:!0,leading:!1}));var L=new ResizeObserver(M),{width:Y,height:Q}=S.current.getBoundingClientRect();return A(Y,Q),L.observe(S.current),()=>{L.disconnect()}},[A,p]);var{containerWidth:C,containerHeight:T}=N;Um(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:D}=QM(C,T,{width:a,height:s,aspect:r,maxHeight:f});return Um(P!=null&&P>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,D,a,s,l,d,r),j.createElement("div",{id:g?"".concat(g):void 0,className:at("recharts-responsive-container",y),style:SC(SC({},x),{},{width:a,height:s,minWidth:l,minHeight:d,maxHeight:f}),ref:S},j.createElement("div",{style:K7({width:a,height:s})},j.createElement(VM,{width:P,height:D},h)))}),Zl=j.forwardRef((e,t)=>{var r=lj();if(ka(r.width)&&ka(r.height))return e.children;var{width:n,height:a}=F7({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=QM(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Se(s)&&Se(l)?j.createElement(VM,{width:s,height:l},e.children):j.createElement(Y7,Dx({},e,{width:n,height:a,ref:t}))});function cj(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var rg=()=>{var e,t=zr(),r=Ee(P7),n=Ee(tg),a=(e=Ee(eg))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},W7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},GM=()=>{var e;return(e=Ee(dr))!==null&&e!==void 0?e:W7},uj=()=>Ee(Ni),dj=()=>Ee(Oi),X7=()=>Ee(e=>e.layout.margin),st=e=>e.layout.layoutType,qo=()=>Ee(st),YM=()=>{var e=qo();if(e==="horizontal"||e==="vertical")return e},WM=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},Z7=()=>{var e=qo();return e!==void 0},rf=e=>{var t=_t(),r=zr(),{width:n,height:a}=e,s=lj(),l=n,d=a;return s&&(l=s.width>0?s.width:n,d=s.height>0?s.height:a),j.useEffect(()=>{!r&&ka(l)&&ka(d)&&t(n7({width:l,height:d}))},[t,r,l,d]),null},XM=Symbol.for("immer-nothing"),_C=Symbol.for("immer-draftable"),En=Symbol.for("immer-state");function oa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Sd=Object.getPrototypeOf;function bc(e){return!!e&&!!e[En]}function Io(e){var t;return e?ZM(e)||Array.isArray(e)||!!e[_C]||!!((t=e.constructor)!=null&&t[_C])||nf(e)||ag(e):!1}var J7=Object.prototype.constructor.toString(),NC=new WeakMap;function ZM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=NC.get(r);return n===void 0&&(n=Function.toString.call(r),NC.set(r,n)),n===J7}function zm(e,t,r=!0){ng(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function ng(e){const t=e[En];return t?t.type_:Array.isArray(e)?1:nf(e)?2:ag(e)?3:0}function Mx(e,t){return ng(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function JM(e,t,r){const n=ng(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function eH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function nf(e){return e instanceof Map}function ag(e){return e instanceof Set}function io(e){return e.copy_||e.base_}function Rx(e,t){if(nf(e))return new Map(e);if(ag(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=ZM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[En];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],d=n[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[l]})}return Object.create(Sd(e),n)}else{const n=Sd(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function fj(e,t=!1){return ig(e)||bc(e)||!Io(e)||(ng(e)>1&&Object.defineProperties(e,{set:Jh,add:Jh,clear:Jh,delete:Jh}),Object.freeze(e),t&&Object.values(e).forEach(r=>fj(r,!0))),e}function tH(){oa(2)}var Jh={value:tH};function ig(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var rH={};function Lo(e){const t=rH[e];return t||oa(0,e),t}var _d;function eR(){return _d}function nH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function OC(e,t){t&&(Lo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ix(e){Lx(e),e.drafts_.forEach(aH),e.drafts_=null}function Lx(e){e===_d&&(_d=e.parent_)}function EC(e){return _d=nH(_d,e)}function aH(e){const t=e[En];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function AC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[En].modified_&&(Ix(t),oa(4)),Io(e)&&(e=qm(t,e),t.parent_||Km(t,e)),t.patches_&&Lo("Patches").generateReplacementPatches_(r[En].base_,e,t.patches_,t.inversePatches_)):e=qm(t,r,[]),Ix(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==XM?e:void 0}function qm(e,t,r){if(ig(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[En];if(!a)return zm(t,(s,l)=>CC(e,a,t,s,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Km(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,d=!1;a.type_===3&&(l=new Set(s),s.clear(),d=!0),zm(l,(f,h)=>CC(e,a,s,f,h,r,d),n),Km(e,s,!1),r&&e.patches_&&Lo("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function CC(e,t,r,n,a,s,l){if(a==null||typeof a!="object"&&!l)return;const d=ig(a);if(!(d&&!l)){if(bc(a)){const f=s&&t&&t.type_!==3&&!Mx(t.assigned_,n)?s.concat(n):void 0,h=qm(e,a,f);if(JM(r,n,h),bc(h))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Io(a)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&d)return;qm(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(nf(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Km(e,a)}}}function Km(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fj(t,r)}function iH(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:eR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=hj;r&&(a=[n],s=Nd);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return n.draft_=d,n.revoke_=l,d}var hj={get(e,t){if(t===En)return e;const r=io(e);if(!Mx(r,t))return sH(e,r,t);const n=r[t];return e.finalized_||!Io(n)?n:n===db(e.base_,t)?(fb(e),e.copy_[t]=$x(n,e)):n},has(e,t){return t in io(e)},ownKeys(e){return Reflect.ownKeys(io(e))},set(e,t,r){const n=tR(io(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=db(io(e),t),s=a==null?void 0:a[En];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(eH(r,a)&&(r!==void 0||Mx(e.base_,t)))return!0;fb(e),Bx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return db(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,fb(e),Bx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=io(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){oa(11)},getPrototypeOf(e){return Sd(e.base_)},setPrototypeOf(){oa(12)}},Nd={};zm(hj,(e,t)=>{Nd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Nd.deleteProperty=function(e,t){return Nd.set.call(this,e,t,void 0)};Nd.set=function(e,t,r){return hj.set.call(this,e[0],t,r,e[0])};function db(e,t){const r=e[En];return(r?io(r):e)[t]}function sH(e,t,r){var a;const n=tR(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function tR(e,t){if(!(t in e))return;let r=Sd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Sd(r)}}function Bx(e){e.modified_||(e.modified_=!0,e.parent_&&Bx(e.parent_))}function fb(e){e.copy_||(e.copy_=Rx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var oH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(f=s,...h){return l.produce(f,p=>r.call(this,p,...h))}}typeof r!="function"&&oa(6),n!==void 0&&typeof n!="function"&&oa(7);let a;if(Io(t)){const s=EC(this),l=$x(t,void 0);let d=!0;try{a=r(l),d=!1}finally{d?Ix(s):Lx(s)}return OC(s,n),AC(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===XM&&(a=void 0),this.autoFreeze_&&fj(a,!0),n){const s=[],l=[];Lo("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else oa(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...d)=>this.produceWithPatches(l,f=>t(f,...d));let n,a;return[this.produce(t,r,(l,d)=>{n=l,a=d}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Io(e)||oa(8),bc(e)&&(e=lH(e));const t=EC(this),r=$x(e,void 0);return r[En].isManual_=!0,Lx(t),r}finishDraft(e,t){const r=e&&e[En];(!r||!r.isManual_)&&oa(9);const{scope_:n}=r;return OC(n,t),AC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Lo("Patches").applyPatches_;return bc(e)?n(e,t):this.produce(e,a=>n(a,t))}};function $x(e,t){const r=nf(e)?Lo("MapSet").proxyMap_(e,t):ag(e)?Lo("MapSet").proxySet_(e,t):iH(e,t);return(t?t.scope_:eR()).drafts_.push(r),r}function lH(e){return bc(e)||oa(10,e),rR(e)}function rR(e){if(!Io(e)||ig(e))return e;const t=e[En];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Rx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Rx(e,!0);return zm(r,(a,s)=>{JM(r,a,rR(s))},n),t&&(t.finalized_=!1),r}var cH=new oH;cH.produce;var uH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},nR=un({name:"legend",initialState:uH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Tt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ca(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Tt()},removeLegendPayload:{reducer(e,t){var r=ca(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Tt()}}}),{setLegendSize:kC,setLegendSettings:dH,addLegendPayload:aR,replaceLegendPayload:iR,removeLegendPayload:sR}=nR.actions,fH=nR.reducer,hH=["contextPayload"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(null,arguments)}function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(n){mH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mH(e,t,r){return(t=pH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=gH(e,"string");return typeof t=="symbol"?t:t+""}function gH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yH(e,t){if(e==null)return{};var r,n,a=vH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bH(e){return e.value}function xH(e){var{contextPayload:t}=e,r=yH(e,hH),n=aM(t,e.payloadUniqBy,bH),a=xc(xc({},r),{},{payload:n});return j.isValidElement(e.content)?j.cloneElement(e.content,a):typeof e.content=="function"?j.createElement(e.content,a):j.createElement(uF,a)}function wH(e,t,r,n,a,s){var{layout:l,align:d,verticalAlign:f}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&l==="vertical"?h={left:((n||0)-s.width)/2}:h=d==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?p={top:((a||0)-s.height)/2}:p=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),xc(xc({},h),p)}function jH(e){var t=_t();return j.useEffect(()=>{t(dH(e))},[t,e]),null}function SH(e){var t=_t();return j.useEffect(()=>(t(kC(e)),()=>{t(kC({width:0,height:0}))}),[t,e]),null}function _H(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var NH={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Od(e){var t=ar(e,NH),r=iQ(),n=rK(),a=X7(),{width:s,height:l,wrapperStyle:d,portal:f}=t,[h,p]=cM([r]),g=uj(),y=dj();if(g==null||y==null)return null;var v=g-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),x=_H(t.layout,l,s,v),S=f?d:xc(xc({position:"absolute",width:(x==null?void 0:x.width)||s||"auto",height:(x==null?void 0:x.height)||l||"auto"},wH(d,t,a,g,y,h)),d),_=f??n;if(_==null||r==null)return null;var N=j.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:p},j.createElement(jH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&j.createElement(SH,{width:h.width,height:h.height}),j.createElement(xH,Ux({},t,x,{margin:a,chartWidth:g,chartHeight:y,contextPayload:r})));return Sp.createPortal(N,_)}Od.displayName="Legend";function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zx.apply(null,arguments)}function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){OH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OH(e,t,r){return(t=EH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CH(e){return Array.isArray(e)&&Ca(e[0])&&Ca(e[1])?e.join(" ~ "):e}var $l={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},kH=e=>{var{separator:t=$l.separator,contentStyle:r,itemStyle:n,labelStyle:a=$l.labelStyle,payload:s,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:y=$l.accessibilityLayer}=e,v=()=>{if(s&&s.length){var T={padding:0,margin:0},P=(d?qp(s,d):s).map((D,M)=>{if(D.type==="none")return null;var L=D.formatter||l||CH,{value:Y,name:Q}=D,q=Y,ee=Q;if(L){var H=L(Y,Q,D,M,s);if(Array.isArray(H))[q,ee]=H;else if(H!=null)q=H;else return null}var oe=Hu(Hu({},$l.itemStyle),{},{color:D.color||$l.itemStyle.color},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:oe},Ca(ee)?j.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Ca(ee)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},q),j.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:T},P)}return null},x=Hu(Hu({},$l.contentStyle),r),S=Hu({margin:0},a),_=!It(p),N=_?p:"",O=at("recharts-default-tooltip",f),A=at("recharts-tooltip-label",h);_&&g&&s!==void 0&&s!==null&&(N=g(p,s));var C=y?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",zx({className:O,style:x},C),j.createElement("p",{className:A,style:S},j.isValidElement(N)?N:"".concat(N)),v())},Vu="recharts-tooltip-wrapper",PH={visibility:"hidden"};function TH(e){var{coordinate:t,translateX:r,translateY:n}=e;return at(Vu,{["".concat(Vu,"-right")]:Se(r)&&t&&Se(t.x)&&r>=t.x,["".concat(Vu,"-left")]:Se(r)&&t&&Se(t.x)&&r<t.x,["".concat(Vu,"-bottom")]:Se(n)&&t&&Se(t.y)&&n>=t.y,["".concat(Vu,"-top")]:Se(n)&&t&&Se(t.y)&&n<t.y})}function DC(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:s,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=e;if(s&&Se(s[n]))return s[n];var p=r[n]-d-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?p:g;var y=f[n];if(y==null)return 0;if(l[n]){var v=p,x=y;return v<x?Math.max(g,y):Math.max(p,y)}if(h==null)return 0;var S=g+d,_=y+h;return S>_?Math.max(p,y):Math.max(g,y)}function DH(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function MH(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:s,reverseDirection:l,tooltipBox:d,useTranslate3d:f,viewBox:h}=e,p,g,y;return d.height>0&&d.width>0&&r?(g=DC({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:s,reverseDirection:l,tooltipDimension:d.width,viewBox:h,viewBoxDimension:h.width}),y=DC({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:s,reverseDirection:l,tooltipDimension:d.height,viewBox:h,viewBoxDimension:h.height}),p=DH({translateX:g,translateY:y,useTranslate3d:f})):p=PH,{cssProperties:p,cssClasses:TH({translateX:g,translateY:y,coordinate:r})}}function MC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(r),!0).forEach(function(n){qx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qx(e,t,r){return(t=RH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RH(e){var t=IH(e,"string");return typeof t=="symbol"?t:t+""}function IH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class LH extends j.PureComponent{constructor(){super(...arguments),qx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),qx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:y,viewBox:v,wrapperStyle:x,lastBoundingBox:S,innerRef:_,hasPortalFromProps:N}=this.props,O=typeof h=="number"?h:h.x,A=typeof h=="number"?h:h.y,{cssClasses:C,cssProperties:T}=MH({allowEscapeViewBox:r,coordinate:l,offsetLeft:O,offsetTop:A,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:y,viewBox:v}),P=N?{}:em(em({transition:f&&t?"transform ".concat(n,"ms ").concat(a):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),D=em(em({},P),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},x);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:D,ref:_},s)}}var oR=()=>{var e;return(e=Ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(null,arguments)}function RC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(r),!0).forEach(function(n){BH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BH(e,t,r){return(t=$H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=UH(e,"string");return typeof t=="symbol"?t:t+""}function UH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LC={curveBasisClosed:wK,curveBasisOpen:jK,curveBasis:xK,curveBumpX:sK,curveBumpY:oK,curveLinearClosed:SK,curveLinear:Up,curveMonotoneX:_K,curveMonotoneY:NK,curveNatural:OK,curveStep:EK,curveStepAfter:CK,curveStepBefore:AK},Fm=e=>Je(e.x)&&Je(e.y),BC=e=>e.base!=null&&Fm(e.base)&&Fm(e),Gu=e=>e.x,Yu=e=>e.y,zH=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Xd(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=LC["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return LC[r]||Up},$C={connectNulls:!1,type:"linear"},qH=e=>{var{type:t=$C.type,points:r=[],baseLine:n,layout:a,connectNulls:s=$C.connectNulls}=e,l=zH(t,a),d=s?r.filter(Fm):r;if(Array.isArray(n)){var f,h=r.map((x,S)=>IC(IC({},x),{},{base:n[S]}));a==="vertical"?f=Hh().y(Yu).x1(Gu).x0(x=>x.base.x):f=Hh().x(Gu).y1(Yu).y0(x=>x.base.y);var p=f.defined(BC).curve(l),g=s?h.filter(BC):h;return p(g)}var y;a==="vertical"&&Se(n)?y=Hh().y(Yu).x1(Gu).x0(n):Se(n)?y=Hh().x(Gu).y1(Yu).y0(n):y=MD().x(Gu).y(Yu);var v=y.defined(Fm).curve(l);return v(d)},mj=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=qo();if((!r||!r.length)&&!n)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},d=r&&r.length?qH(l):n;return j.createElement("path",Kx({},On(e),Xw(e),{className:at("recharts-curve",t),d:d===null?void 0:d,ref:a}))},KH=["x","y","top","left","width","height","className"];function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fx.apply(null,arguments)}function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){QH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QH(e,t,r){return(t=HH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HH(e){var t=VH(e,"string");return typeof t=="symbol"?t:t+""}function VH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GH(e,t){if(e==null)return{};var r,n,a=YH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WH=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),XH=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:d}=e,f=GH(e,KH),h=FH({x:t,y:r,top:n,left:a,width:s,height:l},f);return!Se(t)||!Se(r)||!Se(s)||!Se(l)||!Se(n)||!Se(a)?null:j.createElement("path",Fx({},Vr(h),{className:at("recharts-cross",d),d:WH(t,r,s,l,n,a)}))};function ZH(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(n){JH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JH(e,t,r){return(t=eV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eV(e){var t=tV(e,"string");return typeof t=="symbol"?t:t+""}function tV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rV=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),lR=(e,t,r)=>e.map(n=>"".concat(rV(n)," ").concat(t,"ms ").concat(r)).join(","),nV=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Ed=(e,t)=>Object.keys(t).reduce((r,n)=>qC(qC({},r),{},{[n]:e(n,t[n])}),{});function KC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(r),!0).forEach(function(n){aV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aV(e,t,r){return(t=iV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=sV(e,"string");return typeof t=="symbol"?t:t+""}function sV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qm=(e,t,r)=>e+(t-e)*r,Qx=e=>{var{from:t,to:r}=e;return t!==r},cR=(e,t,r)=>{var n=Ed((a,s)=>{if(Qx(s)){var[l,d]=e(s.from,s.to,s.velocity);return cr(cr({},s),{},{from:l,velocity:d})}return s},t);return r<1?Ed((a,s)=>Qx(s)&&n[a]!=null?cr(cr({},s),{},{velocity:Qm(s.velocity,n[a].velocity,r),from:Qm(s.from,n[a].from,r)}):s,t):cR(e,n,r-1)};function oV(e,t,r,n,a,s){var l,d=n.reduce((y,v)=>cr(cr({},y),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),f=()=>Ed((y,v)=>v.from,d),h=()=>!Object.values(d).filter(Qx).length,p=null,g=y=>{l||(l=y);var v=y-l,x=v/r.dt;d=cR(r,d,x),a(cr(cr(cr({},e),t),f())),l=y,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var y;(y=p)===null||y===void 0||y()})}function lV(e,t,r,n,a,s,l){var d=null,f=a.reduce((g,y)=>{var v=e[y],x=t[y];return v==null||x==null?g:cr(cr({},g),{},{[y]:[v,x]})},{}),h,p=g=>{h||(h=g);var y=(g-h)/n,v=Ed((S,_)=>Qm(..._,r(y)),f);if(s(cr(cr(cr({},e),t),v)),y<1)d=l.setTimeout(p);else{var x=Ed((S,_)=>Qm(..._,r(1)),f);s(cr(cr(cr({},e),t),x))}};return()=>(d=l.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const cV=(e,t,r,n,a,s)=>{var l=nV(e,t);return r==null?()=>(a(cr(cr({},e),t)),()=>{}):r.isStepper===!0?oV(e,t,r,l,a,s):lV(e,t,r,n,l,a,s)};var Hm=1e-4,uR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],dR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),FC=(e,t)=>r=>{var n=uR(e,t);return dR(n,r)},uV=(e,t)=>r=>{var n=uR(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return dR(a,r)},dV=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},fV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=dV(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},hV=(e,t,r,n)=>{var a=FC(e,r),s=FC(t,n),l=uV(e,r),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,y=0;y<8;++y){var v=a(g)-p,x=l(g);if(Math.abs(v-p)<Hm||x<Hm)return s(g);g=d(g-v/x)}return s(g)};return f.isStepper=!1,f},QC=function(){return hV(...fV(...arguments))},mV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,d,f)=>{var h=-(l-d)*r,p=f*n,g=f+(h-p)*a/1e3,y=f*a/1e3+l;return Math.abs(y-d)<Hm&&Math.abs(g)<Hm?[d,0]:[y,g]};return s.isStepper=!0,s.dt=a,s},pV=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QC(e);case"spring":return mV();default:if(e.split("(")[0]==="cubic-bezier")return QC(e)}return typeof e=="function"?e:null};function gV(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){a=e.setTimeout(s.bind(null,h),f);return}s(f),a=e.setTimeout(s.bind(null,h));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class yV{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function vV(){return gV(new yV)}var bV=j.createContext(vV);function xV(e,t){var r=j.useContext(bV);return j.useMemo(()=>t??r(e),[e,t,r])}var wV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sg={isSsr:wV()},jV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},HC={t:0},hb={t:1};function af(e){var t=ar(e,jV),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=t,p=r==="auto"?!sg.isSsr:r,g=xV(t.animationId,t.animationManager),[y,v]=j.useState(p?HC:hb),x=j.useRef(null);return j.useEffect(()=>{p||v(hb)},[p]),j.useEffect(()=>{if(!p||!n)return zo;var S=cV(HC,hb,pV(s),a,v,g.getTimeoutController()),_=()=>{x.current=S()};return g.start([f,l,_,a,d]),()=>{g.stop(),x.current&&x.current(),d()}},[p,n,a,s,l,f,d,g]),h(y.t)}function sf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(bd(t)),n=j.useRef(e);return n.current!==e&&(r.current=bd(t),n.current=e),r.current}var SV=["radius"],_V=["radius"],VC,GC,YC,WC,XC,ZC,JC,e2,t2,r2;function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){NV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NV(e,t,r){return(t=OV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OV(e){var t=EV(e,"string");return typeof t=="symbol"?t:t+""}function EV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vm.apply(null,arguments)}function i2(e,t){if(e==null)return{};var r,n,a=AV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ya(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s2=(e,t,r,n,a)=>{var s=bs(r),l=bs(n),d=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(d>0&&Array.isArray(a)){for(var y=[0,0,0,0],v=0,x=4;v<x;v++){var S,_=(S=a[v])!==null&&S!==void 0?S:0;y[v]=_>d?d:_}g=Ft(VC||(VC=ya(["M",",",""])),e,t+f*y[0]),y[0]>0&&(g+=Ft(GC||(GC=ya(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,e+h*y[0],t)),g+=Ft(YC||(YC=ya(["L ",",",""])),e+r-h*y[1],t),y[1]>0&&(g+=Ft(WC||(WC=ya(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,e+r,t+f*y[1])),g+=Ft(XC||(XC=ya(["L ",",",""])),e+r,t+n-f*y[2]),y[2]>0&&(g+=Ft(ZC||(ZC=ya(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,e+r-h*y[2],t+n)),g+=Ft(JC||(JC=ya(["L ",",",""])),e+h*y[3],t+n),y[3]>0&&(g+=Ft(e2||(e2=ya(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,e,t+n-f*y[3])),g+="Z"}else if(d>0&&a===+a&&a>0){var N=Math.min(d,a);g=Ft(t2||(t2=ya(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*N,N,N,p,e+h*N,t,e+r-h*N,t,N,N,p,e+r,t+f*N,e+r,t+n-f*N,N,N,p,e+r-h*N,t+n,e+h*N,t+n,N,N,p,e,t+n-f*N)}else g=Ft(r2||(r2=ya(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return g},o2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fR=e=>{var t=ar(e,o2),r=j.useRef(null),[n,a]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&a(V)}catch{}},[]);var{x:s,y:l,width:d,height:f,radius:h,className:p}=t,{animationEasing:g,animationDuration:y,animationBegin:v,isAnimationActive:x,isUpdateAnimationActive:S}=t,_=j.useRef(d),N=j.useRef(f),O=j.useRef(s),A=j.useRef(l),C=j.useMemo(()=>({x:s,y:l,width:d,height:f,radius:h}),[s,l,d,f,h]),T=sf(C,"rectangle-");if(s!==+s||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var P=at("recharts-rectangle",p);if(!S){var D=Vr(t),{radius:M}=D,L=i2(D,SV);return j.createElement("path",Vm({},L,{x:bs(s),y:bs(l),width:bs(d),height:bs(f),radius:typeof h=="number"?h:void 0,className:P,d:s2(s,l,d,f,h)}))}var Y=_.current,Q=N.current,q=O.current,ee=A.current,H="0px ".concat(n===-1?1:n,"px"),oe="".concat(n,"px 0px"),B=lR(["strokeDasharray"],y,typeof g=="string"?g:o2.animationEasing);return j.createElement(af,{animationId:T,key:T,canBegin:n>0,duration:y,easing:g,isActive:S,begin:v},V=>{var ue=Dt(Y,d,V),G=Dt(Q,f,V),ne=Dt(q,s,V),I=Dt(ee,l,V);r.current&&(_.current=ue,N.current=G,O.current=ne,A.current=I);var K;x?V>0?K={transition:B,strokeDasharray:oe}:K={strokeDasharray:H}:K={strokeDasharray:oe};var he=Vr(t),{radius:ge}=he,xe=i2(he,_V);return j.createElement("path",Vm({},xe,{radius:typeof h=="number"?h:void 0,className:P,d:s2(ne,I,ue,G,h),ref:r,style:a2(a2({},K),t.style)}))})};function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){CV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CV(e,t,r){return(t=kV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kV(e){var t=PV(e,"string");return typeof t=="symbol"?t:t+""}function PV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gm=Math.PI/180,TV=e=>e*180/Math.PI,tr=(e,t,r,n)=>({x:e+Math.cos(-Gm*n)*r,y:t+Math.sin(-Gm*n)*r}),hR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},DV=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},MV=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=DV({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var d=(r-a)/l,f=Math.acos(d);return n>s&&(f=2*Math.PI-f),{radius:l,angle:TV(f),angleInRadian:f}},RV=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},IV=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},LV=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=MV({x:r,y:n},t),{innerRadius:l,outerRadius:d}=t;if(a<l||a>d||a===0)return null;var{startAngle:f,endAngle:h}=RV(t),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?c2(c2({},t),{},{radius:a,angle:IV(p,t)}):null};function mR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=tr(t,r,n,a),d=tr(t,r,n,s);return{points:[l,d],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var u2,d2,f2,h2,m2,p2,g2;function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(null,arguments)}function fo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var BV=(e,t)=>{var r=wr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},tm=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:f}=e,h=d*(l?1:-1)+n,p=Math.asin(d/h)/Gm,g=f?a:a+s*p,y=tr(t,r,h,g),v=tr(t,r,n,g),x=f?a-s*p:a,S=tr(t,r,h*Math.cos(p*Gm),x);return{center:y,circleTangency:v,lineTangency:S,theta:p}},pR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,d=BV(s,l),f=s+d,h=tr(t,r,a,s),p=tr(t,r,a,f),g=Ft(u2||(u2=fo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,a,a,+(Math.abs(d)>180),+(s>f),p.x,p.y);if(n>0){var y=tr(t,r,n,s),v=tr(t,r,n,f);g+=Ft(d2||(d2=fo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,n,n,+(Math.abs(d)>180),+(s<=f),y.x,y.y)}else g+=Ft(f2||(f2=fo(["L ",","," Z"])),t,r);return g},$V=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=e,p=wr(h-f),{circleTangency:g,lineTangency:y,theta:v}=tm({cx:t,cy:r,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:x,lineTangency:S,theta:_}=tm({cx:t,cy:r,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),N=d?Math.abs(f-h):Math.abs(f-h)-v-_;if(N<0)return l?Ft(h2||(h2=fo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):pR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:f,endAngle:h});var O=Ft(m2||(m2=fo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(p<0),g.x,g.y,a,a,+(N>180),+(p<0),x.x,x.y,s,s,+(p<0),S.x,S.y);if(n>0){var{circleTangency:A,lineTangency:C,theta:T}=tm({cx:t,cy:r,radius:n,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:P,lineTangency:D,theta:M}=tm({cx:t,cy:r,radius:n,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),L=d?Math.abs(f-h):Math.abs(f-h)-T-M;if(L<0&&s===0)return"".concat(O,"L").concat(t,",").concat(r,"Z");O+=Ft(p2||(p2=fo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,s,s,+(p<0),P.x,P.y,n,n,+(L>180),+(p>0),A.x,A.y,s,s,+(p<0),C.x,C.y)}else O+=Ft(g2||(g2=fo(["L",",","Z"])),t,r);return O},UV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gR=e=>{var t=ar(e,UV),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=t;if(s<a||h===p)return null;var y=at("recharts-sector",g),v=s-a,x=Ur(l,v,0,!0),S;return x>0&&Math.abs(h-p)<360?S=$V({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(x,v/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):S=pR({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),j.createElement("path",Hx({},Vr(t),{className:y,d:S}))};function zV(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(YD(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:l,angle:d}=t,f=tr(n,a,s,d),h=tr(n,a,l,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return mR(t)}}var mb={},pb={},gb={},y2;function qV(){return y2||(y2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sM();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(gb)),gb}var v2;function KV(){return v2||(v2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qV();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(pb)),pb}var b2;function FV(){return b2||(b2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM(),r=KV();function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const d=Math.max(Math.ceil((s-a)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=a,a+=l;return f}e.range=n})(mb)),mb}var yb,x2;function QV(){return x2||(x2=1,yb=FV().range),yb}var HV=QV();const yR=Ta(HV);function ws(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pj(e){let t,r,n;e.length!==2?(t=ws,r=(d,f)=>ws(e(d),f),n=(d,f)=>e(d)-f):(t=e===ws||e===VV?e:GV,r=e,n=e);function a(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(d,f,h=0,p=d.length){const g=a(d,f,h,p-1);return g>h&&n(d[g-1],f)>-n(d[g],f)?g-1:g}return{left:a,center:l,right:s}}function GV(){return 0}function vR(e){return e===null?NaN:+e}function*YV(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const WV=pj(ws),of=WV.right;pj(vR).center;class w2 extends Map{constructor(t,r=JV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(j2(this,t))}has(t){return super.has(j2(this,t))}set(t,r){return super.set(XV(this,t),r)}delete(t){return super.delete(ZV(this,t))}}function j2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function XV({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ZV({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function JV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function eG(e=ws){if(e===ws)return bR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function bR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const tG=Math.sqrt(50),rG=Math.sqrt(10),nG=Math.sqrt(2);function Ym(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=tG?10:s>=rG?5:s>=nG?2:1;let d,f,h;return a<0?(h=Math.pow(10,-a)/l,d=Math.round(e*h),f=Math.round(t*h),d/h<e&&++d,f/h>t&&--f,h=-h):(h=Math.pow(10,a)*l,d=Math.round(e/h),f=Math.round(t/h),d*h<e&&++d,f*h>t&&--f),f<d&&.5<=r&&r<2?Ym(e,t,r*2):[d,f,h]}function Vx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?Ym(t,e,r):Ym(e,t,r);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(n)if(l<0)for(let h=0;h<d;++h)f[h]=(s-h)/-l;else for(let h=0;h<d;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(a+h)/-l;else for(let h=0;h<d;++h)f[h]=(a+h)*l;return f}function Gx(e,t,r){return t=+t,e=+e,r=+r,Ym(e,t,r)[2]}function Yx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Gx(t,e,r):Gx(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function S2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function _2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function xR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?bR:eG(a);n>r;){if(n-r>600){const f=n-r+1,h=t-r+1,p=Math.log(f),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),v=Math.max(r,Math.floor(t-h*g/f+y)),x=Math.min(n,Math.floor(t+(f-h)*g/f+y));xR(e,t,v,x,a)}const s=e[t];let l=r,d=n;for(Wu(e,r,t),a(e[n],s)>0&&Wu(e,r,n);l<d;){for(Wu(e,l,d),++l,--d;a(e[l],s)<0;)++l;for(;a(e[d],s)>0;)--d}a(e[r],s)===0?Wu(e,r,d):(++d,Wu(e,d,n)),d<=t&&(r=d+1),t<=d&&(n=d-1)}return e}function Wu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function aG(e,t,r){if(e=Float64Array.from(YV(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return _2(e);if(t>=1)return S2(e);var n,a=(n-1)*t,s=Math.floor(a),l=S2(xR(e,s).subarray(0,s+1)),d=_2(e.subarray(s+1));return l+(d-l)*(a-s)}}function iG(e,t,r=vR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),d=+r(e[s+1],s+1,e);return l+(d-l)*(a-s)}}function sG(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Wn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ei(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Wx=Symbol("implicit");function gj(){var e=new w2,t=[],r=[],n=Wx;function a(s){let l=e.get(s);if(l===void 0){if(n!==Wx)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new w2;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return gj(t,r).unknown(n)},Wn.apply(a,arguments),a}function yj(){var e=gj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,d=!1,f=0,h=0,p=.5;delete e.unknown;function g(){var y=t().length,v=a<n,x=v?a:n,S=v?n:a;s=(S-x)/Math.max(1,y-f+h*2),d&&(s=Math.floor(s)),x+=(S-x-s*(y-f))*p,l=s*(1-f),d&&(x=Math.round(x),l=Math.round(l));var _=sG(y).map(function(N){return x+s*N});return r(v?_.reverse():_)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,d=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(y){return arguments.length?(d=!!y,g()):d},e.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},e.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},e.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},e.copy=function(){return yj(t(),[n,a]).round(d).paddingInner(f).paddingOuter(h).align(p)},Wn.apply(g(),arguments)}function wR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return wR(t())},e}function oG(){return wR(yj.apply(null,arguments).paddingInner(1))}function vj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function jR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lf(){}var Ad=.7,Wm=1/Ad,Jl="\\s*([+-]?\\d+)\\s*",Cd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ea="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lG=/^#([0-9a-f]{3,8})$/,cG=new RegExp(`^rgb\\(${Jl},${Jl},${Jl}\\)$`),uG=new RegExp(`^rgb\\(${Ea},${Ea},${Ea}\\)$`),dG=new RegExp(`^rgba\\(${Jl},${Jl},${Jl},${Cd}\\)$`),fG=new RegExp(`^rgba\\(${Ea},${Ea},${Ea},${Cd}\\)$`),hG=new RegExp(`^hsl\\(${Cd},${Ea},${Ea}\\)$`),mG=new RegExp(`^hsla\\(${Cd},${Ea},${Ea},${Cd}\\)$`),N2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vj(lf,kd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:O2,formatHex:O2,formatHex8:pG,formatHsl:gG,formatRgb:E2,toString:E2});function O2(){return this.rgb().formatHex()}function pG(){return this.rgb().formatHex8()}function gG(){return SR(this).formatHsl()}function E2(){return this.rgb().formatRgb()}function kd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=lG.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?A2(t):r===3?new ln(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?rm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?rm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cG.exec(e))?new ln(t[1],t[2],t[3],1):(t=uG.exec(e))?new ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dG.exec(e))?rm(t[1],t[2],t[3],t[4]):(t=fG.exec(e))?rm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hG.exec(e))?P2(t[1],t[2]/100,t[3]/100,1):(t=mG.exec(e))?P2(t[1],t[2]/100,t[3]/100,t[4]):N2.hasOwnProperty(e)?A2(N2[e]):e==="transparent"?new ln(NaN,NaN,NaN,0):null}function A2(e){return new ln(e>>16&255,e>>8&255,e&255,1)}function rm(e,t,r,n){return n<=0&&(e=t=r=NaN),new ln(e,t,r,n)}function yG(e){return e instanceof lf||(e=kd(e)),e?(e=e.rgb(),new ln(e.r,e.g,e.b,e.opacity)):new ln}function Xx(e,t,r,n){return arguments.length===1?yG(e):new ln(e,t,r,n??1)}function ln(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}vj(ln,Xx,jR(lf,{brighter(e){return e=e==null?Wm:Math.pow(Wm,e),new ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ad:Math.pow(Ad,e),new ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ln(Eo(this.r),Eo(this.g),Eo(this.b),Xm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C2,formatHex:C2,formatHex8:vG,formatRgb:k2,toString:k2}));function C2(){return`#${ho(this.r)}${ho(this.g)}${ho(this.b)}`}function vG(){return`#${ho(this.r)}${ho(this.g)}${ho(this.b)}${ho((isNaN(this.opacity)?1:this.opacity)*255)}`}function k2(){const e=Xm(this.opacity);return`${e===1?"rgb(":"rgba("}${Eo(this.r)}, ${Eo(this.g)}, ${Eo(this.b)}${e===1?")":`, ${e})`}`}function Xm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Eo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ho(e){return e=Eo(e),(e<16?"0":"")+e.toString(16)}function P2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new la(e,t,r,n)}function SR(e){if(e instanceof la)return new la(e.h,e.s,e.l,e.opacity);if(e instanceof lf||(e=kd(e)),!e)return new la;if(e instanceof la)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,d=s-a,f=(s+a)/2;return d?(t===s?l=(r-n)/d+(r<n)*6:r===s?l=(n-t)/d+2:l=(t-r)/d+4,d/=f<.5?s+a:2-s-a,l*=60):d=f>0&&f<1?0:l,new la(l,d,f,e.opacity)}function bG(e,t,r,n){return arguments.length===1?SR(e):new la(e,t,r,n??1)}function la(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}vj(la,bG,jR(lf,{brighter(e){return e=e==null?Wm:Math.pow(Wm,e),new la(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ad:Math.pow(Ad,e),new la(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ln(vb(e>=240?e-240:e+120,a,n),vb(e,a,n),vb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new la(T2(this.h),nm(this.s),nm(this.l),Xm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xm(this.opacity);return`${e===1?"hsl(":"hsla("}${T2(this.h)}, ${nm(this.s)*100}%, ${nm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function T2(e){return e=(e||0)%360,e<0?e+360:e}function nm(e){return Math.max(0,Math.min(1,e||0))}function vb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const bj=e=>()=>e;function xG(e,t){return function(r){return e+r*t}}function wG(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function jG(e){return(e=+e)==1?_R:function(t,r){return r-t?wG(t,r,e):bj(isNaN(t)?r:t)}}function _R(e,t){var r=t-e;return r?xG(e,r):bj(isNaN(e)?t:e)}const D2=(function e(t){var r=jG(t);function n(a,s){var l=r((a=Xx(a)).r,(s=Xx(s)).r),d=r(a.g,s.g),f=r(a.b,s.b),h=_R(a.opacity,s.opacity);return function(p){return a.r=l(p),a.g=d(p),a.b=f(p),a.opacity=h(p),a+""}}return n.gamma=e,n})(1);function SG(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function _G(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function NG(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=Lc(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(d){for(l=0;l<n;++l)s[l]=a[l](d);return s}}function OG(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function EG(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Lc(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Zx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bb=new RegExp(Zx.source,"g");function AG(e){return function(){return e}}function CG(e){return function(t){return e(t)+""}}function kG(e,t){var r=Zx.lastIndex=bb.lastIndex=0,n,a,s,l=-1,d=[],f=[];for(e=e+"",t=t+"";(n=Zx.exec(e))&&(a=bb.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),d[l]?d[l]+=s:d[++l]=s),(n=n[0])===(a=a[0])?d[l]?d[l]+=a:d[++l]=a:(d[++l]=null,f.push({i:l,x:Zm(n,a)})),r=bb.lastIndex;return r<t.length&&(s=t.slice(r),d[l]?d[l]+=s:d[++l]=s),d.length<2?f[0]?CG(f[0].x):AG(t):(t=f.length,function(h){for(var p=0,g;p<t;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function Lc(e,t){var r=typeof t,n;return t==null||r==="boolean"?bj(t):(r==="number"?Zm:r==="string"?(n=kd(t))?(t=n,D2):kG:t instanceof kd?D2:t instanceof Date?OG:_G(t)?SG:Array.isArray(t)?NG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?EG:Zm)(e,t)}function xj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function PG(e,t){t===void 0&&(t=e,e=Lc);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var d=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[d](l-d)}}function TG(e){return function(){return e}}function Jm(e){return+e}var M2=[0,1];function Hr(e){return e}function Jx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:TG(isNaN(t)?NaN:.5)}function DG(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function MG(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=Jx(a,n),s=r(l,s)):(n=Jx(n,a),s=r(s,l)),function(d){return s(n(d))}}function RG(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Jx(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(d){var f=of(e,d,1,n)-1;return s[f](a[f](d))}}function cf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function og(){var e=M2,t=M2,r=Lc,n,a,s,l=Hr,d,f,h;function p(){var y=Math.min(e.length,t.length);return l!==Hr&&(l=DG(e[0],e[y-1])),d=y>2?RG:MG,f=h=null,g}function g(y){return y==null||isNaN(y=+y)?s:(f||(f=d(e.map(n),t,r)))(n(l(y)))}return g.invert=function(y){return l(a((h||(h=d(t,e.map(n),Zm)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,Jm),p()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),r=xj,p()},g.clamp=function(y){return arguments.length?(l=y?!0:Hr,p()):l!==Hr},g.interpolate=function(y){return arguments.length?(r=y,p()):r},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,v){return n=y,a=v,p()}}function wj(){return og()(Hr,Hr)}function IG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ep(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function wc(e){return e=ep(Math.abs(e)),e?e[1]:NaN}function LG(e,t){return function(r,n){for(var a=r.length,s=[],l=0,d=e[0],f=0;a>0&&d>0&&(f+d+1>n&&(d=Math.max(1,n-f)),s.push(r.substring(a-=d,a+d)),!((f+=d+1)>n));)d=e[l=(l+1)%e.length];return s.reverse().join(t)}}function BG(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var $G=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pd(e){if(!(t=$G.exec(e)))throw new Error("invalid format: "+e);var t;return new jj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pd.prototype=jj.prototype;function jj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function UG(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var tp;function zG(e,t){var r=ep(e,t);if(!r)return tp=void 0,e.toPrecision(t);var n=r[0],a=r[1],s=a-(tp=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+ep(e,Math.max(0,t+s-1))[0]}function R2(e,t){var r=ep(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const I2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:IG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>R2(e*100,t),r:R2,s:zG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function L2(e){return e}var B2=Array.prototype.map,$2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qG(e){var t=e.grouping===void 0||e.thousands===void 0?L2:LG(B2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?L2:BG(B2.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g,y){g=Pd(g);var v=g.fill,x=g.align,S=g.sign,_=g.symbol,N=g.zero,O=g.width,A=g.comma,C=g.precision,T=g.trim,P=g.type;P==="n"?(A=!0,P="g"):I2[P]||(C===void 0&&(C=12),T=!0,P="g"),(N||v==="0"&&x==="=")&&(N=!0,v="0",x="=");var D=(y&&y.prefix!==void 0?y.prefix:"")+(_==="$"?r:_==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),M=(_==="$"?n:/[%p]/.test(P)?l:"")+(y&&y.suffix!==void 0?y.suffix:""),L=I2[P],Y=/[defgprs%]/.test(P);C=C===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function Q(q){var ee=D,H=M,oe,B,V;if(P==="c")H=L(q)+H,q="";else{q=+q;var ue=q<0||1/q<0;if(q=isNaN(q)?f:L(Math.abs(q),C),T&&(q=UG(q)),ue&&+q==0&&S!=="+"&&(ue=!1),ee=(ue?S==="("?S:d:S==="-"||S==="("?"":S)+ee,H=(P==="s"&&!isNaN(q)&&tp!==void 0?$2[8+tp/3]:"")+H+(ue&&S==="("?")":""),Y){for(oe=-1,B=q.length;++oe<B;)if(V=q.charCodeAt(oe),48>V||V>57){H=(V===46?a+q.slice(oe+1):q.slice(oe))+H,q=q.slice(0,oe);break}}}A&&!N&&(q=t(q,1/0));var G=ee.length+q.length+H.length,ne=G<O?new Array(O-G+1).join(v):"";switch(A&&N&&(q=t(ne+q,ne.length?O-H.length:1/0),ne=""),x){case"<":q=ee+q+H+ne;break;case"=":q=ee+ne+q+H;break;case"^":q=ne.slice(0,G=ne.length>>1)+ee+q+H+ne.slice(G);break;default:q=ne+ee+q+H;break}return s(q)}return Q.toString=function(){return g+""},Q}function p(g,y){var v=Math.max(-8,Math.min(8,Math.floor(wc(y)/3)))*3,x=Math.pow(10,-v),S=h((g=Pd(g),g.type="f",g),{suffix:$2[8+v/3]});return function(_){return S(x*_)}}return{format:h,formatPrefix:p}}var am,Sj,NR;KG({thousands:",",grouping:[3],currency:["$",""]});function KG(e){return am=qG(e),Sj=am.format,NR=am.formatPrefix,am}function FG(e){return Math.max(0,-wc(Math.abs(e)))}function QG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wc(t)/3)))*3-wc(Math.abs(e)))}function HG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,wc(t)-wc(e))+1}function OR(e,t,r,n){var a=Yx(e,t,r),s;switch(n=Pd(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=QG(a,l))&&(n.precision=s),NR(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=HG(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=FG(a))&&(n.precision=s-(n.type==="%")*2);break}}return Sj(n)}function Ts(e){var t=e.domain;return e.ticks=function(r){var n=t();return Vx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return OR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],d=n[s],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=a,a=s,s=h);p-- >0;){if(h=Gx(l,d,r),h===f)return n[a]=l,n[s]=d,t(n);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return e},e}function ER(){var e=wj();return e.copy=function(){return cf(e,ER())},Wn.apply(e,arguments),Ts(e)}function AR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Jm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return AR(e).unknown(t)},e=arguments.length?Array.from(e,Jm):[0,1],Ts(r)}function CR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function U2(e){return Math.log(e)}function z2(e){return Math.exp(e)}function VG(e){return-Math.log(-e)}function GG(e){return-Math.exp(-e)}function YG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function WG(e){return e===10?YG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function XG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function q2(e){return(t,r)=>-e(-t,r)}function _j(e){const t=e(U2,z2),r=t.domain;let n=10,a,s;function l(){return a=XG(n),s=WG(n),r()[0]<0?(a=q2(a),s=q2(s),e(VG,GG)):e(U2,z2),t}return t.base=function(d){return arguments.length?(n=+d,l()):n},t.domain=function(d){return arguments.length?(r(d),l()):r()},t.ticks=d=>{const f=r();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let y=a(h),v=a(p),x,S;const _=d==null?10:+d;let N=[];if(!(n%1)&&v-y<_){if(y=Math.floor(y),v=Math.ceil(v),h>0){for(;y<=v;++y)for(x=1;x<n;++x)if(S=y<0?x/s(-y):x*s(y),!(S<h)){if(S>p)break;N.push(S)}}else for(;y<=v;++y)for(x=n-1;x>=1;--x)if(S=y>0?x/s(-y):x*s(y),!(S<h)){if(S>p)break;N.push(S)}N.length*2<_&&(N=Vx(h,p,_))}else N=Vx(y,v,Math.min(v-y,_)).map(s);return g?N.reverse():N},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Pd(f)).precision==null&&(f.trim=!0),f=Sj(f)),d===1/0)return f;const h=Math.max(1,n*d/t.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*n<n-.5&&(g*=n),g<=h?f(p):""}},t.nice=()=>r(CR(r(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),t}function kR(){const e=_j(og()).domain([1,10]);return e.copy=()=>cf(e,kR()).base(e.base()),Wn.apply(e,arguments),e}function K2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function F2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Nj(e){var t=1,r=e(K2(t),F2(t));return r.constant=function(n){return arguments.length?e(K2(t=+n),F2(t)):t},Ts(r)}function PR(){var e=Nj(og());return e.copy=function(){return cf(e,PR()).constant(e.constant())},Wn.apply(e,arguments)}function Q2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ZG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function JG(e){return e<0?-e*e:e*e}function Oj(e){var t=e(Hr,Hr),r=1;function n(){return r===1?e(Hr,Hr):r===.5?e(ZG,JG):e(Q2(r),Q2(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ts(t)}function Ej(){var e=Oj(og());return e.copy=function(){return cf(e,Ej()).exponent(e.exponent())},Wn.apply(e,arguments),e}function eY(){return Ej.apply(null,arguments).exponent(.5)}function H2(e){return Math.sign(e)*e*e}function tY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function TR(){var e=wj(),t=[0,1],r=!1,n;function a(s){var l=tY(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(H2(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Jm)).map(H2)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return TR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Wn.apply(a,arguments),Ts(a)}function DR(){var e=[],t=[],r=[],n;function a(){var l=0,d=Math.max(1,t.length);for(r=new Array(d-1);++l<d;)r[l-1]=iG(e,l/d);return s}function s(l){return l==null||isNaN(l=+l)?n:t[of(r,l)]}return s.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(ws),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return DR().domain(e).range(t).unknown(n)},Wn.apply(s,arguments)}function MR(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(f){return f!=null&&f<=f?a[of(n,f,0,r)]:s}function d(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},l.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,d()):a.slice()},l.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return n.slice()},l.copy=function(){return MR().domain([e,t]).range(a).unknown(s)},Wn.apply(Ts(l),arguments)}function RR(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[of(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return RR().domain(e).range(t).unknown(r)},Wn.apply(a,arguments)}const xb=new Date,wb=new Date;function fr(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),d=a.ceil(s);return s-l<d-s?l:d},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return f;let h;do f.push(h=new Date(+s)),t(s,d),e(s);while(h<s&&s<l);return f},a.filter=s=>fr(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!s(l););else for(;--d>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(xb.setTime(+s),wb.setTime(+l),e(xb),e(wb),Math.floor(r(xb,wb))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const rp=fr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):rp);rp.range;const oi=1e3,Hn=oi*60,li=Hn*60,pi=li*24,Aj=pi*7,V2=pi*30,jb=pi*365,mo=fr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*oi)},(e,t)=>(t-e)/oi,e=>e.getUTCSeconds());mo.range;const Cj=fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oi)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getMinutes());Cj.range;const kj=fr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getUTCMinutes());kj.range;const Pj=fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oi-e.getMinutes()*Hn)},(e,t)=>{e.setTime(+e+t*li)},(e,t)=>(t-e)/li,e=>e.getHours());Pj.range;const Tj=fr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*li)},(e,t)=>(t-e)/li,e=>e.getUTCHours());Tj.range;const uf=fr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hn)/pi,e=>e.getDate()-1);uf.range;const lg=fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pi,e=>e.getUTCDate()-1);lg.range;const IR=fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pi,e=>Math.floor(e/pi));IR.range;function Ko(e){return fr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Hn)/Aj)}const cg=Ko(0),np=Ko(1),rY=Ko(2),nY=Ko(3),jc=Ko(4),aY=Ko(5),iY=Ko(6);cg.range;np.range;rY.range;nY.range;jc.range;aY.range;iY.range;function Fo(e){return fr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Aj)}const ug=Fo(0),ap=Fo(1),sY=Fo(2),oY=Fo(3),Sc=Fo(4),lY=Fo(5),cY=Fo(6);ug.range;ap.range;sY.range;oY.range;Sc.range;lY.range;cY.range;const Dj=fr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Dj.range;const Mj=fr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Mj.range;const gi=fr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});gi.range;const yi=fr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});yi.range;function LR(e,t,r,n,a,s){const l=[[mo,1,oi],[mo,5,5*oi],[mo,15,15*oi],[mo,30,30*oi],[s,1,Hn],[s,5,5*Hn],[s,15,15*Hn],[s,30,30*Hn],[a,1,li],[a,3,3*li],[a,6,6*li],[a,12,12*li],[n,1,pi],[n,2,2*pi],[r,1,Aj],[t,1,V2],[t,3,3*V2],[e,1,jb]];function d(h,p,g){const y=p<h;y&&([h,p]=[p,h]);const v=g&&typeof g.range=="function"?g:f(h,p,g),x=v?v.range(h,+p+1):[];return y?x.reverse():x}function f(h,p,g){const y=Math.abs(p-h)/g,v=pj(([,,_])=>_).right(l,y);if(v===l.length)return e.every(Yx(h/jb,p/jb,g));if(v===0)return rp.every(Math.max(Yx(h,p,g),1));const[x,S]=l[y/l[v-1][2]<l[v][2]/y?v-1:v];return x.every(S)}return[d,f]}const[uY,dY]=LR(yi,Mj,ug,IR,Tj,kj),[fY,hY]=LR(gi,Dj,cg,uf,Pj,Cj);function Sb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _b(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function mY(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,d=e.months,f=e.shortMonths,h=Zu(a),p=Ju(a),g=Zu(s),y=Ju(s),v=Zu(l),x=Ju(l),S=Zu(d),_=Ju(d),N=Zu(f),O=Ju(f),A={a:V,A:ue,b:G,B:ne,c:null,d:J2,e:J2,f:LY,g:VY,G:YY,H:MY,I:RY,j:IY,L:BR,m:BY,M:$Y,p:I,q:K,Q:rk,s:nk,S:UY,u:zY,U:qY,V:KY,w:FY,W:QY,x:null,X:null,y:HY,Y:GY,Z:WY,"%":tk},C={a:he,A:ge,b:xe,B:je,c:null,d:ek,e:ek,f:eW,g:uW,G:fW,H:XY,I:ZY,j:JY,L:UR,m:tW,M:rW,p:Ne,q:te,Q:rk,s:nk,S:nW,u:aW,U:iW,V:sW,w:oW,W:lW,x:null,X:null,y:cW,Y:dW,Z:hW,"%":tk},T={a:Y,A:Q,b:q,B:ee,c:H,d:X2,e:X2,f:kY,g:W2,G:Y2,H:Z2,I:Z2,j:OY,L:CY,m:NY,M:EY,p:L,q:_Y,Q:TY,s:DY,S:AY,u:bY,U:xY,V:wY,w:vY,W:jY,x:oe,X:B,y:W2,Y:Y2,Z:SY,"%":PY};A.x=P(r,A),A.X=P(n,A),A.c=P(t,A),C.x=P(r,C),C.X=P(n,C),C.c=P(t,C);function P(R,de){return function(pe){var se=[],Me=-1,ke=0,He=R.length,et,Yt,Rr;for(pe instanceof Date||(pe=new Date(+pe));++Me<He;)R.charCodeAt(Me)===37&&(se.push(R.slice(ke,Me)),(Yt=G2[et=R.charAt(++Me)])!=null?et=R.charAt(++Me):Yt=et==="e"?" ":"0",(Rr=de[et])&&(et=Rr(pe,Yt)),se.push(et),ke=Me+1);return se.push(R.slice(ke,Me)),se.join("")}}function D(R,de){return function(pe){var se=Xu(1900,void 0,1),Me=M(se,R,pe+="",0),ke,He;if(Me!=pe.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(de&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(ke=_b(Xu(se.y,0,1)),He=ke.getUTCDay(),ke=He>4||He===0?ap.ceil(ke):ap(ke),ke=lg.offset(ke,(se.V-1)*7),se.y=ke.getUTCFullYear(),se.m=ke.getUTCMonth(),se.d=ke.getUTCDate()+(se.w+6)%7):(ke=Sb(Xu(se.y,0,1)),He=ke.getDay(),ke=He>4||He===0?np.ceil(ke):np(ke),ke=uf.offset(ke,(se.V-1)*7),se.y=ke.getFullYear(),se.m=ke.getMonth(),se.d=ke.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),He="Z"in se?_b(Xu(se.y,0,1)).getUTCDay():Sb(Xu(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(He+5)%7:se.w+se.U*7-(He+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,_b(se)):Sb(se)}}function M(R,de,pe,se){for(var Me=0,ke=de.length,He=pe.length,et,Yt;Me<ke;){if(se>=He)return-1;if(et=de.charCodeAt(Me++),et===37){if(et=de.charAt(Me++),Yt=T[et in G2?de.charAt(Me++):et],!Yt||(se=Yt(R,pe,se))<0)return-1}else if(et!=pe.charCodeAt(se++))return-1}return se}function L(R,de,pe){var se=h.exec(de.slice(pe));return se?(R.p=p.get(se[0].toLowerCase()),pe+se[0].length):-1}function Y(R,de,pe){var se=v.exec(de.slice(pe));return se?(R.w=x.get(se[0].toLowerCase()),pe+se[0].length):-1}function Q(R,de,pe){var se=g.exec(de.slice(pe));return se?(R.w=y.get(se[0].toLowerCase()),pe+se[0].length):-1}function q(R,de,pe){var se=N.exec(de.slice(pe));return se?(R.m=O.get(se[0].toLowerCase()),pe+se[0].length):-1}function ee(R,de,pe){var se=S.exec(de.slice(pe));return se?(R.m=_.get(se[0].toLowerCase()),pe+se[0].length):-1}function H(R,de,pe){return M(R,t,de,pe)}function oe(R,de,pe){return M(R,r,de,pe)}function B(R,de,pe){return M(R,n,de,pe)}function V(R){return l[R.getDay()]}function ue(R){return s[R.getDay()]}function G(R){return f[R.getMonth()]}function ne(R){return d[R.getMonth()]}function I(R){return a[+(R.getHours()>=12)]}function K(R){return 1+~~(R.getMonth()/3)}function he(R){return l[R.getUTCDay()]}function ge(R){return s[R.getUTCDay()]}function xe(R){return f[R.getUTCMonth()]}function je(R){return d[R.getUTCMonth()]}function Ne(R){return a[+(R.getUTCHours()>=12)]}function te(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var de=P(R+="",A);return de.toString=function(){return R},de},parse:function(R){var de=D(R+="",!1);return de.toString=function(){return R},de},utcFormat:function(R){var de=P(R+="",C);return de.toString=function(){return R},de},utcParse:function(R){var de=D(R+="",!0);return de.toString=function(){return R},de}}}var G2={"-":"",_:" ",0:"0"},Sr=/^\s*\d+/,pY=/^%/,gY=/[\\^$*+?|[\]().{}]/g;function it(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function yY(e){return e.replace(gY,"\\$&")}function Zu(e){return new RegExp("^(?:"+e.map(yY).join("|")+")","i")}function Ju(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function vY(e,t,r){var n=Sr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function bY(e,t,r){var n=Sr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function xY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function wY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function jY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Y2(e,t,r){var n=Sr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function W2(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function SY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function _Y(e,t,r){var n=Sr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function NY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function X2(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function OY(e,t,r){var n=Sr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Z2(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function EY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function AY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function CY(e,t,r){var n=Sr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function kY(e,t,r){var n=Sr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function PY(e,t,r){var n=pY.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function TY(e,t,r){var n=Sr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function DY(e,t,r){var n=Sr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function J2(e,t){return it(e.getDate(),t,2)}function MY(e,t){return it(e.getHours(),t,2)}function RY(e,t){return it(e.getHours()%12||12,t,2)}function IY(e,t){return it(1+uf.count(gi(e),e),t,3)}function BR(e,t){return it(e.getMilliseconds(),t,3)}function LY(e,t){return BR(e,t)+"000"}function BY(e,t){return it(e.getMonth()+1,t,2)}function $Y(e,t){return it(e.getMinutes(),t,2)}function UY(e,t){return it(e.getSeconds(),t,2)}function zY(e){var t=e.getDay();return t===0?7:t}function qY(e,t){return it(cg.count(gi(e)-1,e),t,2)}function $R(e){var t=e.getDay();return t>=4||t===0?jc(e):jc.ceil(e)}function KY(e,t){return e=$R(e),it(jc.count(gi(e),e)+(gi(e).getDay()===4),t,2)}function FY(e){return e.getDay()}function QY(e,t){return it(np.count(gi(e)-1,e),t,2)}function HY(e,t){return it(e.getFullYear()%100,t,2)}function VY(e,t){return e=$R(e),it(e.getFullYear()%100,t,2)}function GY(e,t){return it(e.getFullYear()%1e4,t,4)}function YY(e,t){var r=e.getDay();return e=r>=4||r===0?jc(e):jc.ceil(e),it(e.getFullYear()%1e4,t,4)}function WY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+it(t/60|0,"0",2)+it(t%60,"0",2)}function ek(e,t){return it(e.getUTCDate(),t,2)}function XY(e,t){return it(e.getUTCHours(),t,2)}function ZY(e,t){return it(e.getUTCHours()%12||12,t,2)}function JY(e,t){return it(1+lg.count(yi(e),e),t,3)}function UR(e,t){return it(e.getUTCMilliseconds(),t,3)}function eW(e,t){return UR(e,t)+"000"}function tW(e,t){return it(e.getUTCMonth()+1,t,2)}function rW(e,t){return it(e.getUTCMinutes(),t,2)}function nW(e,t){return it(e.getUTCSeconds(),t,2)}function aW(e){var t=e.getUTCDay();return t===0?7:t}function iW(e,t){return it(ug.count(yi(e)-1,e),t,2)}function zR(e){var t=e.getUTCDay();return t>=4||t===0?Sc(e):Sc.ceil(e)}function sW(e,t){return e=zR(e),it(Sc.count(yi(e),e)+(yi(e).getUTCDay()===4),t,2)}function oW(e){return e.getUTCDay()}function lW(e,t){return it(ap.count(yi(e)-1,e),t,2)}function cW(e,t){return it(e.getUTCFullYear()%100,t,2)}function uW(e,t){return e=zR(e),it(e.getUTCFullYear()%100,t,2)}function dW(e,t){return it(e.getUTCFullYear()%1e4,t,4)}function fW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Sc(e):Sc.ceil(e),it(e.getUTCFullYear()%1e4,t,4)}function hW(){return"+0000"}function tk(){return"%"}function rk(e){return+e}function nk(e){return Math.floor(+e/1e3)}var Ul,qR,KR;mW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mW(e){return Ul=mY(e),qR=Ul.format,Ul.parse,KR=Ul.utcFormat,Ul.utcParse,Ul}function pW(e){return new Date(e)}function gW(e){return e instanceof Date?+e:+new Date(+e)}function Rj(e,t,r,n,a,s,l,d,f,h){var p=wj(),g=p.invert,y=p.domain,v=h(".%L"),x=h(":%S"),S=h("%I:%M"),_=h("%I %p"),N=h("%a %d"),O=h("%b %d"),A=h("%B"),C=h("%Y");function T(P){return(f(P)<P?v:d(P)<P?x:l(P)<P?S:s(P)<P?_:n(P)<P?a(P)<P?N:O:r(P)<P?A:C)(P)}return p.invert=function(P){return new Date(g(P))},p.domain=function(P){return arguments.length?y(Array.from(P,gW)):y().map(pW)},p.ticks=function(P){var D=y();return e(D[0],D[D.length-1],P??10)},p.tickFormat=function(P,D){return D==null?T:h(D)},p.nice=function(P){var D=y();return(!P||typeof P.range!="function")&&(P=t(D[0],D[D.length-1],P??10)),P?y(CR(D,P)):p},p.copy=function(){return cf(p,Rj(e,t,r,n,a,s,l,d,f,h))},p}function yW(){return Wn.apply(Rj(fY,hY,gi,Dj,cg,uf,Pj,Cj,mo,qR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vW(){return Wn.apply(Rj(uY,dY,yi,Mj,ug,lg,Tj,kj,mo,KR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dg(){var e=0,t=1,r,n,a,s,l=Hr,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(a===0?.5:(g=(s(g)-r)*a,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(y){var v,x;return arguments.length?([v,x]=y,l=g(v,x),h):[l(0),l(1)]}}return h.range=p(Lc),h.rangeRound=p(xj),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),h}}function Ds(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function FR(){var e=Ts(dg()(Hr));return e.copy=function(){return Ds(e,FR())},Ei.apply(e,arguments)}function QR(){var e=_j(dg()).domain([1,10]);return e.copy=function(){return Ds(e,QR()).base(e.base())},Ei.apply(e,arguments)}function HR(){var e=Nj(dg());return e.copy=function(){return Ds(e,HR()).constant(e.constant())},Ei.apply(e,arguments)}function Ij(){var e=Oj(dg());return e.copy=function(){return Ds(e,Ij()).exponent(e.exponent())},Ei.apply(e,arguments)}function bW(){return Ij.apply(null,arguments).exponent(.5)}function VR(){var e=[],t=Hr;function r(n){if(n!=null&&!isNaN(n=+n))return t((of(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ws),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>aG(e,s/n))},r.copy=function(){return VR(t).domain(e)},Ei.apply(r,arguments)}function fg(){var e=0,t=.5,r=1,n=1,a,s,l,d,f,h=Hr,p,g=!1,y;function v(S){return isNaN(S=+S)?y:(S=.5+((S=+p(S))-s)*(n*S<n*s?d:f),h(g?Math.max(0,Math.min(1,S)):S))}v.domain=function(S){return arguments.length?([e,t,r]=S,a=p(e=+e),s=p(t=+t),l=p(r=+r),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),n=s<a?-1:1,v):[e,t,r]},v.clamp=function(S){return arguments.length?(g=!!S,v):g},v.interpolator=function(S){return arguments.length?(h=S,v):h};function x(S){return function(_){var N,O,A;return arguments.length?([N,O,A]=_,h=PG(S,[N,O,A]),v):[h(0),h(.5),h(1)]}}return v.range=x(Lc),v.rangeRound=x(xj),v.unknown=function(S){return arguments.length?(y=S,v):y},function(S){return p=S,a=S(e),s=S(t),l=S(r),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),n=s<a?-1:1,v}}function GR(){var e=Ts(fg()(Hr));return e.copy=function(){return Ds(e,GR())},Ei.apply(e,arguments)}function YR(){var e=_j(fg()).domain([.1,1,10]);return e.copy=function(){return Ds(e,YR()).base(e.base())},Ei.apply(e,arguments)}function WR(){var e=Nj(fg());return e.copy=function(){return Ds(e,WR()).constant(e.constant())},Ei.apply(e,arguments)}function Lj(){var e=Oj(fg());return e.copy=function(){return Ds(e,Lj()).exponent(e.exponent())},Ei.apply(e,arguments)}function xW(){return Lj.apply(null,arguments).exponent(.5)}const ad=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yj,scaleDiverging:GR,scaleDivergingLog:YR,scaleDivergingPow:Lj,scaleDivergingSqrt:xW,scaleDivergingSymlog:WR,scaleIdentity:AR,scaleImplicit:Wx,scaleLinear:ER,scaleLog:kR,scaleOrdinal:gj,scalePoint:oG,scalePow:Ej,scaleQuantile:DR,scaleQuantize:MR,scaleRadial:TR,scaleSequential:FR,scaleSequentialLog:QR,scaleSequentialPow:Ij,scaleSequentialQuantile:VR,scaleSequentialSqrt:bW,scaleSequentialSymlog:HR,scaleSqrt:eY,scaleSymlog:PR,scaleThreshold:RR,scaleTime:yW,scaleUtc:vW,tickFormat:OR},Symbol.toStringTag,{value:"Module"}));var Ai=e=>e.chartData,hg=W([Ai],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Bj=(e,t,r,n)=>n?hg(e):Ai(e),wW=(e,t,r)=>r?hg(e):Ai(e);function vi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Je(t)&&Je(r))return!0}return!1}function ak(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function XR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(Je(r))a=r;else if(typeof r=="function")return;if(Je(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(vi(l))return l}}function jW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(vi(n))return ak(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,d;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Se(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&mC.test(a)){var f=mC.exec(a);if(f==null||f[1]==null||t==null)l=void 0;else{var h=+f[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(d=Math.max(...t));else if(Se(s))d=s;else if(typeof s=="function")try{t!=null&&(d=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&pC.test(s)){var p=pC.exec(s);if(p==null||p[1]==null||t==null)d=void 0;else{var g=+p[1];d=t[1]+g}}else d=t==null?void 0:t[1];var y=[l,d];if(vi(y))return t==null?y:ak(y,t,r)}}}var Bc=1e9,SW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Uj,Mt=!0,Yn="[DecimalError] ",Ao=Yn+"Invalid argument: ",$j=Yn+"Exponent out of range: ",$c=Math.floor,so=Math.pow,_W=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sn,br=1e7,Et=7,ZR=9007199254740991,ip=$c(ZR/Et),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Et;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};_e.dividedBy=_e.div=function(e){return ui(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,r=t.constructor;return wt(ui(t,new r(e),0,1),r.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return nr(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Sn))throw Error(Yn+"NaN");if(r.s<1)throw Error(Yn+(r.s?"NaN":"-Infinity"));return r.eq(Sn)?new n(0):(Mt=!1,t=ui(Td(r,s),Td(e,s),s),Mt=!0,wt(t,a))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tI(t,e):JR(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Yn+"NaN");return r.s?(Mt=!1,t=ui(r,e,0,1).times(e),Mt=!0,r.minus(t)):wt(new n(r),a)};_e.naturalExponential=_e.exp=function(){return eI(this)};_e.naturalLogarithm=_e.ln=function(){return Td(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?JR(t,e):tI(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ao+e);if(t=nr(a)+1,n=a.d.length-1,r=n*Et+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};_e.squareRoot=_e.sqrt=function(){var e,t,r,n,a,s,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Yn+"NaN")}for(e=nr(d),Mt=!1,a=Math.sqrt(+d),a==0||a==1/0?(t=Oa(d.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=$c((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=l=r+3;;)if(s=n,n=s.plus(ui(d,s,l+2)).times(.5),Oa(s.d).slice(0,l)===(t=Oa(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(wt(s,r+1,0),s.times(s).eq(d)){n=s;break}}else if(t!="9999")break;l+=4}return Mt=!0,wt(n,r)};_e.times=_e.mul=function(e){var t,r,n,a,s,l,d,f,h,p=this,g=p.constructor,y=p.d,v=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,r=p.e+e.e,f=y.length,h=v.length,f<h&&(s=y,y=v,v=s,l=f,f=h,h=l),s=[],l=f+h,n=l;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,a=f+n;a>n;)d=s[a]+v[n]*y[a-n-1]+t,s[a--]=d%br|0,t=d/br|0;s[a]=(s[a]+t)%br|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Mt?wt(e,g.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Pa(e,0,Bc),t===void 0?t=n.rounding:Pa(t,0,8),wt(r,e+nr(r)+1,t))};_e.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Bo(n,!0):(Pa(e,0,Bc),t===void 0?t=a.rounding:Pa(t,0,8),n=wt(new a(n),e+1,t),r=Bo(n,!0,e+1)),r};_e.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Bo(a):(Pa(e,0,Bc),t===void 0?t=s.rounding:Pa(t,0,8),n=wt(new s(a),e+nr(a)+1,t),r=Bo(n.abs(),!1,e+nr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return wt(new t(e),nr(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,r,n,a,s,l,d=this,f=d.constructor,h=12,p=+(e=new f(e));if(!e.s)return new f(Sn);if(d=new f(d),!d.s){if(e.s<1)throw Error(Yn+"Infinity");return d}if(d.eq(Sn))return d;if(n=f.precision,e.eq(Sn))return wt(d,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=d.s,l){if((r=p<0?-p:p)<=ZR){for(a=new f(Sn),t=Math.ceil(n/Et+4),Mt=!1;r%2&&(a=a.times(d),sk(a.d,t)),r=$c(r/2),r!==0;)d=d.times(d),sk(d.d,t);return Mt=!0,e.s<0?new f(Sn).div(a):wt(a,n)}}else if(s<0)throw Error(Yn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,Mt=!1,a=e.times(Td(d,n+h)),Mt=!0,a=eI(a),a.s=s,a};_e.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=nr(a),n=Bo(a,r<=s.toExpNeg||r>=s.toExpPos)):(Pa(e,1,Bc),t===void 0?t=s.rounding:Pa(t,0,8),a=wt(new s(a),e,t),r=nr(a),n=Bo(a,e<=r||r<=s.toExpNeg,e)),n};_e.toSignificantDigits=_e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Pa(e,1,Bc),t===void 0?t=n.rounding:Pa(t,0,8)),wt(new n(r),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=nr(e),r=e.constructor;return Bo(e,t<=r.toExpNeg||t>=r.toExpPos)};function JR(e,t){var r,n,a,s,l,d,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Mt?wt(t,g):t;if(f=e.d,h=t.d,l=e.e,a=t.e,f=f.slice(),s=l-a,s){for(s<0?(n=f,s=-s,d=h.length):(n=h,a=l,d=f.length),l=Math.ceil(g/Et),d=l>d?l+1:d+1,s>d&&(s=d,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,n=h,h=f,f=n),r=0;s;)r=(f[--s]=f[s]+h[s]+r)/br|0,f[s]%=br;for(r&&(f.unshift(r),++a),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=a,Mt?wt(t,g):t}function Pa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ao+e)}function Oa(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=Et-n.length,r&&(s+=ss(r)),s+=n;l=e[t],n=l+"",r=Et-n.length,r&&(s+=ss(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var ui=(function(){function e(n,a){var s,l=0,d=n.length;for(n=n.slice();d--;)s=n[d]*a+l,n[d]=s%br|0,l=s/br|0;return l&&n.unshift(l),n}function t(n,a,s,l){var d,f;if(s!=l)f=s>l?1:-1;else for(d=f=0;d<s;d++)if(n[d]!=a[d]){f=n[d]>a[d]?1:-1;break}return f}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*br+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var d,f,h,p,g,y,v,x,S,_,N,O,A,C,T,P,D,M,L=n.constructor,Y=n.s==a.s?1:-1,Q=n.d,q=a.d;if(!n.s)return new L(n);if(!a.s)throw Error(Yn+"Division by zero");for(f=n.e-a.e,D=q.length,T=Q.length,v=new L(Y),x=v.d=[],h=0;q[h]==(Q[h]||0);)++h;if(q[h]>(Q[h]||0)&&--f,s==null?O=s=L.precision:l?O=s+(nr(n)-nr(a))+1:O=s,O<0)return new L(0);if(O=O/Et+2|0,h=0,D==1)for(p=0,q=q[0],O++;(h<T||p)&&O--;h++)A=p*br+(Q[h]||0),x[h]=A/q|0,p=A%q|0;else{for(p=br/(q[0]+1)|0,p>1&&(q=e(q,p),Q=e(Q,p),D=q.length,T=Q.length),C=D,S=Q.slice(0,D),_=S.length;_<D;)S[_++]=0;M=q.slice(),M.unshift(0),P=q[0],q[1]>=br/2&&++P;do p=0,d=t(q,S,D,_),d<0?(N=S[0],D!=_&&(N=N*br+(S[1]||0)),p=N/P|0,p>1?(p>=br&&(p=br-1),g=e(q,p),y=g.length,_=S.length,d=t(g,S,y,_),d==1&&(p--,r(g,D<y?M:q,y))):(p==0&&(d=p=1),g=q.slice()),y=g.length,y<_&&g.unshift(0),r(S,g,_),d==-1&&(_=S.length,d=t(q,S,D,_),d<1&&(p++,r(S,D<_?M:q,_))),_=S.length):d===0&&(p++,S=[0]),x[h++]=p,d&&S[0]?S[_++]=Q[C]||0:(S=[Q[C]],_=1);while((C++<T||S[0]!==void 0)&&O--)}return x[0]||x.shift(),v.e=f,wt(v,l?s+nr(v)+1:s)}})();function eI(e,t){var r,n,a,s,l,d,f=0,h=0,p=e.constructor,g=p.precision;if(nr(e)>16)throw Error($j+nr(e));if(!e.s)return new p(Sn);for(Mt=!1,d=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(n=Math.log(so(2,h))/Math.LN10*2+5|0,d+=n,r=a=s=new p(Sn),p.precision=d;;){if(a=wt(a.times(e),d),r=r.times(++f),l=s.plus(ui(a,r,d)),Oa(l.d).slice(0,d)===Oa(s.d).slice(0,d)){for(;h--;)s=wt(s.times(s),d);return p.precision=g,t==null?(Mt=!0,wt(s,g)):s}s=l}}function nr(e){for(var t=e.e*Et,r=e.d[0];r>=10;r/=10)t++;return t}function Nb(e,t,r){if(t>e.LN10.sd())throw Mt=!0,r&&(e.precision=r),Error(Yn+"LN10 precision limit exceeded");return wt(new e(e.LN10),t)}function ss(e){for(var t="";e--;)t+="0";return t}function Td(e,t){var r,n,a,s,l,d,f,h,p,g=1,y=10,v=e,x=v.d,S=v.constructor,_=S.precision;if(v.s<1)throw Error(Yn+(v.s?"NaN":"-Infinity"));if(v.eq(Sn))return new S(0);if(t==null?(Mt=!1,h=_):h=t,v.eq(10))return t==null&&(Mt=!0),Nb(S,h);if(h+=y,S.precision=h,r=Oa(x),n=r.charAt(0),s=nr(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=Oa(v.d),n=r.charAt(0),g++;s=nr(v),n>1?(v=new S("0."+r),s++):v=new S(n+"."+r.slice(1))}else return f=Nb(S,h+2,_).times(s+""),v=Td(new S(n+"."+r.slice(1)),h-y).plus(f),S.precision=_,t==null?(Mt=!0,wt(v,_)):v;for(d=l=v=ui(v.minus(Sn),v.plus(Sn),h),p=wt(v.times(v),h),a=3;;){if(l=wt(l.times(p),h),f=d.plus(ui(l,new S(a),h)),Oa(f.d).slice(0,h)===Oa(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(Nb(S,h+2,_).times(s+""))),d=ui(d,new S(g),h),S.precision=_,t==null?(Mt=!0,wt(d,_)):d;d=f,a+=2}}function ik(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=$c(r/Et),e.d=[],n=(r+1)%Et,r<0&&(n+=Et),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Et;n<a;)e.d.push(+t.slice(n,n+=Et));t=t.slice(n),n=Et-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Mt&&(e.e>ip||e.e<-ip))throw Error($j+r)}else e.s=0,e.e=0,e.d=[0];return e}function wt(e,t,r){var n,a,s,l,d,f,h,p,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=Et,a=t,h=g[p=0];else{if(p=Math.ceil((n+1)/Et),s=g.length,p>=s)return e;for(h=s=g[p],l=1;s>=10;s/=10)l++;n%=Et,a=n-Et+l}if(r!==void 0&&(s=so(10,l-a-1),d=h/s%10|0,f=t<0||g[p+1]!==void 0||h%s,f=r<4?(d||f)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(n>0?a>0?h/so(10,l-a):0:g[p-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(s=nr(e),g.length=1,t=t-s-1,g[0]=so(10,(Et-t%Et)%Et),e.e=$c(-t/Et)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=p,s=1,p--):(g.length=p+1,s=so(10,Et-n),g[p]=a>0?(h/so(10,l-a)%so(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==br&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=br)break;g[p--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(Mt&&(e.e>ip||e.e<-ip))throw Error($j+nr(e));return e}function tI(e,t){var r,n,a,s,l,d,f,h,p,g,y=e.constructor,v=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Mt?wt(t,v):t;if(f=e.d,g=t.d,n=t.e,h=e.e,f=f.slice(),l=h-n,l){for(p=l<0,p?(r=f,l=-l,d=g.length):(r=g,n=h,d=f.length),a=Math.max(Math.ceil(v/Et),d)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}l=0}for(p&&(r=f,f=g,g=r,t.s=-t.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>l;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=br-1;--f[s],f[a]+=br}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Mt?wt(t,v):t):new y(0)}function Bo(e,t,r){var n,a=nr(e),s=Oa(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+ss(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+ss(-a-1)+s,r&&(n=r-l)>0&&(s+=ss(n))):a>=l?(s+=ss(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+ss(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=ss(n))),e.s<0?"-"+s:s}function sk(e,t){if(e.length>t)return e.length=t,!0}function rI(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ao+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return ik(l,s.toString())}else if(typeof s!="string")throw Error(Ao+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,_W.test(s))ik(l,s);else throw Error(Ao+s)}if(a.prototype=_e,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=rI,a.config=a.set=NW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function NW(e){if(!e||typeof e!="object")throw Error(Yn+"Object expected");var t,r,n,a=["precision",1,Bc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if($c(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ao+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ao+r+": "+n);return this}var Uj=rI(SW);Sn=new Uj(1);const ht=Uj;function nI(e){var t;return e===0?t=1:t=Math.floor(new ht(e).abs().log(10).toNumber())+1,t}function aI(e,t,r){for(var n=new ht(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var iI=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},sI=(e,t,r)=>{if(e.lte(0))return new ht(0);var n=nI(e.toNumber()),a=new ht(10).pow(n),s=e.div(a),l=n!==1?.05:.1,d=new ht(Math.ceil(s.div(l).toNumber())).add(r).mul(l),f=d.mul(a);return t?new ht(f.toNumber()):new ht(Math.ceil(f.toNumber()))},OW=(e,t,r)=>{var n=new ht(1),a=new ht(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new ht(10).pow(nI(e)-1),a=new ht(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new ht(Math.floor(e)))}else e===0?a=new ht(Math.floor((t-1)/2)):r||(a=new ht(Math.floor(e)));for(var l=Math.floor((t-1)/2),d=[],f=0;f<t;f++)d.push(a.add(new ht(f-l).mul(n)).toNumber());return d},oI=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ht(0),tickMin:new ht(0),tickMax:new ht(0)};var l=sI(new ht(r).sub(t).div(n-1),a,s),d;t<=0&&r>=0?d=new ht(0):(d=new ht(t).add(r).div(2),d=d.sub(new ht(d).mod(l)));var f=Math.ceil(d.sub(t).div(l).toNumber()),h=Math.ceil(new ht(r).sub(d).div(l).toNumber()),p=f+h+1;return p>n?oI(t,r,n,a,s+1):(p<n&&(h=r>0?h+(n-p):h,f=r>0?f:f+(n-p)),{step:l,tickMin:d.sub(new ht(f).mul(l)),tickMax:d.add(new ht(h).mul(l))})},EW=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[d,f]=iI([r,n]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return r>n?h.reverse():h}if(d===f)return OW(d,a,s);var{step:p,tickMin:g,tickMax:y}=oI(d,f,l,s,0),v=aI(g,y.add(new ht(.1).mul(p)),p);return r>n?v.reverse():v},AW=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,d]=iI([n,a]);if(l===-1/0||d===1/0)return[n,a];if(l===d)return[l];var f=Math.max(r,2),h=sI(new ht(d).sub(l).div(f-1),s,0),p=[...aI(new ht(l),new ht(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),n>a?p.reverse():p},lI=e=>e.rootProps.maxBarSize,CW=e=>e.rootProps.barGap,cI=e=>e.rootProps.barCategoryGap,kW=e=>e.rootProps.barSize,df=e=>e.rootProps.stackOffset,uI=e=>e.rootProps.reverseStackOrder,zj=e=>e.options.chartName,qj=e=>e.rootProps.syncId,dI=e=>e.rootProps.syncMethod,Kj=e=>e.options.eventEmitter,rr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ro={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},va={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},mg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function pg(e,t,r){if(r!=="auto")return r;if(e!=null)return _i(e,t)?"category":"number"}function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(n){PW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PW(e,t,r){return(t=TW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TW(e){var t=DW(e,"string");return typeof t=="symbol"?t:t+""}function DW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lk={allowDataOverflow:ro.allowDataOverflow,allowDecimals:ro.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ro.angleAxisId,includeHidden:!1,name:void 0,reversed:ro.reversed,scale:ro.scale,tick:ro.tick,tickCount:void 0,ticks:void 0,type:ro.type,unit:void 0},ck={allowDataOverflow:va.allowDataOverflow,allowDecimals:va.allowDecimals,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.radiusAxisId,includeHidden:va.includeHidden,name:void 0,reversed:va.reversed,scale:va.scale,tick:va.tick,tickCount:va.tickCount,ticks:void 0,type:va.type,unit:void 0},MW=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Fj=W([MW,WM],(e,t)=>{var r;if(e!=null)return e;var n=(r=pg(t,"angleAxis",lk.type))!==null&&r!==void 0?r:"category";return sp(sp({},lk),{},{type:n})}),RW=(e,t)=>e.polarAxis.radiusAxis[t],Qj=W([RW,WM],(e,t)=>{var r;if(e!=null)return e;var n=(r=pg(t,"radiusAxis",ck.type))!==null&&r!==void 0?r:"category";return sp(sp({},ck),{},{type:n})}),gg=e=>e.polarOptions,Hj=W([Ni,Oi,dr],hR),fI=W([gg,Hj],(e,t)=>{if(e!=null)return Ur(e.innerRadius,t,0)}),hI=W([gg,Hj],(e,t)=>{if(e!=null)return Ur(e.outerRadius,t,t*.8)}),IW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},mI=W([gg],IW);W([Fj,mI],mg);var pI=W([Hj,fI,hI],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});W([Qj,pI],mg);var gI=W([st,gg,fI,hI,Ni,Oi],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=t;return{cx:Ur(l,a,a/2),cy:Ur(d,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:h,clockWise:!1}}}),Bt=(e,t)=>t,ff=(e,t,r)=>r;function Vj(e){return e==null?void 0:e.id}function yI(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:n;if(!(h==null||h.length===0)){var p=Vj(d);h.forEach((g,y)=>{var v=s==null||a?y:String(bt(g,s,null)),x=bt(g,d.dataKey,0),S;l.has(v)?S=l.get(v):S={},Object.assign(S,{[p]:x}),l.set(v,S)})}}),Array.from(l.values())}function yg(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var vg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function bg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function LW(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var _r=e=>{var t=st(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Uc=e=>e.tooltip.settings.axisId;function BW(e){if(e in ad)return ad[e]();var t="scale".concat(Xd(e));if(t in ad)return ad[t]()}function uk(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(s){var l=a[0],d=a[1];return l<=d?s>=l&&s<=d:s>=d&&s<=l},bandwidth:r?()=>r.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,l)=>{var d=e(s);if(d!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var f=e.bandwidth();switch(l.position){case"middle":d+=f/2;break;case"end":d+=f;break}}return d}}}}function dk(e,t,r){if(typeof e=="function")return uk(e.copy().domain(t).range(r));if(e!=null){var n=BW(e);if(n!=null)return n.domain(t).range(r),uk(n)}}var vI=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!vi(t)){for(var r,n,a=0;a<t.length;a++){var s=t[a];Je(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){$W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $W(e,t,r){return(t=UW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UW(e){var t=zW(e,"string");return typeof t=="symbol"?t:t+""}function zW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ew=[0,"auto"],gr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},bI=(e,t)=>e.cartesianAxis.xAxis[t],Ci=(e,t)=>{var r=bI(e,t);return r??gr},yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ew,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:tf},xI=(e,t)=>e.cartesianAxis.yAxis[t],ki=(e,t)=>{var r=xI(e,t);return r??yr},qW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Gj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??qW},Ht=(e,t,r)=>{switch(t){case"xAxis":return Ci(e,r);case"yAxis":return ki(e,r);case"zAxis":return Gj(e,r);case"angleAxis":return Fj(e,r);case"radiusAxis":return Qj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},KW=(e,t,r)=>{switch(t){case"xAxis":return Ci(e,r);case"yAxis":return ki(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zc=(e,t,r)=>{switch(t){case"xAxis":return Ci(e,r);case"yAxis":return ki(e,r);case"angleAxis":return Fj(e,r);case"radiusAxis":return Qj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},wI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Yj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var xg=e=>e.graphicalItems.cartesianItems,FW=W([Bt,ff],Yj),Wj=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),hf=W([xg,Ht,FW],Wj,{memoizeOptions:{resultEqualityCheck:bg}}),jI=W([hf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(yg)),SI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),QW=W([hf],SI),Xj=e=>e.map(t=>t.data).filter(Boolean).flat(1),HW=W([hf],Xj,{memoizeOptions:{resultEqualityCheck:bg}}),Zj=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Jj=W([HW,Bj],Zj),e1=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:bt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:bt(a,n)}))):e.map(n=>({value:n})),wg=W([Jj,Ht,hf],e1);function _I(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function pm(e){if(Ca(e)||e instanceof Date){var t=Number(e);if(Je(t))return t}}function hk(e){if(Array.isArray(e)){var t=[pm(e[0]),pm(e[1])];return vi(t)?t:void 0}var r=pm(e);if(r!=null)return[r,r]}function bi(e){return e.map(pm).filter(on)}function VW(e,t,r){return!r||typeof t!="number"||Aa(t)?[]:r.length?bi(r.flatMap(n=>{var a=bt(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!Je(s)||!Je(l)))return[t-s,t+l]})):[]}var hr=e=>{var t=_r(e),r=Uc(e);return zc(e,t,r)},mf=W([hr],e=>e==null?void 0:e.dataKey),GW=W([jI,Bj,hr],yI),NI=(e,t,r,n)=>{var a={},s=t.reduce((l,d)=>{if(d.stackId==null)return l;var f=l[d.stackId];return f==null&&(f=[]),f.push(d),l[d.stackId]=f,l},a);return Object.fromEntries(Object.entries(s).map(l=>{var[d,f]=l,h=n?[...f].reverse():f,p=h.map(Vj);return[d,{stackedData:m7(e,p,r),graphicalItems:h}]}))},tw=W([GW,jI,df,uI],NI),OI=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=b7(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},YW=W([Ht],e=>e.allowDataOverflow),t1=e=>{var t;if(e==null||!("domain"in e))return ew;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=bi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ew},r1=W([Ht],t1),n1=W([r1,YW],XR),WW=W([tw,Ai,Bt,n1],OI,{memoizeOptions:{resultEqualityCheck:vg}}),jg=e=>e.errorBars,XW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>_I(r,n)),lp=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},a1=(e,t,r,n,a)=>{var s,l;if(r.length>0&&e.forEach(d=>{r.forEach(f=>{var h,p,g=(h=n[f.id])===null||h===void 0?void 0:h.filter(N=>_I(a,N)),y=bt(d,(p=t.dataKey)!==null&&p!==void 0?p:f.dataKey),v=VW(d,y,g);if(v.length>=2){var x=Math.min(...v),S=Math.max(...v);(s==null||x<s)&&(s=x),(l==null||S>l)&&(l=S)}var _=hk(y);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),l=l==null?_[1]:Math.max(l,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(d=>{var f=hk(bt(d,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Je(s)&&Je(l))return[s,l]},ZW=W([Jj,Ht,QW,jg,Bt],a1,{memoizeOptions:{resultEqualityCheck:vg}});function JW(e){var{value:t}=e;if(Ca(t)||t instanceof Date)return t}var eX=(e,t,r)=>{var n=e.map(JW).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&HD(n))?yR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},EI=e=>e.referenceElements.dots,qc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),tX=W([EI,Bt,ff],qc),AI=e=>e.referenceElements.areas,rX=W([AI,Bt,ff],qc),CI=e=>e.referenceElements.lines,nX=W([CI,Bt,ff],qc),kI=(e,t)=>{if(e!=null){var r=bi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},aX=W(tX,Bt,kI),PI=(e,t)=>{if(e!=null){var r=bi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},iX=W([rX,Bt],PI);function sX(e){var t;if(e.x!=null)return bi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:bi(r)}function oX(e){var t;if(e.y!=null)return bi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:bi(r)}var TI=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?sX(n):oX(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},lX=W([nX,Bt],TI),cX=W(aX,lX,iX,(e,t,r)=>lp(e,r,t)),i1=(e,t,r,n,a,s,l,d)=>{if(r!=null)return r;var f=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",h=f?lp(n,s,a):lp(s,a);return jW(t,h,e.allowDataOverflow)},uX=W([Ht,r1,n1,WW,ZW,cX,st,Bt],i1,{memoizeOptions:{resultEqualityCheck:vg}}),dX=[0,1],s1=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:d,type:f}=e,h=_i(t,s);if(h&&d==null){var p;return yR(0,(p=r==null?void 0:r.length)!==null&&p!==void 0?p:0)}return f==="category"?eX(n,e,h):a==="expand"?dX:l}},o1=W([Ht,st,Jj,wg,df,Bt,uX],s1);function fX(e){return e in ad}var DI=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(Xd(n));return fX(s)?s:"point"}}},Ms=W([Ht,wI,zj],DI);function l1(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?dk(e.scale,r,n):dk(t,r,n)}var c1=(e,t,r)=>{var n=t1(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&vi(e))return EW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&vi(e))return AW(e,t.tickCount,t.allowDecimals)}},u1=W([o1,zc,Ms],c1),d1=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&vi(t)&&Array.isArray(r)&&r.length>0){var a,s,l=t[0],d=(a=r[0])!==null&&a!==void 0?a:0,f=t[1],h=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,d),Math.max(f,h)]}return t},hX=W([Ht,o1,u1,Bt],d1),mX=W(wg,Ht,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(bi(e.map(g=>g.value))).sort((g,y)=>g-y),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var l=s-a;if(l===0)return 1/0;for(var d=0;d<n.length-1;d++){var f=n[d],h=n[d+1];if(!(f==null||h==null)){var p=h-f;r=Math.min(r,p)}}return r/l}}),MI=W(mX,st,cI,dr,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Je(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=Ur(r,e*s),d=e*s/2;return d-l-(d-l)/s*l}return 0}),pX=(e,t,r)=>{var n=Ci(e,t);return n==null||typeof n.padding!="string"?0:MI(e,"xAxis",t,r,n.padding)},gX=(e,t,r)=>{var n=ki(e,t);return n==null||typeof n.padding!="string"?0:MI(e,"yAxis",t,r,n.padding)},yX=W(Ci,pX,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),vX=W(ki,gX,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),bX=W([dr,yX,tg,eg,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),xX=W([dr,st,vX,tg,eg,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),pf=(e,t,r,n)=>{var a;switch(t){case"xAxis":return bX(e,r,n);case"yAxis":return xX(e,r,n);case"zAxis":return(a=Gj(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return mI(e);case"radiusAxis":return pI(e,r);default:return}},RI=W([Ht,pf],mg),wX=W([Ms,hX],vI),Sg=W([Ht,Ms,wX,RI],l1);W([hf,jg,Bt],XW);function II(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var _g=(e,t)=>t,Ng=(e,t,r)=>r,jX=W(Zp,_g,Ng,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(II)),SX=W(Jp,_g,Ng,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(II)),LI=(e,t)=>({width:e.width,height:t.height}),_X=(e,t)=>{var r=typeof t.width=="number"?t.width:tf;return{width:r,height:e.height}},BI=W(dr,Ci,LI),NX=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},OX=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},EX=W(Oi,dr,jX,_g,Ng,(e,t,r,n,a)=>{var s={},l;return r.forEach(d=>{var f=LI(t,d);l==null&&(l=NX(t,n,e));var h=n==="top"&&!a||n==="bottom"&&a;s[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),AX=W(Ni,dr,SX,_g,Ng,(e,t,r,n,a)=>{var s={},l;return r.forEach(d=>{var f=_X(t,d);l==null&&(l=OX(t,n,e));var h=n==="left"&&!a||n==="right"&&a;s[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),CX=(e,t)=>{var r=Ci(e,t);if(r!=null)return EX(e,r.orientation,r.mirror)},kX=W([dr,Ci,CX,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),PX=(e,t)=>{var r=ki(e,t);if(r!=null)return AX(e,r.orientation,r.mirror)},TX=W([dr,ki,PX,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),$I=W(dr,ki,(e,t)=>{var r=typeof t.width=="number"?t.width:tf;return{width:r,height:e.height}}),mk=(e,t,r)=>{switch(t){case"xAxis":return BI(e,r).width;case"yAxis":return $I(e,r).height;default:return}},UI=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,d=_i(e,n),f=t.map(h=>h.value);if(l&&d&&s==="category"&&a&&HD(f))return f}},f1=W([st,wg,Ht,Bt],UI),zI=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=_i(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(d=>d.value)}},h1=W([st,wg,zc,Bt],zI),pk=W([st,KW,Ms,Sg,f1,h1,pf,u1,Bt],(e,t,r,n,a,s,l,d,f)=>{if(t!=null){var h=_i(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:d,range:l,realScaleType:r,scale:n}}}),DX=(e,t,r,n,a,s,l,d,f)=>{if(!(t==null||n==null)){var h=_i(e,f),{type:p,ticks:g,tickCount:y}=t,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=p==="category"&&n.bandwidth?n.bandwidth()/v:0;x=f==="angleAxis"&&s!=null&&s.length>=2?wr(s[0]-s[1])*2*x:x;var S=g||a;return S?S.map((_,N)=>{var O=l?l.indexOf(_):_,A=n.map(O);return Je(A)?{index:N,coordinate:A+x,value:_,offset:x}:null}).filter(on):h&&d?d.map((_,N)=>{var O=n.map(_);return Je(O)?{coordinate:O+x,value:_,index:N,offset:x}:null}).filter(on):n.ticks?n.ticks(y).map((_,N)=>{var O=n.map(_);return Je(O)?{coordinate:O+x,value:_,index:N,offset:x}:null}).filter(on):n.domain().map((_,N)=>{var O=n.map(_);return Je(O)?{coordinate:O+x,value:l?l[_]:_,index:N,offset:x}:null}).filter(on)}},qI=W([st,zc,Ms,Sg,u1,pf,f1,h1,Bt],DX),MX=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var d=_i(e,l),{tickCount:f}=t,h=0;return h=l==="angleAxis"&&(n==null?void 0:n.length)>=2?wr(n[0]-n[1])*2*h:h,d&&s?s.map((p,g)=>{var y=r.map(p);return Je(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(on):r.ticks?r.ticks(f).map((p,g)=>{var y=r.map(p);return Je(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(on):r.domain().map((p,g)=>{var y=r.map(p);return Je(y)?{coordinate:y+h,value:a?a[p]:p,index:g,offset:h}:null}).filter(on)}},_s=W([st,zc,Sg,pf,f1,h1,Bt],MX),Ns=W(Ht,Sg,(e,t)=>{if(!(e==null||t==null))return op(op({},e),{},{scale:t})}),RX=W([Ht,Ms,o1,RI],l1);W((e,t,r)=>Gj(e,r),RX,(e,t)=>{if(!(e==null||t==null))return op(op({},e),{},{scale:t})});var IX=W([st,Zp,Jp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),KI=e=>e.options.defaultTooltipEventType,FI=e=>e.options.validateTooltipEventTypes;function QI(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function m1(e,t){var r=KI(e),n=FI(e);return QI(t,r,n)}function LX(e){return Ee(t=>m1(t,e))}var HI=(e,t)=>{var r,n=Number(t);if(!(Aa(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},BX=e=>e.tooltip.settings,cs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$X={itemInteraction:{click:cs,hover:cs},axisInteraction:{click:cs,hover:cs},keyboardInteraction:cs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},VI=un({name:"tooltip",initialState:$X,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Tt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ca(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Tt()},removeTooltipEntrySettings:{reducer(e,t){var r=ca(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Tt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:UX,replaceTooltipEntrySettings:zX,removeTooltipEntrySettings:qX,setTooltipSettingsState:KX,setActiveMouseOverItemIndex:GI,mouseLeaveItem:FX,mouseLeaveChart:YI,setActiveClickItemIndex:QX,setMouseOverAxisIndex:WI,setMouseClickAxisIndex:HX,setSyncInteraction:rw,setKeyboardInteraction:nw}=VI.actions,VX=VI.reducer;function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(n){GX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GX(e,t,r){return(t=YX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XX(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ZX(e){return e.index!=null}var XI=(e,t,r,n)=>{if(t==null)return cs;var a=XX(e,t,r);if(a==null)return cs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(ZX(a)){if(s)return im(im({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return im(im({},cs),{},{coordinate:a.coordinate})};function JX(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function eZ(e,t){var r=JX(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),l=Math.max(n,a);return r>=s&&r<=l}function tZ(e,t,r){if(r==null||t==null)return!0;var n=bt(e,t);return n==null||!vi(r)?!0:eZ(n,r)}var p1=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!Je(s))return a;var l=0,d=1/0;t.length>0&&(d=t.length-1);var f=Math.max(l,Math.min(s,d)),h=t[f];return h==null||tZ(h,r,n)?String(f):null},ZI=(e,t,r,n,a,s,l)=>{if(s!=null){var d=l[0],f=d==null?void 0:d.getPosition(s);if(f!=null)return f;var h=a==null?void 0:a[Number(s)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},JI=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(l=>{var d;return((d=l.settings)===null||d===void 0?void 0:d.graphicalItemId)===a})},e4=e=>e.options.tooltipPayloadSearcher,Kc=e=>e.tooltip;function yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(r),!0).forEach(function(n){rZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rZ(e,t,r){return(t=nZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nZ(e){var t=aZ(e,"string");return typeof t=="symbol"?t:t+""}function aZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iZ(e,t){return e??t}var t4=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=r,g=[];return e.reduce((y,v)=>{var x,{dataDefinedOnItem:S,settings:_}=v,N=iZ(S,d),O=Array.isArray(N)?$M(N,h,p):N,A=(x=_==null?void 0:_.dataKey)!==null&&x!==void 0?x:n,C=_==null?void 0:_.nameKey,T;if(n&&Array.isArray(O)&&!Array.isArray(O[0])&&l==="axis"?T=VD(O,n,a):T=s(O,t,f,C),Array.isArray(T))T.forEach(D=>{var M=vk(vk({},_),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});y.push(gC({tooltipEntrySettings:M,dataKey:D.dataKey,payload:D.payload,value:bt(D.payload,D.dataKey),name:D.name}))});else{var P;y.push(gC({tooltipEntrySettings:_,dataKey:A,payload:T,value:bt(T,A),name:(P=bt(T,C))!==null&&P!==void 0?P:_==null?void 0:_.name}))}return y},g)}},g1=W([hr,wI,zj],DI),sZ=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),oZ=W([_r,Uc],Yj),Fc=W([sZ,hr,oZ],Wj,{memoizeOptions:{resultEqualityCheck:bg}}),lZ=W([Fc],e=>e.filter(yg)),cZ=W([Fc],Xj,{memoizeOptions:{resultEqualityCheck:bg}}),Qc=W([cZ,Ai],Zj),uZ=W([lZ,Ai,hr],yI),y1=W([Qc,hr,Fc],e1),r4=W([hr],t1),dZ=W([hr],e=>e.allowDataOverflow),n4=W([r4,dZ],XR),fZ=W([Fc],e=>e.filter(yg)),hZ=W([uZ,fZ,df,uI],NI),mZ=W([hZ,Ai,_r,n4],OI),pZ=W([Fc],SI),gZ=W([Qc,hr,pZ,jg,_r],a1,{memoizeOptions:{resultEqualityCheck:vg}}),yZ=W([EI,_r,Uc],qc),vZ=W([yZ,_r],kI),bZ=W([AI,_r,Uc],qc),xZ=W([bZ,_r],PI),wZ=W([CI,_r,Uc],qc),jZ=W([wZ,_r],TI),SZ=W([vZ,jZ,xZ],lp),_Z=W([hr,r4,n4,mZ,gZ,SZ,st,_r],i1),gf=W([hr,st,Qc,y1,df,_r,_Z],s1),NZ=W([gf,hr,g1],c1),OZ=W([hr,gf,NZ,_r],d1),a4=e=>{var t=_r(e),r=Uc(e),n=!1;return pf(e,t,r,n)},i4=W([hr,a4],mg),s4=W([hr,g1,OZ,i4],l1),EZ=W([st,y1,hr,_r],UI),AZ=W([st,y1,hr,_r],zI),CZ=(e,t,r,n,a,s,l,d)=>{if(t){var{type:f}=t,h=_i(e,d);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?wr(a[0]-a[1])*2*g:g,h&&l?l.map((y,v)=>{var x=n.map(y);return Je(x)?{coordinate:x+g,value:y,index:v,offset:g}:null}).filter(on):n.domain().map((y,v)=>{var x=n.map(y);return Je(x)?{coordinate:x+g,value:s?s[y]:y,index:v,offset:g}:null}).filter(on)}}},Pi=W([st,hr,g1,s4,a4,EZ,AZ,_r],CZ),v1=W([KI,FI,BX],(e,t,r)=>QI(r.shared,e,t)),o4=e=>e.tooltip.settings.trigger,b1=e=>e.tooltip.settings.defaultIndex,yf=W([Kc,v1,o4,b1],XI),Os=W([yf,Qc,mf,gf],p1),l4=W([Pi,Os],HI),x1=W([yf],e=>{if(e)return e.dataKey}),kZ=W([yf],e=>{if(e)return e.graphicalItemId}),c4=W([Kc,v1,o4,b1],JI),PZ=W([Ni,Oi,st,dr,Pi,b1,c4],ZI),TZ=W([yf,PZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),DZ=W([yf],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),MZ=W([c4,Os,Ai,mf,l4,e4,v1],t4),RZ=W([MZ],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(n){IZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IZ(e,t,r){return(t=LZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LZ(e){var t=BZ(e,"string");return typeof t=="symbol"?t:t+""}function BZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Z=()=>Ee(hr),UZ=()=>{var e=$Z(),t=Ee(Pi),r=Ee(s4);return vc(!e||!r?void 0:xk(xk({},e),{},{scale:r}),t)};function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(n){zZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zZ(e,t,r){return(t=qZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qZ(e){var t=KZ(e,"string");return typeof t=="symbol"?t:t+""}function KZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FZ=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},QZ=(e,t,r,n)=>{var a=t.find(h=>h&&h.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:l}=n;return zl(zl(zl({},n),tr(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var d=a.coordinate,{angle:f}=n;return zl(zl(zl({},n),tr(n.cx,n.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function HZ(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var u4=(e,t,r,n,a)=>{var s,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<l;d++){var f,h,p,g,y,v=d>0?(f=r[d-1])===null||f===void 0?void 0:f.coordinate:(h=r[l-1])===null||h===void 0?void 0:h.coordinate,x=(p=r[d])===null||p===void 0?void 0:p.coordinate,S=d>=l-1?(g=r[0])===null||g===void 0?void 0:g.coordinate:(y=r[d+1])===null||y===void 0?void 0:y.coordinate,_=void 0;if(!(v==null||x==null||S==null))if(wr(x-v)!==wr(S-x)){var N=[];if(wr(S-x)===wr(a[1]-a[0])){_=S;var O=x+a[1]-a[0];N[0]=Math.min(O,(O+v)/2),N[1]=Math.max(O,(O+v)/2)}else{_=v;var A=S+a[1]-a[0];N[0]=Math.min(x,(A+x)/2),N[1]=Math.max(x,(A+x)/2)}var C=[Math.min(x,(_+x)/2),Math.max(x,(_+x)/2)];if(e>C[0]&&e<=C[1]||e>=N[0]&&e<=N[1]){var T;return(T=r[d])===null||T===void 0?void 0:T.index}}else{var P=Math.min(v,S),D=Math.max(v,S);if(e>(P+x)/2&&e<=(D+x)/2){var M;return(M=r[d])===null||M===void 0?void 0:M.index}}}else if(t)for(var L=0;L<l;L++){var Y=t[L];if(Y!=null){var Q=t[L+1],q=t[L-1];if(L===0&&Q!=null&&e<=(Y.coordinate+Q.coordinate)/2||L===l-1&&q!=null&&e>(Y.coordinate+q.coordinate)/2||L>0&&L<l-1&&q!=null&&Q!=null&&e>(Y.coordinate+q.coordinate)/2&&e<=(Y.coordinate+Q.coordinate)/2)return Y.index}}return-1},VZ=()=>Ee(zj),w1=(e,t)=>t,d4=(e,t,r)=>r,j1=(e,t,r,n)=>n,GZ=W(Pi,e=>qp(e,t=>t.coordinate)),S1=W([Kc,w1,d4,j1],XI),_1=W([S1,Qc,mf,gf],p1),YZ=(e,t,r)=>{if(t!=null){var n=Kc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},f4=W([Kc,w1,d4,j1],JI),cp=W([Ni,Oi,st,dr,Pi,j1,f4],ZI),WZ=W([S1,cp],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),h4=W([Pi,_1],HI),XZ=W([f4,_1,Ai,mf,h4,e4,w1],t4),ZZ=W([S1,_1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),JZ=(e,t,r,n,a,s,l)=>{if(!(!e||!r||!n||!a)&&HZ(e,l)){var d=x7(e,t),f=u4(d,s,a,r,n),h=FZ(t,a,f,e);return{activeIndex:String(f),activeCoordinate:h}}},eJ=(e,t,r,n,a,s,l)=>{if(!(!e||!n||!a||!s||!r)){var d=LV(e,r);if(d){var f=w7(d,t),h=u4(f,l,s,n,a),p=QZ(t,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},tJ=(e,t,r,n,a,s,l,d)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?JZ(e,t,n,a,s,l,d):eJ(e,t,r,n,a,s,l)},rJ=W(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),nJ=W(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(rr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:LW}});function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(n){aJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aJ(e,t,r){return(t=iJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iJ(e){var t=sJ(e,"string");return typeof t=="symbol"?t:t+""}function sJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oJ={},lJ={zIndexMap:Object.values(rr).reduce((e,t)=>Sk(Sk({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),oJ)},cJ=new Set(Object.values(rr));function uJ(e){return cJ.has(e)}var m4=un({name:"zIndex",initialState:lJ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Tt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!uJ(r)&&delete e.zIndexMap[r])},prepare:Tt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Tt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Tt()}}}),{registerZIndexPortal:dJ,unregisterZIndexPortal:fJ,registerZIndexPortalElement:hJ,unregisterZIndexPortalElement:mJ}=m4.actions,pJ=m4.reducer;function dn(e){var{zIndex:t,children:r}=e,n=Z7(),a=n&&t!==void 0&&t!==0,s=zr(),l=_t();j.useLayoutEffect(()=>a?(l(dJ({zIndex:t})),()=>{l(fJ({zIndex:t}))}):zo,[l,t,a]);var d=Ee(f=>rJ(f,t,s));return a?d?Sp.createPortal(r,d):null:r}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(null,arguments)}function _k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(r),!0).forEach(function(n){gJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gJ(e,t,r){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yJ(e){var t=vJ(e,"string");return typeof t=="symbol"?t:t+""}function vJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bJ(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return j.isValidElement(t)?j.cloneElement(t,n):j.createElement(r,n)}function xJ(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:d,cursor:f,tooltipEventType:h,chartName:p}=e,g=r,y=n,v=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var x,S,_;if(p==="ScatterChart")x=g,S=XH,_=rr.cursorLine;else if(p==="BarChart")x=ZH(d,g,s,l),S=fR,_=rr.cursorRectangle;else if(d==="radial"&&YD(g)){var{cx:N,cy:O,radius:A,startAngle:C,endAngle:T}=mR(g);x={cx:N,cy:O,startAngle:C,endAngle:T,innerRadius:A,outerRadius:A},S=gR,_=rr.cursorLine}else x={points:zV(d,g,s)},S=mj,_=rr.cursorLine;var P=typeof f=="object"&&"className"in f?f.className:void 0,D=sm(sm(sm(sm({stroke:"#ccc",pointerEvents:"none"},s),x),Po(f)),{},{payload:y,payloadIndex:v,className:at("recharts-tooltip-cursor",P)});return j.createElement(dn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},j.createElement(bJ,{cursor:f,cursorComp:S,cursorProps:D}))}function wJ(e){var t=UZ(),r=GM(),n=qo(),a=VZ();return t==null||r==null||n==null||a==null?null:j.createElement(xJ,aw({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var p4=j.createContext(null),jJ=()=>j.useContext(p4),Ob={exports:{}},Nk;function SJ(){return Nk||(Nk=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new a(p,g||f,y),x=r?r+h:h;return f._events[x]?f._events[x].fn?f._events[x]=[f._events[x],v]:f._events[x].push(v):(f._events[x]=v,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=r?r+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,v=g.length,x=new Array(v);y<v;y++)x[y]=g[y].fn;return x},d.prototype.listenerCount=function(h){var p=r?r+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,y,v,x){var S=r?r+h:h;if(!this._events[S])return!1;var _=this._events[S],N=arguments.length,O,A;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),N){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,y),!0;case 5:return _.fn.call(_.context,p,g,y,v),!0;case 6:return _.fn.call(_.context,p,g,y,v,x),!0}for(A=1,O=new Array(N-1);A<N;A++)O[A-1]=arguments[A];_.fn.apply(_.context,O)}else{var C=_.length,T;for(A=0;A<C;A++)switch(_[A].once&&this.removeListener(h,_[A].fn,void 0,!0),N){case 1:_[A].fn.call(_[A].context);break;case 2:_[A].fn.call(_[A].context,p);break;case 3:_[A].fn.call(_[A].context,p,g);break;case 4:_[A].fn.call(_[A].context,p,g,y);break;default:if(!O)for(T=1,O=new Array(N-1);T<N;T++)O[T-1]=arguments[T];_[A].fn.apply(_[A].context,O)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,y){var v=r?r+h:h;if(!this._events[v])return this;if(!p)return l(this,v),this;var x=this._events[v];if(x.fn)x.fn===p&&(!y||x.once)&&(!g||x.context===g)&&l(this,v);else{for(var S=0,_=[],N=x.length;S<N;S++)(x[S].fn!==p||y&&!x[S].once||g&&x[S].context!==g)&&_.push(x[S]);_.length?this._events[v]=_.length===1?_[0]:_:l(this,v)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(Ob)),Ob.exports}var _J=SJ();const NJ=Ta(_J);var Dd=new NJ,iw="recharts.syncEvent.tooltip",Ok="recharts.syncEvent.brush",N1=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Aa(r))return e[r]}},OJ={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},g4=un({name:"options",initialState:OJ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),EJ=g4.reducer,{createEventEmitter:AJ}=g4.actions;function CJ(e){return e.tooltip.syncInteraction}var kJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},y4=un({name:"chartData",initialState:kJ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Ek,setDataStartEndIndexes:PJ,setComputedData:Xoe}=y4.actions,TJ=y4.reducer,DJ=["x","y"];function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ql(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(n){MJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MJ(e,t,r){return(t=RJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RJ(e){var t=IJ(e,"string");return typeof t=="symbol"?t:t+""}function IJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LJ(e,t){if(e==null)return{};var r,n,a=BJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $J(){var e=Ee(qj),t=Ee(Kj),r=_t(),n=Ee(dI),a=Ee(Pi),s=qo(),l=rg(),d=Ee(f=>f.rootProps.className);j.useEffect(()=>{if(e==null)return zo;var f=(h,p,g)=>{if(t!==g&&e===h){if(n==="index"){var y;if(l&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var v=p.payload.coordinate,{x,y:S}=v,_=LJ(v,DJ),{x:N,y:O,width:A,height:C}=p.payload.sourceViewBox,T=ql(ql({},_),{},{x:l.x+(A?(x-N)/A:0)*l.width,y:l.y+(C?(S-O)/C:0)*l.height});r(ql(ql({},p),{},{payload:ql(ql({},p.payload),{},{coordinate:T})}))}else r(p);return}if(a!=null){var P;if(typeof n=="function"){var D={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},M=n(a,D);P=a[M]}else n==="value"&&(P=a.find(B=>String(B.value)===p.payload.label));var{coordinate:L}=p.payload;if(P==null||p.payload.active===!1||L==null||l==null){r(rw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Y,y:Q}=L,q=Math.min(Y,l.x+l.width),ee=Math.min(Q,l.y+l.height),H={x:s==="horizontal"?P.coordinate:q,y:s==="horizontal"?ee:P.coordinate},oe=rw({active:p.payload.active,coordinate:H,dataKey:p.payload.dataKey,index:String(P.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});r(oe)}}};return Dd.on(iw,f),()=>{Dd.off(iw,f)}},[d,r,t,e,n,a,s,l])}function UJ(){var e=Ee(qj),t=Ee(Kj),r=_t();j.useEffect(()=>{if(e==null)return zo;var n=(a,s,l)=>{t!==l&&e===a&&r(PJ(s))};return Dd.on(Ok,n),()=>{Dd.off(Ok,n)}},[r,t,e])}function zJ(){var e=_t();j.useEffect(()=>{e(AJ())},[e]),$J(),UJ()}function qJ(e,t,r,n,a,s){var l=Ee(v=>YZ(v,e,t)),d=Ee(Kj),f=Ee(qj),h=Ee(dI),p=Ee(CJ),g=p==null?void 0:p.active,y=rg();j.useEffect(()=>{if(!g&&f!=null&&d!=null){var v=rw({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:y,graphicalItemId:void 0});Dd.emit(iw,f,v,d)}},[g,r,l,a,n,d,f,h,s,y])}function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(n){KJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KJ(e,t,r){return(t=FJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FJ(e){var t=QJ(e,"string");return typeof t=="symbol"?t:t+""}function QJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HJ(e){return e.dataKey}function VJ(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(kH,t)}var Pk=[],GJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function po(e){var t,r,n=ar(e,GJ),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:y,position:v,reverseDirection:x,useTranslate3d:S,wrapperStyle:_,cursor:N,shared:O,trigger:A,defaultIndex:C,portal:T,axisId:P}=n,D=_t(),M=typeof C=="number"?String(C):C;j.useEffect(()=>{D(KX({shared:O,trigger:A,axisId:P,active:a,defaultIndex:M}))},[D,O,A,P,a,M]);var L=rg(),Y=oR(),Q=LX(O),{activeIndex:q,isActive:ee}=(t=Ee(Ne=>ZZ(Ne,Q,A,M)))!==null&&t!==void 0?t:{},H=Ee(Ne=>XZ(Ne,Q,A,M)),oe=Ee(Ne=>h4(Ne,Q,A,M)),B=Ee(Ne=>WZ(Ne,Q,A,M)),V=H,ue=jJ(),G=(r=a??ee)!==null&&r!==void 0?r:!1,[ne,I]=cM([V,G]),K=Q==="axis"?oe:void 0;qJ(Q,A,B,K,q,G);var he=T??ue;if(he==null||L==null||Q==null)return null;var ge=V??Pk;G||(ge=Pk),h&&ge.length&&(ge=aM(ge.filter(Ne=>Ne.value!=null&&(Ne.hide!==!0||n.includeHidden)),y,HJ));var xe=ge.length>0,je=j.createElement(LH,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:p,active:G,coordinate:B,hasPayload:xe,offset:g,position:v,reverseDirection:x,useTranslate3d:S,viewBox:L,wrapperStyle:_,lastBoundingBox:ne,innerRef:I,hasPortalFromProps:!!T},VJ(f,kk(kk({},n),{},{payload:ge,label:K,active:G,activeIndex:q,coordinate:B,accessibilityLayer:Y})));return j.createElement(j.Fragment,null,Sp.createPortal(je,he),G&&j.createElement(wJ,{cursor:N,tooltipEventType:Q,coordinate:B,payload:ge,index:q}))}var Qo=e=>null;Qo.displayName="Cell";function YJ(e,t,r){return(t=WJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WJ(e){var t=XJ(e,"string");return typeof t=="symbol"?t:t+""}function XJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ZJ{constructor(t){YJ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(r),!0).forEach(function(n){eee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eee(e,t,r){return(t=tee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tee(e){var t=ree(e,"string");return typeof t=="symbol"?t:t+""}function ree(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nee={cacheSize:2e3,enableCache:!0},v4=JJ({},nee),Dk=new ZJ(v4.cacheSize),aee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Mk="recharts_measurement_span";function iee(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(d)}var Rk=(e,t)=>{try{var r=document.getElementById(Mk);r||(r=document.createElement("span"),r.setAttribute("id",Mk),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,aee,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ld=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sg.isSsr)return{width:0,height:0};if(!v4.enableCache)return Rk(t,r);var n=iee(t,r),a=Dk.get(n);if(a)return a;var s=Rk(t,r);return Dk.set(n,s),s},b4;function see(e,t,r){return(t=oee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oee(e){var t=lee(e,"string");return typeof t=="symbol"?t:t+""}function lee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ik=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fee=["cm","mm","pt","pc","in","Q","px"];function hee(e){return fee.includes(e)}var Yl="NaN";function mee(e,t){return e*dee[t]}class Dr{static parse(t){var r,[,n,a]=(r=uee.exec(t))!==null&&r!==void 0?r:[];return n==null?Dr.NaN:new Dr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Aa(t)&&(this.unit=""),r!==""&&!cee.test(r)&&(this.num=NaN,this.unit=""),hee(r)&&(this.num=mee(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Aa(this.num)}}b4=Dr;see(Dr,"NaN",new b4(NaN,""));function x4(e){if(e==null||e.includes(Yl))return Yl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=Ik.exec(t))!==null&&r!==void 0?r:[],l=Dr.parse(n??""),d=Dr.parse(s??""),f=a==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return Yl;t=t.replace(Ik,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,g,y]=(h=Lk.exec(t))!==null&&h!==void 0?h:[],v=Dr.parse(p??""),x=Dr.parse(y??""),S=g==="+"?v.add(x):v.subtract(x);if(S.isNaN())return Yl;t=t.replace(Lk,S.toString())}return t}var Bk=/\(([^()]*)\)/;function pee(e){for(var t=e,r;(r=Bk.exec(t))!=null;){var[,n]=r;t=t.replace(Bk,x4(n))}return t}function gee(e){var t=e.replace(/\s+/g,"");return t=pee(t),t=x4(t),t}function yee(e){try{return gee(e)}catch{return Yl}}function Eb(e){var t=yee(e.slice(5,-1));return t===Yl?"":t}var vee=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],bee=["dx","dy","angle","className","breakAll"];function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(null,arguments)}function $k(e,t){if(e==null)return{};var r,n,a=xee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var w4=/[ \f\n\r\t\v\u2028\u2029]+/,j4=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];It(t)||(r?a=t.toString().split(""):a=t.toString().split(w4));var s=a.map(d=>({word:d,width:ld(d,n).width})),l=r?0:ld("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function wee(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var S4=(e,t,r,n)=>e.reduce((a,s)=>{var{word:l,width:d}=s,f=a[a.length-1];if(f&&d!=null&&(t==null||n||f.width+d+r<Number(t)))f.words.push(l),f.width+=d+r;else{var h={words:[l],width:d};a.push(h)}return a},[]),_4=e=>e.reduce((t,r)=>t.width>r.width?t:r),jee="",Uk=(e,t,r,n,a,s,l,d)=>{var f=e.slice(0,t),h=j4({breakAll:r,style:n,children:f+jee});if(!h)return[!1,[]];var p=S4(h.wordsWithComputedWidth,s,l,d),g=p.length>a||_4(p).width>Number(s);return[g,p]},See=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:d,breakAll:f}=e,h=Se(s),p=String(l),g=S4(t,n,r,a);if(!h||a)return g;var y=g.length>s||_4(g).width>Number(n);if(!y)return g;for(var v=0,x=p.length-1,S=0,_;v<=x&&S<=p.length-1;){var N=Math.floor((v+x)/2),O=N-1,[A,C]=Uk(p,O,f,d,s,n,r,a),[T]=Uk(p,N,f,d,s,n,r,a);if(!A&&!T&&(v=N+1),A&&T&&(x=N-1),!A&&T){_=C;break}S++}return _||g},zk=e=>{var t=It(e)?[]:e.toString().split(w4);return[{words:t,width:void 0}]},_ee=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!sg.isSsr){var d,f,h=j4({breakAll:s,children:n,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return zk(n);return See({breakAll:s,children:n,maxLines:l,style:a},d,f,t,!!r)}return zk(n)},N4="#808080",Nee={angle:0,breakAll:!1,capHeight:"0.71em",fill:N4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Og=j.forwardRef((e,t)=>{var r=ar(e,Nee),{x:n,y:a,lineHeight:s,capHeight:l,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=r,g=$k(r,vee),y=j.useMemo(()=>_ee({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:v,dy:x,angle:S,className:_,breakAll:N}=g,O=$k(g,bee);if(!Ca(n)||!Ca(a)||y.length===0)return null;var A=Number(n)+(Se(v)?v:0),C=Number(a)+(Se(x)?x:0);if(!Je(A)||!Je(C))return null;var T;switch(p){case"start":T=Eb("calc(".concat(l,")"));break;case"middle":T=Eb("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:T=Eb("calc(".concat(y.length-1," * -").concat(s,")"));break}var P=[],D=y[0];if(f&&D!=null){var M=D.width,{width:L}=g;P.push("scale(".concat(Se(L)&&Se(M)?L/M:1,")"))}return S&&P.push("rotate(".concat(S,", ").concat(A,", ").concat(C,")")),P.length&&(O.transform=P.join(" ")),j.createElement("text",sw({},Vr(O),{ref:t,x:A,y:C,className:at("recharts-text",_),textAnchor:h,fill:d.includes("url")?N4:d}),y.map((Y,Q)=>{var q=Y.words.join(N?"":" ");return j.createElement("tspan",{x:A,dy:Q===0?T:s,key:"".concat(q,"-").concat(Q)},q)}))});Og.displayName="Text";function qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(r),!0).forEach(function(n){Oee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oee(e,t,r){return(t=Eee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eee(e){var t=Aee(e,"string");return typeof t=="symbol"?t:t+""}function Aee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cee=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:s,y:l,height:d,upperWidth:f,lowerWidth:h}=cj(t),p=s,g=s+(f-h)/2,y=(p+g)/2,v=(f+h)/2,x=p+f/2,S=d>=0?1:-1,_=S*n,N=S>0?"end":"start",O=S>0?"start":"end",A=f>=0?1:-1,C=A*n,T=A>0?"end":"start",P=A>0?"start":"end",D=a;if(r==="top"){var M={x:p+f/2,y:l-_,horizontalAnchor:"middle",verticalAnchor:N};return D&&(M.height=Math.max(l-D.y,0),M.width=f),M}if(r==="bottom"){var L={x:g+h/2,y:l+d+_,horizontalAnchor:"middle",verticalAnchor:O};return D&&(L.height=Math.max(D.y+D.height-(l+d),0),L.width=h),L}if(r==="left"){var Y={x:y-C,y:l+d/2,horizontalAnchor:T,verticalAnchor:"middle"};return D&&(Y.width=Math.max(Y.x-D.x,0),Y.height=d),Y}if(r==="right"){var Q={x:y+v+C,y:l+d/2,horizontalAnchor:P,verticalAnchor:"middle"};return D&&(Q.width=Math.max(D.x+D.width-Q.x,0),Q.height=d),Q}var q=D?{width:v,height:d}:{};return r==="insideLeft"?ba({x:y+C,y:l+d/2,horizontalAnchor:P,verticalAnchor:"middle"},q):r==="insideRight"?ba({x:y+v-C,y:l+d/2,horizontalAnchor:T,verticalAnchor:"middle"},q):r==="insideTop"?ba({x:p+f/2,y:l+_,horizontalAnchor:"middle",verticalAnchor:O},q):r==="insideBottom"?ba({x:g+h/2,y:l+d-_,horizontalAnchor:"middle",verticalAnchor:N},q):r==="insideTopLeft"?ba({x:p+C,y:l+_,horizontalAnchor:P,verticalAnchor:O},q):r==="insideTopRight"?ba({x:p+f-C,y:l+_,horizontalAnchor:T,verticalAnchor:O},q):r==="insideBottomLeft"?ba({x:g+C,y:l+d-_,horizontalAnchor:P,verticalAnchor:N},q):r==="insideBottomRight"?ba({x:g+h-C,y:l+d-_,horizontalAnchor:T,verticalAnchor:N},q):r&&typeof r=="object"&&(Se(r.x)||Mo(r.x))&&(Se(r.y)||Mo(r.y))?ba({x:s+Ur(r.x,v),y:l+Ur(r.y,d),horizontalAnchor:"end",verticalAnchor:"end"},q):ba({x,y:l+d/2,horizontalAnchor:"middle",verticalAnchor:"middle"},q)},kee=["labelRef"],Pee=["content"];function Kk(e,t){if(e==null)return{};var r,n,a=Tee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(n){Dee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dee(e,t,r){return(t=Mee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mee(e){var t=Ree(e,"string");return typeof t=="symbol"?t:t+""}function Ree(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ii.apply(null,arguments)}var O4=j.createContext(null),Iee=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l,children:d}=e,f=j.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l}),[t,r,n,a,s,l]);return j.createElement(O4.Provider,{value:f},d)},E4=()=>{var e=j.useContext(O4),t=rg();return e||(t?cj(t):void 0)},Lee=j.createContext(null),Bee=()=>{var e=j.useContext(Lee),t=Ee(gI);return e||t},$ee=e=>{var{value:t,formatter:r}=e,n=It(e.children)?t:e.children;return typeof r=="function"?r(n):n},O1=e=>e!=null&&typeof e=="function",Uee=(e,t)=>{var r=wr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},zee=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:y,clockWise:v}=a,x=(h+p)/2,S=Uee(g,y),_=S>=0?1:-1,N,O;switch(t){case"insideStart":N=g+_*s,O=v;break;case"insideEnd":N=y-_*s,O=!v;break;case"end":N=y+_*s,O=v;break;default:throw new Error("Unsupported position ".concat(t))}O=S<=0?O:!O;var A=tr(d,f,x,N),C=tr(d,f,x,N+(O?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),P=It(e.id)?bd("recharts-radial-line-"):e.id;return j.createElement("text",ii({},n,{dominantBaseline:"central",className:at("recharts-radial-bar-label",l)}),j.createElement("defs",null,j.createElement("path",{id:P,d:T})),j.createElement("textPath",{xlinkHref:"#".concat(P)},r))},qee=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:d,endAngle:f}=e,h=(d+f)/2;if(r==="outside"){var{x:p,y:g}=tr(n,a,l+t,h);return{x:p,y:g,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(s+l)/2,{x:v,y:x}=tr(n,a,y,h);return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},gm=e=>e!=null&&"cx"in e&&Se(e.cx),Kee={angle:0,offset:5,zIndex:rr.label,position:"middle",textBreakAll:!1};function Fee(e){if(!gm(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function os(e){var t=ar(e,Kee),{viewBox:r,parentViewBox:n,position:a,value:s,children:l,content:d,className:f="",textBreakAll:h,labelRef:p}=t,g=Bee(),y=E4(),v=a==="center"?y:g??y,x,S,_;r==null?x=v:gm(r)?x=r:x=cj(r);var N=Fee(x);if(!x||It(s)&&It(l)&&!j.isValidElement(d)&&typeof d!="function")return null;var O=id(id({},t),{},{viewBox:x});if(j.isValidElement(d)){var{labelRef:A}=O,C=Kk(O,kee);return j.cloneElement(d,C)}if(typeof d=="function"){var{content:T}=O,P=Kk(O,Pee);if(S=j.createElement(d,P),j.isValidElement(S))return S}else S=$ee(t);var D=Vr(t);if(gm(x)){if(a==="insideStart"||a==="insideEnd"||a==="end")return zee(t,a,S,D,x);_=qee(x,t.offset,t.position)}else{if(!N)return null;var M=Cee({viewBox:N,position:a,offset:t.offset,parentViewBox:gm(n)?void 0:n});_=id(id({x:M.x,y:M.y,textAnchor:M.horizontalAnchor,verticalAnchor:M.verticalAnchor},M.width!==void 0?{width:M.width}:{}),M.height!==void 0?{height:M.height}:{})}return j.createElement(dn,{zIndex:t.zIndex},j.createElement(Og,ii({ref:p,className:at("recharts-label",f)},D,_,{textAnchor:wee(D.textAnchor)?D.textAnchor:_.textAnchor,breakAll:h}),S))}os.displayName="Label";var Qee=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?j.createElement(os,ii({key:"label-implicit"},n)):Ca(e)?j.createElement(os,ii({key:"label-implicit",value:e},n)):j.isValidElement(e)?e.type===os?j.cloneElement(e,id({key:"label-implicit"},n)):j.createElement(os,ii({key:"label-implicit",content:e},n)):O1(e)?j.createElement(os,ii({key:"label-implicit",content:e},n)):e&&typeof e=="object"?j.createElement(os,ii({},e,{key:"label-implicit"},n)):null};function Hee(e){var{label:t,labelRef:r}=e,n=E4();return Qee(t,n,r)||null}var Ab={},Cb={},Qk;function Vee(){return Qk||(Qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Cb)),Cb}var kb={},Hk;function Gee(){return Hk||(Hk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(kb)),kb}var Vk;function Yee(){return Vk||(Vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vee(),r=Gee(),n=Zw();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(Ab)),Ab}var Pb,Gk;function Wee(){return Gk||(Gk=1,Pb=Yee().last),Pb}var Xee=Wee();const Zee=Ta(Xee);var Jee=["valueAccessor"],ete=["dataKey","clockWise","id","textBreakAll","zIndex"];function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(null,arguments)}function Yk(e,t){if(e==null)return{};var r,n,a=tte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rte=e=>Array.isArray(e.value)?Zee(e.value):e.value,A4=j.createContext(void 0),C4=A4.Provider,k4=j.createContext(void 0),nte=k4.Provider;function ate(){return j.useContext(A4)}function ite(){return j.useContext(k4)}function ym(e){var{valueAccessor:t=rte}=e,r=Yk(e,Jee),{dataKey:n,clockWise:a,id:s,textBreakAll:l,zIndex:d}=r,f=Yk(r,ete),h=ate(),p=ite(),g=h||p;return!g||!g.length?null:j.createElement(dn,{zIndex:d??rr.label},j.createElement(jr,{className:"recharts-label-list"},g.map((y,v)=>{var x,S=It(n)?t(y,v):bt(y.payload,n),_=It(s)?{}:{id:"".concat(s,"-").concat(v)};return j.createElement(os,up({key:"label-".concat(v)},Vr(y),f,_,{fill:(x=r.fill)!==null&&x!==void 0?x:y.fill,parentViewBox:y.parentViewBox,value:S,textBreakAll:l,viewBox:y.viewBox,index:v,zIndex:0}))})))}ym.displayName="LabelList";function E1(e){var{label:t}=e;return t?t===!0?j.createElement(ym,{key:"labelList-implicit"}):j.isValidElement(t)||O1(t)?j.createElement(ym,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(ym,up({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(null,arguments)}var P4=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=at("recharts-dot",a);return Se(t)&&Se(r)&&Se(n)?j.createElement("circle",ow({},On(e),Xw(e),{className:s,cx:t,cy:r,r:n})):null},T4=e=>e.graphicalItems.polarItems,ste=W([Bt,ff],Yj),Eg=W([T4,Ht,ste],Wj),ote=W([Eg],Xj),Ag=W([ote,hg],Zj),lte=W([Ag,Ht,Eg],e1);W([Ag,Ht,Eg],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,l=bt(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:bt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var Wk=()=>{},cte=W([Ag,Ht,Eg,jg,Bt],a1),ute=W([Ht,r1,n1,Wk,cte,Wk,st,Bt],i1),D4=W([Ht,st,Ag,lte,df,Bt,ute],s1),dte=W([D4,zc,Ms],c1),fte=W([Ht,D4,dte,Bt],d1);W([Ms,fte],vI);var hte={radiusAxis:{},angleAxis:{}},M4=un({name:"polarAxis",initialState:hte,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Zoe,removeRadiusAxis:Joe,addAngleAxis:ele,removeAngleAxis:tle}=M4.actions,mte=M4.reducer;function R4(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function Xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(r),!0).forEach(function(n){pte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pte(e,t,r){return(t=gte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gte(e){var t=yte(e,"string");return typeof t=="symbol"?t:t+""}function yte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vte=(e,t)=>t,A1=W([T4,vte],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),bte=[],C1=(e,t,r)=>(r==null?void 0:r.length)===0?bte:r,I4=W([hg,A1,C1],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>Zk(Zk({},t.presentationProps),s.props))),a!=null)return a}}),xte=W([I4,A1,C1],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,l=bt(n,t.nameKey,t.name),d;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?d=n.fill:d=t.fill,{value:Ic(l,t.dataKey),color:d,payload:n,type:t.legendType}})}),wte=W([I4,A1,C1,dr],(e,t,r,n)=>{if(!(t==null||e==null))return jre({offset:n,pieSettings:t,displayedData:e,cells:r})}),Tb={exports:{}},vt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jk;function jte(){if(Jk)return vt;Jk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function x(S){if(typeof S=="object"&&S!==null){var _=S.$$typeof;switch(_){case e:switch(S=S.type,S){case r:case a:case n:case f:case h:case y:return S;default:switch(S=S&&S.$$typeof,S){case l:case d:case g:case p:return S;case s:return S;default:return _}}case t:return _}}}return vt.ContextConsumer=s,vt.ContextProvider=l,vt.Element=e,vt.ForwardRef=d,vt.Fragment=r,vt.Lazy=g,vt.Memo=p,vt.Portal=t,vt.Profiler=a,vt.StrictMode=n,vt.Suspense=f,vt.SuspenseList=h,vt.isContextConsumer=function(S){return x(S)===s},vt.isContextProvider=function(S){return x(S)===l},vt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},vt.isForwardRef=function(S){return x(S)===d},vt.isFragment=function(S){return x(S)===r},vt.isLazy=function(S){return x(S)===g},vt.isMemo=function(S){return x(S)===p},vt.isPortal=function(S){return x(S)===t},vt.isProfiler=function(S){return x(S)===a},vt.isStrictMode=function(S){return x(S)===n},vt.isSuspense=function(S){return x(S)===f},vt.isSuspenseList=function(S){return x(S)===h},vt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===r||S===a||S===n||S===f||S===h||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===l||S.$$typeof===s||S.$$typeof===d||S.$$typeof===v||S.getModuleId!==void 0)},vt.typeOf=x,vt}var eP;function Ste(){return eP||(eP=1,Tb.exports=jte()),Tb.exports}var _te=Ste(),tP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",rP=null,Db=null,L4=e=>{if(e===rP&&Array.isArray(Db))return Db;var t=[];return j.Children.forEach(e,r=>{It(r)||(_te.isFragment(r)?t=t.concat(L4(r.props.children)):t.push(r))}),Db=t,rP=e,t};function k1(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>tP(a)):n=[tP(t)],L4(e).forEach(a=>{var s=Do(a,"type.displayName")||Do(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var B4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Mb={},nP;function Nte(){return nP||(nP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Mb)),Mb}var Rb,aP;function Ote(){return aP||(aP=1,Rb=Nte().isPlainObject),Rb}var Ete=Ote();const Ate=Ta(Ete);var iP,sP,oP,lP,cP;function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){Cte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cte(e,t,r){return(t=kte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kte(e){var t=Pte(e,"string");return typeof t=="symbol"?t:t+""}function Pte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(null,arguments)}function ed(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var fP=(e,t,r,n,a)=>{var s=r-n,l;return l=Ft(iP||(iP=ed(["M ",",",""])),e,t),l+=Ft(sP||(sP=ed(["L ",",",""])),e+r,t),l+=Ft(oP||(oP=ed(["L ",",",""])),e+r-s/2,t+a),l+=Ft(lP||(lP=ed(["L ",",",""])),e+r-s/2-n,t+a),l+=Ft(cP||(cP=ed(["L ",","," Z"])),e,t),l},Tte={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dte=e=>{var t=ar(e,Tte),{x:r,y:n,upperWidth:a,lowerWidth:s,height:l,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t,y=j.useRef(null),[v,x]=j.useState(-1),S=j.useRef(a),_=j.useRef(s),N=j.useRef(l),O=j.useRef(r),A=j.useRef(n),C=sf(e,"trapezoid-");if(j.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var H=y.current.getTotalLength();H&&x(H)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var T=at("recharts-trapezoid",d);if(!g)return j.createElement("g",null,j.createElement("path",dp({},Vr(t),{className:T,d:fP(r,n,a,s,l)})));var P=S.current,D=_.current,M=N.current,L=O.current,Y=A.current,Q="0px ".concat(v===-1?1:v,"px"),q="".concat(v,"px 0px"),ee=lR(["strokeDasharray"],h,f);return j.createElement(af,{animationId:C,key:C,canBegin:v>0,duration:h,easing:f,isActive:g,begin:p},H=>{var oe=Dt(P,a,H),B=Dt(D,s,H),V=Dt(M,l,H),ue=Dt(L,r,H),G=Dt(Y,n,H);y.current&&(S.current=oe,_.current=B,N.current=V,O.current=ue,A.current=G);var ne=H>0?{transition:ee,strokeDasharray:q}:{strokeDasharray:Q};return j.createElement("path",dp({},Vr(t),{className:T,d:fP(ue,G,oe,B,V),ref:y,style:dP(dP({},ne),t.style)}))})},Mte=["option","shapeType","activeClassName"];function Rte(e,t){if(e==null)return{};var r,n,a=Ite(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ite(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){Lte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lte(e,t,r){return(t=Bte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bte(e){var t=$te(e,"string");return typeof t=="symbol"?t:t+""}function $te(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ute(e,t){return fp(fp({},t),e)}function zte(e,t){return e==="symbols"}function mP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(fR,r);case"trapezoid":return j.createElement(Dte,r);case"sector":return j.createElement(gR,r);case"symbols":if(zte(t))return j.createElement(Ww,r);break;case"curve":return j.createElement(mj,r);default:return null}}function qte(e){return j.isValidElement(e)?e.props:e}function P1(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=Rte(e,Mte),s;if(j.isValidElement(t))s=j.cloneElement(t,fp(fp({},a),qte(t)));else if(typeof t=="function")s=t(a,a.index);else if(Ate(t)&&typeof t!="boolean"){var l=Ute(t,a);s=j.createElement(mP,{shapeType:r,elementProps:l})}else{var d=a;s=j.createElement(mP,{shapeType:r,elementProps:d})}return a.isActive?j.createElement(jr,{className:n},s):s}var T1=(e,t,r)=>{var n=_t();return(a,s)=>l=>{e==null||e(a,s,l),n(GI({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},D1=e=>{var t=_t();return(r,n)=>a=>{e==null||e(r,n,a),t(FX())}},M1=(e,t,r)=>{var n=_t();return(a,s)=>l=>{e==null||e(a,s,l),n(QX({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function R1(e){var{tooltipEntrySettings:t}=e,r=_t(),n=zr(),a=j.useRef(null);return j.useLayoutEffect(()=>{n||(a.current===null?r(UX(t)):a.current!==t&&r(zX({prev:a.current,next:t})),a.current=t)},[t,r,n]),j.useLayoutEffect(()=>()=>{a.current&&(r(qX(a.current)),a.current=null)},[r]),null}function $4(e){var{legendPayload:t}=e,r=_t(),n=zr(),a=j.useRef(null);return j.useLayoutEffect(()=>{n||(a.current===null?r(aR(t)):a.current!==t&&r(iR({prev:a.current,next:t})),a.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{a.current&&(r(sR(a.current)),a.current=null)},[r]),null}function Kte(e){var{legendPayload:t}=e,r=_t(),n=Ee(st),a=j.useRef(null);return j.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(aR(t)):a.current!==t&&r(iR({prev:a.current,next:t})),a.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{a.current&&(r(sR(a.current)),a.current=null)},[r]),null}var Ib,Fte=()=>{var[e]=j.useState(()=>bd("uid-"));return e},Qte=(Ib=J3.useId)!==null&&Ib!==void 0?Ib:Fte;function Hte(e,t){var r=Qte();return t||(e?"".concat(e,"-").concat(r):r)}var Vte=j.createContext(void 0),I1=e=>{var{id:t,type:r,children:n}=e,a=Hte("recharts-".concat(r),t);return j.createElement(Vte.Provider,{value:a},n(a))},Gte={cartesianItems:[],polarItems:[]},U4=un({name:"graphicalItems",initialState:Gte,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Tt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ca(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Tt()},removeCartesianGraphicalItem:{reducer(e,t){var r=ca(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Tt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Tt()},removePolarGraphicalItem:{reducer(e,t){var r=ca(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Tt()}}}),{addCartesianGraphicalItem:Yte,replaceCartesianGraphicalItem:Wte,removeCartesianGraphicalItem:Xte,addPolarGraphicalItem:Zte,removePolarGraphicalItem:Jte}=U4.actions,ere=U4.reducer,tre=e=>{var t=_t(),r=j.useRef(null);return j.useLayoutEffect(()=>{r.current===null?t(Yte(e)):r.current!==e&&t(Wte({prev:r.current,next:e})),r.current=e},[t,e]),j.useLayoutEffect(()=>()=>{r.current&&(t(Xte(r.current)),r.current=null)},[t]),null},z4=j.memo(tre);function rre(e){var t=_t();return j.useLayoutEffect(()=>(t(Zte(e)),()=>{t(Jte(e))}),[t,e]),null}var nre=["key"],are=["onMouseEnter","onClick","onMouseLeave"],ire=["id"],sre=["id"];function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){ore(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ore(e,t,r){return(t=lre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lre(e){var t=cre(e,"string");return typeof t=="symbol"?t:t+""}function cre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Es.apply(null,arguments)}function Cg(e,t){if(e==null)return{};var r,n,a=ure(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ure(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dre(e){var t=j.useMemo(()=>k1(e.children,Qo),[e.children]),r=Ee(n=>xte(n,e.id,t));return r==null?null:j.createElement(Kte,{legendPayload:r})}var fre=j.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:l,name:d,hide:f,tooltipType:h,id:p}=e,g={dataDefinedOnItem:n.map(y=>y.tooltipPayload),getPosition:y=>{var v;return(v=n[Number(y)])===null||v===void 0?void 0:v.tooltipPosition},settings:{stroke:a,strokeWidth:s,fill:l,dataKey:t,nameKey:r,name:Ic(d,t),hide:f,type:h,color:l,unit:"",graphicalItemId:p}};return j.createElement(R1,{tooltipEntrySettings:g})}),hre=(e,t)=>e>t?"start":e<t?"end":"middle",mre=(e,t,r)=>Ur(typeof t=="function"?t(e):t,r,r*.8),pre=(e,t,r)=>{var{top:n,left:a,width:s,height:l}=t,d=hR(s,l),f=a+Ur(e.cx,s,s/2),h=n+Ur(e.cy,l,l/2),p=Ur(e.innerRadius,d,0),g=mre(r,e.outerRadius,d),y=e.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:y}},gre=(e,t)=>{var r=wr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},yre=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=at("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Cg(t,nre);return j.createElement(mj,Es({},a,{type:"linear",className:r}))},vre=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var a=at("recharts-pie-label-text",R4(e));return j.createElement(Og,Es({},t,{alignmentBaseline:"middle",className:a}),n)};function bre(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:l}=r;if(!n||!a||!t)return null;var d=On(r),f=Po(a),h=Po(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=t.map((y,v)=>{var x=(y.startAngle+y.endAngle)/2,S=tr(y.cx,y.cy,y.outerRadius+p,x),_=Qt(Qt(Qt(Qt({},d),y),{},{stroke:"none"},f),{},{index:v,textAnchor:hre(S.x,y.cx)},S),N=Qt(Qt(Qt(Qt({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[tr(y.cx,y.cy,y.outerRadius,x),S],key:"line"});return j.createElement(dn,{zIndex:rr.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},j.createElement(jr,null,s&&yre(s,N),vre(a,_,bt(y,l))))});return j.createElement(jr,{className:"recharts-pie-labels"},g)}function xre(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?j.createElement(E1,{label:a}):j.createElement(bre,{sectors:t,props:r,showLabels:n})}function wre(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:l}=e,d=Ee(Os),f=Ee(x1),h=Ee(kZ),{onMouseEnter:p,onClick:g,onMouseLeave:y}=a,v=Cg(a,are),x=T1(p,a.dataKey,l),S=D1(y),_=M1(g,a.dataKey,l);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((N,O)=>{if((N==null?void 0:N.startAngle)===0&&(N==null?void 0:N.endAngle)===0&&t.length!==1)return null;var A=h==null||h===l,C=String(O)===d&&(f==null||a.dataKey===f)&&A,T=d?n:null,P=r&&C?r:T,D=Qt(Qt({},N),{},{stroke:N.stroke,tabIndex:-1,[KM]:O,[FM]:l});return j.createElement(jr,Es({key:"sector-".concat(N==null?void 0:N.startAngle,"-").concat(N==null?void 0:N.endAngle,"-").concat(N.midAngle,"-").concat(O),tabIndex:-1,className:"recharts-pie-sector"},Zd(v,N,O),{onMouseEnter:x(N,O),onMouseLeave:S(N,O),onClick:_(N,O)}),j.createElement(P1,Es({option:s??P,index:O,shapeType:"sector",isActive:C},D)))}))}function jre(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:l,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=r,y=Math.abs(r.minAngle),v=gre(d,f),x=Math.abs(v),S=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,_=n.filter(P=>bt(P,h,0)!==0).length,N=(x>=360?_:_-1)*S,O=x-_*y-N,A=n.reduce((P,D)=>{var M=bt(D,h,0);return P+(Se(M)?M:0)},0),C;if(A>0){var T;C=n.map((P,D)=>{var M=bt(P,h,0),L=bt(P,p,D),Y=pre(r,s,P),Q=(Se(M)?M:0)/A,q,ee=Qt(Qt({},P),a&&a[D]&&a[D].props);D?q=T.endAngle+wr(v)*S*(M!==0?1:0):q=d;var H=q+wr(v)*((M!==0?y:0)+Q*O),oe=(q+H)/2,B=(Y.innerRadius+Y.outerRadius)/2,V=[{name:L,value:M,payload:ee,dataKey:h,type:g,graphicalItemId:r.id}],ue=tr(Y.cx,Y.cy,B,oe);return T=Qt(Qt(Qt(Qt({},r.presentationProps),{},{percent:Q,cornerRadius:typeof l=="string"?parseFloat(l):l,name:L,tooltipPayload:V,midAngle:oe,middleRadius:B,tooltipPosition:ue},ee),Y),{},{value:M,dataKey:h,startAngle:q,endAngle:H,payload:ee,paddingAngle:wr(v)*S}),T})}return C}function Sre(e){var{showLabels:t,sectors:r,children:n}=e,a=j.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return j.createElement(nte,{value:t?a:void 0},n)}function _re(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,activeShape:h,inactiveShape:p,onAnimationStart:g,onAnimationEnd:y}=t,v=sf(t,"recharts-pie-"),x=r.current,[S,_]=j.useState(!1),N=j.useCallback(()=>{typeof y=="function"&&y(),_(!1)},[y]),O=j.useCallback(()=>{typeof g=="function"&&g(),_(!0)},[g]);return j.createElement(Sre,{showLabels:!S,sectors:a},j.createElement(af,{animationId:v,begin:l,duration:d,isActive:s,easing:f,onAnimationStart:O,onAnimationEnd:N,key:v},A=>{var C,T=[],P=a&&a[0],D=(C=P==null?void 0:P.startAngle)!==null&&C!==void 0?C:0;return a==null||a.forEach((M,L)=>{var Y=x&&x[L],Q=L>0?Do(M,"paddingAngle",0):0;if(Y){var q=Dt(Y.endAngle-Y.startAngle,M.endAngle-M.startAngle,A),ee=Qt(Qt({},M),{},{startAngle:D+Q,endAngle:D+q+Q});T.push(ee),D=ee.endAngle}else{var{endAngle:H,startAngle:oe}=M,B=Dt(0,H-oe,A),V=Qt(Qt({},M),{},{startAngle:D+Q,endAngle:D+B+Q});T.push(V),D=V.endAngle}}),r.current=T,j.createElement(jr,null,j.createElement(wre,{sectors:T,activeShape:h,inactiveShape:p,allOtherPieProps:t,shape:t.shape,id:n}))}),j.createElement(xre,{showLabels:!S,sectors:a,props:t}),t.children)}var Nre={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:rr.area};function Ore(e){var{id:t}=e,r=Cg(e,ire),{hide:n,className:a,rootTabIndex:s}=e,l=j.useMemo(()=>k1(e.children,Qo),[e.children]),d=Ee(p=>wte(p,t,l)),f=j.useRef(null),h=at("recharts-pie",a);return n||d==null?(f.current=null,j.createElement(jr,{tabIndex:s,className:h})):j.createElement(dn,{zIndex:e.zIndex},j.createElement(fre,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement(jr,{tabIndex:s,className:h},j.createElement(_re,{props:Qt(Qt({},r),{},{sectors:d}),previousSectorsRef:f,id:t})))}function L1(e){var t=ar(e,Nre),{id:r}=t,n=Cg(t,sre),a=On(n);return j.createElement(I1,{id:r,type:"pie"},s=>j.createElement(j.Fragment,null,j.createElement(rre,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),j.createElement(dre,Es({},n,{id:s})),j.createElement(Ore,Es({},n,{id:s}))))}L1.displayName="Pie";var Ere=["points"];function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){Are(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Are(e,t,r){return(t=Cre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cre(e){var t=kre(e,"string");return typeof t=="symbol"?t:t+""}function kre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hp.apply(null,arguments)}function Pre(e,t){if(e==null)return{};var r,n,a=Tre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dre(e){var{option:t,dotProps:r,className:n}=e;if(j.isValidElement(t))return j.cloneElement(t,r);if(typeof t=="function")return t(r);var a=at(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,d=Pre(s,Ere);return j.createElement(P4,hp({},d,{className:a}))}function Mre(e,t){return e==null?!1:t?!0:e.length===1}function Rre(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:l,needClip:d,clipPathId:f,zIndex:h=rr.scatter}=e;if(!Mre(t,r))return null;var p=B4(r),g=Y9(r),y=t.map((x,S)=>{var _,N,O=Lb(Lb(Lb({r:3},l),g),{},{index:S,cx:(_=x.x)!==null&&_!==void 0?_:void 0,cy:(N=x.y)!==null&&N!==void 0?N:void 0,dataKey:s,value:x.value,payload:x.payload,points:t});return j.createElement(Dre,{key:"dot-".concat(S),option:r,dotProps:O,className:a})}),v={};return d&&f!=null&&(v.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),j.createElement(dn,{zIndex:h},j.createElement(jr,hp({className:n},v),y))}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){Ire(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ire(e,t,r){return(t=Lre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lre(e){var t=Bre(e,"string");return typeof t=="symbol"?t:t+""}function Bre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q4=0,$re={xAxis:{},yAxis:{},zAxis:{}},K4=un({name:"cartesianAxis",initialState:$re,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Tt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Tt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Tt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Tt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Tt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Tt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Tt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Tt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Tt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s,l=a.widthHistory||[];if(l.length===3&&l[0]===l[2]&&n===l[1]&&n!==a.width&&Math.abs(n-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var d=[...l,n].slice(-3);e.yAxis[r]=vP(vP({},a),{},{width:n,widthHistory:d})}}}}),{addXAxis:Ure,replaceXAxis:zre,removeXAxis:qre,addYAxis:Kre,replaceYAxis:Fre,removeYAxis:Qre,addZAxis:rle,replaceZAxis:nle,removeZAxis:ale,updateYAxisWidth:Hre}=K4.actions,Vre=K4.reducer,Gre=W([dr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Yre=W([Gre,Ni,Oi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),B1=()=>Ee(Yre),Wre=()=>Ee(RZ);function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){Xre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xre(e,t,r){return(t=Zre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zre(e){var t=Jre(e,"string");return typeof t=="symbol"?t:t+""}function Jre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ene=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var d={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=Bb(Bb(Bb({},d),Po(a)),Xw(a)),h;return j.isValidElement(a)?h=j.cloneElement(a,f):typeof a=="function"?h=a(f):h=j.createElement(P4,f),j.createElement(jr,{className:"recharts-active-dot",clipPath:l},h)};function tne(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:l=rr.activeDot}=e,d=Ee(Os),f=Wre();if(t==null||f==null)return null;var h=t.find(p=>f.includes(p.payload));return It(h)?null:j.createElement(dn,{zIndex:l},j.createElement(ene,{point:h,childIndex:Number(d),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var xP=(e,t,r)=>{var n=r??e;if(!It(n))return Ur(n,t,0)},rne=(e,t,r)=>{var n={},a=e.filter(yg),s=e.filter(h=>h.stackId==null),l=a.reduce((h,p)=>{var g=h[p.stackId];return g==null&&(g=[]),g.push(p),h[p.stackId]=g,h},n),d=Object.entries(l).map(h=>{var p,[g,y]=h,v=y.map(S=>S.dataKey),x=xP(t,r,(p=y[0])===null||p===void 0?void 0:p.barSize);return{stackId:g,dataKeys:v,barSize:x}}),f=s.map(h=>{var p=[h.dataKey].filter(y=>y!=null),g=xP(t,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]};function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){nne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nne(e,t,r){return(t=ane(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ane(e){var t=ine(e,"string");return typeof t=="symbol"?t:t+""}function ine(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sne(e,t,r,n,a){var s,l=n.length;if(!(l<1)){var d=Ur(e,r,0,!0),f,h=[];if(Je((s=n[0])===null||s===void 0?void 0:s.barSize)){var p=!1,g=r/l,y=n.reduce((O,A)=>O+(A.barSize||0),0);y+=(l-1)*d,y>=r&&(y-=(l-1)*d,d=0),y>=r&&g>0&&(p=!0,g*=.9,y=l*g);var v=(r-y)/2>>0,x={offset:v-d,size:0};f=n.reduce((O,A)=>{var C,T={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:x.offset+x.size+d,size:p?g:(C=A.barSize)!==null&&C!==void 0?C:0}},P=[...O,T];return x=T.position,P},h)}else{var S=Ur(t,r,0,!0);r-2*S-(l-1)*d<=0&&(d=0);var _=(r-2*S-(l-1)*d)/l;_>1&&(_>>=0);var N=Je(a)?Math.min(_,a):_;f=n.reduce((O,A,C)=>[...O,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:S+(_+d)*C+(_-N)/2,size:N}}],h)}return f}}var one=(e,t,r,n,a,s,l)=>{var d=It(l)?t:l,f=sne(r,n,a!==s?a:s,e,d);return a!==s&&f!=null&&(f=f.map(h=>om(om({},h),{},{position:om(om({},h.position),{},{offset:h.position.offset-a/2})}))),f},lne=(e,t)=>{var r=Vj(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(l=>l.key===r)}}}},cne=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function une(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Je(e.zIndex)?e.zIndex:t}var F4=e=>{var{chartData:t}=e,r=_t(),n=zr();return j.useEffect(()=>n?()=>{}:(r(Ek(t)),()=>{r(Ek(void 0))}),[t,r,n]),null},jP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Q4=un({name:"brush",initialState:jP,reducers:{setBrushSettings(e,t){return t.payload==null?jP:t.payload}}}),{setBrushSettings:ile}=Q4.actions,dne=Q4.reducer;function fne(e){return(e%180+180)%180}var hne=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=fne(a),l=s*Math.PI/180,d=Math.atan(n/r),f=l>d&&l<Math.PI-d?n/Math.sin(l):r/Math.cos(l);return Math.abs(f)},mne={dots:[],areas:[],lines:[]},H4=un({name:"referenceElements",initialState:mne,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ca(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ca(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ca(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:sle,removeDot:ole,addArea:lle,removeArea:cle,addLine:ule,removeLine:dle}=H4.actions,pne=H4.reducer,gne=j.createContext(void 0),yne=e=>{var{children:t}=e,[r]=j.useState("".concat(bd("recharts"),"-clip")),n=B1();if(n==null)return null;var{x:a,y:s,width:l,height:d}=n;return j.createElement(gne.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:a,y:s,height:d,width:l}))),t)};function V4(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function vne(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return hne(n,r)}function bne(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:d}=e;return t===1?{start:n?a:s,end:n?a+l:s+d}:{start:n?a+l:s+d,end:n?a:s}}function Md(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function xne(e,t){return V4(e,t+1)}function wne(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:d}=t,f=0,h=1,p=l,g=function(){var x=n==null?void 0:n[f];if(x===void 0)return{v:V4(n,h)};var S=f,_,N=()=>(_===void 0&&(_=r(x,S)),_),O=x.coordinate,A=f===0||Md(e,O,N,p,d);A||(f=0,p=l,h+=1),A&&(p=O+e*(N()/2+a),f+=h)},y;h<=s.length;)if(y=g(),y)return y.v;return[]}function jne(e,t,r,n,a){var s=(n||[]).slice(),l=s.length;if(l===0)return[];for(var{start:d,end:f}=t,h=1;h<=l;h++){for(var p=(l-1)%h,g=d,y=!0,v=function(){var C=n[S];if(C==null)return 0;var T=S,P,D=()=>(P===void 0&&(P=r(C,T)),P),M=C.coordinate,L=S===p||Md(e,M,D,g,f);if(!L)return y=!1,1;L&&(g=M+e*(D()/2+a))},x,S=p;S<l&&(x=v(),!(x!==0&&x===1));S+=h);if(y){for(var _=[],N=p;N<l;N+=h){var O=n[N];O!=null&&_.push(O)}return _}}return[]}function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){Sne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sne(e,t,r){return(t=_ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ne(e){var t=Nne(e,"string");return typeof t=="symbol"?t:t+""}function Nne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function One(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:d}=t,{end:f}=t,h=function(y){var v=s[y];if(v==null)return 1;var x=v,S,_=()=>(S===void 0&&(S=r(v,y)),S);if(y===l-1){var N=e*(x.coordinate+e*_()/2-f);s[y]=x=Br(Br({},x),{},{tickCoord:N>0?x.coordinate-N*e:x.coordinate})}else s[y]=x=Br(Br({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var O=Md(e,x.tickCoord,_,d,f);O&&(f=x.tickCoord-e*(_()/2+a),s[y]=Br(Br({},x),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Ene(e,t,r,n,a,s){var l=(n||[]).slice(),d=l.length,{start:f,end:h}=t;if(s){var p=n[d-1];if(p!=null){var g=r(p,d-1),y=e*(p.coordinate+e*g/2-h);if(l[d-1]=p=Br(Br({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate}),p.tickCoord!=null){var v=Md(e,p.tickCoord,()=>g,f,h);v&&(h=p.tickCoord-e*(g/2+a),l[d-1]=Br(Br({},p),{},{isShow:!0}))}}}for(var x=s?d-1:d,S=function(O){var A=l[O];if(A==null)return 1;var C=A,T,P=()=>(T===void 0&&(T=r(A,O)),T);if(O===0){var D=e*(C.coordinate-e*P()/2-f);l[O]=C=Br(Br({},C),{},{tickCoord:D<0?C.coordinate-D*e:C.coordinate})}else l[O]=C=Br(Br({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var M=Md(e,C.tickCoord,P,f,h);M&&(f=C.tickCoord+e*(P()/2+a),l[O]=Br(Br({},C),{},{isShow:!0}))}},_=0;_<x;_++)S(_);return l}function $1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=e;if(!a||!a.length||!n)return[];if(Se(f)||sg.isSsr){var y;return(y=xne(a,Se(f)?f:0))!==null&&y!==void 0?y:[]}var v=[],x=d==="top"||d==="bottom"?"width":"height",S=p&&x==="width"?ld(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(T,P)=>{var D=typeof h=="function"?h(T.value,P):T.value;return x==="width"?vne(ld(D,{fontSize:t,letterSpacing:r}),S,g):ld(D,{fontSize:t,letterSpacing:r})[x]},N=a[0],O=a[1],A=a.length>=2&&N!=null&&O!=null?wr(O.coordinate-N.coordinate):1,C=bne(s,A,x);return f==="equidistantPreserveStart"?wne(A,C,_,a,l):f==="equidistantPreserveEnd"?jne(A,C,_,a,l):(f==="preserveStart"||f==="preserveStartEnd"?v=Ene(A,C,_,a,l,f==="preserveStartEnd"):v=One(A,C,_,a,l),v.filter(T=>T.isShow))}var Ane=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var d=r?r.getBoundingClientRect().width:0,f=a+s,h=l+f+d+(r?n:0);return Math.round(h)}return 0},Cne=["axisLine","width","height","className","hide","ticks","axisType"];function kne(e,t){if(e==null)return{};var r,n,a=Pne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$o.apply(null,arguments)}function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){Tne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tne(e,t,r){return(t=Dne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dne(e){var t=Mne(e,"string");return typeof t=="symbol"?t:t+""}function Mne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var di={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:rr.axis};function Rne(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var h=Kt(Kt(Kt({},f),On(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=Kt(Kt({},h),{},{x1:t,y1:r+p*a,x2:t+n,y2:r+p*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=Kt(Kt({},h),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return j.createElement("line",$o({},h,{className:at("recharts-cartesian-axis-line",Do(d,"className"))}))}function Ine(e,t,r,n,a,s,l,d,f){var h,p,g,y,v,x,S=d?-1:1,_=e.tickSize||l,N=Se(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=p=e.coordinate,y=r+ +!d*a,g=y-S*_,x=g-S*f,v=N;break;case"left":g=y=e.coordinate,p=t+ +!d*n,h=p-S*_,v=h-S*f,x=N;break;case"right":g=y=e.coordinate,p=t+ +d*n,h=p+S*_,v=h+S*f,x=N;break;default:h=p=e.coordinate,y=r+ +d*a,g=y+S*_,x=g+S*f,v=N;break}return{line:{x1:h,y1:g,x2:p,y2:y},tick:{x:v,y:x}}}function Lne(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Bne(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $ne(e){var{option:t,tickProps:r,value:n}=e,a,s=at(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))a=j.cloneElement(t,Kt(Kt({},r),{},{className:s}));else if(typeof t=="function")a=t(Kt(Kt({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=at(l,R4(t))),a=j.createElement(Og,$o({},r,{className:l}),n)}return a}var Une=j.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:l,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x:y,y:v,width:x,height:S,tickSize:_,tickMargin:N,fontSize:O,letterSpacing:A,getTicksConfig:C,events:T,axisType:P}=e,D=$1(Kt(Kt({},C),{},{ticks:r}),O,A),M=Lne(p,g),L=Bne(p,g),Y=On(C),Q=Po(n),q={};typeof a=="object"&&(q=a);var ee=Kt(Kt({},Y),{},{fill:"none"},q),H=D.map(V=>Kt({entry:V},Ine(V,y,v,x,S,p,_,g,N))),oe=H.map(V=>{var{entry:ue,line:G}=V;return j.createElement(jr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},a&&j.createElement("line",$o({},ee,G,{className:at("recharts-cartesian-axis-tick-line",Do(a,"className"))})))}),B=H.map((V,ue)=>{var G,ne,{entry:I,tick:K}=V,he=Kt(Kt(Kt(Kt({verticalAnchor:L},Y),{},{textAnchor:M,stroke:"none",fill:s},K),{},{index:ue,payload:I,visibleTicksCount:D.length,tickFormatter:l,padding:f},h),{},{angle:(G=(ne=h==null?void 0:h.angle)!==null&&ne!==void 0?ne:Y.angle)!==null&&G!==void 0?G:0}),ge=Kt(Kt({},he),Q);return j.createElement(jr,$o({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Zd(T,I,ue)),n&&j.createElement($ne,{option:n,tickProps:ge,value:"".concat(typeof l=="function"?l(I.value,ue):I.value).concat(d||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},B.length>0&&j.createElement(dn,{zIndex:rr.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},B)),oe.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},oe))}),zne=j.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:d,axisType:f}=e,h=kne(e,Cne),[p,g]=j.useState(""),[y,v]=j.useState(""),x=j.useRef(null);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return Ane({ticks:x.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=j.useCallback(_=>{if(_){var N=_.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=N;var O=N[0];if(O){var A=window.getComputedStyle(O),C=A.fontSize,T=A.letterSpacing;(C!==p||T!==y)&&(g(C),v(T))}}},[p,y]);return l||n!=null&&n<=0||a!=null&&a<=0?null:j.createElement(dn,{zIndex:e.zIndex},j.createElement(jr,{className:at("recharts-cartesian-axis",s)},j.createElement(Rne,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:On(e)}),j.createElement(Une,{ref:S,axisType:f,events:h,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),j.createElement(Iee,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},j.createElement(Hee,{label:e.label,labelRef:e.labelRef}),e.children)))}),U1=j.forwardRef((e,t)=>{var r=ar(e,di);return j.createElement(zne,$o({},r,{ref:t}))});U1.displayName="CartesianAxis";var qne=["x1","y1","x2","y2","key"],Kne=["offset"],Fne=["xAxisId","yAxisId"],Qne=["xAxisId","yAxisId"];function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){Hne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hne(e,t,r){return(t=Vne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vne(e){var t=Gne(e,"string");return typeof t=="symbol"?t:t+""}function Gne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},go.apply(null,arguments)}function mp(e,t){if(e==null)return{};var r,n,a=Yne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Wne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:d}=e;return j.createElement("rect",{x:n,y:a,ry:d,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function G4(e){var{option:t,lineItemProps:r}=e,n;if(j.isValidElement(t))n=j.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:l,x2:d,y2:f,key:h}=r,p=mp(r,qne),g=(a=On(p))!==null&&a!==void 0?a:{},{offset:y}=g,v=mp(g,Kne);n=j.createElement("line",go({},v,{x1:s,y1:l,x2:d,y2:f,fill:"none",key:h}))}return n}function Xne(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,d=mp(e,Fne),f=a.map((h,p)=>{var g=$r($r({},d),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(p),index:p});return j.createElement(G4,{key:"line-".concat(p),option:n,lineItemProps:g})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Zne(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,d=mp(e,Qne),f=a.map((h,p)=>{var g=$r($r({},d),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(p),index:p});return j.createElement(G4,{option:n,lineItemProps:g,key:"line-".concat(p)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Jne(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length||d==null)return null;var h=d.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var v=h[y+1],x=v==null,S=x?a+l-g:v-g;if(S<=0)return null;var _=y%t.length;return j.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:S,width:s,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function eae(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:d,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var v=h[y+1],x=v==null,S=x?a+l-g:v-g;if(S<=0)return null;var _=y%r.length;return j.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:S,height:d,stroke:"none",fill:r[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var tae=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return UM($1($r($r($r({},di),r),{},{ticks:zM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},rae=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return UM($1($r($r($r({},di),r),{},{ticks:zM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},nae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:rr.grid};function ec(e){var t=uj(),r=dj(),n=GM(),a=$r($r({},ar(e,nae)),{},{x:Se(e.x)?e.x:n.left,y:Se(e.y)?e.y:n.top,width:Se(e.width)?e.width:n.width,height:Se(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:y,verticalValues:v}=a,x=zr(),S=Ee(L=>pk(L,"xAxis",s,x)),_=Ee(L=>pk(L,"yAxis",l,x));if(!ka(h)||!ka(p)||!Se(d)||!Se(f))return null;var N=a.verticalCoordinatesGenerator||tae,O=a.horizontalCoordinatesGenerator||rae,{horizontalPoints:A,verticalPoints:C}=a;if((!A||!A.length)&&typeof O=="function"){var T=y&&y.length,P=O({yAxis:_?$r($r({},_),{},{ticks:T?y:_.ticks}):void 0,width:t??h,height:r??p,offset:n},T?!0:g);Um(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(A=P)}if((!C||!C.length)&&typeof N=="function"){var D=v&&v.length,M=N({xAxis:S?$r($r({},S),{},{ticks:D?v:S.ticks}):void 0,width:t??h,height:r??p,offset:n},D?!0:g);Um(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(C=M)}return j.createElement(dn,{zIndex:a.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(Wne,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),j.createElement(Jne,go({},a,{horizontalPoints:A})),j.createElement(eae,go({},a,{verticalPoints:C})),j.createElement(Xne,go({},a,{offset:n,horizontalPoints:A,xAxis:S,yAxis:_})),j.createElement(Zne,go({},a,{offset:n,verticalPoints:C,xAxis:S,yAxis:_}))))}ec.displayName="CartesianGrid";var aae={},Y4=un({name:"errorBars",initialState:aae,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:fle,replaceErrorBar:hle,removeErrorBar:mle}=Y4.actions,iae=Y4.reducer,sae=["children"];function oae(e,t){if(e==null)return{};var r,n,a=lae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},uae=j.createContext(cae);function W4(e){var{children:t}=e,r=oae(e,sae);return j.createElement(uae.Provider,{value:r},t)}function z1(e,t){var r,n,a=Ee(h=>Ci(h,e)),s=Ee(h=>ki(h,t)),l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:gr.allowDataOverflow,d=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:yr.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function X4(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=B1(),{needClipX:s,needClipY:l,needClip:d}=z1(t,r);if(!d||!a)return null;var{x:f,y:h,width:p,height:g}=a;return j.createElement("clipPath",{id:"clipPath-".concat(n)},j.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var Z4=(e,t,r,n)=>Ns(e,"xAxis",t,n),J4=(e,t,r,n)=>_s(e,"xAxis",t,n),e5=(e,t,r,n)=>Ns(e,"yAxis",r,n),t5=(e,t,r,n)=>_s(e,"yAxis",r,n),dae=W([st,Z4,e5,J4,t5],(e,t,r,n,a)=>_i(e,"xAxis")?vc(t,n,!1):vc(r,a,!1)),fae=(e,t,r,n,a)=>a;function hae(e){return e.type==="line"}var mae=W([xg,fae],(e,t)=>e.filter(hae).find(r=>r.id===t)),pae=W([st,Z4,e5,J4,t5,mae,dae,Bj],(e,t,r,n,a,s,l,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=d;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:y}=s,v;if(y!=null&&y.length>0?v=y:v=f==null?void 0:f.slice(h,p+1),v!=null)return eie({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:v})}});function gae(e){var t=Po(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,l=Number(a),d=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(d)||d<0)&&(d=n),{r:l,strokeWidth:d}}return{r,strokeWidth:n}}var $b={exports:{}},Ub={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OP;function yae(){if(OP)return Ub;OP=1;var e=_c();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,d=e.useDebugValue;return Ub.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var v=a(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=l(function(){function _(T){if(!N){if(N=!0,O=T,T=g(T),y!==void 0&&x.hasValue){var P=x.value;if(y(P,T))return A=P}return A=T}if(P=A,r(O,T))return P;var D=g(T);return y!==void 0&&y(P,D)?(O=T,P):(O=T,A=D)}var N=!1,O,A,C=p===void 0?null:p;return[function(){return _(h())},C===null?void 0:function(){return _(C())}]},[h,p,g,y]);var S=n(f,v[0],v[1]);return s(function(){x.hasValue=!0,x.value=S},[S]),d(S),S},Ub}var EP;function vae(){return EP||(EP=1,$b.exports=yae()),$b.exports}vae();function bae(e){e()}function xae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){bae(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var AP={notify(){},get:()=>[]};function wae(e,t){let r,n=AP,a=0,s=!1;function l(S){p();const _=n.subscribe(S);let N=!1;return()=>{N||(N=!0,_(),g())}}function d(){n.notify()}function f(){x.onStateChange&&x.onStateChange()}function h(){return s}function p(){a++,r||(r=e.subscribe(f),n=xae())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=AP)}function y(){s||(s=!0,p())}function v(){s&&(s=!1,g())}const x={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>n};return x}var jae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sae=jae(),_ae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Nae=_ae(),Oae=()=>Sae||Nae?j.useLayoutEffect:j.useEffect,Eae=Oae();function CP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Aae(e,t){if(CP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!CP(e[r[a]],t[r[a]]))return!1;return!0}var zb=Symbol.for("react-redux-context"),qb=typeof globalThis<"u"?globalThis:{};function Cae(){if(!j.createContext)return{};const e=qb[zb]??(qb[zb]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var kae=Cae();function Pae(e){const{children:t,context:r,serverState:n,store:a}=e,s=j.useMemo(()=>{const f=wae(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),l=j.useMemo(()=>a.getState(),[a]);Eae(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const d=r||kae;return j.createElement(d.Provider,{value:s},t)}var Tae=Pae,Dae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Mae(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function kg(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Dae.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Aae(e[n],t[n]))return!1}else if(!Mae(e[n],t[n]))return!1;return!0}var Rae=["id"],Iae=["type","layout","connectNulls","needClip","shape"],Lae=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Rd(){return Rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rd.apply(null,arguments)}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){Bae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bae(e,t,r){return(t=$ae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ae(e){var t=Uae(e,"string");return typeof t=="symbol"?t:t+""}function Uae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q1(e,t){if(e==null)return{};var r,n,a=zae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qae=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Ic(r,t),payload:e}]},Kae=j.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:d,unit:f,tooltipType:h,id:p}=e,g={dataDefinedOnItem:r,getPosition:zo,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Ic(l,t),hide:d,type:h,color:n,unit:f,graphicalItemId:p}};return j.createElement(R1,{tooltipEntrySettings:g})}),r5=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Fae(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Qae=(e,t,r)=>{var n=r.reduce((v,x)=>v+x);if(!n)return r5(t,e);for(var a=Math.floor(e/n),s=e%n,l=t-e,d=[],f=0,h=0;f<r.length;h+=(p=r[f])!==null&&p!==void 0?p:0,++f){var p,g=r[f];if(g!=null&&h+g>s){d=[...r.slice(0,f),s-h];break}}var y=d.length%2===0?[0,l]:[l];return[...Fae(r,a),...d,...y].map(v=>"".concat(v,"px")).join(", ")};function Hae(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:l}=n,{id:d}=n,f=q1(n,Rae),h=On(f);return j.createElement(Rre,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:t})}function Vae(e){var{showLabels:t,children:r,points:n}=e,a=j.useMemo(()=>n==null?void 0:n.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return _a(_a({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[n]);return j.createElement(C4,{value:t?a:void 0},r)}function PP(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:l,layout:d,connectNulls:f,needClip:h,shape:p}=s,g=q1(s,Iae),y=_a(_a({},Vr(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:d,connectNulls:f,strokeDasharray:a??s.strokeDasharray});return j.createElement(j.Fragment,null,(n==null?void 0:n.length)>1&&j.createElement(P1,Rd({shapeType:"curve",option:p},y,{pathRef:r})),j.createElement(Hae,{points:n,clipPathId:t,props:s}))}function Gae(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Yae(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:y,width:v,height:x,onAnimationEnd:S,onAnimationStart:_}=r,N=a.current,O=sf(l,"recharts-line-"),A=j.useRef(O),[C,T]=j.useState(!1),P=!C,D=j.useCallback(()=>{typeof S=="function"&&S(),T(!1)},[S]),M=j.useCallback(()=>{typeof _=="function"&&_(),T(!0)},[_]),L=Gae(n.current),Y=j.useRef(0);A.current!==O&&(Y.current=s.current,A.current=O);var Q=Y.current;return j.createElement(Vae,{points:l,showLabels:P},r.children,j.createElement(af,{animationId:O,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:D,onAnimationStart:M,key:O},q=>{var ee=Dt(Q,L+Q,q),H=Math.min(ee,L),oe;if(f)if(d){var B="".concat(d).split(/[,\s]+/gim).map(G=>parseFloat(G));oe=Qae(H,L,B)}else oe=r5(L,H);else oe=d==null?void 0:String(d);if(q>0&&L>0&&(a.current=l,s.current=Math.max(s.current,H)),N){var V=N.length/l.length,ue=q===1?l:l.map((G,ne)=>{var I=Math.floor(ne*V);if(N[I]){var K=N[I];return _a(_a({},G),{},{x:Dt(K.x,G.x,q),y:Dt(K.y,G.y,q)})}return y?_a(_a({},G),{},{x:Dt(v*2,G.x,q),y:Dt(x/2,G.y,q)}):_a(_a({},G),{},{x:G.x,y:G.y})});return a.current=ue,j.createElement(PP,{props:r,points:ue,clipPathId:t,pathRef:n,strokeDasharray:oe})}return j.createElement(PP,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:oe})}),j.createElement(E1,{label:r.label}))}function Wae(e){var{clipPathId:t,props:r}=e,n=j.useRef(null),a=j.useRef(0),s=j.useRef(null);return j.createElement(Yae,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var Xae=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:bt(e.payload,t)}};class Zae extends j.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:l,top:d,left:f,width:h,height:p,id:g,needClip:y,zIndex:v}=this.props;if(t)return null;var x=at("recharts-line",a),S=g,{r:_,strokeWidth:N}=gae(r),O=B4(r),A=_*2+N,C=y?"url(#clipPath-".concat(O?"":"dots-").concat(S,")"):void 0;return j.createElement(dn,{zIndex:v},j.createElement(jr,{className:x},y&&j.createElement("defs",null,j.createElement(X4,{clipPathId:S,xAxisId:s,yAxisId:l}),!O&&j.createElement("clipPath",{id:"clipPath-dots-".concat(S)},j.createElement("rect",{x:f-A/2,y:d-A/2,width:h+A,height:p+A}))),j.createElement(W4,{xAxisId:s,yAxisId:l,data:n,dataPointFormatter:Xae,errorBarOffset:0},j.createElement(Wae,{props:this.props,clipPathId:S}))),j.createElement(tne,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:C}))}}var n5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:rr.line,type:"linear"};function Jae(e){var t=ar(e,n5),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,hide:h,isAnimationActive:p,label:g,legendType:y,xAxisId:v,yAxisId:x,id:S}=t,_=q1(t,Lae),{needClip:N}=z1(v,x),O=B1(),A=qo(),C=zr(),T=Ee(Y=>pae(Y,v,x,C,S));if(A!=="horizontal"&&A!=="vertical"||T==null||O==null)return null;var{height:P,width:D,x:M,y:L}=O;return j.createElement(Zae,Rd({},_,{id:S,connectNulls:d,dot:f,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:y,xAxisId:v,yAxisId:x,points:T,layout:A,height:P,width:D,left:M,top:L,needClip:N}))}function eie(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:d,displayedData:f}=e;return f.map((h,p)=>{var g=bt(h,l);if(t==="horizontal"){var y=fC({axis:r,ticks:a,bandSize:d,entry:h,index:p}),v=It(g)?null:n.scale.map(g);return{x:y,y:v??null,value:g,payload:h}}var x=It(g)?null:r.scale.map(g),S=fC({axis:n,ticks:s,bandSize:d,entry:h,index:p});return x==null||S==null?null:{x,y:S,value:g,payload:h}}).filter(Boolean)}function tie(e){var t=ar(e,n5),r=zr();return j.createElement(I1,{id:t.id,type:"line"},n=>j.createElement(j.Fragment,null,j.createElement($4,{legendPayload:qae(t)}),j.createElement(Kae,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),j.createElement(z4,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),j.createElement(Jae,Rd({},t,{id:n}))))}var pp=j.memo(tie,kg);pp.displayName="Line";function Ho(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:q4}function Vo(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:q4}var rie="Invariant failed";function nie(e,t){throw new Error(rie)}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(null,arguments)}function gp(e){return j.createElement(P1,lw({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var aie=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Se(t))return t;var s=Se(n)||It(n);return s?t(n,a):(s||nie(),r)}},iie=(e,t,r)=>r,sie=(e,t)=>t,vf=W([xg,sie],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),oie=W([vf],e=>e==null?void 0:e.maxBarSize),lie=(e,t,r,n)=>n,cie=W([st,xg,Ho,Vo,iie],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),uie=(e,t,r)=>{var n=st(e),a=Ho(e,t),s=Vo(e,t);if(!(a==null||s==null))return n==="horizontal"?tw(e,"yAxis",s,r):tw(e,"xAxis",a,r)},die=(e,t)=>{var r=st(e),n=Ho(e,t),a=Vo(e,t);if(!(n==null||a==null))return r==="horizontal"?mk(e,"xAxis",n):mk(e,"yAxis",a)},fie=W([cie,kW,die],rne),hie=(e,t,r)=>{var n,a,s=vf(e,t);if(s==null)return 0;var l=Ho(e,t),d=Vo(e,t);if(l==null||d==null)return 0;var f=st(e),h=lI(e),{maxBarSize:p}=s,g=It(p)?h:p,y,v;return f==="horizontal"?(y=Ns(e,"xAxis",l,r),v=_s(e,"xAxis",l,r)):(y=Ns(e,"yAxis",d,r),v=_s(e,"yAxis",d,r)),(n=(a=vc(y,v,!0))!==null&&a!==void 0?a:g)!==null&&n!==void 0?n:0},a5=(e,t,r)=>{var n=st(e),a=Ho(e,t),s=Vo(e,t);if(!(a==null||s==null)){var l,d;return n==="horizontal"?(l=Ns(e,"xAxis",a,r),d=_s(e,"xAxis",a,r)):(l=Ns(e,"yAxis",s,r),d=_s(e,"yAxis",s,r)),vc(l,d)}},mie=W([fie,lI,CW,cI,hie,a5,oie],one),pie=(e,t,r)=>{var n=Ho(e,t);if(n!=null)return Ns(e,"xAxis",n,r)},gie=(e,t,r)=>{var n=Vo(e,t);if(n!=null)return Ns(e,"yAxis",n,r)},yie=(e,t,r)=>{var n=Ho(e,t);if(n!=null)return _s(e,"xAxis",n,r)},vie=(e,t,r)=>{var n=Vo(e,t);if(n!=null)return _s(e,"yAxis",n,r)},bie=W([mie,vf],cne),xie=W([uie,vf],lne),wie=W([dr,oj,pie,gie,yie,vie,bie,st,wW,a5,xie,vf,lie],(e,t,r,n,a,s,l,d,f,h,p,g,y)=>{var{chartData:v,dataStartIndex:x,dataEndIndex:S}=f;if(!(g==null||l==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||n==null||a==null||s==null||h==null)){var{data:_}=g,N;if(_!=null&&_.length>0?N=_:N=v==null?void 0:v.slice(x,S+1),N!=null)return Yie({layout:d,barSettings:g,pos:l,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:N,offset:e,cells:y,dataStartIndex:x})}}),jie=["index"];function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(null,arguments)}function Sie(e,t){if(e==null)return{};var r,n,a=_ie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _ie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var i5=j.createContext(void 0),Nie=e=>{var t=j.useContext(i5);if(t!=null)return t.stackId;if(e!=null)return p7(e)},Oie=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Eie=e=>{var t=j.useContext(i5);if(t!=null){var{stackId:r}=t;return"url(#".concat(Oie(r,e),")")}},s5=e=>{var{index:t}=e,r=Sie(e,jie),n=Eie(t);return j.createElement(jr,cw({className:"recharts-bar-stack-layer",clipPath:n},r))},Aie=["onMouseEnter","onMouseLeave","onClick"],Cie=["value","background","tooltipPosition"],kie=["id"],Pie=["onMouseEnter","onClick","onMouseLeave"];function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(null,arguments)}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Tie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tie(e,t,r){return(t=Die(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Die(e){var t=Mie(e,"string");return typeof t=="symbol"?t:t+""}function Mie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yp(e,t){if(e==null)return{};var r,n,a=Rie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Iie=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Ic(r,t),payload:e}]},Lie=j.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:l,unit:d,tooltipType:f,id:h}=e,p={dataDefinedOnItem:void 0,getPosition:zo,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Ic(s,t),hide:l,type:f,color:a,unit:d,graphicalItemId:h}};return j.createElement(R1,{tooltipEntrySettings:p})});function Bie(e){var t=Ee(Os),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:d,onClick:f}=s,h=yp(s,Aie),p=T1(l,n,s.id),g=D1(d),y=M1(f,n,s.id);if(!a||r==null)return null;var v=Po(a);return j.createElement(dn,{zIndex:une(a,rr.barBackground)},r.map((x,S)=>{var{value:_,background:N,tooltipPosition:O}=x,A=yp(x,Cie);if(!N)return null;var C=p(x,S),T=g(x,S),P=y(x,S),D=Qr(Qr(Qr(Qr(Qr({option:a,isActive:String(S)===t},A),{},{fill:"#eee"},N),v),Zd(h,x,S)),{},{onMouseEnter:C,onMouseLeave:T,onClick:P,dataKey:n,index:S,className:"recharts-bar-background-rectangle"});return j.createElement(gp,xi({key:"background-bar-".concat(S)},D))}))}function $ie(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Qr(Qr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return j.createElement(C4,{value:t?a:void 0},r)}function Uie(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:l}=e,d=Ee(Os),f=Ee(x1),h=r&&String(s)===d&&(f==null||l===f),p=h?r:t;return h?j.createElement(dn,{zIndex:rr.activeBar},j.createElement(s5,{index:s},j.createElement(gp,xi({},n,{name:String(n.name)},a,{isActive:h,option:p,index:s,dataKey:l})))):j.createElement(gp,xi({},n,{name:String(n.name)},a,{isActive:h,option:p,index:s,dataKey:l}))}function zie(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return j.createElement(gp,xi({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function qie(e){var t,{data:r,props:n}=e,a=(t=On(n))!==null&&t!==void 0?t:{},{id:s}=a,l=yp(a,kie),{shape:d,dataKey:f,activeBar:h}=n,{onMouseEnter:p,onClick:g,onMouseLeave:y}=n,v=yp(n,Pie),x=T1(p,f,s),S=D1(y),_=M1(g,f,s);return r?j.createElement(j.Fragment,null,r.map((N,O)=>j.createElement(s5,xi({index:O,key:"rectangle-".concat(N==null?void 0:N.x,"-").concat(N==null?void 0:N.y,"-").concat(N==null?void 0:N.value,"-").concat(O),className:"recharts-bar-rectangle"},Zd(v,N,O),{onMouseEnter:x(N,O),onMouseLeave:S(N,O),onClick:_(N,O)}),h?j.createElement(Uie,{shape:d,activeBar:h,baseProps:l,entry:N,index:O,dataKey:f}):j.createElement(zie,{shape:d,baseProps:l,entry:N,index:O,dataKey:f})))):null}function Kie(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=t,g=r.current,y=sf(t,"recharts-bar-"),[v,x]=j.useState(!1),S=!v,_=j.useCallback(()=>{typeof h=="function"&&h(),x(!1)},[h]),N=j.useCallback(()=>{typeof p=="function"&&p(),x(!0)},[p]);return j.createElement($ie,{showLabels:S,rects:n},j.createElement(af,{animationId:y,begin:l,duration:d,isActive:s,easing:f,onAnimationEnd:_,onAnimationStart:N,key:y},O=>{var A=O===1?n:n==null?void 0:n.map((C,T)=>{var P=g&&g[T];if(P)return Qr(Qr({},C),{},{x:Dt(P.x,C.x,O),y:Dt(P.y,C.y,O),width:Dt(P.width,C.width,O),height:Dt(P.height,C.height,O)});if(a==="horizontal"){var D=Dt(0,C.height,O),M=Dt(C.stackedBarStart,C.y,O);return Qr(Qr({},C),{},{y:M,height:D})}var L=Dt(0,C.width,O),Y=Dt(C.stackedBarStart,C.x,O);return Qr(Qr({},C),{},{width:L,x:Y})});return O>0&&(r.current=A??null),A==null?null:j.createElement(jr,null,j.createElement(qie,{props:t,data:A}))}),j.createElement(E1,{label:t.label}),t.children)}function Fie(e){var t=j.useRef(null);return j.createElement(Kie,{previousRectanglesRef:t,props:e})}var o5=0,Qie=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:bt(e,t)}};class Hie extends j.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(t||r==null)return null;var p=at("recharts-bar",a),g=h;return j.createElement(jr,{className:p,id:h},d&&j.createElement("defs",null,j.createElement(X4,{clipPathId:g,xAxisId:s,yAxisId:l})),j.createElement(jr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},j.createElement(Bie,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),j.createElement(Fie,this.props)))}}var Vie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:o5,xAxisId:0,yAxisId:0,zIndex:rr.bar};function Gie(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=e,{needClip:g}=z1(t,r),y=qo(),v=zr(),x=k1(e.children,Qo),S=Ee(O=>wie(O,e.id,v,x));if(y!=="vertical"&&y!=="horizontal")return null;var _,N=S==null?void 0:S[0];return N==null||N.height==null||N.width==null?_=0:_=y==="vertical"?N.height/2:N.width/2,j.createElement(W4,{xAxisId:t,yAxisId:r,data:S,dataPointFormatter:Qie,errorBarOffset:_},j.createElement(Hie,xi({},e,{layout:y,needClip:g,data:S,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Yie(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:y,cells:v,parentViewBox:x,dataStartIndex:S}=e,_=t==="horizontal"?d:l,N=p?_.scale.domain():null,O=g7({numericAxis:_}),A=_.scale.map(O);return g.map((C,T)=>{var P,D,M,L,Y,Q;if(p){var q=p[T+S];if(q==null)return null;P=u7(q,N)}else P=bt(C,r),Array.isArray(P)||(P=[O,P]);var ee=aie(n,o5)(P[1],T);if(t==="horizontal"){var H,oe=d.scale.map(P[0]),B=d.scale.map(P[1]);if(oe==null||B==null)return null;D=hC({axis:l,ticks:f,bandSize:s,offset:a.offset,entry:C,index:T}),M=(H=B??oe)!==null&&H!==void 0?H:void 0,L=a.size;var V=oe-B;if(Y=Aa(V)?0:V,Q={x:D,y:y.top,width:L,height:y.height},Math.abs(ee)>0&&Math.abs(Y)<Math.abs(ee)){var ue=wr(Y||ee)*(Math.abs(ee)-Math.abs(Y));M-=ue,Y+=ue}}else{var G=l.scale.map(P[0]),ne=l.scale.map(P[1]);if(G==null||ne==null)return null;if(D=G,M=hC({axis:d,ticks:h,bandSize:s,offset:a.offset,entry:C,index:T}),L=ne-G,Y=a.size,Q={x:y.left,y:M,width:y.width,height:Y},Math.abs(ee)>0&&Math.abs(L)<Math.abs(ee)){var I=wr(L||ee)*(Math.abs(ee)-Math.abs(L));L+=I}}if(D==null||M==null||L==null||Y==null)return null;var K=Qr(Qr({},C),{},{stackedBarStart:A,x:D,y:M,width:L,height:Y,value:p?P:P[1],payload:C,background:Q,tooltipPosition:{x:D+L/2,y:M+Y/2},parentViewBox:x},v&&v[T]&&v[T].props);return K}).filter(Boolean)}function Wie(e){var t=ar(e,Vie),r=Nie(t.stackId),n=zr();return j.createElement(I1,{id:t.id,type:"bar"},a=>j.createElement(j.Fragment,null,j.createElement($4,{legendPayload:Iie(t)}),j.createElement(Lie,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),j.createElement(z4,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),j.createElement(dn,{zIndex:t.zIndex},j.createElement(Gie,xi({},t,{id:a})))))}var si=j.memo(Wie,kg);si.displayName="Bar";var Xie=["domain","range"],Zie=["domain","range"];function DP(e,t){if(e==null)return{};var r,n,a=Jie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function l5(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=DP(e,Xie),{domain:s,range:l}=t,d=DP(t,Zie);return!MP(r,s)||!MP(n,l)?!1:kg(a,d)}var ese=["type"],tse=["dangerouslySetInnerHTML","ticks","scale"],rse=["id","scale"];function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(null,arguments)}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){nse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nse(e,t,r){return(t=ase(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ase(e){var t=ise(e,"string");return typeof t=="symbol"?t:t+""}function ise(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dw(e,t){if(e==null)return{};var r,n,a=sse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ose(e){var t=_t(),r=j.useRef(null),n=YM(),{type:a}=e,s=dw(e,ese),l=pg(n,"xAxis",a),d=j.useMemo(()=>{if(l!=null)return IP(IP({},s),{},{type:l})},[s,l]);return j.useLayoutEffect(()=>{d!=null&&(r.current===null?t(Ure(d)):r.current!==d&&t(zre({prev:r.current,next:d})),r.current=d)},[d,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(qre(r.current)),r.current=null)},[t]),null}var lse=e=>{var{xAxisId:t,className:r}=e,n=Ee(oj),a=zr(),s="xAxis",l=Ee(N=>qI(N,s,t,a)),d=Ee(N=>BI(N,t)),f=Ee(N=>kX(N,t)),h=Ee(N=>bI(N,t));if(d==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:y}=e,v=dw(e,tse),{id:x,scale:S}=h,_=dw(h,rse);return j.createElement(U1,uw({},v,_,{x:f.x,y:f.y,width:d.width,height:d.height,className:at("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},cse={allowDataOverflow:gr.allowDataOverflow,allowDecimals:gr.allowDecimals,allowDuplicatedCategory:gr.allowDuplicatedCategory,angle:gr.angle,axisLine:di.axisLine,height:gr.height,hide:!1,includeHidden:gr.includeHidden,interval:gr.interval,label:!1,minTickGap:gr.minTickGap,mirror:gr.mirror,orientation:gr.orientation,padding:gr.padding,reversed:gr.reversed,scale:gr.scale,tick:gr.tick,tickCount:gr.tickCount,tickLine:di.tickLine,tickSize:di.tickSize,type:gr.type,xAxisId:0},use=e=>{var t=ar(e,cse);return j.createElement(j.Fragment,null,j.createElement(ose,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),j.createElement(lse,t))},tc=j.memo(use,l5);tc.displayName="XAxis";var dse=["type"],fse=["dangerouslySetInnerHTML","ticks","scale"],hse=["id","scale"];function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fw.apply(null,arguments)}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){mse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mse(e,t,r){return(t=pse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pse(e){var t=gse(e,"string");return typeof t=="symbol"?t:t+""}function gse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hw(e,t){if(e==null)return{};var r,n,a=yse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vse(e){var t=_t(),r=j.useRef(null),n=YM(),{type:a}=e,s=hw(e,dse),l=pg(n,"yAxis",a),d=j.useMemo(()=>{if(l!=null)return BP(BP({},s),{},{type:l})},[l,s]);return j.useLayoutEffect(()=>{d!=null&&(r.current===null?t(Kre(d)):r.current!==d&&t(Fre({prev:r.current,next:d})),r.current=d)},[d,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(Qre(r.current)),r.current=null)},[t]),null}function bse(e){var{yAxisId:t,className:r,width:n,label:a}=e,s=j.useRef(null),l=j.useRef(null),d=Ee(oj),f=zr(),h=_t(),p="yAxis",g=Ee(P=>$I(P,t)),y=Ee(P=>TX(P,t)),v=Ee(P=>qI(P,p,t,f)),x=Ee(P=>xI(P,t));if(j.useLayoutEffect(()=>{if(!(n!=="auto"||!g||O1(a)||j.isValidElement(a)||x==null)){var P=s.current;if(P){var D=P.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&h(Hre({id:t,width:D}))}}},[v,g,h,a,t,n,x]),g==null||y==null||x==null)return null;var{dangerouslySetInnerHTML:S,ticks:_,scale:N}=e,O=hw(e,fse),{id:A,scale:C}=x,T=hw(x,hse);return j.createElement(U1,fw({},O,T,{ref:s,labelRef:l,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:at("recharts-".concat(p," ").concat(p),r),viewBox:d,ticks:v,axisType:p}))}var xse={allowDataOverflow:yr.allowDataOverflow,allowDecimals:yr.allowDecimals,allowDuplicatedCategory:yr.allowDuplicatedCategory,angle:yr.angle,axisLine:di.axisLine,hide:!1,includeHidden:yr.includeHidden,interval:yr.interval,label:!1,minTickGap:yr.minTickGap,mirror:yr.mirror,orientation:yr.orientation,padding:yr.padding,reversed:yr.reversed,scale:yr.scale,tick:yr.tick,tickCount:yr.tickCount,tickLine:di.tickLine,tickSize:di.tickSize,type:yr.type,width:yr.width,yAxisId:0},wse=e=>{var t=ar(e,xse);return j.createElement(j.Fragment,null,j.createElement(vse,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),j.createElement(bse,t))},rc=j.memo(wse,l5);rc.displayName="YAxis";var jse=(e,t)=>t,K1=W([jse,st,gI,_r,i4,Pi,GZ,dr],tJ),F1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},c5=Gn("mouseClick"),u5=ef();u5.startListening({actionCreator:c5,effect:(e,t)=>{var r=e.payload,n=K1(t.getState(),F1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(HX({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var mw=Gn("mouseMove"),d5=ef(),lm=null;d5.startListening({actionCreator:mw,effect:(e,t)=>{var r=e.payload;lm!==null&&cancelAnimationFrame(lm);var n=F1(r);lm=requestAnimationFrame(()=>{var a=t.getState(),s=m1(a,a.tooltip.settings.shared);if(s==="axis"){var l=K1(a,n);(l==null?void 0:l.activeIndex)!=null?t.dispatch(WI({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(YI())}lm=null})}});function Sse(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var $P={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},f5=un({name:"rootProps",initialState:$P,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:$P.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),_se=f5.reducer,{updateOptions:Nse}=f5.actions,Ose=null,Ese={updatePolarOptions:(e,t)=>t.payload},h5=un({name:"polarOptions",initialState:Ose,reducers:Ese}),{updatePolarOptions:Ase}=h5.actions,Cse=h5.reducer,m5=Gn("keyDown"),p5=Gn("focus"),Q1=ef();Q1.startListening({actionCreator:m5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=p1(a,Qc(r),mf(r),gf(r)),d=l==null?-1:Number(l);if(!(!Number.isFinite(d)||d<0)){var f=Pi(r);if(s==="Enter"){var h=cp(r,"axis","hover",String(a.index));t.dispatch(nw({active:!a.active,activeIndex:a.index,activeCoordinate:h}));return}var p=IX(r),g=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,v=d+y*g;if(!(f==null||v>=f.length||v<0)){var x=cp(r,"axis","hover",String(v));t.dispatch(nw({active:!0,activeIndex:v.toString(),activeCoordinate:x}))}}}}}});Q1.startListening({actionCreator:p5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=cp(r,"axis","hover",String(s));t.dispatch(nw({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var qn=Gn("externalEvent"),g5=ef(),Kb=new Map;g5.startListening({actionCreator:qn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=Kb.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var d=t.getState(),f={activeCoordinate:TZ(d),activeDataKey:x1(d),activeIndex:Os(d),activeLabel:l4(d),activeTooltipIndex:Os(d),isTooltipActive:DZ(d)};r(f,n)}finally{Kb.delete(a)}});Kb.set(a,l)}}});var kse=W([Kc],e=>e.tooltipItemPayloads),Pse=W([kse,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),y5=Gn("touchMove"),v5=ef();v5.startListening({actionCreator:y5,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=m1(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var l=K1(n,F1({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(WI({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var d,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(KM),g=(d=h.getAttribute(FM))!==null&&d!==void 0?d:void 0,y=Fc(n).find(S=>S.id===g);if(p==null||y==null||g==null)return;var{dataKey:v}=y,x=Pse(n,p,g);t.dispatch(GI({activeDataKey:v,activeIndex:p,activeCoordinate:x,activeGraphicalItemId:g}))}}}});var Tse=dM({brush:dne,cartesianAxis:Vre,chartData:TJ,errorBars:iae,graphicalItems:ere,layout:i7,legend:fH,options:EJ,polarAxis:mte,polarOptions:Cse,referenceElements:pne,rootProps:_se,tooltip:VX,zIndex:pJ}),Dse=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return kQ({reducer:Tse,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([u5.middleware,d5.middleware,Q1.middleware,g5.middleware,v5.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(OM({type:"raf"}))},devTools:{serialize:{replacer:Sse},name:"recharts-".concat(r)}})};function b5(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=zr(),s=j.useRef(null);if(a)return r;s.current==null&&(s.current=Dse(t,n));var l=ej;return j.createElement(Tae,{context:l,store:s.current},r)}function Mse(e){var{layout:t,margin:r}=e,n=_t(),a=zr();return j.useEffect(()=>{a||(n(r7(t)),n(t7(r)))},[n,a,t,r]),null}var x5=j.memo(Mse,kg);function w5(e){var t=_t();return j.useEffect(()=>{t(Nse(e))},[t,e]),null}function UP(e){var{zIndex:t,isPanorama:r}=e,n=j.useRef(null),a=_t();return j.useLayoutEffect(()=>(n.current&&a(hJ({zIndex:t,element:n.current,isPanorama:r})),()=>{a(mJ({zIndex:t,isPanorama:r}))}),[a,t,r]),j.createElement("g",{tabIndex:-1,ref:n})}function zP(e){var{children:t,isPanorama:r}=e,n=Ee(nJ);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),s=n.filter(l=>l>0);return j.createElement(j.Fragment,null,a.map(l=>j.createElement(UP,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>j.createElement(UP,{key:l,zIndex:l,isPanorama:r})))}var Rse=["children"];function Ise(e,t){if(e==null)return{};var r,n,a=Lse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(null,arguments)}var Bse={width:"100%",height:"100%",display:"block"},$se=j.forwardRef((e,t)=>{var r=uj(),n=dj(),a=oR();if(!ka(r)||!ka(n))return null;var{children:s,otherAttributes:l,title:d,desc:f}=e,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0),j.createElement(Kw,vp({},l,{title:d,desc:f,role:p,tabIndex:h,width:r,height:n,style:Bse,ref:t}),s)}),Use=e=>{var{children:t}=e,r=Ee(tg);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return j.createElement(Kw,{width:n,height:a,x:l,y:s},t)},qP=j.forwardRef((e,t)=>{var{children:r}=e,n=Ise(e,Rse),a=zr();return a?j.createElement(Use,null,j.createElement(zP,{isPanorama:!0},r)):j.createElement($se,vp({ref:t},n),j.createElement(zP,{isPanorama:!1},r))});function zse(){var e=_t(),[t,r]=j.useState(null),n=Ee(j7);return j.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Je(s)&&s!==n&&e(a7(s))}},[t,e,n]),r}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){Kse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kse(e,t,r){return(t=Fse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fse(e){var t=Qse(e,"string");return typeof t=="symbol"?t:t+""}function Qse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},js.apply(null,arguments)}var Hse=()=>(zJ(),null);function bp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Vse=j.forwardRef((e,t)=>{var r,n,a=j.useRef(null),[s,l]=j.useState({containerWidth:bp((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:bp((n=e.style)===null||n===void 0?void 0:n.height)}),d=j.useCallback((h,p)=>{l(g=>{var y=Math.round(h),v=Math.round(p);return g.containerWidth===y&&g.containerHeight===v?g:{containerWidth:y,containerHeight:v}})},[]),f=j.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var y=x=>{var S=x[0];if(S!=null){var{width:_,height:N}=S.contentRect;d(_,N)}},v=new ResizeObserver(y);v.observe(h),a.current=v}},[t,d]);return j.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[d]),j.createElement(j.Fragment,null,j.createElement(rf,{width:s.containerWidth,height:s.containerHeight}),j.createElement("div",js({ref:f},e)))}),Gse=j.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=j.useState({containerWidth:bp(r),containerHeight:bp(n)}),l=j.useCallback((f,h)=>{s(p=>{var g=Math.round(f),y=Math.round(h);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),d=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[t,l]);return j.createElement(j.Fragment,null,j.createElement(rf,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",js({ref:d},e)))}),Yse=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return j.createElement(j.Fragment,null,j.createElement(rf,{width:r,height:n}),j.createElement("div",js({ref:t},e)))}),Wse=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?j.createElement(Gse,js({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?j.createElement(Yse,js({},e,{width:r,height:n,ref:t})):j.createElement(j.Fragment,null,j.createElement(rf,{width:r,height:n}),j.createElement("div",js({ref:t},e)))});function Xse(e){return e?Vse:Wse}var Zse=j.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:y,onTouchEnd:v,onTouchMove:x,onTouchStart:S,style:_,width:N,responsive:O,dispatchTouchEvents:A=!0}=e,C=j.useRef(null),T=_t(),[P,D]=j.useState(null),[M,L]=j.useState(null),Y=zse(),Q=lj(),q=(Q==null?void 0:Q.width)>0?Q.width:N,ee=(Q==null?void 0:Q.height)>0?Q.height:a,H=j.useCallback(R=>{Y(R),typeof t=="function"&&t(R),D(R),L(R),R!=null&&(C.current=R)},[Y,t,D,L]),oe=j.useCallback(R=>{T(c5(R)),T(qn({handler:s,reactEvent:R}))},[T,s]),B=j.useCallback(R=>{T(mw(R)),T(qn({handler:h,reactEvent:R}))},[T,h]),V=j.useCallback(R=>{T(YI()),T(qn({handler:p,reactEvent:R}))},[T,p]),ue=j.useCallback(R=>{T(mw(R)),T(qn({handler:g,reactEvent:R}))},[T,g]),G=j.useCallback(()=>{T(p5())},[T]),ne=j.useCallback(R=>{T(m5(R.key))},[T]),I=j.useCallback(R=>{T(qn({handler:l,reactEvent:R}))},[T,l]),K=j.useCallback(R=>{T(qn({handler:d,reactEvent:R}))},[T,d]),he=j.useCallback(R=>{T(qn({handler:f,reactEvent:R}))},[T,f]),ge=j.useCallback(R=>{T(qn({handler:y,reactEvent:R}))},[T,y]),xe=j.useCallback(R=>{T(qn({handler:S,reactEvent:R}))},[T,S]),je=j.useCallback(R=>{A&&T(y5(R)),T(qn({handler:x,reactEvent:R}))},[T,A,x]),Ne=j.useCallback(R=>{T(qn({handler:v,reactEvent:R}))},[T,v]),te=Xse(O);return j.createElement(p4.Provider,{value:P},j.createElement(AD.Provider,{value:M},j.createElement(te,{width:q??(_==null?void 0:_.width),height:ee??(_==null?void 0:_.height),className:at("recharts-wrapper",n),style:qse({position:"relative",cursor:"default",width:q,height:ee},_),onClick:oe,onContextMenu:I,onDoubleClick:K,onFocus:G,onKeyDown:ne,onMouseDown:he,onMouseEnter:B,onMouseLeave:V,onMouseMove:ue,onMouseUp:ge,onTouchEnd:Ne,onTouchMove:je,onTouchStart:xe,ref:H},j.createElement(Hse,null),r)))}),Jse=["width","height","responsive","children","className","style","compact","title","desc"];function eoe(e,t){if(e==null)return{};var r,n,a=toe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function toe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var j5=j.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:d,compact:f,title:h,desc:p}=e,g=eoe(e,Jse),y=On(g);return f?j.createElement(j.Fragment,null,j.createElement(rf,{width:r,height:n}),j.createElement(qP,{otherAttributes:y,title:h,desc:p},s)):j.createElement(Zse,{className:l,style:d,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(qP,{otherAttributes:y,title:h,desc:p,ref:t},j.createElement(yne,null,s)))});function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(null,arguments)}var roe={top:5,right:5,bottom:5,left:5},noe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:roe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},S5=j.forwardRef(function(t,r){var n,a=ar(t.categoricalChartProps,noe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return j.createElement(b5,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},j.createElement(F4,{chartData:h.data}),j.createElement(x5,{layout:a.layout,margin:a.margin}),j.createElement(w5,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(j5,pw({},a,{ref:r})))}),aoe=["axis","item"],_5=j.forwardRef((e,t)=>j.createElement(S5,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:aoe,tooltipPayloadSearcher:N1,categoricalChartProps:e,ref:t}));function ioe(e){var t=_t();return j.useEffect(()=>{t(Ase(e))},[t,e]),null}var soe=["layout"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(null,arguments)}function ooe(e,t){if(e==null)return{};var r,n,a=loe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function loe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var coe={top:5,right:5,bottom:5,left:5},N5={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:coe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},uoe=j.forwardRef(function(t,r){var n,a=ar(t.categoricalChartProps,N5),{layout:s}=a,l=ooe(a,soe),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=t,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return j.createElement(b5,{preloadedState:{options:g},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:d},j.createElement(F4,{chartData:a.data}),j.createElement(x5,{layout:s,margin:a.margin}),j.createElement(w5,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(ioe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),j.createElement(j5,gw({},l,{ref:r})))});function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(n){doe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function doe(e,t,r){return(t=foe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function foe(e){var t=hoe(e,"string");return typeof t=="symbol"?t:t+""}function hoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var moe=["item"],poe=QP(QP({},N5),{},{layout:"centric",startAngle:0,endAngle:360}),O5=j.forwardRef((e,t)=>{var r=ar(e,poe);return j.createElement(uoe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:moe,tooltipPayloadSearcher:N1,categoricalChartProps:r,ref:t})}),goe=["axis"],yw=j.forwardRef((e,t)=>j.createElement(S5,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:goe,tooltipPayloadSearcher:N1,categoricalChartProps:e,ref:t}));const yoe=()=>{const e=ve.currentUser,[t,r]=j.useState(window.innerWidth<768);if(j.useEffect(()=>{const G=()=>r(window.innerWidth<768);return window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[]),!e)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Not Authenticated"});const n=e.role===At.ADMIN,[a,s]=j.useState("All Time"),[l,d]=j.useState({from:"",to:""}),{data:f=[],isPending:h}=Pc(),{data:p=[],isPending:g}=Tc(),{data:y=[],isPending:v}=Dc(),{data:x=[],isPending:S}=ks(),{data:_=[]}=Ps(),N=h||g||v||S,O=j.useMemo(()=>f.filter(G=>o0(G.orderDate,a,l)),[f,a,l]),A=j.useMemo(()=>p.filter(G=>o0(G.billDate,a,l)),[p,a,l]),C=j.useMemo(()=>y.filter(G=>o0(G.date,a,l)),[y,a,l]),T=C.filter(G=>G.type==="Income"&&!!G.referenceId).reduce((G,ne)=>G+ne.amount,0),P=T>0?T:O.filter(G=>G.status===Le.COMPLETED).reduce((G,ne)=>G+ne.total,0),D=C.filter(G=>G.type==="Expense"&&G.category==="expense_purchases").reduce((G,ne)=>G+ne.amount,0),M=D>0?D:A.reduce((G,ne)=>G+ne.total,0),L=C.filter(G=>G.type==="Expense"&&G.category!=="expense_purchases").reduce((G,ne)=>G+ne.amount,0),Y=P-M-L,Q={total:O.length,processing:O.filter(G=>G.status===Le.PROCESSING).length,picked:O.filter(G=>G.status===Le.PICKED).length,completed:O.filter(G=>G.status===Le.COMPLETED).length};O.reduce((G,ne)=>G+(ne.total-ne.paidAmount),0),A.reduce((G,ne)=>G+(ne.total-ne.paidAmount),0);const q=f.filter(G=>G.createdBy===e.id).length,ee=new Date().toISOString().split("T")[0],H=f.filter(G=>G.createdBy===e.id&&G.orderDate===ee).length,oe=f.filter(G=>G.createdBy===e.id&&G.status===Le.ON_HOLD).length,B=j.useMemo(()=>{const G=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ne=new Date().getFullYear(),I={};return G.forEach(K=>{I[K]={income:0,expense:0}}),y.forEach(K=>{const he=new Date(K.date);if(he.getFullYear()!==ne)return;const ge=he.getMonth(),xe=G[ge];K.type==="Income"?I[xe].income+=K.amount:K.type==="Expense"&&(I[xe].expense+=K.amount)}),G.map(K=>({name:K,income:I[K].income,expense:-I[K].expense,profit:I[K].income-I[K].expense}))},[f,p,y]),V=j.useMemo(()=>{const G=new Map(_.map(je=>[je.id,je.name])),ne={},I={},K=["#10B981","#3B82F6","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16"];let he=0;M>0&&(ne.Purchases=M,I.Purchases=K[he++]),C.filter(je=>je.type==="Expense"&&je.category!=="expense_purchases").forEach(je=>{const Ne=G.get(je.category)||je.category||"Uncategorized";ne[Ne]=(ne[Ne]||0)+je.amount,I[Ne]||(I[Ne]=K[he%K.length],he++)});const xe=Object.entries(ne).map(([je,Ne])=>({name:je,value:Math.max(Ne,1),color:I[je]}));return xe.length>0?xe:[{name:"No Data",value:1,color:"#D1D5DB"}]},[C,M,_]),ue=x.map(G=>({name:G.name.split(" ")[0],orders:O.filter(ne=>ne.createdBy===G.id).length})).sort((G,ne)=>ne.orders-G.orders);return n?c.jsxs("div",{className:"space-y-6",children:[c.jsx(Vd,{isLoading:N,message:"Loading dashboard data..."}),c.jsx(gc,{filterRange:a,setFilterRange:s,customDates:l,setCustomDates:d}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(ea,{title:"Total Sales",value:be(P),icon:ae.Sales,bgColor:"bg-blue-600",textColor:"text-white",iconBgColor:"bg-blue-700"}),c.jsx(ea,{title:"Total Purchases",value:be(M),icon:ae.Briefcase,bgColor:"bg-purple-600",textColor:"text-white",iconBgColor:"bg-purple-700"}),c.jsx(ea,{title:"Other Expenses",value:be(L),icon:ae.Delete,bgColor:"bg-amber-500",textColor:"text-white",iconBgColor:"bg-amber-600"}),c.jsx(ea,{title:"Total Profit",value:be(Y),icon:ae.Reports,isProfitCard:!0,profitValue:Y}),c.jsx(ea,{title:"Total Orders",value:Q.total,icon:ae.Dashboard,bgColor:"bg-indigo-700",textColor:"text-white",iconBgColor:"bg-indigo-800"}),c.jsx(ea,{title:"Processing Orders",value:Q.processing,icon:ae.More,bgColor:"bg-sky-500",textColor:"text-white",iconBgColor:"bg-sky-600"}),c.jsx(ea,{title:"Picked Orders",value:Q.picked,icon:ae.Courier,bgColor:"bg-cyan-500",textColor:"text-white",iconBgColor:"bg-cyan-600"}),c.jsx(ea,{title:"Completed Orders",value:Q.completed,icon:ae.PlusCircle,bgColor:"bg-teal-600",textColor:"text-white",iconBgColor:"bg-teal-700"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsx("div",{children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Cash Flow"})}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-[#059669]"}),c.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Income"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),c.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Expense"})]})]})]}),c.jsx("div",{className:"h-[250px]",children:c.jsx(Zl,{width:"100%",height:"100%",children:t?c.jsxs(yw,{data:B,margin:{top:10,right:0,left:-20,bottom:0},children:[c.jsx(ec,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(tc,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(rc,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(po,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f8fafc"}}),c.jsx(si,{dataKey:"income",fill:"#059669",radius:[4,4,0,0],barSize:40}),c.jsx(si,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],barSize:40}),c.jsx(pp,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"}})]}):c.jsxs(yw,{data:B,children:[c.jsx(ec,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(tc,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(rc,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(po,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f8fafc"}}),c.jsx(si,{dataKey:"income",fill:"#059669",radius:[4,4,0,0],barSize:40}),c.jsx(si,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],barSize:40}),c.jsx(pp,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"}})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("div",{className:"flex items-center justify-between mb-8",children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Profit & Loss Summary"})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg",children:[c.jsx("span",{className:"font-bold text-gray-600 text-sm",children:"Total Incomes"}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:be(P)})]}),c.jsxs("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg",children:[c.jsx("span",{className:"font-bold text-gray-600 text-sm",children:"Total Expenses"}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:be(M+L)})]}),c.jsxs("div",{className:`flex justify-between items-center p-6 rounded-xl shadow-xl text-white
                  ${Y>=0?"bg-emerald-600 shadow-emerald-600/20":"bg-red-600 shadow-red-600/20"}
                `,children:[c.jsx("span",{className:"font-black uppercase tracking-widest text-sm",children:"Net Profit"}),c.jsx("span",{className:"font-black text-sm",children:be(Y)})]})]})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-8",children:"Expenses by Category"}),c.jsx("div",{className:"h-[300px]",children:c.jsx(Zl,{width:"100%",height:"100%",children:c.jsxs(O5,{children:[c.jsx(L1,{data:V,innerRadius:0,outerRadius:100,dataKey:"value",children:V.map((G,ne)=>c.jsx(Qo,{fill:G.color},`cell-${ne}`))}),c.jsx(po,{}),t?c.jsx(Od,{verticalAlign:"bottom",align:"center",layout:"horizontal",wrapperStyle:{paddingTop:"20px"}}):c.jsx(Od,{verticalAlign:"middle",align:"right",layout:"vertical"})]})})})]})]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx(gc,{filterRange:a,setFilterRange:s,customDates:l,setCustomDates:d}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(ea,{title:"Total Created",value:q,icon:ae.Sales,bgColor:"bg-blue-600",textColor:"text-white",iconBgColor:"bg-blue-700"}),c.jsx(ea,{title:"Created Today",value:H,icon:ae.Dashboard,bgColor:"bg-teal-500",textColor:"text-white",iconBgColor:"bg-teal-600"}),c.jsx(ea,{title:"Pending (Hold)",value:oe,icon:ae.More,bgColor:"bg-orange-500",textColor:"text-white",iconBgColor:"bg-orange-600"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Performance"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Comparing total orders across all employees"})]}),c.jsx("div",{className:"h-[400px]",children:c.jsx(Zl,{width:"100%",height:"100%",children:c.jsxs(_5,{data:ue,children:[c.jsx(ec,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(tc,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:700,fill:"#64748b"}}),c.jsx(rc,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:700,fill:"#64748b"}}),c.jsx(po,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),c.jsx(si,{dataKey:"orders",fill:"#10B981",radius:[12,12,0,0]})]})})})]})]})},E5=({anchorEl:e,open:t,onClose:r,children:n,align:a="right"})=>{const[s,l]=j.useState(null);if(j.useEffect(()=>{if(!t||!e){l(null);return}const f=()=>{const h=e.getBoundingClientRect(),g=a==="right"?h.right-200:h.left,y=h.bottom+8;l({top:y,left:g})};return f(),window.addEventListener("resize",f),window.addEventListener("scroll",f,!0),()=>{window.removeEventListener("resize",f),window.removeEventListener("scroll",f,!0)}},[e,t,a]),j.useEffect(()=>{if(!t)return;const f=h=>{const p=h.target;if(!e||e.contains(p))return;const g=document.getElementById("portal-menu-root");g&&g.contains(p)||r()};return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[t,e,r]),!t||!s)return null;const d=c.jsx("div",{id:"portal-menu-root",className:"fixed left-0 top-0 z-[2000] pointer-events-none",children:c.jsx("div",{style:{position:"fixed",top:s.top,left:s.left},className:"pointer-events-auto w-48 bg-white border border-gray-100 rounded-lg shadow-2xl py-2",children:n})});return Sp.createPortal(d,document.body)},xp=(e,t)=>{t(`/print-order/${e}`)},voe=()=>{setTimeout(()=>{window.print()},100)},boe=()=>{const e=mt(),t=$e(),r=Mr(),{searchQuery:n}=Da(),a=ve.currentUser,s=(a==null?void 0:a.role)===At.ADMIN,l=(a==null?void 0:a.role)===At.EMPLOYEE,[d,f]=j.useState("All Time"),[h,p]=j.useState({from:"",to:""}),[g,y]=j.useState("All"),[v,x]=j.useState(null),[S,_]=j.useState(null),[N,O]=j.useState(null),[A,C]=j.useState(null),[T,P]=j.useState(null),[D,M]=j.useState(null),[L,Y]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:0}),{data:Q=[],isPending:q}=Pc(),{data:ee=[]}=As(),{data:H=[]}=Cs(),{data:oe=[]}=ks(),{data:B}=Ip();Bp();const V=O9(),ue=Gd(),G=Wd(),ne=Yd(),I=j.useMemo(()=>new Map(oe.map(te=>[te.id,te])),[oe]),K=te=>{if(d==="All Time")return!0;const R=new Date(te),de=new Date;if(d==="Today")return R.toDateString()===de.toDateString();if(d==="This Week"){const pe=de.getDate()-de.getDay(),se=new Date(new Date().setDate(pe)),Me=new Date(new Date().setDate(pe+6));return R>=se&&R<=Me}return d==="This Month"?R.getMonth()===de.getMonth()&&R.getFullYear()===de.getFullYear():d==="This Year"?R.getFullYear()===de.getFullYear():d==="Custom"?!h.from||!h.to?!0:R>=new Date(h.from)&&R<=new Date(h.to):!0},he=te=>{var R,de;if((R=te.createdBy)!=null&&R.trim()){const pe=I.get(te.createdBy);if(pe!=null&&pe.name)return pe.name}if((de=te.history)!=null&&de.created){const pe=te.history.created.match(/^(.+?)\s+created this order on/);if(pe&&pe[1])return pe[1]}return null},ge=j.useMemo(()=>{let te=Q.filter(R=>K(R.orderDate)).filter(R=>g==="All"||R.status===g);if(n.trim()){const R=n.toLowerCase();te=te.filter(de=>{const pe=ee.find(Me=>Me.id===de.customerId),se=he(de);return de.orderNumber.toLowerCase().includes(R)||(pe==null?void 0:pe.name.toLowerCase().includes(R))||(pe==null?void 0:pe.phone.includes(R))||(se==null?void 0:se.toLowerCase().includes(R))})}return te},[Q,d,h,g,n,ee]),xe=async te=>{if(confirm("Are you sure you want to delete this order?"))try{await V.mutateAsync(te),t.invalidateQueries({queryKey:["orders"]})}catch(R){console.error("Failed to delete order",R)}},je=te=>{Y({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:te.total-te.paidAmount}),C(te)},Ne=async()=>{if(!A)return;const te=A;try{let R=H.find(ir=>ir.id===L.accountId);if(!R){if(!L.accountId){r.error("Please select an account");return}R={id:L.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const de=L.amount<te.total,[pe,se]=L.time.split(":").map(Number),Me=new Date(L.date);Me.setHours(pe,se,0,0);const ke=Me.toISOString(),He={date:ke,type:"Income",category:ve.settings.defaults.incomeCategoryId||"income_sales",accountId:L.accountId,amount:te.total,description:`Payment for Order #${te.orderNumber}`,referenceId:te.id,contactId:te.customerId,paymentMethod:ve.settings.defaults.paymentMethod||"Cash",createdBy:a.id};if(de){const ir=te.total-L.amount,le={date:ke,type:"Expense",category:"expense_shipping",accountId:L.accountId,amount:ir,description:`Shipping costs for Order #${te.orderNumber}`,paymentMethod:ve.settings.defaults.paymentMethod||"Cash",createdBy:a.id};await Promise.all([G.mutateAsync(He),G.mutateAsync(le)])}else await G.mutateAsync(He);const et=L.amount,Yt=(te.paidAmount??0)+L.amount,Rr=Le.COMPLETED;await Promise.all([ne.mutateAsync({id:R.id,updates:{currentBalance:(R.currentBalance??0)+et}}),ue.mutateAsync({id:te.id,updates:{paidAmount:Yt,status:Rr}})]),C(null),t.invalidateQueries({queryKey:["orders"]})}catch(R){console.error("Failed to add payment:",R),r.error("Failed to add payment: "+(R instanceof Error?R.message:"Unknown error"))}};return c.jsxs("div",{className:"space-y-6 pb-12",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:"Orders"})}),c.jsx(Qe,{onClick:()=>e("/orders/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Order"})]}),c.jsx(gc,{title:"Orders",filterRange:d,setFilterRange:f,customDates:h,setCustomDates:p,statusTab:g,setStatusTab:y,statusOptions:Object.values(Le)}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-visible",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Order Details"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Customer"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Created By"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Status"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] text-right",children:"Net Amount"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] sm:hidden",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:q?c.jsx(Dp,{columns:6,rows:8}):ge.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:"No sales orders found for this period."})}):ge.map(te=>{var pe,se,Me,ke,He,et,Yt,Rr;const R=s||te.status===Le.ON_HOLD,de=te.createdBy===(a==null?void 0:a.id);return c.jsxs("tr",{onMouseEnter:()=>x(te.id),onMouseLeave:()=>x(null),onClick:()=>e(`/orders/${te.id}`),className:"group relative hover:bg-[#ebf4ff]/20 cursor-pointer transition-all",children:[c.jsxs("td",{className:"px-6 py-5",children:[c.jsxs("span",{className:"font-black text-gray-900",children:["#",te.orderNumber]}),c.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-1 tracking-tight",children:new Date(te.orderDate).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})})]}),c.jsxs("td",{className:"px-6 py-5",children:[c.jsx("span",{className:"text-sm font-bold text-gray-700",children:((pe=ee.find(ir=>ir.id===te.customerId))==null?void 0:pe.name)||"Unknown"}),c.jsx("p",{className:"text-[10px] text-gray-400 font-medium mt-0.5",children:(se=ee.find(ir=>ir.id===te.customerId))==null?void 0:se.phone})]}),c.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500",children:he(te)||""}),c.jsxs("td",{className:"px-6 py-5",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${Tp(te.status)}`,children:te.status}),te.status!==Le.COMPLETED&&((ke=(Me=te.history)==null?void 0:Me.courier)==null?void 0:ke.includes("Steadfast"))&&c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"inline-block w-5 h-5 rounded-full ml-2"}),te.status!==Le.COMPLETED&&((et=(He=te.history)==null?void 0:He.courier)==null?void 0:et.includes("CarryBee"))&&c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"inline-block w-5 h-5 rounded-full ml-2"})]}),c.jsxs("td",{className:"px-6 py-5 text-right",children:[c.jsx("span",{className:"font-black text-gray-900 text-base",children:be(te.total)}),te.paidAmount>0&&c.jsx("p",{className:"text-[10px] font-black uppercase tracking-tighter mt-1 text-green-500",children:`Paid: ${be(te.paidAmount)}`})]}),c.jsx("td",{className:"px-6 py-5 sm:hidden relative z-[999]",onClick:ir=>ir.stopPropagation(),children:c.jsxs("div",{className:"relative z-[999]",children:[c.jsx("button",{onClick:ir=>{const le=ir.currentTarget;S===te.id?(_(null),O(null)):(_(te.id),O(le))},className:"p-2 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg transition-all",children:ae.More}),c.jsx(E5,{anchorEl:N,open:S===te.id,onClose:()=>{_(null),O(null)},children:l?de?c.jsxs("button",{onClick:()=>{e(`/orders/edit/${te.id}`),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit"]}):c.jsxs("button",{disabled:!0,className:"w-full text-left px-4 py-2.5 text-sm text-gray-400 flex items-center gap-2 font-bold",children:[ae.More," No Actions"]}):c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{e(`/orders/edit/${te.id}`),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit"]}),te.status!==Le.COMPLETED&&c.jsxs("button",{onClick:()=>{je(te),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Banking," Payment"]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{xp(te.id,e),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Print," Print"]}),c.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Download," Download"]}),te.status!==Le.PICKED&&te.status!==Le.COMPLETED&&te.status!==Le.CANCELLED&&te.status!==Le.ON_HOLD&&!((Yt=te.history)!=null&&Yt.courier)&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{P(te.id),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-[#0f2f57]",children:[c.jsx("img",{src:"../uploads/steadfast.png",alt:"Steadfast",className:"w-5 h-5 rounded-full"})," ",c.jsx("span",{children:"Add to Steadfast"})]}),c.jsxs("button",{onClick:()=>{M(te.id),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-[#0f2f57]",children:[c.jsx("img",{src:"../uploads/carrybee.png",alt:"CarryBee",className:"w-5 h-5 rounded-full"})," ",c.jsx("span",{children:"Add to CarryBee"})]})]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{xe(te.id),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[ae.Delete," Delete"]})]})})]})}),v===te.id&&(s||l&&de)&&c.jsx("td",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-10 animate-in fade-in slide-in-from-right-2 duration-200 hidden sm:table-cell",onClick:ir=>ir.stopPropagation(),children:c.jsx("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-[#ebf4ff]",children:l?de?c.jsx("button",{onClick:()=>e(`/orders/edit/${te.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:ae.Edit}):null:c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>e(`/orders/edit/${te.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:ae.Edit}),te.status!==Le.COMPLETED&&c.jsx("button",{onClick:()=>je(te),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Add Payment",children:ae.Banking}),c.jsx("button",{onClick:()=>xp(te.id,e),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Print",children:ae.Print}),c.jsx("button",{className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Download PDF",children:ae.Download}),te.status!==Le.PICKED&&te.status!==Le.COMPLETED&&te.status!==Le.CANCELLED&&te.status!==Le.ON_HOLD&&!((Rr=te.history)!=null&&Rr.courier)&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"}),c.jsx("button",{onClick:()=>P(te.id),className:"px-1 py-1 text-[9px] font-black hover:bg-[#ebf4ff] rounded-lg",title:"Send to Steadfast",children:c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-6 h-6 rounded-full"})}),c.jsx("button",{onClick:()=>M(te.id),className:"px-1 py-1 text-[9px] font-black hover:bg-orange-50 rounded-lg",title:"Send to CarryBee",children:c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-6 h-6 rounded-full"})}),c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"})]}),R&&c.jsx("button",{onClick:()=>xe(te.id),className:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:ae.Delete})]})})})]},te.id)})})]})})}),c.jsx($w,{isOpen:!!A,onClose:()=>C(null),onSubmit:Ne,accounts:H,paymentForm:L,setPaymentForm:Y,isLoading:G.isPending||ne.isPending||ue.isPending,title:"Receive Payment",buttonText:"Add Payment"}),c.jsx(SD,{isOpen:!!T,onClose:()=>P(null),order:T?Q.find(te=>te.id===T):null,customer:T?ee.find(te=>{var R;return te.id===((R=Q.find(de=>de.id===T))==null?void 0:R.customerId)}):null}),c.jsx(_D,{isOpen:!!D,onClose:()=>M(null),order:D?Q.find(te=>te.id===D):null,customer:D?ee.find(te=>{var R;return te.id===((R=Q.find(de=>de.id===D))==null?void 0:R.customerId)}):null})]})},HP=()=>{const{id:e}=Cn(),t=mt(),r=ve.currentUser;r==null||r.role,At.ADMIN;const n=(r==null?void 0:r.role)===At.EMPLOYEE,a=!!e;if(!r)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(Qe,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});const{data:s=[]}=As(),{data:l=[]}=Rc(),{data:d}=Uw(a?e:void 0),{data:f}=Ip(),h=Bp(),p=Gd(),g=Mr(),[y,v]=j.useState(""),[x,S]=j.useState(new Date().toISOString().split("T")[0]),[_,N]=j.useState(""),[O,A]=j.useState([]),[C,T]=j.useState(0),[P,D]=j.useState(0),[M,L]=j.useState(""),[Y,Q]=j.useState(!1),[q,ee]=j.useState(""),[H,oe]=j.useState(!1),[B,V]=j.useState(""),[ue,G]=j.useState(!1),[ne,I]=j.useState(null);xr.useEffect(()=>{if(d){if(a&&n){if(d.createdBy!==r.id){g.error("Access Denied: you can only edit orders you created."),t("/orders");return}if(d.status!==Le.ON_HOLD){g.warning('Employees can only edit orders that are currently "On Hold".'),t("/orders");return}}v(d.customerId),S(d.orderDate),N(d.orderNumber),A(d.items),T(d.discount),D(d.shipping),L(d.notes||"")}else!a&&f&&N(`${f.prefix}${f.nextNumber}`)},[d,a,n,f,t,g,r==null?void 0:r.id]);const K=O.reduce((R,de)=>R+de.amount,0),he=K-C+P,ge=R=>{const de=l.find(se=>se.id===R);if(!de)return;const pe={productId:de.id,productName:de.name,rate:de.salePrice,quantity:1,amount:de.salePrice};A([...O,pe]),Q(!1),ee("")},xe=(R,de)=>{const pe=[...O];pe[R].quantity=Math.max(1,de),pe[R].amount=pe[R].rate*pe[R].quantity,A(pe)},je=R=>{A(O.filter((de,pe)=>pe!==R))},Ne=async()=>{if(!y||O.length===0||!_){const R=y?O.length?"Order number is not set. Please wait for it to load.":"Please add at least one product.":"Please select a customer.";I(R),g.error(R);return}if(!(r!=null&&r.id)){g.error("User session expired. Please log in again."),I("User session expired. Please log in again.");return}G(!0),I(null);try{const R=O.reduce((He,et)=>He+et.amount,0),de=R-C+P,pe=new Date,se=pe.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),Me=pe.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),ke={orderNumber:_,orderDate:x,customerId:y,createdBy:r.id,status:a&&d?d.status:Le.ON_HOLD,items:O,subtotal:R,discount:C,shipping:P,total:de,notes:M,paidAmount:a&&d?d.paidAmount:0,history:a&&d?d.history:{created:`${r.name} created this order on ${se}, at ${Me}`}};a?(await p.mutateAsync({id:e,updates:ke}),g.success("Order updated successfully"),t("/orders")):h.mutateAsync(ke).then(He=>{G(!1),g.success("Order created successfully"),t(`/orders/${He.id}`)},He=>{G(!1);const et=He instanceof Error?He.message:"Failed to save order";I(et),g.error(et)})}catch(R){console.error("Failed to save order:",R);const de=R instanceof Error?R.message:"Failed to save order";I(de),g.error(de),G(!1)}},te=s.find(R=>R.id===y);return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a?"Edit Order":"New Order"}),c.jsx("button",{onClick:()=>t("/orders"),className:"text-gray-500 hover:text-gray-700 font-medium text-sm px-4 py-2 border border-gray-200 rounded-lg bg-white transition-all",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-1 relative md:col-span-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Select Customer"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>oe(!H),className:"w-full text-left px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl hover:bg-white focus:ring-2 focus:ring-[#3c5a82] transition-all flex justify-between items-center group",children:[te?c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("span",{className:"font-bold block text-sm text-gray-900",children:te.name}),c.jsx("p",{className:"text-[10px] text-gray-500 leading-none mt-0.5",children:te.phone}),c.jsx("p",{className:"text-[10px] ${theme.colors.primary[600]} italic truncate mt-1",children:te.address})]}):c.jsx("span",{className:"text-gray-400 text-sm",children:"Select Customer..."}),c.jsx("div",{className:`transition-transform duration-200 ${H?"rotate-90":""}`,children:ae.ChevronRight})]}),H&&c.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full max-w-xs bg-white border border-gray-200 shadow-2xl rounded-lg z-[110] p-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search name or phone...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:B,onChange:R=>V(R.target.value)})]}),c.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-0.5 custom-scrollbar",children:s.filter(R=>R.name.toLowerCase().includes(B.toLowerCase())||R.phone.includes(B)).map(R=>c.jsxs("button",{onClick:()=>{v(R.id),oe(!1),V("")},className:"w-full px-4 py-2.5 text-left hover:bg-[#ebf4ff] rounded-lg group transition-colors",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.primary[700]}",children:R.name}),c.jsx("p",{className:"text-[10px] text-gray-400 group-hover:${theme.colors.primary[600]}/60",children:R.phone})]},R.id))}),c.jsx("button",{onClick:()=>{oe(!1),t("/customers/new")},className:"w-full mt-2 py-3 ${theme.colors.primary[600]} text-[10px] font-black uppercase tracking-widest border-t border-gray-50 hover:bg-[#ebf4ff] transition-colors",children:"+ Add New Customer"})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Date"}),c.jsx("input",{type:"date",value:x,onChange:R=>S(R.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] focus:bg-white transition-all cursor-pointer font-bold text-sm"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Number"}),c.jsx("input",{type:"text",readOnly:!0,value:_,placeholder:f?"Order number":"Loading...",className:"w-full px-4 py-3 bg-gray-100 border border-gray-100 rounded-xl font-mono ${theme.colors.primary[700]} text-sm font-bold"})]})]}),c.jsx("div",{className:"border border-gray-100 rounded-lg overflow-visible bg-white",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Product Item"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Rate"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Qty"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),c.jsx("th",{className:"px-4 py-4"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-50",children:[O.map((R,de)=>{var pe,se;return c.jsxs("tr",{className:"group hover:bg-gray-50/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[((pe=l.find(Me=>Me.id===R.productId))==null?void 0:pe.image)&&c.jsx("img",{src:(se=l.find(Me=>Me.id===R.productId))==null?void 0:se.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-800 text-sm",children:R.productName})]})}),c.jsx("td",{className:"px-4 py-4 text-center text-sm font-bold text-gray-600",children:be(R.rate)}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsx("input",{type:"number",value:R.quantity,onChange:Me=>xe(de,parseInt(Me.target.value)),className:"w-16 text-center py-2 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold outline-none"})}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 text-sm",children:be(R.amount)}),c.jsx("td",{className:"px-4 py-4 text-right",children:c.jsx("button",{onClick:()=>je(de),className:"p-2 text-red-200 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:ae.Delete})})]},de)}),c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-5 relative",children:c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>Q(!Y),className:"flex items-center gap-2 ${theme.colors.primary[600]} font-black text-[10px] uppercase tracking-widest hover:bg-[#ebf4ff] px-4 py-2.5 rounded-xl border-2 border-dashed border-[#c7dff5] transition-all",children:[ae.Plus," Add an item"]}),Y&&c.jsxs("div",{className:"absolute top-full left-0 mt-3 w-full max-w-md bg-white border border-gray-200 shadow-2xl rounded-lg z-[100] p-2 overflow-hidden animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search catalog...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:q,onChange:R=>ee(R.target.value)})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto space-y-0.5 custom-scrollbar",children:l.filter(R=>R.name.toLowerCase().includes(q.toLowerCase())).map(R=>c.jsxs("button",{onClick:()=>ge(R.id),className:"flex items-center gap-4 w-full px-4 py-3 text-left hover:bg-[#ebf4ff] rounded-xl group transition-all",children:[R.image&&c.jsx("img",{src:R.image,className:"w-10 h-10 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.primary[700]} truncate",children:R.name}),c.jsx("p",{className:"text-[10px] font-bold ${theme.colors.primary[600]}/60 uppercase tracking-widest",children:be(R.salePrice)})]})]},R.id))})]})]})})})]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-12 pt-6",children:[c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Notes / Terms"}),c.jsx("textarea",{placeholder:"Internal notes or special instructions for this order...",value:M,onChange:R=>L(R.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-100 rounded-lg h-32 focus:ring-2 focus:ring-[#3c5a82] focus:bg-white outline-none font-medium text-sm transition-all"})]}),c.jsxs("div",{className:"w-full md:w-96 space-y-4 bg-gray-50/50 p-8 rounded-lg border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-[12px] font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Subtotal"}),c.jsx("span",{className:"text-gray-900 font-black",children:be(K)})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-[12px] font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Discount"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-gray-500 font-black",children:""}),c.jsx("input",{type:"number",value:C,onChange:R=>T(parseFloat(R.target.value)||0),className:"w-20 text-right py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]})]}),c.jsxs("div",{className:"pt-6 border-t-4 border-[#c7dff5] flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-black text-gray-900 uppercase tracking-tighter",children:"Total"}),c.jsx("span",{className:"text-sm font-black text-[#3c5a82]",children:be(he)})]}),ne&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:ne})}),c.jsx(Qe,{onClick:Ne,variant:"primary",size:"lg",className:"w-full mt-4",disabled:ue,loading:ue,children:a?"Update Order":"Create Order"})]})]})]})]})},xoe=()=>{var K,he,ge,xe,je,Ne;const{id:e}=Cn(),t=mt(),r=$e(),n=Mr(),a=ve.currentUser,s=a.role===At.ADMIN,{data:l,isPending:d,error:f}=Uw(e||""),{data:h=[]}=As(),{data:p=[]}=ks(),{data:g=[]}=Rc(),{data:y=[]}=Cs(),{data:v}=Rp(),{data:x}=Lp(),S=Gd();Bp();const _=Wd(),N=Yd(),[O,A]=j.useState(!1),[C,T]=j.useState(!1),[P,D]=j.useState(!1),[M,L]=j.useState({date:new Date().toISOString().split("T")[0],accountId:ve.settings.defaults.accountId||"",amount:0}),[Y,Q]=j.useState(!1),q=l?h.find(te=>te.id===l.customerId):void 0,ee=l?p.find(te=>te.id===l.createdBy):void 0,H=a.role===At.EMPLOYEE,oe=l?l.createdBy===a.id:!1,B=d;if(B)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading order..."});if(f||!l)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(f==null?void 0:f.message)||"Order not found."});const V=async(te,R,de)=>{if(l)try{const pe={...l,status:te,history:R?{...l.history,[R]:de}:l.history};await S.mutateAsync({id:e,updates:pe}),r.invalidateQueries({queryKey:["order",e]}),Q(!1)}catch(pe){console.error("Failed to update order status:",pe),n.error("Failed to update order status")}},ue=async()=>{const te=`Marked as processing by ${a.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await V(Le.PROCESSING,"processing",te)},G=async()=>{const te=`Marked as picked by courier, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await V(Le.PICKED,"picked",te)},ne=async()=>{let te=y.find(ke=>ke.id===M.accountId);if(!te){if(!M.accountId){n.error("Please select an account");return}te={id:M.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const R=l.paidAmount+M.amount;new Date(M.date);const de=`Payment of ${be(M.amount)} received by ${a.name} on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`,pe=M.amount<l.total,se=Le.COMPLETED,Me={...l,paidAmount:R,status:se,history:{...l.history,payment:de}};try{const ke={id:Math.random().toString(36).substr(2,9),date:M.date,type:"Income",category:ve.settings.defaults.incomeCategoryId||"income_sales",accountId:M.accountId,amount:l.total,description:`Payment for Order #${l.orderNumber}`,referenceId:l.id,contactId:l.customerId,paymentMethod:ve.settings.defaults.paymentMethod||"Cash",createdBy:a.id};if(await _.mutateAsync(ke),pe){const Yt=l.total-M.amount,Rr={id:Math.random().toString(36).substr(2,9),date:M.date,type:"Expense",category:"expense_shipping",accountId:M.accountId,amount:Yt,description:`Shipping costs for Order #${l.orderNumber}`,paymentMethod:ve.settings.defaults.paymentMethod||"Cash",createdBy:a.id};await _.mutateAsync(Rr)}const He=M.amount,et=await Promise.allSettled([S.mutateAsync({id:e,updates:Me}),N.mutateAsync({id:M.accountId,updates:{currentBalance:te.currentBalance+He}})]);if(et[0].status==="rejected"||et[1].status==="rejected"){const Yt=et[0].status==="rejected"?"failed":"succeeded",Rr=et[1].status==="rejected"?"failed":"succeeded";throw new Error(`Payment update failed: Order update ${Yt}, Account update ${Rr}`)}r.invalidateQueries({queryKey:["order",e]}),r.invalidateQueries({queryKey:["orders"]}),A(!1),n.success("Payment recorded successfully")}catch(ke){console.error("Failed to record payment:",ke),n.error("Failed to record payment")}},I=()=>{L({date:new Date().toISOString().split("T")[0],accountId:"",amount:l.total-l.paidAmount}),A(!0)};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsx(Vd,{isLoading:B&&!l,message:"Loading order details..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/orders"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500 transition-all",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-md md:text-2xl font-bold text-gray-900",children:l.orderNumber}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${Tp(l.status)}`,children:l.status}),l.status!==Le.COMPLETED&&((he=(K=l.history)==null?void 0:K.courier)==null?void 0:he.includes("Steadfast"))&&c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-6 h-6 rounded-full"}),l.status!==Le.COMPLETED&&((xe=(ge=l.history)==null?void 0:ge.courier)==null?void 0:xe.includes("CarryBee"))&&c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-6 h-6 rounded-full"})]}),c.jsxs("div",{className:"flex items-center gap-2 relative",children:[c.jsxs("button",{onClick:()=>xp(e,t),className:"hidden md:flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg bg-white hover:bg-gray-50 transition-all shadow-sm",children:[ae.Print," Print"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>Q(!Y),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg ${ie.colors.primary[600]} text-white hover:${ie.colors.primary[700]} transition-all shadow-md`,children:[ae.More," ",c.jsx("span",{className:"hidden md:inline",children:"Actions"})]}),Y&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>Q(!1)}),c.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-100 rounded-xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in duration-150 origin-top-right",children:[c.jsxs("button",{onClick:()=>{xp(e,t),Q(!1)},className:"md:hidden w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Print," Print"]}),c.jsx("div",{className:"md:hidden border-t my-1"}),(s||oe||H&&l.status===Le.ON_HOLD)&&c.jsxs("button",{onClick:()=>t(`/orders/edit/${l.id}`),className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit Order"]}),s&&l.status!==Le.COMPLETED&&c.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",onClick:I,children:[ae.Banking," Add Payment"]}),c.jsx("div",{className:"border-t my-1"}),s&&c.jsxs("button",{onClick:()=>V(Le.CANCELLED),disabled:l.status===Le.COMPLETED,className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 disabled:hover:bg-gray-50 flex items-center gap-2 text-red-500 font-bold disabled:text-gray-300 disabled:cursor-not-allowed",children:[ae.Delete," Cancel Order"]})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[c.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden",children:c.jsxs("div",{className:"p-3 sm:p-4 md:p-6 lg:p-10 space-y-3 sm:space-y-4 lg:space-y-5",children:[c.jsxs("div",{className:"flex flex-row justify-between items-start gap-3 sm:gap-4 lg:gap-6",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[((v==null?void 0:v.logo)||ve.settings.company.logo)&&c.jsx("img",{src:(v==null?void 0:v.logo)||ve.settings.company.logo,className:"rounded-lg object-cover mb-2 sm:mb-3 lg:mb-4 w-auto h-auto",style:{maxWidth:"min(100px, 20%)",maxHeight:"auto"}}),c.jsx("h1",{className:"text-sm sm:text-base lg:text-xl font-black text-blue-600 uppercase tracking-tighter break-words",children:(v==null?void 0:v.name)||ve.settings.company.name}),c.jsxs("div",{className:"mt-1 sm:mt-2 text-[9px] sm:text-[10px] lg:text-xs text-gray-400 font-medium space-y-0.5 sm:space-y-1",children:[c.jsx("p",{className:"break-words",children:(v==null?void 0:v.address)||ve.settings.company.address}),c.jsxs("p",{className:"text-[8px] sm:text-[9px] break-words",children:[(v==null?void 0:v.phone)||ve.settings.company.phone,"  ",(v==null?void 0:v.email)||ve.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right flex-shrink-0",children:[c.jsx("h2",{className:"text-sm sm:text-2xl lg:text-3xl font-black text-gray-300 uppercase leading-none mb-1 sm:mb-2 break-words",children:(x==null?void 0:x.title)||ve.settings.invoice.title}),c.jsxs("div",{className:"space-y-0.5 sm:space-y-1 lg:space-y-1.5 text-[9px] sm:text-sm",children:[c.jsxs("p",{className:"text-[9px] sm:text-xs lg:text-sm font-bold text-gray-900",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Order No:"})," ",c.jsx("span",{className:"break-all",children:l.orderNumber})]}),c.jsxs("p",{className:"text-[9px] sm:text-xs lg:text-sm font-bold text-gray-900",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Date:"})," ",l.orderDate]})]})]})]}),c.jsxs("div",{className:"border-t border-gray-100 py-2 sm:py-3 lg:py-4",children:[c.jsx("p",{className:"text-[8px] sm:text-[9px] lg:text-[10px] font-black text-gray-400 uppercase tracking-[0.15em] sm:tracking-[0.2em] mb-2 sm:mb-3 lg:mb-4",children:"Billed To"}),c.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-black text-gray-900 break-words",children:q==null?void 0:q.name}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm text-gray-500 leading-relaxed break-words",children:q==null?void 0:q.address}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm font-bold text-cyan-600 mt-1 sm:mt-1.5 lg:mt-2 break-words",children:q==null?void 0:q.phone})]}),c.jsx("div",{className:"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6 lg:-mx-10",children:c.jsx("div",{className:"px-3 sm:px-4 md:px-6 lg:px-10",children:c.jsxs("table",{className:"w-full text-left text-[10px] sm:text-xs lg:text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100",children:[c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 font-black text-gray-400 uppercase",children:"Item Description"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Rate"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Qty"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-right font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:l.items.map((te,R)=>{const de=g.find(pe=>pe.id===te.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-3 sm:py-4 lg:py-6",children:c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 min-w-0",children:[c.jsx("img",{src:de==null?void 0:de.image,className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 rounded-full object-cover border border-gray-100 shadow-sm flex-shrink-0"}),c.jsx("span",{className:"font-bold text-gray-900 text-[10px] sm:text-xs lg:text-base break-words",children:te.productName})]})}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:be(te.rate)}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:te.quantity}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-right font-black text-gray-900 px-1 whitespace-nowrap",children:be(te.amount)})]},R)})})]})})}),c.jsx("div",{className:"flex flex-col items-end pt-2 sm:pt-3 lg:pt-6 px-0",children:c.jsxs("div",{className:"w-full sm:w-full md:w-98 lg:max-w-xs space-y-2 sm:space-y-3 lg:space-y-4",children:[c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:be(l.subtotal)})]}),l.discount>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500 flex-shrink-0",children:["-",be(l.discount)]})]}),l.shipping>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:be(l.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 sm:py-3 lg:py-4 border-t-2 border-[#0f2f57] gap-2",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter text-[11px] sm:text-xs lg:text-sm flex-shrink-0",children:"Net Total"}),c.jsx("span",{className:"font-black text-sm sm:text-base lg:text-lg flex-shrink-0",children:be(l.total)})]})]})}),l.notes&&c.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-[10px] border border-gray-100",children:[c.jsx("p",{className:"text-[8px] sm:text-[9px] lg:text-[10px] font-black text-gray-300 uppercase tracking-widest mb-1 sm:mb-2",children:"Terms & Notes"}),c.jsx("p",{className:"text-[9px] sm:text-[10px] lg:text-xs text-gray-600 font-medium italic leading-relaxed",children:l.notes})]})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"1. Creation"}),c.jsx("div",{className:"p-1 bg-[#ebf4ff]0 text-white rounded-full",children:ae.Plus})]}),c.jsx("div",{className:"p-5",children:c.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:l.history.created||`Created by ${(ee==null?void 0:ee.name)||"Unknown"} on ${l.orderDate}`})})]}),(je=l.history)!=null&&je.processing||!H?c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"2. Processing"}),c.jsx("div",{className:`p-1 rounded-full ${l.history.processing?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:ae.ChevronRight})]}),c.jsxs("div",{className:"p-5 space-y-4",children:[l.history.processing?c.jsx("p",{className:"text-xs ${theme.colors.primary[600]} leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:l.history.processing}):!H&&c.jsx("button",{disabled:l.status!==Le.ON_HOLD,onClick:ue,className:`w-full py-3 ${ie.colors.secondary[600]} hover:${ie.colors.secondary[700]} disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Mark as Processing"}),l.history.courier?c.jsx("p",{className:"text-xs text-gray-700 leading-relaxed font-bold bg-gray-50 p-3 rounded-xl",children:l.history.courier}):!H&&l.status!==Le.PICKED&&l.status!==Le.COMPLETED&&l.status!==Le.CANCELLED&&l.status!==Le.ON_HOLD&&!((Ne=l.history)!=null&&Ne.courier)&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>T(!0),className:"w-full py-3 bg-[#0f2f57] hover:bg-[#0a1f38] text-white font-bold rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:[c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-5 h-5 rounded-full"})," Add to Steadfast"]}),c.jsxs("button",{onClick:()=>D(!0),className:"w-full py-3 bg-[#0f2f57] hover:bg-[#0a1f38] text-white font-bold rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:[c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-5 h-5 rounded-full"})," Add to CarryBee"]})]})]})]}):null,l.history.picked||!H?c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"3. Courier Picked"}),c.jsx("div",{className:`p-1 rounded-full ${l.history.picked?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:ae.Courier})]}),c.jsx("div",{className:"p-5",children:l.history.picked?c.jsx("p",{className:"text-xs text-purple-600 leading-relaxed font-bold bg-purple-50 p-3 rounded-xl",children:l.history.picked}):!H&&c.jsx("button",{disabled:l.status!==Le.PROCESSING,onClick:G,className:"w-full py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95",children:"Mark as Picked"})})]}):null,l.history.payment||!H?c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"4. Payment"}),c.jsx("div",{className:`p-1 rounded-full ${l.paidAmount>=l.total?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:ae.Banking})]}),c.jsx("div",{className:"p-5 space-y-3",children:l.history.payment?c.jsx("div",{className:"space-y-2",children:c.jsx("p",{className:"text-xs ${theme.colors.primary[600]} leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:l.history.payment})}):!H&&c.jsxs("div",{className:"space-y-4 text-center",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Amount Due"}),c.jsx("p",{className:"text-2xl font-black text-gray-900",children:be(l.total-l.paidAmount)})]}),c.jsx("button",{onClick:I,className:`w-full py-3 ${ie.colors.primary[600]} hover:${ie.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Add Payment"})]})})]}):null]})]}),c.jsx($w,{isOpen:O,onClose:()=>A(!1),onSubmit:ne,accounts:y,paymentForm:M,setPaymentForm:L,isLoading:S.isPending||_.isPending||N.isPending,title:"Record Payment",buttonText:"Add Payment"}),c.jsx(SD,{isOpen:C,onClose:()=>T(!1),order:l,customer:q}),c.jsx(_D,{isOpen:P,onClose:()=>D(!1),order:l,customer:q})]})},woe=()=>{const e=mt(),t=$e(),r=Mr(),{searchQuery:n}=Da(),a=ve.currentUser,{data:s=[],isPending:l}=Tc(),{data:d=[]}=Mc(),{data:f=[]}=ks(),[h,p]=j.useState("All Time"),[g,y]=j.useState({from:"",to:""}),[v,x]=j.useState("All"),[S,_]=j.useState(null),[N,O]=j.useState(null),[A,C]=j.useState(null),T=xD(),P=E9(),D=j.useMemo(()=>new Map(f.map(ee=>[ee.id,ee])),[f]),M=ee=>{if(h==="All Time")return!0;const H=new Date(ee),oe=new Date;if(h==="Today")return H.toDateString()===oe.toDateString();if(h==="This Week"){const B=oe.getDate()-oe.getDay(),V=new Date(new Date().setDate(B)),ue=new Date(new Date().setDate(B+6));return H>=V&&H<=ue}return h==="This Month"?H.getMonth()===oe.getMonth()&&H.getFullYear()===oe.getFullYear():h==="This Year"?H.getFullYear()===oe.getFullYear():h==="Custom"?!g.from||!g.to?!0:H>=new Date(g.from)&&H<=new Date(g.to):!0},L=ee=>{var H,oe;if((H=ee.createdBy)!=null&&H.trim()){const B=D.get(ee.createdBy);if(B!=null&&B.name)return B.name}if((oe=ee.history)!=null&&oe.created){const B=ee.history.created.match(/Created by\s+(.+?)\s+on/);if(B&&B[1])return B[1]}return null},Y=j.useMemo(()=>{let ee=s.filter(H=>M(H.billDate)).filter(H=>v==="All"||H.status===v);if(n.trim()){const H=n.toLowerCase();ee=ee.filter(oe=>{const B=d.find(ue=>ue.id===oe.vendorId),V=L(oe);return oe.billNumber.toLowerCase().includes(H)||(B==null?void 0:B.name.toLowerCase().includes(H))||oe.status.toLowerCase().includes(H)||(V==null?void 0:V.toLowerCase().includes(H))})}return ee},[s,h,g,v,n,d]),Q=async ee=>{try{const H=new Date,oe=H.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),B=H.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),V={billNumber:`PUR-${Math.floor(1e3+Math.random()*9e3)}`,billDate:new Date().toISOString().split("T")[0],vendorId:ee.vendorId,createdBy:(a==null?void 0:a.id)||ee.createdBy,status:sn.ON_HOLD,items:ee.items,subtotal:ee.subtotal,discount:ee.discount,shipping:ee.shipping,total:ee.total,paidAmount:0,notes:ee.notes,history:{created:`Created as duplicate on ${oe}, at ${B}`}};await T.mutateAsync(V),t.invalidateQueries({queryKey:["bills"]})}catch(H){console.error("Failed to duplicate bill:",H),r.error("Failed to duplicate bill")}},q=async ee=>{if(confirm("Are you sure you want to delete this bill?"))try{await P.mutateAsync(ee),t.invalidateQueries({queryKey:["bills"]})}catch(H){console.error("Failed to delete bill:",H),r.error("Failed to delete bill")}};return c.jsxs("div",{className:"space-y-6 pb-12",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:"Purchase Bills"})}),c.jsx(Qe,{onClick:()=>e("/bills/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Bill"})]}),c.jsx(gc,{title:"Bills",filterRange:h,setFilterRange:p,customDates:g,setCustomDates:y,statusTab:v,setStatusTab:x,statusOptions:Object.values(sn)}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-visible",children:c.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Bill Details"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Vendor"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Created By"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Status"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] text-right",children:"Net Amount"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] sm:hidden",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:l?c.jsx(Dp,{columns:6,rows:8}):Y.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:"No purchase bills found for this period."})}):Y.map(ee=>{var H;return c.jsxs("tr",{onMouseEnter:()=>_(ee.id),onMouseLeave:()=>_(null),onClick:()=>e(`/bills/${ee.id}`),className:"group relative hover:bg-[#ebf4ff]/20 cursor-pointer transition-all",children:[c.jsxs("td",{className:"px-6 py-5",children:[c.jsxs("span",{className:"font-black text-gray-900",children:["#",ee.billNumber]}),c.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-1 tracking-tight",children:ee.billDate})]}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:"text-sm font-bold text-gray-700",children:((H=d.find(oe=>oe.id===ee.vendorId))==null?void 0:H.name)||"Unknown Vendor"})}),c.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500",children:L(ee)||""}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${Tp(ee.status)}`,children:ee.status})}),c.jsx("td",{className:"px-6 py-5 text-right",children:c.jsx("span",{className:"font-black text-gray-900 text-base",children:be(ee.total)})}),c.jsx("td",{className:"px-6 py-5 sm:hidden relative z-[999]",onClick:oe=>oe.stopPropagation(),children:c.jsxs("div",{className:"relative z-[999]",children:[c.jsx("button",{onClick:oe=>{const B=oe.currentTarget;N===ee.id?(O(null),C(null)):(O(ee.id),C(B))},className:"p-2 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg transition-all",children:ae.More}),c.jsxs(E5,{anchorEl:A,open:N===ee.id,onClose:()=>{O(null),C(null)},children:[c.jsxs("button",{onClick:()=>{e(`/bills/edit/${ee.id}`),O(null),C(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit"]}),c.jsxs("button",{onClick:()=>{Q(ee),O(null),C(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Duplicate," Duplicate"]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{q(ee.id),O(null),C(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[ae.Delete," Delete"]})]})]})}),S===ee.id&&c.jsx("td",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-10 animate-in fade-in slide-in-from-right-2 duration-200 hidden sm:table-cell",onClick:oe=>oe.stopPropagation(),children:c.jsxs("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-[#ebf4ff]",children:[c.jsx("button",{onClick:()=>e(`/bills/edit/${ee.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:ae.Edit}),c.jsx("button",{onClick:()=>Q(ee),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Duplicate",children:ae.Duplicate}),c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"}),c.jsx("button",{onClick:()=>q(ee.id),className:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:ae.Delete})]})})]},ee.id)})})]})})})]})},VP=()=>{const{id:e}=Cn(),t=mt(),r=ve.currentUser,n=!!e;if(!r)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(Qe,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});const{data:a=[]}=Mc(),{data:s=[]}=Rc(),{data:l,isPending:d,error:f}=pD(e),h=xD(),p=wD(),g=Mr(),[y,v]=j.useState(""),[x,S]=j.useState(new Date().toISOString().split("T")[0]),[_,N]=j.useState(""),[O,A]=j.useState([]),[C,T]=j.useState(0),[P,D]=j.useState(0),[M,L]=j.useState(""),[Y,Q]=j.useState(!1),[q,ee]=j.useState(""),[H,oe]=j.useState(!1),[B,V]=j.useState(""),[ue,G]=j.useState(!1),[ne,I]=j.useState(null);xr.useEffect(()=>{l?(v(l.vendorId),S(l.billDate),N(l.billNumber),A(l.items),T(l.discount),D(l.shipping),L(l.notes||"")):n||N(`PUR-${Math.floor(1e3+Math.random()*9e3)}`)},[l,n]);const K=O.reduce((R,de)=>R+de.amount,0),he=K-C+P,ge=R=>{const de=s.find(se=>se.id===R);if(!de)return;const pe={productId:de.id,productName:de.name,rate:de.purchasePrice,quantity:1,amount:de.purchasePrice};A([...O,pe]),Q(!1),ee("")},xe=(R,de)=>{const pe=[...O];pe[R].quantity=Math.max(1,de),pe[R].amount=pe[R].rate*pe[R].quantity,A(pe)},je=R=>{A(O.filter((de,pe)=>pe!==R))},Ne=async()=>{if(!y||O.length===0){I("Please select a vendor and add at least one product.");return}if(!(r!=null&&r.id)){I("User session expired. Please log in again.");return}G(!0),I(null);try{const R=O.reduce((ke,He)=>ke+He.amount,0),de=R-C+P,pe=new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),se=new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),Me={billNumber:_,billDate:x,vendorId:y,createdBy:r.id,status:n&&l?l.status:sn.ON_HOLD,items:O,subtotal:R,discount:C,shipping:P,total:de,notes:M,paidAmount:n&&l?l.paidAmount:0,history:n&&l?l.history:{created:`Created by ${r.name} on ${pe}, at ${se}`}};n?(await p.mutateAsync({id:e,updates:Me}),g.success("Bill updated successfully"),G(!1),t("/bills")):h.mutateAsync(Me).then(ke=>{G(!1),g.success("Bill created successfully"),t(`/bills/${ke.id}`)},ke=>{G(!1);const He=ke instanceof Error?ke.message:"Failed to save bill";I(He),g.error(He)})}catch(R){console.error("Failed to save bill:",R);const de=R instanceof Error?R.message:"Failed to save bill";I(de),g.error(de),G(!1)}},te=a.find(R=>R.id===y);return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Bill":"New Purchase Bill"}),c.jsx("button",{onClick:()=>t("/bills"),className:"text-gray-500 hover:text-gray-700 font-medium text-sm px-4 py-2 border border-gray-200 rounded-lg bg-white transition-all",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-1 relative md:col-span-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Select Vendor"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>oe(!H),className:"w-full text-left px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl hover:bg-white focus:ring-2 focus:ring-[#3c5a82] transition-all flex justify-between items-center group",children:[te?c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("span",{className:"font-bold block text-sm text-gray-900",children:te.name}),c.jsx("p",{className:"text-[10px] text-gray-500 leading-none mt-0.5",children:te.phone}),c.jsx("p",{className:"text-[10px] ${theme.colors.secondary[600]} italic truncate mt-1",children:te.address})]}):c.jsx("span",{className:"text-gray-400 text-sm",children:"Select Vendor..."}),c.jsx("div",{className:`transition-transform duration-200 ${H?"rotate-90":""}`,children:ae.ChevronRight})]}),H&&c.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full max-w-xs bg-white border border-gray-200 shadow-2xl rounded-lg z-[110] p-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search business...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:B,onChange:R=>V(R.target.value)})]}),c.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-0.5 custom-scrollbar",children:a.filter(R=>R.name.toLowerCase().includes(B.toLowerCase())||R.phone.includes(B)).map(R=>c.jsxs("button",{onClick:()=>{v(R.id),oe(!1),V("")},className:"w-full px-4 py-2.5 text-left hover:bg-[#e6f0ff] rounded-lg group transition-colors",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.secondary[700]}",children:R.name}),c.jsx("p",{className:"text-[10px] text-gray-400 group-hover:${theme.colors.secondary[600]}/60",children:R.phone})]},R.id))}),c.jsx(Qe,{onClick:()=>{oe(!1),t("/vendors/new")},variant:"secondary",size:"sm",className:"w-full mt-2 text-[10px]",icon:ae.Plus,children:"Add New Vendor"})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bill Date"}),c.jsx("input",{type:"date",value:x,onChange:R=>S(R.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] focus:bg-white transition-all cursor-pointer font-bold text-sm"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bill Number"}),c.jsx("input",{type:"text",value:_,onChange:R=>N(R.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl font-mono ${theme.colors.secondary[700]} text-sm font-bold"})]})]}),c.jsx("div",{className:"border border-gray-100 rounded-lg overflow-visible bg-white",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Product Item"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Cost Rate"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Qty"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),c.jsx("th",{className:"px-4 py-4"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-50",children:[O.map((R,de)=>{var pe,se;return c.jsxs("tr",{className:"group hover:bg-gray-50/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[((pe=s.find(Me=>Me.id===R.productId))==null?void 0:pe.image)&&c.jsx("img",{src:(se=s.find(Me=>Me.id===R.productId))==null?void 0:se.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-800 text-sm",children:R.productName})]})}),c.jsx("td",{className:"px-4 py-4 text-center text-sm font-bold text-gray-600",children:be(R.rate)}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsx("input",{type:"number",value:R.quantity,onChange:Me=>xe(de,parseInt(Me.target.value)),className:"w-16 text-center py-2 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold outline-none"})}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 text-sm",children:be(R.amount)}),c.jsx("td",{className:"px-4 py-4 text-right",children:c.jsx("button",{onClick:()=>je(de),className:"p-2 text-red-200 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:ae.Delete})})]},de)}),c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-5 relative",children:c.jsxs("div",{className:"relative",children:[c.jsx(Qe,{onClick:()=>Q(!Y),variant:"secondary",size:"sm",icon:ae.Plus,className:"border-2 border-dashed border-[#c7e0f5]",children:"Add an item"}),Y&&c.jsxs("div",{className:"absolute top-full left-0 mt-3 w-full max-w-md bg-white border border-gray-200 shadow-2xl rounded-lg z-[100] p-2 overflow-hidden animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search product...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:q,onChange:R=>ee(R.target.value)})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto space-y-0.5 custom-scrollbar",children:s.filter(R=>R.name.toLowerCase().includes(q.toLowerCase())).map(R=>c.jsxs("button",{onClick:()=>ge(R.id),className:"flex items-center gap-4 w-full px-4 py-3 text-left hover:bg-[#e6f0ff] rounded-xl group transition-all",children:[R.image&&c.jsx("img",{src:R.image,className:"w-10 h-10 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.secondary[700]} truncate",children:R.name}),c.jsxs("p",{className:"text-[10px] font-bold ${theme.colors.secondary[600]}/60 uppercase tracking-widest",children:["Cost: ",be(R.purchasePrice)]})]})]},R.id))})]})]})})})]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-12 pt-6",children:[c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Purchase Memo"}),c.jsx("textarea",{placeholder:"Bill details, vendor instructions, or delivery notes...",value:M,onChange:R=>L(R.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-100 rounded-lg h-32 focus:ring-2 focus:ring-[#3c5a82] focus:bg-white outline-none font-medium text-sm transition-all"})]}),c.jsxs("div",{className:"w-full md:w-96 space-y-4 bg-gray-50/50 p-8 rounded-[2rem] border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Subtotal"}),c.jsx("span",{className:"text-gray-900 font-black",children:be(K)})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Discount"}),c.jsx("input",{type:"number",value:C,onChange:R=>T(parseFloat(R.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Shipping"}),c.jsx("input",{type:"number",value:P,onChange:R=>D(parseFloat(R.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]}),c.jsxs("div",{className:"pt-6 border-t-4 border-[#c7e0f5] flex justify-between items-center",children:[c.jsx("span",{className:"text-lg font-bold text-gray-900 uppercase tracking-tighter",children:"Total Bill"}),c.jsx("span",{className:"text-3xl font-black",children:be(he)})]}),c.jsx(Qe,{onClick:Ne,variant:"primary",size:"lg",className:"w-full mt-4",loading:ue,disabled:ue,children:"Save Purchase Bill"})]})]})]})]})},joe=()=>{var B,V,ue,G;const{id:e}=Cn(),t=mt(),r=$e(),n=ve.currentUser,{data:a,isPending:s,error:l}=pD(e||""),{data:d=[]}=Mc(),{data:f=[]}=ks(),{data:h=[]}=Cs(),{data:p=[]}=Rc(),{data:g}=Rp(),{data:y}=Lp(),v=wD(),x=Wd(),S=Yd(),_=Mr(),N=v.isPending||x.isPending||S.isPending,O=a?d.find(ne=>ne.id===a.vendorId):void 0,A=a?f.find(ne=>ne.id===a.createdBy):void 0,C=s,[T,P]=j.useState(!1),[D,M]=j.useState(!1),[L,Y]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:ve.settings.defaults.accountId||"",amount:0});if(C)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading bill..."});if(l||!a)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(l==null?void 0:l.message)||"Bill not found."});const Q=async(ne,I,K)=>{if(a)try{const he={...a,status:ne,history:I?{...a.history,[I]:K}:a.history};await v.mutateAsync({id:e,updates:he}),r.invalidateQueries({queryKey:["bill",e]}),r.invalidateQueries({queryKey:["bills"]}),P(!1)}catch(he){console.error("Failed to update bill status:",he),_.error("Failed to update bill status")}},q=async()=>{const ne=`Marked as processing by ${n.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await Q(sn.PROCESSING,"processing",ne)},ee=async()=>{const ne=`Marked as received by ${n.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await Q(sn.RECEIVED,"received",ne)},H=async()=>{if(a)try{let ne=h.find(se=>se.id===L.accountId);if(!ne){if(!L.accountId){_.error("Please select an account");return}ne={id:L.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const I=a.paidAmount+L.amount,K=`Payment of ${be(L.amount)} received by ${n.name} on ${new Date(L.date).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`,ge=I>=a.total?sn.PAID:a.status,[xe,je]=L.time.split(":").map(Number),Ne=new Date(L.date);Ne.setHours(xe,je,0,0);const te=Ne.toISOString(),R={...a,paidAmount:I,status:ge,history:{...a.history,paid:K},paidAt:L.date};try{const se={id:Math.random().toString(36).substr(2,9),date:te,type:"Expense",category:ve.settings.defaults.expenseCategoryId||"expense_purchases",accountId:L.accountId,amount:L.amount,description:`Payment for Bill #${a.billNumber}`,referenceId:a.id,contactId:a.vendorId,paymentMethod:ve.settings.defaults.paymentMethod||"Cash",createdBy:n.id};await x.mutateAsync(se)}catch(se){console.error("Failed to create transaction:",se)}const de=L.amount,pe=await Promise.allSettled([v.mutateAsync({id:e,updates:R}),S.mutateAsync({id:L.accountId,updates:{currentBalance:ne.currentBalance-de}})]);if(pe[0].status==="rejected"||pe[1].status==="rejected"){const se=pe[0].status==="rejected"?"failed":"succeeded",Me=pe[1].status==="rejected"?"failed":"succeeded";throw new Error(`Payment update failed: Bill update ${se}, Account update ${Me}`)}r.invalidateQueries({queryKey:["bill",e]}),r.invalidateQueries({queryKey:["bills"]}),M(!1),_.success("Payment recorded successfully")}catch(ne){console.error("Failed to record payment:",ne),_.error("Failed to record payment")}},oe=()=>{a&&(Y({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:a.total-a.paidAmount}),M(!0))};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsx(Vd,{isLoading:C&&!a,message:"Loading bill details..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/bills"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500 transition-all",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsxs("h2",{className:"text-md md:text-2xl font-bold text-gray-900",children:["#",a.billNumber]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${Tp(a.status)}`,children:a.status})]}),c.jsxs("div",{className:"flex items-center gap-2 relative",children:[c.jsxs("button",{className:"hidden md:flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg bg-white hover:bg-gray-50 transition-all",children:[ae.Print," Print Bill"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>P(!T),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg ${ie.colors.primary[600]} text-white hover:${ie.colors.primary[700]} transition-all shadow-md`,children:[ae.More," ",c.jsx("span",{className:"hidden md:inline",children:"Actions"})]}),T&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>P(!1)}),c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border rounded-xl shadow-xl z-50 py-2",children:[c.jsx("button",{onClick:()=>{window.print(),P(!1)},className:"md:hidden w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Print Bill"}),c.jsx("button",{onClick:()=>{window.print(),P(!1)},className:"md:hidden border-t w-full text-left px-4 py-2 text-sm hover:bg-gray-50"}),c.jsx("button",{onClick:()=>{q(),P(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Mark Processing"}),c.jsx("button",{onClick:()=>{ee(),P(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Mark Received"}),c.jsx("div",{className:"border-t my-1"}),c.jsx("button",{onClick:()=>{oe(),P(!1)},disabled:a.paidAmount>=a.total,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 text-red-600 font-bold disabled:text-gray-300 disabled:cursor-not-allowed",children:"Record Payment"}),c.jsx("button",{onClick:()=>t(`/bills/edit/${a.id}`),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Edit Bill"})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[c.jsx("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:c.jsxs("div",{className:"p-3 sm:p-4 md:p-6 lg:p-8 space-y-6 sm:space-y-8",children:[c.jsxs("div",{className:"flex flex-row justify-between items-start gap-3 sm:gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[((g==null?void 0:g.logo)||ve.settings.company.logo)&&c.jsx("img",{src:(g==null?void 0:g.logo)||ve.settings.company.logo,className:"rounded-lg object-cover mb-2 sm:mb-3 lg:mb-4 w-auto h-auto",style:{maxWidth:"min(100px, 20%)",maxHeight:"auto"}}),c.jsx("h1",{className:"text-sm sm:text-base lg:text-xl font-black text-blue-600 uppercase tracking-tighter break-words",children:(g==null?void 0:g.name)||ve.settings.company.name}),c.jsxs("div",{className:"mt-1 sm:mt-2 text-[9px] sm:text-[10px] lg:text-xs text-gray-400 font-medium space-y-0.5 sm:space-y-1",children:[c.jsx("p",{className:"break-words",children:(g==null?void 0:g.address)||ve.settings.company.address}),c.jsxs("p",{className:"text-[8px] sm:text-[9px] break-words",children:[(g==null?void 0:g.phone)||ve.settings.company.phone,"  ",(g==null?void 0:g.email)||ve.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right flex-shrink-0",children:[c.jsx("h2",{className:"text-sm sm:text-2xl lg:text-3xl font-black text-gray-300 uppercase leading-none mb-1 sm:mb-2 break-words",children:(y==null?void 0:y.title)||ve.settings.invoice.title}),c.jsxs("div",{className:"space-y-0.5 sm:space-y-1 lg:space-y-1.5 text-[9px] sm:text-sm",children:[c.jsxs("p",{className:"text-[9px] sm:text-sm font-bold text-gray-900 break-words",children:["Bill No: #",a.billNumber]}),c.jsx("p",{className:"text-[9px] sm:text-sm text-gray-500",children:a.billDate})]})]})]}),c.jsxs("div",{className:"border-t border-gray-100 py-2 sm:py-3 lg:py-4",children:[c.jsx("p",{className:"text-[8px] sm:text-[9px] lg:text-[10px] font-black text-gray-400 uppercase tracking-[0.15em] sm:tracking-[0.2em] mb-2 sm:mb-3 lg:mb-4",children:"Bill From (Vendor)"}),c.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-black text-gray-900 break-words",children:O==null?void 0:O.name}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm text-gray-500 leading-relaxed break-words",children:O==null?void 0:O.address}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm font-bold text-cyan-600 mt-1 sm:mt-1.5 lg:mt-2 break-words",children:O==null?void 0:O.phone})]}),c.jsx("div",{className:"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6 lg:-mx-10",children:c.jsx("div",{className:"px-3 sm:px-4 md:px-6 lg:px-10",children:c.jsxs("table",{className:"w-full text-left text-[10px] sm:text-xs lg:text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100",children:[c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 font-black text-gray-400 uppercase",children:"Description"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Cost"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Qty"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-right font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:a.items.map((ne,I)=>{const K=p.find(he=>he.id===ne.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-3 sm:py-4 lg:py-6",children:c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 min-w-0",children:[c.jsx("img",{src:K==null?void 0:K.image,className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 rounded-full object-cover border border-gray-100 shadow-sm flex-shrink-0"}),c.jsx("span",{className:"font-bold text-gray-900 text-[10px] sm:text-xs lg:text-base break-words",children:ne.productName})]})}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:be(ne.rate)}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:ne.quantity}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-right font-black text-gray-900 px-1 whitespace-nowrap",children:be(ne.amount)})]},I)})})]})})}),c.jsx("div",{className:"flex flex-col items-end pt-2 sm:pt-3 lg:pt-6 px-0",children:c.jsxs("div",{className:"w-full sm:w-full md:w-98 lg:max-w-xs space-y-2 sm:space-y-3 lg:space-y-4",children:[c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:be(a.subtotal)})]}),a.discount>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500 flex-shrink-0",children:["-",be(a.discount)]})]}),a.shipping>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:be(a.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 sm:py-3 lg:py-4 border-t-2 border-[#0f2f57] gap-2",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter text-[11px] sm:text-xs lg:text-sm flex-shrink-0",children:"Total Payable"}),c.jsx("span",{className:"font-black text-sm sm:text-base lg:text-lg flex-shrink-0",children:be(a.total)})]})]})})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"1. Creation"}),c.jsx("div",{className:"p-1 bg-[#ebf4ff] text-white rounded-full",children:ae.Plus})]}),c.jsx("div",{className:"p-5",children:c.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:A!=null&&A.name?`${a.history.created} `:((B=a.history)==null?void 0:B.created)||"Creation information unavailable"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"2. Processing"}),c.jsx("div",{className:`p-1 rounded-full ${a.status===sn.PROCESSING?"bg-[#ebf4ff] text-white":"bg-gray-200 text-gray-400"}`,children:ae.ChevronRight})]}),c.jsx("div",{className:"p-5",children:(V=a.history)!=null&&V.processing?c.jsx("p",{className:"text-xs text-blue-600 leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:a.history.processing}):c.jsx("button",{disabled:a.status===sn.RECEIVED,onClick:q,className:`w-full py-3 ${ie.colors.secondary[600]} hover:${ie.colors.secondary[700]} disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Mark as Processing"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"3. Received"}),c.jsx("div",{className:`p-1 rounded-full ${a.status===sn.RECEIVED?"bg-green-100 text-green-600":"bg-gray-200 text-gray-400"}`,children:ae.ChevronRight})]}),c.jsx("div",{className:"p-5",children:(ue=a.history)!=null&&ue.received?c.jsx("p",{className:"text-xs text-green-600 leading-relaxed font-bold bg-green-50 p-3 rounded-xl",children:a.history.received}):c.jsx("button",{disabled:a.status===sn.ON_HOLD,onClick:ee,className:"w-full py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95",children:"Mark as Received"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"4. Payment"}),c.jsx("div",{className:`p-1 rounded-full ${a.paidAmount>0?"bg-[#ebf4ff] text-white":"bg-gray-200 text-gray-400"}`,children:ae.Banking})]}),c.jsx("div",{className:"p-5 space-y-3",children:a.paidAmount>0?c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-blue-600 leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:(G=a.history)==null?void 0:G.paid}),a.paidAt&&c.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:["Payment Date: ",new Date(a.paidAt).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})]}),a.paidAmount<a.total&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-100 mt-2",children:[c.jsx("p",{className:"text-[10px] font-black text-yellow-600 uppercase",children:"Remaining Amount"}),c.jsx("p",{className:"text-lg font-black text-yellow-700",children:be(a.total-a.paidAmount)})]}),c.jsx("button",{onClick:oe,className:`w-full py-3 ${ie.colors.primary[600]} hover:${ie.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Add Balance Payment"})]})]}):c.jsxs("div",{className:"space-y-4 text-center",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Amount Due"}),c.jsx("p",{className:"text-2xl font-black text-gray-900",children:be(a.total-a.paidAmount)})]}),c.jsx("button",{onClick:oe,className:`w-full py-3 ${ie.colors.primary[600]} hover:${ie.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Record Payment"})]})})]})]})]}),c.jsx($w,{isOpen:D,onClose:()=>M(!1),onSubmit:H,accounts:h,paymentForm:L,setPaymentForm:Y,isLoading:N,title:"Record Payment",buttonText:"Add Payment"})]})},Soe=()=>{const{data:e=[],isLoading:t}=Cs(),{searchQuery:r}=Da(),n=A9(),a=C9(),s=Mr(),l=j.useMemo(()=>{if(!r.trim())return e;const _=r.toLowerCase();return e.filter(N=>N.name.toLowerCase().includes(_)||N.type.toLowerCase().includes(_))},[e,r]),[d,f]=j.useState(!1),[h,p]=j.useState(null),[g,y]=j.useState({name:"",type:"Bank",openingBalance:0}),v=async()=>{if(g.name)try{await n.mutateAsync({name:g.name,type:g.type,openingBalance:g.openingBalance,currentBalance:g.openingBalance}),f(!1),y({name:"",type:"Bank",openingBalance:0})}catch(_){console.error("Failed to create account:",_),s.error("Failed to create account. Please try again.")}},x=async _=>{const N=e.find(O=>O.id===_);if(N){if(N.currentBalance!==0){s.warning(`Cannot delete account "${N.name}" because it has a balance of ${N.currentBalance}. Please transfer the balance to another account first.`);return}if(confirm(`Are you sure you want to delete the account "${N.name}"?`))try{await a.mutateAsync(_),p(null)}catch(O){console.error("Failed to delete account:",O),s.error("Failed to delete account. Please try again.")}}},S=l.reduce((_,N)=>_+N.currentBalance,0);return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Vd,{isLoading:t,message:"Loading accounts..."}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Banking & Accounts"})}),c.jsx(Qe,{onClick:()=>f(!0),variant:"primary",size:"md",icon:ae.Plus,disabled:n.isPending,children:"Add Account"})]}),c.jsxs("div",{className:`${ie.colors.primary[600]} rounded-xl p-8 text-white shadow-xl shadow-[#0f2f57]/20 relative overflow-hidden`,children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"text-[#c7dff5] font-medium text-sm mb-1 uppercase tracking-wider",children:"Total Combined Balance"}),c.jsx("h1",{className:"text-4xl font-black",children:be(S)}),c.jsxs("div",{className:"mt-8 flex gap-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[#a8c5e8] text-xs font-bold uppercase",children:"Bank Accounts"}),c.jsx("p",{className:"text-xl font-bold",children:e.filter(_=>_.type==="Bank").length})]}),c.jsx("div",{className:"w-px bg-[#0f2f57]/50 h-10"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[#a8c5e8] text-xs font-bold uppercase",children:"Cash Accounts"}),c.jsx("p",{className:"text-xl font-bold",children:e.filter(_=>_.type==="Cash").length})]})]})]}),c.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none",children:c.jsx("div",{className:"w-48 h-48 border-[24px] border-white rounded-full"})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(_=>c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow group relative",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:`p-3 rounded-xl ${_.type==="Bank"?`bg-[#e6f0ff] ${ie.colors.secondary[600]}`:"bg-orange-50 text-orange-600"}`,children:(_.type==="Bank",ae.Banking)}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>p(h===_.id?null:_.id),className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-lg transition-all",children:ae.More}),h===_.id&&c.jsx("div",{className:"absolute right-0 mt-1 w-40 bg-white border border-gray-100 rounded-lg shadow-lg z-50 py-1",children:c.jsxs("button",{onClick:()=>x(_.id),disabled:_.currentBalance!==0||a.isPending,className:`w-full text-left px-4 py-2.5 text-sm flex items-center gap-2 font-bold ${_.currentBalance!==0||a.isPending?"text-gray-400 cursor-not-allowed":"text-red-600 hover:bg-red-50"}`,title:_.currentBalance!==0?"Account must have zero balance to delete":"Delete account",children:[ae.Delete," Delete"]})})]})]}),c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:_.name}),c.jsxs("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-tight mb-4",children:[_.type," Account"]}),c.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-50",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Opening Balance"}),c.jsx("span",{className:"font-semibold text-gray-700",children:be(_.openingBalance)})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Current Balance"}),c.jsx("span",{className:"text-xl font-black",children:be(_.currentBalance)})]})]})]},_.id))}),d&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>f(!1)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 animate-in fade-in zoom-in duration-200",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Account"})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Account Name"}),c.jsx("input",{type:"text",placeholder:"e.g. City Bank - 0987",className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.name,onChange:_=>y({...g,name:_.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Account Type"}),c.jsxs("select",{className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.type,onChange:_=>y({...g,type:_.target.value}),children:[c.jsx("option",{value:"Bank",children:"Bank"}),c.jsx("option",{value:"Cash",children:"Cash"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Opening Balance"}),c.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.openingBalance,onChange:_=>y({...g,openingBalance:parseFloat(_.target.value)||0})})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-2xl flex gap-3",children:[c.jsx(Qe,{onClick:()=>f(!1),variant:"ghost",disabled:n.isPending,children:"Cancel"}),c.jsx(Qe,{onClick:v,variant:"primary",size:"md",className:"flex-1",disabled:n.isPending||!g.name,children:n.isPending?"Creating...":"Create Account"})]})]})]})]})},_oe=()=>{const e=mt();$e(),Mr();const{searchQuery:t}=Da(),[r,n]=j.useState("All Time"),[a,s]=j.useState({from:"",to:""}),[l,d]=j.useState("All"),{data:f=[],isPending:h}=Dc(),{data:p=[]}=As(),{data:g=[]}=Mc(),{data:y=[]}=Pc(),{data:v=[]}=Tc(),{data:x=[]}=ks(),{data:S=[]}=Ps();k9();const _=j.useMemo(()=>new Map(x.map(D=>[D.id,D])),[x]),N=D=>{if(r==="All Time")return!0;const M=new Date(D),L=new Date;if(r==="Today")return M.toDateString()===L.toDateString();if(r==="This Week"){const Y=L.getDate()-L.getDay(),Q=Y+6,q=new Date(new Date().setDate(Y)),ee=new Date(new Date().setDate(Q));return M>=q&&M<=ee}return r==="This Month"?M.getMonth()===L.getMonth()&&M.getFullYear()===L.getFullYear():r==="This Year"?M.getFullYear()===L.getFullYear():r==="Custom"?!a.from||!a.to?!0:M>=new Date(a.from)&&M<=new Date(a.to):!0},O=D=>{var L,Y;if(!((L=D.createdBy)!=null&&L.trim()))return null;const M=_.get(D.createdBy);if(M!=null&&M.name)return M.name;if((Y=D.history)!=null&&Y.created){const Q=D.history.created.match(/Created by (.+?) on/);if(Q)return Q[1]}return null},A=D=>{const M=p.find(Y=>Y.id===D);if(M)return{name:M.name,type:"Customer"};const L=g.find(Y=>Y.id===D);return L?{name:L.name,type:"Vendor"}:null},C=j.useMemo(()=>{let D=f.filter(M=>N(M.date)).filter(M=>l==="All"||M.type===l);if(t.trim()){const M=t.toLowerCase();D=D.filter(L=>{var ee,H;const Y=L.contactId?A(L.contactId):null,Q=O(L),q=((ee=S.find(oe=>oe.id===L.category))==null?void 0:ee.name)||L.category||"";return L.description.toLowerCase().includes(M)||q.toLowerCase().includes(M)||L.type.toLowerCase().includes(M)||(Y==null?void 0:Y.name.toLowerCase().includes(M))||((H=Q==null?void 0:Q.toLowerCase)==null?void 0:H.call(Q).includes(M))||be(L.amount).includes(M)})}return D},[f,r,a,l,t,p,g,S,x]),T=(D,M)=>{try{const L=D&&D.toString().length>10?D:M||D||"",Y=new Date(L),Q="Asia/Dhaka",q=Y.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric",timeZone:Q}),ee=Y.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:Q});return{date:q,time:ee}}catch{return{date:D||M||"",time:""}}},P=D=>{if(D.referenceId){if(y.some(Y=>Y.id===D.referenceId)){e(`/orders/${D.referenceId}`);return}if(v.some(Y=>Y.id===D.referenceId)){e(`/bills/${D.referenceId}`);return}}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900 tracking-tight",children:"Financial Transactions"})}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(Qe,{onClick:()=>e("/transactions/new/income"),variant:"primary",size:"md",icon:ae.Plus,children:"Income"}),c.jsx(Qe,{onClick:()=>e("/transactions/new/expense"),variant:"danger",size:"md",icon:ae.Minus,children:"Expense"})]})]}),c.jsx(gc,{title:"Transactions",filterRange:r,setFilterRange:n,customDates:a,setCustomDates:s,statusTab:l,setStatusTab:d,statusOptions:["Income","Expense","Transfer"]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Type"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Contact"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:c.jsxs(c.Fragment,{children:["Category ",c.jsx("br",{})," Notes"]})}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:h?c.jsx(Dp,{columns:7,rows:8}):C.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-6 py-16 text-center text-gray-400 italic font-medium",children:"No transactions found."})}):C.map(D=>{var H;const M=D.contactId?A(D.contactId):null,L=O(D),Y=D.referenceId&&(y.some(oe=>oe.id===D.referenceId)||v.some(oe=>oe.id===D.referenceId)),Q=!!D.referenceId,{date:q,time:ee}=T(D.date,D.createdAt);return c.jsxs("tr",{onClick:()=>P(D),className:`hover:bg-gray-50 transition-all group ${Y?"cursor-pointer":""}`,children:[c.jsx("td",{className:"px-6 py-5 text-sm font-bold text-gray-700",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-gray-900",children:q}),c.jsx("span",{className:"text-[11px] text-gray-400 font-medium",children:ee})]})}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest ${D.type==="Income"?"bg-[#ebf4ff]":D.type==="Expense"?"bg-red-50 text-red-600":"bg-[#e6f0ff]"}`,children:D.type})}),c.jsx("td",{className:"px-6 py-5",children:Q?M?c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:M.name}),c.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest",children:M.type})]}):c.jsx("span",{className:"text-gray-300 font-bold text-xs",children:""}):L?c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:L}),c.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest",children:"Created By"})]}):c.jsx("span",{className:"text-gray-300 font-bold text-xs",children:""})}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800",children:((H=S.find(oe=>oe.id===D.category))==null?void 0:H.name)||D.category}),c.jsx("p",{className:"text-xs text-gray-400 italic max-w-xs truncate",children:D.description})]})}),c.jsx("td",{className:"px-6 py-5 text-right",children:c.jsxs("span",{className:`font-black text-base ${D.type==="Income"?"text-emerald-600":D.type==="Expense"?"text-red-600":"text-black"}`,children:[D.type==="Income"?"+":D.type==="Expense"?"-":"",be(D.amount)]})})]},D.id)})})]})})})]})},Noe=()=>{var N;const{type:e}=Cn(),t=mt(),r=ve.currentUser,n=e==="income",{data:a=[]}=Cs(),{data:s}=bD(),{data:l=[]}=vD(),{data:d=[]}=Ps(),f=Wd(),h=Yd(),p=Mr(),g=j.useMemo(()=>d.filter(O=>O.type===(n?"Income":"Expense")),[d,n]),[y,v]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),paymentMethod:(s==null?void 0:s.paymentMethod)||"Cash",accountId:(s==null?void 0:s.accountId)||((N=a[0])==null?void 0:N.id)||"",amount:0,description:"",category:n?(s==null?void 0:s.incomeCategoryId)||"":(s==null?void 0:s.expenseCategoryId)||"",attachmentName:"",attachmentUrl:""}),x=O=>{var C;const A=(C=O.target.files)==null?void 0:C[0];if(A){const T=new FileReader;T.onload=()=>{v({...y,attachmentName:A.name,attachmentUrl:T.result})},T.readAsDataURL(A)}},S=f.isPending||h.isPending,_=async()=>{if(y.amount<=0){p.warning("Amount must be greater than 0");return}if(!y.accountId){p.warning("Please select an account");return}if(!y.category){p.warning("Please select a category");return}if(!(r!=null&&r.id)){p.warning("User session expired. Please log in again.");return}try{if(!n){const Q=a.find(q=>q.id===y.accountId);if(Q&&Q.currentBalance<y.amount){p.error(`Insufficient balance. Account has ${be(Q.currentBalance)} but transaction requires ${be(y.amount)}`);return}}const A=new Date(y.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),C=y.time,[T,P]=y.time.split(":").map(Number),D=new Date(y.date);D.setHours(T,P,0,0);const M=D.toISOString(),L={type:n?"Income":"Expense",date:M,paymentMethod:y.paymentMethod,accountId:y.accountId,amount:y.amount,description:y.description,category:y.category,attachmentName:y.attachmentName,attachmentUrl:y.attachmentUrl,createdBy:r.id,history:{created:`Created by ${r.name} on ${A}, at ${C}`}};await f.mutateAsync(L);const Y=a.find(Q=>Q.id===y.accountId);if(Y){const Q=n?Y.currentBalance+y.amount:Y.currentBalance-y.amount;await h.mutateAsync({id:y.accountId,updates:{currentBalance:Q}})}t("/transactions")}catch(O){console.error("Failed to save transaction:",O),p.error("Failed to save transaction: "+(O instanceof Error?O.message:"Unknown error"))}};return c.jsxs("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[c.jsx("div",{children:c.jsxs("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:["Record ",n?"Income":"Expense"]})}),c.jsx("button",{onClick:()=>t(-1),className:"p-3 text-gray-400 hover:text-gray-600 bg-white border border-gray-100 rounded-lg shadow-sm",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l18 18"})})})]}),c.jsxs("div",{className:"bg-white p-8 lg:p-12 rounded-lg border border-gray-100 shadow-xl shadow-gray-200/20 space-y-10",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Amount (BDT)"}),c.jsx("input",{type:"number",className:`w-full text-xl font-black px-6 py-4 bg-gray-50 border-2 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl transition-all outline-none ${n?"${theme.colors.primary[600]}":"text-red-600"}`,value:y.amount,onChange:O=>v({...y,amount:parseFloat(O.target.value)||0}),placeholder:"0.00"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Date"}),c.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:y.date,onChange:O=>v({...y,date:O.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Time"}),c.jsx("input",{type:"time",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:y.time,onChange:O=>v({...y,time:O.target.value})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Connected Account"}),c.jsx("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.accountId,onChange:O=>v({...y,accountId:O.target.value}),children:a.map(O=>c.jsx("option",{value:O.id,children:O.name},O.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Category"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.category,onChange:O=>v({...y,category:O.target.value}),children:[c.jsx("option",{value:"",children:"Select a category"}),g.map(O=>c.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Payment Method"}),c.jsx("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.paymentMethod,onChange:O=>v({...y,paymentMethod:O.target.value}),children:l.map(O=>c.jsx("option",{value:O.name,children:O.name},O.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Attachment"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"file",className:"hidden",id:"file-upload",onChange:x}),c.jsx("label",{htmlFor:"file-upload",className:"w-full px-6 py-4 bg-gray-50 border-transparent hover:bg-gray-100 rounded-lg font-bold pl-14 flex items-center cursor-pointer transition-colors",children:y.attachmentName||"Choose file to upload"}),c.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400",children:ae.Print})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Description"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 outline-none",placeholder:"What was this transaction for?",value:y.description,onChange:O=>v({...y,description:O.target.value})})]}),c.jsxs(Qe,{onClick:_,variant:n?"primary":"danger",size:"lg",className:"w-full",disabled:S,loading:S,children:["Finalize ",n?"Income":"Expense"]})]})]})},Ooe=()=>{mt();const e=$e(),t=ve.currentUser,{data:r=[]}=Cs(),n=Wd(),a=Yd(),s=Mr(),[l,d]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),fromAccountId:"",toAccountId:"",amount:0,description:""}),f=async()=>{if(!l.amount||!l.fromAccountId||!l.toAccountId){s.warning("Please fill in all fields.");return}if(l.fromAccountId===l.toAccountId){s.warning("Cannot transfer to the same account.");return}const h=r.find(g=>g.id===l.fromAccountId),p=r.find(g=>g.id===l.toAccountId);if(h&&p){if(h.currentBalance<l.amount){s.warning("Insufficient balance in source account.");return}try{const[g,y]=l.time.split(":").map(Number),v=new Date(l.date);v.setHours(g,y,0,0);const x=v.toISOString();await Promise.all([n.mutateAsync({type:"Transfer",date:x,accountId:l.fromAccountId,toAccountId:l.toAccountId,amount:l.amount,description:l.description||`Transfer from ${h.name} to ${p.name}`,category:"Transfer",paymentMethod:"Internal Transfer",createdBy:t.id}),Promise.all([a.mutateAsync({id:l.fromAccountId,updates:{currentBalance:h.currentBalance-l.amount}}),a.mutateAsync({id:l.toAccountId,updates:{currentBalance:p.currentBalance+l.amount}})])]),s.success("Transfer completed successfully"),e.invalidateQueries({queryKey:["accounts"]}),d({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),fromAccountId:"",toAccountId:"",amount:0,description:""})}catch(g){console.error("Transfer failed:",g),s.error("Failed to complete transfer: "+(g instanceof Error?g.message:"Unknown error"))}}};return c.jsxs("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:[c.jsx("div",{className:"mb-8 flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:"Fund Transfer"}),c.jsx("p",{className:"text-gray-500 font-medium",children:"Move balances between your business accounts"})]})}),c.jsxs("div",{className:"bg-white p-8 lg:p-12 rounded-lg border border-gray-100 shadow-xl space-y-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Amount to Transfer (BDT)"}),c.jsx("input",{type:"number",className:`w-full text-xl font-black px-6 py-4 bg-[#ebf4ff] border-2 border-transparent focus:border-[#3c5a82] rounded-xl transition-all outline-none ${ie.colors.primary[600]}`,value:l.amount,onChange:h=>d({...l,amount:parseFloat(h.target.value)||0}),placeholder:"0.00"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"From Account (Source)"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-bold",value:l.fromAccountId,onChange:h=>d({...l,fromAccountId:h.target.value}),children:[c.jsx("option",{value:"",children:"Select an account"}),r.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",be(h.currentBalance),")"]},h.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"To Account (Destination)"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-bold",value:l.toAccountId,onChange:h=>d({...l,toAccountId:h.target.value}),children:[c.jsx("option",{value:"",children:"Select an account"}),r.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",be(h.currentBalance),")"]},h.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Transfer Date"}),c.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:l.date,onChange:h=>d({...l,date:h.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Transfer Time"}),c.jsx("input",{type:"time",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:l.time,onChange:h=>d({...l,time:h.target.value})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Memo / Description"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 outline-none",placeholder:"Reason for transfer...",value:l.description,onChange:h=>d({...l,description:h.target.value})})]}),c.jsx(Qe,{onClick:f,variant:"primary",size:"lg",className:"w-full",disabled:n.isPending||a.isPending,children:n.isPending||a.isPending?"Processing Transfer...":"Execute Transfer"})]})]})},Eoe=()=>{const e=mt(),t=$e(),r=Mr(),{searchQuery:n}=Da(),{data:a=[],isPending:s}=Rc(),l=B9(),d=ve.currentUser.role===At.ADMIN,[f,h]=j.useState("All Time"),[p,g]=j.useState({from:"",to:""}),y=j.useMemo(()=>{let x=a;if(n.trim()){const S=n.toLowerCase();x=x.filter(_=>_.name.toLowerCase().includes(S)||_.category.toLowerCase().includes(S))}return x},[a,n]),v=async x=>{if(confirm("Are you sure you want to delete this product?"))try{await l.mutateAsync(x),t.invalidateQueries({queryKey:["products"]}),r.success("Product deleted successfully")}catch(S){console.error("Failed to delete product:",S),r.error("Failed to delete product")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Products Catalog"})}),d&&c.jsx(Qe,{onClick:()=>e("/products/new"),variant:"primary",size:"md",icon:ae.Plus,children:"Add Product"})]}),c.jsx(gc,{title:"Products",filterRange:f,setFilterRange:h,customDates:p,setCustomDates:g}),c.jsx(Mp,{columns:[{key:"name",label:"Name",render:(x,S)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:S.image||"https://via.placeholder.com/100",alt:S.name,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("div",{children:c.jsx("p",{className:"font-bold text-gray-900",children:S.name})})]})},{key:"category",label:"Category",render:x=>c.jsx("span",{className:"px-2.5 py-1 bg-[#ebf4ff] rounded-lg text-[10px] font-black uppercase tracking-widest",children:x})},{key:"salePrice",label:d?c.jsxs(c.Fragment,{children:["Sale Price",c.jsx("br",{}),"Purchase Price"]}):c.jsx(c.Fragment,{children:"Sale Price"}),render:(x,S)=>c.jsxs("div",{className:"flex flex-col gap-0.5",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-sm font-bold",children:be(S.salePrice)})}),d&&c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-[11px] font-bold text-gray-600",children:be(S.purchasePrice)})})]})},...d?[{key:"id",label:"Actions",align:"right",render:x=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(Ss,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:S=>{S.stopPropagation(),e(`/products/edit/${x}`)}}),c.jsx(Ss,{icon:ae.Delete,variant:"danger",title:"Delete",onClick:S=>{S.stopPropagation(),v(x)}})]})}]:[]],data:y,loading:s,emptyMessage:"No products found"})]})},GP=()=>{const{id:e}=Cn(),t=mt(),r=!!e,n=ve.currentUser;if(!n)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(Qe,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});if(r&&n.role===At.EMPLOYEE)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot edit products. Contact an administrator for assistance."}),c.jsx(Qe,{onClick:()=>t("/products"),variant:"primary",children:"Back to Products"})]});const{data:a}=w9(r?e:void 0),{data:s=[],isPending:l}=Ps("Product"),d=I9(),f=L9(),[h,p]=j.useState({name:"",category:"",image:"",salePrice:0,purchasePrice:0}),[g,y]=j.useState(!1),[v,x]=j.useState(null);xr.useEffect(()=>{a&&p(a)},[a]);const S=N=>{var A;const O=(A=N.target.files)==null?void 0:A[0];if(O){const C=new FileReader;C.onload=()=>{p({...h,image:C.result})},C.readAsDataURL(O)}},_=async()=>{if(!h.name||!h.category){x("Name and category are required");return}y(!0),x(null);try{const N={name:h.name||"",category:h.category||"",image:h.image||"https://picsum.photos/200/200?random="+Math.random(),salePrice:h.salePrice||0,purchasePrice:h.purchasePrice||0};r?(await f.mutateAsync({id:e,updates:N}),t("/products")):d.mutateAsync(N).then(()=>{t("/products")},O=>{y(!1),x(O instanceof Error?O.message:"Failed to create product")})}catch(N){console.error("Failed to save product:",N),x(N instanceof Error?N.message:"Failed to save product"),y(!1)}};return c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Product":"Add Product"}),c.jsx("button",{onClick:()=>t("/products"),className:"px-4 py-2 border rounded-xl text-gray-500 font-bold bg-white hover:bg-gray-50",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Product Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:h.name,onChange:N=>p({...h,name:N.target.value}),placeholder:"e.g. Cotton Polo T-Shirt"})]}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Category"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:h.category,onChange:N=>p({...h,category:N.target.value}),disabled:l,children:[c.jsx("option",{value:"",children:l?"Loading...":"Select Category..."}),s.map(N=>c.jsx("option",{value:N.name,children:N.name},N.id))]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Product Image"}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"w-24 h-24 rounded-lg border border-dashed border-gray-300 flex items-center justify-center overflow-hidden bg-gray-50",children:h.image?c.jsx("img",{src:h.image,className:"w-full h-full object-cover"}):c.jsx("span",{className:"text-gray-300 text-xs text-center p-2",children:"No image"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("input",{type:"file",id:"product-image",className:"hidden",onChange:S}),c.jsx("label",{htmlFor:"product-image",className:"inline-block px-6 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-xl cursor-pointer transition-all",children:"Upload File"}),c.jsx("p",{className:"text-[10px] text-gray-400 mt-2 font-medium",children:"Recommended size: 500x500px. JPG, PNG supported."})]})]})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sale Price (BDT)"}),c.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold",value:h.salePrice,onChange:N=>p({...h,salePrice:parseFloat(N.target.value)||0})})]}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Purchase Price (BDT)"}),c.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82] text-gray-600 font-bold",value:h.purchasePrice,onChange:N=>p({...h,purchasePrice:parseFloat(N.target.value)||0})})]})]}),c.jsxs("div",{className:"pt-6 space-y-4",children:[v&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:v})}),c.jsx(Qe,{onClick:_,variant:"primary",size:"lg",className:"w-full",disabled:g,children:g?"Saving...":r?"Update Product Item":"Create Product Item"})]})]})]})},Aoe=()=>{var l;const e=mt(),{searchQuery:t}=Da(),{data:r=[],isPending:n}=ks(),a=((l=ve.currentUser)==null?void 0:l.role)===At.ADMIN,s=j.useMemo(()=>{if(!t.trim())return r;const d=t.toLowerCase();return r.filter(f=>f.name.toLowerCase().includes(d)||f.phone.includes(d)||f.role.toLowerCase().includes(d))},[r,t]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Application Users"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Manage staff accounts and system permissions"})]}),a&&c.jsx(Qe,{onClick:()=>e("/users/new"),variant:"primary",size:"md",icon:ae.Plus,children:"Add User"})]}),c.jsx(Mp,{columns:[{key:"name",label:"User",render:(d,f)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:f.image||"https://picsum.photos/100/100?random="+f.id,className:"w-10 h-10 rounded-full object-cover border"}),c.jsx("span",{className:"font-bold text-gray-900",children:f.name})]})},{key:"role",label:"Role",render:d=>c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${d===At.ADMIN?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:d})},{key:"phone",label:"Contact",render:d=>c.jsx("span",{className:"text-sm text-gray-600",children:d})},{key:"id",label:"Actions",align:"right",render:d=>c.jsx(Ss,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:f=>{f.stopPropagation(),e(`/users/edit/${d}`)}})}],data:s,onRowClick:d=>e(`/users/${d.id}`),emptyMessage:"No users found",loading:n})]})},YP=()=>{const{id:e}=Cn(),t=mt(),r=!!e,{data:n,isPending:a,error:s}=gD(r?e:void 0),l=P9(),d=T9(),f=jD(),h=Mr(),[p,g]=j.useState(!1),[y,v]=j.useState(!1),[x,S]=j.useState({name:"",phone:"",password:"",role:At.EMPLOYEE,image:""});xr.useEffect(()=>{n&&S(n)},[n]);const _=localStorage.getItem("currentUser"),N=_?JSON.parse(_):null,O=(N==null?void 0:N.role)===At.ADMIN,A=(N==null?void 0:N.id)===e,C=a,T=M=>{var Y;const L=(Y=M.target.files)==null?void 0:Y[0];if(L){const Q=new FileReader;Q.onload=()=>{S({...x,image:Q.result})},Q.readAsDataURL(L)}},P=async()=>{if(!x.name||!x.phone||O&&!r&&!x.password){h.warning("Please fill mandatory fields (Name, Phone, Password)");return}g(!0);try{if(r&&e){const M={name:x.name,phone:x.phone,image:x.image};if(O&&(x.password&&(M.password=x.password),x.role&&(M.role=x.role)),await d.mutateAsync({id:e,updates:M}),A&&N){const L={...N,...M};localStorage.setItem("currentUser",JSON.stringify(L))}}else{if(!O){h.error("Only admins can add users"),g(!1);return}await l.mutateAsync({name:x.name||"",phone:x.phone||"",password:x.password||"",role:x.role||At.EMPLOYEE,image:x.image||""})}h.success(r?"User updated successfully!":"User created successfully!"),t("/users")}catch(M){console.error("Failed to save user:",M);const L=zE(M);h.error("Failed to save user: "+L)}finally{g(!1)}},D=async()=>{if(e){g(!0);try{await f.mutateAsync(e),h.success("User deleted successfully!"),t("/users")}catch(M){console.error("Failed to delete user:",M);const L=zE(M);h.error("Failed to delete user: "+L)}finally{g(!1),v(!1)}}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:r?"Edit Profile":"Add User"}),c.jsx("button",{onClick:()=>t("/users"),className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-500 hover:bg-gray-50",children:"Cancel"})]}),r&&C&&c.jsx("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm text-center text-gray-500",children:"Loading user details..."}),s&&c.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-100 text-red-700",children:s.message||"User not found"}),(!r||!C)&&c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-6 p-6 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-20 h-20 rounded-[50%] overflow-hidden bg-white border",children:c.jsx("img",{src:x.image||`https://ui-avatars.com/api/?name=${x.name||"User"}&background=10b981&color=fff`,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-2",children:"Profile Photo"}),c.jsx("input",{type:"file",id:"user-pfp",className:"hidden",onChange:T}),c.jsx("label",{htmlFor:"user-pfp",className:`cursor-pointer px-4 py-2 ${ie.colors.primary[600]} text-white text-xs font-bold rounded-lg hover:${ie.colors.primary[700]}`,children:"Upload Picture"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Full Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:x.name,onChange:M=>S({...x,name:M.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Phone Number"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:x.phone,onChange:M=>S({...x,phone:M.target.value})})]}),O&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Password (Admin Only Access)"}),c.jsx("input",{type:"password",className:"w-full px-4 py-3 bg-purple-50 border border-purple-100 rounded-xl focus:ring-2 focus:ring-purple-500",value:x.password,onChange:M=>S({...x,password:M.target.value}),placeholder:r?"Leave blank to keep current password":"Secure system password"}),c.jsx("p",{className:"text-[10px] text-purple-400 font-medium",children:"Only administrators can set or change passwords."})]}),O&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"System Role"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:x.role,onChange:M=>S({...x,role:M.target.value}),children:[c.jsx("option",{value:At.EMPLOYEE,children:"Employee"}),c.jsx("option",{value:At.ADMIN,children:"Administrator"})]})]})]}),c.jsxs("div",{className:"pt-6 space-y-3",children:[c.jsx(Qe,{onClick:P,variant:"primary",size:"lg",className:"w-full",disabled:p,children:p?"Saving...":"Save Details"}),r&&O&&c.jsx("button",{onClick:()=>v(!0),disabled:p,className:"w-full px-4 py-3 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Delete User"})]})]}),y&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-sm w-full p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete User?"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:["Are you sure you want to delete ",c.jsx("strong",{children:x.name}),"? This action cannot be undone."]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>v(!1),disabled:p,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:D,disabled:p,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:p?"Deleting...":"Delete"})]})]})})]})},Coe=()=>{const{id:e}=Cn(),t=mt(),r=ve.currentUser,{data:n,isPending:a,error:s}=gD(e),l=jD(),d=Mr(),[f,h]=j.useState(!1);if(a)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading user..."});if(s||!n)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(s==null?void 0:s.message)||"User not found."});const p=r.role===At.ADMIN||r.id===e,g=r.role===At.ADMIN,y=async()=>{if(e)try{await l.mutateAsync(e),d.success("User deleted successfully!"),t("/users")}catch(v){console.error("Failed to delete user:",v),d.error("Failed to delete user: "+(v instanceof Error?v.message:"Unknown error"))}finally{h(!1)}};return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/users"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Profile"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[p&&c.jsxs("button",{onClick:()=>t(`/users/edit/${n.id}`),className:`px-6 py-2 ${ie.colors.primary[600]} text-white rounded-xl font-bold hover:${ie.colors.primary[700]} shadow-md flex items-center gap-2`,children:[ae.Edit," Edit Profile"]}),g&&c.jsx("button",{onClick:()=>h(!0),disabled:l.isPending,className:"px-6 py-2 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Delete User"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsx("div",{className:"h-32 bg-gradient-to-r from-[#0f2f57] to-[#1a3a6e]"}),c.jsxs("div",{className:"px-8 pb-8",children:[c.jsxs("div",{className:"relative flex justify-between items-end -mt-12 mb-8",children:[c.jsx("div",{className:"p-1 bg-white rounded-full shadow-xl",children:c.jsx("img",{src:n.image||"https://picsum.photos/200/200?random="+n.id,className:"w-24 h-24 rounded-full object-cover border-1 border-black"})}),c.jsx("span",{className:`px-4 py-1 rounded-full text-xs font-black uppercase tracking-widest ${n.role===At.ADMIN?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:n.role})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Full Name"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n.name})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Phone Number"}),c.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.phone})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Joining Date"}),c.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.createdAt?new Date(n.createdAt).toLocaleDateString("en-BD",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[c.jsx("h4",{className:"font-bold text-gray-900",children:"Account Security"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Passwords are managed by system administrators. If you need to reset your password, please contact the IT department."}),c.jsxs("div",{className:"flex items-center gap-2 text-emerald-700 text-sm font-bold",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Active Status Verified"]})]})]})]})]}),f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-sm w-full p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete User?"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:["Are you sure you want to delete ",c.jsx("strong",{children:n.name}),"? This action cannot be undone."]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>h(!1),disabled:l.isPending,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:y,disabled:l.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:l.isPending?"Deleting...":"Delete"})]})]})})]})},koe=()=>{const[e,t]=j.useState("company"),[r,n]=j.useState(null),a=$e(),{data:s,isPending:l}=Rp(),{data:d,isPending:f}=Ip(),{data:h,isPending:p}=Lp(),{data:g,isPending:y}=bD(),{data:v,isPending:x}=zw(),{data:S=[],isPending:_}=Ps(),{data:N=[],isPending:O}=vD(),{data:A=[],isPending:C}=j9(),{data:T=[]}=Cs(),P=$9(),D=U9(),M=z9(),L=q9();K9(),F9();const Y=Q9(),Q=Mr(),[q,ee]=j.useState({name:"",phone:"",email:"",address:"",logo:""}),[H,oe]=j.useState({prefix:"ORD-",nextNumber:1}),[B,V]=j.useState({steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}),[ue,G]=j.useState({title:"Invoice",logoWidth:120,logoHeight:120,footer:""}),[ne,I]=j.useState({defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}),[K,he]=j.useState({name:"",type:"Income",color:"#10B981",parentId:""}),[ge,xe]=j.useState({name:"",description:""}),[je,Ne]=j.useState({name:"",shortName:"",description:""}),[te,R]=j.useState([]),[de,pe]=j.useState(!1);xr.useEffect(()=>{s&&ee(s)},[s]),xr.useEffect(()=>{d&&oe(d)},[d]),xr.useEffect(()=>{h&&G(h)},[h]),xr.useEffect(()=>{g&&I(g)},[g]),xr.useEffect(()=>{v&&V(v)},[v]),j.useEffect(()=>{let le=null;const kt=async()=>{const{baseUrl:Yr,clientId:sr,clientSecret:ut,clientContext:Hc}=B.carryBee,Vc=Yr==null?void 0:Yr.trim(),Gc=sr==null?void 0:sr.trim(),Rs=ut==null?void 0:ut.trim(),bf=Hc==null?void 0:Hc.trim();if(!Vc||!Gc||!Rs||!bf){R([]);return}pe(!0);try{const Go=await Jq({baseUrl:Vc,clientId:Gc,clientSecret:Rs,clientContext:bf});R(Go)}catch(Go){console.error("Failed to fetch CarryBee stores:",Go),R([])}finally{pe(!1)}};return le=setTimeout(()=>{kt()},700),()=>{le&&clearTimeout(le)}},[B.carryBee.baseUrl,B.carryBee.clientId,B.carryBee.clientSecret,B.carryBee.clientContext]);const se=l||f||p||y||x||_||O||C,Me=async()=>{try{const le=Q.loading("Saving all settings...");Y.mutateAsync({company:q,order:H,invoice:ue,defaults:ne,courier:B}).then(()=>{ve.settings.company=q,ve.settings.order=H,ve.settings.invoice=ue,ve.settings.defaults=ne,ve.settings.courier=B,Q.update(le,"Settings saved successfully!","success")}).catch(kt=>{console.error("Failed to save settings:",kt),Q.update(le,"Failed to save settings: "+(kt instanceof Error?kt.message:"Unknown error"),"error")})}catch(le){console.error("Failed to initiate settings save:",le),Q.error("Failed to save settings: "+(le instanceof Error?le.message:"Unknown error"))}},ke=le=>{var Yr;const kt=(Yr=le.target.files)==null?void 0:Yr[0];if(kt){const sr=new FileReader;sr.onload=()=>{ee({...q,logo:sr.result})},sr.readAsDataURL(kt)}},He=async()=>{if(!K.name.trim()){Q.warning("Please enter a category name");return}const le={id:crypto.randomUUID(),name:K.name,type:K.type,color:K.color,parentId:K.parentId||void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},kt=a.getQueryData(["categories"]);a.setQueryData(["categories"],(ut=[])=>[...ut,le]);const Yr=Q.loading("Adding category..."),sr={...K};he({name:"",type:"Income",color:"#10B981",parentId:""}),n(null);try{await P.mutateAsync({name:sr.name,type:sr.type,color:sr.color,parentId:sr.parentId||void 0}),Q.update(Yr,"Category added successfully!","success")}catch(ut){console.error("Failed to add category:",ut),a.setQueryData(["categories"],kt),Q.update(Yr,"Failed to add category: "+(ut instanceof Error?ut.message:"Unknown error"),"error"),n("category"),he(sr)}},et=async le=>{if(confirm("Are you sure you want to delete this category?"))try{await D.mutateAsync(le),Q.success("Category deleted successfully!")}catch(kt){console.error("Failed to delete category:",kt),Q.error("Failed to delete category: "+(kt instanceof Error?kt.message:"Unknown error"))}},Yt=async()=>{if(!ge.name.trim()){Q.warning("Please enter a payment method name");return}const le={id:crypto.randomUUID(),name:ge.name,description:ge.description||"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},kt=a.getQueryData(["paymentMethods"]);a.setQueryData(["paymentMethods"],(ut=[])=>[...ut,le]);const Yr=Q.loading("Adding payment method..."),sr={...ge};xe({name:"",description:""}),n(null);try{await M.mutateAsync({name:sr.name,description:sr.description||void 0}),Q.update(Yr,"Payment method added successfully!","success")}catch(ut){console.error("Failed to add payment method:",ut),a.setQueryData(["paymentMethods"],kt),Q.update(Yr,"Failed to add payment method: "+(ut instanceof Error?ut.message:"Unknown error"),"error"),n("payment"),xe(sr)}},Rr=async le=>{if(confirm("Are you sure you want to delete this payment method?"))try{await L.mutateAsync(le),Q.success("Payment method deleted successfully!")}catch(kt){console.error("Failed to delete payment method:",kt),Q.error("Failed to delete payment method: "+(kt instanceof Error?kt.message:"Unknown error"))}},ir=[{id:"company",label:"Company",icon:ae.Dashboard},{id:"order",label:"Order & Invoice",icon:ae.Sales},{id:"defaults",label:"Defaults",icon:ae.Settings},{id:"categories",label:"Categories",icon:ae.More},{id:"payments",label:"Payment Methods",icon:ae.Banking},{id:"courier",label:"Courier",icon:ae.Courier}];return c.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[c.jsx(Vd,{isLoading:se,message:"Loading settings..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Settings"})}),c.jsx(Qe,{onClick:Me,variant:"primary",size:"md",children:"Save Changes"})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[c.jsx("div",{className:"w-full lg:w-64 space-y-1",children:ir.map(le=>c.jsxs("button",{onClick:()=>t(le.id),className:`flex items-center gap-3 w-full px-4 py-3 rounded-xl font-medium transition-all ${e===le.id?`bg-white ${ie.colors.primary[600]} shadow-sm border border-gray-100 ring-1 ring-[#ebf4ff]`:"text-gray-500 hover:bg-gray-100"}`,children:[le.icon,le.label]},le.id))}),c.jsxs("div",{className:"flex-1 bg-white p-8 rounded-xl border border-gray-100 shadow-sm min-h-[500px]",children:[e==="company"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Company Profile"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 flex items-center gap-6 p-6 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden bg-white border",children:q.logo&&c.jsx("img",{src:q.logo,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Company Logo"}),c.jsx("input",{type:"file",id:"logo-input",className:"hidden",onChange:ke}),c.jsx(Qe,{variant:"primary",size:"sm",onClick:()=>{var le;return(le=document.getElementById("logo-input"))==null?void 0:le.click()},children:"Change Logo"})]})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Company Name"}),c.jsx("input",{type:"text",value:q.name,onChange:le=>ee({...q,name:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Phone"}),c.jsx("input",{type:"text",value:q.phone,onChange:le=>ee({...q,phone:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Email"}),c.jsx("input",{type:"email",value:q.email,onChange:le=>ee({...q,email:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("textarea",{value:q.address,onChange:le=>ee({...q,address:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl h-24 focus:ring-2 focus:ring-[#3c5a82] transition-all"})]})]})]}),e==="order"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsxs("section",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Order Logic"}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Order Prefix"}),c.jsx("input",{type:"text",value:H.prefix,onChange:le=>oe({...H,prefix:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl font-mono"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Next Number"}),c.jsx("input",{type:"number",value:H.nextNumber,onChange:le=>oe({...H,nextNumber:parseInt(le.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]}),c.jsxs("section",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Invoice Settings"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-1 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Invoice Title"}),c.jsx("input",{type:"text",value:ue.title,onChange:le=>G({...ue,title:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Logo Width (px)"}),c.jsx("input",{type:"number",value:ue.logoWidth,onChange:le=>G({...ue,logoWidth:parseInt(le.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Logo Height (px)"}),c.jsx("input",{type:"number",value:ue.logoHeight,onChange:le=>G({...ue,logoHeight:parseInt(le.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"md:col-span-3 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Invoice Footer"}),c.jsx("textarea",{value:ue.footer,onChange:le=>G({...ue,footer:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl h-24"})]})]})]})]}),e==="defaults"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"System Defaults"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Account"}),c.jsxs("select",{value:ne.defaultAccountId,onChange:le=>I({...ne,defaultAccountId:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select an account..."}),T.map(le=>c.jsx("option",{value:le.id,children:le.name},le.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Payment Method"}),c.jsxs("select",{value:ne.defaultPaymentMethod,onChange:le=>I({...ne,defaultPaymentMethod:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a payment method..."}),N.map(le=>c.jsx("option",{value:le.name,children:le.name},le.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Income Category"}),c.jsxs("select",{value:ne.incomeCategoryId,onChange:le=>I({...ne,incomeCategoryId:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a category..."}),S.filter(le=>le.type==="Income").map(le=>c.jsx("option",{value:le.id,children:le.name},le.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Expense Category"}),c.jsxs("select",{value:ne.expenseCategoryId,onChange:le=>I({...ne,expenseCategoryId:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a category..."}),S.filter(le=>le.type==="Expense").map(le=>c.jsx("option",{value:le.id,children:le.name},le.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Records Per Page"}),c.jsx("input",{type:"number",value:ne.recordsPerPage,onChange:le=>I({...ne,recordsPerPage:parseInt(le.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]}),e==="categories"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Categories"}),c.jsxs(Qe,{onClick:()=>n("category"),variant:"primary",size:"md",children:[ae.Plus," Add"]})]}),_?c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading categories..."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.map(le=>c.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-gray-50/50 hover:shadow-sm transition-all",children:[c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:le.color}}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-800",children:le.name}),c.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:le.type})]}),c.jsx("button",{onClick:()=>et(le.id),className:"text-red-500 hover:text-red-700 px-2",children:ae.Delete})]},le.id)),S.length===0&&c.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:'No categories yet. Click "Add Category" to create one.'})]})]}),e==="payments"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Payment Methods"}),c.jsxs(Qe,{onClick:()=>n("payment"),variant:"primary",size:"md",children:[ae.Plus," Add"]})]}),O?c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading payment methods..."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.map(le=>c.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50/50 hover:shadow-sm transition-all flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-800",children:le.name}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:le.description||"No description"})]}),c.jsx("button",{onClick:()=>Rr(le.id),className:"text-red-500 hover:text-red-700 px-2",children:ae.Delete})]},le.id)),N.length===0&&c.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:'No payment methods yet. Click "Add Method" to create one.'})]})]}),e==="courier"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsxs("section",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4 flex items-center gap-2",children:[c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-6 h-6 rounded-full"}),c.jsx("span",{className:"",children:"Steadfast"})," Secrets"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Base URL"}),c.jsx("input",{type:"text",value:B.steadfast.baseUrl,onChange:le=>V({...B,steadfast:{...B.steadfast,baseUrl:le.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"API Key"}),c.jsx("input",{type:"text",value:B.steadfast.apiKey,onChange:le=>V({...B,steadfast:{...B.steadfast,apiKey:le.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Secret Key"}),c.jsx("input",{type:"text",value:B.steadfast.secretKey,onChange:le=>V({...B,steadfast:{...B.steadfast,secretKey:le.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]})]}),c.jsxs("section",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4 flex items-center gap-2",children:[c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-6 h-6 rounded-full"}),c.jsx("span",{className:"",children:"CarryBee"})," Secrets"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Base URL"}),c.jsx("input",{type:"text",value:B.carryBee.baseUrl,onChange:le=>V({...B,carryBee:{...B.carryBee,baseUrl:le.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client ID"}),c.jsx("input",{type:"text",value:B.carryBee.clientId,onChange:le=>V({...B,carryBee:{...B.carryBee,clientId:le.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client Secret"}),c.jsx("input",{type:"text",value:B.carryBee.clientSecret,onChange:le=>V({...B,carryBee:{...B.carryBee,clientSecret:le.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client Context"}),c.jsx("input",{type:"text",value:B.carryBee.clientContext,onChange:le=>V({...B,carryBee:{...B.carryBee,clientContext:le.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Store ID"}),c.jsxs("select",{value:B.carryBee.storeId,onChange:le=>V({...B,carryBee:{...B.carryBee,storeId:le.target.value}}),disabled:de||te.length===0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:de?"Loading stores...":te.length===0?"Fill CarryBee credentials first":"Select Store"}),te.map(le=>c.jsx("option",{value:le.id,children:le.name},le.id))]})]})]})]})]})]})]})]}),r==="category"&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>n(null)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 p-8 space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Category"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:K.name,onChange:le=>he({...K,name:le.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Type"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:K.type,onChange:le=>he({...K,type:le.target.value}),children:[c.jsx("option",{value:"Income",children:"Income"}),c.jsx("option",{value:"Expense",children:"Expense"}),c.jsx("option",{value:"Product",children:"Product"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Color"}),c.jsx("input",{type:"color",className:"w-full h-12 bg-gray-50 border rounded-xl cursor-pointer",value:K.color,onChange:le=>he({...K,color:le.target.value})})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(Qe,{onClick:()=>n(null),variant:"ghost",className:"flex-1",children:"Cancel"}),c.jsx(Qe,{onClick:He,variant:"primary",size:"md",className:"flex-1",children:"Add Category"})]})]})]}),r==="payment"&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>n(null)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 p-8 space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Payment Method"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Method Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:ge.name,onChange:le=>xe({...ge,name:le.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Description"}),c.jsx("textarea",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl h-24",value:ge.description,onChange:le=>xe({...ge,description:le.target.value})})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(Qe,{onClick:()=>n(null),variant:"ghost",className:"flex-1",children:"Cancel"}),c.jsx(Qe,{onClick:Yt,variant:"primary",size:"md",className:"flex-1",children:"Add Method"})]})]})]})]})},Poe=()=>{const e=mt(),t=$e(),r=Mr(),{searchQuery:n}=Da(),{data:a=[],isPending:s,error:l}=As(),d=N9(),f=ve.currentUser.role===At.ADMIN,h=j.useMemo(()=>{if(!n.trim())return a;const g=n.toLowerCase();return a.filter(y=>y.name.toLowerCase().includes(g)||y.phone.includes(g)||y.address.toLowerCase().includes(g))},[a,n]),p=async g=>{if(confirm("Are you sure you want to delete this customer?")){if(g.startsWith("temp-")){t.setQueryData(["customers"],y=>y&&y.filter(v=>v.id!==g)),r.success("Customer deleted");return}try{await d.mutateAsync(g),t.invalidateQueries({queryKey:["customers"]}),r.success("Customer deleted successfully")}catch(y){console.error("Failed to delete customer:",y),r.error("Failed to delete customer")}}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Customers"})}),c.jsx(Qe,{onClick:()=>e("/customers/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Customer"})]}),l&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsxs("p",{className:"text-red-800",children:[c.jsx("strong",{children:"Error loading customers:"})," ",l]})}),c.jsx(Mp,{columns:[{key:"name",label:"Customer Name",render:(g,y)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-full bg-green-100 ${ie.colors.primary[600]} flex items-center justify-center font-bold text-white`,children:y.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 block",children:y.name}),c.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:y.address})]})]})},{key:"phone",label:"Contact",render:g=>c.jsx("span",{className:"text-sm font-medium text-gray-700",children:g})},{key:"totalOrders",label:"Total Orders",align:"center",render:g=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-bold text-gray-600",children:g})},{key:"dueAmount",label:"Due Amount",align:"right",render:g=>c.jsx("span",{className:`font-bold ${g>0?"text-red-500":"text-green-500"}`,children:be(g)})},{key:"id",label:"Actions",align:"right",render:g=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(Ss,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:y=>{y.stopPropagation(),e(`/customers/edit/${g}`)}}),f&&c.jsx(Ss,{icon:ae.Delete,variant:"danger",title:"Delete",onClick:y=>{y.stopPropagation(),p(g)}})]})}],data:h,loading:s,onRowClick:g=>e(`/customers/${g.id}`),emptyMessage:"No customers found"})]})},WP=()=>{const{id:e}=Cn(),t=mt(),r=!!e,[n,a]=j.useState({name:"",phone:"",address:""}),[s,l]=j.useState(null),{data:d,isPending:f,error:h}=mD(r?e:void 0),{data:p=[]}=As(),g=S9(),y=_9();j.useEffect(()=>{if(d){a({name:d.name,phone:d.phone,address:d.address});return}if(e&&e.startsWith("temp-")){const x=(p||[]).find(S=>S.id===e);x&&a({name:x.name,phone:x.phone,address:x.address})}},[d,p,e]);const v=async()=>{if(!n.name||!n.phone){l("Name and phone are required");return}l(null);try{if(r){const x={name:n.name,phone:n.phone,address:n.address};await y.mutateAsync({id:e,updates:x}),t("/customers")}else{const x={name:n.name,phone:n.phone,address:n.address,totalOrders:0,dueAmount:0};try{await g.mutateAsync(x),t("/customers")}catch(S){console.error("Create customer failed:",S),l(S instanceof Error?S.message:"Failed to create customer")}}}catch(x){console.error(`Failed to ${r?"update":"create"} customer:`,x),l(x instanceof Error?x.message:`Failed to ${r?"update":"create"} customer`)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:r?"Edit Customer":"New Customer"}),c.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 text-gray-500 font-bold hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"})]}),c.jsx("div",{className:"bg-white p-10 rounded-xl border border-gray-100 shadow-xl space-y-8",children:r&&f?c.jsx("div",{className:"text-center text-gray-500",children:"Loading customer..."}):c.jsxs(c.Fragment,{children:[s&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:s})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Full Name"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:n.name,onChange:x=>a({...n,name:x.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Phone Number"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:n.phone,onChange:x=>a({...n,phone:x.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Address"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 transition-all outline-none",value:n.address,onChange:x=>a({...n,address:x.target.value})})]}),c.jsx(Qe,{onClick:v,variant:"primary",size:"lg",className:"w-full",disabled:g.isPending||y.isPending,children:g.isPending||y.isPending?r?"Updating...":"Adding...":r?"Update Customer":"Add Customer"})]})})]})},Toe=()=>{const{id:e}=Cn(),t=mt(),[r,n]=j.useState(null),a=ve.currentUser,s=(a==null?void 0:a.role)||null,{data:l}=mD(e||""),{data:d=[]}=x9(e||""),{data:f}=Ip(),h=Bp(),p=Mr(),{totalRevenue:g,dueAmount:y}=j.useMemo(()=>{const S=d.filter(A=>A.status===Le.COMPLETED),_=d.filter(A=>A.status===Le.PROCESSING||A.status===Le.PICKED),N=S.reduce((A,C)=>A+C.total,0),O=_.reduce((A,C)=>A+(C.total-C.paidAmount),0);return{totalRevenue:N,dueAmount:O}},[d]),v=S=>{switch(S){case Le.ON_HOLD:return"bg-gray-100 text-gray-600";case Le.PROCESSING:return"bg-[#e6f0ff] ${theme.colors.secondary[600]}";case Le.PICKED:return"bg-purple-100 text-purple-600";case Le.COMPLETED:return"bg-green-100 ${theme.colors.primary[600]}";case Le.CANCELLED:return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}},x=async S=>{try{if(!l)return;if(!f){p.error("Unable to generate new order number. Please try again.");return}const _=`${f.prefix}${f.nextNumber}`,N=new Date,O=N.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),A=N.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),C={orderNumber:_,orderDate:new Date().toISOString().split("T")[0],customerId:l.id,createdBy:S.createdBy,status:Le.ON_HOLD,items:S.items,subtotal:S.subtotal,discount:S.discount,shipping:S.shipping,total:S.total,paidAmount:0,history:{created:`Duplicated from order #${S.orderNumber} on ${O}, at ${A}`}};await h.mutateAsync(C),p.success("Order duplicated successfully"),t("/orders")}catch(_){console.error("Failed to duplicate order",_),p.error("Failed to duplicate order: "+(_ instanceof Error?_.message:"Unknown error"))}};return s===At.EMPLOYEE?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot view customer details. Contact an administrator for assistance."}),c.jsx(Qe,{onClick:()=>t("/customers"),variant:"primary",children:"Back to Customers"})]}):l?c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/customers"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Profile"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx("button",{onClick:()=>t(`/customers/edit/${e}`),className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-700 hover:bg-gray-50",children:"Edit Profile"})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-[#ebf4ff] ${theme.colors.primary[600]} flex items-center justify-center font-black text-4xl mx-auto mb-4 border-2 border-[#c7dff5]",children:l.name.charAt(0)}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:l.name}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:l.phone}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 space-y-4 text-left",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Address"}),c.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed",children:l.address})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Revenue"}),c.jsx("p",{className:"text-lg font-black text-gray-900",children:be(g)})]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg shadow-[#0f2f57]/20/50 border border-gray-100 text-white",children:[c.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-1",children:"Due Amount"}),c.jsx("h4",{className:"text-lg font-black text-green-600",children:be(y)})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Order History"}),c.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[d.length," Records found"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[c.jsx("th",{className:"px-6 py-4",children:"Order Number"}),c.jsx("th",{className:"px-6 py-4",children:"Order Date"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:d.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-400 italic",children:"No orders found for this customer."})}):d.map(S=>c.jsxs("tr",{onMouseEnter:()=>n(S.id),onMouseLeave:()=>n(null),onClick:()=>t(`/orders/${S.id}`),className:"group relative hover:bg-[#ebf4ff]/30 cursor-pointer transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"font-bold text-gray-900",children:["#",S.orderNumber]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:S.orderDate}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${v(S.status)}`,children:S.status})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("span",{className:"font-black text-gray-900",children:be(S.total)})}),r===S.id&&c.jsx("td",{className:"absolute inset-y-0 right-0 flex items-center pr-6 bg-gradient-to-l from-emerald-50 via-emerald-50 to-transparent",children:c.jsxs("div",{className:"flex items-center gap-1 bg-white p-1 rounded-lg shadow-lg border border-[#c7dff5] animate-in fade-in slide-in-from-right-2 duration-200",onClick:_=>_.stopPropagation(),children:[c.jsx("button",{title:"Edit",onClick:()=>t(`/orders/edit/${S.id}`),className:"p-2 text-gray-500 hover:${theme.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors",children:ae.Edit}),c.jsx("button",{title:"Duplicate",onClick:()=>x(S),className:"p-2 text-gray-500 hover:${theme.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors",children:ae.Duplicate})]})})]},S.id))})]})})]})})]})]}):c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Customer not found."})},Doe=()=>{const e=mt(),t=$e(),r=Mr(),{searchQuery:n}=Da(),{data:a=[],isPending:s}=Mc(),l=R9(),d=j.useMemo(()=>{if(!n.trim())return a;const h=n.toLowerCase();return a.filter(p=>p.name.toLowerCase().includes(h)||p.phone.includes(h)||p.address.toLowerCase().includes(h))},[a,n]),f=async h=>{if(confirm("Are you sure you want to delete this vendor?"))try{await l.mutateAsync(h),t.invalidateQueries({queryKey:["vendors"]}),r.success("Vendor deleted successfully")}catch(p){console.error("Failed to delete vendor:",p),r.error("Failed to delete vendor")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Vendors"})}),c.jsx(Qe,{onClick:()=>e("/vendors/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Vendor"})]}),c.jsx(Mp,{columns:[{key:"name",label:"Vendor Name",render:(h,p)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold",children:p.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 block",children:p.name}),c.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:p.address})]})]})},{key:"phone",label:"Contact",render:h=>c.jsx("span",{className:"text-sm font-medium text-gray-700",children:h})},{key:"totalPurchases",label:"Purchases",align:"center",render:h=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-bold text-gray-600",children:h})},{key:"dueAmount",label:"Balance Payable",align:"right",render:h=>c.jsx("span",{className:`font-bold ${h>0?"text-red-500":"text-green-500"}`,children:be(h)})},{key:"id",label:"Actions",align:"right",render:h=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(Ss,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:p=>{p.stopPropagation(),e(`/vendors/edit/${h}`)}}),c.jsx(Ss,{icon:ae.Delete,variant:"danger",title:"Delete",onClick:p=>{p.stopPropagation(),f(h)}})]})}],data:d,loading:s,onRowClick:h=>e(`/vendors/${h.id}`),emptyMessage:"No vendors found"})]})},XP=()=>{const{id:e}=Cn(),t=mt(),{isLoading:r}=Pp(),n=!!e,[a,s]=j.useState({name:"",phone:"",address:""}),[l,d]=j.useState(null),{data:f,isPending:h,error:p}=yD(n?e:void 0),g=D9(),y=M9();j.useEffect(()=>{f&&s({name:f.name,phone:f.phone,address:f.address})},[f]);const v=async()=>{if(r){d("Authenticating... Please wait");return}if(!a.name||!a.phone){d("Business name and phone are required");return}d(null);try{if(n){const x={name:a.name,phone:a.phone,address:a.address};await y.mutateAsync({id:e,updates:x}),t("/vendors")}else{const x={name:a.name,phone:a.phone,address:a.address,totalPurchases:0,dueAmount:0};g.mutateAsync(x).then(()=>{t("/vendors")},S=>{d(S instanceof Error?S.message:"Failed to create vendor")})}}catch(x){console.error(`Failed to ${n?"update":"create"} vendor:`,x),d(x instanceof Error?x.message:`Failed to ${n?"update":"create"} vendor`)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:n?"Edit Vendor":"New Vendor"}),c.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 text-gray-500 font-bold hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"})]}),c.jsx("div",{className:"bg-white p-10 rounded-xl border border-gray-100 shadow-xl space-y-8",children:n&&h?c.jsx("div",{className:"text-center text-gray-500",children:"Loading vendor..."}):c.jsxs(c.Fragment,{children:[l&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:l})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Vendor/Business Name"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-blue-500 focus:bg-white rounded-lg font-bold transition-all outline-none",value:a.name,onChange:x=>s({...a,name:x.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Contact Person / Phone"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-blue-500 focus:bg-white rounded-lg font-bold transition-all outline-none",value:a.phone,onChange:x=>s({...a,phone:x.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-blue-500 focus:bg-white rounded-lg font-medium h-32 transition-all outline-none",value:a.address,onChange:x=>s({...a,address:x.target.value})})]}),c.jsx(Qe,{onClick:v,variant:"primary",size:"lg",className:"w-full",disabled:g.isPending||y.isPending,children:g.isPending||y.isPending?n?"Updating...":"Adding...":n?"Update Vendor":"Add Vendor"})]})})]})},Moe=()=>{const{id:e}=Cn(),t=mt(),{data:r,isPending:n}=yD(e||""),{data:a=[]}=Tc(),[s,l]=j.useState(null);if(n)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading vendor details..."});if(!r)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Vendor not found."});const d=a.filter(h=>h.vendorId===r.id),f=h=>{switch(h){case sn.ON_HOLD:return"bg-gray-100 text-gray-600";case sn.PROCESSING:return"bg-blue-100 text-blue-600";case sn.RECEIVED:return"bg-green-100 text-green-600";default:return"bg-gray-100 text-gray-600"}};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/vendors"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vendor Profile"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-700 hover:bg-gray-50",children:"Edit Profile"}),c.jsx("button",{className:`px-4 py-2 ${ie.colors.primary[600]} text-white rounded-xl font-bold hover:${ie.colors.primary[700]} shadow-md`,children:"Purchase Statement"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[c.jsx("div",{className:`w-24 h-24 rounded-full bg-[#e6f0ff] ${ie.colors.primary.text} flex items-center justify-center font-black text-4xl mx-auto mb-4 border-2 border-[#c7dff5]`,children:r.name.charAt(0)}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r.name}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r.phone}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 space-y-4 text-left",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed",children:r.address})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Procurement"}),c.jsx("p",{className:"text-lg font-black text-gray-900",children:be(d.reduce((h,p)=>h+p.total,0))})]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg shadow-[#0f2f57]/20 text-white",children:[c.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-1",children:"Total Payable"}),c.jsx("h4",{className:"text-lg font-black text-red-600",children:be(r.dueAmount)})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Purchase Bills"}),c.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[d.length," Invoices"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[c.jsx("th",{className:"px-6 py-4",children:"Bill Number"}),c.jsx("th",{className:"px-6 py-4",children:"Bill Date"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:d.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-400 italic",children:"No purchase bills found for this vendor."})}):d.map(h=>c.jsxs("tr",{onMouseEnter:()=>l(h.id),onMouseLeave:()=>l(null),onClick:()=>t(`/bills/${h.id}`),className:"group relative hover:bg-blue-50/30 cursor-pointer transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"font-bold text-gray-900",children:["#",h.billNumber]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:h.billDate}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${f(h.status)}`,children:h.status})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("span",{className:"font-black text-gray-900",children:be(h.total)})}),s===h.id&&c.jsx("td",{className:"absolute inset-y-0 right-0 flex items-center pr-6 bg-gradient-to-l from-blue-50 via-blue-50 to-transparent",children:c.jsx("div",{className:"flex items-center gap-1 bg-white p-1 rounded-lg shadow-lg border border-[#c7dff5] animate-in fade-in slide-in-from-right-2 duration-200",onClick:p=>p.stopPropagation(),children:c.jsx("button",{title:"Edit",onClick:()=>t(`/bills/edit/${h.id}`),className:`p-2 text-gray-500 hover:${ie.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors`,children:ae.Edit})})})]},h.id))})]})})]})})]})]})},Roe=({title:e,description:t,icon:r,color:n,to:a})=>{const s=mt();return c.jsxs("button",{onClick:()=>s(a),className:"flex items-start gap-4 p-6 bg-white rounded-lg border border-gray-100 shadow-sm hover:shadow-md hover:border-[#c7dff5] transition-all text-left w-full group",children:[c.jsx("div",{className:`p-4 rounded-[50%] ${n} transition-transform group-hover:scale-110 duration-300`,children:r}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:e}),c.jsx("p",{className:"text-sm text-gray-500 mt-1 leading-relaxed",children:t}),c.jsxs("div",{className:"mt-4 flex items-center gap-1 text-xs font-bold uppercase tracking-widest opacity-40 group-hover:opacity-100 transition-opacity",children:["View Report ",ae.ChevronRight]})]})]})},Ioe=()=>{const e=[{title:"Expense Summary",description:"Breakdown of your business spending by category and vendor.",icon:ae.Delete,color:"bg-red-50 text-red-600",to:"/reports/expense"},{title:"Income Summary",description:"Analysis of your revenue streams and payment collections.",icon:ae.PlusCircle,color:`bg-[#ebf4ff] ${ie.colors.primary[600]}`,to:"/reports/income"},{title:"Income vs Expense",description:"Visual comparison of cash inflows and outflows over time.",icon:ae.Transfer,color:`bg-[#e6f0ff] ${ie.colors.secondary[600]}`,to:"/reports/income-vs-expense"},{title:"Profit and Loss",description:"Standard P&L statement to track net business profitability.",icon:ae.Reports,color:"bg-purple-50 text-purple-600",to:"/reports/profit-loss"}];return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Financial Reports"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Deep dive into your business metrics and performance."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,r)=>c.jsx(Roe,{...t},r))})]})},Loe=()=>{const e=mt(),{data:t=[]}=Dc(),{data:r=[]}=Mc(),{data:n=[]}=Cs(),{data:a=[]}=Ps(),s=new Map(a.map(g=>[g.id,g.name])),l=t.filter(g=>g.type==="Expense"),d={};l.forEach(g=>{const y=s.get(g.category)||g.category||"Uncategorized";d[y]=(d[y]||0)+g.amount});const f=Object.entries(d).map(([g,y])=>({name:g,value:y})),h=["#EF4444","#F97316","#F59E0B","#8B5CF6","#EC4899","#3B82F6"],p=()=>{const g=`Date,Category,Contact,Account,Amount,Description
`,y=l.map(_=>{var C,T;const N=((C=r.find(P=>P.id===_.contactId))==null?void 0:C.name)||"N/A",O=((T=n.find(P=>P.id===_.accountId))==null?void 0:T.name)||"N/A",A=s.get(_.category)||_.category||"Uncategorized";return`${_.date},"${A}","${N}","${O}",${_.amount},"${_.description}"`}).join(`
`),v=new Blob([g+y],{type:"text/csv"}),x=window.URL.createObjectURL(v),S=document.createElement("a");S.setAttribute("hidden",""),S.setAttribute("href",x),S.setAttribute("download","expense_summary.csv"),document.body.appendChild(S),S.click(),document.body.removeChild(S)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Expense Summary"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-xl font-bold text-sm text-gray-700 hover:bg-gray-50",children:[ae.Download," Export CSV"]}),c.jsx(Qe,{variant:"primary",size:"sm",icon:ae.Print,children:"Export Image"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-6",children:"Expenses by Category"}),c.jsx("div",{className:"h-[350px]",children:c.jsx(Zl,{width:"100%",height:"100%",children:c.jsxs(_5,{data:f,layout:"vertical",margin:{left:40,right:40},children:[c.jsx(ec,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f1f5f9"}),c.jsx(tc,{type:"number",axisLine:!1,tickLine:!1,tick:{fontSize:10}}),c.jsx(rc,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),c.jsx(po,{formatter:g=>be(g),contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),c.jsx(si,{dataKey:"value",radius:[0,4,4,0],barSize:30,children:f.map((g,y)=>c.jsx(Qo,{fill:h[y%h.length]},`cell-${y}`))})]})})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsx("h3",{className:"font-bold text-gray-800",children:"Key Statistics"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-bold text-red-400 uppercase tracking-widest",children:"Total Outflow"}),c.jsx("h4",{className:"text-3xl font-black text-red-600",children:be(l.reduce((g,y)=>g+y.amount,0))})]}),c.jsx("div",{className:"divide-y divide-gray-50",children:f.sort((g,y)=>y.value-g.value).slice(0,5).map((g,y)=>c.jsxs("div",{className:"py-3 flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium text-gray-500",children:g.name}),c.jsx("span",{className:"text-sm font-bold text-gray-900",children:be(g.value)})]},y))})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 shadow-sm overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-50",children:c.jsx("h3",{className:"font-bold text-gray-900",children:"Recent Expense Log"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase",children:[c.jsx("th",{className:"px-6 py-4",children:"Date"}),c.jsx("th",{className:"px-6 py-4",children:"Category"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:l.slice(0,10).map(g=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:g.date}),c.jsx("td",{className:"px-6 py-4 text-sm font-bold text-gray-800",children:s.get(g.category)||g.category||"Uncategorized"}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-red-600",children:be(g.amount)})]},g.id))})]})})]})]})},Boe=()=>{const e=mt(),{data:t=[]}=Dc(),{data:r=[]}=As(),{data:n=[]}=Pc(),{data:a=[]}=Ps(),s=new Map(a.map(v=>[v.id,v.name])),l=t.filter(v=>v.type==="Income"),d={};l.forEach(v=>{d[v.category]=(d[v.category]||0)+v.amount});const f=Object.entries(d).map(([v,x])=>({name:s.get(v)||v||"Uncategorized",value:x})),h=["#10B981","#34D399","#6EE7B7","#A7F3D0","#D1FAE5"],p=n.filter(v=>v.status===Le.COMPLETED),g={};p.forEach(v=>{g[v.customerId]=(g[v.customerId]||0)+v.total});const y=r.map(v=>({...v,revenue:g[v.id]||0})).filter(v=>v.revenue>0).sort((v,x)=>x.revenue-v.revenue).slice(0,3);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Income Summary"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-xl font-bold text-sm text-gray-700 hover:bg-gray-50",children:[ae.Download," Export CSV"]}),c.jsx(Qe,{variant:"primary",size:"sm",icon:ae.Print,children:"Export Image"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm flex flex-col items-center",children:[c.jsx("h3",{className:"font-bold text-gray-800 self-start mb-6",children:"Revenue Mix"}),c.jsx("div",{className:"w-full h-[300px]",children:c.jsx(Zl,{width:"100%",height:"100%",children:c.jsxs(O5,{children:[c.jsx(L1,{data:f,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:f.map((v,x)=>c.jsx(Qo,{fill:h[x%h.length]},`cell-${x}`))}),c.jsx(po,{formatter:v=>be(v)}),c.jsx(Od,{verticalAlign:"bottom",align:"center"})]})})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:`${ie.colors.primary[600]} p-8 rounded-lg text-white shadow-lg shadow-[#0f2f57]/20`,children:[c.jsx("p",{className:"text-[#c7dff5] text-xs font-bold uppercase tracking-widest mb-1",children:"Total Revenue Collected"}),c.jsx("h4",{className:"text-4xl font-black",children:be(l.reduce((v,x)=>v+x.amount,0))}),c.jsxs("div",{className:"mt-6 p-4 bg-white/10 rounded-xl flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium",children:"Avg Transaction Size"}),c.jsx("span",{className:"font-bold",children:be(l.length?l.reduce((v,x)=>v+x.amount,0)/l.length:0)})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Top Customers"}),c.jsx("div",{className:"space-y-4",children:y.map((v,x)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center font-bold text-xs",children:v.name.charAt(0)}),c.jsx("span",{className:"text-sm font-semibold text-gray-700",children:v.name})]}),c.jsx("span",{className:"text-sm font-black",children:be(v.revenue)})]},x))})]})]})]})]})},$oe=()=>{const e=mt(),{data:t=[]}=Pc(),{data:r=[]}=Tc(),{data:n=[]}=Dc(),a=j.useMemo(()=>{const s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=new Date().getFullYear(),d={};return s.forEach(f=>{d[f]={income:0,expense:0}}),t.forEach(f=>{const h=new Date(f.orderDate);if(h.getFullYear()===l){const p=h.getMonth(),g=s[p];d[g].income+=f.total}}),r.forEach(f=>{const h=new Date(f.billDate);if(h.getFullYear()===l){const p=h.getMonth(),g=s[p];d[g].expense+=f.total}}),n.filter(f=>f.type==="Expense"&&f.category!=="expense_purchases").forEach(f=>{const h=new Date(f.date);if(h.getFullYear()===l){const p=h.getMonth(),g=s[p];d[g].expense+=f.amount}}),s.map(f=>({name:f,income:d[f].income,expense:d[f].expense,profit:d[f].income-d[f].expense}))},[t,r,n]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Income vs Expense Trend"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx(Qe,{variant:"primary",size:"sm",icon:ae.Print,children:"Export Full Report"})})]}),c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-8",children:"Cash Flow Dynamics (Last 6 Months)"}),c.jsx("div",{className:"h-[400px]",children:c.jsx(Zl,{width:"100%",height:"100%",children:c.jsxs(yw,{data:a,children:[c.jsx(ec,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(tc,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12}}),c.jsx(rc,{axisLine:!1,tickLine:!1,tick:{fontSize:12}}),c.jsx(po,{formatter:s=>be(s),contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),c.jsx(Od,{verticalAlign:"top",align:"right",height:36}),c.jsx(si,{dataKey:"income",fill:"#10B981",radius:[4,4,0,0],name:"Total Income",barSize:40}),c.jsx(si,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],name:"Total Expense",barSize:40}),c.jsx(pp,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"},name:"Net Cash Flow"})]})})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:(()=>{var p,g,y,v;const s=a.reduce((x,S)=>x+S.income,0),l=a.reduce((x,S)=>x+S.expense,0),d=a.length>0?(s-l)/a.length:0,f=a.reduce((x,S,_)=>S.income>a[x].income?_:x,0),h=a.reduce((x,S,_)=>S.expense<a[x].expense?_:x,0);return[{label:"Highest Revenue Month",value:((p=a[f])==null?void 0:p.name)||"",amount:((g=a[f])==null?void 0:g.income)||0},{label:"Least Expense Month",value:((y=a[h])==null?void 0:y.name)||"",amount:((v=a[h])==null?void 0:v.expense)||0},{label:"Average Monthly Profit",value:"Monthly Avg",amount:d,color:"text-purple-600"}].map((x,S)=>c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:x.label}),c.jsx("h4",{className:"text-xl font-bold text-gray-900 mt-1",children:x.value}),c.jsx("p",{className:`text-lg font-black mt-2 ${x.color}`,children:be(x.amount)})]},S))})()})]})},xa=({label:e,amount:t,isBold:r,isTotal:n,indent:a})=>c.jsxs("div",{className:`flex justify-between py-2 ${r?"font-bold text-gray-900":"text-gray-600"} ${n?"border-t-2 border-gray-100 pt-4 mt-2":""} ${a?"pl-6":""}`,children:[c.jsx("span",{className:"text-sm",children:e}),c.jsx("span",{className:"text-sm font-black",children:be(t)})]}),Uoe=()=>{const e=mt(),{data:t=[]}=Pc(),{data:r=[]}=Tc(),{data:n=[]}=Dc(),{data:a=[]}=Ps(),s=new Map(a.map(x=>[x.id,x.name])),[l,d]=j.useState("currentYear"),[f,h]=j.useState(""),[p,g]=j.useState(""),y=x=>{const S=new Date(x),_=new Date;return l==="currentYear"?S.getFullYear()===_.getFullYear():l==="currentMonth"?S.getFullYear()===_.getFullYear()&&S.getMonth()===_.getMonth():l==="custom"?!f||!p?!0:S>=new Date(f)&&S<=new Date(p):!0},v=j.useMemo(()=>{const x=n.filter(M=>M.type==="Income"&&!!M.referenceId&&y(M.date)).reduce((M,L)=>M+L.amount,0),S=x>0?x:t.filter(M=>M.status===Le.COMPLETED&&y(M.orderDate)).reduce((M,L)=>M+L.total,0),_=n.filter(M=>M.type==="Expense"&&M.category==="expense_purchases"&&y(M.date)).reduce((M,L)=>M+L.amount,0),N=_>0?_:r.filter(M=>y(M.billDate)).reduce((M,L)=>M+L.total,0),O=S-N,A={};n.filter(M=>M.type==="Expense"&&M.category!=="expense_purchases"&&y(M.date)).forEach(M=>{const L=s.get(M.category)||M.category||"Uncategorized";A[L]=(A[L]||0)+M.amount});const T=Object.entries(A).map(([M,L])=>({categoryName:M,amount:L})).sort((M,L)=>L.amount-M.amount),P=Object.values(A).reduce((M,L)=>M+L,0),D=O-P;return{grossSales:S,costOfPurchases:N,grossProfit:O,expenses:T,totalOperatingExpenses:P,netProfit:D}},[t,r,n,l,f,p,s]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profit and Loss Statement"})]}),c.jsxs("button",{onClick:()=>window.print(),className:`flex items-center gap-2 px-4 py-2 ${ie.colors.primary[600]} hover:${ie.colors.primary[700]} text-white font-bold rounded-xl transition-colors`,children:[ae.Print," Print Statement"]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4",children:"Period"}),c.jsxs("div",{className:"flex gap-4 items-end",children:[c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"currentYear",checked:l==="currentYear",onChange:x=>d(x.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Year"})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"currentMonth",checked:l==="currentMonth",onChange:x=>d(x.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Month"})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"custom",checked:l==="custom",onChange:x=>d(x.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Custom Range"})]})]}),l==="custom"&&c.jsxs("div",{className:"flex gap-3 ml-auto",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-600",children:"From:"}),c.jsx("input",{type:"date",value:f,onChange:x=>h(x.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-600",children:"To:"}),c.jsx("input",{type:"date",value:p,onChange:x=>g(x.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"})]})]})]})]}),c.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"p-8 bg-gray-50 border-b border-gray-100 text-center",children:[ve.settings.company.logo&&c.jsx("img",{src:ve.settings.company.logo,className:"w-16 h-16 rounded-xl mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:ve.settings.company.name})]}),c.jsxs("div",{className:"p-8 space-y-2",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Revenue"}),c.jsx(xa,{label:"Gross Sales (Completed Orders)",amount:v.grossSales}),c.jsx(xa,{label:"Other Operating Income",amount:0}),c.jsx(xa,{label:"Total Revenue",amount:v.grossSales,isBold:!0,isTotal:!0}),c.jsxs("div",{className:"pt-8",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Cost of Goods Sold"}),c.jsx(xa,{label:"Purchases",amount:v.costOfPurchases}),c.jsx(xa,{label:"Total COGS",amount:v.costOfPurchases,isBold:!0,isTotal:!0})]}),c.jsx("div",{className:"pt-8",children:c.jsx(xa,{label:"Gross Profit",amount:v.grossProfit,isBold:!0})}),c.jsxs("div",{className:"pt-8",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Operating Expenses"}),v.expenses.length>0?c.jsxs(c.Fragment,{children:[v.expenses.slice(0,5).map((x,S)=>c.jsx(xa,{label:x.categoryName,amount:x.amount,indent:!0},S)),v.expenses.length>5&&c.jsx(xa,{label:"Other Expenses",amount:v.expenses.slice(5).reduce((x,S)=>x+S.amount,0),indent:!0})]}):c.jsx(xa,{label:"None",amount:0,indent:!0}),c.jsx(xa,{label:"Total Operating Expenses",amount:v.totalOperatingExpenses,isBold:!0,isTotal:!0})]}),c.jsx("div",{className:"pt-12",children:c.jsxs("div",{className:`p-6 rounded-lg flex justify-between items-center ${v.netProfit>=0?ie.colors.primary[600]:"bg-red-600"} text-white shadow-xl`,children:[c.jsx("span",{className:"text-lg font-black uppercase tracking-widest",children:"Net Profit / Loss"}),c.jsx("span",{className:"text-3xl font-black",children:be(v.netProfit)})]})})]}),c.jsx("div",{className:"p-8 text-center text-[10px] text-gray-300 italic border-t border-gray-50",children:"This report is generated automatically by BD Hatbela Financial Management System."})]})]})},ZP=({order:e,customer:t,products:r,companySettings:n,invoiceSettings:a})=>c.jsxs("div",{className:"space-y-5 print:space-y-4 text-gray-900",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[((n==null?void 0:n.logo)||ve.settings.company.logo)&&c.jsx("img",{src:(n==null?void 0:n.logo)||ve.settings.company.logo,className:"rounded-lg object-cover mb-4",style:{width:(a==null?void 0:a.logoWidth)||ve.settings.invoice.logoWidth,height:(a==null?void 0:a.logoHeight)||ve.settings.invoice.logoHeight},alt:"Company Logo"}),c.jsx("h1",{className:"text-xl font-black uppercase tracking-tighter",children:(n==null?void 0:n.name)||ve.settings.company.name}),c.jsxs("div",{className:"mt-2 text-xs text-gray-400 font-medium space-y-1 print:text-gray-600",children:[c.jsx("p",{children:(n==null?void 0:n.address)||ve.settings.company.address}),c.jsxs("p",{children:[(n==null?void 0:n.phone)||ve.settings.company.phone," "," ",(n==null?void 0:n.email)||ve.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-300 uppercase leading-none mb-2 print:text-gray-400",children:(a==null?void 0:a.title)||ve.settings.invoice.title}),c.jsxs("div",{className:"space-y-1.5 print:space-y-1",children:[c.jsxs("p",{className:"text-sm font-bold text-gray-900 print:text-gray-800",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Order No:"}),e.orderNumber]}),c.jsxs("p",{className:"text-sm font-bold text-gray-900 print:text-gray-800",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Date:"}),new Date(e.orderDate).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-12 border-t border-gray-100 py-4 print:border-gray-300 print:py-3",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 print:mb-2",children:"Billed To"}),c.jsx("h3",{className:"text-md font-black text-gray-900 print:text-gray-800",children:t==null?void 0:t.name}),c.jsx("p",{className:"text-sm text-gray-500 leading-relaxed print:text-gray-600",children:t==null?void 0:t.address}),c.jsx("p",{className:"text-sm font-bold mt-2 print:mt-1",children:t==null?void 0:t.phone})]})}),c.jsxs("table",{className:"w-full text-left print:text-gray-800",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100 print:border-gray-300",children:[c.jsx("th",{className:"py-4 text-sm font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Item Description"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Rate"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Qty"}),c.jsx("th",{className:"py-4 text-sm text-right font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50 print:divide-gray-300",children:e.items.map((s,l)=>{const d=r.find(f=>f.id===s.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-6 print:py-3",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:d==null?void 0:d.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm print:w-10 print:h-10 print:rounded-full print:border-gray-300 print:shadow-none",alt:s.productName}),c.jsx("span",{className:"font-bold text-gray-900 print:text-sm",children:s.productName})]})}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold print:py-3 print:text-sm",children:be(s.rate)}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold print:py-3 print:text-sm",children:s.quantity}),c.jsx("td",{className:"py-6 text-right font-black text-gray-900 print:py-3 print:text-sm",children:be(s.amount)})]},l)})})]}),c.jsx("div",{className:"flex justify-end pt-6 print:pt-4",children:c.jsxs("div",{className:"w-full max-w-xs space-y-4 print:space-y-2 print:text-sm",children:[c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900 print:text-gray-800",children:be(e.subtotal)})]}),e.discount>0&&c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500 print:text-red-600",children:["-",be(e.discount)]})]}),e.shipping>0&&c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900 print:text-gray-800",children:be(e.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-6 border-t-2 border-[#0f2f57] print:py-3 print:border-t print:border-gray-400",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter print:text-gray-800",children:"Net Total"}),c.jsx("span",{className:"font-black text-gray-900 print:text-gray-800",children:be(e.total)})]})]})}),e.notes&&c.jsxs("div",{className:"bg-gray-50 p-4 rounded-[10px] border border-gray-100 print:bg-white print:p-3 print:rounded-lg print:border-gray-300",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase tracking-widest mb-2 print:text-gray-500 print:mb-1",children:"Terms & Notes"}),c.jsx("p",{className:"text-xs text-gray-600 font-medium italic leading-relaxed print:text-gray-700",children:e.notes})]})]}),zoe=()=>{const{id:e}=Cn(),{data:t,isPending:r}=Uw(e||""),{data:n=[]}=As(),{data:a=[]}=ks(),{data:s=[]}=Rc(),{data:l}=Rp(),{data:d}=Lp(),f=j.useRef(!1),h=t?n.find(p=>p.id===t.customerId):void 0;return t&&a.find(p=>p.id===t.createdBy),j.useEffect(()=>{t&&!r&&!f.current&&(f.current=!0,voe())},[t,r]),r||!t?c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading details..."}):c.jsxs("div",{className:"min-h-screen bg-white print:bg-white",children:[c.jsxs("div",{className:"space-y-0 print:space-y-0",children:[c.jsx("div",{className:"bg-white p-6 lg:p-10 print:p-6 min-h-screen print:min-h-fit",children:c.jsx(ZP,{order:t,customer:h,products:s,companySettings:l,invoiceSettings:d})}),c.jsx("div",{className:"bg-white p-6 lg:p-10 print:p-6 min-h-screen print:min-h-fit",style:{pageBreakBefore:"always"},children:c.jsx(ZP,{order:t,customer:h,products:s,companySettings:l,invoiceSettings:d})})]}),c.jsx("style",{children:`
        @media print {
          body {
            margin: 0;
            padding: 0;
            background: white;
          }
          .no-print {
            display: none !important;
          }
          table {
            page-break-inside: avoid;
          }
          tr {
            page-break-inside: avoid;
          }
          @page {
            margin: 0.25in;
            size: A4;
          }
          .print:page-break-avoid {
            page-break-inside: avoid;
          }
          .grid {
            page-break-inside: avoid;
          }
        }
      `})]})},qoe=new s6({defaultOptions:{queries:{staleTime:300*1e3,gcTime:1800*1e3,retry:2,retryDelay:e=>Math.min(1e3*2**e,1e4),refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1},mutations:{retry:1,retryDelay:1e3}}}),Koe=({user:e,profile:t,isLoading:r})=>{const n=!!e;return c.jsxs(n$,{children:[c.jsx(Fe,{path:"/login",element:n?c.jsx(ze,{to:"/dashboard",replace:!0}):c.jsx(m9,{})}),c.jsx(Fe,{path:"/",element:n?c.jsx(ze,{to:"/dashboard",replace:!0}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/dashboard",element:n?c.jsx(tt,{children:c.jsx(yoe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/orders",element:n?c.jsx(tt,{children:c.jsx(boe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/orders/new",element:n?c.jsx(tt,{children:c.jsx(HP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/orders/edit/:id",element:n?c.jsx(tt,{children:c.jsx(HP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/orders/:id",element:n?c.jsx(tt,{children:c.jsx(xoe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/print-order/:id",element:n?c.jsx(zoe,{}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/bills",element:n?c.jsx(tt,{children:c.jsx(woe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/bills/new",element:n?c.jsx(tt,{children:c.jsx(VP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/bills/edit/:id",element:n?c.jsx(tt,{children:c.jsx(VP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/bills/:id",element:n?c.jsx(tt,{children:c.jsx(joe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/banking/accounts",element:n?c.jsx(tt,{children:c.jsx(Soe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/banking/transfer",element:n?c.jsx(tt,{children:c.jsx(Ooe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/banking/transactions",element:n?c.jsx(tt,{children:c.jsx(_oe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/transactions",element:n?c.jsx(ze,{to:"/banking/transactions",replace:!0}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/transactions/new/:type",element:n?c.jsx(tt,{children:c.jsx(Noe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/customers",element:n?c.jsx(tt,{children:c.jsx(Poe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/customers/new",element:n?c.jsx(tt,{children:c.jsx(WP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/customers/edit/:id",element:n?c.jsx(tt,{children:c.jsx(WP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/customers/:id",element:n?c.jsx(tt,{children:c.jsx(Toe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/vendors",element:n?c.jsx(tt,{children:c.jsx(Doe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/vendors/new",element:n?c.jsx(tt,{children:c.jsx(XP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/vendors/edit/:id",element:n?c.jsx(tt,{children:c.jsx(XP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/vendors/:id",element:n?c.jsx(tt,{children:c.jsx(Moe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/products",element:n?c.jsx(tt,{children:c.jsx(Eoe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/products/new",element:n?c.jsx(tt,{children:c.jsx(GP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/products/edit/:id",element:n?c.jsx(tt,{children:c.jsx(GP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/users",element:n?c.jsx(tt,{children:c.jsx(Aoe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/users/new",element:n?c.jsx(tt,{children:c.jsx(YP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/users/edit/:id",element:n?c.jsx(tt,{children:c.jsx(YP,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/users/:id",element:n?c.jsx(tt,{children:c.jsx(Coe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/reports",element:n?c.jsx(tt,{children:c.jsx(Ioe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/reports/expense",element:n?c.jsx(tt,{children:c.jsx(Loe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/reports/income",element:n?c.jsx(tt,{children:c.jsx(Boe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/reports/income-vs-expense",element:n?c.jsx(tt,{children:c.jsx($oe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/reports/profit-loss",element:n?c.jsx(tt,{children:c.jsx(Uoe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"/settings",element:n?c.jsx(tt,{children:c.jsx(koe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(Fe,{path:"*",element:n?c.jsx(ze,{to:"/dashboard",replace:!0}):c.jsx(ze,{to:"/login",replace:!0})})]})},Foe=()=>{const{user:e,profile:t,isLoading:r}=Pp();return console.log("[App] Render - user:",!!e,"profile:",!!t,"isLoading:",r),r?(console.log("[App] Rendering loading screen"),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block p-4",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),c.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading..."})]})})):c.jsx(Koe,{user:e,profile:t,isLoading:r})},Qoe=()=>(console.log("[App] Root component rendering - setting up providers"),c.jsx(o6,{client:qoe,children:c.jsx(s8,{children:c.jsx(d8,{children:c.jsx(o8,{children:c.jsx(l8,{children:c.jsx(u8,{children:c.jsxs(E$,{children:[c.jsx(Foe,{}),c.jsx(h9,{}),c.jsx(f9,{})]})})})})})})})),A5=document.getElementById("root");if(!A5)throw new Error("Could not find root element to mount to");const Hoe=sB.createRoot(A5);Hoe.render(c.jsx(xr.StrictMode,{children:c.jsx(Qoe,{})}));window.__testSupabase={async testCustomers(){console.log(" Testing customer fetch...");try{const e=await nD();return console.log(" Success! Customers:",e),e}catch(e){throw console.error(" Error:",e),e}},async testConnection(){console.log(" Testing session (direct table auth)...");try{const e=localStorage.getItem("userData");if(e){const t=JSON.parse(e);return console.log(" User session active:",t),t}return console.log(" No active session - user not logged in"),null}catch(e){throw console.error(" Session check error:",e),e}},help(){console.log("Available test functions:"),console.log("  __testSupabase.testCustomers() - Fetch customers from DB"),console.log("  __testSupabase.testConnection() - Check auth session"),console.log("  __testSupabase.help() - Show this help")}};console.log(" Tip: Type __testSupabase.help() in console for test commands");export{Ta as a,Goe as g};
