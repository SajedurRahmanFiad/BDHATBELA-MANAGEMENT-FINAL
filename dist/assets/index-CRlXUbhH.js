var H3=Object.defineProperty;var zO=e=>{throw TypeError(e)};var Q3=(e,t,r)=>t in e?H3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var qv=(e,t,r)=>Q3(e,typeof t!="symbol"?t+"":t,r),Kv=(e,t,r)=>t.has(e)||zO("Cannot "+r);var U=(e,t,r)=>(Kv(e,t,"read from private field"),r?r.call(e):t.get(e)),ke=(e,t,r)=>t.has(e)?zO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),xe=(e,t,r,n)=>(Kv(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Fe=(e,t,r)=>(Kv(e,t,"access private method"),r);var Mh=(e,t,r,n)=>({set _(a){xe(e,t,a,r)},get _(){return U(e,t,n)}});function V3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function Ta(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fv={exports:{}},Ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO;function G3(){if(qO)return Ru;qO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return Ru.Fragment=t,Ru.jsx=r,Ru.jsxs=r,Ru}var KO;function Y3(){return KO||(KO=1,Fv.exports=G3()),Fv.exports}var c=Y3(),Hv={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FO;function W3(){if(FO)return Le;FO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function N(R,Q,pe){this.props=R,this.context=Q,this.refs=_,this.updater=pe||w}N.prototype.isReactComponent={},N.prototype.setState=function(R,Q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Q,"setState")},N.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function O(){}O.prototype=N.prototype;function A(R,Q,pe){this.props=R,this.context=Q,this.refs=_,this.updater=pe||w}var C=A.prototype=new O;C.constructor=A,S(C,N.prototype),C.isPureReactComponent=!0;var D=Array.isArray;function T(){}var k={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function I(R,Q,pe){var le=pe.ref;return{$$typeof:e,type:R,key:Q,ref:le!==void 0?le:null,props:pe}}function G(R,Q){return I(R.type,Q,R.props)}function F(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function K(R){var Q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(pe){return Q[pe]})}var te=/\/+/g;function V(R,Q){return typeof R=="object"&&R!==null&&R.key!=null?K(""+R.key):Q.toString(36)}function ie(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(T,T):(R.status="pending",R.then(function(Q){R.status==="pending"&&(R.status="fulfilled",R.value=Q)},function(Q){R.status==="pending"&&(R.status="rejected",R.reason=Q)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function L(R,Q,pe,le,ve){var Oe=typeof R;(Oe==="undefined"||Oe==="boolean")&&(R=null);var Ee=!1;if(R===null)Ee=!0;else switch(Oe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(R.$$typeof){case e:case t:Ee=!0;break;case p:return Ee=R._init,L(Ee(R._payload),Q,pe,le,ve)}}if(Ee)return ve=ve(R),Ee=le===""?"."+V(R,0):le,D(ve)?(pe="",Ee!=null&&(pe=Ee.replace(te,"$&/")+"/"),L(ve,Q,pe,"",function(Z){return Z})):ve!=null&&(F(ve)&&(ve=G(ve,pe+(ve.key==null||R&&R.key===ve.key?"":(""+ve.key).replace(te,"$&/")+"/")+Ee)),Q.push(ve)),1;Ee=0;var de=le===""?".":le+":";if(D(R))for(var B=0;B<R.length;B++)le=R[B],Oe=de+V(le,B),Ee+=L(le,Q,pe,Oe,ve);else if(B=b(R),typeof B=="function")for(R=B.call(R),B=0;!(le=R.next()).done;)le=le.value,Oe=de+V(le,B++),Ee+=L(le,Q,pe,Oe,ve);else if(Oe==="object"){if(typeof R.then=="function")return L(ie(R),Q,pe,le,ve);throw Q=String(R),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function z(R,Q,pe){if(R==null)return R;var le=[],ve=0;return L(R,le,"","",function(Oe){return Q.call(pe,Oe,ve++)}),le}function ee(R){if(R._status===-1){var Q=R._result;Q=Q(),Q.then(function(pe){(R._status===0||R._status===-1)&&(R._status=1,R._result=pe)},function(pe){(R._status===0||R._status===-1)&&(R._status=2,R._result=pe)}),R._status===-1&&(R._status=0,R._result=Q)}if(R._status===1)return R._result.default;throw R._result}var ne=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},me={map:z,forEach:function(R,Q,pe){z(R,function(){Q.apply(this,arguments)},pe)},count:function(R){var Q=0;return z(R,function(){Q++}),Q},toArray:function(R){return z(R,function(Q){return Q})||[]},only:function(R){if(!F(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Le.Activity=g,Le.Children=me,Le.Component=N,Le.Fragment=r,Le.Profiler=a,Le.PureComponent=A,Le.StrictMode=n,Le.Suspense=f,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Le.__COMPILER_RUNTIME={__proto__:null,c:function(R){return k.H.useMemoCache(R)}},Le.cache=function(R){return function(){return R.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(R,Q,pe){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var le=S({},R.props),ve=R.key;if(Q!=null)for(Oe in Q.key!==void 0&&(ve=""+Q.key),Q)!M.call(Q,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&Q.ref===void 0||(le[Oe]=Q[Oe]);var Oe=arguments.length-2;if(Oe===1)le.children=pe;else if(1<Oe){for(var Ee=Array(Oe),de=0;de<Oe;de++)Ee[de]=arguments[de+2];le.children=Ee}return I(R.type,ve,le)},Le.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:s,_context:R},R},Le.createElement=function(R,Q,pe){var le,ve={},Oe=null;if(Q!=null)for(le in Q.key!==void 0&&(Oe=""+Q.key),Q)M.call(Q,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ve[le]=Q[le]);var Ee=arguments.length-2;if(Ee===1)ve.children=pe;else if(1<Ee){for(var de=Array(Ee),B=0;B<Ee;B++)de[B]=arguments[B+2];ve.children=de}if(R&&R.defaultProps)for(le in Ee=R.defaultProps,Ee)ve[le]===void 0&&(ve[le]=Ee[le]);return I(R,Oe,ve)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(R){return{$$typeof:d,render:R}},Le.isValidElement=F,Le.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:ee}},Le.memo=function(R,Q){return{$$typeof:h,type:R,compare:Q===void 0?null:Q}},Le.startTransition=function(R){var Q=k.T,pe={};k.T=pe;try{var le=R(),ve=k.S;ve!==null&&ve(pe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(T,ne)}catch(Oe){ne(Oe)}finally{Q!==null&&pe.types!==null&&(Q.types=pe.types),k.T=Q}},Le.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Le.use=function(R){return k.H.use(R)},Le.useActionState=function(R,Q,pe){return k.H.useActionState(R,Q,pe)},Le.useCallback=function(R,Q){return k.H.useCallback(R,Q)},Le.useContext=function(R){return k.H.useContext(R)},Le.useDebugValue=function(){},Le.useDeferredValue=function(R,Q){return k.H.useDeferredValue(R,Q)},Le.useEffect=function(R,Q){return k.H.useEffect(R,Q)},Le.useEffectEvent=function(R){return k.H.useEffectEvent(R)},Le.useId=function(){return k.H.useId()},Le.useImperativeHandle=function(R,Q,pe){return k.H.useImperativeHandle(R,Q,pe)},Le.useInsertionEffect=function(R,Q){return k.H.useInsertionEffect(R,Q)},Le.useLayoutEffect=function(R,Q){return k.H.useLayoutEffect(R,Q)},Le.useMemo=function(R,Q){return k.H.useMemo(R,Q)},Le.useOptimistic=function(R,Q){return k.H.useOptimistic(R,Q)},Le.useReducer=function(R,Q,pe){return k.H.useReducer(R,Q,pe)},Le.useRef=function(R){return k.H.useRef(R)},Le.useState=function(R){return k.H.useState(R)},Le.useSyncExternalStore=function(R,Q,pe){return k.H.useSyncExternalStore(R,Q,pe)},Le.useTransition=function(){return k.H.useTransition()},Le.version="19.2.4",Le}var HO;function bc(){return HO||(HO=1,Hv.exports=W3()),Hv.exports}var j=bc();const xr=Ta(j),X3=V3({__proto__:null,default:xr},[j]);var Qv={exports:{}},Iu={},Vv={exports:{}},Gv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QO;function Z3(){return QO||(QO=1,(function(e){function t(L,z){var ee=L.length;L.push(z);e:for(;0<ee;){var ne=ee-1>>>1,me=L[ne];if(0<a(me,z))L[ne]=z,L[ee]=me,ee=ne;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var z=L[0],ee=L.pop();if(ee!==z){L[0]=ee;e:for(var ne=0,me=L.length,R=me>>>1;ne<R;){var Q=2*(ne+1)-1,pe=L[Q],le=Q+1,ve=L[le];if(0>a(pe,ee))le<me&&0>a(ve,pe)?(L[ne]=ve,L[le]=ee,ne=le):(L[ne]=pe,L[Q]=ee,ne=Q);else if(le<me&&0>a(ve,ee))L[ne]=ve,L[le]=ee,ne=le;else break e}}return z}function a(L,z){var ee=L.sortIndex-z.sortIndex;return ee!==0?ee:L.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,y=3,b=!1,w=!1,S=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(L){for(var z=r(h);z!==null;){if(z.callback===null)n(h);else if(z.startTime<=L)n(h),z.sortIndex=z.expirationTime,t(f,z);else break;z=r(h)}}function D(L){if(S=!1,C(L),!w)if(r(f)!==null)w=!0,T||(T=!0,K());else{var z=r(h);z!==null&&ie(D,z.startTime-L)}}var T=!1,k=-1,M=5,I=-1;function G(){return _?!0:!(e.unstable_now()-I<M)}function F(){if(_=!1,T){var L=e.unstable_now();I=L;var z=!0;try{e:{w=!1,S&&(S=!1,O(k),k=-1),b=!0;var ee=y;try{t:{for(C(L),g=r(f);g!==null&&!(g.expirationTime>L&&G());){var ne=g.callback;if(typeof ne=="function"){g.callback=null,y=g.priorityLevel;var me=ne(g.expirationTime<=L);if(L=e.unstable_now(),typeof me=="function"){g.callback=me,C(L),z=!0;break t}g===r(f)&&n(f),C(L)}else n(f);g=r(f)}if(g!==null)z=!0;else{var R=r(h);R!==null&&ie(D,R.startTime-L),z=!1}}break e}finally{g=null,y=ee,b=!1}z=void 0}}finally{z?K():T=!1}}}var K;if(typeof A=="function")K=function(){A(F)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,V=te.port2;te.port1.onmessage=F,K=function(){V.postMessage(null)}}else K=function(){N(F,0)};function ie(L,z){k=N(function(){L(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(L){switch(y){case 1:case 2:case 3:var z=3;break;default:z=y}var ee=y;y=z;try{return L()}finally{y=ee}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ee=y;y=L;try{return z()}finally{y=ee}},e.unstable_scheduleCallback=function(L,z,ee){var ne=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,L){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ee+me,L={id:p++,callback:z,priorityLevel:L,startTime:ee,expirationTime:me,sortIndex:-1},ee>ne?(L.sortIndex=ee,t(h,L),r(f)===null&&L===r(h)&&(S?(O(k),k=-1):S=!0,ie(D,ee-ne))):(L.sortIndex=me,t(f,L),w||b||(w=!0,T||(T=!0,K()))),L},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(L){var z=y;return function(){var ee=y;y=z;try{return L.apply(this,arguments)}finally{y=ee}}}})(Gv)),Gv}var VO;function J3(){return VO||(VO=1,Vv.exports=Z3()),Vv.exports}var Yv={exports:{}},Rr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GO;function eB(){if(GO)return Rr;GO=1;var e=bc();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Rr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,p)},Rr.flushSync=function(f){var h=l.T,p=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=h,n.p=p,n.d.f()}},Rr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},Rr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Rr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):p==="script"&&n.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Rr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},Rr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);n.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Rr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},Rr.requestFormReset=function(f){n.d.r(f)},Rr.unstable_batchedUpdates=function(f,h){return f(h)},Rr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Rr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Rr.version="19.2.4",Rr}var YO;function oT(){if(YO)return Yv.exports;YO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yv.exports=eB(),Yv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WO;function tB(){if(WO)return Iu;WO=1;var e=J3(),t=bc(),r=oT();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(n(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,m=o;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return f(v),i;if(x===m)return f(v),o;x=x.sibling}throw Error(n(188))}if(u.return!==m.return)u=v,m=x;else{for(var E=!1,P=v.child;P;){if(P===u){E=!0,u=v,m=x;break}if(P===m){E=!0,m=v,u=x;break}P=P.sibling}if(!E){for(P=x.child;P;){if(P===u){E=!0,u=x,m=v;break}if(P===m){E=!0,m=x,u=v;break}P=P.sibling}if(!E)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var te=Symbol.for("react.client.reference");function V(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===te?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case D:return"Suspense";case T:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case A:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case C:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return o=i.displayName||null,o!==null?o:V(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return V(i(o))}catch{}}return null}var ie=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ne=[],me=-1;function R(i){return{current:i}}function Q(i){0>me||(i.current=ne[me],ne[me]=null,me--)}function pe(i,o){me++,ne[me]=i.current,i.current=o}var le=R(null),ve=R(null),Oe=R(null),Ee=R(null);function de(i,o){switch(pe(Oe,o),pe(ve,i),pe(le,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?uO(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=uO(o),i=dO(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Q(le),pe(le,i)}function B(){Q(le),Q(ve),Q(Oe)}function Z(i){i.memoizedState!==null&&pe(Ee,i);var o=le.current,u=dO(o,i.type);o!==u&&(pe(ve,i),pe(le,u))}function ge(i){ve.current===i&&(Q(le),Q(ve)),Ee.current===i&&(Q(Ee),ku._currentValue=ee)}var ae,Ie;function Ae(i){if(ae===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ae=o&&o[1]||"",Ie=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+i+Ie}var et=!1;function st(i,o){if(!i||et)return"";et=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(re){var J=re}Reflect.construct(i,[],he)}else{try{he.call()}catch(re){J=re}i.call(he.prototype)}}else{try{throw Error()}catch(re){J=re}(he=i())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(re){if(re&&J&&typeof re.stack=="string")return[re.stack,J.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),E=x[0],P=x[1];if(E&&P){var $=E.split(`
`),X=P.split(`
`);for(v=m=0;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;for(;v<X.length&&!X[v].includes("DetermineComponentFrameRoot");)v++;if(m===$.length||v===X.length)for(m=$.length-1,v=X.length-1;1<=m&&0<=v&&$[m]!==X[v];)v--;for(;1<=m&&0<=v;m--,v--)if($[m]!==X[v]){if(m!==1||v!==1)do if(m--,v--,0>v||$[m]!==X[v]){var ue=`
`+$[m].replace(" at new "," at ");return i.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",i.displayName)),ue}while(1<=m&&0<=v);break}}}finally{et=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ae(u):""}function Vt(i,o){switch(i.tag){case 26:case 27:case 5:return Ae(i.type);case 16:return Ae("Lazy");case 13:return i.child!==o&&o!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return st(i.type,!1);case 11:return st(i.type.render,!1);case 1:return st(i.type,!0);case 31:return Ae("Activity");default:return""}}function ir(i){try{var o="",u=null;do o+=Vt(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Wn=Object.prototype.hasOwnProperty,ce=e.unstable_scheduleCallback,Ct=e.unstable_cancelCallback,Gr=e.unstable_shouldYield,sr=e.unstable_requestPaint,ut=e.unstable_now,Uc=e.unstable_getCurrentPriorityLevel,zc=e.unstable_ImmediatePriority,qc=e.unstable_UserBlockingPriority,Ds=e.unstable_NormalPriority,yf=e.unstable_LowPriority,Vo=e.unstable_IdlePriority,E5=e.log,A5=e.unstable_setDisableYieldValue,Kc=null,dn=null;function Pi(i){if(typeof E5=="function"&&A5(i),dn&&typeof dn.setStrictMode=="function")try{dn.setStrictMode(Kc,i)}catch{}}var fn=Math.clz32?Math.clz32:k5,C5=Math.log,P5=Math.LN2;function k5(i){return i>>>=0,i===0?32:31-(C5(i)/P5|0)|0}var vf=256,bf=262144,xf=4194304;function Ms(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wf(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var v=0,x=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var P=m&134217727;return P!==0?(m=P&~x,m!==0?v=Ms(m):(E&=P,E!==0?v=Ms(E):u||(u=P&~i,u!==0&&(v=Ms(u))))):(P=m&~x,P!==0?v=Ms(P):E!==0?v=Ms(E):u||(u=m&~i,u!==0&&(v=Ms(u)))),v===0?0:o!==0&&o!==v&&(o&x)===0&&(x=v&-v,u=o&-o,x>=u||x===32&&(u&4194048)!==0)?o:v}function Fc(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function T5(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HS(){var i=xf;return xf<<=1,(xf&62914560)===0&&(xf=4194304),i}function Pg(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Hc(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function D5(i,o,u,m,v,x){var E=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var P=i.entanglements,$=i.expirationTimes,X=i.hiddenUpdates;for(u=E&~u;0<u;){var ue=31-fn(u),he=1<<ue;P[ue]=0,$[ue]=-1;var J=X[ue];if(J!==null)for(X[ue]=null,ue=0;ue<J.length;ue++){var re=J[ue];re!==null&&(re.lane&=-536870913)}u&=~he}m!==0&&QS(i,m,0),x!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=x&~(E&~o))}function QS(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-fn(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function VS(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-fn(u),v=1<<m;v&o|i[m]&o&&(i[m]|=o),u&=~v}}function GS(i,o){var u=o&-o;return u=(u&42)!==0?1:kg(u),(u&(i.suspendedLanes|o))!==0?0:u}function kg(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Tg(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function YS(){var i=z.p;return i!==0?i:(i=window.event,i===void 0?32:MO(i.type))}function WS(i,o){var u=z.p;try{return z.p=i,o()}finally{z.p=u}}var ki=Math.random().toString(36).slice(2),Nr="__reactFiber$"+ki,Yr="__reactProps$"+ki,Go="__reactContainer$"+ki,Dg="__reactEvents$"+ki,M5="__reactListeners$"+ki,R5="__reactHandles$"+ki,XS="__reactResources$"+ki,Qc="__reactMarker$"+ki;function Mg(i){delete i[Nr],delete i[Yr],delete i[Dg],delete i[M5],delete i[R5]}function Yo(i){var o=i[Nr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Go]||u[Nr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=vO(i);i!==null;){if(u=i[Nr])return u;i=vO(i)}return o}i=u,u=i.parentNode}return null}function Wo(i){if(i=i[Nr]||i[Go]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Vc(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function Xo(i){var o=i[XS];return o||(o=i[XS]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function mr(i){i[Qc]=!0}var ZS=new Set,JS={};function Rs(i,o){Zo(i,o),Zo(i+"Capture",o)}function Zo(i,o){for(JS[i]=o,i=0;i<o.length;i++)ZS.add(o[i])}var I5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),e1={},t1={};function L5(i){return Wn.call(t1,i)?!0:Wn.call(e1,i)?!1:I5.test(i)?t1[i]=!0:(e1[i]=!0,!1)}function jf(i,o,u){if(L5(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Sf(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Da(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function Cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function r1(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function B5(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,x=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(E){u=""+E,x.call(this,E)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Rg(i){if(!i._valueTracker){var o=r1(i)?"checked":"value";i._valueTracker=B5(i,o,""+i[o])}}function n1(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=r1(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function _f(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var $5=/[\n"\\]/g;function Pn(i){return i.replace($5,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ig(i,o,u,m,v,x,E,P){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),o!=null?E==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Cn(o)):i.value!==""+Cn(o)&&(i.value=""+Cn(o)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),o!=null?Lg(i,E,Cn(o)):u!=null?Lg(i,E,Cn(u)):m!=null&&i.removeAttribute("value"),v==null&&x!=null&&(i.defaultChecked=!!x),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+Cn(P):i.removeAttribute("name")}function a1(i,o,u,m,v,x,E,P){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),o!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){Rg(i);return}u=u!=null?""+Cn(u):"",o=o!=null?""+Cn(o):u,P||o===i.value||(i.value=o),i.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=P?i.checked:!!m,i.defaultChecked=!!m,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Rg(i)}function Lg(i,o,u){o==="number"&&_f(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Jo(i,o,u,m){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Cn(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function i1(i,o,u){if(o!=null&&(o=""+Cn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Cn(u):""}function s1(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(n(92));if(ie(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Cn(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),Rg(i)}function el(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var U5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function o1(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||U5.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function l1(i,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&u[v]!==m&&o1(i,v,m)}else for(var x in o)o.hasOwnProperty(x)&&o1(i,x,o[x])}function Bg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),q5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nf(i){return q5.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ma(){}var $g=null;function Ug(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var tl=null,rl=null;function c1(i){var o=Wo(i);if(o&&(i=o.stateNode)){var u=i[Yr]||null;e:switch(i=o.stateNode,o.type){case"input":if(Ig(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Pn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var v=m[Yr]||null;if(!v)throw Error(n(90));Ig(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&n1(m)}break e;case"textarea":i1(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Jo(i,!!u.multiple,o,!1)}}}var zg=!1;function u1(i,o,u){if(zg)return i(o,u);zg=!0;try{var m=i(o);return m}finally{if(zg=!1,(tl!==null||rl!==null)&&(fh(),tl&&(o=tl,i=rl,rl=tl=null,c1(o),i)))for(o=0;o<i.length;o++)c1(i[o])}}function Gc(i,o){var u=i.stateNode;if(u===null)return null;var m=u[Yr]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qg=!1;if(Ra)try{var Yc={};Object.defineProperty(Yc,"passive",{get:function(){qg=!0}}),window.addEventListener("test",Yc,Yc),window.removeEventListener("test",Yc,Yc)}catch{qg=!1}var Ti=null,Kg=null,Of=null;function d1(){if(Of)return Of;var i,o=Kg,u=o.length,m,v="value"in Ti?Ti.value:Ti.textContent,x=v.length;for(i=0;i<u&&o[i]===v[i];i++);var E=u-i;for(m=1;m<=E&&o[u-m]===v[x-m];m++);return Of=v.slice(i,1<m?1-m:void 0)}function Ef(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Af(){return!0}function f1(){return!1}function Wr(i){function o(u,m,v,x,E){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(u=i[P],this[P]=u?u(x):x[P]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Af:f1,this.isPropagationStopped=f1,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Af)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Af)},persist:function(){},isPersistent:Af}),o}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cf=Wr(Is),Wc=g({},Is,{view:0,detail:0}),K5=Wr(Wc),Fg,Hg,Xc,Pf=g({},Wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vg,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Xc&&(Xc&&i.type==="mousemove"?(Fg=i.screenX-Xc.screenX,Hg=i.screenY-Xc.screenY):Hg=Fg=0,Xc=i),Fg)},movementY:function(i){return"movementY"in i?i.movementY:Hg}}),h1=Wr(Pf),F5=g({},Pf,{dataTransfer:0}),H5=Wr(F5),Q5=g({},Wc,{relatedTarget:0}),Qg=Wr(Q5),V5=g({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),G5=Wr(V5),Y5=g({},Is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),W5=Wr(Y5),X5=g({},Is,{data:0}),m1=Wr(X5),Z5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tL(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=eL[i])?!!o[i]:!1}function Vg(){return tL}var rL=g({},Wc,{key:function(i){if(i.key){var o=Z5[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ef(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?J5[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vg,charCode:function(i){return i.type==="keypress"?Ef(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ef(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nL=Wr(rL),aL=g({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p1=Wr(aL),iL=g({},Wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vg}),sL=Wr(iL),oL=g({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),lL=Wr(oL),cL=g({},Pf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),uL=Wr(cL),dL=g({},Is,{newState:0,oldState:0}),fL=Wr(dL),hL=[9,13,27,32],Gg=Ra&&"CompositionEvent"in window,Zc=null;Ra&&"documentMode"in document&&(Zc=document.documentMode);var mL=Ra&&"TextEvent"in window&&!Zc,g1=Ra&&(!Gg||Zc&&8<Zc&&11>=Zc),y1=" ",v1=!1;function b1(i,o){switch(i){case"keyup":return hL.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var nl=!1;function pL(i,o){switch(i){case"compositionend":return x1(o);case"keypress":return o.which!==32?null:(v1=!0,y1);case"textInput":return i=o.data,i===y1&&v1?null:i;default:return null}}function gL(i,o){if(nl)return i==="compositionend"||!Gg&&b1(i,o)?(i=d1(),Of=Kg=Ti=null,nl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return g1&&o.locale!=="ko"?null:o.data;default:return null}}var yL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w1(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!yL[i.type]:o==="textarea"}function j1(i,o,u,m){tl?rl?rl.push(m):rl=[m]:tl=m,o=bh(o,"onChange"),0<o.length&&(u=new Cf("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var Jc=null,eu=null;function vL(i){aO(i,0)}function kf(i){var o=Vc(i);if(n1(o))return i}function S1(i,o){if(i==="change")return o}var _1=!1;if(Ra){var Yg;if(Ra){var Wg="oninput"in document;if(!Wg){var N1=document.createElement("div");N1.setAttribute("oninput","return;"),Wg=typeof N1.oninput=="function"}Yg=Wg}else Yg=!1;_1=Yg&&(!document.documentMode||9<document.documentMode)}function O1(){Jc&&(Jc.detachEvent("onpropertychange",E1),eu=Jc=null)}function E1(i){if(i.propertyName==="value"&&kf(eu)){var o=[];j1(o,eu,i,Ug(i)),u1(vL,o)}}function bL(i,o,u){i==="focusin"?(O1(),Jc=o,eu=u,Jc.attachEvent("onpropertychange",E1)):i==="focusout"&&O1()}function xL(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return kf(eu)}function wL(i,o){if(i==="click")return kf(o)}function jL(i,o){if(i==="input"||i==="change")return kf(o)}function SL(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var hn=typeof Object.is=="function"?Object.is:SL;function tu(i,o){if(hn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!Wn.call(o,v)||!hn(i[v],o[v]))return!1}return!0}function A1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function C1(i,o){var u=A1(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=A1(u)}}function P1(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?P1(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function k1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=_f(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=_f(i.document)}return o}function Xg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var _L=Ra&&"documentMode"in document&&11>=document.documentMode,al=null,Zg=null,ru=null,Jg=!1;function T1(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Jg||al==null||al!==_f(m)||(m=al,"selectionStart"in m&&Xg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ru&&tu(ru,m)||(ru=m,m=bh(Zg,"onSelect"),0<m.length&&(o=new Cf("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=al)))}function Ls(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var il={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},ey={},D1={};Ra&&(D1=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function Bs(i){if(ey[i])return ey[i];if(!il[i])return i;var o=il[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in D1)return ey[i]=o[u];return i}var M1=Bs("animationend"),R1=Bs("animationiteration"),I1=Bs("animationstart"),NL=Bs("transitionrun"),OL=Bs("transitionstart"),EL=Bs("transitioncancel"),L1=Bs("transitionend"),B1=new Map,ty="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ty.push("scrollEnd");function Xn(i,o){B1.set(i,o),Rs(o,[i])}var Tf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},kn=[],sl=0,ry=0;function Df(){for(var i=sl,o=ry=sl=0;o<i;){var u=kn[o];kn[o++]=null;var m=kn[o];kn[o++]=null;var v=kn[o];kn[o++]=null;var x=kn[o];if(kn[o++]=null,m!==null&&v!==null){var E=m.pending;E===null?v.next=v:(v.next=E.next,E.next=v),m.pending=v}x!==0&&$1(u,v,x)}}function Mf(i,o,u,m){kn[sl++]=i,kn[sl++]=o,kn[sl++]=u,kn[sl++]=m,ry|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function ny(i,o,u,m){return Mf(i,o,u,m),Rf(i)}function $s(i,o){return Mf(i,null,null,o),Rf(i)}function $1(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var v=!1,x=i.return;x!==null;)x.childLanes|=u,m=x.alternate,m!==null&&(m.childLanes|=u),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(v=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,v&&o!==null&&(v=31-fn(u),i=x.hiddenUpdates,m=i[v],m===null?i[v]=[o]:m.push(o),o.lane=u|536870912),x):null}function Rf(i){if(50<_u)throw _u=0,fv=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var ol={};function AL(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(i,o,u,m){return new AL(i,o,u,m)}function ay(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ia(i,o){var u=i.alternate;return u===null?(u=mn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function U1(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function If(i,o,u,m,v,x){var E=0;if(m=i,typeof i=="function")ay(i)&&(E=1);else if(typeof i=="string")E=D3(i,u,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=mn(31,u,o,v),i.elementType=I,i.lanes=x,i;case S:return Us(u.children,v,x,o);case _:E=8,v|=24;break;case N:return i=mn(12,u,o,v|2),i.elementType=N,i.lanes=x,i;case D:return i=mn(13,u,o,v),i.elementType=D,i.lanes=x,i;case T:return i=mn(19,u,o,v),i.elementType=T,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:E=10;break e;case O:E=9;break e;case C:E=11;break e;case k:E=14;break e;case M:E=16,m=null;break e}E=29,u=Error(n(130,i===null?"null":typeof i,"")),m=null}return o=mn(E,u,o,v),o.elementType=i,o.type=m,o.lanes=x,o}function Us(i,o,u,m){return i=mn(7,i,m,o),i.lanes=u,i}function iy(i,o,u){return i=mn(6,i,null,o),i.lanes=u,i}function z1(i){var o=mn(18,null,null,0);return o.stateNode=i,o}function sy(i,o,u){return o=mn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var q1=new WeakMap;function Tn(i,o){if(typeof i=="object"&&i!==null){var u=q1.get(i);return u!==void 0?u:(o={value:i,source:o,stack:ir(o)},q1.set(i,o),o)}return{value:i,source:o,stack:ir(o)}}var ll=[],cl=0,Lf=null,nu=0,Dn=[],Mn=0,Di=null,ha=1,ma="";function La(i,o){ll[cl++]=nu,ll[cl++]=Lf,Lf=i,nu=o}function K1(i,o,u){Dn[Mn++]=ha,Dn[Mn++]=ma,Dn[Mn++]=Di,Di=i;var m=ha;i=ma;var v=32-fn(m)-1;m&=~(1<<v),u+=1;var x=32-fn(o)+v;if(30<x){var E=v-v%5;x=(m&(1<<E)-1).toString(32),m>>=E,v-=E,ha=1<<32-fn(o)+v|u<<v|m,ma=x+i}else ha=1<<x|u<<v|m,ma=i}function oy(i){i.return!==null&&(La(i,1),K1(i,1,0))}function ly(i){for(;i===Lf;)Lf=ll[--cl],ll[cl]=null,nu=ll[--cl],ll[cl]=null;for(;i===Di;)Di=Dn[--Mn],Dn[Mn]=null,ma=Dn[--Mn],Dn[Mn]=null,ha=Dn[--Mn],Dn[Mn]=null}function F1(i,o){Dn[Mn++]=ha,Dn[Mn++]=ma,Dn[Mn++]=Di,ha=o.id,ma=o.overflow,Di=i}var Or=null,Nt=null,We=!1,Mi=null,Rn=!1,cy=Error(n(519));function Ri(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw au(Tn(o,i)),cy}function H1(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[Nr]=i,o[Yr]=m,u){case"dialog":Ve("cancel",o),Ve("close",o);break;case"iframe":case"object":case"embed":Ve("load",o);break;case"video":case"audio":for(u=0;u<Ou.length;u++)Ve(Ou[u],o);break;case"source":Ve("error",o);break;case"img":case"image":case"link":Ve("error",o),Ve("load",o);break;case"details":Ve("toggle",o);break;case"input":Ve("invalid",o),a1(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ve("invalid",o);break;case"textarea":Ve("invalid",o),s1(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||lO(o.textContent,u)?(m.popover!=null&&(Ve("beforetoggle",o),Ve("toggle",o)),m.onScroll!=null&&Ve("scroll",o),m.onScrollEnd!=null&&Ve("scrollend",o),m.onClick!=null&&(o.onclick=Ma),o=!0):o=!1,o||Ri(i,!0)}function Q1(i){for(Or=i.return;Or;)switch(Or.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Or=Or.return}}function ul(i){if(i!==Or)return!1;if(!We)return Q1(i),We=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Ev(i.type,i.memoizedProps)),u=!u),u&&Nt&&Ri(i),Q1(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Nt=yO(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Nt=yO(i)}else o===27?(o=Nt,Yi(i.type)?(i=Tv,Tv=null,Nt=i):Nt=o):Nt=Or?Ln(i.stateNode.nextSibling):null;return!0}function zs(){Nt=Or=null,We=!1}function uy(){var i=Mi;return i!==null&&(en===null?en=i:en.push.apply(en,i),Mi=null),i}function au(i){Mi===null?Mi=[i]:Mi.push(i)}var dy=R(null),qs=null,Ba=null;function Ii(i,o,u){pe(dy,o._currentValue),o._currentValue=u}function $a(i){i._currentValue=dy.current,Q(dy)}function fy(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function hy(i,o,u,m){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var x=v.dependencies;if(x!==null){var E=v.child;x=x.firstContext;e:for(;x!==null;){var P=x;x=v;for(var $=0;$<o.length;$++)if(P.context===o[$]){x.lanes|=u,P=x.alternate,P!==null&&(P.lanes|=u),fy(x.return,u,i),m||(E=null);break e}x=P.next}}else if(v.tag===18){if(E=v.return,E===null)throw Error(n(341));E.lanes|=u,x=E.alternate,x!==null&&(x.lanes|=u),fy(E,u,i),E=null}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===i){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}}function dl(i,o,u,m){i=null;for(var v=o,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var E=v.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var P=v.type;hn(v.pendingProps.value,E.value)||(i!==null?i.push(P):i=[P])}}else if(v===Ee.current){if(E=v.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(ku):i=[ku])}v=v.return}i!==null&&hy(o,i,u,m),o.flags|=262144}function Bf(i){for(i=i.firstContext;i!==null;){if(!hn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ks(i){qs=i,Ba=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Er(i){return V1(qs,i)}function $f(i,o){return qs===null&&Ks(i),V1(i,o)}function V1(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ba===null){if(i===null)throw Error(n(308));Ba=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Ba=Ba.next=o;return u}var CL=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},PL=e.unstable_scheduleCallback,kL=e.unstable_NormalPriority,Wt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function my(){return{controller:new CL,data:new Map,refCount:0}}function iu(i){i.refCount--,i.refCount===0&&PL(kL,function(){i.controller.abort()})}var su=null,py=0,fl=0,hl=null;function TL(i,o){if(su===null){var u=su=[];py=0,fl=vv(),hl={status:"pending",value:void 0,then:function(m){u.push(m)}}}return py++,o.then(G1,G1),o}function G1(){if(--py===0&&su!==null){hl!==null&&(hl.status="fulfilled");var i=su;su=null,fl=0,hl=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function DL(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var Y1=L.S;L.S=function(i,o){TN=ut(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&TL(i,o),Y1!==null&&Y1(i,o)};var Fs=R(null);function gy(){var i=Fs.current;return i!==null?i:xt.pooledCache}function Uf(i,o){o===null?pe(Fs,Fs.current):pe(Fs,o.pool)}function W1(){var i=gy();return i===null?null:{parent:Wt._currentValue,pool:i}}var ml=Error(n(460)),yy=Error(n(474)),zf=Error(n(542)),qf={then:function(){}};function X1(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Z1(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Ma,Ma),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,e_(i),i;default:if(typeof o.status=="string")o.then(Ma,Ma);else{if(i=xt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,e_(i),i}throw Qs=o,ml}}function Hs(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Qs=u,ml):u}}var Qs=null;function J1(){if(Qs===null)throw Error(n(459));var i=Qs;return Qs=null,i}function e_(i){if(i===ml||i===zf)throw Error(n(483))}var pl=null,ou=0;function Kf(i){var o=ou;return ou+=1,pl===null&&(pl=[]),Z1(pl,i,o)}function lu(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Ff(i,o){throw o.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function t_(i){function o(H,q){if(i){var W=H.deletions;W===null?(H.deletions=[q],H.flags|=16):W.push(q)}}function u(H,q){if(!i)return null;for(;q!==null;)o(H,q),q=q.sibling;return null}function m(H){for(var q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function v(H,q){return H=Ia(H,q),H.index=0,H.sibling=null,H}function x(H,q,W){return H.index=W,i?(W=H.alternate,W!==null?(W=W.index,W<q?(H.flags|=67108866,q):W):(H.flags|=67108866,q)):(H.flags|=1048576,q)}function E(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function P(H,q,W,fe){return q===null||q.tag!==6?(q=iy(W,H.mode,fe),q.return=H,q):(q=v(q,W),q.return=H,q)}function $(H,q,W,fe){var Te=W.type;return Te===S?ue(H,q,W.props.children,fe,W.key):q!==null&&(q.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===M&&Hs(Te)===q.type)?(q=v(q,W.props),lu(q,W),q.return=H,q):(q=If(W.type,W.key,W.props,null,H.mode,fe),lu(q,W),q.return=H,q)}function X(H,q,W,fe){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=sy(W,H.mode,fe),q.return=H,q):(q=v(q,W.children||[]),q.return=H,q)}function ue(H,q,W,fe,Te){return q===null||q.tag!==7?(q=Us(W,H.mode,fe,Te),q.return=H,q):(q=v(q,W),q.return=H,q)}function he(H,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=iy(""+q,H.mode,W),q.return=H,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return W=If(q.type,q.key,q.props,null,H.mode,W),lu(W,q),W.return=H,W;case w:return q=sy(q,H.mode,W),q.return=H,q;case M:return q=Hs(q),he(H,q,W)}if(ie(q)||K(q))return q=Us(q,H.mode,W,null),q.return=H,q;if(typeof q.then=="function")return he(H,Kf(q),W);if(q.$$typeof===A)return he(H,$f(H,q),W);Ff(H,q)}return null}function J(H,q,W,fe){var Te=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Te!==null?null:P(H,q,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return W.key===Te?$(H,q,W,fe):null;case w:return W.key===Te?X(H,q,W,fe):null;case M:return W=Hs(W),J(H,q,W,fe)}if(ie(W)||K(W))return Te!==null?null:ue(H,q,W,fe,null);if(typeof W.then=="function")return J(H,q,Kf(W),fe);if(W.$$typeof===A)return J(H,q,$f(H,W),fe);Ff(H,W)}return null}function re(H,q,W,fe,Te){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return H=H.get(W)||null,P(q,H,""+fe,Te);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return H=H.get(fe.key===null?W:fe.key)||null,$(q,H,fe,Te);case w:return H=H.get(fe.key===null?W:fe.key)||null,X(q,H,fe,Te);case M:return fe=Hs(fe),re(H,q,W,fe,Te)}if(ie(fe)||K(fe))return H=H.get(W)||null,ue(q,H,fe,Te,null);if(typeof fe.then=="function")return re(H,q,W,Kf(fe),Te);if(fe.$$typeof===A)return re(H,q,W,$f(q,fe),Te);Ff(q,fe)}return null}function _e(H,q,W,fe){for(var Te=null,tt=null,Ce=q,qe=q=0,Ye=null;Ce!==null&&qe<W.length;qe++){Ce.index>qe?(Ye=Ce,Ce=null):Ye=Ce.sibling;var rt=J(H,Ce,W[qe],fe);if(rt===null){Ce===null&&(Ce=Ye);break}i&&Ce&&rt.alternate===null&&o(H,Ce),q=x(rt,q,qe),tt===null?Te=rt:tt.sibling=rt,tt=rt,Ce=Ye}if(qe===W.length)return u(H,Ce),We&&La(H,qe),Te;if(Ce===null){for(;qe<W.length;qe++)Ce=he(H,W[qe],fe),Ce!==null&&(q=x(Ce,q,qe),tt===null?Te=Ce:tt.sibling=Ce,tt=Ce);return We&&La(H,qe),Te}for(Ce=m(Ce);qe<W.length;qe++)Ye=re(Ce,H,qe,W[qe],fe),Ye!==null&&(i&&Ye.alternate!==null&&Ce.delete(Ye.key===null?qe:Ye.key),q=x(Ye,q,qe),tt===null?Te=Ye:tt.sibling=Ye,tt=Ye);return i&&Ce.forEach(function(es){return o(H,es)}),We&&La(H,qe),Te}function De(H,q,W,fe){if(W==null)throw Error(n(151));for(var Te=null,tt=null,Ce=q,qe=q=0,Ye=null,rt=W.next();Ce!==null&&!rt.done;qe++,rt=W.next()){Ce.index>qe?(Ye=Ce,Ce=null):Ye=Ce.sibling;var es=J(H,Ce,rt.value,fe);if(es===null){Ce===null&&(Ce=Ye);break}i&&Ce&&es.alternate===null&&o(H,Ce),q=x(es,q,qe),tt===null?Te=es:tt.sibling=es,tt=es,Ce=Ye}if(rt.done)return u(H,Ce),We&&La(H,qe),Te;if(Ce===null){for(;!rt.done;qe++,rt=W.next())rt=he(H,rt.value,fe),rt!==null&&(q=x(rt,q,qe),tt===null?Te=rt:tt.sibling=rt,tt=rt);return We&&La(H,qe),Te}for(Ce=m(Ce);!rt.done;qe++,rt=W.next())rt=re(Ce,H,qe,rt.value,fe),rt!==null&&(i&&rt.alternate!==null&&Ce.delete(rt.key===null?qe:rt.key),q=x(rt,q,qe),tt===null?Te=rt:tt.sibling=rt,tt=rt);return i&&Ce.forEach(function(F3){return o(H,F3)}),We&&La(H,qe),Te}function yt(H,q,W,fe){if(typeof W=="object"&&W!==null&&W.type===S&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case b:e:{for(var Te=W.key;q!==null;){if(q.key===Te){if(Te=W.type,Te===S){if(q.tag===7){u(H,q.sibling),fe=v(q,W.props.children),fe.return=H,H=fe;break e}}else if(q.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===M&&Hs(Te)===q.type){u(H,q.sibling),fe=v(q,W.props),lu(fe,W),fe.return=H,H=fe;break e}u(H,q);break}else o(H,q);q=q.sibling}W.type===S?(fe=Us(W.props.children,H.mode,fe,W.key),fe.return=H,H=fe):(fe=If(W.type,W.key,W.props,null,H.mode,fe),lu(fe,W),fe.return=H,H=fe)}return E(H);case w:e:{for(Te=W.key;q!==null;){if(q.key===Te)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){u(H,q.sibling),fe=v(q,W.children||[]),fe.return=H,H=fe;break e}else{u(H,q);break}else o(H,q);q=q.sibling}fe=sy(W,H.mode,fe),fe.return=H,H=fe}return E(H);case M:return W=Hs(W),yt(H,q,W,fe)}if(ie(W))return _e(H,q,W,fe);if(K(W)){if(Te=K(W),typeof Te!="function")throw Error(n(150));return W=Te.call(W),De(H,q,W,fe)}if(typeof W.then=="function")return yt(H,q,Kf(W),fe);if(W.$$typeof===A)return yt(H,q,$f(H,W),fe);Ff(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(u(H,q.sibling),fe=v(q,W),fe.return=H,H=fe):(u(H,q),fe=iy(W,H.mode,fe),fe.return=H,H=fe),E(H)):u(H,q)}return function(H,q,W,fe){try{ou=0;var Te=yt(H,q,W,fe);return pl=null,Te}catch(Ce){if(Ce===ml||Ce===zf)throw Ce;var tt=mn(29,Ce,null,H.mode);return tt.lanes=fe,tt.return=H,tt}finally{}}}var Vs=t_(!0),r_=t_(!1),Li=!1;function vy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function by(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Bi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function $i(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(ot&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=Rf(i),$1(i,null,u),o}return Mf(i,m,o,u),Rf(i)}function cu(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,VS(i,u)}}function xy(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var E={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?v=x=E:x=x.next=E,u=u.next}while(u!==null);x===null?v=x=o:x=x.next=o}else v=x=o;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var wy=!1;function uu(){if(wy){var i=hl;if(i!==null)throw i}}function du(i,o,u,m){wy=!1;var v=i.updateQueue;Li=!1;var x=v.firstBaseUpdate,E=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var $=P,X=$.next;$.next=null,E===null?x=X:E.next=X,E=$;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,P=ue.lastBaseUpdate,P!==E&&(P===null?ue.firstBaseUpdate=X:P.next=X,ue.lastBaseUpdate=$))}if(x!==null){var he=v.baseState;E=0,ue=X=$=null,P=x;do{var J=P.lane&-536870913,re=J!==P.lane;if(re?(Ge&J)===J:(m&J)===J){J!==0&&J===fl&&(wy=!0),ue!==null&&(ue=ue.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var _e=i,De=P;J=o;var yt=u;switch(De.tag){case 1:if(_e=De.payload,typeof _e=="function"){he=_e.call(yt,he,J);break e}he=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=De.payload,J=typeof _e=="function"?_e.call(yt,he,J):_e,J==null)break e;he=g({},he,J);break e;case 2:Li=!0}}J=P.callback,J!==null&&(i.flags|=64,re&&(i.flags|=8192),re=v.callbacks,re===null?v.callbacks=[J]:re.push(J))}else re={lane:J,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ue===null?(X=ue=re,$=he):ue=ue.next=re,E|=J;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;re=P,P=re.next,re.next=null,v.lastBaseUpdate=re,v.shared.pending=null}}while(!0);ue===null&&($=he),v.baseState=$,v.firstBaseUpdate=X,v.lastBaseUpdate=ue,x===null&&(v.shared.lanes=0),Fi|=E,i.lanes=E,i.memoizedState=he}}function n_(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function a_(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)n_(u[i],o)}var gl=R(null),Hf=R(0);function i_(i,o){i=Ga,pe(Hf,i),pe(gl,o),Ga=i|o.baseLanes}function jy(){pe(Hf,Ga),pe(gl,gl.current)}function Sy(){Ga=Hf.current,Q(gl),Q(Hf)}var pn=R(null),In=null;function Ui(i){var o=i.alternate;pe(Gt,Gt.current&1),pe(pn,i),In===null&&(o===null||gl.current!==null||o.memoizedState!==null)&&(In=i)}function _y(i){pe(Gt,Gt.current),pe(pn,i),In===null&&(In=i)}function s_(i){i.tag===22?(pe(Gt,Gt.current),pe(pn,i),In===null&&(In=i)):zi()}function zi(){pe(Gt,Gt.current),pe(pn,pn.current)}function gn(i){Q(pn),In===i&&(In=null),Q(Gt)}var Gt=R(0);function Qf(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Pv(u)||kv(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ua=0,Ue=null,pt=null,Xt=null,Vf=!1,yl=!1,Gs=!1,Gf=0,fu=0,vl=null,ML=0;function Bt(){throw Error(n(321))}function Ny(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!hn(i[u],o[u]))return!1;return!0}function Oy(i,o,u,m,v,x){return Ua=x,Ue=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,L.H=i===null||i.memoizedState===null?K_:zy,Gs=!1,x=u(m,v),Gs=!1,yl&&(x=l_(o,u,m,v)),o_(i),x}function o_(i){L.H=pu;var o=pt!==null&&pt.next!==null;if(Ua=0,Xt=pt=Ue=null,Vf=!1,fu=0,vl=null,o)throw Error(n(300));i===null||Zt||(i=i.dependencies,i!==null&&Bf(i)&&(Zt=!0))}function l_(i,o,u,m){Ue=i;var v=0;do{if(yl&&(vl=null),fu=0,yl=!1,25<=v)throw Error(n(301));if(v+=1,Xt=pt=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}L.H=F_,x=o(u,m)}while(yl);return x}function RL(){var i=L.H,o=i.useState()[0];return o=typeof o.then=="function"?hu(o):o,i=i.useState()[0],(pt!==null?pt.memoizedState:null)!==i&&(Ue.flags|=1024),o}function Ey(){var i=Gf!==0;return Gf=0,i}function Ay(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Cy(i){if(Vf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Vf=!1}Ua=0,Xt=pt=Ue=null,yl=!1,fu=Gf=0,vl=null}function zr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ue.memoizedState=Xt=i:Xt=Xt.next=i,Xt}function Yt(){if(pt===null){var i=Ue.alternate;i=i!==null?i.memoizedState:null}else i=pt.next;var o=Xt===null?Ue.memoizedState:Xt.next;if(o!==null)Xt=o,pt=i;else{if(i===null)throw Ue.alternate===null?Error(n(467)):Error(n(310));pt=i,i={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Xt===null?Ue.memoizedState=Xt=i:Xt=Xt.next=i}return Xt}function Yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hu(i){var o=fu;return fu+=1,vl===null&&(vl=[]),i=Z1(vl,i,o),o=Ue,(Xt===null?o.memoizedState:Xt.next)===null&&(o=o.alternate,L.H=o===null||o.memoizedState===null?K_:zy),i}function Wf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return hu(i);if(i.$$typeof===A)return Er(i)}throw Error(n(438,String(i)))}function Py(i){var o=null,u=Ue.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Ue.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Yf(),Ue.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=G;return o.index++,u}function za(i,o){return typeof o=="function"?o(i):o}function Xf(i){var o=Yt();return ky(o,pt,i)}function ky(i,o,u){var m=i.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var v=i.baseQueue,x=m.pending;if(x!==null){if(v!==null){var E=v.next;v.next=x.next,x.next=E}o.baseQueue=v=x,m.pending=null}if(x=i.baseState,v===null)i.memoizedState=x;else{o=v.next;var P=E=null,$=null,X=o,ue=!1;do{var he=X.lane&-536870913;if(he!==X.lane?(Ge&he)===he:(Ua&he)===he){var J=X.revertLane;if(J===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),he===fl&&(ue=!0);else if((Ua&J)===J){X=X.next,J===fl&&(ue=!0);continue}else he={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},$===null?(P=$=he,E=x):$=$.next=he,Ue.lanes|=J,Fi|=J;he=X.action,Gs&&u(x,he),x=X.hasEagerState?X.eagerState:u(x,he)}else J={lane:he,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},$===null?(P=$=J,E=x):$=$.next=J,Ue.lanes|=he,Fi|=he;X=X.next}while(X!==null&&X!==o);if($===null?E=x:$.next=P,!hn(x,i.memoizedState)&&(Zt=!0,ue&&(u=hl,u!==null)))throw u;i.memoizedState=x,i.baseState=E,i.baseQueue=$,m.lastRenderedState=x}return v===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Ty(i){var o=Yt(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,v=u.pending,x=o.memoizedState;if(v!==null){u.pending=null;var E=v=v.next;do x=i(x,E.action),E=E.next;while(E!==v);hn(x,o.memoizedState)||(Zt=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,m]}function c_(i,o,u){var m=Ue,v=Yt(),x=We;if(x){if(u===void 0)throw Error(n(407));u=u()}else u=o();var E=!hn((pt||v).memoizedState,u);if(E&&(v.memoizedState=u,Zt=!0),v=v.queue,Ry(f_.bind(null,m,v,i),[i]),v.getSnapshot!==o||E||Xt!==null&&Xt.memoizedState.tag&1){if(m.flags|=2048,bl(9,{destroy:void 0},d_.bind(null,m,v,u,o),null),xt===null)throw Error(n(349));x||(Ua&127)!==0||u_(m,o,u)}return u}function u_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Ue.updateQueue,o===null?(o=Yf(),Ue.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function d_(i,o,u,m){o.value=u,o.getSnapshot=m,h_(o)&&m_(i)}function f_(i,o,u){return u(function(){h_(o)&&m_(i)})}function h_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!hn(i,u)}catch{return!0}}function m_(i){var o=$s(i,2);o!==null&&tn(o,i,2)}function Dy(i){var o=zr();if(typeof i=="function"){var u=i;if(i=u(),Gs){Pi(!0);try{u()}finally{Pi(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:i},o}function p_(i,o,u,m){return i.baseState=u,ky(i,pt,typeof m=="function"?m:za)}function IL(i,o,u,m,v){if(eh(i))throw Error(n(485));if(i=o.action,i!==null){var x={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){x.listeners.push(E)}};L.T!==null?u(!0):x.isTransition=!1,m(x),u=o.pending,u===null?(x.next=o.pending=x,g_(o,x)):(x.next=u.next,o.pending=u.next=x)}}function g_(i,o){var u=o.action,m=o.payload,v=i.state;if(o.isTransition){var x=L.T,E={};L.T=E;try{var P=u(v,m),$=L.S;$!==null&&$(E,P),y_(i,o,P)}catch(X){My(i,o,X)}finally{x!==null&&E.types!==null&&(x.types=E.types),L.T=x}}else try{x=u(v,m),y_(i,o,x)}catch(X){My(i,o,X)}}function y_(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){v_(i,o,m)},function(m){return My(i,o,m)}):v_(i,o,u)}function v_(i,o,u){o.status="fulfilled",o.value=u,b_(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,g_(i,u)))}function My(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,b_(o),o=o.next;while(o!==m)}i.action=null}function b_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function x_(i,o){return o}function w_(i,o){if(We){var u=xt.formState;if(u!==null){e:{var m=Ue;if(We){if(Nt){t:{for(var v=Nt,x=Rn;v.nodeType!==8;){if(!x){v=null;break t}if(v=Ln(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Nt=Ln(v.nextSibling),m=v.data==="F!";break e}}Ri(m)}m=!1}m&&(o=u[0])}}return u=zr(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x_,lastRenderedState:o},u.queue=m,u=U_.bind(null,Ue,m),m.dispatch=u,m=Dy(!1),x=Uy.bind(null,Ue,!1,m.queue),m=zr(),v={state:o,dispatch:null,action:i,pending:null},m.queue=v,u=IL.bind(null,Ue,v,x,u),v.dispatch=u,m.memoizedState=i,[o,u,!1]}function j_(i){var o=Yt();return S_(o,pt,i)}function S_(i,o,u){if(o=ky(i,o,x_)[0],i=Xf(za)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=hu(o)}catch(E){throw E===ml?zf:E}else m=o;o=Yt();var v=o.queue,x=v.dispatch;return u!==o.memoizedState&&(Ue.flags|=2048,bl(9,{destroy:void 0},LL.bind(null,v,u),null)),[m,x,i]}function LL(i,o){i.action=o}function __(i){var o=Yt(),u=pt;if(u!==null)return S_(o,u,i);Yt(),o=o.memoizedState,u=Yt();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function bl(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=Ue.updateQueue,o===null&&(o=Yf(),Ue.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function N_(){return Yt().memoizedState}function Zf(i,o,u,m){var v=zr();Ue.flags|=i,v.memoizedState=bl(1|o,{destroy:void 0},u,m===void 0?null:m)}function Jf(i,o,u,m){var v=Yt();m=m===void 0?null:m;var x=v.memoizedState.inst;pt!==null&&m!==null&&Ny(m,pt.memoizedState.deps)?v.memoizedState=bl(o,x,u,m):(Ue.flags|=i,v.memoizedState=bl(1|o,x,u,m))}function O_(i,o){Zf(8390656,8,i,o)}function Ry(i,o){Jf(2048,8,i,o)}function BL(i){Ue.flags|=4;var o=Ue.updateQueue;if(o===null)o=Yf(),Ue.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function E_(i){var o=Yt().memoizedState;return BL({ref:o,nextImpl:i}),function(){if((ot&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function A_(i,o){return Jf(4,2,i,o)}function C_(i,o){return Jf(4,4,i,o)}function P_(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function k_(i,o,u){u=u!=null?u.concat([i]):null,Jf(4,4,P_.bind(null,o,i),u)}function Iy(){}function T_(i,o){var u=Yt();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Ny(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function D_(i,o){var u=Yt();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Ny(o,m[1]))return m[0];if(m=i(),Gs){Pi(!0);try{i()}finally{Pi(!1)}}return u.memoizedState=[m,o],m}function Ly(i,o,u){return u===void 0||(Ua&1073741824)!==0&&(Ge&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=MN(),Ue.lanes|=i,Fi|=i,u)}function M_(i,o,u,m){return hn(u,o)?u:gl.current!==null?(i=Ly(i,u,m),hn(i,o)||(Zt=!0),i):(Ua&42)===0||(Ua&1073741824)!==0&&(Ge&261930)===0?(Zt=!0,i.memoizedState=u):(i=MN(),Ue.lanes|=i,Fi|=i,o)}function R_(i,o,u,m,v){var x=z.p;z.p=x!==0&&8>x?x:8;var E=L.T,P={};L.T=P,Uy(i,!1,o,u);try{var $=v(),X=L.S;if(X!==null&&X(P,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ue=DL($,m);mu(i,o,ue,bn(i))}else mu(i,o,m,bn(i))}catch(he){mu(i,o,{then:function(){},status:"rejected",reason:he},bn())}finally{z.p=x,E!==null&&P.types!==null&&(E.types=P.types),L.T=E}}function $L(){}function By(i,o,u,m){if(i.tag!==5)throw Error(n(476));var v=I_(i).queue;R_(i,v,o,ee,u===null?$L:function(){return L_(i),u(m)})}function I_(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:ee},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function L_(i){var o=I_(i);o.next===null&&(o=i.alternate.memoizedState),mu(i,o.next.queue,{},bn())}function $y(){return Er(ku)}function B_(){return Yt().memoizedState}function $_(){return Yt().memoizedState}function UL(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=bn();i=Bi(u);var m=$i(o,i,u);m!==null&&(tn(m,o,u),cu(m,o,u)),o={cache:my()},i.payload=o;return}o=o.return}}function zL(i,o,u){var m=bn();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},eh(i)?z_(o,u):(u=ny(i,o,u,m),u!==null&&(tn(u,i,m),q_(u,o,m)))}function U_(i,o,u){var m=bn();mu(i,o,u,m)}function mu(i,o,u,m){var v={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(eh(i))z_(o,v);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var E=o.lastRenderedState,P=x(E,u);if(v.hasEagerState=!0,v.eagerState=P,hn(P,E))return Mf(i,o,v,0),xt===null&&Df(),!1}catch{}finally{}if(u=ny(i,o,v,m),u!==null)return tn(u,i,m),q_(u,o,m),!0}return!1}function Uy(i,o,u,m){if(m={lane:2,revertLane:vv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},eh(i)){if(o)throw Error(n(479))}else o=ny(i,u,m,2),o!==null&&tn(o,i,2)}function eh(i){var o=i.alternate;return i===Ue||o!==null&&o===Ue}function z_(i,o){yl=Vf=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function q_(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,VS(i,u)}}var pu={readContext:Er,use:Wf,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};pu.useEffectEvent=Bt;var K_={readContext:Er,use:Wf,useCallback:function(i,o){return zr().memoizedState=[i,o===void 0?null:o],i},useContext:Er,useEffect:O_,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Zf(4194308,4,P_.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Zf(4194308,4,i,o)},useInsertionEffect:function(i,o){Zf(4,2,i,o)},useMemo:function(i,o){var u=zr();o=o===void 0?null:o;var m=i();if(Gs){Pi(!0);try{i()}finally{Pi(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=zr();if(u!==void 0){var v=u(o);if(Gs){Pi(!0);try{u(o)}finally{Pi(!1)}}}else v=o;return m.memoizedState=m.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},m.queue=i,i=i.dispatch=zL.bind(null,Ue,i),[m.memoizedState,i]},useRef:function(i){var o=zr();return i={current:i},o.memoizedState=i},useState:function(i){i=Dy(i);var o=i.queue,u=U_.bind(null,Ue,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Iy,useDeferredValue:function(i,o){var u=zr();return Ly(u,i,o)},useTransition:function(){var i=Dy(!1);return i=R_.bind(null,Ue,i.queue,!0,!1),zr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=Ue,v=zr();if(We){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),xt===null)throw Error(n(349));(Ge&127)!==0||u_(m,o,u)}v.memoizedState=u;var x={value:u,getSnapshot:o};return v.queue=x,O_(f_.bind(null,m,x,i),[i]),m.flags|=2048,bl(9,{destroy:void 0},d_.bind(null,m,x,u,o),null),u},useId:function(){var i=zr(),o=xt.identifierPrefix;if(We){var u=ma,m=ha;u=(m&~(1<<32-fn(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Gf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=ML++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:$y,useFormState:w_,useActionState:w_,useOptimistic:function(i){var o=zr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Uy.bind(null,Ue,!0,u),u.dispatch=o,[i,o]},useMemoCache:Py,useCacheRefresh:function(){return zr().memoizedState=UL.bind(null,Ue)},useEffectEvent:function(i){var o=zr(),u={impl:i};return o.memoizedState=u,function(){if((ot&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},zy={readContext:Er,use:Wf,useCallback:T_,useContext:Er,useEffect:Ry,useImperativeHandle:k_,useInsertionEffect:A_,useLayoutEffect:C_,useMemo:D_,useReducer:Xf,useRef:N_,useState:function(){return Xf(za)},useDebugValue:Iy,useDeferredValue:function(i,o){var u=Yt();return M_(u,pt.memoizedState,i,o)},useTransition:function(){var i=Xf(za)[0],o=Yt().memoizedState;return[typeof i=="boolean"?i:hu(i),o]},useSyncExternalStore:c_,useId:B_,useHostTransitionStatus:$y,useFormState:j_,useActionState:j_,useOptimistic:function(i,o){var u=Yt();return p_(u,pt,i,o)},useMemoCache:Py,useCacheRefresh:$_};zy.useEffectEvent=E_;var F_={readContext:Er,use:Wf,useCallback:T_,useContext:Er,useEffect:Ry,useImperativeHandle:k_,useInsertionEffect:A_,useLayoutEffect:C_,useMemo:D_,useReducer:Ty,useRef:N_,useState:function(){return Ty(za)},useDebugValue:Iy,useDeferredValue:function(i,o){var u=Yt();return pt===null?Ly(u,i,o):M_(u,pt.memoizedState,i,o)},useTransition:function(){var i=Ty(za)[0],o=Yt().memoizedState;return[typeof i=="boolean"?i:hu(i),o]},useSyncExternalStore:c_,useId:B_,useHostTransitionStatus:$y,useFormState:__,useActionState:__,useOptimistic:function(i,o){var u=Yt();return pt!==null?p_(u,pt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Py,useCacheRefresh:$_};F_.useEffectEvent=E_;function qy(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Ky={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=bn(),v=Bi(m);v.payload=o,u!=null&&(v.callback=u),o=$i(i,v,m),o!==null&&(tn(o,i,m),cu(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=bn(),v=Bi(m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=$i(i,v,m),o!==null&&(tn(o,i,m),cu(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=bn(),m=Bi(u);m.tag=2,o!=null&&(m.callback=o),o=$i(i,m,u),o!==null&&(tn(o,i,u),cu(o,i,u))}};function H_(i,o,u,m,v,x,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,x,E):o.prototype&&o.prototype.isPureReactComponent?!tu(u,m)||!tu(v,x):!0}function Q_(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&Ky.enqueueReplaceState(o,o.state,null)}function Ys(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}function V_(i){Tf(i)}function G_(i){console.error(i)}function Y_(i){Tf(i)}function th(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function W_(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Fy(i,o,u){return u=Bi(u),u.tag=3,u.payload={element:null},u.callback=function(){th(i,o)},u}function X_(i){return i=Bi(i),i.tag=3,i}function Z_(i,o,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var x=m.value;i.payload=function(){return v(x)},i.callback=function(){W_(o,u,m)}}var E=u.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){W_(o,u,m),typeof v!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var P=m.stack;this.componentDidCatch(m.value,{componentStack:P!==null?P:""})})}function qL(i,o,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&dl(o,u,v,!0),u=pn.current,u!==null){switch(u.tag){case 31:case 13:return In===null?hh():u.alternate===null&&$t===0&&($t=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===qf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),pv(i,m,v)),!1;case 22:return u.flags|=65536,m===qf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),pv(i,m,v)),!1}throw Error(n(435,u.tag))}return pv(i,m,v),hh(),!1}if(We)return o=pn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==cy&&(i=Error(n(422),{cause:m}),au(Tn(i,u)))):(m!==cy&&(o=Error(n(423),{cause:m}),au(Tn(o,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,m=Tn(m,u),v=Fy(i.stateNode,m,v),xy(i,v),$t!==4&&($t=2)),!1;var x=Error(n(520),{cause:m});if(x=Tn(x,u),Su===null?Su=[x]:Su.push(x),$t!==4&&($t=2),o===null)return!0;m=Tn(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=Fy(u.stateNode,m,i),xy(u,i),!1;case 1:if(o=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Hi===null||!Hi.has(x))))return u.flags|=65536,v&=-v,u.lanes|=v,v=X_(v),Z_(v,i,u,m),xy(u,v),!1}u=u.return}while(u!==null);return!1}var Hy=Error(n(461)),Zt=!1;function Ar(i,o,u,m){o.child=i===null?r_(o,null,u,m):Vs(o,i.child,u,m)}function J_(i,o,u,m,v){u=u.render;var x=o.ref;if("ref"in m){var E={};for(var P in m)P!=="ref"&&(E[P]=m[P])}else E=m;return Ks(o),m=Oy(i,o,u,E,x,v),P=Ey(),i!==null&&!Zt?(Ay(i,o,v),qa(i,o,v)):(We&&P&&oy(o),o.flags|=1,Ar(i,o,m,v),o.child)}function eN(i,o,u,m,v){if(i===null){var x=u.type;return typeof x=="function"&&!ay(x)&&x.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=x,tN(i,o,x,m,v)):(i=If(u.type,null,m,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(x=i.child,!Jy(i,v)){var E=x.memoizedProps;if(u=u.compare,u=u!==null?u:tu,u(E,m)&&i.ref===o.ref)return qa(i,o,v)}return o.flags|=1,i=Ia(x,m),i.ref=o.ref,i.return=o,o.child=i}function tN(i,o,u,m,v){if(i!==null){var x=i.memoizedProps;if(tu(x,m)&&i.ref===o.ref)if(Zt=!1,o.pendingProps=m=x,Jy(i,v))(i.flags&131072)!==0&&(Zt=!0);else return o.lanes=i.lanes,qa(i,o,v)}return Qy(i,o,u,m,v)}function rN(i,o,u,m){var v=m.children,x=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|u:u,i!==null){for(m=o.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~x}else m=0,o.child=null;return nN(i,o,x,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Uf(o,x!==null?x.cachePool:null),x!==null?i_(o,x):jy(),s_(o);else return m=o.lanes=536870912,nN(i,o,x!==null?x.baseLanes|u:u,u,m)}else x!==null?(Uf(o,x.cachePool),i_(o,x),zi(),o.memoizedState=null):(i!==null&&Uf(o,null),jy(),zi());return Ar(i,o,v,u),o.child}function gu(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function nN(i,o,u,m,v){var x=gy();return x=x===null?null:{parent:Wt._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},i!==null&&Uf(o,null),jy(),s_(o),i!==null&&dl(i,o,m,!0),o.childLanes=v,null}function rh(i,o){return o=ah({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function aN(i,o,u){return Vs(o,i.child,null,u),i=rh(o,o.pendingProps),i.flags|=2,gn(o),o.memoizedState=null,i}function KL(i,o,u){var m=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(We){if(m.mode==="hidden")return i=rh(o,m),o.lanes=536870912,gu(null,i);if(_y(o),(i=Nt)?(i=gO(i,Rn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Di!==null?{id:ha,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},u=z1(i),u.return=o,o.child=u,Or=o,Nt=null)):i=null,i===null)throw Ri(o);return o.lanes=536870912,null}return rh(o,m)}var x=i.memoizedState;if(x!==null){var E=x.dehydrated;if(_y(o),v)if(o.flags&256)o.flags&=-257,o=aN(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(Zt||dl(i,o,u,!1),v=(u&i.childLanes)!==0,Zt||v){if(m=xt,m!==null&&(E=GS(m,u),E!==0&&E!==x.retryLane))throw x.retryLane=E,$s(i,E),tn(m,i,E),Hy;hh(),o=aN(i,o,u)}else i=x.treeContext,Nt=Ln(E.nextSibling),Or=o,We=!0,Mi=null,Rn=!1,i!==null&&F1(o,i),o=rh(o,m),o.flags|=4096;return o}return i=Ia(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function nh(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Qy(i,o,u,m,v){return Ks(o),u=Oy(i,o,u,m,void 0,v),m=Ey(),i!==null&&!Zt?(Ay(i,o,v),qa(i,o,v)):(We&&m&&oy(o),o.flags|=1,Ar(i,o,u,v),o.child)}function iN(i,o,u,m,v,x){return Ks(o),o.updateQueue=null,u=l_(o,m,u,v),o_(i),m=Ey(),i!==null&&!Zt?(Ay(i,o,x),qa(i,o,x)):(We&&m&&oy(o),o.flags|=1,Ar(i,o,u,x),o.child)}function sN(i,o,u,m,v){if(Ks(o),o.stateNode===null){var x=ol,E=u.contextType;typeof E=="object"&&E!==null&&(x=Er(E)),x=new u(m,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Ky,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=m,x.state=o.memoizedState,x.refs={},vy(o),E=u.contextType,x.context=typeof E=="object"&&E!==null?Er(E):ol,x.state=o.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(qy(o,u,E,m),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(E=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),E!==x.state&&Ky.enqueueReplaceState(x,x.state,null),du(o,m,x,v),uu(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){x=o.stateNode;var P=o.memoizedProps,$=Ys(u,P);x.props=$;var X=x.context,ue=u.contextType;E=ol,typeof ue=="object"&&ue!==null&&(E=Er(ue));var he=u.getDerivedStateFromProps;ue=typeof he=="function"||typeof x.getSnapshotBeforeUpdate=="function",P=o.pendingProps!==P,ue||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P||X!==E)&&Q_(o,x,m,E),Li=!1;var J=o.memoizedState;x.state=J,du(o,m,x,v),uu(),X=o.memoizedState,P||J!==X||Li?(typeof he=="function"&&(qy(o,u,he,m),X=o.memoizedState),($=Li||H_(o,u,$,m,J,X,E))?(ue||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=X),x.props=m,x.state=X,x.context=E,m=$):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{x=o.stateNode,by(i,o),E=o.memoizedProps,ue=Ys(u,E),x.props=ue,he=o.pendingProps,J=x.context,X=u.contextType,$=ol,typeof X=="object"&&X!==null&&($=Er(X)),P=u.getDerivedStateFromProps,(X=typeof P=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==he||J!==$)&&Q_(o,x,m,$),Li=!1,J=o.memoizedState,x.state=J,du(o,m,x,v),uu();var re=o.memoizedState;E!==he||J!==re||Li||i!==null&&i.dependencies!==null&&Bf(i.dependencies)?(typeof P=="function"&&(qy(o,u,P,m),re=o.memoizedState),(ue=Li||H_(o,u,ue,m,J,re,$)||i!==null&&i.dependencies!==null&&Bf(i.dependencies))?(X||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,re,$),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,re,$)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=re),x.props=m,x.state=re,x.context=$,m=ue):(typeof x.componentDidUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),m=!1)}return x=m,nh(i,o),m=(o.flags&128)!==0,x||m?(x=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,i!==null&&m?(o.child=Vs(o,i.child,null,v),o.child=Vs(o,null,u,v)):Ar(i,o,u,v),o.memoizedState=x.state,i=o.child):i=qa(i,o,v),i}function oN(i,o,u,m){return zs(),o.flags|=256,Ar(i,o,u,m),o.child}var Vy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gy(i){return{baseLanes:i,cachePool:W1()}}function Yy(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=vn),i}function lN(i,o,u){var m=o.pendingProps,v=!1,x=(o.flags&128)!==0,E;if((E=x)||(E=i!==null&&i.memoizedState===null?!1:(Gt.current&2)!==0),E&&(v=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,i===null){if(We){if(v?Ui(o):zi(),(i=Nt)?(i=gO(i,Rn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Di!==null?{id:ha,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},u=z1(i),u.return=o,o.child=u,Or=o,Nt=null)):i=null,i===null)throw Ri(o);return kv(i)?o.lanes=32:o.lanes=536870912,null}var P=m.children;return m=m.fallback,v?(zi(),v=o.mode,P=ah({mode:"hidden",children:P},v),m=Us(m,v,u,null),P.return=o,m.return=o,P.sibling=m,o.child=P,m=o.child,m.memoizedState=Gy(u),m.childLanes=Yy(i,E,u),o.memoizedState=Vy,gu(null,m)):(Ui(o),Wy(o,P))}var $=i.memoizedState;if($!==null&&(P=$.dehydrated,P!==null)){if(x)o.flags&256?(Ui(o),o.flags&=-257,o=Xy(i,o,u)):o.memoizedState!==null?(zi(),o.child=i.child,o.flags|=128,o=null):(zi(),P=m.fallback,v=o.mode,m=ah({mode:"visible",children:m.children},v),P=Us(P,v,u,null),P.flags|=2,m.return=o,P.return=o,m.sibling=P,o.child=m,Vs(o,i.child,null,u),m=o.child,m.memoizedState=Gy(u),m.childLanes=Yy(i,E,u),o.memoizedState=Vy,o=gu(null,m));else if(Ui(o),kv(P)){if(E=P.nextSibling&&P.nextSibling.dataset,E)var X=E.dgst;E=X,m=Error(n(419)),m.stack="",m.digest=E,au({value:m,source:null,stack:null}),o=Xy(i,o,u)}else if(Zt||dl(i,o,u,!1),E=(u&i.childLanes)!==0,Zt||E){if(E=xt,E!==null&&(m=GS(E,u),m!==0&&m!==$.retryLane))throw $.retryLane=m,$s(i,m),tn(E,i,m),Hy;Pv(P)||hh(),o=Xy(i,o,u)}else Pv(P)?(o.flags|=192,o.child=i.child,o=null):(i=$.treeContext,Nt=Ln(P.nextSibling),Or=o,We=!0,Mi=null,Rn=!1,i!==null&&F1(o,i),o=Wy(o,m.children),o.flags|=4096);return o}return v?(zi(),P=m.fallback,v=o.mode,$=i.child,X=$.sibling,m=Ia($,{mode:"hidden",children:m.children}),m.subtreeFlags=$.subtreeFlags&65011712,X!==null?P=Ia(X,P):(P=Us(P,v,u,null),P.flags|=2),P.return=o,m.return=o,m.sibling=P,o.child=m,gu(null,m),m=o.child,P=i.child.memoizedState,P===null?P=Gy(u):(v=P.cachePool,v!==null?($=Wt._currentValue,v=v.parent!==$?{parent:$,pool:$}:v):v=W1(),P={baseLanes:P.baseLanes|u,cachePool:v}),m.memoizedState=P,m.childLanes=Yy(i,E,u),o.memoizedState=Vy,gu(i.child,m)):(Ui(o),u=i.child,i=u.sibling,u=Ia(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(E=o.deletions,E===null?(o.deletions=[i],o.flags|=16):E.push(i)),o.child=u,o.memoizedState=null,u)}function Wy(i,o){return o=ah({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function ah(i,o){return i=mn(22,i,null,o),i.lanes=0,i}function Xy(i,o,u){return Vs(o,i.child,null,u),i=Wy(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function cN(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),fy(i.return,o,u)}function Zy(i,o,u,m,v,x){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v,treeForkCount:x}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=u,E.tailMode=v,E.treeForkCount=x)}function uN(i,o,u){var m=o.pendingProps,v=m.revealOrder,x=m.tail;m=m.children;var E=Gt.current,P=(E&2)!==0;if(P?(E=E&1|2,o.flags|=128):E&=1,pe(Gt,E),Ar(i,o,m,u),m=We?nu:0,!P&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cN(i,u,o);else if(i.tag===19)cN(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&Qf(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Zy(o,!1,v,u,x,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&Qf(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}Zy(o,!0,u,null,x,m);break;case"together":Zy(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function qa(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Fi|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(dl(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Ia(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Ia(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Jy(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Bf(i)))}function FL(i,o,u){switch(o.tag){case 3:de(o,o.stateNode.containerInfo),Ii(o,Wt,i.memoizedState.cache),zs();break;case 27:case 5:Z(o);break;case 4:de(o,o.stateNode.containerInfo);break;case 10:Ii(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,_y(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Ui(o),o.flags|=128,null):(u&o.child.childLanes)!==0?lN(i,o,u):(Ui(o),i=qa(i,o,u),i!==null?i.sibling:null);Ui(o);break;case 19:var v=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(dl(i,o,u,!1),m=(u&o.childLanes)!==0),v){if(m)return uN(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),pe(Gt,Gt.current),m)break;return null;case 22:return o.lanes=0,rN(i,o,u,o.pendingProps);case 24:Ii(o,Wt,i.memoizedState.cache)}return qa(i,o,u)}function dN(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Zt=!0;else{if(!Jy(i,u)&&(o.flags&128)===0)return Zt=!1,FL(i,o,u);Zt=(i.flags&131072)!==0}else Zt=!1,We&&(o.flags&1048576)!==0&&K1(o,nu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=Hs(o.elementType),o.type=i,typeof i=="function")ay(i)?(m=Ys(i,m),o.tag=1,o=sN(null,o,i,m,u)):(o.tag=0,o=Qy(null,o,i,m,u));else{if(i!=null){var v=i.$$typeof;if(v===C){o.tag=11,o=J_(null,o,i,m,u);break e}else if(v===k){o.tag=14,o=eN(null,o,i,m,u);break e}}throw o=V(i)||i,Error(n(306,o,""))}}return o;case 0:return Qy(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,v=Ys(m,o.pendingProps),sN(i,o,m,v,u);case 3:e:{if(de(o,o.stateNode.containerInfo),i===null)throw Error(n(387));m=o.pendingProps;var x=o.memoizedState;v=x.element,by(i,o),du(o,m,null,u);var E=o.memoizedState;if(m=E.cache,Ii(o,Wt,m),m!==x.cache&&hy(o,[Wt],u,!0),uu(),m=E.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=oN(i,o,m,u);break e}else if(m!==v){v=Tn(Error(n(424)),o),au(v),o=oN(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Nt=Ln(i.firstChild),Or=o,We=!0,Mi=null,Rn=!0,u=r_(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(zs(),m===v){o=qa(i,o,u);break e}Ar(i,o,m,u)}o=o.child}return o;case 26:return nh(i,o),i===null?(u=jO(o.type,null,o.pendingProps,null))?o.memoizedState=u:We||(u=o.type,i=o.pendingProps,m=xh(Oe.current).createElement(u),m[Nr]=o,m[Yr]=i,Cr(m,u,i),mr(m),o.stateNode=m):o.memoizedState=jO(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Z(o),i===null&&We&&(m=o.stateNode=bO(o.type,o.pendingProps,Oe.current),Or=o,Rn=!0,v=Nt,Yi(o.type)?(Tv=v,Nt=Ln(m.firstChild)):Nt=v),Ar(i,o,o.pendingProps.children,u),nh(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&We&&((v=m=Nt)&&(m=x3(m,o.type,o.pendingProps,Rn),m!==null?(o.stateNode=m,Or=o,Nt=Ln(m.firstChild),Rn=!1,v=!0):v=!1),v||Ri(o)),Z(o),v=o.type,x=o.pendingProps,E=i!==null?i.memoizedProps:null,m=x.children,Ev(v,x)?m=null:E!==null&&Ev(v,E)&&(o.flags|=32),o.memoizedState!==null&&(v=Oy(i,o,RL,null,null,u),ku._currentValue=v),nh(i,o),Ar(i,o,m,u),o.child;case 6:return i===null&&We&&((i=u=Nt)&&(u=w3(u,o.pendingProps,Rn),u!==null?(o.stateNode=u,Or=o,Nt=null,i=!0):i=!1),i||Ri(o)),null;case 13:return lN(i,o,u);case 4:return de(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Vs(o,null,m,u):Ar(i,o,m,u),o.child;case 11:return J_(i,o,o.type,o.pendingProps,u);case 7:return Ar(i,o,o.pendingProps,u),o.child;case 8:return Ar(i,o,o.pendingProps.children,u),o.child;case 12:return Ar(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,Ii(o,o.type,m.value),Ar(i,o,m.children,u),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,Ks(o),v=Er(v),m=m(v),o.flags|=1,Ar(i,o,m,u),o.child;case 14:return eN(i,o,o.type,o.pendingProps,u);case 15:return tN(i,o,o.type,o.pendingProps,u);case 19:return uN(i,o,u);case 31:return KL(i,o,u);case 22:return rN(i,o,u,o.pendingProps);case 24:return Ks(o),m=Er(Wt),i===null?(v=gy(),v===null&&(v=xt,x=my(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=u),v=x),o.memoizedState={parent:m,cache:v},vy(o),Ii(o,Wt,v)):((i.lanes&u)!==0&&(by(i,o),du(o,null,null,u),uu()),v=i.memoizedState,x=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Ii(o,Wt,m)):(m=x.cache,Ii(o,Wt,m),m!==v.cache&&hy(o,[Wt],u,!0))),Ar(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ka(i){i.flags|=4}function ev(i,o,u,m,v){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(BN())i.flags|=8192;else throw Qs=qf,yy}else i.flags&=-16777217}function fN(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!EO(o))if(BN())i.flags|=8192;else throw Qs=qf,yy}function ih(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?HS():536870912,i.lanes|=o,Sl|=o)}function yu(i,o){if(!We)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Ot(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function HL(i,o,u){var m=o.pendingProps;switch(ly(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(o),null;case 1:return Ot(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),$a(Wt),B(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(ul(o)?Ka(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,uy())),Ot(o),null;case 26:var v=o.type,x=o.memoizedState;return i===null?(Ka(o),x!==null?(Ot(o),fN(o,x)):(Ot(o),ev(o,v,null,m,u))):x?x!==i.memoizedState?(Ka(o),Ot(o),fN(o,x)):(Ot(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&Ka(o),Ot(o),ev(o,v,i,m,u)),null;case 27:if(ge(o),u=Oe.current,v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&Ka(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Ot(o),null}i=le.current,ul(o)?H1(o):(i=bO(v,m,u),o.stateNode=i,Ka(o))}return Ot(o),null;case 5:if(ge(o),v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&Ka(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Ot(o),null}if(x=le.current,ul(o))H1(o);else{var E=xh(Oe.current);switch(x){case 1:x=E.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=E.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=E.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=E.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=E.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?E.createElement("select",{is:m.is}):E.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?E.createElement(v,{is:m.is}):E.createElement(v)}}x[Nr]=o,x[Yr]=m;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)x.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=x;e:switch(Cr(x,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Ka(o)}}return Ot(o),ev(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&Ka(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(i=Oe.current,ul(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,v=Or,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}i[Nr]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||lO(i.nodeValue,u)),i||Ri(o,!0)}else i=xh(i).createTextNode(m),i[Nr]=o,o.stateNode=i}return Ot(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=ul(o),u!==null){if(i===null){if(!m)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Nr]=o}else zs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),i=!1}else u=uy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(gn(o),o):(gn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Ot(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=ul(o),m!==null&&m.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Nr]=o}else zs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),v=!1}else v=uy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(gn(o),o):(gn(o),null)}return gn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==v&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),ih(o,o.updateQueue),Ot(o),null);case 4:return B(),i===null&&jv(o.stateNode.containerInfo),Ot(o),null;case 10:return $a(o.type),Ot(o),null;case 19:if(Q(Gt),m=o.memoizedState,m===null)return Ot(o),null;if(v=(o.flags&128)!==0,x=m.rendering,x===null)if(v)yu(m,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(x=Qf(i),x!==null){for(o.flags|=128,yu(m,!1),i=x.updateQueue,o.updateQueue=i,ih(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)U1(u,i),u=u.sibling;return pe(Gt,Gt.current&1|2),We&&La(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&ut()>uh&&(o.flags|=128,v=!0,yu(m,!1),o.lanes=4194304)}else{if(!v)if(i=Qf(x),i!==null){if(o.flags|=128,v=!0,i=i.updateQueue,o.updateQueue=i,ih(o,i),yu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!We)return Ot(o),null}else 2*ut()-m.renderingStartTime>uh&&u!==536870912&&(o.flags|=128,v=!0,yu(m,!1),o.lanes=4194304);m.isBackwards?(x.sibling=o.child,o.child=x):(i=m.last,i!==null?i.sibling=x:o.child=x,m.last=x)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=ut(),i.sibling=null,u=Gt.current,pe(Gt,v?u&1|2:u&1),We&&La(o,m.treeForkCount),i):(Ot(o),null);case 22:case 23:return gn(o),Sy(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Ot(o),o.subtreeFlags&6&&(o.flags|=8192)):Ot(o),u=o.updateQueue,u!==null&&ih(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&Q(Fs),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),$a(Wt),Ot(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function QL(i,o){switch(ly(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return $a(Wt),B(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return ge(o),null;case 31:if(o.memoizedState!==null){if(gn(o),o.alternate===null)throw Error(n(340));zs()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(gn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));zs()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Q(Gt),null;case 4:return B(),null;case 10:return $a(o.type),null;case 22:case 23:return gn(o),Sy(),i!==null&&Q(Fs),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return $a(Wt),null;case 25:return null;default:return null}}function hN(i,o){switch(ly(o),o.tag){case 3:$a(Wt),B();break;case 26:case 27:case 5:ge(o);break;case 4:B();break;case 31:o.memoizedState!==null&&gn(o);break;case 13:gn(o);break;case 19:Q(Gt);break;case 10:$a(o.type);break;case 22:case 23:gn(o),Sy(),i!==null&&Q(Fs);break;case 24:$a(Wt)}}function vu(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&i)===i){m=void 0;var x=u.create,E=u.inst;m=x(),E.destroy=m}u=u.next}while(u!==v)}}catch(P){ft(o,o.return,P)}}function qi(i,o,u){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var x=v.next;m=x;do{if((m.tag&i)===i){var E=m.inst,P=E.destroy;if(P!==void 0){E.destroy=void 0,v=o;var $=u,X=P;try{X()}catch(ue){ft(v,$,ue)}}}m=m.next}while(m!==x)}}catch(ue){ft(o,o.return,ue)}}function mN(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{a_(o,u)}catch(m){ft(i,i.return,m)}}}function pN(i,o,u){u.props=Ys(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){ft(i,o,m)}}function bu(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(v){ft(i,o,v)}}function pa(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){ft(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){ft(i,o,v)}else u.current=null}function gN(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){ft(i,i.return,v)}}function tv(i,o,u){try{var m=i.stateNode;m3(m,i.type,u,o),m[Yr]=o}catch(v){ft(i,i.return,v)}}function yN(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Yi(i.type)||i.tag===4}function rv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||yN(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Yi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function nv(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ma));else if(m!==4&&(m===27&&Yi(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(nv(i,o,u),i=i.sibling;i!==null;)nv(i,o,u),i=i.sibling}function sh(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&Yi(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(sh(i,o,u),i=i.sibling;i!==null;)sh(i,o,u),i=i.sibling}function vN(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Cr(o,m,u),o[Nr]=i,o[Yr]=u}catch(x){ft(i,i.return,x)}}var Fa=!1,Jt=!1,av=!1,bN=typeof WeakSet=="function"?WeakSet:Set,pr=null;function VL(i,o){if(i=i.containerInfo,Nv=Eh,i=k1(i),Xg(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var E=0,P=-1,$=-1,X=0,ue=0,he=i,J=null;t:for(;;){for(var re;he!==u||v!==0&&he.nodeType!==3||(P=E+v),he!==x||m!==0&&he.nodeType!==3||($=E+m),he.nodeType===3&&(E+=he.nodeValue.length),(re=he.firstChild)!==null;)J=he,he=re;for(;;){if(he===i)break t;if(J===u&&++X===v&&(P=E),J===x&&++ue===m&&($=E),(re=he.nextSibling)!==null)break;he=J,J=he.parentNode}he=re}u=P===-1||$===-1?null:{start:P,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ov={focusedElem:i,selectionRange:u},Eh=!1,pr=o;pr!==null;)if(o=pr,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,pr=i;else for(;pr!==null;){switch(o=pr,x=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)v=i[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,u=o,v=x.memoizedProps,x=x.memoizedState,m=u.stateNode;try{var _e=Ys(u.type,v);i=m.getSnapshotBeforeUpdate(_e,x),m.__reactInternalSnapshotBeforeUpdate=i}catch(De){ft(u,u.return,De)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Cv(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Cv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,pr=i;break}pr=o.return}}function xN(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Qa(i,u),m&4&&vu(5,u);break;case 1:if(Qa(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(E){ft(u,u.return,E)}else{var v=Ys(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(E){ft(u,u.return,E)}}m&64&&mN(u),m&512&&bu(u,u.return);break;case 3:if(Qa(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{a_(i,o)}catch(E){ft(u,u.return,E)}}break;case 27:o===null&&m&4&&vN(u);case 26:case 5:Qa(i,u),o===null&&m&4&&gN(u),m&512&&bu(u,u.return);break;case 12:Qa(i,u);break;case 31:Qa(i,u),m&4&&SN(i,u);break;case 13:Qa(i,u),m&4&&_N(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=r3.bind(null,u),j3(i,u))));break;case 22:if(m=u.memoizedState!==null||Fa,!m){o=o!==null&&o.memoizedState!==null||Jt,v=Fa;var x=Jt;Fa=m,(Jt=o)&&!x?Va(i,u,(u.subtreeFlags&8772)!==0):Qa(i,u),Fa=v,Jt=x}break;case 30:break;default:Qa(i,u)}}function wN(i){var o=i.alternate;o!==null&&(i.alternate=null,wN(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Mg(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Pt=null,Xr=!1;function Ha(i,o,u){for(u=u.child;u!==null;)jN(i,o,u),u=u.sibling}function jN(i,o,u){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Kc,u)}catch{}switch(u.tag){case 26:Jt||pa(u,o),Ha(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Jt||pa(u,o);var m=Pt,v=Xr;Yi(u.type)&&(Pt=u.stateNode,Xr=!1),Ha(i,o,u),Au(u.stateNode),Pt=m,Xr=v;break;case 5:Jt||pa(u,o);case 6:if(m=Pt,v=Xr,Pt=null,Ha(i,o,u),Pt=m,Xr=v,Pt!==null)if(Xr)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(u.stateNode)}catch(x){ft(u,o,x)}else try{Pt.removeChild(u.stateNode)}catch(x){ft(u,o,x)}break;case 18:Pt!==null&&(Xr?(i=Pt,mO(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),kl(i)):mO(Pt,u.stateNode));break;case 4:m=Pt,v=Xr,Pt=u.stateNode.containerInfo,Xr=!0,Ha(i,o,u),Pt=m,Xr=v;break;case 0:case 11:case 14:case 15:qi(2,u,o),Jt||qi(4,u,o),Ha(i,o,u);break;case 1:Jt||(pa(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&pN(u,o,m)),Ha(i,o,u);break;case 21:Ha(i,o,u);break;case 22:Jt=(m=Jt)||u.memoizedState!==null,Ha(i,o,u),Jt=m;break;default:Ha(i,o,u)}}function SN(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{kl(i)}catch(u){ft(o,o.return,u)}}}function _N(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{kl(i)}catch(u){ft(o,o.return,u)}}function GL(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new bN),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new bN),o;default:throw Error(n(435,i.tag))}}function oh(i,o){var u=GL(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var v=n3.bind(null,i,m);m.then(v,v)}})}function Zr(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],x=i,E=o,P=E;e:for(;P!==null;){switch(P.tag){case 27:if(Yi(P.type)){Pt=P.stateNode,Xr=!1;break e}break;case 5:Pt=P.stateNode,Xr=!1;break e;case 3:case 4:Pt=P.stateNode.containerInfo,Xr=!0;break e}P=P.return}if(Pt===null)throw Error(n(160));jN(x,E,v),Pt=null,Xr=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)NN(o,i),o=o.sibling}var Zn=null;function NN(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Zr(o,i),Jr(i),m&4&&(qi(3,i,i.return),vu(3,i),qi(5,i,i.return));break;case 1:Zr(o,i),Jr(i),m&512&&(Jt||u===null||pa(u,u.return)),m&64&&Fa&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=Zn;if(Zr(o,i),Jr(i),m&512&&(Jt||u===null||pa(u,u.return)),m&4){var x=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":x=v.getElementsByTagName("title")[0],(!x||x[Qc]||x[Nr]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(m),v.head.insertBefore(x,v.querySelector("head > title"))),Cr(x,m,u),x[Nr]=i,mr(x),m=x;break e;case"link":var E=NO("link","href",v).get(m+(u.href||""));if(E){for(var P=0;P<E.length;P++)if(x=E[P],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){E.splice(P,1);break t}}x=v.createElement(m),Cr(x,m,u),v.head.appendChild(x);break;case"meta":if(E=NO("meta","content",v).get(m+(u.content||""))){for(P=0;P<E.length;P++)if(x=E[P],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){E.splice(P,1);break t}}x=v.createElement(m),Cr(x,m,u),v.head.appendChild(x);break;default:throw Error(n(468,m))}x[Nr]=i,mr(x),m=x}i.stateNode=m}else OO(v,i.type,i.stateNode);else i.stateNode=_O(v,m,i.memoizedProps);else x!==m?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,m===null?OO(v,i.type,i.stateNode):_O(v,m,i.memoizedProps)):m===null&&i.stateNode!==null&&tv(i,i.memoizedProps,u.memoizedProps)}break;case 27:Zr(o,i),Jr(i),m&512&&(Jt||u===null||pa(u,u.return)),u!==null&&m&4&&tv(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Zr(o,i),Jr(i),m&512&&(Jt||u===null||pa(u,u.return)),i.flags&32){v=i.stateNode;try{el(v,"")}catch(_e){ft(i,i.return,_e)}}m&4&&i.stateNode!=null&&(v=i.memoizedProps,tv(i,v,u!==null?u.memoizedProps:v)),m&1024&&(av=!0);break;case 6:if(Zr(o,i),Jr(i),m&4){if(i.stateNode===null)throw Error(n(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(_e){ft(i,i.return,_e)}}break;case 3:if(Sh=null,v=Zn,Zn=wh(o.containerInfo),Zr(o,i),Zn=v,Jr(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{kl(o.containerInfo)}catch(_e){ft(i,i.return,_e)}av&&(av=!1,ON(i));break;case 4:m=Zn,Zn=wh(i.stateNode.containerInfo),Zr(o,i),Jr(i),Zn=m;break;case 12:Zr(o,i),Jr(i);break;case 31:Zr(o,i),Jr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,oh(i,m)));break;case 13:Zr(o,i),Jr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ch=ut()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,oh(i,m)));break;case 22:v=i.memoizedState!==null;var $=u!==null&&u.memoizedState!==null,X=Fa,ue=Jt;if(Fa=X||v,Jt=ue||$,Zr(o,i),Jt=ue,Fa=X,Jr(i),m&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||$||Fa||Jt||Ws(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){$=u=o;try{if(x=$.stateNode,v)E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{P=$.stateNode;var he=$.memoizedProps.style,J=he!=null&&he.hasOwnProperty("display")?he.display:null;P.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(_e){ft($,$.return,_e)}}}else if(o.tag===6){if(u===null){$=o;try{$.stateNode.nodeValue=v?"":$.memoizedProps}catch(_e){ft($,$.return,_e)}}}else if(o.tag===18){if(u===null){$=o;try{var re=$.stateNode;v?pO(re,!0):pO($.stateNode,!1)}catch(_e){ft($,$.return,_e)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,oh(i,u))));break;case 19:Zr(o,i),Jr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,oh(i,m)));break;case 30:break;case 21:break;default:Zr(o,i),Jr(i)}}function Jr(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(yN(m)){u=m;break}m=m.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var v=u.stateNode,x=rv(i);sh(i,x,v);break;case 5:var E=u.stateNode;u.flags&32&&(el(E,""),u.flags&=-33);var P=rv(i);sh(i,P,E);break;case 3:case 4:var $=u.stateNode.containerInfo,X=rv(i);nv(i,X,$);break;default:throw Error(n(161))}}catch(ue){ft(i,i.return,ue)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function ON(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;ON(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Qa(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)xN(i,o.alternate,o),o=o.sibling}function Ws(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:qi(4,o,o.return),Ws(o);break;case 1:pa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&pN(o,o.return,u),Ws(o);break;case 27:Au(o.stateNode);case 26:case 5:pa(o,o.return),Ws(o);break;case 22:o.memoizedState===null&&Ws(o);break;case 30:Ws(o);break;default:Ws(o)}i=i.sibling}}function Va(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=i,x=o,E=x.flags;switch(x.tag){case 0:case 11:case 15:Va(v,x,u),vu(4,x);break;case 1:if(Va(v,x,u),m=x,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(X){ft(m,m.return,X)}if(m=x,v=m.updateQueue,v!==null){var P=m.stateNode;try{var $=v.shared.hiddenCallbacks;if($!==null)for(v.shared.hiddenCallbacks=null,v=0;v<$.length;v++)n_($[v],P)}catch(X){ft(m,m.return,X)}}u&&E&64&&mN(x),bu(x,x.return);break;case 27:vN(x);case 26:case 5:Va(v,x,u),u&&m===null&&E&4&&gN(x),bu(x,x.return);break;case 12:Va(v,x,u);break;case 31:Va(v,x,u),u&&E&4&&SN(v,x);break;case 13:Va(v,x,u),u&&E&4&&_N(v,x);break;case 22:x.memoizedState===null&&Va(v,x,u),bu(x,x.return);break;case 30:break;default:Va(v,x,u)}o=o.sibling}}function iv(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&iu(u))}function sv(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&iu(i))}function Jn(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)EN(i,o,u,m),o=o.sibling}function EN(i,o,u,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Jn(i,o,u,m),v&2048&&vu(9,o);break;case 1:Jn(i,o,u,m);break;case 3:Jn(i,o,u,m),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&iu(i)));break;case 12:if(v&2048){Jn(i,o,u,m),i=o.stateNode;try{var x=o.memoizedProps,E=x.id,P=x.onPostCommit;typeof P=="function"&&P(E,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch($){ft(o,o.return,$)}}else Jn(i,o,u,m);break;case 31:Jn(i,o,u,m);break;case 13:Jn(i,o,u,m);break;case 23:break;case 22:x=o.stateNode,E=o.alternate,o.memoizedState!==null?x._visibility&2?Jn(i,o,u,m):xu(i,o):x._visibility&2?Jn(i,o,u,m):(x._visibility|=2,xl(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),v&2048&&iv(E,o);break;case 24:Jn(i,o,u,m),v&2048&&sv(o.alternate,o);break;default:Jn(i,o,u,m)}}function xl(i,o,u,m,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=i,E=o,P=u,$=m,X=E.flags;switch(E.tag){case 0:case 11:case 15:xl(x,E,P,$,v),vu(8,E);break;case 23:break;case 22:var ue=E.stateNode;E.memoizedState!==null?ue._visibility&2?xl(x,E,P,$,v):xu(x,E):(ue._visibility|=2,xl(x,E,P,$,v)),v&&X&2048&&iv(E.alternate,E);break;case 24:xl(x,E,P,$,v),v&&X&2048&&sv(E.alternate,E);break;default:xl(x,E,P,$,v)}o=o.sibling}}function xu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,v=m.flags;switch(m.tag){case 22:xu(u,m),v&2048&&iv(m.alternate,m);break;case 24:xu(u,m),v&2048&&sv(m.alternate,m);break;default:xu(u,m)}o=o.sibling}}var wu=8192;function wl(i,o,u){if(i.subtreeFlags&wu)for(i=i.child;i!==null;)AN(i,o,u),i=i.sibling}function AN(i,o,u){switch(i.tag){case 26:wl(i,o,u),i.flags&wu&&i.memoizedState!==null&&M3(u,Zn,i.memoizedState,i.memoizedProps);break;case 5:wl(i,o,u);break;case 3:case 4:var m=Zn;Zn=wh(i.stateNode.containerInfo),wl(i,o,u),Zn=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=wu,wu=16777216,wl(i,o,u),wu=m):wl(i,o,u));break;default:wl(i,o,u)}}function CN(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function ju(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];pr=m,kN(m,i)}CN(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)PN(i),i=i.sibling}function PN(i){switch(i.tag){case 0:case 11:case 15:ju(i),i.flags&2048&&qi(9,i,i.return);break;case 3:ju(i);break;case 12:ju(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,lh(i)):ju(i);break;default:ju(i)}}function lh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];pr=m,kN(m,i)}CN(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:qi(8,o,o.return),lh(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,lh(o));break;default:lh(o)}i=i.sibling}}function kN(i,o){for(;pr!==null;){var u=pr;switch(u.tag){case 0:case 11:case 15:qi(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:iu(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,pr=m;else e:for(u=i;pr!==null;){m=pr;var v=m.sibling,x=m.return;if(wN(m),m===u){pr=null;break e}if(v!==null){v.return=x,pr=v;break e}pr=x}}}var YL={getCacheForType:function(i){var o=Er(Wt),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return Er(Wt).controller.signal}},WL=typeof WeakMap=="function"?WeakMap:Map,ot=0,xt=null,Qe=null,Ge=0,dt=0,yn=null,Ki=!1,jl=!1,ov=!1,Ga=0,$t=0,Fi=0,Xs=0,lv=0,vn=0,Sl=0,Su=null,en=null,cv=!1,ch=0,TN=0,uh=1/0,dh=null,Hi=null,or=0,Qi=null,_l=null,Ya=0,uv=0,dv=null,DN=null,_u=0,fv=null;function bn(){return(ot&2)!==0&&Ge!==0?Ge&-Ge:L.T!==null?vv():YS()}function MN(){if(vn===0)if((Ge&536870912)===0||We){var i=bf;bf<<=1,(bf&3932160)===0&&(bf=262144),vn=i}else vn=536870912;return i=pn.current,i!==null&&(i.flags|=32),vn}function tn(i,o,u){(i===xt&&(dt===2||dt===9)||i.cancelPendingCommit!==null)&&(Nl(i,0),Vi(i,Ge,vn,!1)),Hc(i,u),((ot&2)===0||i!==xt)&&(i===xt&&((ot&2)===0&&(Xs|=u),$t===4&&Vi(i,Ge,vn,!1)),ga(i))}function RN(i,o,u){if((ot&6)!==0)throw Error(n(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||Fc(i,o),v=m?JL(i,o):mv(i,o,!0),x=m;do{if(v===0){jl&&!m&&Vi(i,o,0,!1);break}else{if(u=i.current.alternate,x&&!XL(u)){v=mv(i,o,!1),x=!1;continue}if(v===2){if(x=o,i.errorRecoveryDisabledLanes&x)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var P=i;v=Su;var $=P.current.memoizedState.isDehydrated;if($&&(Nl(P,E).flags|=256),E=mv(P,E,!1),E!==2){if(ov&&!$){P.errorRecoveryDisabledLanes|=x,Xs|=x,v=4;break e}x=en,en=v,x!==null&&(en===null?en=x:en.push.apply(en,x))}v=E}if(x=!1,v!==2)continue}}if(v===1){Nl(i,0),Vi(i,o,0,!0);break}e:{switch(m=i,x=v,x){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Vi(m,o,vn,!Ki);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(v=ch+300-ut(),10<v)){if(Vi(m,o,vn,!Ki),wf(m,0,!0)!==0)break e;Ya=o,m.timeoutHandle=fO(IN.bind(null,m,u,en,dh,cv,o,vn,Xs,Sl,Ki,x,"Throttled",-0,0),v);break e}IN(m,u,en,dh,cv,o,vn,Xs,Sl,Ki,x,null,-0,0)}}break}while(!0);ga(i)}function IN(i,o,u,m,v,x,E,P,$,X,ue,he,J,re){if(i.timeoutHandle=-1,he=o.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ma},AN(o,x,he);var _e=(x&62914560)===x?ch-ut():(x&4194048)===x?TN-ut():0;if(_e=R3(he,_e),_e!==null){Ya=x,i.cancelPendingCommit=_e(FN.bind(null,i,o,x,u,m,v,E,P,$,ue,he,null,J,re)),Vi(i,x,E,!X);return}}FN(i,o,x,u,m,v,E,P,$)}function XL(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],x=v.getSnapshot;v=v.value;try{if(!hn(x(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vi(i,o,u,m){o&=~lv,o&=~Xs,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var v=o;0<v;){var x=31-fn(v),E=1<<x;m[x]=-1,v&=~E}u!==0&&QS(i,u,o)}function fh(){return(ot&6)===0?(Nu(0),!1):!0}function hv(){if(Qe!==null){if(dt===0)var i=Qe.return;else i=Qe,Ba=qs=null,Cy(i),pl=null,ou=0,i=Qe;for(;i!==null;)hN(i.alternate,i),i=i.return;Qe=null}}function Nl(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,y3(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ya=0,hv(),xt=i,Qe=u=Ia(i.current,null),Ge=o,dt=0,yn=null,Ki=!1,jl=Fc(i,o),ov=!1,Sl=vn=lv=Xs=Fi=$t=0,en=Su=null,cv=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var v=31-fn(m),x=1<<v;o|=i[v],m&=~x}return Ga=o,Df(),u}function LN(i,o){Ue=null,L.H=pu,o===ml||o===zf?(o=J1(),dt=3):o===yy?(o=J1(),dt=4):dt=o===Hy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,yn=o,Qe===null&&($t=1,th(i,Tn(o,i.current)))}function BN(){var i=pn.current;return i===null?!0:(Ge&4194048)===Ge?In===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?i===In:!1}function $N(){var i=L.H;return L.H=pu,i===null?pu:i}function UN(){var i=L.A;return L.A=YL,i}function hh(){$t=4,Ki||(Ge&4194048)!==Ge&&pn.current!==null||(jl=!0),(Fi&134217727)===0&&(Xs&134217727)===0||xt===null||Vi(xt,Ge,vn,!1)}function mv(i,o,u){var m=ot;ot|=2;var v=$N(),x=UN();(xt!==i||Ge!==o)&&(dh=null,Nl(i,o)),o=!1;var E=$t;e:do try{if(dt!==0&&Qe!==null){var P=Qe,$=yn;switch(dt){case 8:hv(),E=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(o=!0);var X=dt;if(dt=0,yn=null,Ol(i,P,$,X),u&&jl){E=0;break e}break;default:X=dt,dt=0,yn=null,Ol(i,P,$,X)}}ZL(),E=$t;break}catch(ue){LN(i,ue)}while(!0);return o&&i.shellSuspendCounter++,Ba=qs=null,ot=m,L.H=v,L.A=x,Qe===null&&(xt=null,Ge=0,Df()),E}function ZL(){for(;Qe!==null;)zN(Qe)}function JL(i,o){var u=ot;ot|=2;var m=$N(),v=UN();xt!==i||Ge!==o?(dh=null,uh=ut()+500,Nl(i,o)):jl=Fc(i,o);e:do try{if(dt!==0&&Qe!==null){o=Qe;var x=yn;t:switch(dt){case 1:dt=0,yn=null,Ol(i,o,x,1);break;case 2:case 9:if(X1(x)){dt=0,yn=null,qN(o);break}o=function(){dt!==2&&dt!==9||xt!==i||(dt=7),ga(i)},x.then(o,o);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:X1(x)?(dt=0,yn=null,qN(o)):(dt=0,yn=null,Ol(i,o,x,7));break;case 5:var E=null;switch(Qe.tag){case 26:E=Qe.memoizedState;case 5:case 27:var P=Qe;if(E?EO(E):P.stateNode.complete){dt=0,yn=null;var $=P.sibling;if($!==null)Qe=$;else{var X=P.return;X!==null?(Qe=X,mh(X)):Qe=null}break t}}dt=0,yn=null,Ol(i,o,x,5);break;case 6:dt=0,yn=null,Ol(i,o,x,6);break;case 8:hv(),$t=6;break e;default:throw Error(n(462))}}e3();break}catch(ue){LN(i,ue)}while(!0);return Ba=qs=null,L.H=m,L.A=v,ot=u,Qe!==null?0:(xt=null,Ge=0,Df(),$t)}function e3(){for(;Qe!==null&&!Gr();)zN(Qe)}function zN(i){var o=dN(i.alternate,i,Ga);i.memoizedProps=i.pendingProps,o===null?mh(i):Qe=o}function qN(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=iN(u,o,o.pendingProps,o.type,void 0,Ge);break;case 11:o=iN(u,o,o.pendingProps,o.type.render,o.ref,Ge);break;case 5:Cy(o);default:hN(u,o),o=Qe=U1(o,Ga),o=dN(u,o,Ga)}i.memoizedProps=i.pendingProps,o===null?mh(i):Qe=o}function Ol(i,o,u,m){Ba=qs=null,Cy(o),pl=null,ou=0;var v=o.return;try{if(qL(i,v,o,u,Ge)){$t=1,th(i,Tn(u,i.current)),Qe=null;return}}catch(x){if(v!==null)throw Qe=v,x;$t=1,th(i,Tn(u,i.current)),Qe=null;return}o.flags&32768?(We||m===1?i=!0:jl||(Ge&536870912)!==0?i=!1:(Ki=i=!0,(m===2||m===9||m===3||m===6)&&(m=pn.current,m!==null&&m.tag===13&&(m.flags|=16384))),KN(o,i)):mh(o)}function mh(i){var o=i;do{if((o.flags&32768)!==0){KN(o,Ki);return}i=o.return;var u=HL(o.alternate,o,Ga);if(u!==null){Qe=u;return}if(o=o.sibling,o!==null){Qe=o;return}Qe=o=i}while(o!==null);$t===0&&($t=5)}function KN(i,o){do{var u=QL(i.alternate,i);if(u!==null){u.flags&=32767,Qe=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){Qe=i;return}Qe=i=u}while(i!==null);$t=6,Qe=null}function FN(i,o,u,m,v,x,E,P,$){i.cancelPendingCommit=null;do ph();while(or!==0);if((ot&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(x=o.lanes|o.childLanes,x|=ry,D5(i,u,x,E,P,$),i===xt&&(Qe=xt=null,Ge=0),_l=o,Qi=i,Ya=u,uv=x,dv=v,DN=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,a3(Ds,function(){return YN(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=L.T,L.T=null,v=z.p,z.p=2,E=ot,ot|=4;try{VL(i,o,u)}finally{ot=E,z.p=v,L.T=m}}or=1,HN(),QN(),VN()}}function HN(){if(or===1){or=0;var i=Qi,o=_l,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=L.T,L.T=null;var m=z.p;z.p=2;var v=ot;ot|=4;try{NN(o,i);var x=Ov,E=k1(i.containerInfo),P=x.focusedElem,$=x.selectionRange;if(E!==P&&P&&P.ownerDocument&&P1(P.ownerDocument.documentElement,P)){if($!==null&&Xg(P)){var X=$.start,ue=$.end;if(ue===void 0&&(ue=X),"selectionStart"in P)P.selectionStart=X,P.selectionEnd=Math.min(ue,P.value.length);else{var he=P.ownerDocument||document,J=he&&he.defaultView||window;if(J.getSelection){var re=J.getSelection(),_e=P.textContent.length,De=Math.min($.start,_e),yt=$.end===void 0?De:Math.min($.end,_e);!re.extend&&De>yt&&(E=yt,yt=De,De=E);var H=C1(P,De),q=C1(P,yt);if(H&&q&&(re.rangeCount!==1||re.anchorNode!==H.node||re.anchorOffset!==H.offset||re.focusNode!==q.node||re.focusOffset!==q.offset)){var W=he.createRange();W.setStart(H.node,H.offset),re.removeAllRanges(),De>yt?(re.addRange(W),re.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),re.addRange(W))}}}}for(he=[],re=P;re=re.parentNode;)re.nodeType===1&&he.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<he.length;P++){var fe=he[P];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Eh=!!Nv,Ov=Nv=null}finally{ot=v,z.p=m,L.T=u}}i.current=o,or=2}}function QN(){if(or===2){or=0;var i=Qi,o=_l,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=L.T,L.T=null;var m=z.p;z.p=2;var v=ot;ot|=4;try{xN(i,o.alternate,o)}finally{ot=v,z.p=m,L.T=u}}or=3}}function VN(){if(or===4||or===3){or=0,sr();var i=Qi,o=_l,u=Ya,m=DN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?or=5:(or=0,_l=Qi=null,GN(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Hi=null),Tg(u),o=o.stateNode,dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Kc,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=L.T,v=z.p,z.p=2,L.T=null;try{for(var x=i.onRecoverableError,E=0;E<m.length;E++){var P=m[E];x(P.value,{componentStack:P.stack})}}finally{L.T=o,z.p=v}}(Ya&3)!==0&&ph(),ga(i),v=i.pendingLanes,(u&261930)!==0&&(v&42)!==0?i===fv?_u++:(_u=0,fv=i):_u=0,Nu(0)}}function GN(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,iu(o)))}function ph(){return HN(),QN(),VN(),YN()}function YN(){if(or!==5)return!1;var i=Qi,o=uv;uv=0;var u=Tg(Ya),m=L.T,v=z.p;try{z.p=32>u?32:u,L.T=null,u=dv,dv=null;var x=Qi,E=Ya;if(or=0,_l=Qi=null,Ya=0,(ot&6)!==0)throw Error(n(331));var P=ot;if(ot|=4,PN(x.current),EN(x,x.current,E,u),ot=P,Nu(0,!1),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Kc,x)}catch{}return!0}finally{z.p=v,L.T=m,GN(i,o)}}function WN(i,o,u){o=Tn(u,o),o=Fy(i.stateNode,o,2),i=$i(i,o,2),i!==null&&(Hc(i,2),ga(i))}function ft(i,o,u){if(i.tag===3)WN(i,i,u);else for(;o!==null;){if(o.tag===3){WN(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Hi===null||!Hi.has(m))){i=Tn(u,i),u=X_(2),m=$i(o,u,2),m!==null&&(Z_(u,m,o,i),Hc(m,2),ga(m));break}}o=o.return}}function pv(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new WL;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(u)||(ov=!0,v.add(u),i=t3.bind(null,i,o,u),o.then(i,i))}function t3(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,xt===i&&(Ge&u)===u&&($t===4||$t===3&&(Ge&62914560)===Ge&&300>ut()-ch?(ot&2)===0&&Nl(i,0):lv|=u,Sl===Ge&&(Sl=0)),ga(i)}function XN(i,o){o===0&&(o=HS()),i=$s(i,o),i!==null&&(Hc(i,o),ga(i))}function r3(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),XN(i,u)}function n3(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),XN(i,u)}function a3(i,o){return ce(i,o)}var gh=null,El=null,gv=!1,yh=!1,yv=!1,Gi=0;function ga(i){i!==El&&i.next===null&&(El===null?gh=El=i:El=El.next=i),yh=!0,gv||(gv=!0,s3())}function Nu(i,o){if(!yv&&yh){yv=!0;do for(var u=!1,m=gh;m!==null;){if(i!==0){var v=m.pendingLanes;if(v===0)var x=0;else{var E=m.suspendedLanes,P=m.pingedLanes;x=(1<<31-fn(42|i)+1)-1,x&=v&~(E&~P),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,tO(m,x))}else x=Ge,x=wf(m,m===xt?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||Fc(m,x)||(u=!0,tO(m,x));m=m.next}while(u);yv=!1}}function i3(){ZN()}function ZN(){yh=gv=!1;var i=0;Gi!==0&&g3()&&(i=Gi);for(var o=ut(),u=null,m=gh;m!==null;){var v=m.next,x=JN(m,o);x===0?(m.next=null,u===null?gh=v:u.next=v,v===null&&(El=u)):(u=m,(i!==0||(x&3)!==0)&&(yh=!0)),m=v}or!==0&&or!==5||Nu(i),Gi!==0&&(Gi=0)}function JN(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var E=31-fn(x),P=1<<E,$=v[E];$===-1?((P&u)===0||(P&m)!==0)&&(v[E]=T5(P,o)):$<=o&&(i.expiredLanes|=P),x&=~P}if(o=xt,u=Ge,u=wf(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(dt===2||dt===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Ct(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Fc(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&Ct(m),Tg(u)){case 2:case 8:u=qc;break;case 32:u=Ds;break;case 268435456:u=Vo;break;default:u=Ds}return m=eO.bind(null,i),u=ce(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&Ct(m),i.callbackPriority=2,i.callbackNode=null,2}function eO(i,o){if(or!==0&&or!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(ph()&&i.callbackNode!==u)return null;var m=Ge;return m=wf(i,i===xt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(RN(i,m,o),JN(i,ut()),i.callbackNode!=null&&i.callbackNode===u?eO.bind(null,i):null)}function tO(i,o){if(ph())return null;RN(i,o,!0)}function s3(){v3(function(){(ot&6)!==0?ce(zc,i3):ZN()})}function vv(){if(Gi===0){var i=fl;i===0&&(i=vf,vf<<=1,(vf&261888)===0&&(vf=256)),Gi=i}return Gi}function rO(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Nf(""+i)}function nO(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function o3(i,o,u,m,v){if(o==="submit"&&u&&u.stateNode===v){var x=rO((v[Yr]||null).action),E=m.submitter;E&&(o=(o=E[Yr]||null)?rO(o.formAction):E.getAttribute("formAction"),o!==null&&(x=o,E=null));var P=new Cf("action","action",null,m,v);i.push({event:P,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Gi!==0){var $=E?nO(v,E):new FormData(v);By(u,{pending:!0,data:$,method:v.method,action:x},null,$)}}else typeof x=="function"&&(P.preventDefault(),$=E?nO(v,E):new FormData(v),By(u,{pending:!0,data:$,method:v.method,action:x},x,$))},currentTarget:v}]})}}for(var bv=0;bv<ty.length;bv++){var xv=ty[bv],l3=xv.toLowerCase(),c3=xv[0].toUpperCase()+xv.slice(1);Xn(l3,"on"+c3)}Xn(M1,"onAnimationEnd"),Xn(R1,"onAnimationIteration"),Xn(I1,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(NL,"onTransitionRun"),Xn(OL,"onTransitionStart"),Xn(EL,"onTransitionCancel"),Xn(L1,"onTransitionEnd"),Zo("onMouseEnter",["mouseout","mouseover"]),Zo("onMouseLeave",["mouseout","mouseover"]),Zo("onPointerEnter",["pointerout","pointerover"]),Zo("onPointerLeave",["pointerout","pointerover"]),Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function aO(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],v=m.event;m=m.listeners;e:{var x=void 0;if(o)for(var E=m.length-1;0<=E;E--){var P=m[E],$=P.instance,X=P.currentTarget;if(P=P.listener,$!==x&&v.isPropagationStopped())break e;x=P,v.currentTarget=X;try{x(v)}catch(ue){Tf(ue)}v.currentTarget=null,x=$}else for(E=0;E<m.length;E++){if(P=m[E],$=P.instance,X=P.currentTarget,P=P.listener,$!==x&&v.isPropagationStopped())break e;x=P,v.currentTarget=X;try{x(v)}catch(ue){Tf(ue)}v.currentTarget=null,x=$}}}}function Ve(i,o){var u=o[Dg];u===void 0&&(u=o[Dg]=new Set);var m=i+"__bubble";u.has(m)||(iO(o,i,2,!1),u.add(m))}function wv(i,o,u){var m=0;o&&(m|=4),iO(u,i,m,o)}var vh="_reactListening"+Math.random().toString(36).slice(2);function jv(i){if(!i[vh]){i[vh]=!0,ZS.forEach(function(u){u!=="selectionchange"&&(u3.has(u)||wv(u,!1,i),wv(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[vh]||(o[vh]=!0,wv("selectionchange",!1,o))}}function iO(i,o,u,m){switch(MO(o)){case 2:var v=B3;break;case 8:v=$3;break;default:v=Lv}u=v.bind(null,o,u,i),v=void 0,!qg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function Sv(i,o,u,m,v){var x=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var E=m.tag;if(E===3||E===4){var P=m.stateNode.containerInfo;if(P===v)break;if(E===4)for(E=m.return;E!==null;){var $=E.tag;if(($===3||$===4)&&E.stateNode.containerInfo===v)return;E=E.return}for(;P!==null;){if(E=Yo(P),E===null)return;if($=E.tag,$===5||$===6||$===26||$===27){m=x=E;continue e}P=P.parentNode}}m=m.return}u1(function(){var X=x,ue=Ug(u),he=[];e:{var J=B1.get(i);if(J!==void 0){var re=Cf,_e=i;switch(i){case"keypress":if(Ef(u)===0)break e;case"keydown":case"keyup":re=nL;break;case"focusin":_e="focus",re=Qg;break;case"focusout":_e="blur",re=Qg;break;case"beforeblur":case"afterblur":re=Qg;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=h1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=H5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=sL;break;case M1:case R1:case I1:re=G5;break;case L1:re=lL;break;case"scroll":case"scrollend":re=K5;break;case"wheel":re=uL;break;case"copy":case"cut":case"paste":re=W5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=p1;break;case"toggle":case"beforetoggle":re=fL}var De=(o&4)!==0,yt=!De&&(i==="scroll"||i==="scrollend"),H=De?J!==null?J+"Capture":null:J;De=[];for(var q=X,W;q!==null;){var fe=q;if(W=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||W===null||H===null||(fe=Gc(q,H),fe!=null&&De.push(Eu(q,fe,W))),yt)break;q=q.return}0<De.length&&(J=new re(J,_e,null,u,ue),he.push({event:J,listeners:De}))}}if((o&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",J&&u!==$g&&(_e=u.relatedTarget||u.fromElement)&&(Yo(_e)||_e[Go]))break e;if((re||J)&&(J=ue.window===ue?ue:(J=ue.ownerDocument)?J.defaultView||J.parentWindow:window,re?(_e=u.relatedTarget||u.toElement,re=X,_e=_e?Yo(_e):null,_e!==null&&(yt=s(_e),De=_e.tag,_e!==yt||De!==5&&De!==27&&De!==6)&&(_e=null)):(re=null,_e=X),re!==_e)){if(De=h1,fe="onMouseLeave",H="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(De=p1,fe="onPointerLeave",H="onPointerEnter",q="pointer"),yt=re==null?J:Vc(re),W=_e==null?J:Vc(_e),J=new De(fe,q+"leave",re,u,ue),J.target=yt,J.relatedTarget=W,fe=null,Yo(ue)===X&&(De=new De(H,q+"enter",_e,u,ue),De.target=W,De.relatedTarget=yt,fe=De),yt=fe,re&&_e)t:{for(De=d3,H=re,q=_e,W=0,fe=H;fe;fe=De(fe))W++;fe=0;for(var Te=q;Te;Te=De(Te))fe++;for(;0<W-fe;)H=De(H),W--;for(;0<fe-W;)q=De(q),fe--;for(;W--;){if(H===q||q!==null&&H===q.alternate){De=H;break t}H=De(H),q=De(q)}De=null}else De=null;re!==null&&sO(he,J,re,De,!1),_e!==null&&yt!==null&&sO(he,yt,_e,De,!0)}}e:{if(J=X?Vc(X):window,re=J.nodeName&&J.nodeName.toLowerCase(),re==="select"||re==="input"&&J.type==="file")var tt=S1;else if(w1(J))if(_1)tt=jL;else{tt=xL;var Ce=bL}else re=J.nodeName,!re||re.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&Bg(X.elementType)&&(tt=S1):tt=wL;if(tt&&(tt=tt(i,X))){j1(he,tt,u,ue);break e}Ce&&Ce(i,J,X),i==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&Lg(J,"number",J.value)}switch(Ce=X?Vc(X):window,i){case"focusin":(w1(Ce)||Ce.contentEditable==="true")&&(al=Ce,Zg=X,ru=null);break;case"focusout":ru=Zg=al=null;break;case"mousedown":Jg=!0;break;case"contextmenu":case"mouseup":case"dragend":Jg=!1,T1(he,u,ue);break;case"selectionchange":if(_L)break;case"keydown":case"keyup":T1(he,u,ue)}var qe;if(Gg)e:{switch(i){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else nl?b1(i,u)&&(Ye="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ye="onCompositionStart");Ye&&(g1&&u.locale!=="ko"&&(nl||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&nl&&(qe=d1()):(Ti=ue,Kg="value"in Ti?Ti.value:Ti.textContent,nl=!0)),Ce=bh(X,Ye),0<Ce.length&&(Ye=new m1(Ye,i,null,u,ue),he.push({event:Ye,listeners:Ce}),qe?Ye.data=qe:(qe=x1(u),qe!==null&&(Ye.data=qe)))),(qe=mL?pL(i,u):gL(i,u))&&(Ye=bh(X,"onBeforeInput"),0<Ye.length&&(Ce=new m1("onBeforeInput","beforeinput",null,u,ue),he.push({event:Ce,listeners:Ye}),Ce.data=qe)),o3(he,i,X,u,ue)}aO(he,o)})}function Eu(i,o,u){return{instance:i,listener:o,currentTarget:u}}function bh(i,o){for(var u=o+"Capture",m=[];i!==null;){var v=i,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Gc(i,u),v!=null&&m.unshift(Eu(i,v,x)),v=Gc(i,o),v!=null&&m.push(Eu(i,v,x))),i.tag===3)return m;i=i.return}return[]}function d3(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function sO(i,o,u,m,v){for(var x=o._reactName,E=[];u!==null&&u!==m;){var P=u,$=P.alternate,X=P.stateNode;if(P=P.tag,$!==null&&$===m)break;P!==5&&P!==26&&P!==27||X===null||($=X,v?(X=Gc(u,x),X!=null&&E.unshift(Eu(u,X,$))):v||(X=Gc(u,x),X!=null&&E.push(Eu(u,X,$)))),u=u.return}E.length!==0&&i.push({event:o,listeners:E})}var f3=/\r\n?/g,h3=/\u0000|\uFFFD/g;function oO(i){return(typeof i=="string"?i:""+i).replace(f3,`
`).replace(h3,"")}function lO(i,o){return o=oO(o),oO(i)===o}function gt(i,o,u,m,v,x){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||el(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&el(i,""+m);break;case"className":Sf(i,"class",m);break;case"tabIndex":Sf(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Sf(i,u,m);break;case"style":l1(i,m,x);break;case"data":if(o!=="object"){Sf(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Nf(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(o!=="input"&&gt(i,o,"name",v.name,v,null),gt(i,o,"formEncType",v.formEncType,v,null),gt(i,o,"formMethod",v.formMethod,v,null),gt(i,o,"formTarget",v.formTarget,v,null)):(gt(i,o,"encType",v.encType,v,null),gt(i,o,"method",v.method,v,null),gt(i,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Nf(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=Ma);break;case"onScroll":m!=null&&Ve("scroll",i);break;case"onScrollEnd":m!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Nf(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),jf(i,"popover",m);break;case"xlinkActuate":Da(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Da(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Da(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Da(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Da(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Da(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Da(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Da(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Da(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":jf(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=z5.get(u)||u,jf(i,u,m))}}function _v(i,o,u,m,v,x){switch(u){case"style":l1(i,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof m=="string"?el(i,m):(typeof m=="number"||typeof m=="bigint")&&el(i,""+m);break;case"onScroll":m!=null&&Ve("scroll",i);break;case"onScrollEnd":m!=null&&Ve("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!JS.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),x=i[Yr]||null,x=x!=null?x[u]:null,typeof x=="function"&&i.removeEventListener(o,x,v),typeof m=="function")){typeof x!="function"&&x!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,v);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):jf(i,u,m)}}}function Cr(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var m=!1,v=!1,x;for(x in u)if(u.hasOwnProperty(x)){var E=u[x];if(E!=null)switch(x){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:gt(i,o,x,E,u,null)}}v&&gt(i,o,"srcSet",u.srcSet,u,null),m&&gt(i,o,"src",u.src,u,null);return;case"input":Ve("invalid",i);var P=x=E=v=null,$=null,X=null;for(m in u)if(u.hasOwnProperty(m)){var ue=u[m];if(ue!=null)switch(m){case"name":v=ue;break;case"type":E=ue;break;case"checked":$=ue;break;case"defaultChecked":X=ue;break;case"value":x=ue;break;case"defaultValue":P=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(137,o));break;default:gt(i,o,m,ue,u,null)}}a1(i,x,P,$,X,E,v,!1);return;case"select":Ve("invalid",i),m=E=x=null;for(v in u)if(u.hasOwnProperty(v)&&(P=u[v],P!=null))switch(v){case"value":x=P;break;case"defaultValue":E=P;break;case"multiple":m=P;default:gt(i,o,v,P,u,null)}o=x,u=E,i.multiple=!!m,o!=null?Jo(i,!!m,o,!1):u!=null&&Jo(i,!!m,u,!0);return;case"textarea":Ve("invalid",i),x=v=m=null;for(E in u)if(u.hasOwnProperty(E)&&(P=u[E],P!=null))switch(E){case"value":m=P;break;case"defaultValue":v=P;break;case"children":x=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(91));break;default:gt(i,o,E,P,u,null)}s1(i,m,v,x);return;case"option":for($ in u)if(u.hasOwnProperty($)&&(m=u[$],m!=null))switch($){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:gt(i,o,$,m,u,null)}return;case"dialog":Ve("beforetoggle",i),Ve("toggle",i),Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(m=0;m<Ou.length;m++)Ve(Ou[m],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(m=u[X],m!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:gt(i,o,X,m,u,null)}return;default:if(Bg(o)){for(ue in u)u.hasOwnProperty(ue)&&(m=u[ue],m!==void 0&&_v(i,o,ue,m,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(m=u[P],m!=null&&gt(i,o,P,m,u,null))}function m3(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,E=null,P=null,$=null,X=null,ue=null;for(re in u){var he=u[re];if(u.hasOwnProperty(re)&&he!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":$=he;default:m.hasOwnProperty(re)||gt(i,o,re,null,m,he)}}for(var J in m){var re=m[J];if(he=u[J],m.hasOwnProperty(J)&&(re!=null||he!=null))switch(J){case"type":x=re;break;case"name":v=re;break;case"checked":X=re;break;case"defaultChecked":ue=re;break;case"value":E=re;break;case"defaultValue":P=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,o));break;default:re!==he&&gt(i,o,J,re,m,he)}}Ig(i,E,P,$,X,ue,x,v);return;case"select":re=E=P=J=null;for(x in u)if($=u[x],u.hasOwnProperty(x)&&$!=null)switch(x){case"value":break;case"multiple":re=$;default:m.hasOwnProperty(x)||gt(i,o,x,null,m,$)}for(v in m)if(x=m[v],$=u[v],m.hasOwnProperty(v)&&(x!=null||$!=null))switch(v){case"value":J=x;break;case"defaultValue":P=x;break;case"multiple":E=x;default:x!==$&&gt(i,o,v,x,m,$)}o=P,u=E,m=re,J!=null?Jo(i,!!u,J,!1):!!m!=!!u&&(o!=null?Jo(i,!!u,o,!0):Jo(i,!!u,u?[]:"",!1));return;case"textarea":re=J=null;for(P in u)if(v=u[P],u.hasOwnProperty(P)&&v!=null&&!m.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:gt(i,o,P,null,m,v)}for(E in m)if(v=m[E],x=u[E],m.hasOwnProperty(E)&&(v!=null||x!=null))switch(E){case"value":J=v;break;case"defaultValue":re=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==x&&gt(i,o,E,v,m,x)}i1(i,J,re);return;case"option":for(var _e in u)if(J=u[_e],u.hasOwnProperty(_e)&&J!=null&&!m.hasOwnProperty(_e))switch(_e){case"selected":i.selected=!1;break;default:gt(i,o,_e,null,m,J)}for($ in m)if(J=m[$],re=u[$],m.hasOwnProperty($)&&J!==re&&(J!=null||re!=null))switch($){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:gt(i,o,$,J,m,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in u)J=u[De],u.hasOwnProperty(De)&&J!=null&&!m.hasOwnProperty(De)&&gt(i,o,De,null,m,J);for(X in m)if(J=m[X],re=u[X],m.hasOwnProperty(X)&&J!==re&&(J!=null||re!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,o));break;default:gt(i,o,X,J,m,re)}return;default:if(Bg(o)){for(var yt in u)J=u[yt],u.hasOwnProperty(yt)&&J!==void 0&&!m.hasOwnProperty(yt)&&_v(i,o,yt,void 0,m,J);for(ue in m)J=m[ue],re=u[ue],!m.hasOwnProperty(ue)||J===re||J===void 0&&re===void 0||_v(i,o,ue,J,m,re);return}}for(var H in u)J=u[H],u.hasOwnProperty(H)&&J!=null&&!m.hasOwnProperty(H)&&gt(i,o,H,null,m,J);for(he in m)J=m[he],re=u[he],!m.hasOwnProperty(he)||J===re||J==null&&re==null||gt(i,o,he,J,m,re)}function cO(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var v=u[m],x=v.transferSize,E=v.initiatorType,P=v.duration;if(x&&P&&cO(E)){for(E=0,P=v.responseEnd,m+=1;m<u.length;m++){var $=u[m],X=$.startTime;if(X>P)break;var ue=$.transferSize,he=$.initiatorType;ue&&cO(he)&&($=$.responseEnd,E+=ue*($<P?1:(P-X)/($-X)))}if(--m,o+=8*(x+E)/(v.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Nv=null,Ov=null;function xh(i){return i.nodeType===9?i:i.ownerDocument}function uO(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dO(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Ev(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Av=null;function g3(){var i=window.event;return i&&i.type==="popstate"?i===Av?!1:(Av=i,!0):(Av=null,!1)}var fO=typeof setTimeout=="function"?setTimeout:void 0,y3=typeof clearTimeout=="function"?clearTimeout:void 0,hO=typeof Promise=="function"?Promise:void 0,v3=typeof queueMicrotask=="function"?queueMicrotask:typeof hO<"u"?function(i){return hO.resolve(null).then(i).catch(b3)}:fO;function b3(i){setTimeout(function(){throw i})}function Yi(i){return i==="head"}function mO(i,o){var u=o,m=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(v),kl(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")Au(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Au(u);for(var x=u.firstChild;x;){var E=x.nextSibling,P=x.nodeName;x[Qc]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=E}}else u==="body"&&Au(i.ownerDocument.body);u=v}while(u);kl(o)}function pO(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Cv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Cv(u),Mg(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function x3(i,o,u,m){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[Qc])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=Ln(i.nextSibling),i===null)break}return null}function w3(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Ln(i.nextSibling),i===null))return null;return i}function gO(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ln(i.nextSibling),i===null))return null;return i}function Pv(i){return i.data==="$?"||i.data==="$~"}function kv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function j3(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Ln(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Tv=null;function yO(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return Ln(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function vO(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function bO(i,o,u){switch(o=xh(u),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Au(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Mg(i)}var Bn=new Map,xO=new Set;function wh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Wa=z.d;z.d={f:S3,r:_3,D:N3,C:O3,L:E3,m:A3,X:P3,S:C3,M:k3};function S3(){var i=Wa.f(),o=fh();return i||o}function _3(i){var o=Wo(i);o!==null&&o.tag===5&&o.type==="form"?L_(o):Wa.r(i)}var Al=typeof document>"u"?null:document;function wO(i,o,u){var m=Al;if(m&&typeof o=="string"&&o){var v=Pn(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),xO.has(v)||(xO.add(v),i={rel:i,crossOrigin:u,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),Cr(o,"link",i),mr(o),m.head.appendChild(o)))}}function N3(i){Wa.D(i),wO("dns-prefetch",i,null)}function O3(i,o){Wa.C(i,o),wO("preconnect",i,o)}function E3(i,o,u){Wa.L(i,o,u);var m=Al;if(m&&i&&o){var v='link[rel="preload"][as="'+Pn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Pn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Pn(u.imageSizes)+'"]')):v+='[href="'+Pn(i)+'"]';var x=v;switch(o){case"style":x=Cl(i);break;case"script":x=Pl(i)}Bn.has(x)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),Bn.set(x,i),m.querySelector(v)!==null||o==="style"&&m.querySelector(Cu(x))||o==="script"&&m.querySelector(Pu(x))||(o=m.createElement("link"),Cr(o,"link",i),mr(o),m.head.appendChild(o)))}}function A3(i,o){Wa.m(i,o);var u=Al;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Pn(m)+'"][href="'+Pn(i)+'"]',x=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Pl(i)}if(!Bn.has(x)&&(i=g({rel:"modulepreload",href:i},o),Bn.set(x,i),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Pu(x)))return}m=u.createElement("link"),Cr(m,"link",i),mr(m),u.head.appendChild(m)}}}function C3(i,o,u){Wa.S(i,o,u);var m=Al;if(m&&i){var v=Xo(m).hoistableStyles,x=Cl(i);o=o||"default";var E=v.get(x);if(!E){var P={loading:0,preload:null};if(E=m.querySelector(Cu(x)))P.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=Bn.get(x))&&Dv(i,u);var $=E=m.createElement("link");mr($),Cr($,"link",i),$._p=new Promise(function(X,ue){$.onload=X,$.onerror=ue}),$.addEventListener("load",function(){P.loading|=1}),$.addEventListener("error",function(){P.loading|=2}),P.loading|=4,jh(E,o,m)}E={type:"stylesheet",instance:E,count:1,state:P},v.set(x,E)}}}function P3(i,o){Wa.X(i,o);var u=Al;if(u&&i){var m=Xo(u).hoistableScripts,v=Pl(i),x=m.get(v);x||(x=u.querySelector(Pu(v)),x||(i=g({src:i,async:!0},o),(o=Bn.get(v))&&Mv(i,o),x=u.createElement("script"),mr(x),Cr(x,"link",i),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(v,x))}}function k3(i,o){Wa.M(i,o);var u=Al;if(u&&i){var m=Xo(u).hoistableScripts,v=Pl(i),x=m.get(v);x||(x=u.querySelector(Pu(v)),x||(i=g({src:i,async:!0,type:"module"},o),(o=Bn.get(v))&&Mv(i,o),x=u.createElement("script"),mr(x),Cr(x,"link",i),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(v,x))}}function jO(i,o,u,m){var v=(v=Oe.current)?wh(v):null;if(!v)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Cl(u.href),u=Xo(v).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Cl(u.href);var x=Xo(v).hoistableStyles,E=x.get(i);if(E||(v=v.ownerDocument||v,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,E),(x=v.querySelector(Cu(i)))&&!x._p&&(E.instance=x,E.state.loading=5),Bn.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Bn.set(i,u),x||T3(v,i,u,E.state))),o&&m===null)throw Error(n(528,""));return E}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Pl(u),u=Xo(v).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Cl(i){return'href="'+Pn(i)+'"'}function Cu(i){return'link[rel="stylesheet"]['+i+"]"}function SO(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function T3(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Cr(o,"link",u),mr(o),i.head.appendChild(o))}function Pl(i){return'[src="'+Pn(i)+'"]'}function Pu(i){return"script[async]"+i}function _O(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Pn(u.href)+'"]');if(m)return o.instance=m,mr(m),m;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),mr(m),Cr(m,"style",v),jh(m,u.precedence,i),o.instance=m;case"stylesheet":v=Cl(u.href);var x=i.querySelector(Cu(v));if(x)return o.state.loading|=4,o.instance=x,mr(x),x;m=SO(u),(v=Bn.get(v))&&Dv(m,v),x=(i.ownerDocument||i).createElement("link"),mr(x);var E=x;return E._p=new Promise(function(P,$){E.onload=P,E.onerror=$}),Cr(x,"link",m),o.state.loading|=4,jh(x,u.precedence,i),o.instance=x;case"script":return x=Pl(u.src),(v=i.querySelector(Pu(x)))?(o.instance=v,mr(v),v):(m=u,(v=Bn.get(x))&&(m=g({},u),Mv(m,v)),i=i.ownerDocument||i,v=i.createElement("script"),mr(v),Cr(v,"link",m),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,jh(m,u.precedence,i));return o.instance}function jh(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,x=v,E=0;E<m.length;E++){var P=m[E];if(P.dataset.precedence===o)x=P;else if(x!==v)break}x?x.parentNode.insertBefore(i,x.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Dv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Mv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Sh=null;function NO(i,o,u){if(Sh===null){var m=new Map,v=Sh=new Map;v.set(u,m)}else v=Sh,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var x=u[v];if(!(x[Qc]||x[Nr]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var E=x.getAttribute(o)||"";E=i+E;var P=m.get(E);P?P.push(x):m.set(E,[x])}}return m}function OO(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function D3(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function EO(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function M3(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Cl(m.href),x=o.querySelector(Cu(v));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=_h.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=x,mr(x);return}x=o.ownerDocument||o,m=SO(m),(v=Bn.get(v))&&Dv(m,v),x=x.createElement("link"),mr(x);var E=x;E._p=new Promise(function(P,$){E.onload=P,E.onerror=$}),Cr(x,"link",m),u.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=_h.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Rv=0;function R3(i,o){return i.stylesheets&&i.count===0&&Oh(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&Oh(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+o);0<i.imgBytes&&Rv===0&&(Rv=62500*p3());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Oh(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>Rv?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function _h(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Nh=null;function Oh(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Nh=new Map,o.forEach(I3,i),Nh=null,_h.call(i))}function I3(i,o){if(!(o.state.loading&4)){var u=Nh.get(i);if(u)var m=u.get(null);else{u=new Map,Nh.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var E=v[x];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(u.set(E.dataset.precedence,E),m=E)}m&&u.set(null,m)}v=o.instance,E=v.getAttribute("data-precedence"),x=u.get(E)||m,x===m&&u.set(null,v),u.set(E,v),this.count++,m=_h.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),x?x.parentNode.insertBefore(v,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var ku={$$typeof:A,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function L3(i,o,u,m,v,x,E,P,$){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pg(0),this.hiddenUpdates=Pg(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function AO(i,o,u,m,v,x,E,P,$,X,ue,he){return i=new L3(i,o,u,E,$,X,ue,he,P),o=1,x===!0&&(o|=24),x=mn(3,null,null,o),i.current=x,x.stateNode=i,o=my(),o.refCount++,i.pooledCache=o,o.refCount++,x.memoizedState={element:m,isDehydrated:u,cache:o},vy(x),i}function CO(i){return i?(i=ol,i):ol}function PO(i,o,u,m,v,x){v=CO(v),m.context===null?m.context=v:m.pendingContext=v,m=Bi(o),m.payload={element:u},x=x===void 0?null:x,x!==null&&(m.callback=x),u=$i(i,m,o),u!==null&&(tn(u,i,o),cu(u,i,o))}function kO(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Iv(i,o){kO(i,o),(i=i.alternate)&&kO(i,o)}function TO(i){if(i.tag===13||i.tag===31){var o=$s(i,67108864);o!==null&&tn(o,i,67108864),Iv(i,67108864)}}function DO(i){if(i.tag===13||i.tag===31){var o=bn();o=kg(o);var u=$s(i,o);u!==null&&tn(u,i,o),Iv(i,o)}}var Eh=!0;function B3(i,o,u,m){var v=L.T;L.T=null;var x=z.p;try{z.p=2,Lv(i,o,u,m)}finally{z.p=x,L.T=v}}function $3(i,o,u,m){var v=L.T;L.T=null;var x=z.p;try{z.p=8,Lv(i,o,u,m)}finally{z.p=x,L.T=v}}function Lv(i,o,u,m){if(Eh){var v=Bv(m);if(v===null)Sv(i,o,m,Ah,u),RO(i,m);else if(z3(v,i,o,u,m))m.stopPropagation();else if(RO(i,m),o&4&&-1<U3.indexOf(i)){for(;v!==null;){var x=Wo(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var E=Ms(x.pendingLanes);if(E!==0){var P=x;for(P.pendingLanes|=2,P.entangledLanes|=2;E;){var $=1<<31-fn(E);P.entanglements[1]|=$,E&=~$}ga(x),(ot&6)===0&&(uh=ut()+500,Nu(0))}}break;case 31:case 13:P=$s(x,2),P!==null&&tn(P,x,2),fh(),Iv(x,2)}if(x=Bv(m),x===null&&Sv(i,o,m,Ah,u),x===v)break;v=x}v!==null&&m.stopPropagation()}else Sv(i,o,m,null,u)}}function Bv(i){return i=Ug(i),$v(i)}var Ah=null;function $v(i){if(Ah=null,i=Yo(i),i!==null){var o=s(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=l(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ah=i,null}function MO(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uc()){case zc:return 2;case qc:return 8;case Ds:case yf:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var Uv=!1,Wi=null,Xi=null,Zi=null,Tu=new Map,Du=new Map,Ji=[],U3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RO(i,o){switch(i){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Tu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(o.pointerId)}}function Mu(i,o,u,m,v,x){return i===null||i.nativeEvent!==x?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:x,targetContainers:[v]},o!==null&&(o=Wo(o),o!==null&&TO(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function z3(i,o,u,m,v){switch(o){case"focusin":return Wi=Mu(Wi,i,o,u,m,v),!0;case"dragenter":return Xi=Mu(Xi,i,o,u,m,v),!0;case"mouseover":return Zi=Mu(Zi,i,o,u,m,v),!0;case"pointerover":var x=v.pointerId;return Tu.set(x,Mu(Tu.get(x)||null,i,o,u,m,v)),!0;case"gotpointercapture":return x=v.pointerId,Du.set(x,Mu(Du.get(x)||null,i,o,u,m,v)),!0}return!1}function IO(i){var o=Yo(i.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){i.blockedOn=o,WS(i.priority,function(){DO(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,WS(i.priority,function(){DO(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ch(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Bv(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);$g=m,u.target.dispatchEvent(m),$g=null}else return o=Wo(u),o!==null&&TO(o),i.blockedOn=u,!1;o.shift()}return!0}function LO(i,o,u){Ch(i)&&u.delete(o)}function q3(){Uv=!1,Wi!==null&&Ch(Wi)&&(Wi=null),Xi!==null&&Ch(Xi)&&(Xi=null),Zi!==null&&Ch(Zi)&&(Zi=null),Tu.forEach(LO),Du.forEach(LO)}function Ph(i,o){i.blockedOn===o&&(i.blockedOn=null,Uv||(Uv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,q3)))}var kh=null;function BO(i){kh!==i&&(kh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){kh===i&&(kh=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],v=i[o+2];if(typeof m!="function"){if($v(m||u)===null)continue;break}var x=Wo(u);x!==null&&(i.splice(o,3),o-=3,By(x,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function kl(i){function o($){return Ph($,i)}Wi!==null&&Ph(Wi,i),Xi!==null&&Ph(Xi,i),Zi!==null&&Ph(Zi,i),Tu.forEach(o),Du.forEach(o);for(var u=0;u<Ji.length;u++){var m=Ji[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Ji.length&&(u=Ji[0],u.blockedOn===null);)IO(u),u.blockedOn===null&&Ji.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],x=u[m+1],E=v[Yr]||null;if(typeof x=="function")E||BO(u);else if(E){var P=null;if(x&&x.hasAttribute("formAction")){if(v=x,E=x[Yr]||null)P=E.formAction;else if($v(v)!==null)continue}else P=E.action;typeof P=="function"?u[m+1]=P:(u.splice(m,3),m-=3),BO(u)}}}function $O(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(E){return v=E})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function zv(i){this._internalRoot=i}Th.prototype.render=zv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,m=bn();PO(u,m,i,o,null,null)},Th.prototype.unmount=zv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;PO(i.current,2,null,i,null,null),fh(),o[Go]=null}};function Th(i){this._internalRoot=i}Th.prototype.unstable_scheduleHydration=function(i){if(i){var o=YS();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ji.length&&o!==0&&o<Ji[u].priority;u++);Ji.splice(u,0,i),u===0&&IO(i)}};var UO=t.version;if(UO!=="19.2.4")throw Error(n(527,UO,"19.2.4"));z.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var K3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{Kc=Dh.inject(K3),dn=Dh}catch{}}return Iu.createRoot=function(i,o){if(!a(i))throw Error(n(299));var u=!1,m="",v=V_,x=G_,E=Y_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=AO(i,1,!1,null,null,u,m,null,v,x,E,$O),i[Go]=o.current,jv(i),new zv(o)},Iu.hydrateRoot=function(i,o,u){if(!a(i))throw Error(n(299));var m=!1,v="",x=V_,E=G_,P=Y_,$=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.formState!==void 0&&($=u.formState)),o=AO(i,1,!0,o,u??null,m,v,$,x,E,P,$O),o.context=CO(null),u=o.current,m=bn(),m=kg(m),v=Bi(m),v.callback=null,$i(u,v,m),u=m,o.current.lanes=u,Hc(o,u),ga(o),i[Go]=o.current,jv(i),new Th(o)},Iu.version="19.2.4",Iu}var XO;function rB(){if(XO)return Qv.exports;XO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qv.exports=tB(),Qv.exports}var nB=rB();const aB=Ta(nB);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZO="popstate";function iB(e={}){function t(a,s){let{pathname:l="/",search:d="",hash:f=""}=Bo(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Kb("",{pathname:l,search:d,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let l=a.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof s=="string"?s:ad(s))}function n(a,s){Qn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return oB(t,r,n,e)}function Mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sB(){return Math.random().toString(36).substring(2,10)}function JO(e,t){return{usr:e.state,key:e.key,idx:t}}function Kb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Bo(t):t,state:r,key:t&&t.key||n||sB()}}function ad({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function oB(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,l=a.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let _=p(),N=_==null?null:_-h;h=_,f&&f({action:d,location:S.location,delta:N})}function y(_,N){d="PUSH";let O=Kb(S.location,_,N);r&&r(O,_),h=p()+1;let A=JO(O,h),C=S.createHref(O);try{l.pushState(A,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(C)}s&&f&&f({action:d,location:S.location,delta:1})}function b(_,N){d="REPLACE";let O=Kb(S.location,_,N);r&&r(O,_),h=p();let A=JO(O,h),C=S.createHref(O);l.replaceState(A,"",C),s&&f&&f({action:d,location:S.location,delta:0})}function w(_){return lB(_)}let S={get action(){return d},get location(){return e(a,l)},listen(_){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(ZO,g),f=_,()=>{a.removeEventListener(ZO,g),f=null}},createHref(_){return t(a,_)},createURL:w,encodeLocation(_){let N=w(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:b,go(_){return l.go(_)}};return S}function lB(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ad(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function lT(e,t,r="/"){return cB(e,t,r,!1)}function cB(e,t,r,n){let a=typeof t=="string"?Bo(t):t,s=di(a.pathname||"/",r);if(s==null)return null;let l=cT(e);uB(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=wB(s);d=bB(l[f],h,n)}return d}function cT(e,t=[],r=[],n="",a=!1){let s=(l,d,f=a,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&f)return;Mt(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=oi([n,p.relativePath]),y=r.concat(p);l.children&&l.children.length>0&&(Mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),cT(l.children,t,y,g,f)),!(l.path==null&&!l.index)&&t.push({path:g,score:yB(g,l.index),routesMeta:y})};return e.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,d);else for(let h of uT(l.path))s(l,d,!0,h)}),t}function uT(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let l=uT(n.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),a&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function uB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:vB(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var dB=/^:[\w-]+$/,fB=3,hB=2,mB=1,pB=10,gB=-2,eE=e=>e==="*";function yB(e,t){let r=e.split("/"),n=r.length;return r.some(eE)&&(n+=gB),t&&(n+=hB),r.filter(a=>!eE(a)).reduce((a,s)=>a+(dB.test(s)?fB:s===""?mB:pB),n)}function vB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function bB(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",l=[];for(let d=0;d<n.length;++d){let f=n[d],h=d===n.length-1,p=s==="/"?t:t.slice(s.length)||"/",g=gm({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=gm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:oi([s,g.pathname]),pathnameBase:NB(oi([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=oi([s,g.pathnameBase]))}return l}function gm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=xB(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let w=d[y]||"";l=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[y];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:e}}function xB(e,t=!1,r=!0){Qn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(n.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function wB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function di(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var jB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function SB(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Bo(e):e,s;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?s=tE(r.substring(1),"/"):s=tE(r,t)):s=t,{pathname:s,search:OB(n),hash:EB(a)}}function tE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Wv(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _B(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vw(e){let t=_B(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function bw(e,t,r,n=!1){let a;typeof e=="string"?a=Bo(e):(a={...e},Mt(!a.pathname||!a.pathname.includes("?"),Wv("?","pathname","search",a)),Mt(!a.pathname||!a.pathname.includes("#"),Wv("#","pathname","hash",a)),Mt(!a.search||!a.search.includes("#"),Wv("#","search","hash",a)));let s=e===""||a.pathname==="",l=s?"/":a.pathname,d;if(l==null)d=r;else{let g=t.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}d=g>=0?t[g]:"/"}let f=SB(a,d),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var oi=e=>e.join("/").replace(/\/\/+/g,"/"),NB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),OB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,EB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,AB=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function CB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function PB(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var dT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fT(e,t){let r=e;if(typeof r!="string"||!jB.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(dT)try{let s=new URL(window.location.href),l=r.startsWith("//")?new URL(s.protocol+r):new URL(r),d=di(l.pathname,t);l.origin===s.origin&&d!=null?r=d+l.search+l.hash:a=!0}catch{Qn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hT=["POST","PUT","PATCH","DELETE"];new Set(hT);var kB=["GET",...hT];new Set(kB);var xc=j.createContext(null);xc.displayName="DataRouter";var yp=j.createContext(null);yp.displayName="DataRouterState";var TB=j.createContext(!1),mT=j.createContext({isTransitioning:!1});mT.displayName="ViewTransition";var DB=j.createContext(new Map);DB.displayName="Fetchers";var MB=j.createContext(null);MB.displayName="Await";var En=j.createContext(null);En.displayName="Navigation";var $d=j.createContext(null);$d.displayName="Location";var da=j.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var xw=j.createContext(null);xw.displayName="RouteError";var pT="REACT_ROUTER_ERROR",RB="REDIRECT",IB="ROUTE_ERROR_RESPONSE";function LB(e){if(e.startsWith(`${pT}:${RB}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function BB(e){if(e.startsWith(`${pT}:${IB}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new AB(t.status,t.statusText,t.data)}catch{}}function $B(e,{relative:t}={}){Mt(wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext(En),{hash:a,pathname:s,search:l}=Ud(e,{relative:t}),d=s;return r!=="/"&&(d=s==="/"?r:oi([r,s])),n.createHref({pathname:d,search:l,hash:a})}function wc(){return j.useContext($d)!=null}function bi(){return Mt(wc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext($d).location}var gT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yT(e){j.useContext(En).static||j.useLayoutEffect(e)}function mt(){let{isDataRoute:e}=j.useContext(da);return e?ZB():UB()}function UB(){Mt(wc(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(xc),{basename:t,navigator:r}=j.useContext(En),{matches:n}=j.useContext(da),{pathname:a}=bi(),s=JSON.stringify(vw(n)),l=j.useRef(!1);return yT(()=>{l.current=!0}),j.useCallback((f,h={})=>{if(Qn(l.current,gT),!l.current)return;if(typeof f=="number"){r.go(f);return}let p=bw(f,JSON.parse(s),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:oi([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,s,a,e])}j.createContext(null);function An(){let{matches:e}=j.useContext(da),t=e[e.length-1];return t?t.params:{}}function Ud(e,{relative:t}={}){let{matches:r}=j.useContext(da),{pathname:n}=bi(),a=JSON.stringify(vw(r));return j.useMemo(()=>bw(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function zB(e,t){return vT(e,t)}function vT(e,t,r,n,a){var O;Mt(wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(En),{matches:l}=j.useContext(da),d=l[l.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let A=g&&g.path||"";xT(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=bi(),b;if(t){let A=typeof t=="string"?Bo(t):t;Mt(p==="/"||((O=A.pathname)==null?void 0:O.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=y;let w=b.pathname||"/",S=w;if(p!=="/"){let A=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=lT(e,{pathname:S});Qn(g||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Qn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=QB(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:oi([p,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:oi([p,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),l,r,n,a);return t&&N?j.createElement($d.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function qB(){let e=XB(),t=CB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:a},r):null,l)}var KB=j.createElement(qB,null),bT=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=BB(e.digest);r&&(e=r)}let t=e!==void 0?j.createElement(da.Provider,{value:this.props.routeContext},j.createElement(xw.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(FB,{error:e},t):t}};bT.contextType=TB;var Xv=new WeakMap;function FB({children:e,error:t}){let{basename:r}=j.useContext(En);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=LB(t.digest);if(n){let a=Xv.get(t);if(a)throw a;let s=fT(n.location,r);if(dT&&!Xv.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw Xv.set(t,l),l}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function HB({routeContext:e,match:t,children:r}){let n=j.useContext(xc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(da.Provider,{value:e},r)}function QB(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=r==null?void 0:r.errors;if(l!=null){let p=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let d=!1,f=-1;if(r)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:y,errors:b}=r,w=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=r&&n?(p,g)=>{var y,b;n(p,{location:r.location,params:((b=(y=r.matches)==null?void 0:y[0])==null?void 0:b.params)??{},unstable_pattern:PB(r.matches),errorInfo:g})}:void 0;return s.reduceRight((p,g,y)=>{let b,w=!1,S=null,_=null;r&&(b=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||KB,d&&(f<0&&y===0?(xT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,_=null):f===y&&(w=!0,_=g.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,y+1)),O=()=>{let A;return b?A=S:w?A=_:g.route.Component?A=j.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=p,j.createElement(HB,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:r!=null},children:A})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?j.createElement(bT,{location:r.location,revalidation:r.revalidation,component:S,error:b,children:O(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):O()},null)}function ww(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VB(e){let t=j.useContext(xc);return Mt(t,ww(e)),t}function GB(e){let t=j.useContext(yp);return Mt(t,ww(e)),t}function YB(e){let t=j.useContext(da);return Mt(t,ww(e)),t}function jw(e){let t=YB(e),r=t.matches[t.matches.length-1];return Mt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function WB(){return jw("useRouteId")}function XB(){var n;let e=j.useContext(xw),t=GB("useRouteError"),r=jw("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function ZB(){let{router:e}=VB("useNavigate"),t=jw("useNavigate"),r=j.useRef(!1);return yT(()=>{r.current=!0}),j.useCallback(async(a,s={})=>{Qn(r.current,gT),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var rE={};function xT(e,t,r){!t&&!rE[e]&&(rE[e]=!0,Qn(!1,r))}j.memo(JB);function JB({routes:e,future:t,state:r,onError:n}){return vT(e,void 0,r,n,t)}function ze({to:e,replace:t,state:r,relative:n}){Mt(wc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(En);Qn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=j.useContext(da),{pathname:l}=bi(),d=mt(),f=bw(e,vw(s),l,n==="path"),h=JSON.stringify(f);return j.useEffect(()=>{d(JSON.parse(h),{replace:t,state:r,relative:n})},[d,h,n,t,r]),null}function He(e){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function e$({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:l}){Mt(!wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:d,navigator:a,static:s,unstable_useTransitions:l,future:{}}),[d,a,s,l]);typeof r=="string"&&(r=Bo(r));let{pathname:h="/",search:p="",hash:g="",state:y=null,key:b="default"}=r,w=j.useMemo(()=>{let S=di(h,d);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:b},navigationType:n}},[d,h,p,g,y,b,n]);return Qn(w!=null,`<Router basename="${d}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:j.createElement(En.Provider,{value:f},j.createElement($d.Provider,{children:t,value:w}))}function t$({children:e,location:t}){return zB(Fb(e),t)}function Fb(e,t=[]){let r=[];return j.Children.forEach(e,(n,a)=>{if(!j.isValidElement(n))return;let s=[...t,a];if(n.type===j.Fragment){r.push.apply(r,Fb(n.props.children,s));return}Mt(n.type===He,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Fb(n.props.children,s)),r.push(l)}),r}var om="get",lm="application/x-www-form-urlencoded";function vp(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function r$(e){return vp(e)&&e.tagName.toLowerCase()==="button"}function n$(e){return vp(e)&&e.tagName.toLowerCase()==="form"}function a$(e){return vp(e)&&e.tagName.toLowerCase()==="input"}function i$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s$(e,t){return e.button===0&&(!t||t==="_self")&&!i$(e)}var Rh=null;function o$(){if(Rh===null)try{new FormData(document.createElement("form"),0),Rh=!1}catch{Rh=!0}return Rh}var l$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zv(e){return e!=null&&!l$.has(e)?(Qn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lm}"`),null):e}function c$(e,t){let r,n,a,s,l;if(n$(e)){let d=e.getAttribute("action");n=d?di(d,t):null,r=e.getAttribute("method")||om,a=Zv(e.getAttribute("enctype"))||lm,s=new FormData(e)}else if(r$(e)||a$(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(n=f?di(f,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||om,a=Zv(e.getAttribute("formenctype"))||Zv(d.getAttribute("enctype"))||lm,s=new FormData(d,e),!o$()){let{name:h,type:p,value:g}=e;if(p==="image"){let y=h?`${h}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else h&&s.append(h,g)}}else{if(vp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=om,n=null,a=lm,l=e}return s&&a==="text/plain"&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function u$(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&di(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function d$(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f$(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function h$(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let l=await d$(s,r);return l.links?l.links():[]}return[]}));return y$(n.flat(1).filter(f$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function nE(e,t,r,n,a,s){let l=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,d=(f,h)=>{var p;return r[h].pathname!==f.pathname||((p=r[h].route.path)==null?void 0:p.endsWith("*"))&&r[h].params["*"]!==f.params["*"]};return s==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):s==="data"?t.filter((f,h)=>{var g;let p=n.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function m$(e,t,{includeHydrateFallback:r}={}){return p$(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function p$(e){return[...new Set(e)]}function g$(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function y$(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(g$(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function wT(){let e=j.useContext(xc);return Sw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function v$(){let e=j.useContext(yp);return Sw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var _w=j.createContext(void 0);_w.displayName="FrameworkContext";function jT(){let e=j.useContext(_w);return Sw(e,"You must render this element inside a <HydratedRouter> element"),e}function b$(e,t){let r=j.useContext(_w),[n,a]=j.useState(!1),[s,l]=j.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,y=j.useRef(null);j.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=N=>{N.forEach(O=>{l(O.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[e]),j.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let b=()=>{a(!0)},w=()=>{a(!1),l(!1)};return r?e!=="intent"?[s,y,{}]:[s,y,{onFocus:Lu(d,b),onBlur:Lu(f,w),onMouseEnter:Lu(h,b),onMouseLeave:Lu(p,w),onTouchStart:Lu(g,b)}]:[!1,y,{}]}function Lu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function x$({page:e,...t}){let{router:r}=wT(),n=j.useMemo(()=>lT(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?j.createElement(j$,{page:e,matches:n,...t}):null}function w$(e){let{manifest:t,routeModules:r}=jT(),[n,a]=j.useState([]);return j.useEffect(()=>{let s=!1;return h$(e,t,r).then(l=>{s||a(l)}),()=>{s=!0}},[e,t,r]),n}function j$({page:e,matches:t,...r}){let n=bi(),{future:a,manifest:s,routeModules:l}=jT(),{basename:d}=wT(),{loaderData:f,matches:h}=v$(),p=j.useMemo(()=>nE(e,t,h,s,n,"data"),[e,t,h,s,n]),g=j.useMemo(()=>nE(e,t,h,s,n,"assets"),[e,t,h,s,n]),y=j.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,_=!1;if(t.forEach(O=>{var C;let A=s.routes[O.route.id];!A||!A.hasLoader||(!p.some(D=>D.route.id===O.route.id)&&O.route.id in f&&((C=l[O.route.id])!=null&&C.shouldRevalidate)||A.hasClientLoader?_=!0:S.add(O.route.id))}),S.size===0)return[];let N=u$(e,d,a.unstable_trailingSlashAwareDataRequests,"data");return _&&S.size>0&&N.searchParams.set("_routes",t.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[N.pathname+N.search]},[d,a.unstable_trailingSlashAwareDataRequests,f,n,s,p,t,e,l]),b=j.useMemo(()=>m$(g,s),[g,s]),w=w$(g);return j.createElement(j.Fragment,null,y.map(S=>j.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),b.map(S=>j.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),w.map(({key:S,link:_})=>j.createElement("link",{key:S,nonce:r.nonce,..._,crossOrigin:_.crossOrigin??r.crossOrigin})))}function S$(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var _$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_$&&(window.__reactRouterVersion="7.13.0")}catch{}function N$({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=j.useRef();a.current==null&&(a.current=iB({window:n,v5Compat:!0}));let s=a.current,[l,d]=j.useState({action:s.action,location:s.location}),f=j.useCallback(h=>{r===!1?d(h):j.startTransition(()=>d(h))},[r]);return j.useLayoutEffect(()=>s.listen(f),[s,f]),j.createElement(e$,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:r})}var ST=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,id=j.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...b},w){let{basename:S,unstable_useTransitions:_}=j.useContext(En),N=typeof h=="string"&&ST.test(h),O=fT(h,S);h=O.to;let A=$B(h,{relative:a}),[C,D,T]=b$(n,b),k=C$(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:_});function M(G){t&&t(G),G.defaultPrevented||k(G)}let I=j.createElement("a",{...b,...T,href:O.absoluteURL||A,onClick:O.isExternal||s?t:M,ref:S$(w,D),target:f,"data-discover":!N&&r==="render"?"true":void 0});return C&&!N?j.createElement(j.Fragment,null,I,j.createElement(x$,{page:A})):I});id.displayName="Link";var O$=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:l,viewTransition:d,children:f,...h},p){let g=Ud(l,{relative:h.relative}),y=bi(),b=j.useContext(yp),{navigator:w,basename:S}=j.useContext(En),_=b!=null&&M$(g)&&d===!0,N=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,O=y.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(O=O.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&S&&(A=di(A,S)||A);const C=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let D=O===N||!a&&O.startsWith(N)&&O.charAt(C)==="/",T=A!=null&&(A===N||!a&&A.startsWith(N)&&A.charAt(N.length)==="/"),k={isActive:D,isPending:T,isTransitioning:_},M=D?t:void 0,I;typeof n=="function"?I=n(k):I=[n,D?"active":null,T?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(k):s;return j.createElement(id,{...h,"aria-current":M,className:I,ref:p,style:G,to:l,viewTransition:d},typeof f=="function"?f(k):f)});O$.displayName="NavLink";var E$=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:l=om,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...b},w)=>{let{unstable_useTransitions:S}=j.useContext(En),_=T$(),N=D$(d,{relative:h}),O=l.toLowerCase()==="get"?"get":"post",A=typeof d=="string"&&ST.test(d),C=D=>{if(f&&f(D),D.defaultPrevented)return;D.preventDefault();let T=D.nativeEvent.submitter,k=(T==null?void 0:T.getAttribute("formmethod"))||l,M=()=>_(T||D.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y});S&&r!==!1?j.startTransition(()=>M()):M()};return j.createElement("form",{ref:w,method:O,action:N,onSubmit:n?f:C,...b,"data-discover":!A&&e==="render"?"true":void 0})});E$.displayName="Form";function A$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _T(e){let t=j.useContext(xc);return Mt(t,A$(e)),t}function C$(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let h=mt(),p=bi(),g=Ud(e,{relative:s});return j.useCallback(y=>{if(s$(y,t)){y.preventDefault();let b=r!==void 0?r:ad(p)===ad(g),w=()=>h(e,{replace:b,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d});f?j.startTransition(()=>w()):w()}},[p,h,g,r,n,t,e,a,s,l,d,f])}var P$=0,k$=()=>`__${String(++P$)}__`;function T$(){let{router:e}=_T("useSubmit"),{basename:t}=j.useContext(En),r=WB(),n=e.fetch,a=e.navigate;return j.useCallback(async(s,l={})=>{let{action:d,method:f,encType:h,formData:p,body:g}=c$(s,t);if(l.navigate===!1){let y=l.fetcherKey||k$();await n(y,r,l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await a(l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,a,t,r])}function D$(e,{relative:t}={}){let{basename:r}=j.useContext(En),n=j.useContext(da);Mt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Ud(e||".",{relative:t})},l=bi();if(e==null){s.search=l.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:oi([r,s.pathname])),ad(s)}function M$(e,{relative:t}={}){let r=j.useContext(mT);Mt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=_T("useViewTransitionState"),a=Ud(e,{relative:t});if(!r.isTransitioning)return!1;let s=di(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=di(r.nextLocation.pathname,n)||r.nextLocation.pathname;return gm(a.pathname,l)!=null||gm(a.pathname,s)!=null}var bp=oT(),jc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},R$={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ls,yw,Wk,I$=(Wk=class{constructor(){ke(this,ls,R$);ke(this,yw,!1)}setTimeoutProvider(e){xe(this,ls,e)}setTimeout(e,t){return U(this,ls).setTimeout(e,t)}clearTimeout(e){U(this,ls).clearTimeout(e)}setInterval(e,t){return U(this,ls).setInterval(e,t)}clearInterval(e){U(this,ls).clearInterval(e)}},ls=new WeakMap,yw=new WeakMap,Wk),oo=new I$;function L$(e){setTimeout(e,0)}var Eo=typeof window>"u"||"Deno"in globalThis;function Kr(){}function B$(e,t){return typeof e=="function"?e(t):e}function Hb(e){return typeof e=="number"&&e>=0&&e!==1/0}function NT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function vs(e,t){return typeof e=="function"?e(t):e}function Fn(e,t){return typeof e=="function"?e(t):e}function aE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:l,stale:d}=e;if(l){if(n){if(t.queryHash!==Nw(l,t.options))return!1}else if(!sd(t.queryKey,l))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||a&&a!==t.state.fetchStatus||s&&!s(t))}function iE(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Ao(t.options.mutationKey)!==Ao(s))return!1}else if(!sd(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Nw(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ao)(e)}function Ao(e){return JSON.stringify(e,(t,r)=>Qb(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function sd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>sd(e[r],t[r])):!1}var $$=Object.prototype.hasOwnProperty;function OT(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=sE(e)&&sE(t);if(!n&&!(Qb(e)&&Qb(t)))return t;const s=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),d=l.length,f=n?new Array(d):{};let h=0;for(let p=0;p<d;p++){const g=n?p:l[p],y=e[g],b=t[g];if(y===b){f[g]=y,(n?p<s:$$.call(e,g))&&h++;continue}if(y===null||b===null||typeof y!="object"||typeof b!="object"){f[g]=b;continue}const w=OT(y,b,r+1);f[g]=w,w===y&&h++}return s===d&&h===s?e:f}function ym(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function sE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qb(e){if(!oE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!oE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function oE(e){return Object.prototype.toString.call(e)==="[object Object]"}function U$(e){return new Promise(t=>{oo.setTimeout(t,e)})}function Vb(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?OT(e,t):t}function z$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function q$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ow=Symbol();function ET(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ow?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ew(e,t){return typeof e=="function"?e(...t):!!e}function K$(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var mo,cs,ec,Xk,F$=(Xk=class extends jc{constructor(){super();ke(this,mo);ke(this,cs);ke(this,ec);xe(this,ec,t=>{if(!Eo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){U(this,cs)||this.setEventListener(U(this,ec))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,cs))==null||t.call(this),xe(this,cs,void 0))}setEventListener(t){var r;xe(this,ec,t),(r=U(this,cs))==null||r.call(this),xe(this,cs,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){U(this,mo)!==t&&(xe(this,mo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof U(this,mo)=="boolean"?U(this,mo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},mo=new WeakMap,cs=new WeakMap,ec=new WeakMap,Xk),Aw=new F$;function Gb(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var H$=L$;function Q$(){let e=[],t=0,r=d=>{d()},n=d=>{d()},a=H$;const s=d=>{t?e.push(d):a(()=>{r(d)})},l=()=>{const d=e;e=[],d.length&&a(()=>{n(()=>{d.forEach(f=>{r(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||l()}return f},batchCalls:d=>(...f)=>{s(()=>{d(...f)})},schedule:s,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{a=d}}}var ur=Q$(),tc,us,rc,Zk,V$=(Zk=class extends jc{constructor(){super();ke(this,tc,!0);ke(this,us);ke(this,rc);xe(this,rc,t=>{if(!Eo&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){U(this,us)||this.setEventListener(U(this,rc))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,us))==null||t.call(this),xe(this,us,void 0))}setEventListener(t){var r;xe(this,rc,t),(r=U(this,us))==null||r.call(this),xe(this,us,t(this.setOnline.bind(this)))}setOnline(t){U(this,tc)!==t&&(xe(this,tc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return U(this,tc)}},tc=new WeakMap,us=new WeakMap,rc=new WeakMap,Zk),vm=new V$;function G$(e){return Math.min(1e3*2**e,3e4)}function AT(e){return(e??"online")==="online"?vm.isOnline():!0}var Yb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function CT(e){let t=!1,r=0,n;const a=Gb(),s=()=>a.status!=="pending",l=S=>{var _;if(!s()){const N=new Yb(S);y(N),(_=e.onCancel)==null||_.call(e,N)}},d=()=>{t=!0},f=()=>{t=!1},h=()=>Aw.isFocused()&&(e.networkMode==="always"||vm.isOnline())&&e.canRun(),p=()=>AT(e.networkMode)&&e.canRun(),g=S=>{s()||(n==null||n(),a.resolve(S))},y=S=>{s()||(n==null||n(),a.reject(S))},b=()=>new Promise(S=>{var _;n=N=>{(s()||h())&&S(N)},(_=e.onPause)==null||_.call(e)}).then(()=>{var S;n=void 0,s()||(S=e.onContinue)==null||S.call(e)}),w=()=>{if(s())return;let S;const _=r===0?e.initialPromise:void 0;try{S=_??e.fn()}catch(N){S=Promise.reject(N)}Promise.resolve(S).then(g).catch(N=>{var T;if(s())return;const O=e.retry??(Eo?0:3),A=e.retryDelay??G$,C=typeof A=="function"?A(r,N):A,D=O===!0||typeof O=="number"&&r<O||typeof O=="function"&&O(r,N);if(t||!D){y(N);return}r++,(T=e.onFail)==null||T.call(e,r,N),U$(C).then(()=>h()?void 0:b()).then(()=>{t?y(N):w()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n==null||n(),a),cancelRetry:d,continueRetry:f,canStart:p,start:()=>(p()?w():b().then(w),a)}}var po,Jk,PT=(Jk=class{constructor(){ke(this,po)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Hb(this.gcTime)&&xe(this,po,oo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Eo?1/0:300*1e3))}clearGcTimeout(){U(this,po)&&(oo.clearTimeout(U(this,po)),xe(this,po,void 0))}},po=new WeakMap,Jk),go,nc,Kn,yo,vr,Md,vo,na,Xa,eT,Y$=(eT=class extends PT{constructor(t){super();ke(this,na);ke(this,go);ke(this,nc);ke(this,Kn);ke(this,yo);ke(this,vr);ke(this,Md);ke(this,vo);xe(this,vo,!1),xe(this,Md,t.defaultOptions),this.setOptions(t.options),this.observers=[],xe(this,yo,t.client),xe(this,Kn,U(this,yo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,xe(this,go,cE(this.options)),this.state=t.state??U(this,go),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,vr))==null?void 0:t.promise}setOptions(t){if(this.options={...U(this,Md),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=cE(this.options);r.data!==void 0&&(this.setState(lE(r.data,r.dataUpdatedAt)),xe(this,go,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Kn).remove(this)}setData(t,r){const n=Vb(this.state.data,t,this.options);return Fe(this,na,Xa).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Fe(this,na,Xa).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=U(this,vr))==null?void 0:n.promise;return(a=U(this,vr))==null||a.cancel(t),r?r.then(Kr).catch(Kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,go))}isActive(){return this.observers.some(t=>Fn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ow||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>vs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!NT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,vr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,vr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,Kn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(U(this,vr)&&(U(this,vo)?U(this,vr).cancel({revert:!0}):U(this,vr).cancelRetry()),this.scheduleGc()),U(this,Kn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fe(this,na,Xa).call(this,{type:"invalidate"})}async fetch(t,r){var f,h,p,g,y,b,w,S,_,N,O,A;if(this.state.fetchStatus!=="idle"&&((f=U(this,vr))==null?void 0:f.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,vr))return U(this,vr).continueRetry(),U(this,vr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(D=>D.options.queryFn);C&&this.setOptions(C.options)}const n=new AbortController,a=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(xe(this,vo,!0),n.signal)})},s=()=>{const C=ET(this.options,r),T=(()=>{const k={client:U(this,yo),queryKey:this.queryKey,meta:this.meta};return a(k),k})();return xe(this,vo,!1),this.options.persister?this.options.persister(C,T,this):C(T)},d=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,yo),state:this.state,fetchFn:s};return a(C),C})();(h=this.options.behavior)==null||h.onFetch(d,this),xe(this,nc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=d.fetchOptions)==null?void 0:p.meta))&&Fe(this,na,Xa).call(this,{type:"fetch",meta:(g=d.fetchOptions)==null?void 0:g.meta}),xe(this,vr,CT({initialPromise:r==null?void 0:r.initialPromise,fn:d.fetchFn,onCancel:C=>{C instanceof Yb&&C.revert&&this.setState({...U(this,nc),fetchStatus:"idle"}),n.abort()},onFail:(C,D)=>{Fe(this,na,Xa).call(this,{type:"failed",failureCount:C,error:D})},onPause:()=>{Fe(this,na,Xa).call(this,{type:"pause"})},onContinue:()=>{Fe(this,na,Xa).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const C=await U(this,vr).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(b=(y=U(this,Kn).config).onSuccess)==null||b.call(y,C,this),(S=(w=U(this,Kn).config).onSettled)==null||S.call(w,C,this.state.error,this),C}catch(C){if(C instanceof Yb){if(C.silent)return U(this,vr).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw Fe(this,na,Xa).call(this,{type:"error",error:C}),(N=(_=U(this,Kn).config).onError)==null||N.call(_,C,this),(A=(O=U(this,Kn).config).onSettled)==null||A.call(O,this.state.data,C,this),C}finally{this.scheduleGc()}}},go=new WeakMap,nc=new WeakMap,Kn=new WeakMap,yo=new WeakMap,vr=new WeakMap,Md=new WeakMap,vo=new WeakMap,na=new WeakSet,Xa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...kT(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...lE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return xe(this,nc,t.manual?a:void 0),a;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ur.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),U(this,Kn).notify({query:this,type:"updated",action:t})})},eT);function kT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:AT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function cE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var rn,Xe,Rd,qr,bo,ac,ei,ds,Id,ic,sc,xo,wo,fs,oc,lt,Wu,Wb,Xb,Zb,Jb,ex,tx,rx,TT,tT,W$=(tT=class extends jc{constructor(t,r){super();ke(this,lt);ke(this,rn);ke(this,Xe);ke(this,Rd);ke(this,qr);ke(this,bo);ke(this,ac);ke(this,ei);ke(this,ds);ke(this,Id);ke(this,ic);ke(this,sc);ke(this,xo);ke(this,wo);ke(this,fs);ke(this,oc,new Set);this.options=r,xe(this,rn,t),xe(this,ds,null),xe(this,ei,Gb()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,Xe).addObserver(this),uE(U(this,Xe),this.options)?Fe(this,lt,Wu).call(this):this.updateResult(),Fe(this,lt,Jb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nx(U(this,Xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nx(U(this,Xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Fe(this,lt,ex).call(this),Fe(this,lt,tx).call(this),U(this,Xe).removeObserver(this)}setOptions(t){const r=this.options,n=U(this,Xe);if(this.options=U(this,rn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fn(this.options.enabled,U(this,Xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Fe(this,lt,rx).call(this),U(this,Xe).setOptions(this.options),r._defaulted&&!ym(this.options,r)&&U(this,rn).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,Xe),observer:this});const a=this.hasListeners();a&&dE(U(this,Xe),n,this.options,r)&&Fe(this,lt,Wu).call(this),this.updateResult(),a&&(U(this,Xe)!==n||Fn(this.options.enabled,U(this,Xe))!==Fn(r.enabled,U(this,Xe))||vs(this.options.staleTime,U(this,Xe))!==vs(r.staleTime,U(this,Xe)))&&Fe(this,lt,Wb).call(this);const s=Fe(this,lt,Xb).call(this);a&&(U(this,Xe)!==n||Fn(this.options.enabled,U(this,Xe))!==Fn(r.enabled,U(this,Xe))||s!==U(this,fs))&&Fe(this,lt,Zb).call(this,s)}getOptimisticResult(t){const r=U(this,rn).getQueryCache().build(U(this,rn),t),n=this.createResult(r,t);return Z$(this,n)&&(xe(this,qr,n),xe(this,ac,this.options),xe(this,bo,U(this,Xe).state)),n}getCurrentResult(){return U(this,qr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&U(this,ei).status==="pending"&&U(this,ei).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){U(this,oc).add(t)}getCurrentQuery(){return U(this,Xe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=U(this,rn).defaultQueryOptions(t),n=U(this,rn).getQueryCache().build(U(this,rn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Fe(this,lt,Wu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,qr)))}createResult(t,r){var I;const n=U(this,Xe),a=this.options,s=U(this,qr),l=U(this,bo),d=U(this,ac),h=t!==n?t.state:U(this,Rd),{state:p}=t;let g={...p},y=!1,b;if(r._optimisticResults){const G=this.hasListeners(),F=!G&&uE(t,r),K=G&&dE(t,n,r,a);(F||K)&&(g={...g,...kT(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:w,errorUpdatedAt:S,status:_}=g;b=g.data;let N=!1;if(r.placeholderData!==void 0&&b===void 0&&_==="pending"){let G;s!=null&&s.isPlaceholderData&&r.placeholderData===(d==null?void 0:d.placeholderData)?(G=s.data,N=!0):G=typeof r.placeholderData=="function"?r.placeholderData((I=U(this,sc))==null?void 0:I.state.data,U(this,sc)):r.placeholderData,G!==void 0&&(_="success",b=Vb(s==null?void 0:s.data,G,r),y=!0)}if(r.select&&b!==void 0&&!N)if(s&&b===(l==null?void 0:l.data)&&r.select===U(this,Id))b=U(this,ic);else try{xe(this,Id,r.select),b=r.select(b),b=Vb(s==null?void 0:s.data,b,r),xe(this,ic,b),xe(this,ds,null)}catch(G){xe(this,ds,G)}U(this,ds)&&(w=U(this,ds),b=U(this,ic),S=Date.now(),_="error");const O=g.fetchStatus==="fetching",A=_==="pending",C=_==="error",D=A&&O,T=b!==void 0,M={status:_,fetchStatus:g.fetchStatus,isPending:A,isSuccess:_==="success",isError:C,isInitialLoading:D,isLoading:D,data:b,dataUpdatedAt:g.dataUpdatedAt,error:w,errorUpdatedAt:S,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:O,isRefetching:O&&!A,isLoadingError:C&&!T,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:C&&T,isStale:Cw(t,r),refetch:this.refetch,promise:U(this,ei),isEnabled:Fn(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const G=M.data!==void 0,F=M.status==="error"&&!G,K=ie=>{F?ie.reject(M.error):G&&ie.resolve(M.data)},te=()=>{const ie=xe(this,ei,M.promise=Gb());K(ie)},V=U(this,ei);switch(V.status){case"pending":t.queryHash===n.queryHash&&K(V);break;case"fulfilled":(F||M.data!==V.value)&&te();break;case"rejected":(!F||M.error!==V.reason)&&te();break}}return M}updateResult(){const t=U(this,qr),r=this.createResult(U(this,Xe),this.options);if(xe(this,bo,U(this,Xe).state),xe(this,ac,this.options),U(this,bo).data!==void 0&&xe(this,sc,U(this,Xe)),ym(r,t))return;xe(this,qr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!U(this,oc).size)return!0;const l=new Set(s??U(this,oc));return this.options.throwOnError&&l.add("error"),Object.keys(U(this,qr)).some(d=>{const f=d;return U(this,qr)[f]!==t[f]&&l.has(f)})};Fe(this,lt,TT).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Fe(this,lt,Jb).call(this)}},rn=new WeakMap,Xe=new WeakMap,Rd=new WeakMap,qr=new WeakMap,bo=new WeakMap,ac=new WeakMap,ei=new WeakMap,ds=new WeakMap,Id=new WeakMap,ic=new WeakMap,sc=new WeakMap,xo=new WeakMap,wo=new WeakMap,fs=new WeakMap,oc=new WeakMap,lt=new WeakSet,Wu=function(t){Fe(this,lt,rx).call(this);let r=U(this,Xe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Kr)),r},Wb=function(){Fe(this,lt,ex).call(this);const t=vs(this.options.staleTime,U(this,Xe));if(Eo||U(this,qr).isStale||!Hb(t))return;const n=NT(U(this,qr).dataUpdatedAt,t)+1;xe(this,xo,oo.setTimeout(()=>{U(this,qr).isStale||this.updateResult()},n))},Xb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,Xe)):this.options.refetchInterval)??!1},Zb=function(t){Fe(this,lt,tx).call(this),xe(this,fs,t),!(Eo||Fn(this.options.enabled,U(this,Xe))===!1||!Hb(U(this,fs))||U(this,fs)===0)&&xe(this,wo,oo.setInterval(()=>{(this.options.refetchIntervalInBackground||Aw.isFocused())&&Fe(this,lt,Wu).call(this)},U(this,fs)))},Jb=function(){Fe(this,lt,Wb).call(this),Fe(this,lt,Zb).call(this,Fe(this,lt,Xb).call(this))},ex=function(){U(this,xo)&&(oo.clearTimeout(U(this,xo)),xe(this,xo,void 0))},tx=function(){U(this,wo)&&(oo.clearInterval(U(this,wo)),xe(this,wo,void 0))},rx=function(){const t=U(this,rn).getQueryCache().build(U(this,rn),this.options);if(t===U(this,Xe))return;const r=U(this,Xe);xe(this,Xe,t),xe(this,Rd,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},TT=function(t){ur.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(U(this,qr))}),U(this,rn).getQueryCache().notify({query:U(this,Xe),type:"observerResultsUpdated"})})},tT);function X$(e,t){return Fn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function uE(e,t){return X$(e,t)||e.state.data!==void 0&&nx(e,t,t.refetchOnMount)}function nx(e,t,r){if(Fn(t.enabled,e)!==!1&&vs(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Cw(e,t)}return!1}function dE(e,t,r,n){return(e!==t||Fn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Cw(e,r)}function Cw(e,t){return Fn(t.enabled,e)!==!1&&e.isStaleByTime(vs(t.staleTime,e))}function Z$(e,t){return!ym(e.getCurrentResult(),t)}function fE(e){return{onFetch:(t,r)=>{var p,g,y,b,w;const n=t.options,a=(y=(g=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,s=((b=t.state.data)==null?void 0:b.pages)||[],l=((w=t.state.data)==null?void 0:w.pageParams)||[];let d={pages:[],pageParams:[]},f=0;const h=async()=>{let S=!1;const _=A=>{K$(A,()=>t.signal,()=>S=!0)},N=ET(t.options,t.fetchOptions),O=async(A,C,D)=>{if(S)return Promise.reject();if(C==null&&A.pages.length)return Promise.resolve(A);const k=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:C,direction:D?"backward":"forward",meta:t.options.meta};return _(F),F})(),M=await N(k),{maxPages:I}=t.options,G=D?q$:z$;return{pages:G(A.pages,M,I),pageParams:G(A.pageParams,C,I)}};if(a&&s.length){const A=a==="backward",C=A?J$:hE,D={pages:s,pageParams:l},T=C(n,D);d=await O(D,T,A)}else{const A=e??s.length;do{const C=f===0?l[0]??n.initialPageParam:hE(n,d);if(f>0&&C==null)break;d=await O(d,C),f++}while(f<A)}return d};t.options.persister?t.fetchFn=()=>{var S,_;return(_=(S=t.options).persister)==null?void 0:_.call(S,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function hE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function J$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ld,wa,Ir,jo,ja,rs,rT,e6=(rT=class extends PT{constructor(t){super();ke(this,ja);ke(this,Ld);ke(this,wa);ke(this,Ir);ke(this,jo);xe(this,Ld,t.client),this.mutationId=t.mutationId,xe(this,Ir,t.mutationCache),xe(this,wa,[]),this.state=t.state||DT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,wa).includes(t)||(U(this,wa).push(t),this.clearGcTimeout(),U(this,Ir).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){xe(this,wa,U(this,wa).filter(r=>r!==t)),this.scheduleGc(),U(this,Ir).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,wa).length||(this.state.status==="pending"?this.scheduleGc():U(this,Ir).remove(this))}continue(){var t;return((t=U(this,jo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,d,f,h,p,g,y,b,w,S,_,N,O,A,C,D,T,k;const r=()=>{Fe(this,ja,rs).call(this,{type:"continue"})},n={client:U(this,Ld),meta:this.options.meta,mutationKey:this.options.mutationKey};xe(this,jo,CT({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(M,I)=>{Fe(this,ja,rs).call(this,{type:"failed",failureCount:M,error:I})},onPause:()=>{Fe(this,ja,rs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Ir).canRun(this)}));const a=this.state.status==="pending",s=!U(this,jo).canStart();try{if(a)r();else{Fe(this,ja,rs).call(this,{type:"pending",variables:t,isPaused:s}),U(this,Ir).config.onMutate&&await U(this,Ir).config.onMutate(t,this,n);const I=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,t,n));I!==this.state.context&&Fe(this,ja,rs).call(this,{type:"pending",context:I,variables:t,isPaused:s})}const M=await U(this,jo).start();return await((h=(f=U(this,Ir).config).onSuccess)==null?void 0:h.call(f,M,t,this.state.context,this,n)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,M,t,this.state.context,n)),await((b=(y=U(this,Ir).config).onSettled)==null?void 0:b.call(y,M,null,this.state.variables,this.state.context,this,n)),await((S=(w=this.options).onSettled)==null?void 0:S.call(w,M,null,t,this.state.context,n)),Fe(this,ja,rs).call(this,{type:"success",data:M}),M}catch(M){try{await((N=(_=U(this,Ir).config).onError)==null?void 0:N.call(_,M,t,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((A=(O=this.options).onError)==null?void 0:A.call(O,M,t,this.state.context,n))}catch(I){Promise.reject(I)}try{await((D=(C=U(this,Ir).config).onSettled)==null?void 0:D.call(C,void 0,M,this.state.variables,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((k=(T=this.options).onSettled)==null?void 0:k.call(T,void 0,M,t,this.state.context,n))}catch(I){Promise.reject(I)}throw Fe(this,ja,rs).call(this,{type:"error",error:M}),M}finally{U(this,Ir).runNext(this)}}},Ld=new WeakMap,wa=new WeakMap,Ir=new WeakMap,jo=new WeakMap,ja=new WeakSet,rs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ur.batch(()=>{U(this,wa).forEach(n=>{n.onMutationUpdate(t)}),U(this,Ir).notify({mutation:this,type:"updated",action:t})})},rT);function DT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ti,aa,Bd,nT,t6=(nT=class extends jc{constructor(t={}){super();ke(this,ti);ke(this,aa);ke(this,Bd);this.config=t,xe(this,ti,new Set),xe(this,aa,new Map),xe(this,Bd,0)}build(t,r,n){const a=new e6({client:t,mutationCache:this,mutationId:++Mh(this,Bd)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){U(this,ti).add(t);const r=Ih(t);if(typeof r=="string"){const n=U(this,aa).get(r);n?n.push(t):U(this,aa).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(U(this,ti).delete(t)){const r=Ih(t);if(typeof r=="string"){const n=U(this,aa).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&U(this,aa).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ih(t);if(typeof r=="string"){const n=U(this,aa).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Ih(t);if(typeof r=="string"){const a=(n=U(this,aa).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ur.batch(()=>{U(this,ti).forEach(t=>{this.notify({type:"removed",mutation:t})}),U(this,ti).clear(),U(this,aa).clear()})}getAll(){return Array.from(U(this,ti))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>iE(r,n))}findAll(t={}){return this.getAll().filter(r=>iE(t,r))}notify(t){ur.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ur.batch(()=>Promise.all(t.map(r=>r.continue().catch(Kr))))}},ti=new WeakMap,aa=new WeakMap,Bd=new WeakMap,nT);function Ih(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ri,hs,nn,ni,ui,cm,ax,aT,r6=(aT=class extends jc{constructor(r,n){super();ke(this,ui);ke(this,ri);ke(this,hs);ke(this,nn);ke(this,ni);xe(this,ri,r),this.setOptions(n),this.bindMethods(),Fe(this,ui,cm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=U(this,ri).defaultMutationOptions(r),ym(this.options,n)||U(this,ri).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,nn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ao(n.mutationKey)!==Ao(this.options.mutationKey)?this.reset():((a=U(this,nn))==null?void 0:a.state.status)==="pending"&&U(this,nn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=U(this,nn))==null||r.removeObserver(this)}onMutationUpdate(r){Fe(this,ui,cm).call(this),Fe(this,ui,ax).call(this,r)}getCurrentResult(){return U(this,hs)}reset(){var r;(r=U(this,nn))==null||r.removeObserver(this),xe(this,nn,void 0),Fe(this,ui,cm).call(this),Fe(this,ui,ax).call(this)}mutate(r,n){var a;return xe(this,ni,n),(a=U(this,nn))==null||a.removeObserver(this),xe(this,nn,U(this,ri).getMutationCache().build(U(this,ri),this.options)),U(this,nn).addObserver(this),U(this,nn).execute(r)}},ri=new WeakMap,hs=new WeakMap,nn=new WeakMap,ni=new WeakMap,ui=new WeakSet,cm=function(){var n;const r=((n=U(this,nn))==null?void 0:n.state)??DT();xe(this,hs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},ax=function(r){ur.batch(()=>{var n,a,s,l,d,f,h,p;if(U(this,ni)&&this.hasListeners()){const g=U(this,hs).variables,y=U(this,hs).context,b={client:U(this,ri),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(a=(n=U(this,ni)).onSuccess)==null||a.call(n,r.data,g,y,b)}catch(w){Promise.reject(w)}try{(l=(s=U(this,ni)).onSettled)==null||l.call(s,r.data,null,g,y,b)}catch(w){Promise.reject(w)}}else if((r==null?void 0:r.type)==="error"){try{(f=(d=U(this,ni)).onError)==null||f.call(d,r.error,g,y,b)}catch(w){Promise.reject(w)}try{(p=(h=U(this,ni)).onSettled)==null||p.call(h,void 0,r.error,g,y,b)}catch(w){Promise.reject(w)}}}this.listeners.forEach(g=>{g(U(this,hs))})})},aT),Sa,iT,n6=(iT=class extends jc{constructor(t={}){super();ke(this,Sa);this.config=t,xe(this,Sa,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??Nw(a,r);let l=this.get(s);return l||(l=new Y$({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){U(this,Sa).has(t.queryHash)||(U(this,Sa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=U(this,Sa).get(t.queryHash);r&&(t.destroy(),r===t&&U(this,Sa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ur.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,Sa).get(t)}getAll(){return[...U(this,Sa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>aE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>aE(t,n)):r}notify(t){ur.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ur.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ur.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Sa=new WeakMap,iT),Ut,ms,ps,lc,cc,gs,uc,dc,sT,a6=(sT=class{constructor(e={}){ke(this,Ut);ke(this,ms);ke(this,ps);ke(this,lc);ke(this,cc);ke(this,gs);ke(this,uc);ke(this,dc);xe(this,Ut,e.queryCache||new n6),xe(this,ms,e.mutationCache||new t6),xe(this,ps,e.defaultOptions||{}),xe(this,lc,new Map),xe(this,cc,new Map),xe(this,gs,0)}mount(){Mh(this,gs)._++,U(this,gs)===1&&(xe(this,uc,Aw.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Ut).onFocus())})),xe(this,dc,vm.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Ut).onOnline())})))}unmount(){var e,t;Mh(this,gs)._--,U(this,gs)===0&&((e=U(this,uc))==null||e.call(this),xe(this,uc,void 0),(t=U(this,dc))==null||t.call(this),xe(this,dc,void 0))}isFetching(e){return U(this,Ut).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,ms).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,Ut).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=U(this,Ut).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(vs(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return U(this,Ut).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=U(this,Ut).get(n.queryHash),s=a==null?void 0:a.state.data,l=B$(t,s);if(l!==void 0)return U(this,Ut).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return ur.batch(()=>U(this,Ut).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,Ut).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=U(this,Ut);ur.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=U(this,Ut);return ur.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ur.batch(()=>U(this,Ut).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Kr).catch(Kr)}invalidateQueries(e,t={}){return ur.batch(()=>(U(this,Ut).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ur.batch(()=>U(this,Ut).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Kr)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Kr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=U(this,Ut).build(this,t);return r.isStaleByTime(vs(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Kr).catch(Kr)}fetchInfiniteQuery(e){return e.behavior=fE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Kr).catch(Kr)}ensureInfiniteQueryData(e){return e.behavior=fE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vm.isOnline()?U(this,ms).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Ut)}getMutationCache(){return U(this,ms)}getDefaultOptions(){return U(this,ps)}setDefaultOptions(e){xe(this,ps,e)}setQueryDefaults(e,t){U(this,lc).set(Ao(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,lc).values()],r={};return t.forEach(n=>{sd(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){U(this,cc).set(Ao(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,cc).values()],r={};return t.forEach(n=>{sd(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,ps).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Nw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ow&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,ps).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,Ut).clear(),U(this,ms).clear()}},Ut=new WeakMap,ms=new WeakMap,ps=new WeakMap,lc=new WeakMap,cc=new WeakMap,gs=new WeakMap,uc=new WeakMap,dc=new WeakMap,sT),MT=j.createContext(void 0),$e=e=>{const t=j.useContext(MT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},i6=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(MT.Provider,{value:e,children:t})),RT=j.createContext(!1),s6=()=>j.useContext(RT);RT.Provider;function o6(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var l6=j.createContext(o6()),c6=()=>j.useContext(l6),u6=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?Ew(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},d6=e=>{j.useEffect(()=>{e.clearReset()},[e])},f6=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||Ew(r,[e.error,n])),h6=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},m6=(e,t)=>e.isLoading&&e.isFetching&&!t,p6=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,mE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function g6(e,t,r){var y,b,w,S;const n=s6(),a=c6(),s=$e(),l=s.defaultQueryOptions(e);(b=(y=s.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||b.call(y,l);const d=s.getQueryCache().get(l.queryHash);l._optimisticResults=n?"isRestoring":"optimistic",h6(l),u6(l,a,d),d6(a);const f=!s.getQueryCache().get(l.queryHash),[h]=j.useState(()=>new t(s,l)),p=h.getOptimisticResult(l),g=!n&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(_=>{const N=g?h.subscribe(ur.batchCalls(_)):Kr;return h.updateResult(),N},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),j.useEffect(()=>{h.setOptions(l)},[l,h]),p6(l,p))throw mE(l,h,a);if(f6({result:p,errorResetBoundary:a,throwOnError:l.throwOnError,query:d,suspense:l.suspense}))throw p.error;if((S=(w=s.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||S.call(w,l,p),l.experimental_prefetchInRender&&!Eo&&m6(p,n)){const _=f?mE(l,h,a):d==null?void 0:d.promise;_==null||_.catch(Kr).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?p:h.trackResult(p)}function It(e,t){return g6(e,W$)}function ct(e,t){const r=$e(),[n]=j.useState(()=>new r6(r,e));j.useEffect(()=>{n.setOptions(e)},[n,e]);const a=j.useSyncExternalStore(j.useCallback(l=>n.subscribe(ur.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=j.useCallback((l,d)=>{n.mutate(l,d).catch(Kr)},[n]);if(a.error&&Ew(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}function xp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function y6(e,t,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function d(p){try{h(n.next(p))}catch(g){l(g)}}function f(p){try{h(n.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):a(p.value).then(d,f)}h((n=n.apply(e,t||[])).next())})}const v6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Pw extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class b6 extends Pw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class pE extends Pw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gE extends Pw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ix;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ix||(ix={}));class x6{constructor(t,{headers:r={},customFetch:n,region:a=ix.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=v6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return y6(this,arguments,void 0,function*(r,n={}){var a;let s,l;try{const{headers:d,method:f,body:h,signal:p,timeout:g}=n;let y={},{region:b}=n;b||(b=this.region);const w=new URL(`${this.url}/${r}`);b&&b!=="any"&&(y["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let S;h&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",S=h):typeof h=="string"?(y["Content-Type"]="text/plain",S=h):typeof FormData<"u"&&h instanceof FormData?S=h:(y["Content-Type"]="application/json",S=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?S=JSON.stringify(h):S=h;let _=p;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),p?(_=l.signal,p.addEventListener("abort",()=>l.abort())):_=l.signal);const N=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),d),body:S,signal:_}).catch(D=>{throw new b6(D)}),O=N.headers.get("x-relay-error");if(O&&O==="true")throw new pE(N);if(!N.ok)throw new gE(N);let A=((a=N.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield N.json():A==="application/octet-stream"||A==="application/pdf"?C=yield N.blob():A==="text/event-stream"?C=N:A==="multipart/form-data"?C=yield N.formData():C=yield N.text(),{data:C,error:null,response:N}}catch(d){return{data:null,error:d,response:d instanceof gE||d instanceof pE?d.context:void 0}}finally{s&&clearTimeout(s)}})}}var w6=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},j6=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let l=null,d=null,f=null,h=s.status,p=s.statusText;if(s.ok){var g,y;if(r.method!=="HEAD"){var b;const N=await s.text();N===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?d=N:d=JSON.parse(N))}const S=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),_=(y=s.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");S&&_&&_.length>1&&(f=parseInt(_[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var w;const S=await s.text();try{l=JSON.parse(S),Array.isArray(l)&&s.status===404&&(d=[],l=null,h=200,p="OK")}catch{s.status===404&&S===""?(h=204,p="No Content"):l={message:S}}if(l&&r.isMaybeSingle&&(!(l==null||(w=l.details)===null||w===void 0)&&w.includes("0 rows"))&&(l=null,h=200,p="OK"),l&&r.shouldThrowOnError)throw new w6(l)}return{error:l,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(s=>{var l;let d="",f="",h="";const p=s==null?void 0:s.cause;if(p){var g,y,b,w;const N=(g=p==null?void 0:p.message)!==null&&g!==void 0?g:"",O=(y=p==null?void 0:p.code)!==null&&y!==void 0?y:"";d=`${(b=s==null?void 0:s.name)!==null&&b!==void 0?b:"FetchError"}: ${s==null?void 0:s.message}`,d+=`

Caused by: ${(w=p==null?void 0:p.name)!==null&&w!==void 0?w:"Error"}: ${N}`,O&&(d+=` (${O})`),p!=null&&p.stack&&(d+=`
${p.stack}`)}else{var S;d=(S=s==null?void 0:s.stack)!==null&&S!==void 0?S:""}const _=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(h="",f="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((p==null?void 0:p.name)==="HeadersOverflowError"||(p==null?void 0:p.code)==="UND_ERR_HEADERS_OVERFLOW")&&(h="",f="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(f+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=s==null?void 0:s.name)!==null&&l!==void 0?l:"FetchError"}: ${s==null?void 0:s.message}`,details:d,hint:f,code:h},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},S6=class extends j6{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var l;const d=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${f}"; options=${d};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const yE=new RegExp("[,()]");var ql=class extends S6{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&yE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&yE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},_6=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:a=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let s=!1;const l=(e??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:d,headers:f}=this.cloneRequestState();return d.searchParams.set("select",l),n&&f.append("Prefer",`count=${n}`),new ql({method:a,url:d,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),r||l.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);s.searchParams.set("columns",f.join(","))}}return new ql({method:a,url:s,headers:l,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const l="POST",{url:d,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&d.searchParams.set("on_conflict",t),n&&f.append("Prefer",`count=${n}`),a||f.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);d.searchParams.set("columns",p.join(","))}}return new ql({method:l,url:d,headers:f,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new ql({method:n,url:a,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new ql({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function N6(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O6(e){var t=N6(e,"string");return od(t)=="symbol"?t:t+""}function E6(e,t,r){return(t=O6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(n){E6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var A6=class IT{constructor(t,{headers:r={},schema:n,fetch:a,timeout:s,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=l;const d=a??globalThis.fetch;s!==void 0&&s>0?this.fetch=(f,h)=>{const p=new AbortController,g=setTimeout(()=>p.abort(),s),y=h==null?void 0:h.signal;if(y){if(y.aborted)return clearTimeout(g),d(f,h);const b=()=>{clearTimeout(g),p.abort()};return y.addEventListener("abort",b,{once:!0}),d(f,Lh(Lh({},h),{},{signal:p.signal})).finally(()=>{clearTimeout(g),y.removeEventListener("abort",b)})}return d(f,Lh(Lh({},h),{},{signal:p.signal})).finally(()=>clearTimeout(g))}:this.fetch=d}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new _6(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new IT(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var l;let d;const f=new URL(`${this.url}/rpc/${t}`);let h;const p=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(p)),g=n&&Object.values(r).some(p);g?(d="POST",h=r):n||a?(d=n?"HEAD":"GET",Object.entries(r).filter(([b,w])=>w!==void 0).map(([b,w])=>[b,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([b,w])=>{f.searchParams.append(b,w)})):(d="POST",h=r);const y=new Headers(this.headers);return g?y.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&y.set("Prefer",`count=${s}`),new ql({method:d,url:f,headers:y,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class C6{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const P6="2.95.3",k6=`realtime-js/${P6}`,T6="1.0.0",LT="2.0.0",bE=LT,sx=1e4,D6=1e3,M6=100;var ns;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ns||(ns={}));var lr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(lr||(lr={}));var ia;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ia||(ia={}));var ox;(function(e){e.websocket="websocket"})(ox||(ox={}));var io;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(io||(io={}));class R6{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var a,s;const l=t.topic,d=(a=t.ref)!==null&&a!==void 0?a:"",f=(s=t.join_ref)!==null&&s!==void 0?s:"",h=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+l.length+h.length+g.length,b=new ArrayBuffer(this.HEADER_LENGTH+y);let w=new DataView(b),S=0;w.setUint8(S++,this.KINDS.userBroadcastPush),w.setUint8(S++,f.length),w.setUint8(S++,d.length),w.setUint8(S++,l.length),w.setUint8(S++,h.length),w.setUint8(S++,g.length),w.setUint8(S++,r),Array.from(f,N=>w.setUint8(S++,N.charCodeAt(0))),Array.from(d,N=>w.setUint8(S++,N.charCodeAt(0))),Array.from(l,N=>w.setUint8(S++,N.charCodeAt(0))),Array.from(h,N=>w.setUint8(S++,N.charCodeAt(0))),Array.from(g,N=>w.setUint8(S++,N.charCodeAt(0)));var _=new Uint8Array(b.byteLength+n.byteLength);return _.set(new Uint8Array(b),0),_.set(new Uint8Array(n),b.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,l,d,f]=n;return r({join_ref:a,ref:s,topic:l,event:d,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const h=n.decode(t.slice(f,f+a));f=f+a;const p=n.decode(t.slice(f,f+s));f=f+s;const g=n.decode(t.slice(f,f+l));f=f+l;const y=t.slice(f,t.byteLength),b=d===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,w={type:this.BROADCAST_EVENT,event:p,payload:b};return l>0&&(w.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class BT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(jt||(jt={}));const xE=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=I6(l,e,t,a),s),{}):{}},I6=(e,t,r,n)=>{const a=t.find(d=>d.name===e),s=a==null?void 0:a.type,l=r[e];return s&&!n.includes(s)?$T(s,l):lx(l)},$T=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return U6(t,r)}switch(e){case jt.bool:return L6(t);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return B6(t);case jt.json:case jt.jsonb:return $6(t);case jt.timestamp:return z6(t);case jt.abstime:case jt.date:case jt.daterange:case jt.int4range:case jt.int8range:case jt.money:case jt.reltime:case jt.text:case jt.time:case jt.timestamptz:case jt.timetz:case jt.tsrange:case jt.tstzrange:return lx(t);default:return lx(t)}},lx=e=>e,L6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},B6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},U6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(d=>$T(t,d))}return e},z6=e=>typeof e=="string"?e.replace(" ","T"):e,UT=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Jv{constructor(t,r,n={},a=sx){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wE||(wE={}));class td{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=td.syncState(this.state,a,s,l),this.pendingDiffs.forEach(f=>{this.state=td.syncDiff(this.state,f,s,l)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=td.syncDiff(this.state,a,s,l),d())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),l=this.transformState(r),d={},f={};return this.map(s,(h,p)=>{l[h]||(f[h]=p)}),this.map(l,(h,p)=>{const g=s[h];if(g){const y=p.map(_=>_.presence_ref),b=g.map(_=>_.presence_ref),w=p.filter(_=>b.indexOf(_.presence_ref)<0),S=g.filter(_=>y.indexOf(_.presence_ref)<0);w.length>0&&(d[h]=w),S.length>0&&(f[h]=S)}else d[h]=p}),this.syncDiff(s,{joins:d,leaves:f},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(d,f)=>{var h;const p=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),p.length>0){const g=t[d].map(b=>b.presence_ref),y=p.filter(b=>g.indexOf(b.presence_ref)<0);t[d].unshift(...y)}n(d,p,f)}),this.map(l,(d,f)=>{let h=t[d];if(!h)return;const p=f.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),t[d]=h,a(d,h,f),h.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jE||(jE={}));var rd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(rd||(rd={}));var Za;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Za||(Za={}));class Ql{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=lr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Jv(this,ia.join,this.params,this.timeout),this.rejoinTimer=new BT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ia.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new td(this),this.broadcastEndpointURL=UT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==lr.closed){const{config:{broadcast:l,presence:d,private:f}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[rd.PRESENCE]&&this.bindings[rd.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>t==null?void 0:t(Za.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(Za.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){t==null||t(Za.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(w=S==null?void 0:S.length)!==null&&w!==void 0?w:0,N=[];for(let O=0;O<_;O++){const A=S[O],{filter:{event:C,schema:D,table:T,filter:k}}=A,M=b&&b[O];if(M&&M.event===C&&Ql.isFilterValueEqual(M.schema,D)&&Ql.isFilterValueEqual(M.table,T)&&Ql.isFilterValueEqual(M.filter,k))N.push(Object.assign(Object.assign({},A),{id:M.id}));else{this.unsubscribe(),this.state=lr.errored,t==null||t(Za.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Za.SUBSCRIBED);return}}).receive("error",b=>{this.state=lr.errored,t==null||t(Za.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Za.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===lr.joined&&t===rd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const h=await d.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,d,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ia.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Jv(this,ia.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Jv(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>M6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:p}=ia;if(n&&[d,f,h,p].indexOf(l)>=0&&n!==this._joinRef())return;let y=this._onMessage(l,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var w,S,_;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(S=b.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(b=>b.callback(y,n)):(s=this.bindings[l])===null||s===void 0||s.filter(b=>{var w,S,_,N,O,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const C=b.id,D=(w=b.filter)===null||w===void 0?void 0:w.event;return C&&((S=r.ids)===null||S===void 0?void 0:S.includes(C))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(O=(N=b==null?void 0:b.filter)===null||N===void 0?void 0:N.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return C==="*"||C===((A=r==null?void 0:r.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:S,table:_,commit_timestamp:N,type:O,errors:A}=w;y=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:N,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(w))}b.callback(y,n)})}_isClosed(){return this.state===lr.closed}_isJoined(){return this.state===lr.joined}_isJoining(){return this.state===lr.joining}_isLeaving(){return this.state===lr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Ql.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ia.close,{},t)}_onError(t){this._on(ia.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=xE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=xE(t.columns,t.old_record)),r}}const e0=()=>{},Bh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},q6=[1e3,2e3,5e3,1e4],K6=1e4,F6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class H6{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sx,this.transport=null,this.heartbeatIntervalMs=Bh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=e0,this.ref=0,this.reconnectTimer=null,this.vsn=bE,this.logger=e0,this.conn=null,this.sendBuffer=[],this.serializer=new R6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ox.websocket}`,this.httpEndpoint=UT(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=C6.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ns.connecting:return io.Connecting;case ns.open:return io.Open;case ns.closing:return io.Closing;default:return io.Closed}}isConnected(){return this.connectionState()===io.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new Ql(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(D6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Bh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:s,ref:l}=r,d=l?`(${l})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${a} ${d}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ns.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ns.open||this.conn.readyState===ns.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ia.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([F6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:k6};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(ia.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new BT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,l,d,f,h,p,g,y,b;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:sx,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Bh.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:e0,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:bE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:(w=>q6[w-1]||K6),this.vsn){case T6:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:((w,S)=>S(JSON.stringify(w))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:((w,S)=>S(JSON.parse(w)));break;case LT:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ld=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Q6(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function V6(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function G6(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:l}){const d=Q6(e.baseUrl,n,a),f=await V6(e.auth),h=await t(d,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...f,...l},body:s?JSON.stringify(s):void 0}),p=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),y=g&&p?JSON.parse(p):p;if(!h.ok){const b=g?y:void 0,w=b==null?void 0:b.error;throw new ld((w==null?void 0:w.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:b})}return{status:h.status,headers:h.headers,data:y}}}}function $h(e){return e.join("")}var Y6=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:$h(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$h(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$h(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$h(e.namespace)}`}),!0}catch(t){if(t instanceof ld&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ld&&r.status===409)return;throw r}}};function Tl(e){return e.join("")}var W6=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ld&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ld&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},X6=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=G6({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Y6(this.client,t),this.tableOps=new W6(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},wp=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function jp(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Uh=class extends wp{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zT=class extends wp{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Z6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),J6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cx=e=>{if(Array.isArray(e))return e.map(r=>cx(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=cx(n)}),t},eU=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function tU(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rU(e){var t=tU(e,"string");return cd(t)=="symbol"?t:t+""}function nU(e,t,r){return(t=rU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(r),!0).forEach(function(n){nU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const _E=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},aU=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,s=a.status||500;if(typeof a.json=="function")a.json().then(l=>{const d=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";t(new Uh(_E(l),s,d,n))}).catch(()=>{if(n==="vectors"){const l=s+"";t(new Uh(a.statusText||`HTTP ${s} error`,s,l,n))}else{const l=s+"";t(new Uh(a.statusText||`HTTP ${s} error`,s,l,n))}});else{const l=s+"";t(new Uh(a.statusText||`HTTP ${s} error`,s,l,n))}}else t(new zT(_E(e),e,n))},iU=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Re(Re({},a),r):(J6(n)?(a.headers=Re({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Re(Re({},a),r))};async function Bu(e,t,r,n,a,s,l){return new Promise((d,f)=>{e(r,iU(t,n,a,s)).then(h=>{if(!h.ok)throw h;if(n!=null&&n.noResolveJson)return h;if(l==="vectors"){const p=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!p||!p.includes("application/json"))return{}}return h.json()}).then(h=>d(h)).catch(h=>aU(h,f,n,l))})}function qT(e="storage"){return{get:async(t,r,n,a)=>Bu(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,s)=>Bu(t,"POST",r,a,s,n,e),put:async(t,r,n,a,s)=>Bu(t,"PUT",r,a,s,n,e),head:async(t,r,n,a)=>Bu(t,"HEAD",r,Re(Re({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,s)=>Bu(t,"DELETE",r,a,s,n,e)}}const sU=qT("storage"),{get:ud,post:ra,put:ux,head:oU,remove:kw}=sU,wn=qT("vectors");var Sc=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Z6(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jp(r))return{data:null,error:r};throw r}}},lU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(jp(t))return{data:null,error:t};throw t}}};let KT;KT=Symbol.toStringTag;var cU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[KT]="BlobDownloadBuilder",this.promise=null}asStream(){return new lU(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(jp(t))return{data:null,error:t};throw t}}};const uU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},NE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var dU=class extends Sc{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let s;const l=Re(Re({},NE),n);let d=Re(Re({},a.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",a.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),f&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(f))):(s=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=a.toBase64(a.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(d=Re(Re({},d),n.headers));const h=a._removeEmptyFolders(t),p=a._getFinalPath(h),g=await(e=="PUT"?ux:ra)(a.fetch,`${a.url}/object/${p}`,s,Re({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:h,id:g.Id,fullPath:g.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const s=a._removeEmptyFolders(e),l=a._getFinalPath(s),d=new URL(a.url+`/object/upload/sign/${l}`);return d.searchParams.set("token",t),a.handleOperation(async()=>{let f;const h=Re({upsert:NE.upsert},n),p=Re(Re({},a.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{path:s,fullPath:(await ux(a.fetch,d.toString(),f,{headers:p})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=Re({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=await ra(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(r.url+s.url),d=l.searchParams.get("token");if(!d)throw new wp("No token returned by API");return{signedUrl:l.toString(),path:e,token:d}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ra(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ra(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),s=await ra(n.fetch,`${n.url}/object/sign/${a}`,Re({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${l}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await ra(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(l=>Re(Re({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${s}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=a?`?${a}`:"",l=this._getFinalPath(e),d=()=>ud(this.fetch,`${this.url}/${n}/${l}${s}`,{headers:this.headers,noResolveJson:!0},r);return new cU(d,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>cx(await ud(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await oU(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jp(n)&&n instanceof zT){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${d}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await kw(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=Re(Re(Re({},uU),t),{},{prefix:e||""});return await ra(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Re({},e);return await ra(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const fU="2.95.3",zd={"X-Client-Info":`storage-js/${fU}`};var hU=class extends Sc{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const s=a.href.replace(/\/$/,""),l=Re(Re({},zd),t);super(s,l,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await ud(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ud(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ra(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await ux(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ra(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await kw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},mU=class extends Sc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Re(Re({},zd),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ra(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await ud(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await kw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!eU(e))throw new wp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new X6({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const l=a[s];return typeof l!="function"?l:async(...d)=>{try{return{data:await l.apply(a,d),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}}}})}},pU=class extends Sc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Re(Re({},zd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await wn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await wn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await wn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await wn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},gU=class extends Sc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Re(Re({},zd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await wn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await wn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await wn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await wn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await wn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},yU=class extends Sc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Re(Re({},zd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await wn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await wn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await wn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await wn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},vU=class extends yU{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new bU(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},bU=class extends pU{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new xU(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},xU=class extends gU{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},wU=class extends hU{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new dU(this.url,this.headers,e,this.fetch)}get vectors(){return new vU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mU(this.url+"/iceberg",this.headers,this.fetch)}};const FT="2.95.3",Kl=30*1e3,dx=3,t0=dx*Kl,jU="http://localhost:9999",SU="supabase.auth.token",_U={"X-Client-Info":`gotrue-js/${FT}`},fx="X-Supabase-Api-Version",HT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OU=600*1e3;class dd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class EU extends dd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function AU(e){return Pe(e)&&e.name==="AuthApiError"}class so extends dd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class xi extends dd{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class xn extends xi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function r0(e){return Pe(e)&&e.name==="AuthSessionMissingError"}class Dl extends xi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zh extends xi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qh extends xi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function CU(e){return Pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class OE extends xi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class PU extends xi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class hx extends xi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function n0(e){return Pe(e)&&e.name==="AuthRetryableFetchError"}class EE extends xi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class mx extends xi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),AE=` 	
\r=`.split(""),kU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<AE.length;t+=1)e[AE[t].charCodeAt(0)]=-2;for(let t=0;t<bm.length;t+=1)e[bm[t].charCodeAt(0)]=t;return e})();function CE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bm[n]),t.queuedBits-=6}}function QT(e,t,r){const n=kU[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function PE(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{MU(l,n,r)};for(let l=0;l<e.length;l+=1)QT(e.charCodeAt(l),a,s);return t.join("")}function TU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DU(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}TU(n,t)}}function MU(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Yl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)QT(e.charCodeAt(a),r,n);return new Uint8Array(t)}function RU(e){const t=[];return DU(e,r=>t.push(r)),new Uint8Array(t)}function lo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>CE(a,r,n)),CE(null,r,n),t.join("")}function IU(e){return Math.round(Date.now()/1e3)+e}function LU(){return Symbol("auth-callback")}const kr=()=>typeof window<"u"&&typeof document<"u",Zs={tested:!1,writable:!1},VT=()=>{if(!kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zs.tested)return Zs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zs.tested=!0,Zs.writable=!0}catch{Zs.tested=!0,Zs.writable=!1}return Zs.writable};function BU(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const GT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$U=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Js=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Pr=async(e,t)=>{await e.removeItem(t)};class Sp{constructor(){this.promise=new Sp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Sp.promiseConstructor=Promise;function Kh(e){const t=e.split(".");if(t.length!==3)throw new mx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!NU.test(t[n]))throw new mx("JWT not in base64url format");return{header:JSON.parse(PE(t[0])),payload:JSON.parse(PE(t[1])),signature:Yl(t[2]),raw:{header:t[0],payload:t[1]}}}async function UU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zU(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){a(l);return}}})()})}function qU(e){return("0"+e.toString(16)).substr(-2)}function KU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,qU).join("")}async function FU(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function HU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await FU(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ml(e,t,r=!1){const n=KU();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Fl(e,`${t}-code-verifier`,a);const s=await HU(n);return[s,n===s?"plain":"s256"]}const QU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VU(e){const t=e.headers.get(fx);if(!t||!t.match(QU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function GU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function YU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rl(e){if(!WU.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function a0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function XU(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function kE(e){return JSON.parse(JSON.stringify(e))}const to=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZU=[502,503,504];async function TE(e){var t;if(!$U(e))throw new hx(to(e),0);if(ZU.includes(e.status))throw new hx(to(e),e.status);let r;try{r=await e.json()}catch(s){throw new so(to(s),s)}let n;const a=VU(e);if(a&&a.getTime()>=HT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new EE(to(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new xn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new EE(to(r),e.status,r.weak_password.reasons);throw new EU(to(r),e.status||500,n)}const JU=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Me(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[fx]||(s[fx]=HT["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await ez(e,t,r+d,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function ez(e,t,r,n,a,s){const l=JU(t,n,a,s);let d;try{d=await e(r,Object.assign({},l))}catch(f){throw console.error(f),new hx(to(f),0)}if(d.ok||await TE(d),n!=null&&n.noResolveJson)return d;try{return await d.json()}catch(f){await TE(f)}}function ta(e){var t;let r=null;nz(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=IU(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function DE(e){const t=ta(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ss(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tz(e){return{data:e,error:null}}function rz(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,l=xp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function ME(e){return e}function nz(e){return e.access_token&&e.refresh_token&&e.expires_in}const i0=["global","local","others"];class az{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=GT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=i0[0]){if(i0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${i0.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ss})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=xp(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:rz,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ss})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:ME});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);h[`${_}Page`]=S}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Pe(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Rl(t);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ss})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Rl(t);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ss})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Rl(t);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ss})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Rl(t.userId);try{const{data:r,error:n}=await Me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Rl(t.userId),Rl(t.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:ME});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);h[`${_}Page`]=S}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Pe(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}function RE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Il={debug:!!(globalThis&&VT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class YT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class iz extends YT{}async function sz(e,t,r){Il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Il.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Il.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Il.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new iz(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Il.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function oz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function WT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function lz(e){return parseInt(e,16)}function cz(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function uz(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:d,requestId:f,resources:h,scheme:p,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=WT(e.address),w=p?`${p}://${n}`:n,S=e.statement?`${e.statement}
`:"",_=`${w} wants you to sign in with your Ethereum account:
${b}

${S}`;let N=`URI: ${g}
Version: ${y}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),f&&(N+=`
Request ID: ${f}`),h){let O=`
Resources:`;for(const A of h){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);O+=`
- ${A}`}N+=O}return`${_}
${N}`}class er extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class xm extends er{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function dz({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new er({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new er({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new er({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new er({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new er({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new er({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(XT(l)){if(s.rp.id!==l)return new er({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new er({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function fz({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(XT(n)){if(r.rpId!==n)return new er({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class hz{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const mz=new hz;function pz(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=xp(e,["challenge","user","excludeCredentials"]),s=Yl(t).buffer,l=Object.assign(Object.assign({},r),{id:Yl(r.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:s,user:l});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Yl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function gz(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=xp(e,["challenge","allowCredentials"]),a=Yl(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const d=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},d),{id:Yl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function yz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:lo(new Uint8Array(e.response.attestationObject)),clientDataJSON:lo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function vz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:lo(new Uint8Array(a.authenticatorData)),clientDataJSON:lo(new Uint8Array(a.clientDataJSON)),signature:lo(new Uint8Array(a.signature)),userHandle:a.userHandle?lo(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function IE(){var e,t;return!!(kr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function bz(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xm("Browser returned unexpected credential type",t)}:{data:null,error:new xm("Empty credential response",t)}}catch(t){return{data:null,error:dz({error:t,options:e})}}}async function xz(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xm("Browser returned unexpected credential type",t)}:{data:null,error:new xm("Empty credential response",t)}}catch(t){return{data:null,error:fz({error:t,options:e})}}}const wz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},jz={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wm(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const d=n[s];t(d)?n[s]=wm(d,l):n[s]=wm(l)}else n[s]=l}return n}function Sz(e,t){return wm(wz,e,t||{})}function _z(e,t){return wm(jz,e,t||{})}class Nz{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){var l;try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!d)return{data:null,error:f};const h=a??mz.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;if(!p.name){const g=n;if(g)p.name=`${p.id}:${g}`;else{const b=(await this.client.getUser()).data.user,w=((l=b==null?void 0:b.user_metadata)===null||l===void 0?void 0:l.name)||(b==null?void 0:b.email)||(b==null?void 0:b.id)||"User";p.name=`${p.id}:${w}`}}p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=Sz(d.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:g,error:y}=await bz({publicKey:p,signal:h});return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}case"request":{const p=_z(d.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:g,error:y}=await xz(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}}}catch(d){return Pe(d)?{data:null,error:d}:{data:null,error:new so("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new dd("rpId is required for WebAuthn authentication")};try{if(!IE())return{data:null,error:new so("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!l)return{data:null,error:d};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(l){return Pe(l)?{data:null,error:l}:{data:null,error:new so("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new dd("rpId is required for WebAuthn registration")};try{if(!IE())return{data:null,error:new so("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Pe(l)?{data:null,error:l}:{data:null,error:new so("Unexpected error in register",l)}}}}oz();const Oz={url:jU,storageKey:SU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_U,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function LE(e,t,r){return await r()}const Ll={};class fd{get jwks(){var t,r;return(r=(t=Ll[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ll[this.storageKey]=Object.assign(Object.assign({},Ll[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ll[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ll[this.storageKey]=Object.assign(Object.assign({},Ll[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Oz),t);if(this.storageKey=s.storageKey,this.instanceID=(r=fd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,fd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&kr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new az({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=GT(s.fetch),this.lock=s.lock||LE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&kr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=sz:this.lock=LE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Nz(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:VT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=RE(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=RE(this.memoryStorage)),kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${FT}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(kr()&&(r=BU(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),kr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),CU(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:l,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Pe(r)?this._returnResult({error:r}):this._returnResult({error:new so("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ta}),{data:l,error:d}=s;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:p,password:g,options:y}=t;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await Ml(this.storage,this.storageKey)),s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:g,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:b,code_challenge_method:w},xform:ta})}else if("phone"in t){const{phone:p,password:g,options:y}=t;s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(a=y==null?void 0:y.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:ta})}else throw new zh("You must provide either an email or phone number and a password");const{data:l,error:d}=s;if(d||!l)return await Pr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(await Pr(this.storage,`${this.storageKey}-code-verifier`),Pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:d}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:DE})}else if("phone"in t){const{phone:s,password:l,options:d}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:DE})}else throw new zh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new Dl;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,l,d,f,h,p,g,y;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:S,wallet:_,statement:N,options:O}=t;let A;if(kr())if(typeof _=="object")A=_;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")A=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const C=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href),D=await A.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=WT(D[0]);let k=(n=O==null?void 0:O.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const I=await A.request({method:"eth_chainId"});k=lz(I)}const M={domain:C.host,address:T,statement:N,uri:C.href,version:"1",chainId:k,nonce:(a=O==null?void 0:O.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=O==null?void 0:O.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=O==null?void 0:O.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=O==null?void 0:O.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=O==null?void 0:O.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=uz(M),w=await A.request({method:"personal_sign",params:[cz(b),T]})}try{const{data:S,error:_}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ta});if(_)throw _;if(!S||!S.session||!S.user){const N=new Dl;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(Pe(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var r,n,a,s,l,d,f,h,p,g,y,b;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:_,wallet:N,statement:O,options:A}=t;let C;if(kr())if(typeof N=="object")C=N;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))C=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const D=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const T=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),O?{statement:O}:null));let k;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")k=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)k=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)w=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),S=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${D.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(a=(n=A==null?void 0:A.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=A==null?void 0:A.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((g=(p=A==null?void 0:A.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...A.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const T=await C.signMessage(new TextEncoder().encode(w),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=T}}try{const{data:_,error:N}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:lo(S)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:ta});if(N)throw N;if(!_||!_.session||!_.user){const O=new Dl;return this._returnResult({data:{user:null,session:null},error:O})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:N})}catch(_){if(Pe(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await Js(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new PU;const{data:s,error:l}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ta});if(await Pr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const d=new Dl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(await Pr(this.storage,`${this.storageKey}-code-verifier`),Pe(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:l}=t,d=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ta}),{data:f,error:h}=d;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const p=new Dl;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,l;try{if("email"in t){const{email:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Ml(this.storage,this.storageKey));const{error:g}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:p}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new zh("You must provide either an email or phone number.")}catch(d){if(await Pr(this.storage,`${this.storageKey}-code-verifier`),Pe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:d}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:ta});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(Pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,l;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Ml(this.storage,this.storageKey));const h=await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:tz});return!((s=h.data)===null||s===void 0)&&s.url&&kr()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(d){if(await Pr(this.storage,`${this.storageKey}-code-verifier`),Pe(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new xn;const{error:a}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:l}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:l,error:d}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d})}throw new zh("You must provide either an email or phone number and a type")}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Js(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<t0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await Js(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=a0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=XU(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ss}):await this._useSession(async r=>{var n,a,s;const{data:l,error:d}=r;if(d)throw d;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xn}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:ss})})}catch(r){if(Pe(r))return r0(r)&&(await this._removeSession(),await Pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new xn;const l=a.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await Ml(this.storage,this.storageKey));const{data:h,error:p}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:ss});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Pr(this.storage,`${this.storageKey}-code-verifier`),Pe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xn;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:l}=Kh(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};s=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});s={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Pe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:d}=r;if(d)throw d;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new xn;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!kr())throw new qh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new OE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new OE("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:d,expires_at:f,token_type:h}=t;if(!s||!d||!l||!h)throw new qh("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(d);let y=p+g;f&&(y=parseInt(f));const b=y-p;b*1e3<=Kl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const w=y-g;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,p);const{data:S,error:_}=await this._getUser(s);if(_)throw _;const N={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:y,refresh_token:l,token_type:h,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Js(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s&&!r0(s))return this._returnResult({error:s});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(AU(d)&&(d.status===404||d.status===401||d.status===403)||r0(d)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=LU(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ml(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Pr(this.storage,`${this.storageKey}-code-verifier`),Pe(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var l,d,f,h,p;const{data:g,error:y}=s;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return kr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:l,provider:d,token:f,access_token:h,nonce:p}=t,g=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:f,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ta}),{data:y,error:b}=g;return b?this._returnResult({data:{user:null,session:null},error:b}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Dl}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:b}))}catch(a){if(await Pr(this.storage,`${this.storageKey}-code-verifier`),Pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)throw l;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zU(async a=>(a>0&&await UU(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ta})),(a,s)=>{const l=200*Math.pow(2,a);return s&&n0(s)&&Date.now()+l-n<Kl})}catch(n){if(this._debug(r,"error",n),Pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),kr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Js(this.storage,this.storageKey);if(a&&this.userStorage){let l=await Js(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Fl(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:a0()}else if(a&&!a.user&&!a.user){const l=await Js(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,await Pr(this.storage,this.storageKey+"-user"),await Fl(this.storage,this.storageKey,a)):a.user=a0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<t0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${t0}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),n0(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(a.access_token);!d&&(l!=null&&l.user)?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Sp;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new xn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const d={data:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(a,"error",s),Pe(s)){const l={data:null,error:s};return n0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(l),s.length>0){for(let d=0;d<s.length;d+=1)console.error(s[d]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Pr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Fl(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=kE(a);await Fl(this.storage,this.storageKey,s)}else{const a=kE(r);await Fl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Pr(this.storage,this.storageKey),await Pr(this.storage,this.storageKey+"-code-verifier"),await Pr(this.storage,this.storageKey+"-user"),this.userStorage&&await Pr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Kl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Kl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Kl}ms, refresh threshold is ${dx} ticks`),a<=dx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof YT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await Ml(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(d.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&f.type==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?yz(t.webauthn.credential_response):vz(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:pz(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:gz(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,s;if(t)try{const{payload:b}=Kh(t);let w=null;b.aal&&(w=b.aal);let S=w;const{data:{user:_},error:N}=await this.getUser(t);if(N)return this._returnResult({data:null,error:N});((n=(r=_==null?void 0:_.factors)===null||r===void 0?void 0:r.filter(C=>C.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(S="aal2");const A=b.amr||[];return{data:{currentLevel:w,nextLevel:S,currentAuthenticationMethods:A},error:null}}catch(b){if(Pe(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:l},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Kh(l.access_token);let h=null;f.aal&&(h=f.aal);let p=h;((s=(a=l.user.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const y=f.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Me(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new xn})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new xn});const l=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new xn});const l=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new xn})})}catch(t){if(Pe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xn})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(d=>d.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+OU>a)return n;const{data:s,error:l}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:b,error:w}=await this.getSession();if(w||!b.session)return this._returnResult({data:null,error:w});n=b.session.access_token}const{header:a,payload:s,signature:l,raw:{header:d,payload:f}}=Kh(n);r!=null&&r.allowExpired||GU(s.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:s,header:a,signature:l},error:null}}const p=YU(a.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,RU(`${d}.${f}`)))throw new mx("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}}fd.nextInstanceID={};const Ez=fd,Az="2.95.3";let Xu="";typeof Deno<"u"?Xu="deno":typeof document<"u"?Xu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xu="react-native":Xu="node";const Cz={"X-Client-Info":`supabase-js-${Xu}/${Az}`},Pz={headers:Cz},kz={schema:"public"},Tz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dz={};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function Mz(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rz(e){var t=Mz(e,"string");return hd(t)=="symbol"?t:t+""}function Iz(e,t,r){return(t=Rz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(n){Iz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Lz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Bz=()=>Headers,$z=(e,t,r)=>{const n=Lz(r),a=Bz();return async(s,l)=>{var d;const f=(d=await t())!==null&&d!==void 0?d:e;let h=new a(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(s,zt(zt({},l),{},{headers:h}))}};function Uz(e){return e.endsWith("/")?e:e+"/"}function zz(e,t){var r,n;const{db:a,auth:s,realtime:l,global:d}=e,{db:f,auth:h,realtime:p,global:g}=t,y={db:zt(zt({},f),a),auth:zt(zt({},h),s),realtime:zt(zt({},p),l),storage:{},global:zt(zt(zt({},g),d),{},{headers:zt(zt({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function qz(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Uz(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Kz=class extends Ez{constructor(e){super(e)}},Fz=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const s=qz(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,d={db:kz,realtime:Dz,auth:zt(zt({},Tz),{},{storageKey:l}),global:Pz},f=zz(r??{},d);if(this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=$z(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(zt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new A6(new URL("rest/v1",s).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new wU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new x6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:l,lock:d,debug:f,throwOnError:h},p,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kz({url:this.authUrl.href,headers:zt(zt({},y),p),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:l,lock:d,debug:f,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new H6(this.realtimeUrl.href,zt(zt({},e),{},{params:zt(zt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Hz=(e,t,r)=>new Fz(e,t,r);function Qz(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Qz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vz="https://ozjddzasadgffjjeqntc.supabase.co",Gz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96amRkemFzYWRnZmZqamVxbnRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTMwMzEsImV4cCI6MjA4NTk2OTAzMX0._1fbWup_bHYe0PN5QUcptRMuwZRAEFwQOPEPd7Lk3NY",ye=Hz(Vz,Gz);function ZT(e){return`${e.replace(/[^0-9]/g,"")}@bdhatbela.local`}const Yz={company:{name:"BD Hatbela",logo:"",phone:"",email:"",address:""},order:{prefix:"BDH-",nextNumber:1},invoice:{title:"Tax Invoice",logoWidth:60,logoHeight:60,footer:"Thank you for shopping with BD Hatbela!"},defaults:{accountId:"",paymentMethod:"Cash",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:20},categories:[],paymentMethods:[],courier:{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}},JT=e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null},Wz=JT("currentUser"),Xz=JT("settings"),we={users:[],customers:[],vendors:[],products:[],orders:[],bills:[],accounts:[],transactions:[],currentUser:Wz??null,settings:Xz??Yz},$u=()=>{try{localStorage.setItem("currentUser",JSON.stringify(we.currentUser)),localStorage.setItem("settings",JSON.stringify(we.settings))}catch(e){console.warn("[DB] localStorage write failed:",e)}},eD=j.createContext(void 0),Zz=({children:e})=>{const[t,r]=j.useState(null),[n,a]=j.useState(null),[s,l]=j.useState(!0);console.log("[AuthProvider] Mounting - initializing context provider");const d=async(p,g)=>{if(!p&&!g)return console.warn("[Auth] No userId or email provided to fetchProfile"),null;try{let y;if(p)console.log("[Auth] Fetching profile for userId:",p),y=ye.from("users").select("*").eq("id",p).single();else{const S=g.split("@")[0].replace(/[^0-9]/g,"");console.log("[Auth] Fetching profile for phone:",S),y=ye.from("users").select("*").eq("phone",S).single()}const{data:b,error:w}=await Promise.race([y,new Promise(S=>setTimeout(()=>S({data:null,error:new Error("timeout")}),3e3))]);return w?(console.error("[Auth] Profile fetch error:",w.message),null):(console.log("[Auth] Profile fetched successfully"),b)}catch(y){return console.error("[Auth] Profile fetch exception:",y),null}};j.useEffect(()=>{var w,S;let p=!0,g=null;return(async()=>{var _;try{console.log("[Auth] Initializing - trying to restore session...");const{data:N}=await Promise.race([ye.auth.getSession(),new Promise(O=>setTimeout(()=>O({data:null}),3e3))]);if((_=N==null?void 0:N.session)!=null&&_.user&&p){console.log("[Auth] Session restored from storage:",N.session.user.email),r(N.session.user);const O=await d(N.session.user.id,N.session.user.email||void 0);O&&p?(console.log("[Auth] Session profile loaded"),a(O),we.currentUser=O,$u(),localStorage.setItem("isLoggedIn","true")):p&&console.warn("[Auth] Session exists but profile not found, proceeding without it")}p&&l(!1)}catch(N){console.error("[Auth] Init error (non-fatal, waiting for onAuthStateChange):",N),p&&l(!1)}})(),g=((S=(w=ye.auth.onAuthStateChange(async(_,N)=>{console.log("[Auth] onAuthStateChange fired, event:",_,"has session:",!!(N!=null&&N.user));try{if(N!=null&&N.user){console.log("[Auth] User authenticated:",N.user.email,"userId:",N.user.id),r(N.user);let O=await d(N.user.id,N.user.email||void 0);O||(console.log("[Auth] First profile fetch failed, retrying after 1 second..."),await new Promise(A=>setTimeout(A,1e3)),O=await d(N.user.id,N.user.email||void 0)),O&&p?(console.log("[Auth] Profile loaded successfully, updating state"),a(O),we.currentUser=O,$u(),localStorage.setItem("isLoggedIn","true"),window.dispatchEvent(new Event("authChange"))):p&&(console.warn("[Auth] Profile not found after retries"),a(null),localStorage.setItem("isLoggedIn","true"),window.dispatchEvent(new Event("authChange"))),p&&l(!1)}else console.log("[Auth] No session - user logged out or never logged in"),p&&(r(null),a(null),we.currentUser=null,$u(),localStorage.removeItem("isLoggedIn"),window.dispatchEvent(new Event("authChange")),l(!1))}catch(O){console.error("[Auth] onAuthStateChange error:",O),p&&(r(null),a(null),l(!1))}}).data)==null?void 0:w.subscription)==null?void 0:S.unsubscribe)||(()=>{}),()=>{if(console.log("[Auth] Cleanup function called"),p=!1,g)try{g()}catch(_){console.error("[Auth] Error unsubscribing:",_)}}},[]);const f=async(p,g)=>{var b,w;let y=p;p.includes("@")||(y=ZT(p)),console.log("[Auth] signIn called with email:",y);try{const S=await ye.auth.signInWithPassword({email:y,password:g});if(console.log("[Auth] signInWithPassword response:",S.error?"Error":"Success"),S.error)return(b=S.error.message)!=null&&b.includes("Email not confirmed")||S.error.status===422?(console.error("[Auth] Login blocked - Email confirmation required. Admin must disable email confirmation in Supabase:",S.error),S.error.message='Email confirmation required. Please have administrator disable email confirmation in Supabase dashboard under Authentication > Providers > Email, then toggle off "Confirm email"'):console.error("[Auth] signIn error:",S.error),S;if((w=S.data)!=null&&w.user){console.log("[Auth] signIn successful, updating state immediately for user:",S.data.user.email),r(S.data.user);const _=await d(S.data.user.id,S.data.user.email||void 0);_?(console.log("[Auth] Profile loaded after signIn"),a(_),we.currentUser=_,$u()):(console.warn("[Auth] Profile not found after signIn, but proceeding with authenticated user"),a(null)),localStorage.setItem("isLoggedIn","true"),l(!1),window.dispatchEvent(new Event("authChange"))}return S}catch(S){return console.error("[Auth] signIn exception:",S),{error:S}}},h=async()=>{console.log("[Auth] signOut called");try{await ye.auth.signOut(),r(null),a(null),we.currentUser=null,$u(),localStorage.removeItem("isLoggedIn"),window.dispatchEvent(new Event("authChange")),console.log("[Auth] signOut completed successfully")}catch(p){console.error("[Auth] signOut error:",p)}};return console.log("[AuthProvider] Rendering with context value:",{user:!!t,profile:!!n,isLoading:s}),c.jsx(eD.Provider,{value:{user:t,profile:n,isLoading:s,signIn:f,signOut:h},children:e})};function _p(){console.log("[useAuth] Called, checking context...");const e=j.useContext(eD);if(console.log("[useAuth] Context value:",e?"exists":"undefined"),!e)throw console.error("[useAuth] ERROR: Context not available! This hook must be used within <AuthProvider>",{contextName:"AuthContext",componentStack:new Error().stack}),new Error("useAuth must be used within AuthProvider");return e}const tD=j.createContext(void 0),Jz=({children:e})=>{const[t,r]=j.useState([]),n=j.useCallback((l,d,f=3500)=>{const h=`toast-${Date.now()}-${Math.random()}`,p={id:h,message:l,type:d,duration:f};return r(g=>[...g,p]),f>0&&setTimeout(()=>{a(h)},f),h},[]),a=j.useCallback(l=>{r(d=>d.filter(f=>f.id!==l))},[]),s=j.useCallback((l,d,f,h=3500)=>{r(p=>{const g=p.map(y=>y.id===l?{...y,message:d,type:f,duration:h}:y);return h>0&&setTimeout(()=>{a(l)},h),g})},[a]);return c.jsx(tD.Provider,{value:{toasts:t,showToast:n,dismissToast:a,updateToast:s},children:e})},rD=()=>{const e=j.useContext(tD);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Mr=()=>{const{showToast:e,updateToast:t}=rD();return{success:r=>e(r,"success",3500),error:r=>e(r,"error",4500),warning:r=>e(r,"warning",3500),info:r=>e(r,"info",3500),loading:r=>e(r,"info",0),update:(r,n,a="success")=>t(r,n,a,3500)}},nD=j.createContext(void 0),eq=({children:e})=>{const[t,r]=j.useState(""),n=()=>r("");return c.jsx(nD.Provider,{value:{searchQuery:t,setSearchQuery:r,clearSearch:n},children:e})},Os=()=>{const e=j.useContext(nD);if(!e)throw new Error("useSearch must be used within a SearchProvider");return e},tq=j.createContext(void 0),rq=({children:e})=>{const t=$e(),[r,n]=xr.useState(!1);return j.useEffect(()=>{console.log("[Realtime] Initializing subscriptions for orders, bills, transactions...");const a=ye.channel("public:orders",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"orders"},f=>{var h,p;if(console.log("[Realtime] Orders change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["orders"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["orders"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["orders"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["orders"],(g=[])=>g.filter(y=>y.id!==f.new.id));t.invalidateQueries({queryKey:["ordersByCustomerId"]}),(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["order",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?(console.log("[Realtime] Orders channel subscribed"),n(!0)):f==="CHANNEL_ERROR"&&h&&(console.error("[Realtime] Orders channel error:",h),n(!1))}),s=ye.channel("public:bills",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"bills"},f=>{var h,p;if(console.log("[Realtime] Bills change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["bills"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["bills"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["bills"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["bills"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["bill",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Bills channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Bills channel error:",h)}),l=ye.channel("public:transactions",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"transactions"},f=>{var h,p;if(console.log("[Realtime] Transactions change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["transactions"])||[];if(!g.find(y=>y.id===f.new.id)){const y=[f.new,...g].sort((b,w)=>{const S=new Date(b.date||b.createdAt||0).getTime();return new Date(w.date||w.createdAt||0).getTime()-S});t.setQueryData(["transactions"],y)}}else f.eventType==="UPDATE"?t.setQueryData(["transactions"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["transactions"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["transaction",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Transactions channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Transactions channel error:",h)}),d=ye.channel("public:accounts",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"accounts"},f=>{var h,p;if(console.log("[Realtime] Accounts change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["accounts"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["accounts"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["accounts"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["accounts"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["account",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Accounts channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Accounts channel error:",h)});return()=>{console.log("[Realtime] Cleaning up all subscriptions"),ye.removeChannel(a),ye.removeChannel(s),ye.removeChannel(l),ye.removeChannel(d),n(!1)}},[t]),c.jsx(tq.Provider,{value:{isConnected:r},children:e})},aD=j.createContext(void 0),nq=({children:e})=>{const t=$e(),[r,n]=j.useState(navigator.onLine),[a,s]=j.useState(!1);return j.useEffect(()=>{console.log("[Network] Provider initialized - initial online status:",navigator.onLine);const l=()=>{console.log("[Network] Connection restored - refetching all queries"),n(!0),s(!0),t.refetchQueries()},d=()=>{console.log("[Network] Connection lost - offline mode activated"),n(!1)};return window.addEventListener("online",l),window.addEventListener("offline",d),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",d)}},[t]),c.jsx(aD.Provider,{value:{isOnline:r,wasOffline:a},children:e})};function aq(){const e=j.useContext(aD);if(!e)throw new Error("useNetwork must be used within NetworkProvider");return e}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=e=>{const t=sq(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...d},f)=>j.createElement("svg",{ref:f,...oq,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:iD("lucide",a),...!s&&!lq(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>j.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(e,t)=>{const r=j.forwardRef(({className:n,...a},s)=>j.createElement(cq,{ref:s,iconNode:t,className:iD(`lucide-${iq($E(e))}`,`lucide-${e}`,n),...a}));return r.displayName=$E(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],dq=At("arrow-right-left",uq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],UE=At("briefcase",fq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],mq=At("chart-column",hq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gq=At("check",pq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vq=At("chevron-right",yq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xq=At("circle-alert",bq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],jq=At("circle-plus",wq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_q=At("copy",Sq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Oq=At("credit-card",Nq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Aq=At("download",Eq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Pq=At("ellipsis-vertical",Cq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Tq=At("info",kq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Mq=At("layout-dashboard",Dq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Iq=At("log-out",Rq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"M5 12h14",key:"1ays0h"}]],Bq=At("minus",Lq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Uq=At("package",$q);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qq=At("plus",zq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Fq=At("printer",Kq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qq=At("search",Hq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gq=At("settings",Vq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Wq=At("shopping-cart",Yq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Zq=At("square-pen",Xq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],e8=At("trash-2",Jq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],r8=At("truck",t8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zE=At("users",n8),oe={Dashboard:c.jsx(Mq,{size:20}),Sales:c.jsx(Wq,{size:20}),Products:c.jsx(Uq,{size:20}),Customers:c.jsx(zE,{size:20}),Vendors:c.jsx(UE,{size:20}),Users:c.jsx(zE,{size:20}),Briefcase:c.jsx(UE,{size:20}),Banking:c.jsx(Oq,{size:20}),Reports:c.jsx(mq,{size:20}),Settings:c.jsx(Gq,{size:20}),Courier:c.jsx(r8,{size:20}),Plus:c.jsx(qq,{size:20}),Minus:c.jsx(Bq,{size:20}),PlusCircle:c.jsx(jq,{size:20}),LogOut:c.jsx(Iq,{size:20}),ChevronRight:c.jsx(vq,{size:20}),Search:c.jsx(Qq,{size:18}),More:c.jsx(Pq,{size:18}),Print:c.jsx(Fq,{size:18}),Download:c.jsx(Aq,{size:18}),Duplicate:c.jsx(_q,{size:18}),Edit:c.jsx(Zq,{size:18}),Delete:c.jsx(e8,{size:18}),Transfer:c.jsx(dq,{size:18}),Check:c.jsx(gq,{size:20}),AlertCircle:c.jsx(xq,{size:20}),Info:c.jsx(Tq,{size:20})},be=e=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0,maximumFractionDigits:0}).format(e).replace("BDT",""),Np=e=>({ON_HOLD:"bg-gray-100 text-gray-600",PROCESSING:"bg-blue-100 text-blue-600",PICKED:"bg-purple-100 text-purple-600",COMPLETED:"bg-green-100 text-green-600",CANCELLED:"bg-red-100 text-red-600",RECEIVED:"bg-green-100 text-green-600","On Hold":"bg-gray-100 text-gray-600",Processing:"bg-blue-100 text-blue-600",Picked:"bg-purple-100 text-purple-600",Completed:"bg-green-100 text-green-600",Cancelled:"bg-red-100 text-red-600",Received:"bg-green-100 text-green-600"})[e]||"bg-gray-100 text-gray-600";var Ht=(e=>(e.ADMIN="Admin",e.EMPLOYEE="Employee",e))(Ht||{}),Be=(e=>(e.ON_HOLD="On Hold",e.PROCESSING="Processing",e.PICKED="Picked",e.COMPLETED="Completed",e.CANCELLED="Cancelled",e))(Be||{}),an=(e=>(e.ON_HOLD="On Hold",e.PROCESSING="Processing",e.RECEIVED="Received",e.PAID="Paid",e))(an||{});const se={colors:{primary:{50:"bg-[#ebf4ff]",500:"bg-[#3c5a82]",600:"bg-[#0f2f57]",700:"bg-[#0c203b]",text:"text-[#0f2f57]"},secondary:{600:"bg-blue-600",700:"bg-blue-700"},danger:{50:"bg-red-50",600:"bg-red-600",700:"bg-red-700",text:"text-red-600"},bg:{primary:"bg-white",secondary:"bg-gray-50",tertiary:"bg-gray-100"},text:{primary:"text-gray-900",secondary:"text-gray-500",tertiary:"text-gray-400"},border:{primary:"border-gray-100"}},radius:{sm:"rounded-lg",md:"rounded-xl"},transitions:{normal:"transition-all duration-300"},buttons:{base:"inline-flex items-center justify-center gap-2 font-bold rounded-xl transition-all duration-300 cursor-pointer",secondary:"bg-gray-100 text-gray-600 hover:bg-gray-200",outline:"border-2 border-gray-200 text-gray-700 hover:bg-gray-50",sizes:{sm:"px-3 py-2 text-xs",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3.5 text-sm"}},inputs:{base:"w-full px-4 py-2.5 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] focus:border-transparent transition-all",label:"block text-sm font-semibold text-gray-700 mb-2",error:"border-red-500 focus:ring-red-500"},table:{header:"bg-gray-50 border-b border-gray-100"},card:{base:"bg-white rounded-2xl shadow-sm border border-gray-100 transition-all",elevated:"bg-white rounded-2xl shadow-md border border-gray-100"}},_c="https://ozjddzasadgffjjeqntc.supabase.co",Nc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96amRkemFzYWRnZmZqamVxbnRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTMwMzEsImV4cCI6MjA4NTk2OTAzMX0._1fbWup_bHYe0PN5QUcptRMuwZRAEFwQOPEPd7Lk3NY";let Uu=null;async function ln(){try{const e=Date.now();if(Uu&&e-Uu.ts<6e4)return Uu.session;const{data:t,error:r}=await ye.auth.getSession();if(r||!(t!=null&&t.session))throw new Error("No authenticated session available. Please log in.");Uu={session:t.session,ts:Date.now()};try{const n=t.session.expires_at&&Number(t.session.expires_at)||0;(n?n*1e3-Date.now():Number.POSITIVE_INFINITY)<12e4&&await ye.auth.refreshSession()}catch(n){console.warn("[supabaseQueries] session refresh failed (non-fatal):",n)}return Uu.session}catch(e){throw console.error("[supabaseQueries] ensureAuthenticated failed:",(e==null?void 0:e.message)||e),e}}async function wi(e,t=1e4){const r=n=>{if(!n)return!1;const a=((n==null?void 0:n.message)||(n==null?void 0:n.toString())||"").toLowerCase(),s=(n==null?void 0:n.code)||"";return a.includes("failed to fetch")||a.includes("connection closed")||a.includes("network")||a.includes("econnrefused")||a.includes("etimedout")||s==="ERR_CONNECTION_CLOSED"||n instanceof TypeError};try{const n=await Promise.race([e,new Promise(l=>{setTimeout(()=>l({data:null,error:{message:"Query timeout"}}),t)})]),{data:a,error:s}=n;if(s){if(r(s))return console.error("[supabaseQueries] NETWORK ERROR (no retry):",(s==null?void 0:s.message)||s),[];console.warn("[supabaseQueries] Query error (first attempt):",(s==null?void 0:s.message)||s);try{const d=await e;return d!=null&&d.error?(console.error("[supabaseQueries] Query retry failed:",d.error.message||d.error),[]):(d==null?void 0:d.data)??[]}catch(d){return console.error("[supabaseQueries] Query retry exception:",d),[]}}if(!a){console.warn("[supabaseQueries] Query returned no data on first attempt, retrying once...");try{const l=await e;return l!=null&&l.error?(console.error("[supabaseQueries] Query retry error:",l.error.message||l.error),[]):(l==null?void 0:l.data)??[]}catch(l){return console.error("[supabaseQueries] Query retry exception:",l),[]}}return a}catch(n){if(r(n))return console.error("[supabaseQueries] NETWORK ERROR in catch:",(n==null?void 0:n.message)||n),[];console.error("[supabaseQueries] Query exception (outer):",n);try{const s=await e;return s!=null&&s.error?(console.error("[supabaseQueries] Final retry error:",s.error.message||s.error),[]):(s==null?void 0:s.data)??[]}catch(s){return console.error("[supabaseQueries] Final retry exception:",s),[]}}}async function sD(){return console.log("[supabaseQueries] fetchCustomers called"),(await wi(ye.from("customers").select("*").order("created_at",{ascending:!1}))).map(Op)}async function a8(e){const{data:t,error:r}=await ye.from("customers").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchCustomerById error:",r),null):Op(t)}async function i8(e){await ln();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("customers").insert([{id:t,name:e.name,phone:e.phone,address:e.address,total_orders:e.totalOrders||0,due_amount:e.dueAmount||0}]).select().single();if(n)throw console.error("[supabaseQueries] createCustomer error:",n),n;return Op(r)}async function s8(e,t){await ln();const{data:r,error:n}=await ye.from("customers").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.address&&{address:t.address},...t.totalOrders!==void 0&&{total_orders:t.totalOrders},...t.dueAmount!==void 0&&{due_amount:t.dueAmount}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateCustomer error:",n),n;return Op(r)}async function o8(e){const{error:t}=await ye.from("customers").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteCustomer error:",t),t}function Op(e){return{id:e.id,name:e.name,phone:e.phone,address:e.address,totalOrders:e.total_orders??e.totalOrders??0,dueAmount:e.due_amount??e.dueAmount??0}}async function l8(){return(await wi(ye.from("orders").select("*").order("created_at",{ascending:!1}))).map(qd)}async function c8(e){const{data:t,error:r}=await ye.from("orders").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchOrderById error:",r),null):qd(t)}async function u8(e){return(await wi(ye.from("orders").select("*").eq("customer_id",e).order("order_date",{ascending:!1}))).map(qd)}async function d8(e){await ln();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("orders").insert([{id:t,order_number:e.orderNumber,order_date:e.orderDate,customer_id:e.customerId,created_by:e.createdBy,status:e.status,items:e.items,subtotal:e.subtotal,discount:e.discount,shipping:e.shipping,total:e.total,paid_amount:e.paidAmount,history:e.history}]).select().single();if(n)throw console.error("[supabaseQueries] createOrder error:",n),n;return qd(r)}async function f8(e,t){await ln();const{data:r,error:n}=await ye.from("orders").update({...t.customerId&&{customer_id:t.customerId},...t.orderDate&&{order_date:t.orderDate},...t.orderNumber&&{order_number:t.orderNumber},...t.notes!==void 0&&{notes:t.notes},...t.status&&{status:t.status},...t.items&&{items:t.items},...t.subtotal!==void 0&&{subtotal:t.subtotal},...t.discount!==void 0&&{discount:t.discount},...t.shipping!==void 0&&{shipping:t.shipping},...t.total!==void 0&&{total:t.total},...t.paidAmount!==void 0&&{paid_amount:t.paidAmount},...t.history&&{history:t.history}}).eq("id",e).select();if(n)throw console.error("[supabaseQueries] updateOrder error:",n),n;if(!r||Array.isArray(r)&&r.length===0)return console.warn("[supabaseQueries] updateOrder: update succeeded but no row was returned (possible RLS). Returning null."),null;const a=Array.isArray(r)?r[0]:r;return qd(a)}async function h8(e){const{error:t}=await ye.from("orders").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteOrder error:",t),t}function qd(e){return{id:e.id,orderNumber:e.order_number??e.orderNumber,orderDate:e.order_date??e.orderDate,customerId:e.customer_id??e.customerId,createdBy:e.created_by??e.createdBy,status:e.status,items:e.items??[],subtotal:e.subtotal??0,discount:e.discount??0,shipping:e.shipping??0,total:e.total??0,notes:e.notes,history:e.history??{},paidAmount:e.paid_amount??e.paidAmount??0}}async function m8(){return(await wi(ye.from("accounts").select("*").order("created_at",{ascending:!1}))).map(Tw)}async function p8(e){const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("accounts").insert([{id:t,name:e.name,type:e.type,opening_balance:e.openingBalance,current_balance:e.currentBalance}]).select().single();if(n)throw console.error("[supabaseQueries] createAccount error:",n),n;return Tw(r)}async function g8(e,t){const{data:r,error:n}=await ye.from("accounts").update({...t.name&&{name:t.name},...t.type&&{type:t.type},...t.currentBalance!==void 0&&{current_balance:t.currentBalance}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateAccount error:",n),n;return Tw(r)}async function y8(e){const{error:t}=await ye.from("accounts").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteAccount error:",t),t}function Tw(e){return{id:e.id,name:e.name,type:e.type,openingBalance:e.opening_balance??e.openingBalance,currentBalance:e.current_balance??e.currentBalance}}async function v8(){return(await wi(ye.from("transactions").select("*").order("created_at",{ascending:!1}))).map(w8)}async function b8(e){await ln();const t=crypto.randomUUID(),r={id:t,date:e.date,type:e.type,category:e.category,account_id:e.accountId,amount:e.amount,description:e.description,payment_method:e.paymentMethod,created_by:e.createdBy};e.toAccountId&&(r.to_account_id=e.toAccountId),e.referenceId&&(r.reference_id=e.referenceId),e.contactId&&(r.contact_id=e.contactId),e.attachmentName&&(r.attachment_name=e.attachmentName),e.attachmentUrl&&(r.attachment_url=e.attachmentUrl);const{error:n}=await ye.from("transactions").insert([r]);if(n)throw console.error("[supabaseQueries] createTransaction error:",n),n;return{id:t,date:e.date,type:e.type,category:e.category,accountId:e.accountId,toAccountId:e.toAccountId,amount:e.amount,description:e.description,referenceId:e.referenceId,contactId:e.contactId,paymentMethod:e.paymentMethod,attachmentName:e.attachmentName,attachmentUrl:e.attachmentUrl,createdBy:e.createdBy}}async function x8(e){if(e.startsWith("temp-")){const r=new Error("Cannot delete unsaved transactions. Please refresh and try again.");throw console.error("[supabaseQueries] deleteTransaction error:",r),r}const{error:t}=await ye.from("transactions").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteTransaction error:",t),t}function w8(e){const t=e.date??e.date_string??null,r=e.created_at??e.createdAt??null,n=t&&t.toString().length>10?t:r||t||"";return{id:e.id,date:n,type:e.type,category:e.category,accountId:e.account_id??e.accountId,toAccountId:e.to_account_id??e.toAccountId,amount:e.amount,description:e.description,referenceId:e.reference_id??e.referenceId,contactId:e.contact_id??e.contactId,paymentMethod:e.payment_method??e.paymentMethod,attachmentName:e.attachment_name??e.attachmentName,attachmentUrl:e.attachment_url??e.attachmentUrl,createdBy:e.created_by??e.createdBy,createdAt:r||null}}async function j8(){return(await wi(ye.from("users").select("*").order("created_at",{ascending:!1}))).map(Ep)}async function S8(e){const{data:t,error:r}=await ye.from("users").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchUserById error:",r),null):Ep(t)}async function _8(e){var t,r,n;try{const a=ZT(e.phone),s=e.password;if(!s)throw new Error("Password is required to create a user");console.log("[supabaseQueries] Creating auth user with email:",a);const{data:l,error:d}=await ye.auth.signUp({email:a,password:s,options:{data:{name:e.name,phone:e.phone}}});if(d)throw console.error("[supabaseQueries] Auth signup error:",d),d;const f=(t=l==null?void 0:l.user)==null?void 0:t.id;if(console.log("[supabaseQueries] Auth user created:",f,"Confirmed:",(n=(r=l==null?void 0:l.user)==null?void 0:r.user_metadata)==null?void 0:n.email_confirmed),!f)throw new Error("Failed to create auth user - no user ID returned. If email confirmation is enabled in Supabase Auth settings, please disable it.");console.log("[supabaseQueries] Creating user profile in public schema...");const{data:h,error:p}=await ye.from("users").insert([{id:f,name:e.name,phone:e.phone,role:e.role,image:e.image}]).select().single();if(p)throw console.error("[supabaseQueries] Create profile error:",p),p;return console.log("[supabaseQueries] User created successfully - can now sign in"),Ep(h)}catch(a){throw console.error("[supabaseQueries] createUser error:",a),a}}async function N8(e,t){const{data:r,error:n}=await ye.from("users").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.role&&{role:t.role},...t.image&&{image:t.image}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateUser error:",n),n;return Ep(r)}async function O8(e){const{error:t}=await ye.from("users").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteUser error:",t),t}function Ep(e){return{id:e.id,name:e.name,phone:e.phone,role:e.role,image:e.image,createdAt:e.created_at}}async function E8(){return(await wi(ye.from("bills").select("*").order("created_at",{ascending:!1}))).map(Ap)}async function A8(e){const{data:t,error:r}=await ye.from("bills").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchBillById error:",r),null):Ap(t)}async function C8(e){await ln();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("bills").insert([{id:t,bill_number:e.billNumber,bill_date:e.billDate,vendor_id:e.vendorId,created_by:e.createdBy,status:e.status,items:e.items,subtotal:e.subtotal,discount:e.discount,shipping:e.shipping,total:e.total,paid_amount:e.paidAmount,history:e.history||{}}]).select().single();if(n)throw console.error("[supabaseQueries] createBill error:",n),n;return Ap(r)}async function P8(e,t){await ln();const{data:r,error:n}=await ye.from("bills").update({...t.vendorId&&{vendor_id:t.vendorId},...t.billDate&&{bill_date:t.billDate},...t.billNumber&&{bill_number:t.billNumber},...t.notes!==void 0&&{notes:t.notes},...t.status&&{status:t.status},...t.items&&{items:t.items},...t.subtotal!==void 0&&{subtotal:t.subtotal},...t.discount!==void 0&&{discount:t.discount},...t.shipping!==void 0&&{shipping:t.shipping},...t.total!==void 0&&{total:t.total},...t.paidAmount!==void 0&&{paid_amount:t.paidAmount},...t.history&&{history:t.history}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateBill error:",n),n;return Ap(r)}async function k8(e){const{error:t}=await ye.from("bills").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteBill error:",t),t}function Ap(e){return{id:e.id,billNumber:e.bill_number??e.billNumber,billDate:e.bill_date??e.billDate,vendorId:e.vendor_id??e.vendorId,createdBy:e.created_by??e.createdBy,status:e.status,items:e.items??[],subtotal:e.subtotal??0,discount:e.discount??0,shipping:e.shipping??0,total:e.total??0,notes:e.notes,paidAmount:e.paid_amount??e.paidAmount??0,history:e.history}}async function T8(){return(await wi(ye.from("vendors").select("*").order("created_at",{ascending:!1}))).map(Cp)}async function D8(e){const{data:t,error:r}=await ye.from("vendors").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchVendorById error:",r),null):Cp(t)}async function M8(e){await ln();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("vendors").insert([{id:t,name:e.name,phone:e.phone,address:e.address,total_purchases:e.totalPurchases||0,due_amount:e.dueAmount||0}]).select().single();if(n)throw console.error("[supabaseQueries] createVendor error:",n),n;return Cp(r)}async function R8(e,t){await ln();const{data:r,error:n}=await ye.from("vendors").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.address&&{address:t.address},...t.totalPurchases!==void 0&&{total_purchases:t.totalPurchases},...t.dueAmount!==void 0&&{due_amount:t.dueAmount}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateVendor error:",n),n;return Cp(r)}async function I8(e){const{error:t}=await ye.from("vendors").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteVendor error:",t),t}function Cp(e){return{id:e.id,name:e.name,phone:e.phone,address:e.address,totalPurchases:e.total_purchases??e.totalPurchases??0,dueAmount:e.due_amount??e.dueAmount??0}}async function L8(){return(await wi(ye.from("products").select("*").order("created_at",{ascending:!1}))).map(Pp)}async function B8(e){const{data:t,error:r}=await ye.from("products").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchProductById error:",r),null):Pp(t)}async function $8(e){await ln();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("products").insert([{id:t,name:e.name,image:e.image,category:e.category,sale_price:e.salePrice,purchase_price:e.purchasePrice}]).select().single();if(n)throw console.error("[supabaseQueries] createProduct error:",n),n;return Pp(r)}async function U8(e,t){const{data:r,error:n}=await ye.from("products").update({...t.name&&{name:t.name},...t.image&&{image:t.image},...t.category&&{category:t.category},...t.salePrice!==void 0&&{sale_price:t.salePrice},...t.purchasePrice!==void 0&&{purchase_price:t.purchasePrice}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateProduct error:",n),n;return Pp(r)}async function z8(e){const{error:t}=await ye.from("products").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteProduct error:",t),t}function Pp(e){return{id:e.id,name:e.name,image:e.image,category:e.category,salePrice:e.sale_price??e.salePrice??0,purchasePrice:e.purchase_price??e.purchasePrice??0}}async function q8(e){console.log("[supabaseQueries] fetchCategories called",e?"for type: "+e:"");try{let t=ye.from("categories").select("*").order("name",{ascending:!0});e&&(t=t.eq("type",e));const{data:r,error:n}=await t;if(n)throw console.error("[supabaseQueries] fetchCategories error:",n),new Error(`[${n.code}] ${n.message}`);return r?r.map(oD):[]}catch(t){throw console.error("[supabaseQueries] fetchCategories exception:",t),t}}async function K8(e){await ln();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("categories").insert([{id:t,name:e.name,type:e.type,color:e.color||"#3B82F6",parent_id:e.parentId||null}]).select().single();if(n)throw console.error("[supabaseQueries] createCategory error:",n),n;return oD(r)}async function F8(e){const{error:t}=await ye.from("categories").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteCategory error:",t),t}function oD(e){return{id:e.id,name:e.name,type:e.type,color:e.color,parentId:e.parent_id,createdAt:e.created_at,updatedAt:e.updated_at}}async function H8(e=!0){console.log("[supabaseQueries] fetchPaymentMethods called");try{let t=ye.from("payment_methods").select("*").order("name",{ascending:!0});e&&(t=t.eq("is_active",!0));const{data:r,error:n}=await t;if(n)throw console.error("[supabaseQueries] fetchPaymentMethods error:",n),new Error(`[${n.code}] ${n.message}`);return r?r.map(lD):[]}catch(t){throw console.error("[supabaseQueries] fetchPaymentMethods exception:",t),t}}async function Q8(e){await ln();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("payment_methods").insert([{id:t,name:e.name,description:e.description||null,is_active:!0}]).select().single();if(n)throw console.error("[supabaseQueries] createPaymentMethod error:",n),n;return lD(r)}async function V8(e){const{error:t}=await ye.from("payment_methods").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deletePaymentMethod error:",t),t}function lD(e){return{id:e.id,name:e.name,description:e.description,isActive:e.is_active,createdAt:e.created_at,updatedAt:e.updated_at}}async function G8(){console.log("[supabaseQueries] fetchUnits called");try{const{data:e,error:t}=await ye.from("units").select("*").order("name",{ascending:!0});if(t)throw console.error("[supabaseQueries] fetchUnits error:",t),new Error(`[${t.code}] ${t.message}`);return e?e.map(cD):[]}catch(e){throw console.error("[supabaseQueries] fetchUnits exception:",e),e}}async function Y8(e){const t=e.shortName.toLowerCase(),{data:r,error:n}=await ye.from("units").insert([{id:t,name:e.name,short_name:e.shortName,description:e.description||null}]).select().single();if(n)throw console.error("[supabaseQueries] createUnit error:",n),n;return cD(r)}async function W8(e){const{error:t}=await ye.from("units").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteUnit error:",t),t}function cD(e){return{id:e.id,name:e.name,shortName:e.short_name,description:e.description,createdAt:e.created_at,updatedAt:e.updated_at}}async function Kd(){try{const{data:e,error:t}=await ye.from("company_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchCompanySettings error:",t),{id:"default",name:"Your Company",phone:"+880",email:"info@company.com",address:"",logo:""}):{id:e.id,name:e.name||"Your Company",phone:e.phone||"+880",email:e.email||"info@company.com",address:e.address||"",logo:e.logo||""}}catch(e){return console.error("[supabaseQueries] fetchCompanySettings exception:",e),{id:"default",name:"Your Company",phone:"+880",email:"info@company.com",address:"",logo:""}}}async function X8(e){await ln();try{const t=await Kd(),r={name:e.name||t.name,phone:e.phone||t.phone,email:e.email||t.email,address:e.address!==void 0?e.address:t.address,logo:e.logo!==void 0?e.logo:t.logo},{data:n}=await ye.from("company_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("company_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("company_settings").insert(r).select().single();if(l)throw l;a=s}return a||r}catch(t){throw console.error("[supabaseQueries] updateCompanySettings exception:",t),t}}async function Dw(){try{const{data:e,error:t}=await ye.from("order_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchOrderSettings error:",t),{prefix:"ORD-",nextNumber:1}):{prefix:e.prefix||"ORD-",nextNumber:e.next_number||1}}catch(e){return console.error("[supabaseQueries] fetchOrderSettings exception:",e),{prefix:"ORD-",nextNumber:1}}}async function uD(e){try{const t=await Dw(),r={prefix:e.prefix||t.prefix,next_number:e.nextNumber!==void 0?e.nextNumber:t.nextNumber},{data:n}=await ye.from("order_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("order_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("order_settings").insert(r).select().single();if(l)throw l;a=s}return a?{prefix:a.prefix,nextNumber:a.next_number}:r}catch(t){throw console.error("[supabaseQueries] updateOrderSettings error:",t),t}}async function Mw(){try{const{data:e,error:t}=await ye.from("invoice_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchInvoiceSettings error:",t),{title:"Invoice",logoWidth:120,logoHeight:120,footer:""}):{title:e.title||"Invoice",logoWidth:e.logo_width||120,logoHeight:e.logo_height||120,footer:e.footer||""}}catch(e){return console.error("[supabaseQueries] fetchInvoiceSettings exception:",e),{title:"Invoice",logoWidth:120,logoHeight:120,footer:""}}}async function Z8(e){try{const t=await Mw(),r={title:e.title||t.title,logo_width:e.logoWidth!==void 0?e.logoWidth:t.logoWidth,logo_height:e.logoHeight!==void 0?e.logoHeight:t.logoHeight,footer:e.footer!==void 0?e.footer:t.footer},{data:n}=await ye.from("invoice_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("invoice_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("invoice_settings").insert(r).select().single();if(l)throw l;a=s}return a?{title:a.title,logoWidth:a.logo_width,logoHeight:a.logo_height,footer:a.footer}:{title:r.title,logoWidth:r.logo_width,logoHeight:r.logo_height,footer:r.footer}}catch(t){throw console.error("[supabaseQueries] updateInvoiceSettings error:",t),t}}async function Rw(){try{const{data:e,error:t}=await ye.from("system_defaults").select("*").single();return t?(console.error("[supabaseQueries] fetchSystemDefaults error:",t),{defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}):{defaultAccountId:e.default_account_id||"",defaultPaymentMethod:e.default_payment_method||"",incomeCategoryId:e.income_category_id||"",expenseCategoryId:e.expense_category_id||"",recordsPerPage:e.records_per_page||10}}catch(e){return console.error("[supabaseQueries] fetchSystemDefaults exception:",e),{defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}}}async function J8(e){try{const t=await Rw(),r={default_account_id:e.defaultAccountId?e.defaultAccountId:t.defaultAccountId||null,default_payment_method:e.defaultPaymentMethod?e.defaultPaymentMethod:t.defaultPaymentMethod||null,income_category_id:e.incomeCategoryId?e.incomeCategoryId:t.incomeCategoryId||null,expense_category_id:e.expenseCategoryId?e.expenseCategoryId:t.expenseCategoryId||null,records_per_page:e.recordsPerPage!==void 0?e.recordsPerPage:t.recordsPerPage},{data:n}=await ye.from("system_defaults").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("system_defaults").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("system_defaults").insert(r).select().single();if(l)throw l;a=s}return a?{defaultAccountId:a.default_account_id,defaultPaymentMethod:a.default_payment_method,incomeCategoryId:a.income_category_id,expenseCategoryId:a.expense_category_id,recordsPerPage:a.records_per_page}:t}catch(t){throw console.error("[supabaseQueries] updateSystemDefaults error:",t),t}}async function Iw(){try{const{data:e,error:t}=await ye.from("courier_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchCourierSettings error:",t),{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}):{steadfast:{baseUrl:e.steadfast_base_url||"",apiKey:e.steadfast_api_key||"",secretKey:e.steadfast_secret_key||""},carryBee:{baseUrl:e.carrybee_base_url||"",clientId:e.carrybee_client_id||"",clientSecret:e.carrybee_client_secret||"",clientContext:e.carrybee_client_context||"",storeId:e.carrybee_store_id||""}}}catch(e){return console.error("[supabaseQueries] fetchCourierSettings exception:",e),{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}}}async function e9(e){var t,r,n,a,s,l,d,f;try{const h=await Iw(),p={steadfast_base_url:((t=e.steadfast)==null?void 0:t.baseUrl)||h.steadfast.baseUrl,steadfast_api_key:((r=e.steadfast)==null?void 0:r.apiKey)||h.steadfast.apiKey,steadfast_secret_key:((n=e.steadfast)==null?void 0:n.secretKey)||h.steadfast.secretKey,carrybee_base_url:((a=e.carryBee)==null?void 0:a.baseUrl)||h.carryBee.baseUrl,carrybee_client_id:((s=e.carryBee)==null?void 0:s.clientId)||h.carryBee.clientId,carrybee_client_secret:((l=e.carryBee)==null?void 0:l.clientSecret)||h.carryBee.clientSecret,carrybee_client_context:((d=e.carryBee)==null?void 0:d.clientContext)||h.carryBee.clientContext,carrybee_store_id:((f=e.carryBee)==null?void 0:f.storeId)||h.carryBee.storeId},{data:g}=await ye.from("courier_settings").select("id").limit(1).maybeSingle();let y;if(g!=null&&g.id){const{data:b,error:w}=await ye.from("courier_settings").update(p).eq("id",g.id).select().maybeSingle();if(w)throw w;y=b}else{const{data:b,error:w}=await ye.from("courier_settings").insert(p).select().single();if(w)throw w;y=b}return{steadfast:{baseUrl:(y==null?void 0:y.steadfast_base_url)||"",apiKey:(y==null?void 0:y.steadfast_api_key)||"",secretKey:(y==null?void 0:y.steadfast_secret_key)||""},carryBee:{baseUrl:(y==null?void 0:y.carrybee_base_url)||"",clientId:(y==null?void 0:y.carrybee_client_id)||"",clientSecret:(y==null?void 0:y.carrybee_client_secret)||"",clientContext:(y==null?void 0:y.carrybee_client_context)||"",storeId:(y==null?void 0:y.carrybee_store_id)||""}}}catch(h){throw console.error("[supabaseQueries] updateCourierSettings error:",h),h}}async function t9(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.clientId)==null?void 0:r.trim(),f=(n=e.clientSecret)==null?void 0:n.trim(),h=(a=e.clientContext)==null?void 0:a.trim();if(!l||!d||!f||!h)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];console.log("[supabaseQueries] Calling Edge Function for CarryBee stores");const p=`${_c}/functions/v1/carrybee-stores`;console.log("[supabaseQueries] Edge Function URL:",p);const g=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nc}`},body:JSON.stringify({baseUrl:l,clientId:d,clientSecret:f,clientContext:h})});if(console.log("[supabaseQueries] Edge Function response status:",g.status),!g.ok)return console.error("[supabaseQueries] Edge Function error:",g.status,g.statusText),[];const y=await g.json();if(console.log("[supabaseQueries] Edge Function response data:",y),y.error)return console.error("[supabaseQueries] Edge Function returned error:",y.error,y.details),[];if(!((s=y.data)!=null&&s.stores))return console.warn("[supabaseQueries] No stores in response"),[];const b=y.data.stores.map(w=>({id:w.id,name:w.name}));return console.log("[supabaseQueries] Successfully fetched",b.length,"stores"),b}catch(l){return console.error("[supabaseQueries] fetchCarryBeeStores exception:",l instanceof Error?l.message:l),[]}}async function r9(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.clientId)==null?void 0:r.trim(),f=(n=e.clientSecret)==null?void 0:n.trim(),h=(a=e.clientContext)==null?void 0:a.trim();if(!l||!d||!f||!h)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const p=`${_c}/functions/v1/carrybee-cities`,g=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nc}`},body:JSON.stringify({baseUrl:l,clientId:d,clientSecret:f,clientContext:h})});if(!g.ok)return console.error("[supabaseQueries] Cities Edge Function error:",g.status),[];const y=await g.json();return y.error||!((s=y.data)!=null&&s.cities)?(console.error("[supabaseQueries] Cities Edge Function returned error:",y.error),[]):y.data.cities.map(b=>({id:b.id,name:b.name}))}catch(l){return console.error("[supabaseQueries] fetchCarryBeeCities exception:",l instanceof Error?l.message:l),[]}}async function n9(e){var t,r,n,a,s,l;try{const d=(t=e.baseUrl)==null?void 0:t.trim(),f=(r=e.clientId)==null?void 0:r.trim(),h=(n=e.clientSecret)==null?void 0:n.trim(),p=(a=e.clientContext)==null?void 0:a.trim(),g=(s=e.cityId)==null?void 0:s.trim();if(!d||!f||!h||!p||!g)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const y=`${_c}/functions/v1/carrybee-zones`,b=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nc}`},body:JSON.stringify({baseUrl:d,clientId:f,clientSecret:h,clientContext:p,cityId:g})});if(!b.ok)return console.error("[supabaseQueries] Zones Edge Function error:",b.status),[];const w=await b.json();return w.error||!((l=w.data)!=null&&l.zones)?(console.error("[supabaseQueries] Zones Edge Function returned error:",w.error),[]):w.data.zones.map(S=>({id:S.id,name:S.name}))}catch(d){return console.error("[supabaseQueries] fetchCarryBeeZones exception:",d instanceof Error?d.message:d),[]}}async function a9(e){var t,r,n,a,s,l,d;try{const f=(t=e.baseUrl)==null?void 0:t.trim(),h=(r=e.clientId)==null?void 0:r.trim(),p=(n=e.clientSecret)==null?void 0:n.trim(),g=(a=e.clientContext)==null?void 0:a.trim(),y=(s=e.cityId)==null?void 0:s.trim(),b=(l=e.zoneId)==null?void 0:l.trim();if(!f||!h||!p||!g||!y||!b)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const w=`${_c}/functions/v1/carrybee-areas`,S=await fetch(w,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nc}`},body:JSON.stringify({baseUrl:f,clientId:h,clientSecret:p,clientContext:g,cityId:y,zoneId:b})});if(!S.ok)return console.error("[supabaseQueries] Areas Edge Function error:",S.status),[];const _=await S.json();return _.error||!((d=_.data)!=null&&d.areas)?(console.error("[supabaseQueries] Areas Edge Function returned error:",_.error),[]):_.data.areas.map(N=>({id:N.id,name:N.name}))}catch(f){return console.error("[supabaseQueries] fetchCarryBeeAreas exception:",f instanceof Error?f.message:f),[]}}async function i9(e){var t,r,n,a;try{const s=(t=e.baseUrl)==null?void 0:t.trim(),l=(r=e.clientId)==null?void 0:r.trim(),d=(n=e.clientSecret)==null?void 0:n.trim(),f=(a=e.clientContext)==null?void 0:a.trim();if(!s||!l||!d||!f||!e.storeId)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),{error:"Missing required parameters"};console.log("[supabaseQueries] Calling Edge Function to submit CarryBee order");const h=`${_c}/functions/v1/carrybee-submit-order`,p=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nc}`},body:JSON.stringify({baseUrl:s,clientId:l,clientSecret:d,clientContext:f,storeId:e.storeId,deliveryType:e.deliveryType,productType:e.productType,recipientPhone:e.recipientPhone,recipientName:e.recipientName,recipientAddress:e.recipientAddress,cityId:e.cityId,zoneId:e.zoneId,areaId:e.areaId,itemWeight:e.itemWeight,collectableAmount:e.collectableAmount})});if(console.log("[supabaseQueries] Submit Order Edge Function response status:",p.status),!p.ok)return console.error("[supabaseQueries] Submit Order Edge Function error:",p.status),{error:`HTTP ${p.status}`};const g=await p.json();return console.log("[supabaseQueries] Submit Order response:",g),g.error?(console.error("[supabaseQueries] Edge Function returned error:",g.error),{error:g.error}):(console.log("[supabaseQueries] Successfully submitted order to CarryBee"),g.data)}catch(s){return console.error("[supabaseQueries] submitCarryBeeOrder exception:",s instanceof Error?s.message:s),{error:s instanceof Error?s.message:"Unknown error"}}}async function s9(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.apiKey)==null?void 0:r.trim(),f=(n=e.secretKey)==null?void 0:n.trim();if(console.log("[supabaseQueries] ======== BEFORE TRIM ========"),console.log("[supabaseQueries] baseUrl (raw):",JSON.stringify(e.baseUrl)),console.log("[supabaseQueries] apiKey (raw):",JSON.stringify((a=e.apiKey)==null?void 0:a.substring(0,5))),console.log("[supabaseQueries] secretKey (raw):",JSON.stringify((s=e.secretKey)==null?void 0:s.substring(0,5))),console.log("[supabaseQueries] ======== AFTER TRIM ========"),console.log("[supabaseQueries] baseUrl (trimmed):",JSON.stringify(l)),console.log("[supabaseQueries] apiKey (trimmed):",JSON.stringify(d==null?void 0:d.substring(0,5))),console.log("[supabaseQueries] secretKey (trimmed):",JSON.stringify(f==null?void 0:f.substring(0,5))),!l||!d||!f||!e.invoice||!e.recipientName||!e.recipientPhone||!e.recipientAddress||e.codAmount===void 0)return console.warn("[supabaseQueries] Steadfast API parameters incomplete"),console.warn("[supabaseQueries] Validation:",{baseUrl:!!l,apiKey:!!d,secretKey:!!f,invoice:!!e.invoice,recipientName:!!e.recipientName,recipientPhone:!!e.recipientPhone,recipientAddress:!!e.recipientAddress,codAmount:e.codAmount!==void 0}),{error:"Missing required parameters"};console.log("[supabaseQueries] ======== CALLING EDGE FUNCTION ========");const h=`${_c}/functions/v1/steadfast-submit-order`;console.log("[supabaseQueries] Edge Function URL:",h);const p={baseUrl:l,apiKey:d,secretKey:f,invoice:e.invoice,recipientName:e.recipientName,recipientPhone:e.recipientPhone,recipientAddress:e.recipientAddress,codAmount:e.codAmount};console.log("[supabaseQueries] Payload being sent:",{baseUrl:l,apiKey:`${d.substring(0,5)}...`,secretKey:`${f.substring(0,5)}...`,invoice:p.invoice,recipientName:p.recipientName,recipientPhone:p.recipientPhone,recipientAddress:p.recipientAddress,codAmount:p.codAmount});const g=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nc}`},body:JSON.stringify(p)});if(console.log("[supabaseQueries] Submit Steadfast Order Edge Function response status:",g.status),!g.ok)return console.error("[supabaseQueries] Submit Steadfast Order Edge Function error:",g.status),{error:`HTTP ${g.status}`};const y=await g.json();if(console.log("[supabaseQueries] Submit Steadfast Order response:",y),y.error){const b=y.details?`${y.error}: ${y.details}`:y.error;return console.error("[supabaseQueries] Edge Function returned error:",b),{error:b}}return console.log("[supabaseQueries] Successfully submitted order to Steadfast"),y.data}catch(l){return console.error("[supabaseQueries] submitSteadfastOrder exception:",l instanceof Error?l.message:l),{error:l instanceof Error?l.message:"Unknown error"}}}async function o9(e){await ln();try{const[t,r,n,a,s]=await Promise.all([e.company?X8(e.company):Kd(),e.order?uD(e.order):Dw(),e.invoice?Z8(e.invoice):Mw(),e.defaults?J8(e.defaults):Rw(),e.courier?e9(e.courier):Iw()]);return{company:t,order:r,invoice:n,defaults:a,courier:s}}catch(t){throw console.error("[supabaseQueries] batchUpdateSettings error:",t),t}}const ts=({to:e,icon:t,label:r,active:n,onClick:a,children:s})=>{const[l,d]=j.useState(n);return s?c.jsxs("div",{className:"space-y-1",children:[c.jsxs("button",{onClick:()=>d(!l),className:`flex items-center justify-between w-full px-4 py-3 ${se.radius.md} ${se.transitions.normal} ${n?`${se.colors.primary[50]} ${se.colors.primary.text}`:`text-gray-500 hover:${se.colors.primary[50]} hover:${se.colors.primary.text}`}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[t,c.jsx("span",{className:"font-semibold text-sm",children:r})]}),c.jsx("div",{className:`transition-transform duration-200 ${l?"rotate-90":""}`,children:oe.ChevronRight})]}),l&&c.jsx("div",{className:"pl-11 space-y-1",children:s.map(f=>c.jsx(id,{to:f.to,onClick:a,className:`block px-4 py-2 text-sm font-medium ${se.radius.sm} ${se.transitions.normal} ${f.active?`${se.colors.primary[600]} text-white`:`text-gray-400 hover:${se.colors.primary.text} hover:${se.colors.primary[50]}/30`}`,children:f.label},f.to))})]}):c.jsxs(id,{to:e||"#",onClick:a,className:`flex items-center gap-3 px-4 py-3 ${se.radius.md} ${se.transitions.normal} ${n?`${se.colors.primary[600]} text-white shadow-lg shadow-emerald-200/50`:`text-gray-500 hover:${se.colors.primary[50]} hover:${se.colors.primary.text}`}`,children:[t,c.jsx("span",{className:"font-semibold text-sm",children:r})]})},Je=({children:e})=>{const t=bi(),r=mt(),{signOut:n,profile:a}=_p(),{searchQuery:s,setSearchQuery:l}=Os(),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,y]=j.useState(!1),[b,w]=j.useState({name:we.settings.company.name,logo:we.settings.company.logo}),S=a||we.currentUser;j.useEffect(()=>{(async()=>{try{const A=await Kd();w(A)}catch(A){console.error("Failed to load company settings:",A)}})()},[]);const _=async()=>{try{await n(),r("/login",{replace:!0})}catch(O){console.error("Logout failed:",O)}},N=O=>t.pathname===O||t.pathname.startsWith(O+"/");return xr.useEffect(()=>{const O=document.querySelector("main");O&&(O.scrollTop=0);try{window.scrollTo(0,0)}catch{}},[t.pathname]),c.jsxs("div",{className:`${se.colors.bg.secondary} flex overflow-hidden`,style:{minHeight:"100vh"},children:[d&&c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40 lg:hidden",onClick:()=>f(!1)}),c.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 ${se.colors.bg.primary} border-r ${se.colors.border.primary} ${se.transitions.normal} transform lg:sticky lg:top-0 lg:h-screen lg:translate-x-0 ${d?"translate-x-0":"-translate-x-full"}`,children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"p-8",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-1 ${se.colors.primary[50]} rounded-[50%]`,children:b.logo&&c.jsx("img",{src:b.logo,alt:"Logo",className:"w-10 h-10 rounded-lg object-cover"})}),c.jsxs("div",{children:[c.jsx("h1",{className:`text-xl font-black ${se.colors.text.primary} tracking-tight leading-none`,children:b.name}),c.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Management"})]})]})}),c.jsxs("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto",children:[c.jsx(ts,{to:"/dashboard",icon:oe.Dashboard,label:"Dashboard",active:N("/dashboard"),onClick:()=>f(!1)}),c.jsx(ts,{to:"/products",icon:oe.Products,label:"Products",active:N("/products"),onClick:()=>f(!1)}),c.jsx(ts,{icon:oe.Sales,label:"Sales",active:N("/orders")||N("/customers"),children:[{to:"/orders",label:"Orders",active:N("/orders")},{to:"/customers",label:"Customers",active:N("/customers")}],onClick:()=>f(!1)}),S.role===Ht.ADMIN&&c.jsxs(c.Fragment,{children:[c.jsx(ts,{icon:oe.Briefcase,label:"Purchases",active:N("/bills")||N("/vendors"),children:[{to:"/bills",label:"Bills",active:N("/bills")},{to:"/vendors",label:"Vendors",active:N("/vendors")}],onClick:()=>f(!1)}),c.jsx(ts,{icon:oe.Banking,label:"Banking",active:N("/banking"),children:[{to:"/banking/accounts",label:"Accounts",active:N("/banking/accounts")},{to:"/banking/transactions",label:"Transactions",active:N("/banking/transactions")},{to:"/banking/transfer",label:"Transfer",active:N("/banking/transfer")}],onClick:()=>f(!1)})]}),S.role===Ht.ADMIN&&c.jsxs(c.Fragment,{children:[c.jsx(ts,{to:"/reports",icon:oe.Reports,label:"Reports",active:N("/reports"),onClick:()=>f(!1)}),c.jsx(ts,{to:"/users",icon:oe.Users,label:"Users",active:N("/users"),onClick:()=>f(!1)}),c.jsx(ts,{to:"/settings",icon:oe.Settings,label:"Settings",active:N("/settings"),onClick:()=>f(!1)})]})]})]})}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[c.jsxs("header",{className:`flex-shrink-0 sticky top-0 z-40 ${se.colors.bg.primary}/80 backdrop-blur-lg border-b ${se.colors.border.primary} px-6 h-20 flex items-center justify-between`,children:[c.jsx("button",{onClick:()=>f(!0),className:`lg:hidden p-2.5 hover:${se.colors.bg.tertiary} ${se.radius.md} ${se.colors.text.secondary} border ${se.colors.border.primary}`,children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),c.jsxs("div",{className:"flex-1 max-w-xl mx-4 relative group hidden sm:block",children:[c.jsx("div",{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-300 group-focus-within:${se.colors.primary.text} ${se.transitions.normal}`,children:oe.Search}),c.jsx("input",{type:"text",placeholder:"Search orders, invoices, or customers...",value:s,onChange:O=>l(O.target.value),className:`block w-full pl-11 pr-4 py-2.5 ${se.colors.bg.secondary} border-transparent focus:${se.colors.bg.primary} focus:ring-2 focus:ring-[#3c5a82] focus:border-transparent ${se.radius.md} text-sm ${se.transitions.normal}`})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>p(!h),className:`${se.colors.primary[600]} text-white w-10 h-10 flex items-center justify-center ${se.radius.md} hover:${se.colors.primary[700]} ${se.transitions.normal} shadow-lg shadow-[#0f2f57]/20 active:scale-95`,children:oe.Plus}),h&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>p(!1)}),c.jsxs("div",{className:`absolute right-0 mt-3 w-56 ${se.colors.bg.primary} border ${se.colors.border.primary} rounded-2xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in slide-in-from-top-2 duration-200 origin-top-right`,children:[c.jsx("div",{className:`px-4 py-2 text-[10px] font-bold ${se.colors.text.tertiary} uppercase tracking-widest border-b ${se.colors.border.primary} mb-1`,children:"Quick Actions"}),[{label:"New Order",to:"/orders/new",icon:oe.Sales},{label:"New Bill",to:"/bills/new",icon:oe.Briefcase},{label:"New Customer",to:"/customers/new",icon:oe.Customers},{label:"New Vendor",to:"/vendors/new",icon:oe.Vendors},{label:"Add Income",to:"/transactions/new/income",icon:oe.PlusCircle},{label:"Add Expense",to:"/transactions/new/expense",icon:oe.Delete}].map(O=>c.jsxs(id,{to:O.to,onClick:()=>p(!1),className:`flex items-center gap-3 px-4 py-3 text-sm font-bold ${se.colors.text.primary} hover:${se.colors.primary[50]} hover:${se.colors.primary.text} ${se.transitions.normal}`,children:[c.jsx("span",{className:"opacity-70",children:O.icon}),O.label]},O.label))]})]})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>y(!g),className:`flex items-center gap-3 pl-4 border-l ${se.colors.border.primary} hover:opacity-70 ${se.transitions.normal}`,children:[c.jsxs("div",{className:"text-right hidden md:block",children:[c.jsx("p",{className:`text-sm font-black ${se.colors.text.primary} leading-none`,children:S.name}),c.jsx("p",{className:`text-[10px] font-bold ${se.colors.primary.text} uppercase tracking-widest mt-1`,children:S.role})]}),c.jsx("img",{src:S.image||`https://ui-avatars.com/api/?name=${S.name}&background=0f2f57&color=fff`,alt:"Profile",className:"w-10 h-10 rounded-[50%] object-cover cursor-pointer"})]}),g&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>y(!1)}),c.jsxs("div",{className:`absolute right-0 mt-3 w-48 ${se.colors.bg.primary} border ${se.colors.border.primary} rounded-xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in slide-in-from-top-2 duration-200 origin-top-right`,children:[c.jsxs("button",{onClick:()=>{r(`/users/${S.id}`),y(!1)},className:`flex items-center gap-3 w-full px-4 py-3 text-sm font-bold ${se.colors.primary.text} hover:${se.colors.primary[50]} ${se.transitions.normal}`,children:[oe.Users,"Profile"]}),c.jsxs("button",{onClick:()=>{_(),y(!1)},className:`flex items-center gap-3 w-full px-4 py-3 text-sm font-bold ${se.colors.danger.text} hover:${se.colors.danger[50]} ${se.transitions.normal}`,children:[oe.LogOut,"Logout"]})]})]})]})]})]}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-6 lg:p-10 animate-in fade-in duration-500 relative",children:[e,c.jsxs("footer",{className:`mt-20 py-8 border-t ${se.colors.border.primary} flex flex-col items-center gap-2`,children:[c.jsxs("p",{className:`text-sm font-medium ${se.colors.text.secondary}`,children:[" ",new Date().getFullYear()," ",b.name,". All rights reserved."]}),c.jsxs("a",{href:"https://sajedurrahmanfiad.me",target:"_blank",rel:"noreferrer",className:`group flex items-center gap-1.5 text-[11px] font-bold ${se.colors.text.secondary} hover:${se.colors.primary.text} ${se.transitions.normal} uppercase tracking-widest`,children:["Developed by ",c.jsx("span",{className:`${se.colors.text.secondary} group-hover:${se.colors.primary.text} underline underline-offset-4 decoration-[#0f2f57]/20`,children:"Md Sajedur Rahman Fiad"})]})]})]})]})]})},l9=()=>{const{toasts:e,dismissToast:t}=rD(),r=n=>{switch(n){case"success":return{icon:oe.Check,bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon_color:"text-green-600"};case"error":return{icon:oe.AlertCircle,bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon_color:"text-red-600"};case"warning":return{icon:oe.AlertCircle,bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon_color:"text-yellow-600"};case"info":return{icon:oe.Info,bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon_color:"text-blue-600"};default:return{icon:oe.Info,bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-800",icon_color:"text-gray-600"}}};return c.jsx("div",{className:"fixed bottom-6 right-6 z-[9999] flex flex-col gap-3",children:e.map(n=>{const{icon:a,bg:s,border:l,text:d,icon_color:f}=r(n.type);return c.jsxs("div",{className:`${s} ${l} border rounded-lg p-4 shadow-md flex items-start gap-3 min-w-[320px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300`,children:[c.jsx("div",{className:`${f} flex-shrink-0 mt-0.5`,children:a}),c.jsx("div",{className:`${d} flex-1 text-sm font-medium`,children:n.message}),c.jsx("button",{onClick:()=>t(n.id),className:`${f} flex-shrink-0 hover:opacity-70 transition-opacity`,children:c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},n.id)})})},c9=()=>{const{isOnline:e}=aq(),[t,r]=j.useState(!1);return j.useEffect(()=>{if(!e)r(!0);else{const n=setTimeout(()=>{r(!1)},2e3);return()=>clearTimeout(n)}},[e]),t?c.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-red-50 border-b-2 shadow-lg transition-all duration-300",style:{borderColor:e?"#10b981":"#ef4444",backgroundColor:e?"#ecfdf5":"#fee2e2"},children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsx("div",{className:`text-xl ${e?"text-green-600":"text-red-600"}`,children:e?"":""}),c.jsxs("div",{children:[c.jsx("p",{className:`font-bold ${e?"text-green-900":"text-red-900"}`,children:e?"Connection Restored":"No Internet Connection"}),c.jsx("p",{className:`text-sm ${e?"text-green-700":"text-red-700"}`,children:e?"Data is syncing with the server":"Your changes will be saved when connection is restored"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[!e&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-pulse w-2 h-2 rounded-full bg-red-500"}),c.jsx("span",{className:"text-xs font-medium text-red-600",children:"Waiting for connection..."})]}),e&&c.jsx("span",{className:"text-xs font-medium text-green-600",children:"Syncing..."})]})]})}):null},u9=()=>{const e=mt(),{signIn:t,isLoading:r,user:n}=_p(),[a,s]=j.useState(""),[l,d]=j.useState(""),[f,h]=j.useState(""),[p,g]=j.useState(!1),[y,b]=j.useState({name:"BD Hatbela",logo:we.settings.company.logo});j.useEffect(()=>{console.log("[Login] useEffect checking auth - isLoading:",r,"user:",!!n,"should navigate:",!r&&!!n),!r&&n&&(console.log("[Login] This is a backup redirect - user state already updated"),e("/dashboard",{replace:!0}))},[n,r,e]),j.useEffect(()=>{(async()=>{try{const _=await Kd();b({name:"BD Hatbela",logo:_.logo||we.settings.company.logo})}catch(_){console.error("Failed to load company settings:",_),b({name:"BD Hatbela",logo:we.settings.company.logo})}})()},[]);const w=async S=>{var _;S.preventDefault(),h(""),g(!0),console.log("[Login] Form submitted with phone:",a);try{console.log("[Login] Calling signIn...");const{error:N,data:O}=await t(a,l);if(N){console.error("[Login] Sign-in error:",N);const A=(N==null?void 0:N.message)||"Authentication failed";h(A),g(!1);return}console.log("[Login] Sign-in successful, user:",(_=O==null?void 0:O.user)==null?void 0:_.email),g(!1),console.log("[Login] Navigating to dashboard in 300ms..."),setTimeout(()=>{console.log("[Login] setTimeout callback executing - navigating to /dashboard"),e("/dashboard",{replace:!0})},300)}catch(N){console.error("[Login] Sign-in exception:",N),h((N==null?void 0:N.message)||"Failed to sign in"),g(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[y.logo&&c.jsx("img",{src:y.logo,alt:"Logo",className:"w-12 h-12 rounded-md object-cover"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold",children:y.name}),c.jsx("p",{className:"text-sm text-gray-500",children:"Sign in to continue"})]})]}),c.jsxs("form",{onSubmit:w,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),c.jsx("input",{value:a,onChange:S=>s(S.target.value),type:"tel",placeholder:"017XXXXXXXX",required:!0,disabled:p,className:"mt-1 block w-full border rounded px-3 py-2 focus:outline-none focus:ring disabled:opacity-50"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),c.jsx("input",{value:l,onChange:S=>d(S.target.value),type:"password",required:!0,disabled:p,className:"mt-1 block w-full border rounded px-3 py-2 focus:outline-none focus:ring disabled:opacity-50"})]}),f&&c.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-600 space-y-2",children:[c.jsx("p",{className:"font-semibold",children:"Error"}),c.jsx("p",{children:f}),f.includes("Email confirmation")&&c.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-700 text-xs",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Quick Fix:"}),c.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[c.jsx("li",{children:"Go to Supabase Dashboard"}),c.jsx("li",{children:"Project  Authentication  Providers"}),c.jsx("li",{children:'Click "Email" tab'}),c.jsx("li",{children:'Toggle OFF "Confirm email"'}),c.jsx("li",{children:"Save settings"}),c.jsx("li",{children:"Try logging in again"})]})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:p,className:"w-full bg-blue-600 text-white py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed font-medium hover:bg-blue-700 transition-colors",children:p?"Signing in...":"Sign In"})})]})]})})},d9={primary:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},secondary:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},danger:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},warning:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},success:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},info:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},neutral:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},profit:{bg:"bg-gray-50",text:"text-black",icon:"text-black"}},ea=({title:e,value:t,icon:r,variant:n="primary",bgColor:a,textColor:s,iconBgColor:l,isProfitCard:d=!1,profitValue:f})=>{const h=d9[n];let p=a||"bg-white",g=s||h.text,y=l||h.bg,b="";return d&&f!==void 0&&!a&&(f>=0?(p="bg-emerald-500",g="text-white",y="bg-emerald-600"):(p="bg-red-500",g="text-white",y="bg-red-600")),c.jsxs("div",{className:`p-6 flex items-center gap-4 ${p} rounded-xl shadow-lg border border-gray-100 ${b}`,children:[c.jsx("div",{className:`${y} p-4 rounded-lg flex items-center justify-center`,children:c.jsx("div",{className:g,children:r})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:`text-xs font-bold uppercase tracking-widest ${g==="text-white"?"text-white/70":"text-gray-400"}`,children:e}),c.jsx("h3",{className:`text-2xl font-black mt-1 ${g}`,children:t})]})]})},Ke=xr.forwardRef(({variant:e="primary",size:t="md",children:r,icon:n,loading:a=!1,className:s="",...l},d)=>{const f={primary:`${se.colors.primary[600]} text-white hover:${se.colors.primary[700]} shadow-lg shadow-[#0f2f57]/20`,secondary:se.buttons.secondary,danger:`${se.colors.danger[600]} text-white hover:${se.colors.danger[700]} shadow-lg`,outline:se.buttons.outline,ghost:"text-gray-600 hover:bg-gray-50"},h={sm:se.buttons.sizes.sm,md:se.buttons.sizes.md,lg:se.buttons.sizes.lg};return c.jsx("button",{ref:d,className:`${se.buttons.base} ${f[e]} ${h[t]} ${a?"opacity-75 cursor-wait":""} ${s}`,disabled:a||l.disabled,...l,children:c.jsxs("span",{className:"flex items-center gap-2",children:[a&&c.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n&&!a&&c.jsx("span",{children:n}),r]})})});Ke.displayName="Button";const f9={primary:`p-2.5 text-gray-400 hover:${se.colors.primary[600]} hover:bg-[#ebf4ff] rounded-lg transition-all`,danger:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",secondary:`p-2.5 text-gray-400 hover:${se.colors.secondary[600]} hover:bg-[#e6f0ff] rounded-lg transition-all`,neutral:"p-2.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-all"},ws=xr.forwardRef(({variant:e="primary",icon:t,title:r,className:n="",...a},s)=>c.jsx("button",{ref:s,className:`${f9[e]} ${n}`,title:r,...a,children:t}));ws.displayName="IconButton";const kp=({columns:e,rows:t=5})=>c.jsx(c.Fragment,{children:Array.from({length:t}).map((r,n)=>c.jsx("tr",{className:"border-b border-gray-50 animate-pulse",children:Array.from({length:e}).map((a,s)=>c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2"})]})},s))},n))}),Tp=({columns:e,data:t,emptyMessage:r="No data found",onRowClick:n,rowClassName:a,hover:s=!0,striped:l=!1,size:d="md",loading:f=!1,loadingRows:h=8})=>{const p={sm:"px-4 py-3",md:"px-6 py-5",lg:"px-6 py-6"}[d],g=s?"hover:bg-[#ebf4ff]/50 cursor-pointer transition-all":"",y=l?"odd:bg-gray-50":"";return c.jsx("div",{className:`${se.card.base} overflow-visible`,children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsx("tr",{className:se.table.header,children:e.map(b=>c.jsx("th",{className:`${p} text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ${b.align==="center"?"text-center":b.align==="right"?"text-right":""}`,style:b.width?{width:b.width}:void 0,children:b.label},b.key))})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:f?c.jsx(kp,{columns:e.length,rows:h}):t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:e.length,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:r})}):t.map((b,w)=>c.jsx("tr",{onClick:()=>n==null?void 0:n(b,w),className:`
                    border-b border-gray-50 transition-all
                    ${g}
                    ${y}
                    ${(a==null?void 0:a(b,w))||""}
                  `,children:e.map(S=>c.jsx("td",{className:`${p} ${S.align==="center"?"text-center":S.align==="right"?"text-right":""}`,children:S.render?S.render(b[S.key],b,w):b[S.key]},S.key))},b.id||w))})]})})})},h9=xr.forwardRef(({label:e,error:t,helperText:r,className:n="",...a},s)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:se.inputs.label,children:e}),c.jsx("input",{ref:s,className:`${se.inputs.base} ${t?se.inputs.error:""} ${n}`,...a}),(t||r)&&c.jsx("p",{className:`mt-1 text-xs ${t?"text-red-500":"text-gray-500"}`,children:t||r})]}));h9.displayName="Input";const m9=xr.forwardRef(({label:e,error:t,options:r,className:n="",...a},s)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:se.inputs.label,children:e}),c.jsx("select",{ref:s,className:`${se.inputs.base} ${t?se.inputs.error:""} ${n}`,...a,children:r.map(l=>c.jsx("option",{value:l.value,children:l.label},l.value))}),t&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:t})]}));m9.displayName="Select";const p9=xr.forwardRef(({label:e,error:t,className:r="",...n},a)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:se.inputs.label,children:e}),c.jsx("textarea",{ref:a,className:`${se.inputs.base} resize-none ${t?se.inputs.error:""} ${r}`,...n}),t&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:t})]}));p9.displayName="TextArea";const Fd=({isLoading:e,message:t="Loading..."})=>e?c.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 flex items-center justify-center",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 flex flex-col items-center gap-4",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),c.jsx("p",{className:"text-gray-600 font-medium",children:t})]})}):null,md=({filterRange:e,setFilterRange:t,customDates:r,setCustomDates:n,statusTab:a,setStatusTab:s,statusOptions:l=[],title:d})=>{const[f,h]=j.useState(!1),p=["All Time","Today","This Week","This Month","This Year","Custom"];return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[c.jsxs("div",{className:"hidden sm:flex flex-wrap items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl border border-gray-100 shadow-sm",children:[p.map(g=>c.jsx("button",{onClick:()=>t(g),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${e===g?`${se.colors.primary[600]} text-white shadow-md`:"text-gray-500 hover:bg-gray-50"}`,children:g},g)),e==="Custom"&&c.jsxs("div",{className:"flex items-center gap-2 px-3 border-l border-gray-100 ml-1",children:[c.jsx("input",{type:"date",value:r.from,onChange:g=>n({...r,from:g.target.value}),className:"px-2 py-1 border rounded-lg text-[10px] font-bold bg-gray-50 outline-none focus:ring-2 focus:ring-[#3c5a82]"}),c.jsx("span",{className:"text-gray-300 text-[10px] font-black tracking-widest uppercase",children:"To"}),c.jsx("input",{type:"date",value:r.to,onChange:g=>n({...r,to:g.target.value}),className:"px-2 py-1 border rounded-lg text-[10px] font-bold bg-gray-50 outline-none focus:ring-2 focus:ring-[#3c5a82]"})]})]}),s&&l.length>0&&c.jsx("div",{className:"flex items-center gap-1 bg-gray-100/50 p-1 rounded-2xl border border-gray-100",children:["All",...l].map(g=>c.jsx("button",{onClick:()=>s(g),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${a===g?"bg-white text-gray-900 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:g},g))})]}),c.jsxs("button",{onClick:()=>h(!0),className:"sm:hidden flex items-center justify-center gap-2 bg-white border border-gray-200 text-gray-600 px-4 py-3 rounded-2xl font-bold shadow-sm w-full",children:[oe.Search,c.jsx("span",{className:"text-sm",children:"Filter & Period"}),e!=="All Time"&&c.jsx("div",{className:`w-2 h-2 rounded-full ${se.colors.primary[500]} ml-1`})]})]}),f&&c.jsxs("div",{className:"fixed inset-0 z-[150] flex items-end justify-center",children:[c.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>h(!1)}),c.jsxs("div",{className:"bg-white w-full rounded-t-[3rem] p-8 z-[160] animate-in slide-in-from-bottom duration-300 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("h3",{className:"text-2xl font-black text-gray-900",children:["Filter ",d]}),c.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l18 18"})})})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Time Period"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(g=>c.jsx("button",{onClick:()=>t(g),className:`py-3 rounded-2xl text-xs font-bold transition-all border ${e===g?`${se.colors.primary[600]} text-white border-[#0f2f57] shadow-lg`:"bg-white text-gray-500 border-gray-100 hover:bg-gray-50"}`,children:g},g))}),e==="Custom"&&c.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 animate-in fade-in duration-200",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-2",children:"From"}),c.jsx("input",{type:"date",value:r.from,onChange:g=>n({...r,from:g.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-2",children:"To"}),c.jsx("input",{type:"date",value:r.to,onChange:g=>n({...r,to:g.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"})]})]})]}),s&&l.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Status Filter"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:["All",...l].map(g=>c.jsx("button",{onClick:()=>s(g),className:`py-3 rounded-2xl text-xs font-bold transition-all border ${a===g?"bg-gray-900 text-white border-gray-900 shadow-lg":"bg-white text-gray-500 border-gray-100"}`,children:g},g))})]}),c.jsx("button",{onClick:()=>h(!1),className:`w-full py-5 ${se.colors.primary[600]} text-white rounded-xl font-black text-lg shadow-xl active:scale-95 transition-all mt-4`,children:"Apply Filters"})]})]})]})]})},Lw=({isOpen:e,onClose:t,onSubmit:r,accounts:n,paymentForm:a,setPaymentForm:s,isLoading:l,title:d="Record Payment",buttonText:f="Add Payment"})=>e?c.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm",onClick:t}),c.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] p-10 z-[210] animate-in zoom-in-95 duration-200 border border-[#ebf4ff]",children:[c.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-8",children:d}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Payment Date"}),c.jsx("input",{type:"date",value:a.date,onChange:h=>s({...a,date:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Payment Time"}),c.jsx("input",{type:"time",value:a.time,onChange:h=>s({...a,time:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Select Account"}),c.jsxs("select",{value:a.accountId,onChange:h=>s({...a,accountId:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50",children:[c.jsx("option",{value:"",children:"Select an account..."}),n.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",be(h.currentBalance),")"]},h.id))]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Amount (BDT)"}),c.jsx("input",{type:"number",value:a.amount,onChange:h=>s({...a,amount:parseFloat(h.target.value)||0}),disabled:l,className:`w-full px-6 py-4 bg-[#ebf4ff] border-2 border-[#c7dff5] rounded-lg font-black ${se.colors.primary[600]} text-xl outline-none disabled:opacity-50`})]}),c.jsxs("div",{className:"pt-6 flex gap-4",children:[c.jsx(Ke,{onClick:t,variant:"ghost",disabled:l,children:"Cancel"}),c.jsx(Ke,{onClick:r,variant:"primary",size:"md",className:"flex-1",disabled:l,loading:l,children:f})]})]})]})]}):null;function $o(){return It({queryKey:["customers"],queryFn:sD,staleTime:300*1e3})}function dD(e){return It({queryKey:["customer",e],queryFn:()=>a8(e||""),enabled:!!e,staleTime:300*1e3})}function Oc(){return It({queryKey:["orders"],queryFn:l8,staleTime:300*1e3})}function Bw(e){return It({queryKey:["order",e],queryFn:()=>c8(e||""),enabled:!!e,staleTime:300*1e3})}function g9(e){return It({queryKey:["ordersByCustomerId",e],queryFn:()=>u8(e||""),enabled:!!e,staleTime:300*1e3})}function Ec(){return It({queryKey:["bills"],queryFn:E8,staleTime:300*1e3})}function fD(e){return It({queryKey:["bill",e],queryFn:()=>A8(e||""),enabled:!!e,staleTime:300*1e3})}function Es(){return It({queryKey:["accounts"],queryFn:m8,staleTime:300*1e3})}function Ac(){return It({queryKey:["transactions"],queryFn:v8,staleTime:300*1e3})}function As(){return It({queryKey:["users"],queryFn:j8,staleTime:300*1e3})}function hD(e){return It({queryKey:["user",e],queryFn:()=>S8(e||""),enabled:!!e,staleTime:300*1e3})}function Cc(){return It({queryKey:["vendors"],queryFn:T8,staleTime:300*1e3})}function mD(e){return It({queryKey:["vendor",e],queryFn:()=>D8(e||""),enabled:!!e,staleTime:300*1e3})}function Hd(){return It({queryKey:["products"],queryFn:L8,staleTime:1800*1e3})}function y9(e){return It({queryKey:["product",e],queryFn:()=>B8(e||""),enabled:!!e,staleTime:1800*1e3})}function Cs(e){return It({queryKey:["categories",e],queryFn:()=>q8(e),staleTime:3600*1e3})}function pD(e){return It({queryKey:["paymentMethods",e],queryFn:()=>H8(e),staleTime:3600*1e3})}function v9(){return It({queryKey:["units"],queryFn:G8,staleTime:3600*1e3})}function Dp(){return It({queryKey:["settings","company"],queryFn:Kd,staleTime:3600*1e3})}function Mp(){return It({queryKey:["settings","order"],queryFn:Dw,staleTime:3600*1e3})}function Rp(){return It({queryKey:["settings","invoice"],queryFn:Mw,staleTime:3600*1e3})}function gD(){return It({queryKey:["settings","defaults"],queryFn:Rw,staleTime:3600*1e3})}function $w(){return It({queryKey:["settings","courier"],queryFn:Iw,staleTime:3600*1e3})}function b9(){const e=$e();return ct({mutationFn:i8,onMutate:async t=>{await e.cancelQueries({queryKey:["customers"]});const r=e.getQueryData(["customers"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["customers"],[...r,n])}return{previousCustomers:r}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers)},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]})}})}function x9(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>s8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["customers"]}),await e.cancelQueries({queryKey:["customer",t]});const n=e.getQueryData(["customers"]),a=e.getQueryData(["customer",t]);return n&&e.setQueryData(["customers"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["customer",t],{...a,...r}),{previousCustomers:n,previousCustomer:a}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers),n!=null&&n.previousCustomer&&e.setQueryData(["customer",r.id],n.previousCustomer)},onSuccess:t=>{e.invalidateQueries({queryKey:["customers"]}),e.invalidateQueries({queryKey:["customer",t.id]})}})}function w9(){const e=$e();return ct({mutationFn:o8,onMutate:async t=>{await e.cancelQueries({queryKey:["customers"]});const r=e.getQueryData(["customers"]);return r&&e.setQueryData(["customers"],r.filter(n=>n.id!==t)),{previousCustomers:r}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers)},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]})}})}function Ip(){const e=$e();return ct({mutationFn:d8,onMutate:async t=>{await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["orders"])||[],n={...t,id:`temp-${Date.now()}`,paidAmount:t.paidAmount||0};return e.setQueryData(["orders"],[n,...r]),{previousOrders:r,optimisticOrder:n}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:async t=>{e.setQueryData(["order",t.id],t);const n=(e.getQueryData(["orders"])||[]).filter(a=>!a.id.startsWith("temp-")).map(a=>a);e.setQueryData(["orders"],[t,...n]);try{const a=e.getQueryData(["settings","order"]);a&&a.nextNumber&&(await uD({nextNumber:a.nextNumber+1}),e.invalidateQueries({queryKey:["settings","order"]}))}catch(a){console.error("Failed to update order settings:",a)}await e.refetchQueries({queryKey:["orders"]})}})}function Qd(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>f8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["orders"]}),await e.cancelQueries({queryKey:["order",t]}),await e.cancelQueries({queryKey:["ordersByCustomerId"]});const n=e.getQueryData(["orders"]),a=e.getQueryData(["order",t]);if(n&&e.setQueryData(["orders"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["order",t],{...a,...r}),a!=null&&a.customerId){const s=e.getQueryData(["ordersByCustomerId",a.customerId]);s&&e.setQueryData(["ordersByCustomerId",a.customerId],s.map(l=>l.id===t?{...l,...r}:l))}return{previousOrders:n,previousOrder:a}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders),n!=null&&n.previousOrder&&e.setQueryData(["order",r.id],n.previousOrder)},onSuccess:t=>{e.invalidateQueries({queryKey:["orders"]}),e.invalidateQueries({queryKey:["order",t.id]})}})}function j9(){const e=$e();return ct({mutationFn:h8,onMutate:async t=>{await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["orders"]);return r&&e.setQueryData(["orders"],r.filter(n=>n.id!==t)),{previousOrders:r}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]})}})}function yD(){const e=$e();return ct({mutationFn:C8,onMutate:async t=>{await e.cancelQueries({queryKey:["bills"]});const r=e.getQueryData(["bills"])||[],n={...t,id:`temp-${Date.now()}`,paidAmount:t.paidAmount||0};return e.setQueryData(["bills"],[n,...r]),{previousBills:r,optimisticBill:n}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills)},onSuccess:async t=>{e.setQueryData(["bill",t.id],t);const n=(e.getQueryData(["bills"])||[]).filter(a=>!a.id.startsWith("temp-")).map(a=>a);e.setQueryData(["bills"],[t,...n]),await e.refetchQueries({queryKey:["bills"]})}})}function vD(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>P8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["bills"]}),await e.cancelQueries({queryKey:["bill",t]});const n=e.getQueryData(["bills"]),a=e.getQueryData(["bill",t]);return n&&e.setQueryData(["bills"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["bill",t],{...a,...r}),{previousBills:n,previousBill:a}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills),n!=null&&n.previousBill&&e.setQueryData(["bill",r.id],n.previousBill)},onSuccess:t=>{e.invalidateQueries({queryKey:["bills"]}),e.invalidateQueries({queryKey:["bill",t.id]})}})}function S9(){const e=$e();return ct({mutationFn:k8,onMutate:async t=>{await e.cancelQueries({queryKey:["bills"]});const r=e.getQueryData(["bills"]);return r&&e.setQueryData(["bills"],r.filter(n=>n.id!==t)),{previousBills:r}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills)},onSuccess:()=>{e.invalidateQueries({queryKey:["bills"]})}})}function _9(){const e=$e();return ct({mutationFn:p8,onMutate:async t=>{await e.cancelQueries({queryKey:["accounts"]});const r=e.getQueryData(["accounts"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["accounts"],[...r,n])}return{previousAccounts:r}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts)},onSuccess:()=>{e.invalidateQueries({queryKey:["accounts"]})}})}function Vd(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>g8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["accounts"]}),await e.cancelQueries({queryKey:["account",t]});const n=e.getQueryData(["accounts"]),a=e.getQueryData(["account",t]);return n&&e.setQueryData(["accounts"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["account",t],{...a,...r}),{previousAccounts:n,previousAccount:a}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts),n!=null&&n.previousAccount&&e.setQueryData(["account",r.id],n.previousAccount)},onSuccess:t=>{e.invalidateQueries({queryKey:["accounts"]}),e.invalidateQueries({queryKey:["account",t.id]})}})}function N9(){const e=$e();return ct({mutationFn:y8,onMutate:async t=>{await e.cancelQueries({queryKey:["accounts"]});const r=e.getQueryData(["accounts"]);return r&&e.setQueryData(["accounts"],r.filter(n=>n.id!==t)),{previousAccounts:r}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts)},onSuccess:()=>{e.invalidateQueries({queryKey:["accounts"]})}})}function Gd(){const e=$e();return ct({mutationFn:b8,onMutate:async t=>{await e.cancelQueries({queryKey:["transactions"]}),await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["transactions"]),n=e.getQueryData(["orders"]);if(r){const a={...t,id:`temp-${Date.now()}`};e.setQueryData(["transactions"],[...r,a])}return{previousTransactions:r,previousOrders:n}},onError:(t,r,n)=>{n!=null&&n.previousTransactions&&e.setQueryData(["transactions"],n.previousTransactions),n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:()=>{e.invalidateQueries({queryKey:["transactions"]}),e.invalidateQueries({queryKey:["orders"]})}})}function O9(){const e=$e();return ct({mutationFn:x8,onMutate:async t=>{await e.cancelQueries({queryKey:["transactions"]});const r=e.getQueryData(["transactions"]);return r&&e.setQueryData(["transactions"],r.filter(n=>n.id!==t)),{previousTransactions:r}},onError:(t,r,n)=>{n!=null&&n.previousTransactions&&e.setQueryData(["transactions"],n.previousTransactions)},onSuccess:()=>{e.invalidateQueries({queryKey:["transactions"]})}})}function E9(){const e=$e();return ct({mutationFn:_8,onMutate:async t=>{await e.cancelQueries({queryKey:["users"]});const r=e.getQueryData(["users"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["users"],[...r,n])}return{previousUsers:r}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers)},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function A9(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>N8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["users"]}),await e.cancelQueries({queryKey:["user",t]}),await e.cancelQueries({queryKey:["userByPhone"]});const n=e.getQueryData(["users"]),a=e.getQueryData(["user",t]);return n&&e.setQueryData(["users"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["user",t],{...a,...r}),{previousUsers:n,previousUser:a}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers),n!=null&&n.previousUser&&e.setQueryData(["user",r.id],n.previousUser)},onSuccess:t=>{e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["user",t.id]})}})}function bD(){const e=$e();return ct({mutationFn:O8,onMutate:async t=>{await e.cancelQueries({queryKey:["users"]});const r=e.getQueryData(["users"]);return r&&e.setQueryData(["users"],r.filter(n=>n.id!==t)),{previousUsers:r}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers)},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function C9(){const e=$e();return ct({mutationFn:M8,onMutate:async t=>{await e.cancelQueries({queryKey:["vendors"]});const r=e.getQueryData(["vendors"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["vendors"],[...r,n])}return{previousVendors:r}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors)},onSuccess:()=>{e.invalidateQueries({queryKey:["vendors"]})}})}function P9(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>R8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["vendors"]}),await e.cancelQueries({queryKey:["vendor",t]});const n=e.getQueryData(["vendors"]),a=e.getQueryData(["vendor",t]);return n&&e.setQueryData(["vendors"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["vendor",t],{...a,...r}),{previousVendors:n,previousVendor:a}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors),n!=null&&n.previousVendor&&e.setQueryData(["vendor",r.id],n.previousVendor)},onSuccess:t=>{e.invalidateQueries({queryKey:["vendors"]}),e.invalidateQueries({queryKey:["vendor",t.id]})}})}function k9(){const e=$e();return ct({mutationFn:I8,onMutate:async t=>{await e.cancelQueries({queryKey:["vendors"]});const r=e.getQueryData(["vendors"]);return r&&e.setQueryData(["vendors"],r.filter(n=>n.id!==t)),{previousVendors:r}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors)},onSuccess:()=>{e.invalidateQueries({queryKey:["vendors"]})}})}function T9(){const e=$e();return ct({mutationFn:$8,onMutate:async t=>{await e.cancelQueries({queryKey:["products"]});const r=e.getQueryData(["products"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["products"],[...r,n])}return{previousProducts:r}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts)},onSuccess:()=>{e.invalidateQueries({queryKey:["products"]})}})}function D9(){const e=$e();return ct({mutationFn:({id:t,updates:r})=>U8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["products"]}),await e.cancelQueries({queryKey:["product",t]});const n=e.getQueryData(["products"]),a=e.getQueryData(["product",t]);return n&&e.setQueryData(["products"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["product",t],{...a,...r}),{previousProducts:n,previousProduct:a}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts),n!=null&&n.previousProduct&&e.setQueryData(["product",r.id],n.previousProduct)},onSuccess:t=>{e.invalidateQueries({queryKey:["products"]}),e.invalidateQueries({queryKey:["product",t.id]})}})}function M9(){const e=$e();return ct({mutationFn:z8,onMutate:async t=>{await e.cancelQueries({queryKey:["products"]});const r=e.getQueryData(["products"]);return r&&e.setQueryData(["products"],r.filter(n=>n.id!==t)),{previousProducts:r}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts)},onSuccess:()=>{e.invalidateQueries({queryKey:["products"]})}})}function R9(){const e=$e();return ct({mutationFn:K8,onMutate:async t=>{await e.cancelQueries({queryKey:["categories"]});const r=e.getQueryData(["categories"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["categories"],[...r,n])}return{previousCategories:r}},onError:(t,r,n)=>{n!=null&&n.previousCategories&&e.setQueryData(["categories"],n.previousCategories)},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function I9(){const e=$e();return ct({mutationFn:F8,onMutate:async t=>{await e.cancelQueries({queryKey:["categories"]});const r=e.getQueryData(["categories"]);return r&&e.setQueryData(["categories"],r.filter(n=>n.id!==t)),{previousCategories:r}},onError:(t,r,n)=>{n!=null&&n.previousCategories&&e.setQueryData(["categories"],n.previousCategories)},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function L9(){const e=$e();return ct({mutationFn:Q8,onMutate:async t=>{await e.cancelQueries({queryKey:["paymentMethods"]});const r=e.getQueryData(["paymentMethods"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["paymentMethods"],[...r,n])}return{previousMethods:r}},onError:(t,r,n)=>{n!=null&&n.previousMethods&&e.setQueryData(["paymentMethods"],n.previousMethods)},onSuccess:()=>{e.invalidateQueries({queryKey:["paymentMethods"]})}})}function B9(){const e=$e();return ct({mutationFn:V8,onMutate:async t=>{await e.cancelQueries({queryKey:["paymentMethods"]});const r=e.getQueryData(["paymentMethods"]);return r&&e.setQueryData(["paymentMethods"],r.filter(n=>n.id!==t)),{previousMethods:r}},onError:(t,r,n)=>{n!=null&&n.previousMethods&&e.setQueryData(["paymentMethods"],n.previousMethods)},onSuccess:()=>{e.invalidateQueries({queryKey:["paymentMethods"]})}})}function $9(){const e=$e();return ct({mutationFn:Y8,onMutate:async t=>{await e.cancelQueries({queryKey:["units"]});const r=e.getQueryData(["units"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["units"],[...r,n])}return{previousUnits:r}},onError:(t,r,n)=>{n!=null&&n.previousUnits&&e.setQueryData(["units"],n.previousUnits)},onSuccess:()=>{e.invalidateQueries({queryKey:["units"]})}})}function U9(){const e=$e();return ct({mutationFn:W8,onMutate:async t=>{await e.cancelQueries({queryKey:["units"]});const r=e.getQueryData(["units"]);return r&&e.setQueryData(["units"],r.filter(n=>n.id!==t)),{previousUnits:r}},onError:(t,r,n)=>{n!=null&&n.previousUnits&&e.setQueryData(["units"],n.previousUnits)},onSuccess:()=>{e.invalidateQueries({queryKey:["units"]})}})}function z9(){const e=$e();return ct({mutationFn:o9,onMutate:async t=>{await e.cancelQueries({queryKey:["settings"]});const r=e.getQueryData(["settings","company"]),n=e.getQueryData(["settings","order"]),a=e.getQueryData(["settings","invoice"]),s=e.getQueryData(["settings","defaults"]),l=e.getQueryData(["settings","courier"]);return t.company&&r&&e.setQueryData(["settings","company"],{...r,...t.company}),t.order&&n&&e.setQueryData(["settings","order"],{...n,...t.order}),t.invoice&&a&&e.setQueryData(["settings","invoice"],{...a,...t.invoice}),t.defaults&&s&&e.setQueryData(["settings","defaults"],{...s,...t.defaults}),t.courier&&l&&e.setQueryData(["settings","courier"],{...l,...t.courier}),{previousCompany:r,previousOrder:n,previousInvoice:a,previousDefaults:s,previousCourier:l}},onError:(t,r,n)=>{n!=null&&n.previousCompany&&e.setQueryData(["settings","company"],n.previousCompany),n!=null&&n.previousOrder&&e.setQueryData(["settings","order"],n.previousOrder),n!=null&&n.previousInvoice&&e.setQueryData(["settings","invoice"],n.previousInvoice),n!=null&&n.previousDefaults&&e.setQueryData(["settings","defaults"],n.previousDefaults),n!=null&&n.previousCourier&&e.setQueryData(["settings","courier"],n.previousCourier)},onSuccess:()=>{e.invalidateQueries({queryKey:["settings"]})}})}const xD=({isOpen:e,onClose:t,order:r,customer:n})=>{var g;const{data:a}=$w(),[s,l]=j.useState(!1),[d,f]=j.useState(null),h=Qd();if(!e)return null;const p=async()=>{var S;if(f(null),!r||!n){f("Missing order or customer information"),console.error("[SteadfastModal] Missing order, customer information");return}if(!(a!=null&&a.steadfast)){f("No Steadfast credentials configured"),console.error("[SteadfastModal] No Steadfast settings");return}const{baseUrl:y,apiKey:b,secretKey:w}=a.steadfast;if(console.log("[SteadfastModal] ======== SUBMISSION DEBUG ========"),console.log("[SteadfastModal] courierSettings object:",a),console.log("[SteadfastModal] steadfast object:",a.steadfast),console.log("[SteadfastModal] baseUrl:",y),console.log("[SteadfastModal] baseUrl type:",typeof y),console.log("[SteadfastModal] baseUrl empty?:",y===""||!y),console.log("[SteadfastModal] baseUrl trimmed empty?:",(y||"").trim()===""),console.log("[SteadfastModal] apiKey:",b?`${b.substring(0,5)}...`:"EMPTY/NULL"),console.log("[SteadfastModal] apiKey type:",typeof b),console.log("[SteadfastModal] secretKey:",w?`${w.substring(0,5)}...`:"EMPTY/NULL"),console.log("[SteadfastModal] secretKey type:",typeof w),!y||!b||!w){f(`Incomplete Steadfast credentials - baseUrl: ${!!y}, apiKey: ${!!b}, secretKey: ${!!w}`),console.error("[SteadfastModal] Incomplete credentials"),console.error("[SteadfastModal] baseUrl value:",JSON.stringify(y)),console.error("[SteadfastModal] apiKey value:",JSON.stringify(b)),console.error("[SteadfastModal] secretKey value:",JSON.stringify(w));return}l(!0);try{console.log("[SteadfastModal] ======== PREPARING SUBMISSION ========"),console.log("[SteadfastModal] Order Number:",r.orderNumber),console.log("[SteadfastModal] Customer Name:",n.name),console.log("[SteadfastModal] Customer Phone:",n.phone),console.log("[SteadfastModal] Customer Address:",n.address),console.log("[SteadfastModal] Order Total:",r.total);const _=await s9({baseUrl:y,apiKey:b,secretKey:w,invoice:r.orderNumber,recipientName:n.name,recipientPhone:n.phone,recipientAddress:n.address,codAmount:r.total});if(console.log("[SteadfastModal] ======== SUBMISSION RESULT ========"),console.log("[SteadfastModal] Result:",_),_.error){let N=_.error;try{_.error.includes("Account is not active")&&(N="Something went wrong.")}catch{}f(N),console.error("[SteadfastModal] Submission failed:",_.error);return}console.log("[SteadfastModal] Order submitted successfully to Steadfast");try{const N=`Sent to Steadfast by ${((S=we.currentUser)==null?void 0:S.name)||"System"} on ${new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}`;await h.mutateAsync({id:r.id,updates:{history:{...r.history,courier:N}}})}catch(N){console.error("[SteadfastModal] Failed to update order sent flag:",N)}t()}catch(_){const N=_ instanceof Error?_.message:"Unknown error";f(N),console.error("[SteadfastModal] Exception during submission:",N)}finally{l(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40",onClick:t}),c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:`${se.card.elevated} w-full max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-300`,children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add to Steadfast"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[d&&c.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[c.jsx("p",{className:"font-semibold",children:"Error:"}),c.jsx("p",{children:d})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Order Number"}),c.jsx("p",{className:"text-gray-900",children:(r==null?void 0:r.orderNumber)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Name"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.name)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Phone"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.phone)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Address"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.address)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"COD Amount"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[" ",((g=r==null?void 0:r.total)==null?void 0:g.toFixed(2))||"0.00"]})]})]}),c.jsxs("div",{className:"flex gap-3 px-6 py-4 border-t border-gray-100",children:[c.jsx("button",{onClick:t,disabled:s,className:"flex-1 py-2 px-4 rounded-lg border border-gray-200 text-gray-700 font-bold hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),c.jsx("button",{onClick:p,disabled:s||!r||!n,className:"flex-1 py-2 px-4 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Adding...":"Add"})]})]})})]})},wD=({isOpen:e,onClose:t,order:r,customer:n})=>{const{data:a}=$w(),[s,l]=j.useState(1e3),[d,f]=j.useState("1"),[h,p]=j.useState(""),[g,y]=j.useState(""),[b,w]=j.useState(""),[S,_]=j.useState([]),[N,O]=j.useState([]),[A,C]=j.useState([]),[D,T]=j.useState(!1),[k,M]=j.useState(!1),[I,G]=j.useState(!1),[F,K]=j.useState(!1),te=Qd();return j.useEffect(()=>{e&&(async()=>{var ie,L,z,ee;if(!((ie=a==null?void 0:a.carryBee)!=null&&ie.baseUrl)||!((L=a==null?void 0:a.carryBee)!=null&&L.clientId)||!((z=a==null?void 0:a.carryBee)!=null&&z.clientSecret)||!((ee=a==null?void 0:a.carryBee)!=null&&ee.clientContext)){_([]);return}T(!0);try{const ne=await r9({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext});_(ne)}catch(ne){console.error("Failed to fetch cities:",ne),_([])}finally{T(!1)}})()},[e,a]),j.useEffect(()=>{(async()=>{var ie,L;if(!h||!((ie=a==null?void 0:a.carryBee)!=null&&ie.baseUrl)||!((L=a==null?void 0:a.carryBee)!=null&&L.clientId)){O([]),y(""),w(""),C([]);return}M(!0);try{const z=await n9({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext,cityId:h});O(z)}catch(z){console.error("Failed to fetch zones:",z),O([])}finally{M(!1)}})()},[h,a]),j.useEffect(()=>{(async()=>{var ie,L;if(!g||!h||!((ie=a==null?void 0:a.carryBee)!=null&&ie.baseUrl)||!((L=a==null?void 0:a.carryBee)!=null&&L.clientId)){C([]),w("");return}G(!0);try{const z=await a9({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext,cityId:h,zoneId:g});C(z)}catch(z){console.error("Failed to fetch areas:",z),C([])}finally{G(!1)}})()},[g,h,a]),e?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40",onClick:t}),c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:`${se.card.elevated} w-full max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-300`,children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add to CarryBee"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Weight ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",value:s,onChange:V=>l(Number(V.target.value)),className:"flex-1 px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg",min:"1"}),c.jsx("span",{className:"text-sm font-semibold text-gray-700 whitespace-nowrap",children:"grams"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Delivery Type ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:d,onChange:V=>f(V.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg",children:[c.jsx("option",{value:"1",children:"Normal Delivery (Type 1)"}),c.jsx("option",{value:"2",children:"Express Delivery (Type 2)"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["City ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:h,onChange:V=>p(V.target.value),disabled:D||S.length===0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:D?"Loading cities...":S.length===0?"No cities available":"Select a city"}),S.map(V=>c.jsx("option",{value:V.id,children:V.name},V.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Zone ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:g,onChange:V=>y(V.target.value),disabled:!h||k||N.length===0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:h?k?"Loading zones...":N.length===0?"No zones available":"Select a zone":"Select a city first"}),N.map(V=>c.jsx("option",{value:V.id,children:V.name},V.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Area"}),c.jsxs("select",{value:b,onChange:V=>w(V.target.value),disabled:!g||I,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:g?I?"Loading areas...":A.length===0?"No areas available":"Select an area (optional)":"Select a zone first"}),A.map(V=>c.jsx("option",{value:V.id,children:V.name},V.id))]})]})]}),c.jsxs("div",{className:"flex gap-3 px-6 py-4 border-t border-gray-100",children:[c.jsx("button",{onClick:t,className:"flex-1 py-2 px-4 rounded-lg border border-gray-200 text-gray-700 font-bold hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{onClick:async()=>{var ne;if(!h||!g){alert("Please select both City and Zone");return}if(!r||!n){alert("Missing order or customer information"),console.error("Missing order or customer:",{order:r,customer:n});return}if(!(a!=null&&a.carryBee)){alert("CarryBee settings not configured"),console.error("Missing CarryBee settings:",a);return}const{baseUrl:V,clientId:ie,clientSecret:L,clientContext:z,storeId:ee}=a.carryBee;if(!V||!ie||!L||!z||!ee){alert("CarryBee settings incomplete. Please configure Base URL, Client ID, Client Secret, Client Context, and Store ID in Settings."),console.error("Incomplete CarryBee settings:",{baseUrl:V,clientId:ie,clientSecret:L,clientContext:z,storeId:ee});return}K(!0);try{console.log("[CarryBeeModal] Submitting order:",{storeId:ee,deliveryType:Number(d),recipientPhone:n.phone,recipientName:n.name,cityId:h,zoneId:g,areaId:b||void 0,itemWeight:s,collectableAmount:r.total});const me=await i9({baseUrl:V,clientId:ie,clientSecret:L,clientContext:z,storeId:ee,deliveryType:Number(d),productType:1,recipientPhone:n.phone,recipientName:n.name,recipientAddress:n.address||"",cityId:h,zoneId:g,areaId:b||void 0,itemWeight:s,collectableAmount:r.total||0});if(me.error)alert(`Failed to send order: ${me.error}`);else{try{const R=`Sent to CarryBee by ${((ne=we.currentUser)==null?void 0:ne.name)||"System"} on ${new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}`;await te.mutateAsync({id:r.id,updates:{history:{...r.history,courier:R}}})}catch(R){console.error("[CarryBeeModal] Failed to update order sent flag:",R)}alert("Order sent to CarryBee successfully!"),t()}}catch(me){console.error("Error submitting order:",me),alert("Error sending order to CarryBee")}finally{K(!1)}},disabled:!h||!g||F,className:"flex-1 py-2 px-4 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:F?"Adding...":"Add"})]})]})})]}):null},s0=(e,t,r)=>{if(t==="All Time")return!0;const n=new Date(e),a=new Date;if(t==="Today")return n.toDateString()===a.toDateString();if(t==="This Week"){const s=a.getDate()-a.getDay(),l=new Date(new Date().setDate(s)),d=new Date(new Date().setDate(s+6));return n>=l&&n<=d}return t==="This Month"?n.getMonth()===a.getMonth()&&n.getFullYear()===a.getFullYear():t==="This Year"?n.getFullYear()===a.getFullYear():t==="Custom"?!r.from||!r.to?!0:n>=new Date(r.from)&&n<=new Date(r.to):!0};function jD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=jD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function nt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=jD(e))&&(n&&(n+=" "),n+=t);return n}var q9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Uw(e){if(typeof e!="string")return!1;var t=q9;return t.includes(e)}var K9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],F9=new Set(K9);function SD(e){return typeof e!="string"?!1:F9.has(e)}function _D(e){return typeof e=="string"&&e.startsWith("data-")}function Nn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(SD(r)||_D(r))&&(t[r]=e[r]);return t}function Co(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Nn(t)}return typeof e=="object"&&!Array.isArray(e)?Nn(e):null}function Qr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(SD(r)||_D(r)||Uw(r))&&(t[r]=e[r]);return t}function H9(e){return e==null?null:j.isValidElement(e)?Qr(e.props):typeof e=="object"&&!Array.isArray(e)?Qr(e):null}var Q9=["children","width","height","viewBox","className","style","title","desc"];function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},px.apply(null,arguments)}function V9(e,t){if(e==null)return{};var r,n,a=G9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function G9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zw=j.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:d,title:f,desc:h}=e,p=V9(e,Q9),g=s||{width:n,height:a,x:0,y:0},y=nt("recharts-surface",l);return j.createElement("svg",px({},Qr(p),{className:y,width:n,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),j.createElement("title",null,f),j.createElement("desc",null,h),r)}),Y9=["children","className"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(null,arguments)}function W9(e,t){if(e==null)return{};var r,n,a=X9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function X9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jr=j.forwardRef((e,t)=>{var{children:r,className:n}=e,a=W9(e,Y9),s=nt("recharts-layer",n);return j.createElement("g",gx({className:s},Qr(a),{ref:t}),r)}),ND=j.createContext(null),Z9=()=>j.useContext(ND);function St(e){return function(){return e}}const OD=Math.cos,jm=Math.sin,fa=Math.sqrt,Sm=Math.PI,Lp=2*Sm,yx=Math.PI,vx=2*yx,ro=1e-6,J9=vx-ro;function ED(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function eK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ED;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class tK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ED:eK(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,f=n-t,h=a-r,p=l-t,g=d-r,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>ro)if(!(Math.abs(g*f-h*p)>ro)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-l,w=a-d,S=f*f+h*h,_=b*b+w*w,N=Math.sqrt(S),O=Math.sqrt(y),A=s*Math.tan((yx-Math.acos((S+y-_)/(2*N*O)))/2),C=A/O,D=A/N;Math.abs(C-1)>ro&&this._append`L${t+C*p},${r+C*g}`,this._append`A${s},${s},0,0,${+(g*b>p*w)},${this._x1=t+D*f},${this._y1=r+D*h}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(a),f=n*Math.sin(a),h=t+d,p=r+f,g=1^l,y=l?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>ro||Math.abs(this._y1-p)>ro)&&this._append`L${h},${p}`,n&&(y<0&&(y=y%vx+vx),y>J9?this._append`A${n},${n},0,1,${g},${t-d},${r-f}A${n},${n},0,1,${g},${this._x1=h},${this._y1=p}`:y>ro&&this._append`A${n},${n},0,${+(y>=yx)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function qw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new tK(t)}function Kw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AD(e){this._context=e}AD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Bp(e){return new AD(e)}function CD(e){return e[0]}function PD(e){return e[1]}function kD(e,t){var r=St(!0),n=null,a=Bp,s=null,l=qw(d);e=typeof e=="function"?e:e===void 0?CD:St(e),t=typeof t=="function"?t:t===void 0?PD:St(t);function d(f){var h,p=(f=Kw(f)).length,g,y=!1,b;for(n==null&&(s=a(b=l())),h=0;h<=p;++h)!(h<p&&r(g=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(g,h,f),+t(g,h,f));if(b)return s=null,b+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),d):t},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:St(!!f),d):r},d.curve=function(f){return arguments.length?(a=f,n!=null&&(s=a(n)),d):a},d.context=function(f){return arguments.length?(f==null?n=s=null:s=a(n=f),d):n},d}function Fh(e,t,r){var n=null,a=St(!0),s=null,l=Bp,d=null,f=qw(h);e=typeof e=="function"?e:e===void 0?CD:St(+e),t=typeof t=="function"?t:St(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?PD:St(+r);function h(g){var y,b,w,S=(g=Kw(g)).length,_,N=!1,O,A=new Array(S),C=new Array(S);for(s==null&&(d=l(O=f())),y=0;y<=S;++y){if(!(y<S&&a(_=g[y],y,g))===N)if(N=!N)b=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=y-1;w>=b;--w)d.point(A[w],C[w]);d.lineEnd(),d.areaEnd()}N&&(A[y]=+e(_,y,g),C[y]=+t(_,y,g),d.point(n?+n(_,y,g):A[y],r?+r(_,y,g):C[y]))}if(O)return d=null,O+""||null}function p(){return kD().defined(a).curve(l).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:St(+g),n=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:St(+g),h):e},h.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:St(+g),h):n},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:St(+g),r=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:St(+g),h):t},h.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:St(+g),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(n).y(t)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:St(!!g),h):a},h.curve=function(g){return arguments.length?(l=g,s!=null&&(d=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=d=null:d=l(s=g),h):s},h}class TD{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function rK(e){return new TD(e,!0)}function nK(e){return new TD(e,!1)}const Fw={draw(e,t){const r=fa(t/Sm);e.moveTo(r,0),e.arc(0,0,r,0,Lp)}},aK={draw(e,t){const r=fa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},DD=fa(1/3),iK=DD*2,sK={draw(e,t){const r=fa(t/iK),n=r*DD;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},oK={draw(e,t){const r=fa(t),n=-r/2;e.rect(n,n,r,r)}},lK=.8908130915292852,MD=jm(Sm/10)/jm(7*Sm/10),cK=jm(Lp/10)*MD,uK=-OD(Lp/10)*MD,dK={draw(e,t){const r=fa(t*lK),n=cK*r,a=uK*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const l=Lp*s/5,d=OD(l),f=jm(l);e.lineTo(f*r,-d*r),e.lineTo(d*n-f*a,f*n+d*a)}e.closePath()}},o0=fa(3),fK={draw(e,t){const r=-fa(t/(o0*3));e.moveTo(0,r*2),e.lineTo(-o0*r,-r),e.lineTo(o0*r,-r),e.closePath()}},$n=-.5,Un=fa(3)/2,bx=1/fa(12),hK=(bx/2+1)*3,mK={draw(e,t){const r=fa(t/hK),n=r/2,a=r*bx,s=n,l=r*bx+r,d=-s,f=l;e.moveTo(n,a),e.lineTo(s,l),e.lineTo(d,f),e.lineTo($n*n-Un*a,Un*n+$n*a),e.lineTo($n*s-Un*l,Un*s+$n*l),e.lineTo($n*d-Un*f,Un*d+$n*f),e.lineTo($n*n+Un*a,$n*a-Un*n),e.lineTo($n*s+Un*l,$n*l-Un*s),e.lineTo($n*d+Un*f,$n*f-Un*d),e.closePath()}};function pK(e,t){let r=null,n=qw(a);e=typeof e=="function"?e:St(e||Fw),t=typeof t=="function"?t:St(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:St(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:St(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function _m(){}function Nm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function RD(e){this._context=e}RD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gK(e){return new RD(e)}function ID(e){this._context=e}ID.prototype={areaStart:_m,areaEnd:_m,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yK(e){return new ID(e)}function LD(e){this._context=e}LD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Nm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vK(e){return new LD(e)}function BD(e){this._context=e}BD.prototype={areaStart:_m,areaEnd:_m,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function bK(e){return new BD(e)}function qE(e){return e<0?-1:1}function KE(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),d=(s*a+l*n)/(n+a);return(qE(s)+qE(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function FE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function l0(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,d=(s-n)/3;e._context.bezierCurveTo(n+d,a+d*t,s-d,l-d*r,s,l)}function Om(e){this._context=e}Om.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:l0(this,this._t0,FE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,l0(this,FE(this,r=KE(this,e,t)),r);break;default:l0(this,this._t0,r=KE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $D(e){this._context=new UD(e)}($D.prototype=Object.create(Om.prototype)).point=function(e,t){Om.prototype.point.call(this,t,e)};function UD(e){this._context=e}UD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function xK(e){return new Om(e)}function wK(e){return new $D(e)}function zD(e){this._context=e}zD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=HE(e),a=HE(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function HE(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function jK(e){return new zD(e)}function $p(e,t){this._context=e,this._t=t}$p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function SK(e){return new $p(e,.5)}function _K(e){return new $p(e,0)}function NK(e){return new $p(e,1)}function Po(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,d=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<d;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function xx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function OK(e,t){return e[t]}function EK(e){const t=[];return t.key=e,t}function AK(){var e=St([]),t=xx,r=Po,n=OK;function a(s){var l=Array.from(e.apply(this,arguments),EK),d,f=l.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(l[d][h]=[0,+n(g,l[d].key,h,s)]).data=g;for(d=0,p=Kw(t(l));d<f;++d)l[p[d]].index=d;return r(l,p),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:St(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:St(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?xx:typeof s=="function"?s:St(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Po,a):r},a}function CK(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Po(e,t)}}function PK(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,d=0;l<a;++l)d+=e[l][r][1]||0;n[r][1]+=n[r][0]=-d/2}Po(e,t)}}function kK(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var d=0,f=0,h=0;d<l;++d){for(var p=e[t[d]],g=p[n][1]||0,y=p[n-1][1]||0,b=(g-y)/2,w=0;w<d;++w){var S=e[t[w]],_=S[n][1]||0,N=S[n-1][1]||0;b+=_-N}f+=g,h+=b*g}a[n-1][1]+=a[n-1][0]=r,f&&(r-=h/f)}a[n-1][1]+=a[n-1][0]=r,Po(e,t)}}var c0={},u0={},QE;function TK(){return QE||(QE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(u0)),u0}var d0={},VE;function qD(){return VE||(VE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(d0)),d0}var f0={},GE;function Hw(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(f0)),f0}var h0={},m0={},YE;function DK(){return YE||(YE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(m0)),m0}var WE;function Qw(){return WE||(WE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DK(),r=Hw();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],l=a.length;if(l===0)return s;let d=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<l;){const g=a[d];h?g==="\\"&&d+1<l?(d++,f+=a[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}e.toPath=n})(h0)),h0}var XE;function Vw(){return XE||(XE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TK(),r=qD(),n=Hw(),a=Qw();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?r.isDeepKey(f)?s(d,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||t.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}e.get=s})(c0)),c0}var p0,ZE;function MK(){return ZE||(ZE=1,p0=Vw().get),p0}var RK=MK();const ko=Ta(RK);var IK=4;function ys(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IK,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Kt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,l)=>{var d=r[l-1];return typeof d=="string"?a+d+s:d!==void 0?a+ys(d)+s:a+s},"")}var wr=e=>e===0?0:e>0?1:-1,Aa=e=>typeof e=="number"&&e!=+e,To=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,je=e=>(typeof e=="number"||e instanceof Number)&&!Aa(e),Ca=e=>je(e)||typeof e=="string",LK=0,pd=e=>{var t=++LK;return"".concat(e||"").concat(t)},$r=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&typeof t!="string")return n;var s;if(To(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return Aa(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},KD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Tt(e,t,r){return je(e)&&je(t)?ys(e+r*(t-e)):t}function FD(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ko(n,t))===r)}var Rt=e=>e===null||typeof e>"u",Yd=e=>Rt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function sn(e){return e!=null}function Uo(){}var BK=["type","size","sizeType"];function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wx.apply(null,arguments)}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){$K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $K(e,t,r){return(t=UK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UK(e){var t=zK(e,"string");return typeof t=="symbol"?t:t+""}function zK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qK(e,t){if(e==null)return{};var r,n,a=KK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HD={symbolCircle:Fw,symbolCross:aK,symbolDiamond:sK,symbolSquare:oK,symbolStar:dK,symbolTriangle:fK,symbolWye:mK},FK=Math.PI/180,HK=e=>{var t="symbol".concat(Yd(e));return HD[t]||Fw},QK=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*FK;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},VK=(e,t)=>{HD["symbol".concat(Yd(e))]=t},Gw=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=qK(e,BK),s=eA(eA({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var d=()=>{var y=HK(l),b=pK().type(y).size(QK(r,n,l)),w=b();if(w!==null)return w},{className:f,cx:h,cy:p}=s,g=Qr(s);return je(h)&&je(p)&&je(r)?j.createElement("path",wx({},g,{className:nt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Gw.registerSymbol=VK;var QD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Yw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Uw(a)&&(n[a]=(s=>r[a](r,s)))}),n},GK=(e,t,r)=>n=>(e(t,r,n),null),Wd=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Uw(a)&&typeof s=="function"&&(n||(n={}),n[a]=GK(s,t,r))}),n};function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){WK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WK(e,t,r){return(t=XK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ar(e,t){var r=YK({},e),n=t,a=Object.keys(t),s=a.reduce((l,d)=>(l[d]===void 0&&n[d]!==void 0&&(l[d]=n[d]),l),r);return s}function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(null,arguments)}function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){eF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eF(e,t,r){return(t=tF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tF(e){var t=rF(e,"string");return typeof t=="symbol"?t:t+""}function rF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qn=32,nF={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function aF(e){var{data:t,iconType:r,inactiveColor:n}=e,a=qn/2,s=qn/6,l=qn/3,d=t.inactive?n:t.color,f=r??t.type;if(f==="none")return null;if(f==="plainline"){var h;return j.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:a,x2:qn,y2:a,className:"recharts-legend-icon"})}if(f==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(qn,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(f==="rect")return j.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(qn/8,"h").concat(qn,"v").concat(qn*3/4,"h").concat(-qn,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var p=JK({},t);return delete p.legendIcon,j.cloneElement(t.legendIcon,p)}return j.createElement(Gw,{fill:d,cx:a,cy:a,size:qn,sizeType:"diameter",type:f})}function iF(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:l}=e,d={x:0,y:0,width:qn,height:qn},f={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var y=p.formatter||a,b=nt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var w=p.inactive?s:p.color,S=y?y(p.value,p,g):p.value;return j.createElement("li",Em({className:b,style:f,key:"legend-item-".concat(g)},Wd(e,p,g)),j.createElement(zw,{width:r,height:r,viewBox:d,style:h,"aria-label":"".concat(S," legend icon")},j.createElement(aF,{data:p,iconType:l,inactiveColor:s})),j.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},S))})}var sF=e=>{var t=ar(e,nF),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},j.createElement(iF,Em({},t,{payload:r})))},g0={},y0={},nA;function oF(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],d=n(l,s,r);a.has(d)||a.set(d,l)}return Array.from(a.values())}e.uniqBy=t})(y0)),y0}var v0={},aA;function lF(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(v0)),v0}var b0={},iA;function VD(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(b0)),b0}var x0={},w0={},j0={},sA;function cF(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(j0)),j0}var oA;function Ww(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cF();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(w0)),w0}var S0={},lA;function uF(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(S0)),S0}var cA;function dF(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ww(),r=uF();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(x0)),x0}var _0={},N0={},uA;function fF(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vw();function r(n){return function(a){return t.get(a,n)}}e.property=r})(N0)),N0}var O0={},E0={},A0={},C0={},dA;function GD(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(C0)),C0}var P0={},fA;function YD(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(P0)),P0}var k0={},hA;function WD(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(k0)),k0}var mA;function hF(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GD(),r=YD(),n=WD();function a(p,g,y){return typeof y!="function"?a(p,g,()=>{}):s(p,g,function b(w,S,_,N,O,A){const C=y(w,S,_,N,O,A);return C!==void 0?!!C:s(w,S,b,A)},new Map)}function s(p,g,y,b){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,y,b);case"function":return Object.keys(g).length>0?s(p,{...g},y,b):n.isEqualsSameValueZero(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:n.isEqualsSameValueZero(p,g)}}function l(p,g,y,b){if(g==null)return!0;if(Array.isArray(g))return f(p,g,y,b);if(g instanceof Map)return d(p,g,y,b);if(g instanceof Set)return h(p,g,y,b);const w=Object.keys(g);if(p==null||r.isPrimitive(p))return w.length===0;if(w.length===0)return!0;if(b!=null&&b.has(g))return b.get(g)===p;b==null||b.set(g,p);try{for(let S=0;S<w.length;S++){const _=w[S];if(!r.isPrimitive(p)&&!(_ in p)||g[_]===void 0&&p[_]!==void 0||g[_]===null&&p[_]!==null||!y(p[_],g[_],_,p,g,b))return!1}return!0}finally{b==null||b.delete(g)}}function d(p,g,y,b){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,S]of g.entries()){const _=p.get(w);if(y(_,S,w,p,g,b)===!1)return!1}return!0}function f(p,g,y,b){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let S=0;S<g.length;S++){const _=g[S];let N=!1;for(let O=0;O<p.length;O++){if(w.has(O))continue;const A=p[O];let C=!1;if(y(A,_,S,p,g,b)&&(C=!0),C){w.add(O),N=!0;break}}if(!N)return!1}return!0}function h(p,g,y,b){return g.size===0?!0:p instanceof Set?f([...p],[...g],y,b):!1}e.isMatchWith=a,e.isSetMatch=h})(A0)),A0}var pA;function XD(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hF();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(E0)),E0}var T0={},D0={},M0={},gA;function mF(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(M0)),M0}var R0={},yA;function Xw(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(R0)),R0}var I0={},vA;function ZD(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",y="[object ArrayBuffer]",b="[object Object]",w="[object Error]",S="[object DataView]",_="[object Uint8Array]",N="[object Uint8ClampedArray]",O="[object Uint16Array]",A="[object Uint32Array]",C="[object BigUint64Array]",D="[object Int8Array]",T="[object Int16Array]",k="[object Int32Array]",M="[object BigInt64Array]",I="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=C,e.booleanTag=a,e.dataViewTag=S,e.dateTag=d,e.errorTag=w,e.float32ArrayTag=I,e.float64ArrayTag=G,e.functionTag=g,e.int16ArrayTag=T,e.int32ArrayTag=k,e.int8ArrayTag=D,e.mapTag=f,e.numberTag=n,e.objectTag=b,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=O,e.uint32ArrayTag=A,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=N})(I0)),I0}var L0={},bA;function pF(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(L0)),L0}var xA;function JD(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mF(),r=Xw(),n=ZD(),a=YD(),s=pF();function l(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,y,b=new Map,w=void 0){const S=w==null?void 0:w(p,g,y,b);if(S!==void 0)return S;if(a.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const _=new Array(p.length);b.set(p,_);for(let N=0;N<p.length;N++)_[N]=d(p[N],N,y,b,w);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;b.set(p,_);for(const[N,O]of p)_.set(N,d(O,N,y,b,w));return _}if(p instanceof Set){const _=new Set;b.set(p,_);for(const N of p)_.add(d(N,void 0,y,b,w));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,_);for(let N=0;N<p.length;N++)_[N]=d(p[N],N,y,b,w);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,_),f(_,p,y,b,w),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return b.set(p,_),f(_,p,y,b,w),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return b.set(p,_),f(_,p,y,b,w),_}if(p instanceof Error){const _=new p.constructor;return b.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,f(_,p,y,b,w),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return b.set(p,_),f(_,p,y,b,w),_}if(p instanceof Number){const _=new Number(p.valueOf());return b.set(p,_),f(_,p,y,b,w),_}if(p instanceof String){const _=new String(p.valueOf());return b.set(p,_),f(_,p,y,b,w),_}if(typeof p=="object"&&h(p)){const _=Object.create(Object.getPrototypeOf(p));return b.set(p,_),f(_,p,y,b,w),_}return p}function f(p,g,y=p,b,w){const S=[...Object.keys(g),...t.getSymbols(g)];for(let _=0;_<S.length;_++){const N=S[_],O=Object.getOwnPropertyDescriptor(p,N);(O==null||O.writable)&&(p[N]=d(g[N],N,y,b,w))}}function h(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=d,e.copyProperties=f})(D0)),D0}var wA;function gF(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JD();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(T0)),T0}var jA;function yF(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XD(),r=gF();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(O0)),O0}var B0={},$0={},U0={},SA;function vF(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JD(),r=Xw(),n=ZD();function a(s,l){return t.cloneDeepWith(s,(d,f,h,p)=>{const g=l==null?void 0:l(d,f,h,p);if(g!==void 0)return g;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const y={};return p.set(s,y),t.copyProperties(y,s,h,p),y}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(y,s),y}case n.argumentsTag:{const y={};return t.copyProperties(y,s),y.length=s.length,y[Symbol.iterator]=s[Symbol.iterator],y}default:return}}})}e.cloneDeepWith=a})(U0)),U0}var _A;function bF(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vF();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})($0)),$0}var z0={},q0={},NA;function eM(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(q0)),q0}var K0={},OA;function xF(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xw();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(K0)),K0}var EA;function wF(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qD(),r=eM(),n=xF(),a=Qw();function s(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(l==null?void 0:l[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=s})(z0)),z0}var AA;function jF(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XD(),r=Hw(),n=bF(),a=Vw(),s=wF();function l(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return f=n.cloneDeep(f),function(h){const p=a.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=l})(B0)),B0}var CA;function SF(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VD(),r=fF(),n=yF(),a=jF();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(_0)),_0}var PA;function _F(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oF(),r=lF(),n=VD(),a=dF(),s=SF();function l(d,f=n.identity){return a.isArrayLikeObject(d)?t.uniqBy(Array.from(d),r.ary(s.iteratee(f),1)):[]}e.uniqBy=l})(g0)),g0}var F0,kA;function NF(){return kA||(kA=1,F0=_F().uniqBy),F0}var OF=NF();const TA=Ta(OF);function tM(e,t,r){return t===!0?TA(e,r):typeof t=="function"?TA(e,t):e}var H0={exports:{}},Q0={},V0={exports:{}},G0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA;function EF(){if(DA)return G0;DA=1;var e=bc();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function d(g,y){var b=y(),w=n({inst:{value:b,getSnapshot:y}}),S=w[0].inst,_=w[1];return s(function(){S.value=b,S.getSnapshot=y,f(S)&&_({inst:S})},[g,b,y]),a(function(){return f(S)&&_({inst:S}),g(function(){f(S)&&_({inst:S})})},[g]),l(b),b}function f(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!r(g,b)}catch{return!0}}function h(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return G0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,G0}var MA;function AF(){return MA||(MA=1,V0.exports=EF()),V0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA;function CF(){if(RA)return Q0;RA=1;var e=bc(),t=AF();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,d=e.useMemo,f=e.useDebugValue;return Q0.useSyncExternalStoreWithSelector=function(h,p,g,y,b){var w=s(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=d(function(){function N(T){if(!O){if(O=!0,A=T,T=y(T),b!==void 0&&S.hasValue){var k=S.value;if(b(k,T))return C=k}return C=T}if(k=C,n(A,T))return k;var M=y(T);return b!==void 0&&b(k,M)?(A=T,k):(A=T,C=M)}var O=!1,A,C,D=g===void 0?null:g;return[function(){return N(p())},D===null?void 0:function(){return N(D())}]},[p,g,y,b]);var _=a(h,w[0],w[1]);return l(function(){S.hasValue=!0,S.value=_},[_]),f(_),_},Q0}var IA;function PF(){return IA||(IA=1,H0.exports=CF()),H0.exports}var kF=PF(),Zw=j.createContext(null),TF=e=>e,_t=()=>{var e=j.useContext(Zw);return e?e.store.dispatch:TF},um=()=>{},DF=()=>um,MF=(e,t)=>e===t;function Ne(e){var t=j.useContext(Zw),r=j.useMemo(()=>t?n=>{if(n!=null)return e(n)}:um,[t,e]);return kF.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:DF,t?t.store.getState:um,t?t.store.getState:um,r,MF)}function RF(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function IF(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function LF(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var LA=e=>Array.isArray(e)?e:[e];function BF(e){const t=Array.isArray(e[0])?e[0]:e;return LF(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $F(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var UF=class{constructor(e){this.value=e}deref(){return this.value}},zF=typeof WeakRef<"u"?WeakRef:UF,qF=0,BA=1;function Hh(){return{s:qF,v:void 0,o:null,p:null}}function rM(e,t={}){let r=Hh();const{resultEqualityCheck:n}=t;let a,s=0;function l(){var g;let d=r;const{length:f}=arguments;for(let y=0,b=f;y<b;y++){const w=arguments[y];if(typeof w=="function"||typeof w=="object"&&w!==null){let S=d.o;S===null&&(d.o=S=new WeakMap);const _=S.get(w);_===void 0?(d=Hh(),S.set(w,d)):d=_}else{let S=d.p;S===null&&(d.p=S=new Map);const _=S.get(w);_===void 0?(d=Hh(),S.set(w,d)):d=_}}const h=d;let p;if(d.s===BA)p=d.v;else if(p=e.apply(null,arguments),s++,n){const y=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;y!=null&&n(y,p)&&(p=y,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new zF(p):p}return h.s=BA,h.v=p,p}return l.clearCache=()=>{r=Hh(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function KF(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,d,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),RF(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:b=rM,argsMemoizeOptions:w=[]}=p,S=LA(y),_=LA(w),N=BF(a),O=g(function(){return s++,h.apply(null,arguments)},...S),A=b(function(){l++;const D=$F(N,arguments);return d=O.apply(null,D),d},..._);return Object.assign(A,{resultFunc:h,memoizedResultFunc:O,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var Y=KF(rM),FF=Object.assign((e,t=Y)=>{IF(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,d,f)=>(l[r[f]]=d,l),{}))},{withTypes:()=>FF}),Y0={},W0={},X0={},$A;function HF(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),d=t(a);if(l===d&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};e.compareValues=r})(X0)),X0}var Z0={},J0={},UA;function nM(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(J0)),J0}var zA;function QF(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nM(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(Z0)),Z0}var qA;function VF(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HF(),r=QF(),n=Qw();function a(s,l,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const h=(b,w)=>{let S=b;for(let _=0;_<w.length&&S!=null;++_)S=S[w[_]];return S},p=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:h(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?h(w,b):typeof w=="object"?w[b]:w,g=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:n.toPath(b)}));return s.map(b=>({original:b,criteria:g.map(w=>p(w,b))})).slice().sort((b,w)=>{for(let S=0;S<g.length;S++){const _=t.compareValues(b.criteria[S],w.criteria[S],d[S]);if(_!==0)return _}return 0}).map(b=>b.original)}e.orderBy=a})(W0)),W0}var eb={},KA;function GF(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?l(p,f+1):a.push(p)}};return l(r,0),a}e.flatten=t})(eb)),eb}var tb={},FA;function aM(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eM(),r=Ww(),n=GD(),a=WD();function s(l,d,f){return n.isObject(f)&&(typeof d=="number"&&r.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.isEqualsSameValueZero(f[d],l):!1}e.isIterateeCall=s})(tb)),tb}var HA;function YF(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VF(),r=GF(),n=aM();function a(s,...l){const d=l.length;return d>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})(Y0)),Y0}var rb,QA;function WF(){return QA||(QA=1,rb=YF().sortBy),rb}var XF=WF();const Up=Ta(XF);var iM=e=>e.legend.settings,ZF=e=>e.legend.size,JF=e=>e.legend.payload,e7=Y([JF,iM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Up(n,r):n});function t7(){return Ne(e7)}var Qh=1;function sM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>Qh||Math.abs(l.left-t.left)>Qh||Math.abs(l.top-t.top)>Qh||Math.abs(l.width-t.width)>Qh)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Tr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var r7=typeof Symbol=="function"&&Symbol.observable||"@@observable",VA=r7,nb=()=>Math.random().toString(36).substring(7).split("").join("."),n7={INIT:`@@redux/INIT${nb()}`,REPLACE:`@@redux/REPLACE${nb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nb()}`},Am=n7;function Jw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function oM(e,t,r){if(typeof e!="function")throw new Error(Tr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Tr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Tr(1));return r(oM)(e,t)}let n=e,a=t,s=new Map,l=s,d=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((_,N)=>{l.set(N,_)}))}function p(){if(f)throw new Error(Tr(3));return a}function g(_){if(typeof _!="function")throw new Error(Tr(4));if(f)throw new Error(Tr(5));let N=!0;h();const O=d++;return l.set(O,_),function(){if(N){if(f)throw new Error(Tr(6));N=!1,h(),l.delete(O),s=null}}}function y(_){if(!Jw(_))throw new Error(Tr(7));if(typeof _.type>"u")throw new Error(Tr(8));if(typeof _.type!="string")throw new Error(Tr(17));if(f)throw new Error(Tr(9));try{f=!0,a=n(a,_)}finally{f=!1}return(s=l).forEach(O=>{O()}),_}function b(_){if(typeof _!="function")throw new Error(Tr(10));n=_,y({type:Am.REPLACE})}function w(){const _=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Tr(11));function O(){const C=N;C.next&&C.next(p())}return O(),{unsubscribe:_(O)}},[VA](){return this}}}return y({type:Am.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:b,[VA]:w}}function a7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Am.INIT})>"u")throw new Error(Tr(12));if(typeof r(void 0,{type:Am.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tr(13))})}function lM(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{a7(r)}catch(s){a=s}return function(l={},d){if(a)throw a;let f=!1;const h={};for(let p=0;p<n.length;p++){const g=n[p],y=r[g],b=l[g],w=y(b,d);if(typeof w>"u")throw d&&d.type,new Error(Tr(14));h[g]=w,f=f||w!==b}return f=f||n.length!==Object.keys(l).length,f?h:l}}function Cm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function i7(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Tr(15))};const l={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},d=e.map(f=>f(l));return s=Cm(...d)(a.dispatch),{...a,dispatch:s}}}function cM(e){return Jw(e)&&"type"in e&&typeof e.type=="string"}var uM=Symbol.for("immer-nothing"),GA=Symbol.for("immer-draftable"),Vr=Symbol.for("immer-state");function sa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Sn=Object,fc=Sn.getPrototypeOf,Pm="constructor",zp="prototype",jx="configurable",km="enumerable",dm="writable",gd="value",fi=e=>!!e&&!!e[Vr];function ua(e){var t;return e?dM(e)||Kp(e)||!!e[GA]||!!((t=e[Pm])!=null&&t[GA])||Fp(e)||Hp(e):!1}var s7=Sn[zp][Pm].toString(),YA=new WeakMap;function dM(e){if(!e||!ej(e))return!1;const t=fc(e);if(t===null||t===Sn[zp])return!0;const r=Sn.hasOwnProperty.call(t,Pm)&&t[Pm];if(r===Object)return!0;if(!Hl(r))return!1;let n=YA.get(r);return n===void 0&&(n=Function.toString.call(r),YA.set(r,n)),n===s7}function qp(e,t,r=!0){Xd(e)===0?(r?Reflect.ownKeys(e):Sn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Xd(e){const t=e[Vr];return t?t.type_:Kp(e)?1:Fp(e)?2:Hp(e)?3:0}var WA=(e,t,r=Xd(e))=>r===2?e.has(t):Sn[zp].hasOwnProperty.call(e,t),Sx=(e,t,r=Xd(e))=>r===2?e.get(t):e[t],Tm=(e,t,r,n=Xd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function o7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Kp=Array.isArray,Fp=e=>e instanceof Map,Hp=e=>e instanceof Set,ej=e=>typeof e=="object",Hl=e=>typeof e=="function",ab=e=>typeof e=="boolean";function l7(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ja=e=>e.copy_||e.base_,tj=e=>e.modified_?e.copy_:e.base_;function _x(e,t){if(Fp(e))return new Map(e);if(Hp(e))return new Set(e);if(Kp(e))return Array[zp].slice.call(e);const r=dM(e);if(t===!0||t==="class_only"&&!r){const n=Sn.getOwnPropertyDescriptors(e);delete n[Vr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],d=n[l];d[dm]===!1&&(d[dm]=!0,d[jx]=!0),(d.get||d.set)&&(n[l]={[jx]:!0,[dm]:!0,[km]:d[km],[gd]:e[l]})}return Sn.create(fc(e),n)}else{const n=fc(e);if(n!==null&&r)return{...e};const a=Sn.create(n);return Sn.assign(a,e)}}function rj(e,t=!1){return Qp(e)||fi(e)||!ua(e)||(Xd(e)>1&&Sn.defineProperties(e,{set:Vh,add:Vh,clear:Vh,delete:Vh}),Sn.freeze(e),t&&qp(e,(r,n)=>{rj(n,!0)},!1)),e}function c7(){sa(2)}var Vh={[gd]:c7};function Qp(e){return e===null||!ej(e)?!0:Sn.isFrozen(e)}var Dm="MapSet",Nx="Patches",XA="ArrayMethods",fM={};function Do(e){const t=fM[e];return t||sa(0,e),t}var ZA=e=>!!fM[e],yd,hM=()=>yd,u7=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ZA(Dm)?Do(Dm):void 0,arrayMethodsPlugin_:ZA(XA)?Do(XA):void 0});function JA(e,t){t&&(e.patchPlugin_=Do(Nx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ox(e){Ex(e),e.drafts_.forEach(d7),e.drafts_=null}function Ex(e){e===yd&&(yd=e.parent_)}var eC=e=>yd=u7(yd,e);function d7(e){const t=e[Vr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Vr].modified_&&(Ox(t),sa(4)),ua(e)&&(e=rC(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Vr].base_,e,t)}else e=rC(t,r);return f7(t,e,!0),Ox(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==uM?e:void 0}function rC(e,t){if(Qp(t))return t;const r=t[Vr];if(!r)return Mm(t,e.handledSet_,e);if(!Vp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);gM(r,e)}return r.copy_}function f7(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rj(t,r)}function mM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Vp=(e,t)=>e.scope_===t,h7=[];function pM(e,t,r,n){const a=Ja(e),s=e.type_;if(n!==void 0&&Sx(a,n,s)===t){Tm(a,n,r,s);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;qp(a,(f,h)=>{if(fi(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const l=e.draftLocations_.get(t)??h7;for(const d of l)Tm(a,d,r,s)}function m7(e,t,r){e.callbacks_.push(function(a){var d;const s=t;if(!s||!Vp(s,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(s);const l=tj(s);pM(e,s.draft_??s,l,r),gM(s,a)})}function gM(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}mM(e)}}function p7(e,t,r){const{scope_:n}=e;if(fi(r)){const a=r[Vr];Vp(a,n)&&a.callbacks_.push(function(){fm(e);const l=tj(a);pM(e,r,l,t)})}else ua(r)&&e.callbacks_.push(function(){const s=Ja(e);e.type_===3?s.has(r)&&Mm(r,n.handledSet_,n):Sx(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Mm(Sx(e.copy_,t,e.type_),n.handledSet_,n)})}function Mm(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||fi(e)||t.has(e)||!ua(e)||Qp(e)||(t.add(e),qp(e,(n,a)=>{if(fi(a)){const s=a[Vr];if(Vp(s,r)){const l=tj(s);Tm(e,n,l,e.type_),mM(s)}}else ua(a)&&Mm(a,t,r)})),e}function g7(e,t){const r=Kp(e),n={type_:r?1:0,scope_:t?t.scope_:hM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Rm;r&&(a=[n],s=vd);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return n.draft_=d,n.revoke_=l,[d,n]}var Rm={get(e,t){if(t===Vr)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=Ja(e);if(!WA(a,t,e.type_))return y7(e,a,t);const s=a[t];if(e.finalized_||!ua(s)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&l7(t))return s;if(s===ib(e.base_,t)){fm(e);const l=e.type_===1?+t:t,d=Cx(e.scope_,s,e,l);return e.copy_[l]=d}return s},has(e,t){return t in Ja(e)},ownKeys(e){return Reflect.ownKeys(Ja(e))},set(e,t,r){const n=yM(Ja(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=ib(Ja(e),t),s=a==null?void 0:a[Vr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(o7(r,a)&&(r!==void 0||WA(e.base_,t,e.type_)))return!0;fm(e),Ax(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),p7(e,t,r)),!0},deleteProperty(e,t){return fm(e),ib(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ax(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ja(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[dm]:!0,[jx]:e.type_!==1||t!=="length",[km]:n[km],[gd]:r[t]}},defineProperty(){sa(11)},getPrototypeOf(e){return fc(e.base_)},setPrototypeOf(){sa(12)}},vd={};for(let e in Rm){let t=Rm[e];vd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}vd.deleteProperty=function(e,t){return vd.set.call(this,e,t,void 0)};vd.set=function(e,t,r){return Rm.set.call(this,e[0],t,r,e[0])};function ib(e,t){const r=e[Vr];return(r?Ja(r):e)[t]}function y7(e,t,r){var a;const n=yM(t,r);return n?gd in n?n[gd]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function yM(e,t){if(!(t in e))return;let r=fc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=fc(r)}}function Ax(e){e.modified_||(e.modified_=!0,e.parent_&&Ax(e.parent_))}function fm(e){e.copy_||(e.assigned_=new Map,e.copy_=_x(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var v7=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Hl(r)&&!Hl(n)){const l=n;n=r;const d=this;return function(h=l,...p){return d.produce(h,g=>n.call(this,g,...p))}}Hl(n)||sa(6),a!==void 0&&!Hl(a)&&sa(7);let s;if(ua(r)){const l=eC(this),d=Cx(l,r,void 0);let f=!0;try{s=n(d),f=!1}finally{f?Ox(l):Ex(l)}return JA(l,a),tC(s,l)}else if(!r||!ej(r)){if(s=n(r),s===void 0&&(s=r),s===uM&&(s=void 0),this.autoFreeze_&&rj(s,!0),a){const l=[],d=[];Do(Nx).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:d}),a(l,d)}return s}else sa(1,r)},this.produceWithPatches=(r,n)=>{if(Hl(r))return(d,...f)=>this.produceWithPatches(d,h=>r(h,...f));let a,s;return[this.produce(r,n,(d,f)=>{a=d,s=f}),a,s]},ab(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ab(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ab(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ua(t)||sa(8),fi(t)&&(t=ca(t));const r=eC(this),n=Cx(r,t,void 0);return n[Vr].isManual_=!0,Ex(r),n}finishDraft(t,r){const n=t&&t[Vr];(!n||!n.isManual_)&&sa(9);const{scope_:a}=n;return JA(a,r),tC(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Do(Nx).applyPatches_;return fi(t)?a(t,r):this.produce(t,s=>a(s,r))}};function Cx(e,t,r,n){const[a,s]=Fp(t)?Do(Dm).proxyMap_(t,r):Hp(t)?Do(Dm).proxySet_(t,r):g7(t,r);return((r==null?void 0:r.scope_)??hM()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?m7(r,s,n):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function ca(e){return fi(e)||sa(10,e),vM(e)}function vM(e){if(!ua(e)||Qp(e))return e;const t=e[Vr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=_x(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=_x(e,!0);return qp(r,(a,s)=>{Tm(r,a,vM(s))},n),t&&(t.finalized_=!1),r}var b7=new v7,bM=b7.produce;function xM(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var x7=xM(),w7=xM,j7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Cm:Cm.apply(null,arguments)};function Vn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(_n(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>cM(n)&&n.type===e,r}var wM=class Zu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Zu.prototype)}static get[Symbol.species](){return Zu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Zu(...t[0].concat(this)):new Zu(...t.concat(this))}};function nC(e){return ua(e)?bM(e,()=>{}):e}function Gh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function S7(e){return typeof e=="boolean"}var _7=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new wM;return r&&(S7(r)?l.push(x7):l.push(w7(r.extraArgument))),l},jM="RTK_autoBatch",kt=()=>e=>({payload:e,meta:{[jM]:!0}}),aC=e=>t=>{setTimeout(t,e)},SM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:aC(10):e.type==="callback"?e.queueNotification:aC(e.timeout),h=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>a&&p(),y=n.subscribe(g);return d.add(p),()=>{y(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[jM]),s=!a,s&&(l||(l=!0,f(h))),n.dispatch(p)}finally{a=!0}}})},N7=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new wM(e);return n&&a.push(SM(typeof n=="object"?n:void 0)),a};function O7(e){const t=_7(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(Jw(r))d=lM(r);else throw new Error(_n(1));let f;typeof n=="function"?f=n(t):f=t();let h=Cm;a&&(h=j7({trace:!1,...typeof a=="object"&&a}));const p=i7(...f),g=N7(p);let y=typeof l=="function"?l(g):g();const b=h(...y);return oM(d,s,b)}function _M(e){const t={},r=[];let n;const a={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(_n(28));if(d in t)throw new Error(_n(29));return t[d]=l,a},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function E7(e){return typeof e=="function"}function A7(e,t){let[r,n,a]=_M(t),s;if(E7(e))s=()=>nC(e());else{const d=nC(e);s=()=>d}function l(d=s(),f){let h=[r[f.type],...n.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(fi(p)){const b=g(p,f);return b===void 0?p:b}else{if(ua(p))return bM(p,y=>g(y,f));{const y=g(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},d)}return l.getInitialState=s,l}var C7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",P7=(e=21)=>{let t="",r=e;for(;r--;)t+=C7[Math.random()*64|0];return t},k7=Symbol.for("rtk-slice-createasyncthunk");function T7(e,t){return`${e}/${t}`}function D7({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[k7];return function(a){const{name:s,reducerPath:l=s}=a;if(!s)throw new Error(_n(11));const d=(typeof a.reducers=="function"?a.reducers(R7()):a.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(C,D){const T=typeof C=="string"?C:C.type;if(!T)throw new Error(_n(12));if(T in h.sliceCaseReducersByType)throw new Error(_n(13));return h.sliceCaseReducersByType[T]=D,p},addMatcher(C,D){return h.sliceMatchers.push({matcher:C,reducer:D}),p},exposeAction(C,D){return h.actionCreators[C]=D,p},exposeCaseReducer(C,D){return h.sliceCaseReducersByName[C]=D,p}};f.forEach(C=>{const D=d[C],T={reducerName:C,type:T7(s,C),createNotation:typeof a.reducers=="function"};L7(D)?$7(T,D,p,t):I7(T,D,p)});function g(){const[C={},D=[],T=void 0]=typeof a.extraReducers=="function"?_M(a.extraReducers):[a.extraReducers],k={...C,...h.sliceCaseReducersByType};return A7(a.initialState,M=>{for(let I in k)M.addCase(I,k[I]);for(let I of h.sliceMatchers)M.addMatcher(I.matcher,I.reducer);for(let I of D)M.addMatcher(I.matcher,I.reducer);T&&M.addDefaultCase(T)})}const y=C=>C,b=new Map,w=new WeakMap;let S;function _(C,D){return S||(S=g()),S(C,D)}function N(){return S||(S=g()),S.getInitialState()}function O(C,D=!1){function T(M){let I=M[C];return typeof I>"u"&&D&&(I=Gh(w,T,N)),I}function k(M=y){const I=Gh(b,D,()=>new WeakMap);return Gh(I,M,()=>{const G={};for(const[F,K]of Object.entries(a.selectors??{}))G[F]=M7(K,M,()=>Gh(w,M,N),D);return G})}return{reducerPath:C,getSelectors:k,get selectors(){return k(T)},selectSlice:T}}const A={name:s,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:N,...O(l),injectInto(C,{reducerPath:D,...T}={}){const k=D??l;return C.inject({reducerPath:k,reducer:_},T),{...A,...O(k,!0)}}};return A}}function M7(e,t,r,n){function a(s,...l){let d=t(s);return typeof d>"u"&&n&&(d=r()),e(d,...l)}return a.unwrapped=e,a}var cn=D7();function R7(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function I7({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!B7(n))throw new Error(_n(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?Vn(e,l):Vn(e))}function L7(e){return e._reducerDefinitionType==="asyncThunk"}function B7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $7({type:e,reducerName:t},r,n,a){if(!a)throw new Error(_n(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=r,g=a(e,s,p);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),d&&n.addCase(g.pending,d),f&&n.addCase(g.rejected,f),h&&n.addMatcher(g.settled,h),n.exposeCaseReducer(t,{fulfilled:l||Yh,pending:d||Yh,rejected:f||Yh,settled:h||Yh})}function Yh(){}var U7="task",NM="listener",OM="completed",nj="cancelled",z7=`task-${nj}`,q7=`task-${OM}`,Px=`${NM}-${nj}`,K7=`${NM}-${OM}`,Gp=class{constructor(e){qv(this,"name","TaskAbortError");qv(this,"message");this.code=e,this.message=`${U7} ${nj} (reason: ${e})`}},aj=(e,t)=>{if(typeof e!="function")throw new TypeError(_n(32))},Im=()=>{},EM=(e,t=Im)=>(e.catch(t),e),AM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),So=e=>{if(e.aborted)throw new Gp(e.reason)};function CM(e,t){let r=Im;return new Promise((n,a)=>{const s=()=>a(new Gp(e.reason));if(e.aborted){s();return}r=AM(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Im})}var F7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Gp?"cancelled":"rejected",error:r}}finally{t==null||t()}},Lm=e=>t=>EM(CM(e,t).then(r=>(So(e),r))),PM=e=>{const t=Lm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Wl}=Object,iC={},Yp="listenerMiddleware",H7=(e,t)=>{const r=n=>AM(e,()=>n.abort(e.reason));return(n,a)=>{aj(n);const s=new AbortController;r(s);const l=F7(async()=>{So(e),So(s.signal);const d=await n({pause:Lm(s.signal),delay:PM(s.signal),signal:s.signal});return So(s.signal),d},()=>s.abort(q7));return a!=null&&a.autoJoin&&t.push(l.catch(Im)),{result:Lm(e)(l),cancel(){s.abort(z7)}}}},Q7=(e,t)=>{const r=async(n,a)=>{So(t);let s=()=>{};const d=[new Promise((f,h)=>{let p=e({predicate:n,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await CM(t,Promise.race(d));return So(t),f}finally{s()}};return(n,a)=>EM(r(n,a))},kM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Vn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(_n(21));return aj(s),{predicate:a,type:t,effect:s}},TM=Wl(e=>{const{type:t,predicate:r,effect:n}=kM(e);return{id:P7(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(_n(22))}}},{withTypes:()=>TM}),sC=(e,t)=>{const{type:r,effect:n,predicate:a}=kM(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},kx=e=>{e.pending.forEach(t=>{t.abort(Px)})},V7=(e,t)=>()=>{for(const r of t.keys())kx(r);e.clear()},oC=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},DM=Wl(Vn(`${Yp}/add`),{withTypes:()=>DM}),G7=Vn(`${Yp}/removeAll`),MM=Wl(Vn(`${Yp}/remove`),{withTypes:()=>MM}),Y7=(...e)=>{console.error(`${Yp}/error`,...e)},Zd=(e={})=>{const t=new Map,r=new Map,n=b=>{const w=r.get(b)??0;r.set(b,w+1)},a=b=>{const w=r.get(b)??1;w===1?r.delete(b):r.set(b,w-1)},{extra:s,onError:l=Y7}=e;aj(l);const d=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),w=>{b.unsubscribe(),w!=null&&w.cancelActive&&kx(b)}),f=b=>{const w=sC(t,b)??TM(b);return d(w)};Wl(f,{withTypes:()=>f});const h=b=>{const w=sC(t,b);return w&&(w.unsubscribe(),b.cancelActive&&kx(w)),!!w};Wl(h,{withTypes:()=>h});const p=async(b,w,S,_)=>{const N=new AbortController,O=Q7(f,N.signal),A=[];try{b.pending.add(N),n(b),await Promise.resolve(b.effect(w,Wl({},S,{getOriginalState:_,condition:(C,D)=>O(C,D).then(Boolean),take:O,delay:PM(N.signal),pause:Lm(N.signal),extra:s,signal:N.signal,fork:H7(N.signal,A),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((C,D,T)=>{C!==N&&(C.abort(Px),T.delete(C))})},cancel:()=>{N.abort(Px),b.pending.delete(N)},throwIfCancelled:()=>{So(N.signal)}})))}catch(C){C instanceof Gp||oC(l,C,{raisedBy:"effect"})}finally{await Promise.all(A),N.abort(K7),a(b),b.pending.delete(N)}},g=V7(t,r);return{middleware:b=>w=>S=>{if(!cM(S))return w(S);if(DM.match(S))return f(S.payload);if(G7.match(S)){g();return}if(MM.match(S))return h(S.payload);let _=b.getState();const N=()=>{if(_===iC)throw new Error(_n(23));return _};let O;try{if(O=w(S),t.size>0){const A=b.getState(),C=Array.from(t.values());for(const D of C){let T=!1;try{T=D.predicate(S,A,_)}catch(k){T=!1,oC(l,k,{raisedBy:"predicate"})}T&&p(D,S,b,N)}}}finally{_=iC}return O},startListening:f,stopListening:h,clearListeners:g}};function _n(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var W7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},RM=cn({name:"chartLayout",initialState:W7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:X7,setLayout:Z7,setChartSize:J7,setScale:eH}=RM.actions,tH=RM.reducer;function IM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Ze(e){return Number.isFinite(e)}function Pa(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(n){rH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rH(e,t,r){return(t=nH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nH(e){var t=aH(e,"string");return typeof t=="symbol"?t:t+""}function aH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bt(e,t,r){return Rt(e)||Rt(t)?r:Ca(t)?ko(e,t,r):typeof t=="function"?t(e):r}var iH=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:d}=t;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&je(e[s]))return Vl(Vl({},e),{},{[s]:e[s]+(n||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&je(e[l]))return Vl(Vl({},e),{},{[l]:e[l]+(a||0)})}return e},ji=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",LM=(e,t,r,n)=>{if(n)return e.map(d=>d.coordinate);var a,s,l=e.map(d=>(d.coordinate===t&&(a=!0),d.coordinate===r&&(s=!0),d.coordinate));return a||l.push(t),s||l.push(r),l},BM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:y,axisType:b}=e;if(!l)return null;var w=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=a==="category"&&l.bandwidth?l.bandwidth()/w:0;if(S=b==="angleAxis"&&s&&s.length>=2?wr(s[0]-s[1])*2*S:S,g||y){var _=(g||y||[]).map((N,O)=>{var A=n?n.indexOf(N):N,C=l.map(A);return Ze(C)?{coordinate:C+S,value:N,offset:S,index:O}:null}).filter(sn);return _}return f&&h?h.map((N,O)=>{var A=l.map(N);return Ze(A)?{coordinate:A+S,value:N,index:O,offset:S}:null}).filter(sn):l.ticks&&p!=null?l.ticks(p).map((N,O)=>{var A=l.map(N);return Ze(A)?{coordinate:A+S,value:N,index:O,offset:S}:null}).filter(sn):l.domain().map((N,O)=>{var A=l.map(N);return Ze(A)?{coordinate:A+S,value:n?n[N]:N,index:O,offset:S}:null}).filter(sn)},sH=(e,t)=>{if(!t||t.length!==2||!je(t[0])||!je(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!je(e[0])||e[0]<r)&&(a[0]=r),(!je(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},oH=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0,d=0;d<r;++d){var f=e[d],h=f==null?void 0:f[a];if(h!=null){var p=h[1],g=h[0],y=Aa(p)?g:p;y>=0?(h[0]=s,s+=y,h[1]=s):(h[0]=l,l+=y,h[1]=l)}}}},lH=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0;l<r;++l){var d=e[l],f=d==null?void 0:d[a];if(f!=null){var h=Aa(f[1])?f[0]:f[1];h>=0?(f[0]=s,s+=h,f[1]=s):(f[0]=0,f[1]=0)}}}},cH={sign:oH,expand:CK,none:Po,silhouette:PK,wiggle:kK,positive:lH},uH=(e,t,r)=>{var n,a=(n=cH[r])!==null&&n!==void 0?n:Po,s=AK().keys(t).value((d,f)=>Number(bt(d,f,0))).order(xx).offset(a),l=s(e);return l.forEach((d,f)=>{d.forEach((h,p)=>{var g=bt(e[p],t[f],0);Array.isArray(g)&&g.length===2&&je(g[0])&&je(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function dH(e){return e==null?void 0:String(e)}function cC(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Rt(a[t.dataKey])){var d=FD(r,"value",a[t.dataKey]);if(d)return d.coordinate+n/2}return r!=null&&r[s]?r[s].coordinate+n/2:null}var f=bt(a,Rt(l)?t.dataKey:l),h=t.scale.map(f);return je(h)?h:null}var uC=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var d=bt(s,t.dataKey,t.scale.domain()[l]);if(Rt(d))return null;var f=t.scale.map(d);return je(f)?f-a/2+n:null},fH=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},hH=e=>{var t=e.flat(2).filter(je);return[Math.min(...t),Math.max(...t)]},mH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],pH=(e,t,r)=>{if(e!=null)return mH(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:l}=s,d=l.reduce((f,h)=>{var p=IM(h,t,r),g=hH(p);return!Ze(g[0])||!Ze(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},dC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Up(t,p=>p.coordinate),s=1/0,l=1,d=a.length;l<d;l++){var f=a[l],h=a[l-1];s=Math.min(((f==null?void 0:f.coordinate)||0)-((h==null?void 0:h.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function hC(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Vl(Vl({},t),{},{dataKey:r,payload:n,value:a,name:s})}function Pc(e,t){if(e)return String(e);if(typeof t=="string")return t}var gH=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},yH=(e,t)=>t==="centric"?e.angle:e.radius,Si=e=>e.layout.width,_i=e=>e.layout.height,vH=e=>e.layout.scale,$M=e=>e.layout.margin,Wp=Y(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Xp=Y(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),UM="data-recharts-item-index",zM="data-recharts-item-id",Jd=60;function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){bH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bH(e,t,r){return(t=xH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xH(e){var t=wH(e,"string");return typeof t=="symbol"?t:t+""}function wH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jH=e=>e.brush.height;function SH(e){var t=Xp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Jd;return r+a}return r},0)}function _H(e){var t=Xp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Jd;return r+a}return r},0)}function NH(e){var t=Wp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function OH(e){var t=Wp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var dr=Y([Si,_i,$M,jH,SH,_H,NH,OH,iM,ZF],(e,t,r,n,a,s,l,d,f,h)=>{var p={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+d},y=Wh(Wh({},g),p),b=y.bottom;y.bottom+=n,y=iH(y,f,h);var w=e-y.left-y.right,S=t-y.top-y.bottom;return Wh(Wh({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(S,0)})}),EH=Y(dr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ij=Y(Si,_i,(e,t)=>({x:0,y:0,width:e,height:t})),AH=j.createContext(null),Ur=()=>j.useContext(AH)!=null,Zp=e=>e.brush,Jp=Y([Zp,dr,$M],(e,t,r)=>({height:e.height,x:je(e.x)?e.x:t.left,y:je(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:je(e.width)?e.width:t.width})),sb={},ob={},lb={},pC;function CH(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(r.apply(l,d),l=void 0,d=null)},g=()=>{h&&p(),S()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},n)},w=()=>{y!==null&&(clearTimeout(y),y=null)},S=()=>{w(),l=void 0,d=null},_=()=>{p()},N=function(...O){if(a!=null&&a.aborted)return;l=this,d=O;const A=y==null;b(),f&&A&&p()};return N.schedule=b,N.cancel=S,N.flush=_,a==null||a.addEventListener("abort",S,{once:!0}),N}e.debounce=t})(lb)),lb}var gC;function PH(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CH();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const y=t.debounce(function(...S){p=n.apply(this,S),g=null},a,{edges:h}),b=function(...S){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=n.apply(this,S),g=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,S),p)},w=()=>(y.flush(),p);return b.cancel=y.cancel,b.flush=w,b}e.debounce=r})(ob)),ob}var yC;function kH(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PH();function r(n,a=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return t.debounce(n,a,{leading:l,maxWait:a,trailing:d})}e.throttle=r})(sb)),sb}var cb,vC;function TH(){return vC||(vC=1,cb=kH().throttle),cb}var DH=TH();const MH=Ta(DH);var Bm=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},Na={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},qM=(e,t,r)=>{var{width:n=Na.width,height:a=Na.height,aspect:s,maxHeight:l}=r,d=To(n)?e:Number(n),f=To(a)?t:Number(a);return s&&s>0&&(d?f=d/s:f&&(d=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:d,calculatedHeight:f}},RH={width:0,height:0,overflow:"visible"},IH={width:0,overflowX:"visible"},LH={height:0,overflowY:"visible"},BH={},$H=e=>{var{width:t,height:r}=e,n=To(t),a=To(r);return n&&a?RH:n?IH:a?LH:BH};function UH(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a=Na.width,s=Na.height):a===void 0?a=n&&n>0?void 0:Na.width:s===void 0&&(s=n&&n>0?void 0:Na.height),{width:a,height:s}}function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tx.apply(null,arguments)}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){zH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zH(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=KH(e,"string");return typeof t=="symbol"?t:t+""}function KH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KM=j.createContext(Na.initialDimension);function FH(e){return Pa(e.width)&&Pa(e.height)}function FM(e){var{children:t,width:r,height:n}=e,a=j.useMemo(()=>({width:r,height:n}),[r,n]);return FH(a)?j.createElement(KM.Provider,{value:a},t):null}var sj=()=>j.useContext(KM),HH=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Na.initialDimension,width:a,height:s,minWidth:l=Na.minWidth,minHeight:d,maxHeight:f,children:h,debounce:p=Na.debounce,id:g,className:y,onResize:b,style:w={}}=e,S=j.useRef(null),_=j.useRef();_.current=b,j.useImperativeHandle(t,()=>S.current);var[N,O]=j.useState({containerWidth:n.width,containerHeight:n.height}),A=j.useCallback((M,I)=>{O(G=>{var F=Math.round(M),K=Math.round(I);return G.containerWidth===F&&G.containerHeight===K?G:{containerWidth:F,containerHeight:K}})},[]);j.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return Uo;var M=K=>{var te,V=K[0];if(V!=null){var{width:ie,height:L}=V.contentRect;A(ie,L),(te=_.current)===null||te===void 0||te.call(_,ie,L)}};p>0&&(M=MH(M,p,{trailing:!0,leading:!1}));var I=new ResizeObserver(M),{width:G,height:F}=S.current.getBoundingClientRect();return A(G,F),I.observe(S.current),()=>{I.disconnect()}},[A,p]);var{containerWidth:C,containerHeight:D}=N;Bm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:k}=qM(C,D,{width:a,height:s,aspect:r,maxHeight:f});return Bm(T!=null&&T>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,k,a,s,l,d,r),j.createElement("div",{id:g?"".concat(g):void 0,className:nt("recharts-responsive-container",y),style:xC(xC({},w),{},{width:a,height:s,minWidth:l,minHeight:d,maxHeight:f}),ref:S},j.createElement("div",{style:$H({width:a,height:s})},j.createElement(FM,{width:T,height:k},h)))}),Xl=j.forwardRef((e,t)=>{var r=sj();if(Pa(r.width)&&Pa(r.height))return e.children;var{width:n,height:a}=UH({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=qM(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return je(s)&&je(l)?j.createElement(FM,{width:s,height:l},e.children):j.createElement(HH,Tx({},e,{width:n,height:a,ref:t}))});function oj(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var eg=()=>{var e,t=Ur(),r=Ne(EH),n=Ne(Jp),a=(e=Ne(Zp))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},QH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},HM=()=>{var e;return(e=Ne(dr))!==null&&e!==void 0?e:QH},lj=()=>Ne(Si),cj=()=>Ne(_i),VH=()=>Ne(e=>e.layout.margin),it=e=>e.layout.layoutType,zo=()=>Ne(it),QM=()=>{var e=zo();if(e==="horizontal"||e==="vertical")return e},VM=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},GH=()=>{var e=zo();return e!==void 0},ef=e=>{var t=_t(),r=Ur(),{width:n,height:a}=e,s=sj(),l=n,d=a;return s&&(l=s.width>0?s.width:n,d=s.height>0?s.height:a),j.useEffect(()=>{!r&&Pa(l)&&Pa(d)&&t(J7({width:l,height:d}))},[t,r,l,d]),null},GM=Symbol.for("immer-nothing"),wC=Symbol.for("immer-draftable"),On=Symbol.for("immer-state");function oa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bd=Object.getPrototypeOf;function mc(e){return!!e&&!!e[On]}function Mo(e){var t;return e?YM(e)||Array.isArray(e)||!!e[wC]||!!((t=e.constructor)!=null&&t[wC])||tf(e)||rg(e):!1}var YH=Object.prototype.constructor.toString(),jC=new WeakMap;function YM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=jC.get(r);return n===void 0&&(n=Function.toString.call(r),jC.set(r,n)),n===YH}function $m(e,t,r=!0){tg(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function tg(e){const t=e[On];return t?t.type_:Array.isArray(e)?1:tf(e)?2:rg(e)?3:0}function Dx(e,t){return tg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function WM(e,t,r){const n=tg(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function WH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function tf(e){return e instanceof Map}function rg(e){return e instanceof Set}function no(e){return e.copy_||e.base_}function Mx(e,t){if(tf(e))return new Map(e);if(rg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=YM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[On];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],d=n[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[l]})}return Object.create(bd(e),n)}else{const n=bd(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function uj(e,t=!1){return ng(e)||mc(e)||!Mo(e)||(tg(e)>1&&Object.defineProperties(e,{set:Xh,add:Xh,clear:Xh,delete:Xh}),Object.freeze(e),t&&Object.values(e).forEach(r=>uj(r,!0))),e}function XH(){oa(2)}var Xh={value:XH};function ng(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var ZH={};function Ro(e){const t=ZH[e];return t||oa(0,e),t}var xd;function XM(){return xd}function JH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function SC(e,t){t&&(Ro("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Rx(e){Ix(e),e.drafts_.forEach(eQ),e.drafts_=null}function Ix(e){e===xd&&(xd=e.parent_)}function _C(e){return xd=JH(xd,e)}function eQ(e){const t=e[On];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function NC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[On].modified_&&(Rx(t),oa(4)),Mo(e)&&(e=Um(t,e),t.parent_||zm(t,e)),t.patches_&&Ro("Patches").generateReplacementPatches_(r[On].base_,e,t.patches_,t.inversePatches_)):e=Um(t,r,[]),Rx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==GM?e:void 0}function Um(e,t,r){if(ng(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[On];if(!a)return $m(t,(s,l)=>OC(e,a,t,s,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return zm(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,d=!1;a.type_===3&&(l=new Set(s),s.clear(),d=!0),$m(l,(f,h)=>OC(e,a,s,f,h,r,d),n),zm(e,s,!1),r&&e.patches_&&Ro("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function OC(e,t,r,n,a,s,l){if(a==null||typeof a!="object"&&!l)return;const d=ng(a);if(!(d&&!l)){if(mc(a)){const f=s&&t&&t.type_!==3&&!Dx(t.assigned_,n)?s.concat(n):void 0,h=Um(e,a,f);if(WM(r,n,h),mc(h))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Mo(a)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&d)return;Um(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(tf(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&zm(e,a)}}}function zm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&uj(t,r)}function tQ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:XM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=dj;r&&(a=[n],s=wd);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return n.draft_=d,n.revoke_=l,d}var dj={get(e,t){if(t===On)return e;const r=no(e);if(!Dx(r,t))return rQ(e,r,t);const n=r[t];return e.finalized_||!Mo(n)?n:n===ub(e.base_,t)?(db(e),e.copy_[t]=Bx(n,e)):n},has(e,t){return t in no(e)},ownKeys(e){return Reflect.ownKeys(no(e))},set(e,t,r){const n=ZM(no(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=ub(no(e),t),s=a==null?void 0:a[On];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(WH(r,a)&&(r!==void 0||Dx(e.base_,t)))return!0;db(e),Lx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ub(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,db(e),Lx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=no(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){oa(11)},getPrototypeOf(e){return bd(e.base_)},setPrototypeOf(){oa(12)}},wd={};$m(dj,(e,t)=>{wd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});wd.deleteProperty=function(e,t){return wd.set.call(this,e,t,void 0)};wd.set=function(e,t,r){return dj.set.call(this,e[0],t,r,e[0])};function ub(e,t){const r=e[On];return(r?no(r):e)[t]}function rQ(e,t,r){var a;const n=ZM(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function ZM(e,t){if(!(t in e))return;let r=bd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=bd(r)}}function Lx(e){e.modified_||(e.modified_=!0,e.parent_&&Lx(e.parent_))}function db(e){e.copy_||(e.copy_=Mx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var nQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(f=s,...h){return l.produce(f,p=>r.call(this,p,...h))}}typeof r!="function"&&oa(6),n!==void 0&&typeof n!="function"&&oa(7);let a;if(Mo(t)){const s=_C(this),l=Bx(t,void 0);let d=!0;try{a=r(l),d=!1}finally{d?Rx(s):Ix(s)}return SC(s,n),NC(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===GM&&(a=void 0),this.autoFreeze_&&uj(a,!0),n){const s=[],l=[];Ro("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else oa(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...d)=>this.produceWithPatches(l,f=>t(f,...d));let n,a;return[this.produce(t,r,(l,d)=>{n=l,a=d}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Mo(e)||oa(8),mc(e)&&(e=aQ(e));const t=_C(this),r=Bx(e,void 0);return r[On].isManual_=!0,Ix(t),r}finishDraft(e,t){const r=e&&e[On];(!r||!r.isManual_)&&oa(9);const{scope_:n}=r;return SC(n,t),NC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ro("Patches").applyPatches_;return mc(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Bx(e,t){const r=tf(e)?Ro("MapSet").proxyMap_(e,t):rg(e)?Ro("MapSet").proxySet_(e,t):tQ(e,t);return(t?t.scope_:XM()).drafts_.push(r),r}function aQ(e){return mc(e)||oa(10,e),JM(e)}function JM(e){if(!Mo(e)||ng(e))return e;const t=e[On];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Mx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Mx(e,!0);return $m(r,(a,s)=>{WM(r,a,JM(s))},n),t&&(t.finalized_=!1),r}var iQ=new nQ;iQ.produce;var sQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},eR=cn({name:"legend",initialState:sQ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:kt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ca(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:kt()},removeLegendPayload:{reducer(e,t){var r=ca(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:kt()}}}),{setLegendSize:EC,setLegendSettings:oQ,addLegendPayload:tR,replaceLegendPayload:rR,removeLegendPayload:nR}=eR.actions,lQ=eR.reducer,cQ=["contextPayload"];function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$x.apply(null,arguments)}function AC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(r),!0).forEach(function(n){uQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uQ(e,t,r){return(t=dQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dQ(e){var t=fQ(e,"string");return typeof t=="symbol"?t:t+""}function fQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hQ(e,t){if(e==null)return{};var r,n,a=mQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pQ(e){return e.value}function gQ(e){var{contextPayload:t}=e,r=hQ(e,cQ),n=tM(t,e.payloadUniqBy,pQ),a=pc(pc({},r),{},{payload:n});return j.isValidElement(e.content)?j.cloneElement(e.content,a):typeof e.content=="function"?j.createElement(e.content,a):j.createElement(sF,a)}function yQ(e,t,r,n,a,s){var{layout:l,align:d,verticalAlign:f}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&l==="vertical"?h={left:((n||0)-s.width)/2}:h=d==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?p={top:((a||0)-s.height)/2}:p=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),pc(pc({},h),p)}function vQ(e){var t=_t();return j.useEffect(()=>{t(oQ(e))},[t,e]),null}function bQ(e){var t=_t();return j.useEffect(()=>(t(EC(e)),()=>{t(EC({width:0,height:0}))}),[t,e]),null}function xQ(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var wQ={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function ag(e){var t=ar(e,wQ),r=t7(),n=Z9(),a=VH(),{width:s,height:l,wrapperStyle:d,portal:f}=t,[h,p]=sM([r]),g=lj(),y=cj();if(g==null||y==null)return null;var b=g-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),w=xQ(t.layout,l,s,b),S=f?d:pc(pc({position:"absolute",width:(w==null?void 0:w.width)||s||"auto",height:(w==null?void 0:w.height)||l||"auto"},yQ(d,t,a,g,y,h)),d),_=f??n;if(_==null||r==null)return null;var N=j.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:p},j.createElement(vQ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&j.createElement(bQ,{width:h.width,height:h.height}),j.createElement(gQ,$x({},t,w,{margin:a,chartWidth:g,chartHeight:y,contextPayload:r})));return bp.createPortal(N,_)}ag.displayName="Legend";function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(null,arguments)}function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){jQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jQ(e,t,r){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=_Q(e,"string");return typeof t=="symbol"?t:t+""}function _Q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NQ(e){return Array.isArray(e)&&Ca(e[0])&&Ca(e[1])?e.join(" ~ "):e}var Bl={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},OQ=e=>{var{separator:t=Bl.separator,contentStyle:r,itemStyle:n,labelStyle:a=Bl.labelStyle,payload:s,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:y=Bl.accessibilityLayer}=e,b=()=>{if(s&&s.length){var D={padding:0,margin:0},T=(d?Up(s,d):s).map((k,M)=>{if(k.type==="none")return null;var I=k.formatter||l||NQ,{value:G,name:F}=k,K=G,te=F;if(I){var V=I(G,F,k,M,s);if(Array.isArray(V))[K,te]=V;else if(V!=null)K=V;else return null}var ie=zu(zu({},Bl.itemStyle),{},{color:k.color||Bl.itemStyle.color},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ie},Ca(te)?j.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Ca(te)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},K),j.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:D},T)}return null},w=zu(zu({},Bl.contentStyle),r),S=zu({margin:0},a),_=!Rt(p),N=_?p:"",O=nt("recharts-default-tooltip",f),A=nt("recharts-tooltip-label",h);_&&g&&s!==void 0&&s!==null&&(N=g(p,s));var C=y?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Ux({className:O,style:w},C),j.createElement("p",{className:A,style:S},j.isValidElement(N)?N:"".concat(N)),b())},qu="recharts-tooltip-wrapper",EQ={visibility:"hidden"};function AQ(e){var{coordinate:t,translateX:r,translateY:n}=e;return nt(qu,{["".concat(qu,"-right")]:je(r)&&t&&je(t.x)&&r>=t.x,["".concat(qu,"-left")]:je(r)&&t&&je(t.x)&&r<t.x,["".concat(qu,"-bottom")]:je(n)&&t&&je(t.y)&&n>=t.y,["".concat(qu,"-top")]:je(n)&&t&&je(t.y)&&n<t.y})}function PC(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:s,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=e;if(s&&je(s[n]))return s[n];var p=r[n]-d-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?p:g;var y=f[n];if(y==null)return 0;if(l[n]){var b=p,w=y;return b<w?Math.max(g,y):Math.max(p,y)}if(h==null)return 0;var S=g+d,_=y+h;return S>_?Math.max(p,y):Math.max(g,y)}function CQ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function PQ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:s,reverseDirection:l,tooltipBox:d,useTranslate3d:f,viewBox:h}=e,p,g,y;return d.height>0&&d.width>0&&r?(g=PC({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:s,reverseDirection:l,tooltipDimension:d.width,viewBox:h,viewBoxDimension:h.width}),y=PC({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:s,reverseDirection:l,tooltipDimension:d.height,viewBox:h,viewBoxDimension:h.height}),p=CQ({translateX:g,translateY:y,useTranslate3d:f})):p=EQ,{cssProperties:p,cssClasses:AQ({translateX:g,translateY:y,coordinate:r})}}function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){zx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zx(e,t,r){return(t=kQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kQ(e){var t=TQ(e,"string");return typeof t=="symbol"?t:t+""}function TQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DQ extends j.PureComponent{constructor(){super(...arguments),zx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),zx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:y,viewBox:b,wrapperStyle:w,lastBoundingBox:S,innerRef:_,hasPortalFromProps:N}=this.props,O=typeof h=="number"?h:h.x,A=typeof h=="number"?h:h.y,{cssClasses:C,cssProperties:D}=PQ({allowEscapeViewBox:r,coordinate:l,offsetLeft:O,offsetTop:A,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:y,viewBox:b}),T=N?{}:Zh(Zh({transition:f&&t?"transform ".concat(n,"ms ").concat(a):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),k=Zh(Zh({},T),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},w);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:k,ref:_},s)}}var aR=()=>{var e;return(e=Ne(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qx.apply(null,arguments)}function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){MQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MQ(e,t,r){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RQ(e){var t=IQ(e,"string");return typeof t=="symbol"?t:t+""}function IQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MC={curveBasisClosed:yK,curveBasisOpen:vK,curveBasis:gK,curveBumpX:rK,curveBumpY:nK,curveLinearClosed:bK,curveLinear:Bp,curveMonotoneX:xK,curveMonotoneY:wK,curveNatural:jK,curveStep:SK,curveStepAfter:NK,curveStepBefore:_K},qm=e=>Ze(e.x)&&Ze(e.y),RC=e=>e.base!=null&&qm(e.base)&&qm(e),Ku=e=>e.x,Fu=e=>e.y,LQ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Yd(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=MC["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return MC[r]||Bp},IC={connectNulls:!1,type:"linear"},BQ=e=>{var{type:t=IC.type,points:r=[],baseLine:n,layout:a,connectNulls:s=IC.connectNulls}=e,l=LQ(t,a),d=s?r.filter(qm):r;if(Array.isArray(n)){var f,h=r.map((w,S)=>DC(DC({},w),{},{base:n[S]}));a==="vertical"?f=Fh().y(Fu).x1(Ku).x0(w=>w.base.x):f=Fh().x(Ku).y1(Fu).y0(w=>w.base.y);var p=f.defined(RC).curve(l),g=s?h.filter(RC):h;return p(g)}var y;a==="vertical"&&je(n)?y=Fh().y(Fu).x1(Ku).x0(n):je(n)?y=Fh().x(Ku).y1(Fu).y0(n):y=kD().x(Ku).y(Fu);var b=y.defined(qm).curve(l);return b(d)},fj=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=zo();if((!r||!r.length)&&!n)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},d=r&&r.length?BQ(l):n;return j.createElement("path",qx({},Nn(e),Yw(e),{className:nt("recharts-curve",t),d:d===null?void 0:d,ref:a}))},$Q=["x","y","top","left","width","height","className"];function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(null,arguments)}function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){zQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zQ(e,t,r){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qQ(e){var t=KQ(e,"string");return typeof t=="symbol"?t:t+""}function KQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FQ(e,t){if(e==null)return{};var r,n,a=HQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QQ=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),VQ=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:d}=e,f=FQ(e,$Q),h=UQ({x:t,y:r,top:n,left:a,width:s,height:l},f);return!je(t)||!je(r)||!je(s)||!je(l)||!je(n)||!je(a)?null:j.createElement("path",Kx({},Qr(h),{className:nt("recharts-cross",d),d:QQ(t,r,s,l,n,a)}))};function GQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function BC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(r),!0).forEach(function(n){YQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YQ(e,t,r){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),iR=(e,t,r)=>e.map(n=>"".concat(ZQ(n)," ").concat(t,"ms ").concat(r)).join(","),JQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),jd=(e,t)=>Object.keys(t).reduce((r,n)=>$C($C({},r),{},{[n]:e(n,t[n])}),{});function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){eV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eV(e,t,r){return(t=tV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tV(e){var t=rV(e,"string");return typeof t=="symbol"?t:t+""}function rV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Km=(e,t,r)=>e+(t-e)*r,Fx=e=>{var{from:t,to:r}=e;return t!==r},sR=(e,t,r)=>{var n=jd((a,s)=>{if(Fx(s)){var[l,d]=e(s.from,s.to,s.velocity);return cr(cr({},s),{},{from:l,velocity:d})}return s},t);return r<1?jd((a,s)=>Fx(s)&&n[a]!=null?cr(cr({},s),{},{velocity:Km(s.velocity,n[a].velocity,r),from:Km(s.from,n[a].from,r)}):s,t):sR(e,n,r-1)};function nV(e,t,r,n,a,s){var l,d=n.reduce((y,b)=>cr(cr({},y),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>jd((y,b)=>b.from,d),h=()=>!Object.values(d).filter(Fx).length,p=null,g=y=>{l||(l=y);var b=y-l,w=b/r.dt;d=sR(r,d,w),a(cr(cr(cr({},e),t),f())),l=y,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var y;(y=p)===null||y===void 0||y()})}function aV(e,t,r,n,a,s,l){var d=null,f=a.reduce((g,y)=>{var b=e[y],w=t[y];return b==null||w==null?g:cr(cr({},g),{},{[y]:[b,w]})},{}),h,p=g=>{h||(h=g);var y=(g-h)/n,b=jd((S,_)=>Km(..._,r(y)),f);if(s(cr(cr(cr({},e),t),b)),y<1)d=l.setTimeout(p);else{var w=jd((S,_)=>Km(..._,r(1)),f);s(cr(cr(cr({},e),t),w))}};return()=>(d=l.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const iV=(e,t,r,n,a,s)=>{var l=JQ(e,t);return r==null?()=>(a(cr(cr({},e),t)),()=>{}):r.isStepper===!0?nV(e,t,r,l,a,s):aV(e,t,r,n,l,a,s)};var Fm=1e-4,oR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],lR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),zC=(e,t)=>r=>{var n=oR(e,t);return lR(n,r)},sV=(e,t)=>r=>{var n=oR(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return lR(a,r)},oV=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},lV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=oV(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},cV=(e,t,r,n)=>{var a=zC(e,r),s=zC(t,n),l=sV(e,r),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,y=0;y<8;++y){var b=a(g)-p,w=l(g);if(Math.abs(b-p)<Fm||w<Fm)return s(g);g=d(g-b/w)}return s(g)};return f.isStepper=!1,f},qC=function(){return cV(...lV(...arguments))},uV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,d,f)=>{var h=-(l-d)*r,p=f*n,g=f+(h-p)*a/1e3,y=f*a/1e3+l;return Math.abs(y-d)<Fm&&Math.abs(g)<Fm?[d,0]:[y,g]};return s.isStepper=!0,s.dt=a,s},dV=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qC(e);case"spring":return uV();default:if(e.split("(")[0]==="cubic-bezier")return qC(e)}return typeof e=="function"?e:null};function fV(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){a=e.setTimeout(s.bind(null,h),f);return}s(f),a=e.setTimeout(s.bind(null,h));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class hV{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function mV(){return fV(new hV)}var pV=j.createContext(mV);function gV(e,t){var r=j.useContext(pV);return j.useMemo(()=>t??r(e),[e,t,r])}var yV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ig={isSsr:yV()},vV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},KC={t:0},fb={t:1};function rf(e){var t=ar(e,vV),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=t,p=r==="auto"?!ig.isSsr:r,g=gV(t.animationId,t.animationManager),[y,b]=j.useState(p?KC:fb),w=j.useRef(null);return j.useEffect(()=>{p||b(fb)},[p]),j.useEffect(()=>{if(!p||!n)return Uo;var S=iV(KC,fb,dV(s),a,b,g.getTimeoutController()),_=()=>{w.current=S()};return g.start([f,l,_,a,d]),()=>{g.stop(),w.current&&w.current(),d()}},[p,n,a,s,l,f,d,g]),h(y.t)}function nf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(pd(t)),n=j.useRef(e);return n.current!==e&&(r.current=pd(t),n.current=e),r.current}var bV=["radius"],xV=["radius"],FC,HC,QC,VC,GC,YC,WC,XC,ZC,JC;function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){wV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wV(e,t,r){return(t=jV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jV(e){var t=SV(e,"string");return typeof t=="symbol"?t:t+""}function SV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hm.apply(null,arguments)}function r2(e,t){if(e==null)return{};var r,n,a=_V(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _V(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ya(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var n2=(e,t,r,n,a)=>{var s=ys(r),l=ys(n),d=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(d>0&&Array.isArray(a)){for(var y=[0,0,0,0],b=0,w=4;b<w;b++){var S,_=(S=a[b])!==null&&S!==void 0?S:0;y[b]=_>d?d:_}g=Kt(FC||(FC=ya(["M",",",""])),e,t+f*y[0]),y[0]>0&&(g+=Kt(HC||(HC=ya(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,e+h*y[0],t)),g+=Kt(QC||(QC=ya(["L ",",",""])),e+r-h*y[1],t),y[1]>0&&(g+=Kt(VC||(VC=ya(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,e+r,t+f*y[1])),g+=Kt(GC||(GC=ya(["L ",",",""])),e+r,t+n-f*y[2]),y[2]>0&&(g+=Kt(YC||(YC=ya(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,e+r-h*y[2],t+n)),g+=Kt(WC||(WC=ya(["L ",",",""])),e+h*y[3],t+n),y[3]>0&&(g+=Kt(XC||(XC=ya(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,e,t+n-f*y[3])),g+="Z"}else if(d>0&&a===+a&&a>0){var N=Math.min(d,a);g=Kt(ZC||(ZC=ya(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*N,N,N,p,e+h*N,t,e+r-h*N,t,N,N,p,e+r,t+f*N,e+r,t+n-f*N,N,N,p,e+r-h*N,t+n,e+h*N,t+n,N,N,p,e,t+n-f*N)}else g=Kt(JC||(JC=ya(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return g},a2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cR=e=>{var t=ar(e,a2),r=j.useRef(null),[n,a]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var z=r.current.getTotalLength();z&&a(z)}catch{}},[]);var{x:s,y:l,width:d,height:f,radius:h,className:p}=t,{animationEasing:g,animationDuration:y,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:S}=t,_=j.useRef(d),N=j.useRef(f),O=j.useRef(s),A=j.useRef(l),C=j.useMemo(()=>({x:s,y:l,width:d,height:f,radius:h}),[s,l,d,f,h]),D=nf(C,"rectangle-");if(s!==+s||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var T=nt("recharts-rectangle",p);if(!S){var k=Qr(t),{radius:M}=k,I=r2(k,bV);return j.createElement("path",Hm({},I,{x:ys(s),y:ys(l),width:ys(d),height:ys(f),radius:typeof h=="number"?h:void 0,className:T,d:n2(s,l,d,f,h)}))}var G=_.current,F=N.current,K=O.current,te=A.current,V="0px ".concat(n===-1?1:n,"px"),ie="".concat(n,"px 0px"),L=iR(["strokeDasharray"],y,typeof g=="string"?g:a2.animationEasing);return j.createElement(rf,{animationId:D,key:D,canBegin:n>0,duration:y,easing:g,isActive:S,begin:b},z=>{var ee=Tt(G,d,z),ne=Tt(F,f,z),me=Tt(K,s,z),R=Tt(te,l,z);r.current&&(_.current=ee,N.current=ne,O.current=me,A.current=R);var Q;w?z>0?Q={transition:L,strokeDasharray:ie}:Q={strokeDasharray:V}:Q={strokeDasharray:ie};var pe=Qr(t),{radius:le}=pe,ve=r2(pe,xV);return j.createElement("path",Hm({},ve,{radius:typeof h=="number"?h:void 0,className:T,d:n2(me,R,ee,ne,h),ref:r,style:t2(t2({},Q),t.style)}))})};function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){NV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NV(e,t,r){return(t=OV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OV(e){var t=EV(e,"string");return typeof t=="symbol"?t:t+""}function EV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qm=Math.PI/180,AV=e=>e*180/Math.PI,tr=(e,t,r,n)=>({x:e+Math.cos(-Qm*n)*r,y:t+Math.sin(-Qm*n)*r}),uR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},CV=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},PV=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=CV({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var d=(r-a)/l,f=Math.acos(d);return n>s&&(f=2*Math.PI-f),{radius:l,angle:AV(f),angleInRadian:f}},kV=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},TV=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},DV=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=PV({x:r,y:n},t),{innerRadius:l,outerRadius:d}=t;if(a<l||a>d||a===0)return null;var{startAngle:f,endAngle:h}=kV(t),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?s2(s2({},t),{},{radius:a,angle:TV(p,t)}):null};function dR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=tr(t,r,n,a),d=tr(t,r,n,s);return{points:[l,d],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var o2,l2,c2,u2,d2,f2,h2;function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(null,arguments)}function co(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var MV=(e,t)=>{var r=wr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Jh=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:f}=e,h=d*(l?1:-1)+n,p=Math.asin(d/h)/Qm,g=f?a:a+s*p,y=tr(t,r,h,g),b=tr(t,r,n,g),w=f?a-s*p:a,S=tr(t,r,h*Math.cos(p*Qm),w);return{center:y,circleTangency:b,lineTangency:S,theta:p}},fR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,d=MV(s,l),f=s+d,h=tr(t,r,a,s),p=tr(t,r,a,f),g=Kt(o2||(o2=co(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,a,a,+(Math.abs(d)>180),+(s>f),p.x,p.y);if(n>0){var y=tr(t,r,n,s),b=tr(t,r,n,f);g+=Kt(l2||(l2=co(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,n,n,+(Math.abs(d)>180),+(s<=f),y.x,y.y)}else g+=Kt(c2||(c2=co(["L ",","," Z"])),t,r);return g},RV=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=e,p=wr(h-f),{circleTangency:g,lineTangency:y,theta:b}=Jh({cx:t,cy:r,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:w,lineTangency:S,theta:_}=Jh({cx:t,cy:r,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),N=d?Math.abs(f-h):Math.abs(f-h)-b-_;if(N<0)return l?Kt(u2||(u2=co(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):fR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:f,endAngle:h});var O=Kt(d2||(d2=co(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(p<0),g.x,g.y,a,a,+(N>180),+(p<0),w.x,w.y,s,s,+(p<0),S.x,S.y);if(n>0){var{circleTangency:A,lineTangency:C,theta:D}=Jh({cx:t,cy:r,radius:n,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:T,lineTangency:k,theta:M}=Jh({cx:t,cy:r,radius:n,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),I=d?Math.abs(f-h):Math.abs(f-h)-D-M;if(I<0&&s===0)return"".concat(O,"L").concat(t,",").concat(r,"Z");O+=Kt(f2||(f2=co(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),k.x,k.y,s,s,+(p<0),T.x,T.y,n,n,+(I>180),+(p>0),A.x,A.y,s,s,+(p<0),C.x,C.y)}else O+=Kt(h2||(h2=co(["L",",","Z"])),t,r);return O},IV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hR=e=>{var t=ar(e,IV),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=t;if(s<a||h===p)return null;var y=nt("recharts-sector",g),b=s-a,w=$r(l,b,0,!0),S;return w>0&&Math.abs(h-p)<360?S=RV({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):S=fR({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),j.createElement("path",Hx({},Qr(t),{className:y,d:S}))};function LV(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(QD(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:l,angle:d}=t,f=tr(n,a,s,d),h=tr(n,a,l,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return dR(t)}}var hb={},mb={},pb={},m2;function BV(){return m2||(m2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nM();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(pb)),pb}var p2;function $V(){return p2||(p2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BV();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(mb)),mb}var g2;function UV(){return g2||(g2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aM(),r=$V();function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const d=Math.max(Math.ceil((s-a)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=a,a+=l;return f}e.range=n})(hb)),hb}var gb,y2;function zV(){return y2||(y2=1,gb=UV().range),gb}var qV=zV();const mR=Ta(qV);function bs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hj(e){let t,r,n;e.length!==2?(t=bs,r=(d,f)=>bs(e(d),f),n=(d,f)=>e(d)-f):(t=e===bs||e===KV?e:FV,r=e,n=e);function a(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(d,f,h=0,p=d.length){const g=a(d,f,h,p-1);return g>h&&n(d[g-1],f)>-n(d[g],f)?g-1:g}return{left:a,center:l,right:s}}function FV(){return 0}function pR(e){return e===null?NaN:+e}function*HV(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const QV=hj(bs),af=QV.right;hj(pR).center;class v2 extends Map{constructor(t,r=YV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(b2(this,t))}has(t){return super.has(b2(this,t))}set(t,r){return super.set(VV(this,t),r)}delete(t){return super.delete(GV(this,t))}}function b2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function VV({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function GV({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function YV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function WV(e=bs){if(e===bs)return gR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function gR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const XV=Math.sqrt(50),ZV=Math.sqrt(10),JV=Math.sqrt(2);function Vm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=XV?10:s>=ZV?5:s>=JV?2:1;let d,f,h;return a<0?(h=Math.pow(10,-a)/l,d=Math.round(e*h),f=Math.round(t*h),d/h<e&&++d,f/h>t&&--f,h=-h):(h=Math.pow(10,a)*l,d=Math.round(e/h),f=Math.round(t/h),d*h<e&&++d,f*h>t&&--f),f<d&&.5<=r&&r<2?Vm(e,t,r*2):[d,f,h]}function Qx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?Vm(t,e,r):Vm(e,t,r);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(n)if(l<0)for(let h=0;h<d;++h)f[h]=(s-h)/-l;else for(let h=0;h<d;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(a+h)/-l;else for(let h=0;h<d;++h)f[h]=(a+h)*l;return f}function Vx(e,t,r){return t=+t,e=+e,r=+r,Vm(e,t,r)[2]}function Gx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Vx(t,e,r):Vx(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function x2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function w2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function yR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?gR:WV(a);n>r;){if(n-r>600){const f=n-r+1,h=t-r+1,p=Math.log(f),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),b=Math.max(r,Math.floor(t-h*g/f+y)),w=Math.min(n,Math.floor(t+(f-h)*g/f+y));yR(e,t,b,w,a)}const s=e[t];let l=r,d=n;for(Hu(e,r,t),a(e[n],s)>0&&Hu(e,r,n);l<d;){for(Hu(e,l,d),++l,--d;a(e[l],s)<0;)++l;for(;a(e[d],s)>0;)--d}a(e[r],s)===0?Hu(e,r,d):(++d,Hu(e,d,n)),d<=t&&(r=d+1),t<=d&&(n=d-1)}return e}function Hu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function eG(e,t,r){if(e=Float64Array.from(HV(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return w2(e);if(t>=1)return x2(e);var n,a=(n-1)*t,s=Math.floor(a),l=x2(yR(e,s).subarray(0,s+1)),d=w2(e.subarray(s+1));return l+(d-l)*(a-s)}}function tG(e,t,r=pR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),d=+r(e[s+1],s+1,e);return l+(d-l)*(a-s)}}function rG(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Yn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ni(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Yx=Symbol("implicit");function mj(){var e=new v2,t=[],r=[],n=Yx;function a(s){let l=e.get(s);if(l===void 0){if(n!==Yx)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new v2;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return mj(t,r).unknown(n)},Yn.apply(a,arguments),a}function pj(){var e=mj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,d=!1,f=0,h=0,p=.5;delete e.unknown;function g(){var y=t().length,b=a<n,w=b?a:n,S=b?n:a;s=(S-w)/Math.max(1,y-f+h*2),d&&(s=Math.floor(s)),w+=(S-w-s*(y-f))*p,l=s*(1-f),d&&(w=Math.round(w),l=Math.round(l));var _=rG(y).map(function(N){return w+s*N});return r(b?_.reverse():_)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,d=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(y){return arguments.length?(d=!!y,g()):d},e.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},e.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},e.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},e.copy=function(){return pj(t(),[n,a]).round(d).paddingInner(f).paddingOuter(h).align(p)},Yn.apply(g(),arguments)}function vR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return vR(t())},e}function nG(){return vR(pj.apply(null,arguments).paddingInner(1))}function gj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function bR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function sf(){}var Sd=.7,Gm=1/Sd,Zl="\\s*([+-]?\\d+)\\s*",_d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ea="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aG=/^#([0-9a-f]{3,8})$/,iG=new RegExp(`^rgb\\(${Zl},${Zl},${Zl}\\)$`),sG=new RegExp(`^rgb\\(${Ea},${Ea},${Ea}\\)$`),oG=new RegExp(`^rgba\\(${Zl},${Zl},${Zl},${_d}\\)$`),lG=new RegExp(`^rgba\\(${Ea},${Ea},${Ea},${_d}\\)$`),cG=new RegExp(`^hsl\\(${_d},${Ea},${Ea}\\)$`),uG=new RegExp(`^hsla\\(${_d},${Ea},${Ea},${_d}\\)$`),j2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gj(sf,Nd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:S2,formatHex:S2,formatHex8:dG,formatHsl:fG,formatRgb:_2,toString:_2});function S2(){return this.rgb().formatHex()}function dG(){return this.rgb().formatHex8()}function fG(){return xR(this).formatHsl()}function _2(){return this.rgb().formatRgb()}function Nd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=aG.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?N2(t):r===3?new on(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?em(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?em(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iG.exec(e))?new on(t[1],t[2],t[3],1):(t=sG.exec(e))?new on(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oG.exec(e))?em(t[1],t[2],t[3],t[4]):(t=lG.exec(e))?em(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cG.exec(e))?A2(t[1],t[2]/100,t[3]/100,1):(t=uG.exec(e))?A2(t[1],t[2]/100,t[3]/100,t[4]):j2.hasOwnProperty(e)?N2(j2[e]):e==="transparent"?new on(NaN,NaN,NaN,0):null}function N2(e){return new on(e>>16&255,e>>8&255,e&255,1)}function em(e,t,r,n){return n<=0&&(e=t=r=NaN),new on(e,t,r,n)}function hG(e){return e instanceof sf||(e=Nd(e)),e?(e=e.rgb(),new on(e.r,e.g,e.b,e.opacity)):new on}function Wx(e,t,r,n){return arguments.length===1?hG(e):new on(e,t,r,n??1)}function on(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}gj(on,Wx,bR(sf,{brighter(e){return e=e==null?Gm:Math.pow(Gm,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sd:Math.pow(Sd,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new on(_o(this.r),_o(this.g),_o(this.b),Ym(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O2,formatHex:O2,formatHex8:mG,formatRgb:E2,toString:E2}));function O2(){return`#${uo(this.r)}${uo(this.g)}${uo(this.b)}`}function mG(){return`#${uo(this.r)}${uo(this.g)}${uo(this.b)}${uo((isNaN(this.opacity)?1:this.opacity)*255)}`}function E2(){const e=Ym(this.opacity);return`${e===1?"rgb(":"rgba("}${_o(this.r)}, ${_o(this.g)}, ${_o(this.b)}${e===1?")":`, ${e})`}`}function Ym(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _o(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function uo(e){return e=_o(e),(e<16?"0":"")+e.toString(16)}function A2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new la(e,t,r,n)}function xR(e){if(e instanceof la)return new la(e.h,e.s,e.l,e.opacity);if(e instanceof sf||(e=Nd(e)),!e)return new la;if(e instanceof la)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,d=s-a,f=(s+a)/2;return d?(t===s?l=(r-n)/d+(r<n)*6:r===s?l=(n-t)/d+2:l=(t-r)/d+4,d/=f<.5?s+a:2-s-a,l*=60):d=f>0&&f<1?0:l,new la(l,d,f,e.opacity)}function pG(e,t,r,n){return arguments.length===1?xR(e):new la(e,t,r,n??1)}function la(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}gj(la,pG,bR(sf,{brighter(e){return e=e==null?Gm:Math.pow(Gm,e),new la(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sd:Math.pow(Sd,e),new la(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new on(yb(e>=240?e-240:e+120,a,n),yb(e,a,n),yb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new la(C2(this.h),tm(this.s),tm(this.l),Ym(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ym(this.opacity);return`${e===1?"hsl(":"hsla("}${C2(this.h)}, ${tm(this.s)*100}%, ${tm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function C2(e){return e=(e||0)%360,e<0?e+360:e}function tm(e){return Math.max(0,Math.min(1,e||0))}function yb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const yj=e=>()=>e;function gG(e,t){return function(r){return e+r*t}}function yG(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function vG(e){return(e=+e)==1?wR:function(t,r){return r-t?yG(t,r,e):yj(isNaN(t)?r:t)}}function wR(e,t){var r=t-e;return r?gG(e,r):yj(isNaN(e)?t:e)}const P2=(function e(t){var r=vG(t);function n(a,s){var l=r((a=Wx(a)).r,(s=Wx(s)).r),d=r(a.g,s.g),f=r(a.b,s.b),h=wR(a.opacity,s.opacity);return function(p){return a.r=l(p),a.g=d(p),a.b=f(p),a.opacity=h(p),a+""}}return n.gamma=e,n})(1);function bG(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function xG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wG(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=kc(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(d){for(l=0;l<n;++l)s[l]=a[l](d);return s}}function jG(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Wm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function SG(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=kc(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Xx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vb=new RegExp(Xx.source,"g");function _G(e){return function(){return e}}function NG(e){return function(t){return e(t)+""}}function OG(e,t){var r=Xx.lastIndex=vb.lastIndex=0,n,a,s,l=-1,d=[],f=[];for(e=e+"",t=t+"";(n=Xx.exec(e))&&(a=vb.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),d[l]?d[l]+=s:d[++l]=s),(n=n[0])===(a=a[0])?d[l]?d[l]+=a:d[++l]=a:(d[++l]=null,f.push({i:l,x:Wm(n,a)})),r=vb.lastIndex;return r<t.length&&(s=t.slice(r),d[l]?d[l]+=s:d[++l]=s),d.length<2?f[0]?NG(f[0].x):_G(t):(t=f.length,function(h){for(var p=0,g;p<t;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function kc(e,t){var r=typeof t,n;return t==null||r==="boolean"?yj(t):(r==="number"?Wm:r==="string"?(n=Nd(t))?(t=n,P2):OG:t instanceof Nd?P2:t instanceof Date?jG:xG(t)?bG:Array.isArray(t)?wG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?SG:Wm)(e,t)}function vj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function EG(e,t){t===void 0&&(t=e,e=kc);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var d=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[d](l-d)}}function AG(e){return function(){return e}}function Xm(e){return+e}var k2=[0,1];function Hr(e){return e}function Zx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:AG(isNaN(t)?NaN:.5)}function CG(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function PG(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=Zx(a,n),s=r(l,s)):(n=Zx(n,a),s=r(s,l)),function(d){return s(n(d))}}function kG(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Zx(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(d){var f=af(e,d,1,n)-1;return s[f](a[f](d))}}function of(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sg(){var e=k2,t=k2,r=kc,n,a,s,l=Hr,d,f,h;function p(){var y=Math.min(e.length,t.length);return l!==Hr&&(l=CG(e[0],e[y-1])),d=y>2?kG:PG,f=h=null,g}function g(y){return y==null||isNaN(y=+y)?s:(f||(f=d(e.map(n),t,r)))(n(l(y)))}return g.invert=function(y){return l(a((h||(h=d(t,e.map(n),Wm)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,Xm),p()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),r=vj,p()},g.clamp=function(y){return arguments.length?(l=y?!0:Hr,p()):l!==Hr},g.interpolate=function(y){return arguments.length?(r=y,p()):r},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,b){return n=y,a=b,p()}}function bj(){return sg()(Hr,Hr)}function TG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zm(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function gc(e){return e=Zm(Math.abs(e)),e?e[1]:NaN}function DG(e,t){return function(r,n){for(var a=r.length,s=[],l=0,d=e[0],f=0;a>0&&d>0&&(f+d+1>n&&(d=Math.max(1,n-f)),s.push(r.substring(a-=d,a+d)),!((f+=d+1)>n));)d=e[l=(l+1)%e.length];return s.reverse().join(t)}}function MG(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var RG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Od(e){if(!(t=RG.exec(e)))throw new Error("invalid format: "+e);var t;return new xj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Od.prototype=xj.prototype;function xj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IG(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Jm;function LG(e,t){var r=Zm(e,t);if(!r)return Jm=void 0,e.toPrecision(t);var n=r[0],a=r[1],s=a-(Jm=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Zm(e,Math.max(0,t+s-1))[0]}function T2(e,t){var r=Zm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const D2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:TG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>T2(e*100,t),r:T2,s:LG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function M2(e){return e}var R2=Array.prototype.map,I2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function BG(e){var t=e.grouping===void 0||e.thousands===void 0?M2:DG(R2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?M2:MG(R2.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g,y){g=Od(g);var b=g.fill,w=g.align,S=g.sign,_=g.symbol,N=g.zero,O=g.width,A=g.comma,C=g.precision,D=g.trim,T=g.type;T==="n"?(A=!0,T="g"):D2[T]||(C===void 0&&(C=12),D=!0,T="g"),(N||b==="0"&&w==="=")&&(N=!0,b="0",w="=");var k=(y&&y.prefix!==void 0?y.prefix:"")+(_==="$"?r:_==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),M=(_==="$"?n:/[%p]/.test(T)?l:"")+(y&&y.suffix!==void 0?y.suffix:""),I=D2[T],G=/[defgprs%]/.test(T);C=C===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function F(K){var te=k,V=M,ie,L,z;if(T==="c")V=I(K)+V,K="";else{K=+K;var ee=K<0||1/K<0;if(K=isNaN(K)?f:I(Math.abs(K),C),D&&(K=IG(K)),ee&&+K==0&&S!=="+"&&(ee=!1),te=(ee?S==="("?S:d:S==="-"||S==="("?"":S)+te,V=(T==="s"&&!isNaN(K)&&Jm!==void 0?I2[8+Jm/3]:"")+V+(ee&&S==="("?")":""),G){for(ie=-1,L=K.length;++ie<L;)if(z=K.charCodeAt(ie),48>z||z>57){V=(z===46?a+K.slice(ie+1):K.slice(ie))+V,K=K.slice(0,ie);break}}}A&&!N&&(K=t(K,1/0));var ne=te.length+K.length+V.length,me=ne<O?new Array(O-ne+1).join(b):"";switch(A&&N&&(K=t(me+K,me.length?O-V.length:1/0),me=""),w){case"<":K=te+K+V+me;break;case"=":K=te+me+K+V;break;case"^":K=me.slice(0,ne=me.length>>1)+te+K+V+me.slice(ne);break;default:K=me+te+K+V;break}return s(K)}return F.toString=function(){return g+""},F}function p(g,y){var b=Math.max(-8,Math.min(8,Math.floor(gc(y)/3)))*3,w=Math.pow(10,-b),S=h((g=Od(g),g.type="f",g),{suffix:I2[8+b/3]});return function(_){return S(w*_)}}return{format:h,formatPrefix:p}}var rm,wj,jR;$G({thousands:",",grouping:[3],currency:["$",""]});function $G(e){return rm=BG(e),wj=rm.format,jR=rm.formatPrefix,rm}function UG(e){return Math.max(0,-gc(Math.abs(e)))}function zG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gc(t)/3)))*3-gc(Math.abs(e)))}function qG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gc(t)-gc(e))+1}function SR(e,t,r,n){var a=Gx(e,t,r),s;switch(n=Od(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=zG(a,l))&&(n.precision=s),jR(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=qG(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=UG(a))&&(n.precision=s-(n.type==="%")*2);break}}return wj(n)}function Ps(e){var t=e.domain;return e.ticks=function(r){var n=t();return Qx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return SR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],d=n[s],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=a,a=s,s=h);p-- >0;){if(h=Vx(l,d,r),h===f)return n[a]=l,n[s]=d,t(n);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return e},e}function _R(){var e=bj();return e.copy=function(){return of(e,_R())},Yn.apply(e,arguments),Ps(e)}function NR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Xm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return NR(e).unknown(t)},e=arguments.length?Array.from(e,Xm):[0,1],Ps(r)}function OR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function L2(e){return Math.log(e)}function B2(e){return Math.exp(e)}function KG(e){return-Math.log(-e)}function FG(e){return-Math.exp(-e)}function HG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function QG(e){return e===10?HG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function VG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $2(e){return(t,r)=>-e(-t,r)}function jj(e){const t=e(L2,B2),r=t.domain;let n=10,a,s;function l(){return a=VG(n),s=QG(n),r()[0]<0?(a=$2(a),s=$2(s),e(KG,FG)):e(L2,B2),t}return t.base=function(d){return arguments.length?(n=+d,l()):n},t.domain=function(d){return arguments.length?(r(d),l()):r()},t.ticks=d=>{const f=r();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let y=a(h),b=a(p),w,S;const _=d==null?10:+d;let N=[];if(!(n%1)&&b-y<_){if(y=Math.floor(y),b=Math.ceil(b),h>0){for(;y<=b;++y)for(w=1;w<n;++w)if(S=y<0?w/s(-y):w*s(y),!(S<h)){if(S>p)break;N.push(S)}}else for(;y<=b;++y)for(w=n-1;w>=1;--w)if(S=y>0?w/s(-y):w*s(y),!(S<h)){if(S>p)break;N.push(S)}N.length*2<_&&(N=Qx(h,p,_))}else N=Qx(y,b,Math.min(b-y,_)).map(s);return g?N.reverse():N},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Od(f)).precision==null&&(f.trim=!0),f=wj(f)),d===1/0)return f;const h=Math.max(1,n*d/t.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*n<n-.5&&(g*=n),g<=h?f(p):""}},t.nice=()=>r(OR(r(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),t}function ER(){const e=jj(sg()).domain([1,10]);return e.copy=()=>of(e,ER()).base(e.base()),Yn.apply(e,arguments),e}function U2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function z2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Sj(e){var t=1,r=e(U2(t),z2(t));return r.constant=function(n){return arguments.length?e(U2(t=+n),z2(t)):t},Ps(r)}function AR(){var e=Sj(sg());return e.copy=function(){return of(e,AR()).constant(e.constant())},Yn.apply(e,arguments)}function q2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function GG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function YG(e){return e<0?-e*e:e*e}function _j(e){var t=e(Hr,Hr),r=1;function n(){return r===1?e(Hr,Hr):r===.5?e(GG,YG):e(q2(r),q2(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ps(t)}function Nj(){var e=_j(sg());return e.copy=function(){return of(e,Nj()).exponent(e.exponent())},Yn.apply(e,arguments),e}function WG(){return Nj.apply(null,arguments).exponent(.5)}function K2(e){return Math.sign(e)*e*e}function XG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function CR(){var e=bj(),t=[0,1],r=!1,n;function a(s){var l=XG(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(K2(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Xm)).map(K2)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return CR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Yn.apply(a,arguments),Ps(a)}function PR(){var e=[],t=[],r=[],n;function a(){var l=0,d=Math.max(1,t.length);for(r=new Array(d-1);++l<d;)r[l-1]=tG(e,l/d);return s}function s(l){return l==null||isNaN(l=+l)?n:t[af(r,l)]}return s.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(bs),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return PR().domain(e).range(t).unknown(n)},Yn.apply(s,arguments)}function kR(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(f){return f!=null&&f<=f?a[af(n,f,0,r)]:s}function d(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},l.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,d()):a.slice()},l.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return n.slice()},l.copy=function(){return kR().domain([e,t]).range(a).unknown(s)},Yn.apply(Ps(l),arguments)}function TR(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[af(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return TR().domain(e).range(t).unknown(r)},Yn.apply(a,arguments)}const bb=new Date,xb=new Date;function fr(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),d=a.ceil(s);return s-l<d-s?l:d},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return f;let h;do f.push(h=new Date(+s)),t(s,d),e(s);while(h<s&&s<l);return f},a.filter=s=>fr(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!s(l););else for(;--d>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(bb.setTime(+s),xb.setTime(+l),e(bb),e(xb),Math.floor(r(bb,xb))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const ep=fr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ep.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ep);ep.range;const ii=1e3,Hn=ii*60,si=Hn*60,hi=si*24,Oj=hi*7,F2=hi*30,wb=hi*365,fo=fr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getUTCSeconds());fo.range;const Ej=fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getMinutes());Ej.range;const Aj=fr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getUTCMinutes());Aj.range;const Cj=fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii-e.getMinutes()*Hn)},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getHours());Cj.range;const Pj=fr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getUTCHours());Pj.range;const lf=fr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hn)/hi,e=>e.getDate()-1);lf.range;const og=fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hi,e=>e.getUTCDate()-1);og.range;const DR=fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hi,e=>Math.floor(e/hi));DR.range;function qo(e){return fr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Hn)/Oj)}const lg=qo(0),tp=qo(1),ZG=qo(2),JG=qo(3),yc=qo(4),eY=qo(5),tY=qo(6);lg.range;tp.range;ZG.range;JG.range;yc.range;eY.range;tY.range;function Ko(e){return fr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Oj)}const cg=Ko(0),rp=Ko(1),rY=Ko(2),nY=Ko(3),vc=Ko(4),aY=Ko(5),iY=Ko(6);cg.range;rp.range;rY.range;nY.range;vc.range;aY.range;iY.range;const kj=fr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kj.range;const Tj=fr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Tj.range;const mi=fr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});mi.range;const pi=fr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});pi.range;function MR(e,t,r,n,a,s){const l=[[fo,1,ii],[fo,5,5*ii],[fo,15,15*ii],[fo,30,30*ii],[s,1,Hn],[s,5,5*Hn],[s,15,15*Hn],[s,30,30*Hn],[a,1,si],[a,3,3*si],[a,6,6*si],[a,12,12*si],[n,1,hi],[n,2,2*hi],[r,1,Oj],[t,1,F2],[t,3,3*F2],[e,1,wb]];function d(h,p,g){const y=p<h;y&&([h,p]=[p,h]);const b=g&&typeof g.range=="function"?g:f(h,p,g),w=b?b.range(h,+p+1):[];return y?w.reverse():w}function f(h,p,g){const y=Math.abs(p-h)/g,b=hj(([,,_])=>_).right(l,y);if(b===l.length)return e.every(Gx(h/wb,p/wb,g));if(b===0)return ep.every(Math.max(Gx(h,p,g),1));const[w,S]=l[y/l[b-1][2]<l[b][2]/y?b-1:b];return w.every(S)}return[d,f]}const[sY,oY]=MR(pi,Tj,cg,DR,Pj,Aj),[lY,cY]=MR(mi,kj,lg,lf,Cj,Ej);function jb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function uY(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,d=e.months,f=e.shortMonths,h=Vu(a),p=Gu(a),g=Vu(s),y=Gu(s),b=Vu(l),w=Gu(l),S=Vu(d),_=Gu(d),N=Vu(f),O=Gu(f),A={a:z,A:ee,b:ne,B:me,c:null,d:W2,e:W2,f:DY,g:KY,G:HY,H:PY,I:kY,j:TY,L:RR,m:MY,M:RY,p:R,q:Q,Q:J2,s:eP,S:IY,u:LY,U:BY,V:$Y,w:UY,W:zY,x:null,X:null,y:qY,Y:FY,Z:QY,"%":Z2},C={a:pe,A:le,b:ve,B:Oe,c:null,d:X2,e:X2,f:WY,g:sW,G:lW,H:VY,I:GY,j:YY,L:LR,m:XY,M:ZY,p:Ee,q:de,Q:J2,s:eP,S:JY,u:eW,U:tW,V:rW,w:nW,W:aW,x:null,X:null,y:iW,Y:oW,Z:cW,"%":Z2},D={a:G,A:F,b:K,B:te,c:V,d:G2,e:G2,f:OY,g:V2,G:Q2,H:Y2,I:Y2,j:jY,L:NY,m:wY,M:SY,p:I,q:xY,Q:AY,s:CY,S:_Y,u:pY,U:gY,V:yY,w:mY,W:vY,x:ie,X:L,y:V2,Y:Q2,Z:bY,"%":EY};A.x=T(r,A),A.X=T(n,A),A.c=T(t,A),C.x=T(r,C),C.X=T(n,C),C.c=T(t,C);function T(B,Z){return function(ge){var ae=[],Ie=-1,Ae=0,et=B.length,st,Vt,ir;for(ge instanceof Date||(ge=new Date(+ge));++Ie<et;)B.charCodeAt(Ie)===37&&(ae.push(B.slice(Ae,Ie)),(Vt=H2[st=B.charAt(++Ie)])!=null?st=B.charAt(++Ie):Vt=st==="e"?" ":"0",(ir=Z[st])&&(st=ir(ge,Vt)),ae.push(st),Ae=Ie+1);return ae.push(B.slice(Ae,Ie)),ae.join("")}}function k(B,Z){return function(ge){var ae=Qu(1900,void 0,1),Ie=M(ae,B,ge+="",0),Ae,et;if(Ie!=ge.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(Z&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Ae=Sb(Qu(ae.y,0,1)),et=Ae.getUTCDay(),Ae=et>4||et===0?rp.ceil(Ae):rp(Ae),Ae=og.offset(Ae,(ae.V-1)*7),ae.y=Ae.getUTCFullYear(),ae.m=Ae.getUTCMonth(),ae.d=Ae.getUTCDate()+(ae.w+6)%7):(Ae=jb(Qu(ae.y,0,1)),et=Ae.getDay(),Ae=et>4||et===0?tp.ceil(Ae):tp(Ae),Ae=lf.offset(Ae,(ae.V-1)*7),ae.y=Ae.getFullYear(),ae.m=Ae.getMonth(),ae.d=Ae.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),et="Z"in ae?Sb(Qu(ae.y,0,1)).getUTCDay():jb(Qu(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(et+5)%7:ae.w+ae.U*7-(et+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,Sb(ae)):jb(ae)}}function M(B,Z,ge,ae){for(var Ie=0,Ae=Z.length,et=ge.length,st,Vt;Ie<Ae;){if(ae>=et)return-1;if(st=Z.charCodeAt(Ie++),st===37){if(st=Z.charAt(Ie++),Vt=D[st in H2?Z.charAt(Ie++):st],!Vt||(ae=Vt(B,ge,ae))<0)return-1}else if(st!=ge.charCodeAt(ae++))return-1}return ae}function I(B,Z,ge){var ae=h.exec(Z.slice(ge));return ae?(B.p=p.get(ae[0].toLowerCase()),ge+ae[0].length):-1}function G(B,Z,ge){var ae=b.exec(Z.slice(ge));return ae?(B.w=w.get(ae[0].toLowerCase()),ge+ae[0].length):-1}function F(B,Z,ge){var ae=g.exec(Z.slice(ge));return ae?(B.w=y.get(ae[0].toLowerCase()),ge+ae[0].length):-1}function K(B,Z,ge){var ae=N.exec(Z.slice(ge));return ae?(B.m=O.get(ae[0].toLowerCase()),ge+ae[0].length):-1}function te(B,Z,ge){var ae=S.exec(Z.slice(ge));return ae?(B.m=_.get(ae[0].toLowerCase()),ge+ae[0].length):-1}function V(B,Z,ge){return M(B,t,Z,ge)}function ie(B,Z,ge){return M(B,r,Z,ge)}function L(B,Z,ge){return M(B,n,Z,ge)}function z(B){return l[B.getDay()]}function ee(B){return s[B.getDay()]}function ne(B){return f[B.getMonth()]}function me(B){return d[B.getMonth()]}function R(B){return a[+(B.getHours()>=12)]}function Q(B){return 1+~~(B.getMonth()/3)}function pe(B){return l[B.getUTCDay()]}function le(B){return s[B.getUTCDay()]}function ve(B){return f[B.getUTCMonth()]}function Oe(B){return d[B.getUTCMonth()]}function Ee(B){return a[+(B.getUTCHours()>=12)]}function de(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var Z=T(B+="",A);return Z.toString=function(){return B},Z},parse:function(B){var Z=k(B+="",!1);return Z.toString=function(){return B},Z},utcFormat:function(B){var Z=T(B+="",C);return Z.toString=function(){return B},Z},utcParse:function(B){var Z=k(B+="",!0);return Z.toString=function(){return B},Z}}}var H2={"-":"",_:" ",0:"0"},Sr=/^\s*\d+/,dY=/^%/,fY=/[\\^$*+?|[\]().{}]/g;function at(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function hY(e){return e.replace(fY,"\\$&")}function Vu(e){return new RegExp("^(?:"+e.map(hY).join("|")+")","i")}function Gu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function mY(e,t,r){var n=Sr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function pY(e,t,r){var n=Sr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function gY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function yY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function vY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Q2(e,t,r){var n=Sr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function V2(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function bY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function xY(e,t,r){var n=Sr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function wY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function G2(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function jY(e,t,r){var n=Sr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Y2(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function SY(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function _Y(e,t,r){var n=Sr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function NY(e,t,r){var n=Sr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function OY(e,t,r){var n=Sr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function EY(e,t,r){var n=dY.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function AY(e,t,r){var n=Sr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function CY(e,t,r){var n=Sr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function W2(e,t){return at(e.getDate(),t,2)}function PY(e,t){return at(e.getHours(),t,2)}function kY(e,t){return at(e.getHours()%12||12,t,2)}function TY(e,t){return at(1+lf.count(mi(e),e),t,3)}function RR(e,t){return at(e.getMilliseconds(),t,3)}function DY(e,t){return RR(e,t)+"000"}function MY(e,t){return at(e.getMonth()+1,t,2)}function RY(e,t){return at(e.getMinutes(),t,2)}function IY(e,t){return at(e.getSeconds(),t,2)}function LY(e){var t=e.getDay();return t===0?7:t}function BY(e,t){return at(lg.count(mi(e)-1,e),t,2)}function IR(e){var t=e.getDay();return t>=4||t===0?yc(e):yc.ceil(e)}function $Y(e,t){return e=IR(e),at(yc.count(mi(e),e)+(mi(e).getDay()===4),t,2)}function UY(e){return e.getDay()}function zY(e,t){return at(tp.count(mi(e)-1,e),t,2)}function qY(e,t){return at(e.getFullYear()%100,t,2)}function KY(e,t){return e=IR(e),at(e.getFullYear()%100,t,2)}function FY(e,t){return at(e.getFullYear()%1e4,t,4)}function HY(e,t){var r=e.getDay();return e=r>=4||r===0?yc(e):yc.ceil(e),at(e.getFullYear()%1e4,t,4)}function QY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+at(t/60|0,"0",2)+at(t%60,"0",2)}function X2(e,t){return at(e.getUTCDate(),t,2)}function VY(e,t){return at(e.getUTCHours(),t,2)}function GY(e,t){return at(e.getUTCHours()%12||12,t,2)}function YY(e,t){return at(1+og.count(pi(e),e),t,3)}function LR(e,t){return at(e.getUTCMilliseconds(),t,3)}function WY(e,t){return LR(e,t)+"000"}function XY(e,t){return at(e.getUTCMonth()+1,t,2)}function ZY(e,t){return at(e.getUTCMinutes(),t,2)}function JY(e,t){return at(e.getUTCSeconds(),t,2)}function eW(e){var t=e.getUTCDay();return t===0?7:t}function tW(e,t){return at(cg.count(pi(e)-1,e),t,2)}function BR(e){var t=e.getUTCDay();return t>=4||t===0?vc(e):vc.ceil(e)}function rW(e,t){return e=BR(e),at(vc.count(pi(e),e)+(pi(e).getUTCDay()===4),t,2)}function nW(e){return e.getUTCDay()}function aW(e,t){return at(rp.count(pi(e)-1,e),t,2)}function iW(e,t){return at(e.getUTCFullYear()%100,t,2)}function sW(e,t){return e=BR(e),at(e.getUTCFullYear()%100,t,2)}function oW(e,t){return at(e.getUTCFullYear()%1e4,t,4)}function lW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?vc(e):vc.ceil(e),at(e.getUTCFullYear()%1e4,t,4)}function cW(){return"+0000"}function Z2(){return"%"}function J2(e){return+e}function eP(e){return Math.floor(+e/1e3)}var $l,$R,UR;uW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uW(e){return $l=uY(e),$R=$l.format,$l.parse,UR=$l.utcFormat,$l.utcParse,$l}function dW(e){return new Date(e)}function fW(e){return e instanceof Date?+e:+new Date(+e)}function Dj(e,t,r,n,a,s,l,d,f,h){var p=bj(),g=p.invert,y=p.domain,b=h(".%L"),w=h(":%S"),S=h("%I:%M"),_=h("%I %p"),N=h("%a %d"),O=h("%b %d"),A=h("%B"),C=h("%Y");function D(T){return(f(T)<T?b:d(T)<T?w:l(T)<T?S:s(T)<T?_:n(T)<T?a(T)<T?N:O:r(T)<T?A:C)(T)}return p.invert=function(T){return new Date(g(T))},p.domain=function(T){return arguments.length?y(Array.from(T,fW)):y().map(dW)},p.ticks=function(T){var k=y();return e(k[0],k[k.length-1],T??10)},p.tickFormat=function(T,k){return k==null?D:h(k)},p.nice=function(T){var k=y();return(!T||typeof T.range!="function")&&(T=t(k[0],k[k.length-1],T??10)),T?y(OR(k,T)):p},p.copy=function(){return of(p,Dj(e,t,r,n,a,s,l,d,f,h))},p}function hW(){return Yn.apply(Dj(lY,cY,mi,kj,lg,lf,Cj,Ej,fo,$R).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mW(){return Yn.apply(Dj(sY,oY,pi,Tj,cg,og,Pj,Aj,fo,UR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ug(){var e=0,t=1,r,n,a,s,l=Hr,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(a===0?.5:(g=(s(g)-r)*a,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(y){var b,w;return arguments.length?([b,w]=y,l=g(b,w),h):[l(0),l(1)]}}return h.range=p(kc),h.rangeRound=p(vj),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),h}}function ks(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zR(){var e=Ps(ug()(Hr));return e.copy=function(){return ks(e,zR())},Ni.apply(e,arguments)}function qR(){var e=jj(ug()).domain([1,10]);return e.copy=function(){return ks(e,qR()).base(e.base())},Ni.apply(e,arguments)}function KR(){var e=Sj(ug());return e.copy=function(){return ks(e,KR()).constant(e.constant())},Ni.apply(e,arguments)}function Mj(){var e=_j(ug());return e.copy=function(){return ks(e,Mj()).exponent(e.exponent())},Ni.apply(e,arguments)}function pW(){return Mj.apply(null,arguments).exponent(.5)}function FR(){var e=[],t=Hr;function r(n){if(n!=null&&!isNaN(n=+n))return t((af(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(bs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>eG(e,s/n))},r.copy=function(){return FR(t).domain(e)},Ni.apply(r,arguments)}function dg(){var e=0,t=.5,r=1,n=1,a,s,l,d,f,h=Hr,p,g=!1,y;function b(S){return isNaN(S=+S)?y:(S=.5+((S=+p(S))-s)*(n*S<n*s?d:f),h(g?Math.max(0,Math.min(1,S)):S))}b.domain=function(S){return arguments.length?([e,t,r]=S,a=p(e=+e),s=p(t=+t),l=p(r=+r),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),n=s<a?-1:1,b):[e,t,r]},b.clamp=function(S){return arguments.length?(g=!!S,b):g},b.interpolator=function(S){return arguments.length?(h=S,b):h};function w(S){return function(_){var N,O,A;return arguments.length?([N,O,A]=_,h=EG(S,[N,O,A]),b):[h(0),h(.5),h(1)]}}return b.range=w(kc),b.rangeRound=w(vj),b.unknown=function(S){return arguments.length?(y=S,b):y},function(S){return p=S,a=S(e),s=S(t),l=S(r),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),n=s<a?-1:1,b}}function HR(){var e=Ps(dg()(Hr));return e.copy=function(){return ks(e,HR())},Ni.apply(e,arguments)}function QR(){var e=jj(dg()).domain([.1,1,10]);return e.copy=function(){return ks(e,QR()).base(e.base())},Ni.apply(e,arguments)}function VR(){var e=Sj(dg());return e.copy=function(){return ks(e,VR()).constant(e.constant())},Ni.apply(e,arguments)}function Rj(){var e=_j(dg());return e.copy=function(){return ks(e,Rj()).exponent(e.exponent())},Ni.apply(e,arguments)}function gW(){return Rj.apply(null,arguments).exponent(.5)}const Ju=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pj,scaleDiverging:HR,scaleDivergingLog:QR,scaleDivergingPow:Rj,scaleDivergingSqrt:gW,scaleDivergingSymlog:VR,scaleIdentity:NR,scaleImplicit:Yx,scaleLinear:_R,scaleLog:ER,scaleOrdinal:mj,scalePoint:nG,scalePow:Nj,scaleQuantile:PR,scaleQuantize:kR,scaleRadial:CR,scaleSequential:zR,scaleSequentialLog:qR,scaleSequentialPow:Mj,scaleSequentialQuantile:FR,scaleSequentialSqrt:pW,scaleSequentialSymlog:KR,scaleSqrt:WG,scaleSymlog:AR,scaleThreshold:TR,scaleTime:hW,scaleUtc:mW,tickFormat:SR},Symbol.toStringTag,{value:"Module"}));var Oi=e=>e.chartData,fg=Y([Oi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ij=(e,t,r,n)=>n?fg(e):Oi(e),yW=(e,t,r)=>r?fg(e):Oi(e);function gi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ze(t)&&Ze(r))return!0}return!1}function tP(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function GR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(Ze(r))a=r;else if(typeof r=="function")return;if(Ze(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(gi(l))return l}}function vW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(gi(n))return tP(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,d;if(a==="auto")t!=null&&(l=Math.min(...t));else if(je(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&dC.test(a)){var f=dC.exec(a);if(f==null||f[1]==null||t==null)l=void 0;else{var h=+f[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(d=Math.max(...t));else if(je(s))d=s;else if(typeof s=="function")try{t!=null&&(d=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&fC.test(s)){var p=fC.exec(s);if(p==null||p[1]==null||t==null)d=void 0;else{var g=+p[1];d=t[1]+g}}else d=t==null?void 0:t[1];var y=[l,d];if(gi(y))return t==null?y:tP(y,t,r)}}}var Tc=1e9,bW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Bj,Dt=!0,Gn="[DecimalError] ",No=Gn+"Invalid argument: ",Lj=Gn+"Exponent out of range: ",Dc=Math.floor,ao=Math.pow,xW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jn,br=1e7,Et=7,YR=9007199254740991,np=Dc(YR/Et),Se={};Se.absoluteValue=Se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Se.comparedTo=Se.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Et;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Se.dividedBy=Se.div=function(e){return li(this,new this.constructor(e))};Se.dividedToIntegerBy=Se.idiv=function(e){var t=this,r=t.constructor;return wt(li(t,new r(e),0,1),r.precision)};Se.equals=Se.eq=function(e){return!this.cmp(e)};Se.exponent=function(){return nr(this)};Se.greaterThan=Se.gt=function(e){return this.cmp(e)>0};Se.greaterThanOrEqualTo=Se.gte=function(e){return this.cmp(e)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(e){return this.cmp(e)<0};Se.lessThanOrEqualTo=Se.lte=function(e){return this.cmp(e)<1};Se.logarithm=Se.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(jn))throw Error(Gn+"NaN");if(r.s<1)throw Error(Gn+(r.s?"NaN":"-Infinity"));return r.eq(jn)?new n(0):(Dt=!1,t=li(Ed(r,s),Ed(e,s),s),Dt=!0,wt(t,a))};Se.minus=Se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZR(t,e):WR(t,(e.s=-e.s,e))};Se.modulo=Se.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Gn+"NaN");return r.s?(Dt=!1,t=li(r,e,0,1).times(e),Dt=!0,r.minus(t)):wt(new n(r),a)};Se.naturalExponential=Se.exp=function(){return XR(this)};Se.naturalLogarithm=Se.ln=function(){return Ed(this)};Se.negated=Se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Se.plus=Se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WR(t,e):ZR(t,(e.s=-e.s,e))};Se.precision=Se.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(No+e);if(t=nr(a)+1,n=a.d.length-1,r=n*Et+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Se.squareRoot=Se.sqrt=function(){var e,t,r,n,a,s,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Gn+"NaN")}for(e=nr(d),Dt=!1,a=Math.sqrt(+d),a==0||a==1/0?(t=Oa(d.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Dc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=l=r+3;;)if(s=n,n=s.plus(li(d,s,l+2)).times(.5),Oa(s.d).slice(0,l)===(t=Oa(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(wt(s,r+1,0),s.times(s).eq(d)){n=s;break}}else if(t!="9999")break;l+=4}return Dt=!0,wt(n,r)};Se.times=Se.mul=function(e){var t,r,n,a,s,l,d,f,h,p=this,g=p.constructor,y=p.d,b=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,r=p.e+e.e,f=y.length,h=b.length,f<h&&(s=y,y=b,b=s,l=f,f=h,h=l),s=[],l=f+h,n=l;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,a=f+n;a>n;)d=s[a]+b[n]*y[a-n-1]+t,s[a--]=d%br|0,t=d/br|0;s[a]=(s[a]+t)%br|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Dt?wt(e,g.precision):e};Se.toDecimalPlaces=Se.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ka(e,0,Tc),t===void 0?t=n.rounding:ka(t,0,8),wt(r,e+nr(r)+1,t))};Se.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Io(n,!0):(ka(e,0,Tc),t===void 0?t=a.rounding:ka(t,0,8),n=wt(new a(n),e+1,t),r=Io(n,!0,e+1)),r};Se.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Io(a):(ka(e,0,Tc),t===void 0?t=s.rounding:ka(t,0,8),n=wt(new s(a),e+nr(a)+1,t),r=Io(n.abs(),!1,e+nr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Se.toInteger=Se.toint=function(){var e=this,t=e.constructor;return wt(new t(e),nr(e)+1,t.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(e){var t,r,n,a,s,l,d=this,f=d.constructor,h=12,p=+(e=new f(e));if(!e.s)return new f(jn);if(d=new f(d),!d.s){if(e.s<1)throw Error(Gn+"Infinity");return d}if(d.eq(jn))return d;if(n=f.precision,e.eq(jn))return wt(d,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=d.s,l){if((r=p<0?-p:p)<=YR){for(a=new f(jn),t=Math.ceil(n/Et+4),Dt=!1;r%2&&(a=a.times(d),nP(a.d,t)),r=Dc(r/2),r!==0;)d=d.times(d),nP(d.d,t);return Dt=!0,e.s<0?new f(jn).div(a):wt(a,n)}}else if(s<0)throw Error(Gn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,Dt=!1,a=e.times(Ed(d,n+h)),Dt=!0,a=XR(a),a.s=s,a};Se.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=nr(a),n=Io(a,r<=s.toExpNeg||r>=s.toExpPos)):(ka(e,1,Tc),t===void 0?t=s.rounding:ka(t,0,8),a=wt(new s(a),e,t),r=nr(a),n=Io(a,e<=r||r<=s.toExpNeg,e)),n};Se.toSignificantDigits=Se.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ka(e,1,Tc),t===void 0?t=n.rounding:ka(t,0,8)),wt(new n(r),e,t)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=nr(e),r=e.constructor;return Io(e,t<=r.toExpNeg||t>=r.toExpPos)};function WR(e,t){var r,n,a,s,l,d,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Dt?wt(t,g):t;if(f=e.d,h=t.d,l=e.e,a=t.e,f=f.slice(),s=l-a,s){for(s<0?(n=f,s=-s,d=h.length):(n=h,a=l,d=f.length),l=Math.ceil(g/Et),d=l>d?l+1:d+1,s>d&&(s=d,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,n=h,h=f,f=n),r=0;s;)r=(f[--s]=f[s]+h[s]+r)/br|0,f[s]%=br;for(r&&(f.unshift(r),++a),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=a,Dt?wt(t,g):t}function ka(e,t,r){if(e!==~~e||e<t||e>r)throw Error(No+e)}function Oa(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=Et-n.length,r&&(s+=as(r)),s+=n;l=e[t],n=l+"",r=Et-n.length,r&&(s+=as(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var li=(function(){function e(n,a){var s,l=0,d=n.length;for(n=n.slice();d--;)s=n[d]*a+l,n[d]=s%br|0,l=s/br|0;return l&&n.unshift(l),n}function t(n,a,s,l){var d,f;if(s!=l)f=s>l?1:-1;else for(d=f=0;d<s;d++)if(n[d]!=a[d]){f=n[d]>a[d]?1:-1;break}return f}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*br+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var d,f,h,p,g,y,b,w,S,_,N,O,A,C,D,T,k,M,I=n.constructor,G=n.s==a.s?1:-1,F=n.d,K=a.d;if(!n.s)return new I(n);if(!a.s)throw Error(Gn+"Division by zero");for(f=n.e-a.e,k=K.length,D=F.length,b=new I(G),w=b.d=[],h=0;K[h]==(F[h]||0);)++h;if(K[h]>(F[h]||0)&&--f,s==null?O=s=I.precision:l?O=s+(nr(n)-nr(a))+1:O=s,O<0)return new I(0);if(O=O/Et+2|0,h=0,k==1)for(p=0,K=K[0],O++;(h<D||p)&&O--;h++)A=p*br+(F[h]||0),w[h]=A/K|0,p=A%K|0;else{for(p=br/(K[0]+1)|0,p>1&&(K=e(K,p),F=e(F,p),k=K.length,D=F.length),C=k,S=F.slice(0,k),_=S.length;_<k;)S[_++]=0;M=K.slice(),M.unshift(0),T=K[0],K[1]>=br/2&&++T;do p=0,d=t(K,S,k,_),d<0?(N=S[0],k!=_&&(N=N*br+(S[1]||0)),p=N/T|0,p>1?(p>=br&&(p=br-1),g=e(K,p),y=g.length,_=S.length,d=t(g,S,y,_),d==1&&(p--,r(g,k<y?M:K,y))):(p==0&&(d=p=1),g=K.slice()),y=g.length,y<_&&g.unshift(0),r(S,g,_),d==-1&&(_=S.length,d=t(K,S,k,_),d<1&&(p++,r(S,k<_?M:K,_))),_=S.length):d===0&&(p++,S=[0]),w[h++]=p,d&&S[0]?S[_++]=F[C]||0:(S=[F[C]],_=1);while((C++<D||S[0]!==void 0)&&O--)}return w[0]||w.shift(),b.e=f,wt(b,l?s+nr(b)+1:s)}})();function XR(e,t){var r,n,a,s,l,d,f=0,h=0,p=e.constructor,g=p.precision;if(nr(e)>16)throw Error(Lj+nr(e));if(!e.s)return new p(jn);for(Dt=!1,d=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(n=Math.log(ao(2,h))/Math.LN10*2+5|0,d+=n,r=a=s=new p(jn),p.precision=d;;){if(a=wt(a.times(e),d),r=r.times(++f),l=s.plus(li(a,r,d)),Oa(l.d).slice(0,d)===Oa(s.d).slice(0,d)){for(;h--;)s=wt(s.times(s),d);return p.precision=g,t==null?(Dt=!0,wt(s,g)):s}s=l}}function nr(e){for(var t=e.e*Et,r=e.d[0];r>=10;r/=10)t++;return t}function _b(e,t,r){if(t>e.LN10.sd())throw Dt=!0,r&&(e.precision=r),Error(Gn+"LN10 precision limit exceeded");return wt(new e(e.LN10),t)}function as(e){for(var t="";e--;)t+="0";return t}function Ed(e,t){var r,n,a,s,l,d,f,h,p,g=1,y=10,b=e,w=b.d,S=b.constructor,_=S.precision;if(b.s<1)throw Error(Gn+(b.s?"NaN":"-Infinity"));if(b.eq(jn))return new S(0);if(t==null?(Dt=!1,h=_):h=t,b.eq(10))return t==null&&(Dt=!0),_b(S,h);if(h+=y,S.precision=h,r=Oa(w),n=r.charAt(0),s=nr(b),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=Oa(b.d),n=r.charAt(0),g++;s=nr(b),n>1?(b=new S("0."+r),s++):b=new S(n+"."+r.slice(1))}else return f=_b(S,h+2,_).times(s+""),b=Ed(new S(n+"."+r.slice(1)),h-y).plus(f),S.precision=_,t==null?(Dt=!0,wt(b,_)):b;for(d=l=b=li(b.minus(jn),b.plus(jn),h),p=wt(b.times(b),h),a=3;;){if(l=wt(l.times(p),h),f=d.plus(li(l,new S(a),h)),Oa(f.d).slice(0,h)===Oa(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(_b(S,h+2,_).times(s+""))),d=li(d,new S(g),h),S.precision=_,t==null?(Dt=!0,wt(d,_)):d;d=f,a+=2}}function rP(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Dc(r/Et),e.d=[],n=(r+1)%Et,r<0&&(n+=Et),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Et;n<a;)e.d.push(+t.slice(n,n+=Et));t=t.slice(n),n=Et-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Dt&&(e.e>np||e.e<-np))throw Error(Lj+r)}else e.s=0,e.e=0,e.d=[0];return e}function wt(e,t,r){var n,a,s,l,d,f,h,p,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=Et,a=t,h=g[p=0];else{if(p=Math.ceil((n+1)/Et),s=g.length,p>=s)return e;for(h=s=g[p],l=1;s>=10;s/=10)l++;n%=Et,a=n-Et+l}if(r!==void 0&&(s=ao(10,l-a-1),d=h/s%10|0,f=t<0||g[p+1]!==void 0||h%s,f=r<4?(d||f)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(n>0?a>0?h/ao(10,l-a):0:g[p-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(s=nr(e),g.length=1,t=t-s-1,g[0]=ao(10,(Et-t%Et)%Et),e.e=Dc(-t/Et)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=p,s=1,p--):(g.length=p+1,s=ao(10,Et-n),g[p]=a>0?(h/ao(10,l-a)%ao(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==br&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=br)break;g[p--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(Dt&&(e.e>np||e.e<-np))throw Error(Lj+nr(e));return e}function ZR(e,t){var r,n,a,s,l,d,f,h,p,g,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Dt?wt(t,b):t;if(f=e.d,g=t.d,n=t.e,h=e.e,f=f.slice(),l=h-n,l){for(p=l<0,p?(r=f,l=-l,d=g.length):(r=g,n=h,d=f.length),a=Math.max(Math.ceil(b/Et),d)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}l=0}for(p&&(r=f,f=g,g=r,t.s=-t.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>l;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=br-1;--f[s],f[a]+=br}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Dt?wt(t,b):t):new y(0)}function Io(e,t,r){var n,a=nr(e),s=Oa(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+as(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+as(-a-1)+s,r&&(n=r-l)>0&&(s+=as(n))):a>=l?(s+=as(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+as(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=as(n))),e.s<0?"-"+s:s}function nP(e,t){if(e.length>t)return e.length=t,!0}function JR(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(No+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return rP(l,s.toString())}else if(typeof s!="string")throw Error(No+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,xW.test(s))rP(l,s);else throw Error(No+s)}if(a.prototype=Se,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=JR,a.config=a.set=wW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function wW(e){if(!e||typeof e!="object")throw Error(Gn+"Object expected");var t,r,n,a=["precision",1,Tc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Dc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(No+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(No+r+": "+n);return this}var Bj=JR(bW);jn=new Bj(1);const ht=Bj;function eI(e){var t;return e===0?t=1:t=Math.floor(new ht(e).abs().log(10).toNumber())+1,t}function tI(e,t,r){for(var n=new ht(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var rI=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},nI=(e,t,r)=>{if(e.lte(0))return new ht(0);var n=eI(e.toNumber()),a=new ht(10).pow(n),s=e.div(a),l=n!==1?.05:.1,d=new ht(Math.ceil(s.div(l).toNumber())).add(r).mul(l),f=d.mul(a);return t?new ht(f.toNumber()):new ht(Math.ceil(f.toNumber()))},jW=(e,t,r)=>{var n=new ht(1),a=new ht(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new ht(10).pow(eI(e)-1),a=new ht(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new ht(Math.floor(e)))}else e===0?a=new ht(Math.floor((t-1)/2)):r||(a=new ht(Math.floor(e)));for(var l=Math.floor((t-1)/2),d=[],f=0;f<t;f++)d.push(a.add(new ht(f-l).mul(n)).toNumber());return d},aI=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ht(0),tickMin:new ht(0),tickMax:new ht(0)};var l=nI(new ht(r).sub(t).div(n-1),a,s),d;t<=0&&r>=0?d=new ht(0):(d=new ht(t).add(r).div(2),d=d.sub(new ht(d).mod(l)));var f=Math.ceil(d.sub(t).div(l).toNumber()),h=Math.ceil(new ht(r).sub(d).div(l).toNumber()),p=f+h+1;return p>n?aI(t,r,n,a,s+1):(p<n&&(h=r>0?h+(n-p):h,f=r>0?f:f+(n-p)),{step:l,tickMin:d.sub(new ht(f).mul(l)),tickMax:d.add(new ht(h).mul(l))})},SW=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[d,f]=rI([r,n]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return r>n?h.reverse():h}if(d===f)return jW(d,a,s);var{step:p,tickMin:g,tickMax:y}=aI(d,f,l,s,0),b=tI(g,y.add(new ht(.1).mul(p)),p);return r>n?b.reverse():b},_W=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,d]=rI([n,a]);if(l===-1/0||d===1/0)return[n,a];if(l===d)return[l];var f=Math.max(r,2),h=nI(new ht(d).sub(l).div(f-1),s,0),p=[...tI(new ht(l),new ht(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),n>a?p.reverse():p},iI=e=>e.rootProps.maxBarSize,NW=e=>e.rootProps.barGap,sI=e=>e.rootProps.barCategoryGap,OW=e=>e.rootProps.barSize,cf=e=>e.rootProps.stackOffset,oI=e=>e.rootProps.reverseStackOrder,$j=e=>e.options.chartName,Uj=e=>e.rootProps.syncId,lI=e=>e.rootProps.syncMethod,zj=e=>e.options.eventEmitter,rr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},eo={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},va={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},hg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function mg(e,t,r){if(r!=="auto")return r;if(e!=null)return ji(e,t)?"category":"number"}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return(t=AW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AW(e){var t=CW(e,"string");return typeof t=="symbol"?t:t+""}function CW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iP={allowDataOverflow:eo.allowDataOverflow,allowDecimals:eo.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:eo.angleAxisId,includeHidden:!1,name:void 0,reversed:eo.reversed,scale:eo.scale,tick:eo.tick,tickCount:void 0,ticks:void 0,type:eo.type,unit:void 0},sP={allowDataOverflow:va.allowDataOverflow,allowDecimals:va.allowDecimals,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.radiusAxisId,includeHidden:va.includeHidden,name:void 0,reversed:va.reversed,scale:va.scale,tick:va.tick,tickCount:va.tickCount,ticks:void 0,type:va.type,unit:void 0},PW=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},qj=Y([PW,VM],(e,t)=>{var r;if(e!=null)return e;var n=(r=mg(t,"angleAxis",iP.type))!==null&&r!==void 0?r:"category";return ap(ap({},iP),{},{type:n})}),kW=(e,t)=>e.polarAxis.radiusAxis[t],Kj=Y([kW,VM],(e,t)=>{var r;if(e!=null)return e;var n=(r=mg(t,"radiusAxis",sP.type))!==null&&r!==void 0?r:"category";return ap(ap({},sP),{},{type:n})}),pg=e=>e.polarOptions,Fj=Y([Si,_i,dr],uR),cI=Y([pg,Fj],(e,t)=>{if(e!=null)return $r(e.innerRadius,t,0)}),uI=Y([pg,Fj],(e,t)=>{if(e!=null)return $r(e.outerRadius,t,t*.8)}),TW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},dI=Y([pg],TW);Y([qj,dI],hg);var fI=Y([Fj,cI,uI],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Y([Kj,fI],hg);var hI=Y([it,pg,cI,uI,Si,_i],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=t;return{cx:$r(l,a,a/2),cy:$r(d,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:h,clockWise:!1}}}),Lt=(e,t)=>t,uf=(e,t,r)=>r;function Hj(e){return e==null?void 0:e.id}function mI(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:n;if(!(h==null||h.length===0)){var p=Hj(d);h.forEach((g,y)=>{var b=s==null||a?y:String(bt(g,s,null)),w=bt(g,d.dataKey,0),S;l.has(b)?S=l.get(b):S={},Object.assign(S,{[p]:w}),l.set(b,S)})}}),Array.from(l.values())}function gg(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var yg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function vg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function DW(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var _r=e=>{var t=it(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Mc=e=>e.tooltip.settings.axisId;function MW(e){if(e in Ju)return Ju[e]();var t="scale".concat(Yd(e));if(t in Ju)return Ju[t]()}function oP(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(s){var l=a[0],d=a[1];return l<=d?s>=l&&s<=d:s>=d&&s<=l},bandwidth:r?()=>r.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,l)=>{var d=e(s);if(d!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var f=e.bandwidth();switch(l.position){case"middle":d+=f/2;break;case"end":d+=f;break}}return d}}}}function lP(e,t,r){if(typeof e=="function")return oP(e.copy().domain(t).range(r));if(e!=null){var n=MW(e);if(n!=null)return n.domain(t).range(r),oP(n)}}var pI=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!gi(t)){for(var r,n,a=0;a<t.length;a++){var s=t[a];Ze(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ip(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){RW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RW(e,t,r){return(t=IW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IW(e){var t=LW(e,"string");return typeof t=="symbol"?t:t+""}function LW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jx=[0,"auto"],gr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gI=(e,t)=>e.cartesianAxis.xAxis[t],Ei=(e,t)=>{var r=gI(e,t);return r??gr},yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Jx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Jd},yI=(e,t)=>e.cartesianAxis.yAxis[t],Ai=(e,t)=>{var r=yI(e,t);return r??yr},BW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Qj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??BW},Qt=(e,t,r)=>{switch(t){case"xAxis":return Ei(e,r);case"yAxis":return Ai(e,r);case"zAxis":return Qj(e,r);case"angleAxis":return qj(e,r);case"radiusAxis":return Kj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$W=(e,t,r)=>{switch(t){case"xAxis":return Ei(e,r);case"yAxis":return Ai(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Rc=(e,t,r)=>{switch(t){case"xAxis":return Ei(e,r);case"yAxis":return Ai(e,r);case"angleAxis":return qj(e,r);case"radiusAxis":return Kj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Vj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var bg=e=>e.graphicalItems.cartesianItems,UW=Y([Lt,uf],Vj),Gj=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),df=Y([bg,Qt,UW],Gj,{memoizeOptions:{resultEqualityCheck:vg}}),bI=Y([df],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(gg)),xI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),zW=Y([df],xI),Yj=e=>e.map(t=>t.data).filter(Boolean).flat(1),qW=Y([df],Yj,{memoizeOptions:{resultEqualityCheck:vg}}),Wj=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Xj=Y([qW,Ij],Wj),Zj=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:bt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:bt(a,n)}))):e.map(n=>({value:n})),xg=Y([Xj,Qt,df],Zj);function wI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function hm(e){if(Ca(e)||e instanceof Date){var t=Number(e);if(Ze(t))return t}}function uP(e){if(Array.isArray(e)){var t=[hm(e[0]),hm(e[1])];return gi(t)?t:void 0}var r=hm(e);if(r!=null)return[r,r]}function yi(e){return e.map(hm).filter(sn)}function KW(e,t,r){return!r||typeof t!="number"||Aa(t)?[]:r.length?yi(r.flatMap(n=>{var a=bt(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!Ze(s)||!Ze(l)))return[t-s,t+l]})):[]}var hr=e=>{var t=_r(e),r=Mc(e);return Rc(e,t,r)},ff=Y([hr],e=>e==null?void 0:e.dataKey),FW=Y([bI,Ij,hr],mI),jI=(e,t,r,n)=>{var a={},s=t.reduce((l,d)=>{if(d.stackId==null)return l;var f=l[d.stackId];return f==null&&(f=[]),f.push(d),l[d.stackId]=f,l},a);return Object.fromEntries(Object.entries(s).map(l=>{var[d,f]=l,h=n?[...f].reverse():f,p=h.map(Hj);return[d,{stackedData:uH(e,p,r),graphicalItems:h}]}))},ew=Y([FW,bI,cf,oI],jI),SI=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=pH(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},HW=Y([Qt],e=>e.allowDataOverflow),Jj=e=>{var t;if(e==null||!("domain"in e))return Jx;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=yi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Jx},eS=Y([Qt],Jj),tS=Y([eS,HW],GR),QW=Y([ew,Oi,Lt,tS],SI,{memoizeOptions:{resultEqualityCheck:yg}}),wg=e=>e.errorBars,VW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>wI(r,n)),sp=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},rS=(e,t,r,n,a)=>{var s,l;if(r.length>0&&e.forEach(d=>{r.forEach(f=>{var h,p,g=(h=n[f.id])===null||h===void 0?void 0:h.filter(N=>wI(a,N)),y=bt(d,(p=t.dataKey)!==null&&p!==void 0?p:f.dataKey),b=KW(d,y,g);if(b.length>=2){var w=Math.min(...b),S=Math.max(...b);(s==null||w<s)&&(s=w),(l==null||S>l)&&(l=S)}var _=uP(y);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),l=l==null?_[1]:Math.max(l,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(d=>{var f=uP(bt(d,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Ze(s)&&Ze(l))return[s,l]},GW=Y([Xj,Qt,zW,wg,Lt],rS,{memoizeOptions:{resultEqualityCheck:yg}});function YW(e){var{value:t}=e;if(Ca(t)||t instanceof Date)return t}var WW=(e,t,r)=>{var n=e.map(YW).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&KD(n))?mR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},_I=e=>e.referenceElements.dots,Ic=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),XW=Y([_I,Lt,uf],Ic),NI=e=>e.referenceElements.areas,ZW=Y([NI,Lt,uf],Ic),OI=e=>e.referenceElements.lines,JW=Y([OI,Lt,uf],Ic),EI=(e,t)=>{if(e!=null){var r=yi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},eX=Y(XW,Lt,EI),AI=(e,t)=>{if(e!=null){var r=yi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},tX=Y([ZW,Lt],AI);function rX(e){var t;if(e.x!=null)return yi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:yi(r)}function nX(e){var t;if(e.y!=null)return yi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:yi(r)}var CI=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?rX(n):nX(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},aX=Y([JW,Lt],CI),iX=Y(eX,aX,tX,(e,t,r)=>sp(e,r,t)),nS=(e,t,r,n,a,s,l,d)=>{if(r!=null)return r;var f=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",h=f?sp(n,s,a):sp(s,a);return vW(t,h,e.allowDataOverflow)},sX=Y([Qt,eS,tS,QW,GW,iX,it,Lt],nS,{memoizeOptions:{resultEqualityCheck:yg}}),oX=[0,1],aS=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:d,type:f}=e,h=ji(t,s);if(h&&d==null){var p;return mR(0,(p=r==null?void 0:r.length)!==null&&p!==void 0?p:0)}return f==="category"?WW(n,e,h):a==="expand"?oX:l}},iS=Y([Qt,it,Xj,xg,cf,Lt,sX],aS);function lX(e){return e in Ju}var PI=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(Yd(n));return lX(s)?s:"point"}}},Ts=Y([Qt,vI,$j],PI);function sS(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?lP(e.scale,r,n):lP(t,r,n)}var oS=(e,t,r)=>{var n=Jj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&gi(e))return SW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&gi(e))return _W(e,t.tickCount,t.allowDecimals)}},lS=Y([iS,Rc,Ts],oS),cS=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&gi(t)&&Array.isArray(r)&&r.length>0){var a,s,l=t[0],d=(a=r[0])!==null&&a!==void 0?a:0,f=t[1],h=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,d),Math.max(f,h)]}return t},cX=Y([Qt,iS,lS,Lt],cS),uX=Y(xg,Qt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(yi(e.map(g=>g.value))).sort((g,y)=>g-y),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var l=s-a;if(l===0)return 1/0;for(var d=0;d<n.length-1;d++){var f=n[d],h=n[d+1];if(!(f==null||h==null)){var p=h-f;r=Math.min(r,p)}}return r/l}}),kI=Y(uX,it,sI,dr,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Ze(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=$r(r,e*s),d=e*s/2;return d-l-(d-l)/s*l}return 0}),dX=(e,t,r)=>{var n=Ei(e,t);return n==null||typeof n.padding!="string"?0:kI(e,"xAxis",t,r,n.padding)},fX=(e,t,r)=>{var n=Ai(e,t);return n==null||typeof n.padding!="string"?0:kI(e,"yAxis",t,r,n.padding)},hX=Y(Ei,dX,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),mX=Y(Ai,fX,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),pX=Y([dr,hX,Jp,Zp,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),gX=Y([dr,it,mX,Jp,Zp,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),hf=(e,t,r,n)=>{var a;switch(t){case"xAxis":return pX(e,r,n);case"yAxis":return gX(e,r,n);case"zAxis":return(a=Qj(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return dI(e);case"radiusAxis":return fI(e,r);default:return}},TI=Y([Qt,hf],hg),yX=Y([Ts,cX],pI),jg=Y([Qt,Ts,yX,TI],sS);Y([df,wg,Lt],VW);function DI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Sg=(e,t)=>t,_g=(e,t,r)=>r,vX=Y(Wp,Sg,_g,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(DI)),bX=Y(Xp,Sg,_g,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(DI)),MI=(e,t)=>({width:e.width,height:t.height}),xX=(e,t)=>{var r=typeof t.width=="number"?t.width:Jd;return{width:r,height:e.height}},RI=Y(dr,Ei,MI),wX=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},jX=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},SX=Y(_i,dr,vX,Sg,_g,(e,t,r,n,a)=>{var s={},l;return r.forEach(d=>{var f=MI(t,d);l==null&&(l=wX(t,n,e));var h=n==="top"&&!a||n==="bottom"&&a;s[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),_X=Y(Si,dr,bX,Sg,_g,(e,t,r,n,a)=>{var s={},l;return r.forEach(d=>{var f=xX(t,d);l==null&&(l=jX(t,n,e));var h=n==="left"&&!a||n==="right"&&a;s[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),NX=(e,t)=>{var r=Ei(e,t);if(r!=null)return SX(e,r.orientation,r.mirror)},OX=Y([dr,Ei,NX,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),EX=(e,t)=>{var r=Ai(e,t);if(r!=null)return _X(e,r.orientation,r.mirror)},AX=Y([dr,Ai,EX,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),II=Y(dr,Ai,(e,t)=>{var r=typeof t.width=="number"?t.width:Jd;return{width:r,height:e.height}}),dP=(e,t,r)=>{switch(t){case"xAxis":return RI(e,r).width;case"yAxis":return II(e,r).height;default:return}},LI=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,d=ji(e,n),f=t.map(h=>h.value);if(l&&d&&s==="category"&&a&&KD(f))return f}},uS=Y([it,xg,Qt,Lt],LI),BI=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=ji(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(d=>d.value)}},dS=Y([it,xg,Rc,Lt],BI),fP=Y([it,$W,Ts,jg,uS,dS,hf,lS,Lt],(e,t,r,n,a,s,l,d,f)=>{if(t!=null){var h=ji(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:d,range:l,realScaleType:r,scale:n}}}),CX=(e,t,r,n,a,s,l,d,f)=>{if(!(t==null||n==null)){var h=ji(e,f),{type:p,ticks:g,tickCount:y}=t,b=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,w=p==="category"&&n.bandwidth?n.bandwidth()/b:0;w=f==="angleAxis"&&s!=null&&s.length>=2?wr(s[0]-s[1])*2*w:w;var S=g||a;return S?S.map((_,N)=>{var O=l?l.indexOf(_):_,A=n.map(O);return Ze(A)?{index:N,coordinate:A+w,value:_,offset:w}:null}).filter(sn):h&&d?d.map((_,N)=>{var O=n.map(_);return Ze(O)?{coordinate:O+w,value:_,index:N,offset:w}:null}).filter(sn):n.ticks?n.ticks(y).map((_,N)=>{var O=n.map(_);return Ze(O)?{coordinate:O+w,value:_,index:N,offset:w}:null}).filter(sn):n.domain().map((_,N)=>{var O=n.map(_);return Ze(O)?{coordinate:O+w,value:l?l[_]:_,index:N,offset:w}:null}).filter(sn)}},$I=Y([it,Rc,Ts,jg,lS,hf,uS,dS,Lt],CX),PX=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var d=ji(e,l),{tickCount:f}=t,h=0;return h=l==="angleAxis"&&(n==null?void 0:n.length)>=2?wr(n[0]-n[1])*2*h:h,d&&s?s.map((p,g)=>{var y=r.map(p);return Ze(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(sn):r.ticks?r.ticks(f).map((p,g)=>{var y=r.map(p);return Ze(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(sn):r.domain().map((p,g)=>{var y=r.map(p);return Ze(y)?{coordinate:y+h,value:a?a[p]:p,index:g,offset:h}:null}).filter(sn)}},js=Y([it,Rc,jg,hf,uS,dS,Lt],PX),Ss=Y(Qt,jg,(e,t)=>{if(!(e==null||t==null))return ip(ip({},e),{},{scale:t})}),kX=Y([Qt,Ts,iS,TI],sS);Y((e,t,r)=>Qj(e,r),kX,(e,t)=>{if(!(e==null||t==null))return ip(ip({},e),{},{scale:t})});var TX=Y([it,Wp,Xp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),UI=e=>e.options.defaultTooltipEventType,zI=e=>e.options.validateTooltipEventTypes;function qI(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function fS(e,t){var r=UI(e),n=zI(e);return qI(t,r,n)}function DX(e){return Ne(t=>fS(t,e))}var KI=(e,t)=>{var r,n=Number(t);if(!(Aa(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},MX=e=>e.tooltip.settings,os={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},RX={itemInteraction:{click:os,hover:os},axisInteraction:{click:os,hover:os},keyboardInteraction:os,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},FI=cn({name:"tooltip",initialState:RX,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:kt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ca(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:kt()},removeTooltipEntrySettings:{reducer(e,t){var r=ca(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:kt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:IX,replaceTooltipEntrySettings:LX,removeTooltipEntrySettings:BX,setTooltipSettingsState:$X,setActiveMouseOverItemIndex:HI,mouseLeaveItem:UX,mouseLeaveChart:QI,setActiveClickItemIndex:zX,setMouseOverAxisIndex:VI,setMouseClickAxisIndex:qX,setSyncInteraction:tw,setKeyboardInteraction:rw}=FI.actions,KX=FI.reducer;function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){FX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FX(e,t,r){return(t=HX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HX(e){var t=QX(e,"string");return typeof t=="symbol"?t:t+""}function QX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VX(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function GX(e){return e.index!=null}var GI=(e,t,r,n)=>{if(t==null)return os;var a=VX(e,t,r);if(a==null)return os;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(GX(a)){if(s)return nm(nm({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return nm(nm({},os),{},{coordinate:a.coordinate})};function YX(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function WX(e,t){var r=YX(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),l=Math.max(n,a);return r>=s&&r<=l}function XX(e,t,r){if(r==null||t==null)return!0;var n=bt(e,t);return n==null||!gi(r)?!0:WX(n,r)}var hS=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!Ze(s))return a;var l=0,d=1/0;t.length>0&&(d=t.length-1);var f=Math.max(l,Math.min(s,d)),h=t[f];return h==null||XX(h,r,n)?String(f):null},YI=(e,t,r,n,a,s,l)=>{if(s!=null){var d=l[0],f=d==null?void 0:d.getPosition(s);if(f!=null)return f;var h=a==null?void 0:a[Number(s)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},WI=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(l=>{var d;return((d=l.settings)===null||d===void 0?void 0:d.graphicalItemId)===a})},XI=e=>e.options.tooltipPayloadSearcher,Lc=e=>e.tooltip;function mP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(r),!0).forEach(function(n){ZX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZX(e,t,r){return(t=JX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=eZ(e,"string");return typeof t=="symbol"?t:t+""}function eZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tZ(e,t){return e??t}var ZI=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=r,g=[];return e.reduce((y,b)=>{var w,{dataDefinedOnItem:S,settings:_}=b,N=tZ(S,d),O=Array.isArray(N)?IM(N,h,p):N,A=(w=_==null?void 0:_.dataKey)!==null&&w!==void 0?w:n,C=_==null?void 0:_.nameKey,D;if(n&&Array.isArray(O)&&!Array.isArray(O[0])&&l==="axis"?D=FD(O,n,a):D=s(O,t,f,C),Array.isArray(D))D.forEach(k=>{var M=pP(pP({},_),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});y.push(hC({tooltipEntrySettings:M,dataKey:k.dataKey,payload:k.payload,value:bt(k.payload,k.dataKey),name:k.name}))});else{var T;y.push(hC({tooltipEntrySettings:_,dataKey:A,payload:D,value:bt(D,A),name:(T=bt(D,C))!==null&&T!==void 0?T:_==null?void 0:_.name}))}return y},g)}},mS=Y([hr,vI,$j],PI),rZ=Y([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),nZ=Y([_r,Mc],Vj),Bc=Y([rZ,hr,nZ],Gj,{memoizeOptions:{resultEqualityCheck:vg}}),aZ=Y([Bc],e=>e.filter(gg)),iZ=Y([Bc],Yj,{memoizeOptions:{resultEqualityCheck:vg}}),$c=Y([iZ,Oi],Wj),sZ=Y([aZ,Oi,hr],mI),pS=Y([$c,hr,Bc],Zj),JI=Y([hr],Jj),oZ=Y([hr],e=>e.allowDataOverflow),e4=Y([JI,oZ],GR),lZ=Y([Bc],e=>e.filter(gg)),cZ=Y([sZ,lZ,cf,oI],jI),uZ=Y([cZ,Oi,_r,e4],SI),dZ=Y([Bc],xI),fZ=Y([$c,hr,dZ,wg,_r],rS,{memoizeOptions:{resultEqualityCheck:yg}}),hZ=Y([_I,_r,Mc],Ic),mZ=Y([hZ,_r],EI),pZ=Y([NI,_r,Mc],Ic),gZ=Y([pZ,_r],AI),yZ=Y([OI,_r,Mc],Ic),vZ=Y([yZ,_r],CI),bZ=Y([mZ,vZ,gZ],sp),xZ=Y([hr,JI,e4,uZ,fZ,bZ,it,_r],nS),mf=Y([hr,it,$c,pS,cf,_r,xZ],aS),wZ=Y([mf,hr,mS],oS),jZ=Y([hr,mf,wZ,_r],cS),t4=e=>{var t=_r(e),r=Mc(e),n=!1;return hf(e,t,r,n)},r4=Y([hr,t4],hg),n4=Y([hr,mS,jZ,r4],sS),SZ=Y([it,pS,hr,_r],LI),_Z=Y([it,pS,hr,_r],BI),NZ=(e,t,r,n,a,s,l,d)=>{if(t){var{type:f}=t,h=ji(e,d);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?wr(a[0]-a[1])*2*g:g,h&&l?l.map((y,b)=>{var w=n.map(y);return Ze(w)?{coordinate:w+g,value:y,index:b,offset:g}:null}).filter(sn):n.domain().map((y,b)=>{var w=n.map(y);return Ze(w)?{coordinate:w+g,value:s?s[y]:y,index:b,offset:g}:null}).filter(sn)}}},Ci=Y([it,hr,mS,n4,t4,SZ,_Z,_r],NZ),gS=Y([UI,zI,MX],(e,t,r)=>qI(r.shared,e,t)),a4=e=>e.tooltip.settings.trigger,yS=e=>e.tooltip.settings.defaultIndex,pf=Y([Lc,gS,a4,yS],GI),_s=Y([pf,$c,ff,mf],hS),i4=Y([Ci,_s],KI),vS=Y([pf],e=>{if(e)return e.dataKey}),OZ=Y([pf],e=>{if(e)return e.graphicalItemId}),s4=Y([Lc,gS,a4,yS],WI),EZ=Y([Si,_i,it,dr,Ci,yS,s4],YI),AZ=Y([pf,EZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),CZ=Y([pf],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),PZ=Y([s4,_s,Oi,ff,i4,XI,gS],ZI),kZ=Y([PZ],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){TZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TZ(e,t,r){return(t=DZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DZ(e){var t=MZ(e,"string");return typeof t=="symbol"?t:t+""}function MZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RZ=()=>Ne(hr),IZ=()=>{var e=RZ(),t=Ne(Ci),r=Ne(n4);return hc(!e||!r?void 0:yP(yP({},e),{},{scale:r}),t)};function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){LZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LZ(e,t,r){return(t=BZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BZ(e){var t=$Z(e,"string");return typeof t=="symbol"?t:t+""}function $Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UZ=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},zZ=(e,t,r,n)=>{var a=t.find(h=>h&&h.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:l}=n;return Ul(Ul(Ul({},n),tr(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var d=a.coordinate,{angle:f}=n;return Ul(Ul(Ul({},n),tr(n.cx,n.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function qZ(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var o4=(e,t,r,n,a)=>{var s,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<l;d++){var f,h,p,g,y,b=d>0?(f=r[d-1])===null||f===void 0?void 0:f.coordinate:(h=r[l-1])===null||h===void 0?void 0:h.coordinate,w=(p=r[d])===null||p===void 0?void 0:p.coordinate,S=d>=l-1?(g=r[0])===null||g===void 0?void 0:g.coordinate:(y=r[d+1])===null||y===void 0?void 0:y.coordinate,_=void 0;if(!(b==null||w==null||S==null))if(wr(w-b)!==wr(S-w)){var N=[];if(wr(S-w)===wr(a[1]-a[0])){_=S;var O=w+a[1]-a[0];N[0]=Math.min(O,(O+b)/2),N[1]=Math.max(O,(O+b)/2)}else{_=b;var A=S+a[1]-a[0];N[0]=Math.min(w,(A+w)/2),N[1]=Math.max(w,(A+w)/2)}var C=[Math.min(w,(_+w)/2),Math.max(w,(_+w)/2)];if(e>C[0]&&e<=C[1]||e>=N[0]&&e<=N[1]){var D;return(D=r[d])===null||D===void 0?void 0:D.index}}else{var T=Math.min(b,S),k=Math.max(b,S);if(e>(T+w)/2&&e<=(k+w)/2){var M;return(M=r[d])===null||M===void 0?void 0:M.index}}}else if(t)for(var I=0;I<l;I++){var G=t[I];if(G!=null){var F=t[I+1],K=t[I-1];if(I===0&&F!=null&&e<=(G.coordinate+F.coordinate)/2||I===l-1&&K!=null&&e>(G.coordinate+K.coordinate)/2||I>0&&I<l-1&&K!=null&&F!=null&&e>(G.coordinate+K.coordinate)/2&&e<=(G.coordinate+F.coordinate)/2)return G.index}}return-1},KZ=()=>Ne($j),bS=(e,t)=>t,l4=(e,t,r)=>r,xS=(e,t,r,n)=>n,FZ=Y(Ci,e=>Up(e,t=>t.coordinate)),wS=Y([Lc,bS,l4,xS],GI),jS=Y([wS,$c,ff,mf],hS),HZ=(e,t,r)=>{if(t!=null){var n=Lc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},c4=Y([Lc,bS,l4,xS],WI),op=Y([Si,_i,it,dr,Ci,xS,c4],YI),QZ=Y([wS,op],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),u4=Y([Ci,jS],KI),VZ=Y([c4,jS,Oi,ff,u4,XI,bS],ZI),GZ=Y([wS,jS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),YZ=(e,t,r,n,a,s,l)=>{if(!(!e||!r||!n||!a)&&qZ(e,l)){var d=gH(e,t),f=o4(d,s,a,r,n),h=UZ(t,a,f,e);return{activeIndex:String(f),activeCoordinate:h}}},WZ=(e,t,r,n,a,s,l)=>{if(!(!e||!n||!a||!s||!r)){var d=DV(e,r);if(d){var f=yH(d,t),h=o4(f,l,s,n,a),p=zZ(t,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},XZ=(e,t,r,n,a,s,l,d)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?YZ(e,t,n,a,s,l,d):WZ(e,t,r,n,a,s,l)},ZZ=Y(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),JZ=Y(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(rr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:DW}});function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){eJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eJ(e,t,r){return(t=tJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tJ(e){var t=rJ(e,"string");return typeof t=="symbol"?t:t+""}function rJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nJ={},aJ={zIndexMap:Object.values(rr).reduce((e,t)=>xP(xP({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),nJ)},iJ=new Set(Object.values(rr));function sJ(e){return iJ.has(e)}var d4=cn({name:"zIndex",initialState:aJ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:kt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!sJ(r)&&delete e.zIndexMap[r])},prepare:kt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:kt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:kt()}}}),{registerZIndexPortal:oJ,unregisterZIndexPortal:lJ,registerZIndexPortalElement:cJ,unregisterZIndexPortalElement:uJ}=d4.actions,dJ=d4.reducer;function un(e){var{zIndex:t,children:r}=e,n=GH(),a=n&&t!==void 0&&t!==0,s=Ur(),l=_t();j.useLayoutEffect(()=>a?(l(oJ({zIndex:t})),()=>{l(lJ({zIndex:t}))}):Uo,[l,t,a]);var d=Ne(f=>ZZ(f,t,s));return a?d?bp.createPortal(r,d):null:r}function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(null,arguments)}function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){fJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fJ(e,t,r){return(t=hJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hJ(e){var t=mJ(e,"string");return typeof t=="symbol"?t:t+""}function mJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pJ(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return j.isValidElement(t)?j.cloneElement(t,n):j.createElement(r,n)}function gJ(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:d,cursor:f,tooltipEventType:h,chartName:p}=e,g=r,y=n,b=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var w,S,_;if(p==="ScatterChart")w=g,S=VQ,_=rr.cursorLine;else if(p==="BarChart")w=GQ(d,g,s,l),S=cR,_=rr.cursorRectangle;else if(d==="radial"&&QD(g)){var{cx:N,cy:O,radius:A,startAngle:C,endAngle:D}=dR(g);w={cx:N,cy:O,startAngle:C,endAngle:D,innerRadius:A,outerRadius:A},S=hR,_=rr.cursorLine}else w={points:LV(d,g,s)},S=fj,_=rr.cursorLine;var T=typeof f=="object"&&"className"in f?f.className:void 0,k=am(am(am(am({stroke:"#ccc",pointerEvents:"none"},s),w),Co(f)),{},{payload:y,payloadIndex:b,className:nt("recharts-tooltip-cursor",T)});return j.createElement(un,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},j.createElement(pJ,{cursor:f,cursorComp:S,cursorProps:k}))}function yJ(e){var t=IZ(),r=HM(),n=zo(),a=KZ();return t==null||r==null||n==null||a==null?null:j.createElement(gJ,nw({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var f4=j.createContext(null),vJ=()=>j.useContext(f4),Nb={exports:{}},jP;function bJ(){return jP||(jP=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new a(p,g||f,y),w=r?r+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=r?r+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,b=g.length,w=new Array(b);y<b;y++)w[y]=g[y].fn;return w},d.prototype.listenerCount=function(h){var p=r?r+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,y,b,w){var S=r?r+h:h;if(!this._events[S])return!1;var _=this._events[S],N=arguments.length,O,A;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),N){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,y),!0;case 5:return _.fn.call(_.context,p,g,y,b),!0;case 6:return _.fn.call(_.context,p,g,y,b,w),!0}for(A=1,O=new Array(N-1);A<N;A++)O[A-1]=arguments[A];_.fn.apply(_.context,O)}else{var C=_.length,D;for(A=0;A<C;A++)switch(_[A].once&&this.removeListener(h,_[A].fn,void 0,!0),N){case 1:_[A].fn.call(_[A].context);break;case 2:_[A].fn.call(_[A].context,p);break;case 3:_[A].fn.call(_[A].context,p,g);break;case 4:_[A].fn.call(_[A].context,p,g,y);break;default:if(!O)for(D=1,O=new Array(N-1);D<N;D++)O[D-1]=arguments[D];_[A].fn.apply(_[A].context,O)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,y){var b=r?r+h:h;if(!this._events[b])return this;if(!p)return l(this,b),this;var w=this._events[b];if(w.fn)w.fn===p&&(!y||w.once)&&(!g||w.context===g)&&l(this,b);else{for(var S=0,_=[],N=w.length;S<N;S++)(w[S].fn!==p||y&&!w[S].once||g&&w[S].context!==g)&&_.push(w[S]);_.length?this._events[b]=_.length===1?_[0]:_:l(this,b)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(Nb)),Nb.exports}var xJ=bJ();const wJ=Ta(xJ);var Ad=new wJ,aw="recharts.syncEvent.tooltip",SP="recharts.syncEvent.brush",SS=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Aa(r))return e[r]}},jJ={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},h4=cn({name:"options",initialState:jJ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),SJ=h4.reducer,{createEventEmitter:_J}=h4.actions;function NJ(e){return e.tooltip.syncInteraction}var OJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},m4=cn({name:"chartData",initialState:OJ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:_P,setDataStartEndIndexes:EJ,setComputedData:Qoe}=m4.actions,AJ=m4.reducer,CJ=["x","y"];function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){PJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PJ(e,t,r){return(t=kJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kJ(e){var t=TJ(e,"string");return typeof t=="symbol"?t:t+""}function TJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DJ(e,t){if(e==null)return{};var r,n,a=MJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RJ(){var e=Ne(Uj),t=Ne(zj),r=_t(),n=Ne(lI),a=Ne(Ci),s=zo(),l=eg(),d=Ne(f=>f.rootProps.className);j.useEffect(()=>{if(e==null)return Uo;var f=(h,p,g)=>{if(t!==g&&e===h){if(n==="index"){var y;if(l&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var b=p.payload.coordinate,{x:w,y:S}=b,_=DJ(b,CJ),{x:N,y:O,width:A,height:C}=p.payload.sourceViewBox,D=zl(zl({},_),{},{x:l.x+(A?(w-N)/A:0)*l.width,y:l.y+(C?(S-O)/C:0)*l.height});r(zl(zl({},p),{},{payload:zl(zl({},p.payload),{},{coordinate:D})}))}else r(p);return}if(a!=null){var T;if(typeof n=="function"){var k={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},M=n(a,k);T=a[M]}else n==="value"&&(T=a.find(L=>String(L.value)===p.payload.label));var{coordinate:I}=p.payload;if(T==null||p.payload.active===!1||I==null||l==null){r(tw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:F}=I,K=Math.min(G,l.x+l.width),te=Math.min(F,l.y+l.height),V={x:s==="horizontal"?T.coordinate:K,y:s==="horizontal"?te:T.coordinate},ie=tw({active:p.payload.active,coordinate:V,dataKey:p.payload.dataKey,index:String(T.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});r(ie)}}};return Ad.on(aw,f),()=>{Ad.off(aw,f)}},[d,r,t,e,n,a,s,l])}function IJ(){var e=Ne(Uj),t=Ne(zj),r=_t();j.useEffect(()=>{if(e==null)return Uo;var n=(a,s,l)=>{t!==l&&e===a&&r(EJ(s))};return Ad.on(SP,n),()=>{Ad.off(SP,n)}},[r,t,e])}function LJ(){var e=_t();j.useEffect(()=>{e(_J())},[e]),RJ(),IJ()}function BJ(e,t,r,n,a,s){var l=Ne(b=>HZ(b,e,t)),d=Ne(zj),f=Ne(Uj),h=Ne(lI),p=Ne(NJ),g=p==null?void 0:p.active,y=eg();j.useEffect(()=>{if(!g&&f!=null&&d!=null){var b=tw({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:y,graphicalItemId:void 0});Ad.emit(aw,f,b,d)}},[g,r,l,a,n,d,f,h,s,y])}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){$J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $J(e,t,r){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UJ(e){var t=zJ(e,"string");return typeof t=="symbol"?t:t+""}function zJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qJ(e){return e.dataKey}function KJ(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(OQ,t)}var AP=[],FJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Jl(e){var t,r,n=ar(e,FJ),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:y,position:b,reverseDirection:w,useTranslate3d:S,wrapperStyle:_,cursor:N,shared:O,trigger:A,defaultIndex:C,portal:D,axisId:T}=n,k=_t(),M=typeof C=="number"?String(C):C;j.useEffect(()=>{k($X({shared:O,trigger:A,axisId:T,active:a,defaultIndex:M}))},[k,O,A,T,a,M]);var I=eg(),G=aR(),F=DX(O),{activeIndex:K,isActive:te}=(t=Ne(Ee=>GZ(Ee,F,A,M)))!==null&&t!==void 0?t:{},V=Ne(Ee=>VZ(Ee,F,A,M)),ie=Ne(Ee=>u4(Ee,F,A,M)),L=Ne(Ee=>QZ(Ee,F,A,M)),z=V,ee=vJ(),ne=(r=a??te)!==null&&r!==void 0?r:!1,[me,R]=sM([z,ne]),Q=F==="axis"?ie:void 0;BJ(F,A,L,Q,K,ne);var pe=D??ee;if(pe==null||I==null||F==null)return null;var le=z??AP;ne||(le=AP),h&&le.length&&(le=tM(le.filter(Ee=>Ee.value!=null&&(Ee.hide!==!0||n.includeHidden)),y,qJ));var ve=le.length>0,Oe=j.createElement(DQ,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:p,active:ne,coordinate:L,hasPayload:ve,offset:g,position:b,reverseDirection:w,useTranslate3d:S,viewBox:I,wrapperStyle:_,lastBoundingBox:me,innerRef:R,hasPortalFromProps:!!D},KJ(f,EP(EP({},n),{},{payload:le,label:Q,active:ne,activeIndex:K,coordinate:L,accessibilityLayer:G})));return j.createElement(j.Fragment,null,bp.createPortal(Oe,pe),ne&&j.createElement(yJ,{cursor:N,tooltipEventType:F,coordinate:L,payload:le,index:K}))}var Fo=e=>null;Fo.displayName="Cell";function HJ(e,t,r){return(t=QJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QJ(e){var t=VJ(e,"string");return typeof t=="symbol"?t:t+""}function VJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class GJ{constructor(t){HJ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){WJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WJ(e,t,r){return(t=XJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XJ(e){var t=ZJ(e,"string");return typeof t=="symbol"?t:t+""}function ZJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JJ={cacheSize:2e3,enableCache:!0},p4=YJ({},JJ),PP=new GJ(p4.cacheSize),eee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kP="recharts_measurement_span";function tee(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(d)}var TP=(e,t)=>{try{var r=document.getElementById(kP);r||(r=document.createElement("span"),r.setAttribute("id",kP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,eee,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},nd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ig.isSsr)return{width:0,height:0};if(!p4.enableCache)return TP(t,r);var n=tee(t,r),a=PP.get(n);if(a)return a;var s=TP(t,r);return PP.set(n,s),s},g4;function ree(e,t,r){return(t=nee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nee(e){var t=aee(e,"string");return typeof t=="symbol"?t:t+""}function aee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,see=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lee=["cm","mm","pt","pc","in","Q","px"];function cee(e){return lee.includes(e)}var Gl="NaN";function uee(e,t){return e*oee[t]}class Dr{static parse(t){var r,[,n,a]=(r=see.exec(t))!==null&&r!==void 0?r:[];return n==null?Dr.NaN:new Dr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Aa(t)&&(this.unit=""),r!==""&&!iee.test(r)&&(this.num=NaN,this.unit=""),cee(r)&&(this.num=uee(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Aa(this.num)}}g4=Dr;ree(Dr,"NaN",new g4(NaN,""));function y4(e){if(e==null||e.includes(Gl))return Gl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=DP.exec(t))!==null&&r!==void 0?r:[],l=Dr.parse(n??""),d=Dr.parse(s??""),f=a==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return Gl;t=t.replace(DP,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,g,y]=(h=MP.exec(t))!==null&&h!==void 0?h:[],b=Dr.parse(p??""),w=Dr.parse(y??""),S=g==="+"?b.add(w):b.subtract(w);if(S.isNaN())return Gl;t=t.replace(MP,S.toString())}return t}var RP=/\(([^()]*)\)/;function dee(e){for(var t=e,r;(r=RP.exec(t))!=null;){var[,n]=r;t=t.replace(RP,y4(n))}return t}function fee(e){var t=e.replace(/\s+/g,"");return t=dee(t),t=y4(t),t}function hee(e){try{return fee(e)}catch{return Gl}}function Ob(e){var t=hee(e.slice(5,-1));return t===Gl?"":t}var mee=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],pee=["dx","dy","angle","className","breakAll"];function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iw.apply(null,arguments)}function IP(e,t){if(e==null)return{};var r,n,a=gee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var v4=/[ \f\n\r\t\v\u2028\u2029]+/,b4=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Rt(t)||(r?a=t.toString().split(""):a=t.toString().split(v4));var s=a.map(d=>({word:d,width:nd(d,n).width})),l=r?0:nd("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function yee(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var x4=(e,t,r,n)=>e.reduce((a,s)=>{var{word:l,width:d}=s,f=a[a.length-1];if(f&&d!=null&&(t==null||n||f.width+d+r<Number(t)))f.words.push(l),f.width+=d+r;else{var h={words:[l],width:d};a.push(h)}return a},[]),w4=e=>e.reduce((t,r)=>t.width>r.width?t:r),vee="",LP=(e,t,r,n,a,s,l,d)=>{var f=e.slice(0,t),h=b4({breakAll:r,style:n,children:f+vee});if(!h)return[!1,[]];var p=x4(h.wordsWithComputedWidth,s,l,d),g=p.length>a||w4(p).width>Number(s);return[g,p]},bee=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:d,breakAll:f}=e,h=je(s),p=String(l),g=x4(t,n,r,a);if(!h||a)return g;var y=g.length>s||w4(g).width>Number(n);if(!y)return g;for(var b=0,w=p.length-1,S=0,_;b<=w&&S<=p.length-1;){var N=Math.floor((b+w)/2),O=N-1,[A,C]=LP(p,O,f,d,s,n,r,a),[D]=LP(p,N,f,d,s,n,r,a);if(!A&&!D&&(b=N+1),A&&D&&(w=N-1),!A&&D){_=C;break}S++}return _||g},BP=e=>{var t=Rt(e)?[]:e.toString().split(v4);return[{words:t,width:void 0}]},xee=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!ig.isSsr){var d,f,h=b4({breakAll:s,children:n,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return BP(n);return bee({breakAll:s,children:n,maxLines:l,style:a},d,f,t,!!r)}return BP(n)},j4="#808080",wee={angle:0,breakAll:!1,capHeight:"0.71em",fill:j4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ng=j.forwardRef((e,t)=>{var r=ar(e,wee),{x:n,y:a,lineHeight:s,capHeight:l,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=r,g=IP(r,mee),y=j.useMemo(()=>xee({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:b,dy:w,angle:S,className:_,breakAll:N}=g,O=IP(g,pee);if(!Ca(n)||!Ca(a)||y.length===0)return null;var A=Number(n)+(je(b)?b:0),C=Number(a)+(je(w)?w:0);if(!Ze(A)||!Ze(C))return null;var D;switch(p){case"start":D=Ob("calc(".concat(l,")"));break;case"middle":D=Ob("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:D=Ob("calc(".concat(y.length-1," * -").concat(s,")"));break}var T=[],k=y[0];if(f&&k!=null){var M=k.width,{width:I}=g;T.push("scale(".concat(je(I)&&je(M)?I/M:1,")"))}return S&&T.push("rotate(".concat(S,", ").concat(A,", ").concat(C,")")),T.length&&(O.transform=T.join(" ")),j.createElement("text",iw({},Qr(O),{ref:t,x:A,y:C,className:nt("recharts-text",_),textAnchor:h,fill:d.includes("url")?j4:d}),y.map((G,F)=>{var K=G.words.join(N?"":" ");return j.createElement("tspan",{x:A,dy:F===0?D:s,key:"".concat(K,"-").concat(F)},K)}))});Ng.displayName="Text";function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){jee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jee(e,t,r){return(t=See(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function See(e){var t=_ee(e,"string");return typeof t=="symbol"?t:t+""}function _ee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nee=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:s,y:l,height:d,upperWidth:f,lowerWidth:h}=oj(t),p=s,g=s+(f-h)/2,y=(p+g)/2,b=(f+h)/2,w=p+f/2,S=d>=0?1:-1,_=S*n,N=S>0?"end":"start",O=S>0?"start":"end",A=f>=0?1:-1,C=A*n,D=A>0?"end":"start",T=A>0?"start":"end",k=a;if(r==="top"){var M={x:p+f/2,y:l-_,horizontalAnchor:"middle",verticalAnchor:N};return k&&(M.height=Math.max(l-k.y,0),M.width=f),M}if(r==="bottom"){var I={x:g+h/2,y:l+d+_,horizontalAnchor:"middle",verticalAnchor:O};return k&&(I.height=Math.max(k.y+k.height-(l+d),0),I.width=h),I}if(r==="left"){var G={x:y-C,y:l+d/2,horizontalAnchor:D,verticalAnchor:"middle"};return k&&(G.width=Math.max(G.x-k.x,0),G.height=d),G}if(r==="right"){var F={x:y+b+C,y:l+d/2,horizontalAnchor:T,verticalAnchor:"middle"};return k&&(F.width=Math.max(k.x+k.width-F.x,0),F.height=d),F}var K=k?{width:b,height:d}:{};return r==="insideLeft"?ba({x:y+C,y:l+d/2,horizontalAnchor:T,verticalAnchor:"middle"},K):r==="insideRight"?ba({x:y+b-C,y:l+d/2,horizontalAnchor:D,verticalAnchor:"middle"},K):r==="insideTop"?ba({x:p+f/2,y:l+_,horizontalAnchor:"middle",verticalAnchor:O},K):r==="insideBottom"?ba({x:g+h/2,y:l+d-_,horizontalAnchor:"middle",verticalAnchor:N},K):r==="insideTopLeft"?ba({x:p+C,y:l+_,horizontalAnchor:T,verticalAnchor:O},K):r==="insideTopRight"?ba({x:p+f-C,y:l+_,horizontalAnchor:D,verticalAnchor:O},K):r==="insideBottomLeft"?ba({x:g+C,y:l+d-_,horizontalAnchor:T,verticalAnchor:N},K):r==="insideBottomRight"?ba({x:g+h-C,y:l+d-_,horizontalAnchor:D,verticalAnchor:N},K):r&&typeof r=="object"&&(je(r.x)||To(r.x))&&(je(r.y)||To(r.y))?ba({x:s+$r(r.x,b),y:l+$r(r.y,d),horizontalAnchor:"end",verticalAnchor:"end"},K):ba({x:w,y:l+d/2,horizontalAnchor:"middle",verticalAnchor:"middle"},K)},Oee=["labelRef"],Eee=["content"];function UP(e,t){if(e==null)return{};var r,n,a=Aee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Aee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){Cee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cee(e,t,r){return(t=Pee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pee(e){var t=kee(e,"string");return typeof t=="symbol"?t:t+""}function kee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ai.apply(null,arguments)}var S4=j.createContext(null),Tee=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l,children:d}=e,f=j.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l}),[t,r,n,a,s,l]);return j.createElement(S4.Provider,{value:f},d)},_4=()=>{var e=j.useContext(S4),t=eg();return e||(t?oj(t):void 0)},Dee=j.createContext(null),Mee=()=>{var e=j.useContext(Dee),t=Ne(hI);return e||t},Ree=e=>{var{value:t,formatter:r}=e,n=Rt(e.children)?t:e.children;return typeof r=="function"?r(n):n},_S=e=>e!=null&&typeof e=="function",Iee=(e,t)=>{var r=wr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Lee=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:y,clockWise:b}=a,w=(h+p)/2,S=Iee(g,y),_=S>=0?1:-1,N,O;switch(t){case"insideStart":N=g+_*s,O=b;break;case"insideEnd":N=y-_*s,O=!b;break;case"end":N=y+_*s,O=b;break;default:throw new Error("Unsupported position ".concat(t))}O=S<=0?O:!O;var A=tr(d,f,w,N),C=tr(d,f,w,N+(O?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),T=Rt(e.id)?pd("recharts-radial-line-"):e.id;return j.createElement("text",ai({},n,{dominantBaseline:"central",className:nt("recharts-radial-bar-label",l)}),j.createElement("defs",null,j.createElement("path",{id:T,d:D})),j.createElement("textPath",{xlinkHref:"#".concat(T)},r))},Bee=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:d,endAngle:f}=e,h=(d+f)/2;if(r==="outside"){var{x:p,y:g}=tr(n,a,l+t,h);return{x:p,y:g,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(s+l)/2,{x:b,y:w}=tr(n,a,y,h);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},mm=e=>e!=null&&"cx"in e&&je(e.cx),$ee={angle:0,offset:5,zIndex:rr.label,position:"middle",textBreakAll:!1};function Uee(e){if(!mm(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function is(e){var t=ar(e,$ee),{viewBox:r,parentViewBox:n,position:a,value:s,children:l,content:d,className:f="",textBreakAll:h,labelRef:p}=t,g=Mee(),y=_4(),b=a==="center"?y:g??y,w,S,_;r==null?w=b:mm(r)?w=r:w=oj(r);var N=Uee(w);if(!w||Rt(s)&&Rt(l)&&!j.isValidElement(d)&&typeof d!="function")return null;var O=ed(ed({},t),{},{viewBox:w});if(j.isValidElement(d)){var{labelRef:A}=O,C=UP(O,Oee);return j.cloneElement(d,C)}if(typeof d=="function"){var{content:D}=O,T=UP(O,Eee);if(S=j.createElement(d,T),j.isValidElement(S))return S}else S=Ree(t);var k=Qr(t);if(mm(w)){if(a==="insideStart"||a==="insideEnd"||a==="end")return Lee(t,a,S,k,w);_=Bee(w,t.offset,t.position)}else{if(!N)return null;var M=Nee({viewBox:N,position:a,offset:t.offset,parentViewBox:mm(n)?void 0:n});_=ed(ed({x:M.x,y:M.y,textAnchor:M.horizontalAnchor,verticalAnchor:M.verticalAnchor},M.width!==void 0?{width:M.width}:{}),M.height!==void 0?{height:M.height}:{})}return j.createElement(un,{zIndex:t.zIndex},j.createElement(Ng,ai({ref:p,className:nt("recharts-label",f)},k,_,{textAnchor:yee(k.textAnchor)?k.textAnchor:_.textAnchor,breakAll:h}),S))}is.displayName="Label";var zee=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?j.createElement(is,ai({key:"label-implicit"},n)):Ca(e)?j.createElement(is,ai({key:"label-implicit",value:e},n)):j.isValidElement(e)?e.type===is?j.cloneElement(e,ed({key:"label-implicit"},n)):j.createElement(is,ai({key:"label-implicit",content:e},n)):_S(e)?j.createElement(is,ai({key:"label-implicit",content:e},n)):e&&typeof e=="object"?j.createElement(is,ai({},e,{key:"label-implicit"},n)):null};function qee(e){var{label:t,labelRef:r}=e,n=_4();return zee(t,n,r)||null}var Eb={},Ab={},qP;function Kee(){return qP||(qP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Ab)),Ab}var Cb={},KP;function Fee(){return KP||(KP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Cb)),Cb}var FP;function Hee(){return FP||(FP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kee(),r=Fee(),n=Ww();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(Eb)),Eb}var Pb,HP;function Qee(){return HP||(HP=1,Pb=Hee().last),Pb}var Vee=Qee();const Gee=Ta(Vee);var Yee=["valueAccessor"],Wee=["dataKey","clockWise","id","textBreakAll","zIndex"];function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(null,arguments)}function QP(e,t){if(e==null)return{};var r,n,a=Xee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zee=e=>Array.isArray(e.value)?Gee(e.value):e.value,N4=j.createContext(void 0),O4=N4.Provider,E4=j.createContext(void 0),Jee=E4.Provider;function ete(){return j.useContext(N4)}function tte(){return j.useContext(E4)}function pm(e){var{valueAccessor:t=Zee}=e,r=QP(e,Yee),{dataKey:n,clockWise:a,id:s,textBreakAll:l,zIndex:d}=r,f=QP(r,Wee),h=ete(),p=tte(),g=h||p;return!g||!g.length?null:j.createElement(un,{zIndex:d??rr.label},j.createElement(jr,{className:"recharts-label-list"},g.map((y,b)=>{var w,S=Rt(n)?t(y,b):bt(y.payload,n),_=Rt(s)?{}:{id:"".concat(s,"-").concat(b)};return j.createElement(is,lp({key:"label-".concat(b)},Qr(y),f,_,{fill:(w=r.fill)!==null&&w!==void 0?w:y.fill,parentViewBox:y.parentViewBox,value:S,textBreakAll:l,viewBox:y.viewBox,index:b,zIndex:0}))})))}pm.displayName="LabelList";function NS(e){var{label:t}=e;return t?t===!0?j.createElement(pm,{key:"labelList-implicit"}):j.isValidElement(t)||_S(t)?j.createElement(pm,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(pm,lp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(null,arguments)}var A4=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=nt("recharts-dot",a);return je(t)&&je(r)&&je(n)?j.createElement("circle",sw({},Nn(e),Yw(e),{className:s,cx:t,cy:r,r:n})):null},C4=e=>e.graphicalItems.polarItems,rte=Y([Lt,uf],Vj),Og=Y([C4,Qt,rte],Gj),nte=Y([Og],Yj),Eg=Y([nte,fg],Wj),ate=Y([Eg,Qt,Og],Zj);Y([Eg,Qt,Og],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,l=bt(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:bt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var VP=()=>{},ite=Y([Eg,Qt,Og,wg,Lt],rS),ste=Y([Qt,eS,tS,VP,ite,VP,it,Lt],nS),P4=Y([Qt,it,Eg,ate,cf,Lt,ste],aS),ote=Y([P4,Rc,Ts],oS),lte=Y([Qt,P4,ote,Lt],cS);Y([Ts,lte],pI);var cte={radiusAxis:{},angleAxis:{}},k4=cn({name:"polarAxis",initialState:cte,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Voe,removeRadiusAxis:Goe,addAngleAxis:Yoe,removeAngleAxis:Woe}=k4.actions,ute=k4.reducer;function T4(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(n){dte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dte(e,t,r){return(t=fte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mte=(e,t)=>t,OS=Y([C4,mte],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),pte=[],ES=(e,t,r)=>(r==null?void 0:r.length)===0?pte:r,D4=Y([fg,OS,ES],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>YP(YP({},t.presentationProps),s.props))),a!=null)return a}}),gte=Y([D4,OS,ES],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,l=bt(n,t.nameKey,t.name),d;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?d=n.fill:d=t.fill,{value:Pc(l,t.dataKey),color:d,payload:n,type:t.legendType}})}),yte=Y([D4,OS,ES,dr],(e,t,r,n)=>{if(!(t==null||e==null))return vre({offset:n,pieSettings:t,displayedData:e,cells:r})}),kb={exports:{}},vt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WP;function vte(){if(WP)return vt;WP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(S){if(typeof S=="object"&&S!==null){var _=S.$$typeof;switch(_){case e:switch(S=S.type,S){case r:case a:case n:case f:case h:case y:return S;default:switch(S=S&&S.$$typeof,S){case l:case d:case g:case p:return S;case s:return S;default:return _}}case t:return _}}}return vt.ContextConsumer=s,vt.ContextProvider=l,vt.Element=e,vt.ForwardRef=d,vt.Fragment=r,vt.Lazy=g,vt.Memo=p,vt.Portal=t,vt.Profiler=a,vt.StrictMode=n,vt.Suspense=f,vt.SuspenseList=h,vt.isContextConsumer=function(S){return w(S)===s},vt.isContextProvider=function(S){return w(S)===l},vt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},vt.isForwardRef=function(S){return w(S)===d},vt.isFragment=function(S){return w(S)===r},vt.isLazy=function(S){return w(S)===g},vt.isMemo=function(S){return w(S)===p},vt.isPortal=function(S){return w(S)===t},vt.isProfiler=function(S){return w(S)===a},vt.isStrictMode=function(S){return w(S)===n},vt.isSuspense=function(S){return w(S)===f},vt.isSuspenseList=function(S){return w(S)===h},vt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===r||S===a||S===n||S===f||S===h||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===l||S.$$typeof===s||S.$$typeof===d||S.$$typeof===b||S.getModuleId!==void 0)},vt.typeOf=w,vt}var XP;function bte(){return XP||(XP=1,kb.exports=vte()),kb.exports}var xte=bte(),ZP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",JP=null,Tb=null,M4=e=>{if(e===JP&&Array.isArray(Tb))return Tb;var t=[];return j.Children.forEach(e,r=>{Rt(r)||(xte.isFragment(r)?t=t.concat(M4(r.props.children)):t.push(r))}),Tb=t,JP=e,t};function AS(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>ZP(a)):n=[ZP(t)],M4(e).forEach(a=>{var s=ko(a,"type.displayName")||ko(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var R4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Db={},ek;function wte(){return ek||(ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Db)),Db}var Mb,tk;function jte(){return tk||(tk=1,Mb=wte().isPlainObject),Mb}var Ste=jte();const _te=Ta(Ste);var rk,nk,ak,ik,sk;function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(n){Nte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nte(e,t,r){return(t=Ote(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ote(e){var t=Ete(e,"string");return typeof t=="symbol"?t:t+""}function Ete(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(null,arguments)}function Yu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ck=(e,t,r,n,a)=>{var s=r-n,l;return l=Kt(rk||(rk=Yu(["M ",",",""])),e,t),l+=Kt(nk||(nk=Yu(["L ",",",""])),e+r,t),l+=Kt(ak||(ak=Yu(["L ",",",""])),e+r-s/2,t+a),l+=Kt(ik||(ik=Yu(["L ",",",""])),e+r-s/2-n,t+a),l+=Kt(sk||(sk=Yu(["L ",","," Z"])),e,t),l},Ate={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cte=e=>{var t=ar(e,Ate),{x:r,y:n,upperWidth:a,lowerWidth:s,height:l,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t,y=j.useRef(null),[b,w]=j.useState(-1),S=j.useRef(a),_=j.useRef(s),N=j.useRef(l),O=j.useRef(r),A=j.useRef(n),C=nf(e,"trapezoid-");if(j.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var V=y.current.getTotalLength();V&&w(V)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var D=nt("recharts-trapezoid",d);if(!g)return j.createElement("g",null,j.createElement("path",cp({},Qr(t),{className:D,d:ck(r,n,a,s,l)})));var T=S.current,k=_.current,M=N.current,I=O.current,G=A.current,F="0px ".concat(b===-1?1:b,"px"),K="".concat(b,"px 0px"),te=iR(["strokeDasharray"],h,f);return j.createElement(rf,{animationId:C,key:C,canBegin:b>0,duration:h,easing:f,isActive:g,begin:p},V=>{var ie=Tt(T,a,V),L=Tt(k,s,V),z=Tt(M,l,V),ee=Tt(I,r,V),ne=Tt(G,n,V);y.current&&(S.current=ie,_.current=L,N.current=z,O.current=ee,A.current=ne);var me=V>0?{transition:te,strokeDasharray:K}:{strokeDasharray:F};return j.createElement("path",cp({},Qr(t),{className:D,d:ck(ee,ne,ie,L,z),ref:y,style:lk(lk({},me),t.style)}))})},Pte=["option","shapeType","activeClassName"];function kte(e,t){if(e==null)return{};var r,n,a=Tte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function up(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(n){Dte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dte(e,t,r){return(t=Mte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mte(e){var t=Rte(e,"string");return typeof t=="symbol"?t:t+""}function Rte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ite(e,t){return up(up({},t),e)}function Lte(e,t){return e==="symbols"}function dk(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(cR,r);case"trapezoid":return j.createElement(Cte,r);case"sector":return j.createElement(hR,r);case"symbols":if(Lte(t))return j.createElement(Gw,r);break;case"curve":return j.createElement(fj,r);default:return null}}function Bte(e){return j.isValidElement(e)?e.props:e}function CS(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=kte(e,Pte),s;if(j.isValidElement(t))s=j.cloneElement(t,up(up({},a),Bte(t)));else if(typeof t=="function")s=t(a,a.index);else if(_te(t)&&typeof t!="boolean"){var l=Ite(t,a);s=j.createElement(dk,{shapeType:r,elementProps:l})}else{var d=a;s=j.createElement(dk,{shapeType:r,elementProps:d})}return a.isActive?j.createElement(jr,{className:n},s):s}var PS=(e,t,r)=>{var n=_t();return(a,s)=>l=>{e==null||e(a,s,l),n(HI({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},kS=e=>{var t=_t();return(r,n)=>a=>{e==null||e(r,n,a),t(UX())}},TS=(e,t,r)=>{var n=_t();return(a,s)=>l=>{e==null||e(a,s,l),n(zX({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function DS(e){var{tooltipEntrySettings:t}=e,r=_t(),n=Ur(),a=j.useRef(null);return j.useLayoutEffect(()=>{n||(a.current===null?r(IX(t)):a.current!==t&&r(LX({prev:a.current,next:t})),a.current=t)},[t,r,n]),j.useLayoutEffect(()=>()=>{a.current&&(r(BX(a.current)),a.current=null)},[r]),null}function I4(e){var{legendPayload:t}=e,r=_t(),n=Ur(),a=j.useRef(null);return j.useLayoutEffect(()=>{n||(a.current===null?r(tR(t)):a.current!==t&&r(rR({prev:a.current,next:t})),a.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{a.current&&(r(nR(a.current)),a.current=null)},[r]),null}function $te(e){var{legendPayload:t}=e,r=_t(),n=Ne(it),a=j.useRef(null);return j.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(tR(t)):a.current!==t&&r(rR({prev:a.current,next:t})),a.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{a.current&&(r(nR(a.current)),a.current=null)},[r]),null}var Rb,Ute=()=>{var[e]=j.useState(()=>pd("uid-"));return e},zte=(Rb=X3.useId)!==null&&Rb!==void 0?Rb:Ute;function qte(e,t){var r=zte();return t||(e?"".concat(e,"-").concat(r):r)}var Kte=j.createContext(void 0),MS=e=>{var{id:t,type:r,children:n}=e,a=qte("recharts-".concat(r),t);return j.createElement(Kte.Provider,{value:a},n(a))},Fte={cartesianItems:[],polarItems:[]},L4=cn({name:"graphicalItems",initialState:Fte,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:kt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ca(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:kt()},removeCartesianGraphicalItem:{reducer(e,t){var r=ca(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:kt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:kt()},removePolarGraphicalItem:{reducer(e,t){var r=ca(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:kt()}}}),{addCartesianGraphicalItem:Hte,replaceCartesianGraphicalItem:Qte,removeCartesianGraphicalItem:Vte,addPolarGraphicalItem:Gte,removePolarGraphicalItem:Yte}=L4.actions,Wte=L4.reducer,Xte=e=>{var t=_t(),r=j.useRef(null);return j.useLayoutEffect(()=>{r.current===null?t(Hte(e)):r.current!==e&&t(Qte({prev:r.current,next:e})),r.current=e},[t,e]),j.useLayoutEffect(()=>()=>{r.current&&(t(Vte(r.current)),r.current=null)},[t]),null},B4=j.memo(Xte);function Zte(e){var t=_t();return j.useLayoutEffect(()=>(t(Gte(e)),()=>{t(Yte(e))}),[t,e]),null}var Jte=["key"],ere=["onMouseEnter","onClick","onMouseLeave"],tre=["id"],rre=["id"];function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){nre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nre(e,t,r){return(t=are(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function are(e){var t=ire(e,"string");return typeof t=="symbol"?t:t+""}function ire(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ns.apply(null,arguments)}function Ag(e,t){if(e==null)return{};var r,n,a=sre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ore(e){var t=j.useMemo(()=>AS(e.children,Fo),[e.children]),r=Ne(n=>gte(n,e.id,t));return r==null?null:j.createElement($te,{legendPayload:r})}var lre=j.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:l,name:d,hide:f,tooltipType:h,id:p}=e,g={dataDefinedOnItem:n.map(y=>y.tooltipPayload),getPosition:y=>{var b;return(b=n[Number(y)])===null||b===void 0?void 0:b.tooltipPosition},settings:{stroke:a,strokeWidth:s,fill:l,dataKey:t,nameKey:r,name:Pc(d,t),hide:f,type:h,color:l,unit:"",graphicalItemId:p}};return j.createElement(DS,{tooltipEntrySettings:g})}),cre=(e,t)=>e>t?"start":e<t?"end":"middle",ure=(e,t,r)=>$r(typeof t=="function"?t(e):t,r,r*.8),dre=(e,t,r)=>{var{top:n,left:a,width:s,height:l}=t,d=uR(s,l),f=a+$r(e.cx,s,s/2),h=n+$r(e.cy,l,l/2),p=$r(e.innerRadius,d,0),g=ure(r,e.outerRadius,d),y=e.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:y}},fre=(e,t)=>{var r=wr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},hre=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=nt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Ag(t,Jte);return j.createElement(fj,Ns({},a,{type:"linear",className:r}))},mre=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var a=nt("recharts-pie-label-text",T4(e));return j.createElement(Ng,Ns({},t,{alignmentBaseline:"middle",className:a}),n)};function pre(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:l}=r;if(!n||!a||!t)return null;var d=Nn(r),f=Co(a),h=Co(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=t.map((y,b)=>{var w=(y.startAngle+y.endAngle)/2,S=tr(y.cx,y.cy,y.outerRadius+p,w),_=Ft(Ft(Ft(Ft({},d),y),{},{stroke:"none"},f),{},{index:b,textAnchor:cre(S.x,y.cx)},S),N=Ft(Ft(Ft(Ft({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[tr(y.cx,y.cy,y.outerRadius,w),S],key:"line"});return j.createElement(un,{zIndex:rr.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},j.createElement(jr,null,s&&hre(s,N),mre(a,_,bt(y,l))))});return j.createElement(jr,{className:"recharts-pie-labels"},g)}function gre(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?j.createElement(NS,{label:a}):j.createElement(pre,{sectors:t,props:r,showLabels:n})}function yre(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:l}=e,d=Ne(_s),f=Ne(vS),h=Ne(OZ),{onMouseEnter:p,onClick:g,onMouseLeave:y}=a,b=Ag(a,ere),w=PS(p,a.dataKey,l),S=kS(y),_=TS(g,a.dataKey,l);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((N,O)=>{if((N==null?void 0:N.startAngle)===0&&(N==null?void 0:N.endAngle)===0&&t.length!==1)return null;var A=h==null||h===l,C=String(O)===d&&(f==null||a.dataKey===f)&&A,D=d?n:null,T=r&&C?r:D,k=Ft(Ft({},N),{},{stroke:N.stroke,tabIndex:-1,[UM]:O,[zM]:l});return j.createElement(jr,Ns({key:"sector-".concat(N==null?void 0:N.startAngle,"-").concat(N==null?void 0:N.endAngle,"-").concat(N.midAngle,"-").concat(O),tabIndex:-1,className:"recharts-pie-sector"},Wd(b,N,O),{onMouseEnter:w(N,O),onMouseLeave:S(N,O),onClick:_(N,O)}),j.createElement(CS,Ns({option:s??T,index:O,shapeType:"sector",isActive:C},k)))}))}function vre(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:l,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=r,y=Math.abs(r.minAngle),b=fre(d,f),w=Math.abs(b),S=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,_=n.filter(T=>bt(T,h,0)!==0).length,N=(w>=360?_:_-1)*S,O=w-_*y-N,A=n.reduce((T,k)=>{var M=bt(k,h,0);return T+(je(M)?M:0)},0),C;if(A>0){var D;C=n.map((T,k)=>{var M=bt(T,h,0),I=bt(T,p,k),G=dre(r,s,T),F=(je(M)?M:0)/A,K,te=Ft(Ft({},T),a&&a[k]&&a[k].props);k?K=D.endAngle+wr(b)*S*(M!==0?1:0):K=d;var V=K+wr(b)*((M!==0?y:0)+F*O),ie=(K+V)/2,L=(G.innerRadius+G.outerRadius)/2,z=[{name:I,value:M,payload:te,dataKey:h,type:g,graphicalItemId:r.id}],ee=tr(G.cx,G.cy,L,ie);return D=Ft(Ft(Ft(Ft({},r.presentationProps),{},{percent:F,cornerRadius:typeof l=="string"?parseFloat(l):l,name:I,tooltipPayload:z,midAngle:ie,middleRadius:L,tooltipPosition:ee},te),G),{},{value:M,dataKey:h,startAngle:K,endAngle:V,payload:te,paddingAngle:wr(b)*S}),D})}return C}function bre(e){var{showLabels:t,sectors:r,children:n}=e,a=j.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return j.createElement(Jee,{value:t?a:void 0},n)}function xre(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,activeShape:h,inactiveShape:p,onAnimationStart:g,onAnimationEnd:y}=t,b=nf(t,"recharts-pie-"),w=r.current,[S,_]=j.useState(!1),N=j.useCallback(()=>{typeof y=="function"&&y(),_(!1)},[y]),O=j.useCallback(()=>{typeof g=="function"&&g(),_(!0)},[g]);return j.createElement(bre,{showLabels:!S,sectors:a},j.createElement(rf,{animationId:b,begin:l,duration:d,isActive:s,easing:f,onAnimationStart:O,onAnimationEnd:N,key:b},A=>{var C,D=[],T=a&&a[0],k=(C=T==null?void 0:T.startAngle)!==null&&C!==void 0?C:0;return a==null||a.forEach((M,I)=>{var G=w&&w[I],F=I>0?ko(M,"paddingAngle",0):0;if(G){var K=Tt(G.endAngle-G.startAngle,M.endAngle-M.startAngle,A),te=Ft(Ft({},M),{},{startAngle:k+F,endAngle:k+K+F});D.push(te),k=te.endAngle}else{var{endAngle:V,startAngle:ie}=M,L=Tt(0,V-ie,A),z=Ft(Ft({},M),{},{startAngle:k+F,endAngle:k+L+F});D.push(z),k=z.endAngle}}),r.current=D,j.createElement(jr,null,j.createElement(yre,{sectors:D,activeShape:h,inactiveShape:p,allOtherPieProps:t,shape:t.shape,id:n}))}),j.createElement(gre,{showLabels:!S,sectors:a,props:t}),t.children)}var wre={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:rr.area};function jre(e){var{id:t}=e,r=Ag(e,tre),{hide:n,className:a,rootTabIndex:s}=e,l=j.useMemo(()=>AS(e.children,Fo),[e.children]),d=Ne(p=>yte(p,t,l)),f=j.useRef(null),h=nt("recharts-pie",a);return n||d==null?(f.current=null,j.createElement(jr,{tabIndex:s,className:h})):j.createElement(un,{zIndex:e.zIndex},j.createElement(lre,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement(jr,{tabIndex:s,className:h},j.createElement(xre,{props:Ft(Ft({},r),{},{sectors:d}),previousSectorsRef:f,id:t})))}function RS(e){var t=ar(e,wre),{id:r}=t,n=Ag(t,rre),a=Nn(n);return j.createElement(MS,{id:r,type:"pie"},s=>j.createElement(j.Fragment,null,j.createElement(Zte,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),j.createElement(ore,Ns({},n,{id:s})),j.createElement(jre,Ns({},n,{id:s}))))}RS.displayName="Pie";var Sre=["points"];function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ib(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(n){_re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _re(e,t,r){return(t=Nre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nre(e){var t=Ore(e,"string");return typeof t=="symbol"?t:t+""}function Ore(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(null,arguments)}function Ere(e,t){if(e==null)return{};var r,n,a=Are(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Are(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cre(e){var{option:t,dotProps:r,className:n}=e;if(j.isValidElement(t))return j.cloneElement(t,r);if(typeof t=="function")return t(r);var a=nt(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,d=Ere(s,Sre);return j.createElement(A4,dp({},d,{className:a}))}function Pre(e,t){return e==null?!1:t?!0:e.length===1}function kre(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:l,needClip:d,clipPathId:f,zIndex:h=rr.scatter}=e;if(!Pre(t,r))return null;var p=R4(r),g=H9(r),y=t.map((w,S)=>{var _,N,O=Ib(Ib(Ib({r:3},l),g),{},{index:S,cx:(_=w.x)!==null&&_!==void 0?_:void 0,cy:(N=w.y)!==null&&N!==void 0?N:void 0,dataKey:s,value:w.value,payload:w.payload,points:t});return j.createElement(Cre,{key:"dot-".concat(S),option:r,dotProps:O,className:a})}),b={};return d&&f!=null&&(b.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),j.createElement(un,{zIndex:h},j.createElement(jr,dp({className:n},b),y))}function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(n){Tre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tre(e,t,r){return(t=Dre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dre(e){var t=Mre(e,"string");return typeof t=="symbol"?t:t+""}function Mre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $4=0,Rre={xAxis:{},yAxis:{},zAxis:{}},U4=cn({name:"cartesianAxis",initialState:Rre,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:kt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:kt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:kt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:kt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:kt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:kt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:kt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:kt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:kt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s,l=a.widthHistory||[];if(l.length===3&&l[0]===l[2]&&n===l[1]&&n!==a.width&&Math.abs(n-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var d=[...l,n].slice(-3);e.yAxis[r]=pk(pk({},a),{},{width:n,widthHistory:d})}}}}),{addXAxis:Ire,replaceXAxis:Lre,removeXAxis:Bre,addYAxis:$re,replaceYAxis:Ure,removeYAxis:zre,addZAxis:Xoe,replaceZAxis:Zoe,removeZAxis:Joe,updateYAxisWidth:qre}=U4.actions,Kre=U4.reducer,Fre=Y([dr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Hre=Y([Fre,Si,_i],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),IS=()=>Ne(Hre),Qre=()=>Ne(kZ);function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(n){Vre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vre(e,t,r){return(t=Gre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gre(e){var t=Yre(e,"string");return typeof t=="symbol"?t:t+""}function Yre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wre=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var d={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=Lb(Lb(Lb({},d),Co(a)),Yw(a)),h;return j.isValidElement(a)?h=j.cloneElement(a,f):typeof a=="function"?h=a(f):h=j.createElement(A4,f),j.createElement(jr,{className:"recharts-active-dot",clipPath:l},h)};function Xre(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:l=rr.activeDot}=e,d=Ne(_s),f=Qre();if(t==null||f==null)return null;var h=t.find(p=>f.includes(p.payload));return Rt(h)?null:j.createElement(un,{zIndex:l},j.createElement(Wre,{point:h,childIndex:Number(d),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var yk=(e,t,r)=>{var n=r??e;if(!Rt(n))return $r(n,t,0)},Zre=(e,t,r)=>{var n={},a=e.filter(gg),s=e.filter(h=>h.stackId==null),l=a.reduce((h,p)=>{var g=h[p.stackId];return g==null&&(g=[]),g.push(p),h[p.stackId]=g,h},n),d=Object.entries(l).map(h=>{var p,[g,y]=h,b=y.map(S=>S.dataKey),w=yk(t,r,(p=y[0])===null||p===void 0?void 0:p.barSize);return{stackId:g,dataKeys:b,barSize:w}}),f=s.map(h=>{var p=[h.dataKey].filter(y=>y!=null),g=yk(t,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]};function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(n){Jre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jre(e,t,r){return(t=ene(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ene(e){var t=tne(e,"string");return typeof t=="symbol"?t:t+""}function tne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rne(e,t,r,n,a){var s,l=n.length;if(!(l<1)){var d=$r(e,r,0,!0),f,h=[];if(Ze((s=n[0])===null||s===void 0?void 0:s.barSize)){var p=!1,g=r/l,y=n.reduce((O,A)=>O+(A.barSize||0),0);y+=(l-1)*d,y>=r&&(y-=(l-1)*d,d=0),y>=r&&g>0&&(p=!0,g*=.9,y=l*g);var b=(r-y)/2>>0,w={offset:b-d,size:0};f=n.reduce((O,A)=>{var C,D={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:w.offset+w.size+d,size:p?g:(C=A.barSize)!==null&&C!==void 0?C:0}},T=[...O,D];return w=D.position,T},h)}else{var S=$r(t,r,0,!0);r-2*S-(l-1)*d<=0&&(d=0);var _=(r-2*S-(l-1)*d)/l;_>1&&(_>>=0);var N=Ze(a)?Math.min(_,a):_;f=n.reduce((O,A,C)=>[...O,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:S+(_+d)*C+(_-N)/2,size:N}}],h)}return f}}var nne=(e,t,r,n,a,s,l)=>{var d=Rt(l)?t:l,f=rne(r,n,a!==s?a:s,e,d);return a!==s&&f!=null&&(f=f.map(h=>im(im({},h),{},{position:im(im({},h.position),{},{offset:h.position.offset-a/2})}))),f},ane=(e,t)=>{var r=Hj(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(l=>l.key===r)}}}},ine=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function sne(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ze(e.zIndex)?e.zIndex:t}var z4=e=>{var{chartData:t}=e,r=_t(),n=Ur();return j.useEffect(()=>n?()=>{}:(r(_P(t)),()=>{r(_P(void 0))}),[t,r,n]),null},bk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},q4=cn({name:"brush",initialState:bk,reducers:{setBrushSettings(e,t){return t.payload==null?bk:t.payload}}}),{setBrushSettings:ele}=q4.actions,one=q4.reducer;function lne(e){return(e%180+180)%180}var cne=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=lne(a),l=s*Math.PI/180,d=Math.atan(n/r),f=l>d&&l<Math.PI-d?n/Math.sin(l):r/Math.cos(l);return Math.abs(f)},une={dots:[],areas:[],lines:[]},K4=cn({name:"referenceElements",initialState:une,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ca(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ca(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ca(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:tle,removeDot:rle,addArea:nle,removeArea:ale,addLine:ile,removeLine:sle}=K4.actions,dne=K4.reducer,fne=j.createContext(void 0),hne=e=>{var{children:t}=e,[r]=j.useState("".concat(pd("recharts"),"-clip")),n=IS();if(n==null)return null;var{x:a,y:s,width:l,height:d}=n;return j.createElement(fne.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:a,y:s,height:d,width:l}))),t)};function F4(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function mne(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return cne(n,r)}function pne(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:d}=e;return t===1?{start:n?a:s,end:n?a+l:s+d}:{start:n?a+l:s+d,end:n?a:s}}function Cd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function gne(e,t){return F4(e,t+1)}function yne(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:d}=t,f=0,h=1,p=l,g=function(){var w=n==null?void 0:n[f];if(w===void 0)return{v:F4(n,h)};var S=f,_,N=()=>(_===void 0&&(_=r(w,S)),_),O=w.coordinate,A=f===0||Cd(e,O,N,p,d);A||(f=0,p=l,h+=1),A&&(p=O+e*(N()/2+a),f+=h)},y;h<=s.length;)if(y=g(),y)return y.v;return[]}function vne(e,t,r,n,a){var s=(n||[]).slice(),l=s.length;if(l===0)return[];for(var{start:d,end:f}=t,h=1;h<=l;h++){for(var p=(l-1)%h,g=d,y=!0,b=function(){var C=n[S];if(C==null)return 0;var D=S,T,k=()=>(T===void 0&&(T=r(C,D)),T),M=C.coordinate,I=S===p||Cd(e,M,k,g,f);if(!I)return y=!1,1;I&&(g=M+e*(k()/2+a))},w,S=p;S<l&&(w=b(),!(w!==0&&w===1));S+=h);if(y){for(var _=[],N=p;N<l;N+=h){var O=n[N];O!=null&&_.push(O)}return _}}return[]}function xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(r),!0).forEach(function(n){bne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bne(e,t,r){return(t=xne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xne(e){var t=wne(e,"string");return typeof t=="symbol"?t:t+""}function wne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jne(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:d}=t,{end:f}=t,h=function(y){var b=s[y];if(b==null)return 1;var w=b,S,_=()=>(S===void 0&&(S=r(b,y)),S);if(y===l-1){var N=e*(w.coordinate+e*_()/2-f);s[y]=w=Lr(Lr({},w),{},{tickCoord:N>0?w.coordinate-N*e:w.coordinate})}else s[y]=w=Lr(Lr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var O=Cd(e,w.tickCoord,_,d,f);O&&(f=w.tickCoord-e*(_()/2+a),s[y]=Lr(Lr({},w),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Sne(e,t,r,n,a,s){var l=(n||[]).slice(),d=l.length,{start:f,end:h}=t;if(s){var p=n[d-1];if(p!=null){var g=r(p,d-1),y=e*(p.coordinate+e*g/2-h);if(l[d-1]=p=Lr(Lr({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate}),p.tickCoord!=null){var b=Cd(e,p.tickCoord,()=>g,f,h);b&&(h=p.tickCoord-e*(g/2+a),l[d-1]=Lr(Lr({},p),{},{isShow:!0}))}}}for(var w=s?d-1:d,S=function(O){var A=l[O];if(A==null)return 1;var C=A,D,T=()=>(D===void 0&&(D=r(A,O)),D);if(O===0){var k=e*(C.coordinate-e*T()/2-f);l[O]=C=Lr(Lr({},C),{},{tickCoord:k<0?C.coordinate-k*e:C.coordinate})}else l[O]=C=Lr(Lr({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var M=Cd(e,C.tickCoord,T,f,h);M&&(f=C.tickCoord+e*(T()/2+a),l[O]=Lr(Lr({},C),{},{isShow:!0}))}},_=0;_<w;_++)S(_);return l}function LS(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=e;if(!a||!a.length||!n)return[];if(je(f)||ig.isSsr){var y;return(y=gne(a,je(f)?f:0))!==null&&y!==void 0?y:[]}var b=[],w=d==="top"||d==="bottom"?"width":"height",S=p&&w==="width"?nd(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(D,T)=>{var k=typeof h=="function"?h(D.value,T):D.value;return w==="width"?mne(nd(k,{fontSize:t,letterSpacing:r}),S,g):nd(k,{fontSize:t,letterSpacing:r})[w]},N=a[0],O=a[1],A=a.length>=2&&N!=null&&O!=null?wr(O.coordinate-N.coordinate):1,C=pne(s,A,w);return f==="equidistantPreserveStart"?yne(A,C,_,a,l):f==="equidistantPreserveEnd"?vne(A,C,_,a,l):(f==="preserveStart"||f==="preserveStartEnd"?b=Sne(A,C,_,a,l,f==="preserveStartEnd"):b=jne(A,C,_,a,l),b.filter(D=>D.isShow))}var _ne=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var d=r?r.getBoundingClientRect().width:0,f=a+s,h=l+f+d+(r?n:0);return Math.round(h)}return 0},Nne=["axisLine","width","height","className","hide","ticks","axisType"];function One(e,t){if(e==null)return{};var r,n,a=Ene(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ene(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lo.apply(null,arguments)}function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(n){Ane(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ane(e,t,r){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cne(e){var t=Pne(e,"string");return typeof t=="symbol"?t:t+""}function Pne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ci={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:rr.axis};function kne(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var h=qt(qt(qt({},f),Nn(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=qt(qt({},h),{},{x1:t,y1:r+p*a,x2:t+n,y2:r+p*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=qt(qt({},h),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return j.createElement("line",Lo({},h,{className:nt("recharts-cartesian-axis-line",ko(d,"className"))}))}function Tne(e,t,r,n,a,s,l,d,f){var h,p,g,y,b,w,S=d?-1:1,_=e.tickSize||l,N=je(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=p=e.coordinate,y=r+ +!d*a,g=y-S*_,w=g-S*f,b=N;break;case"left":g=y=e.coordinate,p=t+ +!d*n,h=p-S*_,b=h-S*f,w=N;break;case"right":g=y=e.coordinate,p=t+ +d*n,h=p+S*_,b=h+S*f,w=N;break;default:h=p=e.coordinate,y=r+ +d*a,g=y+S*_,w=g+S*f,b=N;break}return{line:{x1:h,y1:g,x2:p,y2:y},tick:{x:b,y:w}}}function Dne(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Mne(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Rne(e){var{option:t,tickProps:r,value:n}=e,a,s=nt(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))a=j.cloneElement(t,qt(qt({},r),{},{className:s}));else if(typeof t=="function")a=t(qt(qt({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=nt(l,T4(t))),a=j.createElement(Ng,Lo({},r,{className:l}),n)}return a}var Ine=j.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:l,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x:y,y:b,width:w,height:S,tickSize:_,tickMargin:N,fontSize:O,letterSpacing:A,getTicksConfig:C,events:D,axisType:T}=e,k=LS(qt(qt({},C),{},{ticks:r}),O,A),M=Dne(p,g),I=Mne(p,g),G=Nn(C),F=Co(n),K={};typeof a=="object"&&(K=a);var te=qt(qt({},G),{},{fill:"none"},K),V=k.map(z=>qt({entry:z},Tne(z,y,b,w,S,p,_,g,N))),ie=V.map(z=>{var{entry:ee,line:ne}=z;return j.createElement(jr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},a&&j.createElement("line",Lo({},te,ne,{className:nt("recharts-cartesian-axis-tick-line",ko(a,"className"))})))}),L=V.map((z,ee)=>{var ne,me,{entry:R,tick:Q}=z,pe=qt(qt(qt(qt({verticalAnchor:I},G),{},{textAnchor:M,stroke:"none",fill:s},Q),{},{index:ee,payload:R,visibleTicksCount:k.length,tickFormatter:l,padding:f},h),{},{angle:(ne=(me=h==null?void 0:h.angle)!==null&&me!==void 0?me:G.angle)!==null&&ne!==void 0?ne:0}),le=qt(qt({},pe),F);return j.createElement(jr,Lo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},Wd(D,R,ee)),n&&j.createElement(Rne,{option:n,tickProps:le,value:"".concat(typeof l=="function"?l(R.value,ee):R.value).concat(d||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},L.length>0&&j.createElement(un,{zIndex:rr.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},L)),ie.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},ie))}),Lne=j.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:d,axisType:f}=e,h=One(e,Nne),[p,g]=j.useState(""),[y,b]=j.useState(""),w=j.useRef(null);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return _ne({ticks:w.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=j.useCallback(_=>{if(_){var N=_.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=N;var O=N[0];if(O){var A=window.getComputedStyle(O),C=A.fontSize,D=A.letterSpacing;(C!==p||D!==y)&&(g(C),b(D))}}},[p,y]);return l||n!=null&&n<=0||a!=null&&a<=0?null:j.createElement(un,{zIndex:e.zIndex},j.createElement(jr,{className:nt("recharts-cartesian-axis",s)},j.createElement(kne,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Nn(e)}),j.createElement(Ine,{ref:S,axisType:f,events:h,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),j.createElement(Tee,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},j.createElement(qee,{label:e.label,labelRef:e.labelRef}),e.children)))}),BS=j.forwardRef((e,t)=>{var r=ar(e,ci);return j.createElement(Lne,Lo({},r,{ref:t}))});BS.displayName="CartesianAxis";var Bne=["x1","y1","x2","y2","key"],$ne=["offset"],Une=["xAxisId","yAxisId"],zne=["xAxisId","yAxisId"];function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(n){qne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qne(e,t,r){return(t=Kne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kne(e){var t=Fne(e,"string");return typeof t=="symbol"?t:t+""}function Fne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ho.apply(null,arguments)}function fp(e,t){if(e==null)return{};var r,n,a=Hne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:d}=e;return j.createElement("rect",{x:n,y:a,ry:d,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function H4(e){var{option:t,lineItemProps:r}=e,n;if(j.isValidElement(t))n=j.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:l,x2:d,y2:f,key:h}=r,p=fp(r,Bne),g=(a=Nn(p))!==null&&a!==void 0?a:{},{offset:y}=g,b=fp(g,$ne);n=j.createElement("line",ho({},b,{x1:s,y1:l,x2:d,y2:f,fill:"none",key:h}))}return n}function Vne(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,d=fp(e,Une),f=a.map((h,p)=>{var g=Br(Br({},d),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(p),index:p});return j.createElement(H4,{key:"line-".concat(p),option:n,lineItemProps:g})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Gne(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,d=fp(e,zne),f=a.map((h,p)=>{var g=Br(Br({},d),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(p),index:p});return j.createElement(H4,{option:n,lineItemProps:g,key:"line-".concat(p)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Yne(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length||d==null)return null;var h=d.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var b=h[y+1],w=b==null,S=w?a+l-g:b-g;if(S<=0)return null;var _=y%t.length;return j.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:S,width:s,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Wne(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:d,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var b=h[y+1],w=b==null,S=w?a+l-g:b-g;if(S<=0)return null;var _=y%r.length;return j.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:S,height:d,stroke:"none",fill:r[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Xne=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return LM(LS(Br(Br(Br({},ci),r),{},{ticks:BM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Zne=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return LM(LS(Br(Br(Br({},ci),r),{},{ticks:BM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},Jne={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:rr.grid};function Pd(e){var t=lj(),r=cj(),n=HM(),a=Br(Br({},ar(e,Jne)),{},{x:je(e.x)?e.x:n.left,y:je(e.y)?e.y:n.top,width:je(e.width)?e.width:n.width,height:je(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:y,verticalValues:b}=a,w=Ur(),S=Ne(I=>fP(I,"xAxis",s,w)),_=Ne(I=>fP(I,"yAxis",l,w));if(!Pa(h)||!Pa(p)||!je(d)||!je(f))return null;var N=a.verticalCoordinatesGenerator||Xne,O=a.horizontalCoordinatesGenerator||Zne,{horizontalPoints:A,verticalPoints:C}=a;if((!A||!A.length)&&typeof O=="function"){var D=y&&y.length,T=O({yAxis:_?Br(Br({},_),{},{ticks:D?y:_.ticks}):void 0,width:t??h,height:r??p,offset:n},D?!0:g);Bm(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(A=T)}if((!C||!C.length)&&typeof N=="function"){var k=b&&b.length,M=N({xAxis:S?Br(Br({},S),{},{ticks:k?b:S.ticks}):void 0,width:t??h,height:r??p,offset:n},k?!0:g);Bm(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(C=M)}return j.createElement(un,{zIndex:a.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(Qne,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),j.createElement(Yne,ho({},a,{horizontalPoints:A})),j.createElement(Wne,ho({},a,{verticalPoints:C})),j.createElement(Vne,ho({},a,{offset:n,horizontalPoints:A,xAxis:S,yAxis:_})),j.createElement(Gne,ho({},a,{offset:n,verticalPoints:C,xAxis:S,yAxis:_}))))}Pd.displayName="CartesianGrid";var eae={},Q4=cn({name:"errorBars",initialState:eae,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:ole,replaceErrorBar:lle,removeErrorBar:cle}=Q4.actions,tae=Q4.reducer,rae=["children"];function nae(e,t){if(e==null)return{};var r,n,a=aae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},sae=j.createContext(iae);function V4(e){var{children:t}=e,r=nae(e,rae);return j.createElement(sae.Provider,{value:r},t)}function $S(e,t){var r,n,a=Ne(h=>Ei(h,e)),s=Ne(h=>Ai(h,t)),l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:gr.allowDataOverflow,d=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:yr.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function G4(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=IS(),{needClipX:s,needClipY:l,needClip:d}=$S(t,r);if(!d||!a)return null;var{x:f,y:h,width:p,height:g}=a;return j.createElement("clipPath",{id:"clipPath-".concat(n)},j.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var Y4=(e,t,r,n)=>Ss(e,"xAxis",t,n),W4=(e,t,r,n)=>js(e,"xAxis",t,n),X4=(e,t,r,n)=>Ss(e,"yAxis",r,n),Z4=(e,t,r,n)=>js(e,"yAxis",r,n),oae=Y([it,Y4,X4,W4,Z4],(e,t,r,n,a)=>ji(e,"xAxis")?hc(t,n,!1):hc(r,a,!1)),lae=(e,t,r,n,a)=>a;function cae(e){return e.type==="line"}var uae=Y([bg,lae],(e,t)=>e.filter(cae).find(r=>r.id===t)),dae=Y([it,Y4,X4,W4,Z4,uae,oae,Ij],(e,t,r,n,a,s,l,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=d;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:y}=s,b;if(y!=null&&y.length>0?b=y:b=f==null?void 0:f.slice(h,p+1),b!=null)return Wae({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:b})}});function fae(e){var t=Co(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,l=Number(a),d=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(d)||d<0)&&(d=n),{r:l,strokeWidth:d}}return{r,strokeWidth:n}}var Bb={exports:{}},$b={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sk;function hae(){if(Sk)return $b;Sk=1;var e=bc();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,d=e.useDebugValue;return $b.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var b=a(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function _(D){if(!N){if(N=!0,O=D,D=g(D),y!==void 0&&w.hasValue){var T=w.value;if(y(T,D))return A=T}return A=D}if(T=A,r(O,D))return T;var k=g(D);return y!==void 0&&y(T,k)?(O=D,T):(O=D,A=k)}var N=!1,O,A,C=p===void 0?null:p;return[function(){return _(h())},C===null?void 0:function(){return _(C())}]},[h,p,g,y]);var S=n(f,b[0],b[1]);return s(function(){w.hasValue=!0,w.value=S},[S]),d(S),S},$b}var _k;function mae(){return _k||(_k=1,Bb.exports=hae()),Bb.exports}mae();function pae(e){e()}function gae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){pae(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var Nk={notify(){},get:()=>[]};function yae(e,t){let r,n=Nk,a=0,s=!1;function l(S){p();const _=n.subscribe(S);let N=!1;return()=>{N||(N=!0,_(),g())}}function d(){n.notify()}function f(){w.onStateChange&&w.onStateChange()}function h(){return s}function p(){a++,r||(r=e.subscribe(f),n=gae())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=Nk)}function y(){s||(s=!0,p())}function b(){s&&(s=!1,g())}const w={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>n};return w}var vae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bae=vae(),xae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wae=xae(),jae=()=>bae||wae?j.useLayoutEffect:j.useEffect,Sae=jae();function Ok(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function _ae(e,t){if(Ok(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!Ok(e[r[a]],t[r[a]]))return!1;return!0}var Ub=Symbol.for("react-redux-context"),zb=typeof globalThis<"u"?globalThis:{};function Nae(){if(!j.createContext)return{};const e=zb[Ub]??(zb[Ub]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var Oae=Nae();function Eae(e){const{children:t,context:r,serverState:n,store:a}=e,s=j.useMemo(()=>{const f=yae(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),l=j.useMemo(()=>a.getState(),[a]);Sae(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const d=r||Oae;return j.createElement(d.Provider,{value:s},t)}var Aae=Eae,Cae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Pae(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Cg(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Cae.has(n)){if(e[n]==null&&t[n]==null)continue;if(!_ae(e[n],t[n]))return!1}else if(!Pae(e[n],t[n]))return!1;return!0}var kae=["id"],Tae=["type","layout","connectNulls","needClip","shape"],Dae=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kd.apply(null,arguments)}function Ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(r),!0).forEach(function(n){Mae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mae(e,t,r){return(t=Rae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rae(e){var t=Iae(e,"string");return typeof t=="symbol"?t:t+""}function Iae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function US(e,t){if(e==null)return{};var r,n,a=Lae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bae=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Pc(r,t),payload:e}]},$ae=j.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:d,unit:f,tooltipType:h,id:p}=e,g={dataDefinedOnItem:r,getPosition:Uo,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Pc(l,t),hide:d,type:h,color:n,unit:f,graphicalItemId:p}};return j.createElement(DS,{tooltipEntrySettings:g})}),J4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Uae(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var zae=(e,t,r)=>{var n=r.reduce((b,w)=>b+w);if(!n)return J4(t,e);for(var a=Math.floor(e/n),s=e%n,l=t-e,d=[],f=0,h=0;f<r.length;h+=(p=r[f])!==null&&p!==void 0?p:0,++f){var p,g=r[f];if(g!=null&&h+g>s){d=[...r.slice(0,f),s-h];break}}var y=d.length%2===0?[0,l]:[l];return[...Uae(r,a),...d,...y].map(b=>"".concat(b,"px")).join(", ")};function qae(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:l}=n,{id:d}=n,f=US(n,kae),h=Nn(f);return j.createElement(kre,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:t})}function Kae(e){var{showLabels:t,children:r,points:n}=e,a=j.useMemo(()=>n==null?void 0:n.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return _a(_a({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[n]);return j.createElement(O4,{value:t?a:void 0},r)}function Ak(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:l,layout:d,connectNulls:f,needClip:h,shape:p}=s,g=US(s,Tae),y=_a(_a({},Qr(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:d,connectNulls:f,strokeDasharray:a??s.strokeDasharray});return j.createElement(j.Fragment,null,(n==null?void 0:n.length)>1&&j.createElement(CS,kd({shapeType:"curve",option:p},y,{pathRef:r})),j.createElement(qae,{points:n,clipPathId:t,props:s}))}function Fae(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Hae(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:y,width:b,height:w,onAnimationEnd:S,onAnimationStart:_}=r,N=a.current,O=nf(l,"recharts-line-"),A=j.useRef(O),[C,D]=j.useState(!1),T=!C,k=j.useCallback(()=>{typeof S=="function"&&S(),D(!1)},[S]),M=j.useCallback(()=>{typeof _=="function"&&_(),D(!0)},[_]),I=Fae(n.current),G=j.useRef(0);A.current!==O&&(G.current=s.current,A.current=O);var F=G.current;return j.createElement(Kae,{points:l,showLabels:T},r.children,j.createElement(rf,{animationId:O,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:k,onAnimationStart:M,key:O},K=>{var te=Tt(F,I+F,K),V=Math.min(te,I),ie;if(f)if(d){var L="".concat(d).split(/[,\s]+/gim).map(ne=>parseFloat(ne));ie=zae(V,I,L)}else ie=J4(I,V);else ie=d==null?void 0:String(d);if(K>0&&I>0&&(a.current=l,s.current=Math.max(s.current,V)),N){var z=N.length/l.length,ee=K===1?l:l.map((ne,me)=>{var R=Math.floor(me*z);if(N[R]){var Q=N[R];return _a(_a({},ne),{},{x:Tt(Q.x,ne.x,K),y:Tt(Q.y,ne.y,K)})}return y?_a(_a({},ne),{},{x:Tt(b*2,ne.x,K),y:Tt(w/2,ne.y,K)}):_a(_a({},ne),{},{x:ne.x,y:ne.y})});return a.current=ee,j.createElement(Ak,{props:r,points:ee,clipPathId:t,pathRef:n,strokeDasharray:ie})}return j.createElement(Ak,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:ie})}),j.createElement(NS,{label:r.label}))}function Qae(e){var{clipPathId:t,props:r}=e,n=j.useRef(null),a=j.useRef(0),s=j.useRef(null);return j.createElement(Hae,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var Vae=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:bt(e.payload,t)}};class Gae extends j.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:l,top:d,left:f,width:h,height:p,id:g,needClip:y,zIndex:b}=this.props;if(t)return null;var w=nt("recharts-line",a),S=g,{r:_,strokeWidth:N}=fae(r),O=R4(r),A=_*2+N,C=y?"url(#clipPath-".concat(O?"":"dots-").concat(S,")"):void 0;return j.createElement(un,{zIndex:b},j.createElement(jr,{className:w},y&&j.createElement("defs",null,j.createElement(G4,{clipPathId:S,xAxisId:s,yAxisId:l}),!O&&j.createElement("clipPath",{id:"clipPath-dots-".concat(S)},j.createElement("rect",{x:f-A/2,y:d-A/2,width:h+A,height:p+A}))),j.createElement(V4,{xAxisId:s,yAxisId:l,data:n,dataPointFormatter:Vae,errorBarOffset:0},j.createElement(Qae,{props:this.props,clipPathId:S}))),j.createElement(Xre,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:C}))}}var e5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:rr.line,type:"linear"};function Yae(e){var t=ar(e,e5),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,hide:h,isAnimationActive:p,label:g,legendType:y,xAxisId:b,yAxisId:w,id:S}=t,_=US(t,Dae),{needClip:N}=$S(b,w),O=IS(),A=zo(),C=Ur(),D=Ne(G=>dae(G,b,w,C,S));if(A!=="horizontal"&&A!=="vertical"||D==null||O==null)return null;var{height:T,width:k,x:M,y:I}=O;return j.createElement(Gae,kd({},_,{id:S,connectNulls:d,dot:f,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:y,xAxisId:b,yAxisId:w,points:D,layout:A,height:T,width:k,left:M,top:I,needClip:N}))}function Wae(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:d,displayedData:f}=e;return f.map((h,p)=>{var g=bt(h,l);if(t==="horizontal"){var y=cC({axis:r,ticks:a,bandSize:d,entry:h,index:p}),b=Rt(g)?null:n.scale.map(g);return{x:y,y:b??null,value:g,payload:h}}var w=Rt(g)?null:r.scale.map(g),S=cC({axis:n,ticks:s,bandSize:d,entry:h,index:p});return w==null||S==null?null:{x:w,y:S,value:g,payload:h}}).filter(Boolean)}function Xae(e){var t=ar(e,e5),r=Ur();return j.createElement(MS,{id:t.id,type:"line"},n=>j.createElement(j.Fragment,null,j.createElement(I4,{legendPayload:Bae(t)}),j.createElement($ae,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),j.createElement(B4,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),j.createElement(Yae,kd({},t,{id:n}))))}var zS=j.memo(Xae,Cg);zS.displayName="Line";function Ho(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:$4}function Qo(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:$4}var Zae="Invariant failed";function Jae(e,t){throw new Error(Zae)}function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(null,arguments)}function hp(e){return j.createElement(CS,ow({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var eie=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(je(t))return t;var s=je(n)||Rt(n);return s?t(n,a):(s||Jae(),r)}},tie=(e,t,r)=>r,rie=(e,t)=>t,gf=Y([bg,rie],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),nie=Y([gf],e=>e==null?void 0:e.maxBarSize),aie=(e,t,r,n)=>n,iie=Y([it,bg,Ho,Qo,tie],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),sie=(e,t,r)=>{var n=it(e),a=Ho(e,t),s=Qo(e,t);if(!(a==null||s==null))return n==="horizontal"?ew(e,"yAxis",s,r):ew(e,"xAxis",a,r)},oie=(e,t)=>{var r=it(e),n=Ho(e,t),a=Qo(e,t);if(!(n==null||a==null))return r==="horizontal"?dP(e,"xAxis",n):dP(e,"yAxis",a)},lie=Y([iie,OW,oie],Zre),cie=(e,t,r)=>{var n,a,s=gf(e,t);if(s==null)return 0;var l=Ho(e,t),d=Qo(e,t);if(l==null||d==null)return 0;var f=it(e),h=iI(e),{maxBarSize:p}=s,g=Rt(p)?h:p,y,b;return f==="horizontal"?(y=Ss(e,"xAxis",l,r),b=js(e,"xAxis",l,r)):(y=Ss(e,"yAxis",d,r),b=js(e,"yAxis",d,r)),(n=(a=hc(y,b,!0))!==null&&a!==void 0?a:g)!==null&&n!==void 0?n:0},t5=(e,t,r)=>{var n=it(e),a=Ho(e,t),s=Qo(e,t);if(!(a==null||s==null)){var l,d;return n==="horizontal"?(l=Ss(e,"xAxis",a,r),d=js(e,"xAxis",a,r)):(l=Ss(e,"yAxis",s,r),d=js(e,"yAxis",s,r)),hc(l,d)}},uie=Y([lie,iI,NW,sI,cie,t5,nie],nne),die=(e,t,r)=>{var n=Ho(e,t);if(n!=null)return Ss(e,"xAxis",n,r)},fie=(e,t,r)=>{var n=Qo(e,t);if(n!=null)return Ss(e,"yAxis",n,r)},hie=(e,t,r)=>{var n=Ho(e,t);if(n!=null)return js(e,"xAxis",n,r)},mie=(e,t,r)=>{var n=Qo(e,t);if(n!=null)return js(e,"yAxis",n,r)},pie=Y([uie,gf],ine),gie=Y([sie,gf],ane),yie=Y([dr,ij,die,fie,hie,mie,pie,it,yW,t5,gie,gf,aie],(e,t,r,n,a,s,l,d,f,h,p,g,y)=>{var{chartData:b,dataStartIndex:w,dataEndIndex:S}=f;if(!(g==null||l==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||n==null||a==null||s==null||h==null)){var{data:_}=g,N;if(_!=null&&_.length>0?N=_:N=b==null?void 0:b.slice(w,S+1),N!=null)return Hie({layout:d,barSettings:g,pos:l,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:N,offset:e,cells:y,dataStartIndex:w})}}),vie=["index"];function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(null,arguments)}function bie(e,t){if(e==null)return{};var r,n,a=xie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var r5=j.createContext(void 0),wie=e=>{var t=j.useContext(r5);if(t!=null)return t.stackId;if(e!=null)return dH(e)},jie=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Sie=e=>{var t=j.useContext(r5);if(t!=null){var{stackId:r}=t;return"url(#".concat(jie(r,e),")")}},n5=e=>{var{index:t}=e,r=bie(e,vie),n=Sie(t);return j.createElement(jr,lw({className:"recharts-bar-stack-layer",clipPath:n},r))},_ie=["onMouseEnter","onMouseLeave","onClick"],Nie=["value","background","tooltipPosition"],Oie=["id"],Eie=["onMouseEnter","onClick","onMouseLeave"];function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vi.apply(null,arguments)}function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(n){Aie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aie(e,t,r){return(t=Cie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cie(e){var t=Pie(e,"string");return typeof t=="symbol"?t:t+""}function Pie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mp(e,t){if(e==null)return{};var r,n,a=kie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tie=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Pc(r,t),payload:e}]},Die=j.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:l,unit:d,tooltipType:f,id:h}=e,p={dataDefinedOnItem:void 0,getPosition:Uo,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Pc(s,t),hide:l,type:f,color:a,unit:d,graphicalItemId:h}};return j.createElement(DS,{tooltipEntrySettings:p})});function Mie(e){var t=Ne(_s),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:d,onClick:f}=s,h=mp(s,_ie),p=PS(l,n,s.id),g=kS(d),y=TS(f,n,s.id);if(!a||r==null)return null;var b=Co(a);return j.createElement(un,{zIndex:sne(a,rr.barBackground)},r.map((w,S)=>{var{value:_,background:N,tooltipPosition:O}=w,A=mp(w,Nie);if(!N)return null;var C=p(w,S),D=g(w,S),T=y(w,S),k=Fr(Fr(Fr(Fr(Fr({option:a,isActive:String(S)===t},A),{},{fill:"#eee"},N),b),Wd(h,w,S)),{},{onMouseEnter:C,onMouseLeave:D,onClick:T,dataKey:n,index:S,className:"recharts-bar-background-rectangle"});return j.createElement(hp,vi({key:"background-bar-".concat(S)},k))}))}function Rie(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Fr(Fr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return j.createElement(O4,{value:t?a:void 0},r)}function Iie(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:l}=e,d=Ne(_s),f=Ne(vS),h=r&&String(s)===d&&(f==null||l===f),p=h?r:t;return h?j.createElement(un,{zIndex:rr.activeBar},j.createElement(n5,{index:s},j.createElement(hp,vi({},n,{name:String(n.name)},a,{isActive:h,option:p,index:s,dataKey:l})))):j.createElement(hp,vi({},n,{name:String(n.name)},a,{isActive:h,option:p,index:s,dataKey:l}))}function Lie(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return j.createElement(hp,vi({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function Bie(e){var t,{data:r,props:n}=e,a=(t=Nn(n))!==null&&t!==void 0?t:{},{id:s}=a,l=mp(a,Oie),{shape:d,dataKey:f,activeBar:h}=n,{onMouseEnter:p,onClick:g,onMouseLeave:y}=n,b=mp(n,Eie),w=PS(p,f,s),S=kS(y),_=TS(g,f,s);return r?j.createElement(j.Fragment,null,r.map((N,O)=>j.createElement(n5,vi({index:O,key:"rectangle-".concat(N==null?void 0:N.x,"-").concat(N==null?void 0:N.y,"-").concat(N==null?void 0:N.value,"-").concat(O),className:"recharts-bar-rectangle"},Wd(b,N,O),{onMouseEnter:w(N,O),onMouseLeave:S(N,O),onClick:_(N,O)}),h?j.createElement(Iie,{shape:d,activeBar:h,baseProps:l,entry:N,index:O,dataKey:f}):j.createElement(Lie,{shape:d,baseProps:l,entry:N,index:O,dataKey:f})))):null}function $ie(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=t,g=r.current,y=nf(t,"recharts-bar-"),[b,w]=j.useState(!1),S=!b,_=j.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),N=j.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return j.createElement(Rie,{showLabels:S,rects:n},j.createElement(rf,{animationId:y,begin:l,duration:d,isActive:s,easing:f,onAnimationEnd:_,onAnimationStart:N,key:y},O=>{var A=O===1?n:n==null?void 0:n.map((C,D)=>{var T=g&&g[D];if(T)return Fr(Fr({},C),{},{x:Tt(T.x,C.x,O),y:Tt(T.y,C.y,O),width:Tt(T.width,C.width,O),height:Tt(T.height,C.height,O)});if(a==="horizontal"){var k=Tt(0,C.height,O),M=Tt(C.stackedBarStart,C.y,O);return Fr(Fr({},C),{},{y:M,height:k})}var I=Tt(0,C.width,O),G=Tt(C.stackedBarStart,C.x,O);return Fr(Fr({},C),{},{width:I,x:G})});return O>0&&(r.current=A??null),A==null?null:j.createElement(jr,null,j.createElement(Bie,{props:t,data:A}))}),j.createElement(NS,{label:t.label}),t.children)}function Uie(e){var t=j.useRef(null);return j.createElement($ie,{previousRectanglesRef:t,props:e})}var a5=0,zie=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:bt(e,t)}};class qie extends j.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(t||r==null)return null;var p=nt("recharts-bar",a),g=h;return j.createElement(jr,{className:p,id:h},d&&j.createElement("defs",null,j.createElement(G4,{clipPathId:g,xAxisId:s,yAxisId:l})),j.createElement(jr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},j.createElement(Mie,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),j.createElement(Uie,this.props)))}}var Kie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:a5,xAxisId:0,yAxisId:0,zIndex:rr.bar};function Fie(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=e,{needClip:g}=$S(t,r),y=zo(),b=Ur(),w=AS(e.children,Fo),S=Ne(O=>yie(O,e.id,b,w));if(y!=="vertical"&&y!=="horizontal")return null;var _,N=S==null?void 0:S[0];return N==null||N.height==null||N.width==null?_=0:_=y==="vertical"?N.height/2:N.width/2,j.createElement(V4,{xAxisId:t,yAxisId:r,data:S,dataPointFormatter:zie,errorBarOffset:_},j.createElement(qie,vi({},e,{layout:y,needClip:g,data:S,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Hie(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:y,cells:b,parentViewBox:w,dataStartIndex:S}=e,_=t==="horizontal"?d:l,N=p?_.scale.domain():null,O=fH({numericAxis:_}),A=_.scale.map(O);return g.map((C,D)=>{var T,k,M,I,G,F;if(p){var K=p[D+S];if(K==null)return null;T=sH(K,N)}else T=bt(C,r),Array.isArray(T)||(T=[O,T]);var te=eie(n,a5)(T[1],D);if(t==="horizontal"){var V,ie=d.scale.map(T[0]),L=d.scale.map(T[1]);if(ie==null||L==null)return null;k=uC({axis:l,ticks:f,bandSize:s,offset:a.offset,entry:C,index:D}),M=(V=L??ie)!==null&&V!==void 0?V:void 0,I=a.size;var z=ie-L;if(G=Aa(z)?0:z,F={x:k,y:y.top,width:I,height:y.height},Math.abs(te)>0&&Math.abs(G)<Math.abs(te)){var ee=wr(G||te)*(Math.abs(te)-Math.abs(G));M-=ee,G+=ee}}else{var ne=l.scale.map(T[0]),me=l.scale.map(T[1]);if(ne==null||me==null)return null;if(k=ne,M=uC({axis:d,ticks:h,bandSize:s,offset:a.offset,entry:C,index:D}),I=me-ne,G=a.size,F={x:y.left,y:M,width:y.width,height:G},Math.abs(te)>0&&Math.abs(I)<Math.abs(te)){var R=wr(I||te)*(Math.abs(te)-Math.abs(I));I+=R}}if(k==null||M==null||I==null||G==null)return null;var Q=Fr(Fr({},C),{},{stackedBarStart:A,x:k,y:M,width:I,height:G,value:p?T:T[1],payload:C,background:F,tooltipPosition:{x:k+I/2,y:M+G/2},parentViewBox:w},b&&b[D]&&b[D].props);return Q}).filter(Boolean)}function Qie(e){var t=ar(e,Kie),r=wie(t.stackId),n=Ur();return j.createElement(MS,{id:t.id,type:"bar"},a=>j.createElement(j.Fragment,null,j.createElement(I4,{legendPayload:Tie(t)}),j.createElement(Die,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),j.createElement(B4,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),j.createElement(un,{zIndex:t.zIndex},j.createElement(Fie,vi({},t,{id:a})))))}var Oo=j.memo(Qie,Cg);Oo.displayName="Bar";var Vie=["domain","range"],Gie=["domain","range"];function Pk(e,t){if(e==null)return{};var r,n,a=Yie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kk(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function i5(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=Pk(e,Vie),{domain:s,range:l}=t,d=Pk(t,Gie);return!kk(r,s)||!kk(n,l)?!1:Cg(a,d)}var Wie=["type"],Xie=["dangerouslySetInnerHTML","ticks","scale"],Zie=["id","scale"];function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(null,arguments)}function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(r),!0).forEach(function(n){Jie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jie(e,t,r){return(t=ese(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ese(e){var t=tse(e,"string");return typeof t=="symbol"?t:t+""}function tse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uw(e,t){if(e==null)return{};var r,n,a=rse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nse(e){var t=_t(),r=j.useRef(null),n=QM(),{type:a}=e,s=uw(e,Wie),l=mg(n,"xAxis",a),d=j.useMemo(()=>{if(l!=null)return Dk(Dk({},s),{},{type:l})},[s,l]);return j.useLayoutEffect(()=>{d!=null&&(r.current===null?t(Ire(d)):r.current!==d&&t(Lre({prev:r.current,next:d})),r.current=d)},[d,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(Bre(r.current)),r.current=null)},[t]),null}var ase=e=>{var{xAxisId:t,className:r}=e,n=Ne(ij),a=Ur(),s="xAxis",l=Ne(N=>$I(N,s,t,a)),d=Ne(N=>RI(N,t)),f=Ne(N=>OX(N,t)),h=Ne(N=>gI(N,t));if(d==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:y}=e,b=uw(e,Xie),{id:w,scale:S}=h,_=uw(h,Zie);return j.createElement(BS,cw({},b,_,{x:f.x,y:f.y,width:d.width,height:d.height,className:nt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},ise={allowDataOverflow:gr.allowDataOverflow,allowDecimals:gr.allowDecimals,allowDuplicatedCategory:gr.allowDuplicatedCategory,angle:gr.angle,axisLine:ci.axisLine,height:gr.height,hide:!1,includeHidden:gr.includeHidden,interval:gr.interval,label:!1,minTickGap:gr.minTickGap,mirror:gr.mirror,orientation:gr.orientation,padding:gr.padding,reversed:gr.reversed,scale:gr.scale,tick:gr.tick,tickCount:gr.tickCount,tickLine:ci.tickLine,tickSize:ci.tickSize,type:gr.type,xAxisId:0},sse=e=>{var t=ar(e,ise);return j.createElement(j.Fragment,null,j.createElement(nse,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),j.createElement(ase,t))},Td=j.memo(sse,i5);Td.displayName="XAxis";var ose=["type"],lse=["dangerouslySetInnerHTML","ticks","scale"],cse=["id","scale"];function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(null,arguments)}function Mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(r),!0).forEach(function(n){use(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function use(e,t,r){return(t=dse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dse(e){var t=fse(e,"string");return typeof t=="symbol"?t:t+""}function fse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fw(e,t){if(e==null)return{};var r,n,a=hse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mse(e){var t=_t(),r=j.useRef(null),n=QM(),{type:a}=e,s=fw(e,ose),l=mg(n,"yAxis",a),d=j.useMemo(()=>{if(l!=null)return Rk(Rk({},s),{},{type:l})},[l,s]);return j.useLayoutEffect(()=>{d!=null&&(r.current===null?t($re(d)):r.current!==d&&t(Ure({prev:r.current,next:d})),r.current=d)},[d,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(zre(r.current)),r.current=null)},[t]),null}function pse(e){var{yAxisId:t,className:r,width:n,label:a}=e,s=j.useRef(null),l=j.useRef(null),d=Ne(ij),f=Ur(),h=_t(),p="yAxis",g=Ne(T=>II(T,t)),y=Ne(T=>AX(T,t)),b=Ne(T=>$I(T,p,t,f)),w=Ne(T=>yI(T,t));if(j.useLayoutEffect(()=>{if(!(n!=="auto"||!g||_S(a)||j.isValidElement(a)||w==null)){var T=s.current;if(T){var k=T.getCalculatedWidth();Math.round(g.width)!==Math.round(k)&&h(qre({id:t,width:k}))}}},[b,g,h,a,t,n,w]),g==null||y==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:_,scale:N}=e,O=fw(e,lse),{id:A,scale:C}=w,D=fw(w,cse);return j.createElement(BS,dw({},O,D,{ref:s,labelRef:l,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:nt("recharts-".concat(p," ").concat(p),r),viewBox:d,ticks:b,axisType:p}))}var gse={allowDataOverflow:yr.allowDataOverflow,allowDecimals:yr.allowDecimals,allowDuplicatedCategory:yr.allowDuplicatedCategory,angle:yr.angle,axisLine:ci.axisLine,hide:!1,includeHidden:yr.includeHidden,interval:yr.interval,label:!1,minTickGap:yr.minTickGap,mirror:yr.mirror,orientation:yr.orientation,padding:yr.padding,reversed:yr.reversed,scale:yr.scale,tick:yr.tick,tickCount:yr.tickCount,tickLine:ci.tickLine,tickSize:ci.tickSize,type:yr.type,width:yr.width,yAxisId:0},yse=e=>{var t=ar(e,gse);return j.createElement(j.Fragment,null,j.createElement(mse,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),j.createElement(pse,t))},Dd=j.memo(yse,i5);Dd.displayName="YAxis";var vse=(e,t)=>t,qS=Y([vse,it,hI,_r,r4,Ci,FZ,dr],XZ),KS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},s5=Vn("mouseClick"),o5=Zd();o5.startListening({actionCreator:s5,effect:(e,t)=>{var r=e.payload,n=qS(t.getState(),KS(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(qX({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var hw=Vn("mouseMove"),l5=Zd(),sm=null;l5.startListening({actionCreator:hw,effect:(e,t)=>{var r=e.payload;sm!==null&&cancelAnimationFrame(sm);var n=KS(r);sm=requestAnimationFrame(()=>{var a=t.getState(),s=fS(a,a.tooltip.settings.shared);if(s==="axis"){var l=qS(a,n);(l==null?void 0:l.activeIndex)!=null?t.dispatch(VI({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(QI())}sm=null})}});function bse(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var Ik={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},c5=cn({name:"rootProps",initialState:Ik,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Ik.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),xse=c5.reducer,{updateOptions:wse}=c5.actions,jse=null,Sse={updatePolarOptions:(e,t)=>t.payload},u5=cn({name:"polarOptions",initialState:jse,reducers:Sse}),{updatePolarOptions:_se}=u5.actions,Nse=u5.reducer,d5=Vn("keyDown"),f5=Vn("focus"),FS=Zd();FS.startListening({actionCreator:d5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=hS(a,$c(r),ff(r),mf(r)),d=l==null?-1:Number(l);if(!(!Number.isFinite(d)||d<0)){var f=Ci(r);if(s==="Enter"){var h=op(r,"axis","hover",String(a.index));t.dispatch(rw({active:!a.active,activeIndex:a.index,activeCoordinate:h}));return}var p=TX(r),g=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,b=d+y*g;if(!(f==null||b>=f.length||b<0)){var w=op(r,"axis","hover",String(b));t.dispatch(rw({active:!0,activeIndex:b.toString(),activeCoordinate:w}))}}}}}});FS.startListening({actionCreator:f5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=op(r,"axis","hover",String(s));t.dispatch(rw({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var zn=Vn("externalEvent"),h5=Zd(),qb=new Map;h5.startListening({actionCreator:zn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=qb.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var d=t.getState(),f={activeCoordinate:AZ(d),activeDataKey:vS(d),activeIndex:_s(d),activeLabel:i4(d),activeTooltipIndex:_s(d),isTooltipActive:CZ(d)};r(f,n)}finally{qb.delete(a)}});qb.set(a,l)}}});var Ose=Y([Lc],e=>e.tooltipItemPayloads),Ese=Y([Ose,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),m5=Vn("touchMove"),p5=Zd();p5.startListening({actionCreator:m5,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=fS(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var l=qS(n,KS({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(VI({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var d,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(UM),g=(d=h.getAttribute(zM))!==null&&d!==void 0?d:void 0,y=Bc(n).find(S=>S.id===g);if(p==null||y==null||g==null)return;var{dataKey:b}=y,w=Ese(n,p,g);t.dispatch(HI({activeDataKey:b,activeIndex:p,activeCoordinate:w,activeGraphicalItemId:g}))}}}});var Ase=lM({brush:one,cartesianAxis:Kre,chartData:AJ,errorBars:tae,graphicalItems:Wte,layout:tH,legend:lQ,options:SJ,polarAxis:ute,polarOptions:Nse,referenceElements:dne,rootProps:xse,tooltip:KX,zIndex:dJ}),Cse=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return O7({reducer:Ase,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([o5.middleware,l5.middleware,FS.middleware,h5.middleware,p5.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(SM({type:"raf"}))},devTools:{serialize:{replacer:bse},name:"recharts-".concat(r)}})};function g5(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Ur(),s=j.useRef(null);if(a)return r;s.current==null&&(s.current=Cse(t,n));var l=Zw;return j.createElement(Aae,{context:l,store:s.current},r)}function Pse(e){var{layout:t,margin:r}=e,n=_t(),a=Ur();return j.useEffect(()=>{a||(n(Z7(t)),n(X7(r)))},[n,a,t,r]),null}var y5=j.memo(Pse,Cg);function v5(e){var t=_t();return j.useEffect(()=>{t(wse(e))},[t,e]),null}function Lk(e){var{zIndex:t,isPanorama:r}=e,n=j.useRef(null),a=_t();return j.useLayoutEffect(()=>(n.current&&a(cJ({zIndex:t,element:n.current,isPanorama:r})),()=>{a(uJ({zIndex:t,isPanorama:r}))}),[a,t,r]),j.createElement("g",{tabIndex:-1,ref:n})}function Bk(e){var{children:t,isPanorama:r}=e,n=Ne(JZ);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),s=n.filter(l=>l>0);return j.createElement(j.Fragment,null,a.map(l=>j.createElement(Lk,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>j.createElement(Lk,{key:l,zIndex:l,isPanorama:r})))}var kse=["children"];function Tse(e,t){if(e==null)return{};var r,n,a=Dse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(null,arguments)}var Mse={width:"100%",height:"100%",display:"block"},Rse=j.forwardRef((e,t)=>{var r=lj(),n=cj(),a=aR();if(!Pa(r)||!Pa(n))return null;var{children:s,otherAttributes:l,title:d,desc:f}=e,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0),j.createElement(zw,pp({},l,{title:d,desc:f,role:p,tabIndex:h,width:r,height:n,style:Mse,ref:t}),s)}),Ise=e=>{var{children:t}=e,r=Ne(Jp);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return j.createElement(zw,{width:n,height:a,x:l,y:s},t)},$k=j.forwardRef((e,t)=>{var{children:r}=e,n=Tse(e,kse),a=Ur();return a?j.createElement(Ise,null,j.createElement(Bk,{isPanorama:!0},r)):j.createElement(Rse,pp({ref:t},n),j.createElement(Bk,{isPanorama:!1},r))});function Lse(){var e=_t(),[t,r]=j.useState(null),n=Ne(vH);return j.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Ze(s)&&s!==n&&e(eH(s))}},[t,e,n]),r}function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(n){$se(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $se(e,t,r){return(t=Use(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Use(e){var t=zse(e,"string");return typeof t=="symbol"?t:t+""}function zse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xs.apply(null,arguments)}var qse=()=>(LJ(),null);function gp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Kse=j.forwardRef((e,t)=>{var r,n,a=j.useRef(null),[s,l]=j.useState({containerWidth:gp((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:gp((n=e.style)===null||n===void 0?void 0:n.height)}),d=j.useCallback((h,p)=>{l(g=>{var y=Math.round(h),b=Math.round(p);return g.containerWidth===y&&g.containerHeight===b?g:{containerWidth:y,containerHeight:b}})},[]),f=j.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var y=w=>{var S=w[0];if(S!=null){var{width:_,height:N}=S.contentRect;d(_,N)}},b=new ResizeObserver(y);b.observe(h),a.current=b}},[t,d]);return j.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[d]),j.createElement(j.Fragment,null,j.createElement(ef,{width:s.containerWidth,height:s.containerHeight}),j.createElement("div",xs({ref:f},e)))}),Fse=j.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=j.useState({containerWidth:gp(r),containerHeight:gp(n)}),l=j.useCallback((f,h)=>{s(p=>{var g=Math.round(f),y=Math.round(h);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),d=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[t,l]);return j.createElement(j.Fragment,null,j.createElement(ef,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",xs({ref:d},e)))}),Hse=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return j.createElement(j.Fragment,null,j.createElement(ef,{width:r,height:n}),j.createElement("div",xs({ref:t},e)))}),Qse=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?j.createElement(Fse,xs({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?j.createElement(Hse,xs({},e,{width:r,height:n,ref:t})):j.createElement(j.Fragment,null,j.createElement(ef,{width:r,height:n}),j.createElement("div",xs({ref:t},e)))});function Vse(e){return e?Kse:Qse}var Gse=j.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:y,onTouchEnd:b,onTouchMove:w,onTouchStart:S,style:_,width:N,responsive:O,dispatchTouchEvents:A=!0}=e,C=j.useRef(null),D=_t(),[T,k]=j.useState(null),[M,I]=j.useState(null),G=Lse(),F=sj(),K=(F==null?void 0:F.width)>0?F.width:N,te=(F==null?void 0:F.height)>0?F.height:a,V=j.useCallback(B=>{G(B),typeof t=="function"&&t(B),k(B),I(B),B!=null&&(C.current=B)},[G,t,k,I]),ie=j.useCallback(B=>{D(s5(B)),D(zn({handler:s,reactEvent:B}))},[D,s]),L=j.useCallback(B=>{D(hw(B)),D(zn({handler:h,reactEvent:B}))},[D,h]),z=j.useCallback(B=>{D(QI()),D(zn({handler:p,reactEvent:B}))},[D,p]),ee=j.useCallback(B=>{D(hw(B)),D(zn({handler:g,reactEvent:B}))},[D,g]),ne=j.useCallback(()=>{D(f5())},[D]),me=j.useCallback(B=>{D(d5(B.key))},[D]),R=j.useCallback(B=>{D(zn({handler:l,reactEvent:B}))},[D,l]),Q=j.useCallback(B=>{D(zn({handler:d,reactEvent:B}))},[D,d]),pe=j.useCallback(B=>{D(zn({handler:f,reactEvent:B}))},[D,f]),le=j.useCallback(B=>{D(zn({handler:y,reactEvent:B}))},[D,y]),ve=j.useCallback(B=>{D(zn({handler:S,reactEvent:B}))},[D,S]),Oe=j.useCallback(B=>{A&&D(m5(B)),D(zn({handler:w,reactEvent:B}))},[D,A,w]),Ee=j.useCallback(B=>{D(zn({handler:b,reactEvent:B}))},[D,b]),de=Vse(O);return j.createElement(f4.Provider,{value:T},j.createElement(ND.Provider,{value:M},j.createElement(de,{width:K??(_==null?void 0:_.width),height:te??(_==null?void 0:_.height),className:nt("recharts-wrapper",n),style:Bse({position:"relative",cursor:"default",width:K,height:te},_),onClick:ie,onContextMenu:R,onDoubleClick:Q,onFocus:ne,onKeyDown:me,onMouseDown:pe,onMouseEnter:L,onMouseLeave:z,onMouseMove:ee,onMouseUp:le,onTouchEnd:Ee,onTouchMove:Oe,onTouchStart:ve,ref:V},j.createElement(qse,null),r)))}),Yse=["width","height","responsive","children","className","style","compact","title","desc"];function Wse(e,t){if(e==null)return{};var r,n,a=Xse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var b5=j.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:d,compact:f,title:h,desc:p}=e,g=Wse(e,Yse),y=Nn(g);return f?j.createElement(j.Fragment,null,j.createElement(ef,{width:r,height:n}),j.createElement($k,{otherAttributes:y,title:h,desc:p},s)):j.createElement(Gse,{className:l,style:d,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement($k,{otherAttributes:y,title:h,desc:p,ref:t},j.createElement(hne,null,s)))});function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mw.apply(null,arguments)}var Zse={top:5,right:5,bottom:5,left:5},Jse={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Zse,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},x5=j.forwardRef(function(t,r){var n,a=ar(t.categoricalChartProps,Jse),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return j.createElement(g5,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},j.createElement(z4,{chartData:h.data}),j.createElement(y5,{layout:a.layout,margin:a.margin}),j.createElement(v5,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(b5,mw({},a,{ref:r})))}),eoe=["axis","item"],w5=j.forwardRef((e,t)=>j.createElement(x5,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:eoe,tooltipPayloadSearcher:SS,categoricalChartProps:e,ref:t}));function toe(e){var t=_t();return j.useEffect(()=>{t(_se(e))},[t,e]),null}var roe=["layout"];function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(null,arguments)}function noe(e,t){if(e==null)return{};var r,n,a=aoe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ioe={top:5,right:5,bottom:5,left:5},j5={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ioe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},soe=j.forwardRef(function(t,r){var n,a=ar(t.categoricalChartProps,j5),{layout:s}=a,l=noe(a,roe),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=t,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return j.createElement(g5,{preloadedState:{options:g},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:d},j.createElement(z4,{chartData:a.data}),j.createElement(y5,{layout:s,margin:a.margin}),j.createElement(v5,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(toe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),j.createElement(b5,pw({},l,{ref:r})))});function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(n){ooe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ooe(e,t,r){return(t=loe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function loe(e){var t=coe(e,"string");return typeof t=="symbol"?t:t+""}function coe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uoe=["item"],doe=qk(qk({},j5),{},{layout:"centric",startAngle:0,endAngle:360}),S5=j.forwardRef((e,t)=>{var r=ar(e,doe);return j.createElement(soe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:uoe,tooltipPayloadSearcher:SS,categoricalChartProps:r,ref:t})}),foe=["axis"],_5=j.forwardRef((e,t)=>j.createElement(x5,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:foe,tooltipPayloadSearcher:SS,categoricalChartProps:e,ref:t}));const hoe=()=>{const e=we.currentUser;if(!e)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Not Authenticated"});const t=e.role===Ht.ADMIN,[r,n]=j.useState("All Time"),[a,s]=j.useState({from:"",to:""}),{data:l=[],isPending:d}=Oc(),{data:f=[],isPending:h}=Ec(),{data:p=[],isPending:g}=Ac(),{data:y=[],isPending:b}=As(),{data:w=[]}=Cs(),S=d||h||g||b,_=j.useMemo(()=>l.filter(z=>s0(z.orderDate,r,a)),[l,r,a]),N=j.useMemo(()=>f.filter(z=>s0(z.billDate,r,a)),[f,r,a]),O=j.useMemo(()=>p.filter(z=>s0(z.date,r,a)),[p,r,a]),A=O.filter(z=>z.type==="Income"&&!!z.referenceId).reduce((z,ee)=>z+ee.amount,0),C=A>0?A:_.filter(z=>z.status===Be.COMPLETED).reduce((z,ee)=>z+ee.total,0),D=O.filter(z=>z.type==="Expense"&&z.category==="expense_purchases").reduce((z,ee)=>z+ee.amount,0),T=D>0?D:N.reduce((z,ee)=>z+ee.total,0),k=O.filter(z=>z.type==="Expense"&&z.category!=="expense_purchases").reduce((z,ee)=>z+ee.amount,0),M=C-T-k,I={total:_.length,processing:_.filter(z=>z.status===Be.PROCESSING).length,picked:_.filter(z=>z.status===Be.PICKED).length,completed:_.filter(z=>z.status===Be.COMPLETED).length};_.reduce((z,ee)=>z+(ee.total-ee.paidAmount),0),N.reduce((z,ee)=>z+(ee.total-ee.paidAmount),0);const G=_.filter(z=>z.createdBy===e.id).length,F=new Date().toISOString().split("T")[0],K=_.filter(z=>z.createdBy===e.id&&z.orderDate===F).length,te=_.filter(z=>z.createdBy===e.id&&z.status===Be.ON_HOLD).length,V=j.useMemo(()=>{const z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ee=new Date().getFullYear(),ne={};return z.forEach(me=>{ne[me]={income:0,expense:0}}),p.forEach(me=>{const R=new Date(me.date);if(R.getFullYear()!==ee)return;const Q=R.getMonth(),pe=z[Q];me.type==="Income"?ne[pe].income+=me.amount:me.type==="Expense"&&(ne[pe].expense+=me.amount)}),z.map(me=>({name:me,income:ne[me].income,expense:-ne[me].expense,profit:ne[me].income-ne[me].expense}))},[l,f,p]),ie=j.useMemo(()=>{const z=new Map(w.map(le=>[le.id,le.name])),ee={},ne={},me=["#10B981","#3B82F6","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16"];let R=0;T>0&&(ee.Purchases=T,ne.Purchases=me[R++]),O.filter(le=>le.type==="Expense"&&le.category!=="expense_purchases").forEach(le=>{const ve=z.get(le.category)||le.category||"Uncategorized";ee[ve]=(ee[ve]||0)+le.amount,ne[ve]||(ne[ve]=me[R%me.length],R++)});const pe=Object.entries(ee).map(([le,ve])=>({name:le,value:Math.max(ve,1),color:ne[le]}));return pe.length>0?pe:[{name:"No Data",value:1,color:"#D1D5DB"}]},[O,T,w]),L=y.map(z=>({name:z.name.split(" ")[0],orders:l.filter(ee=>ee.createdBy===z.id).length})).sort((z,ee)=>ee.orders-z.orders);return t?c.jsxs("div",{className:"space-y-6",children:[c.jsx(Fd,{isLoading:S,message:"Loading dashboard data..."}),c.jsx(md,{filterRange:r,setFilterRange:n,customDates:a,setCustomDates:s}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(ea,{title:"Total Sales",value:be(C),icon:oe.Sales,bgColor:"bg-blue-600",textColor:"text-white",iconBgColor:"bg-blue-700"}),c.jsx(ea,{title:"Total Purchases",value:be(T),icon:oe.Briefcase,bgColor:"bg-purple-600",textColor:"text-white",iconBgColor:"bg-purple-700"}),c.jsx(ea,{title:"Other Expenses",value:be(k),icon:oe.Delete,bgColor:"bg-amber-500",textColor:"text-white",iconBgColor:"bg-amber-600"}),c.jsx(ea,{title:"Total Profit",value:be(M),icon:oe.Reports,isProfitCard:!0,profitValue:M}),c.jsx(ea,{title:"Total Orders",value:I.total,icon:oe.Dashboard,bgColor:"bg-indigo-700",textColor:"text-white",iconBgColor:"bg-indigo-800"}),c.jsx(ea,{title:"Processing Orders",value:I.processing,icon:oe.More,bgColor:"bg-sky-500",textColor:"text-white",iconBgColor:"bg-sky-600"}),c.jsx(ea,{title:"Picked Orders",value:I.picked,icon:oe.Courier,bgColor:"bg-cyan-500",textColor:"text-white",iconBgColor:"bg-cyan-600"}),c.jsx(ea,{title:"Completed Orders",value:I.completed,icon:oe.PlusCircle,bgColor:"bg-teal-600",textColor:"text-white",iconBgColor:"bg-teal-700"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsx("div",{children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Cash Flow"})}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-[#059669]"}),c.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Income"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),c.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Expense"})]})]})]}),c.jsx("div",{className:"h-[250px]",children:c.jsx(Xl,{width:"100%",height:"100%",children:c.jsxs(_5,{data:V,children:[c.jsx(Pd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(Td,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(Dd,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(Jl,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f8fafc"}}),c.jsx(Oo,{dataKey:"income",fill:"#059669",radius:[4,4,0,0],barSize:40}),c.jsx(Oo,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],barSize:40}),c.jsx(zS,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"}})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("div",{className:"flex items-center justify-between mb-8",children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Profit & Loss Summary"})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg",children:[c.jsx("span",{className:"font-bold text-gray-600 text-sm",children:"Total Incomes"}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:be(C)})]}),c.jsxs("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg",children:[c.jsx("span",{className:"font-bold text-gray-600 text-sm",children:"Total Expenses"}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:be(T+k)})]}),c.jsxs("div",{className:`flex justify-between items-center p-6 rounded-xl shadow-xl text-white
                  ${M>=0?"bg-emerald-600 shadow-emerald-600/20":"bg-red-600 shadow-red-600/20"}
                `,children:[c.jsx("span",{className:"font-black uppercase tracking-widest text-sm",children:"Net Profit"}),c.jsx("span",{className:"font-black text-sm",children:be(M)})]})]})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-8",children:"Expenses by Category"}),c.jsx("div",{className:"h-[300px]",children:c.jsx(Xl,{width:"100%",height:"100%",children:c.jsxs(S5,{children:[c.jsx(RS,{data:ie,innerRadius:0,outerRadius:100,dataKey:"value",children:ie.map((z,ee)=>c.jsx(Fo,{fill:z.color},`cell-${ee}`))}),c.jsx(Jl,{}),c.jsx(ag,{verticalAlign:"middle",align:"right",layout:"vertical"})]})})})]})]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx(md,{filterRange:r,setFilterRange:n,customDates:a,setCustomDates:s}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(ea,{title:"Total Created",value:G,icon:oe.Sales,bgColor:"bg-blue-600",textColor:"text-white",iconBgColor:"bg-blue-700"}),c.jsx(ea,{title:"Created Today",value:K,icon:oe.Dashboard,bgColor:"bg-teal-500",textColor:"text-white",iconBgColor:"bg-teal-600"}),c.jsx(ea,{title:"Pending (Hold)",value:te,icon:oe.More,bgColor:"bg-orange-500",textColor:"text-white",iconBgColor:"bg-orange-600"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Performance"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Comparing total orders across all employees"})]}),c.jsx("div",{className:"h-[400px]",children:c.jsx(Xl,{width:"100%",height:"100%",children:c.jsxs(w5,{data:L,children:[c.jsx(Pd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(Td,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:700,fill:"#64748b"}}),c.jsx(Dd,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:700,fill:"#64748b"}}),c.jsx(Jl,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),c.jsx(Oo,{dataKey:"orders",fill:"#10B981",radius:[12,12,0,0]})]})})})]})]})},N5=({anchorEl:e,open:t,onClose:r,children:n,align:a="right"})=>{const[s,l]=j.useState(null);if(j.useEffect(()=>{if(!t||!e){l(null);return}const f=()=>{const h=e.getBoundingClientRect(),g=a==="right"?h.right-200:h.left,y=h.bottom+8;l({top:y,left:g})};return f(),window.addEventListener("resize",f),window.addEventListener("scroll",f,!0),()=>{window.removeEventListener("resize",f),window.removeEventListener("scroll",f,!0)}},[e,t,a]),j.useEffect(()=>{if(!t)return;const f=h=>{const p=h.target;if(!e||e.contains(p))return;const g=document.getElementById("portal-menu-root");g&&g.contains(p)||r()};return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[t,e,r]),!t||!s)return null;const d=c.jsx("div",{id:"portal-menu-root",className:"fixed left-0 top-0 z-[2000] pointer-events-none",children:c.jsx("div",{style:{position:"fixed",top:s.top,left:s.left},className:"pointer-events-auto w-48 bg-white border border-gray-100 rounded-lg shadow-2xl py-2",children:n})});return bp.createPortal(d,document.body)},gw=(e,t)=>{t(`/print-order/${e}`)},moe=()=>{setTimeout(()=>{window.print()},100)},poe=()=>{const e=mt(),t=$e(),r=Mr(),{searchQuery:n}=Os(),a=we.currentUser,s=(a==null?void 0:a.role)===Ht.ADMIN,l=(a==null?void 0:a.role)===Ht.EMPLOYEE,[d,f]=j.useState("All Time"),[h,p]=j.useState({from:"",to:""}),[g,y]=j.useState("All"),[b,w]=j.useState(null),[S,_]=j.useState(null),[N,O]=j.useState(null),[A,C]=j.useState(null),[D,T]=j.useState(null),[k,M]=j.useState(null),[I,G]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:0}),{data:F=[],isPending:K}=Oc(),{data:te=[]}=$o(),{data:V=[]}=Es(),{data:ie=[]}=As(),{data:L}=Mp();Ip();const z=j9(),ee=Qd(),ne=Gd(),me=Vd(),R=j.useMemo(()=>new Map(ie.map(de=>[de.id,de])),[ie]),Q=de=>{if(d==="All Time")return!0;const B=new Date(de),Z=new Date;if(d==="Today")return B.toDateString()===Z.toDateString();if(d==="This Week"){const ge=Z.getDate()-Z.getDay(),ae=new Date(new Date().setDate(ge)),Ie=new Date(new Date().setDate(ge+6));return B>=ae&&B<=Ie}return d==="This Month"?B.getMonth()===Z.getMonth()&&B.getFullYear()===Z.getFullYear():d==="This Year"?B.getFullYear()===Z.getFullYear():d==="Custom"?!h.from||!h.to?!0:B>=new Date(h.from)&&B<=new Date(h.to):!0},pe=j.useMemo(()=>{let de=F.filter(B=>Q(B.orderDate)).filter(B=>g==="All"||B.status===g);if(n.trim()){const B=n.toLowerCase();de=de.filter(Z=>{const ge=te.find(ae=>ae.id===Z.customerId);return Z.orderNumber.toLowerCase().includes(B)||(ge==null?void 0:ge.name.toLowerCase().includes(B))||(ge==null?void 0:ge.phone.includes(B))})}return de},[F,d,h,g,n,te]),le=de=>{var B,Z;if((B=de.createdBy)!=null&&B.trim()){const ge=R.get(de.createdBy);if(ge!=null&&ge.name)return ge.name}if((Z=de.history)!=null&&Z.created){const ge=de.history.created.match(/^(.+?)\s+created this order on/);if(ge&&ge[1])return ge[1]}return null},ve=async de=>{if(confirm("Are you sure you want to delete this order?"))try{await z.mutateAsync(de),t.invalidateQueries({queryKey:["orders"]})}catch(B){console.error("Failed to delete order",B)}},Oe=de=>{G({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:de.total-de.paidAmount}),C(de)},Ee=async()=>{if(!A)return;const de=A;try{let B=V.find(Wn=>Wn.id===I.accountId);if(!B){if(!I.accountId){r.error("Please select an account");return}B={id:I.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const Z=I.amount<de.total,[ge,ae]=I.time.split(":").map(Number),Ie=new Date(I.date);Ie.setHours(ge,ae,0,0);const Ae=Ie.toISOString(),et={date:Ae,type:"Income",category:we.settings.defaults.incomeCategoryId||"income_sales",accountId:I.accountId,amount:de.total,description:`Payment for Order #${de.orderNumber}`,referenceId:de.id,contactId:de.customerId,paymentMethod:we.settings.defaults.paymentMethod||"Cash",createdBy:a.id};if(Z){const Wn=de.total-I.amount,ce={date:Ae,type:"Expense",category:"expense_shipping",accountId:I.accountId,amount:Wn,description:`Shipping costs for Order #${de.orderNumber}`,paymentMethod:we.settings.defaults.paymentMethod||"Cash",createdBy:a.id};await Promise.all([ne.mutateAsync(et),ne.mutateAsync(ce)])}else await ne.mutateAsync(et);const st=I.amount,Vt=(de.paidAmount??0)+I.amount,ir=Be.COMPLETED;await Promise.all([me.mutateAsync({id:B.id,updates:{currentBalance:(B.currentBalance??0)+st}}),ee.mutateAsync({id:de.id,updates:{paidAmount:Vt,status:ir}})]),C(null),t.invalidateQueries({queryKey:["orders"]})}catch(B){console.error("Failed to add payment:",B),r.error("Failed to add payment: "+(B instanceof Error?B.message:"Unknown error"))}};return c.jsxs("div",{className:"space-y-6 pb-12",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Sales Orders"}),c.jsx("p",{className:"text-gray-500 font-medium text-sm",children:"Monitor and process your client fulfillment cycle"})]}),c.jsx(Ke,{onClick:()=>e("/orders/new"),variant:"primary",size:"md",icon:oe.Plus,children:"New Order"})]}),c.jsx(md,{title:"Orders",filterRange:d,setFilterRange:f,customDates:h,setCustomDates:p,statusTab:g,setStatusTab:y,statusOptions:Object.values(Be)}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-visible",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Order Details"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Customer"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Created By"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Status"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] text-right",children:"Net Amount"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] sm:hidden",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:K?c.jsx(kp,{columns:6,rows:8}):pe.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:"No sales orders found for this period."})}):pe.map(de=>{var Z,ge,ae,Ie,Ae,et,st,Vt;const B=s||de.status===Be.ON_HOLD;return c.jsxs("tr",{onMouseEnter:()=>w(de.id),onMouseLeave:()=>w(null),onClick:()=>e(`/orders/${de.id}`),className:"group relative hover:bg-[#ebf4ff]/20 cursor-pointer transition-all",children:[c.jsxs("td",{className:"px-6 py-5",children:[c.jsxs("span",{className:"font-black text-gray-900",children:["#",de.orderNumber]}),c.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-1 tracking-tight",children:new Date(de.orderDate).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})})]}),c.jsxs("td",{className:"px-6 py-5",children:[c.jsx("span",{className:"text-sm font-bold text-gray-700",children:((Z=te.find(ir=>ir.id===de.customerId))==null?void 0:Z.name)||"Unknown"}),c.jsx("p",{className:"text-[10px] text-gray-400 font-medium mt-0.5",children:(ge=te.find(ir=>ir.id===de.customerId))==null?void 0:ge.phone})]}),c.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500",children:le(de)||""}),c.jsxs("td",{className:"px-6 py-5",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${Np(de.status)}`,children:de.status}),((Ie=(ae=de.history)==null?void 0:ae.courier)==null?void 0:Ie.includes("Steadfast"))&&c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"inline-block w-5 h-5 rounded-full ml-2"}),((et=(Ae=de.history)==null?void 0:Ae.courier)==null?void 0:et.includes("CarryBee"))&&c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"inline-block w-5 h-5 rounded-full ml-2"})]}),c.jsxs("td",{className:"px-6 py-5 text-right",children:[c.jsx("span",{className:"font-black text-gray-900 text-base",children:be(de.total)}),de.paidAmount>0&&c.jsx("p",{className:"text-[10px] font-black uppercase tracking-tighter mt-1 text-green-500",children:`Paid: ${be(de.paidAmount)}`})]}),c.jsx("td",{className:"px-6 py-5 sm:hidden relative z-[999]",onClick:ir=>ir.stopPropagation(),children:c.jsxs("div",{className:"relative z-[999]",children:[c.jsx("button",{onClick:ir=>{const Wn=ir.currentTarget;S===de.id?(_(null),O(null)):(_(de.id),O(Wn))},className:"p-2 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg transition-all",children:oe.More}),c.jsx(N5,{anchorEl:N,open:S===de.id,onClose:()=>{_(null),O(null)},children:l?c.jsxs("button",{onClick:()=>{e(`/orders/edit/${de.id}`),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[oe.Edit," Edit"]}):c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{e(`/orders/edit/${de.id}`),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[oe.Edit," Edit"]}),de.status!==Be.COMPLETED&&c.jsxs("button",{onClick:()=>{Oe(de),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[oe.Banking," Payment"]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{gw(de.id,e),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[oe.Print," Print"]}),c.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[oe.Download," Download"]}),de.status!==Be.PICKED&&de.status!==Be.COMPLETED&&de.status!==Be.CANCELLED&&de.status!==Be.ON_HOLD&&!((st=de.history)!=null&&st.courier)&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{T(de.id),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-[#0f2f57]",children:[c.jsx("img",{src:"../uploads/steadfast.png",alt:"Steadfast",className:"w-5 h-5 rounded-full"})," ",c.jsx("span",{children:"Add to Steadfast"})]}),c.jsxs("button",{onClick:()=>{M(de.id),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-[#0f2f57]",children:[c.jsx("img",{src:"../uploads/carrybee.png",alt:"CarryBee",className:"w-5 h-5 rounded-full"})," ",c.jsx("span",{children:"Add to CarryBee"})]})]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{ve(de.id),_(null),O(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[oe.Delete," Delete"]})]})})]})}),b===de.id&&c.jsx("td",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-10 animate-in fade-in slide-in-from-right-2 duration-200 hidden sm:table-cell",onClick:ir=>ir.stopPropagation(),children:c.jsx("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-[#ebf4ff]",children:l?c.jsx("button",{onClick:()=>e(`/orders/edit/${de.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:oe.Edit}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>e(`/orders/edit/${de.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:oe.Edit}),de.status!==Be.COMPLETED&&c.jsx("button",{onClick:()=>Oe(de),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Add Payment",children:oe.Banking}),c.jsx("button",{onClick:()=>gw(de.id,e),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Print",children:oe.Print}),c.jsx("button",{className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Download PDF",children:oe.Download}),de.status!==Be.PICKED&&de.status!==Be.COMPLETED&&de.status!==Be.CANCELLED&&de.status!==Be.ON_HOLD&&!((Vt=de.history)!=null&&Vt.courier)&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"}),c.jsx("button",{onClick:()=>T(de.id),className:"px-1 py-1 text-[9px] font-black hover:bg-[#ebf4ff] rounded-lg",title:"Send to Steadfast",children:c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-6 h-6 rounded-full"})}),c.jsx("button",{onClick:()=>M(de.id),className:"px-1 py-1 text-[9px] font-black hover:bg-orange-50 rounded-lg",title:"Send to CarryBee",children:c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-6 h-6 rounded-full"})}),c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"})]}),B&&c.jsx("button",{onClick:()=>ve(de.id),className:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:oe.Delete})]})})})]},de.id)})})]})})}),c.jsx(Lw,{isOpen:!!A,onClose:()=>C(null),onSubmit:Ee,accounts:V,paymentForm:I,setPaymentForm:G,isLoading:ne.isPending||me.isPending||ee.isPending,title:"Receive Payment",buttonText:"Add Payment"}),c.jsx(xD,{isOpen:!!D,onClose:()=>T(null),order:D?F.find(de=>de.id===D):null,customer:D?te.find(de=>{var B;return de.id===((B=F.find(Z=>Z.id===D))==null?void 0:B.customerId)}):null}),c.jsx(wD,{isOpen:!!k,onClose:()=>M(null),order:k?F.find(de=>de.id===k):null,customer:k?te.find(de=>{var B;return de.id===((B=F.find(Z=>Z.id===k))==null?void 0:B.customerId)}):null})]})},Kk=()=>{const{id:e}=An(),t=mt(),r=we.currentUser,n=(r==null?void 0:r.role)===Ht.ADMIN,a=(r==null?void 0:r.role)===Ht.EMPLOYEE,s=!!e;if(!r)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(Ke,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});if(s&&a)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot edit orders. Contact an administrator for assistance."}),c.jsx(Ke,{onClick:()=>t("/orders"),variant:"primary",children:"Back to Orders"})]});const{data:l=[]}=$o(),{data:d=[]}=Hd(),{data:f}=Bw(s?e:void 0),{data:h}=Mp(),p=Ip(),g=Qd(),y=Mr(),[b,w]=j.useState(""),[S,_]=j.useState(new Date().toISOString().split("T")[0]),[N,O]=j.useState(""),[A,C]=j.useState([]),[D,T]=j.useState(0),[k,M]=j.useState(0),[I,G]=j.useState(""),[F,K]=j.useState(!1),[te,V]=j.useState(""),[ie,L]=j.useState(!1),[z,ee]=j.useState(""),[ne,me]=j.useState(!1),[R,Q]=j.useState(null);xr.useEffect(()=>{if(f){if(!n&&f.status!==Be.ON_HOLD){y.warning('Employees can only edit orders that are currently "On Hold".'),t("/orders");return}w(f.customerId),_(f.orderDate),O(f.orderNumber),C(f.items),T(f.discount),M(f.shipping),G(f.notes||"")}else!s&&h&&O(`${h.prefix}${h.nextNumber}`)},[f,s,n,h,t,y]);const pe=A.reduce((Z,ge)=>Z+ge.amount,0),le=pe-D+k,ve=Z=>{const ge=d.find(Ie=>Ie.id===Z);if(!ge)return;const ae={productId:ge.id,productName:ge.name,rate:ge.salePrice,quantity:1,amount:ge.salePrice};C([...A,ae]),K(!1),V("")},Oe=(Z,ge)=>{const ae=[...A];ae[Z].quantity=Math.max(1,ge),ae[Z].amount=ae[Z].rate*ae[Z].quantity,C(ae)},Ee=Z=>{C(A.filter((ge,ae)=>ae!==Z))},de=async()=>{if(!b||A.length===0||!N){const Z=b?A.length?"Order number is not set. Please wait for it to load.":"Please add at least one product.":"Please select a customer.";Q(Z),y.error(Z);return}if(!(r!=null&&r.id)){y.error("User session expired. Please log in again."),Q("User session expired. Please log in again.");return}me(!0),Q(null);try{const Z=A.reduce((st,Vt)=>st+Vt.amount,0),ge=Z-D+k,ae=new Date,Ie=ae.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),Ae=ae.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),et={orderNumber:N,orderDate:S,customerId:b,createdBy:r.id,status:s&&f?f.status:Be.ON_HOLD,items:A,subtotal:Z,discount:D,shipping:k,total:ge,notes:I,paidAmount:s&&f?f.paidAmount:0,history:s&&f?f.history:{created:`${r.name} created this order on ${Ie}, at ${Ae}`}};s?(await g.mutateAsync({id:e,updates:et}),y.success("Order updated successfully"),t("/orders")):p.mutateAsync(et).then(st=>{me(!1),y.success("Order created successfully"),t(`/orders/${st.id}`)},st=>{me(!1);const Vt=st instanceof Error?st.message:"Failed to save order";Q(Vt),y.error(Vt)})}catch(Z){console.error("Failed to save order:",Z);const ge=Z instanceof Error?Z.message:"Failed to save order";Q(ge),y.error(ge),me(!1)}},B=l.find(Z=>Z.id===b);return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s?"Edit Order":"New Order"}),c.jsx("button",{onClick:()=>t("/orders"),className:"text-gray-500 hover:text-gray-700 font-medium text-sm px-4 py-2 border border-gray-200 rounded-lg bg-white transition-all",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-1 relative md:col-span-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Select Customer"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>L(!ie),className:"w-full text-left px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl hover:bg-white focus:ring-2 focus:ring-[#3c5a82] transition-all flex justify-between items-center group",children:[B?c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("span",{className:"font-bold block text-sm text-gray-900",children:B.name}),c.jsx("p",{className:"text-[10px] text-gray-500 leading-none mt-0.5",children:B.phone}),c.jsx("p",{className:"text-[10px] ${theme.colors.primary[600]} italic truncate mt-1",children:B.address})]}):c.jsx("span",{className:"text-gray-400 text-sm",children:"Select Customer..."}),c.jsx("div",{className:`transition-transform duration-200 ${ie?"rotate-90":""}`,children:oe.ChevronRight})]}),ie&&c.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full max-w-xs bg-white border border-gray-200 shadow-2xl rounded-lg z-[110] p-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:oe.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search name or phone...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:z,onChange:Z=>ee(Z.target.value)})]}),c.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-0.5 custom-scrollbar",children:l.filter(Z=>Z.name.toLowerCase().includes(z.toLowerCase())||Z.phone.includes(z)).map(Z=>c.jsxs("button",{onClick:()=>{w(Z.id),L(!1),ee("")},className:"w-full px-4 py-2.5 text-left hover:bg-[#ebf4ff] rounded-lg group transition-colors",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.primary[700]}",children:Z.name}),c.jsx("p",{className:"text-[10px] text-gray-400 group-hover:${theme.colors.primary[600]}/60",children:Z.phone})]},Z.id))}),c.jsx("button",{onClick:()=>{L(!1),t("/customers/new")},className:"w-full mt-2 py-3 ${theme.colors.primary[600]} text-[10px] font-black uppercase tracking-widest border-t border-gray-50 hover:bg-[#ebf4ff] transition-colors",children:"+ Add New Customer"})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Date"}),c.jsx("input",{type:"date",value:S,onChange:Z=>_(Z.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] focus:bg-white transition-all cursor-pointer font-bold text-sm"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Number"}),c.jsx("input",{type:"text",readOnly:!0,value:N,placeholder:h?"Order number":"Loading...",className:"w-full px-4 py-3 bg-gray-100 border border-gray-100 rounded-xl font-mono ${theme.colors.primary[700]} text-sm font-bold"})]})]}),c.jsx("div",{className:"border border-gray-100 rounded-lg overflow-visible bg-white",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Product Item"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Rate"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Qty"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),c.jsx("th",{className:"px-4 py-4"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-50",children:[A.map((Z,ge)=>{var ae,Ie;return c.jsxs("tr",{className:"group hover:bg-gray-50/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[((ae=d.find(Ae=>Ae.id===Z.productId))==null?void 0:ae.image)&&c.jsx("img",{src:(Ie=d.find(Ae=>Ae.id===Z.productId))==null?void 0:Ie.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-800 text-sm",children:Z.productName})]})}),c.jsx("td",{className:"px-4 py-4 text-center text-sm font-bold text-gray-600",children:be(Z.rate)}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsx("input",{type:"number",value:Z.quantity,onChange:Ae=>Oe(ge,parseInt(Ae.target.value)),className:"w-16 text-center py-2 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold outline-none"})}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 text-sm",children:be(Z.amount)}),c.jsx("td",{className:"px-4 py-4 text-right",children:c.jsx("button",{onClick:()=>Ee(ge),className:"p-2 text-red-200 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:oe.Delete})})]},ge)}),c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-5 relative",children:c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>K(!F),className:"flex items-center gap-2 ${theme.colors.primary[600]} font-black text-[10px] uppercase tracking-widest hover:bg-[#ebf4ff] px-4 py-2.5 rounded-xl border-2 border-dashed border-[#c7dff5] transition-all",children:[oe.Plus," Add an item"]}),F&&c.jsxs("div",{className:"absolute top-full left-0 mt-3 w-full max-w-md bg-white border border-gray-200 shadow-2xl rounded-lg z-[100] p-2 overflow-hidden animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:oe.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search catalog...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:te,onChange:Z=>V(Z.target.value)})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto space-y-0.5 custom-scrollbar",children:d.filter(Z=>Z.name.toLowerCase().includes(te.toLowerCase())).map(Z=>c.jsxs("button",{onClick:()=>ve(Z.id),className:"flex items-center gap-4 w-full px-4 py-3 text-left hover:bg-[#ebf4ff] rounded-xl group transition-all",children:[Z.image&&c.jsx("img",{src:Z.image,className:"w-10 h-10 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.primary[700]} truncate",children:Z.name}),c.jsx("p",{className:"text-[10px] font-bold ${theme.colors.primary[600]}/60 uppercase tracking-widest",children:be(Z.salePrice)})]})]},Z.id))})]})]})})})]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-12 pt-6",children:[c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Notes / Terms"}),c.jsx("textarea",{placeholder:"Internal notes or special instructions for this order...",value:I,onChange:Z=>G(Z.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-100 rounded-lg h-32 focus:ring-2 focus:ring-[#3c5a82] focus:bg-white outline-none font-medium text-sm transition-all"})]}),c.jsxs("div",{className:"w-full md:w-96 space-y-4 bg-gray-50/50 p-8 rounded-lg border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-[12px] font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Subtotal"}),c.jsx("span",{className:"text-gray-900 font-black",children:be(pe)})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-[12px] font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Discount"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-gray-500 font-black",children:""}),c.jsx("input",{type:"number",value:D,onChange:Z=>T(parseFloat(Z.target.value)||0),className:"w-20 text-right py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]})]}),c.jsxs("div",{className:"pt-6 border-t-4 border-[#c7dff5] flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-black text-gray-900 uppercase tracking-tighter",children:"Total"}),c.jsx("span",{className:"text-sm font-black text-[#3c5a82]",children:be(le)})]}),R&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:R})}),c.jsx(Ke,{onClick:de,variant:"primary",size:"lg",className:"w-full mt-4",disabled:ne,loading:ne,children:s?"Update Order":"Create Order"})]})]})]})]})},goe=()=>{var ne,me,R,Q,pe;const{id:e}=An(),t=mt(),r=$e(),n=Mr(),a=we.currentUser;a.role,Ht.ADMIN;const{data:s,isPending:l,error:d}=Bw(e||""),{data:f=[]}=$o(),{data:h=[]}=As(),{data:p=[]}=Hd(),{data:g=[]}=Es(),{data:y}=Dp(),{data:b}=Rp(),w=Qd();Ip();const S=Gd(),_=Vd(),[N,O]=j.useState(!1),[A,C]=j.useState(!1),[D,T]=j.useState(!1),[k,M]=j.useState({date:new Date().toISOString().split("T")[0],accountId:we.settings.defaults.accountId||"",amount:0}),[I,G]=j.useState(!1),F=s?f.find(le=>le.id===s.customerId):void 0,K=s?h.find(le=>le.id===s.createdBy):void 0,te=l;if(te)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading order..."});if(d||!s)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(d==null?void 0:d.message)||"Order not found."});const V=async(le,ve,Oe)=>{if(s)try{const Ee={...s,status:le,history:ve?{...s.history,[ve]:Oe}:s.history};await w.mutateAsync({id:e,updates:Ee}),r.invalidateQueries({queryKey:["order",e]}),G(!1)}catch(Ee){console.error("Failed to update order status:",Ee),n.error("Failed to update order status")}},ie=async()=>{const le=`Marked as processing by ${a.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await V(Be.PROCESSING,"processing",le)},L=async()=>{const le=`Marked as picked by courier, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await V(Be.PICKED,"picked",le)},z=async()=>{let le=g.find(Z=>Z.id===k.accountId);if(!le){if(!k.accountId){n.error("Please select an account");return}le={id:k.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const ve=s.paidAmount+k.amount;new Date(k.date);const Oe=`Payment of ${be(k.amount)} received by ${a.name} on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`,Ee=k.amount<s.total,de=Be.COMPLETED,B={...s,paidAmount:ve,status:de,history:{...s.history,payment:Oe}};try{const Z={id:Math.random().toString(36).substr(2,9),date:k.date,type:"Income",category:we.settings.defaults.incomeCategoryId||"income_sales",accountId:k.accountId,amount:s.total,description:`Payment for Order #${s.orderNumber}`,referenceId:s.id,contactId:s.customerId,paymentMethod:we.settings.defaults.paymentMethod||"Cash",createdBy:a.id};if(await S.mutateAsync(Z),Ee){const Ie=s.total-k.amount,Ae={id:Math.random().toString(36).substr(2,9),date:k.date,type:"Expense",category:"expense_shipping",accountId:k.accountId,amount:Ie,description:`Shipping costs for Order #${s.orderNumber}`,paymentMethod:we.settings.defaults.paymentMethod||"Cash",createdBy:a.id};await S.mutateAsync(Ae)}const ge=k.amount,ae=await Promise.allSettled([w.mutateAsync({id:e,updates:B}),_.mutateAsync({id:k.accountId,updates:{currentBalance:le.currentBalance+ge}})]);if(ae[0].status==="rejected"||ae[1].status==="rejected"){const Ie=ae[0].status==="rejected"?"failed":"succeeded",Ae=ae[1].status==="rejected"?"failed":"succeeded";throw new Error(`Payment update failed: Order update ${Ie}, Account update ${Ae}`)}r.invalidateQueries({queryKey:["order",e]}),r.invalidateQueries({queryKey:["orders"]}),O(!1),n.success("Payment recorded successfully")}catch(Z){console.error("Failed to record payment:",Z),n.error("Failed to record payment")}},ee=()=>{M({date:new Date().toISOString().split("T")[0],accountId:"",amount:s.total-s.paidAmount}),O(!0)};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsx(Fd,{isLoading:te&&!s,message:"Loading order details..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/orders"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500 transition-all",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Order: ",s.orderNumber]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${Np(s.status)}`,children:s.status}),((me=(ne=s.history)==null?void 0:ne.courier)==null?void 0:me.includes("Steadfast"))&&c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-6 h-6 rounded-full"}),((Q=(R=s.history)==null?void 0:R.courier)==null?void 0:Q.includes("CarryBee"))&&c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-6 h-6 rounded-full"})]}),c.jsxs("div",{className:"flex items-center gap-2 relative",children:[c.jsxs("button",{onClick:()=>gw(e,t),className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg bg-white hover:bg-gray-50 transition-all shadow-sm",children:[oe.Print," Print"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>G(!I),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg ${se.colors.primary[600]} text-white hover:${se.colors.primary[700]} transition-all shadow-md`,children:[oe.More," Actions"]}),I&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>G(!1)}),c.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-100 rounded-xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in duration-150 origin-top-right",children:[c.jsxs("button",{onClick:()=>t(`/orders/edit/${s.id}`),className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[oe.Edit," Edit Order"]}),s.status!==Be.COMPLETED&&c.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",onClick:ee,children:[oe.Banking," Add Payment"]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>V(Be.CANCELLED),disabled:s.status===Be.COMPLETED,className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 disabled:hover:bg-gray-50 flex items-center gap-2 text-red-500 font-bold disabled:text-gray-300 disabled:cursor-not-allowed",children:[oe.Delete," Cancel Order"]})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden",children:c.jsxs("div",{className:"p-10 space-y-5",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[((y==null?void 0:y.logo)||we.settings.company.logo)&&c.jsx("img",{src:(y==null?void 0:y.logo)||we.settings.company.logo,className:"rounded-lg object-cover mb-4",style:{width:(b==null?void 0:b.logoWidth)||we.settings.invoice.logoWidth,height:(b==null?void 0:b.logoHeight)||we.settings.invoice.logoHeight}}),c.jsx("h1",{className:"text-xl font-black ${theme.colors.primary[600]} uppercase tracking-tighter",children:(y==null?void 0:y.name)||we.settings.company.name}),c.jsxs("div",{className:"mt-2 text-xs text-gray-400 font-medium space-y-1",children:[c.jsx("p",{children:(y==null?void 0:y.address)||we.settings.company.address}),c.jsxs("p",{children:[(y==null?void 0:y.phone)||we.settings.company.phone,"  ",(y==null?void 0:y.email)||we.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-300 uppercase leading-none mb-2",children:(b==null?void 0:b.title)||we.settings.invoice.title}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Order No:"})," ",s.orderNumber]}),c.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Date:"})," ",s.orderDate]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-12 border-t border-gray-100 py-4",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Billed To"}),c.jsx("h3",{className:"text-md font-black text-gray-900",children:F==null?void 0:F.name}),c.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:F==null?void 0:F.address}),c.jsx("p",{className:"text-sm font-bold ${theme.colors.primary[600]} mt-2",children:F==null?void 0:F.phone})]})}),c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100",children:[c.jsx("th",{className:"py-4 text-sm font-black text-gray-400 uppercase",children:"Item Description"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase",children:"Rate"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase",children:"Qty"}),c.jsx("th",{className:"py-4 text-sm text-right font-black text-gray-400 uppercase",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:s.items.map((le,ve)=>{const Oe=p.find(Ee=>Ee.id===le.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:Oe==null?void 0:Oe.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-900",children:le.productName})]})}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold",children:be(le.rate)}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold",children:le.quantity}),c.jsx("td",{className:"py-6 text-right font-black text-gray-900",children:be(le.amount)})]},ve)})})]}),c.jsx("div",{className:"flex justify-end pt-6",children:c.jsxs("div",{className:"w-full max-w-xs space-y-4",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900",children:be(s.subtotal)})]}),s.discount>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500",children:["-",be(s.discount)]})]}),s.shipping>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900",children:be(s.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-6 border-t-2 border-[#0f2f57]",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter",children:"Net Total"}),c.jsx("span",{className:"font-black",children:be(s.total)})]})]})}),s.notes&&c.jsxs("div",{className:"bg-gray-50 p-4 rounded-[10px] border border-gray-100",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase tracking-widest mb-2",children:"Terms & Notes"}),c.jsx("p",{className:"text-xs text-gray-600 font-medium italic leading-relaxed",children:s.notes})]})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"1. Creation"}),c.jsx("div",{className:"p-1 bg-[#ebf4ff]0 text-white rounded-full",children:oe.Plus})]}),c.jsx("div",{className:"p-5",children:c.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:s.history.created||`Created by ${(K==null?void 0:K.name)||"Unknown"} on ${s.orderDate}`})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"2. Processing"}),c.jsx("div",{className:`p-1 rounded-full ${s.history.processing?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:oe.ChevronRight})]}),c.jsxs("div",{className:"p-5 space-y-4",children:[s.history.processing?c.jsx("p",{className:"text-xs ${theme.colors.primary[600]} leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:s.history.processing}):c.jsx("button",{disabled:s.status!==Be.ON_HOLD,onClick:ie,className:`w-full py-3 ${se.colors.secondary[600]} hover:${se.colors.secondary[700]} disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Mark as Processing"}),s.history.courier?c.jsx("p",{className:"text-xs text-gray-700 leading-relaxed font-bold bg-gray-50 p-3 rounded-xl",children:s.history.courier}):s.status!==Be.PICKED&&s.status!==Be.COMPLETED&&s.status!==Be.CANCELLED&&s.status!==Be.ON_HOLD&&!((pe=s.history)!=null&&pe.courier)&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>C(!0),className:"w-full py-3 bg-[#0f2f57] hover:bg-[#0a1f38] text-white font-bold rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:[c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-5 h-5 rounded-full"})," Add to Steadfast"]}),c.jsxs("button",{onClick:()=>T(!0),className:"w-full py-3 bg-[#0f2f57] hover:bg-[#0a1f38] text-white font-bold rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:[c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-5 h-5 rounded-full"})," Add to CarryBee"]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"3. Courier Picked"}),c.jsx("div",{className:`p-1 rounded-full ${s.history.picked?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:oe.Courier})]}),c.jsx("div",{className:"p-5",children:s.history.picked?c.jsx("p",{className:"text-xs text-purple-600 leading-relaxed font-bold bg-purple-50 p-3 rounded-xl",children:s.history.picked}):c.jsx("button",{disabled:s.status!==Be.PROCESSING,onClick:L,className:"w-full py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95",children:"Mark as Picked"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"4. Payment"}),c.jsx("div",{className:`p-1 rounded-full ${s.paidAmount>=s.total?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:oe.Banking})]}),c.jsx("div",{className:"p-5 space-y-3",children:s.history.payment?c.jsx("div",{className:"space-y-2",children:c.jsx("p",{className:"text-xs ${theme.colors.primary[600]} leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:s.history.payment})}):c.jsxs("div",{className:"space-y-4 text-center",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Amount Due"}),c.jsx("p",{className:"text-2xl font-black text-gray-900",children:be(s.total-s.paidAmount)})]}),c.jsx("button",{onClick:ee,className:`w-full py-3 ${se.colors.primary[600]} hover:${se.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Add Payment"})]})})]})]})]}),c.jsx(Lw,{isOpen:N,onClose:()=>O(!1),onSubmit:z,accounts:g,paymentForm:k,setPaymentForm:M,isLoading:w.isPending||S.isPending||_.isPending,title:"Record Payment",buttonText:"Add Payment"}),c.jsx(xD,{isOpen:A,onClose:()=>C(!1),order:s,customer:F}),c.jsx(wD,{isOpen:D,onClose:()=>T(!1),order:s,customer:F})]})},yoe=()=>{const e=mt(),t=$e(),r=Mr(),{searchQuery:n}=Os(),a=we.currentUser,{data:s=[],isPending:l}=Ec(),{data:d=[]}=Cc(),{data:f=[]}=As(),[h,p]=j.useState("All Time"),[g,y]=j.useState({from:"",to:""}),[b,w]=j.useState("All"),[S,_]=j.useState(null),[N,O]=j.useState(null),[A,C]=j.useState(null),D=yD(),T=S9(),k=j.useMemo(()=>new Map(f.map(te=>[te.id,te])),[f]),M=te=>{if(h==="All Time")return!0;const V=new Date(te),ie=new Date;if(h==="Today")return V.toDateString()===ie.toDateString();if(h==="This Week"){const L=ie.getDate()-ie.getDay(),z=new Date(new Date().setDate(L)),ee=new Date(new Date().setDate(L+6));return V>=z&&V<=ee}return h==="This Month"?V.getMonth()===ie.getMonth()&&V.getFullYear()===ie.getFullYear():h==="This Year"?V.getFullYear()===ie.getFullYear():h==="Custom"?!g.from||!g.to?!0:V>=new Date(g.from)&&V<=new Date(g.to):!0},I=j.useMemo(()=>{let te=s.filter(V=>M(V.billDate)).filter(V=>b==="All"||V.status===b);if(n.trim()){const V=n.toLowerCase();te=te.filter(ie=>{const L=d.find(z=>z.id===ie.vendorId);return ie.billNumber.toLowerCase().includes(V)||(L==null?void 0:L.name.toLowerCase().includes(V))||ie.status.toLowerCase().includes(V)})}return te},[s,h,g,b,n,d]),G=te=>{var V,ie;if((V=te.createdBy)!=null&&V.trim()){const L=k.get(te.createdBy);if(L!=null&&L.name)return L.name}if((ie=te.history)!=null&&ie.created){const L=te.history.created.match(/Created by\s+(.+?)\s+on/);if(L&&L[1])return L[1]}return null},F=async te=>{try{const V=new Date,ie=V.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),L=V.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),z={billNumber:`PUR-${Math.floor(1e3+Math.random()*9e3)}`,billDate:new Date().toISOString().split("T")[0],vendorId:te.vendorId,createdBy:(a==null?void 0:a.id)||te.createdBy,status:an.ON_HOLD,items:te.items,subtotal:te.subtotal,discount:te.discount,shipping:te.shipping,total:te.total,paidAmount:0,notes:te.notes,history:{created:`Created as duplicate on ${ie}, at ${L}`}};await D.mutateAsync(z),t.invalidateQueries({queryKey:["bills"]})}catch(V){console.error("Failed to duplicate bill:",V),r.error("Failed to duplicate bill")}},K=async te=>{if(confirm("Are you sure you want to delete this bill?"))try{await T.mutateAsync(te),t.invalidateQueries({queryKey:["bills"]})}catch(V){console.error("Failed to delete bill:",V),r.error("Failed to delete bill")}};return c.jsxs("div",{className:"space-y-6 pb-12",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Purchase Bills"}),c.jsx("p",{className:"text-gray-500 font-medium text-sm",children:"Manage vendor procurement and supply chain payables"})]}),c.jsx(Ke,{onClick:()=>e("/bills/new"),variant:"primary",size:"md",icon:oe.Plus,children:"New Bill"})]}),c.jsx(md,{title:"Bills",filterRange:h,setFilterRange:p,customDates:g,setCustomDates:y,statusTab:b,setStatusTab:w,statusOptions:Object.values(an)}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-visible",children:c.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Bill Details"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Vendor"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Created By"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Status"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] text-right",children:"Net Amount"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] sm:hidden",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:l?c.jsx(kp,{columns:6,rows:8}):I.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:"No purchase bills found for this period."})}):I.map(te=>{var V;return c.jsxs("tr",{onMouseEnter:()=>_(te.id),onMouseLeave:()=>_(null),onClick:()=>e(`/bills/${te.id}`),className:"group relative hover:bg-[#ebf4ff]/20 cursor-pointer transition-all",children:[c.jsxs("td",{className:"px-6 py-5",children:[c.jsxs("span",{className:"font-black text-gray-900",children:["#",te.billNumber]}),c.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-1 tracking-tight",children:te.billDate})]}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:"text-sm font-bold text-gray-700",children:((V=d.find(ie=>ie.id===te.vendorId))==null?void 0:V.name)||"Unknown Vendor"})}),c.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500",children:G(te)||""}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${Np(te.status)}`,children:te.status})}),c.jsx("td",{className:"px-6 py-5 text-right",children:c.jsx("span",{className:"font-black text-gray-900 text-base",children:be(te.total)})}),c.jsx("td",{className:"px-6 py-5 sm:hidden relative z-[999]",onClick:ie=>ie.stopPropagation(),children:c.jsxs("div",{className:"relative z-[999]",children:[c.jsx("button",{onClick:ie=>{const L=ie.currentTarget;N===te.id?(O(null),C(null)):(O(te.id),C(L))},className:"p-2 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg transition-all",children:oe.More}),c.jsxs(N5,{anchorEl:A,open:N===te.id,onClose:()=>{O(null),C(null)},children:[c.jsxs("button",{onClick:()=>{e(`/bills/edit/${te.id}`),O(null),C(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[oe.Edit," Edit"]}),c.jsxs("button",{onClick:()=>{F(te),O(null),C(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[oe.Duplicate," Duplicate"]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{K(te.id),O(null),C(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[oe.Delete," Delete"]})]})]})}),S===te.id&&c.jsx("td",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-10 animate-in fade-in slide-in-from-right-2 duration-200 hidden sm:table-cell",onClick:ie=>ie.stopPropagation(),children:c.jsxs("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-[#ebf4ff]",children:[c.jsx("button",{onClick:()=>e(`/bills/edit/${te.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:oe.Edit}),c.jsx("button",{onClick:()=>F(te),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Duplicate",children:oe.Duplicate}),c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"}),c.jsx("button",{onClick:()=>K(te.id),className:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:oe.Delete})]})})]},te.id)})})]})})})]})},Fk=()=>{const{id:e}=An(),t=mt(),r=we.currentUser,n=!!e;if(!r)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(Ke,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});const{data:a=[]}=Cc(),{data:s=[]}=Hd(),{data:l,isPending:d,error:f}=fD(e),h=yD(),p=vD(),g=Mr(),[y,b]=j.useState(""),[w,S]=j.useState(new Date().toISOString().split("T")[0]),[_,N]=j.useState(""),[O,A]=j.useState([]),[C,D]=j.useState(0),[T,k]=j.useState(0),[M,I]=j.useState(""),[G,F]=j.useState(!1),[K,te]=j.useState(""),[V,ie]=j.useState(!1),[L,z]=j.useState(""),[ee,ne]=j.useState(!1),[me,R]=j.useState(null);xr.useEffect(()=>{l?(b(l.vendorId),S(l.billDate),N(l.billNumber),A(l.items),D(l.discount),k(l.shipping),I(l.notes||"")):n||N(`PUR-${Math.floor(1e3+Math.random()*9e3)}`)},[l,n]);const Q=O.reduce((B,Z)=>B+Z.amount,0),pe=Q-C+T,le=B=>{const Z=s.find(ae=>ae.id===B);if(!Z)return;const ge={productId:Z.id,productName:Z.name,rate:Z.purchasePrice,quantity:1,amount:Z.purchasePrice};A([...O,ge]),F(!1),te("")},ve=(B,Z)=>{const ge=[...O];ge[B].quantity=Math.max(1,Z),ge[B].amount=ge[B].rate*ge[B].quantity,A(ge)},Oe=B=>{A(O.filter((Z,ge)=>ge!==B))},Ee=async()=>{if(!y||O.length===0){R("Please select a vendor and add at least one product.");return}if(!(r!=null&&r.id)){R("User session expired. Please log in again.");return}ne(!0),R(null);try{const B=O.reduce((Ae,et)=>Ae+et.amount,0),Z=B-C+T,ge=new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),ae=new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),Ie={billNumber:_,billDate:w,vendorId:y,createdBy:r.id,status:n&&l?l.status:an.ON_HOLD,items:O,subtotal:B,discount:C,shipping:T,total:Z,notes:M,paidAmount:n&&l?l.paidAmount:0,history:n&&l?l.history:{created:`Created by ${r.name} on ${ge}, at ${ae}`}};n?(await p.mutateAsync({id:e,updates:Ie}),g.success("Bill updated successfully"),ne(!1),t("/bills")):h.mutateAsync(Ie).then(Ae=>{ne(!1),g.success("Bill created successfully"),t(`/bills/${Ae.id}`)},Ae=>{ne(!1);const et=Ae instanceof Error?Ae.message:"Failed to save bill";R(et),g.error(et)})}catch(B){console.error("Failed to save bill:",B);const Z=B instanceof Error?B.message:"Failed to save bill";R(Z),g.error(Z),ne(!1)}},de=a.find(B=>B.id===y);return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Bill":"New Purchase Bill"}),c.jsx("button",{onClick:()=>t("/bills"),className:"text-gray-500 hover:text-gray-700 font-medium text-sm px-4 py-2 border border-gray-200 rounded-lg bg-white transition-all",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-1 relative md:col-span-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Select Vendor"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>ie(!V),className:"w-full text-left px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl hover:bg-white focus:ring-2 focus:ring-[#3c5a82] transition-all flex justify-between items-center group",children:[de?c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("span",{className:"font-bold block text-sm text-gray-900",children:de.name}),c.jsx("p",{className:"text-[10px] text-gray-500 leading-none mt-0.5",children:de.phone}),c.jsx("p",{className:"text-[10px] ${theme.colors.secondary[600]} italic truncate mt-1",children:de.address})]}):c.jsx("span",{className:"text-gray-400 text-sm",children:"Select Vendor..."}),c.jsx("div",{className:`transition-transform duration-200 ${V?"rotate-90":""}`,children:oe.ChevronRight})]}),V&&c.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full max-w-xs bg-white border border-gray-200 shadow-2xl rounded-lg z-[110] p-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:oe.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search business...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:L,onChange:B=>z(B.target.value)})]}),c.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-0.5 custom-scrollbar",children:a.filter(B=>B.name.toLowerCase().includes(L.toLowerCase())||B.phone.includes(L)).map(B=>c.jsxs("button",{onClick:()=>{b(B.id),ie(!1),z("")},className:"w-full px-4 py-2.5 text-left hover:bg-[#e6f0ff] rounded-lg group transition-colors",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.secondary[700]}",children:B.name}),c.jsx("p",{className:"text-[10px] text-gray-400 group-hover:${theme.colors.secondary[600]}/60",children:B.phone})]},B.id))}),c.jsx(Ke,{onClick:()=>{ie(!1),t("/vendors/new")},variant:"secondary",size:"sm",className:"w-full mt-2 text-[10px]",icon:oe.Plus,children:"Add New Vendor"})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bill Date"}),c.jsx("input",{type:"date",value:w,onChange:B=>S(B.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] focus:bg-white transition-all cursor-pointer font-bold text-sm"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bill Number"}),c.jsx("input",{type:"text",value:_,onChange:B=>N(B.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl font-mono ${theme.colors.secondary[700]} text-sm font-bold"})]})]}),c.jsx("div",{className:"border border-gray-100 rounded-lg overflow-visible bg-white",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Product Item"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Cost Rate"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Qty"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),c.jsx("th",{className:"px-4 py-4"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-50",children:[O.map((B,Z)=>{var ge,ae;return c.jsxs("tr",{className:"group hover:bg-gray-50/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[((ge=s.find(Ie=>Ie.id===B.productId))==null?void 0:ge.image)&&c.jsx("img",{src:(ae=s.find(Ie=>Ie.id===B.productId))==null?void 0:ae.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-800 text-sm",children:B.productName})]})}),c.jsx("td",{className:"px-4 py-4 text-center text-sm font-bold text-gray-600",children:be(B.rate)}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsx("input",{type:"number",value:B.quantity,onChange:Ie=>ve(Z,parseInt(Ie.target.value)),className:"w-16 text-center py-2 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold outline-none"})}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 text-sm",children:be(B.amount)}),c.jsx("td",{className:"px-4 py-4 text-right",children:c.jsx("button",{onClick:()=>Oe(Z),className:"p-2 text-red-200 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:oe.Delete})})]},Z)}),c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-5 relative",children:c.jsxs("div",{className:"relative",children:[c.jsx(Ke,{onClick:()=>F(!G),variant:"secondary",size:"sm",icon:oe.Plus,className:"border-2 border-dashed border-[#c7e0f5]",children:"Add an item"}),G&&c.jsxs("div",{className:"absolute top-full left-0 mt-3 w-full max-w-md bg-white border border-gray-200 shadow-2xl rounded-lg z-[100] p-2 overflow-hidden animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:oe.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search product...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:K,onChange:B=>te(B.target.value)})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto space-y-0.5 custom-scrollbar",children:s.filter(B=>B.name.toLowerCase().includes(K.toLowerCase())).map(B=>c.jsxs("button",{onClick:()=>le(B.id),className:"flex items-center gap-4 w-full px-4 py-3 text-left hover:bg-[#e6f0ff] rounded-xl group transition-all",children:[B.image&&c.jsx("img",{src:B.image,className:"w-10 h-10 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.secondary[700]} truncate",children:B.name}),c.jsxs("p",{className:"text-[10px] font-bold ${theme.colors.secondary[600]}/60 uppercase tracking-widest",children:["Cost: ",be(B.purchasePrice)]})]})]},B.id))})]})]})})})]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-12 pt-6",children:[c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Purchase Memo"}),c.jsx("textarea",{placeholder:"Bill details, vendor instructions, or delivery notes...",value:M,onChange:B=>I(B.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-100 rounded-lg h-32 focus:ring-2 focus:ring-[#3c5a82] focus:bg-white outline-none font-medium text-sm transition-all"})]}),c.jsxs("div",{className:"w-full md:w-96 space-y-4 bg-gray-50/50 p-8 rounded-[2rem] border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Subtotal"}),c.jsx("span",{className:"text-gray-900 font-black",children:be(Q)})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Discount"}),c.jsx("input",{type:"number",value:C,onChange:B=>D(parseFloat(B.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Shipping"}),c.jsx("input",{type:"number",value:T,onChange:B=>k(parseFloat(B.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]}),c.jsxs("div",{className:"pt-6 border-t-4 border-[#c7e0f5] flex justify-between items-center",children:[c.jsx("span",{className:"text-lg font-bold text-gray-900 uppercase tracking-tighter",children:"Total Bill"}),c.jsx("span",{className:"text-3xl font-black",children:be(pe)})]}),c.jsx(Ke,{onClick:Ee,variant:"primary",size:"lg",className:"w-full mt-4",loading:ee,disabled:ee,children:"Save Purchase Bill"})]})]})]})]})},voe=()=>{var ie,L,z,ee;const{id:e}=An(),t=mt(),r=$e(),n=we.currentUser,{data:a,isPending:s,error:l}=fD(e||""),{data:d=[]}=Cc(),{data:f=[]}=As(),{data:h=[]}=Es(),{data:p}=Dp(),{data:g}=Rp(),y=vD(),b=Gd(),w=Vd(),S=Mr(),_=y.isPending||b.isPending||w.isPending,N=a?d.find(ne=>ne.id===a.vendorId):void 0,O=a?f.find(ne=>ne.id===a.createdBy):void 0,A=s,[C,D]=j.useState(!1),[T,k]=j.useState(!1),[M,I]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:we.settings.defaults.accountId||"",amount:0});if(A)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading bill..."});if(l||!a)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(l==null?void 0:l.message)||"Bill not found."});const G=async(ne,me,R)=>{if(a)try{const Q={...a,status:ne,history:me?{...a.history,[me]:R}:a.history};await y.mutateAsync({id:e,updates:Q}),r.invalidateQueries({queryKey:["bill",e]}),r.invalidateQueries({queryKey:["bills"]}),D(!1)}catch(Q){console.error("Failed to update bill status:",Q),S.error("Failed to update bill status")}},F=async()=>{const ne=`Marked as processing by ${n.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await G(an.PROCESSING,"processing",ne)},K=async()=>{const ne=`Marked as received by ${n.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await G(an.RECEIVED,"received",ne)},te=async()=>{if(a)try{let ne=h.find(ge=>ge.id===M.accountId);if(!ne){if(!M.accountId){S.error("Please select an account");return}ne={id:M.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const me=a.paidAmount+M.amount,R=`Payment of ${be(M.amount)} received by ${n.name} on ${new Date(M.date).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`,pe=me>=a.total?an.PAID:a.status,[le,ve]=M.time.split(":").map(Number),Oe=new Date(M.date);Oe.setHours(le,ve,0,0);const Ee=Oe.toISOString(),de={...a,paidAmount:me,status:pe,history:{...a.history,paid:R},paidAt:M.date};try{const ge={id:Math.random().toString(36).substr(2,9),date:Ee,type:"Expense",category:we.settings.defaults.expenseCategoryId||"expense_purchases",accountId:M.accountId,amount:M.amount,description:`Payment for Bill #${a.billNumber}`,referenceId:a.id,contactId:a.vendorId,paymentMethod:we.settings.defaults.paymentMethod||"Cash",createdBy:n.id};await b.mutateAsync(ge)}catch(ge){console.error("Failed to create transaction:",ge)}const B=M.amount,Z=await Promise.allSettled([y.mutateAsync({id:e,updates:de}),w.mutateAsync({id:M.accountId,updates:{currentBalance:ne.currentBalance-B}})]);if(Z[0].status==="rejected"||Z[1].status==="rejected"){const ge=Z[0].status==="rejected"?"failed":"succeeded",ae=Z[1].status==="rejected"?"failed":"succeeded";throw new Error(`Payment update failed: Bill update ${ge}, Account update ${ae}`)}r.invalidateQueries({queryKey:["bill",e]}),r.invalidateQueries({queryKey:["bills"]}),k(!1),S.success("Payment recorded successfully")}catch(ne){console.error("Failed to record payment:",ne),S.error("Failed to record payment")}},V=()=>{a&&(I({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:a.total-a.paidAmount}),k(!0))};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsx(Fd,{isLoading:A&&!a,message:"Loading bill details..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/bills"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500 transition-all",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Purchase Bill #",a.billNumber]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${Np(a.status)}`,children:a.status})]}),c.jsxs("div",{className:"flex items-center gap-2 relative",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg bg-white hover:bg-gray-50 transition-all",children:[oe.Print," Print Bill"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>D(!C),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg ${se.colors.primary[600]} text-white hover:${se.colors.primary[700]} transition-all shadow-md`,children:[oe.More," Actions"]}),C&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>D(!1)}),c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border rounded-xl shadow-xl z-50 py-2",children:[c.jsx("button",{onClick:()=>{F(),D(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Mark Processing"}),c.jsx("button",{onClick:()=>{K(),D(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Mark Received"}),c.jsx("div",{className:"border-t my-1"}),c.jsx("button",{onClick:()=>{V(),D(!1)},disabled:a.paidAmount>=a.total,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 text-red-600 font-bold disabled:text-gray-300 disabled:cursor-not-allowed",children:"Record Payment"}),c.jsx("button",{onClick:()=>t(`/bills/edit/${a.id}`),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Edit Bill"})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:c.jsxs("div",{className:"p-8 space-y-8",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[((p==null?void 0:p.logo)||we.settings.company.logo)&&c.jsx("img",{src:(p==null?void 0:p.logo)||we.settings.company.logo,className:"rounded-xl object-cover mb-4 border",style:{width:(g==null?void 0:g.logoWidth)||we.settings.invoice.logoWidth,height:(g==null?void 0:g.logoHeight)||we.settings.invoice.logoHeight}}),c.jsx("h1",{className:"text-2xl font-extrabold ${theme.colors.secondary[600]} uppercase tracking-tighter",children:"Purchase Bill"}),c.jsx("p",{className:"text-sm text-gray-500",children:(p==null?void 0:p.name)||we.settings.company.name})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["Bill No: #",a.billNumber]}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Date: ",a.billDate]})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-8 border-t border-gray-100 py-4",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-3",children:"Bill From (Vendor)"}),c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:N==null?void 0:N.name}),c.jsx("p",{className:"text-sm text-gray-600",children:N==null?void 0:N.address}),c.jsx("p",{className:"text-sm text-gray-600",children:N==null?void 0:N.phone})]})}),c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100",children:[c.jsx("th",{className:"py-4 text-xs font-bold text-gray-400 uppercase",children:"Description"}),c.jsx("th",{className:"py-4 text-center text-xs font-bold text-gray-400 uppercase",children:"Cost"}),c.jsx("th",{className:"py-4 text-center text-xs font-bold text-gray-400 uppercase",children:"Qty"}),c.jsx("th",{className:"py-4 text-right text-xs font-bold text-gray-400 uppercase",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:a.items.map((ne,me)=>c.jsxs("tr",{children:[c.jsx("td",{className:"py-5 font-bold text-gray-800",children:ne.productName}),c.jsx("td",{className:"py-5 text-center text-gray-600 font-medium",children:be(ne.rate)}),c.jsx("td",{className:"py-5 text-center text-gray-600 font-medium",children:ne.quantity}),c.jsx("td",{className:"py-5 text-right font-black text-gray-900",children:be(ne.amount)})]},me))})]}),c.jsx("div",{className:"flex justify-end pt-4",children:c.jsxs("div",{className:"w-full max-w-xs space-y-3",children:[c.jsxs("div",{className:"flex justify-between text-gray-500",children:[c.jsx("span",{className:"text-sm font-medium",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900",children:be(a.subtotal)})]}),a.discount>0&&c.jsxs("div",{className:"flex justify-between text-gray-500",children:[c.jsx("span",{className:"text-sm font-medium",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500",children:["-",be(a.discount)]})]}),a.shipping>0&&c.jsxs("div",{className:"flex justify-between text-gray-500",children:[c.jsx("span",{className:"text-sm font-medium",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900",children:be(a.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-4 border-t-2 border-[#3c5a82]",children:[c.jsx("span",{className:"text-lg font-black text-gray-900 uppercase",children:"Total Payable"}),c.jsx("span",{className:"text-2xl font-black ${theme.colors.secondary[600]}",children:be(a.total)})]})]})}),((g==null?void 0:g.footer)||we.settings.invoice.footer)&&c.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:c.jsx("p",{className:"text-xs text-gray-500 whitespace-pre-wrap",children:(g==null?void 0:g.footer)||we.settings.invoice.footer})})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"1. Creation"}),c.jsx("div",{className:"p-1 bg-[#ebf4ff] text-white rounded-full",children:oe.Plus})]}),c.jsx("div",{className:"p-5",children:c.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:O!=null&&O.name?`${a.history.created} `:((ie=a.history)==null?void 0:ie.created)||"Creation information unavailable"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"2. Processing"}),c.jsx("div",{className:`p-1 rounded-full ${a.status===an.PROCESSING?"bg-[#ebf4ff] text-white":"bg-gray-200 text-gray-400"}`,children:oe.ChevronRight})]}),c.jsx("div",{className:"p-5",children:(L=a.history)!=null&&L.processing?c.jsx("p",{className:"text-xs text-blue-600 leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:a.history.processing}):c.jsx("button",{disabled:a.status===an.RECEIVED,onClick:F,className:`w-full py-3 ${se.colors.secondary[600]} hover:${se.colors.secondary[700]} disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Mark as Processing"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"3. Received"}),c.jsx("div",{className:`p-1 rounded-full ${a.status===an.RECEIVED?"bg-green-100 text-green-600":"bg-gray-200 text-gray-400"}`,children:oe.ChevronRight})]}),c.jsx("div",{className:"p-5",children:(z=a.history)!=null&&z.received?c.jsx("p",{className:"text-xs text-green-600 leading-relaxed font-bold bg-green-50 p-3 rounded-xl",children:a.history.received}):c.jsx("button",{disabled:a.status===an.ON_HOLD,onClick:K,className:"w-full py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95",children:"Mark as Received"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"4. Payment"}),c.jsx("div",{className:`p-1 rounded-full ${a.paidAmount>0?"bg-[#ebf4ff] text-white":"bg-gray-200 text-gray-400"}`,children:oe.Banking})]}),c.jsx("div",{className:"p-5 space-y-3",children:a.paidAmount>0?c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-blue-600 leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:(ee=a.history)==null?void 0:ee.paid}),a.paidAt&&c.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:["Payment Date: ",new Date(a.paidAt).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})]}),a.paidAmount<a.total&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-100 mt-2",children:[c.jsx("p",{className:"text-[10px] font-black text-yellow-600 uppercase",children:"Remaining Amount"}),c.jsx("p",{className:"text-lg font-black text-yellow-700",children:be(a.total-a.paidAmount)})]}),c.jsx("button",{onClick:V,className:`w-full py-3 ${se.colors.primary[600]} hover:${se.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Add Balance Payment"})]})]}):c.jsxs("div",{className:"space-y-4 text-center",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Amount Due"}),c.jsx("p",{className:"text-2xl font-black text-gray-900",children:be(a.total-a.paidAmount)})]}),c.jsx("button",{onClick:V,className:`w-full py-3 ${se.colors.primary[600]} hover:${se.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Record Payment"})]})})]})]})]}),c.jsx(Lw,{isOpen:T,onClose:()=>k(!1),onSubmit:te,accounts:h,paymentForm:M,setPaymentForm:I,isLoading:_,title:"Record Payment",buttonText:"Add Payment"})]})},boe=()=>{const{data:e=[],isLoading:t}=Es(),{searchQuery:r}=Os(),n=_9(),a=N9(),s=Mr(),l=j.useMemo(()=>{if(!r.trim())return e;const _=r.toLowerCase();return e.filter(N=>N.name.toLowerCase().includes(_)||N.type.toLowerCase().includes(_))},[e,r]),[d,f]=j.useState(!1),[h,p]=j.useState(null),[g,y]=j.useState({name:"",type:"Bank",openingBalance:0}),b=async()=>{if(g.name)try{await n.mutateAsync({name:g.name,type:g.type,openingBalance:g.openingBalance,currentBalance:g.openingBalance}),f(!1),y({name:"",type:"Bank",openingBalance:0})}catch(_){console.error("Failed to create account:",_),s.error("Failed to create account. Please try again.")}},w=async _=>{const N=e.find(O=>O.id===_);if(N){if(N.currentBalance!==0){s.warning(`Cannot delete account "${N.name}" because it has a balance of ${N.currentBalance}. Please transfer the balance to another account first.`);return}if(confirm(`Are you sure you want to delete the account "${N.name}"?`))try{await a.mutateAsync(_),p(null)}catch(O){console.error("Failed to delete account:",O),s.error("Failed to delete account. Please try again.")}}},S=l.reduce((_,N)=>_+N.currentBalance,0);return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Fd,{isLoading:t,message:"Loading accounts..."}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Banking & Accounts"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Monitor balances and manage cash flow across all accounts"})]}),c.jsx(Ke,{onClick:()=>f(!0),variant:"primary",size:"md",icon:oe.Plus,disabled:n.isPending,children:"Add Account"})]}),c.jsxs("div",{className:`${se.colors.primary[600]} rounded-xl p-8 text-white shadow-xl shadow-[#0f2f57]/20 relative overflow-hidden`,children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"text-[#c7dff5] font-medium text-sm mb-1 uppercase tracking-wider",children:"Total Combined Balance"}),c.jsx("h1",{className:"text-4xl font-black",children:be(S)}),c.jsxs("div",{className:"mt-8 flex gap-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[#a8c5e8] text-xs font-bold uppercase",children:"Bank Accounts"}),c.jsx("p",{className:"text-xl font-bold",children:e.filter(_=>_.type==="Bank").length})]}),c.jsx("div",{className:"w-px bg-[#0f2f57]/50 h-10"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[#a8c5e8] text-xs font-bold uppercase",children:"Cash Accounts"}),c.jsx("p",{className:"text-xl font-bold",children:e.filter(_=>_.type==="Cash").length})]})]})]}),c.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none",children:c.jsx("div",{className:"w-48 h-48 border-[24px] border-white rounded-full"})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(_=>c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow group relative",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:`p-3 rounded-xl ${_.type==="Bank"?`bg-[#e6f0ff] ${se.colors.secondary[600]}`:"bg-orange-50 text-orange-600"}`,children:(_.type==="Bank",oe.Banking)}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>p(h===_.id?null:_.id),className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-lg transition-all",children:oe.More}),h===_.id&&c.jsx("div",{className:"absolute right-0 mt-1 w-40 bg-white border border-gray-100 rounded-lg shadow-lg z-50 py-1",children:c.jsxs("button",{onClick:()=>w(_.id),disabled:_.currentBalance!==0||a.isPending,className:`w-full text-left px-4 py-2.5 text-sm flex items-center gap-2 font-bold ${_.currentBalance!==0||a.isPending?"text-gray-400 cursor-not-allowed":"text-red-600 hover:bg-red-50"}`,title:_.currentBalance!==0?"Account must have zero balance to delete":"Delete account",children:[oe.Delete," Delete"]})})]})]}),c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:_.name}),c.jsxs("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-tight mb-4",children:[_.type," Account"]}),c.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-50",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Opening Balance"}),c.jsx("span",{className:"font-semibold text-gray-700",children:be(_.openingBalance)})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Current Balance"}),c.jsx("span",{className:"text-xl font-black",children:be(_.currentBalance)})]})]})]},_.id))}),d&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>f(!1)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 animate-in fade-in zoom-in duration-200",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Account"})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Account Name"}),c.jsx("input",{type:"text",placeholder:"e.g. City Bank - 0987",className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.name,onChange:_=>y({...g,name:_.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Account Type"}),c.jsxs("select",{className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.type,onChange:_=>y({...g,type:_.target.value}),children:[c.jsx("option",{value:"Bank",children:"Bank"}),c.jsx("option",{value:"Cash",children:"Cash"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Opening Balance"}),c.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.openingBalance,onChange:_=>y({...g,openingBalance:parseFloat(_.target.value)||0})})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-2xl flex gap-3",children:[c.jsx(Ke,{onClick:()=>f(!1),variant:"ghost",disabled:n.isPending,children:"Cancel"}),c.jsx(Ke,{onClick:b,variant:"primary",size:"md",className:"flex-1",disabled:n.isPending||!g.name,children:n.isPending?"Creating...":"Create Account"})]})]})]})]})},xoe=()=>{const e=mt();$e(),Mr();const{searchQuery:t}=Os(),[r,n]=j.useState("All Time"),[a,s]=j.useState({from:"",to:""}),[l,d]=j.useState("All"),{data:f=[],isPending:h}=Ac(),{data:p=[]}=$o(),{data:g=[]}=Cc(),{data:y=[]}=Oc(),{data:b=[]}=Ec(),{data:w=[]}=As(),{data:S=[]}=Cs();O9();const _=j.useMemo(()=>new Map(w.map(k=>[k.id,k])),[w]),N=k=>{if(r==="All Time")return!0;const M=new Date(k),I=new Date;if(r==="Today")return M.toDateString()===I.toDateString();if(r==="This Week"){const G=I.getDate()-I.getDay(),F=G+6,K=new Date(new Date().setDate(G)),te=new Date(new Date().setDate(F));return M>=K&&M<=te}return r==="This Month"?M.getMonth()===I.getMonth()&&M.getFullYear()===I.getFullYear():r==="This Year"?M.getFullYear()===I.getFullYear():r==="Custom"?!a.from||!a.to?!0:M>=new Date(a.from)&&M<=new Date(a.to):!0},O=k=>{var I,G;if(!((I=k.createdBy)!=null&&I.trim()))return null;const M=_.get(k.createdBy);if(M!=null&&M.name)return M.name;if((G=k.history)!=null&&G.created){const F=k.history.created.match(/Created by (.+?) on/);if(F)return F[1]}return null},A=k=>{const M=p.find(G=>G.id===k);if(M)return{name:M.name,type:"Customer"};const I=g.find(G=>G.id===k);return I?{name:I.name,type:"Vendor"}:null},C=j.useMemo(()=>{let k=f.filter(M=>N(M.date)).filter(M=>l==="All"||M.type===l);if(t.trim()){const M=t.toLowerCase();k=k.filter(I=>{var te,V;const G=I.contactId?A(I.contactId):null,F=O(I),K=((te=S.find(ie=>ie.id===I.category))==null?void 0:te.name)||I.category||"";return I.description.toLowerCase().includes(M)||K.toLowerCase().includes(M)||I.type.toLowerCase().includes(M)||(G==null?void 0:G.name.toLowerCase().includes(M))||((V=F==null?void 0:F.toLowerCase)==null?void 0:V.call(F).includes(M))||be(I.amount).includes(M)})}return k},[f,r,a,l,t,p,g,S,w]),D=(k,M)=>{try{const I=k&&k.toString().length>10?k:M||k||"",G=new Date(I),F="Asia/Dhaka",K=G.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric",timeZone:F}),te=G.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:F});return{date:K,time:te}}catch{return{date:k||M||"",time:""}}},T=k=>{if(k.referenceId){if(y.some(G=>G.id===k.referenceId)){e(`/orders/${k.referenceId}`);return}if(b.some(G=>G.id===k.referenceId)){e(`/bills/${k.referenceId}`);return}}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Financial Transactions"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Review all income and expense history"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(Ke,{onClick:()=>e("/transactions/new/income"),variant:"primary",size:"md",icon:oe.Plus,children:"Income"}),c.jsx(Ke,{onClick:()=>e("/transactions/new/expense"),variant:"danger",size:"md",icon:oe.Minus,children:"Expense"})]})]}),c.jsx(md,{title:"Transactions",filterRange:r,setFilterRange:n,customDates:a,setCustomDates:s,statusTab:l,setStatusTab:d,statusOptions:["Income","Expense","Transfer"]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Type"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Contact"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:c.jsxs(c.Fragment,{children:["Category ",c.jsx("br",{})," Notes"]})}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:h?c.jsx(kp,{columns:7,rows:8}):C.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-6 py-16 text-center text-gray-400 italic font-medium",children:"No transactions found."})}):C.map(k=>{var V;const M=k.contactId?A(k.contactId):null,I=O(k),G=k.referenceId&&(y.some(ie=>ie.id===k.referenceId)||b.some(ie=>ie.id===k.referenceId)),F=!!k.referenceId,{date:K,time:te}=D(k.date,k.createdAt);return c.jsxs("tr",{onClick:()=>T(k),className:`hover:bg-gray-50 transition-all group ${G?"cursor-pointer":""}`,children:[c.jsx("td",{className:"px-6 py-5 text-sm font-bold text-gray-700",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-gray-900",children:K}),c.jsx("span",{className:"text-[11px] text-gray-400 font-medium",children:te})]})}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest ${k.type==="Income"?"bg-[#ebf4ff]":k.type==="Expense"?"bg-red-50 text-red-600":"bg-[#e6f0ff]"}`,children:k.type})}),c.jsx("td",{className:"px-6 py-5",children:F?M?c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:M.name}),c.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest",children:M.type})]}):c.jsx("span",{className:"text-gray-300 font-bold text-xs",children:""}):I?c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:I}),c.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest",children:"Created By"})]}):c.jsx("span",{className:"text-gray-300 font-bold text-xs",children:""})}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800",children:((V=S.find(ie=>ie.id===k.category))==null?void 0:V.name)||k.category}),c.jsx("p",{className:"text-xs text-gray-400 italic max-w-xs truncate",children:k.description})]})}),c.jsx("td",{className:"px-6 py-5 text-right",children:c.jsxs("span",{className:`font-black text-base ${k.type==="Income"?"text-emerald-600":k.type==="Expense"?"text-red-600":"text-black"}`,children:[k.type==="Income"?"+":k.type==="Expense"?"-":"",be(k.amount)]})})]},k.id)})})]})})})]})},woe=()=>{var N;const{type:e}=An(),t=mt(),r=we.currentUser,n=e==="income",{data:a=[]}=Es(),{data:s}=gD(),{data:l=[]}=pD(),{data:d=[]}=Cs(),f=Gd(),h=Vd(),p=Mr(),g=j.useMemo(()=>d.filter(O=>O.type===(n?"Income":"Expense")),[d,n]),[y,b]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),paymentMethod:(s==null?void 0:s.paymentMethod)||"Cash",accountId:(s==null?void 0:s.accountId)||((N=a[0])==null?void 0:N.id)||"",amount:0,description:"",category:n?(s==null?void 0:s.incomeCategoryId)||"":(s==null?void 0:s.expenseCategoryId)||"",attachmentName:"",attachmentUrl:""}),w=O=>{var C;const A=(C=O.target.files)==null?void 0:C[0];if(A){const D=new FileReader;D.onload=()=>{b({...y,attachmentName:A.name,attachmentUrl:D.result})},D.readAsDataURL(A)}},S=f.isPending||h.isPending,_=async()=>{if(y.amount<=0){p.warning("Amount must be greater than 0");return}if(!y.accountId){p.warning("Please select an account");return}if(!y.category){p.warning("Please select a category");return}if(!(r!=null&&r.id)){p.warning("User session expired. Please log in again.");return}try{if(!n){const F=a.find(K=>K.id===y.accountId);if(F&&F.currentBalance<y.amount){p.error(`Insufficient balance. Account has ${be(F.currentBalance)} but transaction requires ${be(y.amount)}`);return}}const A=new Date(y.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),C=y.time,[D,T]=y.time.split(":").map(Number),k=new Date(y.date);k.setHours(D,T,0,0);const M=k.toISOString(),I={type:n?"Income":"Expense",date:M,paymentMethod:y.paymentMethod,accountId:y.accountId,amount:y.amount,description:y.description,category:y.category,attachmentName:y.attachmentName,attachmentUrl:y.attachmentUrl,createdBy:r.id,history:{created:`Created by ${r.name} on ${A}, at ${C}`}};await f.mutateAsync(I);const G=a.find(F=>F.id===y.accountId);if(G){const F=n?G.currentBalance+y.amount:G.currentBalance-y.amount;await h.mutateAsync({id:y.accountId,updates:{currentBalance:F}})}t("/transactions")}catch(O){console.error("Failed to save transaction:",O),p.error("Failed to save transaction: "+(O instanceof Error?O.message:"Unknown error"))}};return c.jsxs("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:["Record ",n?"Income":"Expense"]}),c.jsx("p",{className:"text-gray-500 font-medium",children:"Log a new financial movement in your accounts"})]}),c.jsx("button",{onClick:()=>t(-1),className:"p-3 text-gray-400 hover:text-gray-600 bg-white border border-gray-100 rounded-lg shadow-sm",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l18 18"})})})]}),c.jsxs("div",{className:"bg-white p-8 lg:p-12 rounded-[2.5rem] border border-gray-100 shadow-xl shadow-gray-200/20 space-y-10",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Amount (BDT)"}),c.jsx("input",{type:"number",className:`w-full text-3xl font-black px-6 py-4 bg-gray-50 border-2 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl transition-all outline-none ${n?"${theme.colors.primary[600]}":"text-red-600"}`,value:y.amount,onChange:O=>b({...y,amount:parseFloat(O.target.value)||0}),placeholder:"0.00"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Date"}),c.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:y.date,onChange:O=>b({...y,date:O.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Time"}),c.jsx("input",{type:"time",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:y.time,onChange:O=>b({...y,time:O.target.value})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Connected Account"}),c.jsx("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.accountId,onChange:O=>b({...y,accountId:O.target.value}),children:a.map(O=>c.jsx("option",{value:O.id,children:O.name},O.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Category"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.category,onChange:O=>b({...y,category:O.target.value}),children:[c.jsx("option",{value:"",children:"-- Select a category --"}),g.map(O=>c.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Payment Method"}),c.jsx("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.paymentMethod,onChange:O=>b({...y,paymentMethod:O.target.value}),children:l.map(O=>c.jsx("option",{value:O.name,children:O.name},O.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Attachment"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"file",className:"hidden",id:"file-upload",onChange:w}),c.jsx("label",{htmlFor:"file-upload",className:"w-full px-6 py-4 bg-gray-50 border-transparent hover:bg-gray-100 rounded-lg font-bold pl-14 flex items-center cursor-pointer transition-colors",children:y.attachmentName||"Choose file to upload"}),c.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400",children:oe.Print})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Description"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 outline-none",placeholder:"What was this transaction for?",value:y.description,onChange:O=>b({...y,description:O.target.value})})]}),c.jsxs(Ke,{onClick:_,variant:n?"primary":"danger",size:"lg",className:"w-full",disabled:S,loading:S,children:["Finalize ",n?"Income":"Expense"]})]})]})},joe=()=>{mt();const e=$e(),t=we.currentUser,{data:r=[]}=Es(),n=Gd(),a=Vd(),s=Mr(),[l,d]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),fromAccountId:"",toAccountId:"",amount:0,description:""}),f=async()=>{if(!l.amount||!l.fromAccountId||!l.toAccountId){s.warning("Please fill in all fields.");return}if(l.fromAccountId===l.toAccountId){s.warning("Cannot transfer to the same account.");return}const h=r.find(g=>g.id===l.fromAccountId),p=r.find(g=>g.id===l.toAccountId);if(h&&p){if(h.currentBalance<l.amount){s.warning("Insufficient balance in source account.");return}try{const[g,y]=l.time.split(":").map(Number),b=new Date(l.date);b.setHours(g,y,0,0);const w=b.toISOString();await Promise.all([n.mutateAsync({type:"Transfer",date:w,accountId:l.fromAccountId,toAccountId:l.toAccountId,amount:l.amount,description:l.description||`Transfer from ${h.name} to ${p.name}`,category:"Transfer",paymentMethod:"Internal Transfer",createdBy:t.id}),Promise.all([a.mutateAsync({id:l.fromAccountId,updates:{currentBalance:h.currentBalance-l.amount}}),a.mutateAsync({id:l.toAccountId,updates:{currentBalance:p.currentBalance+l.amount}})])]),s.success("Transfer completed successfully"),e.invalidateQueries({queryKey:["accounts"]}),d({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),fromAccountId:"",toAccountId:"",amount:0,description:""})}catch(g){console.error("Transfer failed:",g),s.error("Failed to complete transfer: "+(g instanceof Error?g.message:"Unknown error"))}}};return c.jsxs("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:[c.jsx("div",{className:"mb-8 flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Fund Transfer"}),c.jsx("p",{className:"text-gray-500 font-medium",children:"Move balances between your business accounts"})]})}),c.jsxs("div",{className:"bg-white p-8 lg:p-12 rounded-[2.5rem] border border-gray-100 shadow-xl space-y-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Amount to Transfer (BDT)"}),c.jsx("input",{type:"number",className:`w-full text-4xl font-black px-6 py-4 bg-[#ebf4ff] border-2 border-transparent focus:border-[#3c5a82] rounded-xl transition-all outline-none ${se.colors.primary[600]}`,value:l.amount,onChange:h=>d({...l,amount:parseFloat(h.target.value)||0}),placeholder:"0.00"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"From Account (Source)"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-bold",value:l.fromAccountId,onChange:h=>d({...l,fromAccountId:h.target.value}),children:[c.jsx("option",{value:"",children:"Select an account"}),r.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",be(h.currentBalance),")"]},h.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"To Account (Destination)"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-bold",value:l.toAccountId,onChange:h=>d({...l,toAccountId:h.target.value}),children:[c.jsx("option",{value:"",children:"Select an account"}),r.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",be(h.currentBalance),")"]},h.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Transfer Date"}),c.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:l.date,onChange:h=>d({...l,date:h.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Transfer Time"}),c.jsx("input",{type:"time",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:l.time,onChange:h=>d({...l,time:h.target.value})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Memo / Description"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 outline-none",placeholder:"Reason for transfer...",value:l.description,onChange:h=>d({...l,description:h.target.value})})]}),c.jsx(Ke,{onClick:f,variant:"primary",size:"lg",className:"w-full",disabled:n.isPending||a.isPending,children:n.isPending||a.isPending?"Processing Transfer...":"Execute Transfer"})]})]})},Soe=()=>{const e=mt(),t=$e(),r=Mr(),{data:n=[],isPending:a}=Hd(),s=M9(),l=async d=>{if(confirm("Are you sure you want to delete this product?"))try{await s.mutateAsync(d),t.invalidateQueries({queryKey:["products"]}),r.success("Product deleted successfully")}catch(f){console.error("Failed to delete product:",f),r.error("Failed to delete product")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Items Catalog"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Manage your inventory and pricing"})]}),c.jsx(Ke,{onClick:()=>e("/products/new"),variant:"primary",size:"md",icon:oe.Plus,children:"Add Product"})]}),c.jsx(Tp,{columns:[{key:"name",label:"Name",render:(d,f)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:f.image||"https://via.placeholder.com/100",alt:f.name,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("div",{children:c.jsx("p",{className:"font-bold text-gray-900",children:f.name})})]})},{key:"category",label:"Category",render:d=>c.jsx("span",{className:"px-2.5 py-1 bg-[#ebf4ff] rounded-lg text-[10px] font-black uppercase tracking-widest",children:d})},{key:"salePrice",label:c.jsxs(c.Fragment,{children:["Sale Price",c.jsx("br",{}),"Purchase Price"]}),render:(d,f)=>c.jsxs("div",{className:"flex flex-col gap-0.5",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-sm font-bold",children:be(f.salePrice)})}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-[11px] font-bold text-gray-600",children:be(f.purchasePrice)})})]})},{key:"id",label:"Actions",align:"right",render:d=>we.currentUser.role===Ht.ADMIN?c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(ws,{icon:oe.Edit,variant:"primary",title:"Edit",onClick:h=>{h.stopPropagation(),e(`/products/edit/${d}`)}}),c.jsx(ws,{icon:oe.Delete,variant:"danger",title:"Delete",onClick:h=>{h.stopPropagation(),l(d)}})]}):null}],data:n,loading:a,emptyMessage:"No products found"})]})},Hk=()=>{const{id:e}=An(),t=mt(),r=!!e,n=we.currentUser;if(!n)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(Ke,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});if(r&&n.role===Ht.EMPLOYEE)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot edit products. Contact an administrator for assistance."}),c.jsx(Ke,{onClick:()=>t("/products"),variant:"primary",children:"Back to Products"})]});const{data:a}=y9(r?e:void 0),{data:s=[],isPending:l}=Cs("Product"),d=T9(),f=D9(),[h,p]=j.useState({name:"",category:"",image:"",salePrice:0,purchasePrice:0}),[g,y]=j.useState(!1),[b,w]=j.useState(null);xr.useEffect(()=>{a&&p(a)},[a]);const S=N=>{var A;const O=(A=N.target.files)==null?void 0:A[0];if(O){const C=new FileReader;C.onload=()=>{p({...h,image:C.result})},C.readAsDataURL(O)}},_=async()=>{if(!h.name||!h.category){w("Name and category are required");return}y(!0),w(null);try{const N={name:h.name||"",category:h.category||"",image:h.image||"https://picsum.photos/200/200?random="+Math.random(),salePrice:h.salePrice||0,purchasePrice:h.purchasePrice||0};r?(await f.mutateAsync({id:e,updates:N}),t("/products")):d.mutateAsync(N).then(()=>{t("/products")},O=>{y(!1),w(O instanceof Error?O.message:"Failed to create product")})}catch(N){console.error("Failed to save product:",N),w(N instanceof Error?N.message:"Failed to save product"),y(!1)}};return c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Product":"Add Product"}),c.jsx("button",{onClick:()=>t("/products"),className:"px-4 py-2 border rounded-xl text-gray-500 font-bold bg-white hover:bg-gray-50",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Product Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:h.name,onChange:N=>p({...h,name:N.target.value}),placeholder:"e.g. Cotton Polo T-Shirt"})]}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Category"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:h.category,onChange:N=>p({...h,category:N.target.value}),disabled:l,children:[c.jsx("option",{value:"",children:l?"Loading...":"Select Category..."}),s.map(N=>c.jsx("option",{value:N.name,children:N.name},N.id))]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Product Image"}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"w-24 h-24 rounded-lg border border-dashed border-gray-300 flex items-center justify-center overflow-hidden bg-gray-50",children:h.image?c.jsx("img",{src:h.image,className:"w-full h-full object-cover"}):c.jsx("span",{className:"text-gray-300 text-xs text-center p-2",children:"No image"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("input",{type:"file",id:"product-image",className:"hidden",onChange:S}),c.jsx("label",{htmlFor:"product-image",className:"inline-block px-6 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-xl cursor-pointer transition-all",children:"Upload File"}),c.jsx("p",{className:"text-[10px] text-gray-400 mt-2 font-medium",children:"Recommended size: 500x500px. JPG, PNG supported."})]})]})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sale Price (BDT)"}),c.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold",value:h.salePrice,onChange:N=>p({...h,salePrice:parseFloat(N.target.value)||0})})]}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Purchase Price (BDT)"}),c.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82] text-gray-600 font-bold",value:h.purchasePrice,onChange:N=>p({...h,purchasePrice:parseFloat(N.target.value)||0})})]})]}),c.jsxs("div",{className:"pt-6 space-y-4",children:[b&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:b})}),c.jsx(Ke,{onClick:_,variant:"primary",size:"lg",className:"w-full",disabled:g,children:g?"Saving...":r?"Update Product Item":"Create Product Item"})]})]})]})},_oe=()=>{var l;const e=mt(),{searchQuery:t}=Os(),{data:r=[],isPending:n}=As(),a=((l=we.currentUser)==null?void 0:l.role)===Ht.ADMIN,s=j.useMemo(()=>{if(!t.trim())return r;const d=t.toLowerCase();return r.filter(f=>f.name.toLowerCase().includes(d)||f.phone.includes(d)||f.role.toLowerCase().includes(d))},[r,t]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Application Users"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Manage staff accounts and system permissions"})]}),a&&c.jsx(Ke,{onClick:()=>e("/users/new"),variant:"primary",size:"md",icon:oe.Plus,children:"Add User"})]}),c.jsx(Tp,{columns:[{key:"name",label:"User",render:(d,f)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:f.image||"https://picsum.photos/100/100?random="+f.id,className:"w-10 h-10 rounded-full object-cover border"}),c.jsx("span",{className:"font-bold text-gray-900",children:f.name})]})},{key:"role",label:"Role",render:d=>c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${d===Ht.ADMIN?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:d})},{key:"phone",label:"Contact",render:d=>c.jsx("span",{className:"text-sm text-gray-600",children:d})},{key:"id",label:"Actions",align:"right",render:d=>c.jsx(ws,{icon:oe.Edit,variant:"primary",title:"Edit",onClick:f=>{f.stopPropagation(),e(`/users/edit/${d}`)}})}],data:s,onRowClick:d=>e(`/users/${d.id}`),emptyMessage:"No users found",loading:n})]})},Qk=()=>{const{id:e}=An(),t=mt(),r=!!e,{data:n,isPending:a,error:s}=hD(r?e:void 0),l=E9(),d=A9(),f=bD(),h=Mr(),[p,g]=j.useState(!1),[y,b]=j.useState(!1),[w,S]=j.useState({name:"",phone:"",password:"",role:Ht.EMPLOYEE,image:""});xr.useEffect(()=>{n&&S(n)},[n]);const _=localStorage.getItem("currentUser"),N=_?JSON.parse(_):null,O=(N==null?void 0:N.role)===Ht.ADMIN,A=(N==null?void 0:N.id)===e,C=a,D=M=>{var G;const I=(G=M.target.files)==null?void 0:G[0];if(I){const F=new FileReader;F.onload=()=>{S({...w,image:F.result})},F.readAsDataURL(I)}},T=async()=>{if(!w.name||!w.phone||O&&!r&&!w.password){h.warning("Please fill mandatory fields (Name, Phone, Password)");return}g(!0);try{if(r&&e){const M={name:w.name,phone:w.phone,image:w.image};if(O&&(w.password&&(M.password=w.password),w.role&&(M.role=w.role)),await d.mutateAsync({id:e,updates:M}),A&&N){const I={...N,...M};localStorage.setItem("currentUser",JSON.stringify(I))}}else{if(!O){h.error("Only admins can add users"),g(!1);return}await l.mutateAsync({name:w.name||"",phone:w.phone||"",password:w.password||"",role:w.role||Ht.EMPLOYEE,image:w.image||""})}h.success(r?"User updated successfully!":"User created successfully!"),t("/users")}catch(M){console.error("Failed to save user:",M),h.error("Failed to save user: "+(M instanceof Error?M.message:"Unknown error"))}finally{g(!1)}},k=async()=>{if(e){g(!0);try{await f.mutateAsync(e),h.success("User deleted successfully!"),t("/users")}catch(M){console.error("Failed to delete user:",M),h.error("Failed to delete user: "+(M instanceof Error?M.message:"Unknown error"))}finally{g(!1),b(!1)}}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Profile":"Add System User"}),c.jsx("button",{onClick:()=>t("/users"),className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-500 hover:bg-gray-50",children:"Cancel"})]}),r&&C&&c.jsx("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm text-center text-gray-500",children:"Loading user details..."}),s&&c.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-100 text-red-700",children:s.message||"User not found"}),(!r||!C)&&c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-6 p-6 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden bg-white border",children:c.jsx("img",{src:w.image||`https://ui-avatars.com/api/?name=${w.name||"User"}&background=10b981&color=fff`,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-2",children:"Profile Photo"}),c.jsx("input",{type:"file",id:"user-pfp",className:"hidden",onChange:D}),c.jsx("label",{htmlFor:"user-pfp",className:`cursor-pointer px-4 py-2 ${se.colors.primary[600]} text-white text-xs font-bold rounded-lg hover:${se.colors.primary[700]}`,children:"Upload Picture"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Full Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:w.name,onChange:M=>S({...w,name:M.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Phone Number"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:w.phone,onChange:M=>S({...w,phone:M.target.value})})]}),O&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Password (Admin Only Access)"}),c.jsx("input",{type:"password",className:"w-full px-4 py-3 bg-purple-50 border border-purple-100 rounded-xl focus:ring-2 focus:ring-purple-500",value:w.password,onChange:M=>S({...w,password:M.target.value}),placeholder:r?"Leave blank to keep current password":"Secure system password"}),c.jsx("p",{className:"text-[10px] text-purple-400 font-medium",children:"Only administrators can set or change passwords."})]}),O&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"System Role"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:w.role,onChange:M=>S({...w,role:M.target.value}),children:[c.jsx("option",{value:Ht.EMPLOYEE,children:"Employee"}),c.jsx("option",{value:Ht.ADMIN,children:"Administrator"})]})]})]}),c.jsxs("div",{className:"pt-6 space-y-3",children:[c.jsx(Ke,{onClick:T,variant:"primary",size:"lg",className:"w-full",disabled:p,children:p?"Saving...":"Save User Details"}),r&&O&&c.jsx("button",{onClick:()=>b(!0),disabled:p,className:"w-full px-4 py-3 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Delete User"})]})]}),y&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-sm w-full p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete User?"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:["Are you sure you want to delete ",c.jsx("strong",{children:w.name}),"? This action cannot be undone."]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>b(!1),disabled:p,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:k,disabled:p,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:p?"Deleting...":"Delete"})]})]})})]})},Noe=()=>{const{id:e}=An(),t=mt(),r=we.currentUser,{data:n,isPending:a,error:s}=hD(e),l=bD(),d=Mr(),[f,h]=j.useState(!1);if(a)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading user..."});if(s||!n)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(s==null?void 0:s.message)||"User not found."});const p=r.role===Ht.ADMIN||r.id===e,g=r.role===Ht.ADMIN,y=async()=>{if(e)try{await l.mutateAsync(e),d.success("User deleted successfully!"),t("/users")}catch(b){console.error("Failed to delete user:",b),d.error("Failed to delete user: "+(b instanceof Error?b.message:"Unknown error"))}finally{h(!1)}};return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/users"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Profile"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[p&&c.jsxs("button",{onClick:()=>t(`/users/edit/${n.id}`),className:`px-6 py-2 ${se.colors.primary[600]} text-white rounded-xl font-bold hover:${se.colors.primary[700]} shadow-md flex items-center gap-2`,children:[oe.Edit," Edit Profile"]}),g&&c.jsx("button",{onClick:()=>h(!0),disabled:l.isPending,className:"px-6 py-2 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Delete User"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsx("div",{className:"h-32 bg-gradient-to-r from-[#0f2f57] to-[#1a3a6e]"}),c.jsxs("div",{className:"px-8 pb-8",children:[c.jsxs("div",{className:"relative flex justify-between items-end -mt-12 mb-8",children:[c.jsx("div",{className:"p-1 bg-white rounded-full shadow-xl",children:c.jsx("img",{src:n.image||"https://picsum.photos/200/200?random="+n.id,className:"w-24 h-24 rounded-full object-cover border-1 border-black"})}),c.jsx("span",{className:`px-4 py-1 rounded-full text-xs font-black uppercase tracking-widest ${n.role===Ht.ADMIN?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:n.role})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Full Name"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n.name})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Phone Number"}),c.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.phone})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Joining Date"}),c.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.createdAt?new Date(n.createdAt).toLocaleDateString("en-BD",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[c.jsx("h4",{className:"font-bold text-gray-900",children:"Account Security"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Passwords are managed by system administrators. If you need to reset your password, please contact the IT department."}),c.jsxs("div",{className:"flex items-center gap-2 text-emerald-700 text-sm font-bold",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Active Status Verified"]})]})]})]})]}),f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-sm w-full p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete User?"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:["Are you sure you want to delete ",c.jsx("strong",{children:n.name}),"? This action cannot be undone."]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>h(!1),disabled:l.isPending,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:y,disabled:l.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:l.isPending?"Deleting...":"Delete"})]})]})})]})},Ooe=()=>{const[e,t]=j.useState("company"),[r,n]=j.useState(null),a=$e(),{data:s,isPending:l}=Dp(),{data:d,isPending:f}=Mp(),{data:h,isPending:p}=Rp(),{data:g,isPending:y}=gD(),{data:b,isPending:w}=$w(),{data:S=[],isPending:_}=Cs(),{data:N=[],isPending:O}=pD(),{data:A=[],isPending:C}=v9(),{data:D=[]}=Es(),T=R9(),k=I9(),M=L9(),I=B9();$9(),U9();const G=z9(),F=Mr(),[K,te]=j.useState({name:"",phone:"",email:"",address:"",logo:""}),[V,ie]=j.useState({prefix:"ORD-",nextNumber:1}),[L,z]=j.useState({steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}),[ee,ne]=j.useState({title:"Invoice",logoWidth:120,logoHeight:120,footer:""}),[me,R]=j.useState({defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}),[Q,pe]=j.useState({name:"",type:"Income",color:"#10B981",parentId:""}),[le,ve]=j.useState({name:"",description:""}),[Oe,Ee]=j.useState({name:"",shortName:"",description:""}),[de,B]=j.useState([]),[Z,ge]=j.useState(!1);xr.useEffect(()=>{s&&te(s)},[s]),xr.useEffect(()=>{d&&ie(d)},[d]),xr.useEffect(()=>{h&&ne(h)},[h]),xr.useEffect(()=>{g&&R(g)},[g]),xr.useEffect(()=>{b&&z(b)},[b]),j.useEffect(()=>{let ce=null;const Ct=async()=>{const{baseUrl:Gr,clientId:sr,clientSecret:ut,clientContext:Uc}=L.carryBee,zc=Gr==null?void 0:Gr.trim(),qc=sr==null?void 0:sr.trim(),Ds=ut==null?void 0:ut.trim(),yf=Uc==null?void 0:Uc.trim();if(!zc||!qc||!Ds||!yf){B([]);return}ge(!0);try{const Vo=await t9({baseUrl:zc,clientId:qc,clientSecret:Ds,clientContext:yf});B(Vo)}catch(Vo){console.error("Failed to fetch CarryBee stores:",Vo),B([])}finally{ge(!1)}};return ce=setTimeout(()=>{Ct()},700),()=>{ce&&clearTimeout(ce)}},[L.carryBee.baseUrl,L.carryBee.clientId,L.carryBee.clientSecret,L.carryBee.clientContext]);const ae=l||f||p||y||w||_||O||C,Ie=async()=>{try{const ce=F.loading("Saving all settings...");G.mutateAsync({company:K,order:V,invoice:ee,defaults:me,courier:L}).then(()=>{we.settings.company=K,we.settings.order=V,we.settings.invoice=ee,we.settings.defaults=me,we.settings.courier=L,F.update(ce,"Settings saved successfully!","success")}).catch(Ct=>{console.error("Failed to save settings:",Ct),F.update(ce,"Failed to save settings: "+(Ct instanceof Error?Ct.message:"Unknown error"),"error")})}catch(ce){console.error("Failed to initiate settings save:",ce),F.error("Failed to save settings: "+(ce instanceof Error?ce.message:"Unknown error"))}},Ae=ce=>{var Gr;const Ct=(Gr=ce.target.files)==null?void 0:Gr[0];if(Ct){const sr=new FileReader;sr.onload=()=>{te({...K,logo:sr.result})},sr.readAsDataURL(Ct)}},et=async()=>{if(!Q.name.trim()){F.warning("Please enter a category name");return}const ce={id:crypto.randomUUID(),name:Q.name,type:Q.type,color:Q.color,parentId:Q.parentId||void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},Ct=a.getQueryData(["categories"]);a.setQueryData(["categories"],(ut=[])=>[...ut,ce]);const Gr=F.loading("Adding category..."),sr={...Q};pe({name:"",type:"Income",color:"#10B981",parentId:""}),n(null);try{await T.mutateAsync({name:sr.name,type:sr.type,color:sr.color,parentId:sr.parentId||void 0}),F.update(Gr,"Category added successfully!","success")}catch(ut){console.error("Failed to add category:",ut),a.setQueryData(["categories"],Ct),F.update(Gr,"Failed to add category: "+(ut instanceof Error?ut.message:"Unknown error"),"error"),n("category"),pe(sr)}},st=async ce=>{if(confirm("Are you sure you want to delete this category?"))try{await k.mutateAsync(ce),F.success("Category deleted successfully!")}catch(Ct){console.error("Failed to delete category:",Ct),F.error("Failed to delete category: "+(Ct instanceof Error?Ct.message:"Unknown error"))}},Vt=async()=>{if(!le.name.trim()){F.warning("Please enter a payment method name");return}const ce={id:crypto.randomUUID(),name:le.name,description:le.description||"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},Ct=a.getQueryData(["paymentMethods"]);a.setQueryData(["paymentMethods"],(ut=[])=>[...ut,ce]);const Gr=F.loading("Adding payment method..."),sr={...le};ve({name:"",description:""}),n(null);try{await M.mutateAsync({name:sr.name,description:sr.description||void 0}),F.update(Gr,"Payment method added successfully!","success")}catch(ut){console.error("Failed to add payment method:",ut),a.setQueryData(["paymentMethods"],Ct),F.update(Gr,"Failed to add payment method: "+(ut instanceof Error?ut.message:"Unknown error"),"error"),n("payment"),ve(sr)}},ir=async ce=>{if(confirm("Are you sure you want to delete this payment method?"))try{await I.mutateAsync(ce),F.success("Payment method deleted successfully!")}catch(Ct){console.error("Failed to delete payment method:",Ct),F.error("Failed to delete payment method: "+(Ct instanceof Error?Ct.message:"Unknown error"))}},Wn=[{id:"company",label:"Company",icon:oe.Dashboard},{id:"order",label:"Order & Invoice",icon:oe.Sales},{id:"defaults",label:"Defaults",icon:oe.Settings},{id:"categories",label:"Categories",icon:oe.More},{id:"payments",label:"Payment Methods",icon:oe.Banking},{id:"courier",label:"Courier",icon:oe.Courier}];return c.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[c.jsx(Fd,{isLoading:ae,message:"Loading settings..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Configure your accounting environment and business rules"})]}),c.jsx(Ke,{onClick:Ie,variant:"primary",size:"md",children:"Save All Changes"})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[c.jsx("div",{className:"w-full lg:w-64 space-y-1",children:Wn.map(ce=>c.jsxs("button",{onClick:()=>t(ce.id),className:`flex items-center gap-3 w-full px-4 py-3 rounded-xl font-medium transition-all ${e===ce.id?`bg-white ${se.colors.primary[600]} shadow-sm border border-gray-100 ring-1 ring-[#ebf4ff]`:"text-gray-500 hover:bg-gray-100"}`,children:[ce.icon,ce.label]},ce.id))}),c.jsxs("div",{className:"flex-1 bg-white p-8 rounded-xl border border-gray-100 shadow-sm min-h-[500px]",children:[e==="company"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Company Profile"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 flex items-center gap-6 p-6 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden bg-white border",children:K.logo&&c.jsx("img",{src:K.logo,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Company Logo"}),c.jsx("input",{type:"file",id:"logo-input",className:"hidden",onChange:Ae}),c.jsx(Ke,{variant:"primary",size:"sm",onClick:()=>{var ce;return(ce=document.getElementById("logo-input"))==null?void 0:ce.click()},children:"Change Logo"})]})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Company Name"}),c.jsx("input",{type:"text",value:K.name,onChange:ce=>te({...K,name:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Phone"}),c.jsx("input",{type:"text",value:K.phone,onChange:ce=>te({...K,phone:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Email"}),c.jsx("input",{type:"email",value:K.email,onChange:ce=>te({...K,email:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("textarea",{value:K.address,onChange:ce=>te({...K,address:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl h-24 focus:ring-2 focus:ring-[#3c5a82] transition-all"})]})]})]}),e==="order"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsxs("section",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Order Logic"}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Order Prefix"}),c.jsx("input",{type:"text",value:V.prefix,onChange:ce=>ie({...V,prefix:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl font-mono"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Next Number"}),c.jsx("input",{type:"number",value:V.nextNumber,onChange:ce=>ie({...V,nextNumber:parseInt(ce.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]}),c.jsxs("section",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Invoice Settings"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-1 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Invoice Title"}),c.jsx("input",{type:"text",value:ee.title,onChange:ce=>ne({...ee,title:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Logo Width (px)"}),c.jsx("input",{type:"number",value:ee.logoWidth,onChange:ce=>ne({...ee,logoWidth:parseInt(ce.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Logo Height (px)"}),c.jsx("input",{type:"number",value:ee.logoHeight,onChange:ce=>ne({...ee,logoHeight:parseInt(ce.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"md:col-span-3 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Invoice Footer"}),c.jsx("textarea",{value:ee.footer,onChange:ce=>ne({...ee,footer:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl h-24"})]})]})]})]}),e==="defaults"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"System Defaults"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Account"}),c.jsxs("select",{value:me.defaultAccountId,onChange:ce=>R({...me,defaultAccountId:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select an account..."}),D.map(ce=>c.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Payment Method"}),c.jsxs("select",{value:me.defaultPaymentMethod,onChange:ce=>R({...me,defaultPaymentMethod:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a payment method..."}),N.map(ce=>c.jsx("option",{value:ce.name,children:ce.name},ce.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Income Category"}),c.jsxs("select",{value:me.incomeCategoryId,onChange:ce=>R({...me,incomeCategoryId:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a category..."}),S.filter(ce=>ce.type==="Income").map(ce=>c.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Expense Category"}),c.jsxs("select",{value:me.expenseCategoryId,onChange:ce=>R({...me,expenseCategoryId:ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a category..."}),S.filter(ce=>ce.type==="Expense").map(ce=>c.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Records Per Page"}),c.jsx("input",{type:"number",value:me.recordsPerPage,onChange:ce=>R({...me,recordsPerPage:parseInt(ce.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]}),e==="categories"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Categories"}),c.jsxs(Ke,{onClick:()=>n("category"),variant:"primary",size:"md",children:[oe.Plus," Add"]})]}),_?c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading categories..."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.map(ce=>c.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-gray-50/50 hover:shadow-sm transition-all",children:[c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:ce.color}}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-800",children:ce.name}),c.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:ce.type})]}),c.jsx("button",{onClick:()=>st(ce.id),className:"text-red-500 hover:text-red-700 px-2",children:oe.Delete})]},ce.id)),S.length===0&&c.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:'No categories yet. Click "Add Category" to create one.'})]})]}),e==="payments"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Payment Methods"}),c.jsxs(Ke,{onClick:()=>n("payment"),variant:"primary",size:"md",children:[oe.Plus," Add"]})]}),O?c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading payment methods..."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.map(ce=>c.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50/50 hover:shadow-sm transition-all flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-800",children:ce.name}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:ce.description||"No description"})]}),c.jsx("button",{onClick:()=>ir(ce.id),className:"text-red-500 hover:text-red-700 px-2",children:oe.Delete})]},ce.id)),N.length===0&&c.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:'No payment methods yet. Click "Add Method" to create one.'})]})]}),e==="courier"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsxs("section",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4 flex items-center gap-2",children:[c.jsx("span",{className:"${theme.colors.secondary[600]}",children:"Steadfast"})," Logistics"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Base URL"}),c.jsx("input",{type:"text",value:L.steadfast.baseUrl,onChange:ce=>z({...L,steadfast:{...L.steadfast,baseUrl:ce.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"API Key"}),c.jsx("input",{type:"text",value:L.steadfast.apiKey,onChange:ce=>z({...L,steadfast:{...L.steadfast,apiKey:ce.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Secret Key"}),c.jsx("input",{type:"text",value:L.steadfast.secretKey,onChange:ce=>z({...L,steadfast:{...L.steadfast,secretKey:ce.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]})]}),c.jsxs("section",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4 flex items-center gap-2",children:[c.jsx("span",{className:"text-orange-600",children:"CarryBee"})," Fulfillment"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Base URL"}),c.jsx("input",{type:"text",value:L.carryBee.baseUrl,onChange:ce=>z({...L,carryBee:{...L.carryBee,baseUrl:ce.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client ID"}),c.jsx("input",{type:"text",value:L.carryBee.clientId,onChange:ce=>z({...L,carryBee:{...L.carryBee,clientId:ce.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client Secret"}),c.jsx("input",{type:"text",value:L.carryBee.clientSecret,onChange:ce=>z({...L,carryBee:{...L.carryBee,clientSecret:ce.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client Context"}),c.jsx("input",{type:"text",value:L.carryBee.clientContext,onChange:ce=>z({...L,carryBee:{...L.carryBee,clientContext:ce.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Store ID"}),c.jsxs("select",{value:L.carryBee.storeId,onChange:ce=>z({...L,carryBee:{...L.carryBee,storeId:ce.target.value}}),disabled:Z||de.length===0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:Z?"Loading stores...":de.length===0?"Fill CarryBee credentials first":"Select Store"}),de.map(ce=>c.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]})]})]})]})]})]})]}),r==="category"&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>n(null)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 p-8 space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Category"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:Q.name,onChange:ce=>pe({...Q,name:ce.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Type"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:Q.type,onChange:ce=>pe({...Q,type:ce.target.value}),children:[c.jsx("option",{value:"Income",children:"Income"}),c.jsx("option",{value:"Expense",children:"Expense"}),c.jsx("option",{value:"Product",children:"Product"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Color"}),c.jsx("input",{type:"color",className:"w-full h-12 bg-gray-50 border rounded-xl cursor-pointer",value:Q.color,onChange:ce=>pe({...Q,color:ce.target.value})})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(Ke,{onClick:()=>n(null),variant:"ghost",className:"flex-1",children:"Cancel"}),c.jsx(Ke,{onClick:et,variant:"primary",size:"md",className:"flex-1",children:"Add Category"})]})]})]}),r==="payment"&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>n(null)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 p-8 space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Payment Method"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Method Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:le.name,onChange:ce=>ve({...le,name:ce.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Description"}),c.jsx("textarea",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl h-24",value:le.description,onChange:ce=>ve({...le,description:ce.target.value})})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(Ke,{onClick:()=>n(null),variant:"ghost",className:"flex-1",children:"Cancel"}),c.jsx(Ke,{onClick:Vt,variant:"primary",size:"md",className:"flex-1",children:"Add Method"})]})]})]})]})},Eoe=()=>{const e=mt(),t=$e(),r=Mr(),{searchQuery:n}=Os(),{data:a=[],isPending:s,error:l}=$o(),d=w9(),f=j.useMemo(()=>{if(!n.trim())return a;const p=n.toLowerCase();return a.filter(g=>g.name.toLowerCase().includes(p)||g.phone.includes(p)||g.address.toLowerCase().includes(p))},[a,n]),h=async p=>{if(confirm("Are you sure you want to delete this customer?"))try{await d.mutateAsync(p),t.invalidateQueries({queryKey:["customers"]}),r.success("Customer deleted successfully")}catch(g){console.error("Failed to delete customer:",g),r.error("Failed to delete customer")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Manage client relationships and account balances"})]}),c.jsx(Ke,{onClick:()=>e("/customers/new"),variant:"primary",size:"md",icon:oe.Plus,children:"New Customer"})]}),l&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsxs("p",{className:"text-red-800",children:[c.jsx("strong",{children:"Error loading customers:"})," ",l]})}),c.jsx(Tp,{columns:[{key:"name",label:"Customer Name",render:(p,g)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-full bg-green-100 ${se.colors.primary[600]} flex items-center justify-center font-bold text-white`,children:g.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 block",children:g.name}),c.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:g.address})]})]})},{key:"phone",label:"Contact",render:p=>c.jsx("span",{className:"text-sm font-medium text-gray-700",children:p})},{key:"totalOrders",label:"Total Orders",align:"center",render:p=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-bold text-gray-600",children:p})},{key:"dueAmount",label:"Due Amount",align:"right",render:p=>c.jsx("span",{className:`font-bold ${p>0?"text-red-500":"text-green-500"}`,children:be(p)})},{key:"id",label:"Actions",align:"right",render:p=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(ws,{icon:oe.Edit,variant:"primary",title:"Edit",onClick:g=>{g.stopPropagation(),e(`/customers/edit/${p}`)}}),c.jsx(ws,{icon:oe.Delete,variant:"danger",title:"Delete",onClick:g=>{g.stopPropagation(),h(p)}})]})}],data:f,loading:s,onRowClick:p=>e(`/customers/${p.id}`),emptyMessage:"No customers found"})]})},Vk=()=>{const{id:e}=An(),t=mt(),r=!!e,[n,a]=j.useState({name:"",phone:"",address:""}),[s,l]=j.useState(null),{data:d,isPending:f,error:h}=dD(r?e:void 0),p=b9(),g=x9();j.useEffect(()=>{d&&a({name:d.name,phone:d.phone,address:d.address})},[d]);const y=async()=>{if(!n.name||!n.phone){l("Name and phone are required");return}l(null);try{if(r){const b={name:n.name,phone:n.phone,address:n.address};await g.mutateAsync({id:e,updates:b}),t("/customers")}else{const b={name:n.name,phone:n.phone,address:n.address,totalOrders:0,dueAmount:0};p.mutateAsync(b).then(()=>{t("/customers")},w=>{l(w instanceof Error?w.message:"Failed to create customer")})}}catch(b){console.error(`Failed to ${r?"update":"create"} customer:`,b),l(b instanceof Error?b.message:`Failed to ${r?"update":"create"} customer`)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:r?"Edit Customer":"New Customer"}),c.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 text-gray-500 font-bold hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"})]}),c.jsx("div",{className:"bg-white p-10 rounded-xl border border-gray-100 shadow-xl space-y-8",children:r&&f?c.jsx("div",{className:"text-center text-gray-500",children:"Loading customer..."}):c.jsxs(c.Fragment,{children:[s&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:s})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Full Name"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:n.name,onChange:b=>a({...n,name:b.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Phone Number"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:n.phone,onChange:b=>a({...n,phone:b.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Address"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 transition-all outline-none",value:n.address,onChange:b=>a({...n,address:b.target.value})})]}),c.jsx(Ke,{onClick:y,variant:"primary",size:"lg",className:"w-full",disabled:p.isPending||g.isPending,children:p.isPending||g.isPending?r?"Updating...":"Adding...":r?"Update Customer":"Add Customer"})]})})]})},Aoe=()=>{const{id:e}=An(),t=mt(),[r,n]=j.useState(null),a=we.currentUser,s=(a==null?void 0:a.role)||null,{data:l}=dD(e||""),{data:d=[]}=g9(e||""),{data:f}=Mp(),h=Ip(),p=Mr(),{totalRevenue:g,dueAmount:y}=j.useMemo(()=>{const S=d.filter(A=>A.status===Be.COMPLETED),_=d.filter(A=>A.status===Be.PROCESSING||A.status===Be.PICKED),N=S.reduce((A,C)=>A+C.total,0),O=_.reduce((A,C)=>A+(C.total-C.paidAmount),0);return{totalRevenue:N,dueAmount:O}},[d]),b=S=>{switch(S){case Be.ON_HOLD:return"bg-gray-100 text-gray-600";case Be.PROCESSING:return"bg-[#e6f0ff] ${theme.colors.secondary[600]}";case Be.PICKED:return"bg-purple-100 text-purple-600";case Be.COMPLETED:return"bg-green-100 ${theme.colors.primary[600]}";case Be.CANCELLED:return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}},w=async S=>{try{if(!l)return;if(!f){p.error("Unable to generate new order number. Please try again.");return}const _=`${f.prefix}${f.nextNumber}`,N=new Date,O=N.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),A=N.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),C={orderNumber:_,orderDate:new Date().toISOString().split("T")[0],customerId:l.id,createdBy:S.createdBy,status:Be.ON_HOLD,items:S.items,subtotal:S.subtotal,discount:S.discount,shipping:S.shipping,total:S.total,paidAmount:0,history:{created:`Duplicated from order #${S.orderNumber} on ${O}, at ${A}`}};await h.mutateAsync(C),p.success("Order duplicated successfully"),t("/orders")}catch(_){console.error("Failed to duplicate order",_),p.error("Failed to duplicate order: "+(_ instanceof Error?_.message:"Unknown error"))}};return s===Ht.EMPLOYEE?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot view customer details. Contact an administrator for assistance."}),c.jsx(Ke,{onClick:()=>t("/customers"),variant:"primary",children:"Back to Customers"})]}):l?c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/customers"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Profile"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx("button",{onClick:()=>t(`/customers/edit/${e}`),className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-700 hover:bg-gray-50",children:"Edit Profile"})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-[#ebf4ff] ${theme.colors.primary[600]} flex items-center justify-center font-black text-4xl mx-auto mb-4 border-2 border-[#c7dff5]",children:l.name.charAt(0)}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:l.name}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:l.phone}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 space-y-4 text-left",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Address"}),c.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed",children:l.address})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Revenue"}),c.jsx("p",{className:"text-lg font-black text-gray-900",children:be(g)})]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg shadow-[#0f2f57]/20/50 border border-gray-100 text-white",children:[c.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-1",children:"Due Amount"}),c.jsx("h4",{className:"text-lg font-black text-green-600",children:be(y)})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Order History"}),c.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[d.length," Records found"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[c.jsx("th",{className:"px-6 py-4",children:"Order Number"}),c.jsx("th",{className:"px-6 py-4",children:"Order Date"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:d.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-400 italic",children:"No orders found for this customer."})}):d.map(S=>c.jsxs("tr",{onMouseEnter:()=>n(S.id),onMouseLeave:()=>n(null),onClick:()=>t(`/orders/${S.id}`),className:"group relative hover:bg-[#ebf4ff]/30 cursor-pointer transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"font-bold text-gray-900",children:["#",S.orderNumber]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:S.orderDate}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${b(S.status)}`,children:S.status})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("span",{className:"font-black text-gray-900",children:be(S.total)})}),r===S.id&&c.jsx("td",{className:"absolute inset-y-0 right-0 flex items-center pr-6 bg-gradient-to-l from-emerald-50 via-emerald-50 to-transparent",children:c.jsxs("div",{className:"flex items-center gap-1 bg-white p-1 rounded-lg shadow-lg border border-[#c7dff5] animate-in fade-in slide-in-from-right-2 duration-200",onClick:_=>_.stopPropagation(),children:[c.jsx("button",{title:"Edit",onClick:()=>t(`/orders/edit/${S.id}`),className:"p-2 text-gray-500 hover:${theme.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors",children:oe.Edit}),c.jsx("button",{title:"Duplicate",onClick:()=>w(S),className:"p-2 text-gray-500 hover:${theme.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors",children:oe.Duplicate})]})})]},S.id))})]})})]})})]})]}):c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Customer not found."})},Coe=()=>{const e=mt(),t=$e(),r=Mr(),{searchQuery:n}=Os(),{data:a=[],isPending:s}=Cc(),l=k9(),d=j.useMemo(()=>{if(!n.trim())return a;const h=n.toLowerCase();return a.filter(p=>p.name.toLowerCase().includes(h)||p.phone.includes(h)||p.address.toLowerCase().includes(h))},[a,n]),f=async h=>{if(confirm("Are you sure you want to delete this vendor?"))try{await l.mutateAsync(h),t.invalidateQueries({queryKey:["vendors"]}),r.success("Vendor deleted successfully")}catch(p){console.error("Failed to delete vendor:",p),r.error("Failed to delete vendor")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vendors"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Manage suppliers and procurement channels"})]}),c.jsx(Ke,{onClick:()=>e("/vendors/new"),variant:"primary",size:"md",icon:oe.Plus,children:"New Vendor"})]}),c.jsx(Tp,{columns:[{key:"name",label:"Vendor Name",render:(h,p)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold",children:p.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 block",children:p.name}),c.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:p.address})]})]})},{key:"phone",label:"Contact",render:h=>c.jsx("span",{className:"text-sm font-medium text-gray-700",children:h})},{key:"totalPurchases",label:"Purchases",align:"center",render:h=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-bold text-gray-600",children:h})},{key:"dueAmount",label:"Balance Payable",align:"right",render:h=>c.jsx("span",{className:`font-bold ${h>0?"text-red-500":"text-green-500"}`,children:be(h)})},{key:"id",label:"Actions",align:"right",render:h=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(ws,{icon:oe.Edit,variant:"primary",title:"Edit",onClick:p=>{p.stopPropagation(),e(`/vendors/edit/${h}`)}}),c.jsx(ws,{icon:oe.Delete,variant:"danger",title:"Delete",onClick:p=>{p.stopPropagation(),f(h)}})]})}],data:d,loading:s,onRowClick:h=>e(`/vendors/${h.id}`),emptyMessage:"No vendors found"})]})},Gk=()=>{const{id:e}=An(),t=mt(),{isLoading:r}=_p(),n=!!e,[a,s]=j.useState({name:"",phone:"",address:""}),[l,d]=j.useState(null),{data:f,isPending:h,error:p}=mD(n?e:void 0),g=C9(),y=P9();j.useEffect(()=>{f&&s({name:f.name,phone:f.phone,address:f.address})},[f]);const b=async()=>{if(r){d("Authenticating... Please wait");return}if(!a.name||!a.phone){d("Business name and phone are required");return}d(null);try{if(n){const w={name:a.name,phone:a.phone,address:a.address};await y.mutateAsync({id:e,updates:w}),t("/vendors")}else{const w={name:a.name,phone:a.phone,address:a.address,totalPurchases:0,dueAmount:0};g.mutateAsync(w).then(()=>{t("/vendors")},S=>{d(S instanceof Error?S.message:"Failed to create vendor")})}}catch(w){console.error(`Failed to ${n?"update":"create"} vendor:`,w),d(w instanceof Error?w.message:`Failed to ${n?"update":"create"} vendor`)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:n?"Edit Vendor":"New Vendor"}),c.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 text-gray-500 font-bold hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"})]}),c.jsx("div",{className:"bg-white p-10 rounded-xl border border-gray-100 shadow-xl space-y-8",children:n&&h?c.jsx("div",{className:"text-center text-gray-500",children:"Loading vendor..."}):c.jsxs(c.Fragment,{children:[l&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:l})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Business Name"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-blue-500 focus:bg-white rounded-lg font-bold transition-all outline-none",value:a.name,onChange:w=>s({...a,name:w.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Contact Person / Phone"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-blue-500 focus:bg-white rounded-lg font-bold transition-all outline-none",value:a.phone,onChange:w=>s({...a,phone:w.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-blue-500 focus:bg-white rounded-lg font-medium h-32 transition-all outline-none",value:a.address,onChange:w=>s({...a,address:w.target.value})})]}),c.jsx(Ke,{onClick:b,variant:"primary",size:"lg",className:"w-full",disabled:g.isPending||y.isPending,children:g.isPending||y.isPending?n?"Updating...":"Adding...":n?"Update Vendor":"Add Vendor"})]})})]})},Poe=()=>{const{id:e}=An(),t=mt(),{data:r,isPending:n}=mD(e||""),{data:a=[]}=Ec(),[s,l]=j.useState(null);if(n)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading vendor details..."});if(!r)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Vendor not found."});const d=a.filter(h=>h.vendorId===r.id),f=h=>{switch(h){case an.ON_HOLD:return"bg-gray-100 text-gray-600";case an.PROCESSING:return"bg-blue-100 text-blue-600";case an.RECEIVED:return"bg-green-100 text-green-600";default:return"bg-gray-100 text-gray-600"}};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/vendors"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vendor Profile"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-700 hover:bg-gray-50",children:"Edit Profile"}),c.jsx("button",{className:`px-4 py-2 ${se.colors.primary[600]} text-white rounded-xl font-bold hover:${se.colors.primary[700]} shadow-md`,children:"Purchase Statement"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[c.jsx("div",{className:`w-24 h-24 rounded-full bg-[#e6f0ff] ${se.colors.primary.text} flex items-center justify-center font-black text-4xl mx-auto mb-4 border-2 border-[#c7dff5]`,children:r.name.charAt(0)}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r.name}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r.phone}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 space-y-4 text-left",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed",children:r.address})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Procurement"}),c.jsx("p",{className:"text-lg font-black text-gray-900",children:be(d.reduce((h,p)=>h+p.total,0))})]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg shadow-[#0f2f57]/20 text-white",children:[c.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-1",children:"Total Payable"}),c.jsx("h4",{className:"text-lg font-black text-red-600",children:be(r.dueAmount)})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Purchase Bills"}),c.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[d.length," Invoices"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[c.jsx("th",{className:"px-6 py-4",children:"Bill Number"}),c.jsx("th",{className:"px-6 py-4",children:"Bill Date"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:d.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-400 italic",children:"No purchase bills found for this vendor."})}):d.map(h=>c.jsxs("tr",{onMouseEnter:()=>l(h.id),onMouseLeave:()=>l(null),onClick:()=>t(`/bills/${h.id}`),className:"group relative hover:bg-blue-50/30 cursor-pointer transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"font-bold text-gray-900",children:["#",h.billNumber]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:h.billDate}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${f(h.status)}`,children:h.status})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("span",{className:"font-black text-gray-900",children:be(h.total)})}),s===h.id&&c.jsx("td",{className:"absolute inset-y-0 right-0 flex items-center pr-6 bg-gradient-to-l from-blue-50 via-blue-50 to-transparent",children:c.jsx("div",{className:"flex items-center gap-1 bg-white p-1 rounded-lg shadow-lg border border-[#c7dff5] animate-in fade-in slide-in-from-right-2 duration-200",onClick:p=>p.stopPropagation(),children:c.jsx("button",{title:"Edit",onClick:()=>t(`/bills/edit/${h.id}`),className:`p-2 text-gray-500 hover:${se.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors`,children:oe.Edit})})})]},h.id))})]})})]})})]})]})},koe=({title:e,description:t,icon:r,color:n,to:a})=>{const s=mt();return c.jsxs("button",{onClick:()=>s(a),className:"flex items-start gap-4 p-6 bg-white rounded-lg border border-gray-100 shadow-sm hover:shadow-md hover:border-[#c7dff5] transition-all text-left w-full group",children:[c.jsx("div",{className:`p-4 rounded-[50%] ${n} transition-transform group-hover:scale-110 duration-300`,children:r}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:e}),c.jsx("p",{className:"text-sm text-gray-500 mt-1 leading-relaxed",children:t}),c.jsxs("div",{className:"mt-4 flex items-center gap-1 text-xs font-bold uppercase tracking-widest opacity-40 group-hover:opacity-100 transition-opacity",children:["View Report ",oe.ChevronRight]})]})]})},Toe=()=>{const e=[{title:"Expense Summary",description:"Breakdown of your business spending by category and vendor.",icon:oe.Delete,color:"bg-red-50 text-red-600",to:"/reports/expense"},{title:"Income Summary",description:"Analysis of your revenue streams and payment collections.",icon:oe.PlusCircle,color:`bg-[#ebf4ff] ${se.colors.primary[600]}`,to:"/reports/income"},{title:"Income vs Expense",description:"Visual comparison of cash inflows and outflows over time.",icon:oe.Transfer,color:`bg-[#e6f0ff] ${se.colors.secondary[600]}`,to:"/reports/income-vs-expense"},{title:"Profit and Loss",description:"Standard P&L statement to track net business profitability.",icon:oe.Reports,color:"bg-purple-50 text-purple-600",to:"/reports/profit-loss"}];return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Financial Reports"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Deep dive into your business metrics and performance."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,r)=>c.jsx(koe,{...t},r))})]})},Doe=()=>{const e=mt(),{data:t=[]}=Ac(),{data:r=[]}=Cc(),{data:n=[]}=Es(),{data:a=[]}=Cs(),s=new Map(a.map(g=>[g.id,g.name])),l=t.filter(g=>g.type==="Expense"),d={};l.forEach(g=>{const y=s.get(g.category)||g.category||"Uncategorized";d[y]=(d[y]||0)+g.amount});const f=Object.entries(d).map(([g,y])=>({name:g,value:y})),h=["#EF4444","#F97316","#F59E0B","#8B5CF6","#EC4899","#3B82F6"],p=()=>{const g=`Date,Category,Contact,Account,Amount,Description
`,y=l.map(_=>{var C,D;const N=((C=r.find(T=>T.id===_.contactId))==null?void 0:C.name)||"N/A",O=((D=n.find(T=>T.id===_.accountId))==null?void 0:D.name)||"N/A",A=s.get(_.category)||_.category||"Uncategorized";return`${_.date},"${A}","${N}","${O}",${_.amount},"${_.description}"`}).join(`
`),b=new Blob([g+y],{type:"text/csv"}),w=window.URL.createObjectURL(b),S=document.createElement("a");S.setAttribute("hidden",""),S.setAttribute("href",w),S.setAttribute("download","expense_summary.csv"),document.body.appendChild(S),S.click(),document.body.removeChild(S)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Expense Summary"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-xl font-bold text-sm text-gray-700 hover:bg-gray-50",children:[oe.Download," Export CSV"]}),c.jsx(Ke,{variant:"primary",size:"sm",icon:oe.Print,children:"Export Image"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-6",children:"Expenses by Category"}),c.jsx("div",{className:"h-[350px]",children:c.jsx(Xl,{width:"100%",height:"100%",children:c.jsxs(w5,{data:f,layout:"vertical",margin:{left:40,right:40},children:[c.jsx(Pd,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f1f5f9"}),c.jsx(Td,{type:"number",axisLine:!1,tickLine:!1,tick:{fontSize:10}}),c.jsx(Dd,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),c.jsx(Jl,{formatter:g=>be(g),contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),c.jsx(Oo,{dataKey:"value",radius:[0,4,4,0],barSize:30,children:f.map((g,y)=>c.jsx(Fo,{fill:h[y%h.length]},`cell-${y}`))})]})})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsx("h3",{className:"font-bold text-gray-800",children:"Key Statistics"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-bold text-red-400 uppercase tracking-widest",children:"Total Outflow"}),c.jsx("h4",{className:"text-3xl font-black text-red-600",children:be(l.reduce((g,y)=>g+y.amount,0))})]}),c.jsx("div",{className:"divide-y divide-gray-50",children:f.sort((g,y)=>y.value-g.value).slice(0,5).map((g,y)=>c.jsxs("div",{className:"py-3 flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium text-gray-500",children:g.name}),c.jsx("span",{className:"text-sm font-bold text-gray-900",children:be(g.value)})]},y))})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 shadow-sm overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-50",children:c.jsx("h3",{className:"font-bold text-gray-900",children:"Recent Expense Log"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase",children:[c.jsx("th",{className:"px-6 py-4",children:"Date"}),c.jsx("th",{className:"px-6 py-4",children:"Category"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:l.slice(0,10).map(g=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:g.date}),c.jsx("td",{className:"px-6 py-4 text-sm font-bold text-gray-800",children:s.get(g.category)||g.category||"Uncategorized"}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-red-600",children:be(g.amount)})]},g.id))})]})})]})]})},Moe=()=>{const e=mt(),{data:t=[]}=Ac(),{data:r=[]}=$o(),{data:n=[]}=Oc(),{data:a=[]}=Cs(),s=new Map(a.map(b=>[b.id,b.name])),l=t.filter(b=>b.type==="Income"),d={};l.forEach(b=>{d[b.category]=(d[b.category]||0)+b.amount});const f=Object.entries(d).map(([b,w])=>({name:s.get(b)||b||"Uncategorized",value:w})),h=["#10B981","#34D399","#6EE7B7","#A7F3D0","#D1FAE5"],p=n.filter(b=>b.status===Be.COMPLETED),g={};p.forEach(b=>{g[b.customerId]=(g[b.customerId]||0)+b.total});const y=r.map(b=>({...b,revenue:g[b.id]||0})).filter(b=>b.revenue>0).sort((b,w)=>w.revenue-b.revenue).slice(0,3);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Income Summary"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-xl font-bold text-sm text-gray-700 hover:bg-gray-50",children:[oe.Download," Export CSV"]}),c.jsx(Ke,{variant:"primary",size:"sm",icon:oe.Print,children:"Export Image"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm flex flex-col items-center",children:[c.jsx("h3",{className:"font-bold text-gray-800 self-start mb-6",children:"Revenue Mix"}),c.jsx("div",{className:"w-full h-[300px]",children:c.jsx(Xl,{width:"100%",height:"100%",children:c.jsxs(S5,{children:[c.jsx(RS,{data:f,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:f.map((b,w)=>c.jsx(Fo,{fill:h[w%h.length]},`cell-${w}`))}),c.jsx(Jl,{formatter:b=>be(b)}),c.jsx(ag,{verticalAlign:"bottom",align:"center"})]})})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:`${se.colors.primary[600]} p-8 rounded-lg text-white shadow-lg shadow-[#0f2f57]/20`,children:[c.jsx("p",{className:"text-[#c7dff5] text-xs font-bold uppercase tracking-widest mb-1",children:"Total Revenue Collected"}),c.jsx("h4",{className:"text-4xl font-black",children:be(l.reduce((b,w)=>b+w.amount,0))}),c.jsxs("div",{className:"mt-6 p-4 bg-white/10 rounded-xl flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium",children:"Avg Transaction Size"}),c.jsx("span",{className:"font-bold",children:be(l.length?l.reduce((b,w)=>b+w.amount,0)/l.length:0)})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Top Customers"}),c.jsx("div",{className:"space-y-4",children:y.map((b,w)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center font-bold text-xs",children:b.name.charAt(0)}),c.jsx("span",{className:"text-sm font-semibold text-gray-700",children:b.name})]}),c.jsx("span",{className:"text-sm font-black",children:be(b.revenue)})]},w))})]})]})]})]})},Roe=()=>{const e=mt(),{data:t=[]}=Oc(),{data:r=[]}=Ec(),{data:n=[]}=Ac(),a=j.useMemo(()=>{const s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=new Date().getFullYear(),d={};return s.forEach(f=>{d[f]={income:0,expense:0}}),t.forEach(f=>{const h=new Date(f.orderDate);if(h.getFullYear()===l){const p=h.getMonth(),g=s[p];d[g].income+=f.total}}),r.forEach(f=>{const h=new Date(f.billDate);if(h.getFullYear()===l){const p=h.getMonth(),g=s[p];d[g].expense+=f.total}}),n.filter(f=>f.type==="Expense"&&f.category!=="expense_purchases").forEach(f=>{const h=new Date(f.date);if(h.getFullYear()===l){const p=h.getMonth(),g=s[p];d[g].expense+=f.amount}}),s.map(f=>({name:f,income:d[f].income,expense:d[f].expense,profit:d[f].income-d[f].expense}))},[t,r,n]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Income vs Expense Trend"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx(Ke,{variant:"primary",size:"sm",icon:oe.Print,children:"Export Full Report"})})]}),c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-8",children:"Cash Flow Dynamics (Last 6 Months)"}),c.jsx("div",{className:"h-[400px]",children:c.jsx(Xl,{width:"100%",height:"100%",children:c.jsxs(_5,{data:a,children:[c.jsx(Pd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(Td,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12}}),c.jsx(Dd,{axisLine:!1,tickLine:!1,tick:{fontSize:12}}),c.jsx(Jl,{formatter:s=>be(s),contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),c.jsx(ag,{verticalAlign:"top",align:"right",height:36}),c.jsx(Oo,{dataKey:"income",fill:"#10B981",radius:[4,4,0,0],name:"Total Income",barSize:40}),c.jsx(Oo,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],name:"Total Expense",barSize:40}),c.jsx(zS,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"},name:"Net Cash Flow"})]})})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:(()=>{var p,g,y,b;const s=a.reduce((w,S)=>w+S.income,0),l=a.reduce((w,S)=>w+S.expense,0),d=a.length>0?(s-l)/a.length:0,f=a.reduce((w,S,_)=>S.income>a[w].income?_:w,0),h=a.reduce((w,S,_)=>S.expense<a[w].expense?_:w,0);return[{label:"Highest Revenue Month",value:((p=a[f])==null?void 0:p.name)||"",amount:((g=a[f])==null?void 0:g.income)||0},{label:"Least Expense Month",value:((y=a[h])==null?void 0:y.name)||"",amount:((b=a[h])==null?void 0:b.expense)||0},{label:"Average Monthly Profit",value:"Monthly Avg",amount:d,color:"text-purple-600"}].map((w,S)=>c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:w.label}),c.jsx("h4",{className:"text-xl font-bold text-gray-900 mt-1",children:w.value}),c.jsx("p",{className:`text-lg font-black mt-2 ${w.color}`,children:be(w.amount)})]},S))})()})]})},xa=({label:e,amount:t,isBold:r,isTotal:n,indent:a})=>c.jsxs("div",{className:`flex justify-between py-2 ${r?"font-bold text-gray-900":"text-gray-600"} ${n?"border-t-2 border-gray-100 pt-4 mt-2":""} ${a?"pl-6":""}`,children:[c.jsx("span",{className:"text-sm",children:e}),c.jsx("span",{className:"text-sm font-black",children:be(t)})]}),Ioe=()=>{const e=mt(),{data:t=[]}=Oc(),{data:r=[]}=Ec(),{data:n=[]}=Ac(),{data:a=[]}=Cs(),s=new Map(a.map(w=>[w.id,w.name])),[l,d]=j.useState("currentYear"),[f,h]=j.useState(""),[p,g]=j.useState(""),y=w=>{const S=new Date(w),_=new Date;return l==="currentYear"?S.getFullYear()===_.getFullYear():l==="currentMonth"?S.getFullYear()===_.getFullYear()&&S.getMonth()===_.getMonth():l==="custom"?!f||!p?!0:S>=new Date(f)&&S<=new Date(p):!0},b=j.useMemo(()=>{const w=n.filter(M=>M.type==="Income"&&!!M.referenceId&&y(M.date)).reduce((M,I)=>M+I.amount,0),S=w>0?w:t.filter(M=>M.status===Be.COMPLETED&&y(M.orderDate)).reduce((M,I)=>M+I.total,0),_=n.filter(M=>M.type==="Expense"&&M.category==="expense_purchases"&&y(M.date)).reduce((M,I)=>M+I.amount,0),N=_>0?_:r.filter(M=>y(M.billDate)).reduce((M,I)=>M+I.total,0),O=S-N,A={};n.filter(M=>M.type==="Expense"&&M.category!=="expense_purchases"&&y(M.date)).forEach(M=>{const I=s.get(M.category)||M.category||"Uncategorized";A[I]=(A[I]||0)+M.amount});const D=Object.entries(A).map(([M,I])=>({categoryName:M,amount:I})).sort((M,I)=>I.amount-M.amount),T=Object.values(A).reduce((M,I)=>M+I,0),k=O-T;return{grossSales:S,costOfPurchases:N,grossProfit:O,expenses:D,totalOperatingExpenses:T,netProfit:k}},[t,r,n,l,f,p,s]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profit and Loss Statement"})]}),c.jsxs("button",{onClick:()=>window.print(),className:`flex items-center gap-2 px-4 py-2 ${se.colors.primary[600]} hover:${se.colors.primary[700]} text-white font-bold rounded-xl transition-colors`,children:[oe.Print," Print Statement"]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4",children:"Period"}),c.jsxs("div",{className:"flex gap-4 items-end",children:[c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"currentYear",checked:l==="currentYear",onChange:w=>d(w.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Year"})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"currentMonth",checked:l==="currentMonth",onChange:w=>d(w.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Month"})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"custom",checked:l==="custom",onChange:w=>d(w.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Custom Range"})]})]}),l==="custom"&&c.jsxs("div",{className:"flex gap-3 ml-auto",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-600",children:"From:"}),c.jsx("input",{type:"date",value:f,onChange:w=>h(w.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-600",children:"To:"}),c.jsx("input",{type:"date",value:p,onChange:w=>g(w.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"})]})]})]})]}),c.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"p-8 bg-gray-50 border-b border-gray-100 text-center",children:[we.settings.company.logo&&c.jsx("img",{src:we.settings.company.logo,className:"w-16 h-16 rounded-xl mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:we.settings.company.name})]}),c.jsxs("div",{className:"p-8 space-y-2",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Revenue"}),c.jsx(xa,{label:"Gross Sales (Completed Orders)",amount:b.grossSales}),c.jsx(xa,{label:"Other Operating Income",amount:0}),c.jsx(xa,{label:"Total Revenue",amount:b.grossSales,isBold:!0,isTotal:!0}),c.jsxs("div",{className:"pt-8",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Cost of Goods Sold"}),c.jsx(xa,{label:"Purchases",amount:b.costOfPurchases}),c.jsx(xa,{label:"Total COGS",amount:b.costOfPurchases,isBold:!0,isTotal:!0})]}),c.jsx("div",{className:"pt-8",children:c.jsx(xa,{label:"Gross Profit",amount:b.grossProfit,isBold:!0})}),c.jsxs("div",{className:"pt-8",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Operating Expenses"}),b.expenses.length>0?c.jsxs(c.Fragment,{children:[b.expenses.slice(0,5).map((w,S)=>c.jsx(xa,{label:w.categoryName,amount:w.amount,indent:!0},S)),b.expenses.length>5&&c.jsx(xa,{label:"Other Expenses",amount:b.expenses.slice(5).reduce((w,S)=>w+S.amount,0),indent:!0})]}):c.jsx(xa,{label:"None",amount:0,indent:!0}),c.jsx(xa,{label:"Total Operating Expenses",amount:b.totalOperatingExpenses,isBold:!0,isTotal:!0})]}),c.jsx("div",{className:"pt-12",children:c.jsxs("div",{className:`p-6 rounded-lg flex justify-between items-center ${b.netProfit>=0?se.colors.primary[600]:"bg-red-600"} text-white shadow-xl`,children:[c.jsx("span",{className:"text-lg font-black uppercase tracking-widest",children:"Net Profit / Loss"}),c.jsx("span",{className:"text-3xl font-black",children:be(b.netProfit)})]})})]}),c.jsx("div",{className:"p-8 text-center text-[10px] text-gray-300 italic border-t border-gray-50",children:"This report is generated automatically by BD Hatbela Financial Management System."})]})]})},Yk=({order:e,customer:t,products:r,companySettings:n,invoiceSettings:a})=>c.jsxs("div",{className:"space-y-5 print:space-y-4 text-gray-900",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[((n==null?void 0:n.logo)||we.settings.company.logo)&&c.jsx("img",{src:(n==null?void 0:n.logo)||we.settings.company.logo,className:"rounded-lg object-cover mb-4",style:{width:(a==null?void 0:a.logoWidth)||we.settings.invoice.logoWidth,height:(a==null?void 0:a.logoHeight)||we.settings.invoice.logoHeight},alt:"Company Logo"}),c.jsx("h1",{className:"text-xl font-black uppercase tracking-tighter",children:(n==null?void 0:n.name)||we.settings.company.name}),c.jsxs("div",{className:"mt-2 text-xs text-gray-400 font-medium space-y-1 print:text-gray-600",children:[c.jsx("p",{children:(n==null?void 0:n.address)||we.settings.company.address}),c.jsxs("p",{children:[(n==null?void 0:n.phone)||we.settings.company.phone," "," ",(n==null?void 0:n.email)||we.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-300 uppercase leading-none mb-2 print:text-gray-400",children:(a==null?void 0:a.title)||we.settings.invoice.title}),c.jsxs("div",{className:"space-y-1.5 print:space-y-1",children:[c.jsxs("p",{className:"text-sm font-bold text-gray-900 print:text-gray-800",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Order No:"}),e.orderNumber]}),c.jsxs("p",{className:"text-sm font-bold text-gray-900 print:text-gray-800",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Date:"}),new Date(e.orderDate).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-12 border-t border-gray-100 py-4 print:border-gray-300 print:py-3",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 print:mb-2",children:"Billed To"}),c.jsx("h3",{className:"text-md font-black text-gray-900 print:text-gray-800",children:t==null?void 0:t.name}),c.jsx("p",{className:"text-sm text-gray-500 leading-relaxed print:text-gray-600",children:t==null?void 0:t.address}),c.jsx("p",{className:"text-sm font-bold mt-2 print:mt-1",children:t==null?void 0:t.phone})]})}),c.jsxs("table",{className:"w-full text-left print:text-gray-800",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100 print:border-gray-300",children:[c.jsx("th",{className:"py-4 text-sm font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Item Description"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Rate"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Qty"}),c.jsx("th",{className:"py-4 text-sm text-right font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50 print:divide-gray-300",children:e.items.map((s,l)=>{const d=r.find(f=>f.id===s.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-6 print:py-3",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:d==null?void 0:d.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm print:w-10 print:h-10 print:rounded-full print:border-gray-300 print:shadow-none",alt:s.productName}),c.jsx("span",{className:"font-bold text-gray-900 print:text-sm",children:s.productName})]})}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold print:py-3 print:text-sm",children:be(s.rate)}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold print:py-3 print:text-sm",children:s.quantity}),c.jsx("td",{className:"py-6 text-right font-black text-gray-900 print:py-3 print:text-sm",children:be(s.amount)})]},l)})})]}),c.jsx("div",{className:"flex justify-end pt-6 print:pt-4",children:c.jsxs("div",{className:"w-full max-w-xs space-y-4 print:space-y-2 print:text-sm",children:[c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900 print:text-gray-800",children:be(e.subtotal)})]}),e.discount>0&&c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500 print:text-red-600",children:["-",be(e.discount)]})]}),e.shipping>0&&c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900 print:text-gray-800",children:be(e.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-6 border-t-2 border-[#0f2f57] print:py-3 print:border-t print:border-gray-400",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter print:text-gray-800",children:"Net Total"}),c.jsx("span",{className:"font-black text-gray-900 print:text-gray-800",children:be(e.total)})]})]})}),e.notes&&c.jsxs("div",{className:"bg-gray-50 p-4 rounded-[10px] border border-gray-100 print:bg-white print:p-3 print:rounded-lg print:border-gray-300",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase tracking-widest mb-2 print:text-gray-500 print:mb-1",children:"Terms & Notes"}),c.jsx("p",{className:"text-xs text-gray-600 font-medium italic leading-relaxed print:text-gray-700",children:e.notes})]})]}),Loe=()=>{const{id:e}=An(),{data:t,isPending:r}=Bw(e||""),{data:n=[]}=$o(),{data:a=[]}=As(),{data:s=[]}=Hd(),{data:l}=Dp(),{data:d}=Rp(),f=j.useRef(!1),h=t?n.find(p=>p.id===t.customerId):void 0;return t&&a.find(p=>p.id===t.createdBy),j.useEffect(()=>{t&&!r&&!f.current&&(f.current=!0,moe())},[t,r]),r||!t?c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading details..."}):c.jsxs("div",{className:"min-h-screen bg-white print:bg-white",children:[c.jsxs("div",{className:"space-y-0 print:space-y-0",children:[c.jsx("div",{className:"bg-white p-6 lg:p-10 print:p-6 min-h-screen print:min-h-fit",children:c.jsx(Yk,{order:t,customer:h,products:s,companySettings:l,invoiceSettings:d})}),c.jsx("div",{className:"bg-white p-6 lg:p-10 print:p-6 min-h-screen print:min-h-fit",style:{pageBreakBefore:"always"},children:c.jsx(Yk,{order:t,customer:h,products:s,companySettings:l,invoiceSettings:d})})]}),c.jsx("style",{children:`
        @media print {
          body {
            margin: 0;
            padding: 0;
            background: white;
          }
          .no-print {
            display: none !important;
          }
          table {
            page-break-inside: avoid;
          }
          tr {
            page-break-inside: avoid;
          }
          @page {
            margin: 0.25in;
            size: A4;
          }
          .print:page-break-avoid {
            page-break-inside: avoid;
          }
          .grid {
            page-break-inside: avoid;
          }
        }
      `})]})},Boe=new a6({defaultOptions:{queries:{staleTime:300*1e3,gcTime:1800*1e3,retry:2,retryDelay:e=>Math.min(1e3*2**e,1e4),refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1},mutations:{retry:1,retryDelay:1e3}}}),$oe=({user:e,profile:t,isLoading:r})=>{const n=e&&t;return c.jsxs(t$,{children:[c.jsx(He,{path:"/login",element:n?c.jsx(ze,{to:"/dashboard",replace:!0}):c.jsx(u9,{})}),c.jsx(He,{path:"/",element:e?c.jsx(ze,{to:"/dashboard",replace:!0}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/dashboard",element:e?c.jsx(Je,{children:c.jsx(hoe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/orders",element:e?c.jsx(Je,{children:c.jsx(poe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/orders/new",element:e?c.jsx(Je,{children:c.jsx(Kk,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/orders/edit/:id",element:e?c.jsx(Je,{children:c.jsx(Kk,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/orders/:id",element:e?c.jsx(Je,{children:c.jsx(goe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/print-order/:id",element:e?c.jsx(Loe,{}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/bills",element:e?c.jsx(Je,{children:c.jsx(yoe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/bills/new",element:e?c.jsx(Je,{children:c.jsx(Fk,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/bills/edit/:id",element:e?c.jsx(Je,{children:c.jsx(Fk,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/bills/:id",element:e?c.jsx(Je,{children:c.jsx(voe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/banking/accounts",element:e?c.jsx(Je,{children:c.jsx(boe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/banking/transfer",element:e?c.jsx(Je,{children:c.jsx(joe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/banking/transactions",element:e?c.jsx(Je,{children:c.jsx(xoe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/transactions",element:e?c.jsx(ze,{to:"/banking/transactions",replace:!0}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/transactions/new/:type",element:e?c.jsx(Je,{children:c.jsx(woe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/customers",element:e?c.jsx(Je,{children:c.jsx(Eoe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/customers/new",element:e?c.jsx(Je,{children:c.jsx(Vk,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/customers/edit/:id",element:e?c.jsx(Je,{children:c.jsx(Vk,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/customers/:id",element:e?c.jsx(Je,{children:c.jsx(Aoe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/vendors",element:e?c.jsx(Je,{children:c.jsx(Coe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/vendors/new",element:e?c.jsx(Je,{children:c.jsx(Gk,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/vendors/edit/:id",element:e?c.jsx(Je,{children:c.jsx(Gk,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/vendors/:id",element:e?c.jsx(Je,{children:c.jsx(Poe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/products",element:e?c.jsx(Je,{children:c.jsx(Soe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/products/new",element:e?c.jsx(Je,{children:c.jsx(Hk,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/products/edit/:id",element:e?c.jsx(Je,{children:c.jsx(Hk,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/users",element:e?c.jsx(Je,{children:c.jsx(_oe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/users/new",element:e?c.jsx(Je,{children:c.jsx(Qk,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/users/edit/:id",element:e?c.jsx(Je,{children:c.jsx(Qk,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/users/:id",element:e?c.jsx(Je,{children:c.jsx(Noe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/reports",element:e?c.jsx(Je,{children:c.jsx(Toe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/reports/expense",element:e?c.jsx(Je,{children:c.jsx(Doe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/reports/income",element:e?c.jsx(Je,{children:c.jsx(Moe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/reports/income-vs-expense",element:e?c.jsx(Je,{children:c.jsx(Roe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/reports/profit-loss",element:e?c.jsx(Je,{children:c.jsx(Ioe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"/settings",element:e?c.jsx(Je,{children:c.jsx(Ooe,{})}):c.jsx(ze,{to:"/login",replace:!0})}),c.jsx(He,{path:"*",element:e?c.jsx(ze,{to:"/dashboard",replace:!0}):c.jsx(ze,{to:"/login",replace:!0})})]})},Uoe=()=>{const{user:e,profile:t,isLoading:r}=_p();return console.log("[App] Render - user:",!!e,"profile:",!!t,"isLoading:",r),r?(console.log("[App] Rendering loading screen"),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block p-4",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),c.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading..."})]})})):c.jsx($oe,{user:e,profile:t,isLoading:r})},zoe=()=>(console.log("[App] Root component rendering - setting up providers"),c.jsx(i6,{client:Boe,children:c.jsx(Zz,{children:c.jsx(nq,{children:c.jsx(Jz,{children:c.jsx(eq,{children:c.jsx(rq,{children:c.jsxs(N$,{children:[c.jsx(Uoe,{}),c.jsx(c9,{}),c.jsx(l9,{})]})})})})})})})),O5=document.getElementById("root");if(!O5)throw new Error("Could not find root element to mount to");const qoe=aB.createRoot(O5);qoe.render(c.jsx(xr.StrictMode,{children:c.jsx(zoe,{})}));window.__testSupabase={async testCustomers(){console.log(" Testing customer fetch...");try{const e=await sD();return console.log(" Success! Customers:",e),e}catch(e){throw console.error(" Error:",e),e}},async testConnection(){console.log(" Testing Supabase connection...");try{const{data:e,error:t}=await ye.auth.getSession();if(t)throw t;return console.log(" Connected! Session:",e),e}catch(e){throw console.error(" Connection error:",e),e}},help(){console.log("Available test functions:"),console.log("  __testSupabase.testCustomers() - Fetch customers from DB"),console.log("  __testSupabase.testConnection() - Check auth session"),console.log("  __testSupabase.help() - Show this help")}};console.log(" Tip: Type __testSupabase.help() in console for test commands");
