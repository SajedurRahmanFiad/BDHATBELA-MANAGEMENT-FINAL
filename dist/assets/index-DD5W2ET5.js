var F3=Object.defineProperty;var zO=e=>{throw TypeError(e)};var Q3=(e,t,r)=>t in e?F3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Uv=(e,t,r)=>Q3(e,typeof t!="symbol"?t+"":t,r),zv=(e,t,r)=>t.has(e)||zO("Cannot "+r);var z=(e,t,r)=>(zv(e,t,"read from private field"),r?r.call(e):t.get(e)),ke=(e,t,r)=>t.has(e)?zO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),be=(e,t,r,n)=>(zv(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Fe=(e,t,r)=>(zv(e,t,"access private method"),r);var Dh=(e,t,r,n)=>({set _(a){be(e,t,a,r)},get _(){return z(e,t,n)}});function H3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function Ca(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qv={exports:{}},Ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO;function V3(){if(qO)return Ru;qO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return Ru.Fragment=t,Ru.jsx=r,Ru.jsxs=r,Ru}var KO;function G3(){return KO||(KO=1,qv.exports=V3()),qv.exports}var c=G3(),Kv={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FO;function Y3(){if(FO)return Ie;FO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function N(M,F,fe){this.props=M,this.context=F,this.refs=_,this.updater=fe||w}N.prototype.isReactComponent={},N.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function E(){}E.prototype=N.prototype;function A(M,F,fe){this.props=M,this.context=F,this.refs=_,this.updater=fe||w}var C=A.prototype=new E;C.constructor=A,S(C,N.prototype),C.isPureReactComponent=!0;var T=Array.isArray;function P(){}var D={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function K(M,F,fe){var pe=fe.ref;return{$$typeof:e,type:M,key:F,ref:pe!==void 0?pe:null,props:fe}}function re(M,F){return K(M.type,F,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function L(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(fe){return F[fe]})}var V=/\/+/g;function J(M,F){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):F.toString(36)}function G(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(P,P):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function R(M,F,fe,pe,we){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var Ee=!1;if(M===null)Ee=!0;else switch(Ce){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(M.$$typeof){case e:case t:Ee=!0;break;case p:return Ee=M._init,R(Ee(M._payload),F,fe,pe,we)}}if(Ee)return we=we(M),Ee=pe===""?"."+J(M,0):pe,T(we)?(fe="",Ee!=null&&(fe=Ee.replace(V,"$&/")+"/"),R(we,F,fe,"",function(Z){return Z})):we!=null&&(I(we)&&(we=re(we,fe+(we.key==null||M&&M.key===we.key?"":(""+we.key).replace(V,"$&/")+"/")+Ee)),F.push(we)),1;Ee=0;var ue=pe===""?".":pe+":";if(T(M))for(var $=0;$<M.length;$++)pe=M[$],Ce=ue+J(pe,$),Ee+=R(pe,F,fe,Ce,we);else if($=b(M),typeof $=="function")for(M=$.call(M),$=0;!(pe=M.next()).done;)pe=pe.value,Ce=ue+J(pe,$++),Ee+=R(pe,F,fe,Ce,we);else if(Ce==="object"){if(typeof M.then=="function")return R(G(M),F,fe,pe,we);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function H(M,F,fe){if(M==null)return M;var pe=[],we=0;return R(M,pe,"","",function(Ce){return F.call(fe,Ce,we++)}),pe}function te(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(fe){(M._status===0||M._status===-1)&&(M._status=1,M._result=fe)},function(fe){(M._status===0||M._status===-1)&&(M._status=2,M._result=fe)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var ae=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ge={map:H,forEach:function(M,F,fe){H(M,function(){F.apply(this,arguments)},fe)},count:function(M){var F=0;return H(M,function(){F++}),F},toArray:function(M){return H(M,function(F){return F})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ie.Activity=g,Ie.Children=ge,Ie.Component=N,Ie.Fragment=r,Ie.Profiler=a,Ie.PureComponent=A,Ie.StrictMode=n,Ie.Suspense=f,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Ie.cache=function(M){return function(){return M.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(M,F,fe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var pe=S({},M.props),we=M.key;if(F!=null)for(Ce in F.key!==void 0&&(we=""+F.key),F)!B.call(F,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&F.ref===void 0||(pe[Ce]=F[Ce]);var Ce=arguments.length-2;if(Ce===1)pe.children=fe;else if(1<Ce){for(var Ee=Array(Ce),ue=0;ue<Ce;ue++)Ee[ue]=arguments[ue+2];pe.children=Ee}return K(M.type,we,pe)},Ie.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:s,_context:M},M},Ie.createElement=function(M,F,fe){var pe,we={},Ce=null;if(F!=null)for(pe in F.key!==void 0&&(Ce=""+F.key),F)B.call(F,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(we[pe]=F[pe]);var Ee=arguments.length-2;if(Ee===1)we.children=fe;else if(1<Ee){for(var ue=Array(Ee),$=0;$<Ee;$++)ue[$]=arguments[$+2];we.children=ue}if(M&&M.defaultProps)for(pe in Ee=M.defaultProps,Ee)we[pe]===void 0&&(we[pe]=Ee[pe]);return K(M,Ce,we)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(M){return{$$typeof:d,render:M}},Ie.isValidElement=I,Ie.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:te}},Ie.memo=function(M,F){return{$$typeof:h,type:M,compare:F===void 0?null:F}},Ie.startTransition=function(M){var F=D.T,fe={};D.T=fe;try{var pe=M(),we=D.S;we!==null&&we(fe,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(P,ae)}catch(Ce){ae(Ce)}finally{F!==null&&fe.types!==null&&(F.types=fe.types),D.T=F}},Ie.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ie.use=function(M){return D.H.use(M)},Ie.useActionState=function(M,F,fe){return D.H.useActionState(M,F,fe)},Ie.useCallback=function(M,F){return D.H.useCallback(M,F)},Ie.useContext=function(M){return D.H.useContext(M)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(M,F){return D.H.useDeferredValue(M,F)},Ie.useEffect=function(M,F){return D.H.useEffect(M,F)},Ie.useEffectEvent=function(M){return D.H.useEffectEvent(M)},Ie.useId=function(){return D.H.useId()},Ie.useImperativeHandle=function(M,F,fe){return D.H.useImperativeHandle(M,F,fe)},Ie.useInsertionEffect=function(M,F){return D.H.useInsertionEffect(M,F)},Ie.useLayoutEffect=function(M,F){return D.H.useLayoutEffect(M,F)},Ie.useMemo=function(M,F){return D.H.useMemo(M,F)},Ie.useOptimistic=function(M,F){return D.H.useOptimistic(M,F)},Ie.useReducer=function(M,F,fe){return D.H.useReducer(M,F,fe)},Ie.useRef=function(M){return D.H.useRef(M)},Ie.useState=function(M){return D.H.useState(M)},Ie.useSyncExternalStore=function(M,F,fe){return D.H.useSyncExternalStore(M,F,fe)},Ie.useTransition=function(){return D.H.useTransition()},Ie.version="19.2.4",Ie}var QO;function bc(){return QO||(QO=1,Kv.exports=Y3()),Kv.exports}var j=bc();const br=Ca(j),W3=H3({__proto__:null,default:br},[j]);var Fv={exports:{}},Iu={},Qv={exports:{}},Hv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HO;function X3(){return HO||(HO=1,(function(e){function t(R,H){var te=R.length;R.push(H);e:for(;0<te;){var ae=te-1>>>1,ge=R[ae];if(0<a(ge,H))R[ae]=H,R[te]=ge,te=ae;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var H=R[0],te=R.pop();if(te!==H){R[0]=te;e:for(var ae=0,ge=R.length,M=ge>>>1;ae<M;){var F=2*(ae+1)-1,fe=R[F],pe=F+1,we=R[pe];if(0>a(fe,te))pe<ge&&0>a(we,fe)?(R[ae]=we,R[pe]=te,ae=pe):(R[ae]=fe,R[F]=te,ae=F);else if(pe<ge&&0>a(we,te))R[ae]=we,R[pe]=te,ae=pe;else break e}}return H}function a(R,H){var te=R.sortIndex-H.sortIndex;return te!==0?te:R.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,y=3,b=!1,w=!1,S=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(R){for(var H=r(h);H!==null;){if(H.callback===null)n(h);else if(H.startTime<=R)n(h),H.sortIndex=H.expirationTime,t(f,H);else break;H=r(h)}}function T(R){if(S=!1,C(R),!w)if(r(f)!==null)w=!0,P||(P=!0,L());else{var H=r(h);H!==null&&G(T,H.startTime-R)}}var P=!1,D=-1,B=5,K=-1;function re(){return _?!0:!(e.unstable_now()-K<B)}function I(){if(_=!1,P){var R=e.unstable_now();K=R;var H=!0;try{e:{w=!1,S&&(S=!1,E(D),D=-1),b=!0;var te=y;try{t:{for(C(R),g=r(f);g!==null&&!(g.expirationTime>R&&re());){var ae=g.callback;if(typeof ae=="function"){g.callback=null,y=g.priorityLevel;var ge=ae(g.expirationTime<=R);if(R=e.unstable_now(),typeof ge=="function"){g.callback=ge,C(R),H=!0;break t}g===r(f)&&n(f),C(R)}else n(f);g=r(f)}if(g!==null)H=!0;else{var M=r(h);M!==null&&G(T,M.startTime-R),H=!1}}break e}finally{g=null,y=te,b=!1}H=void 0}}finally{H?L():P=!1}}}var L;if(typeof A=="function")L=function(){A(I)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=I,L=function(){J.postMessage(null)}}else L=function(){N(I,0)};function G(R,H){D=N(function(){R(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(R){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var te=y;y=H;try{return R()}finally{y=te}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var te=y;y=R;try{return H()}finally{y=te}},e.unstable_scheduleCallback=function(R,H,te){var ae=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ae+te:ae):te=ae,R){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=te+ge,R={id:p++,callback:H,priorityLevel:R,startTime:te,expirationTime:ge,sortIndex:-1},te>ae?(R.sortIndex=te,t(h,R),r(f)===null&&R===r(h)&&(S?(E(D),D=-1):S=!0,G(T,te-ae))):(R.sortIndex=ge,t(f,R),w||b||(w=!0,P||(P=!0,L()))),R},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(R){var H=y;return function(){var te=y;y=H;try{return R.apply(this,arguments)}finally{y=te}}}})(Hv)),Hv}var VO;function Z3(){return VO||(VO=1,Qv.exports=X3()),Qv.exports}var Vv={exports:{}},Mr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GO;function J3(){if(GO)return Mr;GO=1;var e=bc();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Mr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,p)},Mr.flushSync=function(f){var h=l.T,p=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=h,n.p=p,n.d.f()}},Mr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},Mr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Mr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):p==="script"&&n.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Mr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},Mr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);n.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Mr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},Mr.requestFormReset=function(f){n.d.r(f)},Mr.unstable_batchedUpdates=function(f,h){return f(h)},Mr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Mr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Mr.version="19.2.4",Mr}var YO;function oT(){if(YO)return Vv.exports;YO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vv.exports=J3(),Vv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WO;function eB(){if(WO)return Iu;WO=1;var e=Z3(),t=bc(),r=oT();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(n(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,m=o;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return f(v),i;if(x===m)return f(v),o;x=x.sibling}throw Error(n(188))}if(u.return!==m.return)u=v,m=x;else{for(var O=!1,k=v.child;k;){if(k===u){O=!0,u=v,m=x;break}if(k===m){O=!0,m=v,u=x;break}k=k.sibling}if(!O){for(k=x.child;k;){if(k===u){O=!0,u=x,m=v;break}if(k===m){O=!0,m=x,u=v;break}k=k.sibling}if(!O)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function J(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList";case K:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case A:return i.displayName||"Context";case E:return(i._context.displayName||"Context")+".Consumer";case C:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return o=i.displayName||null,o!==null?o:J(i.type)||"Memo";case B:o=i._payload,i=i._init;try{return J(i(o))}catch{}}return null}var G=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ae=[],ge=-1;function M(i){return{current:i}}function F(i){0>ge||(i.current=ae[ge],ae[ge]=null,ge--)}function fe(i,o){ge++,ae[ge]=i.current,i.current=o}var pe=M(null),we=M(null),Ce=M(null),Ee=M(null);function ue(i,o){switch(fe(Ce,o),fe(we,i),fe(pe,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?uO(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=uO(o),i=dO(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}F(pe),fe(pe,i)}function $(){F(pe),F(we),F(Ce)}function Z(i){i.memoizedState!==null&&fe(Ee,i);var o=pe.current,u=dO(o,i.type);o!==u&&(fe(we,i),fe(pe,u))}function he(i){we.current===i&&(F(pe),F(we)),Ee.current===i&&(F(Ee),Pu._currentValue=te)}var ie,Ke;function Te(i){if(ie===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ie=o&&o[1]||"",Ke=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+i+Ke}var st=!1;function mt(i,o){if(!i||st)return"";st=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ne){var ee=ne}Reflect.construct(i,[],me)}else{try{me.call()}catch(ne){ee=ne}i.call(me.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),O=x[0],k=x[1];if(O&&k){var U=O.split(`
`),X=k.split(`
`);for(v=m=0;m<U.length&&!U[m].includes("DetermineComponentFrameRoot");)m++;for(;v<X.length&&!X[v].includes("DetermineComponentFrameRoot");)v++;if(m===U.length||v===X.length)for(m=U.length-1,v=X.length-1;1<=m&&0<=v&&U[m]!==X[v];)v--;for(;1<=m&&0<=v;m--,v--)if(U[m]!==X[v]){if(m!==1||v!==1)do if(m--,v--,0>v||U[m]!==X[v]){var ce=`
`+U[m].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=m&&0<=v);break}}}finally{st=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Te(u):""}function fr(i,o){switch(i.tag){case 26:case 27:case 5:return Te(i.type);case 16:return Te("Lazy");case 13:return i.child!==o&&o!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return mt(i.type,!1);case 11:return mt(i.type.render,!1);case 1:return mt(i.type,!0);case 31:return Te("Activity");default:return""}}function ka(i){try{var o="",u=null;do o+=fr(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Pa=Object.prototype.hasOwnProperty,le=e.unstable_scheduleCallback,Ct=e.unstable_cancelCallback,Vr=e.unstable_shouldYield,ar=e.unstable_requestPaint,ct=e.unstable_now,Uc=e.unstable_getCurrentPriorityLevel,zc=e.unstable_ImmediatePriority,qc=e.unstable_UserBlockingPriority,Ds=e.unstable_NormalPriority,gf=e.unstable_LowPriority,Vo=e.unstable_IdlePriority,O5=e.log,E5=e.unstable_setDisableYieldValue,Kc=null,un=null;function Pi(i){if(typeof O5=="function"&&E5(i),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(Kc,i)}catch{}}var dn=Math.clz32?Math.clz32:k5,A5=Math.log,C5=Math.LN2;function k5(i){return i>>>=0,i===0?32:31-(A5(i)/C5|0)|0}var yf=256,vf=262144,bf=4194304;function Ms(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function xf(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var v=0,x=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var k=m&134217727;return k!==0?(m=k&~x,m!==0?v=Ms(m):(O&=k,O!==0?v=Ms(O):u||(u=k&~i,u!==0&&(v=Ms(u))))):(k=m&~x,k!==0?v=Ms(k):O!==0?v=Ms(O):u||(u=m&~i,u!==0&&(v=Ms(u)))),v===0?0:o!==0&&o!==v&&(o&x)===0&&(x=v&-v,u=o&-o,x>=u||x===32&&(u&4194048)!==0)?o:v}function Fc(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function P5(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q1(){var i=bf;return bf<<=1,(bf&62914560)===0&&(bf=4194304),i}function Ag(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Qc(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function T5(i,o,u,m,v,x){var O=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var k=i.entanglements,U=i.expirationTimes,X=i.hiddenUpdates;for(u=O&~u;0<u;){var ce=31-dn(u),me=1<<ce;k[ce]=0,U[ce]=-1;var ee=X[ce];if(ee!==null)for(X[ce]=null,ce=0;ce<ee.length;ce++){var ne=ee[ce];ne!==null&&(ne.lane&=-536870913)}u&=~me}m!==0&&H1(i,m,0),x!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=x&~(O&~o))}function H1(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-dn(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function V1(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-dn(u),v=1<<m;v&o|i[m]&o&&(i[m]|=o),u&=~v}}function G1(i,o){var u=o&-o;return u=(u&42)!==0?1:Cg(u),(u&(i.suspendedLanes|o))!==0?0:u}function Cg(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function kg(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Y1(){var i=H.p;return i!==0?i:(i=window.event,i===void 0?32:MO(i.type))}function W1(i,o){var u=H.p;try{return H.p=i,o()}finally{H.p=u}}var Ti=Math.random().toString(36).slice(2),_r="__reactFiber$"+Ti,Gr="__reactProps$"+Ti,Go="__reactContainer$"+Ti,Pg="__reactEvents$"+Ti,D5="__reactListeners$"+Ti,M5="__reactHandles$"+Ti,X1="__reactResources$"+Ti,Hc="__reactMarker$"+Ti;function Tg(i){delete i[_r],delete i[Gr],delete i[Pg],delete i[D5],delete i[M5]}function Yo(i){var o=i[_r];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Go]||u[_r]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=vO(i);i!==null;){if(u=i[_r])return u;i=vO(i)}return o}i=u,u=i.parentNode}return null}function Wo(i){if(i=i[_r]||i[Go]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Vc(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function Xo(i){var o=i[X1];return o||(o=i[X1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function hr(i){i[Hc]=!0}var Z1=new Set,J1={};function Rs(i,o){Zo(i,o),Zo(i+"Capture",o)}function Zo(i,o){for(J1[i]=o,i=0;i<o.length;i++)Z1.add(o[i])}var R5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eS={},tS={};function I5(i){return Pa.call(tS,i)?!0:Pa.call(eS,i)?!1:R5.test(i)?tS[i]=!0:(eS[i]=!0,!1)}function wf(i,o,u){if(I5(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function jf(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Ta(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function An(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function rS(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function L5(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,x=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(O){u=""+O,x.call(this,O)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(O){u=""+O},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Dg(i){if(!i._valueTracker){var o=rS(i)?"checked":"value";i._valueTracker=L5(i,o,""+i[o])}}function nS(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=rS(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function Sf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var B5=/[\n"\\]/g;function Cn(i){return i.replace(B5,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Mg(i,o,u,m,v,x,O,k){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),o!=null?O==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+An(o)):i.value!==""+An(o)&&(i.value=""+An(o)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),o!=null?Rg(i,O,An(o)):u!=null?Rg(i,O,An(u)):m!=null&&i.removeAttribute("value"),v==null&&x!=null&&(i.defaultChecked=!!x),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+An(k):i.removeAttribute("name")}function aS(i,o,u,m,v,x,O,k){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),o!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){Dg(i);return}u=u!=null?""+An(u):"",o=o!=null?""+An(o):u,k||o===i.value||(i.value=o),i.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=k?i.checked:!!m,i.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O),Dg(i)}function Rg(i,o,u){o==="number"&&Sf(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Jo(i,o,u,m){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&m&&(i[u].defaultSelected=!0)}else{for(u=""+An(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function iS(i,o,u){if(o!=null&&(o=""+An(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+An(u):""}function sS(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(n(92));if(G(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=An(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),Dg(i)}function el(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var $5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oS(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||$5.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function lS(i,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&u[v]!==m&&oS(i,v,m)}else for(var x in o)o.hasOwnProperty(x)&&oS(i,x,o[x])}function Ig(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),z5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _f(i){return z5.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Da(){}var Lg=null;function Bg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var tl=null,rl=null;function cS(i){var o=Wo(i);if(o&&(i=o.stateNode)){var u=i[Gr]||null;e:switch(i=o.stateNode,o.type){case"input":if(Mg(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Cn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var v=m[Gr]||null;if(!v)throw Error(n(90));Mg(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&nS(m)}break e;case"textarea":iS(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Jo(i,!!u.multiple,o,!1)}}}var $g=!1;function uS(i,o,u){if($g)return i(o,u);$g=!0;try{var m=i(o);return m}finally{if($g=!1,(tl!==null||rl!==null)&&(dh(),tl&&(o=tl,i=rl,rl=tl=null,cS(o),i)))for(o=0;o<i.length;o++)cS(i[o])}}function Gc(i,o){var u=i.stateNode;if(u===null)return null;var m=u[Gr]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ug=!1;if(Ma)try{var Yc={};Object.defineProperty(Yc,"passive",{get:function(){Ug=!0}}),window.addEventListener("test",Yc,Yc),window.removeEventListener("test",Yc,Yc)}catch{Ug=!1}var Di=null,zg=null,Nf=null;function dS(){if(Nf)return Nf;var i,o=zg,u=o.length,m,v="value"in Di?Di.value:Di.textContent,x=v.length;for(i=0;i<u&&o[i]===v[i];i++);var O=u-i;for(m=1;m<=O&&o[u-m]===v[x-m];m++);return Nf=v.slice(i,1<m?1-m:void 0)}function Of(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ef(){return!0}function fS(){return!1}function Yr(i){function o(u,m,v,x,O){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=x,this.target=O,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(u=i[k],this[k]=u?u(x):x[k]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ef:fS,this.isPropagationStopped=fS,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ef)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ef)},persist:function(){},isPersistent:Ef}),o}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Af=Yr(Is),Wc=g({},Is,{view:0,detail:0}),q5=Yr(Wc),qg,Kg,Xc,Cf=g({},Wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qg,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Xc&&(Xc&&i.type==="mousemove"?(qg=i.screenX-Xc.screenX,Kg=i.screenY-Xc.screenY):Kg=qg=0,Xc=i),qg)},movementY:function(i){return"movementY"in i?i.movementY:Kg}}),hS=Yr(Cf),K5=g({},Cf,{dataTransfer:0}),F5=Yr(K5),Q5=g({},Wc,{relatedTarget:0}),Fg=Yr(Q5),H5=g({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),V5=Yr(H5),G5=g({},Is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Y5=Yr(G5),W5=g({},Is,{data:0}),mS=Yr(W5),X5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eL(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=J5[i])?!!o[i]:!1}function Qg(){return eL}var tL=g({},Wc,{key:function(i){if(i.key){var o=X5[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Of(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Z5[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qg,charCode:function(i){return i.type==="keypress"?Of(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Of(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),rL=Yr(tL),nL=g({},Cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pS=Yr(nL),aL=g({},Wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qg}),iL=Yr(aL),sL=g({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),oL=Yr(sL),lL=g({},Cf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),cL=Yr(lL),uL=g({},Is,{newState:0,oldState:0}),dL=Yr(uL),fL=[9,13,27,32],Hg=Ma&&"CompositionEvent"in window,Zc=null;Ma&&"documentMode"in document&&(Zc=document.documentMode);var hL=Ma&&"TextEvent"in window&&!Zc,gS=Ma&&(!Hg||Zc&&8<Zc&&11>=Zc),yS=" ",vS=!1;function bS(i,o){switch(i){case"keyup":return fL.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var nl=!1;function mL(i,o){switch(i){case"compositionend":return xS(o);case"keypress":return o.which!==32?null:(vS=!0,yS);case"textInput":return i=o.data,i===yS&&vS?null:i;default:return null}}function pL(i,o){if(nl)return i==="compositionend"||!Hg&&bS(i,o)?(i=dS(),Nf=zg=Di=null,nl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return gS&&o.locale!=="ko"?null:o.data;default:return null}}var gL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wS(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!gL[i.type]:o==="textarea"}function jS(i,o,u,m){tl?rl?rl.push(m):rl=[m]:tl=m,o=vh(o,"onChange"),0<o.length&&(u=new Af("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var Jc=null,eu=null;function yL(i){aO(i,0)}function kf(i){var o=Vc(i);if(nS(o))return i}function SS(i,o){if(i==="change")return o}var _S=!1;if(Ma){var Vg;if(Ma){var Gg="oninput"in document;if(!Gg){var NS=document.createElement("div");NS.setAttribute("oninput","return;"),Gg=typeof NS.oninput=="function"}Vg=Gg}else Vg=!1;_S=Vg&&(!document.documentMode||9<document.documentMode)}function OS(){Jc&&(Jc.detachEvent("onpropertychange",ES),eu=Jc=null)}function ES(i){if(i.propertyName==="value"&&kf(eu)){var o=[];jS(o,eu,i,Bg(i)),uS(yL,o)}}function vL(i,o,u){i==="focusin"?(OS(),Jc=o,eu=u,Jc.attachEvent("onpropertychange",ES)):i==="focusout"&&OS()}function bL(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return kf(eu)}function xL(i,o){if(i==="click")return kf(o)}function wL(i,o){if(i==="input"||i==="change")return kf(o)}function jL(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var fn=typeof Object.is=="function"?Object.is:jL;function tu(i,o){if(fn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!Pa.call(o,v)||!fn(i[v],o[v]))return!1}return!0}function AS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function CS(i,o){var u=AS(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=AS(u)}}function kS(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?kS(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function PS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Sf(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Sf(i.document)}return o}function Yg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var SL=Ma&&"documentMode"in document&&11>=document.documentMode,al=null,Wg=null,ru=null,Xg=!1;function TS(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Xg||al==null||al!==Sf(m)||(m=al,"selectionStart"in m&&Yg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ru&&tu(ru,m)||(ru=m,m=vh(Wg,"onSelect"),0<m.length&&(o=new Af("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=al)))}function Ls(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var il={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},Zg={},DS={};Ma&&(DS=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function Bs(i){if(Zg[i])return Zg[i];if(!il[i])return i;var o=il[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in DS)return Zg[i]=o[u];return i}var MS=Bs("animationend"),RS=Bs("animationiteration"),IS=Bs("animationstart"),_L=Bs("transitionrun"),NL=Bs("transitionstart"),OL=Bs("transitioncancel"),LS=Bs("transitionend"),BS=new Map,Jg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jg.push("scrollEnd");function Yn(i,o){BS.set(i,o),Rs(o,[i])}var Pf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},kn=[],sl=0,ey=0;function Tf(){for(var i=sl,o=ey=sl=0;o<i;){var u=kn[o];kn[o++]=null;var m=kn[o];kn[o++]=null;var v=kn[o];kn[o++]=null;var x=kn[o];if(kn[o++]=null,m!==null&&v!==null){var O=m.pending;O===null?v.next=v:(v.next=O.next,O.next=v),m.pending=v}x!==0&&$S(u,v,x)}}function Df(i,o,u,m){kn[sl++]=i,kn[sl++]=o,kn[sl++]=u,kn[sl++]=m,ey|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function ty(i,o,u,m){return Df(i,o,u,m),Mf(i)}function $s(i,o){return Df(i,null,null,o),Mf(i)}function $S(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var v=!1,x=i.return;x!==null;)x.childLanes|=u,m=x.alternate,m!==null&&(m.childLanes|=u),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(v=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,v&&o!==null&&(v=31-dn(u),i=x.hiddenUpdates,m=i[v],m===null?i[v]=[o]:m.push(o),o.lane=u|536870912),x):null}function Mf(i){if(50<_u)throw _u=0,uv=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var ol={};function EL(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(i,o,u,m){return new EL(i,o,u,m)}function ry(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ra(i,o){var u=i.alternate;return u===null?(u=hn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function US(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Rf(i,o,u,m,v,x){var O=0;if(m=i,typeof i=="function")ry(i)&&(O=1);else if(typeof i=="string")O=T3(i,u,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case K:return i=hn(31,u,o,v),i.elementType=K,i.lanes=x,i;case S:return Us(u.children,v,x,o);case _:O=8,v|=24;break;case N:return i=hn(12,u,o,v|2),i.elementType=N,i.lanes=x,i;case T:return i=hn(13,u,o,v),i.elementType=T,i.lanes=x,i;case P:return i=hn(19,u,o,v),i.elementType=P,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:O=10;break e;case E:O=9;break e;case C:O=11;break e;case D:O=14;break e;case B:O=16,m=null;break e}O=29,u=Error(n(130,i===null?"null":typeof i,"")),m=null}return o=hn(O,u,o,v),o.elementType=i,o.type=m,o.lanes=x,o}function Us(i,o,u,m){return i=hn(7,i,m,o),i.lanes=u,i}function ny(i,o,u){return i=hn(6,i,null,o),i.lanes=u,i}function zS(i){var o=hn(18,null,null,0);return o.stateNode=i,o}function ay(i,o,u){return o=hn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var qS=new WeakMap;function Pn(i,o){if(typeof i=="object"&&i!==null){var u=qS.get(i);return u!==void 0?u:(o={value:i,source:o,stack:ka(o)},qS.set(i,o),o)}return{value:i,source:o,stack:ka(o)}}var ll=[],cl=0,If=null,nu=0,Tn=[],Dn=0,Mi=null,da=1,fa="";function Ia(i,o){ll[cl++]=nu,ll[cl++]=If,If=i,nu=o}function KS(i,o,u){Tn[Dn++]=da,Tn[Dn++]=fa,Tn[Dn++]=Mi,Mi=i;var m=da;i=fa;var v=32-dn(m)-1;m&=~(1<<v),u+=1;var x=32-dn(o)+v;if(30<x){var O=v-v%5;x=(m&(1<<O)-1).toString(32),m>>=O,v-=O,da=1<<32-dn(o)+v|u<<v|m,fa=x+i}else da=1<<x|u<<v|m,fa=i}function iy(i){i.return!==null&&(Ia(i,1),KS(i,1,0))}function sy(i){for(;i===If;)If=ll[--cl],ll[cl]=null,nu=ll[--cl],ll[cl]=null;for(;i===Mi;)Mi=Tn[--Dn],Tn[Dn]=null,fa=Tn[--Dn],Tn[Dn]=null,da=Tn[--Dn],Tn[Dn]=null}function FS(i,o){Tn[Dn++]=da,Tn[Dn++]=fa,Tn[Dn++]=Mi,da=o.id,fa=o.overflow,Mi=i}var Nr=null,Nt=null,We=!1,Ri=null,Mn=!1,oy=Error(n(519));function Ii(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw au(Pn(o,i)),oy}function QS(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[_r]=i,o[Gr]=m,u){case"dialog":Ve("cancel",o),Ve("close",o);break;case"iframe":case"object":case"embed":Ve("load",o);break;case"video":case"audio":for(u=0;u<Ou.length;u++)Ve(Ou[u],o);break;case"source":Ve("error",o);break;case"img":case"image":case"link":Ve("error",o),Ve("load",o);break;case"details":Ve("toggle",o);break;case"input":Ve("invalid",o),aS(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ve("invalid",o);break;case"textarea":Ve("invalid",o),sS(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||lO(o.textContent,u)?(m.popover!=null&&(Ve("beforetoggle",o),Ve("toggle",o)),m.onScroll!=null&&Ve("scroll",o),m.onScrollEnd!=null&&Ve("scrollend",o),m.onClick!=null&&(o.onclick=Da),o=!0):o=!1,o||Ii(i,!0)}function HS(i){for(Nr=i.return;Nr;)switch(Nr.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Nr=Nr.return}}function ul(i){if(i!==Nr)return!1;if(!We)return HS(i),We=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Nv(i.type,i.memoizedProps)),u=!u),u&&Nt&&Ii(i),HS(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Nt=yO(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Nt=yO(i)}else o===27?(o=Nt,Wi(i.type)?(i=kv,kv=null,Nt=i):Nt=o):Nt=Nr?In(i.stateNode.nextSibling):null;return!0}function zs(){Nt=Nr=null,We=!1}function ly(){var i=Ri;return i!==null&&(Jr===null?Jr=i:Jr.push.apply(Jr,i),Ri=null),i}function au(i){Ri===null?Ri=[i]:Ri.push(i)}var cy=M(null),qs=null,La=null;function Li(i,o,u){fe(cy,o._currentValue),o._currentValue=u}function Ba(i){i._currentValue=cy.current,F(cy)}function uy(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function dy(i,o,u,m){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var x=v.dependencies;if(x!==null){var O=v.child;x=x.firstContext;e:for(;x!==null;){var k=x;x=v;for(var U=0;U<o.length;U++)if(k.context===o[U]){x.lanes|=u,k=x.alternate,k!==null&&(k.lanes|=u),uy(x.return,u,i),m||(O=null);break e}x=k.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(n(341));O.lanes|=u,x=O.alternate,x!==null&&(x.lanes|=u),uy(O,u,i),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===i){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function dl(i,o,u,m){i=null;for(var v=o,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(n(387));if(O=O.memoizedProps,O!==null){var k=v.type;fn(v.pendingProps.value,O.value)||(i!==null?i.push(k):i=[k])}}else if(v===Ee.current){if(O=v.alternate,O===null)throw Error(n(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Pu):i=[Pu])}v=v.return}i!==null&&dy(o,i,u,m),o.flags|=262144}function Lf(i){for(i=i.firstContext;i!==null;){if(!fn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ks(i){qs=i,La=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Or(i){return VS(qs,i)}function Bf(i,o){return qs===null&&Ks(i),VS(i,o)}function VS(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},La===null){if(i===null)throw Error(n(308));La=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else La=La.next=o;return u}var AL=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},CL=e.unstable_scheduleCallback,kL=e.unstable_NormalPriority,Yt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fy(){return{controller:new AL,data:new Map,refCount:0}}function iu(i){i.refCount--,i.refCount===0&&CL(kL,function(){i.controller.abort()})}var su=null,hy=0,fl=0,hl=null;function PL(i,o){if(su===null){var u=su=[];hy=0,fl=gv(),hl={status:"pending",value:void 0,then:function(m){u.push(m)}}}return hy++,o.then(GS,GS),o}function GS(){if(--hy===0&&su!==null){hl!==null&&(hl.status="fulfilled");var i=su;su=null,fl=0,hl=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function TL(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var YS=R.S;R.S=function(i,o){TN=ct(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&PL(i,o),YS!==null&&YS(i,o)};var Fs=M(null);function my(){var i=Fs.current;return i!==null?i:xt.pooledCache}function $f(i,o){o===null?fe(Fs,Fs.current):fe(Fs,o.pool)}function WS(){var i=my();return i===null?null:{parent:Yt._currentValue,pool:i}}var ml=Error(n(460)),py=Error(n(474)),Uf=Error(n(542)),zf={then:function(){}};function XS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ZS(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Da,Da),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,e_(i),i;default:if(typeof o.status=="string")o.then(Da,Da);else{if(i=xt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,e_(i),i}throw Hs=o,ml}}function Qs(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Hs=u,ml):u}}var Hs=null;function JS(){if(Hs===null)throw Error(n(459));var i=Hs;return Hs=null,i}function e_(i){if(i===ml||i===Uf)throw Error(n(483))}var pl=null,ou=0;function qf(i){var o=ou;return ou+=1,pl===null&&(pl=[]),ZS(pl,i,o)}function lu(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Kf(i,o){throw o.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function t_(i){function o(Q,q){if(i){var W=Q.deletions;W===null?(Q.deletions=[q],Q.flags|=16):W.push(q)}}function u(Q,q){if(!i)return null;for(;q!==null;)o(Q,q),q=q.sibling;return null}function m(Q){for(var q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function v(Q,q){return Q=Ra(Q,q),Q.index=0,Q.sibling=null,Q}function x(Q,q,W){return Q.index=W,i?(W=Q.alternate,W!==null?(W=W.index,W<q?(Q.flags|=67108866,q):W):(Q.flags|=67108866,q)):(Q.flags|=1048576,q)}function O(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function k(Q,q,W,de){return q===null||q.tag!==6?(q=ny(W,Q.mode,de),q.return=Q,q):(q=v(q,W),q.return=Q,q)}function U(Q,q,W,de){var Pe=W.type;return Pe===S?ce(Q,q,W.props.children,de,W.key):q!==null&&(q.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===B&&Qs(Pe)===q.type)?(q=v(q,W.props),lu(q,W),q.return=Q,q):(q=Rf(W.type,W.key,W.props,null,Q.mode,de),lu(q,W),q.return=Q,q)}function X(Q,q,W,de){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=ay(W,Q.mode,de),q.return=Q,q):(q=v(q,W.children||[]),q.return=Q,q)}function ce(Q,q,W,de,Pe){return q===null||q.tag!==7?(q=Us(W,Q.mode,de,Pe),q.return=Q,q):(q=v(q,W),q.return=Q,q)}function me(Q,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=ny(""+q,Q.mode,W),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return W=Rf(q.type,q.key,q.props,null,Q.mode,W),lu(W,q),W.return=Q,W;case w:return q=ay(q,Q.mode,W),q.return=Q,q;case B:return q=Qs(q),me(Q,q,W)}if(G(q)||L(q))return q=Us(q,Q.mode,W,null),q.return=Q,q;if(typeof q.then=="function")return me(Q,qf(q),W);if(q.$$typeof===A)return me(Q,Bf(Q,q),W);Kf(Q,q)}return null}function ee(Q,q,W,de){var Pe=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Pe!==null?null:k(Q,q,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return W.key===Pe?U(Q,q,W,de):null;case w:return W.key===Pe?X(Q,q,W,de):null;case B:return W=Qs(W),ee(Q,q,W,de)}if(G(W)||L(W))return Pe!==null?null:ce(Q,q,W,de,null);if(typeof W.then=="function")return ee(Q,q,qf(W),de);if(W.$$typeof===A)return ee(Q,q,Bf(Q,W),de);Kf(Q,W)}return null}function ne(Q,q,W,de,Pe){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Q=Q.get(W)||null,k(q,Q,""+de,Pe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case b:return Q=Q.get(de.key===null?W:de.key)||null,U(q,Q,de,Pe);case w:return Q=Q.get(de.key===null?W:de.key)||null,X(q,Q,de,Pe);case B:return de=Qs(de),ne(Q,q,W,de,Pe)}if(G(de)||L(de))return Q=Q.get(W)||null,ce(q,Q,de,Pe,null);if(typeof de.then=="function")return ne(Q,q,W,qf(de),Pe);if(de.$$typeof===A)return ne(Q,q,W,Bf(q,de),Pe);Kf(q,de)}return null}function _e(Q,q,W,de){for(var Pe=null,et=null,Oe=q,ze=q=0,Ye=null;Oe!==null&&ze<W.length;ze++){Oe.index>ze?(Ye=Oe,Oe=null):Ye=Oe.sibling;var tt=ee(Q,Oe,W[ze],de);if(tt===null){Oe===null&&(Oe=Ye);break}i&&Oe&&tt.alternate===null&&o(Q,Oe),q=x(tt,q,ze),et===null?Pe=tt:et.sibling=tt,et=tt,Oe=Ye}if(ze===W.length)return u(Q,Oe),We&&Ia(Q,ze),Pe;if(Oe===null){for(;ze<W.length;ze++)Oe=me(Q,W[ze],de),Oe!==null&&(q=x(Oe,q,ze),et===null?Pe=Oe:et.sibling=Oe,et=Oe);return We&&Ia(Q,ze),Pe}for(Oe=m(Oe);ze<W.length;ze++)Ye=ne(Oe,Q,ze,W[ze],de),Ye!==null&&(i&&Ye.alternate!==null&&Oe.delete(Ye.key===null?ze:Ye.key),q=x(Ye,q,ze),et===null?Pe=Ye:et.sibling=Ye,et=Ye);return i&&Oe.forEach(function(ts){return o(Q,ts)}),We&&Ia(Q,ze),Pe}function De(Q,q,W,de){if(W==null)throw Error(n(151));for(var Pe=null,et=null,Oe=q,ze=q=0,Ye=null,tt=W.next();Oe!==null&&!tt.done;ze++,tt=W.next()){Oe.index>ze?(Ye=Oe,Oe=null):Ye=Oe.sibling;var ts=ee(Q,Oe,tt.value,de);if(ts===null){Oe===null&&(Oe=Ye);break}i&&Oe&&ts.alternate===null&&o(Q,Oe),q=x(ts,q,ze),et===null?Pe=ts:et.sibling=ts,et=ts,Oe=Ye}if(tt.done)return u(Q,Oe),We&&Ia(Q,ze),Pe;if(Oe===null){for(;!tt.done;ze++,tt=W.next())tt=me(Q,tt.value,de),tt!==null&&(q=x(tt,q,ze),et===null?Pe=tt:et.sibling=tt,et=tt);return We&&Ia(Q,ze),Pe}for(Oe=m(Oe);!tt.done;ze++,tt=W.next())tt=ne(Oe,Q,ze,tt.value,de),tt!==null&&(i&&tt.alternate!==null&&Oe.delete(tt.key===null?ze:tt.key),q=x(tt,q,ze),et===null?Pe=tt:et.sibling=tt,et=tt);return i&&Oe.forEach(function(K3){return o(Q,K3)}),We&&Ia(Q,ze),Pe}function yt(Q,q,W,de){if(typeof W=="object"&&W!==null&&W.type===S&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case b:e:{for(var Pe=W.key;q!==null;){if(q.key===Pe){if(Pe=W.type,Pe===S){if(q.tag===7){u(Q,q.sibling),de=v(q,W.props.children),de.return=Q,Q=de;break e}}else if(q.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===B&&Qs(Pe)===q.type){u(Q,q.sibling),de=v(q,W.props),lu(de,W),de.return=Q,Q=de;break e}u(Q,q);break}else o(Q,q);q=q.sibling}W.type===S?(de=Us(W.props.children,Q.mode,de,W.key),de.return=Q,Q=de):(de=Rf(W.type,W.key,W.props,null,Q.mode,de),lu(de,W),de.return=Q,Q=de)}return O(Q);case w:e:{for(Pe=W.key;q!==null;){if(q.key===Pe)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){u(Q,q.sibling),de=v(q,W.children||[]),de.return=Q,Q=de;break e}else{u(Q,q);break}else o(Q,q);q=q.sibling}de=ay(W,Q.mode,de),de.return=Q,Q=de}return O(Q);case B:return W=Qs(W),yt(Q,q,W,de)}if(G(W))return _e(Q,q,W,de);if(L(W)){if(Pe=L(W),typeof Pe!="function")throw Error(n(150));return W=Pe.call(W),De(Q,q,W,de)}if(typeof W.then=="function")return yt(Q,q,qf(W),de);if(W.$$typeof===A)return yt(Q,q,Bf(Q,W),de);Kf(Q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(u(Q,q.sibling),de=v(q,W),de.return=Q,Q=de):(u(Q,q),de=ny(W,Q.mode,de),de.return=Q,Q=de),O(Q)):u(Q,q)}return function(Q,q,W,de){try{ou=0;var Pe=yt(Q,q,W,de);return pl=null,Pe}catch(Oe){if(Oe===ml||Oe===Uf)throw Oe;var et=hn(29,Oe,null,Q.mode);return et.lanes=de,et.return=Q,et}finally{}}}var Vs=t_(!0),r_=t_(!1),Bi=!1;function gy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function $i(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ui(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(it&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=Mf(i),$S(i,null,u),o}return Df(i,m,o,u),Mf(i)}function cu(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,V1(i,u)}}function vy(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?v=x=O:x=x.next=O,u=u.next}while(u!==null);x===null?v=x=o:x=x.next=o}else v=x=o;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var by=!1;function uu(){if(by){var i=hl;if(i!==null)throw i}}function du(i,o,u,m){by=!1;var v=i.updateQueue;Bi=!1;var x=v.firstBaseUpdate,O=v.lastBaseUpdate,k=v.shared.pending;if(k!==null){v.shared.pending=null;var U=k,X=U.next;U.next=null,O===null?x=X:O.next=X,O=U;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,k=ce.lastBaseUpdate,k!==O&&(k===null?ce.firstBaseUpdate=X:k.next=X,ce.lastBaseUpdate=U))}if(x!==null){var me=v.baseState;O=0,ce=X=U=null,k=x;do{var ee=k.lane&-536870913,ne=ee!==k.lane;if(ne?(Ge&ee)===ee:(m&ee)===ee){ee!==0&&ee===fl&&(by=!0),ce!==null&&(ce=ce.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var _e=i,De=k;ee=o;var yt=u;switch(De.tag){case 1:if(_e=De.payload,typeof _e=="function"){me=_e.call(yt,me,ee);break e}me=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=De.payload,ee=typeof _e=="function"?_e.call(yt,me,ee):_e,ee==null)break e;me=g({},me,ee);break e;case 2:Bi=!0}}ee=k.callback,ee!==null&&(i.flags|=64,ne&&(i.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ce===null?(X=ce=ne,U=me):ce=ce.next=ne,O|=ee;if(k=k.next,k===null){if(k=v.shared.pending,k===null)break;ne=k,k=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);ce===null&&(U=me),v.baseState=U,v.firstBaseUpdate=X,v.lastBaseUpdate=ce,x===null&&(v.shared.lanes=0),Qi|=O,i.lanes=O,i.memoizedState=me}}function n_(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function a_(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)n_(u[i],o)}var gl=M(null),Ff=M(0);function i_(i,o){i=Va,fe(Ff,i),fe(gl,o),Va=i|o.baseLanes}function xy(){fe(Ff,Va),fe(gl,gl.current)}function wy(){Va=Ff.current,F(gl),F(Ff)}var mn=M(null),Rn=null;function zi(i){var o=i.alternate;fe(Vt,Vt.current&1),fe(mn,i),Rn===null&&(o===null||gl.current!==null||o.memoizedState!==null)&&(Rn=i)}function jy(i){fe(Vt,Vt.current),fe(mn,i),Rn===null&&(Rn=i)}function s_(i){i.tag===22?(fe(Vt,Vt.current),fe(mn,i),Rn===null&&(Rn=i)):qi()}function qi(){fe(Vt,Vt.current),fe(mn,mn.current)}function pn(i){F(mn),Rn===i&&(Rn=null),F(Vt)}var Vt=M(0);function Qf(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Av(u)||Cv(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var $a=0,Be=null,pt=null,Wt=null,Hf=!1,yl=!1,Gs=!1,Vf=0,fu=0,vl=null,DL=0;function Bt(){throw Error(n(321))}function Sy(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!fn(i[u],o[u]))return!1;return!0}function _y(i,o,u,m,v,x){return $a=x,Be=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,R.H=i===null||i.memoizedState===null?K_:$y,Gs=!1,x=u(m,v),Gs=!1,yl&&(x=l_(o,u,m,v)),o_(i),x}function o_(i){R.H=pu;var o=pt!==null&&pt.next!==null;if($a=0,Wt=pt=Be=null,Hf=!1,fu=0,vl=null,o)throw Error(n(300));i===null||Xt||(i=i.dependencies,i!==null&&Lf(i)&&(Xt=!0))}function l_(i,o,u,m){Be=i;var v=0;do{if(yl&&(vl=null),fu=0,yl=!1,25<=v)throw Error(n(301));if(v+=1,Wt=pt=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}R.H=F_,x=o(u,m)}while(yl);return x}function ML(){var i=R.H,o=i.useState()[0];return o=typeof o.then=="function"?hu(o):o,i=i.useState()[0],(pt!==null?pt.memoizedState:null)!==i&&(Be.flags|=1024),o}function Ny(){var i=Vf!==0;return Vf=0,i}function Oy(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Ey(i){if(Hf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Hf=!1}$a=0,Wt=pt=Be=null,yl=!1,fu=Vf=0,vl=null}function Ur(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Be.memoizedState=Wt=i:Wt=Wt.next=i,Wt}function Gt(){if(pt===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=pt.next;var o=Wt===null?Be.memoizedState:Wt.next;if(o!==null)Wt=o,pt=i;else{if(i===null)throw Be.alternate===null?Error(n(467)):Error(n(310));pt=i,i={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Wt===null?Be.memoizedState=Wt=i:Wt=Wt.next=i}return Wt}function Gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hu(i){var o=fu;return fu+=1,vl===null&&(vl=[]),i=ZS(vl,i,o),o=Be,(Wt===null?o.memoizedState:Wt.next)===null&&(o=o.alternate,R.H=o===null||o.memoizedState===null?K_:$y),i}function Yf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return hu(i);if(i.$$typeof===A)return Or(i)}throw Error(n(438,String(i)))}function Ay(i){var o=null,u=Be.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Be.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Gf(),Be.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=re;return o.index++,u}function Ua(i,o){return typeof o=="function"?o(i):o}function Wf(i){var o=Gt();return Cy(o,pt,i)}function Cy(i,o,u){var m=i.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var v=i.baseQueue,x=m.pending;if(x!==null){if(v!==null){var O=v.next;v.next=x.next,x.next=O}o.baseQueue=v=x,m.pending=null}if(x=i.baseState,v===null)i.memoizedState=x;else{o=v.next;var k=O=null,U=null,X=o,ce=!1;do{var me=X.lane&-536870913;if(me!==X.lane?(Ge&me)===me:($a&me)===me){var ee=X.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),me===fl&&(ce=!0);else if(($a&ee)===ee){X=X.next,ee===fl&&(ce=!0);continue}else me={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(k=U=me,O=x):U=U.next=me,Be.lanes|=ee,Qi|=ee;me=X.action,Gs&&u(x,me),x=X.hasEagerState?X.eagerState:u(x,me)}else ee={lane:me,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(k=U=ee,O=x):U=U.next=ee,Be.lanes|=me,Qi|=me;X=X.next}while(X!==null&&X!==o);if(U===null?O=x:U.next=k,!fn(x,i.memoizedState)&&(Xt=!0,ce&&(u=hl,u!==null)))throw u;i.memoizedState=x,i.baseState=O,i.baseQueue=U,m.lastRenderedState=x}return v===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function ky(i){var o=Gt(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,v=u.pending,x=o.memoizedState;if(v!==null){u.pending=null;var O=v=v.next;do x=i(x,O.action),O=O.next;while(O!==v);fn(x,o.memoizedState)||(Xt=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,m]}function c_(i,o,u){var m=Be,v=Gt(),x=We;if(x){if(u===void 0)throw Error(n(407));u=u()}else u=o();var O=!fn((pt||v).memoizedState,u);if(O&&(v.memoizedState=u,Xt=!0),v=v.queue,Dy(f_.bind(null,m,v,i),[i]),v.getSnapshot!==o||O||Wt!==null&&Wt.memoizedState.tag&1){if(m.flags|=2048,bl(9,{destroy:void 0},d_.bind(null,m,v,u,o),null),xt===null)throw Error(n(349));x||($a&127)!==0||u_(m,o,u)}return u}function u_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Be.updateQueue,o===null?(o=Gf(),Be.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function d_(i,o,u,m){o.value=u,o.getSnapshot=m,h_(o)&&m_(i)}function f_(i,o,u){return u(function(){h_(o)&&m_(i)})}function h_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!fn(i,u)}catch{return!0}}function m_(i){var o=$s(i,2);o!==null&&en(o,i,2)}function Py(i){var o=Ur();if(typeof i=="function"){var u=i;if(i=u(),Gs){Pi(!0);try{u()}finally{Pi(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:i},o}function p_(i,o,u,m){return i.baseState=u,Cy(i,pt,typeof m=="function"?m:Ua)}function RL(i,o,u,m,v){if(Jf(i))throw Error(n(485));if(i=o.action,i!==null){var x={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){x.listeners.push(O)}};R.T!==null?u(!0):x.isTransition=!1,m(x),u=o.pending,u===null?(x.next=o.pending=x,g_(o,x)):(x.next=u.next,o.pending=u.next=x)}}function g_(i,o){var u=o.action,m=o.payload,v=i.state;if(o.isTransition){var x=R.T,O={};R.T=O;try{var k=u(v,m),U=R.S;U!==null&&U(O,k),y_(i,o,k)}catch(X){Ty(i,o,X)}finally{x!==null&&O.types!==null&&(x.types=O.types),R.T=x}}else try{x=u(v,m),y_(i,o,x)}catch(X){Ty(i,o,X)}}function y_(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){v_(i,o,m)},function(m){return Ty(i,o,m)}):v_(i,o,u)}function v_(i,o,u){o.status="fulfilled",o.value=u,b_(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,g_(i,u)))}function Ty(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,b_(o),o=o.next;while(o!==m)}i.action=null}function b_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function x_(i,o){return o}function w_(i,o){if(We){var u=xt.formState;if(u!==null){e:{var m=Be;if(We){if(Nt){t:{for(var v=Nt,x=Mn;v.nodeType!==8;){if(!x){v=null;break t}if(v=In(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Nt=In(v.nextSibling),m=v.data==="F!";break e}}Ii(m)}m=!1}m&&(o=u[0])}}return u=Ur(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x_,lastRenderedState:o},u.queue=m,u=U_.bind(null,Be,m),m.dispatch=u,m=Py(!1),x=By.bind(null,Be,!1,m.queue),m=Ur(),v={state:o,dispatch:null,action:i,pending:null},m.queue=v,u=RL.bind(null,Be,v,x,u),v.dispatch=u,m.memoizedState=i,[o,u,!1]}function j_(i){var o=Gt();return S_(o,pt,i)}function S_(i,o,u){if(o=Cy(i,o,x_)[0],i=Wf(Ua)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=hu(o)}catch(O){throw O===ml?Uf:O}else m=o;o=Gt();var v=o.queue,x=v.dispatch;return u!==o.memoizedState&&(Be.flags|=2048,bl(9,{destroy:void 0},IL.bind(null,v,u),null)),[m,x,i]}function IL(i,o){i.action=o}function __(i){var o=Gt(),u=pt;if(u!==null)return S_(o,u,i);Gt(),o=o.memoizedState,u=Gt();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function bl(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=Be.updateQueue,o===null&&(o=Gf(),Be.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function N_(){return Gt().memoizedState}function Xf(i,o,u,m){var v=Ur();Be.flags|=i,v.memoizedState=bl(1|o,{destroy:void 0},u,m===void 0?null:m)}function Zf(i,o,u,m){var v=Gt();m=m===void 0?null:m;var x=v.memoizedState.inst;pt!==null&&m!==null&&Sy(m,pt.memoizedState.deps)?v.memoizedState=bl(o,x,u,m):(Be.flags|=i,v.memoizedState=bl(1|o,x,u,m))}function O_(i,o){Xf(8390656,8,i,o)}function Dy(i,o){Zf(2048,8,i,o)}function LL(i){Be.flags|=4;var o=Be.updateQueue;if(o===null)o=Gf(),Be.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function E_(i){var o=Gt().memoizedState;return LL({ref:o,nextImpl:i}),function(){if((it&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function A_(i,o){return Zf(4,2,i,o)}function C_(i,o){return Zf(4,4,i,o)}function k_(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function P_(i,o,u){u=u!=null?u.concat([i]):null,Zf(4,4,k_.bind(null,o,i),u)}function My(){}function T_(i,o){var u=Gt();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Sy(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function D_(i,o){var u=Gt();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Sy(o,m[1]))return m[0];if(m=i(),Gs){Pi(!0);try{i()}finally{Pi(!1)}}return u.memoizedState=[m,o],m}function Ry(i,o,u){return u===void 0||($a&1073741824)!==0&&(Ge&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=MN(),Be.lanes|=i,Qi|=i,u)}function M_(i,o,u,m){return fn(u,o)?u:gl.current!==null?(i=Ry(i,u,m),fn(i,o)||(Xt=!0),i):($a&42)===0||($a&1073741824)!==0&&(Ge&261930)===0?(Xt=!0,i.memoizedState=u):(i=MN(),Be.lanes|=i,Qi|=i,o)}function R_(i,o,u,m,v){var x=H.p;H.p=x!==0&&8>x?x:8;var O=R.T,k={};R.T=k,By(i,!1,o,u);try{var U=v(),X=R.S;if(X!==null&&X(k,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ce=TL(U,m);mu(i,o,ce,vn(i))}else mu(i,o,m,vn(i))}catch(me){mu(i,o,{then:function(){},status:"rejected",reason:me},vn())}finally{H.p=x,O!==null&&k.types!==null&&(O.types=k.types),R.T=O}}function BL(){}function Iy(i,o,u,m){if(i.tag!==5)throw Error(n(476));var v=I_(i).queue;R_(i,v,o,te,u===null?BL:function(){return L_(i),u(m)})}function I_(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:te},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function L_(i){var o=I_(i);o.next===null&&(o=i.alternate.memoizedState),mu(i,o.next.queue,{},vn())}function Ly(){return Or(Pu)}function B_(){return Gt().memoizedState}function $_(){return Gt().memoizedState}function $L(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=vn();i=$i(u);var m=Ui(o,i,u);m!==null&&(en(m,o,u),cu(m,o,u)),o={cache:fy()},i.payload=o;return}o=o.return}}function UL(i,o,u){var m=vn();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Jf(i)?z_(o,u):(u=ty(i,o,u,m),u!==null&&(en(u,i,m),q_(u,o,m)))}function U_(i,o,u){var m=vn();mu(i,o,u,m)}function mu(i,o,u,m){var v={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Jf(i))z_(o,v);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var O=o.lastRenderedState,k=x(O,u);if(v.hasEagerState=!0,v.eagerState=k,fn(k,O))return Df(i,o,v,0),xt===null&&Tf(),!1}catch{}finally{}if(u=ty(i,o,v,m),u!==null)return en(u,i,m),q_(u,o,m),!0}return!1}function By(i,o,u,m){if(m={lane:2,revertLane:gv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Jf(i)){if(o)throw Error(n(479))}else o=ty(i,u,m,2),o!==null&&en(o,i,2)}function Jf(i){var o=i.alternate;return i===Be||o!==null&&o===Be}function z_(i,o){yl=Hf=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function q_(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,V1(i,u)}}var pu={readContext:Or,use:Yf,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};pu.useEffectEvent=Bt;var K_={readContext:Or,use:Yf,useCallback:function(i,o){return Ur().memoizedState=[i,o===void 0?null:o],i},useContext:Or,useEffect:O_,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Xf(4194308,4,k_.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Xf(4194308,4,i,o)},useInsertionEffect:function(i,o){Xf(4,2,i,o)},useMemo:function(i,o){var u=Ur();o=o===void 0?null:o;var m=i();if(Gs){Pi(!0);try{i()}finally{Pi(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=Ur();if(u!==void 0){var v=u(o);if(Gs){Pi(!0);try{u(o)}finally{Pi(!1)}}}else v=o;return m.memoizedState=m.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},m.queue=i,i=i.dispatch=UL.bind(null,Be,i),[m.memoizedState,i]},useRef:function(i){var o=Ur();return i={current:i},o.memoizedState=i},useState:function(i){i=Py(i);var o=i.queue,u=U_.bind(null,Be,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:My,useDeferredValue:function(i,o){var u=Ur();return Ry(u,i,o)},useTransition:function(){var i=Py(!1);return i=R_.bind(null,Be,i.queue,!0,!1),Ur().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=Be,v=Ur();if(We){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),xt===null)throw Error(n(349));(Ge&127)!==0||u_(m,o,u)}v.memoizedState=u;var x={value:u,getSnapshot:o};return v.queue=x,O_(f_.bind(null,m,x,i),[i]),m.flags|=2048,bl(9,{destroy:void 0},d_.bind(null,m,x,u,o),null),u},useId:function(){var i=Ur(),o=xt.identifierPrefix;if(We){var u=fa,m=da;u=(m&~(1<<32-dn(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Vf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=DL++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Ly,useFormState:w_,useActionState:w_,useOptimistic:function(i){var o=Ur();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=By.bind(null,Be,!0,u),u.dispatch=o,[i,o]},useMemoCache:Ay,useCacheRefresh:function(){return Ur().memoizedState=$L.bind(null,Be)},useEffectEvent:function(i){var o=Ur(),u={impl:i};return o.memoizedState=u,function(){if((it&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},$y={readContext:Or,use:Yf,useCallback:T_,useContext:Or,useEffect:Dy,useImperativeHandle:P_,useInsertionEffect:A_,useLayoutEffect:C_,useMemo:D_,useReducer:Wf,useRef:N_,useState:function(){return Wf(Ua)},useDebugValue:My,useDeferredValue:function(i,o){var u=Gt();return M_(u,pt.memoizedState,i,o)},useTransition:function(){var i=Wf(Ua)[0],o=Gt().memoizedState;return[typeof i=="boolean"?i:hu(i),o]},useSyncExternalStore:c_,useId:B_,useHostTransitionStatus:Ly,useFormState:j_,useActionState:j_,useOptimistic:function(i,o){var u=Gt();return p_(u,pt,i,o)},useMemoCache:Ay,useCacheRefresh:$_};$y.useEffectEvent=E_;var F_={readContext:Or,use:Yf,useCallback:T_,useContext:Or,useEffect:Dy,useImperativeHandle:P_,useInsertionEffect:A_,useLayoutEffect:C_,useMemo:D_,useReducer:ky,useRef:N_,useState:function(){return ky(Ua)},useDebugValue:My,useDeferredValue:function(i,o){var u=Gt();return pt===null?Ry(u,i,o):M_(u,pt.memoizedState,i,o)},useTransition:function(){var i=ky(Ua)[0],o=Gt().memoizedState;return[typeof i=="boolean"?i:hu(i),o]},useSyncExternalStore:c_,useId:B_,useHostTransitionStatus:Ly,useFormState:__,useActionState:__,useOptimistic:function(i,o){var u=Gt();return pt!==null?p_(u,pt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Ay,useCacheRefresh:$_};F_.useEffectEvent=E_;function Uy(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var zy={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=vn(),v=$i(m);v.payload=o,u!=null&&(v.callback=u),o=Ui(i,v,m),o!==null&&(en(o,i,m),cu(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=vn(),v=$i(m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Ui(i,v,m),o!==null&&(en(o,i,m),cu(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=vn(),m=$i(u);m.tag=2,o!=null&&(m.callback=o),o=Ui(i,m,u),o!==null&&(en(o,i,u),cu(o,i,u))}};function Q_(i,o,u,m,v,x,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,x,O):o.prototype&&o.prototype.isPureReactComponent?!tu(u,m)||!tu(v,x):!0}function H_(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&zy.enqueueReplaceState(o,o.state,null)}function Ys(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}function V_(i){Pf(i)}function G_(i){console.error(i)}function Y_(i){Pf(i)}function eh(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function W_(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function qy(i,o,u){return u=$i(u),u.tag=3,u.payload={element:null},u.callback=function(){eh(i,o)},u}function X_(i){return i=$i(i),i.tag=3,i}function Z_(i,o,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var x=m.value;i.payload=function(){return v(x)},i.callback=function(){W_(o,u,m)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){W_(o,u,m),typeof v!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function zL(i,o,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&dl(o,u,v,!0),u=mn.current,u!==null){switch(u.tag){case 31:case 13:return Rn===null?fh():u.alternate===null&&$t===0&&($t=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===zf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),hv(i,m,v)),!1;case 22:return u.flags|=65536,m===zf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),hv(i,m,v)),!1}throw Error(n(435,u.tag))}return hv(i,m,v),fh(),!1}if(We)return o=mn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==oy&&(i=Error(n(422),{cause:m}),au(Pn(i,u)))):(m!==oy&&(o=Error(n(423),{cause:m}),au(Pn(o,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,m=Pn(m,u),v=qy(i.stateNode,m,v),vy(i,v),$t!==4&&($t=2)),!1;var x=Error(n(520),{cause:m});if(x=Pn(x,u),Su===null?Su=[x]:Su.push(x),$t!==4&&($t=2),o===null)return!0;m=Pn(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=qy(u.stateNode,m,i),vy(u,i),!1;case 1:if(o=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Hi===null||!Hi.has(x))))return u.flags|=65536,v&=-v,u.lanes|=v,v=X_(v),Z_(v,i,u,m),vy(u,v),!1}u=u.return}while(u!==null);return!1}var Ky=Error(n(461)),Xt=!1;function Er(i,o,u,m){o.child=i===null?r_(o,null,u,m):Vs(o,i.child,u,m)}function J_(i,o,u,m,v){u=u.render;var x=o.ref;if("ref"in m){var O={};for(var k in m)k!=="ref"&&(O[k]=m[k])}else O=m;return Ks(o),m=_y(i,o,u,O,x,v),k=Ny(),i!==null&&!Xt?(Oy(i,o,v),za(i,o,v)):(We&&k&&iy(o),o.flags|=1,Er(i,o,m,v),o.child)}function eN(i,o,u,m,v){if(i===null){var x=u.type;return typeof x=="function"&&!ry(x)&&x.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=x,tN(i,o,x,m,v)):(i=Rf(u.type,null,m,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(x=i.child,!Xy(i,v)){var O=x.memoizedProps;if(u=u.compare,u=u!==null?u:tu,u(O,m)&&i.ref===o.ref)return za(i,o,v)}return o.flags|=1,i=Ra(x,m),i.ref=o.ref,i.return=o,o.child=i}function tN(i,o,u,m,v){if(i!==null){var x=i.memoizedProps;if(tu(x,m)&&i.ref===o.ref)if(Xt=!1,o.pendingProps=m=x,Xy(i,v))(i.flags&131072)!==0&&(Xt=!0);else return o.lanes=i.lanes,za(i,o,v)}return Fy(i,o,u,m,v)}function rN(i,o,u,m){var v=m.children,x=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|u:u,i!==null){for(m=o.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~x}else m=0,o.child=null;return nN(i,o,x,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&$f(o,x!==null?x.cachePool:null),x!==null?i_(o,x):xy(),s_(o);else return m=o.lanes=536870912,nN(i,o,x!==null?x.baseLanes|u:u,u,m)}else x!==null?($f(o,x.cachePool),i_(o,x),qi(),o.memoizedState=null):(i!==null&&$f(o,null),xy(),qi());return Er(i,o,v,u),o.child}function gu(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function nN(i,o,u,m,v){var x=my();return x=x===null?null:{parent:Yt._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},i!==null&&$f(o,null),xy(),s_(o),i!==null&&dl(i,o,m,!0),o.childLanes=v,null}function th(i,o){return o=nh({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function aN(i,o,u){return Vs(o,i.child,null,u),i=th(o,o.pendingProps),i.flags|=2,pn(o),o.memoizedState=null,i}function qL(i,o,u){var m=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(We){if(m.mode==="hidden")return i=th(o,m),o.lanes=536870912,gu(null,i);if(jy(o),(i=Nt)?(i=gO(i,Mn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Mi!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},u=zS(i),u.return=o,o.child=u,Nr=o,Nt=null)):i=null,i===null)throw Ii(o);return o.lanes=536870912,null}return th(o,m)}var x=i.memoizedState;if(x!==null){var O=x.dehydrated;if(jy(o),v)if(o.flags&256)o.flags&=-257,o=aN(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(Xt||dl(i,o,u,!1),v=(u&i.childLanes)!==0,Xt||v){if(m=xt,m!==null&&(O=G1(m,u),O!==0&&O!==x.retryLane))throw x.retryLane=O,$s(i,O),en(m,i,O),Ky;fh(),o=aN(i,o,u)}else i=x.treeContext,Nt=In(O.nextSibling),Nr=o,We=!0,Ri=null,Mn=!1,i!==null&&FS(o,i),o=th(o,m),o.flags|=4096;return o}return i=Ra(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function rh(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Fy(i,o,u,m,v){return Ks(o),u=_y(i,o,u,m,void 0,v),m=Ny(),i!==null&&!Xt?(Oy(i,o,v),za(i,o,v)):(We&&m&&iy(o),o.flags|=1,Er(i,o,u,v),o.child)}function iN(i,o,u,m,v,x){return Ks(o),o.updateQueue=null,u=l_(o,m,u,v),o_(i),m=Ny(),i!==null&&!Xt?(Oy(i,o,x),za(i,o,x)):(We&&m&&iy(o),o.flags|=1,Er(i,o,u,x),o.child)}function sN(i,o,u,m,v){if(Ks(o),o.stateNode===null){var x=ol,O=u.contextType;typeof O=="object"&&O!==null&&(x=Or(O)),x=new u(m,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=zy,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=m,x.state=o.memoizedState,x.refs={},gy(o),O=u.contextType,x.context=typeof O=="object"&&O!==null?Or(O):ol,x.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Uy(o,u,O,m),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(O=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),O!==x.state&&zy.enqueueReplaceState(x,x.state,null),du(o,m,x,v),uu(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){x=o.stateNode;var k=o.memoizedProps,U=Ys(u,k);x.props=U;var X=x.context,ce=u.contextType;O=ol,typeof ce=="object"&&ce!==null&&(O=Or(ce));var me=u.getDerivedStateFromProps;ce=typeof me=="function"||typeof x.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,ce||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k||X!==O)&&H_(o,x,m,O),Bi=!1;var ee=o.memoizedState;x.state=ee,du(o,m,x,v),uu(),X=o.memoizedState,k||ee!==X||Bi?(typeof me=="function"&&(Uy(o,u,me,m),X=o.memoizedState),(U=Bi||Q_(o,u,U,m,ee,X,O))?(ce||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=X),x.props=m,x.state=X,x.context=O,m=U):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{x=o.stateNode,yy(i,o),O=o.memoizedProps,ce=Ys(u,O),x.props=ce,me=o.pendingProps,ee=x.context,X=u.contextType,U=ol,typeof X=="object"&&X!==null&&(U=Or(X)),k=u.getDerivedStateFromProps,(X=typeof k=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==me||ee!==U)&&H_(o,x,m,U),Bi=!1,ee=o.memoizedState,x.state=ee,du(o,m,x,v),uu();var ne=o.memoizedState;O!==me||ee!==ne||Bi||i!==null&&i.dependencies!==null&&Lf(i.dependencies)?(typeof k=="function"&&(Uy(o,u,k,m),ne=o.memoizedState),(ce=Bi||Q_(o,u,ce,m,ee,ne,U)||i!==null&&i.dependencies!==null&&Lf(i.dependencies))?(X||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,ne,U),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,ne,U)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||O===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ne),x.props=m,x.state=ne,x.context=U,m=ce):(typeof x.componentDidUpdate!="function"||O===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),m=!1)}return x=m,rh(i,o),m=(o.flags&128)!==0,x||m?(x=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,i!==null&&m?(o.child=Vs(o,i.child,null,v),o.child=Vs(o,null,u,v)):Er(i,o,u,v),o.memoizedState=x.state,i=o.child):i=za(i,o,v),i}function oN(i,o,u,m){return zs(),o.flags|=256,Er(i,o,u,m),o.child}var Qy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hy(i){return{baseLanes:i,cachePool:WS()}}function Vy(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=yn),i}function lN(i,o,u){var m=o.pendingProps,v=!1,x=(o.flags&128)!==0,O;if((O=x)||(O=i!==null&&i.memoizedState===null?!1:(Vt.current&2)!==0),O&&(v=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,i===null){if(We){if(v?zi(o):qi(),(i=Nt)?(i=gO(i,Mn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Mi!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},u=zS(i),u.return=o,o.child=u,Nr=o,Nt=null)):i=null,i===null)throw Ii(o);return Cv(i)?o.lanes=32:o.lanes=536870912,null}var k=m.children;return m=m.fallback,v?(qi(),v=o.mode,k=nh({mode:"hidden",children:k},v),m=Us(m,v,u,null),k.return=o,m.return=o,k.sibling=m,o.child=k,m=o.child,m.memoizedState=Hy(u),m.childLanes=Vy(i,O,u),o.memoizedState=Qy,gu(null,m)):(zi(o),Gy(o,k))}var U=i.memoizedState;if(U!==null&&(k=U.dehydrated,k!==null)){if(x)o.flags&256?(zi(o),o.flags&=-257,o=Yy(i,o,u)):o.memoizedState!==null?(qi(),o.child=i.child,o.flags|=128,o=null):(qi(),k=m.fallback,v=o.mode,m=nh({mode:"visible",children:m.children},v),k=Us(k,v,u,null),k.flags|=2,m.return=o,k.return=o,m.sibling=k,o.child=m,Vs(o,i.child,null,u),m=o.child,m.memoizedState=Hy(u),m.childLanes=Vy(i,O,u),o.memoizedState=Qy,o=gu(null,m));else if(zi(o),Cv(k)){if(O=k.nextSibling&&k.nextSibling.dataset,O)var X=O.dgst;O=X,m=Error(n(419)),m.stack="",m.digest=O,au({value:m,source:null,stack:null}),o=Yy(i,o,u)}else if(Xt||dl(i,o,u,!1),O=(u&i.childLanes)!==0,Xt||O){if(O=xt,O!==null&&(m=G1(O,u),m!==0&&m!==U.retryLane))throw U.retryLane=m,$s(i,m),en(O,i,m),Ky;Av(k)||fh(),o=Yy(i,o,u)}else Av(k)?(o.flags|=192,o.child=i.child,o=null):(i=U.treeContext,Nt=In(k.nextSibling),Nr=o,We=!0,Ri=null,Mn=!1,i!==null&&FS(o,i),o=Gy(o,m.children),o.flags|=4096);return o}return v?(qi(),k=m.fallback,v=o.mode,U=i.child,X=U.sibling,m=Ra(U,{mode:"hidden",children:m.children}),m.subtreeFlags=U.subtreeFlags&65011712,X!==null?k=Ra(X,k):(k=Us(k,v,u,null),k.flags|=2),k.return=o,m.return=o,m.sibling=k,o.child=m,gu(null,m),m=o.child,k=i.child.memoizedState,k===null?k=Hy(u):(v=k.cachePool,v!==null?(U=Yt._currentValue,v=v.parent!==U?{parent:U,pool:U}:v):v=WS(),k={baseLanes:k.baseLanes|u,cachePool:v}),m.memoizedState=k,m.childLanes=Vy(i,O,u),o.memoizedState=Qy,gu(i.child,m)):(zi(o),u=i.child,i=u.sibling,u=Ra(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(O=o.deletions,O===null?(o.deletions=[i],o.flags|=16):O.push(i)),o.child=u,o.memoizedState=null,u)}function Gy(i,o){return o=nh({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function nh(i,o){return i=hn(22,i,null,o),i.lanes=0,i}function Yy(i,o,u){return Vs(o,i.child,null,u),i=Gy(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function cN(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),uy(i.return,o,u)}function Wy(i,o,u,m,v,x){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v,treeForkCount:x}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=m,O.tail=u,O.tailMode=v,O.treeForkCount=x)}function uN(i,o,u){var m=o.pendingProps,v=m.revealOrder,x=m.tail;m=m.children;var O=Vt.current,k=(O&2)!==0;if(k?(O=O&1|2,o.flags|=128):O&=1,fe(Vt,O),Er(i,o,m,u),m=We?nu:0,!k&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cN(i,u,o);else if(i.tag===19)cN(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&Qf(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Wy(o,!1,v,u,x,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&Qf(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}Wy(o,!0,u,null,x,m);break;case"together":Wy(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function za(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Qi|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(dl(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Ra(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Ra(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Xy(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Lf(i)))}function KL(i,o,u){switch(o.tag){case 3:ue(o,o.stateNode.containerInfo),Li(o,Yt,i.memoizedState.cache),zs();break;case 27:case 5:Z(o);break;case 4:ue(o,o.stateNode.containerInfo);break;case 10:Li(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,jy(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(zi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?lN(i,o,u):(zi(o),i=za(i,o,u),i!==null?i.sibling:null);zi(o);break;case 19:var v=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(dl(i,o,u,!1),m=(u&o.childLanes)!==0),v){if(m)return uN(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),fe(Vt,Vt.current),m)break;return null;case 22:return o.lanes=0,rN(i,o,u,o.pendingProps);case 24:Li(o,Yt,i.memoizedState.cache)}return za(i,o,u)}function dN(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Xt=!0;else{if(!Xy(i,u)&&(o.flags&128)===0)return Xt=!1,KL(i,o,u);Xt=(i.flags&131072)!==0}else Xt=!1,We&&(o.flags&1048576)!==0&&KS(o,nu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=Qs(o.elementType),o.type=i,typeof i=="function")ry(i)?(m=Ys(i,m),o.tag=1,o=sN(null,o,i,m,u)):(o.tag=0,o=Fy(null,o,i,m,u));else{if(i!=null){var v=i.$$typeof;if(v===C){o.tag=11,o=J_(null,o,i,m,u);break e}else if(v===D){o.tag=14,o=eN(null,o,i,m,u);break e}}throw o=J(i)||i,Error(n(306,o,""))}}return o;case 0:return Fy(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,v=Ys(m,o.pendingProps),sN(i,o,m,v,u);case 3:e:{if(ue(o,o.stateNode.containerInfo),i===null)throw Error(n(387));m=o.pendingProps;var x=o.memoizedState;v=x.element,yy(i,o),du(o,m,null,u);var O=o.memoizedState;if(m=O.cache,Li(o,Yt,m),m!==x.cache&&dy(o,[Yt],u,!0),uu(),m=O.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=oN(i,o,m,u);break e}else if(m!==v){v=Pn(Error(n(424)),o),au(v),o=oN(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Nt=In(i.firstChild),Nr=o,We=!0,Ri=null,Mn=!0,u=r_(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(zs(),m===v){o=za(i,o,u);break e}Er(i,o,m,u)}o=o.child}return o;case 26:return rh(i,o),i===null?(u=jO(o.type,null,o.pendingProps,null))?o.memoizedState=u:We||(u=o.type,i=o.pendingProps,m=bh(Ce.current).createElement(u),m[_r]=o,m[Gr]=i,Ar(m,u,i),hr(m),o.stateNode=m):o.memoizedState=jO(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Z(o),i===null&&We&&(m=o.stateNode=bO(o.type,o.pendingProps,Ce.current),Nr=o,Mn=!0,v=Nt,Wi(o.type)?(kv=v,Nt=In(m.firstChild)):Nt=v),Er(i,o,o.pendingProps.children,u),rh(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&We&&((v=m=Nt)&&(m=b3(m,o.type,o.pendingProps,Mn),m!==null?(o.stateNode=m,Nr=o,Nt=In(m.firstChild),Mn=!1,v=!0):v=!1),v||Ii(o)),Z(o),v=o.type,x=o.pendingProps,O=i!==null?i.memoizedProps:null,m=x.children,Nv(v,x)?m=null:O!==null&&Nv(v,O)&&(o.flags|=32),o.memoizedState!==null&&(v=_y(i,o,ML,null,null,u),Pu._currentValue=v),rh(i,o),Er(i,o,m,u),o.child;case 6:return i===null&&We&&((i=u=Nt)&&(u=x3(u,o.pendingProps,Mn),u!==null?(o.stateNode=u,Nr=o,Nt=null,i=!0):i=!1),i||Ii(o)),null;case 13:return lN(i,o,u);case 4:return ue(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Vs(o,null,m,u):Er(i,o,m,u),o.child;case 11:return J_(i,o,o.type,o.pendingProps,u);case 7:return Er(i,o,o.pendingProps,u),o.child;case 8:return Er(i,o,o.pendingProps.children,u),o.child;case 12:return Er(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,Li(o,o.type,m.value),Er(i,o,m.children,u),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,Ks(o),v=Or(v),m=m(v),o.flags|=1,Er(i,o,m,u),o.child;case 14:return eN(i,o,o.type,o.pendingProps,u);case 15:return tN(i,o,o.type,o.pendingProps,u);case 19:return uN(i,o,u);case 31:return qL(i,o,u);case 22:return rN(i,o,u,o.pendingProps);case 24:return Ks(o),m=Or(Yt),i===null?(v=my(),v===null&&(v=xt,x=fy(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=u),v=x),o.memoizedState={parent:m,cache:v},gy(o),Li(o,Yt,v)):((i.lanes&u)!==0&&(yy(i,o),du(o,null,null,u),uu()),v=i.memoizedState,x=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Li(o,Yt,m)):(m=x.cache,Li(o,Yt,m),m!==v.cache&&dy(o,[Yt],u,!0))),Er(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function qa(i){i.flags|=4}function Zy(i,o,u,m,v){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(BN())i.flags|=8192;else throw Hs=zf,py}else i.flags&=-16777217}function fN(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!EO(o))if(BN())i.flags|=8192;else throw Hs=zf,py}function ah(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Q1():536870912,i.lanes|=o,Sl|=o)}function yu(i,o){if(!We)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Ot(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function FL(i,o,u){var m=o.pendingProps;switch(sy(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(o),null;case 1:return Ot(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Ba(Yt),$(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(ul(o)?qa(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ly())),Ot(o),null;case 26:var v=o.type,x=o.memoizedState;return i===null?(qa(o),x!==null?(Ot(o),fN(o,x)):(Ot(o),Zy(o,v,null,m,u))):x?x!==i.memoizedState?(qa(o),Ot(o),fN(o,x)):(Ot(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&qa(o),Ot(o),Zy(o,v,i,m,u)),null;case 27:if(he(o),u=Ce.current,v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&qa(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Ot(o),null}i=pe.current,ul(o)?QS(o):(i=bO(v,m,u),o.stateNode=i,qa(o))}return Ot(o),null;case 5:if(he(o),v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&qa(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Ot(o),null}if(x=pe.current,ul(o))QS(o);else{var O=bh(Ce.current);switch(x){case 1:x=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=O.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?O.createElement("select",{is:m.is}):O.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?O.createElement(v,{is:m.is}):O.createElement(v)}}x[_r]=o,x[Gr]=m;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)x.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=x;e:switch(Ar(x,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&qa(o)}}return Ot(o),Zy(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&qa(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(i=Ce.current,ul(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,v=Nr,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}i[_r]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||lO(i.nodeValue,u)),i||Ii(o,!0)}else i=bh(i).createTextNode(m),i[_r]=o,o.stateNode=i}return Ot(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=ul(o),u!==null){if(i===null){if(!m)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[_r]=o}else zs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),i=!1}else u=ly(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(pn(o),o):(pn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Ot(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=ul(o),m!==null&&m.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[_r]=o}else zs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),v=!1}else v=ly(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(pn(o),o):(pn(o),null)}return pn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==v&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),ah(o,o.updateQueue),Ot(o),null);case 4:return $(),i===null&&xv(o.stateNode.containerInfo),Ot(o),null;case 10:return Ba(o.type),Ot(o),null;case 19:if(F(Vt),m=o.memoizedState,m===null)return Ot(o),null;if(v=(o.flags&128)!==0,x=m.rendering,x===null)if(v)yu(m,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(x=Qf(i),x!==null){for(o.flags|=128,yu(m,!1),i=x.updateQueue,o.updateQueue=i,ah(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)US(u,i),u=u.sibling;return fe(Vt,Vt.current&1|2),We&&Ia(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&ct()>ch&&(o.flags|=128,v=!0,yu(m,!1),o.lanes=4194304)}else{if(!v)if(i=Qf(x),i!==null){if(o.flags|=128,v=!0,i=i.updateQueue,o.updateQueue=i,ah(o,i),yu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!We)return Ot(o),null}else 2*ct()-m.renderingStartTime>ch&&u!==536870912&&(o.flags|=128,v=!0,yu(m,!1),o.lanes=4194304);m.isBackwards?(x.sibling=o.child,o.child=x):(i=m.last,i!==null?i.sibling=x:o.child=x,m.last=x)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=ct(),i.sibling=null,u=Vt.current,fe(Vt,v?u&1|2:u&1),We&&Ia(o,m.treeForkCount),i):(Ot(o),null);case 22:case 23:return pn(o),wy(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Ot(o),o.subtreeFlags&6&&(o.flags|=8192)):Ot(o),u=o.updateQueue,u!==null&&ah(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&F(Fs),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ba(Yt),Ot(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function QL(i,o){switch(sy(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ba(Yt),$(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return he(o),null;case 31:if(o.memoizedState!==null){if(pn(o),o.alternate===null)throw Error(n(340));zs()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(pn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));zs()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return F(Vt),null;case 4:return $(),null;case 10:return Ba(o.type),null;case 22:case 23:return pn(o),wy(),i!==null&&F(Fs),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ba(Yt),null;case 25:return null;default:return null}}function hN(i,o){switch(sy(o),o.tag){case 3:Ba(Yt),$();break;case 26:case 27:case 5:he(o);break;case 4:$();break;case 31:o.memoizedState!==null&&pn(o);break;case 13:pn(o);break;case 19:F(Vt);break;case 10:Ba(o.type);break;case 22:case 23:pn(o),wy(),i!==null&&F(Fs);break;case 24:Ba(Yt)}}function vu(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&i)===i){m=void 0;var x=u.create,O=u.inst;m=x(),O.destroy=m}u=u.next}while(u!==v)}}catch(k){dt(o,o.return,k)}}function Ki(i,o,u){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var x=v.next;m=x;do{if((m.tag&i)===i){var O=m.inst,k=O.destroy;if(k!==void 0){O.destroy=void 0,v=o;var U=u,X=k;try{X()}catch(ce){dt(v,U,ce)}}}m=m.next}while(m!==x)}}catch(ce){dt(o,o.return,ce)}}function mN(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{a_(o,u)}catch(m){dt(i,i.return,m)}}}function pN(i,o,u){u.props=Ys(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){dt(i,o,m)}}function bu(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(v){dt(i,o,v)}}function ha(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){dt(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){dt(i,o,v)}else u.current=null}function gN(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){dt(i,i.return,v)}}function Jy(i,o,u){try{var m=i.stateNode;h3(m,i.type,u,o),m[Gr]=o}catch(v){dt(i,i.return,v)}}function yN(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Wi(i.type)||i.tag===4}function ev(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||yN(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Wi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function tv(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Da));else if(m!==4&&(m===27&&Wi(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(tv(i,o,u),i=i.sibling;i!==null;)tv(i,o,u),i=i.sibling}function ih(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&Wi(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(ih(i,o,u),i=i.sibling;i!==null;)ih(i,o,u),i=i.sibling}function vN(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Ar(o,m,u),o[_r]=i,o[Gr]=u}catch(x){dt(i,i.return,x)}}var Ka=!1,Zt=!1,rv=!1,bN=typeof WeakSet=="function"?WeakSet:Set,mr=null;function HL(i,o){if(i=i.containerInfo,Sv=Oh,i=PS(i),Yg(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var O=0,k=-1,U=-1,X=0,ce=0,me=i,ee=null;t:for(;;){for(var ne;me!==u||v!==0&&me.nodeType!==3||(k=O+v),me!==x||m!==0&&me.nodeType!==3||(U=O+m),me.nodeType===3&&(O+=me.nodeValue.length),(ne=me.firstChild)!==null;)ee=me,me=ne;for(;;){if(me===i)break t;if(ee===u&&++X===v&&(k=O),ee===x&&++ce===m&&(U=O),(ne=me.nextSibling)!==null)break;me=ee,ee=me.parentNode}me=ne}u=k===-1||U===-1?null:{start:k,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(_v={focusedElem:i,selectionRange:u},Oh=!1,mr=o;mr!==null;)if(o=mr,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,mr=i;else for(;mr!==null;){switch(o=mr,x=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)v=i[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,u=o,v=x.memoizedProps,x=x.memoizedState,m=u.stateNode;try{var _e=Ys(u.type,v);i=m.getSnapshotBeforeUpdate(_e,x),m.__reactInternalSnapshotBeforeUpdate=i}catch(De){dt(u,u.return,De)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Ev(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ev(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,mr=i;break}mr=o.return}}function xN(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Qa(i,u),m&4&&vu(5,u);break;case 1:if(Qa(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(O){dt(u,u.return,O)}else{var v=Ys(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(O){dt(u,u.return,O)}}m&64&&mN(u),m&512&&bu(u,u.return);break;case 3:if(Qa(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{a_(i,o)}catch(O){dt(u,u.return,O)}}break;case 27:o===null&&m&4&&vN(u);case 26:case 5:Qa(i,u),o===null&&m&4&&gN(u),m&512&&bu(u,u.return);break;case 12:Qa(i,u);break;case 31:Qa(i,u),m&4&&SN(i,u);break;case 13:Qa(i,u),m&4&&_N(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=t3.bind(null,u),w3(i,u))));break;case 22:if(m=u.memoizedState!==null||Ka,!m){o=o!==null&&o.memoizedState!==null||Zt,v=Ka;var x=Zt;Ka=m,(Zt=o)&&!x?Ha(i,u,(u.subtreeFlags&8772)!==0):Qa(i,u),Ka=v,Zt=x}break;case 30:break;default:Qa(i,u)}}function wN(i){var o=i.alternate;o!==null&&(i.alternate=null,wN(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Tg(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var kt=null,Wr=!1;function Fa(i,o,u){for(u=u.child;u!==null;)jN(i,o,u),u=u.sibling}function jN(i,o,u){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Kc,u)}catch{}switch(u.tag){case 26:Zt||ha(u,o),Fa(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Zt||ha(u,o);var m=kt,v=Wr;Wi(u.type)&&(kt=u.stateNode,Wr=!1),Fa(i,o,u),Au(u.stateNode),kt=m,Wr=v;break;case 5:Zt||ha(u,o);case 6:if(m=kt,v=Wr,kt=null,Fa(i,o,u),kt=m,Wr=v,kt!==null)if(Wr)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(u.stateNode)}catch(x){dt(u,o,x)}else try{kt.removeChild(u.stateNode)}catch(x){dt(u,o,x)}break;case 18:kt!==null&&(Wr?(i=kt,mO(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Pl(i)):mO(kt,u.stateNode));break;case 4:m=kt,v=Wr,kt=u.stateNode.containerInfo,Wr=!0,Fa(i,o,u),kt=m,Wr=v;break;case 0:case 11:case 14:case 15:Ki(2,u,o),Zt||Ki(4,u,o),Fa(i,o,u);break;case 1:Zt||(ha(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&pN(u,o,m)),Fa(i,o,u);break;case 21:Fa(i,o,u);break;case 22:Zt=(m=Zt)||u.memoizedState!==null,Fa(i,o,u),Zt=m;break;default:Fa(i,o,u)}}function SN(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Pl(i)}catch(u){dt(o,o.return,u)}}}function _N(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Pl(i)}catch(u){dt(o,o.return,u)}}function VL(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new bN),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new bN),o;default:throw Error(n(435,i.tag))}}function sh(i,o){var u=VL(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var v=r3.bind(null,i,m);m.then(v,v)}})}function Xr(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],x=i,O=o,k=O;e:for(;k!==null;){switch(k.tag){case 27:if(Wi(k.type)){kt=k.stateNode,Wr=!1;break e}break;case 5:kt=k.stateNode,Wr=!1;break e;case 3:case 4:kt=k.stateNode.containerInfo,Wr=!0;break e}k=k.return}if(kt===null)throw Error(n(160));jN(x,O,v),kt=null,Wr=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)NN(o,i),o=o.sibling}var Wn=null;function NN(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Xr(o,i),Zr(i),m&4&&(Ki(3,i,i.return),vu(3,i),Ki(5,i,i.return));break;case 1:Xr(o,i),Zr(i),m&512&&(Zt||u===null||ha(u,u.return)),m&64&&Ka&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=Wn;if(Xr(o,i),Zr(i),m&512&&(Zt||u===null||ha(u,u.return)),m&4){var x=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":x=v.getElementsByTagName("title")[0],(!x||x[Hc]||x[_r]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(m),v.head.insertBefore(x,v.querySelector("head > title"))),Ar(x,m,u),x[_r]=i,hr(x),m=x;break e;case"link":var O=NO("link","href",v).get(m+(u.href||""));if(O){for(var k=0;k<O.length;k++)if(x=O[k],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(k,1);break t}}x=v.createElement(m),Ar(x,m,u),v.head.appendChild(x);break;case"meta":if(O=NO("meta","content",v).get(m+(u.content||""))){for(k=0;k<O.length;k++)if(x=O[k],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(k,1);break t}}x=v.createElement(m),Ar(x,m,u),v.head.appendChild(x);break;default:throw Error(n(468,m))}x[_r]=i,hr(x),m=x}i.stateNode=m}else OO(v,i.type,i.stateNode);else i.stateNode=_O(v,m,i.memoizedProps);else x!==m?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,m===null?OO(v,i.type,i.stateNode):_O(v,m,i.memoizedProps)):m===null&&i.stateNode!==null&&Jy(i,i.memoizedProps,u.memoizedProps)}break;case 27:Xr(o,i),Zr(i),m&512&&(Zt||u===null||ha(u,u.return)),u!==null&&m&4&&Jy(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Xr(o,i),Zr(i),m&512&&(Zt||u===null||ha(u,u.return)),i.flags&32){v=i.stateNode;try{el(v,"")}catch(_e){dt(i,i.return,_e)}}m&4&&i.stateNode!=null&&(v=i.memoizedProps,Jy(i,v,u!==null?u.memoizedProps:v)),m&1024&&(rv=!0);break;case 6:if(Xr(o,i),Zr(i),m&4){if(i.stateNode===null)throw Error(n(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(_e){dt(i,i.return,_e)}}break;case 3:if(jh=null,v=Wn,Wn=xh(o.containerInfo),Xr(o,i),Wn=v,Zr(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Pl(o.containerInfo)}catch(_e){dt(i,i.return,_e)}rv&&(rv=!1,ON(i));break;case 4:m=Wn,Wn=xh(i.stateNode.containerInfo),Xr(o,i),Zr(i),Wn=m;break;case 12:Xr(o,i),Zr(i);break;case 31:Xr(o,i),Zr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,sh(i,m)));break;case 13:Xr(o,i),Zr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(lh=ct()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,sh(i,m)));break;case 22:v=i.memoizedState!==null;var U=u!==null&&u.memoizedState!==null,X=Ka,ce=Zt;if(Ka=X||v,Zt=ce||U,Xr(o,i),Zt=ce,Ka=X,Zr(i),m&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||U||Ka||Zt||Ws(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){U=u=o;try{if(x=U.stateNode,v)O=x.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{k=U.stateNode;var me=U.memoizedProps.style,ee=me!=null&&me.hasOwnProperty("display")?me.display:null;k.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(_e){dt(U,U.return,_e)}}}else if(o.tag===6){if(u===null){U=o;try{U.stateNode.nodeValue=v?"":U.memoizedProps}catch(_e){dt(U,U.return,_e)}}}else if(o.tag===18){if(u===null){U=o;try{var ne=U.stateNode;v?pO(ne,!0):pO(U.stateNode,!1)}catch(_e){dt(U,U.return,_e)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,sh(i,u))));break;case 19:Xr(o,i),Zr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,sh(i,m)));break;case 30:break;case 21:break;default:Xr(o,i),Zr(i)}}function Zr(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(yN(m)){u=m;break}m=m.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var v=u.stateNode,x=ev(i);ih(i,x,v);break;case 5:var O=u.stateNode;u.flags&32&&(el(O,""),u.flags&=-33);var k=ev(i);ih(i,k,O);break;case 3:case 4:var U=u.stateNode.containerInfo,X=ev(i);tv(i,X,U);break;default:throw Error(n(161))}}catch(ce){dt(i,i.return,ce)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function ON(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;ON(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Qa(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)xN(i,o.alternate,o),o=o.sibling}function Ws(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Ki(4,o,o.return),Ws(o);break;case 1:ha(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&pN(o,o.return,u),Ws(o);break;case 27:Au(o.stateNode);case 26:case 5:ha(o,o.return),Ws(o);break;case 22:o.memoizedState===null&&Ws(o);break;case 30:Ws(o);break;default:Ws(o)}i=i.sibling}}function Ha(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=i,x=o,O=x.flags;switch(x.tag){case 0:case 11:case 15:Ha(v,x,u),vu(4,x);break;case 1:if(Ha(v,x,u),m=x,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(X){dt(m,m.return,X)}if(m=x,v=m.updateQueue,v!==null){var k=m.stateNode;try{var U=v.shared.hiddenCallbacks;if(U!==null)for(v.shared.hiddenCallbacks=null,v=0;v<U.length;v++)n_(U[v],k)}catch(X){dt(m,m.return,X)}}u&&O&64&&mN(x),bu(x,x.return);break;case 27:vN(x);case 26:case 5:Ha(v,x,u),u&&m===null&&O&4&&gN(x),bu(x,x.return);break;case 12:Ha(v,x,u);break;case 31:Ha(v,x,u),u&&O&4&&SN(v,x);break;case 13:Ha(v,x,u),u&&O&4&&_N(v,x);break;case 22:x.memoizedState===null&&Ha(v,x,u),bu(x,x.return);break;case 30:break;default:Ha(v,x,u)}o=o.sibling}}function nv(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&iu(u))}function av(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&iu(i))}function Xn(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)EN(i,o,u,m),o=o.sibling}function EN(i,o,u,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Xn(i,o,u,m),v&2048&&vu(9,o);break;case 1:Xn(i,o,u,m);break;case 3:Xn(i,o,u,m),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&iu(i)));break;case 12:if(v&2048){Xn(i,o,u,m),i=o.stateNode;try{var x=o.memoizedProps,O=x.id,k=x.onPostCommit;typeof k=="function"&&k(O,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){dt(o,o.return,U)}}else Xn(i,o,u,m);break;case 31:Xn(i,o,u,m);break;case 13:Xn(i,o,u,m);break;case 23:break;case 22:x=o.stateNode,O=o.alternate,o.memoizedState!==null?x._visibility&2?Xn(i,o,u,m):xu(i,o):x._visibility&2?Xn(i,o,u,m):(x._visibility|=2,xl(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),v&2048&&nv(O,o);break;case 24:Xn(i,o,u,m),v&2048&&av(o.alternate,o);break;default:Xn(i,o,u,m)}}function xl(i,o,u,m,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=i,O=o,k=u,U=m,X=O.flags;switch(O.tag){case 0:case 11:case 15:xl(x,O,k,U,v),vu(8,O);break;case 23:break;case 22:var ce=O.stateNode;O.memoizedState!==null?ce._visibility&2?xl(x,O,k,U,v):xu(x,O):(ce._visibility|=2,xl(x,O,k,U,v)),v&&X&2048&&nv(O.alternate,O);break;case 24:xl(x,O,k,U,v),v&&X&2048&&av(O.alternate,O);break;default:xl(x,O,k,U,v)}o=o.sibling}}function xu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,v=m.flags;switch(m.tag){case 22:xu(u,m),v&2048&&nv(m.alternate,m);break;case 24:xu(u,m),v&2048&&av(m.alternate,m);break;default:xu(u,m)}o=o.sibling}}var wu=8192;function wl(i,o,u){if(i.subtreeFlags&wu)for(i=i.child;i!==null;)AN(i,o,u),i=i.sibling}function AN(i,o,u){switch(i.tag){case 26:wl(i,o,u),i.flags&wu&&i.memoizedState!==null&&D3(u,Wn,i.memoizedState,i.memoizedProps);break;case 5:wl(i,o,u);break;case 3:case 4:var m=Wn;Wn=xh(i.stateNode.containerInfo),wl(i,o,u),Wn=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=wu,wu=16777216,wl(i,o,u),wu=m):wl(i,o,u));break;default:wl(i,o,u)}}function CN(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function ju(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];mr=m,PN(m,i)}CN(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kN(i),i=i.sibling}function kN(i){switch(i.tag){case 0:case 11:case 15:ju(i),i.flags&2048&&Ki(9,i,i.return);break;case 3:ju(i);break;case 12:ju(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,oh(i)):ju(i);break;default:ju(i)}}function oh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];mr=m,PN(m,i)}CN(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Ki(8,o,o.return),oh(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,oh(o));break;default:oh(o)}i=i.sibling}}function PN(i,o){for(;mr!==null;){var u=mr;switch(u.tag){case 0:case 11:case 15:Ki(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:iu(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,mr=m;else e:for(u=i;mr!==null;){m=mr;var v=m.sibling,x=m.return;if(wN(m),m===u){mr=null;break e}if(v!==null){v.return=x,mr=v;break e}mr=x}}}var GL={getCacheForType:function(i){var o=Or(Yt),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return Or(Yt).controller.signal}},YL=typeof WeakMap=="function"?WeakMap:Map,it=0,xt=null,He=null,Ge=0,ut=0,gn=null,Fi=!1,jl=!1,iv=!1,Va=0,$t=0,Qi=0,Xs=0,sv=0,yn=0,Sl=0,Su=null,Jr=null,ov=!1,lh=0,TN=0,ch=1/0,uh=null,Hi=null,ir=0,Vi=null,_l=null,Ga=0,lv=0,cv=null,DN=null,_u=0,uv=null;function vn(){return(it&2)!==0&&Ge!==0?Ge&-Ge:R.T!==null?gv():Y1()}function MN(){if(yn===0)if((Ge&536870912)===0||We){var i=vf;vf<<=1,(vf&3932160)===0&&(vf=262144),yn=i}else yn=536870912;return i=mn.current,i!==null&&(i.flags|=32),yn}function en(i,o,u){(i===xt&&(ut===2||ut===9)||i.cancelPendingCommit!==null)&&(Nl(i,0),Gi(i,Ge,yn,!1)),Qc(i,u),((it&2)===0||i!==xt)&&(i===xt&&((it&2)===0&&(Xs|=u),$t===4&&Gi(i,Ge,yn,!1)),ma(i))}function RN(i,o,u){if((it&6)!==0)throw Error(n(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||Fc(i,o),v=m?ZL(i,o):fv(i,o,!0),x=m;do{if(v===0){jl&&!m&&Gi(i,o,0,!1);break}else{if(u=i.current.alternate,x&&!WL(u)){v=fv(i,o,!1),x=!1;continue}if(v===2){if(x=o,i.errorRecoveryDisabledLanes&x)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var k=i;v=Su;var U=k.current.memoizedState.isDehydrated;if(U&&(Nl(k,O).flags|=256),O=fv(k,O,!1),O!==2){if(iv&&!U){k.errorRecoveryDisabledLanes|=x,Xs|=x,v=4;break e}x=Jr,Jr=v,x!==null&&(Jr===null?Jr=x:Jr.push.apply(Jr,x))}v=O}if(x=!1,v!==2)continue}}if(v===1){Nl(i,0),Gi(i,o,0,!0);break}e:{switch(m=i,x=v,x){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Gi(m,o,yn,!Fi);break e;case 2:Jr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(v=lh+300-ct(),10<v)){if(Gi(m,o,yn,!Fi),xf(m,0,!0)!==0)break e;Ga=o,m.timeoutHandle=fO(IN.bind(null,m,u,Jr,uh,ov,o,yn,Xs,Sl,Fi,x,"Throttled",-0,0),v);break e}IN(m,u,Jr,uh,ov,o,yn,Xs,Sl,Fi,x,null,-0,0)}}break}while(!0);ma(i)}function IN(i,o,u,m,v,x,O,k,U,X,ce,me,ee,ne){if(i.timeoutHandle=-1,me=o.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Da},AN(o,x,me);var _e=(x&62914560)===x?lh-ct():(x&4194048)===x?TN-ct():0;if(_e=M3(me,_e),_e!==null){Ga=x,i.cancelPendingCommit=_e(FN.bind(null,i,o,x,u,m,v,O,k,U,ce,me,null,ee,ne)),Gi(i,x,O,!X);return}}FN(i,o,x,u,m,v,O,k,U)}function WL(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],x=v.getSnapshot;v=v.value;try{if(!fn(x(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Gi(i,o,u,m){o&=~sv,o&=~Xs,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var v=o;0<v;){var x=31-dn(v),O=1<<x;m[x]=-1,v&=~O}u!==0&&H1(i,u,o)}function dh(){return(it&6)===0?(Nu(0),!1):!0}function dv(){if(He!==null){if(ut===0)var i=He.return;else i=He,La=qs=null,Ey(i),pl=null,ou=0,i=He;for(;i!==null;)hN(i.alternate,i),i=i.return;He=null}}function Nl(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,g3(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ga=0,dv(),xt=i,He=u=Ra(i.current,null),Ge=o,ut=0,gn=null,Fi=!1,jl=Fc(i,o),iv=!1,Sl=yn=sv=Xs=Qi=$t=0,Jr=Su=null,ov=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var v=31-dn(m),x=1<<v;o|=i[v],m&=~x}return Va=o,Tf(),u}function LN(i,o){Be=null,R.H=pu,o===ml||o===Uf?(o=JS(),ut=3):o===py?(o=JS(),ut=4):ut=o===Ky?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,gn=o,He===null&&($t=1,eh(i,Pn(o,i.current)))}function BN(){var i=mn.current;return i===null?!0:(Ge&4194048)===Ge?Rn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?i===Rn:!1}function $N(){var i=R.H;return R.H=pu,i===null?pu:i}function UN(){var i=R.A;return R.A=GL,i}function fh(){$t=4,Fi||(Ge&4194048)!==Ge&&mn.current!==null||(jl=!0),(Qi&134217727)===0&&(Xs&134217727)===0||xt===null||Gi(xt,Ge,yn,!1)}function fv(i,o,u){var m=it;it|=2;var v=$N(),x=UN();(xt!==i||Ge!==o)&&(uh=null,Nl(i,o)),o=!1;var O=$t;e:do try{if(ut!==0&&He!==null){var k=He,U=gn;switch(ut){case 8:dv(),O=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(o=!0);var X=ut;if(ut=0,gn=null,Ol(i,k,U,X),u&&jl){O=0;break e}break;default:X=ut,ut=0,gn=null,Ol(i,k,U,X)}}XL(),O=$t;break}catch(ce){LN(i,ce)}while(!0);return o&&i.shellSuspendCounter++,La=qs=null,it=m,R.H=v,R.A=x,He===null&&(xt=null,Ge=0,Tf()),O}function XL(){for(;He!==null;)zN(He)}function ZL(i,o){var u=it;it|=2;var m=$N(),v=UN();xt!==i||Ge!==o?(uh=null,ch=ct()+500,Nl(i,o)):jl=Fc(i,o);e:do try{if(ut!==0&&He!==null){o=He;var x=gn;t:switch(ut){case 1:ut=0,gn=null,Ol(i,o,x,1);break;case 2:case 9:if(XS(x)){ut=0,gn=null,qN(o);break}o=function(){ut!==2&&ut!==9||xt!==i||(ut=7),ma(i)},x.then(o,o);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:XS(x)?(ut=0,gn=null,qN(o)):(ut=0,gn=null,Ol(i,o,x,7));break;case 5:var O=null;switch(He.tag){case 26:O=He.memoizedState;case 5:case 27:var k=He;if(O?EO(O):k.stateNode.complete){ut=0,gn=null;var U=k.sibling;if(U!==null)He=U;else{var X=k.return;X!==null?(He=X,hh(X)):He=null}break t}}ut=0,gn=null,Ol(i,o,x,5);break;case 6:ut=0,gn=null,Ol(i,o,x,6);break;case 8:dv(),$t=6;break e;default:throw Error(n(462))}}JL();break}catch(ce){LN(i,ce)}while(!0);return La=qs=null,R.H=m,R.A=v,it=u,He!==null?0:(xt=null,Ge=0,Tf(),$t)}function JL(){for(;He!==null&&!Vr();)zN(He)}function zN(i){var o=dN(i.alternate,i,Va);i.memoizedProps=i.pendingProps,o===null?hh(i):He=o}function qN(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=iN(u,o,o.pendingProps,o.type,void 0,Ge);break;case 11:o=iN(u,o,o.pendingProps,o.type.render,o.ref,Ge);break;case 5:Ey(o);default:hN(u,o),o=He=US(o,Va),o=dN(u,o,Va)}i.memoizedProps=i.pendingProps,o===null?hh(i):He=o}function Ol(i,o,u,m){La=qs=null,Ey(o),pl=null,ou=0;var v=o.return;try{if(zL(i,v,o,u,Ge)){$t=1,eh(i,Pn(u,i.current)),He=null;return}}catch(x){if(v!==null)throw He=v,x;$t=1,eh(i,Pn(u,i.current)),He=null;return}o.flags&32768?(We||m===1?i=!0:jl||(Ge&536870912)!==0?i=!1:(Fi=i=!0,(m===2||m===9||m===3||m===6)&&(m=mn.current,m!==null&&m.tag===13&&(m.flags|=16384))),KN(o,i)):hh(o)}function hh(i){var o=i;do{if((o.flags&32768)!==0){KN(o,Fi);return}i=o.return;var u=FL(o.alternate,o,Va);if(u!==null){He=u;return}if(o=o.sibling,o!==null){He=o;return}He=o=i}while(o!==null);$t===0&&($t=5)}function KN(i,o){do{var u=QL(i.alternate,i);if(u!==null){u.flags&=32767,He=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){He=i;return}He=i=u}while(i!==null);$t=6,He=null}function FN(i,o,u,m,v,x,O,k,U){i.cancelPendingCommit=null;do mh();while(ir!==0);if((it&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(x=o.lanes|o.childLanes,x|=ey,T5(i,u,x,O,k,U),i===xt&&(He=xt=null,Ge=0),_l=o,Vi=i,Ga=u,lv=x,cv=v,DN=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,n3(Ds,function(){return YN(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=R.T,R.T=null,v=H.p,H.p=2,O=it,it|=4;try{HL(i,o,u)}finally{it=O,H.p=v,R.T=m}}ir=1,QN(),HN(),VN()}}function QN(){if(ir===1){ir=0;var i=Vi,o=_l,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=R.T,R.T=null;var m=H.p;H.p=2;var v=it;it|=4;try{NN(o,i);var x=_v,O=PS(i.containerInfo),k=x.focusedElem,U=x.selectionRange;if(O!==k&&k&&k.ownerDocument&&kS(k.ownerDocument.documentElement,k)){if(U!==null&&Yg(k)){var X=U.start,ce=U.end;if(ce===void 0&&(ce=X),"selectionStart"in k)k.selectionStart=X,k.selectionEnd=Math.min(ce,k.value.length);else{var me=k.ownerDocument||document,ee=me&&me.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),_e=k.textContent.length,De=Math.min(U.start,_e),yt=U.end===void 0?De:Math.min(U.end,_e);!ne.extend&&De>yt&&(O=yt,yt=De,De=O);var Q=CS(k,De),q=CS(k,yt);if(Q&&q&&(ne.rangeCount!==1||ne.anchorNode!==Q.node||ne.anchorOffset!==Q.offset||ne.focusNode!==q.node||ne.focusOffset!==q.offset)){var W=me.createRange();W.setStart(Q.node,Q.offset),ne.removeAllRanges(),De>yt?(ne.addRange(W),ne.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),ne.addRange(W))}}}}for(me=[],ne=k;ne=ne.parentNode;)ne.nodeType===1&&me.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<me.length;k++){var de=me[k];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Oh=!!Sv,_v=Sv=null}finally{it=v,H.p=m,R.T=u}}i.current=o,ir=2}}function HN(){if(ir===2){ir=0;var i=Vi,o=_l,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=R.T,R.T=null;var m=H.p;H.p=2;var v=it;it|=4;try{xN(i,o.alternate,o)}finally{it=v,H.p=m,R.T=u}}ir=3}}function VN(){if(ir===4||ir===3){ir=0,ar();var i=Vi,o=_l,u=Ga,m=DN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ir=5:(ir=0,_l=Vi=null,GN(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Hi=null),kg(u),o=o.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Kc,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=R.T,v=H.p,H.p=2,R.T=null;try{for(var x=i.onRecoverableError,O=0;O<m.length;O++){var k=m[O];x(k.value,{componentStack:k.stack})}}finally{R.T=o,H.p=v}}(Ga&3)!==0&&mh(),ma(i),v=i.pendingLanes,(u&261930)!==0&&(v&42)!==0?i===uv?_u++:(_u=0,uv=i):_u=0,Nu(0)}}function GN(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,iu(o)))}function mh(){return QN(),HN(),VN(),YN()}function YN(){if(ir!==5)return!1;var i=Vi,o=lv;lv=0;var u=kg(Ga),m=R.T,v=H.p;try{H.p=32>u?32:u,R.T=null,u=cv,cv=null;var x=Vi,O=Ga;if(ir=0,_l=Vi=null,Ga=0,(it&6)!==0)throw Error(n(331));var k=it;if(it|=4,kN(x.current),EN(x,x.current,O,u),it=k,Nu(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Kc,x)}catch{}return!0}finally{H.p=v,R.T=m,GN(i,o)}}function WN(i,o,u){o=Pn(u,o),o=qy(i.stateNode,o,2),i=Ui(i,o,2),i!==null&&(Qc(i,2),ma(i))}function dt(i,o,u){if(i.tag===3)WN(i,i,u);else for(;o!==null;){if(o.tag===3){WN(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Hi===null||!Hi.has(m))){i=Pn(u,i),u=X_(2),m=Ui(o,u,2),m!==null&&(Z_(u,m,o,i),Qc(m,2),ma(m));break}}o=o.return}}function hv(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new YL;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(u)||(iv=!0,v.add(u),i=e3.bind(null,i,o,u),o.then(i,i))}function e3(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,xt===i&&(Ge&u)===u&&($t===4||$t===3&&(Ge&62914560)===Ge&&300>ct()-lh?(it&2)===0&&Nl(i,0):sv|=u,Sl===Ge&&(Sl=0)),ma(i)}function XN(i,o){o===0&&(o=Q1()),i=$s(i,o),i!==null&&(Qc(i,o),ma(i))}function t3(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),XN(i,u)}function r3(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),XN(i,u)}function n3(i,o){return le(i,o)}var ph=null,El=null,mv=!1,gh=!1,pv=!1,Yi=0;function ma(i){i!==El&&i.next===null&&(El===null?ph=El=i:El=El.next=i),gh=!0,mv||(mv=!0,i3())}function Nu(i,o){if(!pv&&gh){pv=!0;do for(var u=!1,m=ph;m!==null;){if(i!==0){var v=m.pendingLanes;if(v===0)var x=0;else{var O=m.suspendedLanes,k=m.pingedLanes;x=(1<<31-dn(42|i)+1)-1,x&=v&~(O&~k),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,tO(m,x))}else x=Ge,x=xf(m,m===xt?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||Fc(m,x)||(u=!0,tO(m,x));m=m.next}while(u);pv=!1}}function a3(){ZN()}function ZN(){gh=mv=!1;var i=0;Yi!==0&&p3()&&(i=Yi);for(var o=ct(),u=null,m=ph;m!==null;){var v=m.next,x=JN(m,o);x===0?(m.next=null,u===null?ph=v:u.next=v,v===null&&(El=u)):(u=m,(i!==0||(x&3)!==0)&&(gh=!0)),m=v}ir!==0&&ir!==5||Nu(i),Yi!==0&&(Yi=0)}function JN(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var O=31-dn(x),k=1<<O,U=v[O];U===-1?((k&u)===0||(k&m)!==0)&&(v[O]=P5(k,o)):U<=o&&(i.expiredLanes|=k),x&=~k}if(o=xt,u=Ge,u=xf(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(ut===2||ut===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Ct(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Fc(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&Ct(m),kg(u)){case 2:case 8:u=qc;break;case 32:u=Ds;break;case 268435456:u=Vo;break;default:u=Ds}return m=eO.bind(null,i),u=le(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&Ct(m),i.callbackPriority=2,i.callbackNode=null,2}function eO(i,o){if(ir!==0&&ir!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(mh()&&i.callbackNode!==u)return null;var m=Ge;return m=xf(i,i===xt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(RN(i,m,o),JN(i,ct()),i.callbackNode!=null&&i.callbackNode===u?eO.bind(null,i):null)}function tO(i,o){if(mh())return null;RN(i,o,!0)}function i3(){y3(function(){(it&6)!==0?le(zc,a3):ZN()})}function gv(){if(Yi===0){var i=fl;i===0&&(i=yf,yf<<=1,(yf&261888)===0&&(yf=256)),Yi=i}return Yi}function rO(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:_f(""+i)}function nO(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function s3(i,o,u,m,v){if(o==="submit"&&u&&u.stateNode===v){var x=rO((v[Gr]||null).action),O=m.submitter;O&&(o=(o=O[Gr]||null)?rO(o.formAction):O.getAttribute("formAction"),o!==null&&(x=o,O=null));var k=new Af("action","action",null,m,v);i.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Yi!==0){var U=O?nO(v,O):new FormData(v);Iy(u,{pending:!0,data:U,method:v.method,action:x},null,U)}}else typeof x=="function"&&(k.preventDefault(),U=O?nO(v,O):new FormData(v),Iy(u,{pending:!0,data:U,method:v.method,action:x},x,U))},currentTarget:v}]})}}for(var yv=0;yv<Jg.length;yv++){var vv=Jg[yv],o3=vv.toLowerCase(),l3=vv[0].toUpperCase()+vv.slice(1);Yn(o3,"on"+l3)}Yn(MS,"onAnimationEnd"),Yn(RS,"onAnimationIteration"),Yn(IS,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(_L,"onTransitionRun"),Yn(NL,"onTransitionStart"),Yn(OL,"onTransitionCancel"),Yn(LS,"onTransitionEnd"),Zo("onMouseEnter",["mouseout","mouseover"]),Zo("onMouseLeave",["mouseout","mouseover"]),Zo("onPointerEnter",["pointerout","pointerover"]),Zo("onPointerLeave",["pointerout","pointerover"]),Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function aO(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],v=m.event;m=m.listeners;e:{var x=void 0;if(o)for(var O=m.length-1;0<=O;O--){var k=m[O],U=k.instance,X=k.currentTarget;if(k=k.listener,U!==x&&v.isPropagationStopped())break e;x=k,v.currentTarget=X;try{x(v)}catch(ce){Pf(ce)}v.currentTarget=null,x=U}else for(O=0;O<m.length;O++){if(k=m[O],U=k.instance,X=k.currentTarget,k=k.listener,U!==x&&v.isPropagationStopped())break e;x=k,v.currentTarget=X;try{x(v)}catch(ce){Pf(ce)}v.currentTarget=null,x=U}}}}function Ve(i,o){var u=o[Pg];u===void 0&&(u=o[Pg]=new Set);var m=i+"__bubble";u.has(m)||(iO(o,i,2,!1),u.add(m))}function bv(i,o,u){var m=0;o&&(m|=4),iO(u,i,m,o)}var yh="_reactListening"+Math.random().toString(36).slice(2);function xv(i){if(!i[yh]){i[yh]=!0,Z1.forEach(function(u){u!=="selectionchange"&&(c3.has(u)||bv(u,!1,i),bv(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[yh]||(o[yh]=!0,bv("selectionchange",!1,o))}}function iO(i,o,u,m){switch(MO(o)){case 2:var v=L3;break;case 8:v=B3;break;default:v=Rv}u=v.bind(null,o,u,i),v=void 0,!Ug||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function wv(i,o,u,m,v){var x=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var k=m.stateNode.containerInfo;if(k===v)break;if(O===4)for(O=m.return;O!==null;){var U=O.tag;if((U===3||U===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;k!==null;){if(O=Yo(k),O===null)return;if(U=O.tag,U===5||U===6||U===26||U===27){m=x=O;continue e}k=k.parentNode}}m=m.return}uS(function(){var X=x,ce=Bg(u),me=[];e:{var ee=BS.get(i);if(ee!==void 0){var ne=Af,_e=i;switch(i){case"keypress":if(Of(u)===0)break e;case"keydown":case"keyup":ne=rL;break;case"focusin":_e="focus",ne=Fg;break;case"focusout":_e="blur",ne=Fg;break;case"beforeblur":case"afterblur":ne=Fg;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=hS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=F5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=iL;break;case MS:case RS:case IS:ne=V5;break;case LS:ne=oL;break;case"scroll":case"scrollend":ne=q5;break;case"wheel":ne=cL;break;case"copy":case"cut":case"paste":ne=Y5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=pS;break;case"toggle":case"beforetoggle":ne=dL}var De=(o&4)!==0,yt=!De&&(i==="scroll"||i==="scrollend"),Q=De?ee!==null?ee+"Capture":null:ee;De=[];for(var q=X,W;q!==null;){var de=q;if(W=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||W===null||Q===null||(de=Gc(q,Q),de!=null&&De.push(Eu(q,de,W))),yt)break;q=q.return}0<De.length&&(ee=new ne(ee,_e,null,u,ce),me.push({event:ee,listeners:De}))}}if((o&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",ne=i==="mouseout"||i==="pointerout",ee&&u!==Lg&&(_e=u.relatedTarget||u.fromElement)&&(Yo(_e)||_e[Go]))break e;if((ne||ee)&&(ee=ce.window===ce?ce:(ee=ce.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(_e=u.relatedTarget||u.toElement,ne=X,_e=_e?Yo(_e):null,_e!==null&&(yt=s(_e),De=_e.tag,_e!==yt||De!==5&&De!==27&&De!==6)&&(_e=null)):(ne=null,_e=X),ne!==_e)){if(De=hS,de="onMouseLeave",Q="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(De=pS,de="onPointerLeave",Q="onPointerEnter",q="pointer"),yt=ne==null?ee:Vc(ne),W=_e==null?ee:Vc(_e),ee=new De(de,q+"leave",ne,u,ce),ee.target=yt,ee.relatedTarget=W,de=null,Yo(ce)===X&&(De=new De(Q,q+"enter",_e,u,ce),De.target=W,De.relatedTarget=yt,de=De),yt=de,ne&&_e)t:{for(De=u3,Q=ne,q=_e,W=0,de=Q;de;de=De(de))W++;de=0;for(var Pe=q;Pe;Pe=De(Pe))de++;for(;0<W-de;)Q=De(Q),W--;for(;0<de-W;)q=De(q),de--;for(;W--;){if(Q===q||q!==null&&Q===q.alternate){De=Q;break t}Q=De(Q),q=De(q)}De=null}else De=null;ne!==null&&sO(me,ee,ne,De,!1),_e!==null&&yt!==null&&sO(me,yt,_e,De,!0)}}e:{if(ee=X?Vc(X):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var et=SS;else if(wS(ee))if(_S)et=wL;else{et=bL;var Oe=vL}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?X&&Ig(X.elementType)&&(et=SS):et=xL;if(et&&(et=et(i,X))){jS(me,et,u,ce);break e}Oe&&Oe(i,ee,X),i==="focusout"&&X&&ee.type==="number"&&X.memoizedProps.value!=null&&Rg(ee,"number",ee.value)}switch(Oe=X?Vc(X):window,i){case"focusin":(wS(Oe)||Oe.contentEditable==="true")&&(al=Oe,Wg=X,ru=null);break;case"focusout":ru=Wg=al=null;break;case"mousedown":Xg=!0;break;case"contextmenu":case"mouseup":case"dragend":Xg=!1,TS(me,u,ce);break;case"selectionchange":if(SL)break;case"keydown":case"keyup":TS(me,u,ce)}var ze;if(Hg)e:{switch(i){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else nl?bS(i,u)&&(Ye="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ye="onCompositionStart");Ye&&(gS&&u.locale!=="ko"&&(nl||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&nl&&(ze=dS()):(Di=ce,zg="value"in Di?Di.value:Di.textContent,nl=!0)),Oe=vh(X,Ye),0<Oe.length&&(Ye=new mS(Ye,i,null,u,ce),me.push({event:Ye,listeners:Oe}),ze?Ye.data=ze:(ze=xS(u),ze!==null&&(Ye.data=ze)))),(ze=hL?mL(i,u):pL(i,u))&&(Ye=vh(X,"onBeforeInput"),0<Ye.length&&(Oe=new mS("onBeforeInput","beforeinput",null,u,ce),me.push({event:Oe,listeners:Ye}),Oe.data=ze)),s3(me,i,X,u,ce)}aO(me,o)})}function Eu(i,o,u){return{instance:i,listener:o,currentTarget:u}}function vh(i,o){for(var u=o+"Capture",m=[];i!==null;){var v=i,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Gc(i,u),v!=null&&m.unshift(Eu(i,v,x)),v=Gc(i,o),v!=null&&m.push(Eu(i,v,x))),i.tag===3)return m;i=i.return}return[]}function u3(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function sO(i,o,u,m,v){for(var x=o._reactName,O=[];u!==null&&u!==m;){var k=u,U=k.alternate,X=k.stateNode;if(k=k.tag,U!==null&&U===m)break;k!==5&&k!==26&&k!==27||X===null||(U=X,v?(X=Gc(u,x),X!=null&&O.unshift(Eu(u,X,U))):v||(X=Gc(u,x),X!=null&&O.push(Eu(u,X,U)))),u=u.return}O.length!==0&&i.push({event:o,listeners:O})}var d3=/\r\n?/g,f3=/\u0000|\uFFFD/g;function oO(i){return(typeof i=="string"?i:""+i).replace(d3,`
`).replace(f3,"")}function lO(i,o){return o=oO(o),oO(i)===o}function gt(i,o,u,m,v,x){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||el(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&el(i,""+m);break;case"className":jf(i,"class",m);break;case"tabIndex":jf(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":jf(i,u,m);break;case"style":lS(i,m,x);break;case"data":if(o!=="object"){jf(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=_f(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(o!=="input"&&gt(i,o,"name",v.name,v,null),gt(i,o,"formEncType",v.formEncType,v,null),gt(i,o,"formMethod",v.formMethod,v,null),gt(i,o,"formTarget",v.formTarget,v,null)):(gt(i,o,"encType",v.encType,v,null),gt(i,o,"method",v.method,v,null),gt(i,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=_f(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=Da);break;case"onScroll":m!=null&&Ve("scroll",i);break;case"onScrollEnd":m!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=_f(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),wf(i,"popover",m);break;case"xlinkActuate":Ta(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ta(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ta(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ta(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ta(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ta(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ta(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ta(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ta(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":wf(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=U5.get(u)||u,wf(i,u,m))}}function jv(i,o,u,m,v,x){switch(u){case"style":lS(i,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof m=="string"?el(i,m):(typeof m=="number"||typeof m=="bigint")&&el(i,""+m);break;case"onScroll":m!=null&&Ve("scroll",i);break;case"onScrollEnd":m!=null&&Ve("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!J1.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),x=i[Gr]||null,x=x!=null?x[u]:null,typeof x=="function"&&i.removeEventListener(o,x,v),typeof m=="function")){typeof x!="function"&&x!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,v);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):wf(i,u,m)}}}function Ar(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var m=!1,v=!1,x;for(x in u)if(u.hasOwnProperty(x)){var O=u[x];if(O!=null)switch(x){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:gt(i,o,x,O,u,null)}}v&&gt(i,o,"srcSet",u.srcSet,u,null),m&&gt(i,o,"src",u.src,u,null);return;case"input":Ve("invalid",i);var k=x=O=v=null,U=null,X=null;for(m in u)if(u.hasOwnProperty(m)){var ce=u[m];if(ce!=null)switch(m){case"name":v=ce;break;case"type":O=ce;break;case"checked":U=ce;break;case"defaultChecked":X=ce;break;case"value":x=ce;break;case"defaultValue":k=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(137,o));break;default:gt(i,o,m,ce,u,null)}}aS(i,x,k,U,X,O,v,!1);return;case"select":Ve("invalid",i),m=O=x=null;for(v in u)if(u.hasOwnProperty(v)&&(k=u[v],k!=null))switch(v){case"value":x=k;break;case"defaultValue":O=k;break;case"multiple":m=k;default:gt(i,o,v,k,u,null)}o=x,u=O,i.multiple=!!m,o!=null?Jo(i,!!m,o,!1):u!=null&&Jo(i,!!m,u,!0);return;case"textarea":Ve("invalid",i),x=v=m=null;for(O in u)if(u.hasOwnProperty(O)&&(k=u[O],k!=null))switch(O){case"value":m=k;break;case"defaultValue":v=k;break;case"children":x=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:gt(i,o,O,k,u,null)}sS(i,m,v,x);return;case"option":for(U in u)if(u.hasOwnProperty(U)&&(m=u[U],m!=null))switch(U){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:gt(i,o,U,m,u,null)}return;case"dialog":Ve("beforetoggle",i),Ve("toggle",i),Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(m=0;m<Ou.length;m++)Ve(Ou[m],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(m=u[X],m!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:gt(i,o,X,m,u,null)}return;default:if(Ig(o)){for(ce in u)u.hasOwnProperty(ce)&&(m=u[ce],m!==void 0&&jv(i,o,ce,m,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(m=u[k],m!=null&&gt(i,o,k,m,u,null))}function h3(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,O=null,k=null,U=null,X=null,ce=null;for(ne in u){var me=u[ne];if(u.hasOwnProperty(ne)&&me!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":U=me;default:m.hasOwnProperty(ne)||gt(i,o,ne,null,m,me)}}for(var ee in m){var ne=m[ee];if(me=u[ee],m.hasOwnProperty(ee)&&(ne!=null||me!=null))switch(ee){case"type":x=ne;break;case"name":v=ne;break;case"checked":X=ne;break;case"defaultChecked":ce=ne;break;case"value":O=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,o));break;default:ne!==me&&gt(i,o,ee,ne,m,me)}}Mg(i,O,k,U,X,ce,x,v);return;case"select":ne=O=k=ee=null;for(x in u)if(U=u[x],u.hasOwnProperty(x)&&U!=null)switch(x){case"value":break;case"multiple":ne=U;default:m.hasOwnProperty(x)||gt(i,o,x,null,m,U)}for(v in m)if(x=m[v],U=u[v],m.hasOwnProperty(v)&&(x!=null||U!=null))switch(v){case"value":ee=x;break;case"defaultValue":k=x;break;case"multiple":O=x;default:x!==U&&gt(i,o,v,x,m,U)}o=k,u=O,m=ne,ee!=null?Jo(i,!!u,ee,!1):!!m!=!!u&&(o!=null?Jo(i,!!u,o,!0):Jo(i,!!u,u?[]:"",!1));return;case"textarea":ne=ee=null;for(k in u)if(v=u[k],u.hasOwnProperty(k)&&v!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:gt(i,o,k,null,m,v)}for(O in m)if(v=m[O],x=u[O],m.hasOwnProperty(O)&&(v!=null||x!=null))switch(O){case"value":ee=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==x&&gt(i,o,O,v,m,x)}iS(i,ee,ne);return;case"option":for(var _e in u)if(ee=u[_e],u.hasOwnProperty(_e)&&ee!=null&&!m.hasOwnProperty(_e))switch(_e){case"selected":i.selected=!1;break;default:gt(i,o,_e,null,m,ee)}for(U in m)if(ee=m[U],ne=u[U],m.hasOwnProperty(U)&&ee!==ne&&(ee!=null||ne!=null))switch(U){case"selected":i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:gt(i,o,U,ee,m,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in u)ee=u[De],u.hasOwnProperty(De)&&ee!=null&&!m.hasOwnProperty(De)&&gt(i,o,De,null,m,ee);for(X in m)if(ee=m[X],ne=u[X],m.hasOwnProperty(X)&&ee!==ne&&(ee!=null||ne!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(n(137,o));break;default:gt(i,o,X,ee,m,ne)}return;default:if(Ig(o)){for(var yt in u)ee=u[yt],u.hasOwnProperty(yt)&&ee!==void 0&&!m.hasOwnProperty(yt)&&jv(i,o,yt,void 0,m,ee);for(ce in m)ee=m[ce],ne=u[ce],!m.hasOwnProperty(ce)||ee===ne||ee===void 0&&ne===void 0||jv(i,o,ce,ee,m,ne);return}}for(var Q in u)ee=u[Q],u.hasOwnProperty(Q)&&ee!=null&&!m.hasOwnProperty(Q)&&gt(i,o,Q,null,m,ee);for(me in m)ee=m[me],ne=u[me],!m.hasOwnProperty(me)||ee===ne||ee==null&&ne==null||gt(i,o,me,ee,m,ne)}function cO(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function m3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var v=u[m],x=v.transferSize,O=v.initiatorType,k=v.duration;if(x&&k&&cO(O)){for(O=0,k=v.responseEnd,m+=1;m<u.length;m++){var U=u[m],X=U.startTime;if(X>k)break;var ce=U.transferSize,me=U.initiatorType;ce&&cO(me)&&(U=U.responseEnd,O+=ce*(U<k?1:(k-X)/(U-X)))}if(--m,o+=8*(x+O)/(v.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Sv=null,_v=null;function bh(i){return i.nodeType===9?i:i.ownerDocument}function uO(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dO(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Nv(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ov=null;function p3(){var i=window.event;return i&&i.type==="popstate"?i===Ov?!1:(Ov=i,!0):(Ov=null,!1)}var fO=typeof setTimeout=="function"?setTimeout:void 0,g3=typeof clearTimeout=="function"?clearTimeout:void 0,hO=typeof Promise=="function"?Promise:void 0,y3=typeof queueMicrotask=="function"?queueMicrotask:typeof hO<"u"?function(i){return hO.resolve(null).then(i).catch(v3)}:fO;function v3(i){setTimeout(function(){throw i})}function Wi(i){return i==="head"}function mO(i,o){var u=o,m=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(v),Pl(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")Au(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Au(u);for(var x=u.firstChild;x;){var O=x.nextSibling,k=x.nodeName;x[Hc]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=O}}else u==="body"&&Au(i.ownerDocument.body);u=v}while(u);Pl(o)}function pO(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Ev(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Ev(u),Tg(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function b3(i,o,u,m){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[Hc])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=In(i.nextSibling),i===null)break}return null}function x3(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=In(i.nextSibling),i===null))return null;return i}function gO(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=In(i.nextSibling),i===null))return null;return i}function Av(i){return i.data==="$?"||i.data==="$~"}function Cv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function w3(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function In(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var kv=null;function yO(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return In(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function vO(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function bO(i,o,u){switch(o=bh(u),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Au(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Tg(i)}var Ln=new Map,xO=new Set;function xh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ya=H.d;H.d={f:j3,r:S3,D:_3,C:N3,L:O3,m:E3,X:C3,S:A3,M:k3};function j3(){var i=Ya.f(),o=dh();return i||o}function S3(i){var o=Wo(i);o!==null&&o.tag===5&&o.type==="form"?L_(o):Ya.r(i)}var Al=typeof document>"u"?null:document;function wO(i,o,u){var m=Al;if(m&&typeof o=="string"&&o){var v=Cn(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),xO.has(v)||(xO.add(v),i={rel:i,crossOrigin:u,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),Ar(o,"link",i),hr(o),m.head.appendChild(o)))}}function _3(i){Ya.D(i),wO("dns-prefetch",i,null)}function N3(i,o){Ya.C(i,o),wO("preconnect",i,o)}function O3(i,o,u){Ya.L(i,o,u);var m=Al;if(m&&i&&o){var v='link[rel="preload"][as="'+Cn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Cn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Cn(u.imageSizes)+'"]')):v+='[href="'+Cn(i)+'"]';var x=v;switch(o){case"style":x=Cl(i);break;case"script":x=kl(i)}Ln.has(x)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),Ln.set(x,i),m.querySelector(v)!==null||o==="style"&&m.querySelector(Cu(x))||o==="script"&&m.querySelector(ku(x))||(o=m.createElement("link"),Ar(o,"link",i),hr(o),m.head.appendChild(o)))}}function E3(i,o){Ya.m(i,o);var u=Al;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Cn(m)+'"][href="'+Cn(i)+'"]',x=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=kl(i)}if(!Ln.has(x)&&(i=g({rel:"modulepreload",href:i},o),Ln.set(x,i),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ku(x)))return}m=u.createElement("link"),Ar(m,"link",i),hr(m),u.head.appendChild(m)}}}function A3(i,o,u){Ya.S(i,o,u);var m=Al;if(m&&i){var v=Xo(m).hoistableStyles,x=Cl(i);o=o||"default";var O=v.get(x);if(!O){var k={loading:0,preload:null};if(O=m.querySelector(Cu(x)))k.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=Ln.get(x))&&Pv(i,u);var U=O=m.createElement("link");hr(U),Ar(U,"link",i),U._p=new Promise(function(X,ce){U.onload=X,U.onerror=ce}),U.addEventListener("load",function(){k.loading|=1}),U.addEventListener("error",function(){k.loading|=2}),k.loading|=4,wh(O,o,m)}O={type:"stylesheet",instance:O,count:1,state:k},v.set(x,O)}}}function C3(i,o){Ya.X(i,o);var u=Al;if(u&&i){var m=Xo(u).hoistableScripts,v=kl(i),x=m.get(v);x||(x=u.querySelector(ku(v)),x||(i=g({src:i,async:!0},o),(o=Ln.get(v))&&Tv(i,o),x=u.createElement("script"),hr(x),Ar(x,"link",i),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(v,x))}}function k3(i,o){Ya.M(i,o);var u=Al;if(u&&i){var m=Xo(u).hoistableScripts,v=kl(i),x=m.get(v);x||(x=u.querySelector(ku(v)),x||(i=g({src:i,async:!0,type:"module"},o),(o=Ln.get(v))&&Tv(i,o),x=u.createElement("script"),hr(x),Ar(x,"link",i),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(v,x))}}function jO(i,o,u,m){var v=(v=Ce.current)?xh(v):null;if(!v)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Cl(u.href),u=Xo(v).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Cl(u.href);var x=Xo(v).hoistableStyles,O=x.get(i);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,O),(x=v.querySelector(Cu(i)))&&!x._p&&(O.instance=x,O.state.loading=5),Ln.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ln.set(i,u),x||P3(v,i,u,O.state))),o&&m===null)throw Error(n(528,""));return O}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=kl(u),u=Xo(v).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Cl(i){return'href="'+Cn(i)+'"'}function Cu(i){return'link[rel="stylesheet"]['+i+"]"}function SO(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function P3(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Ar(o,"link",u),hr(o),i.head.appendChild(o))}function kl(i){return'[src="'+Cn(i)+'"]'}function ku(i){return"script[async]"+i}function _O(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Cn(u.href)+'"]');if(m)return o.instance=m,hr(m),m;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),hr(m),Ar(m,"style",v),wh(m,u.precedence,i),o.instance=m;case"stylesheet":v=Cl(u.href);var x=i.querySelector(Cu(v));if(x)return o.state.loading|=4,o.instance=x,hr(x),x;m=SO(u),(v=Ln.get(v))&&Pv(m,v),x=(i.ownerDocument||i).createElement("link"),hr(x);var O=x;return O._p=new Promise(function(k,U){O.onload=k,O.onerror=U}),Ar(x,"link",m),o.state.loading|=4,wh(x,u.precedence,i),o.instance=x;case"script":return x=kl(u.src),(v=i.querySelector(ku(x)))?(o.instance=v,hr(v),v):(m=u,(v=Ln.get(x))&&(m=g({},u),Tv(m,v)),i=i.ownerDocument||i,v=i.createElement("script"),hr(v),Ar(v,"link",m),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,wh(m,u.precedence,i));return o.instance}function wh(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,x=v,O=0;O<m.length;O++){var k=m[O];if(k.dataset.precedence===o)x=k;else if(x!==v)break}x?x.parentNode.insertBefore(i,x.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Pv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Tv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var jh=null;function NO(i,o,u){if(jh===null){var m=new Map,v=jh=new Map;v.set(u,m)}else v=jh,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var x=u[v];if(!(x[Hc]||x[_r]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var O=x.getAttribute(o)||"";O=i+O;var k=m.get(O);k?k.push(x):m.set(O,[x])}}return m}function OO(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function T3(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function EO(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function D3(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Cl(m.href),x=o.querySelector(Cu(v));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Sh.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=x,hr(x);return}x=o.ownerDocument||o,m=SO(m),(v=Ln.get(v))&&Pv(m,v),x=x.createElement("link"),hr(x);var O=x;O._p=new Promise(function(k,U){O.onload=k,O.onerror=U}),Ar(x,"link",m),u.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Sh.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Dv=0;function M3(i,o){return i.stylesheets&&i.count===0&&Nh(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&Nh(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+o);0<i.imgBytes&&Dv===0&&(Dv=62500*m3());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Nh(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>Dv?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function Sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var _h=null;function Nh(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,_h=new Map,o.forEach(R3,i),_h=null,Sh.call(i))}function R3(i,o){if(!(o.state.loading&4)){var u=_h.get(i);if(u)var m=u.get(null);else{u=new Map,_h.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var O=v[x];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),m=O)}m&&u.set(null,m)}v=o.instance,O=v.getAttribute("data-precedence"),x=u.get(O)||m,x===m&&u.set(null,v),u.set(O,v),this.count++,m=Sh.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),x?x.parentNode.insertBefore(v,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var Pu={$$typeof:A,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function I3(i,o,u,m,v,x,O,k,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ag(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ag(0),this.hiddenUpdates=Ag(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function AO(i,o,u,m,v,x,O,k,U,X,ce,me){return i=new I3(i,o,u,O,U,X,ce,me,k),o=1,x===!0&&(o|=24),x=hn(3,null,null,o),i.current=x,x.stateNode=i,o=fy(),o.refCount++,i.pooledCache=o,o.refCount++,x.memoizedState={element:m,isDehydrated:u,cache:o},gy(x),i}function CO(i){return i?(i=ol,i):ol}function kO(i,o,u,m,v,x){v=CO(v),m.context===null?m.context=v:m.pendingContext=v,m=$i(o),m.payload={element:u},x=x===void 0?null:x,x!==null&&(m.callback=x),u=Ui(i,m,o),u!==null&&(en(u,i,o),cu(u,i,o))}function PO(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Mv(i,o){PO(i,o),(i=i.alternate)&&PO(i,o)}function TO(i){if(i.tag===13||i.tag===31){var o=$s(i,67108864);o!==null&&en(o,i,67108864),Mv(i,67108864)}}function DO(i){if(i.tag===13||i.tag===31){var o=vn();o=Cg(o);var u=$s(i,o);u!==null&&en(u,i,o),Mv(i,o)}}var Oh=!0;function L3(i,o,u,m){var v=R.T;R.T=null;var x=H.p;try{H.p=2,Rv(i,o,u,m)}finally{H.p=x,R.T=v}}function B3(i,o,u,m){var v=R.T;R.T=null;var x=H.p;try{H.p=8,Rv(i,o,u,m)}finally{H.p=x,R.T=v}}function Rv(i,o,u,m){if(Oh){var v=Iv(m);if(v===null)wv(i,o,m,Eh,u),RO(i,m);else if(U3(v,i,o,u,m))m.stopPropagation();else if(RO(i,m),o&4&&-1<$3.indexOf(i)){for(;v!==null;){var x=Wo(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var O=Ms(x.pendingLanes);if(O!==0){var k=x;for(k.pendingLanes|=2,k.entangledLanes|=2;O;){var U=1<<31-dn(O);k.entanglements[1]|=U,O&=~U}ma(x),(it&6)===0&&(ch=ct()+500,Nu(0))}}break;case 31:case 13:k=$s(x,2),k!==null&&en(k,x,2),dh(),Mv(x,2)}if(x=Iv(m),x===null&&wv(i,o,m,Eh,u),x===v)break;v=x}v!==null&&m.stopPropagation()}else wv(i,o,m,null,u)}}function Iv(i){return i=Bg(i),Lv(i)}var Eh=null;function Lv(i){if(Eh=null,i=Yo(i),i!==null){var o=s(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=l(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Eh=i,null}function MO(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uc()){case zc:return 2;case qc:return 8;case Ds:case gf:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var Bv=!1,Xi=null,Zi=null,Ji=null,Tu=new Map,Du=new Map,es=[],$3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RO(i,o){switch(i){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Tu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(o.pointerId)}}function Mu(i,o,u,m,v,x){return i===null||i.nativeEvent!==x?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:x,targetContainers:[v]},o!==null&&(o=Wo(o),o!==null&&TO(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function U3(i,o,u,m,v){switch(o){case"focusin":return Xi=Mu(Xi,i,o,u,m,v),!0;case"dragenter":return Zi=Mu(Zi,i,o,u,m,v),!0;case"mouseover":return Ji=Mu(Ji,i,o,u,m,v),!0;case"pointerover":var x=v.pointerId;return Tu.set(x,Mu(Tu.get(x)||null,i,o,u,m,v)),!0;case"gotpointercapture":return x=v.pointerId,Du.set(x,Mu(Du.get(x)||null,i,o,u,m,v)),!0}return!1}function IO(i){var o=Yo(i.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){i.blockedOn=o,W1(i.priority,function(){DO(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,W1(i.priority,function(){DO(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ah(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Iv(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Lg=m,u.target.dispatchEvent(m),Lg=null}else return o=Wo(u),o!==null&&TO(o),i.blockedOn=u,!1;o.shift()}return!0}function LO(i,o,u){Ah(i)&&u.delete(o)}function z3(){Bv=!1,Xi!==null&&Ah(Xi)&&(Xi=null),Zi!==null&&Ah(Zi)&&(Zi=null),Ji!==null&&Ah(Ji)&&(Ji=null),Tu.forEach(LO),Du.forEach(LO)}function Ch(i,o){i.blockedOn===o&&(i.blockedOn=null,Bv||(Bv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,z3)))}var kh=null;function BO(i){kh!==i&&(kh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){kh===i&&(kh=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],v=i[o+2];if(typeof m!="function"){if(Lv(m||u)===null)continue;break}var x=Wo(u);x!==null&&(i.splice(o,3),o-=3,Iy(x,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function Pl(i){function o(U){return Ch(U,i)}Xi!==null&&Ch(Xi,i),Zi!==null&&Ch(Zi,i),Ji!==null&&Ch(Ji,i),Tu.forEach(o),Du.forEach(o);for(var u=0;u<es.length;u++){var m=es[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<es.length&&(u=es[0],u.blockedOn===null);)IO(u),u.blockedOn===null&&es.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],x=u[m+1],O=v[Gr]||null;if(typeof x=="function")O||BO(u);else if(O){var k=null;if(x&&x.hasAttribute("formAction")){if(v=x,O=x[Gr]||null)k=O.formAction;else if(Lv(v)!==null)continue}else k=O.action;typeof k=="function"?u[m+1]=k:(u.splice(m,3),m-=3),BO(u)}}}function $O(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function $v(i){this._internalRoot=i}Ph.prototype.render=$v.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,m=vn();kO(u,m,i,o,null,null)},Ph.prototype.unmount=$v.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;kO(i.current,2,null,i,null,null),dh(),o[Go]=null}};function Ph(i){this._internalRoot=i}Ph.prototype.unstable_scheduleHydration=function(i){if(i){var o=Y1();i={blockedOn:null,target:i,priority:o};for(var u=0;u<es.length&&o!==0&&o<es[u].priority;u++);es.splice(u,0,i),u===0&&IO(i)}};var UO=t.version;if(UO!=="19.2.4")throw Error(n(527,UO,"19.2.4"));H.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var q3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{Kc=Th.inject(q3),un=Th}catch{}}return Iu.createRoot=function(i,o){if(!a(i))throw Error(n(299));var u=!1,m="",v=V_,x=G_,O=Y_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=AO(i,1,!1,null,null,u,m,null,v,x,O,$O),i[Go]=o.current,xv(i),new $v(o)},Iu.hydrateRoot=function(i,o,u){if(!a(i))throw Error(n(299));var m=!1,v="",x=V_,O=G_,k=Y_,U=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.formState!==void 0&&(U=u.formState)),o=AO(i,1,!0,o,u??null,m,v,U,x,O,k,$O),o.context=CO(null),u=o.current,m=vn(),m=Cg(m),v=$i(m),v.callback=null,Ui(u,v,m),u=m,o.current.lanes=u,Qc(o,u),ma(o),i[Go]=o.current,xv(i),new Ph(o)},Iu.version="19.2.4",Iu}var XO;function tB(){if(XO)return Fv.exports;XO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fv.exports=eB(),Fv.exports}var rB=tB();const nB=Ca(rB);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZO="popstate";function aB(e={}){function t(a,s){let{pathname:l="/",search:d="",hash:f=""}=Bo(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),zb("",{pathname:l,search:d,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let l=a.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof s=="string"?s:ad(s))}function n(a,s){Qn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return sB(t,r,n,e)}function Mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iB(){return Math.random().toString(36).substring(2,10)}function JO(e,t){return{usr:e.state,key:e.key,idx:t}}function zb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Bo(t):t,state:r,key:t&&t.key||n||iB()}}function ad({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function sB(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,l=a.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let _=p(),N=_==null?null:_-h;h=_,f&&f({action:d,location:S.location,delta:N})}function y(_,N){d="PUSH";let E=zb(S.location,_,N);r&&r(E,_),h=p()+1;let A=JO(E,h),C=S.createHref(E);try{l.pushState(A,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(C)}s&&f&&f({action:d,location:S.location,delta:1})}function b(_,N){d="REPLACE";let E=zb(S.location,_,N);r&&r(E,_),h=p();let A=JO(E,h),C=S.createHref(E);l.replaceState(A,"",C),s&&f&&f({action:d,location:S.location,delta:0})}function w(_){return oB(_)}let S={get action(){return d},get location(){return e(a,l)},listen(_){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(ZO,g),f=_,()=>{a.removeEventListener(ZO,g),f=null}},createHref(_){return t(a,_)},createURL:w,encodeLocation(_){let N=w(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:b,go(_){return l.go(_)}};return S}function oB(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ad(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function lT(e,t,r="/"){return lB(e,t,r,!1)}function lB(e,t,r,n){let a=typeof t=="string"?Bo(t):t,s=di(a.pathname||"/",r);if(s==null)return null;let l=cT(e);cB(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=xB(s);d=vB(l[f],h,n)}return d}function cT(e,t=[],r=[],n="",a=!1){let s=(l,d,f=a,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&f)return;Mt(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=oi([n,p.relativePath]),y=r.concat(p);l.children&&l.children.length>0&&(Mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),cT(l.children,t,y,g,f)),!(l.path==null&&!l.index)&&t.push({path:g,score:gB(g,l.index),routesMeta:y})};return e.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,d);else for(let h of uT(l.path))s(l,d,!0,h)}),t}function uT(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let l=uT(n.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),a&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function cB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:yB(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var uB=/^:[\w-]+$/,dB=3,fB=2,hB=1,mB=10,pB=-2,eE=e=>e==="*";function gB(e,t){let r=e.split("/"),n=r.length;return r.some(eE)&&(n+=pB),t&&(n+=fB),r.filter(a=>!eE(a)).reduce((a,s)=>a+(uB.test(s)?dB:s===""?hB:mB),n)}function yB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function vB(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",l=[];for(let d=0;d<n.length;++d){let f=n[d],h=d===n.length-1,p=s==="/"?t:t.slice(s.length)||"/",g=pm({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=pm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:oi([s,g.pathname]),pathnameBase:_B(oi([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=oi([s,g.pathnameBase]))}return l}function pm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=bB(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let w=d[y]||"";l=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[y];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:e}}function bB(e,t=!1,r=!0){Qn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(n.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function xB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function di(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var wB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function jB(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Bo(e):e,s;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?s=tE(r.substring(1),"/"):s=tE(r,t)):s=t,{pathname:s,search:NB(n),hash:OB(a)}}function tE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Gv(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SB(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function gw(e){let t=SB(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function yw(e,t,r,n=!1){let a;typeof e=="string"?a=Bo(e):(a={...e},Mt(!a.pathname||!a.pathname.includes("?"),Gv("?","pathname","search",a)),Mt(!a.pathname||!a.pathname.includes("#"),Gv("#","pathname","hash",a)),Mt(!a.search||!a.search.includes("#"),Gv("#","search","hash",a)));let s=e===""||a.pathname==="",l=s?"/":a.pathname,d;if(l==null)d=r;else{let g=t.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}d=g>=0?t[g]:"/"}let f=jB(a,d),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var oi=e=>e.join("/").replace(/\/\/+/g,"/"),_B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),NB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,EB=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function AB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function CB(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var dT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fT(e,t){let r=e;if(typeof r!="string"||!wB.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(dT)try{let s=new URL(window.location.href),l=r.startsWith("//")?new URL(s.protocol+r):new URL(r),d=di(l.pathname,t);l.origin===s.origin&&d!=null?r=d+l.search+l.hash:a=!0}catch{Qn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hT=["POST","PUT","PATCH","DELETE"];new Set(hT);var kB=["GET",...hT];new Set(kB);var xc=j.createContext(null);xc.displayName="DataRouter";var gp=j.createContext(null);gp.displayName="DataRouterState";var PB=j.createContext(!1),mT=j.createContext({isTransitioning:!1});mT.displayName="ViewTransition";var TB=j.createContext(new Map);TB.displayName="Fetchers";var DB=j.createContext(null);DB.displayName="Await";var On=j.createContext(null);On.displayName="Navigation";var $d=j.createContext(null);$d.displayName="Location";var ca=j.createContext({outlet:null,matches:[],isDataRoute:!1});ca.displayName="Route";var vw=j.createContext(null);vw.displayName="RouteError";var pT="REACT_ROUTER_ERROR",MB="REDIRECT",RB="ROUTE_ERROR_RESPONSE";function IB(e){if(e.startsWith(`${pT}:${MB}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function LB(e){if(e.startsWith(`${pT}:${RB}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new EB(t.status,t.statusText,t.data)}catch{}}function BB(e,{relative:t}={}){Mt(wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext(On),{hash:a,pathname:s,search:l}=Ud(e,{relative:t}),d=s;return r!=="/"&&(d=s==="/"?r:oi([r,s])),n.createHref({pathname:d,search:l,hash:a})}function wc(){return j.useContext($d)!=null}function xi(){return Mt(wc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext($d).location}var gT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yT(e){j.useContext(On).static||j.useLayoutEffect(e)}function ht(){let{isDataRoute:e}=j.useContext(ca);return e?XB():$B()}function $B(){Mt(wc(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(xc),{basename:t,navigator:r}=j.useContext(On),{matches:n}=j.useContext(ca),{pathname:a}=xi(),s=JSON.stringify(gw(n)),l=j.useRef(!1);return yT(()=>{l.current=!0}),j.useCallback((f,h={})=>{if(Qn(l.current,gT),!l.current)return;if(typeof f=="number"){r.go(f);return}let p=yw(f,JSON.parse(s),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:oi([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,s,a,e])}j.createContext(null);function En(){let{matches:e}=j.useContext(ca),t=e[e.length-1];return t?t.params:{}}function Ud(e,{relative:t}={}){let{matches:r}=j.useContext(ca),{pathname:n}=xi(),a=JSON.stringify(gw(r));return j.useMemo(()=>yw(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function UB(e,t){return vT(e,t)}function vT(e,t,r,n,a){var E;Mt(wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(On),{matches:l}=j.useContext(ca),d=l[l.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let A=g&&g.path||"";xT(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=xi(),b;if(t){let A=typeof t=="string"?Bo(t):t;Mt(p==="/"||((E=A.pathname)==null?void 0:E.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=y;let w=b.pathname||"/",S=w;if(p!=="/"){let A=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=lT(e,{pathname:S});Qn(g||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Qn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=QB(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:oi([p,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:oi([p,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),l,r,n,a);return t&&N?j.createElement($d.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function zB(){let e=WB(),t=AB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:a},r):null,l)}var qB=j.createElement(zB,null),bT=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=LB(e.digest);r&&(e=r)}let t=e!==void 0?j.createElement(ca.Provider,{value:this.props.routeContext},j.createElement(vw.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(KB,{error:e},t):t}};bT.contextType=PB;var Yv=new WeakMap;function KB({children:e,error:t}){let{basename:r}=j.useContext(On);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=IB(t.digest);if(n){let a=Yv.get(t);if(a)throw a;let s=fT(n.location,r);if(dT&&!Yv.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw Yv.set(t,l),l}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function FB({routeContext:e,match:t,children:r}){let n=j.useContext(xc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(ca.Provider,{value:e},r)}function QB(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=r==null?void 0:r.errors;if(l!=null){let p=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let d=!1,f=-1;if(r)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:y,errors:b}=r,w=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=r&&n?(p,g)=>{var y,b;n(p,{location:r.location,params:((b=(y=r.matches)==null?void 0:y[0])==null?void 0:b.params)??{},unstable_pattern:CB(r.matches),errorInfo:g})}:void 0;return s.reduceRight((p,g,y)=>{let b,w=!1,S=null,_=null;r&&(b=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||qB,d&&(f<0&&y===0?(xT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,_=null):f===y&&(w=!0,_=g.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,y+1)),E=()=>{let A;return b?A=S:w?A=_:g.route.Component?A=j.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=p,j.createElement(FB,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:r!=null},children:A})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?j.createElement(bT,{location:r.location,revalidation:r.revalidation,component:S,error:b,children:E(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):E()},null)}function bw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HB(e){let t=j.useContext(xc);return Mt(t,bw(e)),t}function VB(e){let t=j.useContext(gp);return Mt(t,bw(e)),t}function GB(e){let t=j.useContext(ca);return Mt(t,bw(e)),t}function xw(e){let t=GB(e),r=t.matches[t.matches.length-1];return Mt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function YB(){return xw("useRouteId")}function WB(){var n;let e=j.useContext(vw),t=VB("useRouteError"),r=xw("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function XB(){let{router:e}=HB("useNavigate"),t=xw("useNavigate"),r=j.useRef(!1);return yT(()=>{r.current=!0}),j.useCallback(async(a,s={})=>{Qn(r.current,gT),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var rE={};function xT(e,t,r){!t&&!rE[e]&&(rE[e]=!0,Qn(!1,r))}j.memo(ZB);function ZB({routes:e,future:t,state:r,onError:n}){return vT(e,void 0,r,n,t)}function $e({to:e,replace:t,state:r,relative:n}){Mt(wc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(On);Qn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=j.useContext(ca),{pathname:l}=xi(),d=ht(),f=yw(e,gw(s),l,n==="path"),h=JSON.stringify(f);return j.useEffect(()=>{d(JSON.parse(h),{replace:t,state:r,relative:n})},[d,h,n,t,r]),null}function Qe(e){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JB({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:l}){Mt(!wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:d,navigator:a,static:s,unstable_useTransitions:l,future:{}}),[d,a,s,l]);typeof r=="string"&&(r=Bo(r));let{pathname:h="/",search:p="",hash:g="",state:y=null,key:b="default"}=r,w=j.useMemo(()=>{let S=di(h,d);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:b},navigationType:n}},[d,h,p,g,y,b,n]);return Qn(w!=null,`<Router basename="${d}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:j.createElement(On.Provider,{value:f},j.createElement($d.Provider,{children:t,value:w}))}function e$({children:e,location:t}){return UB(qb(e),t)}function qb(e,t=[]){let r=[];return j.Children.forEach(e,(n,a)=>{if(!j.isValidElement(n))return;let s=[...t,a];if(n.type===j.Fragment){r.push.apply(r,qb(n.props.children,s));return}Mt(n.type===Qe,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=qb(n.props.children,s)),r.push(l)}),r}var sm="get",om="application/x-www-form-urlencoded";function yp(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function t$(e){return yp(e)&&e.tagName.toLowerCase()==="button"}function r$(e){return yp(e)&&e.tagName.toLowerCase()==="form"}function n$(e){return yp(e)&&e.tagName.toLowerCase()==="input"}function a$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function i$(e,t){return e.button===0&&(!t||t==="_self")&&!a$(e)}var Mh=null;function s$(){if(Mh===null)try{new FormData(document.createElement("form"),0),Mh=!1}catch{Mh=!0}return Mh}var o$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wv(e){return e!=null&&!o$.has(e)?(Qn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${om}"`),null):e}function l$(e,t){let r,n,a,s,l;if(r$(e)){let d=e.getAttribute("action");n=d?di(d,t):null,r=e.getAttribute("method")||sm,a=Wv(e.getAttribute("enctype"))||om,s=new FormData(e)}else if(t$(e)||n$(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(n=f?di(f,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||sm,a=Wv(e.getAttribute("formenctype"))||Wv(d.getAttribute("enctype"))||om,s=new FormData(d,e),!s$()){let{name:h,type:p,value:g}=e;if(p==="image"){let y=h?`${h}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else h&&s.append(h,g)}}else{if(yp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=sm,n=null,a=om,l=e}return s&&a==="text/plain"&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ww(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function c$(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&di(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function u$(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d$(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function f$(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let l=await u$(s,r);return l.links?l.links():[]}return[]}));return g$(n.flat(1).filter(d$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function nE(e,t,r,n,a,s){let l=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,d=(f,h)=>{var p;return r[h].pathname!==f.pathname||((p=r[h].route.path)==null?void 0:p.endsWith("*"))&&r[h].params["*"]!==f.params["*"]};return s==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):s==="data"?t.filter((f,h)=>{var g;let p=n.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function h$(e,t,{includeHydrateFallback:r}={}){return m$(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function m$(e){return[...new Set(e)]}function p$(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function g$(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(p$(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function wT(){let e=j.useContext(xc);return ww(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function y$(){let e=j.useContext(gp);return ww(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var jw=j.createContext(void 0);jw.displayName="FrameworkContext";function jT(){let e=j.useContext(jw);return ww(e,"You must render this element inside a <HydratedRouter> element"),e}function v$(e,t){let r=j.useContext(jw),[n,a]=j.useState(!1),[s,l]=j.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,y=j.useRef(null);j.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=N=>{N.forEach(E=>{l(E.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[e]),j.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let b=()=>{a(!0)},w=()=>{a(!1),l(!1)};return r?e!=="intent"?[s,y,{}]:[s,y,{onFocus:Lu(d,b),onBlur:Lu(f,w),onMouseEnter:Lu(h,b),onMouseLeave:Lu(p,w),onTouchStart:Lu(g,b)}]:[!1,y,{}]}function Lu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function b$({page:e,...t}){let{router:r}=wT(),n=j.useMemo(()=>lT(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?j.createElement(w$,{page:e,matches:n,...t}):null}function x$(e){let{manifest:t,routeModules:r}=jT(),[n,a]=j.useState([]);return j.useEffect(()=>{let s=!1;return f$(e,t,r).then(l=>{s||a(l)}),()=>{s=!0}},[e,t,r]),n}function w$({page:e,matches:t,...r}){let n=xi(),{future:a,manifest:s,routeModules:l}=jT(),{basename:d}=wT(),{loaderData:f,matches:h}=y$(),p=j.useMemo(()=>nE(e,t,h,s,n,"data"),[e,t,h,s,n]),g=j.useMemo(()=>nE(e,t,h,s,n,"assets"),[e,t,h,s,n]),y=j.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,_=!1;if(t.forEach(E=>{var C;let A=s.routes[E.route.id];!A||!A.hasLoader||(!p.some(T=>T.route.id===E.route.id)&&E.route.id in f&&((C=l[E.route.id])!=null&&C.shouldRevalidate)||A.hasClientLoader?_=!0:S.add(E.route.id))}),S.size===0)return[];let N=c$(e,d,a.unstable_trailingSlashAwareDataRequests,"data");return _&&S.size>0&&N.searchParams.set("_routes",t.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[N.pathname+N.search]},[d,a.unstable_trailingSlashAwareDataRequests,f,n,s,p,t,e,l]),b=j.useMemo(()=>h$(g,s),[g,s]),w=x$(g);return j.createElement(j.Fragment,null,y.map(S=>j.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),b.map(S=>j.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),w.map(({key:S,link:_})=>j.createElement("link",{key:S,nonce:r.nonce,..._,crossOrigin:_.crossOrigin??r.crossOrigin})))}function j$(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var S$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S$&&(window.__reactRouterVersion="7.13.0")}catch{}function _$({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=j.useRef();a.current==null&&(a.current=aB({window:n,v5Compat:!0}));let s=a.current,[l,d]=j.useState({action:s.action,location:s.location}),f=j.useCallback(h=>{r===!1?d(h):j.startTransition(()=>d(h))},[r]);return j.useLayoutEffect(()=>s.listen(f),[s,f]),j.createElement(JB,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:r})}var ST=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,id=j.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...b},w){let{basename:S,unstable_useTransitions:_}=j.useContext(On),N=typeof h=="string"&&ST.test(h),E=fT(h,S);h=E.to;let A=BB(h,{relative:a}),[C,T,P]=v$(n,b),D=A$(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:_});function B(re){t&&t(re),re.defaultPrevented||D(re)}let K=j.createElement("a",{...b,...P,href:E.absoluteURL||A,onClick:E.isExternal||s?t:B,ref:j$(w,T),target:f,"data-discover":!N&&r==="render"?"true":void 0});return C&&!N?j.createElement(j.Fragment,null,K,j.createElement(b$,{page:A})):K});id.displayName="Link";var N$=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:l,viewTransition:d,children:f,...h},p){let g=Ud(l,{relative:h.relative}),y=xi(),b=j.useContext(gp),{navigator:w,basename:S}=j.useContext(On),_=b!=null&&D$(g)&&d===!0,N=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,E=y.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(E=E.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&S&&(A=di(A,S)||A);const C=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=E===N||!a&&E.startsWith(N)&&E.charAt(C)==="/",P=A!=null&&(A===N||!a&&A.startsWith(N)&&A.charAt(N.length)==="/"),D={isActive:T,isPending:P,isTransitioning:_},B=T?t:void 0,K;typeof n=="function"?K=n(D):K=[n,T?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let re=typeof s=="function"?s(D):s;return j.createElement(id,{...h,"aria-current":B,className:K,ref:p,style:re,to:l,viewTransition:d},typeof f=="function"?f(D):f)});N$.displayName="NavLink";var O$=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:l=sm,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...b},w)=>{let{unstable_useTransitions:S}=j.useContext(On),_=P$(),N=T$(d,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",A=typeof d=="string"&&ST.test(d),C=T=>{if(f&&f(T),T.defaultPrevented)return;T.preventDefault();let P=T.nativeEvent.submitter,D=(P==null?void 0:P.getAttribute("formmethod"))||l,B=()=>_(P||T.currentTarget,{fetcherKey:t,method:D,navigate:r,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y});S&&r!==!1?j.startTransition(()=>B()):B()};return j.createElement("form",{ref:w,method:E,action:N,onSubmit:n?f:C,...b,"data-discover":!A&&e==="render"?"true":void 0})});O$.displayName="Form";function E$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _T(e){let t=j.useContext(xc);return Mt(t,E$(e)),t}function A$(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let h=ht(),p=xi(),g=Ud(e,{relative:s});return j.useCallback(y=>{if(i$(y,t)){y.preventDefault();let b=r!==void 0?r:ad(p)===ad(g),w=()=>h(e,{replace:b,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d});f?j.startTransition(()=>w()):w()}},[p,h,g,r,n,t,e,a,s,l,d,f])}var C$=0,k$=()=>`__${String(++C$)}__`;function P$(){let{router:e}=_T("useSubmit"),{basename:t}=j.useContext(On),r=YB(),n=e.fetch,a=e.navigate;return j.useCallback(async(s,l={})=>{let{action:d,method:f,encType:h,formData:p,body:g}=l$(s,t);if(l.navigate===!1){let y=l.fetcherKey||k$();await n(y,r,l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await a(l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,a,t,r])}function T$(e,{relative:t}={}){let{basename:r}=j.useContext(On),n=j.useContext(ca);Mt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Ud(e||".",{relative:t})},l=xi();if(e==null){s.search=l.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:oi([r,s.pathname])),ad(s)}function D$(e,{relative:t}={}){let r=j.useContext(mT);Mt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=_T("useViewTransitionState"),a=Ud(e,{relative:t});if(!r.isTransitioning)return!1;let s=di(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=di(r.nextLocation.pathname,n)||r.nextLocation.pathname;return pm(a.pathname,l)!=null||pm(a.pathname,s)!=null}var Sw=oT(),jc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},M$={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},cs,pw,WP,R$=(WP=class{constructor(){ke(this,cs,M$);ke(this,pw,!1)}setTimeoutProvider(e){be(this,cs,e)}setTimeout(e,t){return z(this,cs).setTimeout(e,t)}clearTimeout(e){z(this,cs).clearTimeout(e)}setInterval(e,t){return z(this,cs).setInterval(e,t)}clearInterval(e){z(this,cs).clearInterval(e)}},cs=new WeakMap,pw=new WeakMap,WP),oo=new R$;function I$(e){setTimeout(e,0)}var Eo=typeof window>"u"||"Deno"in globalThis;function qr(){}function L$(e,t){return typeof e=="function"?e(t):e}function Kb(e){return typeof e=="number"&&e>=0&&e!==1/0}function NT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function bs(e,t){return typeof e=="function"?e(t):e}function Kn(e,t){return typeof e=="function"?e(t):e}function aE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:l,stale:d}=e;if(l){if(n){if(t.queryHash!==_w(l,t.options))return!1}else if(!sd(t.queryKey,l))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||a&&a!==t.state.fetchStatus||s&&!s(t))}function iE(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Ao(t.options.mutationKey)!==Ao(s))return!1}else if(!sd(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function _w(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ao)(e)}function Ao(e){return JSON.stringify(e,(t,r)=>Fb(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function sd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>sd(e[r],t[r])):!1}var B$=Object.prototype.hasOwnProperty;function OT(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=sE(e)&&sE(t);if(!n&&!(Fb(e)&&Fb(t)))return t;const s=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),d=l.length,f=n?new Array(d):{};let h=0;for(let p=0;p<d;p++){const g=n?p:l[p],y=e[g],b=t[g];if(y===b){f[g]=y,(n?p<s:B$.call(e,g))&&h++;continue}if(y===null||b===null||typeof y!="object"||typeof b!="object"){f[g]=b;continue}const w=OT(y,b,r+1);f[g]=w,w===y&&h++}return s===d&&h===s?e:f}function gm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function sE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Fb(e){if(!oE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!oE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function oE(e){return Object.prototype.toString.call(e)==="[object Object]"}function $$(e){return new Promise(t=>{oo.setTimeout(t,e)})}function Qb(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?OT(e,t):t}function U$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function z$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Nw=Symbol();function ET(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Nw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ow(e,t){return typeof e=="function"?e(...t):!!e}function q$(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var mo,us,ec,XP,K$=(XP=class extends jc{constructor(){super();ke(this,mo);ke(this,us);ke(this,ec);be(this,ec,t=>{if(!Eo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,us)||this.setEventListener(z(this,ec))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,us))==null||t.call(this),be(this,us,void 0))}setEventListener(t){var r;be(this,ec,t),(r=z(this,us))==null||r.call(this),be(this,us,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){z(this,mo)!==t&&(be(this,mo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof z(this,mo)=="boolean"?z(this,mo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},mo=new WeakMap,us=new WeakMap,ec=new WeakMap,XP),Ew=new K$;function Hb(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var F$=I$;function Q$(){let e=[],t=0,r=d=>{d()},n=d=>{d()},a=F$;const s=d=>{t?e.push(d):a(()=>{r(d)})},l=()=>{const d=e;e=[],d.length&&a(()=>{n(()=>{d.forEach(f=>{r(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||l()}return f},batchCalls:d=>(...f)=>{s(()=>{d(...f)})},schedule:s,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{a=d}}}var lr=Q$(),tc,ds,rc,ZP,H$=(ZP=class extends jc{constructor(){super();ke(this,tc,!0);ke(this,ds);ke(this,rc);be(this,rc,t=>{if(!Eo&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){z(this,ds)||this.setEventListener(z(this,rc))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,ds))==null||t.call(this),be(this,ds,void 0))}setEventListener(t){var r;be(this,rc,t),(r=z(this,ds))==null||r.call(this),be(this,ds,t(this.setOnline.bind(this)))}setOnline(t){z(this,tc)!==t&&(be(this,tc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return z(this,tc)}},tc=new WeakMap,ds=new WeakMap,rc=new WeakMap,ZP),ym=new H$;function V$(e){return Math.min(1e3*2**e,3e4)}function AT(e){return(e??"online")==="online"?ym.isOnline():!0}var Vb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function CT(e){let t=!1,r=0,n;const a=Hb(),s=()=>a.status!=="pending",l=S=>{var _;if(!s()){const N=new Vb(S);y(N),(_=e.onCancel)==null||_.call(e,N)}},d=()=>{t=!0},f=()=>{t=!1},h=()=>Ew.isFocused()&&(e.networkMode==="always"||ym.isOnline())&&e.canRun(),p=()=>AT(e.networkMode)&&e.canRun(),g=S=>{s()||(n==null||n(),a.resolve(S))},y=S=>{s()||(n==null||n(),a.reject(S))},b=()=>new Promise(S=>{var _;n=N=>{(s()||h())&&S(N)},(_=e.onPause)==null||_.call(e)}).then(()=>{var S;n=void 0,s()||(S=e.onContinue)==null||S.call(e)}),w=()=>{if(s())return;let S;const _=r===0?e.initialPromise:void 0;try{S=_??e.fn()}catch(N){S=Promise.reject(N)}Promise.resolve(S).then(g).catch(N=>{var P;if(s())return;const E=e.retry??(Eo?0:3),A=e.retryDelay??V$,C=typeof A=="function"?A(r,N):A,T=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,N);if(t||!T){y(N);return}r++,(P=e.onFail)==null||P.call(e,r,N),$$(C).then(()=>h()?void 0:b()).then(()=>{t?y(N):w()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n==null||n(),a),cancelRetry:d,continueRetry:f,canStart:p,start:()=>(p()?w():b().then(w),a)}}var po,JP,kT=(JP=class{constructor(){ke(this,po)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kb(this.gcTime)&&be(this,po,oo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Eo?1/0:300*1e3))}clearGcTimeout(){z(this,po)&&(oo.clearTimeout(z(this,po)),be(this,po,void 0))}},po=new WeakMap,JP),go,nc,qn,yo,yr,Md,vo,ta,Xa,eT,G$=(eT=class extends kT{constructor(t){super();ke(this,ta);ke(this,go);ke(this,nc);ke(this,qn);ke(this,yo);ke(this,yr);ke(this,Md);ke(this,vo);be(this,vo,!1),be(this,Md,t.defaultOptions),this.setOptions(t.options),this.observers=[],be(this,yo,t.client),be(this,qn,z(this,yo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,be(this,go,cE(this.options)),this.state=t.state??z(this,go),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,yr))==null?void 0:t.promise}setOptions(t){if(this.options={...z(this,Md),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=cE(this.options);r.data!==void 0&&(this.setState(lE(r.data,r.dataUpdatedAt)),be(this,go,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,qn).remove(this)}setData(t,r){const n=Qb(this.state.data,t,this.options);return Fe(this,ta,Xa).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Fe(this,ta,Xa).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=z(this,yr))==null?void 0:n.promise;return(a=z(this,yr))==null||a.cancel(t),r?r.then(qr).catch(qr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,go))}isActive(){return this.observers.some(t=>Kn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>bs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!NT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,yr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,yr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,qn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(z(this,yr)&&(z(this,vo)?z(this,yr).cancel({revert:!0}):z(this,yr).cancelRetry()),this.scheduleGc()),z(this,qn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fe(this,ta,Xa).call(this,{type:"invalidate"})}async fetch(t,r){var f,h,p,g,y,b,w,S,_,N,E,A;if(this.state.fetchStatus!=="idle"&&((f=z(this,yr))==null?void 0:f.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,yr))return z(this,yr).continueRetry(),z(this,yr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(T=>T.options.queryFn);C&&this.setOptions(C.options)}const n=new AbortController,a=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(be(this,vo,!0),n.signal)})},s=()=>{const C=ET(this.options,r),P=(()=>{const D={client:z(this,yo),queryKey:this.queryKey,meta:this.meta};return a(D),D})();return be(this,vo,!1),this.options.persister?this.options.persister(C,P,this):C(P)},d=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,yo),state:this.state,fetchFn:s};return a(C),C})();(h=this.options.behavior)==null||h.onFetch(d,this),be(this,nc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=d.fetchOptions)==null?void 0:p.meta))&&Fe(this,ta,Xa).call(this,{type:"fetch",meta:(g=d.fetchOptions)==null?void 0:g.meta}),be(this,yr,CT({initialPromise:r==null?void 0:r.initialPromise,fn:d.fetchFn,onCancel:C=>{C instanceof Vb&&C.revert&&this.setState({...z(this,nc),fetchStatus:"idle"}),n.abort()},onFail:(C,T)=>{Fe(this,ta,Xa).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{Fe(this,ta,Xa).call(this,{type:"pause"})},onContinue:()=>{Fe(this,ta,Xa).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const C=await z(this,yr).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(b=(y=z(this,qn).config).onSuccess)==null||b.call(y,C,this),(S=(w=z(this,qn).config).onSettled)==null||S.call(w,C,this.state.error,this),C}catch(C){if(C instanceof Vb){if(C.silent)return z(this,yr).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw Fe(this,ta,Xa).call(this,{type:"error",error:C}),(N=(_=z(this,qn).config).onError)==null||N.call(_,C,this),(A=(E=z(this,qn).config).onSettled)==null||A.call(E,this.state.data,C,this),C}finally{this.scheduleGc()}}},go=new WeakMap,nc=new WeakMap,qn=new WeakMap,yo=new WeakMap,yr=new WeakMap,Md=new WeakMap,vo=new WeakMap,ta=new WeakSet,Xa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...PT(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...lE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return be(this,nc,t.manual?a:void 0),a;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),lr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),z(this,qn).notify({query:this,type:"updated",action:t})})},eT);function PT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:AT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function cE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var tn,Xe,Rd,zr,bo,ac,ei,fs,Id,ic,sc,xo,wo,hs,oc,ot,Wu,Gb,Yb,Wb,Xb,Zb,Jb,ex,TT,tT,Y$=(tT=class extends jc{constructor(t,r){super();ke(this,ot);ke(this,tn);ke(this,Xe);ke(this,Rd);ke(this,zr);ke(this,bo);ke(this,ac);ke(this,ei);ke(this,fs);ke(this,Id);ke(this,ic);ke(this,sc);ke(this,xo);ke(this,wo);ke(this,hs);ke(this,oc,new Set);this.options=r,be(this,tn,t),be(this,fs,null),be(this,ei,Hb()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,Xe).addObserver(this),uE(z(this,Xe),this.options)?Fe(this,ot,Wu).call(this):this.updateResult(),Fe(this,ot,Xb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tx(z(this,Xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tx(z(this,Xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Fe(this,ot,Zb).call(this),Fe(this,ot,Jb).call(this),z(this,Xe).removeObserver(this)}setOptions(t){const r=this.options,n=z(this,Xe);if(this.options=z(this,tn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Kn(this.options.enabled,z(this,Xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Fe(this,ot,ex).call(this),z(this,Xe).setOptions(this.options),r._defaulted&&!gm(this.options,r)&&z(this,tn).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,Xe),observer:this});const a=this.hasListeners();a&&dE(z(this,Xe),n,this.options,r)&&Fe(this,ot,Wu).call(this),this.updateResult(),a&&(z(this,Xe)!==n||Kn(this.options.enabled,z(this,Xe))!==Kn(r.enabled,z(this,Xe))||bs(this.options.staleTime,z(this,Xe))!==bs(r.staleTime,z(this,Xe)))&&Fe(this,ot,Gb).call(this);const s=Fe(this,ot,Yb).call(this);a&&(z(this,Xe)!==n||Kn(this.options.enabled,z(this,Xe))!==Kn(r.enabled,z(this,Xe))||s!==z(this,hs))&&Fe(this,ot,Wb).call(this,s)}getOptimisticResult(t){const r=z(this,tn).getQueryCache().build(z(this,tn),t),n=this.createResult(r,t);return X$(this,n)&&(be(this,zr,n),be(this,ac,this.options),be(this,bo,z(this,Xe).state)),n}getCurrentResult(){return z(this,zr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&z(this,ei).status==="pending"&&z(this,ei).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){z(this,oc).add(t)}getCurrentQuery(){return z(this,Xe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=z(this,tn).defaultQueryOptions(t),n=z(this,tn).getQueryCache().build(z(this,tn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Fe(this,ot,Wu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,zr)))}createResult(t,r){var K;const n=z(this,Xe),a=this.options,s=z(this,zr),l=z(this,bo),d=z(this,ac),h=t!==n?t.state:z(this,Rd),{state:p}=t;let g={...p},y=!1,b;if(r._optimisticResults){const re=this.hasListeners(),I=!re&&uE(t,r),L=re&&dE(t,n,r,a);(I||L)&&(g={...g,...PT(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:w,errorUpdatedAt:S,status:_}=g;b=g.data;let N=!1;if(r.placeholderData!==void 0&&b===void 0&&_==="pending"){let re;s!=null&&s.isPlaceholderData&&r.placeholderData===(d==null?void 0:d.placeholderData)?(re=s.data,N=!0):re=typeof r.placeholderData=="function"?r.placeholderData((K=z(this,sc))==null?void 0:K.state.data,z(this,sc)):r.placeholderData,re!==void 0&&(_="success",b=Qb(s==null?void 0:s.data,re,r),y=!0)}if(r.select&&b!==void 0&&!N)if(s&&b===(l==null?void 0:l.data)&&r.select===z(this,Id))b=z(this,ic);else try{be(this,Id,r.select),b=r.select(b),b=Qb(s==null?void 0:s.data,b,r),be(this,ic,b),be(this,fs,null)}catch(re){be(this,fs,re)}z(this,fs)&&(w=z(this,fs),b=z(this,ic),S=Date.now(),_="error");const E=g.fetchStatus==="fetching",A=_==="pending",C=_==="error",T=A&&E,P=b!==void 0,B={status:_,fetchStatus:g.fetchStatus,isPending:A,isSuccess:_==="success",isError:C,isInitialLoading:T,isLoading:T,data:b,dataUpdatedAt:g.dataUpdatedAt,error:w,errorUpdatedAt:S,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:E,isRefetching:E&&!A,isLoadingError:C&&!P,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:C&&P,isStale:Aw(t,r),refetch:this.refetch,promise:z(this,ei),isEnabled:Kn(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const re=B.data!==void 0,I=B.status==="error"&&!re,L=G=>{I?G.reject(B.error):re&&G.resolve(B.data)},V=()=>{const G=be(this,ei,B.promise=Hb());L(G)},J=z(this,ei);switch(J.status){case"pending":t.queryHash===n.queryHash&&L(J);break;case"fulfilled":(I||B.data!==J.value)&&V();break;case"rejected":(!I||B.error!==J.reason)&&V();break}}return B}updateResult(){const t=z(this,zr),r=this.createResult(z(this,Xe),this.options);if(be(this,bo,z(this,Xe).state),be(this,ac,this.options),z(this,bo).data!==void 0&&be(this,sc,z(this,Xe)),gm(r,t))return;be(this,zr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!z(this,oc).size)return!0;const l=new Set(s??z(this,oc));return this.options.throwOnError&&l.add("error"),Object.keys(z(this,zr)).some(d=>{const f=d;return z(this,zr)[f]!==t[f]&&l.has(f)})};Fe(this,ot,TT).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Fe(this,ot,Xb).call(this)}},tn=new WeakMap,Xe=new WeakMap,Rd=new WeakMap,zr=new WeakMap,bo=new WeakMap,ac=new WeakMap,ei=new WeakMap,fs=new WeakMap,Id=new WeakMap,ic=new WeakMap,sc=new WeakMap,xo=new WeakMap,wo=new WeakMap,hs=new WeakMap,oc=new WeakMap,ot=new WeakSet,Wu=function(t){Fe(this,ot,ex).call(this);let r=z(this,Xe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(qr)),r},Gb=function(){Fe(this,ot,Zb).call(this);const t=bs(this.options.staleTime,z(this,Xe));if(Eo||z(this,zr).isStale||!Kb(t))return;const n=NT(z(this,zr).dataUpdatedAt,t)+1;be(this,xo,oo.setTimeout(()=>{z(this,zr).isStale||this.updateResult()},n))},Yb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,Xe)):this.options.refetchInterval)??!1},Wb=function(t){Fe(this,ot,Jb).call(this),be(this,hs,t),!(Eo||Kn(this.options.enabled,z(this,Xe))===!1||!Kb(z(this,hs))||z(this,hs)===0)&&be(this,wo,oo.setInterval(()=>{(this.options.refetchIntervalInBackground||Ew.isFocused())&&Fe(this,ot,Wu).call(this)},z(this,hs)))},Xb=function(){Fe(this,ot,Gb).call(this),Fe(this,ot,Wb).call(this,Fe(this,ot,Yb).call(this))},Zb=function(){z(this,xo)&&(oo.clearTimeout(z(this,xo)),be(this,xo,void 0))},Jb=function(){z(this,wo)&&(oo.clearInterval(z(this,wo)),be(this,wo,void 0))},ex=function(){const t=z(this,tn).getQueryCache().build(z(this,tn),this.options);if(t===z(this,Xe))return;const r=z(this,Xe);be(this,Xe,t),be(this,Rd,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},TT=function(t){lr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(z(this,zr))}),z(this,tn).getQueryCache().notify({query:z(this,Xe),type:"observerResultsUpdated"})})},tT);function W$(e,t){return Kn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function uE(e,t){return W$(e,t)||e.state.data!==void 0&&tx(e,t,t.refetchOnMount)}function tx(e,t,r){if(Kn(t.enabled,e)!==!1&&bs(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Aw(e,t)}return!1}function dE(e,t,r,n){return(e!==t||Kn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Aw(e,r)}function Aw(e,t){return Kn(t.enabled,e)!==!1&&e.isStaleByTime(bs(t.staleTime,e))}function X$(e,t){return!gm(e.getCurrentResult(),t)}function fE(e){return{onFetch:(t,r)=>{var p,g,y,b,w;const n=t.options,a=(y=(g=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,s=((b=t.state.data)==null?void 0:b.pages)||[],l=((w=t.state.data)==null?void 0:w.pageParams)||[];let d={pages:[],pageParams:[]},f=0;const h=async()=>{let S=!1;const _=A=>{q$(A,()=>t.signal,()=>S=!0)},N=ET(t.options,t.fetchOptions),E=async(A,C,T)=>{if(S)return Promise.reject();if(C==null&&A.pages.length)return Promise.resolve(A);const D=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:C,direction:T?"backward":"forward",meta:t.options.meta};return _(I),I})(),B=await N(D),{maxPages:K}=t.options,re=T?z$:U$;return{pages:re(A.pages,B,K),pageParams:re(A.pageParams,C,K)}};if(a&&s.length){const A=a==="backward",C=A?Z$:hE,T={pages:s,pageParams:l},P=C(n,T);d=await E(T,P,A)}else{const A=e??s.length;do{const C=f===0?l[0]??n.initialPageParam:hE(n,d);if(f>0&&C==null)break;d=await E(d,C),f++}while(f<A)}return d};t.options.persister?t.fetchFn=()=>{var S,_;return(_=(S=t.options).persister)==null?void 0:_.call(S,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function hE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Z$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ld,va,Rr,jo,ba,ns,rT,J$=(rT=class extends kT{constructor(t){super();ke(this,ba);ke(this,Ld);ke(this,va);ke(this,Rr);ke(this,jo);be(this,Ld,t.client),this.mutationId=t.mutationId,be(this,Rr,t.mutationCache),be(this,va,[]),this.state=t.state||DT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,va).includes(t)||(z(this,va).push(t),this.clearGcTimeout(),z(this,Rr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){be(this,va,z(this,va).filter(r=>r!==t)),this.scheduleGc(),z(this,Rr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,va).length||(this.state.status==="pending"?this.scheduleGc():z(this,Rr).remove(this))}continue(){var t;return((t=z(this,jo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,d,f,h,p,g,y,b,w,S,_,N,E,A,C,T,P,D;const r=()=>{Fe(this,ba,ns).call(this,{type:"continue"})},n={client:z(this,Ld),meta:this.options.meta,mutationKey:this.options.mutationKey};be(this,jo,CT({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(B,K)=>{Fe(this,ba,ns).call(this,{type:"failed",failureCount:B,error:K})},onPause:()=>{Fe(this,ba,ns).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Rr).canRun(this)}));const a=this.state.status==="pending",s=!z(this,jo).canStart();try{if(a)r();else{Fe(this,ba,ns).call(this,{type:"pending",variables:t,isPaused:s}),z(this,Rr).config.onMutate&&await z(this,Rr).config.onMutate(t,this,n);const K=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,t,n));K!==this.state.context&&Fe(this,ba,ns).call(this,{type:"pending",context:K,variables:t,isPaused:s})}const B=await z(this,jo).start();return await((h=(f=z(this,Rr).config).onSuccess)==null?void 0:h.call(f,B,t,this.state.context,this,n)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,B,t,this.state.context,n)),await((b=(y=z(this,Rr).config).onSettled)==null?void 0:b.call(y,B,null,this.state.variables,this.state.context,this,n)),await((S=(w=this.options).onSettled)==null?void 0:S.call(w,B,null,t,this.state.context,n)),Fe(this,ba,ns).call(this,{type:"success",data:B}),B}catch(B){try{await((N=(_=z(this,Rr).config).onError)==null?void 0:N.call(_,B,t,this.state.context,this,n))}catch(K){Promise.reject(K)}try{await((A=(E=this.options).onError)==null?void 0:A.call(E,B,t,this.state.context,n))}catch(K){Promise.reject(K)}try{await((T=(C=z(this,Rr).config).onSettled)==null?void 0:T.call(C,void 0,B,this.state.variables,this.state.context,this,n))}catch(K){Promise.reject(K)}try{await((D=(P=this.options).onSettled)==null?void 0:D.call(P,void 0,B,t,this.state.context,n))}catch(K){Promise.reject(K)}throw Fe(this,ba,ns).call(this,{type:"error",error:B}),B}finally{z(this,Rr).runNext(this)}}},Ld=new WeakMap,va=new WeakMap,Rr=new WeakMap,jo=new WeakMap,ba=new WeakSet,ns=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),lr.batch(()=>{z(this,va).forEach(n=>{n.onMutationUpdate(t)}),z(this,Rr).notify({mutation:this,type:"updated",action:t})})},rT);function DT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ti,ra,Bd,nT,e6=(nT=class extends jc{constructor(t={}){super();ke(this,ti);ke(this,ra);ke(this,Bd);this.config=t,be(this,ti,new Set),be(this,ra,new Map),be(this,Bd,0)}build(t,r,n){const a=new J$({client:t,mutationCache:this,mutationId:++Dh(this,Bd)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){z(this,ti).add(t);const r=Rh(t);if(typeof r=="string"){const n=z(this,ra).get(r);n?n.push(t):z(this,ra).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,ti).delete(t)){const r=Rh(t);if(typeof r=="string"){const n=z(this,ra).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&z(this,ra).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Rh(t);if(typeof r=="string"){const n=z(this,ra).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Rh(t);if(typeof r=="string"){const a=(n=z(this,ra).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){lr.batch(()=>{z(this,ti).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,ti).clear(),z(this,ra).clear()})}getAll(){return Array.from(z(this,ti))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>iE(r,n))}findAll(t={}){return this.getAll().filter(r=>iE(t,r))}notify(t){lr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return lr.batch(()=>Promise.all(t.map(r=>r.continue().catch(qr))))}},ti=new WeakMap,ra=new WeakMap,Bd=new WeakMap,nT);function Rh(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ri,ms,rn,ni,ui,lm,rx,aT,t6=(aT=class extends jc{constructor(r,n){super();ke(this,ui);ke(this,ri);ke(this,ms);ke(this,rn);ke(this,ni);be(this,ri,r),this.setOptions(n),this.bindMethods(),Fe(this,ui,lm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=z(this,ri).defaultMutationOptions(r),gm(this.options,n)||z(this,ri).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,rn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ao(n.mutationKey)!==Ao(this.options.mutationKey)?this.reset():((a=z(this,rn))==null?void 0:a.state.status)==="pending"&&z(this,rn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=z(this,rn))==null||r.removeObserver(this)}onMutationUpdate(r){Fe(this,ui,lm).call(this),Fe(this,ui,rx).call(this,r)}getCurrentResult(){return z(this,ms)}reset(){var r;(r=z(this,rn))==null||r.removeObserver(this),be(this,rn,void 0),Fe(this,ui,lm).call(this),Fe(this,ui,rx).call(this)}mutate(r,n){var a;return be(this,ni,n),(a=z(this,rn))==null||a.removeObserver(this),be(this,rn,z(this,ri).getMutationCache().build(z(this,ri),this.options)),z(this,rn).addObserver(this),z(this,rn).execute(r)}},ri=new WeakMap,ms=new WeakMap,rn=new WeakMap,ni=new WeakMap,ui=new WeakSet,lm=function(){var n;const r=((n=z(this,rn))==null?void 0:n.state)??DT();be(this,ms,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},rx=function(r){lr.batch(()=>{var n,a,s,l,d,f,h,p;if(z(this,ni)&&this.hasListeners()){const g=z(this,ms).variables,y=z(this,ms).context,b={client:z(this,ri),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(a=(n=z(this,ni)).onSuccess)==null||a.call(n,r.data,g,y,b)}catch(w){Promise.reject(w)}try{(l=(s=z(this,ni)).onSettled)==null||l.call(s,r.data,null,g,y,b)}catch(w){Promise.reject(w)}}else if((r==null?void 0:r.type)==="error"){try{(f=(d=z(this,ni)).onError)==null||f.call(d,r.error,g,y,b)}catch(w){Promise.reject(w)}try{(p=(h=z(this,ni)).onSettled)==null||p.call(h,void 0,r.error,g,y,b)}catch(w){Promise.reject(w)}}}this.listeners.forEach(g=>{g(z(this,ms))})})},aT),xa,iT,r6=(iT=class extends jc{constructor(t={}){super();ke(this,xa);this.config=t,be(this,xa,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??_w(a,r);let l=this.get(s);return l||(l=new G$({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){z(this,xa).has(t.queryHash)||(z(this,xa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=z(this,xa).get(t.queryHash);r&&(t.destroy(),r===t&&z(this,xa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){lr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,xa).get(t)}getAll(){return[...z(this,xa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>aE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>aE(t,n)):r}notify(t){lr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){lr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){lr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},xa=new WeakMap,iT),Ut,ps,gs,lc,cc,ys,uc,dc,sT,n6=(sT=class{constructor(e={}){ke(this,Ut);ke(this,ps);ke(this,gs);ke(this,lc);ke(this,cc);ke(this,ys);ke(this,uc);ke(this,dc);be(this,Ut,e.queryCache||new r6),be(this,ps,e.mutationCache||new e6),be(this,gs,e.defaultOptions||{}),be(this,lc,new Map),be(this,cc,new Map),be(this,ys,0)}mount(){Dh(this,ys)._++,z(this,ys)===1&&(be(this,uc,Ew.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,Ut).onFocus())})),be(this,dc,ym.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,Ut).onOnline())})))}unmount(){var e,t;Dh(this,ys)._--,z(this,ys)===0&&((e=z(this,uc))==null||e.call(this),be(this,uc,void 0),(t=z(this,dc))==null||t.call(this),be(this,dc,void 0))}isFetching(e){return z(this,Ut).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,ps).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,Ut).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=z(this,Ut).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(bs(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return z(this,Ut).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=z(this,Ut).get(n.queryHash),s=a==null?void 0:a.state.data,l=L$(t,s);if(l!==void 0)return z(this,Ut).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return lr.batch(()=>z(this,Ut).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,Ut).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=z(this,Ut);lr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=z(this,Ut);return lr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=lr.batch(()=>z(this,Ut).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(qr).catch(qr)}invalidateQueries(e,t={}){return lr.batch(()=>(z(this,Ut).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=lr.batch(()=>z(this,Ut).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(qr)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(qr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=z(this,Ut).build(this,t);return r.isStaleByTime(bs(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qr).catch(qr)}fetchInfiniteQuery(e){return e.behavior=fE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qr).catch(qr)}ensureInfiniteQueryData(e){return e.behavior=fE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ym.isOnline()?z(this,ps).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Ut)}getMutationCache(){return z(this,ps)}getDefaultOptions(){return z(this,gs)}setDefaultOptions(e){be(this,gs,e)}setQueryDefaults(e,t){z(this,lc).set(Ao(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,lc).values()],r={};return t.forEach(n=>{sd(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){z(this,cc).set(Ao(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,cc).values()],r={};return t.forEach(n=>{sd(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,gs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_w(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Nw&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,gs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,Ut).clear(),z(this,ps).clear()}},Ut=new WeakMap,ps=new WeakMap,gs=new WeakMap,lc=new WeakMap,cc=new WeakMap,ys=new WeakMap,uc=new WeakMap,dc=new WeakMap,sT),MT=j.createContext(void 0),Le=e=>{const t=j.useContext(MT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},a6=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(MT.Provider,{value:e,children:t})),RT=j.createContext(!1),i6=()=>j.useContext(RT);RT.Provider;function s6(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var o6=j.createContext(s6()),l6=()=>j.useContext(o6),c6=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?Ow(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},u6=e=>{j.useEffect(()=>{e.clearReset()},[e])},d6=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||Ow(r,[e.error,n])),f6=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},h6=(e,t)=>e.isLoading&&e.isFetching&&!t,m6=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,mE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function p6(e,t,r){var y,b,w,S;const n=i6(),a=l6(),s=Le(),l=s.defaultQueryOptions(e);(b=(y=s.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||b.call(y,l);const d=s.getQueryCache().get(l.queryHash);l._optimisticResults=n?"isRestoring":"optimistic",f6(l),c6(l,a,d),u6(a);const f=!s.getQueryCache().get(l.queryHash),[h]=j.useState(()=>new t(s,l)),p=h.getOptimisticResult(l),g=!n&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(_=>{const N=g?h.subscribe(lr.batchCalls(_)):qr;return h.updateResult(),N},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),j.useEffect(()=>{h.setOptions(l)},[l,h]),m6(l,p))throw mE(l,h,a);if(d6({result:p,errorResetBoundary:a,throwOnError:l.throwOnError,query:d,suspense:l.suspense}))throw p.error;if((S=(w=s.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||S.call(w,l,p),l.experimental_prefetchInRender&&!Eo&&h6(p,n)){const _=f?mE(l,h,a):d==null?void 0:d.promise;_==null||_.catch(qr).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?p:h.trackResult(p)}function It(e,t){return p6(e,Y$)}function lt(e,t){const r=Le(),[n]=j.useState(()=>new t6(r,e));j.useEffect(()=>{n.setOptions(e)},[n,e]);const a=j.useSyncExternalStore(j.useCallback(l=>n.subscribe(lr.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=j.useCallback((l,d)=>{n.mutate(l,d).catch(qr)},[n]);if(a.error&&Ow(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}function vp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function g6(e,t,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function d(p){try{h(n.next(p))}catch(g){l(g)}}function f(p){try{h(n.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):a(p.value).then(d,f)}h((n=n.apply(e,t||[])).next())})}const y6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Cw extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class v6 extends Cw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class pE extends Cw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gE extends Cw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nx||(nx={}));class b6{constructor(t,{headers:r={},customFetch:n,region:a=nx.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=y6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return g6(this,arguments,void 0,function*(r,n={}){var a;let s,l;try{const{headers:d,method:f,body:h,signal:p,timeout:g}=n;let y={},{region:b}=n;b||(b=this.region);const w=new URL(`${this.url}/${r}`);b&&b!=="any"&&(y["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let S;h&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",S=h):typeof h=="string"?(y["Content-Type"]="text/plain",S=h):typeof FormData<"u"&&h instanceof FormData?S=h:(y["Content-Type"]="application/json",S=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?S=JSON.stringify(h):S=h;let _=p;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),p?(_=l.signal,p.addEventListener("abort",()=>l.abort())):_=l.signal);const N=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),d),body:S,signal:_}).catch(T=>{throw new v6(T)}),E=N.headers.get("x-relay-error");if(E&&E==="true")throw new pE(N);if(!N.ok)throw new gE(N);let A=((a=N.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield N.json():A==="application/octet-stream"||A==="application/pdf"?C=yield N.blob():A==="text/event-stream"?C=N:A==="multipart/form-data"?C=yield N.formData():C=yield N.text(),{data:C,error:null,response:N}}catch(d){return{data:null,error:d,response:d instanceof gE||d instanceof pE?d.context:void 0}}finally{s&&clearTimeout(s)}})}}var x6=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},w6=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let l=null,d=null,f=null,h=s.status,p=s.statusText;if(s.ok){var g,y;if(r.method!=="HEAD"){var b;const N=await s.text();N===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?d=N:d=JSON.parse(N))}const S=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),_=(y=s.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");S&&_&&_.length>1&&(f=parseInt(_[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var w;const S=await s.text();try{l=JSON.parse(S),Array.isArray(l)&&s.status===404&&(d=[],l=null,h=200,p="OK")}catch{s.status===404&&S===""?(h=204,p="No Content"):l={message:S}}if(l&&r.isMaybeSingle&&(!(l==null||(w=l.details)===null||w===void 0)&&w.includes("0 rows"))&&(l=null,h=200,p="OK"),l&&r.shouldThrowOnError)throw new x6(l)}return{error:l,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(s=>{var l;let d="",f="",h="";const p=s==null?void 0:s.cause;if(p){var g,y,b,w;const N=(g=p==null?void 0:p.message)!==null&&g!==void 0?g:"",E=(y=p==null?void 0:p.code)!==null&&y!==void 0?y:"";d=`${(b=s==null?void 0:s.name)!==null&&b!==void 0?b:"FetchError"}: ${s==null?void 0:s.message}`,d+=`

Caused by: ${(w=p==null?void 0:p.name)!==null&&w!==void 0?w:"Error"}: ${N}`,E&&(d+=` (${E})`),p!=null&&p.stack&&(d+=`
${p.stack}`)}else{var S;d=(S=s==null?void 0:s.stack)!==null&&S!==void 0?S:""}const _=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(h="",f="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((p==null?void 0:p.name)==="HeadersOverflowError"||(p==null?void 0:p.code)==="UND_ERR_HEADERS_OVERFLOW")&&(h="",f="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(f+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=s==null?void 0:s.name)!==null&&l!==void 0?l:"FetchError"}: ${s==null?void 0:s.message}`,details:d,hint:f,code:h},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},j6=class extends w6{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var l;const d=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${f}"; options=${d};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const yE=new RegExp("[,()]");var ql=class extends j6{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&yE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&yE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},S6=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:a=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let s=!1;const l=(e??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:d,headers:f}=this.cloneRequestState();return d.searchParams.set("select",l),n&&f.append("Prefer",`count=${n}`),new ql({method:a,url:d,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),r||l.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);s.searchParams.set("columns",f.join(","))}}return new ql({method:a,url:s,headers:l,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const l="POST",{url:d,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&d.searchParams.set("on_conflict",t),n&&f.append("Prefer",`count=${n}`),a||f.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);d.searchParams.set("columns",p.join(","))}}return new ql({method:l,url:d,headers:f,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new ql({method:n,url:a,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new ql({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function _6(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N6(e){var t=_6(e,"string");return od(t)=="symbol"?t:t+""}function O6(e,t,r){return(t=N6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(n){O6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var E6=class IT{constructor(t,{headers:r={},schema:n,fetch:a,timeout:s,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=l;const d=a??globalThis.fetch;s!==void 0&&s>0?this.fetch=(f,h)=>{const p=new AbortController,g=setTimeout(()=>p.abort(),s),y=h==null?void 0:h.signal;if(y){if(y.aborted)return clearTimeout(g),d(f,h);const b=()=>{clearTimeout(g),p.abort()};return y.addEventListener("abort",b,{once:!0}),d(f,Ih(Ih({},h),{},{signal:p.signal})).finally(()=>{clearTimeout(g),y.removeEventListener("abort",b)})}return d(f,Ih(Ih({},h),{},{signal:p.signal})).finally(()=>clearTimeout(g))}:this.fetch=d}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new S6(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new IT(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var l;let d;const f=new URL(`${this.url}/rpc/${t}`);let h;const p=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(p)),g=n&&Object.values(r).some(p);g?(d="POST",h=r):n||a?(d=n?"HEAD":"GET",Object.entries(r).filter(([b,w])=>w!==void 0).map(([b,w])=>[b,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([b,w])=>{f.searchParams.append(b,w)})):(d="POST",h=r);const y=new Headers(this.headers);return g?y.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&y.set("Prefer",`count=${s}`),new ql({method:d,url:f,headers:y,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class A6{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const C6="2.95.3",k6=`realtime-js/${C6}`,P6="1.0.0",LT="2.0.0",bE=LT,ax=1e4,T6=1e3,D6=100;var as;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(as||(as={}));var sr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(sr||(sr={}));var na;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(na||(na={}));var ix;(function(e){e.websocket="websocket"})(ix||(ix={}));var io;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(io||(io={}));class M6{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var a,s;const l=t.topic,d=(a=t.ref)!==null&&a!==void 0?a:"",f=(s=t.join_ref)!==null&&s!==void 0?s:"",h=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+l.length+h.length+g.length,b=new ArrayBuffer(this.HEADER_LENGTH+y);let w=new DataView(b),S=0;w.setUint8(S++,this.KINDS.userBroadcastPush),w.setUint8(S++,f.length),w.setUint8(S++,d.length),w.setUint8(S++,l.length),w.setUint8(S++,h.length),w.setUint8(S++,g.length),w.setUint8(S++,r),Array.from(f,N=>w.setUint8(S++,N.charCodeAt(0))),Array.from(d,N=>w.setUint8(S++,N.charCodeAt(0))),Array.from(l,N=>w.setUint8(S++,N.charCodeAt(0))),Array.from(h,N=>w.setUint8(S++,N.charCodeAt(0))),Array.from(g,N=>w.setUint8(S++,N.charCodeAt(0)));var _=new Uint8Array(b.byteLength+n.byteLength);return _.set(new Uint8Array(b),0),_.set(new Uint8Array(n),b.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,l,d,f]=n;return r({join_ref:a,ref:s,topic:l,event:d,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const h=n.decode(t.slice(f,f+a));f=f+a;const p=n.decode(t.slice(f,f+s));f=f+s;const g=n.decode(t.slice(f,f+l));f=f+l;const y=t.slice(f,t.byteLength),b=d===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,w={type:this.BROADCAST_EVENT,event:p,payload:b};return l>0&&(w.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class BT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(jt||(jt={}));const xE=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=R6(l,e,t,a),s),{}):{}},R6=(e,t,r,n)=>{const a=t.find(d=>d.name===e),s=a==null?void 0:a.type,l=r[e];return s&&!n.includes(s)?$T(s,l):sx(l)},$T=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return $6(t,r)}switch(e){case jt.bool:return I6(t);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return L6(t);case jt.json:case jt.jsonb:return B6(t);case jt.timestamp:return U6(t);case jt.abstime:case jt.date:case jt.daterange:case jt.int4range:case jt.int8range:case jt.money:case jt.reltime:case jt.text:case jt.time:case jt.timestamptz:case jt.timetz:case jt.tsrange:case jt.tstzrange:return sx(t);default:return sx(t)}},sx=e=>e,I6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},L6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},B6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},$6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(d=>$T(t,d))}return e},U6=e=>typeof e=="string"?e.replace(" ","T"):e,UT=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Xv{constructor(t,r,n={},a=ax){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wE||(wE={}));class td{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=td.syncState(this.state,a,s,l),this.pendingDiffs.forEach(f=>{this.state=td.syncDiff(this.state,f,s,l)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=td.syncDiff(this.state,a,s,l),d())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),l=this.transformState(r),d={},f={};return this.map(s,(h,p)=>{l[h]||(f[h]=p)}),this.map(l,(h,p)=>{const g=s[h];if(g){const y=p.map(_=>_.presence_ref),b=g.map(_=>_.presence_ref),w=p.filter(_=>b.indexOf(_.presence_ref)<0),S=g.filter(_=>y.indexOf(_.presence_ref)<0);w.length>0&&(d[h]=w),S.length>0&&(f[h]=S)}else d[h]=p}),this.syncDiff(s,{joins:d,leaves:f},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(d,f)=>{var h;const p=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),p.length>0){const g=t[d].map(b=>b.presence_ref),y=p.filter(b=>g.indexOf(b.presence_ref)<0);t[d].unshift(...y)}n(d,p,f)}),this.map(l,(d,f)=>{let h=t[d];if(!h)return;const p=f.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),t[d]=h,a(d,h,f),h.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jE||(jE={}));var rd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(rd||(rd={}));var Za;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Za||(Za={}));class Hl{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xv(this,na.join,this.params,this.timeout),this.rejoinTimer=new BT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(na.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new td(this),this.broadcastEndpointURL=UT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==sr.closed){const{config:{broadcast:l,presence:d,private:f}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[rd.PRESENCE]&&this.bindings[rd.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>t==null?void 0:t(Za.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(Za.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){t==null||t(Za.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(w=S==null?void 0:S.length)!==null&&w!==void 0?w:0,N=[];for(let E=0;E<_;E++){const A=S[E],{filter:{event:C,schema:T,table:P,filter:D}}=A,B=b&&b[E];if(B&&B.event===C&&Hl.isFilterValueEqual(B.schema,T)&&Hl.isFilterValueEqual(B.table,P)&&Hl.isFilterValueEqual(B.filter,D))N.push(Object.assign(Object.assign({},A),{id:B.id}));else{this.unsubscribe(),this.state=sr.errored,t==null||t(Za.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Za.SUBSCRIBED);return}}).receive("error",b=>{this.state=sr.errored,t==null||t(Za.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Za.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===sr.joined&&t===rd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const h=await d.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,d,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=sr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(na.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Xv(this,na.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=sr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Xv(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>D6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:p}=na;if(n&&[d,f,h,p].indexOf(l)>=0&&n!==this._joinRef())return;let y=this._onMessage(l,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var w,S,_;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(S=b.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(b=>b.callback(y,n)):(s=this.bindings[l])===null||s===void 0||s.filter(b=>{var w,S,_,N,E,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const C=b.id,T=(w=b.filter)===null||w===void 0?void 0:w.event;return C&&((S=r.ids)===null||S===void 0?void 0:S.includes(C))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(E=(N=b==null?void 0:b.filter)===null||N===void 0?void 0:N.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return C==="*"||C===((A=r==null?void 0:r.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:S,table:_,commit_timestamp:N,type:E,errors:A}=w;y=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:N,eventType:E,new:{},old:{},errors:A}),this._getPayloadRecords(w))}b.callback(y,n)})}_isClosed(){return this.state===sr.closed}_isJoined(){return this.state===sr.joined}_isJoining(){return this.state===sr.joining}_isLeaving(){return this.state===sr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Hl.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(na.close,{},t)}_onError(t){this._on(na.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=xE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=xE(t.columns,t.old_record)),r}}const Zv=()=>{},Lh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},z6=[1e3,2e3,5e3,1e4],q6=1e4,K6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class F6{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ax,this.transport=null,this.heartbeatIntervalMs=Lh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zv,this.ref=0,this.reconnectTimer=null,this.vsn=bE,this.logger=Zv,this.conn=null,this.sendBuffer=[],this.serializer=new M6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ix.websocket}`,this.httpEndpoint=UT(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=A6.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case as.connecting:return io.Connecting;case as.open:return io.Open;case as.closing:return io.Closing;default:return io.Closed}}isConnected(){return this.connectionState()===io.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new Hl(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(T6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Lh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:s,ref:l}=r,d=l?`(${l})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${a} ${d}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===as.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===as.open||this.conn.readyState===as.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(na.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([K6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:k6};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(na.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new BT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Lh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,l,d,f,h,p,g,y,b;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ax,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Lh.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:Zv,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:bE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:(w=>z6[w-1]||q6),this.vsn){case P6:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:((w,S)=>S(JSON.stringify(w))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:((w,S)=>S(JSON.parse(w)));break;case LT:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ld=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Q6(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function H6(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function V6(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:l}){const d=Q6(e.baseUrl,n,a),f=await H6(e.auth),h=await t(d,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...f,...l},body:s?JSON.stringify(s):void 0}),p=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),y=g&&p?JSON.parse(p):p;if(!h.ok){const b=g?y:void 0,w=b==null?void 0:b.error;throw new ld((w==null?void 0:w.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:b})}return{status:h.status,headers:h.headers,data:y}}}}function Bh(e){return e.join("")}var G6=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Bh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bh(e.namespace)}`}),!0}catch(t){if(t instanceof ld&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ld&&r.status===409)return;throw r}}};function Tl(e){return e.join("")}var Y6=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ld&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ld&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},W6=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=V6({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new G6(this.client,t),this.tableOps=new Y6(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},bp=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function xp(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var $h=class extends bp{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zT=class extends bp{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const X6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Z6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ox=e=>{if(Array.isArray(e))return e.map(r=>ox(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=ox(n)}),t},J6=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function eU(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tU(e){var t=eU(e,"string");return cd(t)=="symbol"?t:t+""}function rU(e,t,r){return(t=tU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(r),!0).forEach(function(n){rU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const _E=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},nU=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,s=a.status||500;if(typeof a.json=="function")a.json().then(l=>{const d=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";t(new $h(_E(l),s,d,n))}).catch(()=>{if(n==="vectors"){const l=s+"";t(new $h(a.statusText||`HTTP ${s} error`,s,l,n))}else{const l=s+"";t(new $h(a.statusText||`HTTP ${s} error`,s,l,n))}});else{const l=s+"";t(new $h(a.statusText||`HTTP ${s} error`,s,l,n))}}else t(new zT(_E(e),e,n))},aU=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Re(Re({},a),r):(Z6(n)?(a.headers=Re({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Re(Re({},a),r))};async function Bu(e,t,r,n,a,s,l){return new Promise((d,f)=>{e(r,aU(t,n,a,s)).then(h=>{if(!h.ok)throw h;if(n!=null&&n.noResolveJson)return h;if(l==="vectors"){const p=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!p||!p.includes("application/json"))return{}}return h.json()}).then(h=>d(h)).catch(h=>nU(h,f,n,l))})}function qT(e="storage"){return{get:async(t,r,n,a)=>Bu(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,s)=>Bu(t,"POST",r,a,s,n,e),put:async(t,r,n,a,s)=>Bu(t,"PUT",r,a,s,n,e),head:async(t,r,n,a)=>Bu(t,"HEAD",r,Re(Re({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,s)=>Bu(t,"DELETE",r,a,s,n,e)}}const iU=qT("storage"),{get:ud,post:ea,put:lx,head:sU,remove:kw}=iU,xn=qT("vectors");var Sc=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=X6(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xp(r))return{data:null,error:r};throw r}}},oU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(xp(t))return{data:null,error:t};throw t}}};let KT;KT=Symbol.toStringTag;var lU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[KT]="BlobDownloadBuilder",this.promise=null}asStream(){return new oU(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(xp(t))return{data:null,error:t};throw t}}};const cU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},NE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var uU=class extends Sc{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let s;const l=Re(Re({},NE),n);let d=Re(Re({},a.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",a.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),f&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(f))):(s=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=a.toBase64(a.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(d=Re(Re({},d),n.headers));const h=a._removeEmptyFolders(t),p=a._getFinalPath(h),g=await(e=="PUT"?lx:ea)(a.fetch,`${a.url}/object/${p}`,s,Re({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:h,id:g.Id,fullPath:g.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const s=a._removeEmptyFolders(e),l=a._getFinalPath(s),d=new URL(a.url+`/object/upload/sign/${l}`);return d.searchParams.set("token",t),a.handleOperation(async()=>{let f;const h=Re({upsert:NE.upsert},n),p=Re(Re({},a.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{path:s,fullPath:(await lx(a.fetch,d.toString(),f,{headers:p})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=Re({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=await ea(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(r.url+s.url),d=l.searchParams.get("token");if(!d)throw new bp("No token returned by API");return{signedUrl:l.toString(),path:e,token:d}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ea(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ea(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),s=await ea(n.fetch,`${n.url}/object/sign/${a}`,Re({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${l}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await ea(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(l=>Re(Re({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${s}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=a?`?${a}`:"",l=this._getFinalPath(e),d=()=>ud(this.fetch,`${this.url}/${n}/${l}${s}`,{headers:this.headers,noResolveJson:!0},r);return new lU(d,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>ox(await ud(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await sU(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(xp(n)&&n instanceof zT){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${d}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await kw(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=Re(Re(Re({},cU),t),{},{prefix:e||""});return await ea(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Re({},e);return await ea(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const dU="2.95.3",zd={"X-Client-Info":`storage-js/${dU}`};var fU=class extends Sc{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const s=a.href.replace(/\/$/,""),l=Re(Re({},zd),t);super(s,l,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await ud(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ud(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ea(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await lx(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ea(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await kw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},hU=class extends Sc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Re(Re({},zd),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ea(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await ud(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await kw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!J6(e))throw new bp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new W6({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const l=a[s];return typeof l!="function"?l:async(...d)=>{try{return{data:await l.apply(a,d),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}}}})}},mU=class extends Sc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Re(Re({},zd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await xn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await xn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},pU=class extends Sc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Re(Re({},zd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},gU=class extends Sc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Re(Re({},zd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},yU=class extends gU{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new vU(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},vU=class extends mU{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new bU(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},bU=class extends pU{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},xU=class extends fU{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new uU(this.url,this.headers,e,this.fetch)}get vectors(){return new yU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hU(this.url+"/iceberg",this.headers,this.fetch)}};const FT="2.95.3",Kl=30*1e3,cx=3,Jv=cx*Kl,wU="http://localhost:9999",jU="supabase.auth.token",SU={"X-Client-Info":`gotrue-js/${FT}`},ux="X-Supabase-Api-Version",QT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_U=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,NU=600*1e3;class dd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class OU extends dd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function EU(e){return Ae(e)&&e.name==="AuthApiError"}class so extends dd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class wi extends dd{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class bn extends wi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function e0(e){return Ae(e)&&e.name==="AuthSessionMissingError"}class Dl extends wi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Uh extends wi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zh extends wi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function AU(e){return Ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class OE extends wi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class CU extends wi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class dx extends wi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function t0(e){return Ae(e)&&e.name==="AuthRetryableFetchError"}class EE extends wi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class fx extends wi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),AE=` 	
\r=`.split(""),kU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<AE.length;t+=1)e[AE[t].charCodeAt(0)]=-2;for(let t=0;t<vm.length;t+=1)e[vm[t].charCodeAt(0)]=t;return e})();function CE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(vm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(vm[n]),t.queuedBits-=6}}function HT(e,t,r){const n=kU[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kE(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{DU(l,n,r)};for(let l=0;l<e.length;l+=1)HT(e.charCodeAt(l),a,s);return t.join("")}function PU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function TU(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}PU(n,t)}}function DU(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Yl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)HT(e.charCodeAt(a),r,n);return new Uint8Array(t)}function MU(e){const t=[];return TU(e,r=>t.push(r)),new Uint8Array(t)}function lo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>CE(a,r,n)),CE(null,r,n),t.join("")}function RU(e){return Math.round(Date.now()/1e3)+e}function IU(){return Symbol("auth-callback")}const kr=()=>typeof window<"u"&&typeof document<"u",Zs={tested:!1,writable:!1},VT=()=>{if(!kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zs.tested)return Zs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zs.tested=!0,Zs.writable=!0}catch{Zs.tested=!0,Zs.writable=!1}return Zs.writable};function LU(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const GT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Js=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Cr=async(e,t)=>{await e.removeItem(t)};class wp{constructor(){this.promise=new wp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}wp.promiseConstructor=Promise;function qh(e){const t=e.split(".");if(t.length!==3)throw new fx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!_U.test(t[n]))throw new fx("JWT not in base64url format");return{header:JSON.parse(kE(t[0])),payload:JSON.parse(kE(t[1])),signature:Yl(t[2]),raw:{header:t[0],payload:t[1]}}}async function $U(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function UU(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){a(l);return}}})()})}function zU(e){return("0"+e.toString(16)).substr(-2)}function qU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,zU).join("")}async function KU(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function FU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await KU(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ml(e,t,r=!1){const n=qU();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Fl(e,`${t}-code-verifier`,a);const s=await FU(n);return[s,n===s?"plain":"s256"]}const QU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HU(e){const t=e.headers.get(ux);if(!t||!t.match(QU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function VU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function GU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rl(e){if(!YU.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function r0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function WU(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function PE(e){return JSON.parse(JSON.stringify(e))}const to=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XU=[502,503,504];async function TE(e){var t;if(!BU(e))throw new dx(to(e),0);if(XU.includes(e.status))throw new dx(to(e),e.status);let r;try{r=await e.json()}catch(s){throw new so(to(s),s)}let n;const a=HU(e);if(a&&a.getTime()>=QT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new EE(to(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new bn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new EE(to(r),e.status,r.weak_password.reasons);throw new OU(to(r),e.status||500,n)}const ZU=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Me(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[ux]||(s[ux]=QT["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await JU(e,t,r+d,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function JU(e,t,r,n,a,s){const l=ZU(t,n,a,s);let d;try{d=await e(r,Object.assign({},l))}catch(f){throw console.error(f),new dx(to(f),0)}if(d.ok||await TE(d),n!=null&&n.noResolveJson)return d;try{return await d.json()}catch(f){await TE(f)}}function Jn(e){var t;let r=null;rz(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=RU(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function DE(e){const t=Jn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function os(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ez(e){return{data:e,error:null}}function tz(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,l=vp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function ME(e){return e}function rz(e){return e.access_token&&e.refresh_token&&e.expires_in}const n0=["global","local","others"];class nz{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=GT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=n0[0]){if(n0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${n0.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:os})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=vp(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:tz,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:os})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:ME});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);h[`${_}Page`]=S}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ae(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Rl(t);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:os})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Rl(t);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:os})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Rl(t);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:os})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Rl(t.userId);try{const{data:r,error:n}=await Me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Rl(t.userId),Rl(t.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:ME});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);h[`${_}Page`]=S}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ae(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}function RE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Il={debug:!!(globalThis&&VT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class YT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class az extends YT{}async function iz(e,t,r){Il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Il.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Il.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Il.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new az(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Il.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function sz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function WT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function oz(e){return parseInt(e,16)}function lz(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function cz(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:d,requestId:f,resources:h,scheme:p,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=WT(e.address),w=p?`${p}://${n}`:n,S=e.statement?`${e.statement}
`:"",_=`${w} wants you to sign in with your Ethereum account:
${b}

${S}`;let N=`URI: ${g}
Version: ${y}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),f&&(N+=`
Request ID: ${f}`),h){let E=`
Resources:`;for(const A of h){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);E+=`
- ${A}`}N+=E}return`${_}
${N}`}class Jt extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class bm extends Jt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function uz({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(XT(l)){if(s.rp.id!==l)return new Jt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function dz({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(XT(n)){if(r.rpId!==n)return new Jt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class fz{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const hz=new fz;function mz(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=vp(e,["challenge","user","excludeCredentials"]),s=Yl(t).buffer,l=Object.assign(Object.assign({},r),{id:Yl(r.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:s,user:l});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Yl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function pz(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=vp(e,["challenge","allowCredentials"]),a=Yl(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const d=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},d),{id:Yl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function gz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:lo(new Uint8Array(e.response.attestationObject)),clientDataJSON:lo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function yz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:lo(new Uint8Array(a.authenticatorData)),clientDataJSON:lo(new Uint8Array(a.clientDataJSON)),signature:lo(new Uint8Array(a.signature)),userHandle:a.userHandle?lo(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function IE(){var e,t;return!!(kr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function vz(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bm("Browser returned unexpected credential type",t)}:{data:null,error:new bm("Empty credential response",t)}}catch(t){return{data:null,error:uz({error:t,options:e})}}}async function bz(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bm("Browser returned unexpected credential type",t)}:{data:null,error:new bm("Empty credential response",t)}}catch(t){return{data:null,error:dz({error:t,options:e})}}}const xz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},wz={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xm(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const d=n[s];t(d)?n[s]=xm(d,l):n[s]=xm(l)}else n[s]=l}return n}function jz(e,t){return xm(xz,e,t||{})}function Sz(e,t){return xm(wz,e,t||{})}class _z{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){var l;try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!d)return{data:null,error:f};const h=a??hz.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;if(!p.name){const g=n;if(g)p.name=`${p.id}:${g}`;else{const b=(await this.client.getUser()).data.user,w=((l=b==null?void 0:b.user_metadata)===null||l===void 0?void 0:l.name)||(b==null?void 0:b.email)||(b==null?void 0:b.id)||"User";p.name=`${p.id}:${w}`}}p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=jz(d.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:g,error:y}=await vz({publicKey:p,signal:h});return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}case"request":{const p=Sz(d.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:g,error:y}=await bz(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}}}catch(d){return Ae(d)?{data:null,error:d}:{data:null,error:new so("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new dd("rpId is required for WebAuthn authentication")};try{if(!IE())return{data:null,error:new so("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!l)return{data:null,error:d};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new so("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new dd("rpId is required for WebAuthn registration")};try{if(!IE())return{data:null,error:new so("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new so("Unexpected error in register",l)}}}}sz();const Nz={url:wU,storageKey:jU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function LE(e,t,r){return await r()}const Ll={};class fd{get jwks(){var t,r;return(r=(t=Ll[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ll[this.storageKey]=Object.assign(Object.assign({},Ll[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ll[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ll[this.storageKey]=Object.assign(Object.assign({},Ll[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Nz),t);if(this.storageKey=s.storageKey,this.instanceID=(r=fd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,fd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&kr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new nz({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=GT(s.fetch),this.lock=s.lock||LE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&kr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=iz:this.lock=LE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _z(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:VT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=RE(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=RE(this.memoryStorage)),kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${FT}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(kr()&&(r=LU(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),kr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),AU(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:l,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?this._returnResult({error:r}):this._returnResult({error:new so("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Jn}),{data:l,error:d}=s;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:p,password:g,options:y}=t;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await Ml(this.storage,this.storageKey)),s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:g,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:b,code_challenge_method:w},xform:Jn})}else if("phone"in t){const{phone:p,password:g,options:y}=t;s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(a=y==null?void 0:y.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Jn})}else throw new Uh("You must provide either an email or phone number and a password");const{data:l,error:d}=s;if(d||!l)return await Cr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:d}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:DE})}else if("phone"in t){const{phone:s,password:l,options:d}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:DE})}else throw new Uh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new Dl;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,l,d,f,h,p,g,y;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:S,wallet:_,statement:N,options:E}=t;let A;if(kr())if(typeof _=="object")A=_;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")A=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const C=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href),T=await A.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=WT(T[0]);let D=(n=E==null?void 0:E.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!D){const K=await A.request({method:"eth_chainId"});D=oz(K)}const B={domain:C.host,address:P,statement:N,uri:C.href,version:"1",chainId:D,nonce:(a=E==null?void 0:E.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=E==null?void 0:E.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=E==null?void 0:E.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=E==null?void 0:E.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=E==null?void 0:E.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=E==null?void 0:E.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=cz(B),w=await A.request({method:"personal_sign",params:[lz(b),P]})}try{const{data:S,error:_}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Jn});if(_)throw _;if(!S||!S.session||!S.user){const N=new Dl;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(Ae(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var r,n,a,s,l,d,f,h,p,g,y,b;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:_,wallet:N,statement:E,options:A}=t;let C;if(kr())if(typeof N=="object")C=N;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const T=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),E?{statement:E}:null));let D;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")D=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)D=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)w=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),S=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${T.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(a=(n=A==null?void 0:A.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=A==null?void 0:A.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((g=(p=A==null?void 0:A.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...A.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(w),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=P}}try{const{data:_,error:N}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:lo(S)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Jn});if(N)throw N;if(!_||!_.session||!_.user){const E=new Dl;return this._returnResult({data:{user:null,session:null},error:E})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:N})}catch(_){if(Ae(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await Js(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new CU;const{data:s,error:l}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Jn});if(await Cr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const d=new Dl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:l}=t,d=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Jn}),{data:f,error:h}=d;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const p=new Dl;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,l;try{if("email"in t){const{email:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Ml(this.storage,this.storageKey));const{error:g}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:p}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new Uh("You must provide either an email or phone number.")}catch(d){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Ae(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:d}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Jn});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,l;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Ml(this.storage,this.storageKey));const h=await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:ez});return!((s=h.data)===null||s===void 0)&&s.url&&kr()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(d){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Ae(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new bn;const{error:a}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:l}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:l,error:d}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d})}throw new Uh("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Js(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Jv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await Js(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=r0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=WU(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:os}):await this._useSession(async r=>{var n,a,s;const{data:l,error:d}=r;if(d)throw d;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bn}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:os})})}catch(r){if(Ae(r))return e0(r)&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new bn;const l=a.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await Ml(this.storage,this.storageKey));const{data:h,error:p}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:os});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Ae(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bn;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:l}=qh(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};s=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});s={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:d}=r;if(d)throw d;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new bn;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!kr())throw new zh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new OE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new OE("No code detected.");const{data:E,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:d,expires_at:f,token_type:h}=t;if(!s||!d||!l||!h)throw new zh("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(d);let y=p+g;f&&(y=parseInt(f));const b=y-p;b*1e3<=Kl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const w=y-g;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,p);const{data:S,error:_}=await this._getUser(s);if(_)throw _;const N={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:y,refresh_token:l,token_type:h,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(n){if(Ae(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Js(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s&&!e0(s))return this._returnResult({error:s});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(EU(d)&&(d.status===404||d.status===401||d.status===403)||e0(d)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=IU(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ml(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var l,d,f,h,p;const{data:g,error:y}=s;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return kr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ae(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:l,provider:d,token:f,access_token:h,nonce:p}=t,g=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:f,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Jn}),{data:y,error:b}=g;return b?this._returnResult({data:{user:null,session:null},error:b}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Dl}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:b}))}catch(a){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)throw l;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await UU(async a=>(a>0&&await $U(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jn})),(a,s)=>{const l=200*Math.pow(2,a);return s&&t0(s)&&Date.now()+l-n<Kl})}catch(n){if(this._debug(r,"error",n),Ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),kr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Js(this.storage,this.storageKey);if(a&&this.userStorage){let l=await Js(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Fl(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:r0()}else if(a&&!a.user&&!a.user){const l=await Js(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,await Cr(this.storage,this.storageKey+"-user"),await Fl(this.storage,this.storageKey,a)):a.user=r0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Jv;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Jv}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),t0(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(a.access_token);!d&&(l!=null&&l.user)?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new wp;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new bn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const d={data:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(a,"error",s),Ae(s)){const l={data:null,error:s};return t0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(l),s.length>0){for(let d=0;d<s.length;d+=1)console.error(s[d]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Cr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Fl(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=PE(a);await Fl(this.storage,this.storageKey,s)}else{const a=PE(r);await Fl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Cr(this.storage,this.storageKey),await Cr(this.storage,this.storageKey+"-code-verifier"),await Cr(this.storage,this.storageKey+"-user"),this.userStorage&&await Cr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Kl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Kl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Kl}ms, refresh threshold is ${cx} ticks`),a<=cx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof YT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await Ml(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(d.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&f.type==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?gz(t.webauthn.credential_response):yz(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:mz(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:pz(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,s;if(t)try{const{payload:b}=qh(t);let w=null;b.aal&&(w=b.aal);let S=w;const{data:{user:_},error:N}=await this.getUser(t);if(N)return this._returnResult({data:null,error:N});((n=(r=_==null?void 0:_.factors)===null||r===void 0?void 0:r.filter(C=>C.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(S="aal2");const A=b.amr||[];return{data:{currentLevel:w,nextLevel:S,currentAuthenticationMethods:A},error:null}}catch(b){if(Ae(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:l},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=qh(l.access_token);let h=null;f.aal&&(h=f.aal);let p=h;((s=(a=l.user.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const y=f.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Me(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new bn})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new bn});const l=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new bn});const l=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new bn})})}catch(t){if(Ae(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new bn})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(d=>d.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+NU>a)return n;const{data:s,error:l}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:b,error:w}=await this.getSession();if(w||!b.session)return this._returnResult({data:null,error:w});n=b.session.access_token}const{header:a,payload:s,signature:l,raw:{header:d,payload:f}}=qh(n);r!=null&&r.allowExpired||VU(s.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:s,header:a,signature:l},error:null}}const p=GU(a.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,MU(`${d}.${f}`)))throw new fx("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}}fd.nextInstanceID={};const Oz=fd,Ez="2.95.3";let Xu="";typeof Deno<"u"?Xu="deno":typeof document<"u"?Xu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xu="react-native":Xu="node";const Az={"X-Client-Info":`supabase-js-${Xu}/${Ez}`},Cz={headers:Az},kz={schema:"public"},Pz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Tz={};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function Dz(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mz(e){var t=Dz(e,"string");return hd(t)=="symbol"?t:t+""}function Rz(e,t,r){return(t=Mz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(n){Rz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Iz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Lz=()=>Headers,Bz=(e,t,r)=>{const n=Iz(r),a=Lz();return async(s,l)=>{var d;const f=(d=await t())!==null&&d!==void 0?d:e;let h=new a(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(s,zt(zt({},l),{},{headers:h}))}};function $z(e){return e.endsWith("/")?e:e+"/"}function Uz(e,t){var r,n;const{db:a,auth:s,realtime:l,global:d}=e,{db:f,auth:h,realtime:p,global:g}=t,y={db:zt(zt({},f),a),auth:zt(zt({},h),s),realtime:zt(zt({},p),l),storage:{},global:zt(zt(zt({},g),d),{},{headers:zt(zt({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function zz(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($z(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var qz=class extends Oz{constructor(e){super(e)}},Kz=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const s=zz(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,d={db:kz,realtime:Tz,auth:zt(zt({},Pz),{},{storageKey:l}),global:Cz},f=Uz(r??{},d);if(this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=Bz(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(zt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new E6(new URL("rest/v1",s).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new xU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new b6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:l,lock:d,debug:f,throwOnError:h},p,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qz({url:this.authUrl.href,headers:zt(zt({},y),p),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:l,lock:d,debug:f,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new F6(this.realtimeUrl.href,zt(zt({},e),{},{params:zt(zt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Fz=(e,t,r)=>new Kz(e,t,r);function Qz(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Qz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hz="https://ozjddzasadgffjjeqntc.supabase.co",Vz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96amRkemFzYWRnZmZqamVxbnRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTMwMzEsImV4cCI6MjA4NTk2OTAzMX0._1fbWup_bHYe0PN5QUcptRMuwZRAEFwQOPEPd7Lk3NY",ye=Fz(Hz,Vz);function ZT(e){return`${e.replace(/[^0-9]/g,"")}@bdhatbela.local`}const Gz={company:{name:"BD Hatbela",logo:"",phone:"",email:"",address:""},order:{prefix:"BDH-",nextNumber:1},invoice:{title:"Tax Invoice",logoWidth:60,logoHeight:60,footer:"Thank you for shopping with BD Hatbela!"},defaults:{accountId:"",paymentMethod:"Cash",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:20},categories:[],paymentMethods:[],courier:{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}},JT=e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null},Yz=JT("currentUser"),Wz=JT("settings"),xe={users:[],customers:[],vendors:[],products:[],orders:[],bills:[],accounts:[],transactions:[],currentUser:Yz??null,settings:Wz??Gz},$u=()=>{try{localStorage.setItem("currentUser",JSON.stringify(xe.currentUser)),localStorage.setItem("settings",JSON.stringify(xe.settings))}catch(e){console.warn("[DB] localStorage write failed:",e)}},eD=j.createContext(void 0),Xz=({children:e})=>{const[t,r]=j.useState(null),[n,a]=j.useState(null),[s,l]=j.useState(!0);console.log("[AuthProvider] Mounting - initializing context provider");const d=async(p,g)=>{if(!p&&!g)return console.warn("[Auth] No userId or email provided to fetchProfile"),null;try{let y;if(p)console.log("[Auth] Fetching profile for userId:",p),y=ye.from("users").select("*").eq("id",p).single();else{const S=g.split("@")[0].replace(/[^0-9]/g,"");console.log("[Auth] Fetching profile for phone:",S),y=ye.from("users").select("*").eq("phone",S).single()}const{data:b,error:w}=await Promise.race([y,new Promise(S=>setTimeout(()=>S({data:null,error:new Error("timeout")}),3e3))]);return w?(console.error("[Auth] Profile fetch error:",w.message),null):(console.log("[Auth] Profile fetched successfully"),b)}catch(y){return console.error("[Auth] Profile fetch exception:",y),null}};j.useEffect(()=>{var w,S;let p=!0,g=null;return(async()=>{var _;try{console.log("[Auth] Initializing - trying to restore session...");const{data:N}=await Promise.race([ye.auth.getSession(),new Promise(E=>setTimeout(()=>E({data:null}),3e3))]);if((_=N==null?void 0:N.session)!=null&&_.user&&p){console.log("[Auth] Session restored from storage:",N.session.user.email),r(N.session.user);const E=await d(N.session.user.id,N.session.user.email||void 0);E&&p?(console.log("[Auth] Session profile loaded"),a(E),xe.currentUser=E,$u(),localStorage.setItem("isLoggedIn","true")):p&&console.warn("[Auth] Session exists but profile not found, proceeding without it")}p&&l(!1)}catch(N){console.error("[Auth] Init error (non-fatal, waiting for onAuthStateChange):",N),p&&l(!1)}})(),g=((S=(w=ye.auth.onAuthStateChange(async(_,N)=>{console.log("[Auth] onAuthStateChange fired, event:",_,"has session:",!!(N!=null&&N.user));try{if(N!=null&&N.user){console.log("[Auth] User authenticated:",N.user.email,"userId:",N.user.id),r(N.user);let E=await d(N.user.id,N.user.email||void 0);E||(console.log("[Auth] First profile fetch failed, retrying after 1 second..."),await new Promise(A=>setTimeout(A,1e3)),E=await d(N.user.id,N.user.email||void 0)),E&&p?(console.log("[Auth] Profile loaded successfully, updating state"),a(E),xe.currentUser=E,$u(),localStorage.setItem("isLoggedIn","true"),window.dispatchEvent(new Event("authChange"))):p&&(console.warn("[Auth] Profile not found after retries"),a(null),localStorage.setItem("isLoggedIn","true"),window.dispatchEvent(new Event("authChange"))),p&&l(!1)}else console.log("[Auth] No session - user logged out or never logged in"),p&&(r(null),a(null),xe.currentUser=null,$u(),localStorage.removeItem("isLoggedIn"),window.dispatchEvent(new Event("authChange")),l(!1))}catch(E){console.error("[Auth] onAuthStateChange error:",E),p&&(r(null),a(null),l(!1))}}).data)==null?void 0:w.subscription)==null?void 0:S.unsubscribe)||(()=>{}),()=>{if(console.log("[Auth] Cleanup function called"),p=!1,g)try{g()}catch(_){console.error("[Auth] Error unsubscribing:",_)}}},[]);const f=async(p,g)=>{var b,w;let y=p;p.includes("@")||(y=ZT(p)),console.log("[Auth] signIn called with email:",y);try{const S=await ye.auth.signInWithPassword({email:y,password:g});if(console.log("[Auth] signInWithPassword response:",S.error?"Error":"Success"),S.error)return(b=S.error.message)!=null&&b.includes("Email not confirmed")||S.error.status===422?(console.error("[Auth] Login blocked - Email confirmation required. Admin must disable email confirmation in Supabase:",S.error),S.error.message='Email confirmation required. Please have administrator disable email confirmation in Supabase dashboard under Authentication > Providers > Email, then toggle off "Confirm email"'):console.error("[Auth] signIn error:",S.error),S;if((w=S.data)!=null&&w.user){console.log("[Auth] signIn successful, updating state immediately for user:",S.data.user.email),r(S.data.user);const _=await d(S.data.user.id,S.data.user.email||void 0);_?(console.log("[Auth] Profile loaded after signIn"),a(_),xe.currentUser=_,$u()):(console.warn("[Auth] Profile not found after signIn, but proceeding with authenticated user"),a(null)),localStorage.setItem("isLoggedIn","true"),l(!1),window.dispatchEvent(new Event("authChange"))}return S}catch(S){return console.error("[Auth] signIn exception:",S),{error:S}}},h=async()=>{console.log("[Auth] signOut called");try{await ye.auth.signOut(),r(null),a(null),xe.currentUser=null,$u(),localStorage.removeItem("isLoggedIn"),window.dispatchEvent(new Event("authChange")),console.log("[Auth] signOut completed successfully")}catch(p){console.error("[Auth] signOut error:",p)}};return console.log("[AuthProvider] Rendering with context value:",{user:!!t,profile:!!n,isLoading:s}),c.jsx(eD.Provider,{value:{user:t,profile:n,isLoading:s,signIn:f,signOut:h},children:e})};function jp(){console.log("[useAuth] Called, checking context...");const e=j.useContext(eD);if(console.log("[useAuth] Context value:",e?"exists":"undefined"),!e)throw console.error("[useAuth] ERROR: Context not available! This hook must be used within <AuthProvider>",{contextName:"AuthContext",componentStack:new Error().stack}),new Error("useAuth must be used within AuthProvider");return e}const tD=j.createContext(void 0),Zz=({children:e})=>{const[t,r]=j.useState([]),n=j.useCallback((l,d,f=3500)=>{const h=`toast-${Date.now()}-${Math.random()}`,p={id:h,message:l,type:d,duration:f};return r(g=>[...g,p]),f>0&&setTimeout(()=>{a(h)},f),h},[]),a=j.useCallback(l=>{r(d=>d.filter(f=>f.id!==l))},[]),s=j.useCallback((l,d,f,h=3500)=>{r(p=>{const g=p.map(y=>y.id===l?{...y,message:d,type:f,duration:h}:y);return h>0&&setTimeout(()=>{a(l)},h),g})},[a]);return c.jsx(tD.Provider,{value:{toasts:t,showToast:n,dismissToast:a,updateToast:s},children:e})},rD=()=>{const e=j.useContext(tD);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Dr=()=>{const{showToast:e,updateToast:t}=rD();return{success:r=>e(r,"success",3500),error:r=>e(r,"error",4500),warning:r=>e(r,"warning",3500),info:r=>e(r,"info",3500),loading:r=>e(r,"info",0),update:(r,n,a="success")=>t(r,n,a,3500)}},nD=j.createContext(void 0),Jz=({children:e})=>{const[t,r]=j.useState(""),n=()=>r("");return c.jsx(nD.Provider,{value:{searchQuery:t,setSearchQuery:r,clearSearch:n},children:e})},Os=()=>{const e=j.useContext(nD);if(!e)throw new Error("useSearch must be used within a SearchProvider");return e},eq=j.createContext(void 0),tq=({children:e})=>{const t=Le(),[r,n]=br.useState(!1);return j.useEffect(()=>{console.log("[Realtime] Initializing subscriptions for orders, bills, transactions...");const a=ye.channel("public:orders",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"orders"},f=>{var h,p;if(console.log("[Realtime] Orders change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["orders"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["orders"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["orders"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["orders"],(g=[])=>g.filter(y=>y.id!==f.new.id));t.invalidateQueries({queryKey:["ordersByCustomerId"]}),(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["order",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?(console.log("[Realtime] Orders channel subscribed"),n(!0)):f==="CHANNEL_ERROR"&&h&&(console.error("[Realtime] Orders channel error:",h),n(!1))}),s=ye.channel("public:bills",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"bills"},f=>{var h,p;if(console.log("[Realtime] Bills change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["bills"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["bills"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["bills"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["bills"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["bill",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Bills channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Bills channel error:",h)}),l=ye.channel("public:transactions",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"transactions"},f=>{var h,p;if(console.log("[Realtime] Transactions change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["transactions"])||[];if(!g.find(y=>y.id===f.new.id)){const y=[f.new,...g].sort((b,w)=>{const S=new Date(b.date||b.createdAt||0).getTime();return new Date(w.date||w.createdAt||0).getTime()-S});t.setQueryData(["transactions"],y)}}else f.eventType==="UPDATE"?t.setQueryData(["transactions"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["transactions"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["transaction",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Transactions channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Transactions channel error:",h)}),d=ye.channel("public:accounts",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"accounts"},f=>{var h,p;if(console.log("[Realtime] Accounts change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["accounts"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["accounts"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["accounts"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["accounts"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["account",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Accounts channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Accounts channel error:",h)});return()=>{console.log("[Realtime] Cleaning up all subscriptions"),ye.removeChannel(a),ye.removeChannel(s),ye.removeChannel(l),ye.removeChannel(d),n(!1)}},[t]),c.jsx(eq.Provider,{value:{isConnected:r},children:e})},aD=j.createContext(void 0),rq=({children:e})=>{const t=Le(),[r,n]=j.useState(navigator.onLine),[a,s]=j.useState(!1);return j.useEffect(()=>{console.log("[Network] Provider initialized - initial online status:",navigator.onLine);const l=()=>{console.log("[Network] Connection restored - refetching all queries"),n(!0),s(!0),t.refetchQueries()},d=()=>{console.log("[Network] Connection lost - offline mode activated"),n(!1)};return window.addEventListener("online",l),window.addEventListener("offline",d),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",d)}},[t]),c.jsx(aD.Provider,{value:{isOnline:r,wasOffline:a},children:e})};function nq(){const e=j.useContext(aD);if(!e)throw new Error("useNetwork must be used within NetworkProvider");return e}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=e=>{const t=iq(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...d},f)=>j.createElement("svg",{ref:f,...sq,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:iD("lucide",a),...!s&&!oq(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>j.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(e,t)=>{const r=j.forwardRef(({className:n,...a},s)=>j.createElement(lq,{ref:s,iconNode:t,className:iD(`lucide-${aq($E(e))}`,`lucide-${e}`,n),...a}));return r.displayName=$E(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],uq=At("arrow-right-left",cq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],UE=At("briefcase",dq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],hq=At("chart-column",fq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],pq=At("check",mq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yq=At("chevron-right",gq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bq=At("circle-alert",vq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],wq=At("circle-plus",xq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Sq=At("copy",jq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Nq=At("credit-card",_q);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Eq=At("download",Oq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Cq=At("ellipsis-vertical",Aq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Pq=At("info",kq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Dq=At("layout-dashboard",Tq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rq=At("log-out",Mq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["path",{d:"M5 12h14",key:"1ays0h"}]],Lq=At("minus",Iq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$q=At("package",Bq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zq=At("plus",Uq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Kq=At("printer",qq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qq=At("search",Fq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vq=At("settings",Hq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Yq=At("shopping-cart",Gq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Xq=At("square-pen",Wq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jq=At("trash-2",Zq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],t8=At("truck",e8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zE=At("users",r8),se={Dashboard:c.jsx(Dq,{size:20}),Sales:c.jsx(Yq,{size:20}),Products:c.jsx($q,{size:20}),Customers:c.jsx(zE,{size:20}),Vendors:c.jsx(UE,{size:20}),Users:c.jsx(zE,{size:20}),Briefcase:c.jsx(UE,{size:20}),Banking:c.jsx(Nq,{size:20}),Reports:c.jsx(hq,{size:20}),Settings:c.jsx(Vq,{size:20}),Courier:c.jsx(t8,{size:20}),Plus:c.jsx(zq,{size:20}),Minus:c.jsx(Lq,{size:20}),PlusCircle:c.jsx(wq,{size:20}),LogOut:c.jsx(Rq,{size:20}),ChevronRight:c.jsx(yq,{size:20}),Search:c.jsx(Qq,{size:18}),More:c.jsx(Cq,{size:18}),Print:c.jsx(Kq,{size:18}),Download:c.jsx(Eq,{size:18}),Duplicate:c.jsx(Sq,{size:18}),Edit:c.jsx(Xq,{size:18}),Delete:c.jsx(Jq,{size:18}),Transfer:c.jsx(uq,{size:18}),Check:c.jsx(pq,{size:20}),AlertCircle:c.jsx(bq,{size:20}),Info:c.jsx(Pq,{size:20})},ve=e=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0,maximumFractionDigits:0}).format(e).replace("BDT",""),Sp=e=>({ON_HOLD:"bg-gray-100 text-gray-600",PROCESSING:"bg-blue-100 text-blue-600",PICKED:"bg-purple-100 text-purple-600",COMPLETED:"bg-green-100 text-green-600",CANCELLED:"bg-red-100 text-red-600",RECEIVED:"bg-green-100 text-green-600","On Hold":"bg-gray-100 text-gray-600",Processing:"bg-blue-100 text-blue-600",Picked:"bg-purple-100 text-purple-600",Completed:"bg-green-100 text-green-600",Cancelled:"bg-red-100 text-red-600",Received:"bg-green-100 text-green-600"})[e]||"bg-gray-100 text-gray-600";var Qt=(e=>(e.ADMIN="Admin",e.EMPLOYEE="Employee",e))(Qt||{}),Ue=(e=>(e.ON_HOLD="On Hold",e.PROCESSING="Processing",e.PICKED="Picked",e.COMPLETED="Completed",e.CANCELLED="Cancelled",e))(Ue||{}),nn=(e=>(e.ON_HOLD="On Hold",e.PROCESSING="Processing",e.RECEIVED="Received",e.PAID="Paid",e))(nn||{});const oe={colors:{primary:{50:"bg-[#ebf4ff]",500:"bg-[#3c5a82]",600:"bg-[#0f2f57]",700:"bg-[#0c203b]",text:"text-[#0f2f57]"},secondary:{600:"bg-blue-600",700:"bg-blue-700"},danger:{50:"bg-red-50",600:"bg-red-600",700:"bg-red-700",text:"text-red-600"},bg:{primary:"bg-white",secondary:"bg-gray-50",tertiary:"bg-gray-100"},text:{primary:"text-gray-900",secondary:"text-gray-500",tertiary:"text-gray-400"},border:{primary:"border-gray-100"}},radius:{sm:"rounded-lg",md:"rounded-xl"},transitions:{normal:"transition-all duration-300"},buttons:{base:"inline-flex items-center justify-center gap-2 font-bold rounded-xl transition-all duration-300 cursor-pointer",secondary:"bg-gray-100 text-gray-600 hover:bg-gray-200",outline:"border-2 border-gray-200 text-gray-700 hover:bg-gray-50",sizes:{sm:"px-3 py-2 text-xs",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3.5 text-sm"}},inputs:{base:"w-full px-4 py-2.5 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] focus:border-transparent transition-all",label:"block text-sm font-semibold text-gray-700 mb-2",error:"border-red-500 focus:ring-red-500"},table:{header:"bg-gray-50 border-b border-gray-100"},card:{base:"bg-white rounded-2xl shadow-sm border border-gray-100 transition-all",elevated:"bg-white rounded-2xl shadow-md border border-gray-100"}},_c="https://ozjddzasadgffjjeqntc.supabase.co",Nc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96amRkemFzYWRnZmZqamVxbnRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTMwMzEsImV4cCI6MjA4NTk2OTAzMX0._1fbWup_bHYe0PN5QUcptRMuwZRAEFwQOPEPd7Lk3NY";let Uu=null;async function on(){try{const e=Date.now();if(Uu&&e-Uu.ts<6e4)return Uu.session;const{data:t,error:r}=await ye.auth.getSession();if(r||!(t!=null&&t.session))throw new Error("No authenticated session available. Please log in.");Uu={session:t.session,ts:Date.now()};try{const n=t.session.expires_at&&Number(t.session.expires_at)||0;(n?n*1e3-Date.now():Number.POSITIVE_INFINITY)<12e4&&await ye.auth.refreshSession()}catch(n){console.warn("[supabaseQueries] session refresh failed (non-fatal):",n)}return Uu.session}catch(e){throw console.error("[supabaseQueries] ensureAuthenticated failed:",(e==null?void 0:e.message)||e),e}}async function ji(e,t=1e4){const r=n=>{if(!n)return!1;const a=((n==null?void 0:n.message)||(n==null?void 0:n.toString())||"").toLowerCase(),s=(n==null?void 0:n.code)||"";return a.includes("failed to fetch")||a.includes("connection closed")||a.includes("network")||a.includes("econnrefused")||a.includes("etimedout")||s==="ERR_CONNECTION_CLOSED"||n instanceof TypeError};try{const n=await Promise.race([e,new Promise(l=>{setTimeout(()=>l({data:null,error:{message:"Query timeout"}}),t)})]),{data:a,error:s}=n;if(s){if(r(s))return console.error("[supabaseQueries] NETWORK ERROR (no retry):",(s==null?void 0:s.message)||s),[];console.warn("[supabaseQueries] Query error (first attempt):",(s==null?void 0:s.message)||s);try{const d=await e;return d!=null&&d.error?(console.error("[supabaseQueries] Query retry failed:",d.error.message||d.error),[]):(d==null?void 0:d.data)??[]}catch(d){return console.error("[supabaseQueries] Query retry exception:",d),[]}}if(!a){console.warn("[supabaseQueries] Query returned no data on first attempt, retrying once...");try{const l=await e;return l!=null&&l.error?(console.error("[supabaseQueries] Query retry error:",l.error.message||l.error),[]):(l==null?void 0:l.data)??[]}catch(l){return console.error("[supabaseQueries] Query retry exception:",l),[]}}return a}catch(n){if(r(n))return console.error("[supabaseQueries] NETWORK ERROR in catch:",(n==null?void 0:n.message)||n),[];console.error("[supabaseQueries] Query exception (outer):",n);try{const s=await e;return s!=null&&s.error?(console.error("[supabaseQueries] Final retry error:",s.error.message||s.error),[]):(s==null?void 0:s.data)??[]}catch(s){return console.error("[supabaseQueries] Final retry exception:",s),[]}}}async function sD(){return console.log("[supabaseQueries] fetchCustomers called"),(await ji(ye.from("customers").select("*").order("created_at",{ascending:!1}))).map(_p)}async function n8(e){const{data:t,error:r}=await ye.from("customers").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchCustomerById error:",r),null):_p(t)}async function a8(e){await on();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("customers").insert([{id:t,name:e.name,phone:e.phone,address:e.address,total_orders:e.totalOrders||0,due_amount:e.dueAmount||0}]).select().single();if(n)throw console.error("[supabaseQueries] createCustomer error:",n),n;return _p(r)}async function i8(e,t){await on();const{data:r,error:n}=await ye.from("customers").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.address&&{address:t.address},...t.totalOrders!==void 0&&{total_orders:t.totalOrders},...t.dueAmount!==void 0&&{due_amount:t.dueAmount}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateCustomer error:",n),n;return _p(r)}async function s8(e){const{error:t}=await ye.from("customers").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteCustomer error:",t),t}function _p(e){return{id:e.id,name:e.name,phone:e.phone,address:e.address,totalOrders:e.total_orders??e.totalOrders??0,dueAmount:e.due_amount??e.dueAmount??0}}async function o8(){return(await ji(ye.from("orders").select("*").order("created_at",{ascending:!1}))).map(qd)}async function l8(e){const{data:t,error:r}=await ye.from("orders").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchOrderById error:",r),null):qd(t)}async function c8(e){return(await ji(ye.from("orders").select("*").eq("customer_id",e).order("order_date",{ascending:!1}))).map(qd)}async function u8(e){await on();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("orders").insert([{id:t,order_number:e.orderNumber,order_date:e.orderDate,customer_id:e.customerId,created_by:e.createdBy,status:e.status,items:e.items,subtotal:e.subtotal,discount:e.discount,shipping:e.shipping,total:e.total,paid_amount:e.paidAmount,history:e.history}]).select().single();if(n)throw console.error("[supabaseQueries] createOrder error:",n),n;return qd(r)}async function d8(e,t){await on();const{data:r,error:n}=await ye.from("orders").update({...t.customerId&&{customer_id:t.customerId},...t.orderDate&&{order_date:t.orderDate},...t.orderNumber&&{order_number:t.orderNumber},...t.notes!==void 0&&{notes:t.notes},...t.status&&{status:t.status},...t.items&&{items:t.items},...t.subtotal!==void 0&&{subtotal:t.subtotal},...t.discount!==void 0&&{discount:t.discount},...t.shipping!==void 0&&{shipping:t.shipping},...t.total!==void 0&&{total:t.total},...t.paidAmount!==void 0&&{paid_amount:t.paidAmount},...t.history&&{history:t.history}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateOrder error:",n),n;return qd(r)}async function f8(e){const{error:t}=await ye.from("orders").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteOrder error:",t),t}function qd(e){return{id:e.id,orderNumber:e.order_number??e.orderNumber,orderDate:e.order_date??e.orderDate,customerId:e.customer_id??e.customerId,createdBy:e.created_by??e.createdBy,status:e.status,items:e.items??[],subtotal:e.subtotal??0,discount:e.discount??0,shipping:e.shipping??0,total:e.total??0,notes:e.notes,history:e.history??{},paidAmount:e.paid_amount??e.paidAmount??0}}async function h8(){return(await ji(ye.from("accounts").select("*").order("created_at",{ascending:!1}))).map(Pw)}async function m8(e){const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("accounts").insert([{id:t,name:e.name,type:e.type,opening_balance:e.openingBalance,current_balance:e.currentBalance}]).select().single();if(n)throw console.error("[supabaseQueries] createAccount error:",n),n;return Pw(r)}async function p8(e,t){const{data:r,error:n}=await ye.from("accounts").update({...t.name&&{name:t.name},...t.type&&{type:t.type},...t.currentBalance!==void 0&&{current_balance:t.currentBalance}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateAccount error:",n),n;return Pw(r)}async function g8(e){const{error:t}=await ye.from("accounts").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteAccount error:",t),t}function Pw(e){return{id:e.id,name:e.name,type:e.type,openingBalance:e.opening_balance??e.openingBalance,currentBalance:e.current_balance??e.currentBalance}}async function y8(){return(await ji(ye.from("transactions").select("*").order("created_at",{ascending:!1}))).map(x8)}async function v8(e){await on();const t=crypto.randomUUID(),r={id:t,date:e.date,type:e.type,category:e.category,account_id:e.accountId,amount:e.amount,description:e.description,payment_method:e.paymentMethod,created_by:e.createdBy};e.toAccountId&&(r.to_account_id=e.toAccountId),e.referenceId&&(r.reference_id=e.referenceId),e.contactId&&(r.contact_id=e.contactId),e.attachmentName&&(r.attachment_name=e.attachmentName),e.attachmentUrl&&(r.attachment_url=e.attachmentUrl);const{error:n}=await ye.from("transactions").insert([r]);if(n)throw console.error("[supabaseQueries] createTransaction error:",n),n;return{id:t,date:e.date,type:e.type,category:e.category,accountId:e.accountId,toAccountId:e.toAccountId,amount:e.amount,description:e.description,referenceId:e.referenceId,contactId:e.contactId,paymentMethod:e.paymentMethod,attachmentName:e.attachmentName,attachmentUrl:e.attachmentUrl,createdBy:e.createdBy}}async function b8(e){if(e.startsWith("temp-")){const r=new Error("Cannot delete unsaved transactions. Please refresh and try again.");throw console.error("[supabaseQueries] deleteTransaction error:",r),r}const{error:t}=await ye.from("transactions").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteTransaction error:",t),t}function x8(e){const t=e.date??e.date_string??null,r=e.created_at??e.createdAt??null,n=t&&t.toString().length>10?t:r||t||"";return{id:e.id,date:n,type:e.type,category:e.category,accountId:e.account_id??e.accountId,toAccountId:e.to_account_id??e.toAccountId,amount:e.amount,description:e.description,referenceId:e.reference_id??e.referenceId,contactId:e.contact_id??e.contactId,paymentMethod:e.payment_method??e.paymentMethod,attachmentName:e.attachment_name??e.attachmentName,attachmentUrl:e.attachment_url??e.attachmentUrl,createdBy:e.created_by??e.createdBy,createdAt:r||null}}async function w8(){return(await ji(ye.from("users").select("*").order("created_at",{ascending:!1}))).map(Np)}async function j8(e){const{data:t,error:r}=await ye.from("users").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchUserById error:",r),null):Np(t)}async function S8(e){var t,r,n;try{const a=ZT(e.phone),s=e.password;if(!s)throw new Error("Password is required to create a user");console.log("[supabaseQueries] Creating auth user with email:",a);const{data:l,error:d}=await ye.auth.signUp({email:a,password:s,options:{data:{name:e.name,phone:e.phone}}});if(d)throw console.error("[supabaseQueries] Auth signup error:",d),d;const f=(t=l==null?void 0:l.user)==null?void 0:t.id;if(console.log("[supabaseQueries] Auth user created:",f,"Confirmed:",(n=(r=l==null?void 0:l.user)==null?void 0:r.user_metadata)==null?void 0:n.email_confirmed),!f)throw new Error("Failed to create auth user - no user ID returned. If email confirmation is enabled in Supabase Auth settings, please disable it.");console.log("[supabaseQueries] Creating user profile in public schema...");const{data:h,error:p}=await ye.from("users").insert([{id:f,name:e.name,phone:e.phone,role:e.role,image:e.image}]).select().single();if(p)throw console.error("[supabaseQueries] Create profile error:",p),p;return console.log("[supabaseQueries] User created successfully - can now sign in"),Np(h)}catch(a){throw console.error("[supabaseQueries] createUser error:",a),a}}async function _8(e,t){const{data:r,error:n}=await ye.from("users").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.role&&{role:t.role},...t.image&&{image:t.image}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateUser error:",n),n;return Np(r)}async function N8(e){const{error:t}=await ye.from("users").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteUser error:",t),t}function Np(e){return{id:e.id,name:e.name,phone:e.phone,role:e.role,image:e.image,createdAt:e.created_at}}async function O8(){return(await ji(ye.from("bills").select("*").order("created_at",{ascending:!1}))).map(Op)}async function E8(e){const{data:t,error:r}=await ye.from("bills").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchBillById error:",r),null):Op(t)}async function A8(e){await on();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("bills").insert([{id:t,bill_number:e.billNumber,bill_date:e.billDate,vendor_id:e.vendorId,created_by:e.createdBy,status:e.status,items:e.items,subtotal:e.subtotal,discount:e.discount,shipping:e.shipping,total:e.total,paid_amount:e.paidAmount,history:e.history||{}}]).select().single();if(n)throw console.error("[supabaseQueries] createBill error:",n),n;return Op(r)}async function C8(e,t){await on();const{data:r,error:n}=await ye.from("bills").update({...t.vendorId&&{vendor_id:t.vendorId},...t.billDate&&{bill_date:t.billDate},...t.billNumber&&{bill_number:t.billNumber},...t.notes!==void 0&&{notes:t.notes},...t.status&&{status:t.status},...t.items&&{items:t.items},...t.subtotal!==void 0&&{subtotal:t.subtotal},...t.discount!==void 0&&{discount:t.discount},...t.shipping!==void 0&&{shipping:t.shipping},...t.total!==void 0&&{total:t.total},...t.paidAmount!==void 0&&{paid_amount:t.paidAmount},...t.history&&{history:t.history}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateBill error:",n),n;return Op(r)}async function k8(e){const{error:t}=await ye.from("bills").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteBill error:",t),t}function Op(e){return{id:e.id,billNumber:e.bill_number??e.billNumber,billDate:e.bill_date??e.billDate,vendorId:e.vendor_id??e.vendorId,createdBy:e.created_by??e.createdBy,status:e.status,items:e.items??[],subtotal:e.subtotal??0,discount:e.discount??0,shipping:e.shipping??0,total:e.total??0,notes:e.notes,paidAmount:e.paid_amount??e.paidAmount??0,history:e.history}}async function P8(){return(await ji(ye.from("vendors").select("*").order("created_at",{ascending:!1}))).map(Ep)}async function T8(e){const{data:t,error:r}=await ye.from("vendors").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchVendorById error:",r),null):Ep(t)}async function D8(e){await on();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("vendors").insert([{id:t,name:e.name,phone:e.phone,address:e.address,total_purchases:e.totalPurchases||0,due_amount:e.dueAmount||0}]).select().single();if(n)throw console.error("[supabaseQueries] createVendor error:",n),n;return Ep(r)}async function M8(e,t){await on();const{data:r,error:n}=await ye.from("vendors").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.address&&{address:t.address},...t.totalPurchases!==void 0&&{total_purchases:t.totalPurchases},...t.dueAmount!==void 0&&{due_amount:t.dueAmount}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateVendor error:",n),n;return Ep(r)}async function R8(e){const{error:t}=await ye.from("vendors").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteVendor error:",t),t}function Ep(e){return{id:e.id,name:e.name,phone:e.phone,address:e.address,totalPurchases:e.total_purchases??e.totalPurchases??0,dueAmount:e.due_amount??e.dueAmount??0}}async function I8(){return(await ji(ye.from("products").select("*").order("created_at",{ascending:!1}))).map(Ap)}async function L8(e){const{data:t,error:r}=await ye.from("products").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchProductById error:",r),null):Ap(t)}async function B8(e){await on();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("products").insert([{id:t,name:e.name,image:e.image,category:e.category,sale_price:e.salePrice,purchase_price:e.purchasePrice}]).select().single();if(n)throw console.error("[supabaseQueries] createProduct error:",n),n;return Ap(r)}async function $8(e,t){const{data:r,error:n}=await ye.from("products").update({...t.name&&{name:t.name},...t.image&&{image:t.image},...t.category&&{category:t.category},...t.salePrice!==void 0&&{sale_price:t.salePrice},...t.purchasePrice!==void 0&&{purchase_price:t.purchasePrice}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateProduct error:",n),n;return Ap(r)}async function U8(e){const{error:t}=await ye.from("products").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteProduct error:",t),t}function Ap(e){return{id:e.id,name:e.name,image:e.image,category:e.category,salePrice:e.sale_price??e.salePrice??0,purchasePrice:e.purchase_price??e.purchasePrice??0}}async function z8(e){console.log("[supabaseQueries] fetchCategories called",e?"for type: "+e:"");try{let t=ye.from("categories").select("*").order("name",{ascending:!0});e&&(t=t.eq("type",e));const{data:r,error:n}=await t;if(n)throw console.error("[supabaseQueries] fetchCategories error:",n),new Error(`[${n.code}] ${n.message}`);return r?r.map(oD):[]}catch(t){throw console.error("[supabaseQueries] fetchCategories exception:",t),t}}async function q8(e){await on();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("categories").insert([{id:t,name:e.name,type:e.type,color:e.color||"#3B82F6",parent_id:e.parentId||null}]).select().single();if(n)throw console.error("[supabaseQueries] createCategory error:",n),n;return oD(r)}async function K8(e){const{error:t}=await ye.from("categories").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteCategory error:",t),t}function oD(e){return{id:e.id,name:e.name,type:e.type,color:e.color,parentId:e.parent_id,createdAt:e.created_at,updatedAt:e.updated_at}}async function F8(e=!0){console.log("[supabaseQueries] fetchPaymentMethods called");try{let t=ye.from("payment_methods").select("*").order("name",{ascending:!0});e&&(t=t.eq("is_active",!0));const{data:r,error:n}=await t;if(n)throw console.error("[supabaseQueries] fetchPaymentMethods error:",n),new Error(`[${n.code}] ${n.message}`);return r?r.map(lD):[]}catch(t){throw console.error("[supabaseQueries] fetchPaymentMethods exception:",t),t}}async function Q8(e){await on();const t=crypto.randomUUID(),{data:r,error:n}=await ye.from("payment_methods").insert([{id:t,name:e.name,description:e.description||null,is_active:!0}]).select().single();if(n)throw console.error("[supabaseQueries] createPaymentMethod error:",n),n;return lD(r)}async function H8(e){const{error:t}=await ye.from("payment_methods").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deletePaymentMethod error:",t),t}function lD(e){return{id:e.id,name:e.name,description:e.description,isActive:e.is_active,createdAt:e.created_at,updatedAt:e.updated_at}}async function V8(){console.log("[supabaseQueries] fetchUnits called");try{const{data:e,error:t}=await ye.from("units").select("*").order("name",{ascending:!0});if(t)throw console.error("[supabaseQueries] fetchUnits error:",t),new Error(`[${t.code}] ${t.message}`);return e?e.map(cD):[]}catch(e){throw console.error("[supabaseQueries] fetchUnits exception:",e),e}}async function G8(e){const t=e.shortName.toLowerCase(),{data:r,error:n}=await ye.from("units").insert([{id:t,name:e.name,short_name:e.shortName,description:e.description||null}]).select().single();if(n)throw console.error("[supabaseQueries] createUnit error:",n),n;return cD(r)}async function Y8(e){const{error:t}=await ye.from("units").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteUnit error:",t),t}function cD(e){return{id:e.id,name:e.name,shortName:e.short_name,description:e.description,createdAt:e.created_at,updatedAt:e.updated_at}}async function Kd(){try{const{data:e,error:t}=await ye.from("company_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchCompanySettings error:",t),{id:"default",name:"Your Company",phone:"+880",email:"info@company.com",address:"",logo:""}):{id:e.id,name:e.name||"Your Company",phone:e.phone||"+880",email:e.email||"info@company.com",address:e.address||"",logo:e.logo||""}}catch(e){return console.error("[supabaseQueries] fetchCompanySettings exception:",e),{id:"default",name:"Your Company",phone:"+880",email:"info@company.com",address:"",logo:""}}}async function W8(e){await on();try{const t=await Kd(),r={name:e.name||t.name,phone:e.phone||t.phone,email:e.email||t.email,address:e.address!==void 0?e.address:t.address,logo:e.logo!==void 0?e.logo:t.logo},{data:n}=await ye.from("company_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("company_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("company_settings").insert(r).select().single();if(l)throw l;a=s}return a||r}catch(t){throw console.error("[supabaseQueries] updateCompanySettings exception:",t),t}}async function Tw(){try{const{data:e,error:t}=await ye.from("order_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchOrderSettings error:",t),{prefix:"ORD-",nextNumber:1}):{prefix:e.prefix||"ORD-",nextNumber:e.next_number||1}}catch(e){return console.error("[supabaseQueries] fetchOrderSettings exception:",e),{prefix:"ORD-",nextNumber:1}}}async function uD(e){try{const t=await Tw(),r={prefix:e.prefix||t.prefix,next_number:e.nextNumber!==void 0?e.nextNumber:t.nextNumber},{data:n}=await ye.from("order_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("order_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("order_settings").insert(r).select().single();if(l)throw l;a=s}return a?{prefix:a.prefix,nextNumber:a.next_number}:r}catch(t){throw console.error("[supabaseQueries] updateOrderSettings error:",t),t}}async function Dw(){try{const{data:e,error:t}=await ye.from("invoice_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchInvoiceSettings error:",t),{title:"Invoice",logoWidth:120,logoHeight:120,footer:""}):{title:e.title||"Invoice",logoWidth:e.logo_width||120,logoHeight:e.logo_height||120,footer:e.footer||""}}catch(e){return console.error("[supabaseQueries] fetchInvoiceSettings exception:",e),{title:"Invoice",logoWidth:120,logoHeight:120,footer:""}}}async function X8(e){try{const t=await Dw(),r={title:e.title||t.title,logo_width:e.logoWidth!==void 0?e.logoWidth:t.logoWidth,logo_height:e.logoHeight!==void 0?e.logoHeight:t.logoHeight,footer:e.footer!==void 0?e.footer:t.footer},{data:n}=await ye.from("invoice_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("invoice_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("invoice_settings").insert(r).select().single();if(l)throw l;a=s}return a?{title:a.title,logoWidth:a.logo_width,logoHeight:a.logo_height,footer:a.footer}:{title:r.title,logoWidth:r.logo_width,logoHeight:r.logo_height,footer:r.footer}}catch(t){throw console.error("[supabaseQueries] updateInvoiceSettings error:",t),t}}async function Mw(){try{const{data:e,error:t}=await ye.from("system_defaults").select("*").single();return t?(console.error("[supabaseQueries] fetchSystemDefaults error:",t),{defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}):{defaultAccountId:e.default_account_id||"",defaultPaymentMethod:e.default_payment_method||"",incomeCategoryId:e.income_category_id||"",expenseCategoryId:e.expense_category_id||"",recordsPerPage:e.records_per_page||10}}catch(e){return console.error("[supabaseQueries] fetchSystemDefaults exception:",e),{defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}}}async function Z8(e){try{const t=await Mw(),r={default_account_id:e.defaultAccountId?e.defaultAccountId:t.defaultAccountId||null,default_payment_method:e.defaultPaymentMethod?e.defaultPaymentMethod:t.defaultPaymentMethod||null,income_category_id:e.incomeCategoryId?e.incomeCategoryId:t.incomeCategoryId||null,expense_category_id:e.expenseCategoryId?e.expenseCategoryId:t.expenseCategoryId||null,records_per_page:e.recordsPerPage!==void 0?e.recordsPerPage:t.recordsPerPage},{data:n}=await ye.from("system_defaults").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await ye.from("system_defaults").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await ye.from("system_defaults").insert(r).select().single();if(l)throw l;a=s}return a?{defaultAccountId:a.default_account_id,defaultPaymentMethod:a.default_payment_method,incomeCategoryId:a.income_category_id,expenseCategoryId:a.expense_category_id,recordsPerPage:a.records_per_page}:t}catch(t){throw console.error("[supabaseQueries] updateSystemDefaults error:",t),t}}async function Rw(){try{const{data:e,error:t}=await ye.from("courier_settings").select("*").single();return t?(console.error("[supabaseQueries] fetchCourierSettings error:",t),{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}):{steadfast:{baseUrl:e.steadfast_base_url||"",apiKey:e.steadfast_api_key||"",secretKey:e.steadfast_secret_key||""},carryBee:{baseUrl:e.carrybee_base_url||"",clientId:e.carrybee_client_id||"",clientSecret:e.carrybee_client_secret||"",clientContext:e.carrybee_client_context||"",storeId:e.carrybee_store_id||""}}}catch(e){return console.error("[supabaseQueries] fetchCourierSettings exception:",e),{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}}}async function J8(e){var t,r,n,a,s,l,d,f;try{const h=await Rw(),p={steadfast_base_url:((t=e.steadfast)==null?void 0:t.baseUrl)||h.steadfast.baseUrl,steadfast_api_key:((r=e.steadfast)==null?void 0:r.apiKey)||h.steadfast.apiKey,steadfast_secret_key:((n=e.steadfast)==null?void 0:n.secretKey)||h.steadfast.secretKey,carrybee_base_url:((a=e.carryBee)==null?void 0:a.baseUrl)||h.carryBee.baseUrl,carrybee_client_id:((s=e.carryBee)==null?void 0:s.clientId)||h.carryBee.clientId,carrybee_client_secret:((l=e.carryBee)==null?void 0:l.clientSecret)||h.carryBee.clientSecret,carrybee_client_context:((d=e.carryBee)==null?void 0:d.clientContext)||h.carryBee.clientContext,carrybee_store_id:((f=e.carryBee)==null?void 0:f.storeId)||h.carryBee.storeId},{data:g}=await ye.from("courier_settings").select("id").limit(1).maybeSingle();let y;if(g!=null&&g.id){const{data:b,error:w}=await ye.from("courier_settings").update(p).eq("id",g.id).select().maybeSingle();if(w)throw w;y=b}else{const{data:b,error:w}=await ye.from("courier_settings").insert(p).select().single();if(w)throw w;y=b}return{steadfast:{baseUrl:(y==null?void 0:y.steadfast_base_url)||"",apiKey:(y==null?void 0:y.steadfast_api_key)||"",secretKey:(y==null?void 0:y.steadfast_secret_key)||""},carryBee:{baseUrl:(y==null?void 0:y.carrybee_base_url)||"",clientId:(y==null?void 0:y.carrybee_client_id)||"",clientSecret:(y==null?void 0:y.carrybee_client_secret)||"",clientContext:(y==null?void 0:y.carrybee_client_context)||"",storeId:(y==null?void 0:y.carrybee_store_id)||""}}}catch(h){throw console.error("[supabaseQueries] updateCourierSettings error:",h),h}}async function e9(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.clientId)==null?void 0:r.trim(),f=(n=e.clientSecret)==null?void 0:n.trim(),h=(a=e.clientContext)==null?void 0:a.trim();if(!l||!d||!f||!h)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];console.log("[supabaseQueries] Calling Edge Function for CarryBee stores");const p=`${_c}/functions/v1/carrybee-stores`;console.log("[supabaseQueries] Edge Function URL:",p);const g=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nc}`},body:JSON.stringify({baseUrl:l,clientId:d,clientSecret:f,clientContext:h})});if(console.log("[supabaseQueries] Edge Function response status:",g.status),!g.ok)return console.error("[supabaseQueries] Edge Function error:",g.status,g.statusText),[];const y=await g.json();if(console.log("[supabaseQueries] Edge Function response data:",y),y.error)return console.error("[supabaseQueries] Edge Function returned error:",y.error,y.details),[];if(!((s=y.data)!=null&&s.stores))return console.warn("[supabaseQueries] No stores in response"),[];const b=y.data.stores.map(w=>({id:w.id,name:w.name}));return console.log("[supabaseQueries] Successfully fetched",b.length,"stores"),b}catch(l){return console.error("[supabaseQueries] fetchCarryBeeStores exception:",l instanceof Error?l.message:l),[]}}async function t9(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.clientId)==null?void 0:r.trim(),f=(n=e.clientSecret)==null?void 0:n.trim(),h=(a=e.clientContext)==null?void 0:a.trim();if(!l||!d||!f||!h)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const p=`${_c}/functions/v1/carrybee-cities`,g=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nc}`},body:JSON.stringify({baseUrl:l,clientId:d,clientSecret:f,clientContext:h})});if(!g.ok)return console.error("[supabaseQueries] Cities Edge Function error:",g.status),[];const y=await g.json();return y.error||!((s=y.data)!=null&&s.cities)?(console.error("[supabaseQueries] Cities Edge Function returned error:",y.error),[]):y.data.cities.map(b=>({id:b.id,name:b.name}))}catch(l){return console.error("[supabaseQueries] fetchCarryBeeCities exception:",l instanceof Error?l.message:l),[]}}async function r9(e){var t,r,n,a,s,l;try{const d=(t=e.baseUrl)==null?void 0:t.trim(),f=(r=e.clientId)==null?void 0:r.trim(),h=(n=e.clientSecret)==null?void 0:n.trim(),p=(a=e.clientContext)==null?void 0:a.trim(),g=(s=e.cityId)==null?void 0:s.trim();if(!d||!f||!h||!p||!g)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const y=`${_c}/functions/v1/carrybee-zones`,b=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nc}`},body:JSON.stringify({baseUrl:d,clientId:f,clientSecret:h,clientContext:p,cityId:g})});if(!b.ok)return console.error("[supabaseQueries] Zones Edge Function error:",b.status),[];const w=await b.json();return w.error||!((l=w.data)!=null&&l.zones)?(console.error("[supabaseQueries] Zones Edge Function returned error:",w.error),[]):w.data.zones.map(S=>({id:S.id,name:S.name}))}catch(d){return console.error("[supabaseQueries] fetchCarryBeeZones exception:",d instanceof Error?d.message:d),[]}}async function n9(e){var t,r,n,a,s,l,d;try{const f=(t=e.baseUrl)==null?void 0:t.trim(),h=(r=e.clientId)==null?void 0:r.trim(),p=(n=e.clientSecret)==null?void 0:n.trim(),g=(a=e.clientContext)==null?void 0:a.trim(),y=(s=e.cityId)==null?void 0:s.trim(),b=(l=e.zoneId)==null?void 0:l.trim();if(!f||!h||!p||!g||!y||!b)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const w=`${_c}/functions/v1/carrybee-areas`,S=await fetch(w,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nc}`},body:JSON.stringify({baseUrl:f,clientId:h,clientSecret:p,clientContext:g,cityId:y,zoneId:b})});if(!S.ok)return console.error("[supabaseQueries] Areas Edge Function error:",S.status),[];const _=await S.json();return _.error||!((d=_.data)!=null&&d.areas)?(console.error("[supabaseQueries] Areas Edge Function returned error:",_.error),[]):_.data.areas.map(N=>({id:N.id,name:N.name}))}catch(f){return console.error("[supabaseQueries] fetchCarryBeeAreas exception:",f instanceof Error?f.message:f),[]}}async function a9(e){var t,r,n,a;try{const s=(t=e.baseUrl)==null?void 0:t.trim(),l=(r=e.clientId)==null?void 0:r.trim(),d=(n=e.clientSecret)==null?void 0:n.trim(),f=(a=e.clientContext)==null?void 0:a.trim();if(!s||!l||!d||!f||!e.storeId)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),{error:"Missing required parameters"};console.log("[supabaseQueries] Calling Edge Function to submit CarryBee order");const h=`${_c}/functions/v1/carrybee-submit-order`,p=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nc}`},body:JSON.stringify({baseUrl:s,clientId:l,clientSecret:d,clientContext:f,storeId:e.storeId,deliveryType:e.deliveryType,productType:e.productType,recipientPhone:e.recipientPhone,recipientName:e.recipientName,recipientAddress:e.recipientAddress,cityId:e.cityId,zoneId:e.zoneId,areaId:e.areaId,itemWeight:e.itemWeight,collectableAmount:e.collectableAmount})});if(console.log("[supabaseQueries] Submit Order Edge Function response status:",p.status),!p.ok)return console.error("[supabaseQueries] Submit Order Edge Function error:",p.status),{error:`HTTP ${p.status}`};const g=await p.json();return console.log("[supabaseQueries] Submit Order response:",g),g.error?(console.error("[supabaseQueries] Edge Function returned error:",g.error),{error:g.error}):(console.log("[supabaseQueries] Successfully submitted order to CarryBee"),g.data)}catch(s){return console.error("[supabaseQueries] submitCarryBeeOrder exception:",s instanceof Error?s.message:s),{error:s instanceof Error?s.message:"Unknown error"}}}async function i9(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.apiKey)==null?void 0:r.trim(),f=(n=e.secretKey)==null?void 0:n.trim();if(console.log("[supabaseQueries] ======== BEFORE TRIM ========"),console.log("[supabaseQueries] baseUrl (raw):",JSON.stringify(e.baseUrl)),console.log("[supabaseQueries] apiKey (raw):",JSON.stringify((a=e.apiKey)==null?void 0:a.substring(0,5))),console.log("[supabaseQueries] secretKey (raw):",JSON.stringify((s=e.secretKey)==null?void 0:s.substring(0,5))),console.log("[supabaseQueries] ======== AFTER TRIM ========"),console.log("[supabaseQueries] baseUrl (trimmed):",JSON.stringify(l)),console.log("[supabaseQueries] apiKey (trimmed):",JSON.stringify(d==null?void 0:d.substring(0,5))),console.log("[supabaseQueries] secretKey (trimmed):",JSON.stringify(f==null?void 0:f.substring(0,5))),!l||!d||!f||!e.invoice||!e.recipientName||!e.recipientPhone||!e.recipientAddress||e.codAmount===void 0)return console.warn("[supabaseQueries] Steadfast API parameters incomplete"),console.warn("[supabaseQueries] Validation:",{baseUrl:!!l,apiKey:!!d,secretKey:!!f,invoice:!!e.invoice,recipientName:!!e.recipientName,recipientPhone:!!e.recipientPhone,recipientAddress:!!e.recipientAddress,codAmount:e.codAmount!==void 0}),{error:"Missing required parameters"};console.log("[supabaseQueries] ======== CALLING EDGE FUNCTION ========");const h=`${_c}/functions/v1/steadfast-submit-order`;console.log("[supabaseQueries] Edge Function URL:",h);const p={baseUrl:l,apiKey:d,secretKey:f,invoice:e.invoice,recipientName:e.recipientName,recipientPhone:e.recipientPhone,recipientAddress:e.recipientAddress,codAmount:e.codAmount};console.log("[supabaseQueries] Payload being sent:",{baseUrl:l,apiKey:`${d.substring(0,5)}...`,secretKey:`${f.substring(0,5)}...`,invoice:p.invoice,recipientName:p.recipientName,recipientPhone:p.recipientPhone,recipientAddress:p.recipientAddress,codAmount:p.codAmount});const g=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nc}`},body:JSON.stringify(p)});if(console.log("[supabaseQueries] Submit Steadfast Order Edge Function response status:",g.status),!g.ok)return console.error("[supabaseQueries] Submit Steadfast Order Edge Function error:",g.status),{error:`HTTP ${g.status}`};const y=await g.json();if(console.log("[supabaseQueries] Submit Steadfast Order response:",y),y.error){const b=y.details?`${y.error}: ${y.details}`:y.error;return console.error("[supabaseQueries] Edge Function returned error:",b),{error:b}}return console.log("[supabaseQueries] Successfully submitted order to Steadfast"),y.data}catch(l){return console.error("[supabaseQueries] submitSteadfastOrder exception:",l instanceof Error?l.message:l),{error:l instanceof Error?l.message:"Unknown error"}}}async function s9(e){await on();try{const[t,r,n,a,s]=await Promise.all([e.company?W8(e.company):Kd(),e.order?uD(e.order):Tw(),e.invoice?X8(e.invoice):Dw(),e.defaults?Z8(e.defaults):Mw(),e.courier?J8(e.courier):Rw()]);return{company:t,order:r,invoice:n,defaults:a,courier:s}}catch(t){throw console.error("[supabaseQueries] batchUpdateSettings error:",t),t}}const rs=({to:e,icon:t,label:r,active:n,onClick:a,children:s})=>{const[l,d]=j.useState(n);return s?c.jsxs("div",{className:"space-y-1",children:[c.jsxs("button",{onClick:()=>d(!l),className:`flex items-center justify-between w-full px-4 py-3 ${oe.radius.md} ${oe.transitions.normal} ${n?`${oe.colors.primary[50]} ${oe.colors.primary.text}`:`text-gray-500 hover:${oe.colors.primary[50]} hover:${oe.colors.primary.text}`}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[t,c.jsx("span",{className:"font-semibold text-sm",children:r})]}),c.jsx("div",{className:`transition-transform duration-200 ${l?"rotate-90":""}`,children:se.ChevronRight})]}),l&&c.jsx("div",{className:"pl-11 space-y-1",children:s.map(f=>c.jsx(id,{to:f.to,onClick:a,className:`block px-4 py-2 text-sm font-medium ${oe.radius.sm} ${oe.transitions.normal} ${f.active?`${oe.colors.primary[600]} text-white`:`text-gray-400 hover:${oe.colors.primary.text} hover:${oe.colors.primary[50]}/30`}`,children:f.label},f.to))})]}):c.jsxs(id,{to:e||"#",onClick:a,className:`flex items-center gap-3 px-4 py-3 ${oe.radius.md} ${oe.transitions.normal} ${n?`${oe.colors.primary[600]} text-white shadow-lg shadow-emerald-200/50`:`text-gray-500 hover:${oe.colors.primary[50]} hover:${oe.colors.primary.text}`}`,children:[t,c.jsx("span",{className:"font-semibold text-sm",children:r})]})},Je=({children:e})=>{const t=xi(),r=ht(),{signOut:n,profile:a}=jp(),{searchQuery:s,setSearchQuery:l}=Os(),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,y]=j.useState(!1),[b,w]=j.useState({name:xe.settings.company.name,logo:xe.settings.company.logo}),S=a||xe.currentUser;j.useEffect(()=>{(async()=>{try{const A=await Kd();w(A)}catch(A){console.error("Failed to load company settings:",A)}})()},[]);const _=async()=>{try{await n(),r("/login",{replace:!0})}catch(E){console.error("Logout failed:",E)}},N=E=>t.pathname===E||t.pathname.startsWith(E+"/");return br.useEffect(()=>{const E=document.querySelector("main");E&&(E.scrollTop=0);try{window.scrollTo(0,0)}catch{}},[t.pathname]),c.jsxs("div",{className:`${oe.colors.bg.secondary} flex overflow-hidden`,style:{minHeight:"100vh"},children:[d&&c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40 lg:hidden",onClick:()=>f(!1)}),c.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 ${oe.colors.bg.primary} border-r ${oe.colors.border.primary} ${oe.transitions.normal} transform lg:sticky lg:top-0 lg:h-screen lg:translate-x-0 ${d?"translate-x-0":"-translate-x-full"}`,children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"p-8",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-1 ${oe.colors.primary[50]} rounded-[50%]`,children:b.logo&&c.jsx("img",{src:b.logo,alt:"Logo",className:"w-10 h-10 rounded-lg object-cover"})}),c.jsxs("div",{children:[c.jsx("h1",{className:`text-xl font-black ${oe.colors.text.primary} tracking-tight leading-none`,children:b.name}),c.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Management"})]})]})}),c.jsxs("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto",children:[c.jsx(rs,{to:"/dashboard",icon:se.Dashboard,label:"Dashboard",active:N("/dashboard"),onClick:()=>f(!1)}),c.jsx(rs,{to:"/products",icon:se.Products,label:"Products",active:N("/products"),onClick:()=>f(!1)}),c.jsx(rs,{icon:se.Sales,label:"Sales",active:N("/orders")||N("/customers"),children:[{to:"/orders",label:"Orders",active:N("/orders")},{to:"/customers",label:"Customers",active:N("/customers")}],onClick:()=>f(!1)}),S.role===Qt.ADMIN&&c.jsxs(c.Fragment,{children:[c.jsx(rs,{icon:se.Briefcase,label:"Purchases",active:N("/bills")||N("/vendors"),children:[{to:"/bills",label:"Bills",active:N("/bills")},{to:"/vendors",label:"Vendors",active:N("/vendors")}],onClick:()=>f(!1)}),c.jsx(rs,{icon:se.Banking,label:"Banking",active:N("/banking"),children:[{to:"/banking/accounts",label:"Accounts",active:N("/banking/accounts")},{to:"/banking/transactions",label:"Transactions",active:N("/banking/transactions")},{to:"/banking/transfer",label:"Transfer",active:N("/banking/transfer")}],onClick:()=>f(!1)})]}),S.role===Qt.ADMIN&&c.jsxs(c.Fragment,{children:[c.jsx(rs,{to:"/reports",icon:se.Reports,label:"Reports",active:N("/reports"),onClick:()=>f(!1)}),c.jsx(rs,{to:"/users",icon:se.Users,label:"Users",active:N("/users"),onClick:()=>f(!1)}),c.jsx(rs,{to:"/settings",icon:se.Settings,label:"Settings",active:N("/settings"),onClick:()=>f(!1)})]})]})]})}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[c.jsxs("header",{className:`flex-shrink-0 sticky top-0 z-40 ${oe.colors.bg.primary}/80 backdrop-blur-lg border-b ${oe.colors.border.primary} px-6 h-20 flex items-center justify-between`,children:[c.jsx("button",{onClick:()=>f(!0),className:`lg:hidden p-2.5 hover:${oe.colors.bg.tertiary} ${oe.radius.md} ${oe.colors.text.secondary} border ${oe.colors.border.primary}`,children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),c.jsxs("div",{className:"flex-1 max-w-xl mx-4 relative group hidden sm:block",children:[c.jsx("div",{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-300 group-focus-within:${oe.colors.primary.text} ${oe.transitions.normal}`,children:se.Search}),c.jsx("input",{type:"text",placeholder:"Search orders, invoices, or customers...",value:s,onChange:E=>l(E.target.value),className:`block w-full pl-11 pr-4 py-2.5 ${oe.colors.bg.secondary} border-transparent focus:${oe.colors.bg.primary} focus:ring-2 focus:ring-[#3c5a82] focus:border-transparent ${oe.radius.md} text-sm ${oe.transitions.normal}`})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>p(!h),className:`${oe.colors.primary[600]} text-white w-10 h-10 flex items-center justify-center ${oe.radius.md} hover:${oe.colors.primary[700]} ${oe.transitions.normal} shadow-lg shadow-[#0f2f57]/20 active:scale-95`,children:se.Plus}),h&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>p(!1)}),c.jsxs("div",{className:`absolute right-0 mt-3 w-56 ${oe.colors.bg.primary} border ${oe.colors.border.primary} rounded-2xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in slide-in-from-top-2 duration-200 origin-top-right`,children:[c.jsx("div",{className:`px-4 py-2 text-[10px] font-bold ${oe.colors.text.tertiary} uppercase tracking-widest border-b ${oe.colors.border.primary} mb-1`,children:"Quick Actions"}),[{label:"New Order",to:"/orders/new",icon:se.Sales},{label:"New Bill",to:"/bills/new",icon:se.Briefcase},{label:"New Customer",to:"/customers/new",icon:se.Customers},{label:"New Vendor",to:"/vendors/new",icon:se.Vendors},{label:"Add Income",to:"/transactions/new/income",icon:se.PlusCircle},{label:"Add Expense",to:"/transactions/new/expense",icon:se.Delete}].map(E=>c.jsxs(id,{to:E.to,onClick:()=>p(!1),className:`flex items-center gap-3 px-4 py-3 text-sm font-bold ${oe.colors.text.primary} hover:${oe.colors.primary[50]} hover:${oe.colors.primary.text} ${oe.transitions.normal}`,children:[c.jsx("span",{className:"opacity-70",children:E.icon}),E.label]},E.label))]})]})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>y(!g),className:`flex items-center gap-3 pl-4 border-l ${oe.colors.border.primary} hover:opacity-70 ${oe.transitions.normal}`,children:[c.jsxs("div",{className:"text-right hidden md:block",children:[c.jsx("p",{className:`text-sm font-black ${oe.colors.text.primary} leading-none`,children:S.name}),c.jsx("p",{className:`text-[10px] font-bold ${oe.colors.primary.text} uppercase tracking-widest mt-1`,children:S.role})]}),c.jsx("img",{src:S.image||`https://ui-avatars.com/api/?name=${S.name}&background=0f2f57&color=fff`,alt:"Profile",className:"w-10 h-10 rounded-[50%] object-cover cursor-pointer"})]}),g&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>y(!1)}),c.jsxs("div",{className:`absolute right-0 mt-3 w-48 ${oe.colors.bg.primary} border ${oe.colors.border.primary} rounded-xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in slide-in-from-top-2 duration-200 origin-top-right`,children:[c.jsxs("button",{onClick:()=>{r(`/users/${S.id}`),y(!1)},className:`flex items-center gap-3 w-full px-4 py-3 text-sm font-bold ${oe.colors.primary.text} hover:${oe.colors.primary[50]} ${oe.transitions.normal}`,children:[se.Users,"Profile"]}),c.jsxs("button",{onClick:()=>{_(),y(!1)},className:`flex items-center gap-3 w-full px-4 py-3 text-sm font-bold ${oe.colors.danger.text} hover:${oe.colors.danger[50]} ${oe.transitions.normal}`,children:[se.LogOut,"Logout"]})]})]})]})]})]}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-6 lg:p-10 animate-in fade-in duration-500 relative",children:[e,c.jsxs("footer",{className:`mt-20 py-8 border-t ${oe.colors.border.primary} flex flex-col items-center gap-2`,children:[c.jsxs("p",{className:`text-sm font-medium ${oe.colors.text.secondary}`,children:[" ",new Date().getFullYear()," ",b.name,". All rights reserved."]}),c.jsxs("a",{href:"https://sajedurrahmanfiad.me",target:"_blank",rel:"noreferrer",className:`group flex items-center gap-1.5 text-[11px] font-bold ${oe.colors.text.secondary} hover:${oe.colors.primary.text} ${oe.transitions.normal} uppercase tracking-widest`,children:["Developed by ",c.jsx("span",{className:`${oe.colors.text.secondary} group-hover:${oe.colors.primary.text} underline underline-offset-4 decoration-[#0f2f57]/20`,children:"Md Sajedur Rahman Fiad"})]})]})]})]})]})},o9=()=>{const{toasts:e,dismissToast:t}=rD(),r=n=>{switch(n){case"success":return{icon:se.Check,bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon_color:"text-green-600"};case"error":return{icon:se.AlertCircle,bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon_color:"text-red-600"};case"warning":return{icon:se.AlertCircle,bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon_color:"text-yellow-600"};case"info":return{icon:se.Info,bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon_color:"text-blue-600"};default:return{icon:se.Info,bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-800",icon_color:"text-gray-600"}}};return c.jsx("div",{className:"fixed bottom-6 right-6 z-[9999] flex flex-col gap-3",children:e.map(n=>{const{icon:a,bg:s,border:l,text:d,icon_color:f}=r(n.type);return c.jsxs("div",{className:`${s} ${l} border rounded-lg p-4 shadow-md flex items-start gap-3 min-w-[320px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300`,children:[c.jsx("div",{className:`${f} flex-shrink-0 mt-0.5`,children:a}),c.jsx("div",{className:`${d} flex-1 text-sm font-medium`,children:n.message}),c.jsx("button",{onClick:()=>t(n.id),className:`${f} flex-shrink-0 hover:opacity-70 transition-opacity`,children:c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},n.id)})})},l9=()=>{const{isOnline:e}=nq(),[t,r]=j.useState(!1);return j.useEffect(()=>{if(!e)r(!0);else{const n=setTimeout(()=>{r(!1)},2e3);return()=>clearTimeout(n)}},[e]),t?c.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-red-50 border-b-2 shadow-lg transition-all duration-300",style:{borderColor:e?"#10b981":"#ef4444",backgroundColor:e?"#ecfdf5":"#fee2e2"},children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsx("div",{className:`text-xl ${e?"text-green-600":"text-red-600"}`,children:e?"":""}),c.jsxs("div",{children:[c.jsx("p",{className:`font-bold ${e?"text-green-900":"text-red-900"}`,children:e?"Connection Restored":"No Internet Connection"}),c.jsx("p",{className:`text-sm ${e?"text-green-700":"text-red-700"}`,children:e?"Data is syncing with the server":"Your changes will be saved when connection is restored"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[!e&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-pulse w-2 h-2 rounded-full bg-red-500"}),c.jsx("span",{className:"text-xs font-medium text-red-600",children:"Waiting for connection..."})]}),e&&c.jsx("span",{className:"text-xs font-medium text-green-600",children:"Syncing..."})]})]})}):null},c9=()=>{const e=ht(),{signIn:t,isLoading:r,user:n}=jp(),[a,s]=j.useState(""),[l,d]=j.useState(""),[f,h]=j.useState(""),[p,g]=j.useState(!1),[y,b]=j.useState({name:"Your Company",logo:xe.settings.company.logo});j.useEffect(()=>{console.log("[Login] useEffect checking auth - isLoading:",r,"user:",!!n,"should navigate:",!r&&!!n),!r&&n&&(console.log("[Login] This is a backup redirect - user state already updated"),e("/dashboard",{replace:!0}))},[n,r,e]),j.useEffect(()=>{(async()=>{try{const _=await Kd();b({name:_.name,logo:_.logo||xe.settings.company.logo})}catch(_){console.error("Failed to load company settings:",_),b({name:xe.settings.company.name,logo:xe.settings.company.logo})}})()},[]);const w=async S=>{var _;S.preventDefault(),h(""),g(!0),console.log("[Login] Form submitted with phone:",a);try{console.log("[Login] Calling signIn...");const{error:N,data:E}=await t(a,l);if(N){console.error("[Login] Sign-in error:",N);const A=(N==null?void 0:N.message)||"Authentication failed";h(A),g(!1);return}console.log("[Login] Sign-in successful, user:",(_=E==null?void 0:E.user)==null?void 0:_.email),g(!1),console.log("[Login] Navigating to dashboard in 300ms..."),setTimeout(()=>{console.log("[Login] setTimeout callback executing - navigating to /dashboard"),e("/dashboard",{replace:!0})},300)}catch(N){console.error("[Login] Sign-in exception:",N),h((N==null?void 0:N.message)||"Failed to sign in"),g(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[y.logo&&c.jsx("img",{src:y.logo,alt:"Logo",className:"w-12 h-12 rounded-md object-cover"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold",children:y.name}),c.jsx("p",{className:"text-sm text-gray-500",children:"Sign in to continue"})]})]}),c.jsxs("form",{onSubmit:w,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),c.jsx("input",{value:a,onChange:S=>s(S.target.value),type:"tel",placeholder:"017XXXXXXXX",required:!0,disabled:p,className:"mt-1 block w-full border rounded px-3 py-2 focus:outline-none focus:ring disabled:opacity-50"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),c.jsx("input",{value:l,onChange:S=>d(S.target.value),type:"password",required:!0,disabled:p,className:"mt-1 block w-full border rounded px-3 py-2 focus:outline-none focus:ring disabled:opacity-50"})]}),f&&c.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-600 space-y-2",children:[c.jsx("p",{className:"font-semibold",children:"Error"}),c.jsx("p",{children:f}),f.includes("Email confirmation")&&c.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-700 text-xs",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Quick Fix:"}),c.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[c.jsx("li",{children:"Go to Supabase Dashboard"}),c.jsx("li",{children:"Project  Authentication  Providers"}),c.jsx("li",{children:'Click "Email" tab'}),c.jsx("li",{children:'Toggle OFF "Confirm email"'}),c.jsx("li",{children:"Save settings"}),c.jsx("li",{children:"Try logging in again"})]})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:p,className:"w-full bg-blue-600 text-white py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed font-medium hover:bg-blue-700 transition-colors",children:p?"Signing in...":"Sign In"})}),c.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded text-xs text-gray-600 space-y-1",children:[c.jsx("p",{className:"font-semibold text-gray-700",children:"Demo Admin Credentials:"}),c.jsxs("p",{children:["Phone: ",c.jsx("code",{className:"bg-white px-2 py-1 rounded",children:"01404020000"})]}),c.jsxs("p",{children:["Password: ",c.jsx("code",{className:"bg-white px-2 py-1 rounded",children:"admin@bdhatbela"})]})]})]})]})})},u9={primary:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},secondary:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},danger:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},warning:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},success:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},info:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},neutral:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},profit:{bg:"bg-gray-50",text:"text-black",icon:"text-black"}},Zn=({title:e,value:t,icon:r,variant:n="primary",bgColor:a,textColor:s,iconBgColor:l,isProfitCard:d=!1,profitValue:f})=>{const h=u9[n];let p=a||"bg-white",g=s||h.text,y=l||h.bg,b="";return d&&f!==void 0&&!a&&(f>=0?(p="bg-emerald-500",g="text-white",y="bg-emerald-600"):(p="bg-red-500",g="text-white",y="bg-red-600")),c.jsxs("div",{className:`p-6 flex items-center gap-4 ${p} rounded-xl shadow-lg border border-gray-100 ${b}`,children:[c.jsx("div",{className:`${y} p-4 rounded-lg flex items-center justify-center`,children:c.jsx("div",{className:g,children:r})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:`text-xs font-bold uppercase tracking-widest ${g==="text-white"?"text-white/70":"text-gray-400"}`,children:e}),c.jsx("h3",{className:`text-2xl font-black mt-1 ${g}`,children:t})]})]})},qe=br.forwardRef(({variant:e="primary",size:t="md",children:r,icon:n,loading:a=!1,className:s="",...l},d)=>{const f={primary:`${oe.colors.primary[600]} text-white hover:${oe.colors.primary[700]} shadow-lg shadow-[#0f2f57]/20`,secondary:oe.buttons.secondary,danger:`${oe.colors.danger[600]} text-white hover:${oe.colors.danger[700]} shadow-lg`,outline:oe.buttons.outline,ghost:"text-gray-600 hover:bg-gray-50"},h={sm:oe.buttons.sizes.sm,md:oe.buttons.sizes.md,lg:oe.buttons.sizes.lg};return c.jsx("button",{ref:d,className:`${oe.buttons.base} ${f[e]} ${h[t]} ${a?"opacity-75 cursor-wait":""} ${s}`,disabled:a||l.disabled,...l,children:c.jsxs("span",{className:"flex items-center gap-2",children:[a&&c.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n&&!a&&c.jsx("span",{children:n}),r]})})});qe.displayName="Button";const d9={primary:`p-2.5 text-gray-400 hover:${oe.colors.primary[600]} hover:bg-[#ebf4ff] rounded-lg transition-all`,danger:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",secondary:`p-2.5 text-gray-400 hover:${oe.colors.secondary[600]} hover:bg-[#e6f0ff] rounded-lg transition-all`,neutral:"p-2.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-all"},fi=br.forwardRef(({variant:e="primary",icon:t,title:r,className:n="",...a},s)=>c.jsx("button",{ref:s,className:`${d9[e]} ${n}`,title:r,...a,children:t}));fi.displayName="IconButton";const Cp=({columns:e,rows:t=5})=>c.jsx(c.Fragment,{children:Array.from({length:t}).map((r,n)=>c.jsx("tr",{className:"border-b border-gray-50 animate-pulse",children:Array.from({length:e}).map((a,s)=>c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2"})]})},s))},n))}),kp=({columns:e,data:t,emptyMessage:r="No data found",onRowClick:n,rowClassName:a,hover:s=!0,striped:l=!1,size:d="md",loading:f=!1,loadingRows:h=8})=>{const p={sm:"px-4 py-3",md:"px-6 py-5",lg:"px-6 py-6"}[d],g=s?"hover:bg-[#ebf4ff]/50 cursor-pointer transition-all":"",y=l?"odd:bg-gray-50":"";return c.jsx("div",{className:`${oe.card.base} overflow-visible`,children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsx("tr",{className:oe.table.header,children:e.map(b=>c.jsx("th",{className:`${p} text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ${b.align==="center"?"text-center":b.align==="right"?"text-right":""}`,style:b.width?{width:b.width}:void 0,children:b.label},b.key))})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:f?c.jsx(Cp,{columns:e.length,rows:h}):t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:e.length,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:r})}):t.map((b,w)=>c.jsx("tr",{onClick:()=>n==null?void 0:n(b,w),className:`
                    border-b border-gray-50 transition-all
                    ${g}
                    ${y}
                    ${(a==null?void 0:a(b,w))||""}
                  `,children:e.map(S=>c.jsx("td",{className:`${p} ${S.align==="center"?"text-center":S.align==="right"?"text-right":""}`,children:S.render?S.render(b[S.key],b,w):b[S.key]},S.key))},b.id||w))})]})})})},f9=br.forwardRef(({label:e,error:t,helperText:r,className:n="",...a},s)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:oe.inputs.label,children:e}),c.jsx("input",{ref:s,className:`${oe.inputs.base} ${t?oe.inputs.error:""} ${n}`,...a}),(t||r)&&c.jsx("p",{className:`mt-1 text-xs ${t?"text-red-500":"text-gray-500"}`,children:t||r})]}));f9.displayName="Input";const h9=br.forwardRef(({label:e,error:t,options:r,className:n="",...a},s)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:oe.inputs.label,children:e}),c.jsx("select",{ref:s,className:`${oe.inputs.base} ${t?oe.inputs.error:""} ${n}`,...a,children:r.map(l=>c.jsx("option",{value:l.value,children:l.label},l.value))}),t&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:t})]}));h9.displayName="Select";const m9=br.forwardRef(({label:e,error:t,className:r="",...n},a)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:oe.inputs.label,children:e}),c.jsx("textarea",{ref:a,className:`${oe.inputs.base} resize-none ${t?oe.inputs.error:""} ${r}`,...n}),t&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:t})]}));m9.displayName="TextArea";const Fd=({isLoading:e,message:t="Loading..."})=>e?c.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 flex items-center justify-center",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 flex flex-col items-center gap-4",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),c.jsx("p",{className:"text-gray-600 font-medium",children:t})]})}):null,md=({filterRange:e,setFilterRange:t,customDates:r,setCustomDates:n,statusTab:a,setStatusTab:s,statusOptions:l=[],title:d})=>{const[f,h]=j.useState(!1),p=["All Time","Today","This Week","This Month","This Year","Custom"];return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[c.jsxs("div",{className:"hidden sm:flex flex-wrap items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl border border-gray-100 shadow-sm",children:[p.map(g=>c.jsx("button",{onClick:()=>t(g),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${e===g?`${oe.colors.primary[600]} text-white shadow-md`:"text-gray-500 hover:bg-gray-50"}`,children:g},g)),e==="Custom"&&c.jsxs("div",{className:"flex items-center gap-2 px-3 border-l border-gray-100 ml-1",children:[c.jsx("input",{type:"date",value:r.from,onChange:g=>n({...r,from:g.target.value}),className:"px-2 py-1 border rounded-lg text-[10px] font-bold bg-gray-50 outline-none focus:ring-2 focus:ring-[#3c5a82]"}),c.jsx("span",{className:"text-gray-300 text-[10px] font-black tracking-widest uppercase",children:"To"}),c.jsx("input",{type:"date",value:r.to,onChange:g=>n({...r,to:g.target.value}),className:"px-2 py-1 border rounded-lg text-[10px] font-bold bg-gray-50 outline-none focus:ring-2 focus:ring-[#3c5a82]"})]})]}),s&&l.length>0&&c.jsx("div",{className:"flex items-center gap-1 bg-gray-100/50 p-1 rounded-2xl border border-gray-100",children:["All",...l].map(g=>c.jsx("button",{onClick:()=>s(g),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${a===g?"bg-white text-gray-900 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:g},g))})]}),c.jsxs("button",{onClick:()=>h(!0),className:"sm:hidden flex items-center justify-center gap-2 bg-white border border-gray-200 text-gray-600 px-4 py-3 rounded-2xl font-bold shadow-sm w-full",children:[se.Search,c.jsx("span",{className:"text-sm",children:"Filter & Period"}),e!=="All Time"&&c.jsx("div",{className:`w-2 h-2 rounded-full ${oe.colors.primary[500]} ml-1`})]})]}),f&&c.jsxs("div",{className:"fixed inset-0 z-[150] flex items-end justify-center",children:[c.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>h(!1)}),c.jsxs("div",{className:"bg-white w-full rounded-t-[3rem] p-8 z-[160] animate-in slide-in-from-bottom duration-300 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("h3",{className:"text-2xl font-black text-gray-900",children:["Filter ",d]}),c.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l18 18"})})})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Time Period"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(g=>c.jsx("button",{onClick:()=>t(g),className:`py-3 rounded-2xl text-xs font-bold transition-all border ${e===g?`${oe.colors.primary[600]} text-white border-[#0f2f57] shadow-lg`:"bg-white text-gray-500 border-gray-100 hover:bg-gray-50"}`,children:g},g))}),e==="Custom"&&c.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 animate-in fade-in duration-200",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-2",children:"From"}),c.jsx("input",{type:"date",value:r.from,onChange:g=>n({...r,from:g.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-2",children:"To"}),c.jsx("input",{type:"date",value:r.to,onChange:g=>n({...r,to:g.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"})]})]})]}),s&&l.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Status Filter"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:["All",...l].map(g=>c.jsx("button",{onClick:()=>s(g),className:`py-3 rounded-2xl text-xs font-bold transition-all border ${a===g?"bg-gray-900 text-white border-gray-900 shadow-lg":"bg-white text-gray-500 border-gray-100"}`,children:g},g))})]}),c.jsx("button",{onClick:()=>h(!1),className:`w-full py-5 ${oe.colors.primary[600]} text-white rounded-xl font-black text-lg shadow-xl active:scale-95 transition-all mt-4`,children:"Apply Filters"})]})]})]})]})},Iw=({isOpen:e,onClose:t,onSubmit:r,accounts:n,paymentForm:a,setPaymentForm:s,isLoading:l,title:d="Record Payment",buttonText:f="Add Payment"})=>e?c.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm",onClick:t}),c.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] p-10 z-[210] animate-in zoom-in-95 duration-200 border border-[#ebf4ff]",children:[c.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-8",children:d}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Payment Date"}),c.jsx("input",{type:"date",value:a.date,onChange:h=>s({...a,date:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Payment Time"}),c.jsx("input",{type:"time",value:a.time,onChange:h=>s({...a,time:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Select Account"}),c.jsxs("select",{value:a.accountId,onChange:h=>s({...a,accountId:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50",children:[c.jsx("option",{value:"",children:"Select an account..."}),n.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",ve(h.currentBalance),")"]},h.id))]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Amount (BDT)"}),c.jsx("input",{type:"number",value:a.amount,onChange:h=>s({...a,amount:parseFloat(h.target.value)||0}),disabled:l,className:`w-full px-6 py-4 bg-[#ebf4ff] border-2 border-[#c7dff5] rounded-lg font-black ${oe.colors.primary[600]} text-xl outline-none disabled:opacity-50`})]}),c.jsxs("div",{className:"pt-6 flex gap-4",children:[c.jsx(qe,{onClick:t,variant:"ghost",disabled:l,children:"Cancel"}),c.jsx(qe,{onClick:r,variant:"primary",size:"md",className:"flex-1",disabled:l,loading:l,children:f})]})]})]})]}):null;function $o(){return It({queryKey:["customers"],queryFn:sD,staleTime:300*1e3})}function dD(e){return It({queryKey:["customer",e],queryFn:()=>n8(e||""),enabled:!!e,staleTime:300*1e3})}function Oc(){return It({queryKey:["orders"],queryFn:o8,staleTime:300*1e3})}function Lw(e){return It({queryKey:["order",e],queryFn:()=>l8(e||""),enabled:!!e,staleTime:300*1e3})}function p9(e){return It({queryKey:["ordersByCustomerId",e],queryFn:()=>c8(e||""),enabled:!!e,staleTime:300*1e3})}function Ec(){return It({queryKey:["bills"],queryFn:O8,staleTime:300*1e3})}function fD(e){return It({queryKey:["bill",e],queryFn:()=>E8(e||""),enabled:!!e,staleTime:300*1e3})}function Es(){return It({queryKey:["accounts"],queryFn:h8,staleTime:300*1e3})}function Ac(){return It({queryKey:["transactions"],queryFn:y8,staleTime:300*1e3})}function As(){return It({queryKey:["users"],queryFn:w8,staleTime:300*1e3})}function hD(e){return It({queryKey:["user",e],queryFn:()=>j8(e||""),enabled:!!e,staleTime:300*1e3})}function Cc(){return It({queryKey:["vendors"],queryFn:P8,staleTime:300*1e3})}function mD(e){return It({queryKey:["vendor",e],queryFn:()=>T8(e||""),enabled:!!e,staleTime:300*1e3})}function Qd(){return It({queryKey:["products"],queryFn:I8,staleTime:1800*1e3})}function g9(e){return It({queryKey:["product",e],queryFn:()=>L8(e||""),enabled:!!e,staleTime:1800*1e3})}function Cs(e){return It({queryKey:["categories",e],queryFn:()=>z8(e),staleTime:3600*1e3})}function pD(e){return It({queryKey:["paymentMethods",e],queryFn:()=>F8(e),staleTime:3600*1e3})}function y9(){return It({queryKey:["units"],queryFn:V8,staleTime:3600*1e3})}function Pp(){return It({queryKey:["settings","company"],queryFn:Kd,staleTime:3600*1e3})}function Tp(){return It({queryKey:["settings","order"],queryFn:Tw,staleTime:3600*1e3})}function Dp(){return It({queryKey:["settings","invoice"],queryFn:Dw,staleTime:3600*1e3})}function gD(){return It({queryKey:["settings","defaults"],queryFn:Mw,staleTime:3600*1e3})}function Bw(){return It({queryKey:["settings","courier"],queryFn:Rw,staleTime:3600*1e3})}const yD=({isOpen:e,onClose:t,order:r,customer:n})=>{var p;const{data:a}=Bw(),[s,l]=j.useState(!1),[d,f]=j.useState(null);if(!e)return null;const h=async()=>{if(f(null),!r||!n){f("Missing order or customer information"),console.error("[SteadfastModal] Missing order, customer information");return}if(!(a!=null&&a.steadfast)){f("No Steadfast credentials configured"),console.error("[SteadfastModal] No Steadfast settings");return}const{baseUrl:g,apiKey:y,secretKey:b}=a.steadfast;if(console.log("[SteadfastModal] ======== SUBMISSION DEBUG ========"),console.log("[SteadfastModal] courierSettings object:",a),console.log("[SteadfastModal] steadfast object:",a.steadfast),console.log("[SteadfastModal] baseUrl:",g),console.log("[SteadfastModal] baseUrl type:",typeof g),console.log("[SteadfastModal] baseUrl empty?:",g===""||!g),console.log("[SteadfastModal] baseUrl trimmed empty?:",(g||"").trim()===""),console.log("[SteadfastModal] apiKey:",y?`${y.substring(0,5)}...`:"EMPTY/NULL"),console.log("[SteadfastModal] apiKey type:",typeof y),console.log("[SteadfastModal] secretKey:",b?`${b.substring(0,5)}...`:"EMPTY/NULL"),console.log("[SteadfastModal] secretKey type:",typeof b),!g||!y||!b){f(`Incomplete Steadfast credentials - baseUrl: ${!!g}, apiKey: ${!!y}, secretKey: ${!!b}`),console.error("[SteadfastModal] Incomplete credentials"),console.error("[SteadfastModal] baseUrl value:",JSON.stringify(g)),console.error("[SteadfastModal] apiKey value:",JSON.stringify(y)),console.error("[SteadfastModal] secretKey value:",JSON.stringify(b));return}l(!0);try{console.log("[SteadfastModal] ======== PREPARING SUBMISSION ========"),console.log("[SteadfastModal] Order Number:",r.orderNumber),console.log("[SteadfastModal] Customer Name:",n.name),console.log("[SteadfastModal] Customer Phone:",n.phone),console.log("[SteadfastModal] Customer Address:",n.address),console.log("[SteadfastModal] Order Total:",r.total);const w=await i9({baseUrl:g,apiKey:y,secretKey:b,invoice:r.orderNumber,recipientName:n.name,recipientPhone:n.phone,recipientAddress:n.address,codAmount:r.total});if(console.log("[SteadfastModal] ======== SUBMISSION RESULT ========"),console.log("[SteadfastModal] Result:",w),w.error){let S=w.error;try{w.error.includes("Account is not active")&&(S="Something went wrong.")}catch{}f(S),console.error("[SteadfastModal] Submission failed:",w.error);return}console.log("[SteadfastModal] Order submitted successfully to Steadfast"),t()}catch(w){const S=w instanceof Error?w.message:"Unknown error";f(S),console.error("[SteadfastModal] Exception during submission:",S)}finally{l(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40",onClick:t}),c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:`${oe.card.elevated} w-full max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-300`,children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add to Steadfast"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[d&&c.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[c.jsx("p",{className:"font-semibold",children:"Error:"}),c.jsx("p",{children:d})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Order Number"}),c.jsx("p",{className:"text-gray-900",children:(r==null?void 0:r.orderNumber)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Name"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.name)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Phone"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.phone)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Address"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.address)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"COD Amount"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[" ",((p=r==null?void 0:r.total)==null?void 0:p.toFixed(2))||"0.00"]})]})]}),c.jsxs("div",{className:"flex gap-3 px-6 py-4 border-t border-gray-100",children:[c.jsx("button",{onClick:t,disabled:s,className:"flex-1 py-2 px-4 rounded-lg border border-gray-200 text-gray-700 font-bold hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),c.jsx("button",{onClick:h,disabled:s||!r||!n,className:"flex-1 py-2 px-4 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Adding...":"Add"})]})]})})]})},vD=({isOpen:e,onClose:t,order:r,customer:n})=>{const{data:a}=Bw(),[s,l]=j.useState(1e3),[d,f]=j.useState("1"),[h,p]=j.useState(""),[g,y]=j.useState(""),[b,w]=j.useState(""),[S,_]=j.useState([]),[N,E]=j.useState([]),[A,C]=j.useState([]),[T,P]=j.useState(!1),[D,B]=j.useState(!1),[K,re]=j.useState(!1),[I,L]=j.useState(!1);return j.useEffect(()=>{e&&(async()=>{var J,G,R,H;if(!((J=a==null?void 0:a.carryBee)!=null&&J.baseUrl)||!((G=a==null?void 0:a.carryBee)!=null&&G.clientId)||!((R=a==null?void 0:a.carryBee)!=null&&R.clientSecret)||!((H=a==null?void 0:a.carryBee)!=null&&H.clientContext)){_([]);return}P(!0);try{const te=await t9({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext});_(te)}catch(te){console.error("Failed to fetch cities:",te),_([])}finally{P(!1)}})()},[e,a]),j.useEffect(()=>{(async()=>{var J,G;if(!h||!((J=a==null?void 0:a.carryBee)!=null&&J.baseUrl)||!((G=a==null?void 0:a.carryBee)!=null&&G.clientId)){E([]),y(""),w(""),C([]);return}B(!0);try{const R=await r9({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext,cityId:h});E(R)}catch(R){console.error("Failed to fetch zones:",R),E([])}finally{B(!1)}})()},[h,a]),j.useEffect(()=>{(async()=>{var J,G;if(!g||!h||!((J=a==null?void 0:a.carryBee)!=null&&J.baseUrl)||!((G=a==null?void 0:a.carryBee)!=null&&G.clientId)){C([]),w("");return}re(!0);try{const R=await n9({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext,cityId:h,zoneId:g});C(R)}catch(R){console.error("Failed to fetch areas:",R),C([])}finally{re(!1)}})()},[g,h,a]),e?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40",onClick:t}),c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:`${oe.card.elevated} w-full max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-300`,children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add to CarryBee"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Weight ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",value:s,onChange:V=>l(Number(V.target.value)),className:"flex-1 px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg",min:"1"}),c.jsx("span",{className:"text-sm font-semibold text-gray-700 whitespace-nowrap",children:"grams"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Delivery Type ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:d,onChange:V=>f(V.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg",children:[c.jsx("option",{value:"1",children:"Normal Delivery (Type 1)"}),c.jsx("option",{value:"2",children:"Express Delivery (Type 2)"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["City ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:h,onChange:V=>p(V.target.value),disabled:T||S.length===0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:T?"Loading cities...":S.length===0?"No cities available":"Select a city"}),S.map(V=>c.jsx("option",{value:V.id,children:V.name},V.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Zone ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:g,onChange:V=>y(V.target.value),disabled:!h||D||N.length===0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:h?D?"Loading zones...":N.length===0?"No zones available":"Select a zone":"Select a city first"}),N.map(V=>c.jsx("option",{value:V.id,children:V.name},V.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Area"}),c.jsxs("select",{value:b,onChange:V=>w(V.target.value),disabled:!g||K,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:g?K?"Loading areas...":A.length===0?"No areas available":"Select an area (optional)":"Select a zone first"}),A.map(V=>c.jsx("option",{value:V.id,children:V.name},V.id))]})]})]}),c.jsxs("div",{className:"flex gap-3 px-6 py-4 border-t border-gray-100",children:[c.jsx("button",{onClick:t,className:"flex-1 py-2 px-4 rounded-lg border border-gray-200 text-gray-700 font-bold hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{onClick:async()=>{if(!h||!g){alert("Please select both City and Zone");return}if(!r||!n){alert("Missing order or customer information"),console.error("Missing order or customer:",{order:r,customer:n});return}if(!(a!=null&&a.carryBee)){alert("CarryBee settings not configured"),console.error("Missing CarryBee settings:",a);return}const{baseUrl:V,clientId:J,clientSecret:G,clientContext:R,storeId:H}=a.carryBee;if(!V||!J||!G||!R||!H){alert("CarryBee settings incomplete. Please configure Base URL, Client ID, Client Secret, Client Context, and Store ID in Settings."),console.error("Incomplete CarryBee settings:",{baseUrl:V,clientId:J,clientSecret:G,clientContext:R,storeId:H});return}L(!0);try{console.log("[CarryBeeModal] Submitting order:",{storeId:H,deliveryType:Number(d),recipientPhone:n.phone,recipientName:n.name,cityId:h,zoneId:g,areaId:b||void 0,itemWeight:s,collectableAmount:r.total});const te=await a9({baseUrl:V,clientId:J,clientSecret:G,clientContext:R,storeId:H,deliveryType:Number(d),productType:1,recipientPhone:n.phone,recipientName:n.name,recipientAddress:n.address||"",cityId:h,zoneId:g,areaId:b||void 0,itemWeight:s,collectableAmount:r.total||0});te.error?alert(`Failed to send order: ${te.error}`):(alert("Order sent to CarryBee successfully!"),t())}catch(te){console.error("Error submitting order:",te),alert("Error sending order to CarryBee")}finally{L(!1)}},disabled:!h||!g||I,className:"flex-1 py-2 px-4 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:I?"Sending...":"Send"})]})]})})]}):null},a0=(e,t,r)=>{if(t==="All Time")return!0;const n=new Date(e),a=new Date;if(t==="Today")return n.toDateString()===a.toDateString();if(t==="This Week"){const s=a.getDate()-a.getDay(),l=new Date(new Date().setDate(s)),d=new Date(new Date().setDate(s+6));return n>=l&&n<=d}return t==="This Month"?n.getMonth()===a.getMonth()&&n.getFullYear()===a.getFullYear():t==="This Year"?n.getFullYear()===a.getFullYear():t==="Custom"?!r.from||!r.to?!0:n>=new Date(r.from)&&n<=new Date(r.to):!0};function bD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=bD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function rt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=bD(e))&&(n&&(n+=" "),n+=t);return n}var v9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function $w(e){if(typeof e!="string")return!1;var t=v9;return t.includes(e)}var b9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],x9=new Set(b9);function xD(e){return typeof e!="string"?!1:x9.has(e)}function wD(e){return typeof e=="string"&&e.startsWith("data-")}function _n(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(xD(r)||wD(r))&&(t[r]=e[r]);return t}function Co(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return _n(t)}return typeof e=="object"&&!Array.isArray(e)?_n(e):null}function Qr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(xD(r)||wD(r)||$w(r))&&(t[r]=e[r]);return t}function w9(e){return e==null?null:j.isValidElement(e)?Qr(e.props):typeof e=="object"&&!Array.isArray(e)?Qr(e):null}var j9=["children","width","height","viewBox","className","style","title","desc"];function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hx.apply(null,arguments)}function S9(e,t){if(e==null)return{};var r,n,a=_9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Uw=j.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:d,title:f,desc:h}=e,p=S9(e,j9),g=s||{width:n,height:a,x:0,y:0},y=rt("recharts-surface",l);return j.createElement("svg",hx({},Qr(p),{className:y,width:n,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),j.createElement("title",null,f),j.createElement("desc",null,h),r)}),N9=["children","className"];function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mx.apply(null,arguments)}function O9(e,t){if(e==null)return{};var r,n,a=E9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function E9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wr=j.forwardRef((e,t)=>{var{children:r,className:n}=e,a=O9(e,N9),s=rt("recharts-layer",n);return j.createElement("g",mx({className:s},Qr(a),{ref:t}),r)}),jD=j.createContext(null),A9=()=>j.useContext(jD);function St(e){return function(){return e}}const SD=Math.cos,wm=Math.sin,ua=Math.sqrt,jm=Math.PI,Mp=2*jm,px=Math.PI,gx=2*px,ro=1e-6,C9=gx-ro;function _D(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function k9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _D;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class P9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_D:k9(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,f=n-t,h=a-r,p=l-t,g=d-r,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>ro)if(!(Math.abs(g*f-h*p)>ro)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-l,w=a-d,S=f*f+h*h,_=b*b+w*w,N=Math.sqrt(S),E=Math.sqrt(y),A=s*Math.tan((px-Math.acos((S+y-_)/(2*N*E)))/2),C=A/E,T=A/N;Math.abs(C-1)>ro&&this._append`L${t+C*p},${r+C*g}`,this._append`A${s},${s},0,0,${+(g*b>p*w)},${this._x1=t+T*f},${this._y1=r+T*h}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(a),f=n*Math.sin(a),h=t+d,p=r+f,g=1^l,y=l?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>ro||Math.abs(this._y1-p)>ro)&&this._append`L${h},${p}`,n&&(y<0&&(y=y%gx+gx),y>C9?this._append`A${n},${n},0,1,${g},${t-d},${r-f}A${n},${n},0,1,${g},${this._x1=h},${this._y1=p}`:y>ro&&this._append`A${n},${n},0,${+(y>=px)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function zw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new P9(t)}function qw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ND(e){this._context=e}ND.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Rp(e){return new ND(e)}function OD(e){return e[0]}function ED(e){return e[1]}function AD(e,t){var r=St(!0),n=null,a=Rp,s=null,l=zw(d);e=typeof e=="function"?e:e===void 0?OD:St(e),t=typeof t=="function"?t:t===void 0?ED:St(t);function d(f){var h,p=(f=qw(f)).length,g,y=!1,b;for(n==null&&(s=a(b=l())),h=0;h<=p;++h)!(h<p&&r(g=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(g,h,f),+t(g,h,f));if(b)return s=null,b+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),d):t},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:St(!!f),d):r},d.curve=function(f){return arguments.length?(a=f,n!=null&&(s=a(n)),d):a},d.context=function(f){return arguments.length?(f==null?n=s=null:s=a(n=f),d):n},d}function Kh(e,t,r){var n=null,a=St(!0),s=null,l=Rp,d=null,f=zw(h);e=typeof e=="function"?e:e===void 0?OD:St(+e),t=typeof t=="function"?t:St(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ED:St(+r);function h(g){var y,b,w,S=(g=qw(g)).length,_,N=!1,E,A=new Array(S),C=new Array(S);for(s==null&&(d=l(E=f())),y=0;y<=S;++y){if(!(y<S&&a(_=g[y],y,g))===N)if(N=!N)b=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=y-1;w>=b;--w)d.point(A[w],C[w]);d.lineEnd(),d.areaEnd()}N&&(A[y]=+e(_,y,g),C[y]=+t(_,y,g),d.point(n?+n(_,y,g):A[y],r?+r(_,y,g):C[y]))}if(E)return d=null,E+""||null}function p(){return AD().defined(a).curve(l).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:St(+g),n=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:St(+g),h):e},h.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:St(+g),h):n},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:St(+g),r=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:St(+g),h):t},h.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:St(+g),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(n).y(t)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:St(!!g),h):a},h.curve=function(g){return arguments.length?(l=g,s!=null&&(d=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=d=null:d=l(s=g),h):s},h}class CD{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function T9(e){return new CD(e,!0)}function D9(e){return new CD(e,!1)}const Kw={draw(e,t){const r=ua(t/jm);e.moveTo(r,0),e.arc(0,0,r,0,Mp)}},M9={draw(e,t){const r=ua(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},kD=ua(1/3),R9=kD*2,I9={draw(e,t){const r=ua(t/R9),n=r*kD;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},L9={draw(e,t){const r=ua(t),n=-r/2;e.rect(n,n,r,r)}},B9=.8908130915292852,PD=wm(jm/10)/wm(7*jm/10),$9=wm(Mp/10)*PD,U9=-SD(Mp/10)*PD,z9={draw(e,t){const r=ua(t*B9),n=$9*r,a=U9*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const l=Mp*s/5,d=SD(l),f=wm(l);e.lineTo(f*r,-d*r),e.lineTo(d*n-f*a,f*n+d*a)}e.closePath()}},i0=ua(3),q9={draw(e,t){const r=-ua(t/(i0*3));e.moveTo(0,r*2),e.lineTo(-i0*r,-r),e.lineTo(i0*r,-r),e.closePath()}},Bn=-.5,$n=ua(3)/2,yx=1/ua(12),K9=(yx/2+1)*3,F9={draw(e,t){const r=ua(t/K9),n=r/2,a=r*yx,s=n,l=r*yx+r,d=-s,f=l;e.moveTo(n,a),e.lineTo(s,l),e.lineTo(d,f),e.lineTo(Bn*n-$n*a,$n*n+Bn*a),e.lineTo(Bn*s-$n*l,$n*s+Bn*l),e.lineTo(Bn*d-$n*f,$n*d+Bn*f),e.lineTo(Bn*n+$n*a,Bn*a-$n*n),e.lineTo(Bn*s+$n*l,Bn*l-$n*s),e.lineTo(Bn*d+$n*f,Bn*f-$n*d),e.closePath()}};function Q9(e,t){let r=null,n=zw(a);e=typeof e=="function"?e:St(e||Kw),t=typeof t=="function"?t:St(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:St(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:St(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Sm(){}function _m(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function TD(e){this._context=e}TD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_m(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_m(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H9(e){return new TD(e)}function DD(e){this._context=e}DD.prototype={areaStart:Sm,areaEnd:Sm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_m(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function V9(e){return new DD(e)}function MD(e){this._context=e}MD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:_m(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G9(e){return new MD(e)}function RD(e){this._context=e}RD.prototype={areaStart:Sm,areaEnd:Sm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Y9(e){return new RD(e)}function qE(e){return e<0?-1:1}function KE(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),d=(s*a+l*n)/(n+a);return(qE(s)+qE(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function FE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function s0(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,d=(s-n)/3;e._context.bezierCurveTo(n+d,a+d*t,s-d,l-d*r,s,l)}function Nm(e){this._context=e}Nm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:s0(this,this._t0,FE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,s0(this,FE(this,r=KE(this,e,t)),r);break;default:s0(this,this._t0,r=KE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ID(e){this._context=new LD(e)}(ID.prototype=Object.create(Nm.prototype)).point=function(e,t){Nm.prototype.point.call(this,t,e)};function LD(e){this._context=e}LD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function W9(e){return new Nm(e)}function X9(e){return new ID(e)}function BD(e){this._context=e}BD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=QE(e),a=QE(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function QE(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Z9(e){return new BD(e)}function Ip(e,t){this._context=e,this._t=t}Ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function J9(e){return new Ip(e,.5)}function eK(e){return new Ip(e,0)}function tK(e){return new Ip(e,1)}function ko(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,d=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<d;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function vx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function rK(e,t){return e[t]}function nK(e){const t=[];return t.key=e,t}function aK(){var e=St([]),t=vx,r=ko,n=rK;function a(s){var l=Array.from(e.apply(this,arguments),nK),d,f=l.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(l[d][h]=[0,+n(g,l[d].key,h,s)]).data=g;for(d=0,p=qw(t(l));d<f;++d)l[p[d]].index=d;return r(l,p),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:St(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:St(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?vx:typeof s=="function"?s:St(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??ko,a):r},a}function iK(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}ko(e,t)}}function sK(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,d=0;l<a;++l)d+=e[l][r][1]||0;n[r][1]+=n[r][0]=-d/2}ko(e,t)}}function oK(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var d=0,f=0,h=0;d<l;++d){for(var p=e[t[d]],g=p[n][1]||0,y=p[n-1][1]||0,b=(g-y)/2,w=0;w<d;++w){var S=e[t[w]],_=S[n][1]||0,N=S[n-1][1]||0;b+=_-N}f+=g,h+=b*g}a[n-1][1]+=a[n-1][0]=r,f&&(r-=h/f)}a[n-1][1]+=a[n-1][0]=r,ko(e,t)}}var o0={},l0={},HE;function lK(){return HE||(HE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(l0)),l0}var c0={},VE;function $D(){return VE||(VE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(c0)),c0}var u0={},GE;function Fw(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(u0)),u0}var d0={},f0={},YE;function cK(){return YE||(YE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(f0)),f0}var WE;function Qw(){return WE||(WE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cK(),r=Fw();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],l=a.length;if(l===0)return s;let d=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<l;){const g=a[d];h?g==="\\"&&d+1<l?(d++,f+=a[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}e.toPath=n})(d0)),d0}var XE;function Hw(){return XE||(XE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lK(),r=$D(),n=Fw(),a=Qw();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?r.isDeepKey(f)?s(d,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||t.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}e.get=s})(o0)),o0}var h0,ZE;function uK(){return ZE||(ZE=1,h0=Hw().get),h0}var dK=uK();const Po=Ca(dK);var fK=4;function vs(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fK,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Kt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,l)=>{var d=r[l-1];return typeof d=="string"?a+d+s:d!==void 0?a+vs(d)+s:a+s},"")}var xr=e=>e===0?0:e>0?1:-1,Na=e=>typeof e=="number"&&e!=+e,To=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,je=e=>(typeof e=="number"||e instanceof Number)&&!Na(e),Oa=e=>je(e)||typeof e=="string",hK=0,pd=e=>{var t=++hK;return"".concat(e||"").concat(t)},Br=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&typeof t!="string")return n;var s;if(To(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return Na(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},UD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Tt(e,t,r){return je(e)&&je(t)?vs(e+r*(t-e)):t}function zD(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Po(n,t))===r)}var Rt=e=>e===null||typeof e>"u",Hd=e=>Rt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function an(e){return e!=null}function Uo(){}var mK=["type","size","sizeType"];function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bx.apply(null,arguments)}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){pK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pK(e,t,r){return(t=gK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gK(e){var t=yK(e,"string");return typeof t=="symbol"?t:t+""}function yK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vK(e,t){if(e==null)return{};var r,n,a=bK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qD={symbolCircle:Kw,symbolCross:M9,symbolDiamond:I9,symbolSquare:L9,symbolStar:z9,symbolTriangle:q9,symbolWye:F9},xK=Math.PI/180,wK=e=>{var t="symbol".concat(Hd(e));return qD[t]||Kw},jK=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*xK;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},SK=(e,t)=>{qD["symbol".concat(Hd(e))]=t},Vw=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=vK(e,mK),s=eA(eA({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var d=()=>{var y=wK(l),b=Q9().type(y).size(jK(r,n,l)),w=b();if(w!==null)return w},{className:f,cx:h,cy:p}=s,g=Qr(s);return je(h)&&je(p)&&je(r)?j.createElement("path",bx({},g,{className:rt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Vw.registerSymbol=SK;var KD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Gw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{$w(a)&&(n[a]=(s=>r[a](r,s)))}),n},_K=(e,t,r)=>n=>(e(t,r,n),null),Vd=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];$w(a)&&typeof s=="function"&&(n||(n={}),n[a]=_K(s,t,r))}),n};function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){OK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OK(e,t,r){return(t=EK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nr(e,t){var r=NK({},e),n=t,a=Object.keys(t),s=a.reduce((l,d)=>(l[d]===void 0&&n[d]!==void 0&&(l[d]=n[d]),l),r);return s}function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Om.apply(null,arguments)}function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){kK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kK(e,t,r){return(t=PK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PK(e){var t=TK(e,"string");return typeof t=="symbol"?t:t+""}function TK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zn=32,DK={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function MK(e){var{data:t,iconType:r,inactiveColor:n}=e,a=zn/2,s=zn/6,l=zn/3,d=t.inactive?n:t.color,f=r??t.type;if(f==="none")return null;if(f==="plainline"){var h;return j.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:a,x2:zn,y2:a,className:"recharts-legend-icon"})}if(f==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(zn,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(f==="rect")return j.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(zn/8,"h").concat(zn,"v").concat(zn*3/4,"h").concat(-zn,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var p=CK({},t);return delete p.legendIcon,j.cloneElement(t.legendIcon,p)}return j.createElement(Vw,{fill:d,cx:a,cy:a,size:zn,sizeType:"diameter",type:f})}function RK(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:l}=e,d={x:0,y:0,width:zn,height:zn},f={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var y=p.formatter||a,b=rt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var w=p.inactive?s:p.color,S=y?y(p.value,p,g):p.value;return j.createElement("li",Om({className:b,style:f,key:"legend-item-".concat(g)},Vd(e,p,g)),j.createElement(Uw,{width:r,height:r,viewBox:d,style:h,"aria-label":"".concat(S," legend icon")},j.createElement(MK,{data:p,iconType:l,inactiveColor:s})),j.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},S))})}var IK=e=>{var t=nr(e,DK),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},j.createElement(RK,Om({},t,{payload:r})))},m0={},p0={},nA;function LK(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],d=n(l,s,r);a.has(d)||a.set(d,l)}return Array.from(a.values())}e.uniqBy=t})(p0)),p0}var g0={},aA;function BK(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(g0)),g0}var y0={},iA;function FD(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(y0)),y0}var v0={},b0={},x0={},sA;function $K(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(x0)),x0}var oA;function Yw(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$K();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(b0)),b0}var w0={},lA;function UK(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(w0)),w0}var cA;function zK(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yw(),r=UK();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(v0)),v0}var j0={},S0={},uA;function qK(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hw();function r(n){return function(a){return t.get(a,n)}}e.property=r})(S0)),S0}var _0={},N0={},O0={},E0={},dA;function QD(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(E0)),E0}var A0={},fA;function HD(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(A0)),A0}var C0={},hA;function VD(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(C0)),C0}var mA;function KK(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QD(),r=HD(),n=VD();function a(p,g,y){return typeof y!="function"?a(p,g,()=>{}):s(p,g,function b(w,S,_,N,E,A){const C=y(w,S,_,N,E,A);return C!==void 0?!!C:s(w,S,b,A)},new Map)}function s(p,g,y,b){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,y,b);case"function":return Object.keys(g).length>0?s(p,{...g},y,b):n.isEqualsSameValueZero(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:n.isEqualsSameValueZero(p,g)}}function l(p,g,y,b){if(g==null)return!0;if(Array.isArray(g))return f(p,g,y,b);if(g instanceof Map)return d(p,g,y,b);if(g instanceof Set)return h(p,g,y,b);const w=Object.keys(g);if(p==null||r.isPrimitive(p))return w.length===0;if(w.length===0)return!0;if(b!=null&&b.has(g))return b.get(g)===p;b==null||b.set(g,p);try{for(let S=0;S<w.length;S++){const _=w[S];if(!r.isPrimitive(p)&&!(_ in p)||g[_]===void 0&&p[_]!==void 0||g[_]===null&&p[_]!==null||!y(p[_],g[_],_,p,g,b))return!1}return!0}finally{b==null||b.delete(g)}}function d(p,g,y,b){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,S]of g.entries()){const _=p.get(w);if(y(_,S,w,p,g,b)===!1)return!1}return!0}function f(p,g,y,b){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let S=0;S<g.length;S++){const _=g[S];let N=!1;for(let E=0;E<p.length;E++){if(w.has(E))continue;const A=p[E];let C=!1;if(y(A,_,S,p,g,b)&&(C=!0),C){w.add(E),N=!0;break}}if(!N)return!1}return!0}function h(p,g,y,b){return g.size===0?!0:p instanceof Set?f([...p],[...g],y,b):!1}e.isMatchWith=a,e.isSetMatch=h})(O0)),O0}var pA;function GD(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KK();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(N0)),N0}var k0={},P0={},T0={},gA;function FK(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(T0)),T0}var D0={},yA;function Ww(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(D0)),D0}var M0={},vA;function YD(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",y="[object ArrayBuffer]",b="[object Object]",w="[object Error]",S="[object DataView]",_="[object Uint8Array]",N="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",C="[object BigUint64Array]",T="[object Int8Array]",P="[object Int16Array]",D="[object Int32Array]",B="[object BigInt64Array]",K="[object Float32Array]",re="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=B,e.bigUint64ArrayTag=C,e.booleanTag=a,e.dataViewTag=S,e.dateTag=d,e.errorTag=w,e.float32ArrayTag=K,e.float64ArrayTag=re,e.functionTag=g,e.int16ArrayTag=P,e.int32ArrayTag=D,e.int8ArrayTag=T,e.mapTag=f,e.numberTag=n,e.objectTag=b,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=N})(M0)),M0}var R0={},bA;function QK(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(R0)),R0}var xA;function WD(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FK(),r=Ww(),n=YD(),a=HD(),s=QK();function l(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,y,b=new Map,w=void 0){const S=w==null?void 0:w(p,g,y,b);if(S!==void 0)return S;if(a.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const _=new Array(p.length);b.set(p,_);for(let N=0;N<p.length;N++)_[N]=d(p[N],N,y,b,w);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;b.set(p,_);for(const[N,E]of p)_.set(N,d(E,N,y,b,w));return _}if(p instanceof Set){const _=new Set;b.set(p,_);for(const N of p)_.add(d(N,void 0,y,b,w));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,_);for(let N=0;N<p.length;N++)_[N]=d(p[N],N,y,b,w);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,_),f(_,p,y,b,w),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return b.set(p,_),f(_,p,y,b,w),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return b.set(p,_),f(_,p,y,b,w),_}if(p instanceof Error){const _=new p.constructor;return b.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,f(_,p,y,b,w),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return b.set(p,_),f(_,p,y,b,w),_}if(p instanceof Number){const _=new Number(p.valueOf());return b.set(p,_),f(_,p,y,b,w),_}if(p instanceof String){const _=new String(p.valueOf());return b.set(p,_),f(_,p,y,b,w),_}if(typeof p=="object"&&h(p)){const _=Object.create(Object.getPrototypeOf(p));return b.set(p,_),f(_,p,y,b,w),_}return p}function f(p,g,y=p,b,w){const S=[...Object.keys(g),...t.getSymbols(g)];for(let _=0;_<S.length;_++){const N=S[_],E=Object.getOwnPropertyDescriptor(p,N);(E==null||E.writable)&&(p[N]=d(g[N],N,y,b,w))}}function h(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=d,e.copyProperties=f})(P0)),P0}var wA;function HK(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WD();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(k0)),k0}var jA;function VK(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GD(),r=HK();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(_0)),_0}var I0={},L0={},B0={},SA;function GK(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WD(),r=Ww(),n=YD();function a(s,l){return t.cloneDeepWith(s,(d,f,h,p)=>{const g=l==null?void 0:l(d,f,h,p);if(g!==void 0)return g;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const y={};return p.set(s,y),t.copyProperties(y,s,h,p),y}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(y,s),y}case n.argumentsTag:{const y={};return t.copyProperties(y,s),y.length=s.length,y[Symbol.iterator]=s[Symbol.iterator],y}default:return}}})}e.cloneDeepWith=a})(B0)),B0}var _A;function YK(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GK();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(L0)),L0}var $0={},U0={},NA;function XD(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(U0)),U0}var z0={},OA;function WK(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ww();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(z0)),z0}var EA;function XK(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$D(),r=XD(),n=WK(),a=Qw();function s(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(l==null?void 0:l[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=s})($0)),$0}var AA;function ZK(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GD(),r=Fw(),n=YK(),a=Hw(),s=XK();function l(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return f=n.cloneDeep(f),function(h){const p=a.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=l})(I0)),I0}var CA;function JK(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FD(),r=qK(),n=VK(),a=ZK();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(j0)),j0}var kA;function eF(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LK(),r=BK(),n=FD(),a=zK(),s=JK();function l(d,f=n.identity){return a.isArrayLikeObject(d)?t.uniqBy(Array.from(d),r.ary(s.iteratee(f),1)):[]}e.uniqBy=l})(m0)),m0}var q0,PA;function tF(){return PA||(PA=1,q0=eF().uniqBy),q0}var rF=tF();const TA=Ca(rF);function ZD(e,t,r){return t===!0?TA(e,r):typeof t=="function"?TA(e,t):e}var K0={exports:{}},F0={},Q0={exports:{}},H0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA;function nF(){if(DA)return H0;DA=1;var e=bc();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function d(g,y){var b=y(),w=n({inst:{value:b,getSnapshot:y}}),S=w[0].inst,_=w[1];return s(function(){S.value=b,S.getSnapshot=y,f(S)&&_({inst:S})},[g,b,y]),a(function(){return f(S)&&_({inst:S}),g(function(){f(S)&&_({inst:S})})},[g]),l(b),b}function f(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!r(g,b)}catch{return!0}}function h(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return H0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,H0}var MA;function aF(){return MA||(MA=1,Q0.exports=nF()),Q0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA;function iF(){if(RA)return F0;RA=1;var e=bc(),t=aF();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,d=e.useMemo,f=e.useDebugValue;return F0.useSyncExternalStoreWithSelector=function(h,p,g,y,b){var w=s(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=d(function(){function N(P){if(!E){if(E=!0,A=P,P=y(P),b!==void 0&&S.hasValue){var D=S.value;if(b(D,P))return C=D}return C=P}if(D=C,n(A,P))return D;var B=y(P);return b!==void 0&&b(D,B)?(A=P,D):(A=P,C=B)}var E=!1,A,C,T=g===void 0?null:g;return[function(){return N(p())},T===null?void 0:function(){return N(T())}]},[p,g,y,b]);var _=a(h,w[0],w[1]);return l(function(){S.hasValue=!0,S.value=_},[_]),f(_),_},F0}var IA;function sF(){return IA||(IA=1,K0.exports=iF()),K0.exports}var oF=sF(),Xw=j.createContext(null),lF=e=>e,_t=()=>{var e=j.useContext(Xw);return e?e.store.dispatch:lF},cm=()=>{},cF=()=>cm,uF=(e,t)=>e===t;function Ne(e){var t=j.useContext(Xw),r=j.useMemo(()=>t?n=>{if(n!=null)return e(n)}:cm,[t,e]);return oF.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:cF,t?t.store.getState:cm,t?t.store.getState:cm,r,uF)}function dF(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function fF(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function hF(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var LA=e=>Array.isArray(e)?e:[e];function mF(e){const t=Array.isArray(e[0])?e[0]:e;return hF(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function pF(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var gF=class{constructor(e){this.value=e}deref(){return this.value}},yF=typeof WeakRef<"u"?WeakRef:gF,vF=0,BA=1;function Fh(){return{s:vF,v:void 0,o:null,p:null}}function JD(e,t={}){let r=Fh();const{resultEqualityCheck:n}=t;let a,s=0;function l(){var g;let d=r;const{length:f}=arguments;for(let y=0,b=f;y<b;y++){const w=arguments[y];if(typeof w=="function"||typeof w=="object"&&w!==null){let S=d.o;S===null&&(d.o=S=new WeakMap);const _=S.get(w);_===void 0?(d=Fh(),S.set(w,d)):d=_}else{let S=d.p;S===null&&(d.p=S=new Map);const _=S.get(w);_===void 0?(d=Fh(),S.set(w,d)):d=_}}const h=d;let p;if(d.s===BA)p=d.v;else if(p=e.apply(null,arguments),s++,n){const y=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;y!=null&&n(y,p)&&(p=y,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new yF(p):p}return h.s=BA,h.v=p,p}return l.clearCache=()=>{r=Fh(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function bF(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,d,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),dF(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:b=JD,argsMemoizeOptions:w=[]}=p,S=LA(y),_=LA(w),N=mF(a),E=g(function(){return s++,h.apply(null,arguments)},...S),A=b(function(){l++;const T=pF(N,arguments);return d=E.apply(null,T),d},..._);return Object.assign(A,{resultFunc:h,memoizedResultFunc:E,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var Y=bF(JD),xF=Object.assign((e,t=Y)=>{fF(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,d,f)=>(l[r[f]]=d,l),{}))},{withTypes:()=>xF}),V0={},G0={},Y0={},$A;function wF(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),d=t(a);if(l===d&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};e.compareValues=r})(Y0)),Y0}var W0={},X0={},UA;function eM(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(X0)),X0}var zA;function jF(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eM(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(W0)),W0}var qA;function SF(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wF(),r=jF(),n=Qw();function a(s,l,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const h=(b,w)=>{let S=b;for(let _=0;_<w.length&&S!=null;++_)S=S[w[_]];return S},p=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:h(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?h(w,b):typeof w=="object"?w[b]:w,g=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:n.toPath(b)}));return s.map(b=>({original:b,criteria:g.map(w=>p(w,b))})).slice().sort((b,w)=>{for(let S=0;S<g.length;S++){const _=t.compareValues(b.criteria[S],w.criteria[S],d[S]);if(_!==0)return _}return 0}).map(b=>b.original)}e.orderBy=a})(G0)),G0}var Z0={},KA;function _F(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?l(p,f+1):a.push(p)}};return l(r,0),a}e.flatten=t})(Z0)),Z0}var J0={},FA;function tM(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XD(),r=Yw(),n=QD(),a=VD();function s(l,d,f){return n.isObject(f)&&(typeof d=="number"&&r.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.isEqualsSameValueZero(f[d],l):!1}e.isIterateeCall=s})(J0)),J0}var QA;function NF(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SF(),r=_F(),n=tM();function a(s,...l){const d=l.length;return d>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})(V0)),V0}var eb,HA;function OF(){return HA||(HA=1,eb=NF().sortBy),eb}var EF=OF();const Lp=Ca(EF);var rM=e=>e.legend.settings,AF=e=>e.legend.size,CF=e=>e.legend.payload,kF=Y([CF,rM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Lp(n,r):n});function PF(){return Ne(kF)}var Qh=1;function nM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>Qh||Math.abs(l.left-t.left)>Qh||Math.abs(l.top-t.top)>Qh||Math.abs(l.width-t.width)>Qh)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Pr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TF=typeof Symbol=="function"&&Symbol.observable||"@@observable",VA=TF,tb=()=>Math.random().toString(36).substring(7).split("").join("."),DF={INIT:`@@redux/INIT${tb()}`,REPLACE:`@@redux/REPLACE${tb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${tb()}`},Em=DF;function Zw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function aM(e,t,r){if(typeof e!="function")throw new Error(Pr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Pr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Pr(1));return r(aM)(e,t)}let n=e,a=t,s=new Map,l=s,d=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((_,N)=>{l.set(N,_)}))}function p(){if(f)throw new Error(Pr(3));return a}function g(_){if(typeof _!="function")throw new Error(Pr(4));if(f)throw new Error(Pr(5));let N=!0;h();const E=d++;return l.set(E,_),function(){if(N){if(f)throw new Error(Pr(6));N=!1,h(),l.delete(E),s=null}}}function y(_){if(!Zw(_))throw new Error(Pr(7));if(typeof _.type>"u")throw new Error(Pr(8));if(typeof _.type!="string")throw new Error(Pr(17));if(f)throw new Error(Pr(9));try{f=!0,a=n(a,_)}finally{f=!1}return(s=l).forEach(E=>{E()}),_}function b(_){if(typeof _!="function")throw new Error(Pr(10));n=_,y({type:Em.REPLACE})}function w(){const _=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Pr(11));function E(){const C=N;C.next&&C.next(p())}return E(),{unsubscribe:_(E)}},[VA](){return this}}}return y({type:Em.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:b,[VA]:w}}function MF(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Em.INIT})>"u")throw new Error(Pr(12));if(typeof r(void 0,{type:Em.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pr(13))})}function iM(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{MF(r)}catch(s){a=s}return function(l={},d){if(a)throw a;let f=!1;const h={};for(let p=0;p<n.length;p++){const g=n[p],y=r[g],b=l[g],w=y(b,d);if(typeof w>"u")throw d&&d.type,new Error(Pr(14));h[g]=w,f=f||w!==b}return f=f||n.length!==Object.keys(l).length,f?h:l}}function Am(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function RF(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Pr(15))};const l={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},d=e.map(f=>f(l));return s=Am(...d)(a.dispatch),{...a,dispatch:s}}}function sM(e){return Zw(e)&&"type"in e&&typeof e.type=="string"}var oM=Symbol.for("immer-nothing"),GA=Symbol.for("immer-draftable"),Hr=Symbol.for("immer-state");function aa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jn=Object,fc=jn.getPrototypeOf,Cm="constructor",Bp="prototype",xx="configurable",km="enumerable",um="writable",gd="value",hi=e=>!!e&&!!e[Hr];function la(e){var t;return e?lM(e)||Up(e)||!!e[GA]||!!((t=e[Cm])!=null&&t[GA])||zp(e)||qp(e):!1}var IF=jn[Bp][Cm].toString(),YA=new WeakMap;function lM(e){if(!e||!Jw(e))return!1;const t=fc(e);if(t===null||t===jn[Bp])return!0;const r=jn.hasOwnProperty.call(t,Cm)&&t[Cm];if(r===Object)return!0;if(!Ql(r))return!1;let n=YA.get(r);return n===void 0&&(n=Function.toString.call(r),YA.set(r,n)),n===IF}function $p(e,t,r=!0){Gd(e)===0?(r?Reflect.ownKeys(e):jn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Gd(e){const t=e[Hr];return t?t.type_:Up(e)?1:zp(e)?2:qp(e)?3:0}var WA=(e,t,r=Gd(e))=>r===2?e.has(t):jn[Bp].hasOwnProperty.call(e,t),wx=(e,t,r=Gd(e))=>r===2?e.get(t):e[t],Pm=(e,t,r,n=Gd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function LF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Up=Array.isArray,zp=e=>e instanceof Map,qp=e=>e instanceof Set,Jw=e=>typeof e=="object",Ql=e=>typeof e=="function",rb=e=>typeof e=="boolean";function BF(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ja=e=>e.copy_||e.base_,ej=e=>e.modified_?e.copy_:e.base_;function jx(e,t){if(zp(e))return new Map(e);if(qp(e))return new Set(e);if(Up(e))return Array[Bp].slice.call(e);const r=lM(e);if(t===!0||t==="class_only"&&!r){const n=jn.getOwnPropertyDescriptors(e);delete n[Hr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],d=n[l];d[um]===!1&&(d[um]=!0,d[xx]=!0),(d.get||d.set)&&(n[l]={[xx]:!0,[um]:!0,[km]:d[km],[gd]:e[l]})}return jn.create(fc(e),n)}else{const n=fc(e);if(n!==null&&r)return{...e};const a=jn.create(n);return jn.assign(a,e)}}function tj(e,t=!1){return Kp(e)||hi(e)||!la(e)||(Gd(e)>1&&jn.defineProperties(e,{set:Hh,add:Hh,clear:Hh,delete:Hh}),jn.freeze(e),t&&$p(e,(r,n)=>{tj(n,!0)},!1)),e}function $F(){aa(2)}var Hh={[gd]:$F};function Kp(e){return e===null||!Jw(e)?!0:jn.isFrozen(e)}var Tm="MapSet",Sx="Patches",XA="ArrayMethods",cM={};function Do(e){const t=cM[e];return t||aa(0,e),t}var ZA=e=>!!cM[e],yd,uM=()=>yd,UF=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ZA(Tm)?Do(Tm):void 0,arrayMethodsPlugin_:ZA(XA)?Do(XA):void 0});function JA(e,t){t&&(e.patchPlugin_=Do(Sx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _x(e){Nx(e),e.drafts_.forEach(zF),e.drafts_=null}function Nx(e){e===yd&&(yd=e.parent_)}var eC=e=>yd=UF(yd,e);function zF(e){const t=e[Hr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Hr].modified_&&(_x(t),aa(4)),la(e)&&(e=rC(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Hr].base_,e,t)}else e=rC(t,r);return qF(t,e,!0),_x(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==oM?e:void 0}function rC(e,t){if(Kp(t))return t;const r=t[Hr];if(!r)return Dm(t,e.handledSet_,e);if(!Fp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);hM(r,e)}return r.copy_}function qF(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tj(t,r)}function dM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Fp=(e,t)=>e.scope_===t,KF=[];function fM(e,t,r,n){const a=Ja(e),s=e.type_;if(n!==void 0&&wx(a,n,s)===t){Pm(a,n,r,s);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;$p(a,(f,h)=>{if(hi(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const l=e.draftLocations_.get(t)??KF;for(const d of l)Pm(a,d,r,s)}function FF(e,t,r){e.callbacks_.push(function(a){var d;const s=t;if(!s||!Fp(s,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(s);const l=ej(s);fM(e,s.draft_??s,l,r),hM(s,a)})}function hM(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}dM(e)}}function QF(e,t,r){const{scope_:n}=e;if(hi(r)){const a=r[Hr];Fp(a,n)&&a.callbacks_.push(function(){dm(e);const l=ej(a);fM(e,r,l,t)})}else la(r)&&e.callbacks_.push(function(){const s=Ja(e);e.type_===3?s.has(r)&&Dm(r,n.handledSet_,n):wx(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Dm(wx(e.copy_,t,e.type_),n.handledSet_,n)})}function Dm(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||hi(e)||t.has(e)||!la(e)||Kp(e)||(t.add(e),$p(e,(n,a)=>{if(hi(a)){const s=a[Hr];if(Fp(s,r)){const l=ej(s);Pm(e,n,l,e.type_),dM(s)}}else la(a)&&Dm(a,t,r)})),e}function HF(e,t){const r=Up(e),n={type_:r?1:0,scope_:t?t.scope_:uM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Mm;r&&(a=[n],s=vd);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return n.draft_=d,n.revoke_=l,[d,n]}var Mm={get(e,t){if(t===Hr)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=Ja(e);if(!WA(a,t,e.type_))return VF(e,a,t);const s=a[t];if(e.finalized_||!la(s)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&BF(t))return s;if(s===nb(e.base_,t)){dm(e);const l=e.type_===1?+t:t,d=Ex(e.scope_,s,e,l);return e.copy_[l]=d}return s},has(e,t){return t in Ja(e)},ownKeys(e){return Reflect.ownKeys(Ja(e))},set(e,t,r){const n=mM(Ja(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=nb(Ja(e),t),s=a==null?void 0:a[Hr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(LF(r,a)&&(r!==void 0||WA(e.base_,t,e.type_)))return!0;dm(e),Ox(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),QF(e,t,r)),!0},deleteProperty(e,t){return dm(e),nb(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ox(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ja(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[um]:!0,[xx]:e.type_!==1||t!=="length",[km]:n[km],[gd]:r[t]}},defineProperty(){aa(11)},getPrototypeOf(e){return fc(e.base_)},setPrototypeOf(){aa(12)}},vd={};for(let e in Mm){let t=Mm[e];vd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}vd.deleteProperty=function(e,t){return vd.set.call(this,e,t,void 0)};vd.set=function(e,t,r){return Mm.set.call(this,e[0],t,r,e[0])};function nb(e,t){const r=e[Hr];return(r?Ja(r):e)[t]}function VF(e,t,r){var a;const n=mM(t,r);return n?gd in n?n[gd]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function mM(e,t){if(!(t in e))return;let r=fc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=fc(r)}}function Ox(e){e.modified_||(e.modified_=!0,e.parent_&&Ox(e.parent_))}function dm(e){e.copy_||(e.assigned_=new Map,e.copy_=jx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var GF=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Ql(r)&&!Ql(n)){const l=n;n=r;const d=this;return function(h=l,...p){return d.produce(h,g=>n.call(this,g,...p))}}Ql(n)||aa(6),a!==void 0&&!Ql(a)&&aa(7);let s;if(la(r)){const l=eC(this),d=Ex(l,r,void 0);let f=!0;try{s=n(d),f=!1}finally{f?_x(l):Nx(l)}return JA(l,a),tC(s,l)}else if(!r||!Jw(r)){if(s=n(r),s===void 0&&(s=r),s===oM&&(s=void 0),this.autoFreeze_&&tj(s,!0),a){const l=[],d=[];Do(Sx).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:d}),a(l,d)}return s}else aa(1,r)},this.produceWithPatches=(r,n)=>{if(Ql(r))return(d,...f)=>this.produceWithPatches(d,h=>r(h,...f));let a,s;return[this.produce(r,n,(d,f)=>{a=d,s=f}),a,s]},rb(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),rb(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),rb(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){la(t)||aa(8),hi(t)&&(t=oa(t));const r=eC(this),n=Ex(r,t,void 0);return n[Hr].isManual_=!0,Nx(r),n}finishDraft(t,r){const n=t&&t[Hr];(!n||!n.isManual_)&&aa(9);const{scope_:a}=n;return JA(a,r),tC(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Do(Sx).applyPatches_;return hi(t)?a(t,r):this.produce(t,s=>a(s,r))}};function Ex(e,t,r,n){const[a,s]=zp(t)?Do(Tm).proxyMap_(t,r):qp(t)?Do(Tm).proxySet_(t,r):HF(t,r);return((r==null?void 0:r.scope_)??uM()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?FF(r,s,n):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function oa(e){return hi(e)||aa(10,e),pM(e)}function pM(e){if(!la(e)||Kp(e))return e;const t=e[Hr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=jx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=jx(e,!0);return $p(r,(a,s)=>{Pm(r,a,pM(s))},n),t&&(t.finalized_=!1),r}var YF=new GF,gM=YF.produce;function yM(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var WF=yM(),XF=yM,ZF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Am:Am.apply(null,arguments)};function Hn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Sn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>sM(n)&&n.type===e,r}var vM=class Zu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Zu.prototype)}static get[Symbol.species](){return Zu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Zu(...t[0].concat(this)):new Zu(...t.concat(this))}};function nC(e){return la(e)?gM(e,()=>{}):e}function Vh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function JF(e){return typeof e=="boolean"}var e7=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new vM;return r&&(JF(r)?l.push(WF):l.push(XF(r.extraArgument))),l},bM="RTK_autoBatch",Pt=()=>e=>({payload:e,meta:{[bM]:!0}}),aC=e=>t=>{setTimeout(t,e)},xM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:aC(10):e.type==="callback"?e.queueNotification:aC(e.timeout),h=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>a&&p(),y=n.subscribe(g);return d.add(p),()=>{y(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[bM]),s=!a,s&&(l||(l=!0,f(h))),n.dispatch(p)}finally{a=!0}}})},t7=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new vM(e);return n&&a.push(xM(typeof n=="object"?n:void 0)),a};function r7(e){const t=e7(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(Zw(r))d=iM(r);else throw new Error(Sn(1));let f;typeof n=="function"?f=n(t):f=t();let h=Am;a&&(h=ZF({trace:!1,...typeof a=="object"&&a}));const p=RF(...f),g=t7(p);let y=typeof l=="function"?l(g):g();const b=h(...y);return aM(d,s,b)}function wM(e){const t={},r=[];let n;const a={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(Sn(28));if(d in t)throw new Error(Sn(29));return t[d]=l,a},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function n7(e){return typeof e=="function"}function a7(e,t){let[r,n,a]=wM(t),s;if(n7(e))s=()=>nC(e());else{const d=nC(e);s=()=>d}function l(d=s(),f){let h=[r[f.type],...n.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(hi(p)){const b=g(p,f);return b===void 0?p:b}else{if(la(p))return gM(p,y=>g(y,f));{const y=g(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},d)}return l.getInitialState=s,l}var i7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",s7=(e=21)=>{let t="",r=e;for(;r--;)t+=i7[Math.random()*64|0];return t},o7=Symbol.for("rtk-slice-createasyncthunk");function l7(e,t){return`${e}/${t}`}function c7({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[o7];return function(a){const{name:s,reducerPath:l=s}=a;if(!s)throw new Error(Sn(11));const d=(typeof a.reducers=="function"?a.reducers(d7()):a.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(C,T){const P=typeof C=="string"?C:C.type;if(!P)throw new Error(Sn(12));if(P in h.sliceCaseReducersByType)throw new Error(Sn(13));return h.sliceCaseReducersByType[P]=T,p},addMatcher(C,T){return h.sliceMatchers.push({matcher:C,reducer:T}),p},exposeAction(C,T){return h.actionCreators[C]=T,p},exposeCaseReducer(C,T){return h.sliceCaseReducersByName[C]=T,p}};f.forEach(C=>{const T=d[C],P={reducerName:C,type:l7(s,C),createNotation:typeof a.reducers=="function"};h7(T)?p7(P,T,p,t):f7(P,T,p)});function g(){const[C={},T=[],P=void 0]=typeof a.extraReducers=="function"?wM(a.extraReducers):[a.extraReducers],D={...C,...h.sliceCaseReducersByType};return a7(a.initialState,B=>{for(let K in D)B.addCase(K,D[K]);for(let K of h.sliceMatchers)B.addMatcher(K.matcher,K.reducer);for(let K of T)B.addMatcher(K.matcher,K.reducer);P&&B.addDefaultCase(P)})}const y=C=>C,b=new Map,w=new WeakMap;let S;function _(C,T){return S||(S=g()),S(C,T)}function N(){return S||(S=g()),S.getInitialState()}function E(C,T=!1){function P(B){let K=B[C];return typeof K>"u"&&T&&(K=Vh(w,P,N)),K}function D(B=y){const K=Vh(b,T,()=>new WeakMap);return Vh(K,B,()=>{const re={};for(const[I,L]of Object.entries(a.selectors??{}))re[I]=u7(L,B,()=>Vh(w,B,N),T);return re})}return{reducerPath:C,getSelectors:D,get selectors(){return D(P)},selectSlice:P}}const A={name:s,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:N,...E(l),injectInto(C,{reducerPath:T,...P}={}){const D=T??l;return C.inject({reducerPath:D,reducer:_},P),{...A,...E(D,!0)}}};return A}}function u7(e,t,r,n){function a(s,...l){let d=t(s);return typeof d>"u"&&n&&(d=r()),e(d,...l)}return a.unwrapped=e,a}var ln=c7();function d7(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function f7({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!m7(n))throw new Error(Sn(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?Hn(e,l):Hn(e))}function h7(e){return e._reducerDefinitionType==="asyncThunk"}function m7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function p7({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Sn(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=r,g=a(e,s,p);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),d&&n.addCase(g.pending,d),f&&n.addCase(g.rejected,f),h&&n.addMatcher(g.settled,h),n.exposeCaseReducer(t,{fulfilled:l||Gh,pending:d||Gh,rejected:f||Gh,settled:h||Gh})}function Gh(){}var g7="task",jM="listener",SM="completed",rj="cancelled",y7=`task-${rj}`,v7=`task-${SM}`,Ax=`${jM}-${rj}`,b7=`${jM}-${SM}`,Qp=class{constructor(e){Uv(this,"name","TaskAbortError");Uv(this,"message");this.code=e,this.message=`${g7} ${rj} (reason: ${e})`}},nj=(e,t)=>{if(typeof e!="function")throw new TypeError(Sn(32))},Rm=()=>{},_M=(e,t=Rm)=>(e.catch(t),e),NM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),So=e=>{if(e.aborted)throw new Qp(e.reason)};function OM(e,t){let r=Rm;return new Promise((n,a)=>{const s=()=>a(new Qp(e.reason));if(e.aborted){s();return}r=NM(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Rm})}var x7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Qp?"cancelled":"rejected",error:r}}finally{t==null||t()}},Im=e=>t=>_M(OM(e,t).then(r=>(So(e),r))),EM=e=>{const t=Im(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Wl}=Object,iC={},Hp="listenerMiddleware",w7=(e,t)=>{const r=n=>NM(e,()=>n.abort(e.reason));return(n,a)=>{nj(n);const s=new AbortController;r(s);const l=x7(async()=>{So(e),So(s.signal);const d=await n({pause:Im(s.signal),delay:EM(s.signal),signal:s.signal});return So(s.signal),d},()=>s.abort(v7));return a!=null&&a.autoJoin&&t.push(l.catch(Rm)),{result:Im(e)(l),cancel(){s.abort(y7)}}}},j7=(e,t)=>{const r=async(n,a)=>{So(t);let s=()=>{};const d=[new Promise((f,h)=>{let p=e({predicate:n,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await OM(t,Promise.race(d));return So(t),f}finally{s()}};return(n,a)=>_M(r(n,a))},AM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Hn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Sn(21));return nj(s),{predicate:a,type:t,effect:s}},CM=Wl(e=>{const{type:t,predicate:r,effect:n}=AM(e);return{id:s7(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Sn(22))}}},{withTypes:()=>CM}),sC=(e,t)=>{const{type:r,effect:n,predicate:a}=AM(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},Cx=e=>{e.pending.forEach(t=>{t.abort(Ax)})},S7=(e,t)=>()=>{for(const r of t.keys())Cx(r);e.clear()},oC=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},kM=Wl(Hn(`${Hp}/add`),{withTypes:()=>kM}),_7=Hn(`${Hp}/removeAll`),PM=Wl(Hn(`${Hp}/remove`),{withTypes:()=>PM}),N7=(...e)=>{console.error(`${Hp}/error`,...e)},Yd=(e={})=>{const t=new Map,r=new Map,n=b=>{const w=r.get(b)??0;r.set(b,w+1)},a=b=>{const w=r.get(b)??1;w===1?r.delete(b):r.set(b,w-1)},{extra:s,onError:l=N7}=e;nj(l);const d=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),w=>{b.unsubscribe(),w!=null&&w.cancelActive&&Cx(b)}),f=b=>{const w=sC(t,b)??CM(b);return d(w)};Wl(f,{withTypes:()=>f});const h=b=>{const w=sC(t,b);return w&&(w.unsubscribe(),b.cancelActive&&Cx(w)),!!w};Wl(h,{withTypes:()=>h});const p=async(b,w,S,_)=>{const N=new AbortController,E=j7(f,N.signal),A=[];try{b.pending.add(N),n(b),await Promise.resolve(b.effect(w,Wl({},S,{getOriginalState:_,condition:(C,T)=>E(C,T).then(Boolean),take:E,delay:EM(N.signal),pause:Im(N.signal),extra:s,signal:N.signal,fork:w7(N.signal,A),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((C,T,P)=>{C!==N&&(C.abort(Ax),P.delete(C))})},cancel:()=>{N.abort(Ax),b.pending.delete(N)},throwIfCancelled:()=>{So(N.signal)}})))}catch(C){C instanceof Qp||oC(l,C,{raisedBy:"effect"})}finally{await Promise.all(A),N.abort(b7),a(b),b.pending.delete(N)}},g=S7(t,r);return{middleware:b=>w=>S=>{if(!sM(S))return w(S);if(kM.match(S))return f(S.payload);if(_7.match(S)){g();return}if(PM.match(S))return h(S.payload);let _=b.getState();const N=()=>{if(_===iC)throw new Error(Sn(23));return _};let E;try{if(E=w(S),t.size>0){const A=b.getState(),C=Array.from(t.values());for(const T of C){let P=!1;try{P=T.predicate(S,A,_)}catch(D){P=!1,oC(l,D,{raisedBy:"predicate"})}P&&p(T,S,b,N)}}}finally{_=iC}return E},startListening:f,stopListening:h,clearListeners:g}};function Sn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var O7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},TM=ln({name:"chartLayout",initialState:O7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:E7,setLayout:A7,setChartSize:C7,setScale:k7}=TM.actions,P7=TM.reducer;function DM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Ze(e){return Number.isFinite(e)}function Ea(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(n){T7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T7(e,t,r){return(t=D7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D7(e){var t=M7(e,"string");return typeof t=="symbol"?t:t+""}function M7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bt(e,t,r){return Rt(e)||Rt(t)?r:Oa(t)?Po(e,t,r):typeof t=="function"?t(e):r}var R7=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:d}=t;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&je(e[s]))return Vl(Vl({},e),{},{[s]:e[s]+(n||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&je(e[l]))return Vl(Vl({},e),{},{[l]:e[l]+(a||0)})}return e},Si=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",MM=(e,t,r,n)=>{if(n)return e.map(d=>d.coordinate);var a,s,l=e.map(d=>(d.coordinate===t&&(a=!0),d.coordinate===r&&(s=!0),d.coordinate));return a||l.push(t),s||l.push(r),l},RM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:y,axisType:b}=e;if(!l)return null;var w=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=a==="category"&&l.bandwidth?l.bandwidth()/w:0;if(S=b==="angleAxis"&&s&&s.length>=2?xr(s[0]-s[1])*2*S:S,g||y){var _=(g||y||[]).map((N,E)=>{var A=n?n.indexOf(N):N,C=l.map(A);return Ze(C)?{coordinate:C+S,value:N,offset:S,index:E}:null}).filter(an);return _}return f&&h?h.map((N,E)=>{var A=l.map(N);return Ze(A)?{coordinate:A+S,value:N,index:E,offset:S}:null}).filter(an):l.ticks&&p!=null?l.ticks(p).map((N,E)=>{var A=l.map(N);return Ze(A)?{coordinate:A+S,value:N,index:E,offset:S}:null}).filter(an):l.domain().map((N,E)=>{var A=l.map(N);return Ze(A)?{coordinate:A+S,value:n?n[N]:N,index:E,offset:S}:null}).filter(an)},I7=(e,t)=>{if(!t||t.length!==2||!je(t[0])||!je(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!je(e[0])||e[0]<r)&&(a[0]=r),(!je(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},L7=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0,d=0;d<r;++d){var f=e[d],h=f==null?void 0:f[a];if(h!=null){var p=h[1],g=h[0],y=Na(p)?g:p;y>=0?(h[0]=s,s+=y,h[1]=s):(h[0]=l,l+=y,h[1]=l)}}}},B7=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0;l<r;++l){var d=e[l],f=d==null?void 0:d[a];if(f!=null){var h=Na(f[1])?f[0]:f[1];h>=0?(f[0]=s,s+=h,f[1]=s):(f[0]=0,f[1]=0)}}}},$7={sign:L7,expand:iK,none:ko,silhouette:sK,wiggle:oK,positive:B7},U7=(e,t,r)=>{var n,a=(n=$7[r])!==null&&n!==void 0?n:ko,s=aK().keys(t).value((d,f)=>Number(bt(d,f,0))).order(vx).offset(a),l=s(e);return l.forEach((d,f)=>{d.forEach((h,p)=>{var g=bt(e[p],t[f],0);Array.isArray(g)&&g.length===2&&je(g[0])&&je(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function z7(e){return e==null?void 0:String(e)}function cC(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Rt(a[t.dataKey])){var d=zD(r,"value",a[t.dataKey]);if(d)return d.coordinate+n/2}return r!=null&&r[s]?r[s].coordinate+n/2:null}var f=bt(a,Rt(l)?t.dataKey:l),h=t.scale.map(f);return je(h)?h:null}var uC=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var d=bt(s,t.dataKey,t.scale.domain()[l]);if(Rt(d))return null;var f=t.scale.map(d);return je(f)?f-a/2+n:null},q7=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},K7=e=>{var t=e.flat(2).filter(je);return[Math.min(...t),Math.max(...t)]},F7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Q7=(e,t,r)=>{if(e!=null)return F7(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:l}=s,d=l.reduce((f,h)=>{var p=DM(h,t,r),g=K7(p);return!Ze(g[0])||!Ze(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},dC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Lp(t,p=>p.coordinate),s=1/0,l=1,d=a.length;l<d;l++){var f=a[l],h=a[l-1];s=Math.min(((f==null?void 0:f.coordinate)||0)-((h==null?void 0:h.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function hC(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Vl(Vl({},t),{},{dataKey:r,payload:n,value:a,name:s})}function kc(e,t){if(e)return String(e);if(typeof t=="string")return t}var H7=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},V7=(e,t)=>t==="centric"?e.angle:e.radius,_i=e=>e.layout.width,Ni=e=>e.layout.height,G7=e=>e.layout.scale,IM=e=>e.layout.margin,Vp=Y(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Gp=Y(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),LM="data-recharts-item-index",BM="data-recharts-item-id",Wd=60;function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){Y7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y7(e,t,r){return(t=W7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W7(e){var t=X7(e,"string");return typeof t=="symbol"?t:t+""}function X7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z7=e=>e.brush.height;function J7(e){var t=Gp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Wd;return r+a}return r},0)}function eQ(e){var t=Gp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Wd;return r+a}return r},0)}function tQ(e){var t=Vp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function rQ(e){var t=Vp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var cr=Y([_i,Ni,IM,Z7,J7,eQ,tQ,rQ,rM,AF],(e,t,r,n,a,s,l,d,f,h)=>{var p={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+d},y=Yh(Yh({},g),p),b=y.bottom;y.bottom+=n,y=R7(y,f,h);var w=e-y.left-y.right,S=t-y.top-y.bottom;return Yh(Yh({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(S,0)})}),nQ=Y(cr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),aj=Y(_i,Ni,(e,t)=>({x:0,y:0,width:e,height:t})),aQ=j.createContext(null),$r=()=>j.useContext(aQ)!=null,Yp=e=>e.brush,Wp=Y([Yp,cr,IM],(e,t,r)=>({height:e.height,x:je(e.x)?e.x:t.left,y:je(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:je(e.width)?e.width:t.width})),ab={},ib={},sb={},pC;function iQ(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(r.apply(l,d),l=void 0,d=null)},g=()=>{h&&p(),S()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},n)},w=()=>{y!==null&&(clearTimeout(y),y=null)},S=()=>{w(),l=void 0,d=null},_=()=>{p()},N=function(...E){if(a!=null&&a.aborted)return;l=this,d=E;const A=y==null;b(),f&&A&&p()};return N.schedule=b,N.cancel=S,N.flush=_,a==null||a.addEventListener("abort",S,{once:!0}),N}e.debounce=t})(sb)),sb}var gC;function sQ(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iQ();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const y=t.debounce(function(...S){p=n.apply(this,S),g=null},a,{edges:h}),b=function(...S){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=n.apply(this,S),g=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,S),p)},w=()=>(y.flush(),p);return b.cancel=y.cancel,b.flush=w,b}e.debounce=r})(ib)),ib}var yC;function oQ(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sQ();function r(n,a=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return t.debounce(n,a,{leading:l,maxWait:a,trailing:d})}e.throttle=r})(ab)),ab}var ob,vC;function lQ(){return vC||(vC=1,ob=oQ().throttle),ob}var cQ=lQ();const uQ=Ca(cQ);var Lm=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},ja={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},$M=(e,t,r)=>{var{width:n=ja.width,height:a=ja.height,aspect:s,maxHeight:l}=r,d=To(n)?e:Number(n),f=To(a)?t:Number(a);return s&&s>0&&(d?f=d/s:f&&(d=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:d,calculatedHeight:f}},dQ={width:0,height:0,overflow:"visible"},fQ={width:0,overflowX:"visible"},hQ={height:0,overflowY:"visible"},mQ={},pQ=e=>{var{width:t,height:r}=e,n=To(t),a=To(r);return n&&a?dQ:n?fQ:a?hQ:mQ};function gQ(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a=ja.width,s=ja.height):a===void 0?a=n&&n>0?void 0:ja.width:s===void 0&&(s=n&&n>0?void 0:ja.height),{width:a,height:s}}function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kx.apply(null,arguments)}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){yQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yQ(e,t,r){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vQ(e){var t=bQ(e,"string");return typeof t=="symbol"?t:t+""}function bQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UM=j.createContext(ja.initialDimension);function xQ(e){return Ea(e.width)&&Ea(e.height)}function zM(e){var{children:t,width:r,height:n}=e,a=j.useMemo(()=>({width:r,height:n}),[r,n]);return xQ(a)?j.createElement(UM.Provider,{value:a},t):null}var ij=()=>j.useContext(UM),wQ=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=ja.initialDimension,width:a,height:s,minWidth:l=ja.minWidth,minHeight:d,maxHeight:f,children:h,debounce:p=ja.debounce,id:g,className:y,onResize:b,style:w={}}=e,S=j.useRef(null),_=j.useRef();_.current=b,j.useImperativeHandle(t,()=>S.current);var[N,E]=j.useState({containerWidth:n.width,containerHeight:n.height}),A=j.useCallback((B,K)=>{E(re=>{var I=Math.round(B),L=Math.round(K);return re.containerWidth===I&&re.containerHeight===L?re:{containerWidth:I,containerHeight:L}})},[]);j.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return Uo;var B=L=>{var V,J=L[0];if(J!=null){var{width:G,height:R}=J.contentRect;A(G,R),(V=_.current)===null||V===void 0||V.call(_,G,R)}};p>0&&(B=uQ(B,p,{trailing:!0,leading:!1}));var K=new ResizeObserver(B),{width:re,height:I}=S.current.getBoundingClientRect();return A(re,I),K.observe(S.current),()=>{K.disconnect()}},[A,p]);var{containerWidth:C,containerHeight:T}=N;Lm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:D}=$M(C,T,{width:a,height:s,aspect:r,maxHeight:f});return Lm(P!=null&&P>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,D,a,s,l,d,r),j.createElement("div",{id:g?"".concat(g):void 0,className:rt("recharts-responsive-container",y),style:xC(xC({},w),{},{width:a,height:s,minWidth:l,minHeight:d,maxHeight:f}),ref:S},j.createElement("div",{style:pQ({width:a,height:s})},j.createElement(zM,{width:P,height:D},h)))}),Xl=j.forwardRef((e,t)=>{var r=ij();if(Ea(r.width)&&Ea(r.height))return e.children;var{width:n,height:a}=gQ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=$M(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return je(s)&&je(l)?j.createElement(zM,{width:s,height:l},e.children):j.createElement(wQ,kx({},e,{width:n,height:a,ref:t}))});function sj(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Xp=()=>{var e,t=$r(),r=Ne(nQ),n=Ne(Wp),a=(e=Ne(Yp))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},jQ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},qM=()=>{var e;return(e=Ne(cr))!==null&&e!==void 0?e:jQ},oj=()=>Ne(_i),lj=()=>Ne(Ni),SQ=()=>Ne(e=>e.layout.margin),at=e=>e.layout.layoutType,zo=()=>Ne(at),KM=()=>{var e=zo();if(e==="horizontal"||e==="vertical")return e},FM=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},_Q=()=>{var e=zo();return e!==void 0},Xd=e=>{var t=_t(),r=$r(),{width:n,height:a}=e,s=ij(),l=n,d=a;return s&&(l=s.width>0?s.width:n,d=s.height>0?s.height:a),j.useEffect(()=>{!r&&Ea(l)&&Ea(d)&&t(C7({width:l,height:d}))},[t,r,l,d]),null},QM=Symbol.for("immer-nothing"),wC=Symbol.for("immer-draftable"),Nn=Symbol.for("immer-state");function ia(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bd=Object.getPrototypeOf;function mc(e){return!!e&&!!e[Nn]}function Mo(e){var t;return e?HM(e)||Array.isArray(e)||!!e[wC]||!!((t=e.constructor)!=null&&t[wC])||Zd(e)||Jp(e):!1}var NQ=Object.prototype.constructor.toString(),jC=new WeakMap;function HM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=jC.get(r);return n===void 0&&(n=Function.toString.call(r),jC.set(r,n)),n===NQ}function Bm(e,t,r=!0){Zp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Zp(e){const t=e[Nn];return t?t.type_:Array.isArray(e)?1:Zd(e)?2:Jp(e)?3:0}function Px(e,t){return Zp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function VM(e,t,r){const n=Zp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function OQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Zd(e){return e instanceof Map}function Jp(e){return e instanceof Set}function no(e){return e.copy_||e.base_}function Tx(e,t){if(Zd(e))return new Map(e);if(Jp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=HM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Nn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],d=n[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[l]})}return Object.create(bd(e),n)}else{const n=bd(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function cj(e,t=!1){return eg(e)||mc(e)||!Mo(e)||(Zp(e)>1&&Object.defineProperties(e,{set:Wh,add:Wh,clear:Wh,delete:Wh}),Object.freeze(e),t&&Object.values(e).forEach(r=>cj(r,!0))),e}function EQ(){ia(2)}var Wh={value:EQ};function eg(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var AQ={};function Ro(e){const t=AQ[e];return t||ia(0,e),t}var xd;function GM(){return xd}function CQ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function SC(e,t){t&&(Ro("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dx(e){Mx(e),e.drafts_.forEach(kQ),e.drafts_=null}function Mx(e){e===xd&&(xd=e.parent_)}function _C(e){return xd=CQ(xd,e)}function kQ(e){const t=e[Nn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function NC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Nn].modified_&&(Dx(t),ia(4)),Mo(e)&&(e=$m(t,e),t.parent_||Um(t,e)),t.patches_&&Ro("Patches").generateReplacementPatches_(r[Nn].base_,e,t.patches_,t.inversePatches_)):e=$m(t,r,[]),Dx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==QM?e:void 0}function $m(e,t,r){if(eg(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Nn];if(!a)return Bm(t,(s,l)=>OC(e,a,t,s,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Um(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,d=!1;a.type_===3&&(l=new Set(s),s.clear(),d=!0),Bm(l,(f,h)=>OC(e,a,s,f,h,r,d),n),Um(e,s,!1),r&&e.patches_&&Ro("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function OC(e,t,r,n,a,s,l){if(a==null||typeof a!="object"&&!l)return;const d=eg(a);if(!(d&&!l)){if(mc(a)){const f=s&&t&&t.type_!==3&&!Px(t.assigned_,n)?s.concat(n):void 0,h=$m(e,a,f);if(VM(r,n,h),mc(h))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Mo(a)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&d)return;$m(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Zd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Um(e,a)}}}function Um(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&cj(t,r)}function PQ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:GM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=uj;r&&(a=[n],s=wd);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return n.draft_=d,n.revoke_=l,d}var uj={get(e,t){if(t===Nn)return e;const r=no(e);if(!Px(r,t))return TQ(e,r,t);const n=r[t];return e.finalized_||!Mo(n)?n:n===lb(e.base_,t)?(cb(e),e.copy_[t]=Ix(n,e)):n},has(e,t){return t in no(e)},ownKeys(e){return Reflect.ownKeys(no(e))},set(e,t,r){const n=YM(no(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=lb(no(e),t),s=a==null?void 0:a[Nn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(OQ(r,a)&&(r!==void 0||Px(e.base_,t)))return!0;cb(e),Rx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return lb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,cb(e),Rx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=no(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ia(11)},getPrototypeOf(e){return bd(e.base_)},setPrototypeOf(){ia(12)}},wd={};Bm(uj,(e,t)=>{wd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});wd.deleteProperty=function(e,t){return wd.set.call(this,e,t,void 0)};wd.set=function(e,t,r){return uj.set.call(this,e[0],t,r,e[0])};function lb(e,t){const r=e[Nn];return(r?no(r):e)[t]}function TQ(e,t,r){var a;const n=YM(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function YM(e,t){if(!(t in e))return;let r=bd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=bd(r)}}function Rx(e){e.modified_||(e.modified_=!0,e.parent_&&Rx(e.parent_))}function cb(e){e.copy_||(e.copy_=Tx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var DQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(f=s,...h){return l.produce(f,p=>r.call(this,p,...h))}}typeof r!="function"&&ia(6),n!==void 0&&typeof n!="function"&&ia(7);let a;if(Mo(t)){const s=_C(this),l=Ix(t,void 0);let d=!0;try{a=r(l),d=!1}finally{d?Dx(s):Mx(s)}return SC(s,n),NC(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===QM&&(a=void 0),this.autoFreeze_&&cj(a,!0),n){const s=[],l=[];Ro("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else ia(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...d)=>this.produceWithPatches(l,f=>t(f,...d));let n,a;return[this.produce(t,r,(l,d)=>{n=l,a=d}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Mo(e)||ia(8),mc(e)&&(e=MQ(e));const t=_C(this),r=Ix(e,void 0);return r[Nn].isManual_=!0,Mx(t),r}finishDraft(e,t){const r=e&&e[Nn];(!r||!r.isManual_)&&ia(9);const{scope_:n}=r;return SC(n,t),NC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ro("Patches").applyPatches_;return mc(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Ix(e,t){const r=Zd(e)?Ro("MapSet").proxyMap_(e,t):Jp(e)?Ro("MapSet").proxySet_(e,t):PQ(e,t);return(t?t.scope_:GM()).drafts_.push(r),r}function MQ(e){return mc(e)||ia(10,e),WM(e)}function WM(e){if(!Mo(e)||eg(e))return e;const t=e[Nn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Tx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Tx(e,!0);return Bm(r,(a,s)=>{VM(r,a,WM(s))},n),t&&(t.finalized_=!1),r}var RQ=new DQ;RQ.produce;var IQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},XM=ln({name:"legend",initialState:IQ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Pt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=oa(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Pt()},removeLegendPayload:{reducer(e,t){var r=oa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Pt()}}}),{setLegendSize:EC,setLegendSettings:LQ,addLegendPayload:ZM,replaceLegendPayload:JM,removeLegendPayload:eR}=XM.actions,BQ=XM.reducer,$Q=["contextPayload"];function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lx.apply(null,arguments)}function AC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(r),!0).forEach(function(n){UQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UQ(e,t,r){return(t=zQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zQ(e){var t=qQ(e,"string");return typeof t=="symbol"?t:t+""}function qQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KQ(e,t){if(e==null)return{};var r,n,a=FQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QQ(e){return e.value}function HQ(e){var{contextPayload:t}=e,r=KQ(e,$Q),n=ZD(t,e.payloadUniqBy,QQ),a=pc(pc({},r),{},{payload:n});return j.isValidElement(e.content)?j.cloneElement(e.content,a):typeof e.content=="function"?j.createElement(e.content,a):j.createElement(IK,a)}function VQ(e,t,r,n,a,s){var{layout:l,align:d,verticalAlign:f}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&l==="vertical"?h={left:((n||0)-s.width)/2}:h=d==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?p={top:((a||0)-s.height)/2}:p=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),pc(pc({},h),p)}function GQ(e){var t=_t();return j.useEffect(()=>{t(LQ(e))},[t,e]),null}function YQ(e){var t=_t();return j.useEffect(()=>(t(EC(e)),()=>{t(EC({width:0,height:0}))}),[t,e]),null}function WQ(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var XQ={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function tg(e){var t=nr(e,XQ),r=PF(),n=A9(),a=SQ(),{width:s,height:l,wrapperStyle:d,portal:f}=t,[h,p]=nM([r]),g=oj(),y=lj();if(g==null||y==null)return null;var b=g-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),w=WQ(t.layout,l,s,b),S=f?d:pc(pc({position:"absolute",width:(w==null?void 0:w.width)||s||"auto",height:(w==null?void 0:w.height)||l||"auto"},VQ(d,t,a,g,y,h)),d),_=f??n;if(_==null||r==null)return null;var N=j.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:p},j.createElement(GQ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&j.createElement(YQ,{width:h.width,height:h.height}),j.createElement(HQ,Lx({},t,w,{margin:a,chartWidth:g,chartHeight:y,contextPayload:r})));return Sw.createPortal(N,_)}tg.displayName="Legend";function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bx.apply(null,arguments)}function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){ZQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZQ(e,t,r){return(t=JQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JQ(e){var t=eH(e,"string");return typeof t=="symbol"?t:t+""}function eH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tH(e){return Array.isArray(e)&&Oa(e[0])&&Oa(e[1])?e.join(" ~ "):e}var Bl={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},rH=e=>{var{separator:t=Bl.separator,contentStyle:r,itemStyle:n,labelStyle:a=Bl.labelStyle,payload:s,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:y=Bl.accessibilityLayer}=e,b=()=>{if(s&&s.length){var T={padding:0,margin:0},P=(d?Lp(s,d):s).map((D,B)=>{if(D.type==="none")return null;var K=D.formatter||l||tH,{value:re,name:I}=D,L=re,V=I;if(K){var J=K(re,I,D,B,s);if(Array.isArray(J))[L,V]=J;else if(J!=null)L=J;else return null}var G=zu(zu({},Bl.itemStyle),{},{color:D.color||Bl.itemStyle.color},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:G},Oa(V)?j.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Oa(V)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},L),j.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:T},P)}return null},w=zu(zu({},Bl.contentStyle),r),S=zu({margin:0},a),_=!Rt(p),N=_?p:"",E=rt("recharts-default-tooltip",f),A=rt("recharts-tooltip-label",h);_&&g&&s!==void 0&&s!==null&&(N=g(p,s));var C=y?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Bx({className:E,style:w},C),j.createElement("p",{className:A,style:S},j.isValidElement(N)?N:"".concat(N)),b())},qu="recharts-tooltip-wrapper",nH={visibility:"hidden"};function aH(e){var{coordinate:t,translateX:r,translateY:n}=e;return rt(qu,{["".concat(qu,"-right")]:je(r)&&t&&je(t.x)&&r>=t.x,["".concat(qu,"-left")]:je(r)&&t&&je(t.x)&&r<t.x,["".concat(qu,"-bottom")]:je(n)&&t&&je(t.y)&&n>=t.y,["".concat(qu,"-top")]:je(n)&&t&&je(t.y)&&n<t.y})}function kC(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:s,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=e;if(s&&je(s[n]))return s[n];var p=r[n]-d-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?p:g;var y=f[n];if(y==null)return 0;if(l[n]){var b=p,w=y;return b<w?Math.max(g,y):Math.max(p,y)}if(h==null)return 0;var S=g+d,_=y+h;return S>_?Math.max(p,y):Math.max(g,y)}function iH(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function sH(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:s,reverseDirection:l,tooltipBox:d,useTranslate3d:f,viewBox:h}=e,p,g,y;return d.height>0&&d.width>0&&r?(g=kC({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:s,reverseDirection:l,tooltipDimension:d.width,viewBox:h,viewBoxDimension:h.width}),y=kC({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:s,reverseDirection:l,tooltipDimension:d.height,viewBox:h,viewBoxDimension:h.height}),p=iH({translateX:g,translateY:y,useTranslate3d:f})):p=nH,{cssProperties:p,cssClasses:aH({translateX:g,translateY:y,coordinate:r})}}function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(n){$x(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $x(e,t,r){return(t=oH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oH(e){var t=lH(e,"string");return typeof t=="symbol"?t:t+""}function lH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class cH extends j.PureComponent{constructor(){super(...arguments),$x(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$x(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:y,viewBox:b,wrapperStyle:w,lastBoundingBox:S,innerRef:_,hasPortalFromProps:N}=this.props,E=typeof h=="number"?h:h.x,A=typeof h=="number"?h:h.y,{cssClasses:C,cssProperties:T}=sH({allowEscapeViewBox:r,coordinate:l,offsetLeft:E,offsetTop:A,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:y,viewBox:b}),P=N?{}:Xh(Xh({transition:f&&t?"transform ".concat(n,"ms ").concat(a):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),D=Xh(Xh({},P),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},w);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:D,ref:_},s)}}var tR=()=>{var e;return(e=Ne(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(null,arguments)}function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){uH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uH(e,t,r){return(t=dH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=fH(e,"string");return typeof t=="symbol"?t:t+""}function fH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MC={curveBasisClosed:V9,curveBasisOpen:G9,curveBasis:H9,curveBumpX:T9,curveBumpY:D9,curveLinearClosed:Y9,curveLinear:Rp,curveMonotoneX:W9,curveMonotoneY:X9,curveNatural:Z9,curveStep:J9,curveStepAfter:tK,curveStepBefore:eK},zm=e=>Ze(e.x)&&Ze(e.y),RC=e=>e.base!=null&&zm(e.base)&&zm(e),Ku=e=>e.x,Fu=e=>e.y,hH=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Hd(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=MC["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return MC[r]||Rp},IC={connectNulls:!1,type:"linear"},mH=e=>{var{type:t=IC.type,points:r=[],baseLine:n,layout:a,connectNulls:s=IC.connectNulls}=e,l=hH(t,a),d=s?r.filter(zm):r;if(Array.isArray(n)){var f,h=r.map((w,S)=>DC(DC({},w),{},{base:n[S]}));a==="vertical"?f=Kh().y(Fu).x1(Ku).x0(w=>w.base.x):f=Kh().x(Ku).y1(Fu).y0(w=>w.base.y);var p=f.defined(RC).curve(l),g=s?h.filter(RC):h;return p(g)}var y;a==="vertical"&&je(n)?y=Kh().y(Fu).x1(Ku).x0(n):je(n)?y=Kh().x(Ku).y1(Fu).y0(n):y=AD().x(Ku).y(Fu);var b=y.defined(zm).curve(l);return b(d)},dj=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=zo();if((!r||!r.length)&&!n)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},d=r&&r.length?mH(l):n;return j.createElement("path",Ux({},_n(e),Gw(e),{className:rt("recharts-curve",t),d:d===null?void 0:d,ref:a}))},pH=["x","y","top","left","width","height","className"];function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zx.apply(null,arguments)}function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){yH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yH(e,t,r){return(t=vH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vH(e){var t=bH(e,"string");return typeof t=="symbol"?t:t+""}function bH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xH(e,t){if(e==null)return{};var r,n,a=wH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jH=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),SH=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:d}=e,f=xH(e,pH),h=gH({x:t,y:r,top:n,left:a,width:s,height:l},f);return!je(t)||!je(r)||!je(s)||!je(l)||!je(n)||!je(a)?null:j.createElement("path",zx({},Qr(h),{className:rt("recharts-cross",d),d:jH(t,r,s,l,n,a)}))};function _H(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function BC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(r),!0).forEach(function(n){NH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NH(e,t,r){return(t=OH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OH(e){var t=EH(e,"string");return typeof t=="symbol"?t:t+""}function EH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),rR=(e,t,r)=>e.map(n=>"".concat(AH(n)," ").concat(t,"ms ").concat(r)).join(","),CH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),jd=(e,t)=>Object.keys(t).reduce((r,n)=>$C($C({},r),{},{[n]:e(n,t[n])}),{});function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){kH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kH(e,t,r){return(t=PH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PH(e){var t=TH(e,"string");return typeof t=="symbol"?t:t+""}function TH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qm=(e,t,r)=>e+(t-e)*r,qx=e=>{var{from:t,to:r}=e;return t!==r},nR=(e,t,r)=>{var n=jd((a,s)=>{if(qx(s)){var[l,d]=e(s.from,s.to,s.velocity);return or(or({},s),{},{from:l,velocity:d})}return s},t);return r<1?jd((a,s)=>qx(s)&&n[a]!=null?or(or({},s),{},{velocity:qm(s.velocity,n[a].velocity,r),from:qm(s.from,n[a].from,r)}):s,t):nR(e,n,r-1)};function DH(e,t,r,n,a,s){var l,d=n.reduce((y,b)=>or(or({},y),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>jd((y,b)=>b.from,d),h=()=>!Object.values(d).filter(qx).length,p=null,g=y=>{l||(l=y);var b=y-l,w=b/r.dt;d=nR(r,d,w),a(or(or(or({},e),t),f())),l=y,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var y;(y=p)===null||y===void 0||y()})}function MH(e,t,r,n,a,s,l){var d=null,f=a.reduce((g,y)=>{var b=e[y],w=t[y];return b==null||w==null?g:or(or({},g),{},{[y]:[b,w]})},{}),h,p=g=>{h||(h=g);var y=(g-h)/n,b=jd((S,_)=>qm(..._,r(y)),f);if(s(or(or(or({},e),t),b)),y<1)d=l.setTimeout(p);else{var w=jd((S,_)=>qm(..._,r(1)),f);s(or(or(or({},e),t),w))}};return()=>(d=l.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const RH=(e,t,r,n,a,s)=>{var l=CH(e,t);return r==null?()=>(a(or(or({},e),t)),()=>{}):r.isStepper===!0?DH(e,t,r,l,a,s):MH(e,t,r,n,l,a,s)};var Km=1e-4,aR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],iR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),zC=(e,t)=>r=>{var n=aR(e,t);return iR(n,r)},IH=(e,t)=>r=>{var n=aR(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return iR(a,r)},LH=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},BH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=LH(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},$H=(e,t,r,n)=>{var a=zC(e,r),s=zC(t,n),l=IH(e,r),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,y=0;y<8;++y){var b=a(g)-p,w=l(g);if(Math.abs(b-p)<Km||w<Km)return s(g);g=d(g-b/w)}return s(g)};return f.isStepper=!1,f},qC=function(){return $H(...BH(...arguments))},UH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,d,f)=>{var h=-(l-d)*r,p=f*n,g=f+(h-p)*a/1e3,y=f*a/1e3+l;return Math.abs(y-d)<Km&&Math.abs(g)<Km?[d,0]:[y,g]};return s.isStepper=!0,s.dt=a,s},zH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qC(e);case"spring":return UH();default:if(e.split("(")[0]==="cubic-bezier")return qC(e)}return typeof e=="function"?e:null};function qH(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){a=e.setTimeout(s.bind(null,h),f);return}s(f),a=e.setTimeout(s.bind(null,h));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class KH{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function FH(){return qH(new KH)}var QH=j.createContext(FH);function HH(e,t){var r=j.useContext(QH);return j.useMemo(()=>t??r(e),[e,t,r])}var VH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rg={isSsr:VH()},GH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},KC={t:0},ub={t:1};function Jd(e){var t=nr(e,GH),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=t,p=r==="auto"?!rg.isSsr:r,g=HH(t.animationId,t.animationManager),[y,b]=j.useState(p?KC:ub),w=j.useRef(null);return j.useEffect(()=>{p||b(ub)},[p]),j.useEffect(()=>{if(!p||!n)return Uo;var S=RH(KC,ub,zH(s),a,b,g.getTimeoutController()),_=()=>{w.current=S()};return g.start([f,l,_,a,d]),()=>{g.stop(),w.current&&w.current(),d()}},[p,n,a,s,l,f,d,g]),h(y.t)}function ef(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(pd(t)),n=j.useRef(e);return n.current!==e&&(r.current=pd(t),n.current=e),r.current}var YH=["radius"],WH=["radius"],FC,QC,HC,VC,GC,YC,WC,XC,ZC,JC;function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){XH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XH(e,t,r){return(t=ZH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZH(e){var t=JH(e,"string");return typeof t=="symbol"?t:t+""}function JH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(null,arguments)}function r2(e,t){if(e==null)return{};var r,n,a=eV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var n2=(e,t,r,n,a)=>{var s=vs(r),l=vs(n),d=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(d>0&&Array.isArray(a)){for(var y=[0,0,0,0],b=0,w=4;b<w;b++){var S,_=(S=a[b])!==null&&S!==void 0?S:0;y[b]=_>d?d:_}g=Kt(FC||(FC=pa(["M",",",""])),e,t+f*y[0]),y[0]>0&&(g+=Kt(QC||(QC=pa(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,e+h*y[0],t)),g+=Kt(HC||(HC=pa(["L ",",",""])),e+r-h*y[1],t),y[1]>0&&(g+=Kt(VC||(VC=pa(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,e+r,t+f*y[1])),g+=Kt(GC||(GC=pa(["L ",",",""])),e+r,t+n-f*y[2]),y[2]>0&&(g+=Kt(YC||(YC=pa(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,e+r-h*y[2],t+n)),g+=Kt(WC||(WC=pa(["L ",",",""])),e+h*y[3],t+n),y[3]>0&&(g+=Kt(XC||(XC=pa(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,e,t+n-f*y[3])),g+="Z"}else if(d>0&&a===+a&&a>0){var N=Math.min(d,a);g=Kt(ZC||(ZC=pa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*N,N,N,p,e+h*N,t,e+r-h*N,t,N,N,p,e+r,t+f*N,e+r,t+n-f*N,N,N,p,e+r-h*N,t+n,e+h*N,t+n,N,N,p,e,t+n-f*N)}else g=Kt(JC||(JC=pa(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return g},a2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sR=e=>{var t=nr(e,a2),r=j.useRef(null),[n,a]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var H=r.current.getTotalLength();H&&a(H)}catch{}},[]);var{x:s,y:l,width:d,height:f,radius:h,className:p}=t,{animationEasing:g,animationDuration:y,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:S}=t,_=j.useRef(d),N=j.useRef(f),E=j.useRef(s),A=j.useRef(l),C=j.useMemo(()=>({x:s,y:l,width:d,height:f,radius:h}),[s,l,d,f,h]),T=ef(C,"rectangle-");if(s!==+s||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var P=rt("recharts-rectangle",p);if(!S){var D=Qr(t),{radius:B}=D,K=r2(D,YH);return j.createElement("path",Fm({},K,{x:vs(s),y:vs(l),width:vs(d),height:vs(f),radius:typeof h=="number"?h:void 0,className:P,d:n2(s,l,d,f,h)}))}var re=_.current,I=N.current,L=E.current,V=A.current,J="0px ".concat(n===-1?1:n,"px"),G="".concat(n,"px 0px"),R=rR(["strokeDasharray"],y,typeof g=="string"?g:a2.animationEasing);return j.createElement(Jd,{animationId:T,key:T,canBegin:n>0,duration:y,easing:g,isActive:S,begin:b},H=>{var te=Tt(re,d,H),ae=Tt(I,f,H),ge=Tt(L,s,H),M=Tt(V,l,H);r.current&&(_.current=te,N.current=ae,E.current=ge,A.current=M);var F;w?H>0?F={transition:R,strokeDasharray:G}:F={strokeDasharray:J}:F={strokeDasharray:G};var fe=Qr(t),{radius:pe}=fe,we=r2(fe,WH);return j.createElement("path",Fm({},we,{radius:typeof h=="number"?h:void 0,className:P,d:n2(ge,M,te,ae,h),ref:r,style:t2(t2({},F),t.style)}))})};function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){tV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tV(e,t,r){return(t=rV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){var t=nV(e,"string");return typeof t=="symbol"?t:t+""}function nV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qm=Math.PI/180,aV=e=>e*180/Math.PI,er=(e,t,r,n)=>({x:e+Math.cos(-Qm*n)*r,y:t+Math.sin(-Qm*n)*r}),oR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},iV=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},sV=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=iV({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var d=(r-a)/l,f=Math.acos(d);return n>s&&(f=2*Math.PI-f),{radius:l,angle:aV(f),angleInRadian:f}},oV=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},lV=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},cV=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=sV({x:r,y:n},t),{innerRadius:l,outerRadius:d}=t;if(a<l||a>d||a===0)return null;var{startAngle:f,endAngle:h}=oV(t),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?s2(s2({},t),{},{radius:a,angle:lV(p,t)}):null};function lR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=er(t,r,n,a),d=er(t,r,n,s);return{points:[l,d],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var o2,l2,c2,u2,d2,f2,h2;function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(null,arguments)}function co(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var uV=(e,t)=>{var r=xr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Zh=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:f}=e,h=d*(l?1:-1)+n,p=Math.asin(d/h)/Qm,g=f?a:a+s*p,y=er(t,r,h,g),b=er(t,r,n,g),w=f?a-s*p:a,S=er(t,r,h*Math.cos(p*Qm),w);return{center:y,circleTangency:b,lineTangency:S,theta:p}},cR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,d=uV(s,l),f=s+d,h=er(t,r,a,s),p=er(t,r,a,f),g=Kt(o2||(o2=co(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,a,a,+(Math.abs(d)>180),+(s>f),p.x,p.y);if(n>0){var y=er(t,r,n,s),b=er(t,r,n,f);g+=Kt(l2||(l2=co(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,n,n,+(Math.abs(d)>180),+(s<=f),y.x,y.y)}else g+=Kt(c2||(c2=co(["L ",","," Z"])),t,r);return g},dV=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=e,p=xr(h-f),{circleTangency:g,lineTangency:y,theta:b}=Zh({cx:t,cy:r,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:w,lineTangency:S,theta:_}=Zh({cx:t,cy:r,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),N=d?Math.abs(f-h):Math.abs(f-h)-b-_;if(N<0)return l?Kt(u2||(u2=co(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):cR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:f,endAngle:h});var E=Kt(d2||(d2=co(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(p<0),g.x,g.y,a,a,+(N>180),+(p<0),w.x,w.y,s,s,+(p<0),S.x,S.y);if(n>0){var{circleTangency:A,lineTangency:C,theta:T}=Zh({cx:t,cy:r,radius:n,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:P,lineTangency:D,theta:B}=Zh({cx:t,cy:r,radius:n,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),K=d?Math.abs(f-h):Math.abs(f-h)-T-B;if(K<0&&s===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+=Kt(f2||(f2=co(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,s,s,+(p<0),P.x,P.y,n,n,+(K>180),+(p>0),A.x,A.y,s,s,+(p<0),C.x,C.y)}else E+=Kt(h2||(h2=co(["L",",","Z"])),t,r);return E},fV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uR=e=>{var t=nr(e,fV),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=t;if(s<a||h===p)return null;var y=rt("recharts-sector",g),b=s-a,w=Br(l,b,0,!0),S;return w>0&&Math.abs(h-p)<360?S=dV({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):S=cR({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),j.createElement("path",Kx({},Qr(t),{className:y,d:S}))};function hV(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(KD(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:l,angle:d}=t,f=er(n,a,s,d),h=er(n,a,l,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return lR(t)}}var db={},fb={},hb={},m2;function mV(){return m2||(m2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eM();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(hb)),hb}var p2;function pV(){return p2||(p2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mV();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(fb)),fb}var g2;function gV(){return g2||(g2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tM(),r=pV();function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const d=Math.max(Math.ceil((s-a)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=a,a+=l;return f}e.range=n})(db)),db}var mb,y2;function yV(){return y2||(y2=1,mb=gV().range),mb}var vV=yV();const dR=Ca(vV);function xs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fj(e){let t,r,n;e.length!==2?(t=xs,r=(d,f)=>xs(e(d),f),n=(d,f)=>e(d)-f):(t=e===xs||e===bV?e:xV,r=e,n=e);function a(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(d,f,h=0,p=d.length){const g=a(d,f,h,p-1);return g>h&&n(d[g-1],f)>-n(d[g],f)?g-1:g}return{left:a,center:l,right:s}}function xV(){return 0}function fR(e){return e===null?NaN:+e}function*wV(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const jV=fj(xs),tf=jV.right;fj(fR).center;class v2 extends Map{constructor(t,r=NV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(b2(this,t))}has(t){return super.has(b2(this,t))}set(t,r){return super.set(SV(this,t),r)}delete(t){return super.delete(_V(this,t))}}function b2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function SV({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function _V({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function NV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function OV(e=xs){if(e===xs)return hR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function hR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const EV=Math.sqrt(50),AV=Math.sqrt(10),CV=Math.sqrt(2);function Hm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=EV?10:s>=AV?5:s>=CV?2:1;let d,f,h;return a<0?(h=Math.pow(10,-a)/l,d=Math.round(e*h),f=Math.round(t*h),d/h<e&&++d,f/h>t&&--f,h=-h):(h=Math.pow(10,a)*l,d=Math.round(e/h),f=Math.round(t/h),d*h<e&&++d,f*h>t&&--f),f<d&&.5<=r&&r<2?Hm(e,t,r*2):[d,f,h]}function Fx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?Hm(t,e,r):Hm(e,t,r);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(n)if(l<0)for(let h=0;h<d;++h)f[h]=(s-h)/-l;else for(let h=0;h<d;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(a+h)/-l;else for(let h=0;h<d;++h)f[h]=(a+h)*l;return f}function Qx(e,t,r){return t=+t,e=+e,r=+r,Hm(e,t,r)[2]}function Hx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Qx(t,e,r):Qx(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function x2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function w2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?hR:OV(a);n>r;){if(n-r>600){const f=n-r+1,h=t-r+1,p=Math.log(f),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),b=Math.max(r,Math.floor(t-h*g/f+y)),w=Math.min(n,Math.floor(t+(f-h)*g/f+y));mR(e,t,b,w,a)}const s=e[t];let l=r,d=n;for(Qu(e,r,t),a(e[n],s)>0&&Qu(e,r,n);l<d;){for(Qu(e,l,d),++l,--d;a(e[l],s)<0;)++l;for(;a(e[d],s)>0;)--d}a(e[r],s)===0?Qu(e,r,d):(++d,Qu(e,d,n)),d<=t&&(r=d+1),t<=d&&(n=d-1)}return e}function Qu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function kV(e,t,r){if(e=Float64Array.from(wV(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return w2(e);if(t>=1)return x2(e);var n,a=(n-1)*t,s=Math.floor(a),l=x2(mR(e,s).subarray(0,s+1)),d=w2(e.subarray(s+1));return l+(d-l)*(a-s)}}function PV(e,t,r=fR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),d=+r(e[s+1],s+1,e);return l+(d-l)*(a-s)}}function TV(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Gn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Oi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Vx=Symbol("implicit");function hj(){var e=new v2,t=[],r=[],n=Vx;function a(s){let l=e.get(s);if(l===void 0){if(n!==Vx)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new v2;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return hj(t,r).unknown(n)},Gn.apply(a,arguments),a}function mj(){var e=hj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,d=!1,f=0,h=0,p=.5;delete e.unknown;function g(){var y=t().length,b=a<n,w=b?a:n,S=b?n:a;s=(S-w)/Math.max(1,y-f+h*2),d&&(s=Math.floor(s)),w+=(S-w-s*(y-f))*p,l=s*(1-f),d&&(w=Math.round(w),l=Math.round(l));var _=TV(y).map(function(N){return w+s*N});return r(b?_.reverse():_)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,d=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(y){return arguments.length?(d=!!y,g()):d},e.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},e.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},e.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},e.copy=function(){return mj(t(),[n,a]).round(d).paddingInner(f).paddingOuter(h).align(p)},Gn.apply(g(),arguments)}function pR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pR(t())},e}function DV(){return pR(mj.apply(null,arguments).paddingInner(1))}function pj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function rf(){}var Sd=.7,Vm=1/Sd,Zl="\\s*([+-]?\\d+)\\s*",_d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MV=/^#([0-9a-f]{3,8})$/,RV=new RegExp(`^rgb\\(${Zl},${Zl},${Zl}\\)$`),IV=new RegExp(`^rgb\\(${_a},${_a},${_a}\\)$`),LV=new RegExp(`^rgba\\(${Zl},${Zl},${Zl},${_d}\\)$`),BV=new RegExp(`^rgba\\(${_a},${_a},${_a},${_d}\\)$`),$V=new RegExp(`^hsl\\(${_d},${_a},${_a}\\)$`),UV=new RegExp(`^hsla\\(${_d},${_a},${_a},${_d}\\)$`),j2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pj(rf,Nd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:S2,formatHex:S2,formatHex8:zV,formatHsl:qV,formatRgb:_2,toString:_2});function S2(){return this.rgb().formatHex()}function zV(){return this.rgb().formatHex8()}function qV(){return yR(this).formatHsl()}function _2(){return this.rgb().formatRgb()}function Nd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=MV.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?N2(t):r===3?new sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Jh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Jh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RV.exec(e))?new sn(t[1],t[2],t[3],1):(t=IV.exec(e))?new sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=LV.exec(e))?Jh(t[1],t[2],t[3],t[4]):(t=BV.exec(e))?Jh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$V.exec(e))?A2(t[1],t[2]/100,t[3]/100,1):(t=UV.exec(e))?A2(t[1],t[2]/100,t[3]/100,t[4]):j2.hasOwnProperty(e)?N2(j2[e]):e==="transparent"?new sn(NaN,NaN,NaN,0):null}function N2(e){return new sn(e>>16&255,e>>8&255,e&255,1)}function Jh(e,t,r,n){return n<=0&&(e=t=r=NaN),new sn(e,t,r,n)}function KV(e){return e instanceof rf||(e=Nd(e)),e?(e=e.rgb(),new sn(e.r,e.g,e.b,e.opacity)):new sn}function Gx(e,t,r,n){return arguments.length===1?KV(e):new sn(e,t,r,n??1)}function sn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}pj(sn,Gx,gR(rf,{brighter(e){return e=e==null?Vm:Math.pow(Vm,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sd:Math.pow(Sd,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sn(_o(this.r),_o(this.g),_o(this.b),Gm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O2,formatHex:O2,formatHex8:FV,formatRgb:E2,toString:E2}));function O2(){return`#${uo(this.r)}${uo(this.g)}${uo(this.b)}`}function FV(){return`#${uo(this.r)}${uo(this.g)}${uo(this.b)}${uo((isNaN(this.opacity)?1:this.opacity)*255)}`}function E2(){const e=Gm(this.opacity);return`${e===1?"rgb(":"rgba("}${_o(this.r)}, ${_o(this.g)}, ${_o(this.b)}${e===1?")":`, ${e})`}`}function Gm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _o(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function uo(e){return e=_o(e),(e<16?"0":"")+e.toString(16)}function A2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sa(e,t,r,n)}function yR(e){if(e instanceof sa)return new sa(e.h,e.s,e.l,e.opacity);if(e instanceof rf||(e=Nd(e)),!e)return new sa;if(e instanceof sa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,d=s-a,f=(s+a)/2;return d?(t===s?l=(r-n)/d+(r<n)*6:r===s?l=(n-t)/d+2:l=(t-r)/d+4,d/=f<.5?s+a:2-s-a,l*=60):d=f>0&&f<1?0:l,new sa(l,d,f,e.opacity)}function QV(e,t,r,n){return arguments.length===1?yR(e):new sa(e,t,r,n??1)}function sa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}pj(sa,QV,gR(rf,{brighter(e){return e=e==null?Vm:Math.pow(Vm,e),new sa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sd:Math.pow(Sd,e),new sa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new sn(pb(e>=240?e-240:e+120,a,n),pb(e,a,n),pb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new sa(C2(this.h),em(this.s),em(this.l),Gm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gm(this.opacity);return`${e===1?"hsl(":"hsla("}${C2(this.h)}, ${em(this.s)*100}%, ${em(this.l)*100}%${e===1?")":`, ${e})`}`}}));function C2(e){return e=(e||0)%360,e<0?e+360:e}function em(e){return Math.max(0,Math.min(1,e||0))}function pb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const gj=e=>()=>e;function HV(e,t){return function(r){return e+r*t}}function VV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function GV(e){return(e=+e)==1?vR:function(t,r){return r-t?VV(t,r,e):gj(isNaN(t)?r:t)}}function vR(e,t){var r=t-e;return r?HV(e,r):gj(isNaN(e)?t:e)}const k2=(function e(t){var r=GV(t);function n(a,s){var l=r((a=Gx(a)).r,(s=Gx(s)).r),d=r(a.g,s.g),f=r(a.b,s.b),h=vR(a.opacity,s.opacity);return function(p){return a.r=l(p),a.g=d(p),a.b=f(p),a.opacity=h(p),a+""}}return n.gamma=e,n})(1);function YV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function WV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function XV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=Pc(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(d){for(l=0;l<n;++l)s[l]=a[l](d);return s}}function ZV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ym(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function JV(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Pc(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Yx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gb=new RegExp(Yx.source,"g");function eG(e){return function(){return e}}function tG(e){return function(t){return e(t)+""}}function rG(e,t){var r=Yx.lastIndex=gb.lastIndex=0,n,a,s,l=-1,d=[],f=[];for(e=e+"",t=t+"";(n=Yx.exec(e))&&(a=gb.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),d[l]?d[l]+=s:d[++l]=s),(n=n[0])===(a=a[0])?d[l]?d[l]+=a:d[++l]=a:(d[++l]=null,f.push({i:l,x:Ym(n,a)})),r=gb.lastIndex;return r<t.length&&(s=t.slice(r),d[l]?d[l]+=s:d[++l]=s),d.length<2?f[0]?tG(f[0].x):eG(t):(t=f.length,function(h){for(var p=0,g;p<t;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function Pc(e,t){var r=typeof t,n;return t==null||r==="boolean"?gj(t):(r==="number"?Ym:r==="string"?(n=Nd(t))?(t=n,k2):rG:t instanceof Nd?k2:t instanceof Date?ZV:WV(t)?YV:Array.isArray(t)?XV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?JV:Ym)(e,t)}function yj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function nG(e,t){t===void 0&&(t=e,e=Pc);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var d=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[d](l-d)}}function aG(e){return function(){return e}}function Wm(e){return+e}var P2=[0,1];function Fr(e){return e}function Wx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:aG(isNaN(t)?NaN:.5)}function iG(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function sG(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=Wx(a,n),s=r(l,s)):(n=Wx(n,a),s=r(s,l)),function(d){return s(n(d))}}function oG(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Wx(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(d){var f=tf(e,d,1,n)-1;return s[f](a[f](d))}}function nf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ng(){var e=P2,t=P2,r=Pc,n,a,s,l=Fr,d,f,h;function p(){var y=Math.min(e.length,t.length);return l!==Fr&&(l=iG(e[0],e[y-1])),d=y>2?oG:sG,f=h=null,g}function g(y){return y==null||isNaN(y=+y)?s:(f||(f=d(e.map(n),t,r)))(n(l(y)))}return g.invert=function(y){return l(a((h||(h=d(t,e.map(n),Ym)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,Wm),p()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),r=yj,p()},g.clamp=function(y){return arguments.length?(l=y?!0:Fr,p()):l!==Fr},g.interpolate=function(y){return arguments.length?(r=y,p()):r},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,b){return n=y,a=b,p()}}function vj(){return ng()(Fr,Fr)}function lG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xm(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function gc(e){return e=Xm(Math.abs(e)),e?e[1]:NaN}function cG(e,t){return function(r,n){for(var a=r.length,s=[],l=0,d=e[0],f=0;a>0&&d>0&&(f+d+1>n&&(d=Math.max(1,n-f)),s.push(r.substring(a-=d,a+d)),!((f+=d+1)>n));)d=e[l=(l+1)%e.length];return s.reverse().join(t)}}function uG(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var dG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Od(e){if(!(t=dG.exec(e)))throw new Error("invalid format: "+e);var t;return new bj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Od.prototype=bj.prototype;function bj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fG(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Zm;function hG(e,t){var r=Xm(e,t);if(!r)return Zm=void 0,e.toPrecision(t);var n=r[0],a=r[1],s=a-(Zm=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Xm(e,Math.max(0,t+s-1))[0]}function T2(e,t){var r=Xm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const D2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>T2(e*100,t),r:T2,s:hG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function M2(e){return e}var R2=Array.prototype.map,I2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mG(e){var t=e.grouping===void 0||e.thousands===void 0?M2:cG(R2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?M2:uG(R2.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g,y){g=Od(g);var b=g.fill,w=g.align,S=g.sign,_=g.symbol,N=g.zero,E=g.width,A=g.comma,C=g.precision,T=g.trim,P=g.type;P==="n"?(A=!0,P="g"):D2[P]||(C===void 0&&(C=12),T=!0,P="g"),(N||b==="0"&&w==="=")&&(N=!0,b="0",w="=");var D=(y&&y.prefix!==void 0?y.prefix:"")+(_==="$"?r:_==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),B=(_==="$"?n:/[%p]/.test(P)?l:"")+(y&&y.suffix!==void 0?y.suffix:""),K=D2[P],re=/[defgprs%]/.test(P);C=C===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function I(L){var V=D,J=B,G,R,H;if(P==="c")J=K(L)+J,L="";else{L=+L;var te=L<0||1/L<0;if(L=isNaN(L)?f:K(Math.abs(L),C),T&&(L=fG(L)),te&&+L==0&&S!=="+"&&(te=!1),V=(te?S==="("?S:d:S==="-"||S==="("?"":S)+V,J=(P==="s"&&!isNaN(L)&&Zm!==void 0?I2[8+Zm/3]:"")+J+(te&&S==="("?")":""),re){for(G=-1,R=L.length;++G<R;)if(H=L.charCodeAt(G),48>H||H>57){J=(H===46?a+L.slice(G+1):L.slice(G))+J,L=L.slice(0,G);break}}}A&&!N&&(L=t(L,1/0));var ae=V.length+L.length+J.length,ge=ae<E?new Array(E-ae+1).join(b):"";switch(A&&N&&(L=t(ge+L,ge.length?E-J.length:1/0),ge=""),w){case"<":L=V+L+J+ge;break;case"=":L=V+ge+L+J;break;case"^":L=ge.slice(0,ae=ge.length>>1)+V+L+J+ge.slice(ae);break;default:L=ge+V+L+J;break}return s(L)}return I.toString=function(){return g+""},I}function p(g,y){var b=Math.max(-8,Math.min(8,Math.floor(gc(y)/3)))*3,w=Math.pow(10,-b),S=h((g=Od(g),g.type="f",g),{suffix:I2[8+b/3]});return function(_){return S(w*_)}}return{format:h,formatPrefix:p}}var tm,xj,bR;pG({thousands:",",grouping:[3],currency:["$",""]});function pG(e){return tm=mG(e),xj=tm.format,bR=tm.formatPrefix,tm}function gG(e){return Math.max(0,-gc(Math.abs(e)))}function yG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gc(t)/3)))*3-gc(Math.abs(e)))}function vG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gc(t)-gc(e))+1}function xR(e,t,r,n){var a=Hx(e,t,r),s;switch(n=Od(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=yG(a,l))&&(n.precision=s),bR(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=vG(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=gG(a))&&(n.precision=s-(n.type==="%")*2);break}}return xj(n)}function ks(e){var t=e.domain;return e.ticks=function(r){var n=t();return Fx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return xR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],d=n[s],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=a,a=s,s=h);p-- >0;){if(h=Qx(l,d,r),h===f)return n[a]=l,n[s]=d,t(n);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return e},e}function wR(){var e=vj();return e.copy=function(){return nf(e,wR())},Gn.apply(e,arguments),ks(e)}function jR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Wm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return jR(e).unknown(t)},e=arguments.length?Array.from(e,Wm):[0,1],ks(r)}function SR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function L2(e){return Math.log(e)}function B2(e){return Math.exp(e)}function bG(e){return-Math.log(-e)}function xG(e){return-Math.exp(-e)}function wG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jG(e){return e===10?wG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function SG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $2(e){return(t,r)=>-e(-t,r)}function wj(e){const t=e(L2,B2),r=t.domain;let n=10,a,s;function l(){return a=SG(n),s=jG(n),r()[0]<0?(a=$2(a),s=$2(s),e(bG,xG)):e(L2,B2),t}return t.base=function(d){return arguments.length?(n=+d,l()):n},t.domain=function(d){return arguments.length?(r(d),l()):r()},t.ticks=d=>{const f=r();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let y=a(h),b=a(p),w,S;const _=d==null?10:+d;let N=[];if(!(n%1)&&b-y<_){if(y=Math.floor(y),b=Math.ceil(b),h>0){for(;y<=b;++y)for(w=1;w<n;++w)if(S=y<0?w/s(-y):w*s(y),!(S<h)){if(S>p)break;N.push(S)}}else for(;y<=b;++y)for(w=n-1;w>=1;--w)if(S=y>0?w/s(-y):w*s(y),!(S<h)){if(S>p)break;N.push(S)}N.length*2<_&&(N=Fx(h,p,_))}else N=Fx(y,b,Math.min(b-y,_)).map(s);return g?N.reverse():N},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Od(f)).precision==null&&(f.trim=!0),f=xj(f)),d===1/0)return f;const h=Math.max(1,n*d/t.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*n<n-.5&&(g*=n),g<=h?f(p):""}},t.nice=()=>r(SR(r(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),t}function _R(){const e=wj(ng()).domain([1,10]);return e.copy=()=>nf(e,_R()).base(e.base()),Gn.apply(e,arguments),e}function U2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function z2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jj(e){var t=1,r=e(U2(t),z2(t));return r.constant=function(n){return arguments.length?e(U2(t=+n),z2(t)):t},ks(r)}function NR(){var e=jj(ng());return e.copy=function(){return nf(e,NR()).constant(e.constant())},Gn.apply(e,arguments)}function q2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _G(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function NG(e){return e<0?-e*e:e*e}function Sj(e){var t=e(Fr,Fr),r=1;function n(){return r===1?e(Fr,Fr):r===.5?e(_G,NG):e(q2(r),q2(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ks(t)}function _j(){var e=Sj(ng());return e.copy=function(){return nf(e,_j()).exponent(e.exponent())},Gn.apply(e,arguments),e}function OG(){return _j.apply(null,arguments).exponent(.5)}function K2(e){return Math.sign(e)*e*e}function EG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function OR(){var e=vj(),t=[0,1],r=!1,n;function a(s){var l=EG(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(K2(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Wm)).map(K2)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return OR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gn.apply(a,arguments),ks(a)}function ER(){var e=[],t=[],r=[],n;function a(){var l=0,d=Math.max(1,t.length);for(r=new Array(d-1);++l<d;)r[l-1]=PV(e,l/d);return s}function s(l){return l==null||isNaN(l=+l)?n:t[tf(r,l)]}return s.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(xs),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return ER().domain(e).range(t).unknown(n)},Gn.apply(s,arguments)}function AR(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(f){return f!=null&&f<=f?a[tf(n,f,0,r)]:s}function d(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},l.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,d()):a.slice()},l.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return n.slice()},l.copy=function(){return AR().domain([e,t]).range(a).unknown(s)},Gn.apply(ks(l),arguments)}function CR(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[tf(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return CR().domain(e).range(t).unknown(r)},Gn.apply(a,arguments)}const yb=new Date,vb=new Date;function ur(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),d=a.ceil(s);return s-l<d-s?l:d},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return f;let h;do f.push(h=new Date(+s)),t(s,d),e(s);while(h<s&&s<l);return f},a.filter=s=>ur(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!s(l););else for(;--d>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(yb.setTime(+s),vb.setTime(+l),e(yb),e(vb),Math.floor(r(yb,vb))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Jm=ur(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ur(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Jm);Jm.range;const ii=1e3,Fn=ii*60,si=Fn*60,mi=si*24,Nj=mi*7,F2=mi*30,bb=mi*365,fo=ur(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getUTCSeconds());fo.range;const Oj=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getMinutes());Oj.range;const Ej=ur(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCMinutes());Ej.range;const Aj=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii-e.getMinutes()*Fn)},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getHours());Aj.range;const Cj=ur(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getUTCHours());Cj.range;const af=ur(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fn)/mi,e=>e.getDate()-1);af.range;const ag=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mi,e=>e.getUTCDate()-1);ag.range;const kR=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mi,e=>Math.floor(e/mi));kR.range;function qo(e){return ur(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Fn)/Nj)}const ig=qo(0),ep=qo(1),AG=qo(2),CG=qo(3),yc=qo(4),kG=qo(5),PG=qo(6);ig.range;ep.range;AG.range;CG.range;yc.range;kG.range;PG.range;function Ko(e){return ur(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Nj)}const sg=Ko(0),tp=Ko(1),TG=Ko(2),DG=Ko(3),vc=Ko(4),MG=Ko(5),RG=Ko(6);sg.range;tp.range;TG.range;DG.range;vc.range;MG.range;RG.range;const kj=ur(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kj.range;const Pj=ur(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Pj.range;const pi=ur(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});pi.range;const gi=ur(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});gi.range;function PR(e,t,r,n,a,s){const l=[[fo,1,ii],[fo,5,5*ii],[fo,15,15*ii],[fo,30,30*ii],[s,1,Fn],[s,5,5*Fn],[s,15,15*Fn],[s,30,30*Fn],[a,1,si],[a,3,3*si],[a,6,6*si],[a,12,12*si],[n,1,mi],[n,2,2*mi],[r,1,Nj],[t,1,F2],[t,3,3*F2],[e,1,bb]];function d(h,p,g){const y=p<h;y&&([h,p]=[p,h]);const b=g&&typeof g.range=="function"?g:f(h,p,g),w=b?b.range(h,+p+1):[];return y?w.reverse():w}function f(h,p,g){const y=Math.abs(p-h)/g,b=fj(([,,_])=>_).right(l,y);if(b===l.length)return e.every(Hx(h/bb,p/bb,g));if(b===0)return Jm.every(Math.max(Hx(h,p,g),1));const[w,S]=l[y/l[b-1][2]<l[b][2]/y?b-1:b];return w.every(S)}return[d,f]}const[IG,LG]=PR(gi,Pj,sg,kR,Cj,Ej),[BG,$G]=PR(pi,kj,ig,af,Aj,Oj);function xb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function UG(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,d=e.months,f=e.shortMonths,h=Vu(a),p=Gu(a),g=Vu(s),y=Gu(s),b=Vu(l),w=Gu(l),S=Vu(d),_=Gu(d),N=Vu(f),E=Gu(f),A={a:H,A:te,b:ae,B:ge,c:null,d:W2,e:W2,f:cY,g:bY,G:wY,H:sY,I:oY,j:lY,L:TR,m:uY,M:dY,p:M,q:F,Q:J2,s:ek,S:fY,u:hY,U:mY,V:pY,w:gY,W:yY,x:null,X:null,y:vY,Y:xY,Z:jY,"%":Z2},C={a:fe,A:pe,b:we,B:Ce,c:null,d:X2,e:X2,f:OY,g:IY,G:BY,H:SY,I:_Y,j:NY,L:MR,m:EY,M:AY,p:Ee,q:ue,Q:J2,s:ek,S:CY,u:kY,U:PY,V:TY,w:DY,W:MY,x:null,X:null,y:RY,Y:LY,Z:$Y,"%":Z2},T={a:re,A:I,b:L,B:V,c:J,d:G2,e:G2,f:rY,g:V2,G:H2,H:Y2,I:Y2,j:ZG,L:tY,m:XG,M:JG,p:K,q:WG,Q:aY,s:iY,S:eY,u:QG,U:HG,V:VG,w:FG,W:GG,x:G,X:R,y:V2,Y:H2,Z:YG,"%":nY};A.x=P(r,A),A.X=P(n,A),A.c=P(t,A),C.x=P(r,C),C.X=P(n,C),C.c=P(t,C);function P($,Z){return function(he){var ie=[],Ke=-1,Te=0,st=$.length,mt,fr,ka;for(he instanceof Date||(he=new Date(+he));++Ke<st;)$.charCodeAt(Ke)===37&&(ie.push($.slice(Te,Ke)),(fr=Q2[mt=$.charAt(++Ke)])!=null?mt=$.charAt(++Ke):fr=mt==="e"?" ":"0",(ka=Z[mt])&&(mt=ka(he,fr)),ie.push(mt),Te=Ke+1);return ie.push($.slice(Te,Ke)),ie.join("")}}function D($,Z){return function(he){var ie=Hu(1900,void 0,1),Ke=B(ie,$,he+="",0),Te,st;if(Ke!=he.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(Z&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Te=wb(Hu(ie.y,0,1)),st=Te.getUTCDay(),Te=st>4||st===0?tp.ceil(Te):tp(Te),Te=ag.offset(Te,(ie.V-1)*7),ie.y=Te.getUTCFullYear(),ie.m=Te.getUTCMonth(),ie.d=Te.getUTCDate()+(ie.w+6)%7):(Te=xb(Hu(ie.y,0,1)),st=Te.getDay(),Te=st>4||st===0?ep.ceil(Te):ep(Te),Te=af.offset(Te,(ie.V-1)*7),ie.y=Te.getFullYear(),ie.m=Te.getMonth(),ie.d=Te.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),st="Z"in ie?wb(Hu(ie.y,0,1)).getUTCDay():xb(Hu(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(st+5)%7:ie.w+ie.U*7-(st+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,wb(ie)):xb(ie)}}function B($,Z,he,ie){for(var Ke=0,Te=Z.length,st=he.length,mt,fr;Ke<Te;){if(ie>=st)return-1;if(mt=Z.charCodeAt(Ke++),mt===37){if(mt=Z.charAt(Ke++),fr=T[mt in Q2?Z.charAt(Ke++):mt],!fr||(ie=fr($,he,ie))<0)return-1}else if(mt!=he.charCodeAt(ie++))return-1}return ie}function K($,Z,he){var ie=h.exec(Z.slice(he));return ie?($.p=p.get(ie[0].toLowerCase()),he+ie[0].length):-1}function re($,Z,he){var ie=b.exec(Z.slice(he));return ie?($.w=w.get(ie[0].toLowerCase()),he+ie[0].length):-1}function I($,Z,he){var ie=g.exec(Z.slice(he));return ie?($.w=y.get(ie[0].toLowerCase()),he+ie[0].length):-1}function L($,Z,he){var ie=N.exec(Z.slice(he));return ie?($.m=E.get(ie[0].toLowerCase()),he+ie[0].length):-1}function V($,Z,he){var ie=S.exec(Z.slice(he));return ie?($.m=_.get(ie[0].toLowerCase()),he+ie[0].length):-1}function J($,Z,he){return B($,t,Z,he)}function G($,Z,he){return B($,r,Z,he)}function R($,Z,he){return B($,n,Z,he)}function H($){return l[$.getDay()]}function te($){return s[$.getDay()]}function ae($){return f[$.getMonth()]}function ge($){return d[$.getMonth()]}function M($){return a[+($.getHours()>=12)]}function F($){return 1+~~($.getMonth()/3)}function fe($){return l[$.getUTCDay()]}function pe($){return s[$.getUTCDay()]}function we($){return f[$.getUTCMonth()]}function Ce($){return d[$.getUTCMonth()]}function Ee($){return a[+($.getUTCHours()>=12)]}function ue($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var Z=P($+="",A);return Z.toString=function(){return $},Z},parse:function($){var Z=D($+="",!1);return Z.toString=function(){return $},Z},utcFormat:function($){var Z=P($+="",C);return Z.toString=function(){return $},Z},utcParse:function($){var Z=D($+="",!0);return Z.toString=function(){return $},Z}}}var Q2={"-":"",_:" ",0:"0"},jr=/^\s*\d+/,zG=/^%/,qG=/[\\^$*+?|[\]().{}]/g;function nt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function KG(e){return e.replace(qG,"\\$&")}function Vu(e){return new RegExp("^(?:"+e.map(KG).join("|")+")","i")}function Gu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function FG(e,t,r){var n=jr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function QG(e,t,r){var n=jr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function HG(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function VG(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function GG(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function H2(e,t,r){var n=jr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function V2(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function YG(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function WG(e,t,r){var n=jr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function XG(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function G2(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ZG(e,t,r){var n=jr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Y2(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function JG(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function eY(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function tY(e,t,r){var n=jr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rY(e,t,r){var n=jr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nY(e,t,r){var n=zG.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function aY(e,t,r){var n=jr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function iY(e,t,r){var n=jr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function W2(e,t){return nt(e.getDate(),t,2)}function sY(e,t){return nt(e.getHours(),t,2)}function oY(e,t){return nt(e.getHours()%12||12,t,2)}function lY(e,t){return nt(1+af.count(pi(e),e),t,3)}function TR(e,t){return nt(e.getMilliseconds(),t,3)}function cY(e,t){return TR(e,t)+"000"}function uY(e,t){return nt(e.getMonth()+1,t,2)}function dY(e,t){return nt(e.getMinutes(),t,2)}function fY(e,t){return nt(e.getSeconds(),t,2)}function hY(e){var t=e.getDay();return t===0?7:t}function mY(e,t){return nt(ig.count(pi(e)-1,e),t,2)}function DR(e){var t=e.getDay();return t>=4||t===0?yc(e):yc.ceil(e)}function pY(e,t){return e=DR(e),nt(yc.count(pi(e),e)+(pi(e).getDay()===4),t,2)}function gY(e){return e.getDay()}function yY(e,t){return nt(ep.count(pi(e)-1,e),t,2)}function vY(e,t){return nt(e.getFullYear()%100,t,2)}function bY(e,t){return e=DR(e),nt(e.getFullYear()%100,t,2)}function xY(e,t){return nt(e.getFullYear()%1e4,t,4)}function wY(e,t){var r=e.getDay();return e=r>=4||r===0?yc(e):yc.ceil(e),nt(e.getFullYear()%1e4,t,4)}function jY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nt(t/60|0,"0",2)+nt(t%60,"0",2)}function X2(e,t){return nt(e.getUTCDate(),t,2)}function SY(e,t){return nt(e.getUTCHours(),t,2)}function _Y(e,t){return nt(e.getUTCHours()%12||12,t,2)}function NY(e,t){return nt(1+ag.count(gi(e),e),t,3)}function MR(e,t){return nt(e.getUTCMilliseconds(),t,3)}function OY(e,t){return MR(e,t)+"000"}function EY(e,t){return nt(e.getUTCMonth()+1,t,2)}function AY(e,t){return nt(e.getUTCMinutes(),t,2)}function CY(e,t){return nt(e.getUTCSeconds(),t,2)}function kY(e){var t=e.getUTCDay();return t===0?7:t}function PY(e,t){return nt(sg.count(gi(e)-1,e),t,2)}function RR(e){var t=e.getUTCDay();return t>=4||t===0?vc(e):vc.ceil(e)}function TY(e,t){return e=RR(e),nt(vc.count(gi(e),e)+(gi(e).getUTCDay()===4),t,2)}function DY(e){return e.getUTCDay()}function MY(e,t){return nt(tp.count(gi(e)-1,e),t,2)}function RY(e,t){return nt(e.getUTCFullYear()%100,t,2)}function IY(e,t){return e=RR(e),nt(e.getUTCFullYear()%100,t,2)}function LY(e,t){return nt(e.getUTCFullYear()%1e4,t,4)}function BY(e,t){var r=e.getUTCDay();return e=r>=4||r===0?vc(e):vc.ceil(e),nt(e.getUTCFullYear()%1e4,t,4)}function $Y(){return"+0000"}function Z2(){return"%"}function J2(e){return+e}function ek(e){return Math.floor(+e/1e3)}var $l,IR,LR;UY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UY(e){return $l=UG(e),IR=$l.format,$l.parse,LR=$l.utcFormat,$l.utcParse,$l}function zY(e){return new Date(e)}function qY(e){return e instanceof Date?+e:+new Date(+e)}function Tj(e,t,r,n,a,s,l,d,f,h){var p=vj(),g=p.invert,y=p.domain,b=h(".%L"),w=h(":%S"),S=h("%I:%M"),_=h("%I %p"),N=h("%a %d"),E=h("%b %d"),A=h("%B"),C=h("%Y");function T(P){return(f(P)<P?b:d(P)<P?w:l(P)<P?S:s(P)<P?_:n(P)<P?a(P)<P?N:E:r(P)<P?A:C)(P)}return p.invert=function(P){return new Date(g(P))},p.domain=function(P){return arguments.length?y(Array.from(P,qY)):y().map(zY)},p.ticks=function(P){var D=y();return e(D[0],D[D.length-1],P??10)},p.tickFormat=function(P,D){return D==null?T:h(D)},p.nice=function(P){var D=y();return(!P||typeof P.range!="function")&&(P=t(D[0],D[D.length-1],P??10)),P?y(SR(D,P)):p},p.copy=function(){return nf(p,Tj(e,t,r,n,a,s,l,d,f,h))},p}function KY(){return Gn.apply(Tj(BG,$G,pi,kj,ig,af,Aj,Oj,fo,IR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function FY(){return Gn.apply(Tj(IG,LG,gi,Pj,sg,ag,Cj,Ej,fo,LR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function og(){var e=0,t=1,r,n,a,s,l=Fr,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(a===0?.5:(g=(s(g)-r)*a,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(y){var b,w;return arguments.length?([b,w]=y,l=g(b,w),h):[l(0),l(1)]}}return h.range=p(Pc),h.rangeRound=p(yj),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),h}}function Ps(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function BR(){var e=ks(og()(Fr));return e.copy=function(){return Ps(e,BR())},Oi.apply(e,arguments)}function $R(){var e=wj(og()).domain([1,10]);return e.copy=function(){return Ps(e,$R()).base(e.base())},Oi.apply(e,arguments)}function UR(){var e=jj(og());return e.copy=function(){return Ps(e,UR()).constant(e.constant())},Oi.apply(e,arguments)}function Dj(){var e=Sj(og());return e.copy=function(){return Ps(e,Dj()).exponent(e.exponent())},Oi.apply(e,arguments)}function QY(){return Dj.apply(null,arguments).exponent(.5)}function zR(){var e=[],t=Fr;function r(n){if(n!=null&&!isNaN(n=+n))return t((tf(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(xs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>kV(e,s/n))},r.copy=function(){return zR(t).domain(e)},Oi.apply(r,arguments)}function lg(){var e=0,t=.5,r=1,n=1,a,s,l,d,f,h=Fr,p,g=!1,y;function b(S){return isNaN(S=+S)?y:(S=.5+((S=+p(S))-s)*(n*S<n*s?d:f),h(g?Math.max(0,Math.min(1,S)):S))}b.domain=function(S){return arguments.length?([e,t,r]=S,a=p(e=+e),s=p(t=+t),l=p(r=+r),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),n=s<a?-1:1,b):[e,t,r]},b.clamp=function(S){return arguments.length?(g=!!S,b):g},b.interpolator=function(S){return arguments.length?(h=S,b):h};function w(S){return function(_){var N,E,A;return arguments.length?([N,E,A]=_,h=nG(S,[N,E,A]),b):[h(0),h(.5),h(1)]}}return b.range=w(Pc),b.rangeRound=w(yj),b.unknown=function(S){return arguments.length?(y=S,b):y},function(S){return p=S,a=S(e),s=S(t),l=S(r),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),n=s<a?-1:1,b}}function qR(){var e=ks(lg()(Fr));return e.copy=function(){return Ps(e,qR())},Oi.apply(e,arguments)}function KR(){var e=wj(lg()).domain([.1,1,10]);return e.copy=function(){return Ps(e,KR()).base(e.base())},Oi.apply(e,arguments)}function FR(){var e=jj(lg());return e.copy=function(){return Ps(e,FR()).constant(e.constant())},Oi.apply(e,arguments)}function Mj(){var e=Sj(lg());return e.copy=function(){return Ps(e,Mj()).exponent(e.exponent())},Oi.apply(e,arguments)}function HY(){return Mj.apply(null,arguments).exponent(.5)}const Ju=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mj,scaleDiverging:qR,scaleDivergingLog:KR,scaleDivergingPow:Mj,scaleDivergingSqrt:HY,scaleDivergingSymlog:FR,scaleIdentity:jR,scaleImplicit:Vx,scaleLinear:wR,scaleLog:_R,scaleOrdinal:hj,scalePoint:DV,scalePow:_j,scaleQuantile:ER,scaleQuantize:AR,scaleRadial:OR,scaleSequential:BR,scaleSequentialLog:$R,scaleSequentialPow:Dj,scaleSequentialQuantile:zR,scaleSequentialSqrt:QY,scaleSequentialSymlog:UR,scaleSqrt:OG,scaleSymlog:NR,scaleThreshold:CR,scaleTime:KY,scaleUtc:FY,tickFormat:xR},Symbol.toStringTag,{value:"Module"}));var Ei=e=>e.chartData,cg=Y([Ei],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Rj=(e,t,r,n)=>n?cg(e):Ei(e),VY=(e,t,r)=>r?cg(e):Ei(e);function yi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ze(t)&&Ze(r))return!0}return!1}function tk(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function QR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(Ze(r))a=r;else if(typeof r=="function")return;if(Ze(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(yi(l))return l}}function GY(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(yi(n))return tk(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,d;if(a==="auto")t!=null&&(l=Math.min(...t));else if(je(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&dC.test(a)){var f=dC.exec(a);if(f==null||f[1]==null||t==null)l=void 0;else{var h=+f[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(d=Math.max(...t));else if(je(s))d=s;else if(typeof s=="function")try{t!=null&&(d=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&fC.test(s)){var p=fC.exec(s);if(p==null||p[1]==null||t==null)d=void 0;else{var g=+p[1];d=t[1]+g}}else d=t==null?void 0:t[1];var y=[l,d];if(yi(y))return t==null?y:tk(y,t,r)}}}var Tc=1e9,YY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Lj,Dt=!0,Vn="[DecimalError] ",No=Vn+"Invalid argument: ",Ij=Vn+"Exponent out of range: ",Dc=Math.floor,ao=Math.pow,WY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wn,vr=1e7,Et=7,HR=9007199254740991,rp=Dc(HR/Et),Se={};Se.absoluteValue=Se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Se.comparedTo=Se.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Et;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Se.dividedBy=Se.div=function(e){return li(this,new this.constructor(e))};Se.dividedToIntegerBy=Se.idiv=function(e){var t=this,r=t.constructor;return wt(li(t,new r(e),0,1),r.precision)};Se.equals=Se.eq=function(e){return!this.cmp(e)};Se.exponent=function(){return rr(this)};Se.greaterThan=Se.gt=function(e){return this.cmp(e)>0};Se.greaterThanOrEqualTo=Se.gte=function(e){return this.cmp(e)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(e){return this.cmp(e)<0};Se.lessThanOrEqualTo=Se.lte=function(e){return this.cmp(e)<1};Se.logarithm=Se.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(wn))throw Error(Vn+"NaN");if(r.s<1)throw Error(Vn+(r.s?"NaN":"-Infinity"));return r.eq(wn)?new n(0):(Dt=!1,t=li(Ed(r,s),Ed(e,s),s),Dt=!0,wt(t,a))};Se.minus=Se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YR(t,e):VR(t,(e.s=-e.s,e))};Se.modulo=Se.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Vn+"NaN");return r.s?(Dt=!1,t=li(r,e,0,1).times(e),Dt=!0,r.minus(t)):wt(new n(r),a)};Se.naturalExponential=Se.exp=function(){return GR(this)};Se.naturalLogarithm=Se.ln=function(){return Ed(this)};Se.negated=Se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Se.plus=Se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VR(t,e):YR(t,(e.s=-e.s,e))};Se.precision=Se.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(No+e);if(t=rr(a)+1,n=a.d.length-1,r=n*Et+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Se.squareRoot=Se.sqrt=function(){var e,t,r,n,a,s,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Vn+"NaN")}for(e=rr(d),Dt=!1,a=Math.sqrt(+d),a==0||a==1/0?(t=Sa(d.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Dc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=l=r+3;;)if(s=n,n=s.plus(li(d,s,l+2)).times(.5),Sa(s.d).slice(0,l)===(t=Sa(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(wt(s,r+1,0),s.times(s).eq(d)){n=s;break}}else if(t!="9999")break;l+=4}return Dt=!0,wt(n,r)};Se.times=Se.mul=function(e){var t,r,n,a,s,l,d,f,h,p=this,g=p.constructor,y=p.d,b=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,r=p.e+e.e,f=y.length,h=b.length,f<h&&(s=y,y=b,b=s,l=f,f=h,h=l),s=[],l=f+h,n=l;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,a=f+n;a>n;)d=s[a]+b[n]*y[a-n-1]+t,s[a--]=d%vr|0,t=d/vr|0;s[a]=(s[a]+t)%vr|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Dt?wt(e,g.precision):e};Se.toDecimalPlaces=Se.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Aa(e,0,Tc),t===void 0?t=n.rounding:Aa(t,0,8),wt(r,e+rr(r)+1,t))};Se.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Io(n,!0):(Aa(e,0,Tc),t===void 0?t=a.rounding:Aa(t,0,8),n=wt(new a(n),e+1,t),r=Io(n,!0,e+1)),r};Se.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Io(a):(Aa(e,0,Tc),t===void 0?t=s.rounding:Aa(t,0,8),n=wt(new s(a),e+rr(a)+1,t),r=Io(n.abs(),!1,e+rr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Se.toInteger=Se.toint=function(){var e=this,t=e.constructor;return wt(new t(e),rr(e)+1,t.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(e){var t,r,n,a,s,l,d=this,f=d.constructor,h=12,p=+(e=new f(e));if(!e.s)return new f(wn);if(d=new f(d),!d.s){if(e.s<1)throw Error(Vn+"Infinity");return d}if(d.eq(wn))return d;if(n=f.precision,e.eq(wn))return wt(d,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=d.s,l){if((r=p<0?-p:p)<=HR){for(a=new f(wn),t=Math.ceil(n/Et+4),Dt=!1;r%2&&(a=a.times(d),nk(a.d,t)),r=Dc(r/2),r!==0;)d=d.times(d),nk(d.d,t);return Dt=!0,e.s<0?new f(wn).div(a):wt(a,n)}}else if(s<0)throw Error(Vn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,Dt=!1,a=e.times(Ed(d,n+h)),Dt=!0,a=GR(a),a.s=s,a};Se.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=rr(a),n=Io(a,r<=s.toExpNeg||r>=s.toExpPos)):(Aa(e,1,Tc),t===void 0?t=s.rounding:Aa(t,0,8),a=wt(new s(a),e,t),r=rr(a),n=Io(a,e<=r||r<=s.toExpNeg,e)),n};Se.toSignificantDigits=Se.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Aa(e,1,Tc),t===void 0?t=n.rounding:Aa(t,0,8)),wt(new n(r),e,t)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rr(e),r=e.constructor;return Io(e,t<=r.toExpNeg||t>=r.toExpPos)};function VR(e,t){var r,n,a,s,l,d,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Dt?wt(t,g):t;if(f=e.d,h=t.d,l=e.e,a=t.e,f=f.slice(),s=l-a,s){for(s<0?(n=f,s=-s,d=h.length):(n=h,a=l,d=f.length),l=Math.ceil(g/Et),d=l>d?l+1:d+1,s>d&&(s=d,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,n=h,h=f,f=n),r=0;s;)r=(f[--s]=f[s]+h[s]+r)/vr|0,f[s]%=vr;for(r&&(f.unshift(r),++a),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=a,Dt?wt(t,g):t}function Aa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(No+e)}function Sa(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=Et-n.length,r&&(s+=is(r)),s+=n;l=e[t],n=l+"",r=Et-n.length,r&&(s+=is(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var li=(function(){function e(n,a){var s,l=0,d=n.length;for(n=n.slice();d--;)s=n[d]*a+l,n[d]=s%vr|0,l=s/vr|0;return l&&n.unshift(l),n}function t(n,a,s,l){var d,f;if(s!=l)f=s>l?1:-1;else for(d=f=0;d<s;d++)if(n[d]!=a[d]){f=n[d]>a[d]?1:-1;break}return f}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*vr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var d,f,h,p,g,y,b,w,S,_,N,E,A,C,T,P,D,B,K=n.constructor,re=n.s==a.s?1:-1,I=n.d,L=a.d;if(!n.s)return new K(n);if(!a.s)throw Error(Vn+"Division by zero");for(f=n.e-a.e,D=L.length,T=I.length,b=new K(re),w=b.d=[],h=0;L[h]==(I[h]||0);)++h;if(L[h]>(I[h]||0)&&--f,s==null?E=s=K.precision:l?E=s+(rr(n)-rr(a))+1:E=s,E<0)return new K(0);if(E=E/Et+2|0,h=0,D==1)for(p=0,L=L[0],E++;(h<T||p)&&E--;h++)A=p*vr+(I[h]||0),w[h]=A/L|0,p=A%L|0;else{for(p=vr/(L[0]+1)|0,p>1&&(L=e(L,p),I=e(I,p),D=L.length,T=I.length),C=D,S=I.slice(0,D),_=S.length;_<D;)S[_++]=0;B=L.slice(),B.unshift(0),P=L[0],L[1]>=vr/2&&++P;do p=0,d=t(L,S,D,_),d<0?(N=S[0],D!=_&&(N=N*vr+(S[1]||0)),p=N/P|0,p>1?(p>=vr&&(p=vr-1),g=e(L,p),y=g.length,_=S.length,d=t(g,S,y,_),d==1&&(p--,r(g,D<y?B:L,y))):(p==0&&(d=p=1),g=L.slice()),y=g.length,y<_&&g.unshift(0),r(S,g,_),d==-1&&(_=S.length,d=t(L,S,D,_),d<1&&(p++,r(S,D<_?B:L,_))),_=S.length):d===0&&(p++,S=[0]),w[h++]=p,d&&S[0]?S[_++]=I[C]||0:(S=[I[C]],_=1);while((C++<T||S[0]!==void 0)&&E--)}return w[0]||w.shift(),b.e=f,wt(b,l?s+rr(b)+1:s)}})();function GR(e,t){var r,n,a,s,l,d,f=0,h=0,p=e.constructor,g=p.precision;if(rr(e)>16)throw Error(Ij+rr(e));if(!e.s)return new p(wn);for(Dt=!1,d=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(n=Math.log(ao(2,h))/Math.LN10*2+5|0,d+=n,r=a=s=new p(wn),p.precision=d;;){if(a=wt(a.times(e),d),r=r.times(++f),l=s.plus(li(a,r,d)),Sa(l.d).slice(0,d)===Sa(s.d).slice(0,d)){for(;h--;)s=wt(s.times(s),d);return p.precision=g,t==null?(Dt=!0,wt(s,g)):s}s=l}}function rr(e){for(var t=e.e*Et,r=e.d[0];r>=10;r/=10)t++;return t}function jb(e,t,r){if(t>e.LN10.sd())throw Dt=!0,r&&(e.precision=r),Error(Vn+"LN10 precision limit exceeded");return wt(new e(e.LN10),t)}function is(e){for(var t="";e--;)t+="0";return t}function Ed(e,t){var r,n,a,s,l,d,f,h,p,g=1,y=10,b=e,w=b.d,S=b.constructor,_=S.precision;if(b.s<1)throw Error(Vn+(b.s?"NaN":"-Infinity"));if(b.eq(wn))return new S(0);if(t==null?(Dt=!1,h=_):h=t,b.eq(10))return t==null&&(Dt=!0),jb(S,h);if(h+=y,S.precision=h,r=Sa(w),n=r.charAt(0),s=rr(b),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=Sa(b.d),n=r.charAt(0),g++;s=rr(b),n>1?(b=new S("0."+r),s++):b=new S(n+"."+r.slice(1))}else return f=jb(S,h+2,_).times(s+""),b=Ed(new S(n+"."+r.slice(1)),h-y).plus(f),S.precision=_,t==null?(Dt=!0,wt(b,_)):b;for(d=l=b=li(b.minus(wn),b.plus(wn),h),p=wt(b.times(b),h),a=3;;){if(l=wt(l.times(p),h),f=d.plus(li(l,new S(a),h)),Sa(f.d).slice(0,h)===Sa(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(jb(S,h+2,_).times(s+""))),d=li(d,new S(g),h),S.precision=_,t==null?(Dt=!0,wt(d,_)):d;d=f,a+=2}}function rk(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Dc(r/Et),e.d=[],n=(r+1)%Et,r<0&&(n+=Et),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Et;n<a;)e.d.push(+t.slice(n,n+=Et));t=t.slice(n),n=Et-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Dt&&(e.e>rp||e.e<-rp))throw Error(Ij+r)}else e.s=0,e.e=0,e.d=[0];return e}function wt(e,t,r){var n,a,s,l,d,f,h,p,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=Et,a=t,h=g[p=0];else{if(p=Math.ceil((n+1)/Et),s=g.length,p>=s)return e;for(h=s=g[p],l=1;s>=10;s/=10)l++;n%=Et,a=n-Et+l}if(r!==void 0&&(s=ao(10,l-a-1),d=h/s%10|0,f=t<0||g[p+1]!==void 0||h%s,f=r<4?(d||f)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(n>0?a>0?h/ao(10,l-a):0:g[p-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(s=rr(e),g.length=1,t=t-s-1,g[0]=ao(10,(Et-t%Et)%Et),e.e=Dc(-t/Et)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=p,s=1,p--):(g.length=p+1,s=ao(10,Et-n),g[p]=a>0?(h/ao(10,l-a)%ao(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==vr&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=vr)break;g[p--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(Dt&&(e.e>rp||e.e<-rp))throw Error(Ij+rr(e));return e}function YR(e,t){var r,n,a,s,l,d,f,h,p,g,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Dt?wt(t,b):t;if(f=e.d,g=t.d,n=t.e,h=e.e,f=f.slice(),l=h-n,l){for(p=l<0,p?(r=f,l=-l,d=g.length):(r=g,n=h,d=f.length),a=Math.max(Math.ceil(b/Et),d)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}l=0}for(p&&(r=f,f=g,g=r,t.s=-t.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>l;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=vr-1;--f[s],f[a]+=vr}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Dt?wt(t,b):t):new y(0)}function Io(e,t,r){var n,a=rr(e),s=Sa(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+is(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+is(-a-1)+s,r&&(n=r-l)>0&&(s+=is(n))):a>=l?(s+=is(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+is(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=is(n))),e.s<0?"-"+s:s}function nk(e,t){if(e.length>t)return e.length=t,!0}function WR(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(No+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return rk(l,s.toString())}else if(typeof s!="string")throw Error(No+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,WY.test(s))rk(l,s);else throw Error(No+s)}if(a.prototype=Se,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=WR,a.config=a.set=XY,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function XY(e){if(!e||typeof e!="object")throw Error(Vn+"Object expected");var t,r,n,a=["precision",1,Tc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Dc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(No+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(No+r+": "+n);return this}var Lj=WR(YY);wn=new Lj(1);const ft=Lj;function XR(e){var t;return e===0?t=1:t=Math.floor(new ft(e).abs().log(10).toNumber())+1,t}function ZR(e,t,r){for(var n=new ft(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var JR=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},eI=(e,t,r)=>{if(e.lte(0))return new ft(0);var n=XR(e.toNumber()),a=new ft(10).pow(n),s=e.div(a),l=n!==1?.05:.1,d=new ft(Math.ceil(s.div(l).toNumber())).add(r).mul(l),f=d.mul(a);return t?new ft(f.toNumber()):new ft(Math.ceil(f.toNumber()))},ZY=(e,t,r)=>{var n=new ft(1),a=new ft(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new ft(10).pow(XR(e)-1),a=new ft(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new ft(Math.floor(e)))}else e===0?a=new ft(Math.floor((t-1)/2)):r||(a=new ft(Math.floor(e)));for(var l=Math.floor((t-1)/2),d=[],f=0;f<t;f++)d.push(a.add(new ft(f-l).mul(n)).toNumber());return d},tI=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var l=eI(new ft(r).sub(t).div(n-1),a,s),d;t<=0&&r>=0?d=new ft(0):(d=new ft(t).add(r).div(2),d=d.sub(new ft(d).mod(l)));var f=Math.ceil(d.sub(t).div(l).toNumber()),h=Math.ceil(new ft(r).sub(d).div(l).toNumber()),p=f+h+1;return p>n?tI(t,r,n,a,s+1):(p<n&&(h=r>0?h+(n-p):h,f=r>0?f:f+(n-p)),{step:l,tickMin:d.sub(new ft(f).mul(l)),tickMax:d.add(new ft(h).mul(l))})},JY=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[d,f]=JR([r,n]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return r>n?h.reverse():h}if(d===f)return ZY(d,a,s);var{step:p,tickMin:g,tickMax:y}=tI(d,f,l,s,0),b=ZR(g,y.add(new ft(.1).mul(p)),p);return r>n?b.reverse():b},eW=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,d]=JR([n,a]);if(l===-1/0||d===1/0)return[n,a];if(l===d)return[l];var f=Math.max(r,2),h=eI(new ft(d).sub(l).div(f-1),s,0),p=[...ZR(new ft(l),new ft(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),n>a?p.reverse():p},rI=e=>e.rootProps.maxBarSize,tW=e=>e.rootProps.barGap,nI=e=>e.rootProps.barCategoryGap,rW=e=>e.rootProps.barSize,sf=e=>e.rootProps.stackOffset,aI=e=>e.rootProps.reverseStackOrder,Bj=e=>e.options.chartName,$j=e=>e.rootProps.syncId,iI=e=>e.rootProps.syncMethod,Uj=e=>e.options.eventEmitter,tr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},eo={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},ga={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},ug=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function dg(e,t,r){if(r!=="auto")return r;if(e!=null)return Si(e,t)?"category":"number"}function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function np(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(r),!0).forEach(function(n){nW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nW(e,t,r){return(t=aW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aW(e){var t=iW(e,"string");return typeof t=="symbol"?t:t+""}function iW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ik={allowDataOverflow:eo.allowDataOverflow,allowDecimals:eo.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:eo.angleAxisId,includeHidden:!1,name:void 0,reversed:eo.reversed,scale:eo.scale,tick:eo.tick,tickCount:void 0,ticks:void 0,type:eo.type,unit:void 0},sk={allowDataOverflow:ga.allowDataOverflow,allowDecimals:ga.allowDecimals,allowDuplicatedCategory:ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ga.radiusAxisId,includeHidden:ga.includeHidden,name:void 0,reversed:ga.reversed,scale:ga.scale,tick:ga.tick,tickCount:ga.tickCount,ticks:void 0,type:ga.type,unit:void 0},sW=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},zj=Y([sW,FM],(e,t)=>{var r;if(e!=null)return e;var n=(r=dg(t,"angleAxis",ik.type))!==null&&r!==void 0?r:"category";return np(np({},ik),{},{type:n})}),oW=(e,t)=>e.polarAxis.radiusAxis[t],qj=Y([oW,FM],(e,t)=>{var r;if(e!=null)return e;var n=(r=dg(t,"radiusAxis",sk.type))!==null&&r!==void 0?r:"category";return np(np({},sk),{},{type:n})}),fg=e=>e.polarOptions,Kj=Y([_i,Ni,cr],oR),sI=Y([fg,Kj],(e,t)=>{if(e!=null)return Br(e.innerRadius,t,0)}),oI=Y([fg,Kj],(e,t)=>{if(e!=null)return Br(e.outerRadius,t,t*.8)}),lW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},lI=Y([fg],lW);Y([zj,lI],ug);var cI=Y([Kj,sI,oI],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Y([qj,cI],ug);var uI=Y([at,fg,sI,oI,_i,Ni],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=t;return{cx:Br(l,a,a/2),cy:Br(d,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:h,clockWise:!1}}}),Lt=(e,t)=>t,of=(e,t,r)=>r;function Fj(e){return e==null?void 0:e.id}function dI(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:n;if(!(h==null||h.length===0)){var p=Fj(d);h.forEach((g,y)=>{var b=s==null||a?y:String(bt(g,s,null)),w=bt(g,d.dataKey,0),S;l.has(b)?S=l.get(b):S={},Object.assign(S,{[p]:w}),l.set(b,S)})}}),Array.from(l.values())}function hg(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var mg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function pg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function cW(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Sr=e=>{var t=at(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Mc=e=>e.tooltip.settings.axisId;function uW(e){if(e in Ju)return Ju[e]();var t="scale".concat(Hd(e));if(t in Ju)return Ju[t]()}function ok(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(s){var l=a[0],d=a[1];return l<=d?s>=l&&s<=d:s>=d&&s<=l},bandwidth:r?()=>r.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,l)=>{var d=e(s);if(d!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var f=e.bandwidth();switch(l.position){case"middle":d+=f/2;break;case"end":d+=f;break}}return d}}}}function lk(e,t,r){if(typeof e=="function")return ok(e.copy().domain(t).range(r));if(e!=null){var n=uW(e);if(n!=null)return n.domain(t).range(r),ok(n)}}var fI=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!yi(t)){for(var r,n,a=0;a<t.length;a++){var s=t[a];Ze(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){dW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dW(e,t,r){return(t=fW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fW(e){var t=hW(e,"string");return typeof t=="symbol"?t:t+""}function hW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xx=[0,"auto"],pr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},hI=(e,t)=>e.cartesianAxis.xAxis[t],Ai=(e,t)=>{var r=hI(e,t);return r??pr},gr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Xx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wd},mI=(e,t)=>e.cartesianAxis.yAxis[t],Ci=(e,t)=>{var r=mI(e,t);return r??gr},mW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Qj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??mW},Ht=(e,t,r)=>{switch(t){case"xAxis":return Ai(e,r);case"yAxis":return Ci(e,r);case"zAxis":return Qj(e,r);case"angleAxis":return zj(e,r);case"radiusAxis":return qj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},pW=(e,t,r)=>{switch(t){case"xAxis":return Ai(e,r);case"yAxis":return Ci(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Rc=(e,t,r)=>{switch(t){case"xAxis":return Ai(e,r);case"yAxis":return Ci(e,r);case"angleAxis":return zj(e,r);case"radiusAxis":return qj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},pI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Hj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var gg=e=>e.graphicalItems.cartesianItems,gW=Y([Lt,of],Hj),Vj=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),lf=Y([gg,Ht,gW],Vj,{memoizeOptions:{resultEqualityCheck:pg}}),gI=Y([lf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(hg)),yI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),yW=Y([lf],yI),Gj=e=>e.map(t=>t.data).filter(Boolean).flat(1),vW=Y([lf],Gj,{memoizeOptions:{resultEqualityCheck:pg}}),Yj=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Wj=Y([vW,Rj],Yj),Xj=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:bt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:bt(a,n)}))):e.map(n=>({value:n})),yg=Y([Wj,Ht,lf],Xj);function vI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function fm(e){if(Oa(e)||e instanceof Date){var t=Number(e);if(Ze(t))return t}}function uk(e){if(Array.isArray(e)){var t=[fm(e[0]),fm(e[1])];return yi(t)?t:void 0}var r=fm(e);if(r!=null)return[r,r]}function vi(e){return e.map(fm).filter(an)}function bW(e,t,r){return!r||typeof t!="number"||Na(t)?[]:r.length?vi(r.flatMap(n=>{var a=bt(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!Ze(s)||!Ze(l)))return[t-s,t+l]})):[]}var dr=e=>{var t=Sr(e),r=Mc(e);return Rc(e,t,r)},cf=Y([dr],e=>e==null?void 0:e.dataKey),xW=Y([gI,Rj,dr],dI),bI=(e,t,r,n)=>{var a={},s=t.reduce((l,d)=>{if(d.stackId==null)return l;var f=l[d.stackId];return f==null&&(f=[]),f.push(d),l[d.stackId]=f,l},a);return Object.fromEntries(Object.entries(s).map(l=>{var[d,f]=l,h=n?[...f].reverse():f,p=h.map(Fj);return[d,{stackedData:U7(e,p,r),graphicalItems:h}]}))},Zx=Y([xW,gI,sf,aI],bI),xI=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=Q7(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},wW=Y([Ht],e=>e.allowDataOverflow),Zj=e=>{var t;if(e==null||!("domain"in e))return Xx;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=vi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Xx},Jj=Y([Ht],Zj),e1=Y([Jj,wW],QR),jW=Y([Zx,Ei,Lt,e1],xI,{memoizeOptions:{resultEqualityCheck:mg}}),vg=e=>e.errorBars,SW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>vI(r,n)),ip=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},t1=(e,t,r,n,a)=>{var s,l;if(r.length>0&&e.forEach(d=>{r.forEach(f=>{var h,p,g=(h=n[f.id])===null||h===void 0?void 0:h.filter(N=>vI(a,N)),y=bt(d,(p=t.dataKey)!==null&&p!==void 0?p:f.dataKey),b=bW(d,y,g);if(b.length>=2){var w=Math.min(...b),S=Math.max(...b);(s==null||w<s)&&(s=w),(l==null||S>l)&&(l=S)}var _=uk(y);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),l=l==null?_[1]:Math.max(l,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(d=>{var f=uk(bt(d,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Ze(s)&&Ze(l))return[s,l]},_W=Y([Wj,Ht,yW,vg,Lt],t1,{memoizeOptions:{resultEqualityCheck:mg}});function NW(e){var{value:t}=e;if(Oa(t)||t instanceof Date)return t}var OW=(e,t,r)=>{var n=e.map(NW).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&UD(n))?dR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},wI=e=>e.referenceElements.dots,Ic=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),EW=Y([wI,Lt,of],Ic),jI=e=>e.referenceElements.areas,AW=Y([jI,Lt,of],Ic),SI=e=>e.referenceElements.lines,CW=Y([SI,Lt,of],Ic),_I=(e,t)=>{if(e!=null){var r=vi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},kW=Y(EW,Lt,_I),NI=(e,t)=>{if(e!=null){var r=vi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},PW=Y([AW,Lt],NI);function TW(e){var t;if(e.x!=null)return vi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:vi(r)}function DW(e){var t;if(e.y!=null)return vi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:vi(r)}var OI=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?TW(n):DW(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},MW=Y([CW,Lt],OI),RW=Y(kW,MW,PW,(e,t,r)=>ip(e,r,t)),r1=(e,t,r,n,a,s,l,d)=>{if(r!=null)return r;var f=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",h=f?ip(n,s,a):ip(s,a);return GY(t,h,e.allowDataOverflow)},IW=Y([Ht,Jj,e1,jW,_W,RW,at,Lt],r1,{memoizeOptions:{resultEqualityCheck:mg}}),LW=[0,1],n1=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:d,type:f}=e,h=Si(t,s);if(h&&d==null){var p;return dR(0,(p=r==null?void 0:r.length)!==null&&p!==void 0?p:0)}return f==="category"?OW(n,e,h):a==="expand"?LW:l}},a1=Y([Ht,at,Wj,yg,sf,Lt,IW],n1);function BW(e){return e in Ju}var EI=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(Hd(n));return BW(s)?s:"point"}}},Ts=Y([Ht,pI,Bj],EI);function i1(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?lk(e.scale,r,n):lk(t,r,n)}var s1=(e,t,r)=>{var n=Zj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&yi(e))return JY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&yi(e))return eW(e,t.tickCount,t.allowDecimals)}},o1=Y([a1,Rc,Ts],s1),l1=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&yi(t)&&Array.isArray(r)&&r.length>0){var a,s,l=t[0],d=(a=r[0])!==null&&a!==void 0?a:0,f=t[1],h=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,d),Math.max(f,h)]}return t},$W=Y([Ht,a1,o1,Lt],l1),UW=Y(yg,Ht,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(vi(e.map(g=>g.value))).sort((g,y)=>g-y),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var l=s-a;if(l===0)return 1/0;for(var d=0;d<n.length-1;d++){var f=n[d],h=n[d+1];if(!(f==null||h==null)){var p=h-f;r=Math.min(r,p)}}return r/l}}),AI=Y(UW,at,nI,cr,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Ze(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=Br(r,e*s),d=e*s/2;return d-l-(d-l)/s*l}return 0}),zW=(e,t,r)=>{var n=Ai(e,t);return n==null||typeof n.padding!="string"?0:AI(e,"xAxis",t,r,n.padding)},qW=(e,t,r)=>{var n=Ci(e,t);return n==null||typeof n.padding!="string"?0:AI(e,"yAxis",t,r,n.padding)},KW=Y(Ai,zW,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),FW=Y(Ci,qW,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),QW=Y([cr,KW,Wp,Yp,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),HW=Y([cr,at,FW,Wp,Yp,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),uf=(e,t,r,n)=>{var a;switch(t){case"xAxis":return QW(e,r,n);case"yAxis":return HW(e,r,n);case"zAxis":return(a=Qj(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return lI(e);case"radiusAxis":return cI(e,r);default:return}},CI=Y([Ht,uf],ug),VW=Y([Ts,$W],fI),bg=Y([Ht,Ts,VW,CI],i1);Y([lf,vg,Lt],SW);function kI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var xg=(e,t)=>t,wg=(e,t,r)=>r,GW=Y(Vp,xg,wg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(kI)),YW=Y(Gp,xg,wg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(kI)),PI=(e,t)=>({width:e.width,height:t.height}),WW=(e,t)=>{var r=typeof t.width=="number"?t.width:Wd;return{width:r,height:e.height}},TI=Y(cr,Ai,PI),XW=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},ZW=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},JW=Y(Ni,cr,GW,xg,wg,(e,t,r,n,a)=>{var s={},l;return r.forEach(d=>{var f=PI(t,d);l==null&&(l=XW(t,n,e));var h=n==="top"&&!a||n==="bottom"&&a;s[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),eX=Y(_i,cr,YW,xg,wg,(e,t,r,n,a)=>{var s={},l;return r.forEach(d=>{var f=WW(t,d);l==null&&(l=ZW(t,n,e));var h=n==="left"&&!a||n==="right"&&a;s[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),tX=(e,t)=>{var r=Ai(e,t);if(r!=null)return JW(e,r.orientation,r.mirror)},rX=Y([cr,Ai,tX,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),nX=(e,t)=>{var r=Ci(e,t);if(r!=null)return eX(e,r.orientation,r.mirror)},aX=Y([cr,Ci,nX,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),DI=Y(cr,Ci,(e,t)=>{var r=typeof t.width=="number"?t.width:Wd;return{width:r,height:e.height}}),dk=(e,t,r)=>{switch(t){case"xAxis":return TI(e,r).width;case"yAxis":return DI(e,r).height;default:return}},MI=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,d=Si(e,n),f=t.map(h=>h.value);if(l&&d&&s==="category"&&a&&UD(f))return f}},c1=Y([at,yg,Ht,Lt],MI),RI=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=Si(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(d=>d.value)}},u1=Y([at,yg,Rc,Lt],RI),fk=Y([at,pW,Ts,bg,c1,u1,uf,o1,Lt],(e,t,r,n,a,s,l,d,f)=>{if(t!=null){var h=Si(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:d,range:l,realScaleType:r,scale:n}}}),iX=(e,t,r,n,a,s,l,d,f)=>{if(!(t==null||n==null)){var h=Si(e,f),{type:p,ticks:g,tickCount:y}=t,b=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,w=p==="category"&&n.bandwidth?n.bandwidth()/b:0;w=f==="angleAxis"&&s!=null&&s.length>=2?xr(s[0]-s[1])*2*w:w;var S=g||a;return S?S.map((_,N)=>{var E=l?l.indexOf(_):_,A=n.map(E);return Ze(A)?{index:N,coordinate:A+w,value:_,offset:w}:null}).filter(an):h&&d?d.map((_,N)=>{var E=n.map(_);return Ze(E)?{coordinate:E+w,value:_,index:N,offset:w}:null}).filter(an):n.ticks?n.ticks(y).map((_,N)=>{var E=n.map(_);return Ze(E)?{coordinate:E+w,value:_,index:N,offset:w}:null}).filter(an):n.domain().map((_,N)=>{var E=n.map(_);return Ze(E)?{coordinate:E+w,value:l?l[_]:_,index:N,offset:w}:null}).filter(an)}},II=Y([at,Rc,Ts,bg,o1,uf,c1,u1,Lt],iX),sX=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var d=Si(e,l),{tickCount:f}=t,h=0;return h=l==="angleAxis"&&(n==null?void 0:n.length)>=2?xr(n[0]-n[1])*2*h:h,d&&s?s.map((p,g)=>{var y=r.map(p);return Ze(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(an):r.ticks?r.ticks(f).map((p,g)=>{var y=r.map(p);return Ze(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(an):r.domain().map((p,g)=>{var y=r.map(p);return Ze(y)?{coordinate:y+h,value:a?a[p]:p,index:g,offset:h}:null}).filter(an)}},js=Y([at,Rc,bg,uf,c1,u1,Lt],sX),Ss=Y(Ht,bg,(e,t)=>{if(!(e==null||t==null))return ap(ap({},e),{},{scale:t})}),oX=Y([Ht,Ts,a1,CI],i1);Y((e,t,r)=>Qj(e,r),oX,(e,t)=>{if(!(e==null||t==null))return ap(ap({},e),{},{scale:t})});var lX=Y([at,Vp,Gp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),LI=e=>e.options.defaultTooltipEventType,BI=e=>e.options.validateTooltipEventTypes;function $I(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function d1(e,t){var r=LI(e),n=BI(e);return $I(t,r,n)}function cX(e){return Ne(t=>d1(t,e))}var UI=(e,t)=>{var r,n=Number(t);if(!(Na(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},uX=e=>e.tooltip.settings,ls={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},dX={itemInteraction:{click:ls,hover:ls},axisInteraction:{click:ls,hover:ls},keyboardInteraction:ls,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},zI=ln({name:"tooltip",initialState:dX,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Pt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=oa(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Pt()},removeTooltipEntrySettings:{reducer(e,t){var r=oa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Pt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:fX,replaceTooltipEntrySettings:hX,removeTooltipEntrySettings:mX,setTooltipSettingsState:pX,setActiveMouseOverItemIndex:qI,mouseLeaveItem:gX,mouseLeaveChart:KI,setActiveClickItemIndex:yX,setMouseOverAxisIndex:FI,setMouseClickAxisIndex:vX,setSyncInteraction:Jx,setKeyboardInteraction:ew}=zI.actions,bX=zI.reducer;function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(n){xX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xX(e,t,r){return(t=wX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SX(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function _X(e){return e.index!=null}var QI=(e,t,r,n)=>{if(t==null)return ls;var a=SX(e,t,r);if(a==null)return ls;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(_X(a)){if(s)return rm(rm({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return rm(rm({},ls),{},{coordinate:a.coordinate})};function NX(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function OX(e,t){var r=NX(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),l=Math.max(n,a);return r>=s&&r<=l}function EX(e,t,r){if(r==null||t==null)return!0;var n=bt(e,t);return n==null||!yi(r)?!0:OX(n,r)}var f1=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!Ze(s))return a;var l=0,d=1/0;t.length>0&&(d=t.length-1);var f=Math.max(l,Math.min(s,d)),h=t[f];return h==null||EX(h,r,n)?String(f):null},HI=(e,t,r,n,a,s,l)=>{if(s!=null){var d=l[0],f=d==null?void 0:d.getPosition(s);if(f!=null)return f;var h=a==null?void 0:a[Number(s)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},VI=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(l=>{var d;return((d=l.settings)===null||d===void 0?void 0:d.graphicalItemId)===a})},GI=e=>e.options.tooltipPayloadSearcher,Lc=e=>e.tooltip;function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(n){AX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AX(e,t,r){return(t=CX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=kX(e,"string");return typeof t=="symbol"?t:t+""}function kX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PX(e,t){return e??t}var YI=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=r,g=[];return e.reduce((y,b)=>{var w,{dataDefinedOnItem:S,settings:_}=b,N=PX(S,d),E=Array.isArray(N)?DM(N,h,p):N,A=(w=_==null?void 0:_.dataKey)!==null&&w!==void 0?w:n,C=_==null?void 0:_.nameKey,T;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&l==="axis"?T=zD(E,n,a):T=s(E,t,f,C),Array.isArray(T))T.forEach(D=>{var B=pk(pk({},_),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});y.push(hC({tooltipEntrySettings:B,dataKey:D.dataKey,payload:D.payload,value:bt(D.payload,D.dataKey),name:D.name}))});else{var P;y.push(hC({tooltipEntrySettings:_,dataKey:A,payload:T,value:bt(T,A),name:(P=bt(T,C))!==null&&P!==void 0?P:_==null?void 0:_.name}))}return y},g)}},h1=Y([dr,pI,Bj],EI),TX=Y([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),DX=Y([Sr,Mc],Hj),Bc=Y([TX,dr,DX],Vj,{memoizeOptions:{resultEqualityCheck:pg}}),MX=Y([Bc],e=>e.filter(hg)),RX=Y([Bc],Gj,{memoizeOptions:{resultEqualityCheck:pg}}),$c=Y([RX,Ei],Yj),IX=Y([MX,Ei,dr],dI),m1=Y([$c,dr,Bc],Xj),WI=Y([dr],Zj),LX=Y([dr],e=>e.allowDataOverflow),XI=Y([WI,LX],QR),BX=Y([Bc],e=>e.filter(hg)),$X=Y([IX,BX,sf,aI],bI),UX=Y([$X,Ei,Sr,XI],xI),zX=Y([Bc],yI),qX=Y([$c,dr,zX,vg,Sr],t1,{memoizeOptions:{resultEqualityCheck:mg}}),KX=Y([wI,Sr,Mc],Ic),FX=Y([KX,Sr],_I),QX=Y([jI,Sr,Mc],Ic),HX=Y([QX,Sr],NI),VX=Y([SI,Sr,Mc],Ic),GX=Y([VX,Sr],OI),YX=Y([FX,GX,HX],ip),WX=Y([dr,WI,XI,UX,qX,YX,at,Sr],r1),df=Y([dr,at,$c,m1,sf,Sr,WX],n1),XX=Y([df,dr,h1],s1),ZX=Y([dr,df,XX,Sr],l1),ZI=e=>{var t=Sr(e),r=Mc(e),n=!1;return uf(e,t,r,n)},JI=Y([dr,ZI],ug),e4=Y([dr,h1,ZX,JI],i1),JX=Y([at,m1,dr,Sr],MI),eZ=Y([at,m1,dr,Sr],RI),tZ=(e,t,r,n,a,s,l,d)=>{if(t){var{type:f}=t,h=Si(e,d);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?xr(a[0]-a[1])*2*g:g,h&&l?l.map((y,b)=>{var w=n.map(y);return Ze(w)?{coordinate:w+g,value:y,index:b,offset:g}:null}).filter(an):n.domain().map((y,b)=>{var w=n.map(y);return Ze(w)?{coordinate:w+g,value:s?s[y]:y,index:b,offset:g}:null}).filter(an)}}},ki=Y([at,dr,h1,e4,ZI,JX,eZ,Sr],tZ),p1=Y([LI,BI,uX],(e,t,r)=>$I(r.shared,e,t)),t4=e=>e.tooltip.settings.trigger,g1=e=>e.tooltip.settings.defaultIndex,ff=Y([Lc,p1,t4,g1],QI),_s=Y([ff,$c,cf,df],f1),r4=Y([ki,_s],UI),y1=Y([ff],e=>{if(e)return e.dataKey}),rZ=Y([ff],e=>{if(e)return e.graphicalItemId}),n4=Y([Lc,p1,t4,g1],VI),nZ=Y([_i,Ni,at,cr,ki,g1,n4],HI),aZ=Y([ff,nZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),iZ=Y([ff],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),sZ=Y([n4,_s,Ei,cf,r4,GI,p1],YI),oZ=Y([sZ],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(n){lZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lZ(e,t,r){return(t=cZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cZ(e){var t=uZ(e,"string");return typeof t=="symbol"?t:t+""}function uZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dZ=()=>Ne(dr),fZ=()=>{var e=dZ(),t=Ne(ki),r=Ne(e4);return hc(!e||!r?void 0:yk(yk({},e),{},{scale:r}),t)};function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(n){hZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hZ(e,t,r){return(t=mZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mZ(e){var t=pZ(e,"string");return typeof t=="symbol"?t:t+""}function pZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gZ=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},yZ=(e,t,r,n)=>{var a=t.find(h=>h&&h.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:l}=n;return Ul(Ul(Ul({},n),er(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var d=a.coordinate,{angle:f}=n;return Ul(Ul(Ul({},n),er(n.cx,n.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function vZ(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var a4=(e,t,r,n,a)=>{var s,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<l;d++){var f,h,p,g,y,b=d>0?(f=r[d-1])===null||f===void 0?void 0:f.coordinate:(h=r[l-1])===null||h===void 0?void 0:h.coordinate,w=(p=r[d])===null||p===void 0?void 0:p.coordinate,S=d>=l-1?(g=r[0])===null||g===void 0?void 0:g.coordinate:(y=r[d+1])===null||y===void 0?void 0:y.coordinate,_=void 0;if(!(b==null||w==null||S==null))if(xr(w-b)!==xr(S-w)){var N=[];if(xr(S-w)===xr(a[1]-a[0])){_=S;var E=w+a[1]-a[0];N[0]=Math.min(E,(E+b)/2),N[1]=Math.max(E,(E+b)/2)}else{_=b;var A=S+a[1]-a[0];N[0]=Math.min(w,(A+w)/2),N[1]=Math.max(w,(A+w)/2)}var C=[Math.min(w,(_+w)/2),Math.max(w,(_+w)/2)];if(e>C[0]&&e<=C[1]||e>=N[0]&&e<=N[1]){var T;return(T=r[d])===null||T===void 0?void 0:T.index}}else{var P=Math.min(b,S),D=Math.max(b,S);if(e>(P+w)/2&&e<=(D+w)/2){var B;return(B=r[d])===null||B===void 0?void 0:B.index}}}else if(t)for(var K=0;K<l;K++){var re=t[K];if(re!=null){var I=t[K+1],L=t[K-1];if(K===0&&I!=null&&e<=(re.coordinate+I.coordinate)/2||K===l-1&&L!=null&&e>(re.coordinate+L.coordinate)/2||K>0&&K<l-1&&L!=null&&I!=null&&e>(re.coordinate+L.coordinate)/2&&e<=(re.coordinate+I.coordinate)/2)return re.index}}return-1},bZ=()=>Ne(Bj),v1=(e,t)=>t,i4=(e,t,r)=>r,b1=(e,t,r,n)=>n,xZ=Y(ki,e=>Lp(e,t=>t.coordinate)),x1=Y([Lc,v1,i4,b1],QI),w1=Y([x1,$c,cf,df],f1),wZ=(e,t,r)=>{if(t!=null){var n=Lc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},s4=Y([Lc,v1,i4,b1],VI),sp=Y([_i,Ni,at,cr,ki,b1,s4],HI),jZ=Y([x1,sp],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),o4=Y([ki,w1],UI),SZ=Y([s4,w1,Ei,cf,o4,GI,v1],YI),_Z=Y([x1,w1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),NZ=(e,t,r,n,a,s,l)=>{if(!(!e||!r||!n||!a)&&vZ(e,l)){var d=H7(e,t),f=a4(d,s,a,r,n),h=gZ(t,a,f,e);return{activeIndex:String(f),activeCoordinate:h}}},OZ=(e,t,r,n,a,s,l)=>{if(!(!e||!n||!a||!s||!r)){var d=cV(e,r);if(d){var f=V7(d,t),h=a4(f,l,s,n,a),p=yZ(t,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},EZ=(e,t,r,n,a,s,l,d)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?NZ(e,t,n,a,s,l,d):OZ(e,t,r,n,a,s,l)},AZ=Y(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),CZ=Y(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(tr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:cW}});function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(n){kZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kZ(e,t,r){return(t=PZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PZ(e){var t=TZ(e,"string");return typeof t=="symbol"?t:t+""}function TZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DZ={},MZ={zIndexMap:Object.values(tr).reduce((e,t)=>xk(xk({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),DZ)},RZ=new Set(Object.values(tr));function IZ(e){return RZ.has(e)}var l4=ln({name:"zIndex",initialState:MZ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Pt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!IZ(r)&&delete e.zIndexMap[r])},prepare:Pt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Pt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Pt()}}}),{registerZIndexPortal:LZ,unregisterZIndexPortal:BZ,registerZIndexPortalElement:$Z,unregisterZIndexPortalElement:UZ}=l4.actions,zZ=l4.reducer;function cn(e){var{zIndex:t,children:r}=e,n=_Q(),a=n&&t!==void 0&&t!==0,s=$r(),l=_t();j.useLayoutEffect(()=>a?(l(LZ({zIndex:t})),()=>{l(BZ({zIndex:t}))}):Uo,[l,t,a]);var d=Ne(f=>AZ(f,t,s));return a?d?Sw.createPortal(r,d):null:r}function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tw.apply(null,arguments)}function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(n){qZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qZ(e,t,r){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KZ(e){var t=FZ(e,"string");return typeof t=="symbol"?t:t+""}function FZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QZ(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return j.isValidElement(t)?j.cloneElement(t,n):j.createElement(r,n)}function HZ(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:d,cursor:f,tooltipEventType:h,chartName:p}=e,g=r,y=n,b=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var w,S,_;if(p==="ScatterChart")w=g,S=SH,_=tr.cursorLine;else if(p==="BarChart")w=_H(d,g,s,l),S=sR,_=tr.cursorRectangle;else if(d==="radial"&&KD(g)){var{cx:N,cy:E,radius:A,startAngle:C,endAngle:T}=lR(g);w={cx:N,cy:E,startAngle:C,endAngle:T,innerRadius:A,outerRadius:A},S=uR,_=tr.cursorLine}else w={points:hV(d,g,s)},S=dj,_=tr.cursorLine;var P=typeof f=="object"&&"className"in f?f.className:void 0,D=nm(nm(nm(nm({stroke:"#ccc",pointerEvents:"none"},s),w),Co(f)),{},{payload:y,payloadIndex:b,className:rt("recharts-tooltip-cursor",P)});return j.createElement(cn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},j.createElement(QZ,{cursor:f,cursorComp:S,cursorProps:D}))}function VZ(e){var t=fZ(),r=qM(),n=zo(),a=bZ();return t==null||r==null||n==null||a==null?null:j.createElement(HZ,tw({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var c4=j.createContext(null),GZ=()=>j.useContext(c4),Sb={exports:{}},jk;function YZ(){return jk||(jk=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new a(p,g||f,y),w=r?r+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=r?r+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,b=g.length,w=new Array(b);y<b;y++)w[y]=g[y].fn;return w},d.prototype.listenerCount=function(h){var p=r?r+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,y,b,w){var S=r?r+h:h;if(!this._events[S])return!1;var _=this._events[S],N=arguments.length,E,A;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),N){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,y),!0;case 5:return _.fn.call(_.context,p,g,y,b),!0;case 6:return _.fn.call(_.context,p,g,y,b,w),!0}for(A=1,E=new Array(N-1);A<N;A++)E[A-1]=arguments[A];_.fn.apply(_.context,E)}else{var C=_.length,T;for(A=0;A<C;A++)switch(_[A].once&&this.removeListener(h,_[A].fn,void 0,!0),N){case 1:_[A].fn.call(_[A].context);break;case 2:_[A].fn.call(_[A].context,p);break;case 3:_[A].fn.call(_[A].context,p,g);break;case 4:_[A].fn.call(_[A].context,p,g,y);break;default:if(!E)for(T=1,E=new Array(N-1);T<N;T++)E[T-1]=arguments[T];_[A].fn.apply(_[A].context,E)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,y){var b=r?r+h:h;if(!this._events[b])return this;if(!p)return l(this,b),this;var w=this._events[b];if(w.fn)w.fn===p&&(!y||w.once)&&(!g||w.context===g)&&l(this,b);else{for(var S=0,_=[],N=w.length;S<N;S++)(w[S].fn!==p||y&&!w[S].once||g&&w[S].context!==g)&&_.push(w[S]);_.length?this._events[b]=_.length===1?_[0]:_:l(this,b)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(Sb)),Sb.exports}var WZ=YZ();const XZ=Ca(WZ);var Ad=new XZ,rw="recharts.syncEvent.tooltip",Sk="recharts.syncEvent.brush",j1=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Na(r))return e[r]}},ZZ={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},u4=ln({name:"options",initialState:ZZ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),JZ=u4.reducer,{createEventEmitter:eJ}=u4.actions;function tJ(e){return e.tooltip.syncInteraction}var rJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},d4=ln({name:"chartData",initialState:rJ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:_k,setDataStartEndIndexes:nJ,setComputedData:Qoe}=d4.actions,aJ=d4.reducer,iJ=["x","y"];function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(n){sJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sJ(e,t,r){return(t=oJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oJ(e){var t=lJ(e,"string");return typeof t=="symbol"?t:t+""}function lJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cJ(e,t){if(e==null)return{};var r,n,a=uJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dJ(){var e=Ne($j),t=Ne(Uj),r=_t(),n=Ne(iI),a=Ne(ki),s=zo(),l=Xp(),d=Ne(f=>f.rootProps.className);j.useEffect(()=>{if(e==null)return Uo;var f=(h,p,g)=>{if(t!==g&&e===h){if(n==="index"){var y;if(l&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var b=p.payload.coordinate,{x:w,y:S}=b,_=cJ(b,iJ),{x:N,y:E,width:A,height:C}=p.payload.sourceViewBox,T=zl(zl({},_),{},{x:l.x+(A?(w-N)/A:0)*l.width,y:l.y+(C?(S-E)/C:0)*l.height});r(zl(zl({},p),{},{payload:zl(zl({},p.payload),{},{coordinate:T})}))}else r(p);return}if(a!=null){var P;if(typeof n=="function"){var D={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},B=n(a,D);P=a[B]}else n==="value"&&(P=a.find(R=>String(R.value)===p.payload.label));var{coordinate:K}=p.payload;if(P==null||p.payload.active===!1||K==null||l==null){r(Jx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:re,y:I}=K,L=Math.min(re,l.x+l.width),V=Math.min(I,l.y+l.height),J={x:s==="horizontal"?P.coordinate:L,y:s==="horizontal"?V:P.coordinate},G=Jx({active:p.payload.active,coordinate:J,dataKey:p.payload.dataKey,index:String(P.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});r(G)}}};return Ad.on(rw,f),()=>{Ad.off(rw,f)}},[d,r,t,e,n,a,s,l])}function fJ(){var e=Ne($j),t=Ne(Uj),r=_t();j.useEffect(()=>{if(e==null)return Uo;var n=(a,s,l)=>{t!==l&&e===a&&r(nJ(s))};return Ad.on(Sk,n),()=>{Ad.off(Sk,n)}},[r,t,e])}function hJ(){var e=_t();j.useEffect(()=>{e(eJ())},[e]),dJ(),fJ()}function mJ(e,t,r,n,a,s){var l=Ne(b=>wZ(b,e,t)),d=Ne(Uj),f=Ne($j),h=Ne(iI),p=Ne(tJ),g=p==null?void 0:p.active,y=Xp();j.useEffect(()=>{if(!g&&f!=null&&d!=null){var b=Jx({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:y,graphicalItemId:void 0});Ad.emit(rw,f,b,d)}},[g,r,l,a,n,d,f,h,s,y])}function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ek(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(n){pJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pJ(e,t,r){return(t=gJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gJ(e){var t=yJ(e,"string");return typeof t=="symbol"?t:t+""}function yJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vJ(e){return e.dataKey}function bJ(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(rH,t)}var Ak=[],xJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Jl(e){var t,r,n=nr(e,xJ),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:y,position:b,reverseDirection:w,useTranslate3d:S,wrapperStyle:_,cursor:N,shared:E,trigger:A,defaultIndex:C,portal:T,axisId:P}=n,D=_t(),B=typeof C=="number"?String(C):C;j.useEffect(()=>{D(pX({shared:E,trigger:A,axisId:P,active:a,defaultIndex:B}))},[D,E,A,P,a,B]);var K=Xp(),re=tR(),I=cX(E),{activeIndex:L,isActive:V}=(t=Ne(Ee=>_Z(Ee,I,A,B)))!==null&&t!==void 0?t:{},J=Ne(Ee=>SZ(Ee,I,A,B)),G=Ne(Ee=>o4(Ee,I,A,B)),R=Ne(Ee=>jZ(Ee,I,A,B)),H=J,te=GZ(),ae=(r=a??V)!==null&&r!==void 0?r:!1,[ge,M]=nM([H,ae]),F=I==="axis"?G:void 0;mJ(I,A,R,F,L,ae);var fe=T??te;if(fe==null||K==null||I==null)return null;var pe=H??Ak;ae||(pe=Ak),h&&pe.length&&(pe=ZD(pe.filter(Ee=>Ee.value!=null&&(Ee.hide!==!0||n.includeHidden)),y,vJ));var we=pe.length>0,Ce=j.createElement(cH,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:p,active:ae,coordinate:R,hasPayload:we,offset:g,position:b,reverseDirection:w,useTranslate3d:S,viewBox:K,wrapperStyle:_,lastBoundingBox:ge,innerRef:M,hasPortalFromProps:!!T},bJ(f,Ek(Ek({},n),{},{payload:pe,label:F,active:ae,activeIndex:L,coordinate:R,accessibilityLayer:re})));return j.createElement(j.Fragment,null,Sw.createPortal(Ce,fe),ae&&j.createElement(VZ,{cursor:N,tooltipEventType:I,coordinate:R,payload:pe,index:L}))}var Fo=e=>null;Fo.displayName="Cell";function wJ(e,t,r){return(t=jJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jJ(e){var t=SJ(e,"string");return typeof t=="symbol"?t:t+""}function SJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _J{constructor(t){wJ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(n){OJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OJ(e,t,r){return(t=EJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EJ(e){var t=AJ(e,"string");return typeof t=="symbol"?t:t+""}function AJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CJ={cacheSize:2e3,enableCache:!0},f4=NJ({},CJ),kk=new _J(f4.cacheSize),kJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Pk="recharts_measurement_span";function PJ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(d)}var Tk=(e,t)=>{try{var r=document.getElementById(Pk);r||(r=document.createElement("span"),r.setAttribute("id",Pk),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,kJ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},nd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||rg.isSsr)return{width:0,height:0};if(!f4.enableCache)return Tk(t,r);var n=PJ(t,r),a=kk.get(n);if(a)return a;var s=Tk(t,r);return kk.set(n,s),s},h4;function TJ(e,t,r){return(t=DJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DJ(e){var t=MJ(e,"string");return typeof t=="symbol"?t:t+""}function MJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},BJ=["cm","mm","pt","pc","in","Q","px"];function $J(e){return BJ.includes(e)}var Gl="NaN";function UJ(e,t){return e*LJ[t]}class Tr{static parse(t){var r,[,n,a]=(r=IJ.exec(t))!==null&&r!==void 0?r:[];return n==null?Tr.NaN:new Tr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Na(t)&&(this.unit=""),r!==""&&!RJ.test(r)&&(this.num=NaN,this.unit=""),$J(r)&&(this.num=UJ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Tr(NaN,""):new Tr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Tr(NaN,""):new Tr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Tr(NaN,""):new Tr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Tr(NaN,""):new Tr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Na(this.num)}}h4=Tr;TJ(Tr,"NaN",new h4(NaN,""));function m4(e){if(e==null||e.includes(Gl))return Gl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=Dk.exec(t))!==null&&r!==void 0?r:[],l=Tr.parse(n??""),d=Tr.parse(s??""),f=a==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return Gl;t=t.replace(Dk,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,g,y]=(h=Mk.exec(t))!==null&&h!==void 0?h:[],b=Tr.parse(p??""),w=Tr.parse(y??""),S=g==="+"?b.add(w):b.subtract(w);if(S.isNaN())return Gl;t=t.replace(Mk,S.toString())}return t}var Rk=/\(([^()]*)\)/;function zJ(e){for(var t=e,r;(r=Rk.exec(t))!=null;){var[,n]=r;t=t.replace(Rk,m4(n))}return t}function qJ(e){var t=e.replace(/\s+/g,"");return t=zJ(t),t=m4(t),t}function KJ(e){try{return qJ(e)}catch{return Gl}}function _b(e){var t=KJ(e.slice(5,-1));return t===Gl?"":t}var FJ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],QJ=["dx","dy","angle","className","breakAll"];function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(null,arguments)}function Ik(e,t){if(e==null)return{};var r,n,a=HJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var p4=/[ \f\n\r\t\v\u2028\u2029]+/,g4=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Rt(t)||(r?a=t.toString().split(""):a=t.toString().split(p4));var s=a.map(d=>({word:d,width:nd(d,n).width})),l=r?0:nd("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function VJ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var y4=(e,t,r,n)=>e.reduce((a,s)=>{var{word:l,width:d}=s,f=a[a.length-1];if(f&&d!=null&&(t==null||n||f.width+d+r<Number(t)))f.words.push(l),f.width+=d+r;else{var h={words:[l],width:d};a.push(h)}return a},[]),v4=e=>e.reduce((t,r)=>t.width>r.width?t:r),GJ="",Lk=(e,t,r,n,a,s,l,d)=>{var f=e.slice(0,t),h=g4({breakAll:r,style:n,children:f+GJ});if(!h)return[!1,[]];var p=y4(h.wordsWithComputedWidth,s,l,d),g=p.length>a||v4(p).width>Number(s);return[g,p]},YJ=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:d,breakAll:f}=e,h=je(s),p=String(l),g=y4(t,n,r,a);if(!h||a)return g;var y=g.length>s||v4(g).width>Number(n);if(!y)return g;for(var b=0,w=p.length-1,S=0,_;b<=w&&S<=p.length-1;){var N=Math.floor((b+w)/2),E=N-1,[A,C]=Lk(p,E,f,d,s,n,r,a),[T]=Lk(p,N,f,d,s,n,r,a);if(!A&&!T&&(b=N+1),A&&T&&(w=N-1),!A&&T){_=C;break}S++}return _||g},Bk=e=>{var t=Rt(e)?[]:e.toString().split(p4);return[{words:t,width:void 0}]},WJ=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!rg.isSsr){var d,f,h=g4({breakAll:s,children:n,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return Bk(n);return YJ({breakAll:s,children:n,maxLines:l,style:a},d,f,t,!!r)}return Bk(n)},b4="#808080",XJ={angle:0,breakAll:!1,capHeight:"0.71em",fill:b4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},jg=j.forwardRef((e,t)=>{var r=nr(e,XJ),{x:n,y:a,lineHeight:s,capHeight:l,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=r,g=Ik(r,FJ),y=j.useMemo(()=>WJ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:b,dy:w,angle:S,className:_,breakAll:N}=g,E=Ik(g,QJ);if(!Oa(n)||!Oa(a)||y.length===0)return null;var A=Number(n)+(je(b)?b:0),C=Number(a)+(je(w)?w:0);if(!Ze(A)||!Ze(C))return null;var T;switch(p){case"start":T=_b("calc(".concat(l,")"));break;case"middle":T=_b("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:T=_b("calc(".concat(y.length-1," * -").concat(s,")"));break}var P=[],D=y[0];if(f&&D!=null){var B=D.width,{width:K}=g;P.push("scale(".concat(je(K)&&je(B)?K/B:1,")"))}return S&&P.push("rotate(".concat(S,", ").concat(A,", ").concat(C,")")),P.length&&(E.transform=P.join(" ")),j.createElement("text",nw({},Qr(E),{ref:t,x:A,y:C,className:rt("recharts-text",_),textAnchor:h,fill:d.includes("url")?b4:d}),y.map((re,I)=>{var L=re.words.join(N?"":" ");return j.createElement("tspan",{x:A,dy:I===0?T:s,key:"".concat(L,"-").concat(I)},L)}))});jg.displayName="Text";function $k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(r),!0).forEach(function(n){ZJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZJ(e,t,r){return(t=JJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JJ(e){var t=eee(e,"string");return typeof t=="symbol"?t:t+""}function eee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tee=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:s,y:l,height:d,upperWidth:f,lowerWidth:h}=sj(t),p=s,g=s+(f-h)/2,y=(p+g)/2,b=(f+h)/2,w=p+f/2,S=d>=0?1:-1,_=S*n,N=S>0?"end":"start",E=S>0?"start":"end",A=f>=0?1:-1,C=A*n,T=A>0?"end":"start",P=A>0?"start":"end",D=a;if(r==="top"){var B={x:p+f/2,y:l-_,horizontalAnchor:"middle",verticalAnchor:N};return D&&(B.height=Math.max(l-D.y,0),B.width=f),B}if(r==="bottom"){var K={x:g+h/2,y:l+d+_,horizontalAnchor:"middle",verticalAnchor:E};return D&&(K.height=Math.max(D.y+D.height-(l+d),0),K.width=h),K}if(r==="left"){var re={x:y-C,y:l+d/2,horizontalAnchor:T,verticalAnchor:"middle"};return D&&(re.width=Math.max(re.x-D.x,0),re.height=d),re}if(r==="right"){var I={x:y+b+C,y:l+d/2,horizontalAnchor:P,verticalAnchor:"middle"};return D&&(I.width=Math.max(D.x+D.width-I.x,0),I.height=d),I}var L=D?{width:b,height:d}:{};return r==="insideLeft"?ya({x:y+C,y:l+d/2,horizontalAnchor:P,verticalAnchor:"middle"},L):r==="insideRight"?ya({x:y+b-C,y:l+d/2,horizontalAnchor:T,verticalAnchor:"middle"},L):r==="insideTop"?ya({x:p+f/2,y:l+_,horizontalAnchor:"middle",verticalAnchor:E},L):r==="insideBottom"?ya({x:g+h/2,y:l+d-_,horizontalAnchor:"middle",verticalAnchor:N},L):r==="insideTopLeft"?ya({x:p+C,y:l+_,horizontalAnchor:P,verticalAnchor:E},L):r==="insideTopRight"?ya({x:p+f-C,y:l+_,horizontalAnchor:T,verticalAnchor:E},L):r==="insideBottomLeft"?ya({x:g+C,y:l+d-_,horizontalAnchor:P,verticalAnchor:N},L):r==="insideBottomRight"?ya({x:g+h-C,y:l+d-_,horizontalAnchor:T,verticalAnchor:N},L):r&&typeof r=="object"&&(je(r.x)||To(r.x))&&(je(r.y)||To(r.y))?ya({x:s+Br(r.x,b),y:l+Br(r.y,d),horizontalAnchor:"end",verticalAnchor:"end"},L):ya({x:w,y:l+d/2,horizontalAnchor:"middle",verticalAnchor:"middle"},L)},ree=["labelRef"],nee=["content"];function Uk(e,t){if(e==null)return{};var r,n,a=aee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(n){iee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iee(e,t,r){return(t=see(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function see(e){var t=oee(e,"string");return typeof t=="symbol"?t:t+""}function oee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ai.apply(null,arguments)}var x4=j.createContext(null),lee=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l,children:d}=e,f=j.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l}),[t,r,n,a,s,l]);return j.createElement(x4.Provider,{value:f},d)},w4=()=>{var e=j.useContext(x4),t=Xp();return e||(t?sj(t):void 0)},cee=j.createContext(null),uee=()=>{var e=j.useContext(cee),t=Ne(uI);return e||t},dee=e=>{var{value:t,formatter:r}=e,n=Rt(e.children)?t:e.children;return typeof r=="function"?r(n):n},S1=e=>e!=null&&typeof e=="function",fee=(e,t)=>{var r=xr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},hee=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:y,clockWise:b}=a,w=(h+p)/2,S=fee(g,y),_=S>=0?1:-1,N,E;switch(t){case"insideStart":N=g+_*s,E=b;break;case"insideEnd":N=y-_*s,E=!b;break;case"end":N=y+_*s,E=b;break;default:throw new Error("Unsupported position ".concat(t))}E=S<=0?E:!E;var A=er(d,f,w,N),C=er(d,f,w,N+(E?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(E?0:1,`,
    `).concat(C.x,",").concat(C.y),P=Rt(e.id)?pd("recharts-radial-line-"):e.id;return j.createElement("text",ai({},n,{dominantBaseline:"central",className:rt("recharts-radial-bar-label",l)}),j.createElement("defs",null,j.createElement("path",{id:P,d:T})),j.createElement("textPath",{xlinkHref:"#".concat(P)},r))},mee=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:d,endAngle:f}=e,h=(d+f)/2;if(r==="outside"){var{x:p,y:g}=er(n,a,l+t,h);return{x:p,y:g,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(s+l)/2,{x:b,y:w}=er(n,a,y,h);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},hm=e=>e!=null&&"cx"in e&&je(e.cx),pee={angle:0,offset:5,zIndex:tr.label,position:"middle",textBreakAll:!1};function gee(e){if(!hm(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function ss(e){var t=nr(e,pee),{viewBox:r,parentViewBox:n,position:a,value:s,children:l,content:d,className:f="",textBreakAll:h,labelRef:p}=t,g=uee(),y=w4(),b=a==="center"?y:g??y,w,S,_;r==null?w=b:hm(r)?w=r:w=sj(r);var N=gee(w);if(!w||Rt(s)&&Rt(l)&&!j.isValidElement(d)&&typeof d!="function")return null;var E=ed(ed({},t),{},{viewBox:w});if(j.isValidElement(d)){var{labelRef:A}=E,C=Uk(E,ree);return j.cloneElement(d,C)}if(typeof d=="function"){var{content:T}=E,P=Uk(E,nee);if(S=j.createElement(d,P),j.isValidElement(S))return S}else S=dee(t);var D=Qr(t);if(hm(w)){if(a==="insideStart"||a==="insideEnd"||a==="end")return hee(t,a,S,D,w);_=mee(w,t.offset,t.position)}else{if(!N)return null;var B=tee({viewBox:N,position:a,offset:t.offset,parentViewBox:hm(n)?void 0:n});_=ed(ed({x:B.x,y:B.y,textAnchor:B.horizontalAnchor,verticalAnchor:B.verticalAnchor},B.width!==void 0?{width:B.width}:{}),B.height!==void 0?{height:B.height}:{})}return j.createElement(cn,{zIndex:t.zIndex},j.createElement(jg,ai({ref:p,className:rt("recharts-label",f)},D,_,{textAnchor:VJ(D.textAnchor)?D.textAnchor:_.textAnchor,breakAll:h}),S))}ss.displayName="Label";var yee=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?j.createElement(ss,ai({key:"label-implicit"},n)):Oa(e)?j.createElement(ss,ai({key:"label-implicit",value:e},n)):j.isValidElement(e)?e.type===ss?j.cloneElement(e,ed({key:"label-implicit"},n)):j.createElement(ss,ai({key:"label-implicit",content:e},n)):S1(e)?j.createElement(ss,ai({key:"label-implicit",content:e},n)):e&&typeof e=="object"?j.createElement(ss,ai({},e,{key:"label-implicit"},n)):null};function vee(e){var{label:t,labelRef:r}=e,n=w4();return yee(t,n,r)||null}var Nb={},Ob={},qk;function bee(){return qk||(qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Ob)),Ob}var Eb={},Kk;function xee(){return Kk||(Kk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Eb)),Eb}var Fk;function wee(){return Fk||(Fk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bee(),r=xee(),n=Yw();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(Nb)),Nb}var Ab,Qk;function jee(){return Qk||(Qk=1,Ab=wee().last),Ab}var See=jee();const _ee=Ca(See);var Nee=["valueAccessor"],Oee=["dataKey","clockWise","id","textBreakAll","zIndex"];function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},op.apply(null,arguments)}function Hk(e,t){if(e==null)return{};var r,n,a=Eee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Eee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Aee=e=>Array.isArray(e.value)?_ee(e.value):e.value,j4=j.createContext(void 0),S4=j4.Provider,_4=j.createContext(void 0),Cee=_4.Provider;function kee(){return j.useContext(j4)}function Pee(){return j.useContext(_4)}function mm(e){var{valueAccessor:t=Aee}=e,r=Hk(e,Nee),{dataKey:n,clockWise:a,id:s,textBreakAll:l,zIndex:d}=r,f=Hk(r,Oee),h=kee(),p=Pee(),g=h||p;return!g||!g.length?null:j.createElement(cn,{zIndex:d??tr.label},j.createElement(wr,{className:"recharts-label-list"},g.map((y,b)=>{var w,S=Rt(n)?t(y,b):bt(y.payload,n),_=Rt(s)?{}:{id:"".concat(s,"-").concat(b)};return j.createElement(ss,op({key:"label-".concat(b)},Qr(y),f,_,{fill:(w=r.fill)!==null&&w!==void 0?w:y.fill,parentViewBox:y.parentViewBox,value:S,textBreakAll:l,viewBox:y.viewBox,index:b,zIndex:0}))})))}mm.displayName="LabelList";function _1(e){var{label:t}=e;return t?t===!0?j.createElement(mm,{key:"labelList-implicit"}):j.isValidElement(t)||S1(t)?j.createElement(mm,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(mm,op({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(null,arguments)}var N4=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=rt("recharts-dot",a);return je(t)&&je(r)&&je(n)?j.createElement("circle",aw({},_n(e),Gw(e),{className:s,cx:t,cy:r,r:n})):null},O4=e=>e.graphicalItems.polarItems,Tee=Y([Lt,of],Hj),Sg=Y([O4,Ht,Tee],Vj),Dee=Y([Sg],Gj),_g=Y([Dee,cg],Yj),Mee=Y([_g,Ht,Sg],Xj);Y([_g,Ht,Sg],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,l=bt(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:bt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var Vk=()=>{},Ree=Y([_g,Ht,Sg,vg,Lt],t1),Iee=Y([Ht,Jj,e1,Vk,Ree,Vk,at,Lt],r1),E4=Y([Ht,at,_g,Mee,sf,Lt,Iee],n1),Lee=Y([E4,Rc,Ts],s1),Bee=Y([Ht,E4,Lee,Lt],l1);Y([Ts,Bee],fI);var $ee={radiusAxis:{},angleAxis:{}},A4=ln({name:"polarAxis",initialState:$ee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Hoe,removeRadiusAxis:Voe,addAngleAxis:Goe,removeAngleAxis:Yoe}=A4.actions,Uee=A4.reducer;function C4(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(n){zee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zee(e,t,r){return(t=qee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qee(e){var t=Kee(e,"string");return typeof t=="symbol"?t:t+""}function Kee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fee=(e,t)=>t,N1=Y([O4,Fee],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Qee=[],O1=(e,t,r)=>(r==null?void 0:r.length)===0?Qee:r,k4=Y([cg,N1,O1],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>Yk(Yk({},t.presentationProps),s.props))),a!=null)return a}}),Hee=Y([k4,N1,O1],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,l=bt(n,t.nameKey,t.name),d;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?d=n.fill:d=t.fill,{value:kc(l,t.dataKey),color:d,payload:n,type:t.legendType}})}),Vee=Y([k4,N1,O1,cr],(e,t,r,n)=>{if(!(t==null||e==null))return Gte({offset:n,pieSettings:t,displayedData:e,cells:r})}),Cb={exports:{}},vt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk;function Gee(){if(Wk)return vt;Wk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(S){if(typeof S=="object"&&S!==null){var _=S.$$typeof;switch(_){case e:switch(S=S.type,S){case r:case a:case n:case f:case h:case y:return S;default:switch(S=S&&S.$$typeof,S){case l:case d:case g:case p:return S;case s:return S;default:return _}}case t:return _}}}return vt.ContextConsumer=s,vt.ContextProvider=l,vt.Element=e,vt.ForwardRef=d,vt.Fragment=r,vt.Lazy=g,vt.Memo=p,vt.Portal=t,vt.Profiler=a,vt.StrictMode=n,vt.Suspense=f,vt.SuspenseList=h,vt.isContextConsumer=function(S){return w(S)===s},vt.isContextProvider=function(S){return w(S)===l},vt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},vt.isForwardRef=function(S){return w(S)===d},vt.isFragment=function(S){return w(S)===r},vt.isLazy=function(S){return w(S)===g},vt.isMemo=function(S){return w(S)===p},vt.isPortal=function(S){return w(S)===t},vt.isProfiler=function(S){return w(S)===a},vt.isStrictMode=function(S){return w(S)===n},vt.isSuspense=function(S){return w(S)===f},vt.isSuspenseList=function(S){return w(S)===h},vt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===r||S===a||S===n||S===f||S===h||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===l||S.$$typeof===s||S.$$typeof===d||S.$$typeof===b||S.getModuleId!==void 0)},vt.typeOf=w,vt}var Xk;function Yee(){return Xk||(Xk=1,Cb.exports=Gee()),Cb.exports}var Wee=Yee(),Zk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Jk=null,kb=null,P4=e=>{if(e===Jk&&Array.isArray(kb))return kb;var t=[];return j.Children.forEach(e,r=>{Rt(r)||(Wee.isFragment(r)?t=t.concat(P4(r.props.children)):t.push(r))}),kb=t,Jk=e,t};function E1(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Zk(a)):n=[Zk(t)],P4(e).forEach(a=>{var s=Po(a,"type.displayName")||Po(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var T4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Pb={},eP;function Xee(){return eP||(eP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Pb)),Pb}var Tb,tP;function Zee(){return tP||(tP=1,Tb=Xee().isPlainObject),Tb}var Jee=Zee();const ete=Ca(Jee);var rP,nP,aP,iP,sP;function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){tte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tte(e,t,r){return(t=rte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e){var t=nte(e,"string");return typeof t=="symbol"?t:t+""}function nte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(null,arguments)}function Yu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var cP=(e,t,r,n,a)=>{var s=r-n,l;return l=Kt(rP||(rP=Yu(["M ",",",""])),e,t),l+=Kt(nP||(nP=Yu(["L ",",",""])),e+r,t),l+=Kt(aP||(aP=Yu(["L ",",",""])),e+r-s/2,t+a),l+=Kt(iP||(iP=Yu(["L ",",",""])),e+r-s/2-n,t+a),l+=Kt(sP||(sP=Yu(["L ",","," Z"])),e,t),l},ate={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ite=e=>{var t=nr(e,ate),{x:r,y:n,upperWidth:a,lowerWidth:s,height:l,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t,y=j.useRef(null),[b,w]=j.useState(-1),S=j.useRef(a),_=j.useRef(s),N=j.useRef(l),E=j.useRef(r),A=j.useRef(n),C=ef(e,"trapezoid-");if(j.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var J=y.current.getTotalLength();J&&w(J)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var T=rt("recharts-trapezoid",d);if(!g)return j.createElement("g",null,j.createElement("path",lp({},Qr(t),{className:T,d:cP(r,n,a,s,l)})));var P=S.current,D=_.current,B=N.current,K=E.current,re=A.current,I="0px ".concat(b===-1?1:b,"px"),L="".concat(b,"px 0px"),V=rR(["strokeDasharray"],h,f);return j.createElement(Jd,{animationId:C,key:C,canBegin:b>0,duration:h,easing:f,isActive:g,begin:p},J=>{var G=Tt(P,a,J),R=Tt(D,s,J),H=Tt(B,l,J),te=Tt(K,r,J),ae=Tt(re,n,J);y.current&&(S.current=G,_.current=R,N.current=H,E.current=te,A.current=ae);var ge=J>0?{transition:V,strokeDasharray:L}:{strokeDasharray:I};return j.createElement("path",lp({},Qr(t),{className:T,d:cP(te,ae,G,R,H),ref:y,style:lP(lP({},ge),t.style)}))})},ste=["option","shapeType","activeClassName"];function ote(e,t){if(e==null)return{};var r,n,a=lte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){cte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cte(e,t,r){return(t=ute(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ute(e){var t=dte(e,"string");return typeof t=="symbol"?t:t+""}function dte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fte(e,t){return cp(cp({},t),e)}function hte(e,t){return e==="symbols"}function dP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(sR,r);case"trapezoid":return j.createElement(ite,r);case"sector":return j.createElement(uR,r);case"symbols":if(hte(t))return j.createElement(Vw,r);break;case"curve":return j.createElement(dj,r);default:return null}}function mte(e){return j.isValidElement(e)?e.props:e}function A1(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=ote(e,ste),s;if(j.isValidElement(t))s=j.cloneElement(t,cp(cp({},a),mte(t)));else if(typeof t=="function")s=t(a,a.index);else if(ete(t)&&typeof t!="boolean"){var l=fte(t,a);s=j.createElement(dP,{shapeType:r,elementProps:l})}else{var d=a;s=j.createElement(dP,{shapeType:r,elementProps:d})}return a.isActive?j.createElement(wr,{className:n},s):s}var C1=(e,t,r)=>{var n=_t();return(a,s)=>l=>{e==null||e(a,s,l),n(qI({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},k1=e=>{var t=_t();return(r,n)=>a=>{e==null||e(r,n,a),t(gX())}},P1=(e,t,r)=>{var n=_t();return(a,s)=>l=>{e==null||e(a,s,l),n(yX({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function T1(e){var{tooltipEntrySettings:t}=e,r=_t(),n=$r(),a=j.useRef(null);return j.useLayoutEffect(()=>{n||(a.current===null?r(fX(t)):a.current!==t&&r(hX({prev:a.current,next:t})),a.current=t)},[t,r,n]),j.useLayoutEffect(()=>()=>{a.current&&(r(mX(a.current)),a.current=null)},[r]),null}function D4(e){var{legendPayload:t}=e,r=_t(),n=$r(),a=j.useRef(null);return j.useLayoutEffect(()=>{n||(a.current===null?r(ZM(t)):a.current!==t&&r(JM({prev:a.current,next:t})),a.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{a.current&&(r(eR(a.current)),a.current=null)},[r]),null}function pte(e){var{legendPayload:t}=e,r=_t(),n=Ne(at),a=j.useRef(null);return j.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(ZM(t)):a.current!==t&&r(JM({prev:a.current,next:t})),a.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{a.current&&(r(eR(a.current)),a.current=null)},[r]),null}var Db,gte=()=>{var[e]=j.useState(()=>pd("uid-"));return e},yte=(Db=W3.useId)!==null&&Db!==void 0?Db:gte;function vte(e,t){var r=yte();return t||(e?"".concat(e,"-").concat(r):r)}var bte=j.createContext(void 0),D1=e=>{var{id:t,type:r,children:n}=e,a=vte("recharts-".concat(r),t);return j.createElement(bte.Provider,{value:a},n(a))},xte={cartesianItems:[],polarItems:[]},M4=ln({name:"graphicalItems",initialState:xte,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Pt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=oa(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Pt()},removeCartesianGraphicalItem:{reducer(e,t){var r=oa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Pt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Pt()},removePolarGraphicalItem:{reducer(e,t){var r=oa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Pt()}}}),{addCartesianGraphicalItem:wte,replaceCartesianGraphicalItem:jte,removeCartesianGraphicalItem:Ste,addPolarGraphicalItem:_te,removePolarGraphicalItem:Nte}=M4.actions,Ote=M4.reducer,Ete=e=>{var t=_t(),r=j.useRef(null);return j.useLayoutEffect(()=>{r.current===null?t(wte(e)):r.current!==e&&t(jte({prev:r.current,next:e})),r.current=e},[t,e]),j.useLayoutEffect(()=>()=>{r.current&&(t(Ste(r.current)),r.current=null)},[t]),null},R4=j.memo(Ete);function Ate(e){var t=_t();return j.useLayoutEffect(()=>(t(_te(e)),()=>{t(Nte(e))}),[t,e]),null}var Cte=["key"],kte=["onMouseEnter","onClick","onMouseLeave"],Pte=["id"],Tte=["id"];function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){Dte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dte(e,t,r){return(t=Mte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mte(e){var t=Rte(e,"string");return typeof t=="symbol"?t:t+""}function Rte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ns.apply(null,arguments)}function Ng(e,t){if(e==null)return{};var r,n,a=Ite(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ite(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Lte(e){var t=j.useMemo(()=>E1(e.children,Fo),[e.children]),r=Ne(n=>Hee(n,e.id,t));return r==null?null:j.createElement(pte,{legendPayload:r})}var Bte=j.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:l,name:d,hide:f,tooltipType:h,id:p}=e,g={dataDefinedOnItem:n.map(y=>y.tooltipPayload),getPosition:y=>{var b;return(b=n[Number(y)])===null||b===void 0?void 0:b.tooltipPosition},settings:{stroke:a,strokeWidth:s,fill:l,dataKey:t,nameKey:r,name:kc(d,t),hide:f,type:h,color:l,unit:"",graphicalItemId:p}};return j.createElement(T1,{tooltipEntrySettings:g})}),$te=(e,t)=>e>t?"start":e<t?"end":"middle",Ute=(e,t,r)=>Br(typeof t=="function"?t(e):t,r,r*.8),zte=(e,t,r)=>{var{top:n,left:a,width:s,height:l}=t,d=oR(s,l),f=a+Br(e.cx,s,s/2),h=n+Br(e.cy,l,l/2),p=Br(e.innerRadius,d,0),g=Ute(r,e.outerRadius,d),y=e.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:y}},qte=(e,t)=>{var r=xr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Kte=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=rt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Ng(t,Cte);return j.createElement(dj,Ns({},a,{type:"linear",className:r}))},Fte=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var a=rt("recharts-pie-label-text",C4(e));return j.createElement(jg,Ns({},t,{alignmentBaseline:"middle",className:a}),n)};function Qte(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:l}=r;if(!n||!a||!t)return null;var d=_n(r),f=Co(a),h=Co(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=t.map((y,b)=>{var w=(y.startAngle+y.endAngle)/2,S=er(y.cx,y.cy,y.outerRadius+p,w),_=Ft(Ft(Ft(Ft({},d),y),{},{stroke:"none"},f),{},{index:b,textAnchor:$te(S.x,y.cx)},S),N=Ft(Ft(Ft(Ft({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[er(y.cx,y.cy,y.outerRadius,w),S],key:"line"});return j.createElement(cn,{zIndex:tr.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},j.createElement(wr,null,s&&Kte(s,N),Fte(a,_,bt(y,l))))});return j.createElement(wr,{className:"recharts-pie-labels"},g)}function Hte(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?j.createElement(_1,{label:a}):j.createElement(Qte,{sectors:t,props:r,showLabels:n})}function Vte(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:l}=e,d=Ne(_s),f=Ne(y1),h=Ne(rZ),{onMouseEnter:p,onClick:g,onMouseLeave:y}=a,b=Ng(a,kte),w=C1(p,a.dataKey,l),S=k1(y),_=P1(g,a.dataKey,l);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((N,E)=>{if((N==null?void 0:N.startAngle)===0&&(N==null?void 0:N.endAngle)===0&&t.length!==1)return null;var A=h==null||h===l,C=String(E)===d&&(f==null||a.dataKey===f)&&A,T=d?n:null,P=r&&C?r:T,D=Ft(Ft({},N),{},{stroke:N.stroke,tabIndex:-1,[LM]:E,[BM]:l});return j.createElement(wr,Ns({key:"sector-".concat(N==null?void 0:N.startAngle,"-").concat(N==null?void 0:N.endAngle,"-").concat(N.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},Vd(b,N,E),{onMouseEnter:w(N,E),onMouseLeave:S(N,E),onClick:_(N,E)}),j.createElement(A1,Ns({option:s??P,index:E,shapeType:"sector",isActive:C},D)))}))}function Gte(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:l,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=r,y=Math.abs(r.minAngle),b=qte(d,f),w=Math.abs(b),S=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,_=n.filter(P=>bt(P,h,0)!==0).length,N=(w>=360?_:_-1)*S,E=w-_*y-N,A=n.reduce((P,D)=>{var B=bt(D,h,0);return P+(je(B)?B:0)},0),C;if(A>0){var T;C=n.map((P,D)=>{var B=bt(P,h,0),K=bt(P,p,D),re=zte(r,s,P),I=(je(B)?B:0)/A,L,V=Ft(Ft({},P),a&&a[D]&&a[D].props);D?L=T.endAngle+xr(b)*S*(B!==0?1:0):L=d;var J=L+xr(b)*((B!==0?y:0)+I*E),G=(L+J)/2,R=(re.innerRadius+re.outerRadius)/2,H=[{name:K,value:B,payload:V,dataKey:h,type:g,graphicalItemId:r.id}],te=er(re.cx,re.cy,R,G);return T=Ft(Ft(Ft(Ft({},r.presentationProps),{},{percent:I,cornerRadius:typeof l=="string"?parseFloat(l):l,name:K,tooltipPayload:H,midAngle:G,middleRadius:R,tooltipPosition:te},V),re),{},{value:B,dataKey:h,startAngle:L,endAngle:J,payload:V,paddingAngle:xr(b)*S}),T})}return C}function Yte(e){var{showLabels:t,sectors:r,children:n}=e,a=j.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return j.createElement(Cee,{value:t?a:void 0},n)}function Wte(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,activeShape:h,inactiveShape:p,onAnimationStart:g,onAnimationEnd:y}=t,b=ef(t,"recharts-pie-"),w=r.current,[S,_]=j.useState(!1),N=j.useCallback(()=>{typeof y=="function"&&y(),_(!1)},[y]),E=j.useCallback(()=>{typeof g=="function"&&g(),_(!0)},[g]);return j.createElement(Yte,{showLabels:!S,sectors:a},j.createElement(Jd,{animationId:b,begin:l,duration:d,isActive:s,easing:f,onAnimationStart:E,onAnimationEnd:N,key:b},A=>{var C,T=[],P=a&&a[0],D=(C=P==null?void 0:P.startAngle)!==null&&C!==void 0?C:0;return a==null||a.forEach((B,K)=>{var re=w&&w[K],I=K>0?Po(B,"paddingAngle",0):0;if(re){var L=Tt(re.endAngle-re.startAngle,B.endAngle-B.startAngle,A),V=Ft(Ft({},B),{},{startAngle:D+I,endAngle:D+L+I});T.push(V),D=V.endAngle}else{var{endAngle:J,startAngle:G}=B,R=Tt(0,J-G,A),H=Ft(Ft({},B),{},{startAngle:D+I,endAngle:D+R+I});T.push(H),D=H.endAngle}}),r.current=T,j.createElement(wr,null,j.createElement(Vte,{sectors:T,activeShape:h,inactiveShape:p,allOtherPieProps:t,shape:t.shape,id:n}))}),j.createElement(Hte,{showLabels:!S,sectors:a,props:t}),t.children)}var Xte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:tr.area};function Zte(e){var{id:t}=e,r=Ng(e,Pte),{hide:n,className:a,rootTabIndex:s}=e,l=j.useMemo(()=>E1(e.children,Fo),[e.children]),d=Ne(p=>Vee(p,t,l)),f=j.useRef(null),h=rt("recharts-pie",a);return n||d==null?(f.current=null,j.createElement(wr,{tabIndex:s,className:h})):j.createElement(cn,{zIndex:e.zIndex},j.createElement(Bte,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement(wr,{tabIndex:s,className:h},j.createElement(Wte,{props:Ft(Ft({},r),{},{sectors:d}),previousSectorsRef:f,id:t})))}function M1(e){var t=nr(e,Xte),{id:r}=t,n=Ng(t,Tte),a=_n(n);return j.createElement(D1,{id:r,type:"pie"},s=>j.createElement(j.Fragment,null,j.createElement(Ate,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),j.createElement(Lte,Ns({},n,{id:s})),j.createElement(Zte,Ns({},n,{id:s}))))}M1.displayName="Pie";var Jte=["points"];function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){ere(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ere(e,t,r){return(t=tre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tre(e){var t=rre(e,"string");return typeof t=="symbol"?t:t+""}function rre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(null,arguments)}function nre(e,t){if(e==null)return{};var r,n,a=are(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function are(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ire(e){var{option:t,dotProps:r,className:n}=e;if(j.isValidElement(t))return j.cloneElement(t,r);if(typeof t=="function")return t(r);var a=rt(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,d=nre(s,Jte);return j.createElement(N4,up({},d,{className:a}))}function sre(e,t){return e==null?!1:t?!0:e.length===1}function ore(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:l,needClip:d,clipPathId:f,zIndex:h=tr.scatter}=e;if(!sre(t,r))return null;var p=T4(r),g=w9(r),y=t.map((w,S)=>{var _,N,E=Mb(Mb(Mb({r:3},l),g),{},{index:S,cx:(_=w.x)!==null&&_!==void 0?_:void 0,cy:(N=w.y)!==null&&N!==void 0?N:void 0,dataKey:s,value:w.value,payload:w.payload,points:t});return j.createElement(ire,{key:"dot-".concat(S),option:r,dotProps:E,className:a})}),b={};return d&&f!=null&&(b.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),j.createElement(cn,{zIndex:h},j.createElement(wr,up({className:n},b),y))}function mP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(r),!0).forEach(function(n){lre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lre(e,t,r){return(t=cre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cre(e){var t=ure(e,"string");return typeof t=="symbol"?t:t+""}function ure(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I4=0,dre={xAxis:{},yAxis:{},zAxis:{}},L4=ln({name:"cartesianAxis",initialState:dre,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Pt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Pt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Pt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Pt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Pt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Pt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Pt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Pt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Pt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s,l=a.widthHistory||[];if(l.length===3&&l[0]===l[2]&&n===l[1]&&n!==a.width&&Math.abs(n-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var d=[...l,n].slice(-3);e.yAxis[r]=pP(pP({},a),{},{width:n,widthHistory:d})}}}}),{addXAxis:fre,replaceXAxis:hre,removeXAxis:mre,addYAxis:pre,replaceYAxis:gre,removeYAxis:yre,addZAxis:Woe,replaceZAxis:Xoe,removeZAxis:Zoe,updateYAxisWidth:vre}=L4.actions,bre=L4.reducer,xre=Y([cr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),wre=Y([xre,_i,Ni],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),R1=()=>Ne(wre),jre=()=>Ne(oZ);function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){Sre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sre(e,t,r){return(t=_re(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _re(e){var t=Nre(e,"string");return typeof t=="symbol"?t:t+""}function Nre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ore=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var d={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=Rb(Rb(Rb({},d),Co(a)),Gw(a)),h;return j.isValidElement(a)?h=j.cloneElement(a,f):typeof a=="function"?h=a(f):h=j.createElement(N4,f),j.createElement(wr,{className:"recharts-active-dot",clipPath:l},h)};function Ere(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:l=tr.activeDot}=e,d=Ne(_s),f=jre();if(t==null||f==null)return null;var h=t.find(p=>f.includes(p.payload));return Rt(h)?null:j.createElement(cn,{zIndex:l},j.createElement(Ore,{point:h,childIndex:Number(d),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var yP=(e,t,r)=>{var n=r??e;if(!Rt(n))return Br(n,t,0)},Are=(e,t,r)=>{var n={},a=e.filter(hg),s=e.filter(h=>h.stackId==null),l=a.reduce((h,p)=>{var g=h[p.stackId];return g==null&&(g=[]),g.push(p),h[p.stackId]=g,h},n),d=Object.entries(l).map(h=>{var p,[g,y]=h,b=y.map(S=>S.dataKey),w=yP(t,r,(p=y[0])===null||p===void 0?void 0:p.barSize);return{stackId:g,dataKeys:b,barSize:w}}),f=s.map(h=>{var p=[h.dataKey].filter(y=>y!=null),g=yP(t,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]};function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){Cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cre(e,t,r){return(t=kre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kre(e){var t=Pre(e,"string");return typeof t=="symbol"?t:t+""}function Pre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tre(e,t,r,n,a){var s,l=n.length;if(!(l<1)){var d=Br(e,r,0,!0),f,h=[];if(Ze((s=n[0])===null||s===void 0?void 0:s.barSize)){var p=!1,g=r/l,y=n.reduce((E,A)=>E+(A.barSize||0),0);y+=(l-1)*d,y>=r&&(y-=(l-1)*d,d=0),y>=r&&g>0&&(p=!0,g*=.9,y=l*g);var b=(r-y)/2>>0,w={offset:b-d,size:0};f=n.reduce((E,A)=>{var C,T={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:w.offset+w.size+d,size:p?g:(C=A.barSize)!==null&&C!==void 0?C:0}},P=[...E,T];return w=T.position,P},h)}else{var S=Br(t,r,0,!0);r-2*S-(l-1)*d<=0&&(d=0);var _=(r-2*S-(l-1)*d)/l;_>1&&(_>>=0);var N=Ze(a)?Math.min(_,a):_;f=n.reduce((E,A,C)=>[...E,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:S+(_+d)*C+(_-N)/2,size:N}}],h)}return f}}var Dre=(e,t,r,n,a,s,l)=>{var d=Rt(l)?t:l,f=Tre(r,n,a!==s?a:s,e,d);return a!==s&&f!=null&&(f=f.map(h=>am(am({},h),{},{position:am(am({},h.position),{},{offset:h.position.offset-a/2})}))),f},Mre=(e,t)=>{var r=Fj(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(l=>l.key===r)}}}},Rre=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function Ire(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ze(e.zIndex)?e.zIndex:t}var B4=e=>{var{chartData:t}=e,r=_t(),n=$r();return j.useEffect(()=>n?()=>{}:(r(_k(t)),()=>{r(_k(void 0))}),[t,r,n]),null},bP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},$4=ln({name:"brush",initialState:bP,reducers:{setBrushSettings(e,t){return t.payload==null?bP:t.payload}}}),{setBrushSettings:Joe}=$4.actions,Lre=$4.reducer;function Bre(e){return(e%180+180)%180}var $re=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Bre(a),l=s*Math.PI/180,d=Math.atan(n/r),f=l>d&&l<Math.PI-d?n/Math.sin(l):r/Math.cos(l);return Math.abs(f)},Ure={dots:[],areas:[],lines:[]},U4=ln({name:"referenceElements",initialState:Ure,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=oa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=oa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=oa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:ele,removeDot:tle,addArea:rle,removeArea:nle,addLine:ale,removeLine:ile}=U4.actions,zre=U4.reducer,qre=j.createContext(void 0),Kre=e=>{var{children:t}=e,[r]=j.useState("".concat(pd("recharts"),"-clip")),n=R1();if(n==null)return null;var{x:a,y:s,width:l,height:d}=n;return j.createElement(qre.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:a,y:s,height:d,width:l}))),t)};function z4(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function Fre(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return $re(n,r)}function Qre(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:d}=e;return t===1?{start:n?a:s,end:n?a+l:s+d}:{start:n?a+l:s+d,end:n?a:s}}function Cd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function Hre(e,t){return z4(e,t+1)}function Vre(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:d}=t,f=0,h=1,p=l,g=function(){var w=n==null?void 0:n[f];if(w===void 0)return{v:z4(n,h)};var S=f,_,N=()=>(_===void 0&&(_=r(w,S)),_),E=w.coordinate,A=f===0||Cd(e,E,N,p,d);A||(f=0,p=l,h+=1),A&&(p=E+e*(N()/2+a),f+=h)},y;h<=s.length;)if(y=g(),y)return y.v;return[]}function Gre(e,t,r,n,a){var s=(n||[]).slice(),l=s.length;if(l===0)return[];for(var{start:d,end:f}=t,h=1;h<=l;h++){for(var p=(l-1)%h,g=d,y=!0,b=function(){var C=n[S];if(C==null)return 0;var T=S,P,D=()=>(P===void 0&&(P=r(C,T)),P),B=C.coordinate,K=S===p||Cd(e,B,D,g,f);if(!K)return y=!1,1;K&&(g=B+e*(D()/2+a))},w,S=p;S<l&&(w=b(),!(w!==0&&w===1));S+=h);if(y){for(var _=[],N=p;N<l;N+=h){var E=n[N];E!=null&&_.push(E)}return _}}return[]}function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(n){Yre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yre(e,t,r){return(t=Wre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wre(e){var t=Xre(e,"string");return typeof t=="symbol"?t:t+""}function Xre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zre(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:d}=t,{end:f}=t,h=function(y){var b=s[y];if(b==null)return 1;var w=b,S,_=()=>(S===void 0&&(S=r(b,y)),S);if(y===l-1){var N=e*(w.coordinate+e*_()/2-f);s[y]=w=Ir(Ir({},w),{},{tickCoord:N>0?w.coordinate-N*e:w.coordinate})}else s[y]=w=Ir(Ir({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var E=Cd(e,w.tickCoord,_,d,f);E&&(f=w.tickCoord-e*(_()/2+a),s[y]=Ir(Ir({},w),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Jre(e,t,r,n,a,s){var l=(n||[]).slice(),d=l.length,{start:f,end:h}=t;if(s){var p=n[d-1];if(p!=null){var g=r(p,d-1),y=e*(p.coordinate+e*g/2-h);if(l[d-1]=p=Ir(Ir({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate}),p.tickCoord!=null){var b=Cd(e,p.tickCoord,()=>g,f,h);b&&(h=p.tickCoord-e*(g/2+a),l[d-1]=Ir(Ir({},p),{},{isShow:!0}))}}}for(var w=s?d-1:d,S=function(E){var A=l[E];if(A==null)return 1;var C=A,T,P=()=>(T===void 0&&(T=r(A,E)),T);if(E===0){var D=e*(C.coordinate-e*P()/2-f);l[E]=C=Ir(Ir({},C),{},{tickCoord:D<0?C.coordinate-D*e:C.coordinate})}else l[E]=C=Ir(Ir({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var B=Cd(e,C.tickCoord,P,f,h);B&&(f=C.tickCoord+e*(P()/2+a),l[E]=Ir(Ir({},C),{},{isShow:!0}))}},_=0;_<w;_++)S(_);return l}function I1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=e;if(!a||!a.length||!n)return[];if(je(f)||rg.isSsr){var y;return(y=Hre(a,je(f)?f:0))!==null&&y!==void 0?y:[]}var b=[],w=d==="top"||d==="bottom"?"width":"height",S=p&&w==="width"?nd(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(T,P)=>{var D=typeof h=="function"?h(T.value,P):T.value;return w==="width"?Fre(nd(D,{fontSize:t,letterSpacing:r}),S,g):nd(D,{fontSize:t,letterSpacing:r})[w]},N=a[0],E=a[1],A=a.length>=2&&N!=null&&E!=null?xr(E.coordinate-N.coordinate):1,C=Qre(s,A,w);return f==="equidistantPreserveStart"?Vre(A,C,_,a,l):f==="equidistantPreserveEnd"?Gre(A,C,_,a,l):(f==="preserveStart"||f==="preserveStartEnd"?b=Jre(A,C,_,a,l,f==="preserveStartEnd"):b=Zre(A,C,_,a,l),b.filter(T=>T.isShow))}var ene=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var d=r?r.getBoundingClientRect().width:0,f=a+s,h=l+f+d+(r?n:0);return Math.round(h)}return 0},tne=["axisLine","width","height","className","hide","ticks","axisType"];function rne(e,t){if(e==null)return{};var r,n,a=nne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lo.apply(null,arguments)}function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){ane(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ane(e,t,r){return(t=ine(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ine(e){var t=sne(e,"string");return typeof t=="symbol"?t:t+""}function sne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ci={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:tr.axis};function one(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var h=qt(qt(qt({},f),_n(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=qt(qt({},h),{},{x1:t,y1:r+p*a,x2:t+n,y2:r+p*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=qt(qt({},h),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return j.createElement("line",Lo({},h,{className:rt("recharts-cartesian-axis-line",Po(d,"className"))}))}function lne(e,t,r,n,a,s,l,d,f){var h,p,g,y,b,w,S=d?-1:1,_=e.tickSize||l,N=je(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=p=e.coordinate,y=r+ +!d*a,g=y-S*_,w=g-S*f,b=N;break;case"left":g=y=e.coordinate,p=t+ +!d*n,h=p-S*_,b=h-S*f,w=N;break;case"right":g=y=e.coordinate,p=t+ +d*n,h=p+S*_,b=h+S*f,w=N;break;default:h=p=e.coordinate,y=r+ +d*a,g=y+S*_,w=g+S*f,b=N;break}return{line:{x1:h,y1:g,x2:p,y2:y},tick:{x:b,y:w}}}function cne(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function une(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function dne(e){var{option:t,tickProps:r,value:n}=e,a,s=rt(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))a=j.cloneElement(t,qt(qt({},r),{},{className:s}));else if(typeof t=="function")a=t(qt(qt({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=rt(l,C4(t))),a=j.createElement(jg,Lo({},r,{className:l}),n)}return a}var fne=j.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:l,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x:y,y:b,width:w,height:S,tickSize:_,tickMargin:N,fontSize:E,letterSpacing:A,getTicksConfig:C,events:T,axisType:P}=e,D=I1(qt(qt({},C),{},{ticks:r}),E,A),B=cne(p,g),K=une(p,g),re=_n(C),I=Co(n),L={};typeof a=="object"&&(L=a);var V=qt(qt({},re),{},{fill:"none"},L),J=D.map(H=>qt({entry:H},lne(H,y,b,w,S,p,_,g,N))),G=J.map(H=>{var{entry:te,line:ae}=H;return j.createElement(wr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},a&&j.createElement("line",Lo({},V,ae,{className:rt("recharts-cartesian-axis-tick-line",Po(a,"className"))})))}),R=J.map((H,te)=>{var ae,ge,{entry:M,tick:F}=H,fe=qt(qt(qt(qt({verticalAnchor:K},re),{},{textAnchor:B,stroke:"none",fill:s},F),{},{index:te,payload:M,visibleTicksCount:D.length,tickFormatter:l,padding:f},h),{},{angle:(ae=(ge=h==null?void 0:h.angle)!==null&&ge!==void 0?ge:re.angle)!==null&&ae!==void 0?ae:0}),pe=qt(qt({},fe),I);return j.createElement(wr,Lo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Vd(T,M,te)),n&&j.createElement(dne,{option:n,tickProps:pe,value:"".concat(typeof l=="function"?l(M.value,te):M.value).concat(d||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},R.length>0&&j.createElement(cn,{zIndex:tr.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},R)),G.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},G))}),hne=j.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:d,axisType:f}=e,h=rne(e,tne),[p,g]=j.useState(""),[y,b]=j.useState(""),w=j.useRef(null);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return ene({ticks:w.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=j.useCallback(_=>{if(_){var N=_.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=N;var E=N[0];if(E){var A=window.getComputedStyle(E),C=A.fontSize,T=A.letterSpacing;(C!==p||T!==y)&&(g(C),b(T))}}},[p,y]);return l||n!=null&&n<=0||a!=null&&a<=0?null:j.createElement(cn,{zIndex:e.zIndex},j.createElement(wr,{className:rt("recharts-cartesian-axis",s)},j.createElement(one,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:_n(e)}),j.createElement(fne,{ref:S,axisType:f,events:h,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),j.createElement(lee,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},j.createElement(vee,{label:e.label,labelRef:e.labelRef}),e.children)))}),L1=j.forwardRef((e,t)=>{var r=nr(e,ci);return j.createElement(hne,Lo({},r,{ref:t}))});L1.displayName="CartesianAxis";var mne=["x1","y1","x2","y2","key"],pne=["offset"],gne=["xAxisId","yAxisId"],yne=["xAxisId","yAxisId"];function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){vne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vne(e,t,r){return(t=bne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bne(e){var t=xne(e,"string");return typeof t=="symbol"?t:t+""}function xne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ho.apply(null,arguments)}function dp(e,t){if(e==null)return{};var r,n,a=wne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:d}=e;return j.createElement("rect",{x:n,y:a,ry:d,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function q4(e){var{option:t,lineItemProps:r}=e,n;if(j.isValidElement(t))n=j.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:l,x2:d,y2:f,key:h}=r,p=dp(r,mne),g=(a=_n(p))!==null&&a!==void 0?a:{},{offset:y}=g,b=dp(g,pne);n=j.createElement("line",ho({},b,{x1:s,y1:l,x2:d,y2:f,fill:"none",key:h}))}return n}function Sne(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,d=dp(e,gne),f=a.map((h,p)=>{var g=Lr(Lr({},d),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(p),index:p});return j.createElement(q4,{key:"line-".concat(p),option:n,lineItemProps:g})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function _ne(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,d=dp(e,yne),f=a.map((h,p)=>{var g=Lr(Lr({},d),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(p),index:p});return j.createElement(q4,{option:n,lineItemProps:g,key:"line-".concat(p)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Nne(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length||d==null)return null;var h=d.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var b=h[y+1],w=b==null,S=w?a+l-g:b-g;if(S<=0)return null;var _=y%t.length;return j.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:S,width:s,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function One(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:d,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var b=h[y+1],w=b==null,S=w?a+l-g:b-g;if(S<=0)return null;var _=y%r.length;return j.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:S,height:d,stroke:"none",fill:r[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Ene=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return MM(I1(Lr(Lr(Lr({},ci),r),{},{ticks:RM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Ane=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return MM(I1(Lr(Lr(Lr({},ci),r),{},{ticks:RM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},Cne={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:tr.grid};function kd(e){var t=oj(),r=lj(),n=qM(),a=Lr(Lr({},nr(e,Cne)),{},{x:je(e.x)?e.x:n.left,y:je(e.y)?e.y:n.top,width:je(e.width)?e.width:n.width,height:je(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:y,verticalValues:b}=a,w=$r(),S=Ne(K=>fk(K,"xAxis",s,w)),_=Ne(K=>fk(K,"yAxis",l,w));if(!Ea(h)||!Ea(p)||!je(d)||!je(f))return null;var N=a.verticalCoordinatesGenerator||Ene,E=a.horizontalCoordinatesGenerator||Ane,{horizontalPoints:A,verticalPoints:C}=a;if((!A||!A.length)&&typeof E=="function"){var T=y&&y.length,P=E({yAxis:_?Lr(Lr({},_),{},{ticks:T?y:_.ticks}):void 0,width:t??h,height:r??p,offset:n},T?!0:g);Lm(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(A=P)}if((!C||!C.length)&&typeof N=="function"){var D=b&&b.length,B=N({xAxis:S?Lr(Lr({},S),{},{ticks:D?b:S.ticks}):void 0,width:t??h,height:r??p,offset:n},D?!0:g);Lm(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(C=B)}return j.createElement(cn,{zIndex:a.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(jne,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),j.createElement(Nne,ho({},a,{horizontalPoints:A})),j.createElement(One,ho({},a,{verticalPoints:C})),j.createElement(Sne,ho({},a,{offset:n,horizontalPoints:A,xAxis:S,yAxis:_})),j.createElement(_ne,ho({},a,{offset:n,verticalPoints:C,xAxis:S,yAxis:_}))))}kd.displayName="CartesianGrid";var kne={},K4=ln({name:"errorBars",initialState:kne,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:sle,replaceErrorBar:ole,removeErrorBar:lle}=K4.actions,Pne=K4.reducer,Tne=["children"];function Dne(e,t){if(e==null)return{};var r,n,a=Mne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Rne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ine=j.createContext(Rne);function F4(e){var{children:t}=e,r=Dne(e,Tne);return j.createElement(Ine.Provider,{value:r},t)}function B1(e,t){var r,n,a=Ne(h=>Ai(h,e)),s=Ne(h=>Ci(h,t)),l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:pr.allowDataOverflow,d=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:gr.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function Q4(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=R1(),{needClipX:s,needClipY:l,needClip:d}=B1(t,r);if(!d||!a)return null;var{x:f,y:h,width:p,height:g}=a;return j.createElement("clipPath",{id:"clipPath-".concat(n)},j.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var H4=(e,t,r,n)=>Ss(e,"xAxis",t,n),V4=(e,t,r,n)=>js(e,"xAxis",t,n),G4=(e,t,r,n)=>Ss(e,"yAxis",r,n),Y4=(e,t,r,n)=>js(e,"yAxis",r,n),Lne=Y([at,H4,G4,V4,Y4],(e,t,r,n,a)=>Si(e,"xAxis")?hc(t,n,!1):hc(r,a,!1)),Bne=(e,t,r,n,a)=>a;function $ne(e){return e.type==="line"}var Une=Y([gg,Bne],(e,t)=>e.filter($ne).find(r=>r.id===t)),zne=Y([at,H4,G4,V4,Y4,Une,Lne,Rj],(e,t,r,n,a,s,l,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=d;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:y}=s,b;if(y!=null&&y.length>0?b=y:b=f==null?void 0:f.slice(h,p+1),b!=null)return Oae({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:b})}});function qne(e){var t=Co(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,l=Number(a),d=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(d)||d<0)&&(d=n),{r:l,strokeWidth:d}}return{r,strokeWidth:n}}var Ib={exports:{}},Lb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SP;function Kne(){if(SP)return Lb;SP=1;var e=bc();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,d=e.useDebugValue;return Lb.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var b=a(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function _(T){if(!N){if(N=!0,E=T,T=g(T),y!==void 0&&w.hasValue){var P=w.value;if(y(P,T))return A=P}return A=T}if(P=A,r(E,T))return P;var D=g(T);return y!==void 0&&y(P,D)?(E=T,P):(E=T,A=D)}var N=!1,E,A,C=p===void 0?null:p;return[function(){return _(h())},C===null?void 0:function(){return _(C())}]},[h,p,g,y]);var S=n(f,b[0],b[1]);return s(function(){w.hasValue=!0,w.value=S},[S]),d(S),S},Lb}var _P;function Fne(){return _P||(_P=1,Ib.exports=Kne()),Ib.exports}Fne();function Qne(e){e()}function Hne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Qne(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var NP={notify(){},get:()=>[]};function Vne(e,t){let r,n=NP,a=0,s=!1;function l(S){p();const _=n.subscribe(S);let N=!1;return()=>{N||(N=!0,_(),g())}}function d(){n.notify()}function f(){w.onStateChange&&w.onStateChange()}function h(){return s}function p(){a++,r||(r=e.subscribe(f),n=Hne())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=NP)}function y(){s||(s=!0,p())}function b(){s&&(s=!1,g())}const w={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>n};return w}var Gne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yne=Gne(),Wne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Xne=Wne(),Zne=()=>Yne||Xne?j.useLayoutEffect:j.useEffect,Jne=Zne();function OP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function eae(e,t){if(OP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!OP(e[r[a]],t[r[a]]))return!1;return!0}var Bb=Symbol.for("react-redux-context"),$b=typeof globalThis<"u"?globalThis:{};function tae(){if(!j.createContext)return{};const e=$b[Bb]??($b[Bb]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var rae=tae();function nae(e){const{children:t,context:r,serverState:n,store:a}=e,s=j.useMemo(()=>{const f=Vne(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),l=j.useMemo(()=>a.getState(),[a]);Jne(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const d=r||rae;return j.createElement(d.Provider,{value:s},t)}var aae=nae,iae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function sae(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Og(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(iae.has(n)){if(e[n]==null&&t[n]==null)continue;if(!eae(e[n],t[n]))return!1}else if(!sae(e[n],t[n]))return!1;return!0}var oae=["id"],lae=["type","layout","connectNulls","needClip","shape"],cae=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pd.apply(null,arguments)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){uae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uae(e,t,r){return(t=dae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dae(e){var t=fae(e,"string");return typeof t=="symbol"?t:t+""}function fae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $1(e,t){if(e==null)return{};var r,n,a=hae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mae=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:kc(r,t),payload:e}]},pae=j.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:d,unit:f,tooltipType:h,id:p}=e,g={dataDefinedOnItem:r,getPosition:Uo,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:kc(l,t),hide:d,type:h,color:n,unit:f,graphicalItemId:p}};return j.createElement(T1,{tooltipEntrySettings:g})}),W4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function gae(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var yae=(e,t,r)=>{var n=r.reduce((b,w)=>b+w);if(!n)return W4(t,e);for(var a=Math.floor(e/n),s=e%n,l=t-e,d=[],f=0,h=0;f<r.length;h+=(p=r[f])!==null&&p!==void 0?p:0,++f){var p,g=r[f];if(g!=null&&h+g>s){d=[...r.slice(0,f),s-h];break}}var y=d.length%2===0?[0,l]:[l];return[...gae(r,a),...d,...y].map(b=>"".concat(b,"px")).join(", ")};function vae(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:l}=n,{id:d}=n,f=$1(n,oae),h=_n(f);return j.createElement(ore,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:t})}function bae(e){var{showLabels:t,children:r,points:n}=e,a=j.useMemo(()=>n==null?void 0:n.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return wa(wa({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[n]);return j.createElement(S4,{value:t?a:void 0},r)}function AP(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:l,layout:d,connectNulls:f,needClip:h,shape:p}=s,g=$1(s,lae),y=wa(wa({},Qr(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:d,connectNulls:f,strokeDasharray:a??s.strokeDasharray});return j.createElement(j.Fragment,null,(n==null?void 0:n.length)>1&&j.createElement(A1,Pd({shapeType:"curve",option:p},y,{pathRef:r})),j.createElement(vae,{points:n,clipPathId:t,props:s}))}function xae(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function wae(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:y,width:b,height:w,onAnimationEnd:S,onAnimationStart:_}=r,N=a.current,E=ef(l,"recharts-line-"),A=j.useRef(E),[C,T]=j.useState(!1),P=!C,D=j.useCallback(()=>{typeof S=="function"&&S(),T(!1)},[S]),B=j.useCallback(()=>{typeof _=="function"&&_(),T(!0)},[_]),K=xae(n.current),re=j.useRef(0);A.current!==E&&(re.current=s.current,A.current=E);var I=re.current;return j.createElement(bae,{points:l,showLabels:P},r.children,j.createElement(Jd,{animationId:E,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:D,onAnimationStart:B,key:E},L=>{var V=Tt(I,K+I,L),J=Math.min(V,K),G;if(f)if(d){var R="".concat(d).split(/[,\s]+/gim).map(ae=>parseFloat(ae));G=yae(J,K,R)}else G=W4(K,J);else G=d==null?void 0:String(d);if(L>0&&K>0&&(a.current=l,s.current=Math.max(s.current,J)),N){var H=N.length/l.length,te=L===1?l:l.map((ae,ge)=>{var M=Math.floor(ge*H);if(N[M]){var F=N[M];return wa(wa({},ae),{},{x:Tt(F.x,ae.x,L),y:Tt(F.y,ae.y,L)})}return y?wa(wa({},ae),{},{x:Tt(b*2,ae.x,L),y:Tt(w/2,ae.y,L)}):wa(wa({},ae),{},{x:ae.x,y:ae.y})});return a.current=te,j.createElement(AP,{props:r,points:te,clipPathId:t,pathRef:n,strokeDasharray:G})}return j.createElement(AP,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:G})}),j.createElement(_1,{label:r.label}))}function jae(e){var{clipPathId:t,props:r}=e,n=j.useRef(null),a=j.useRef(0),s=j.useRef(null);return j.createElement(wae,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var Sae=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:bt(e.payload,t)}};class _ae extends j.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:l,top:d,left:f,width:h,height:p,id:g,needClip:y,zIndex:b}=this.props;if(t)return null;var w=rt("recharts-line",a),S=g,{r:_,strokeWidth:N}=qne(r),E=T4(r),A=_*2+N,C=y?"url(#clipPath-".concat(E?"":"dots-").concat(S,")"):void 0;return j.createElement(cn,{zIndex:b},j.createElement(wr,{className:w},y&&j.createElement("defs",null,j.createElement(Q4,{clipPathId:S,xAxisId:s,yAxisId:l}),!E&&j.createElement("clipPath",{id:"clipPath-dots-".concat(S)},j.createElement("rect",{x:f-A/2,y:d-A/2,width:h+A,height:p+A}))),j.createElement(F4,{xAxisId:s,yAxisId:l,data:n,dataPointFormatter:Sae,errorBarOffset:0},j.createElement(jae,{props:this.props,clipPathId:S}))),j.createElement(Ere,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:C}))}}var X4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:tr.line,type:"linear"};function Nae(e){var t=nr(e,X4),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,hide:h,isAnimationActive:p,label:g,legendType:y,xAxisId:b,yAxisId:w,id:S}=t,_=$1(t,cae),{needClip:N}=B1(b,w),E=R1(),A=zo(),C=$r(),T=Ne(re=>zne(re,b,w,C,S));if(A!=="horizontal"&&A!=="vertical"||T==null||E==null)return null;var{height:P,width:D,x:B,y:K}=E;return j.createElement(_ae,Pd({},_,{id:S,connectNulls:d,dot:f,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:y,xAxisId:b,yAxisId:w,points:T,layout:A,height:P,width:D,left:B,top:K,needClip:N}))}function Oae(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:d,displayedData:f}=e;return f.map((h,p)=>{var g=bt(h,l);if(t==="horizontal"){var y=cC({axis:r,ticks:a,bandSize:d,entry:h,index:p}),b=Rt(g)?null:n.scale.map(g);return{x:y,y:b??null,value:g,payload:h}}var w=Rt(g)?null:r.scale.map(g),S=cC({axis:n,ticks:s,bandSize:d,entry:h,index:p});return w==null||S==null?null:{x:w,y:S,value:g,payload:h}}).filter(Boolean)}function Eae(e){var t=nr(e,X4),r=$r();return j.createElement(D1,{id:t.id,type:"line"},n=>j.createElement(j.Fragment,null,j.createElement(D4,{legendPayload:mae(t)}),j.createElement(pae,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),j.createElement(R4,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),j.createElement(Nae,Pd({},t,{id:n}))))}var U1=j.memo(Eae,Og);U1.displayName="Line";function Qo(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:I4}function Ho(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:I4}var Aae="Invariant failed";function Cae(e,t){throw new Error(Aae)}function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iw.apply(null,arguments)}function fp(e){return j.createElement(A1,iw({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var kae=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(je(t))return t;var s=je(n)||Rt(n);return s?t(n,a):(s||Cae(),r)}},Pae=(e,t,r)=>r,Tae=(e,t)=>t,hf=Y([gg,Tae],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Dae=Y([hf],e=>e==null?void 0:e.maxBarSize),Mae=(e,t,r,n)=>n,Rae=Y([at,gg,Qo,Ho,Pae],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Iae=(e,t,r)=>{var n=at(e),a=Qo(e,t),s=Ho(e,t);if(!(a==null||s==null))return n==="horizontal"?Zx(e,"yAxis",s,r):Zx(e,"xAxis",a,r)},Lae=(e,t)=>{var r=at(e),n=Qo(e,t),a=Ho(e,t);if(!(n==null||a==null))return r==="horizontal"?dk(e,"xAxis",n):dk(e,"yAxis",a)},Bae=Y([Rae,rW,Lae],Are),$ae=(e,t,r)=>{var n,a,s=hf(e,t);if(s==null)return 0;var l=Qo(e,t),d=Ho(e,t);if(l==null||d==null)return 0;var f=at(e),h=rI(e),{maxBarSize:p}=s,g=Rt(p)?h:p,y,b;return f==="horizontal"?(y=Ss(e,"xAxis",l,r),b=js(e,"xAxis",l,r)):(y=Ss(e,"yAxis",d,r),b=js(e,"yAxis",d,r)),(n=(a=hc(y,b,!0))!==null&&a!==void 0?a:g)!==null&&n!==void 0?n:0},Z4=(e,t,r)=>{var n=at(e),a=Qo(e,t),s=Ho(e,t);if(!(a==null||s==null)){var l,d;return n==="horizontal"?(l=Ss(e,"xAxis",a,r),d=js(e,"xAxis",a,r)):(l=Ss(e,"yAxis",s,r),d=js(e,"yAxis",s,r)),hc(l,d)}},Uae=Y([Bae,rI,tW,nI,$ae,Z4,Dae],Dre),zae=(e,t,r)=>{var n=Qo(e,t);if(n!=null)return Ss(e,"xAxis",n,r)},qae=(e,t,r)=>{var n=Ho(e,t);if(n!=null)return Ss(e,"yAxis",n,r)},Kae=(e,t,r)=>{var n=Qo(e,t);if(n!=null)return js(e,"xAxis",n,r)},Fae=(e,t,r)=>{var n=Ho(e,t);if(n!=null)return js(e,"yAxis",n,r)},Qae=Y([Uae,hf],Rre),Hae=Y([Iae,hf],Mre),Vae=Y([cr,aj,zae,qae,Kae,Fae,Qae,at,VY,Z4,Hae,hf,Mae],(e,t,r,n,a,s,l,d,f,h,p,g,y)=>{var{chartData:b,dataStartIndex:w,dataEndIndex:S}=f;if(!(g==null||l==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||n==null||a==null||s==null||h==null)){var{data:_}=g,N;if(_!=null&&_.length>0?N=_:N=b==null?void 0:b.slice(w,S+1),N!=null)return wie({layout:d,barSettings:g,pos:l,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:N,offset:e,cells:y,dataStartIndex:w})}}),Gae=["index"];function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(null,arguments)}function Yae(e,t){if(e==null)return{};var r,n,a=Wae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Wae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var J4=j.createContext(void 0),Xae=e=>{var t=j.useContext(J4);if(t!=null)return t.stackId;if(e!=null)return z7(e)},Zae=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Jae=e=>{var t=j.useContext(J4);if(t!=null){var{stackId:r}=t;return"url(#".concat(Zae(r,e),")")}},e5=e=>{var{index:t}=e,r=Yae(e,Gae),n=Jae(t);return j.createElement(wr,sw({className:"recharts-bar-stack-layer",clipPath:n},r))},eie=["onMouseEnter","onMouseLeave","onClick"],tie=["value","background","tooltipPosition"],rie=["id"],nie=["onMouseEnter","onClick","onMouseLeave"];function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(null,arguments)}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){aie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aie(e,t,r){return(t=iie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iie(e){var t=sie(e,"string");return typeof t=="symbol"?t:t+""}function sie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hp(e,t){if(e==null)return{};var r,n,a=oie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lie=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:kc(r,t),payload:e}]},cie=j.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:l,unit:d,tooltipType:f,id:h}=e,p={dataDefinedOnItem:void 0,getPosition:Uo,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:kc(s,t),hide:l,type:f,color:a,unit:d,graphicalItemId:h}};return j.createElement(T1,{tooltipEntrySettings:p})});function uie(e){var t=Ne(_s),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:d,onClick:f}=s,h=hp(s,eie),p=C1(l,n,s.id),g=k1(d),y=P1(f,n,s.id);if(!a||r==null)return null;var b=Co(a);return j.createElement(cn,{zIndex:Ire(a,tr.barBackground)},r.map((w,S)=>{var{value:_,background:N,tooltipPosition:E}=w,A=hp(w,tie);if(!N)return null;var C=p(w,S),T=g(w,S),P=y(w,S),D=Kr(Kr(Kr(Kr(Kr({option:a,isActive:String(S)===t},A),{},{fill:"#eee"},N),b),Vd(h,w,S)),{},{onMouseEnter:C,onMouseLeave:T,onClick:P,dataKey:n,index:S,className:"recharts-bar-background-rectangle"});return j.createElement(fp,bi({key:"background-bar-".concat(S)},D))}))}function die(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Kr(Kr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return j.createElement(S4,{value:t?a:void 0},r)}function fie(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:l}=e,d=Ne(_s),f=Ne(y1),h=r&&String(s)===d&&(f==null||l===f),p=h?r:t;return h?j.createElement(cn,{zIndex:tr.activeBar},j.createElement(e5,{index:s},j.createElement(fp,bi({},n,{name:String(n.name)},a,{isActive:h,option:p,index:s,dataKey:l})))):j.createElement(fp,bi({},n,{name:String(n.name)},a,{isActive:h,option:p,index:s,dataKey:l}))}function hie(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return j.createElement(fp,bi({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function mie(e){var t,{data:r,props:n}=e,a=(t=_n(n))!==null&&t!==void 0?t:{},{id:s}=a,l=hp(a,rie),{shape:d,dataKey:f,activeBar:h}=n,{onMouseEnter:p,onClick:g,onMouseLeave:y}=n,b=hp(n,nie),w=C1(p,f,s),S=k1(y),_=P1(g,f,s);return r?j.createElement(j.Fragment,null,r.map((N,E)=>j.createElement(e5,bi({index:E,key:"rectangle-".concat(N==null?void 0:N.x,"-").concat(N==null?void 0:N.y,"-").concat(N==null?void 0:N.value,"-").concat(E),className:"recharts-bar-rectangle"},Vd(b,N,E),{onMouseEnter:w(N,E),onMouseLeave:S(N,E),onClick:_(N,E)}),h?j.createElement(fie,{shape:d,activeBar:h,baseProps:l,entry:N,index:E,dataKey:f}):j.createElement(hie,{shape:d,baseProps:l,entry:N,index:E,dataKey:f})))):null}function pie(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=t,g=r.current,y=ef(t,"recharts-bar-"),[b,w]=j.useState(!1),S=!b,_=j.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),N=j.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return j.createElement(die,{showLabels:S,rects:n},j.createElement(Jd,{animationId:y,begin:l,duration:d,isActive:s,easing:f,onAnimationEnd:_,onAnimationStart:N,key:y},E=>{var A=E===1?n:n==null?void 0:n.map((C,T)=>{var P=g&&g[T];if(P)return Kr(Kr({},C),{},{x:Tt(P.x,C.x,E),y:Tt(P.y,C.y,E),width:Tt(P.width,C.width,E),height:Tt(P.height,C.height,E)});if(a==="horizontal"){var D=Tt(0,C.height,E),B=Tt(C.stackedBarStart,C.y,E);return Kr(Kr({},C),{},{y:B,height:D})}var K=Tt(0,C.width,E),re=Tt(C.stackedBarStart,C.x,E);return Kr(Kr({},C),{},{width:K,x:re})});return E>0&&(r.current=A??null),A==null?null:j.createElement(wr,null,j.createElement(mie,{props:t,data:A}))}),j.createElement(_1,{label:t.label}),t.children)}function gie(e){var t=j.useRef(null);return j.createElement(pie,{previousRectanglesRef:t,props:e})}var t5=0,yie=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:bt(e,t)}};class vie extends j.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(t||r==null)return null;var p=rt("recharts-bar",a),g=h;return j.createElement(wr,{className:p,id:h},d&&j.createElement("defs",null,j.createElement(Q4,{clipPathId:g,xAxisId:s,yAxisId:l})),j.createElement(wr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},j.createElement(uie,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),j.createElement(gie,this.props)))}}var bie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:t5,xAxisId:0,yAxisId:0,zIndex:tr.bar};function xie(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=e,{needClip:g}=B1(t,r),y=zo(),b=$r(),w=E1(e.children,Fo),S=Ne(E=>Vae(E,e.id,b,w));if(y!=="vertical"&&y!=="horizontal")return null;var _,N=S==null?void 0:S[0];return N==null||N.height==null||N.width==null?_=0:_=y==="vertical"?N.height/2:N.width/2,j.createElement(F4,{xAxisId:t,yAxisId:r,data:S,dataPointFormatter:yie,errorBarOffset:_},j.createElement(vie,bi({},e,{layout:y,needClip:g,data:S,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function wie(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:y,cells:b,parentViewBox:w,dataStartIndex:S}=e,_=t==="horizontal"?d:l,N=p?_.scale.domain():null,E=q7({numericAxis:_}),A=_.scale.map(E);return g.map((C,T)=>{var P,D,B,K,re,I;if(p){var L=p[T+S];if(L==null)return null;P=I7(L,N)}else P=bt(C,r),Array.isArray(P)||(P=[E,P]);var V=kae(n,t5)(P[1],T);if(t==="horizontal"){var J,G=d.scale.map(P[0]),R=d.scale.map(P[1]);if(G==null||R==null)return null;D=uC({axis:l,ticks:f,bandSize:s,offset:a.offset,entry:C,index:T}),B=(J=R??G)!==null&&J!==void 0?J:void 0,K=a.size;var H=G-R;if(re=Na(H)?0:H,I={x:D,y:y.top,width:K,height:y.height},Math.abs(V)>0&&Math.abs(re)<Math.abs(V)){var te=xr(re||V)*(Math.abs(V)-Math.abs(re));B-=te,re+=te}}else{var ae=l.scale.map(P[0]),ge=l.scale.map(P[1]);if(ae==null||ge==null)return null;if(D=ae,B=uC({axis:d,ticks:h,bandSize:s,offset:a.offset,entry:C,index:T}),K=ge-ae,re=a.size,I={x:y.left,y:B,width:y.width,height:re},Math.abs(V)>0&&Math.abs(K)<Math.abs(V)){var M=xr(K||V)*(Math.abs(V)-Math.abs(K));K+=M}}if(D==null||B==null||K==null||re==null)return null;var F=Kr(Kr({},C),{},{stackedBarStart:A,x:D,y:B,width:K,height:re,value:p?P:P[1],payload:C,background:I,tooltipPosition:{x:D+K/2,y:B+re/2},parentViewBox:w},b&&b[T]&&b[T].props);return F}).filter(Boolean)}function jie(e){var t=nr(e,bie),r=Xae(t.stackId),n=$r();return j.createElement(D1,{id:t.id,type:"bar"},a=>j.createElement(j.Fragment,null,j.createElement(D4,{legendPayload:lie(t)}),j.createElement(cie,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),j.createElement(R4,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),j.createElement(cn,{zIndex:t.zIndex},j.createElement(xie,bi({},t,{id:a})))))}var Oo=j.memo(jie,Og);Oo.displayName="Bar";var Sie=["domain","range"],_ie=["domain","range"];function kP(e,t){if(e==null)return{};var r,n,a=Nie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function r5(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=kP(e,Sie),{domain:s,range:l}=t,d=kP(t,_ie);return!PP(r,s)||!PP(n,l)?!1:Og(a,d)}var Oie=["type"],Eie=["dangerouslySetInnerHTML","ticks","scale"],Aie=["id","scale"];function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(null,arguments)}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Cie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cie(e,t,r){return(t=kie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kie(e){var t=Pie(e,"string");return typeof t=="symbol"?t:t+""}function Pie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lw(e,t){if(e==null)return{};var r,n,a=Tie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Die(e){var t=_t(),r=j.useRef(null),n=KM(),{type:a}=e,s=lw(e,Oie),l=dg(n,"xAxis",a),d=j.useMemo(()=>{if(l!=null)return DP(DP({},s),{},{type:l})},[s,l]);return j.useLayoutEffect(()=>{d!=null&&(r.current===null?t(fre(d)):r.current!==d&&t(hre({prev:r.current,next:d})),r.current=d)},[d,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(mre(r.current)),r.current=null)},[t]),null}var Mie=e=>{var{xAxisId:t,className:r}=e,n=Ne(aj),a=$r(),s="xAxis",l=Ne(N=>II(N,s,t,a)),d=Ne(N=>TI(N,t)),f=Ne(N=>rX(N,t)),h=Ne(N=>hI(N,t));if(d==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:y}=e,b=lw(e,Eie),{id:w,scale:S}=h,_=lw(h,Aie);return j.createElement(L1,ow({},b,_,{x:f.x,y:f.y,width:d.width,height:d.height,className:rt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},Rie={allowDataOverflow:pr.allowDataOverflow,allowDecimals:pr.allowDecimals,allowDuplicatedCategory:pr.allowDuplicatedCategory,angle:pr.angle,axisLine:ci.axisLine,height:pr.height,hide:!1,includeHidden:pr.includeHidden,interval:pr.interval,label:!1,minTickGap:pr.minTickGap,mirror:pr.mirror,orientation:pr.orientation,padding:pr.padding,reversed:pr.reversed,scale:pr.scale,tick:pr.tick,tickCount:pr.tickCount,tickLine:ci.tickLine,tickSize:ci.tickSize,type:pr.type,xAxisId:0},Iie=e=>{var t=nr(e,Rie);return j.createElement(j.Fragment,null,j.createElement(Die,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),j.createElement(Mie,t))},Td=j.memo(Iie,r5);Td.displayName="XAxis";var Lie=["type"],Bie=["dangerouslySetInnerHTML","ticks","scale"],$ie=["id","scale"];function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(null,arguments)}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){Uie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uie(e,t,r){return(t=zie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zie(e){var t=qie(e,"string");return typeof t=="symbol"?t:t+""}function qie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uw(e,t){if(e==null)return{};var r,n,a=Kie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fie(e){var t=_t(),r=j.useRef(null),n=KM(),{type:a}=e,s=uw(e,Lie),l=dg(n,"yAxis",a),d=j.useMemo(()=>{if(l!=null)return RP(RP({},s),{},{type:l})},[l,s]);return j.useLayoutEffect(()=>{d!=null&&(r.current===null?t(pre(d)):r.current!==d&&t(gre({prev:r.current,next:d})),r.current=d)},[d,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(yre(r.current)),r.current=null)},[t]),null}function Qie(e){var{yAxisId:t,className:r,width:n,label:a}=e,s=j.useRef(null),l=j.useRef(null),d=Ne(aj),f=$r(),h=_t(),p="yAxis",g=Ne(P=>DI(P,t)),y=Ne(P=>aX(P,t)),b=Ne(P=>II(P,p,t,f)),w=Ne(P=>mI(P,t));if(j.useLayoutEffect(()=>{if(!(n!=="auto"||!g||S1(a)||j.isValidElement(a)||w==null)){var P=s.current;if(P){var D=P.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&h(vre({id:t,width:D}))}}},[b,g,h,a,t,n,w]),g==null||y==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:_,scale:N}=e,E=uw(e,Bie),{id:A,scale:C}=w,T=uw(w,$ie);return j.createElement(L1,cw({},E,T,{ref:s,labelRef:l,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:rt("recharts-".concat(p," ").concat(p),r),viewBox:d,ticks:b,axisType:p}))}var Hie={allowDataOverflow:gr.allowDataOverflow,allowDecimals:gr.allowDecimals,allowDuplicatedCategory:gr.allowDuplicatedCategory,angle:gr.angle,axisLine:ci.axisLine,hide:!1,includeHidden:gr.includeHidden,interval:gr.interval,label:!1,minTickGap:gr.minTickGap,mirror:gr.mirror,orientation:gr.orientation,padding:gr.padding,reversed:gr.reversed,scale:gr.scale,tick:gr.tick,tickCount:gr.tickCount,tickLine:ci.tickLine,tickSize:ci.tickSize,type:gr.type,width:gr.width,yAxisId:0},Vie=e=>{var t=nr(e,Hie);return j.createElement(j.Fragment,null,j.createElement(Fie,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),j.createElement(Qie,t))},Dd=j.memo(Vie,r5);Dd.displayName="YAxis";var Gie=(e,t)=>t,z1=Y([Gie,at,uI,Sr,JI,ki,xZ,cr],EZ),q1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},n5=Hn("mouseClick"),a5=Yd();a5.startListening({actionCreator:n5,effect:(e,t)=>{var r=e.payload,n=z1(t.getState(),q1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(vX({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var dw=Hn("mouseMove"),i5=Yd(),im=null;i5.startListening({actionCreator:dw,effect:(e,t)=>{var r=e.payload;im!==null&&cancelAnimationFrame(im);var n=q1(r);im=requestAnimationFrame(()=>{var a=t.getState(),s=d1(a,a.tooltip.settings.shared);if(s==="axis"){var l=z1(a,n);(l==null?void 0:l.activeIndex)!=null?t.dispatch(FI({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(KI())}im=null})}});function Yie(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var IP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},s5=ln({name:"rootProps",initialState:IP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:IP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Wie=s5.reducer,{updateOptions:Xie}=s5.actions,Zie=null,Jie={updatePolarOptions:(e,t)=>t.payload},o5=ln({name:"polarOptions",initialState:Zie,reducers:Jie}),{updatePolarOptions:ese}=o5.actions,tse=o5.reducer,l5=Hn("keyDown"),c5=Hn("focus"),K1=Yd();K1.startListening({actionCreator:l5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=f1(a,$c(r),cf(r),df(r)),d=l==null?-1:Number(l);if(!(!Number.isFinite(d)||d<0)){var f=ki(r);if(s==="Enter"){var h=sp(r,"axis","hover",String(a.index));t.dispatch(ew({active:!a.active,activeIndex:a.index,activeCoordinate:h}));return}var p=lX(r),g=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,b=d+y*g;if(!(f==null||b>=f.length||b<0)){var w=sp(r,"axis","hover",String(b));t.dispatch(ew({active:!0,activeIndex:b.toString(),activeCoordinate:w}))}}}}}});K1.startListening({actionCreator:c5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=sp(r,"axis","hover",String(s));t.dispatch(ew({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Un=Hn("externalEvent"),u5=Yd(),Ub=new Map;u5.startListening({actionCreator:Un,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=Ub.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var d=t.getState(),f={activeCoordinate:aZ(d),activeDataKey:y1(d),activeIndex:_s(d),activeLabel:r4(d),activeTooltipIndex:_s(d),isTooltipActive:iZ(d)};r(f,n)}finally{Ub.delete(a)}});Ub.set(a,l)}}});var rse=Y([Lc],e=>e.tooltipItemPayloads),nse=Y([rse,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),d5=Hn("touchMove"),f5=Yd();f5.startListening({actionCreator:d5,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=d1(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var l=z1(n,q1({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(FI({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var d,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(LM),g=(d=h.getAttribute(BM))!==null&&d!==void 0?d:void 0,y=Bc(n).find(S=>S.id===g);if(p==null||y==null||g==null)return;var{dataKey:b}=y,w=nse(n,p,g);t.dispatch(qI({activeDataKey:b,activeIndex:p,activeCoordinate:w,activeGraphicalItemId:g}))}}}});var ase=iM({brush:Lre,cartesianAxis:bre,chartData:aJ,errorBars:Pne,graphicalItems:Ote,layout:P7,legend:BQ,options:JZ,polarAxis:Uee,polarOptions:tse,referenceElements:zre,rootProps:Wie,tooltip:bX,zIndex:zZ}),ise=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return r7({reducer:ase,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([a5.middleware,i5.middleware,K1.middleware,u5.middleware,f5.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(xM({type:"raf"}))},devTools:{serialize:{replacer:Yie},name:"recharts-".concat(r)}})};function h5(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=$r(),s=j.useRef(null);if(a)return r;s.current==null&&(s.current=ise(t,n));var l=Xw;return j.createElement(aae,{context:l,store:s.current},r)}function sse(e){var{layout:t,margin:r}=e,n=_t(),a=$r();return j.useEffect(()=>{a||(n(A7(t)),n(E7(r)))},[n,a,t,r]),null}var m5=j.memo(sse,Og);function p5(e){var t=_t();return j.useEffect(()=>{t(Xie(e))},[t,e]),null}function LP(e){var{zIndex:t,isPanorama:r}=e,n=j.useRef(null),a=_t();return j.useLayoutEffect(()=>(n.current&&a($Z({zIndex:t,element:n.current,isPanorama:r})),()=>{a(UZ({zIndex:t,isPanorama:r}))}),[a,t,r]),j.createElement("g",{tabIndex:-1,ref:n})}function BP(e){var{children:t,isPanorama:r}=e,n=Ne(CZ);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),s=n.filter(l=>l>0);return j.createElement(j.Fragment,null,a.map(l=>j.createElement(LP,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>j.createElement(LP,{key:l,zIndex:l,isPanorama:r})))}var ose=["children"];function lse(e,t){if(e==null)return{};var r,n,a=cse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(null,arguments)}var use={width:"100%",height:"100%",display:"block"},dse=j.forwardRef((e,t)=>{var r=oj(),n=lj(),a=tR();if(!Ea(r)||!Ea(n))return null;var{children:s,otherAttributes:l,title:d,desc:f}=e,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0),j.createElement(Uw,mp({},l,{title:d,desc:f,role:p,tabIndex:h,width:r,height:n,style:use,ref:t}),s)}),fse=e=>{var{children:t}=e,r=Ne(Wp);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return j.createElement(Uw,{width:n,height:a,x:l,y:s},t)},$P=j.forwardRef((e,t)=>{var{children:r}=e,n=lse(e,ose),a=$r();return a?j.createElement(fse,null,j.createElement(BP,{isPanorama:!0},r)):j.createElement(dse,mp({ref:t},n),j.createElement(BP,{isPanorama:!1},r))});function hse(){var e=_t(),[t,r]=j.useState(null),n=Ne(G7);return j.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Ze(s)&&s!==n&&e(k7(s))}},[t,e,n]),r}function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){pse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pse(e,t,r){return(t=gse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gse(e){var t=yse(e,"string");return typeof t=="symbol"?t:t+""}function yse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ws.apply(null,arguments)}var vse=()=>(hJ(),null);function pp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var bse=j.forwardRef((e,t)=>{var r,n,a=j.useRef(null),[s,l]=j.useState({containerWidth:pp((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:pp((n=e.style)===null||n===void 0?void 0:n.height)}),d=j.useCallback((h,p)=>{l(g=>{var y=Math.round(h),b=Math.round(p);return g.containerWidth===y&&g.containerHeight===b?g:{containerWidth:y,containerHeight:b}})},[]),f=j.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var y=w=>{var S=w[0];if(S!=null){var{width:_,height:N}=S.contentRect;d(_,N)}},b=new ResizeObserver(y);b.observe(h),a.current=b}},[t,d]);return j.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[d]),j.createElement(j.Fragment,null,j.createElement(Xd,{width:s.containerWidth,height:s.containerHeight}),j.createElement("div",ws({ref:f},e)))}),xse=j.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=j.useState({containerWidth:pp(r),containerHeight:pp(n)}),l=j.useCallback((f,h)=>{s(p=>{var g=Math.round(f),y=Math.round(h);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),d=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[t,l]);return j.createElement(j.Fragment,null,j.createElement(Xd,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",ws({ref:d},e)))}),wse=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return j.createElement(j.Fragment,null,j.createElement(Xd,{width:r,height:n}),j.createElement("div",ws({ref:t},e)))}),jse=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?j.createElement(xse,ws({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?j.createElement(wse,ws({},e,{width:r,height:n,ref:t})):j.createElement(j.Fragment,null,j.createElement(Xd,{width:r,height:n}),j.createElement("div",ws({ref:t},e)))});function Sse(e){return e?bse:jse}var _se=j.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:y,onTouchEnd:b,onTouchMove:w,onTouchStart:S,style:_,width:N,responsive:E,dispatchTouchEvents:A=!0}=e,C=j.useRef(null),T=_t(),[P,D]=j.useState(null),[B,K]=j.useState(null),re=hse(),I=ij(),L=(I==null?void 0:I.width)>0?I.width:N,V=(I==null?void 0:I.height)>0?I.height:a,J=j.useCallback($=>{re($),typeof t=="function"&&t($),D($),K($),$!=null&&(C.current=$)},[re,t,D,K]),G=j.useCallback($=>{T(n5($)),T(Un({handler:s,reactEvent:$}))},[T,s]),R=j.useCallback($=>{T(dw($)),T(Un({handler:h,reactEvent:$}))},[T,h]),H=j.useCallback($=>{T(KI()),T(Un({handler:p,reactEvent:$}))},[T,p]),te=j.useCallback($=>{T(dw($)),T(Un({handler:g,reactEvent:$}))},[T,g]),ae=j.useCallback(()=>{T(c5())},[T]),ge=j.useCallback($=>{T(l5($.key))},[T]),M=j.useCallback($=>{T(Un({handler:l,reactEvent:$}))},[T,l]),F=j.useCallback($=>{T(Un({handler:d,reactEvent:$}))},[T,d]),fe=j.useCallback($=>{T(Un({handler:f,reactEvent:$}))},[T,f]),pe=j.useCallback($=>{T(Un({handler:y,reactEvent:$}))},[T,y]),we=j.useCallback($=>{T(Un({handler:S,reactEvent:$}))},[T,S]),Ce=j.useCallback($=>{A&&T(d5($)),T(Un({handler:w,reactEvent:$}))},[T,A,w]),Ee=j.useCallback($=>{T(Un({handler:b,reactEvent:$}))},[T,b]),ue=Sse(E);return j.createElement(c4.Provider,{value:P},j.createElement(jD.Provider,{value:B},j.createElement(ue,{width:L??(_==null?void 0:_.width),height:V??(_==null?void 0:_.height),className:rt("recharts-wrapper",n),style:mse({position:"relative",cursor:"default",width:L,height:V},_),onClick:G,onContextMenu:M,onDoubleClick:F,onFocus:ae,onKeyDown:ge,onMouseDown:fe,onMouseEnter:R,onMouseLeave:H,onMouseMove:te,onMouseUp:pe,onTouchEnd:Ee,onTouchMove:Ce,onTouchStart:we,ref:J},j.createElement(vse,null),r)))}),Nse=["width","height","responsive","children","className","style","compact","title","desc"];function Ose(e,t){if(e==null)return{};var r,n,a=Ese(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ese(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var g5=j.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:d,compact:f,title:h,desc:p}=e,g=Ose(e,Nse),y=_n(g);return f?j.createElement(j.Fragment,null,j.createElement(Xd,{width:r,height:n}),j.createElement($P,{otherAttributes:y,title:h,desc:p},s)):j.createElement(_se,{className:l,style:d,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement($P,{otherAttributes:y,title:h,desc:p,ref:t},j.createElement(Kre,null,s)))});function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fw.apply(null,arguments)}var Ase={top:5,right:5,bottom:5,left:5},Cse={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ase,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},y5=j.forwardRef(function(t,r){var n,a=nr(t.categoricalChartProps,Cse),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return j.createElement(h5,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},j.createElement(B4,{chartData:h.data}),j.createElement(m5,{layout:a.layout,margin:a.margin}),j.createElement(p5,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(g5,fw({},a,{ref:r})))}),kse=["axis","item"],v5=j.forwardRef((e,t)=>j.createElement(y5,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kse,tooltipPayloadSearcher:j1,categoricalChartProps:e,ref:t}));function Pse(e){var t=_t();return j.useEffect(()=>{t(ese(e))},[t,e]),null}var Tse=["layout"];function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hw.apply(null,arguments)}function Dse(e,t){if(e==null)return{};var r,n,a=Mse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Rse={top:5,right:5,bottom:5,left:5},b5={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Rse,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ise=j.forwardRef(function(t,r){var n,a=nr(t.categoricalChartProps,b5),{layout:s}=a,l=Dse(a,Tse),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=t,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return j.createElement(h5,{preloadedState:{options:g},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:d},j.createElement(B4,{chartData:a.data}),j.createElement(m5,{layout:s,margin:a.margin}),j.createElement(p5,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(Pse,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),j.createElement(g5,hw({},l,{ref:r})))});function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){Lse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lse(e,t,r){return(t=Bse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bse(e){var t=$se(e,"string");return typeof t=="symbol"?t:t+""}function $se(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Use=["item"],zse=qP(qP({},b5),{},{layout:"centric",startAngle:0,endAngle:360}),x5=j.forwardRef((e,t)=>{var r=nr(e,zse);return j.createElement(Ise,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Use,tooltipPayloadSearcher:j1,categoricalChartProps:r,ref:t})}),qse=["axis"],w5=j.forwardRef((e,t)=>j.createElement(y5,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qse,tooltipPayloadSearcher:j1,categoricalChartProps:e,ref:t}));const Kse=()=>{const e=xe.currentUser;if(!e)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Not Authenticated"});const t=e.role===Qt.ADMIN,[r,n]=j.useState("All Time"),[a,s]=j.useState({from:"",to:""}),{data:l=[],isPending:d}=Oc(),{data:f=[],isPending:h}=Ec(),{data:p=[],isPending:g}=Ac(),{data:y=[],isPending:b}=As(),{data:w=[]}=Cs(),S=d||h||g||b,_=j.useMemo(()=>l.filter(G=>a0(G.orderDate,r,a)),[l,r,a]),N=j.useMemo(()=>f.filter(G=>a0(G.billDate,r,a)),[f,r,a]),E=j.useMemo(()=>p.filter(G=>a0(G.date,r,a)),[p,r,a]),A=_.filter(G=>G.status===Ue.COMPLETED).reduce((G,R)=>G+R.total,0),C=N.reduce((G,R)=>G+R.total,0),T=E.filter(G=>G.type==="Expense"&&G.category!=="expense_purchases").reduce((G,R)=>G+R.amount,0),P=A-C-T,D={total:_.length,processing:_.filter(G=>G.status===Ue.PROCESSING).length,picked:_.filter(G=>G.status===Ue.PICKED).length,completed:_.filter(G=>G.status===Ue.COMPLETED).length};_.reduce((G,R)=>G+(R.total-R.paidAmount),0),N.reduce((G,R)=>G+(R.total-R.paidAmount),0);const B=_.filter(G=>G.createdBy===e.id).length,K=new Date().toISOString().split("T")[0],re=_.filter(G=>G.createdBy===e.id&&G.orderDate===K).length,I=_.filter(G=>G.createdBy===e.id&&G.status===Ue.ON_HOLD).length,L=j.useMemo(()=>{const G=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],R=new Date().getFullYear(),H={};return G.forEach(te=>{H[te]={income:0,expense:0}}),l.forEach(te=>{const ae=new Date(te.orderDate);if(ae.getFullYear()===R){const ge=ae.getMonth(),M=G[ge];H[M].income+=te.total}}),f.forEach(te=>{const ae=new Date(te.billDate);if(ae.getFullYear()===R){const ge=ae.getMonth(),M=G[ge];H[M].expense+=te.total}}),p.filter(te=>te.type==="Expense"&&te.category!=="expense_purchases").forEach(te=>{const ae=new Date(te.date);if(ae.getFullYear()===R){const ge=ae.getMonth(),M=G[ge];H[M].expense+=te.amount}}),G.map(te=>({name:te,income:H[te].income,expense:-H[te].expense,profit:H[te].income-H[te].expense}))},[l,f,p]),V=j.useMemo(()=>{const G=new Map(w.map(F=>[F.id,F.name])),R={},H={},te=["#10B981","#3B82F6","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16"];let ae=0;C>0&&(R.Purchases=C,H.Purchases=te[ae++]),E.filter(F=>F.type==="Expense"&&F.category!=="expense_purchases").forEach(F=>{const fe=G.get(F.category)||F.category||"Uncategorized";R[fe]=(R[fe]||0)+F.amount,H[fe]||(H[fe]=te[ae%te.length],ae++)});const M=Object.entries(R).map(([F,fe])=>({name:F,value:Math.max(fe,1),color:H[F]}));return M.length>0?M:[{name:"No Data",value:1,color:"#D1D5DB"}]},[E,C,w]),J=y.map(G=>({name:G.name.split(" ")[0],orders:l.filter(R=>R.createdBy===G.id).length})).sort((G,R)=>R.orders-G.orders);return t?c.jsxs("div",{className:"space-y-6",children:[c.jsx(Fd,{isLoading:S,message:"Loading dashboard data..."}),c.jsx(md,{filterRange:r,setFilterRange:n,customDates:a,setCustomDates:s}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(Zn,{title:"Total Sales",value:ve(A),icon:se.Sales,bgColor:"bg-blue-600",textColor:"text-white",iconBgColor:"bg-blue-700"}),c.jsx(Zn,{title:"Total Purchases",value:ve(C),icon:se.Briefcase,bgColor:"bg-purple-600",textColor:"text-white",iconBgColor:"bg-purple-700"}),c.jsx(Zn,{title:"Other Expenses",value:ve(T),icon:se.Delete,bgColor:"bg-amber-500",textColor:"text-white",iconBgColor:"bg-amber-600"}),c.jsx(Zn,{title:"Total Profit",value:ve(P),icon:se.Reports,isProfitCard:!0,profitValue:P}),c.jsx(Zn,{title:"Total Orders",value:D.total,icon:se.Dashboard,bgColor:"bg-indigo-700",textColor:"text-white",iconBgColor:"bg-indigo-800"}),c.jsx(Zn,{title:"Processing Orders",value:D.processing,icon:se.More,bgColor:"bg-sky-500",textColor:"text-white",iconBgColor:"bg-sky-600"}),c.jsx(Zn,{title:"Picked Orders",value:D.picked,icon:se.Courier,bgColor:"bg-cyan-500",textColor:"text-white",iconBgColor:"bg-cyan-600"}),c.jsx(Zn,{title:"Completed Orders",value:D.completed,icon:se.PlusCircle,bgColor:"bg-teal-600",textColor:"text-white",iconBgColor:"bg-teal-700"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsx("div",{children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Cash Flow"})}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-[#059669]"}),c.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Income"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),c.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Expense"})]})]})]}),c.jsx("div",{className:"h-[250px]",children:c.jsx(Xl,{width:"100%",height:"100%",children:c.jsxs(w5,{data:L,children:[c.jsx(kd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(Td,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(Dd,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(Jl,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f8fafc"}}),c.jsx(Oo,{dataKey:"income",fill:"#059669",radius:[4,4,0,0],barSize:40}),c.jsx(Oo,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],barSize:40}),c.jsx(U1,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"}})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("div",{className:"flex items-center justify-between mb-8",children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Profit & Loss Summary"})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg",children:[c.jsx("span",{className:"font-bold text-gray-600 text-sm",children:"Total Incomes"}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:ve(A)})]}),c.jsxs("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg",children:[c.jsx("span",{className:"font-bold text-gray-600 text-sm",children:"Total Expenses"}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:ve(C+T)})]}),c.jsxs("div",{className:`flex justify-between items-center p-6 rounded-xl shadow-xl text-white
                  ${P>=0?"bg-emerald-600 shadow-emerald-600/20":"bg-red-600 shadow-red-600/20"}
                `,children:[c.jsx("span",{className:"font-black uppercase tracking-widest text-sm",children:"Net Profit"}),c.jsx("span",{className:"font-black text-sm",children:ve(P)})]})]})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-8",children:"Expenses by Category"}),c.jsx("div",{className:"h-[300px]",children:c.jsx(Xl,{width:"100%",height:"100%",children:c.jsxs(x5,{children:[c.jsx(M1,{data:V,innerRadius:0,outerRadius:100,dataKey:"value",children:V.map((G,R)=>c.jsx(Fo,{fill:G.color},`cell-${R}`))}),c.jsx(Jl,{}),c.jsx(tg,{verticalAlign:"middle",align:"right",layout:"vertical"})]})})})]})]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx(md,{filterRange:r,setFilterRange:n,customDates:a,setCustomDates:s}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(Zn,{title:"Total Created",value:B,icon:se.Sales,bgColor:"bg-blue-600",textColor:"text-white",iconBgColor:"bg-blue-700"}),c.jsx(Zn,{title:"Created Today",value:re,icon:se.Dashboard,bgColor:"bg-teal-500",textColor:"text-white",iconBgColor:"bg-teal-600"}),c.jsx(Zn,{title:"Pending (Hold)",value:I,icon:se.More,bgColor:"bg-orange-500",textColor:"text-white",iconBgColor:"bg-orange-600"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Performance"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Comparing total orders across all employees"})]}),c.jsx("div",{className:"h-[400px]",children:c.jsx(Xl,{width:"100%",height:"100%",children:c.jsxs(v5,{data:J,children:[c.jsx(kd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(Td,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:700,fill:"#64748b"}}),c.jsx(Dd,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:700,fill:"#64748b"}}),c.jsx(Jl,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),c.jsx(Oo,{dataKey:"orders",fill:"#10B981",radius:[12,12,0,0]})]})})})]})]})};function Fse(){const e=Le();return lt({mutationFn:a8,onMutate:async t=>{await e.cancelQueries({queryKey:["customers"]});const r=e.getQueryData(["customers"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["customers"],[...r,n])}return{previousCustomers:r}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers)},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]})}})}function Qse(){const e=Le();return lt({mutationFn:({id:t,updates:r})=>i8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["customers"]}),await e.cancelQueries({queryKey:["customer",t]});const n=e.getQueryData(["customers"]),a=e.getQueryData(["customer",t]);return n&&e.setQueryData(["customers"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["customer",t],{...a,...r}),{previousCustomers:n,previousCustomer:a}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers),n!=null&&n.previousCustomer&&e.setQueryData(["customer",r.id],n.previousCustomer)},onSuccess:t=>{e.invalidateQueries({queryKey:["customers"]}),e.invalidateQueries({queryKey:["customer",t.id]})}})}function Hse(){const e=Le();return lt({mutationFn:s8,onMutate:async t=>{await e.cancelQueries({queryKey:["customers"]});const r=e.getQueryData(["customers"]);return r&&e.setQueryData(["customers"],r.filter(n=>n.id!==t)),{previousCustomers:r}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers)},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]})}})}function Eg(){const e=Le();return lt({mutationFn:u8,onMutate:async t=>{await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["orders"])||[],n={...t,id:`temp-${Date.now()}`,paidAmount:t.paidAmount||0};return e.setQueryData(["orders"],[n,...r]),{previousOrders:r,optimisticOrder:n}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:async t=>{e.setQueryData(["order",t.id],t);const n=(e.getQueryData(["orders"])||[]).filter(a=>!a.id.startsWith("temp-")).map(a=>a);e.setQueryData(["orders"],[t,...n]);try{const a=e.getQueryData(["settings","order"]);a&&a.nextNumber&&(await uD({nextNumber:a.nextNumber+1}),e.invalidateQueries({queryKey:["settings","order"]}))}catch(a){console.error("Failed to update order settings:",a)}await e.refetchQueries({queryKey:["orders"]})}})}function F1(){const e=Le();return lt({mutationFn:({id:t,updates:r})=>d8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["orders"]}),await e.cancelQueries({queryKey:["order",t]}),await e.cancelQueries({queryKey:["ordersByCustomerId"]});const n=e.getQueryData(["orders"]),a=e.getQueryData(["order",t]);if(n&&e.setQueryData(["orders"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["order",t],{...a,...r}),a!=null&&a.customerId){const s=e.getQueryData(["ordersByCustomerId",a.customerId]);s&&e.setQueryData(["ordersByCustomerId",a.customerId],s.map(l=>l.id===t?{...l,...r}:l))}return{previousOrders:n,previousOrder:a}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders),n!=null&&n.previousOrder&&e.setQueryData(["order",r.id],n.previousOrder)},onSuccess:t=>{e.invalidateQueries({queryKey:["orders"]}),e.invalidateQueries({queryKey:["order",t.id]})}})}function Vse(){const e=Le();return lt({mutationFn:f8,onMutate:async t=>{await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["orders"]);return r&&e.setQueryData(["orders"],r.filter(n=>n.id!==t)),{previousOrders:r}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]})}})}function j5(){const e=Le();return lt({mutationFn:A8,onMutate:async t=>{await e.cancelQueries({queryKey:["bills"]});const r=e.getQueryData(["bills"])||[],n={...t,id:`temp-${Date.now()}`,paidAmount:t.paidAmount||0};return e.setQueryData(["bills"],[n,...r]),{previousBills:r,optimisticBill:n}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills)},onSuccess:async t=>{e.setQueryData(["bill",t.id],t);const n=(e.getQueryData(["bills"])||[]).filter(a=>!a.id.startsWith("temp-")).map(a=>a);e.setQueryData(["bills"],[t,...n]),await e.refetchQueries({queryKey:["bills"]})}})}function S5(){const e=Le();return lt({mutationFn:({id:t,updates:r})=>C8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["bills"]}),await e.cancelQueries({queryKey:["bill",t]});const n=e.getQueryData(["bills"]),a=e.getQueryData(["bill",t]);return n&&e.setQueryData(["bills"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["bill",t],{...a,...r}),{previousBills:n,previousBill:a}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills),n!=null&&n.previousBill&&e.setQueryData(["bill",r.id],n.previousBill)},onSuccess:t=>{e.invalidateQueries({queryKey:["bills"]}),e.invalidateQueries({queryKey:["bill",t.id]})}})}function Gse(){const e=Le();return lt({mutationFn:k8,onMutate:async t=>{await e.cancelQueries({queryKey:["bills"]});const r=e.getQueryData(["bills"]);return r&&e.setQueryData(["bills"],r.filter(n=>n.id!==t)),{previousBills:r}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills)},onSuccess:()=>{e.invalidateQueries({queryKey:["bills"]})}})}function Yse(){const e=Le();return lt({mutationFn:m8,onMutate:async t=>{await e.cancelQueries({queryKey:["accounts"]});const r=e.getQueryData(["accounts"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["accounts"],[...r,n])}return{previousAccounts:r}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts)},onSuccess:()=>{e.invalidateQueries({queryKey:["accounts"]})}})}function mf(){const e=Le();return lt({mutationFn:({id:t,updates:r})=>p8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["accounts"]}),await e.cancelQueries({queryKey:["account",t]});const n=e.getQueryData(["accounts"]),a=e.getQueryData(["account",t]);return n&&e.setQueryData(["accounts"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["account",t],{...a,...r}),{previousAccounts:n,previousAccount:a}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts),n!=null&&n.previousAccount&&e.setQueryData(["account",r.id],n.previousAccount)},onSuccess:t=>{e.invalidateQueries({queryKey:["accounts"]}),e.invalidateQueries({queryKey:["account",t.id]})}})}function Wse(){const e=Le();return lt({mutationFn:g8,onMutate:async t=>{await e.cancelQueries({queryKey:["accounts"]});const r=e.getQueryData(["accounts"]);return r&&e.setQueryData(["accounts"],r.filter(n=>n.id!==t)),{previousAccounts:r}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts)},onSuccess:()=>{e.invalidateQueries({queryKey:["accounts"]})}})}function pf(){const e=Le();return lt({mutationFn:v8,onMutate:async t=>{await e.cancelQueries({queryKey:["transactions"]}),await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["transactions"]),n=e.getQueryData(["orders"]);if(r){const a={...t,id:`temp-${Date.now()}`};e.setQueryData(["transactions"],[...r,a])}return{previousTransactions:r,previousOrders:n}},onError:(t,r,n)=>{n!=null&&n.previousTransactions&&e.setQueryData(["transactions"],n.previousTransactions),n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:()=>{e.invalidateQueries({queryKey:["transactions"]}),e.invalidateQueries({queryKey:["orders"]})}})}function Xse(){const e=Le();return lt({mutationFn:b8,onMutate:async t=>{await e.cancelQueries({queryKey:["transactions"]});const r=e.getQueryData(["transactions"]);return r&&e.setQueryData(["transactions"],r.filter(n=>n.id!==t)),{previousTransactions:r}},onError:(t,r,n)=>{n!=null&&n.previousTransactions&&e.setQueryData(["transactions"],n.previousTransactions)},onSuccess:()=>{e.invalidateQueries({queryKey:["transactions"]})}})}function Zse(){const e=Le();return lt({mutationFn:S8,onMutate:async t=>{await e.cancelQueries({queryKey:["users"]});const r=e.getQueryData(["users"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["users"],[...r,n])}return{previousUsers:r}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers)},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function Jse(){const e=Le();return lt({mutationFn:({id:t,updates:r})=>_8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["users"]}),await e.cancelQueries({queryKey:["user",t]}),await e.cancelQueries({queryKey:["userByPhone"]});const n=e.getQueryData(["users"]),a=e.getQueryData(["user",t]);return n&&e.setQueryData(["users"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["user",t],{...a,...r}),{previousUsers:n,previousUser:a}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers),n!=null&&n.previousUser&&e.setQueryData(["user",r.id],n.previousUser)},onSuccess:t=>{e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["user",t.id]})}})}function _5(){const e=Le();return lt({mutationFn:N8,onMutate:async t=>{await e.cancelQueries({queryKey:["users"]});const r=e.getQueryData(["users"]);return r&&e.setQueryData(["users"],r.filter(n=>n.id!==t)),{previousUsers:r}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers)},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function eoe(){const e=Le();return lt({mutationFn:D8,onMutate:async t=>{await e.cancelQueries({queryKey:["vendors"]});const r=e.getQueryData(["vendors"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["vendors"],[...r,n])}return{previousVendors:r}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors)},onSuccess:()=>{e.invalidateQueries({queryKey:["vendors"]})}})}function toe(){const e=Le();return lt({mutationFn:({id:t,updates:r})=>M8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["vendors"]}),await e.cancelQueries({queryKey:["vendor",t]});const n=e.getQueryData(["vendors"]),a=e.getQueryData(["vendor",t]);return n&&e.setQueryData(["vendors"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["vendor",t],{...a,...r}),{previousVendors:n,previousVendor:a}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors),n!=null&&n.previousVendor&&e.setQueryData(["vendor",r.id],n.previousVendor)},onSuccess:t=>{e.invalidateQueries({queryKey:["vendors"]}),e.invalidateQueries({queryKey:["vendor",t.id]})}})}function roe(){const e=Le();return lt({mutationFn:R8,onMutate:async t=>{await e.cancelQueries({queryKey:["vendors"]});const r=e.getQueryData(["vendors"]);return r&&e.setQueryData(["vendors"],r.filter(n=>n.id!==t)),{previousVendors:r}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors)},onSuccess:()=>{e.invalidateQueries({queryKey:["vendors"]})}})}function noe(){const e=Le();return lt({mutationFn:B8,onMutate:async t=>{await e.cancelQueries({queryKey:["products"]});const r=e.getQueryData(["products"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["products"],[...r,n])}return{previousProducts:r}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts)},onSuccess:()=>{e.invalidateQueries({queryKey:["products"]})}})}function aoe(){const e=Le();return lt({mutationFn:({id:t,updates:r})=>$8(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["products"]}),await e.cancelQueries({queryKey:["product",t]});const n=e.getQueryData(["products"]),a=e.getQueryData(["product",t]);return n&&e.setQueryData(["products"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["product",t],{...a,...r}),{previousProducts:n,previousProduct:a}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts),n!=null&&n.previousProduct&&e.setQueryData(["product",r.id],n.previousProduct)},onSuccess:t=>{e.invalidateQueries({queryKey:["products"]}),e.invalidateQueries({queryKey:["product",t.id]})}})}function ioe(){const e=Le();return lt({mutationFn:U8,onMutate:async t=>{await e.cancelQueries({queryKey:["products"]});const r=e.getQueryData(["products"]);return r&&e.setQueryData(["products"],r.filter(n=>n.id!==t)),{previousProducts:r}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts)},onSuccess:()=>{e.invalidateQueries({queryKey:["products"]})}})}function soe(){const e=Le();return lt({mutationFn:q8,onMutate:async t=>{await e.cancelQueries({queryKey:["categories"]});const r=e.getQueryData(["categories"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["categories"],[...r,n])}return{previousCategories:r}},onError:(t,r,n)=>{n!=null&&n.previousCategories&&e.setQueryData(["categories"],n.previousCategories)},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function ooe(){const e=Le();return lt({mutationFn:K8,onMutate:async t=>{await e.cancelQueries({queryKey:["categories"]});const r=e.getQueryData(["categories"]);return r&&e.setQueryData(["categories"],r.filter(n=>n.id!==t)),{previousCategories:r}},onError:(t,r,n)=>{n!=null&&n.previousCategories&&e.setQueryData(["categories"],n.previousCategories)},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function loe(){const e=Le();return lt({mutationFn:Q8,onMutate:async t=>{await e.cancelQueries({queryKey:["paymentMethods"]});const r=e.getQueryData(["paymentMethods"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["paymentMethods"],[...r,n])}return{previousMethods:r}},onError:(t,r,n)=>{n!=null&&n.previousMethods&&e.setQueryData(["paymentMethods"],n.previousMethods)},onSuccess:()=>{e.invalidateQueries({queryKey:["paymentMethods"]})}})}function coe(){const e=Le();return lt({mutationFn:H8,onMutate:async t=>{await e.cancelQueries({queryKey:["paymentMethods"]});const r=e.getQueryData(["paymentMethods"]);return r&&e.setQueryData(["paymentMethods"],r.filter(n=>n.id!==t)),{previousMethods:r}},onError:(t,r,n)=>{n!=null&&n.previousMethods&&e.setQueryData(["paymentMethods"],n.previousMethods)},onSuccess:()=>{e.invalidateQueries({queryKey:["paymentMethods"]})}})}function uoe(){const e=Le();return lt({mutationFn:G8,onMutate:async t=>{await e.cancelQueries({queryKey:["units"]});const r=e.getQueryData(["units"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["units"],[...r,n])}return{previousUnits:r}},onError:(t,r,n)=>{n!=null&&n.previousUnits&&e.setQueryData(["units"],n.previousUnits)},onSuccess:()=>{e.invalidateQueries({queryKey:["units"]})}})}function doe(){const e=Le();return lt({mutationFn:Y8,onMutate:async t=>{await e.cancelQueries({queryKey:["units"]});const r=e.getQueryData(["units"]);return r&&e.setQueryData(["units"],r.filter(n=>n.id!==t)),{previousUnits:r}},onError:(t,r,n)=>{n!=null&&n.previousUnits&&e.setQueryData(["units"],n.previousUnits)},onSuccess:()=>{e.invalidateQueries({queryKey:["units"]})}})}function foe(){const e=Le();return lt({mutationFn:s9,onMutate:async t=>{await e.cancelQueries({queryKey:["settings"]});const r=e.getQueryData(["settings","company"]),n=e.getQueryData(["settings","order"]),a=e.getQueryData(["settings","invoice"]),s=e.getQueryData(["settings","defaults"]),l=e.getQueryData(["settings","courier"]);return t.company&&r&&e.setQueryData(["settings","company"],{...r,...t.company}),t.order&&n&&e.setQueryData(["settings","order"],{...n,...t.order}),t.invoice&&a&&e.setQueryData(["settings","invoice"],{...a,...t.invoice}),t.defaults&&s&&e.setQueryData(["settings","defaults"],{...s,...t.defaults}),t.courier&&l&&e.setQueryData(["settings","courier"],{...l,...t.courier}),{previousCompany:r,previousOrder:n,previousInvoice:a,previousDefaults:s,previousCourier:l}},onError:(t,r,n)=>{n!=null&&n.previousCompany&&e.setQueryData(["settings","company"],n.previousCompany),n!=null&&n.previousOrder&&e.setQueryData(["settings","order"],n.previousOrder),n!=null&&n.previousInvoice&&e.setQueryData(["settings","invoice"],n.previousInvoice),n!=null&&n.previousDefaults&&e.setQueryData(["settings","defaults"],n.previousDefaults),n!=null&&n.previousCourier&&e.setQueryData(["settings","courier"],n.previousCourier)},onSuccess:()=>{e.invalidateQueries({queryKey:["settings"]})}})}const mw=(e,t)=>{t(`/print-order/${e}`)},hoe=()=>{setTimeout(()=>{window.print()},100)},moe=()=>{const e=ht(),t=Le(),r=Dr(),{searchQuery:n}=Os(),a=xe.currentUser,s=(a==null?void 0:a.role)===Qt.ADMIN,l=(a==null?void 0:a.role)===Qt.EMPLOYEE,[d,f]=j.useState("All Time"),[h,p]=j.useState({from:"",to:""}),[g,y]=j.useState("All"),[b,w]=j.useState(null),[S,_]=j.useState(null),[N,E]=j.useState(null),[A,C]=j.useState(null),[T,P]=j.useState(null),[D,B]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:0}),{data:K=[],isPending:re}=Oc(),{data:I=[]}=$o(),{data:L=[]}=Es(),{data:V=[]}=As(),{data:J}=Tp(),G=Eg(),R=Vse(),H=F1(),te=pf(),ae=mf(),ge=j.useMemo(()=>new Map(V.map(ue=>[ue.id,ue])),[V]),M=ue=>{if(d==="All Time")return!0;const $=new Date(ue),Z=new Date;if(d==="Today")return $.toDateString()===Z.toDateString();if(d==="This Week"){const he=Z.getDate()-Z.getDay(),ie=new Date(new Date().setDate(he)),Ke=new Date(new Date().setDate(he+6));return $>=ie&&$<=Ke}return d==="This Month"?$.getMonth()===Z.getMonth()&&$.getFullYear()===Z.getFullYear():d==="This Year"?$.getFullYear()===Z.getFullYear():d==="Custom"?!h.from||!h.to?!0:$>=new Date(h.from)&&$<=new Date(h.to):!0},F=j.useMemo(()=>{let ue=K.filter($=>M($.orderDate)).filter($=>g==="All"||$.status===g);if(n.trim()){const $=n.toLowerCase();ue=ue.filter(Z=>{const he=I.find(ie=>ie.id===Z.customerId);return Z.orderNumber.toLowerCase().includes($)||(he==null?void 0:he.name.toLowerCase().includes($))||(he==null?void 0:he.phone.includes($))})}return ue},[K,d,h,g,n,I]),fe=ue=>{var $,Z;if(($=ue.createdBy)!=null&&$.trim()){const he=ge.get(ue.createdBy);if(he!=null&&he.name)return he.name}if((Z=ue.history)!=null&&Z.created){const he=ue.history.created.match(/^(.+?)\s+created this order on/);if(he&&he[1])return he[1]}return null},pe=async ue=>{if(!J){r.error("Unable to generate new order number. Please try again.");return}const Z={orderNumber:`${J.prefix}${J.nextNumber}`,orderDate:new Date().toISOString().split("T")[0],customerId:ue.customerId,createdBy:(a==null?void 0:a.id)||ue.createdBy,status:Ue.ON_HOLD,items:ue.items,subtotal:ue.subtotal,discount:ue.discount,shipping:ue.shipping,total:ue.total,paidAmount:0,history:ue.history};try{await G.mutateAsync(Z),t.invalidateQueries({queryKey:["orders"]}),r.success("Order duplicated successfully")}catch(he){console.error("Failed to duplicate order",he),r.error("Failed to duplicate order: "+(he instanceof Error?he.message:"Unknown error"))}},we=async ue=>{if(confirm("Are you sure you want to delete this order?"))try{await R.mutateAsync(ue),t.invalidateQueries({queryKey:["orders"]})}catch($){console.error("Failed to delete order",$)}},Ce=ue=>{B({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:ue.total-ue.paidAmount}),E(ue)},Ee=async()=>{if(!N)return;const ue=N;try{let $=L.find(Pa=>Pa.id===D.accountId);if(!$){if(!D.accountId){r.error("Please select an account");return}$={id:D.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const Z=D.amount<ue.total,[he,ie]=D.time.split(":").map(Number),Ke=new Date(D.date);Ke.setHours(he,ie,0,0);const Te=Ke.toISOString(),st={date:Te,type:"Income",category:xe.settings.defaults.incomeCategoryId||"income_sales",accountId:D.accountId,amount:ue.total,description:`Payment for Order #${ue.orderNumber}`,referenceId:ue.id,contactId:ue.customerId,paymentMethod:xe.settings.defaults.paymentMethod||"Cash",createdBy:a.id};if(Z){const Pa=ue.total-D.amount,le={date:Te,type:"Expense",category:"expense_shipping",accountId:D.accountId,amount:Pa,description:`Shipping costs for Order #${ue.orderNumber}`,paymentMethod:xe.settings.defaults.paymentMethod||"Cash",createdBy:a.id};await Promise.all([te.mutateAsync(st),te.mutateAsync(le)])}else await te.mutateAsync(st);const mt=D.amount,fr=(ue.paidAmount??0)+D.amount,ka=Ue.COMPLETED;await Promise.all([ae.mutateAsync({id:$.id,updates:{currentBalance:($.currentBalance??0)+mt}}),H.mutateAsync({id:ue.id,updates:{paidAmount:fr,status:ka}})]),E(null),t.invalidateQueries({queryKey:["orders"]})}catch($){console.error("Failed to add payment:",$),r.error("Failed to add payment: "+($ instanceof Error?$.message:"Unknown error"))}};return c.jsxs("div",{className:"space-y-6 pb-12",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Sales Orders"}),c.jsx("p",{className:"text-gray-500 font-medium text-sm",children:"Monitor and process your client fulfillment cycle"})]}),c.jsx(qe,{onClick:()=>e("/orders/new"),variant:"primary",size:"md",icon:se.Plus,children:"New Order"})]}),c.jsx(md,{title:"Orders",filterRange:d,setFilterRange:f,customDates:h,setCustomDates:p,statusTab:g,setStatusTab:y,statusOptions:Object.values(Ue)}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-visible",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Order Details"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Customer"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Created By"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Status"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] text-right",children:"Net Amount"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] sm:hidden",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:re?c.jsx(Cp,{columns:6,rows:8}):F.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:"No sales orders found for this period."})}):F.map(ue=>{var Z,he;const $=s||ue.status===Ue.ON_HOLD;return c.jsxs("tr",{onMouseEnter:()=>w(ue.id),onMouseLeave:()=>w(null),onClick:()=>e(`/orders/${ue.id}`),className:"group relative hover:bg-[#ebf4ff]/20 cursor-pointer transition-all",children:[c.jsxs("td",{className:"px-6 py-5",children:[c.jsxs("span",{className:"font-black text-gray-900",children:["#",ue.orderNumber]}),c.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-1 tracking-tight",children:new Date(ue.orderDate).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})})]}),c.jsxs("td",{className:"px-6 py-5",children:[c.jsx("span",{className:"text-sm font-bold text-gray-700",children:((Z=I.find(ie=>ie.id===ue.customerId))==null?void 0:Z.name)||"Unknown"}),c.jsx("p",{className:"text-[10px] text-gray-400 font-medium mt-0.5",children:(he=I.find(ie=>ie.id===ue.customerId))==null?void 0:he.phone})]}),c.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500",children:fe(ue)||""}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${Sp(ue.status)}`,children:ue.status})}),c.jsxs("td",{className:"px-6 py-5 text-right",children:[c.jsx("span",{className:"font-black text-gray-900 text-base",children:ve(ue.total)}),ue.paidAmount>0&&c.jsx("p",{className:"text-[10px] font-black uppercase tracking-tighter mt-1 text-green-500",children:`Paid: ${ve(ue.paidAmount)}`})]}),c.jsx("td",{className:"px-6 py-5 sm:hidden relative z-50",onClick:ie=>ie.stopPropagation(),children:c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>_(S===ue.id?null:ue.id),className:"p-2 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg transition-all",children:se.More}),S===ue.id&&c.jsx("div",{className:"absolute right-0 bottom-full mb-2 w-48 bg-white border border-gray-100 rounded-lg shadow-2xl z-50 py-2",children:l?c.jsxs("button",{onClick:()=>{e(`/orders/edit/${ue.id}`),_(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[se.Edit," Edit"]}):c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{e(`/orders/edit/${ue.id}`),_(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[se.Edit," Edit"]}),c.jsxs("button",{onClick:()=>{pe(ue),_(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[se.Duplicate," Duplicate"]}),ue.status!==Ue.COMPLETED&&c.jsxs("button",{onClick:()=>{Ce(ue),_(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[se.Banking," Payment"]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{mw(ue.id,e),_(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[se.Print," Print"]}),c.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[se.Download," Download"]}),ue.status!==Ue.PICKED&&ue.status!==Ue.COMPLETED&&ue.status!==Ue.CANCELLED&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-t my-1"}),c.jsx("button",{onClick:()=>{C(ue.id),_(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-[#0f2f57]",children:"ST Steadfast"}),c.jsx("button",{onClick:()=>{P(ue.id),_(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-orange-500",children:"CB CarryBee"})]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{we(ue.id),_(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[se.Delete," Delete"]})]})})]})}),b===ue.id&&c.jsx("td",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-10 animate-in fade-in slide-in-from-right-2 duration-200 hidden sm:table-cell",onClick:ie=>ie.stopPropagation(),children:c.jsx("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-[#ebf4ff]",children:l?c.jsx("button",{onClick:()=>e(`/orders/edit/${ue.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:se.Edit}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>e(`/orders/edit/${ue.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:se.Edit}),c.jsx("button",{onClick:()=>pe(ue),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Duplicate",children:se.Duplicate}),ue.status!==Ue.COMPLETED&&c.jsx("button",{onClick:()=>Ce(ue),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Add Payment",children:se.Banking}),c.jsx("button",{onClick:()=>mw(ue.id,e),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Print",children:se.Print}),c.jsx("button",{className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Download PDF",children:se.Download}),ue.status!==Ue.PICKED&&ue.status!==Ue.COMPLETED&&ue.status!==Ue.CANCELLED&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"}),c.jsx("button",{onClick:()=>C(ue.id),className:"px-3 py-1 text-[9px] font-black text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg",title:"Send to Steadfast",children:"ST"}),c.jsx("button",{onClick:()=>P(ue.id),className:"px-3 py-1 text-[9px] font-black text-orange-500 hover:bg-orange-50 rounded-lg",title:"Send to CarryBee",children:"CB"}),c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"})]}),$&&c.jsx("button",{onClick:()=>we(ue.id),className:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:se.Delete})]})})})]},ue.id)})})]})})}),c.jsx(Iw,{isOpen:!!N,onClose:()=>E(null),onSubmit:Ee,accounts:L,paymentForm:D,setPaymentForm:B,isLoading:te.isPending||ae.isPending||H.isPending,title:"Receive Payment",buttonText:"Add Payment"}),c.jsx(yD,{isOpen:!!A,onClose:()=>C(null),order:A?K.find(ue=>ue.id===A):null,customer:A?I.find(ue=>{var $;return ue.id===(($=K.find(Z=>Z.id===A))==null?void 0:$.customerId)}):null}),c.jsx(vD,{isOpen:!!T,onClose:()=>P(null),order:T?K.find(ue=>ue.id===T):null,customer:T?I.find(ue=>{var $;return ue.id===(($=K.find(Z=>Z.id===T))==null?void 0:$.customerId)}):null})]})},KP=()=>{const{id:e}=En(),t=ht(),r=xe.currentUser,n=(r==null?void 0:r.role)===Qt.ADMIN,a=(r==null?void 0:r.role)===Qt.EMPLOYEE,s=!!e;if(!r)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(qe,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});if(s&&a)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot edit orders. Contact an administrator for assistance."}),c.jsx(qe,{onClick:()=>t("/orders"),variant:"primary",children:"Back to Orders"})]});const{data:l=[]}=$o(),{data:d=[]}=Qd(),{data:f}=Lw(s?e:void 0),{data:h}=Tp(),p=Eg(),g=F1(),y=Dr(),[b,w]=j.useState(""),[S,_]=j.useState(new Date().toISOString().split("T")[0]),[N,E]=j.useState(""),[A,C]=j.useState([]),[T,P]=j.useState(0),[D,B]=j.useState(0),[K,re]=j.useState(""),[I,L]=j.useState(!1),[V,J]=j.useState(""),[G,R]=j.useState(!1),[H,te]=j.useState(""),[ae,ge]=j.useState(!1),[M,F]=j.useState(null);br.useEffect(()=>{if(f){if(!n&&f.status!==Ue.ON_HOLD){y.warning('Employees can only edit orders that are currently "On Hold".'),t("/orders");return}w(f.customerId),_(f.orderDate),E(f.orderNumber),C(f.items),P(f.discount),B(f.shipping),re(f.notes||"")}else!s&&h&&E(`${h.prefix}${h.nextNumber}`)},[f,s,n,h,t,y]);const fe=A.reduce((Z,he)=>Z+he.amount,0),pe=fe-T+D,we=Z=>{const he=d.find(Ke=>Ke.id===Z);if(!he)return;const ie={productId:he.id,productName:he.name,rate:he.salePrice,quantity:1,amount:he.salePrice};C([...A,ie]),L(!1),J("")},Ce=(Z,he)=>{const ie=[...A];ie[Z].quantity=Math.max(1,he),ie[Z].amount=ie[Z].rate*ie[Z].quantity,C(ie)},Ee=Z=>{C(A.filter((he,ie)=>ie!==Z))},ue=async()=>{if(!b||A.length===0||!N){const Z=b?A.length?"Order number is not set. Please wait for it to load.":"Please add at least one product.":"Please select a customer.";F(Z),y.error(Z);return}if(!(r!=null&&r.id)){y.error("User session expired. Please log in again."),F("User session expired. Please log in again.");return}ge(!0),F(null);try{const Z=A.reduce((mt,fr)=>mt+fr.amount,0),he=Z-T+D,ie=new Date,Ke=ie.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),Te=ie.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),st={orderNumber:N,orderDate:S,customerId:b,createdBy:r.id,status:s&&f?f.status:Ue.ON_HOLD,items:A,subtotal:Z,discount:T,shipping:D,total:he,notes:K,paidAmount:s&&f?f.paidAmount:0,history:s&&f?f.history:{created:`${r.name} created this order on ${Ke}, at ${Te}`}};s?(await g.mutateAsync({id:e,updates:st}),y.success("Order updated successfully"),t("/orders")):p.mutateAsync(st).then(mt=>{ge(!1),y.success("Order created successfully"),t(`/orders/${mt.id}`)},mt=>{ge(!1);const fr=mt instanceof Error?mt.message:"Failed to save order";F(fr),y.error(fr)})}catch(Z){console.error("Failed to save order:",Z);const he=Z instanceof Error?Z.message:"Failed to save order";F(he),y.error(he),ge(!1)}},$=l.find(Z=>Z.id===b);return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s?"Edit Order":"New Order"}),c.jsx("button",{onClick:()=>t("/orders"),className:"text-gray-500 hover:text-gray-700 font-medium text-sm px-4 py-2 border border-gray-200 rounded-lg bg-white transition-all",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-1 relative md:col-span-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Select Customer"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>R(!G),className:"w-full text-left px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl hover:bg-white focus:ring-2 focus:ring-[#3c5a82] transition-all flex justify-between items-center group",children:[$?c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("span",{className:"font-bold block text-sm text-gray-900",children:$.name}),c.jsx("p",{className:"text-[10px] text-gray-500 leading-none mt-0.5",children:$.phone}),c.jsx("p",{className:"text-[10px] ${theme.colors.primary[600]} italic truncate mt-1",children:$.address})]}):c.jsx("span",{className:"text-gray-400 text-sm",children:"Select Customer..."}),c.jsx("div",{className:`transition-transform duration-200 ${G?"rotate-90":""}`,children:se.ChevronRight})]}),G&&c.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full max-w-xs bg-white border border-gray-200 shadow-2xl rounded-lg z-[110] p-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:se.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search name or phone...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:H,onChange:Z=>te(Z.target.value)})]}),c.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-0.5 custom-scrollbar",children:l.filter(Z=>Z.name.toLowerCase().includes(H.toLowerCase())||Z.phone.includes(H)).map(Z=>c.jsxs("button",{onClick:()=>{w(Z.id),R(!1),te("")},className:"w-full px-4 py-2.5 text-left hover:bg-[#ebf4ff] rounded-lg group transition-colors",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.primary[700]}",children:Z.name}),c.jsx("p",{className:"text-[10px] text-gray-400 group-hover:${theme.colors.primary[600]}/60",children:Z.phone})]},Z.id))}),c.jsx("button",{onClick:()=>{R(!1),t("/customers/new")},className:"w-full mt-2 py-3 ${theme.colors.primary[600]} text-[10px] font-black uppercase tracking-widest border-t border-gray-50 hover:bg-[#ebf4ff] transition-colors",children:"+ Add New Customer"})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Date"}),c.jsx("input",{type:"date",value:S,onChange:Z=>_(Z.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] focus:bg-white transition-all cursor-pointer font-bold text-sm"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Number"}),c.jsx("input",{type:"text",readOnly:!0,value:N,placeholder:h?"Order number":"Loading...",className:"w-full px-4 py-3 bg-gray-100 border border-gray-100 rounded-xl font-mono ${theme.colors.primary[700]} text-sm font-bold"})]})]}),c.jsx("div",{className:"border border-gray-100 rounded-lg overflow-visible bg-white",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Product Item"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Rate"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Qty"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),c.jsx("th",{className:"px-4 py-4"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-50",children:[A.map((Z,he)=>{var ie,Ke;return c.jsxs("tr",{className:"group hover:bg-gray-50/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[((ie=d.find(Te=>Te.id===Z.productId))==null?void 0:ie.image)&&c.jsx("img",{src:(Ke=d.find(Te=>Te.id===Z.productId))==null?void 0:Ke.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-800 text-sm",children:Z.productName})]})}),c.jsx("td",{className:"px-4 py-4 text-center text-sm font-bold text-gray-600",children:ve(Z.rate)}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsx("input",{type:"number",value:Z.quantity,onChange:Te=>Ce(he,parseInt(Te.target.value)),className:"w-16 text-center py-2 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold outline-none"})}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 text-sm",children:ve(Z.amount)}),c.jsx("td",{className:"px-4 py-4 text-right",children:c.jsx("button",{onClick:()=>Ee(he),className:"p-2 text-red-200 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:se.Delete})})]},he)}),c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-5 relative",children:c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>L(!I),className:"flex items-center gap-2 ${theme.colors.primary[600]} font-black text-[10px] uppercase tracking-widest hover:bg-[#ebf4ff] px-4 py-2.5 rounded-xl border-2 border-dashed border-[#c7dff5] transition-all",children:[se.Plus," Add an item"]}),I&&c.jsxs("div",{className:"absolute top-full left-0 mt-3 w-full max-w-md bg-white border border-gray-200 shadow-2xl rounded-lg z-[100] p-2 overflow-hidden animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:se.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search catalog...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:V,onChange:Z=>J(Z.target.value)})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto space-y-0.5 custom-scrollbar",children:d.filter(Z=>Z.name.toLowerCase().includes(V.toLowerCase())).map(Z=>c.jsxs("button",{onClick:()=>we(Z.id),className:"flex items-center gap-4 w-full px-4 py-3 text-left hover:bg-[#ebf4ff] rounded-xl group transition-all",children:[Z.image&&c.jsx("img",{src:Z.image,className:"w-10 h-10 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.primary[700]} truncate",children:Z.name}),c.jsx("p",{className:"text-[10px] font-bold ${theme.colors.primary[600]}/60 uppercase tracking-widest",children:ve(Z.salePrice)})]})]},Z.id))})]})]})})})]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-12 pt-6",children:[c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Notes / Terms"}),c.jsx("textarea",{placeholder:"Internal notes or special instructions for this order...",value:K,onChange:Z=>re(Z.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-100 rounded-lg h-32 focus:ring-2 focus:ring-[#3c5a82] focus:bg-white outline-none font-medium text-sm transition-all"})]}),c.jsxs("div",{className:"w-full md:w-96 space-y-4 bg-gray-50/50 p-8 rounded-[2rem] border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Subtotal"}),c.jsx("span",{className:"text-gray-900 font-black",children:ve(fe)})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Discount"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-gray-300 font-black",children:""}),c.jsx("input",{type:"number",value:T,onChange:Z=>P(parseFloat(Z.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Shipping"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-gray-300 font-black",children:""}),c.jsx("input",{type:"number",value:D,onChange:Z=>B(parseFloat(Z.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]})]}),c.jsxs("div",{className:"pt-6 border-t-4 border-[#c7dff5] flex justify-between items-center",children:[c.jsx("span",{className:"text-lg font-black text-gray-900 uppercase tracking-tighter",children:"Grand Total"}),c.jsx("span",{className:"text-3xl font-black ${theme.colors.primary[600]}",children:ve(pe)})]}),M&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:M})}),c.jsx(qe,{onClick:ue,variant:"primary",size:"lg",className:"w-full mt-4",disabled:ae,loading:ae,children:s?"Update Order":"Create Order"})]})]})]})]})},poe=()=>{const{id:e}=En(),t=ht(),r=Le(),n=Dr(),a=xe.currentUser;a.role,Qt.ADMIN;const{data:s,isPending:l,error:d}=Lw(e||""),{data:f=[]}=$o(),{data:h=[]}=As(),{data:p=[]}=Qd(),{data:g=[]}=Es(),{data:y}=Pp(),{data:b}=Dp(),w=F1(),S=Eg(),_=pf(),N=mf(),[E,A]=j.useState(!1),[C,T]=j.useState(!1),[P,D]=j.useState(!1),[B,K]=j.useState({date:new Date().toISOString().split("T")[0],accountId:xe.settings.defaults.accountId||"",amount:0}),[re,I]=j.useState(!1),L=s?f.find(M=>M.id===s.customerId):void 0,V=s?h.find(M=>M.id===s.createdBy):void 0,J=l;if(J)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading order..."});if(d||!s)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(d==null?void 0:d.message)||"Order not found."});const G=async(M,F,fe)=>{if(s)try{const pe={...s,status:M,history:F?{...s.history,[F]:fe}:s.history};await w.mutateAsync({id:e,updates:pe}),r.invalidateQueries({queryKey:["order",e]}),I(!1)}catch(pe){console.error("Failed to update order status:",pe),n.error("Failed to update order status")}},R=async()=>{const M=`Marked as processing by ${a.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await G(Ue.PROCESSING,"processing",M)},H=async()=>{const M=`Marked as picked by courier, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await G(Ue.PICKED,"picked",M)},te=async()=>{let M=g.find(Ee=>Ee.id===B.accountId);if(!M){if(!B.accountId){n.error("Please select an account");return}M={id:B.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const F=s.paidAmount+B.amount;new Date(B.date);const fe=`Payment of ${ve(B.amount)} received by ${a.name} on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`,pe=B.amount<s.total,we=Ue.COMPLETED,Ce={...s,paidAmount:F,status:we,history:{...s.history,payment:fe}};try{const Ee={id:Math.random().toString(36).substr(2,9),date:B.date,type:"Income",category:xe.settings.defaults.incomeCategoryId||"income_sales",accountId:B.accountId,amount:s.total,description:`Payment for Order #${s.orderNumber}`,referenceId:s.id,contactId:s.customerId,paymentMethod:xe.settings.defaults.paymentMethod||"Cash",createdBy:a.id};if(await _.mutateAsync(Ee),pe){const Z=s.total-B.amount,he={id:Math.random().toString(36).substr(2,9),date:B.date,type:"Expense",category:"expense_shipping",accountId:B.accountId,amount:Z,description:`Shipping costs for Order #${s.orderNumber}`,paymentMethod:xe.settings.defaults.paymentMethod||"Cash",createdBy:a.id};await _.mutateAsync(he)}const ue=B.amount,$=await Promise.allSettled([w.mutateAsync({id:e,updates:Ce}),N.mutateAsync({id:B.accountId,updates:{currentBalance:M.currentBalance+ue}})]);if($[0].status==="rejected"||$[1].status==="rejected"){const Z=$[0].status==="rejected"?"failed":"succeeded",he=$[1].status==="rejected"?"failed":"succeeded";throw new Error(`Payment update failed: Order update ${Z}, Account update ${he}`)}r.invalidateQueries({queryKey:["order",e]}),r.invalidateQueries({queryKey:["orders"]}),A(!1),n.success("Payment recorded successfully")}catch(Ee){console.error("Failed to record payment:",Ee),n.error("Failed to record payment")}},ae=()=>{K({date:new Date().toISOString().split("T")[0],accountId:"",amount:s.total-s.paidAmount}),A(!0)},ge=async()=>{if(s)try{const M={orderNumber:xe.settings.order.prefix+xe.settings.order.nextNumber,orderDate:s.orderDate,customerId:s.customerId,createdBy:a.id,status:s.status,items:s.items,subtotal:s.subtotal,discount:s.discount,shipping:s.shipping,total:s.total,notes:s.notes,paidAmount:0,history:{created:`${a.name} created this order as duplicate on ${new Date().toLocaleDateString("en-BD")}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`}};await S.mutateAsync(M),t("/orders")}catch(M){n.error("Failed to duplicate order: "+(M instanceof Error?M.message:"Unknown error"))}};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsx(Fd,{isLoading:J&&!s,message:"Loading order details..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/orders"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500 transition-all",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Order Details"}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${Sp(s.status)}`,children:s.status})]}),c.jsxs("div",{className:"flex items-center gap-2 relative",children:[c.jsxs("button",{onClick:()=>mw(e,t),className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg bg-white hover:bg-gray-50 transition-all shadow-sm",children:[se.Print," Print"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>I(!re),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg ${oe.colors.primary[600]} text-white hover:${oe.colors.primary[700]} transition-all shadow-md`,children:[se.More," Actions"]}),re&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>I(!1)}),c.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-100 rounded-xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in duration-150 origin-top-right",children:[c.jsxs("button",{onClick:()=>t(`/orders/edit/${s.id}`),className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[se.Edit," Edit Order"]}),c.jsxs("button",{onClick:ge,className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[se.Duplicate," Duplicate Order"]}),s.status!==Ue.COMPLETED&&c.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",onClick:ae,children:[se.Banking," Add Payment"]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>G(Ue.CANCELLED),disabled:s.status===Ue.COMPLETED,className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 disabled:hover:bg-gray-50 flex items-center gap-2 text-red-500 font-bold disabled:text-gray-300 disabled:cursor-not-allowed",children:[se.Delete," Cancel Order"]})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden",children:c.jsxs("div",{className:"p-10 space-y-5",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[((y==null?void 0:y.logo)||xe.settings.company.logo)&&c.jsx("img",{src:(y==null?void 0:y.logo)||xe.settings.company.logo,className:"rounded-lg object-cover mb-4",style:{width:(b==null?void 0:b.logoWidth)||xe.settings.invoice.logoWidth,height:(b==null?void 0:b.logoHeight)||xe.settings.invoice.logoHeight}}),c.jsx("h1",{className:"text-xl font-black ${theme.colors.primary[600]} uppercase tracking-tighter",children:(y==null?void 0:y.name)||xe.settings.company.name}),c.jsxs("div",{className:"mt-2 text-xs text-gray-400 font-medium space-y-1",children:[c.jsx("p",{children:(y==null?void 0:y.address)||xe.settings.company.address}),c.jsxs("p",{children:[(y==null?void 0:y.phone)||xe.settings.company.phone,"  ",(y==null?void 0:y.email)||xe.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-300 uppercase leading-none mb-2",children:(b==null?void 0:b.title)||xe.settings.invoice.title}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Order No:"})," ",s.orderNumber]}),c.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Date:"})," ",s.orderDate]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-12 border-t border-gray-100 py-4",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Billed To"}),c.jsx("h3",{className:"text-md font-black text-gray-900",children:L==null?void 0:L.name}),c.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:L==null?void 0:L.address}),c.jsx("p",{className:"text-sm font-bold ${theme.colors.primary[600]} mt-2",children:L==null?void 0:L.phone})]})}),c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100",children:[c.jsx("th",{className:"py-4 text-sm font-black text-gray-400 uppercase",children:"Item Description"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase",children:"Rate"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase",children:"Qty"}),c.jsx("th",{className:"py-4 text-sm text-right font-black text-gray-400 uppercase",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:s.items.map((M,F)=>{const fe=p.find(pe=>pe.id===M.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:fe==null?void 0:fe.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-900",children:M.productName})]})}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold",children:ve(M.rate)}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold",children:M.quantity}),c.jsx("td",{className:"py-6 text-right font-black text-gray-900",children:ve(M.amount)})]},F)})})]}),c.jsx("div",{className:"flex justify-end pt-6",children:c.jsxs("div",{className:"w-full max-w-xs space-y-4",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900",children:ve(s.subtotal)})]}),s.discount>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500",children:["-",ve(s.discount)]})]}),s.shipping>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900",children:ve(s.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-6 border-t-2 border-[#0f2f57]",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter",children:"Net Total"}),c.jsx("span",{className:"font-black",children:ve(s.total)})]})]})}),s.notes&&c.jsxs("div",{className:"bg-gray-50 p-4 rounded-[10px] border border-gray-100",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase tracking-widest mb-2",children:"Terms & Notes"}),c.jsx("p",{className:"text-xs text-gray-600 font-medium italic leading-relaxed",children:s.notes})]})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"1. Creation"}),c.jsx("div",{className:"p-1 bg-[#ebf4ff]0 text-white rounded-full",children:se.Plus})]}),c.jsx("div",{className:"p-5",children:c.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:s.history.created||`Created by ${(V==null?void 0:V.name)||"Unknown"} on ${s.orderDate}`})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"2. Processing"}),c.jsx("div",{className:`p-1 rounded-full ${s.history.processing?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:se.ChevronRight})]}),c.jsxs("div",{className:"p-5 space-y-4",children:[s.history.processing?c.jsx("p",{className:"text-xs ${theme.colors.primary[600]} leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:s.history.processing}):c.jsx("button",{disabled:s.status!==Ue.ON_HOLD,onClick:R,className:`w-full py-3 ${oe.colors.secondary[600]} hover:${oe.colors.secondary[700]} disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Mark as Processing"}),s.status!==Ue.PICKED&&s.status!==Ue.COMPLETED&&s.status!==Ue.CANCELLED&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>T(!0),className:"w-full py-3 bg-[#0f2f57] hover:bg-[#0a1f38] text-white font-bold rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:[se.Courier," Send to Steadfast"]}),c.jsxs("button",{onClick:()=>D(!0),className:"w-full py-3 bg-orange-500 hover:bg-orange-600 text-white font-bold rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:[se.Courier," Send to CarryBee"]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"3. Courier Picked"}),c.jsx("div",{className:`p-1 rounded-full ${s.history.picked?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:se.Courier})]}),c.jsx("div",{className:"p-5",children:s.history.picked?c.jsx("p",{className:"text-xs text-purple-600 leading-relaxed font-bold bg-purple-50 p-3 rounded-xl",children:s.history.picked}):c.jsx("button",{disabled:s.status!==Ue.PROCESSING,onClick:H,className:"w-full py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95",children:"Mark as Picked"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"4. Payment"}),c.jsx("div",{className:`p-1 rounded-full ${s.paidAmount>=s.total?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:se.Banking})]}),c.jsx("div",{className:"p-5 space-y-3",children:s.history.payment?c.jsx("div",{className:"space-y-2",children:c.jsx("p",{className:"text-xs ${theme.colors.primary[600]} leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:s.history.payment})}):c.jsxs("div",{className:"space-y-4 text-center",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Amount Due"}),c.jsx("p",{className:"text-2xl font-black text-gray-900",children:ve(s.total-s.paidAmount)})]}),c.jsx("button",{onClick:ae,className:`w-full py-3 ${oe.colors.primary[600]} hover:${oe.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Add Payment"})]})})]})]})]}),c.jsx(Iw,{isOpen:E,onClose:()=>A(!1),onSubmit:te,accounts:g,paymentForm:B,setPaymentForm:K,isLoading:w.isPending||_.isPending||N.isPending,title:"Record Payment",buttonText:"Add Payment"}),c.jsx(yD,{isOpen:C,onClose:()=>T(!1),order:s,customer:L}),c.jsx(vD,{isOpen:P,onClose:()=>D(!1),order:s,customer:L})]})},goe=()=>{const e=ht(),t=Le(),r=Dr(),{searchQuery:n}=Os(),a=xe.currentUser,{data:s=[],isPending:l}=Ec(),{data:d=[]}=Cc(),{data:f=[]}=As(),[h,p]=j.useState("All Time"),[g,y]=j.useState({from:"",to:""}),[b,w]=j.useState("All"),[S,_]=j.useState(null),[N,E]=j.useState(null),A=j5(),C=Gse(),T=j.useMemo(()=>new Map(f.map(I=>[I.id,I])),[f]),P=I=>{if(h==="All Time")return!0;const L=new Date(I),V=new Date;if(h==="Today")return L.toDateString()===V.toDateString();if(h==="This Week"){const J=V.getDate()-V.getDay(),G=new Date(new Date().setDate(J)),R=new Date(new Date().setDate(J+6));return L>=G&&L<=R}return h==="This Month"?L.getMonth()===V.getMonth()&&L.getFullYear()===V.getFullYear():h==="This Year"?L.getFullYear()===V.getFullYear():h==="Custom"?!g.from||!g.to?!0:L>=new Date(g.from)&&L<=new Date(g.to):!0},D=j.useMemo(()=>{let I=s.filter(L=>P(L.billDate)).filter(L=>b==="All"||L.status===b);if(n.trim()){const L=n.toLowerCase();I=I.filter(V=>{const J=d.find(G=>G.id===V.vendorId);return V.billNumber.toLowerCase().includes(L)||(J==null?void 0:J.name.toLowerCase().includes(L))||V.status.toLowerCase().includes(L)})}return I},[s,h,g,b,n,d]),B=I=>{var L,V;if((L=I.createdBy)!=null&&L.trim()){const J=T.get(I.createdBy);if(J!=null&&J.name)return J.name}if((V=I.history)!=null&&V.created){const J=I.history.created.match(/Created by\s+(.+?)\s+on/);if(J&&J[1])return J[1]}return null},K=async I=>{try{const L=new Date,V=L.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),J=L.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),G={billNumber:`PUR-${Math.floor(1e3+Math.random()*9e3)}`,billDate:new Date().toISOString().split("T")[0],vendorId:I.vendorId,createdBy:(a==null?void 0:a.id)||I.createdBy,status:nn.ON_HOLD,items:I.items,subtotal:I.subtotal,discount:I.discount,shipping:I.shipping,total:I.total,paidAmount:0,notes:I.notes,history:{created:`Created as duplicate on ${V}, at ${J}`}};await A.mutateAsync(G),t.invalidateQueries({queryKey:["bills"]})}catch(L){console.error("Failed to duplicate bill:",L),r.error("Failed to duplicate bill")}},re=async I=>{if(confirm("Are you sure you want to delete this bill?"))try{await C.mutateAsync(I),t.invalidateQueries({queryKey:["bills"]})}catch(L){console.error("Failed to delete bill:",L),r.error("Failed to delete bill")}};return c.jsxs("div",{className:"space-y-6 pb-12",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Purchase Bills"}),c.jsx("p",{className:"text-gray-500 font-medium text-sm",children:"Manage vendor procurement and supply chain payables"})]}),c.jsx(qe,{onClick:()=>e("/bills/new"),variant:"primary",size:"md",icon:se.Plus,children:"New Bill"})]}),c.jsx(md,{title:"Bills",filterRange:h,setFilterRange:p,customDates:g,setCustomDates:y,statusTab:b,setStatusTab:w,statusOptions:Object.values(nn)}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-visible",children:c.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Bill Details"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Vendor"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Created By"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Status"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] text-right",children:"Net Amount"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] sm:hidden",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:l?c.jsx(Cp,{columns:6,rows:8}):D.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:"No purchase bills found for this period."})}):D.map(I=>{var L;return c.jsxs("tr",{onMouseEnter:()=>_(I.id),onMouseLeave:()=>_(null),onClick:()=>e(`/bills/${I.id}`),className:"group relative hover:bg-[#ebf4ff]/20 cursor-pointer transition-all",children:[c.jsxs("td",{className:"px-6 py-5",children:[c.jsxs("span",{className:"font-black text-gray-900",children:["#",I.billNumber]}),c.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-1 tracking-tight",children:I.billDate})]}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:"text-sm font-bold text-gray-700",children:((L=d.find(V=>V.id===I.vendorId))==null?void 0:L.name)||"Unknown Vendor"})}),c.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500",children:B(I)||""}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${Sp(I.status)}`,children:I.status})}),c.jsx("td",{className:"px-6 py-5 text-right",children:c.jsx("span",{className:"font-black text-gray-900 text-base",children:ve(I.total)})}),c.jsx("td",{className:"px-6 py-5 sm:hidden relative",onClick:V=>V.stopPropagation(),children:c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>E(N===I.id?null:I.id),className:"p-2 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg transition-all",children:se.More}),N===I.id&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-100 rounded-lg shadow-lg z-50 py-2",children:[c.jsxs("button",{onClick:()=>{e(`/bills/edit/${I.id}`),E(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[se.Edit," Edit"]}),c.jsxs("button",{onClick:()=>{K(I),E(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[se.Duplicate," Duplicate"]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{re(I.id),E(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[se.Delete," Delete"]})]})]})}),S===I.id&&c.jsx("td",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-10 animate-in fade-in slide-in-from-right-2 duration-200 hidden sm:table-cell",onClick:V=>V.stopPropagation(),children:c.jsxs("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-[#ebf4ff]",children:[c.jsx("button",{onClick:()=>e(`/bills/edit/${I.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:se.Edit}),c.jsx("button",{onClick:()=>K(I),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Duplicate",children:se.Duplicate}),c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"}),c.jsx("button",{onClick:()=>re(I.id),className:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:se.Delete})]})})]},I.id)})})]})})})]})},FP=()=>{const{id:e}=En(),t=ht(),r=xe.currentUser,n=!!e;if(!r)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(qe,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});const{data:a=[]}=Cc(),{data:s=[]}=Qd(),{data:l,isPending:d,error:f}=fD(e),h=j5(),p=S5(),g=Dr(),[y,b]=j.useState(""),[w,S]=j.useState(new Date().toISOString().split("T")[0]),[_,N]=j.useState(""),[E,A]=j.useState([]),[C,T]=j.useState(0),[P,D]=j.useState(0),[B,K]=j.useState(""),[re,I]=j.useState(!1),[L,V]=j.useState(""),[J,G]=j.useState(!1),[R,H]=j.useState(""),[te,ae]=j.useState(!1),[ge,M]=j.useState(null);br.useEffect(()=>{l?(b(l.vendorId),S(l.billDate),N(l.billNumber),A(l.items),T(l.discount),D(l.shipping),K(l.notes||"")):n||N(`PUR-${Math.floor(1e3+Math.random()*9e3)}`)},[l,n]);const F=E.reduce(($,Z)=>$+Z.amount,0),fe=F-C+P,pe=$=>{const Z=s.find(ie=>ie.id===$);if(!Z)return;const he={productId:Z.id,productName:Z.name,rate:Z.purchasePrice,quantity:1,amount:Z.purchasePrice};A([...E,he]),I(!1),V("")},we=($,Z)=>{const he=[...E];he[$].quantity=Math.max(1,Z),he[$].amount=he[$].rate*he[$].quantity,A(he)},Ce=$=>{A(E.filter((Z,he)=>he!==$))},Ee=async()=>{if(!y||E.length===0){M("Please select a vendor and add at least one product.");return}if(!(r!=null&&r.id)){M("User session expired. Please log in again.");return}ae(!0),M(null);try{const $=E.reduce((Te,st)=>Te+st.amount,0),Z=$-C+P,he=new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),ie=new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),Ke={billNumber:_,billDate:w,vendorId:y,createdBy:r.id,status:n&&l?l.status:nn.ON_HOLD,items:E,subtotal:$,discount:C,shipping:P,total:Z,notes:B,paidAmount:n&&l?l.paidAmount:0,history:n&&l?l.history:{created:`Created by ${r.name} on ${he}, at ${ie}`}};n?(await p.mutateAsync({id:e,updates:Ke}),g.success("Bill updated successfully"),ae(!1),t("/bills")):h.mutateAsync(Ke).then(Te=>{ae(!1),g.success("Bill created successfully"),t(`/bills/${Te.id}`)},Te=>{ae(!1);const st=Te instanceof Error?Te.message:"Failed to save bill";M(st),g.error(st)})}catch($){console.error("Failed to save bill:",$);const Z=$ instanceof Error?$.message:"Failed to save bill";M(Z),g.error(Z),ae(!1)}},ue=a.find($=>$.id===y);return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Bill":"New Purchase Bill"}),c.jsx("button",{onClick:()=>t("/bills"),className:"text-gray-500 hover:text-gray-700 font-medium text-sm px-4 py-2 border border-gray-200 rounded-lg bg-white transition-all",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-1 relative md:col-span-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Select Vendor"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>G(!J),className:"w-full text-left px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl hover:bg-white focus:ring-2 focus:ring-[#3c5a82] transition-all flex justify-between items-center group",children:[ue?c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("span",{className:"font-bold block text-sm text-gray-900",children:ue.name}),c.jsx("p",{className:"text-[10px] text-gray-500 leading-none mt-0.5",children:ue.phone}),c.jsx("p",{className:"text-[10px] ${theme.colors.secondary[600]} italic truncate mt-1",children:ue.address})]}):c.jsx("span",{className:"text-gray-400 text-sm",children:"Select Vendor..."}),c.jsx("div",{className:`transition-transform duration-200 ${J?"rotate-90":""}`,children:se.ChevronRight})]}),J&&c.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full max-w-xs bg-white border border-gray-200 shadow-2xl rounded-lg z-[110] p-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:se.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search business...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:R,onChange:$=>H($.target.value)})]}),c.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-0.5 custom-scrollbar",children:a.filter($=>$.name.toLowerCase().includes(R.toLowerCase())||$.phone.includes(R)).map($=>c.jsxs("button",{onClick:()=>{b($.id),G(!1),H("")},className:"w-full px-4 py-2.5 text-left hover:bg-[#e6f0ff] rounded-lg group transition-colors",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.secondary[700]}",children:$.name}),c.jsx("p",{className:"text-[10px] text-gray-400 group-hover:${theme.colors.secondary[600]}/60",children:$.phone})]},$.id))}),c.jsx(qe,{onClick:()=>{G(!1),t("/vendors/new")},variant:"secondary",size:"sm",className:"w-full mt-2 text-[10px]",icon:se.Plus,children:"Add New Vendor"})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bill Date"}),c.jsx("input",{type:"date",value:w,onChange:$=>S($.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] focus:bg-white transition-all cursor-pointer font-bold text-sm"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bill Number"}),c.jsx("input",{type:"text",value:_,onChange:$=>N($.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl font-mono ${theme.colors.secondary[700]} text-sm font-bold"})]})]}),c.jsx("div",{className:"border border-gray-100 rounded-lg overflow-visible bg-white",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Product Item"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Cost Rate"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Qty"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),c.jsx("th",{className:"px-4 py-4"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-50",children:[E.map(($,Z)=>{var he,ie;return c.jsxs("tr",{className:"group hover:bg-gray-50/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[((he=s.find(Ke=>Ke.id===$.productId))==null?void 0:he.image)&&c.jsx("img",{src:(ie=s.find(Ke=>Ke.id===$.productId))==null?void 0:ie.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-800 text-sm",children:$.productName})]})}),c.jsx("td",{className:"px-4 py-4 text-center text-sm font-bold text-gray-600",children:ve($.rate)}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsx("input",{type:"number",value:$.quantity,onChange:Ke=>we(Z,parseInt(Ke.target.value)),className:"w-16 text-center py-2 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold outline-none"})}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 text-sm",children:ve($.amount)}),c.jsx("td",{className:"px-4 py-4 text-right",children:c.jsx("button",{onClick:()=>Ce(Z),className:"p-2 text-red-200 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:se.Delete})})]},Z)}),c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-5 relative",children:c.jsxs("div",{className:"relative",children:[c.jsx(qe,{onClick:()=>I(!re),variant:"secondary",size:"sm",icon:se.Plus,className:"border-2 border-dashed border-[#c7e0f5]",children:"Add an item"}),re&&c.jsxs("div",{className:"absolute top-full left-0 mt-3 w-full max-w-md bg-white border border-gray-200 shadow-2xl rounded-lg z-[100] p-2 overflow-hidden animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:se.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search product...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:L,onChange:$=>V($.target.value)})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto space-y-0.5 custom-scrollbar",children:s.filter($=>$.name.toLowerCase().includes(L.toLowerCase())).map($=>c.jsxs("button",{onClick:()=>pe($.id),className:"flex items-center gap-4 w-full px-4 py-3 text-left hover:bg-[#e6f0ff] rounded-xl group transition-all",children:[$.image&&c.jsx("img",{src:$.image,className:"w-10 h-10 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.secondary[700]} truncate",children:$.name}),c.jsxs("p",{className:"text-[10px] font-bold ${theme.colors.secondary[600]}/60 uppercase tracking-widest",children:["Cost: ",ve($.purchasePrice)]})]})]},$.id))})]})]})})})]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-12 pt-6",children:[c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Purchase Memo"}),c.jsx("textarea",{placeholder:"Bill details, vendor instructions, or delivery notes...",value:B,onChange:$=>K($.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-100 rounded-lg h-32 focus:ring-2 focus:ring-[#3c5a82] focus:bg-white outline-none font-medium text-sm transition-all"})]}),c.jsxs("div",{className:"w-full md:w-96 space-y-4 bg-gray-50/50 p-8 rounded-[2rem] border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Subtotal"}),c.jsx("span",{className:"text-gray-900 font-black",children:ve(F)})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Discount"}),c.jsx("input",{type:"number",value:C,onChange:$=>T(parseFloat($.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Shipping"}),c.jsx("input",{type:"number",value:P,onChange:$=>D(parseFloat($.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]}),c.jsxs("div",{className:"pt-6 border-t-4 border-[#c7e0f5] flex justify-between items-center",children:[c.jsx("span",{className:"text-lg font-bold text-gray-900 uppercase tracking-tighter",children:"Total Bill"}),c.jsx("span",{className:"text-3xl font-black",children:ve(fe)})]}),c.jsx(qe,{onClick:Ee,variant:"primary",size:"lg",className:"w-full mt-4",loading:te,disabled:te,children:"Save Purchase Bill"})]})]})]})]})},yoe=()=>{var G,R,H,te;const{id:e}=En(),t=ht(),r=Le(),n=xe.currentUser,{data:a,isPending:s,error:l}=fD(e||""),{data:d=[]}=Cc(),{data:f=[]}=As(),{data:h=[]}=Es(),{data:p}=Pp(),{data:g}=Dp(),y=S5(),b=pf(),w=mf(),S=Dr(),_=y.isPending||b.isPending||w.isPending,N=a?d.find(ae=>ae.id===a.vendorId):void 0,E=a?f.find(ae=>ae.id===a.createdBy):void 0,A=s,[C,T]=j.useState(!1),[P,D]=j.useState(!1),[B,K]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:xe.settings.defaults.accountId||"",amount:0});if(A)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading bill..."});if(l||!a)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(l==null?void 0:l.message)||"Bill not found."});const re=async(ae,ge,M)=>{if(a)try{const F={...a,status:ae,history:ge?{...a.history,[ge]:M}:a.history};await y.mutateAsync({id:e,updates:F}),r.invalidateQueries({queryKey:["bill",e]}),r.invalidateQueries({queryKey:["bills"]}),T(!1)}catch(F){console.error("Failed to update bill status:",F),S.error("Failed to update bill status")}},I=async()=>{const ae=`Marked as processing by ${n.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await re(nn.PROCESSING,"processing",ae)},L=async()=>{const ae=`Marked as received by ${n.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await re(nn.RECEIVED,"received",ae)},V=async()=>{if(a)try{let ae=h.find(he=>he.id===B.accountId);if(!ae){if(!B.accountId){S.error("Please select an account");return}ae={id:B.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const ge=a.paidAmount+B.amount,M=`Payment of ${ve(B.amount)} received by ${n.name} on ${new Date(B.date).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`,fe=ge>=a.total?nn.PAID:a.status,[pe,we]=B.time.split(":").map(Number),Ce=new Date(B.date);Ce.setHours(pe,we,0,0);const Ee=Ce.toISOString(),ue={...a,paidAmount:ge,status:fe,history:{...a.history,paid:M},paidAt:B.date};try{const he={id:Math.random().toString(36).substr(2,9),date:Ee,type:"Expense",category:xe.settings.defaults.expenseCategoryId||"expense_purchases",accountId:B.accountId,amount:B.amount,description:`Payment for Bill #${a.billNumber}`,referenceId:a.id,contactId:a.vendorId,paymentMethod:xe.settings.defaults.paymentMethod||"Cash",createdBy:n.id};await b.mutateAsync(he)}catch(he){console.error("Failed to create transaction:",he)}const $=B.amount,Z=await Promise.allSettled([y.mutateAsync({id:e,updates:ue}),w.mutateAsync({id:B.accountId,updates:{currentBalance:ae.currentBalance-$}})]);if(Z[0].status==="rejected"||Z[1].status==="rejected"){const he=Z[0].status==="rejected"?"failed":"succeeded",ie=Z[1].status==="rejected"?"failed":"succeeded";throw new Error(`Payment update failed: Bill update ${he}, Account update ${ie}`)}r.invalidateQueries({queryKey:["bill",e]}),r.invalidateQueries({queryKey:["bills"]}),D(!1),S.success("Payment recorded successfully")}catch(ae){console.error("Failed to record payment:",ae),S.error("Failed to record payment")}},J=()=>{a&&(K({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:a.total-a.paidAmount}),D(!0))};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsx(Fd,{isLoading:A&&!a,message:"Loading bill details..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/bills"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500 transition-all",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Purchase Bill #",a.billNumber]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${Sp(a.status)}`,children:a.status})]}),c.jsxs("div",{className:"flex items-center gap-2 relative",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg bg-white hover:bg-gray-50 transition-all",children:[se.Print," Print Bill"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>T(!C),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg ${oe.colors.primary[600]} text-white hover:${oe.colors.primary[700]} transition-all shadow-md`,children:[se.More," Actions"]}),C&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>T(!1)}),c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border rounded-xl shadow-xl z-50 py-2",children:[c.jsx("button",{onClick:()=>{I(),T(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Mark Processing"}),c.jsx("button",{onClick:()=>{L(),T(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Mark Received"}),c.jsx("div",{className:"border-t my-1"}),c.jsx("button",{onClick:()=>{J(),T(!1)},disabled:a.paidAmount>=a.total,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 text-red-600 font-bold disabled:text-gray-300 disabled:cursor-not-allowed",children:"Record Payment"}),c.jsx("button",{onClick:()=>t(`/bills/edit/${a.id}`),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Edit Bill"})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:c.jsxs("div",{className:"p-8 space-y-8",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[((p==null?void 0:p.logo)||xe.settings.company.logo)&&c.jsx("img",{src:(p==null?void 0:p.logo)||xe.settings.company.logo,className:"rounded-xl object-cover mb-4 border",style:{width:(g==null?void 0:g.logoWidth)||xe.settings.invoice.logoWidth,height:(g==null?void 0:g.logoHeight)||xe.settings.invoice.logoHeight}}),c.jsx("h1",{className:"text-2xl font-extrabold ${theme.colors.secondary[600]} uppercase tracking-tighter",children:"Purchase Bill"}),c.jsx("p",{className:"text-sm text-gray-500",children:(p==null?void 0:p.name)||xe.settings.company.name})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["Bill No: #",a.billNumber]}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Date: ",a.billDate]})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-8 border-t border-gray-100 py-4",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-3",children:"Bill From (Vendor)"}),c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:N==null?void 0:N.name}),c.jsx("p",{className:"text-sm text-gray-600",children:N==null?void 0:N.address}),c.jsx("p",{className:"text-sm text-gray-600",children:N==null?void 0:N.phone})]})}),c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100",children:[c.jsx("th",{className:"py-4 text-xs font-bold text-gray-400 uppercase",children:"Description"}),c.jsx("th",{className:"py-4 text-center text-xs font-bold text-gray-400 uppercase",children:"Cost"}),c.jsx("th",{className:"py-4 text-center text-xs font-bold text-gray-400 uppercase",children:"Qty"}),c.jsx("th",{className:"py-4 text-right text-xs font-bold text-gray-400 uppercase",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:a.items.map((ae,ge)=>c.jsxs("tr",{children:[c.jsx("td",{className:"py-5 font-bold text-gray-800",children:ae.productName}),c.jsx("td",{className:"py-5 text-center text-gray-600 font-medium",children:ve(ae.rate)}),c.jsx("td",{className:"py-5 text-center text-gray-600 font-medium",children:ae.quantity}),c.jsx("td",{className:"py-5 text-right font-black text-gray-900",children:ve(ae.amount)})]},ge))})]}),c.jsx("div",{className:"flex justify-end pt-4",children:c.jsxs("div",{className:"w-full max-w-xs space-y-3",children:[c.jsxs("div",{className:"flex justify-between text-gray-500",children:[c.jsx("span",{className:"text-sm font-medium",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900",children:ve(a.subtotal)})]}),a.discount>0&&c.jsxs("div",{className:"flex justify-between text-gray-500",children:[c.jsx("span",{className:"text-sm font-medium",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500",children:["-",ve(a.discount)]})]}),a.shipping>0&&c.jsxs("div",{className:"flex justify-between text-gray-500",children:[c.jsx("span",{className:"text-sm font-medium",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900",children:ve(a.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-4 border-t-2 border-[#3c5a82]",children:[c.jsx("span",{className:"text-lg font-black text-gray-900 uppercase",children:"Total Payable"}),c.jsx("span",{className:"text-2xl font-black ${theme.colors.secondary[600]}",children:ve(a.total)})]})]})}),((g==null?void 0:g.footer)||xe.settings.invoice.footer)&&c.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:c.jsx("p",{className:"text-xs text-gray-500 whitespace-pre-wrap",children:(g==null?void 0:g.footer)||xe.settings.invoice.footer})})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"1. Creation"}),c.jsx("div",{className:"p-1 bg-[#ebf4ff] text-white rounded-full",children:se.Plus})]}),c.jsx("div",{className:"p-5",children:c.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:E!=null&&E.name?`${a.history.created} `:((G=a.history)==null?void 0:G.created)||"Creation information unavailable"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"2. Processing"}),c.jsx("div",{className:`p-1 rounded-full ${a.status===nn.PROCESSING?"bg-[#ebf4ff] text-white":"bg-gray-200 text-gray-400"}`,children:se.ChevronRight})]}),c.jsx("div",{className:"p-5",children:(R=a.history)!=null&&R.processing?c.jsx("p",{className:"text-xs text-blue-600 leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:a.history.processing}):c.jsx("button",{disabled:a.status===nn.RECEIVED,onClick:I,className:`w-full py-3 ${oe.colors.secondary[600]} hover:${oe.colors.secondary[700]} disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Mark as Processing"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"3. Received"}),c.jsx("div",{className:`p-1 rounded-full ${a.status===nn.RECEIVED?"bg-green-100 text-green-600":"bg-gray-200 text-gray-400"}`,children:se.ChevronRight})]}),c.jsx("div",{className:"p-5",children:(H=a.history)!=null&&H.received?c.jsx("p",{className:"text-xs text-green-600 leading-relaxed font-bold bg-green-50 p-3 rounded-xl",children:a.history.received}):c.jsx("button",{disabled:a.status===nn.ON_HOLD,onClick:L,className:"w-full py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95",children:"Mark as Received"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"4. Payment"}),c.jsx("div",{className:`p-1 rounded-full ${a.paidAmount>0?"bg-[#ebf4ff] text-white":"bg-gray-200 text-gray-400"}`,children:se.Banking})]}),c.jsx("div",{className:"p-5 space-y-3",children:a.paidAmount>0?c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-blue-600 leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:(te=a.history)==null?void 0:te.paid}),a.paidAt&&c.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:["Payment Date: ",new Date(a.paidAt).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})]}),a.paidAmount<a.total&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-100 mt-2",children:[c.jsx("p",{className:"text-[10px] font-black text-yellow-600 uppercase",children:"Remaining Amount"}),c.jsx("p",{className:"text-lg font-black text-yellow-700",children:ve(a.total-a.paidAmount)})]}),c.jsx("button",{onClick:J,className:`w-full py-3 ${oe.colors.primary[600]} hover:${oe.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Add Balance Payment"})]})]}):c.jsxs("div",{className:"space-y-4 text-center",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Amount Due"}),c.jsx("p",{className:"text-2xl font-black text-gray-900",children:ve(a.total-a.paidAmount)})]}),c.jsx("button",{onClick:J,className:`w-full py-3 ${oe.colors.primary[600]} hover:${oe.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Record Payment"})]})})]})]})]}),c.jsx(Iw,{isOpen:P,onClose:()=>D(!1),onSubmit:V,accounts:h,paymentForm:B,setPaymentForm:K,isLoading:_,title:"Record Payment",buttonText:"Add Payment"})]})},voe=()=>{const{data:e=[],isLoading:t}=Es(),{searchQuery:r}=Os(),n=Yse(),a=Wse(),s=Dr(),l=j.useMemo(()=>{if(!r.trim())return e;const _=r.toLowerCase();return e.filter(N=>N.name.toLowerCase().includes(_)||N.type.toLowerCase().includes(_))},[e,r]),[d,f]=j.useState(!1),[h,p]=j.useState(null),[g,y]=j.useState({name:"",type:"Bank",openingBalance:0}),b=async()=>{if(g.name)try{await n.mutateAsync({name:g.name,type:g.type,openingBalance:g.openingBalance,currentBalance:g.openingBalance}),f(!1),y({name:"",type:"Bank",openingBalance:0})}catch(_){console.error("Failed to create account:",_),s.error("Failed to create account. Please try again.")}},w=async _=>{const N=e.find(E=>E.id===_);if(N){if(N.currentBalance!==0){s.warning(`Cannot delete account "${N.name}" because it has a balance of ${N.currentBalance}. Please transfer the balance to another account first.`);return}if(confirm(`Are you sure you want to delete the account "${N.name}"?`))try{await a.mutateAsync(_),p(null)}catch(E){console.error("Failed to delete account:",E),s.error("Failed to delete account. Please try again.")}}},S=l.reduce((_,N)=>_+N.currentBalance,0);return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Fd,{isLoading:t,message:"Loading accounts..."}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Banking & Accounts"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Monitor balances and manage cash flow across all accounts"})]}),c.jsx(qe,{onClick:()=>f(!0),variant:"primary",size:"md",icon:se.Plus,disabled:n.isPending,children:"Add Account"})]}),c.jsxs("div",{className:`${oe.colors.primary[600]} rounded-xl p-8 text-white shadow-xl shadow-[#0f2f57]/20 relative overflow-hidden`,children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"text-[#c7dff5] font-medium text-sm mb-1 uppercase tracking-wider",children:"Total Combined Balance"}),c.jsx("h1",{className:"text-4xl font-black",children:ve(S)}),c.jsxs("div",{className:"mt-8 flex gap-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[#a8c5e8] text-xs font-bold uppercase",children:"Bank Accounts"}),c.jsx("p",{className:"text-xl font-bold",children:e.filter(_=>_.type==="Bank").length})]}),c.jsx("div",{className:"w-px bg-[#0f2f57]/50 h-10"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[#a8c5e8] text-xs font-bold uppercase",children:"Cash Accounts"}),c.jsx("p",{className:"text-xl font-bold",children:e.filter(_=>_.type==="Cash").length})]})]})]}),c.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none",children:c.jsx("div",{className:"w-48 h-48 border-[24px] border-white rounded-full"})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(_=>c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow group relative",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:`p-3 rounded-xl ${_.type==="Bank"?`bg-[#e6f0ff] ${oe.colors.secondary[600]}`:"bg-orange-50 text-orange-600"}`,children:(_.type==="Bank",se.Banking)}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>p(h===_.id?null:_.id),className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-lg transition-all",children:se.More}),h===_.id&&c.jsx("div",{className:"absolute right-0 mt-1 w-40 bg-white border border-gray-100 rounded-lg shadow-lg z-50 py-1",children:c.jsxs("button",{onClick:()=>w(_.id),disabled:_.currentBalance!==0||a.isPending,className:`w-full text-left px-4 py-2.5 text-sm flex items-center gap-2 font-bold ${_.currentBalance!==0||a.isPending?"text-gray-400 cursor-not-allowed":"text-red-600 hover:bg-red-50"}`,title:_.currentBalance!==0?"Account must have zero balance to delete":"Delete account",children:[se.Delete," Delete"]})})]})]}),c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:_.name}),c.jsxs("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-tight mb-4",children:[_.type," Account"]}),c.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-50",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Opening Balance"}),c.jsx("span",{className:"font-semibold text-gray-700",children:ve(_.openingBalance)})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Current Balance"}),c.jsx("span",{className:"text-xl font-black",children:ve(_.currentBalance)})]})]})]},_.id))}),d&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>f(!1)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 animate-in fade-in zoom-in duration-200",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Account"})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Account Name"}),c.jsx("input",{type:"text",placeholder:"e.g. City Bank - 0987",className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.name,onChange:_=>y({...g,name:_.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Account Type"}),c.jsxs("select",{className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.type,onChange:_=>y({...g,type:_.target.value}),children:[c.jsx("option",{value:"Bank",children:"Bank"}),c.jsx("option",{value:"Cash",children:"Cash"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Opening Balance"}),c.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.openingBalance,onChange:_=>y({...g,openingBalance:parseFloat(_.target.value)||0})})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-2xl flex gap-3",children:[c.jsx(qe,{onClick:()=>f(!1),variant:"ghost",disabled:n.isPending,children:"Cancel"}),c.jsx(qe,{onClick:b,variant:"primary",size:"md",className:"flex-1",disabled:n.isPending||!g.name,children:n.isPending?"Creating...":"Create Account"})]})]})]})]})},boe=()=>{const e=ht(),t=Le(),r=Dr(),{searchQuery:n}=Os(),[a,s]=j.useState("All Time"),[l,d]=j.useState({from:"",to:""}),[f,h]=j.useState("All"),{data:p=[],isPending:g}=Ac(),{data:y=[]}=$o(),{data:b=[]}=Cc(),{data:w=[]}=Oc(),{data:S=[]}=Ec(),{data:_=[]}=As(),{data:N=[]}=Cs(),E=Xse(),A=async I=>{if(I.startsWith("temp-")){r.error("Cannot delete unsaved transactions. Please refresh and try again.");return}if(confirm("Are you sure you want to delete this transaction?"))try{await E.mutateAsync(I),t.invalidateQueries({queryKey:["transactions"]}),r.success("Transaction deleted successfully")}catch(L){console.error("Failed to delete transaction:",L),r.error("Failed to delete transaction")}},C=j.useMemo(()=>new Map(_.map(I=>[I.id,I])),[_]),T=I=>{if(a==="All Time")return!0;const L=new Date(I),V=new Date;if(a==="Today")return L.toDateString()===V.toDateString();if(a==="This Week"){const J=V.getDate()-V.getDay(),G=J+6,R=new Date(new Date().setDate(J)),H=new Date(new Date().setDate(G));return L>=R&&L<=H}return a==="This Month"?L.getMonth()===V.getMonth()&&L.getFullYear()===V.getFullYear():a==="This Year"?L.getFullYear()===V.getFullYear():a==="Custom"?!l.from||!l.to?!0:L>=new Date(l.from)&&L<=new Date(l.to):!0},P=I=>{var V,J;if(!((V=I.createdBy)!=null&&V.trim()))return null;const L=C.get(I.createdBy);if(L!=null&&L.name)return L.name;if((J=I.history)!=null&&J.created){const G=I.history.created.match(/Created by (.+?) on/);if(G)return G[1]}return null},D=I=>{const L=y.find(J=>J.id===I);if(L)return{name:L.name,type:"Customer"};const V=b.find(J=>J.id===I);return V?{name:V.name,type:"Vendor"}:null},B=j.useMemo(()=>{let I=p.filter(L=>T(L.date)).filter(L=>f==="All"||L.type===f);if(n.trim()){const L=n.toLowerCase();I=I.filter(V=>{var H,te;const J=V.contactId?D(V.contactId):null,G=P(V),R=((H=N.find(ae=>ae.id===V.category))==null?void 0:H.name)||V.category||"";return V.description.toLowerCase().includes(L)||R.toLowerCase().includes(L)||V.type.toLowerCase().includes(L)||(J==null?void 0:J.name.toLowerCase().includes(L))||((te=G==null?void 0:G.toLowerCase)==null?void 0:te.call(G).includes(L))||ve(V.amount).includes(L)})}return I},[p,a,l,f,n,y,b,N,_]),K=(I,L)=>{try{const V=I&&I.toString().length>10?I:L||I||"",J=new Date(V),G="Asia/Dhaka",R=J.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric",timeZone:G}),H=J.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:G});return{date:R,time:H}}catch{return{date:I||L||"",time:""}}},re=I=>{if(I.referenceId){if(w.some(J=>J.id===I.referenceId)){e(`/orders/${I.referenceId}`);return}if(S.some(J=>J.id===I.referenceId)){e(`/bills/${I.referenceId}`);return}}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Financial Transactions"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Review all income and expense history"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(qe,{onClick:()=>e("/transactions/new/income"),variant:"primary",size:"md",icon:se.Plus,children:"Income"}),c.jsx(qe,{onClick:()=>e("/transactions/new/expense"),variant:"danger",size:"md",icon:se.Minus,children:"Expense"})]})]}),c.jsx(md,{title:"Transactions",filterRange:a,setFilterRange:s,customDates:l,setCustomDates:d,statusTab:f,setStatusTab:h,statusOptions:["Income","Expense","Transfer"]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Type"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Contact"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:c.jsxs(c.Fragment,{children:["Category ",c.jsx("br",{})," Notes"]})}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Attachment"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:g?c.jsx(Cp,{columns:7,rows:8}):B.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-6 py-16 text-center text-gray-400 italic font-medium",children:"No transactions found."})}):B.map(I=>{var te;const L=I.contactId?D(I.contactId):null,V=P(I),J=I.referenceId&&(w.some(ae=>ae.id===I.referenceId)||S.some(ae=>ae.id===I.referenceId)),G=!!I.referenceId,{date:R,time:H}=K(I.date,I.createdAt);return c.jsxs("tr",{onClick:()=>re(I),className:`hover:bg-gray-50 transition-all group ${J?"cursor-pointer":""}`,children:[c.jsx("td",{className:"px-6 py-5 text-sm font-bold text-gray-700",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-gray-900",children:R}),c.jsx("span",{className:"text-[11px] text-gray-400 font-medium",children:H})]})}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest ${I.type==="Income"?"bg-[#ebf4ff]":I.type==="Expense"?"bg-red-50 text-red-600":"bg-[#e6f0ff]"}`,children:I.type})}),c.jsx("td",{className:"px-6 py-5",children:G?L?c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:L.name}),c.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest",children:L.type})]}):c.jsx("span",{className:"text-gray-300 font-bold text-xs",children:""}):V?c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:V}),c.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest",children:"Created By"})]}):c.jsx("span",{className:"text-gray-300 font-bold text-xs",children:""})}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800",children:((te=N.find(ae=>ae.id===I.category))==null?void 0:te.name)||I.category}),c.jsx("p",{className:"text-xs text-gray-400 italic max-w-xs truncate",children:I.description})]})}),c.jsx("td",{className:"px-6 py-5 text-right",children:c.jsxs("span",{className:`font-black text-base ${I.type==="Income"?"text-emerald-600":I.type==="Expense"?"text-red-600":"text-black"}`,children:[I.type==="Income"?"+":I.type==="Expense"?"-":"",ve(I.amount)]})}),c.jsx("td",{className:"px-6 py-5 text-center",children:I.attachmentUrl?c.jsx("div",{className:`p-2 bg-[#ebf4ff] ${oe.colors.primary[600]} rounded-lg inline-block`,children:se.Download}):c.jsx("span",{className:"text-gray-200",children:""})}),c.jsx("td",{className:"justify-end px-6 py-5 text-right",onClick:ae=>ae.stopPropagation(),children:c.jsx(fi,{icon:se.Delete,variant:"danger",title:"Delete",onClick:()=>A(I.id)})})]},I.id)})})]})})})]})},xoe=()=>{var N;const{type:e}=En(),t=ht(),r=xe.currentUser,n=e==="income",{data:a=[]}=Es(),{data:s}=gD(),{data:l=[]}=pD(),{data:d=[]}=Cs(),f=pf(),h=mf(),p=Dr(),g=j.useMemo(()=>d.filter(E=>E.type===(n?"Income":"Expense")),[d,n]),[y,b]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),paymentMethod:(s==null?void 0:s.paymentMethod)||"Cash",accountId:(s==null?void 0:s.accountId)||((N=a[0])==null?void 0:N.id)||"",amount:0,description:"",category:n?(s==null?void 0:s.incomeCategoryId)||"":(s==null?void 0:s.expenseCategoryId)||"",attachmentName:"",attachmentUrl:""}),w=E=>{var C;const A=(C=E.target.files)==null?void 0:C[0];if(A){const T=new FileReader;T.onload=()=>{b({...y,attachmentName:A.name,attachmentUrl:T.result})},T.readAsDataURL(A)}},S=f.isPending||h.isPending,_=async()=>{if(y.amount<=0){p.warning("Amount must be greater than 0");return}if(!y.accountId){p.warning("Please select an account");return}if(!y.category){p.warning("Please select a category");return}if(!(r!=null&&r.id)){p.warning("User session expired. Please log in again.");return}try{if(!n){const I=a.find(L=>L.id===y.accountId);if(I&&I.currentBalance<y.amount){p.error(`Insufficient balance. Account has ${ve(I.currentBalance)} but transaction requires ${ve(y.amount)}`);return}}const A=new Date(y.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),C=y.time,[T,P]=y.time.split(":").map(Number),D=new Date(y.date);D.setHours(T,P,0,0);const B=D.toISOString(),K={type:n?"Income":"Expense",date:B,paymentMethod:y.paymentMethod,accountId:y.accountId,amount:y.amount,description:y.description,category:y.category,attachmentName:y.attachmentName,attachmentUrl:y.attachmentUrl,createdBy:r.id,history:{created:`Created by ${r.name} on ${A}, at ${C}`}};await f.mutateAsync(K);const re=a.find(I=>I.id===y.accountId);if(re){const I=n?re.currentBalance+y.amount:re.currentBalance-y.amount;await h.mutateAsync({id:y.accountId,updates:{currentBalance:I}})}t("/transactions")}catch(E){console.error("Failed to save transaction:",E),p.error("Failed to save transaction: "+(E instanceof Error?E.message:"Unknown error"))}};return c.jsxs("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:["Record ",n?"Income":"Expense"]}),c.jsx("p",{className:"text-gray-500 font-medium",children:"Log a new financial movement in your accounts"})]}),c.jsx("button",{onClick:()=>t(-1),className:"p-3 text-gray-400 hover:text-gray-600 bg-white border border-gray-100 rounded-lg shadow-sm",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l18 18"})})})]}),c.jsxs("div",{className:"bg-white p-8 lg:p-12 rounded-[2.5rem] border border-gray-100 shadow-xl shadow-gray-200/20 space-y-10",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Amount (BDT)"}),c.jsx("input",{type:"number",className:`w-full text-3xl font-black px-6 py-4 bg-gray-50 border-2 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl transition-all outline-none ${n?"${theme.colors.primary[600]}":"text-red-600"}`,value:y.amount,onChange:E=>b({...y,amount:parseFloat(E.target.value)||0}),placeholder:"0.00"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Date"}),c.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:y.date,onChange:E=>b({...y,date:E.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Time"}),c.jsx("input",{type:"time",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:y.time,onChange:E=>b({...y,time:E.target.value})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Connected Account"}),c.jsx("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.accountId,onChange:E=>b({...y,accountId:E.target.value}),children:a.map(E=>c.jsx("option",{value:E.id,children:E.name},E.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Category"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.category,onChange:E=>b({...y,category:E.target.value}),children:[c.jsx("option",{value:"",children:"-- Select a category --"}),g.map(E=>c.jsx("option",{value:E.id,children:E.name},E.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Payment Method"}),c.jsx("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.paymentMethod,onChange:E=>b({...y,paymentMethod:E.target.value}),children:l.map(E=>c.jsx("option",{value:E.name,children:E.name},E.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Attachment"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"file",className:"hidden",id:"file-upload",onChange:w}),c.jsx("label",{htmlFor:"file-upload",className:"w-full px-6 py-4 bg-gray-50 border-transparent hover:bg-gray-100 rounded-lg font-bold pl-14 flex items-center cursor-pointer transition-colors",children:y.attachmentName||"Choose file to upload"}),c.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400",children:se.Print})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Description"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 outline-none",placeholder:"What was this transaction for?",value:y.description,onChange:E=>b({...y,description:E.target.value})})]}),c.jsxs(qe,{onClick:_,variant:n?"primary":"danger",size:"lg",className:"w-full",disabled:S,loading:S,children:["Finalize ",n?"Income":"Expense"]})]})]})},woe=()=>{ht();const e=Le(),t=xe.currentUser,{data:r=[]}=Es(),n=pf(),a=mf(),s=Dr(),[l,d]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),fromAccountId:"",toAccountId:"",amount:0,description:""}),f=async()=>{if(!l.amount||!l.fromAccountId||!l.toAccountId){s.warning("Please fill in all fields.");return}if(l.fromAccountId===l.toAccountId){s.warning("Cannot transfer to the same account.");return}const h=r.find(g=>g.id===l.fromAccountId),p=r.find(g=>g.id===l.toAccountId);if(h&&p){if(h.currentBalance<l.amount){s.warning("Insufficient balance in source account.");return}try{const[g,y]=l.time.split(":").map(Number),b=new Date(l.date);b.setHours(g,y,0,0);const w=b.toISOString();await Promise.all([n.mutateAsync({type:"Transfer",date:w,accountId:l.fromAccountId,toAccountId:l.toAccountId,amount:l.amount,description:l.description||`Transfer from ${h.name} to ${p.name}`,category:"Transfer",paymentMethod:"Internal Transfer",createdBy:t.id}),Promise.all([a.mutateAsync({id:l.fromAccountId,updates:{currentBalance:h.currentBalance-l.amount}}),a.mutateAsync({id:l.toAccountId,updates:{currentBalance:p.currentBalance+l.amount}})])]),s.success("Transfer completed successfully"),e.invalidateQueries({queryKey:["accounts"]}),d({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),fromAccountId:"",toAccountId:"",amount:0,description:""})}catch(g){console.error("Transfer failed:",g),s.error("Failed to complete transfer: "+(g instanceof Error?g.message:"Unknown error"))}}};return c.jsxs("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:[c.jsx("div",{className:"mb-8 flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Fund Transfer"}),c.jsx("p",{className:"text-gray-500 font-medium",children:"Move balances between your business accounts"})]})}),c.jsxs("div",{className:"bg-white p-8 lg:p-12 rounded-[2.5rem] border border-gray-100 shadow-xl space-y-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Amount to Transfer (BDT)"}),c.jsx("input",{type:"number",className:`w-full text-4xl font-black px-6 py-4 bg-[#ebf4ff] border-2 border-transparent focus:border-[#3c5a82] rounded-xl transition-all outline-none ${oe.colors.primary[600]}`,value:l.amount,onChange:h=>d({...l,amount:parseFloat(h.target.value)||0}),placeholder:"0.00"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"From Account (Source)"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-bold",value:l.fromAccountId,onChange:h=>d({...l,fromAccountId:h.target.value}),children:[c.jsx("option",{value:"",children:"Select an account"}),r.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",ve(h.currentBalance),")"]},h.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"To Account (Destination)"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-bold",value:l.toAccountId,onChange:h=>d({...l,toAccountId:h.target.value}),children:[c.jsx("option",{value:"",children:"Select an account"}),r.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",ve(h.currentBalance),")"]},h.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Transfer Date"}),c.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:l.date,onChange:h=>d({...l,date:h.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Transfer Time"}),c.jsx("input",{type:"time",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:l.time,onChange:h=>d({...l,time:h.target.value})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Memo / Description"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 outline-none",placeholder:"Reason for transfer...",value:l.description,onChange:h=>d({...l,description:h.target.value})})]}),c.jsx(qe,{onClick:f,variant:"primary",size:"lg",className:"w-full",disabled:n.isPending||a.isPending,children:n.isPending||a.isPending?"Processing Transfer...":"Execute Transfer"})]})]})},joe=()=>{const e=ht(),t=Le(),r=Dr(),{data:n=[],isPending:a}=Qd(),s=ioe(),l=async d=>{if(confirm("Are you sure you want to delete this product?"))try{await s.mutateAsync(d),t.invalidateQueries({queryKey:["products"]}),r.success("Product deleted successfully")}catch(f){console.error("Failed to delete product:",f),r.error("Failed to delete product")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Items Catalog"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Manage your inventory and pricing"})]}),c.jsx(qe,{onClick:()=>e("/products/new"),variant:"primary",size:"md",icon:se.Plus,children:"Add Product"})]}),c.jsx(kp,{columns:[{key:"name",label:"Name",render:(d,f)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:f.image||"https://via.placeholder.com/100",alt:f.name,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("div",{children:c.jsx("p",{className:"font-bold text-gray-900",children:f.name})})]})},{key:"category",label:"Category",render:d=>c.jsx("span",{className:"px-2.5 py-1 bg-[#ebf4ff] rounded-lg text-[10px] font-black uppercase tracking-widest",children:d})},{key:"salePrice",label:c.jsxs(c.Fragment,{children:["Sale Price",c.jsx("br",{}),"Purchase Price"]}),render:(d,f)=>c.jsxs("div",{className:"flex flex-col gap-0.5",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-sm font-bold",children:ve(f.salePrice)})}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-[11px] font-bold text-gray-600",children:ve(f.purchasePrice)})})]})},{key:"id",label:"Actions",align:"right",render:d=>xe.currentUser.role===Qt.ADMIN?c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(fi,{icon:se.Edit,variant:"primary",title:"Edit",onClick:h=>{h.stopPropagation(),e(`/products/edit/${d}`)}}),c.jsx(fi,{icon:se.Delete,variant:"danger",title:"Delete",onClick:h=>{h.stopPropagation(),l(d)}})]}):null}],data:n,loading:a,emptyMessage:"No products found"})]})},QP=()=>{const{id:e}=En(),t=ht(),r=!!e,n=xe.currentUser;if(!n)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(qe,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});if(r&&n.role===Qt.EMPLOYEE)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot edit products. Contact an administrator for assistance."}),c.jsx(qe,{onClick:()=>t("/products"),variant:"primary",children:"Back to Products"})]});const{data:a}=g9(r?e:void 0),{data:s=[],isPending:l}=Cs("Product"),d=noe(),f=aoe(),[h,p]=j.useState({name:"",category:"",image:"",salePrice:0,purchasePrice:0}),[g,y]=j.useState(!1),[b,w]=j.useState(null);br.useEffect(()=>{a&&p(a)},[a]);const S=N=>{var A;const E=(A=N.target.files)==null?void 0:A[0];if(E){const C=new FileReader;C.onload=()=>{p({...h,image:C.result})},C.readAsDataURL(E)}},_=async()=>{if(!h.name||!h.category){w("Name and category are required");return}y(!0),w(null);try{const N={name:h.name||"",category:h.category||"",image:h.image||"https://picsum.photos/200/200?random="+Math.random(),salePrice:h.salePrice||0,purchasePrice:h.purchasePrice||0};r?(await f.mutateAsync({id:e,updates:N}),t("/products")):d.mutateAsync(N).then(()=>{t("/products")},E=>{y(!1),w(E instanceof Error?E.message:"Failed to create product")})}catch(N){console.error("Failed to save product:",N),w(N instanceof Error?N.message:"Failed to save product"),y(!1)}};return c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Product":"Add Product"}),c.jsx("button",{onClick:()=>t("/products"),className:"px-4 py-2 border rounded-xl text-gray-500 font-bold bg-white hover:bg-gray-50",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Product Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:h.name,onChange:N=>p({...h,name:N.target.value}),placeholder:"e.g. Cotton Polo T-Shirt"})]}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Category"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:h.category,onChange:N=>p({...h,category:N.target.value}),disabled:l,children:[c.jsx("option",{value:"",children:l?"Loading...":"Select Category..."}),s.map(N=>c.jsx("option",{value:N.name,children:N.name},N.id))]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Product Image"}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"w-24 h-24 rounded-lg border border-dashed border-gray-300 flex items-center justify-center overflow-hidden bg-gray-50",children:h.image?c.jsx("img",{src:h.image,className:"w-full h-full object-cover"}):c.jsx("span",{className:"text-gray-300 text-xs text-center p-2",children:"No image"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("input",{type:"file",id:"product-image",className:"hidden",onChange:S}),c.jsx("label",{htmlFor:"product-image",className:"inline-block px-6 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-xl cursor-pointer transition-all",children:"Upload File"}),c.jsx("p",{className:"text-[10px] text-gray-400 mt-2 font-medium",children:"Recommended size: 500x500px. JPG, PNG supported."})]})]})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sale Price (BDT)"}),c.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold",value:h.salePrice,onChange:N=>p({...h,salePrice:parseFloat(N.target.value)||0})})]}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Purchase Price (BDT)"}),c.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82] text-gray-600 font-bold",value:h.purchasePrice,onChange:N=>p({...h,purchasePrice:parseFloat(N.target.value)||0})})]})]}),c.jsxs("div",{className:"pt-6 space-y-4",children:[b&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:b})}),c.jsx(qe,{onClick:_,variant:"primary",size:"lg",className:"w-full",disabled:g,children:g?"Saving...":r?"Update Product Item":"Create Product Item"})]})]})]})},Soe=()=>{var l;const e=ht(),{searchQuery:t}=Os(),{data:r=[],isPending:n}=As(),a=((l=xe.currentUser)==null?void 0:l.role)===Qt.ADMIN,s=j.useMemo(()=>{if(!t.trim())return r;const d=t.toLowerCase();return r.filter(f=>f.name.toLowerCase().includes(d)||f.phone.includes(d)||f.role.toLowerCase().includes(d))},[r,t]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Application Users"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Manage staff accounts and system permissions"})]}),a&&c.jsx(qe,{onClick:()=>e("/users/new"),variant:"primary",size:"md",icon:se.Plus,children:"Add User"})]}),c.jsx(kp,{columns:[{key:"name",label:"User",render:(d,f)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:f.image||"https://picsum.photos/100/100?random="+f.id,className:"w-10 h-10 rounded-full object-cover border"}),c.jsx("span",{className:"font-bold text-gray-900",children:f.name})]})},{key:"role",label:"Role",render:d=>c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${d===Qt.ADMIN?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:d})},{key:"phone",label:"Contact",render:d=>c.jsx("span",{className:"text-sm text-gray-600",children:d})},{key:"id",label:"Actions",align:"right",render:d=>c.jsx(fi,{icon:se.Edit,variant:"primary",title:"Edit",onClick:f=>{f.stopPropagation(),e(`/users/edit/${d}`)}})}],data:s,onRowClick:d=>e(`/users/${d.id}`),emptyMessage:"No users found",loading:n})]})},HP=()=>{const{id:e}=En(),t=ht(),r=!!e,{data:n,isPending:a,error:s}=hD(r?e:void 0),l=Zse(),d=Jse(),f=_5(),h=Dr(),[p,g]=j.useState(!1),[y,b]=j.useState(!1),[w,S]=j.useState({name:"",phone:"",password:"",role:Qt.EMPLOYEE,image:""});br.useEffect(()=>{n&&S(n)},[n]);const _=localStorage.getItem("currentUser"),N=_?JSON.parse(_):null,E=(N==null?void 0:N.role)===Qt.ADMIN,A=(N==null?void 0:N.id)===e,C=a,T=B=>{var re;const K=(re=B.target.files)==null?void 0:re[0];if(K){const I=new FileReader;I.onload=()=>{S({...w,image:I.result})},I.readAsDataURL(K)}},P=async()=>{if(!w.name||!w.phone||E&&!r&&!w.password){h.warning("Please fill mandatory fields (Name, Phone, Password)");return}g(!0);try{if(r&&e){const B={name:w.name,phone:w.phone,image:w.image};if(E&&(w.password&&(B.password=w.password),w.role&&(B.role=w.role)),await d.mutateAsync({id:e,updates:B}),A&&N){const K={...N,...B};localStorage.setItem("currentUser",JSON.stringify(K))}}else{if(!E){h.error("Only admins can add users"),g(!1);return}await l.mutateAsync({name:w.name||"",phone:w.phone||"",password:w.password||"",role:w.role||Qt.EMPLOYEE,image:w.image||""})}h.success(r?"User updated successfully!":"User created successfully!"),t("/users")}catch(B){console.error("Failed to save user:",B),h.error("Failed to save user: "+(B instanceof Error?B.message:"Unknown error"))}finally{g(!1)}},D=async()=>{if(e){g(!0);try{await f.mutateAsync(e),h.success("User deleted successfully!"),t("/users")}catch(B){console.error("Failed to delete user:",B),h.error("Failed to delete user: "+(B instanceof Error?B.message:"Unknown error"))}finally{g(!1),b(!1)}}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Profile":"Add System User"}),c.jsx("button",{onClick:()=>t("/users"),className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-500 hover:bg-gray-50",children:"Cancel"})]}),r&&C&&c.jsx("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm text-center text-gray-500",children:"Loading user details..."}),s&&c.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-100 text-red-700",children:s.message||"User not found"}),(!r||!C)&&c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-6 p-6 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden bg-white border",children:c.jsx("img",{src:w.image||`https://ui-avatars.com/api/?name=${w.name||"User"}&background=10b981&color=fff`,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-2",children:"Profile Photo"}),c.jsx("input",{type:"file",id:"user-pfp",className:"hidden",onChange:T}),c.jsx("label",{htmlFor:"user-pfp",className:`cursor-pointer px-4 py-2 ${oe.colors.primary[600]} text-white text-xs font-bold rounded-lg hover:${oe.colors.primary[700]}`,children:"Upload Picture"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Full Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:w.name,onChange:B=>S({...w,name:B.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Phone Number"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:w.phone,onChange:B=>S({...w,phone:B.target.value})})]}),E&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Password (Admin Only Access)"}),c.jsx("input",{type:"password",className:"w-full px-4 py-3 bg-purple-50 border border-purple-100 rounded-xl focus:ring-2 focus:ring-purple-500",value:w.password,onChange:B=>S({...w,password:B.target.value}),placeholder:r?"Leave blank to keep current password":"Secure system password"}),c.jsx("p",{className:"text-[10px] text-purple-400 font-medium",children:"Only administrators can set or change passwords."})]}),E&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"System Role"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:w.role,onChange:B=>S({...w,role:B.target.value}),children:[c.jsx("option",{value:Qt.EMPLOYEE,children:"Employee"}),c.jsx("option",{value:Qt.ADMIN,children:"Administrator"})]})]})]}),c.jsxs("div",{className:"pt-6 space-y-3",children:[c.jsx(qe,{onClick:P,variant:"primary",size:"lg",className:"w-full",disabled:p,children:p?"Saving...":"Save User Details"}),r&&E&&c.jsx("button",{onClick:()=>b(!0),disabled:p,className:"w-full px-4 py-3 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Delete User"})]})]}),y&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-sm w-full p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete User?"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:["Are you sure you want to delete ",c.jsx("strong",{children:w.name}),"? This action cannot be undone."]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>b(!1),disabled:p,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:D,disabled:p,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:p?"Deleting...":"Delete"})]})]})})]})},_oe=()=>{const{id:e}=En(),t=ht(),r=xe.currentUser,{data:n,isPending:a,error:s}=hD(e),l=_5(),d=Dr(),[f,h]=j.useState(!1);if(a)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading user..."});if(s||!n)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(s==null?void 0:s.message)||"User not found."});const p=r.role===Qt.ADMIN||r.id===e,g=r.role===Qt.ADMIN,y=async()=>{if(e)try{await l.mutateAsync(e),d.success("User deleted successfully!"),t("/users")}catch(b){console.error("Failed to delete user:",b),d.error("Failed to delete user: "+(b instanceof Error?b.message:"Unknown error"))}finally{h(!1)}};return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/users"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Profile"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[p&&c.jsxs("button",{onClick:()=>t(`/users/edit/${n.id}`),className:`px-6 py-2 ${oe.colors.primary[600]} text-white rounded-xl font-bold hover:${oe.colors.primary[700]} shadow-md flex items-center gap-2`,children:[se.Edit," Edit Profile"]}),g&&c.jsx("button",{onClick:()=>h(!0),disabled:l.isPending,className:"px-6 py-2 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Delete User"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsx("div",{className:"h-32 bg-gradient-to-r from-[#0f2f57] to-[#1a3a6e]"}),c.jsxs("div",{className:"px-8 pb-8",children:[c.jsxs("div",{className:"relative flex justify-between items-end -mt-12 mb-8",children:[c.jsx("div",{className:"p-1 bg-white rounded-full shadow-xl",children:c.jsx("img",{src:n.image||"https://picsum.photos/200/200?random="+n.id,className:"w-24 h-24 rounded-full object-cover border-1 border-black"})}),c.jsx("span",{className:`px-4 py-1 rounded-full text-xs font-black uppercase tracking-widest ${n.role===Qt.ADMIN?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:n.role})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Full Name"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n.name})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Phone Number"}),c.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.phone})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Joining Date"}),c.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.createdAt?new Date(n.createdAt).toLocaleDateString("en-BD",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[c.jsx("h4",{className:"font-bold text-gray-900",children:"Account Security"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Passwords are managed by system administrators. If you need to reset your password, please contact the IT department."}),c.jsxs("div",{className:"flex items-center gap-2 text-emerald-700 text-sm font-bold",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Active Status Verified"]})]})]})]})]}),f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-sm w-full p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete User?"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:["Are you sure you want to delete ",c.jsx("strong",{children:n.name}),"? This action cannot be undone."]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>h(!1),disabled:l.isPending,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:y,disabled:l.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:l.isPending?"Deleting...":"Delete"})]})]})})]})},Noe=()=>{const[e,t]=j.useState("company"),[r,n]=j.useState(null),a=Le(),{data:s,isPending:l}=Pp(),{data:d,isPending:f}=Tp(),{data:h,isPending:p}=Dp(),{data:g,isPending:y}=gD(),{data:b,isPending:w}=Bw(),{data:S=[],isPending:_}=Cs(),{data:N=[],isPending:E}=pD(),{data:A=[],isPending:C}=y9(),{data:T=[]}=Es(),P=soe(),D=ooe(),B=loe(),K=coe();uoe(),doe();const re=foe(),I=Dr(),[L,V]=j.useState({name:"",phone:"",email:"",address:"",logo:""}),[J,G]=j.useState({prefix:"ORD-",nextNumber:1}),[R,H]=j.useState({steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}),[te,ae]=j.useState({title:"Invoice",logoWidth:120,logoHeight:120,footer:""}),[ge,M]=j.useState({defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}),[F,fe]=j.useState({name:"",type:"Income",color:"#10B981",parentId:""}),[pe,we]=j.useState({name:"",description:""}),[Ce,Ee]=j.useState({name:"",shortName:"",description:""}),[ue,$]=j.useState([]),[Z,he]=j.useState(!1);br.useEffect(()=>{s&&V(s)},[s]),br.useEffect(()=>{d&&G(d)},[d]),br.useEffect(()=>{h&&ae(h)},[h]),br.useEffect(()=>{g&&M(g)},[g]),br.useEffect(()=>{b&&H(b)},[b]),j.useEffect(()=>{let le=null;const Ct=async()=>{const{baseUrl:Vr,clientId:ar,clientSecret:ct,clientContext:Uc}=R.carryBee,zc=Vr==null?void 0:Vr.trim(),qc=ar==null?void 0:ar.trim(),Ds=ct==null?void 0:ct.trim(),gf=Uc==null?void 0:Uc.trim();if(!zc||!qc||!Ds||!gf){$([]);return}he(!0);try{const Vo=await e9({baseUrl:zc,clientId:qc,clientSecret:Ds,clientContext:gf});$(Vo)}catch(Vo){console.error("Failed to fetch CarryBee stores:",Vo),$([])}finally{he(!1)}};return le=setTimeout(()=>{Ct()},700),()=>{le&&clearTimeout(le)}},[R.carryBee.baseUrl,R.carryBee.clientId,R.carryBee.clientSecret,R.carryBee.clientContext]);const ie=l||f||p||y||w||_||E||C,Ke=async()=>{try{const le=I.loading("Saving all settings...");re.mutateAsync({company:L,order:J,invoice:te,defaults:ge,courier:R}).then(()=>{xe.settings.company=L,xe.settings.order=J,xe.settings.invoice=te,xe.settings.defaults=ge,xe.settings.courier=R,I.update(le,"Settings saved successfully!","success")}).catch(Ct=>{console.error("Failed to save settings:",Ct),I.update(le,"Failed to save settings: "+(Ct instanceof Error?Ct.message:"Unknown error"),"error")})}catch(le){console.error("Failed to initiate settings save:",le),I.error("Failed to save settings: "+(le instanceof Error?le.message:"Unknown error"))}},Te=le=>{var Vr;const Ct=(Vr=le.target.files)==null?void 0:Vr[0];if(Ct){const ar=new FileReader;ar.onload=()=>{V({...L,logo:ar.result})},ar.readAsDataURL(Ct)}},st=async()=>{if(!F.name.trim()){I.warning("Please enter a category name");return}const le={id:crypto.randomUUID(),name:F.name,type:F.type,color:F.color,parentId:F.parentId||void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},Ct=a.getQueryData(["categories"]);a.setQueryData(["categories"],(ct=[])=>[...ct,le]);const Vr=I.loading("Adding category..."),ar={...F};fe({name:"",type:"Income",color:"#10B981",parentId:""}),n(null);try{await P.mutateAsync({name:ar.name,type:ar.type,color:ar.color,parentId:ar.parentId||void 0}),I.update(Vr,"Category added successfully!","success")}catch(ct){console.error("Failed to add category:",ct),a.setQueryData(["categories"],Ct),I.update(Vr,"Failed to add category: "+(ct instanceof Error?ct.message:"Unknown error"),"error"),n("category"),fe(ar)}},mt=async le=>{if(confirm("Are you sure you want to delete this category?"))try{await D.mutateAsync(le),I.success("Category deleted successfully!")}catch(Ct){console.error("Failed to delete category:",Ct),I.error("Failed to delete category: "+(Ct instanceof Error?Ct.message:"Unknown error"))}},fr=async()=>{if(!pe.name.trim()){I.warning("Please enter a payment method name");return}const le={id:crypto.randomUUID(),name:pe.name,description:pe.description||"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},Ct=a.getQueryData(["paymentMethods"]);a.setQueryData(["paymentMethods"],(ct=[])=>[...ct,le]);const Vr=I.loading("Adding payment method..."),ar={...pe};we({name:"",description:""}),n(null);try{await B.mutateAsync({name:ar.name,description:ar.description||void 0}),I.update(Vr,"Payment method added successfully!","success")}catch(ct){console.error("Failed to add payment method:",ct),a.setQueryData(["paymentMethods"],Ct),I.update(Vr,"Failed to add payment method: "+(ct instanceof Error?ct.message:"Unknown error"),"error"),n("payment"),we(ar)}},ka=async le=>{if(confirm("Are you sure you want to delete this payment method?"))try{await K.mutateAsync(le),I.success("Payment method deleted successfully!")}catch(Ct){console.error("Failed to delete payment method:",Ct),I.error("Failed to delete payment method: "+(Ct instanceof Error?Ct.message:"Unknown error"))}},Pa=[{id:"company",label:"Company",icon:se.Dashboard},{id:"order",label:"Order & Invoice",icon:se.Sales},{id:"defaults",label:"Defaults",icon:se.Settings},{id:"categories",label:"Categories",icon:se.More},{id:"payments",label:"Payment Methods",icon:se.Banking},{id:"courier",label:"Courier",icon:se.Courier}];return c.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[c.jsx(Fd,{isLoading:ie,message:"Loading settings..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Configure your accounting environment and business rules"})]}),c.jsx(qe,{onClick:Ke,variant:"primary",size:"md",children:"Save All Changes"})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[c.jsx("div",{className:"w-full lg:w-64 space-y-1",children:Pa.map(le=>c.jsxs("button",{onClick:()=>t(le.id),className:`flex items-center gap-3 w-full px-4 py-3 rounded-xl font-medium transition-all ${e===le.id?`bg-white ${oe.colors.primary[600]} shadow-sm border border-gray-100 ring-1 ring-[#ebf4ff]`:"text-gray-500 hover:bg-gray-100"}`,children:[le.icon,le.label]},le.id))}),c.jsxs("div",{className:"flex-1 bg-white p-8 rounded-xl border border-gray-100 shadow-sm min-h-[500px]",children:[e==="company"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Company Profile"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 flex items-center gap-6 p-6 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden bg-white border",children:L.logo&&c.jsx("img",{src:L.logo,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Company Logo"}),c.jsx("input",{type:"file",id:"logo-input",className:"hidden",onChange:Te}),c.jsx(qe,{variant:"primary",size:"sm",onClick:()=>{var le;return(le=document.getElementById("logo-input"))==null?void 0:le.click()},children:"Change Logo"})]})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Company Name"}),c.jsx("input",{type:"text",value:L.name,onChange:le=>V({...L,name:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Phone"}),c.jsx("input",{type:"text",value:L.phone,onChange:le=>V({...L,phone:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Email"}),c.jsx("input",{type:"email",value:L.email,onChange:le=>V({...L,email:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("textarea",{value:L.address,onChange:le=>V({...L,address:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl h-24 focus:ring-2 focus:ring-[#3c5a82] transition-all"})]})]})]}),e==="order"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsxs("section",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Order Logic"}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Order Prefix"}),c.jsx("input",{type:"text",value:J.prefix,onChange:le=>G({...J,prefix:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl font-mono"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Next Number"}),c.jsx("input",{type:"number",value:J.nextNumber,onChange:le=>G({...J,nextNumber:parseInt(le.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]}),c.jsxs("section",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Invoice Settings"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-1 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Invoice Title"}),c.jsx("input",{type:"text",value:te.title,onChange:le=>ae({...te,title:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Logo Width (px)"}),c.jsx("input",{type:"number",value:te.logoWidth,onChange:le=>ae({...te,logoWidth:parseInt(le.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Logo Height (px)"}),c.jsx("input",{type:"number",value:te.logoHeight,onChange:le=>ae({...te,logoHeight:parseInt(le.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"md:col-span-3 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Invoice Footer"}),c.jsx("textarea",{value:te.footer,onChange:le=>ae({...te,footer:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl h-24"})]})]})]})]}),e==="defaults"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"System Defaults"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Account"}),c.jsxs("select",{value:ge.defaultAccountId,onChange:le=>M({...ge,defaultAccountId:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select an account..."}),T.map(le=>c.jsx("option",{value:le.id,children:le.name},le.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Payment Method"}),c.jsxs("select",{value:ge.defaultPaymentMethod,onChange:le=>M({...ge,defaultPaymentMethod:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a payment method..."}),N.map(le=>c.jsx("option",{value:le.name,children:le.name},le.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Income Category"}),c.jsxs("select",{value:ge.incomeCategoryId,onChange:le=>M({...ge,incomeCategoryId:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a category..."}),S.filter(le=>le.type==="Income").map(le=>c.jsx("option",{value:le.id,children:le.name},le.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Expense Category"}),c.jsxs("select",{value:ge.expenseCategoryId,onChange:le=>M({...ge,expenseCategoryId:le.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a category..."}),S.filter(le=>le.type==="Expense").map(le=>c.jsx("option",{value:le.id,children:le.name},le.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Records Per Page"}),c.jsx("input",{type:"number",value:ge.recordsPerPage,onChange:le=>M({...ge,recordsPerPage:parseInt(le.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]}),e==="categories"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Categories"}),c.jsxs(qe,{onClick:()=>n("category"),variant:"primary",size:"md",children:[se.Plus," Add"]})]}),_?c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading categories..."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.map(le=>c.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-gray-50/50 hover:shadow-sm transition-all",children:[c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:le.color}}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-800",children:le.name}),c.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:le.type})]}),c.jsx("button",{onClick:()=>mt(le.id),className:"text-red-500 hover:text-red-700 px-2",children:se.Delete})]},le.id)),S.length===0&&c.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:'No categories yet. Click "Add Category" to create one.'})]})]}),e==="payments"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Payment Methods"}),c.jsxs(qe,{onClick:()=>n("payment"),variant:"primary",size:"md",children:[se.Plus," Add"]})]}),E?c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading payment methods..."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.map(le=>c.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50/50 hover:shadow-sm transition-all flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-800",children:le.name}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:le.description||"No description"})]}),c.jsx("button",{onClick:()=>ka(le.id),className:"text-red-500 hover:text-red-700 px-2",children:se.Delete})]},le.id)),N.length===0&&c.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:'No payment methods yet. Click "Add Method" to create one.'})]})]}),e==="courier"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsxs("section",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4 flex items-center gap-2",children:[c.jsx("span",{className:"${theme.colors.secondary[600]}",children:"Steadfast"})," Logistics"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Base URL"}),c.jsx("input",{type:"text",value:R.steadfast.baseUrl,onChange:le=>H({...R,steadfast:{...R.steadfast,baseUrl:le.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"API Key"}),c.jsx("input",{type:"text",value:R.steadfast.apiKey,onChange:le=>H({...R,steadfast:{...R.steadfast,apiKey:le.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Secret Key"}),c.jsx("input",{type:"text",value:R.steadfast.secretKey,onChange:le=>H({...R,steadfast:{...R.steadfast,secretKey:le.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]})]}),c.jsxs("section",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4 flex items-center gap-2",children:[c.jsx("span",{className:"text-orange-600",children:"CarryBee"})," Fulfillment"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Base URL"}),c.jsx("input",{type:"text",value:R.carryBee.baseUrl,onChange:le=>H({...R,carryBee:{...R.carryBee,baseUrl:le.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client ID"}),c.jsx("input",{type:"text",value:R.carryBee.clientId,onChange:le=>H({...R,carryBee:{...R.carryBee,clientId:le.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client Secret"}),c.jsx("input",{type:"text",value:R.carryBee.clientSecret,onChange:le=>H({...R,carryBee:{...R.carryBee,clientSecret:le.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client Context"}),c.jsx("input",{type:"text",value:R.carryBee.clientContext,onChange:le=>H({...R,carryBee:{...R.carryBee,clientContext:le.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Store ID"}),c.jsxs("select",{value:R.carryBee.storeId,onChange:le=>H({...R,carryBee:{...R.carryBee,storeId:le.target.value}}),disabled:Z||ue.length===0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:Z?"Loading stores...":ue.length===0?"Fill CarryBee credentials first":"Select Store"}),ue.map(le=>c.jsx("option",{value:le.id,children:le.name},le.id))]})]})]})]})]})]})]})]}),r==="category"&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>n(null)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 p-8 space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Category"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:F.name,onChange:le=>fe({...F,name:le.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Type"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:F.type,onChange:le=>fe({...F,type:le.target.value}),children:[c.jsx("option",{value:"Income",children:"Income"}),c.jsx("option",{value:"Expense",children:"Expense"}),c.jsx("option",{value:"Product",children:"Product"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Color"}),c.jsx("input",{type:"color",className:"w-full h-12 bg-gray-50 border rounded-xl cursor-pointer",value:F.color,onChange:le=>fe({...F,color:le.target.value})})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(qe,{onClick:()=>n(null),variant:"ghost",className:"flex-1",children:"Cancel"}),c.jsx(qe,{onClick:st,variant:"primary",size:"md",className:"flex-1",children:"Add Category"})]})]})]}),r==="payment"&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>n(null)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 p-8 space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Payment Method"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Method Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:pe.name,onChange:le=>we({...pe,name:le.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Description"}),c.jsx("textarea",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl h-24",value:pe.description,onChange:le=>we({...pe,description:le.target.value})})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(qe,{onClick:()=>n(null),variant:"ghost",className:"flex-1",children:"Cancel"}),c.jsx(qe,{onClick:fr,variant:"primary",size:"md",className:"flex-1",children:"Add Method"})]})]})]})]})},Ooe=()=>{const e=ht(),t=Le(),r=Dr(),{searchQuery:n}=Os(),{data:a=[],isPending:s,error:l}=$o(),d=Hse(),f=j.useMemo(()=>{if(!n.trim())return a;const p=n.toLowerCase();return a.filter(g=>g.name.toLowerCase().includes(p)||g.phone.includes(p)||g.address.toLowerCase().includes(p))},[a,n]),h=async p=>{if(confirm("Are you sure you want to delete this customer?"))try{await d.mutateAsync(p),t.invalidateQueries({queryKey:["customers"]}),r.success("Customer deleted successfully")}catch(g){console.error("Failed to delete customer:",g),r.error("Failed to delete customer")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Manage client relationships and account balances"})]}),c.jsx(qe,{onClick:()=>e("/customers/new"),variant:"primary",size:"md",icon:se.Plus,children:"New Customer"})]}),l&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsxs("p",{className:"text-red-800",children:[c.jsx("strong",{children:"Error loading customers:"})," ",l]})}),c.jsx(kp,{columns:[{key:"name",label:"Customer Name",render:(p,g)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-full bg-green-100 ${oe.colors.primary[600]} flex items-center justify-center font-bold text-white`,children:g.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 block",children:g.name}),c.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:g.address})]})]})},{key:"phone",label:"Contact",render:p=>c.jsx("span",{className:"text-sm font-medium text-gray-700",children:p})},{key:"totalOrders",label:"Total Orders",align:"center",render:p=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-bold text-gray-600",children:p})},{key:"dueAmount",label:"Due Amount",align:"right",render:p=>c.jsx("span",{className:`font-bold ${p>0?"text-red-500":"text-green-500"}`,children:ve(p)})},{key:"id",label:"Actions",align:"right",render:p=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(fi,{icon:se.Edit,variant:"primary",title:"Edit",onClick:g=>{g.stopPropagation(),e(`/customers/edit/${p}`)}}),c.jsx(fi,{icon:se.Delete,variant:"danger",title:"Delete",onClick:g=>{g.stopPropagation(),h(p)}})]})}],data:f,loading:s,onRowClick:p=>e(`/customers/${p.id}`),emptyMessage:"No customers found"})]})},VP=()=>{const{id:e}=En(),t=ht(),r=!!e,[n,a]=j.useState({name:"",phone:"",address:""}),[s,l]=j.useState(null),{data:d,isPending:f,error:h}=dD(r?e:void 0),p=Fse(),g=Qse();j.useEffect(()=>{d&&a({name:d.name,phone:d.phone,address:d.address})},[d]);const y=async()=>{if(!n.name||!n.phone){l("Name and phone are required");return}l(null);try{if(r){const b={name:n.name,phone:n.phone,address:n.address};await g.mutateAsync({id:e,updates:b}),t("/customers")}else{const b={name:n.name,phone:n.phone,address:n.address,totalOrders:0,dueAmount:0};p.mutateAsync(b).then(()=>{t("/customers")},w=>{l(w instanceof Error?w.message:"Failed to create customer")})}}catch(b){console.error(`Failed to ${r?"update":"create"} customer:`,b),l(b instanceof Error?b.message:`Failed to ${r?"update":"create"} customer`)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:r?"Edit Customer":"New Customer"}),c.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 text-gray-500 font-bold hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"})]}),c.jsx("div",{className:"bg-white p-10 rounded-xl border border-gray-100 shadow-xl space-y-8",children:r&&f?c.jsx("div",{className:"text-center text-gray-500",children:"Loading customer..."}):c.jsxs(c.Fragment,{children:[s&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:s})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Full Name"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:n.name,onChange:b=>a({...n,name:b.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Phone Number"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:n.phone,onChange:b=>a({...n,phone:b.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Address"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 transition-all outline-none",value:n.address,onChange:b=>a({...n,address:b.target.value})})]}),c.jsx(qe,{onClick:y,variant:"primary",size:"lg",className:"w-full",disabled:p.isPending||g.isPending,children:p.isPending||g.isPending?r?"Updating...":"Adding...":r?"Update Customer":"Add Customer"})]})})]})},Eoe=()=>{const{id:e}=En(),t=ht(),[r,n]=j.useState(null),a=xe.currentUser,s=(a==null?void 0:a.role)||null,{data:l}=dD(e||""),{data:d=[]}=p9(e||""),{data:f}=Tp(),h=Eg(),p=Dr(),{totalRevenue:g,dueAmount:y}=j.useMemo(()=>{const S=d.filter(A=>A.status===Ue.COMPLETED),_=d.filter(A=>A.status===Ue.PROCESSING||A.status===Ue.PICKED),N=S.reduce((A,C)=>A+C.total,0),E=_.reduce((A,C)=>A+(C.total-C.paidAmount),0);return{totalRevenue:N,dueAmount:E}},[d]),b=S=>{switch(S){case Ue.ON_HOLD:return"bg-gray-100 text-gray-600";case Ue.PROCESSING:return"bg-[#e6f0ff] ${theme.colors.secondary[600]}";case Ue.PICKED:return"bg-purple-100 text-purple-600";case Ue.COMPLETED:return"bg-green-100 ${theme.colors.primary[600]}";case Ue.CANCELLED:return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}},w=async S=>{try{if(!l)return;if(!f){p.error("Unable to generate new order number. Please try again.");return}const _=`${f.prefix}${f.nextNumber}`,N=new Date,E=N.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),A=N.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),C={orderNumber:_,orderDate:new Date().toISOString().split("T")[0],customerId:l.id,createdBy:S.createdBy,status:Ue.ON_HOLD,items:S.items,subtotal:S.subtotal,discount:S.discount,shipping:S.shipping,total:S.total,paidAmount:0,history:{created:`Duplicated from order #${S.orderNumber} on ${E}, at ${A}`}};await h.mutateAsync(C),p.success("Order duplicated successfully"),t("/orders")}catch(_){console.error("Failed to duplicate order",_),p.error("Failed to duplicate order: "+(_ instanceof Error?_.message:"Unknown error"))}};return s===Qt.EMPLOYEE?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot view customer details. Contact an administrator for assistance."}),c.jsx(qe,{onClick:()=>t("/customers"),variant:"primary",children:"Back to Customers"})]}):l?c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/customers"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Profile"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx("button",{onClick:()=>t(`/customers/edit/${e}`),className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-700 hover:bg-gray-50",children:"Edit Profile"})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-[#ebf4ff] ${theme.colors.primary[600]} flex items-center justify-center font-black text-4xl mx-auto mb-4 border-2 border-[#c7dff5]",children:l.name.charAt(0)}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:l.name}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:l.phone}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 space-y-4 text-left",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Address"}),c.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed",children:l.address})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Revenue"}),c.jsx("p",{className:"text-lg font-black text-gray-900",children:ve(g)})]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg shadow-[#0f2f57]/20/50 border border-gray-100 text-white",children:[c.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-1",children:"Due Amount"}),c.jsx("h4",{className:"text-lg font-black text-green-600",children:ve(y)})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Order History"}),c.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[d.length," Records found"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[c.jsx("th",{className:"px-6 py-4",children:"Order Number"}),c.jsx("th",{className:"px-6 py-4",children:"Order Date"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:d.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-400 italic",children:"No orders found for this customer."})}):d.map(S=>c.jsxs("tr",{onMouseEnter:()=>n(S.id),onMouseLeave:()=>n(null),onClick:()=>t(`/orders/${S.id}`),className:"group relative hover:bg-[#ebf4ff]/30 cursor-pointer transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"font-bold text-gray-900",children:["#",S.orderNumber]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:S.orderDate}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${b(S.status)}`,children:S.status})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("span",{className:"font-black text-gray-900",children:ve(S.total)})}),r===S.id&&c.jsx("td",{className:"absolute inset-y-0 right-0 flex items-center pr-6 bg-gradient-to-l from-emerald-50 via-emerald-50 to-transparent",children:c.jsxs("div",{className:"flex items-center gap-1 bg-white p-1 rounded-lg shadow-lg border border-[#c7dff5] animate-in fade-in slide-in-from-right-2 duration-200",onClick:_=>_.stopPropagation(),children:[c.jsx("button",{title:"Edit",onClick:()=>t(`/orders/edit/${S.id}`),className:"p-2 text-gray-500 hover:${theme.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors",children:se.Edit}),c.jsx("button",{title:"Duplicate",onClick:()=>w(S),className:"p-2 text-gray-500 hover:${theme.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors",children:se.Duplicate})]})})]},S.id))})]})})]})})]})]}):c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Customer not found."})},Aoe=()=>{const e=ht(),t=Le(),r=Dr(),{searchQuery:n}=Os(),{data:a=[],isPending:s}=Cc(),l=roe(),d=j.useMemo(()=>{if(!n.trim())return a;const h=n.toLowerCase();return a.filter(p=>p.name.toLowerCase().includes(h)||p.phone.includes(h)||p.address.toLowerCase().includes(h))},[a,n]),f=async h=>{if(confirm("Are you sure you want to delete this vendor?"))try{await l.mutateAsync(h),t.invalidateQueries({queryKey:["vendors"]}),r.success("Vendor deleted successfully")}catch(p){console.error("Failed to delete vendor:",p),r.error("Failed to delete vendor")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vendors"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Manage suppliers and procurement channels"})]}),c.jsx(qe,{onClick:()=>e("/vendors/new"),variant:"primary",size:"md",icon:se.Plus,children:"New Vendor"})]}),c.jsx(kp,{columns:[{key:"name",label:"Vendor Name",render:(h,p)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold",children:p.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 block",children:p.name}),c.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:p.address})]})]})},{key:"phone",label:"Contact",render:h=>c.jsx("span",{className:"text-sm font-medium text-gray-700",children:h})},{key:"totalPurchases",label:"Purchases",align:"center",render:h=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-bold text-gray-600",children:h})},{key:"dueAmount",label:"Balance Payable",align:"right",render:h=>c.jsx("span",{className:`font-bold ${h>0?"text-red-500":"text-green-500"}`,children:ve(h)})},{key:"id",label:"Actions",align:"right",render:h=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(fi,{icon:se.Edit,variant:"primary",title:"Edit",onClick:p=>{p.stopPropagation(),e(`/vendors/edit/${h}`)}}),c.jsx(fi,{icon:se.Delete,variant:"danger",title:"Delete",onClick:p=>{p.stopPropagation(),f(h)}})]})}],data:d,loading:s,onRowClick:h=>e(`/vendors/${h.id}`),emptyMessage:"No vendors found"})]})},GP=()=>{const{id:e}=En(),t=ht(),{isLoading:r}=jp(),n=!!e,[a,s]=j.useState({name:"",phone:"",address:""}),[l,d]=j.useState(null),{data:f,isPending:h,error:p}=mD(n?e:void 0),g=eoe(),y=toe();j.useEffect(()=>{f&&s({name:f.name,phone:f.phone,address:f.address})},[f]);const b=async()=>{if(r){d("Authenticating... Please wait");return}if(!a.name||!a.phone){d("Business name and phone are required");return}d(null);try{if(n){const w={name:a.name,phone:a.phone,address:a.address};await y.mutateAsync({id:e,updates:w}),t("/vendors")}else{const w={name:a.name,phone:a.phone,address:a.address,totalPurchases:0,dueAmount:0};g.mutateAsync(w).then(()=>{t("/vendors")},S=>{d(S instanceof Error?S.message:"Failed to create vendor")})}}catch(w){console.error(`Failed to ${n?"update":"create"} vendor:`,w),d(w instanceof Error?w.message:`Failed to ${n?"update":"create"} vendor`)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:n?"Edit Vendor":"New Vendor"}),c.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 text-gray-500 font-bold hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"})]}),c.jsx("div",{className:"bg-white p-10 rounded-xl border border-gray-100 shadow-xl space-y-8",children:n&&h?c.jsx("div",{className:"text-center text-gray-500",children:"Loading vendor..."}):c.jsxs(c.Fragment,{children:[l&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:l})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Business Name"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-blue-500 focus:bg-white rounded-lg font-bold transition-all outline-none",value:a.name,onChange:w=>s({...a,name:w.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Contact Person / Phone"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-blue-500 focus:bg-white rounded-lg font-bold transition-all outline-none",value:a.phone,onChange:w=>s({...a,phone:w.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-blue-500 focus:bg-white rounded-lg font-medium h-32 transition-all outline-none",value:a.address,onChange:w=>s({...a,address:w.target.value})})]}),c.jsx(qe,{onClick:b,variant:"primary",size:"lg",className:"w-full",disabled:g.isPending||y.isPending,children:g.isPending||y.isPending?n?"Updating...":"Adding...":n?"Update Vendor":"Add Vendor"})]})})]})},Coe=()=>{const{id:e}=En(),t=ht(),{data:r,isPending:n}=mD(e||""),{data:a=[]}=Ec(),[s,l]=j.useState(null);if(n)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading vendor details..."});if(!r)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Vendor not found."});const d=a.filter(h=>h.vendorId===r.id),f=h=>{switch(h){case nn.ON_HOLD:return"bg-gray-100 text-gray-600";case nn.PROCESSING:return"bg-blue-100 text-blue-600";case nn.RECEIVED:return"bg-green-100 text-green-600";default:return"bg-gray-100 text-gray-600"}};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/vendors"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vendor Profile"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-700 hover:bg-gray-50",children:"Edit Profile"}),c.jsx("button",{className:`px-4 py-2 ${oe.colors.primary[600]} text-white rounded-xl font-bold hover:${oe.colors.primary[700]} shadow-md`,children:"Purchase Statement"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[c.jsx("div",{className:`w-24 h-24 rounded-full bg-[#e6f0ff] ${oe.colors.primary.text} flex items-center justify-center font-black text-4xl mx-auto mb-4 border-2 border-[#c7dff5]`,children:r.name.charAt(0)}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r.name}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r.phone}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 space-y-4 text-left",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed",children:r.address})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Procurement"}),c.jsx("p",{className:"text-lg font-black text-gray-900",children:ve(d.reduce((h,p)=>h+p.total,0))})]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg shadow-[#0f2f57]/20 text-white",children:[c.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-1",children:"Total Payable"}),c.jsx("h4",{className:"text-lg font-black text-red-600",children:ve(r.dueAmount)})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Purchase Bills"}),c.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[d.length," Invoices"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[c.jsx("th",{className:"px-6 py-4",children:"Bill Number"}),c.jsx("th",{className:"px-6 py-4",children:"Bill Date"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:d.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-400 italic",children:"No purchase bills found for this vendor."})}):d.map(h=>c.jsxs("tr",{onMouseEnter:()=>l(h.id),onMouseLeave:()=>l(null),onClick:()=>t(`/bills/${h.id}`),className:"group relative hover:bg-blue-50/30 cursor-pointer transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"font-bold text-gray-900",children:["#",h.billNumber]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:h.billDate}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${f(h.status)}`,children:h.status})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("span",{className:"font-black text-gray-900",children:ve(h.total)})}),s===h.id&&c.jsx("td",{className:"absolute inset-y-0 right-0 flex items-center pr-6 bg-gradient-to-l from-blue-50 via-blue-50 to-transparent",children:c.jsx("div",{className:"flex items-center gap-1 bg-white p-1 rounded-lg shadow-lg border border-[#c7dff5] animate-in fade-in slide-in-from-right-2 duration-200",onClick:p=>p.stopPropagation(),children:c.jsx("button",{title:"Edit",onClick:()=>t(`/bills/edit/${h.id}`),className:`p-2 text-gray-500 hover:${oe.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors`,children:se.Edit})})})]},h.id))})]})})]})})]})]})},koe=({title:e,description:t,icon:r,color:n,to:a})=>{const s=ht();return c.jsxs("button",{onClick:()=>s(a),className:"flex items-start gap-4 p-6 bg-white rounded-lg border border-gray-100 shadow-sm hover:shadow-md hover:border-[#c7dff5] transition-all text-left w-full group",children:[c.jsx("div",{className:`p-4 rounded-lg ${n} transition-transform group-hover:scale-110 duration-300`,children:r}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:e}),c.jsx("p",{className:"text-sm text-gray-500 mt-1 leading-relaxed",children:t}),c.jsxs("div",{className:`mt-4 flex items-center gap-1 ${oe.colors.primary[600]} text-xs font-bold uppercase tracking-widest opacity-0 group-hover:opacity-100 transition-opacity`,children:["View Report ",se.ChevronRight]})]})]})},Poe=()=>{const e=[{title:"Expense Summary",description:"Breakdown of your business spending by category and vendor.",icon:se.Delete,color:"bg-red-50 text-red-600",to:"/reports/expense"},{title:"Income Summary",description:"Analysis of your revenue streams and payment collections.",icon:se.PlusCircle,color:`bg-[#ebf4ff] ${oe.colors.primary[600]}`,to:"/reports/income"},{title:"Income vs Expense",description:"Visual comparison of cash inflows and outflows over time.",icon:se.Transfer,color:`bg-[#e6f0ff] ${oe.colors.secondary[600]}`,to:"/reports/income-vs-expense"},{title:"Profit and Loss",description:"Standard P&L statement to track net business profitability.",icon:se.Reports,color:"bg-purple-50 text-purple-600",to:"/reports/profit-loss"}];return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Financial Reports"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Deep dive into your business metrics and performance."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,r)=>c.jsx(koe,{...t},r))})]})},Toe=()=>{const e=ht(),{data:t=[]}=Ac(),{data:r=[]}=Cc(),{data:n=[]}=Es(),{data:a=[]}=Cs(),s=new Map(a.map(g=>[g.id,g.name])),l=t.filter(g=>g.type==="Expense"),d={};l.forEach(g=>{const y=s.get(g.category)||g.category||"Uncategorized";d[y]=(d[y]||0)+g.amount});const f=Object.entries(d).map(([g,y])=>({name:g,value:y})),h=["#EF4444","#F97316","#F59E0B","#8B5CF6","#EC4899","#3B82F6"],p=()=>{const g=`Date,Category,Contact,Account,Amount,Description
`,y=l.map(_=>{var C,T;const N=((C=r.find(P=>P.id===_.contactId))==null?void 0:C.name)||"N/A",E=((T=n.find(P=>P.id===_.accountId))==null?void 0:T.name)||"N/A",A=s.get(_.category)||_.category||"Uncategorized";return`${_.date},"${A}","${N}","${E}",${_.amount},"${_.description}"`}).join(`
`),b=new Blob([g+y],{type:"text/csv"}),w=window.URL.createObjectURL(b),S=document.createElement("a");S.setAttribute("hidden",""),S.setAttribute("href",w),S.setAttribute("download","expense_summary.csv"),document.body.appendChild(S),S.click(),document.body.removeChild(S)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Expense Summary"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-xl font-bold text-sm text-gray-700 hover:bg-gray-50",children:[se.Download," Export CSV"]}),c.jsx(qe,{variant:"primary",size:"sm",icon:se.Print,children:"Export Image"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-6",children:"Expenses by Category"}),c.jsx("div",{className:"h-[350px]",children:c.jsx(Xl,{width:"100%",height:"100%",children:c.jsxs(v5,{data:f,layout:"vertical",margin:{left:40,right:40},children:[c.jsx(kd,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f1f5f9"}),c.jsx(Td,{type:"number",axisLine:!1,tickLine:!1,tick:{fontSize:10}}),c.jsx(Dd,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),c.jsx(Jl,{formatter:g=>ve(g),contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),c.jsx(Oo,{dataKey:"value",radius:[0,4,4,0],barSize:30,children:f.map((g,y)=>c.jsx(Fo,{fill:h[y%h.length]},`cell-${y}`))})]})})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsx("h3",{className:"font-bold text-gray-800",children:"Key Statistics"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-bold text-red-400 uppercase tracking-widest",children:"Total Outflow"}),c.jsx("h4",{className:"text-3xl font-black text-red-600",children:ve(l.reduce((g,y)=>g+y.amount,0))})]}),c.jsx("div",{className:"divide-y divide-gray-50",children:f.sort((g,y)=>y.value-g.value).slice(0,5).map((g,y)=>c.jsxs("div",{className:"py-3 flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium text-gray-500",children:g.name}),c.jsx("span",{className:"text-sm font-bold text-gray-900",children:ve(g.value)})]},y))})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 shadow-sm overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-50",children:c.jsx("h3",{className:"font-bold text-gray-900",children:"Recent Expense Log"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase",children:[c.jsx("th",{className:"px-6 py-4",children:"Date"}),c.jsx("th",{className:"px-6 py-4",children:"Category"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:l.slice(0,10).map(g=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:g.date}),c.jsx("td",{className:"px-6 py-4 text-sm font-bold text-gray-800",children:s.get(g.category)||g.category||"Uncategorized"}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-red-600",children:ve(g.amount)})]},g.id))})]})})]})]})},Doe=()=>{const e=ht(),{data:t=[]}=Ac(),{data:r=[]}=$o(),{data:n=[]}=Oc(),{data:a=[]}=Cs(),s=new Map(a.map(b=>[b.id,b.name])),l=t.filter(b=>b.type==="Income"),d={};l.forEach(b=>{d[b.category]=(d[b.category]||0)+b.amount});const f=Object.entries(d).map(([b,w])=>({name:s.get(b)||b||"Uncategorized",value:w})),h=["#10B981","#34D399","#6EE7B7","#A7F3D0","#D1FAE5"],p=n.filter(b=>b.status===Ue.COMPLETED),g={};p.forEach(b=>{g[b.customerId]=(g[b.customerId]||0)+b.total});const y=r.map(b=>({...b,revenue:g[b.id]||0})).filter(b=>b.revenue>0).sort((b,w)=>w.revenue-b.revenue).slice(0,3);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Income Summary"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-xl font-bold text-sm text-gray-700 hover:bg-gray-50",children:[se.Download," Export CSV"]}),c.jsx(qe,{variant:"primary",size:"sm",icon:se.Print,children:"Export Image"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm flex flex-col items-center",children:[c.jsx("h3",{className:"font-bold text-gray-800 self-start mb-6",children:"Revenue Mix"}),c.jsx("div",{className:"w-full h-[300px]",children:c.jsx(Xl,{width:"100%",height:"100%",children:c.jsxs(x5,{children:[c.jsx(M1,{data:f,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:f.map((b,w)=>c.jsx(Fo,{fill:h[w%h.length]},`cell-${w}`))}),c.jsx(Jl,{formatter:b=>ve(b)}),c.jsx(tg,{verticalAlign:"bottom",align:"center"})]})})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:`${oe.colors.primary[600]} p-8 rounded-lg text-white shadow-lg shadow-[#0f2f57]/20`,children:[c.jsx("p",{className:"text-[#c7dff5] text-xs font-bold uppercase tracking-widest mb-1",children:"Total Revenue Collected"}),c.jsx("h4",{className:"text-4xl font-black",children:ve(l.reduce((b,w)=>b+w.amount,0))}),c.jsxs("div",{className:"mt-6 p-4 bg-white/10 rounded-xl flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium",children:"Avg Transaction Size"}),c.jsx("span",{className:"font-bold",children:ve(l.length?l.reduce((b,w)=>b+w.amount,0)/l.length:0)})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Top Customers"}),c.jsx("div",{className:"space-y-4",children:y.map((b,w)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center font-bold text-xs",children:b.name.charAt(0)}),c.jsx("span",{className:"text-sm font-semibold text-gray-700",children:b.name})]}),c.jsx("span",{className:`text-sm font-black ${oe.colors.primary[600]}`,children:ve(b.revenue)})]},w))})]})]})]})]})},Moe=()=>{const e=ht(),{data:t=[]}=Oc(),{data:r=[]}=Ec(),{data:n=[]}=Ac(),a=j.useMemo(()=>{const s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=new Date().getFullYear(),d={};return s.forEach(f=>{d[f]={income:0,expense:0}}),t.forEach(f=>{const h=new Date(f.orderDate);if(h.getFullYear()===l){const p=h.getMonth(),g=s[p];d[g].income+=f.total}}),r.forEach(f=>{const h=new Date(f.billDate);if(h.getFullYear()===l){const p=h.getMonth(),g=s[p];d[g].expense+=f.total}}),n.filter(f=>f.type==="Expense"&&f.category!=="expense_purchases").forEach(f=>{const h=new Date(f.date);if(h.getFullYear()===l){const p=h.getMonth(),g=s[p];d[g].expense+=f.amount}}),s.map(f=>({name:f,income:d[f].income,expense:d[f].expense,profit:d[f].income-d[f].expense}))},[t,r,n]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Income vs Expense Trend"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx(qe,{variant:"primary",size:"sm",icon:se.Print,children:"Export Full Report"})})]}),c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-8",children:"Cash Flow Dynamics (Last 6 Months)"}),c.jsx("div",{className:"h-[400px]",children:c.jsx(Xl,{width:"100%",height:"100%",children:c.jsxs(w5,{data:a,children:[c.jsx(kd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(Td,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12}}),c.jsx(Dd,{axisLine:!1,tickLine:!1,tick:{fontSize:12}}),c.jsx(Jl,{formatter:s=>ve(s),contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),c.jsx(tg,{verticalAlign:"top",align:"right",height:36}),c.jsx(Oo,{dataKey:"income",fill:"#10B981",radius:[4,4,0,0],name:"Total Income",barSize:40}),c.jsx(Oo,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],name:"Total Expense",barSize:40}),c.jsx(U1,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"},name:"Net Cash Flow"})]})})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:(()=>{var p,g,y,b;const s=a.reduce((w,S)=>w+S.income,0),l=a.reduce((w,S)=>w+S.expense,0),d=a.length>0?(s-l)/a.length:0,f=a.reduce((w,S,_)=>S.income>a[w].income?_:w,0),h=a.reduce((w,S,_)=>S.expense<a[w].expense?_:w,0);return[{label:"Highest Revenue Month",value:((p=a[f])==null?void 0:p.name)||"",amount:((g=a[f])==null?void 0:g.income)||0,color:`${oe.colors.primary[600]}`},{label:"Least Expense Month",value:((y=a[h])==null?void 0:y.name)||"",amount:((b=a[h])==null?void 0:b.expense)||0,color:"${theme.colors.secondary[600]}"},{label:"Average Monthly Profit",value:"Monthly Avg",amount:d,color:"text-purple-600"}].map((w,S)=>c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:w.label}),c.jsx("h4",{className:"text-xl font-bold text-gray-900 mt-1",children:w.value}),c.jsx("p",{className:`text-lg font-black mt-2 ${w.color}`,children:ve(w.amount)})]},S))})()})]})},Wa=({label:e,amount:t,isBold:r,isTotal:n,indent:a})=>c.jsxs("div",{className:`flex justify-between py-2 ${r?"font-bold text-gray-900":"text-gray-600"} ${n?"border-t-2 border-gray-100 pt-4 mt-2":""} ${a?"pl-6":""}`,children:[c.jsx("span",{className:"text-sm",children:e}),c.jsx("span",{className:"text-sm font-black",children:ve(t)})]}),Roe=()=>{const e=ht(),{data:t=[]}=Oc(),{data:r=[]}=Ec(),{data:n=[]}=Ac(),{data:a=[]}=Cs(),s=new Map(a.map(w=>[w.id,w.name])),[l,d]=j.useState("currentYear"),[f,h]=j.useState(""),[p,g]=j.useState(""),y=w=>{const S=new Date(w),_=new Date;return l==="currentYear"?S.getFullYear()===_.getFullYear():l==="currentMonth"?S.getFullYear()===_.getFullYear()&&S.getMonth()===_.getMonth():l==="custom"?!f||!p?!0:S>=new Date(f)&&S<=new Date(p):!0},b=j.useMemo(()=>{const w=t.filter(P=>P.status===Ue.COMPLETED&&y(P.orderDate)),S=w.reduce((P,D)=>P+D.total,0),_=r.filter(P=>y(P.billDate)),N=_.reduce((P,D)=>P+D.total,0),E=S-N,A=n.filter(P=>P.type==="Expense"&&P.category!=="expense_purchases"&&y(P.date)),C=A.reduce((P,D)=>P+D.amount,0),T=E-C;return{grossSales:S,costOfPurchases:N,grossProfit:E,expenses:A,totalOperatingExpenses:C,netProfit:T,completedOrders:w,purchaseBills:_}},[t,r,n,l,f,p]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profit and Loss Statement"})]}),c.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl transition-colors",children:[se.Print," Print Statement"]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4",children:"Period"}),c.jsxs("div",{className:"flex gap-4 items-end",children:[c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"currentYear",checked:l==="currentYear",onChange:w=>d(w.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Year"})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"currentMonth",checked:l==="currentMonth",onChange:w=>d(w.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Month"})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"custom",checked:l==="custom",onChange:w=>d(w.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Custom Range"})]})]}),l==="custom"&&c.jsxs("div",{className:"flex gap-3 ml-auto",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-600",children:"From:"}),c.jsx("input",{type:"date",value:f,onChange:w=>h(w.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-600",children:"To:"}),c.jsx("input",{type:"date",value:p,onChange:w=>g(w.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"})]})]})]})]}),c.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"p-8 bg-gray-50 border-b border-gray-100 text-center",children:[xe.settings.company.logo&&c.jsx("img",{src:xe.settings.company.logo,className:"w-16 h-16 rounded-xl mx-auto mb-4 grayscale opacity-50"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:xe.settings.company.name}),c.jsxs("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest mt-1",children:["For the period ending ",new Date().toLocaleDateString("en-BD",{month:"long",day:"numeric",year:"numeric"})]})]}),c.jsxs("div",{className:"p-8 space-y-2",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Revenue"}),c.jsx(Wa,{label:"Gross Sales (Completed Orders)",amount:b.grossSales}),c.jsx(Wa,{label:"Other Operating Income",amount:0}),c.jsx(Wa,{label:"Total Revenue",amount:b.grossSales,isBold:!0,isTotal:!0}),c.jsxs("div",{className:"pt-8",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Cost of Goods Sold"}),c.jsx(Wa,{label:"Purchases",amount:b.costOfPurchases}),c.jsx(Wa,{label:"Total COGS",amount:b.costOfPurchases,isBold:!0,isTotal:!0})]}),c.jsx("div",{className:"pt-8",children:c.jsx(Wa,{label:"Gross Profit",amount:b.grossProfit,isBold:!0})}),c.jsxs("div",{className:"pt-8",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Operating Expenses"}),b.expenses.slice(0,5).map((w,S)=>{const _=s.get(w.category)||w.category||"Uncategorized";return c.jsx(Wa,{label:_,amount:w.amount,indent:!0},S)}),b.expenses.length>5&&c.jsx(Wa,{label:"Other Miscellaneous",amount:b.expenses.slice(5).reduce((w,S)=>w+S.amount,0),indent:!0}),c.jsx(Wa,{label:"Total Operating Expenses",amount:b.totalOperatingExpenses,isBold:!0,isTotal:!0})]}),c.jsx("div",{className:"pt-12",children:c.jsxs("div",{className:`p-6 rounded-lg flex justify-between items-center ${b.netProfit>=0?oe.colors.primary[600]:"bg-red-600"} text-white shadow-xl`,children:[c.jsx("span",{className:"text-lg font-black uppercase tracking-widest",children:"Net Profit / Loss"}),c.jsx("span",{className:"text-3xl font-black",children:ve(b.netProfit)})]})})]}),c.jsx("div",{className:"p-8 text-center text-[10px] text-gray-300 italic border-t border-gray-50",children:"This report is generated automatically by BD Hatbela Financial Management System."})]})]})},YP=({order:e,customer:t,products:r,companySettings:n,invoiceSettings:a})=>c.jsxs("div",{className:"space-y-5 print:space-y-4 text-gray-900",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[((n==null?void 0:n.logo)||xe.settings.company.logo)&&c.jsx("img",{src:(n==null?void 0:n.logo)||xe.settings.company.logo,className:"rounded-lg object-cover mb-4",style:{width:(a==null?void 0:a.logoWidth)||xe.settings.invoice.logoWidth,height:(a==null?void 0:a.logoHeight)||xe.settings.invoice.logoHeight},alt:"Company Logo"}),c.jsx("h1",{className:"text-xl font-black uppercase tracking-tighter",children:(n==null?void 0:n.name)||xe.settings.company.name}),c.jsxs("div",{className:"mt-2 text-xs text-gray-400 font-medium space-y-1 print:text-gray-600",children:[c.jsx("p",{children:(n==null?void 0:n.address)||xe.settings.company.address}),c.jsxs("p",{children:[(n==null?void 0:n.phone)||xe.settings.company.phone," "," ",(n==null?void 0:n.email)||xe.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-300 uppercase leading-none mb-2 print:text-gray-400",children:(a==null?void 0:a.title)||xe.settings.invoice.title}),c.jsxs("div",{className:"space-y-1.5 print:space-y-1",children:[c.jsxs("p",{className:"text-sm font-bold text-gray-900 print:text-gray-800",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Order No:"}),e.orderNumber]}),c.jsxs("p",{className:"text-sm font-bold text-gray-900 print:text-gray-800",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Date:"}),new Date(e.orderDate).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-12 border-t border-gray-100 py-4 print:border-gray-300 print:py-3",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 print:mb-2",children:"Billed To"}),c.jsx("h3",{className:"text-md font-black text-gray-900 print:text-gray-800",children:t==null?void 0:t.name}),c.jsx("p",{className:"text-sm text-gray-500 leading-relaxed print:text-gray-600",children:t==null?void 0:t.address}),c.jsx("p",{className:"text-sm font-bold mt-2 print:mt-1",children:t==null?void 0:t.phone})]})}),c.jsxs("table",{className:"w-full text-left print:text-gray-800",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100 print:border-gray-300",children:[c.jsx("th",{className:"py-4 text-sm font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Item Description"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Rate"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Qty"}),c.jsx("th",{className:"py-4 text-sm text-right font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50 print:divide-gray-300",children:e.items.map((s,l)=>{const d=r.find(f=>f.id===s.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-6 print:py-3",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:d==null?void 0:d.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm print:w-10 print:h-10 print:rounded-full print:border-gray-300 print:shadow-none",alt:s.productName}),c.jsx("span",{className:"font-bold text-gray-900 print:text-sm",children:s.productName})]})}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold print:py-3 print:text-sm",children:ve(s.rate)}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold print:py-3 print:text-sm",children:s.quantity}),c.jsx("td",{className:"py-6 text-right font-black text-gray-900 print:py-3 print:text-sm",children:ve(s.amount)})]},l)})})]}),c.jsx("div",{className:"flex justify-end pt-6 print:pt-4",children:c.jsxs("div",{className:"w-full max-w-xs space-y-4 print:space-y-2 print:text-sm",children:[c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900 print:text-gray-800",children:ve(e.subtotal)})]}),e.discount>0&&c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500 print:text-red-600",children:["-",ve(e.discount)]})]}),e.shipping>0&&c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900 print:text-gray-800",children:ve(e.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-6 border-t-2 border-[#0f2f57] print:py-3 print:border-t print:border-gray-400",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter print:text-gray-800",children:"Net Total"}),c.jsx("span",{className:"font-black text-gray-900 print:text-gray-800",children:ve(e.total)})]})]})}),e.notes&&c.jsxs("div",{className:"bg-gray-50 p-4 rounded-[10px] border border-gray-100 print:bg-white print:p-3 print:rounded-lg print:border-gray-300",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase tracking-widest mb-2 print:text-gray-500 print:mb-1",children:"Terms & Notes"}),c.jsx("p",{className:"text-xs text-gray-600 font-medium italic leading-relaxed print:text-gray-700",children:e.notes})]})]}),Ioe=()=>{const{id:e}=En(),{data:t,isPending:r}=Lw(e||""),{data:n=[]}=$o(),{data:a=[]}=As(),{data:s=[]}=Qd(),{data:l}=Pp(),{data:d}=Dp(),f=j.useRef(!1),h=t?n.find(p=>p.id===t.customerId):void 0;return t&&a.find(p=>p.id===t.createdBy),j.useEffect(()=>{t&&!r&&!f.current&&(f.current=!0,hoe())},[t,r]),r||!t?c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading details..."}):c.jsxs("div",{className:"min-h-screen bg-white print:bg-white",children:[c.jsxs("div",{className:"space-y-0 print:space-y-0",children:[c.jsx("div",{className:"bg-white p-6 lg:p-10 print:p-6 min-h-screen print:min-h-fit",children:c.jsx(YP,{order:t,customer:h,products:s,companySettings:l,invoiceSettings:d})}),c.jsx("div",{className:"bg-white p-6 lg:p-10 print:p-6 min-h-screen print:min-h-fit",style:{pageBreakBefore:"always"},children:c.jsx(YP,{order:t,customer:h,products:s,companySettings:l,invoiceSettings:d})})]}),c.jsx("style",{children:`
        @media print {
          body {
            margin: 0;
            padding: 0;
            background: white;
          }
          .no-print {
            display: none !important;
          }
          table {
            page-break-inside: avoid;
          }
          tr {
            page-break-inside: avoid;
          }
          @page {
            margin: 0.25in;
            size: A4;
          }
          .print:page-break-avoid {
            page-break-inside: avoid;
          }
          .grid {
            page-break-inside: avoid;
          }
        }
      `})]})},Loe=new n6({defaultOptions:{queries:{staleTime:300*1e3,gcTime:1800*1e3,retry:2,retryDelay:e=>Math.min(1e3*2**e,1e4),refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1},mutations:{retry:1,retryDelay:1e3}}}),Boe=({user:e,profile:t,isLoading:r})=>{const n=e&&t;return c.jsxs(e$,{children:[c.jsx(Qe,{path:"/login",element:n?c.jsx($e,{to:"/dashboard",replace:!0}):c.jsx(c9,{})}),c.jsx(Qe,{path:"/",element:e?c.jsx($e,{to:"/dashboard",replace:!0}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/dashboard",element:e?c.jsx(Je,{children:c.jsx(Kse,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/orders",element:e?c.jsx(Je,{children:c.jsx(moe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/orders/new",element:e?c.jsx(Je,{children:c.jsx(KP,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/orders/edit/:id",element:e?c.jsx(Je,{children:c.jsx(KP,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/orders/:id",element:e?c.jsx(Je,{children:c.jsx(poe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/print-order/:id",element:e?c.jsx(Ioe,{}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/bills",element:e?c.jsx(Je,{children:c.jsx(goe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/bills/new",element:e?c.jsx(Je,{children:c.jsx(FP,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/bills/edit/:id",element:e?c.jsx(Je,{children:c.jsx(FP,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/bills/:id",element:e?c.jsx(Je,{children:c.jsx(yoe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/banking/accounts",element:e?c.jsx(Je,{children:c.jsx(voe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/banking/transfer",element:e?c.jsx(Je,{children:c.jsx(woe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/banking/transactions",element:e?c.jsx(Je,{children:c.jsx(boe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/transactions",element:e?c.jsx($e,{to:"/banking/transactions",replace:!0}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/transactions/new/:type",element:e?c.jsx(Je,{children:c.jsx(xoe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/customers",element:e?c.jsx(Je,{children:c.jsx(Ooe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/customers/new",element:e?c.jsx(Je,{children:c.jsx(VP,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/customers/edit/:id",element:e?c.jsx(Je,{children:c.jsx(VP,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/customers/:id",element:e?c.jsx(Je,{children:c.jsx(Eoe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/vendors",element:e?c.jsx(Je,{children:c.jsx(Aoe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/vendors/new",element:e?c.jsx(Je,{children:c.jsx(GP,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/vendors/edit/:id",element:e?c.jsx(Je,{children:c.jsx(GP,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/vendors/:id",element:e?c.jsx(Je,{children:c.jsx(Coe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/products",element:e?c.jsx(Je,{children:c.jsx(joe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/products/new",element:e?c.jsx(Je,{children:c.jsx(QP,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/products/edit/:id",element:e?c.jsx(Je,{children:c.jsx(QP,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/users",element:e?c.jsx(Je,{children:c.jsx(Soe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/users/new",element:e?c.jsx(Je,{children:c.jsx(HP,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/users/edit/:id",element:e?c.jsx(Je,{children:c.jsx(HP,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/users/:id",element:e?c.jsx(Je,{children:c.jsx(_oe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/reports",element:e?c.jsx(Je,{children:c.jsx(Poe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/reports/expense",element:e?c.jsx(Je,{children:c.jsx(Toe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/reports/income",element:e?c.jsx(Je,{children:c.jsx(Doe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/reports/income-vs-expense",element:e?c.jsx(Je,{children:c.jsx(Moe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/reports/profit-loss",element:e?c.jsx(Je,{children:c.jsx(Roe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"/settings",element:e?c.jsx(Je,{children:c.jsx(Noe,{})}):c.jsx($e,{to:"/login",replace:!0})}),c.jsx(Qe,{path:"*",element:e?c.jsx($e,{to:"/dashboard",replace:!0}):c.jsx($e,{to:"/login",replace:!0})})]})},$oe=()=>{const{user:e,profile:t,isLoading:r}=jp();return console.log("[App] Render - user:",!!e,"profile:",!!t,"isLoading:",r),r?(console.log("[App] Rendering loading screen"),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block p-4",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),c.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading..."})]})})):c.jsx(Boe,{user:e,profile:t,isLoading:r})},Uoe=()=>(console.log("[App] Root component rendering - setting up providers"),c.jsx(a6,{client:Loe,children:c.jsx(Xz,{children:c.jsx(rq,{children:c.jsx(Zz,{children:c.jsx(Jz,{children:c.jsx(tq,{children:c.jsxs(_$,{children:[c.jsx($oe,{}),c.jsx(l9,{}),c.jsx(o9,{})]})})})})})})})),N5=document.getElementById("root");if(!N5)throw new Error("Could not find root element to mount to");const zoe=nB.createRoot(N5);zoe.render(c.jsx(br.StrictMode,{children:c.jsx(Uoe,{})}));window.__testSupabase={async testCustomers(){console.log(" Testing customer fetch...");try{const e=await sD();return console.log(" Success! Customers:",e),e}catch(e){throw console.error(" Error:",e),e}},async testConnection(){console.log(" Testing Supabase connection...");try{const{data:e,error:t}=await ye.auth.getSession();if(t)throw t;return console.log(" Connected! Session:",e),e}catch(e){throw console.error(" Connection error:",e),e}},help(){console.log("Available test functions:"),console.log("  __testSupabase.testCustomers() - Fetch customers from DB"),console.log("  __testSupabase.testConnection() - Check auth session"),console.log("  __testSupabase.help() - Show this help")}};console.log(" Tip: Type __testSupabase.help() in console for test commands");
