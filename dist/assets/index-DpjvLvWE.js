var sB=Object.defineProperty;var iE=e=>{throw TypeError(e)};var oB=(e,t,r)=>t in e?sB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Wv=(e,t,r)=>oB(e,typeof t!="symbol"?t+"":t,r),Xv=(e,t,r)=>t.has(e)||iE("Cannot "+r);var z=(e,t,r)=>(Xv(e,t,"read from private field"),r?r.call(e):t.get(e)),Me=(e,t,r)=>t.has(e)?iE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),je=(e,t,r,n)=>(Xv(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),We=(e,t,r)=>(Xv(e,t,"access private method"),r);var qh=(e,t,r,n)=>({set _(a){je(e,t,a,r)},get _(){return z(e,t,n)}});function lB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function Ha(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gle(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Jv={exports:{}},Qu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function cB(){if(sE)return Qu;sE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return Qu.Fragment=t,Qu.jsx=r,Qu.jsxs=r,Qu}var oE;function uB(){return oE||(oE=1,Jv.exports=cB()),Jv.exports}var c=uB(),Zv={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function dB(){if(lE)return Ke;lE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function N(D,U,Z){this.props=D,this.context=U,this.refs=_,this.updater=Z||x}N.prototype.isReactComponent={},N.prototype.setState=function(D,U){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,U,"setState")},N.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function O(){}O.prototype=N.prototype;function E(D,U,Z){this.props=D,this.context=U,this.refs=_,this.updater=Z||x}var C=E.prototype=new O;C.constructor=E,w(C,N.prototype),C.isPureReactComponent=!0;var T=Array.isArray;function P(){}var M={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function B(D,U,Z){var q=Z.ref;return{$$typeof:e,type:D,key:U,ref:q!==void 0?q:null,props:Z}}function H(D,U){return B(D.type,U,D.props)}function Y(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function K(D){var U={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Z){return U[Z]})}var me=/\/+/g;function ie(D,U){return typeof D=="object"&&D!==null&&D.key!=null?K(""+D.key):U.toString(36)}function ye(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(P,P):(D.status="pending",D.then(function(U){D.status==="pending"&&(D.status="fulfilled",D.value=U)},function(U){D.status==="pending"&&(D.status="rejected",D.reason=U)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function L(D,U,Z,q,ge){var ve=typeof D;(ve==="undefined"||ve==="boolean")&&(D=null);var pe=!1;if(D===null)pe=!0;else switch(ve){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(D.$$typeof){case e:case t:pe=!0;break;case p:return pe=D._init,L(pe(D._payload),U,Z,q,ge)}}if(pe)return ge=ge(D),pe=q===""?"."+ie(D,0):q,T(ge)?(Z="",pe!=null&&(Z=pe.replace(me,"$&/")+"/"),L(ge,U,Z,"",function(_e){return _e})):ge!=null&&(Y(ge)&&(ge=H(ge,Z+(ge.key==null||D&&D.key===ge.key?"":(""+ge.key).replace(me,"$&/")+"/")+pe)),U.push(ge)),1;pe=0;var ke=q===""?".":q+":";if(T(D))for(var te=0;te<D.length;te++)q=D[te],ve=ke+ie(q,te),pe+=L(q,U,Z,ve,ge);else if(te=v(D),typeof te=="function")for(D=te.call(D),te=0;!(q=D.next()).done;)q=q.value,ve=ke+ie(q,te++),pe+=L(q,U,Z,ve,ge);else if(ve==="object"){if(typeof D.then=="function")return L(ye(D),U,Z,q,ge);throw U=String(D),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return pe}function V(D,U,Z){if(D==null)return D;var q=[],ge=0;return L(D,q,"","",function(ve){return U.call(Z,ve,ge++)}),q}function ne(D){if(D._status===-1){var U=D._result;U=U(),U.then(function(Z){(D._status===0||D._status===-1)&&(D._status=1,D._result=Z)},function(Z){(D._status===0||D._status===-1)&&(D._status=2,D._result=Z)}),D._status===-1&&(D._status=0,D._result=U)}if(D._status===1)return D._result.default;throw D._result}var he=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},I={map:V,forEach:function(D,U,Z){V(D,function(){U.apply(this,arguments)},Z)},count:function(D){var U=0;return V(D,function(){U++}),U},toArray:function(D){return V(D,function(U){return U})||[]},only:function(D){if(!Y(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ke.Activity=g,Ke.Children=I,Ke.Component=N,Ke.Fragment=r,Ke.Profiler=a,Ke.PureComponent=E,Ke.StrictMode=n,Ke.Suspense=f,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(D){return M.H.useMemoCache(D)}},Ke.cache=function(D){return function(){return D.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(D,U,Z){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var q=w({},D.props),ge=D.key;if(U!=null)for(ve in U.key!==void 0&&(ge=""+U.key),U)!R.call(U,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&U.ref===void 0||(q[ve]=U[ve]);var ve=arguments.length-2;if(ve===1)q.children=Z;else if(1<ve){for(var pe=Array(ve),ke=0;ke<ve;ke++)pe[ke]=arguments[ke+2];q.children=pe}return B(D.type,ge,q)},Ke.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:s,_context:D},D},Ke.createElement=function(D,U,Z){var q,ge={},ve=null;if(U!=null)for(q in U.key!==void 0&&(ve=""+U.key),U)R.call(U,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(ge[q]=U[q]);var pe=arguments.length-2;if(pe===1)ge.children=Z;else if(1<pe){for(var ke=Array(pe),te=0;te<pe;te++)ke[te]=arguments[te+2];ge.children=ke}if(D&&D.defaultProps)for(q in pe=D.defaultProps,pe)ge[q]===void 0&&(ge[q]=pe[q]);return B(D,ve,ge)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(D){return{$$typeof:d,render:D}},Ke.isValidElement=Y,Ke.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:ne}},Ke.memo=function(D,U){return{$$typeof:h,type:D,compare:U===void 0?null:U}},Ke.startTransition=function(D){var U=M.T,Z={};M.T=Z;try{var q=D(),ge=M.S;ge!==null&&ge(Z,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(P,he)}catch(ve){he(ve)}finally{U!==null&&Z.types!==null&&(U.types=Z.types),M.T=U}},Ke.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ke.use=function(D){return M.H.use(D)},Ke.useActionState=function(D,U,Z){return M.H.useActionState(D,U,Z)},Ke.useCallback=function(D,U){return M.H.useCallback(D,U)},Ke.useContext=function(D){return M.H.useContext(D)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(D,U){return M.H.useDeferredValue(D,U)},Ke.useEffect=function(D,U){return M.H.useEffect(D,U)},Ke.useEffectEvent=function(D){return M.H.useEffectEvent(D)},Ke.useId=function(){return M.H.useId()},Ke.useImperativeHandle=function(D,U,Z){return M.H.useImperativeHandle(D,U,Z)},Ke.useInsertionEffect=function(D,U){return M.H.useInsertionEffect(D,U)},Ke.useLayoutEffect=function(D,U){return M.H.useLayoutEffect(D,U)},Ke.useMemo=function(D,U){return M.H.useMemo(D,U)},Ke.useOptimistic=function(D,U){return M.H.useOptimistic(D,U)},Ke.useReducer=function(D,U,Z){return M.H.useReducer(D,U,Z)},Ke.useRef=function(D){return M.H.useRef(D)},Ke.useState=function(D){return M.H.useState(D)},Ke.useSyncExternalStore=function(D,U,Z){return M.H.useSyncExternalStore(D,U,Z)},Ke.useTransition=function(){return M.H.useTransition()},Ke.version="19.2.4",Ke}var cE;function Ic(){return cE||(cE=1,Zv.exports=dB()),Zv.exports}var j=Ic();const Ze=Ha(j),fB=lB({__proto__:null,default:Ze},[j]);var e0={exports:{}},Hu={},t0={exports:{}},r0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function hB(){return uE||(uE=1,(function(e){function t(L,V){var ne=L.length;L.push(V);e:for(;0<ne;){var he=ne-1>>>1,I=L[he];if(0<a(I,V))L[he]=V,L[ne]=I,ne=he;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var V=L[0],ne=L.pop();if(ne!==V){L[0]=ne;e:for(var he=0,I=L.length,D=I>>>1;he<D;){var U=2*(he+1)-1,Z=L[U],q=U+1,ge=L[q];if(0>a(Z,ne))q<I&&0>a(ge,Z)?(L[he]=ge,L[q]=ne,he=q):(L[he]=Z,L[U]=ne,he=U);else if(q<I&&0>a(ge,ne))L[he]=ge,L[q]=ne,he=q;else break e}}return V}function a(L,V){var ne=L.sortIndex-V.sortIndex;return ne!==0?ne:L.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,y=3,v=!1,x=!1,w=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function C(L){for(var V=r(h);V!==null;){if(V.callback===null)n(h);else if(V.startTime<=L)n(h),V.sortIndex=V.expirationTime,t(f,V);else break;V=r(h)}}function T(L){if(w=!1,C(L),!x)if(r(f)!==null)x=!0,P||(P=!0,K());else{var V=r(h);V!==null&&ye(T,V.startTime-L)}}var P=!1,M=-1,R=5,B=-1;function H(){return _?!0:!(e.unstable_now()-B<R)}function Y(){if(_=!1,P){var L=e.unstable_now();B=L;var V=!0;try{e:{x=!1,w&&(w=!1,O(M),M=-1),v=!0;var ne=y;try{t:{for(C(L),g=r(f);g!==null&&!(g.expirationTime>L&&H());){var he=g.callback;if(typeof he=="function"){g.callback=null,y=g.priorityLevel;var I=he(g.expirationTime<=L);if(L=e.unstable_now(),typeof I=="function"){g.callback=I,C(L),V=!0;break t}g===r(f)&&n(f),C(L)}else n(f);g=r(f)}if(g!==null)V=!0;else{var D=r(h);D!==null&&ye(T,D.startTime-L),V=!1}}break e}finally{g=null,y=ne,v=!1}V=void 0}}finally{V?K():P=!1}}}var K;if(typeof E=="function")K=function(){E(Y)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ie=me.port2;me.port1.onmessage=Y,K=function(){ie.postMessage(null)}}else K=function(){N(Y,0)};function ye(L,V){M=N(function(){L(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(L){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var ne=y;y=V;try{return L()}finally{y=ne}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ne=y;y=L;try{return V()}finally{y=ne}},e.unstable_scheduleCallback=function(L,V,ne){var he=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?he+ne:he):ne=he,L){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ne+I,L={id:p++,callback:V,priorityLevel:L,startTime:ne,expirationTime:I,sortIndex:-1},ne>he?(L.sortIndex=ne,t(h,L),r(f)===null&&L===r(h)&&(w?(O(M),M=-1):w=!0,ye(T,ne-he))):(L.sortIndex=I,t(f,L),x||v||(x=!0,P||(P=!0,K()))),L},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(L){var V=y;return function(){var ne=y;y=V;try{return L.apply(this,arguments)}finally{y=ne}}}})(r0)),r0}var dE;function mB(){return dE||(dE=1,t0.exports=hB()),t0.exports}var n0={exports:{}},Gr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function pB(){if(fE)return Gr;fE=1;var e=Ic();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Gr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,p)},Gr.flushSync=function(f){var h=l.T,p=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=h,n.p=p,n.d.f()}},Gr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},Gr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Gr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:v}):p==="script"&&n.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Gr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},Gr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);n.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Gr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},Gr.requestFormReset=function(f){n.d.r(f)},Gr.unstable_batchedUpdates=function(f,h){return f(h)},Gr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Gr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Gr.version="19.2.4",Gr}var hE;function ET(){if(hE)return n0.exports;hE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),n0.exports=pB(),n0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function gB(){if(mE)return Hu;mE=1;var e=mB(),t=Ic(),r=ET();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(n(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,m=o;;){var b=u.return;if(b===null)break;var S=b.alternate;if(S===null){if(m=b.return,m!==null){u=m;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===u)return f(b),i;if(S===m)return f(b),o;S=S.sibling}throw Error(n(188))}if(u.return!==m.return)u=b,m=S;else{for(var A=!1,k=b.child;k;){if(k===u){A=!0,u=b,m=S;break}if(k===m){A=!0,m=b,u=S;break}k=k.sibling}if(!A){for(k=S.child;k;){if(k===u){A=!0,u=S,m=b;break}if(k===m){A=!0,m=S,u=b;break}k=k.sibling}if(!A)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=Y&&i[Y]||i["@@iterator"],typeof i=="function"?i:null)}var me=Symbol.for("react.client.reference");function ie(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===me?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList";case B:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case E:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case C:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return o=i.displayName||null,o!==null?o:ie(i.type)||"Memo";case R:o=i._payload,i=i._init;try{return ie(i(o))}catch{}}return null}var ye=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},he=[],I=-1;function D(i){return{current:i}}function U(i){0>I||(i.current=he[I],he[I]=null,I--)}function Z(i,o){I++,he[I]=i.current,i.current=o}var q=D(null),ge=D(null),ve=D(null),pe=D(null);function ke(i,o){switch(Z(ve,o),Z(ge,i),Z(q,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?AO(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=AO(o),i=CO(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}U(q),Z(q,i)}function te(){U(q),U(ge),U(ve)}function _e(i){i.memoizedState!==null&&Z(pe,i);var o=q.current,u=CO(o,i.type);o!==u&&(Z(ge,i),Z(q,u))}function Pe(i){ge.current===i&&(U(q),U(ge)),pe.current===i&&(U(pe),zu._currentValue=ne)}var ce,ze;function Fe(i){if(ce===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ce=o&&o[1]||"",ze=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+i+ze}var et=!1;function jt(i,o){if(!i||et)return"";et=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var ee=re}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(re){ee=re}i.call(fe.prototype)}}else{try{throw Error()}catch(re){ee=re}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),A=S[0],k=S[1];if(A&&k){var $=A.split(`
`),J=k.split(`
`);for(b=m=0;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;for(;b<J.length&&!J[b].includes("DetermineComponentFrameRoot");)b++;if(m===$.length||b===J.length)for(m=$.length-1,b=J.length-1;1<=m&&0<=b&&$[m]!==J[b];)b--;for(;1<=m&&0<=b;m--,b--)if($[m]!==J[b]){if(m!==1||b!==1)do if(m--,b--,0>b||$[m]!==J[b]){var le=`
`+$[m].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=m&&0<=b);break}}}finally{et=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Fe(u):""}function qt(i,o){switch(i.tag){case 26:case 27:case 5:return Fe(i.type);case 16:return Fe("Lazy");case 13:return i.child!==o&&o!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return jt(i.type,!1);case 11:return jt(i.type.render,!1);case 1:return jt(i.type,!0);case 31:return Fe("Activity");default:return""}}function Ir(i){try{var o="",u=null;do o+=qt(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var tn=Object.prototype.hasOwnProperty,se=e.unstable_scheduleCallback,yt=e.unstable_cancelCallback,Yt=e.unstable_shouldYield,St=e.unstable_requestPaint,G=e.unstable_now,de=e.unstable_getCurrentPriorityLevel,Le=e.unstable_ImmediatePriority,Ie=e.unstable_UserBlockingPriority,vt=e.unstable_NormalPriority,xe=e.unstable_LowPriority,Qe=e.unstable_IdlePriority,pt=e.log,rn=e.unstable_setDisableYieldValue,vr=null,lr=null;function Lr(i){if(typeof pt=="function"&&rn(i),lr&&typeof lr.setStrictMode=="function")try{lr.setStrictMode(vr,i)}catch{}}var Ft=Math.clz32?Math.clz32:H5,Oa=Math.log,sl=Math.LN2;function H5(i){return i>>>=0,i===0?32:31-(Oa(i)/sl|0)|0}var Of=256,Ef=262144,Af=4194304;function Vs(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Cf(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var b=0,S=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var k=m&134217727;return k!==0?(m=k&~S,m!==0?b=Vs(m):(A&=k,A!==0?b=Vs(A):u||(u=k&~i,u!==0&&(b=Vs(u))))):(k=m&~S,k!==0?b=Vs(k):A!==0?b=Vs(A):u||(u=m&~i,u!==0&&(b=Vs(u)))),b===0?0:o!==0&&o!==b&&(o&S)===0&&(S=b&-b,u=o&-o,S>=u||S===32&&(u&4194048)!==0)?o:b}function eu(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function V5(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cS(){var i=Af;return Af<<=1,(Af&62914560)===0&&(Af=4194304),i}function Bg(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function tu(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function G5(i,o,u,m,b,S){var A=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var k=i.entanglements,$=i.expirationTimes,J=i.hiddenUpdates;for(u=A&~u;0<u;){var le=31-Ft(u),fe=1<<le;k[le]=0,$[le]=-1;var ee=J[le];if(ee!==null)for(J[le]=null,le=0;le<ee.length;le++){var re=ee[le];re!==null&&(re.lane&=-536870913)}u&=~fe}m!==0&&uS(i,m,0),S!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=S&~(A&~o))}function uS(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-Ft(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function dS(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-Ft(u),b=1<<m;b&o|i[m]&o&&(i[m]|=o),u&=~b}}function fS(i,o){var u=o&-o;return u=(u&42)!==0?1:$g(u),(u&(i.suspendedLanes|o))!==0?0:u}function $g(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ug(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function hS(){var i=V.p;return i!==0?i:(i=window.event,i===void 0?32:JO(i.type))}function mS(i,o){var u=V.p;try{return V.p=i,o()}finally{V.p=u}}var Hi=Math.random().toString(36).slice(2),Br="__reactFiber$"+Hi,dn="__reactProps$"+Hi,ol="__reactContainer$"+Hi,zg="__reactEvents$"+Hi,Y5="__reactListeners$"+Hi,W5="__reactHandles$"+Hi,pS="__reactResources$"+Hi,ru="__reactMarker$"+Hi;function qg(i){delete i[Br],delete i[dn],delete i[zg],delete i[Y5],delete i[W5]}function ll(i){var o=i[Br];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ol]||u[Br]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=IO(i);i!==null;){if(u=i[Br])return u;i=IO(i)}return o}i=u,u=i.parentNode}return null}function cl(i){if(i=i[Br]||i[ol]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function nu(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function ul(i){var o=i[pS];return o||(o=i[pS]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Or(i){i[ru]=!0}var gS=new Set,yS={};function Gs(i,o){dl(i,o),dl(i+"Capture",o)}function dl(i,o){for(yS[i]=o,i=0;i<o.length;i++)gS.add(o[i])}var X5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vS={},bS={};function J5(i){return tn.call(bS,i)?!0:tn.call(vS,i)?!1:X5.test(i)?bS[i]=!0:(vS[i]=!0,!1)}function kf(i,o,u){if(J5(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Pf(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Ga(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function qn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xS(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Z5(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,S=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(A){u=""+A,S.call(this,A)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Fg(i){if(!i._valueTracker){var o=xS(i)?"checked":"value";i._valueTracker=Z5(i,o,""+i[o])}}function wS(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=xS(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function Tf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var e3=/[\n"\\]/g;function Fn(i){return i.replace(e3,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Kg(i,o,u,m,b,S,A,k){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),o!=null?A==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+qn(o)):i.value!==""+qn(o)&&(i.value=""+qn(o)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),o!=null?Qg(i,A,qn(o)):u!=null?Qg(i,A,qn(u)):m!=null&&i.removeAttribute("value"),b==null&&S!=null&&(i.defaultChecked=!!S),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+qn(k):i.removeAttribute("name")}function jS(i,o,u,m,b,S,A,k){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),o!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){Fg(i);return}u=u!=null?""+qn(u):"",o=o!=null?""+qn(o):u,k||o===i.value||(i.value=o),i.defaultValue=o}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=k?i.checked:!!m,i.defaultChecked=!!m,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Fg(i)}function Qg(i,o,u){o==="number"&&Tf(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function fl(i,o,u,m){if(i=i.options,o){o={};for(var b=0;b<u.length;b++)o["$"+u[b]]=!0;for(u=0;u<i.length;u++)b=o.hasOwnProperty("$"+i[u].value),i[u].selected!==b&&(i[u].selected=b),b&&m&&(i[u].defaultSelected=!0)}else{for(u=""+qn(u),o=null,b=0;b<i.length;b++){if(i[b].value===u){i[b].selected=!0,m&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function SS(i,o,u){if(o!=null&&(o=""+qn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+qn(u):""}function _S(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(n(92));if(ye(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=qn(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),Fg(i)}function hl(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var t3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function NS(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||t3.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function OS(i,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var b in o)m=o[b],o.hasOwnProperty(b)&&u[b]!==m&&NS(i,b,m)}else for(var S in o)o.hasOwnProperty(S)&&NS(i,S,o[S])}function Hg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),n3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Df(i){return n3.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ya(){}var Vg=null;function Gg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ml=null,pl=null;function ES(i){var o=cl(i);if(o&&(i=o.stateNode)){var u=i[dn]||null;e:switch(i=o.stateNode,o.type){case"input":if(Kg(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Fn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var b=m[dn]||null;if(!b)throw Error(n(90));Kg(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&wS(m)}break e;case"textarea":SS(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&fl(i,!!u.multiple,o,!1)}}}var Yg=!1;function AS(i,o,u){if(Yg)return i(o,u);Yg=!0;try{var m=i(o);return m}finally{if(Yg=!1,(ml!==null||pl!==null)&&(xh(),ml&&(o=ml,i=pl,pl=ml=null,ES(o),i)))for(o=0;o<i.length;o++)ES(i[o])}}function au(i,o){var u=i.stateNode;if(u===null)return null;var m=u[dn]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wg=!1;if(Wa)try{var iu={};Object.defineProperty(iu,"passive",{get:function(){Wg=!0}}),window.addEventListener("test",iu,iu),window.removeEventListener("test",iu,iu)}catch{Wg=!1}var Vi=null,Xg=null,Mf=null;function CS(){if(Mf)return Mf;var i,o=Xg,u=o.length,m,b="value"in Vi?Vi.value:Vi.textContent,S=b.length;for(i=0;i<u&&o[i]===b[i];i++);var A=u-i;for(m=1;m<=A&&o[u-m]===b[S-m];m++);return Mf=b.slice(i,1<m?1-m:void 0)}function Rf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function If(){return!0}function kS(){return!1}function fn(i){function o(u,m,b,S,A){this._reactName=u,this._targetInst=b,this.type=m,this.nativeEvent=S,this.target=A,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(u=i[k],this[k]=u?u(S):S[k]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?If:kS,this.isPropagationStopped=kS,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=If)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=If)},persist:function(){},isPersistent:If}),o}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lf=fn(Ys),su=g({},Ys,{view:0,detail:0}),a3=fn(su),Jg,Zg,ou,Bf=g({},su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ty,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ou&&(ou&&i.type==="mousemove"?(Jg=i.screenX-ou.screenX,Zg=i.screenY-ou.screenY):Zg=Jg=0,ou=i),Jg)},movementY:function(i){return"movementY"in i?i.movementY:Zg}}),PS=fn(Bf),i3=g({},Bf,{dataTransfer:0}),s3=fn(i3),o3=g({},su,{relatedTarget:0}),ey=fn(o3),l3=g({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),c3=fn(l3),u3=g({},Ys,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),d3=fn(u3),f3=g({},Ys,{data:0}),TS=fn(f3),h3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g3(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=p3[i])?!!o[i]:!1}function ty(){return g3}var y3=g({},su,{key:function(i){if(i.key){var o=h3[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Rf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?m3[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ty,charCode:function(i){return i.type==="keypress"?Rf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Rf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),v3=fn(y3),b3=g({},Bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DS=fn(b3),x3=g({},su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ty}),w3=fn(x3),j3=g({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),S3=fn(j3),_3=g({},Bf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),N3=fn(_3),O3=g({},Ys,{newState:0,oldState:0}),E3=fn(O3),A3=[9,13,27,32],ry=Wa&&"CompositionEvent"in window,lu=null;Wa&&"documentMode"in document&&(lu=document.documentMode);var C3=Wa&&"TextEvent"in window&&!lu,MS=Wa&&(!ry||lu&&8<lu&&11>=lu),RS=" ",IS=!1;function LS(i,o){switch(i){case"keyup":return A3.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var gl=!1;function k3(i,o){switch(i){case"compositionend":return BS(o);case"keypress":return o.which!==32?null:(IS=!0,RS);case"textInput":return i=o.data,i===RS&&IS?null:i;default:return null}}function P3(i,o){if(gl)return i==="compositionend"||!ry&&LS(i,o)?(i=CS(),Mf=Xg=Vi=null,gl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return MS&&o.locale!=="ko"?null:o.data;default:return null}}var T3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $S(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!T3[i.type]:o==="textarea"}function US(i,o,u,m){ml?pl?pl.push(m):pl=[m]:ml=m,o=Eh(o,"onChange"),0<o.length&&(u=new Lf("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var cu=null,uu=null;function D3(i){jO(i,0)}function $f(i){var o=nu(i);if(wS(o))return i}function zS(i,o){if(i==="change")return o}var qS=!1;if(Wa){var ny;if(Wa){var ay="oninput"in document;if(!ay){var FS=document.createElement("div");FS.setAttribute("oninput","return;"),ay=typeof FS.oninput=="function"}ny=ay}else ny=!1;qS=ny&&(!document.documentMode||9<document.documentMode)}function KS(){cu&&(cu.detachEvent("onpropertychange",QS),uu=cu=null)}function QS(i){if(i.propertyName==="value"&&$f(uu)){var o=[];US(o,uu,i,Gg(i)),AS(D3,o)}}function M3(i,o,u){i==="focusin"?(KS(),cu=o,uu=u,cu.attachEvent("onpropertychange",QS)):i==="focusout"&&KS()}function R3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $f(uu)}function I3(i,o){if(i==="click")return $f(o)}function L3(i,o){if(i==="input"||i==="change")return $f(o)}function B3(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Nn=typeof Object.is=="function"?Object.is:B3;function du(i,o){if(Nn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var b=u[m];if(!tn.call(o,b)||!Nn(i[b],o[b]))return!1}return!0}function HS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function VS(i,o){var u=HS(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=HS(u)}}function GS(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?GS(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function YS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Tf(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Tf(i.document)}return o}function iy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var $3=Wa&&"documentMode"in document&&11>=document.documentMode,yl=null,sy=null,fu=null,oy=!1;function WS(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;oy||yl==null||yl!==Tf(m)||(m=yl,"selectionStart"in m&&iy(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),fu&&du(fu,m)||(fu=m,m=Eh(sy,"onSelect"),0<m.length&&(o=new Lf("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=yl)))}function Ws(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var vl={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},ly={},XS={};Wa&&(XS=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function Xs(i){if(ly[i])return ly[i];if(!vl[i])return i;var o=vl[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in XS)return ly[i]=o[u];return i}var JS=Xs("animationend"),ZS=Xs("animationiteration"),e_=Xs("animationstart"),U3=Xs("transitionrun"),z3=Xs("transitionstart"),q3=Xs("transitioncancel"),t_=Xs("transitionend"),r_=new Map,cy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cy.push("scrollEnd");function ca(i,o){r_.set(i,o),Gs(o,[i])}var Uf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Kn=[],bl=0,uy=0;function zf(){for(var i=bl,o=uy=bl=0;o<i;){var u=Kn[o];Kn[o++]=null;var m=Kn[o];Kn[o++]=null;var b=Kn[o];Kn[o++]=null;var S=Kn[o];if(Kn[o++]=null,m!==null&&b!==null){var A=m.pending;A===null?b.next=b:(b.next=A.next,A.next=b),m.pending=b}S!==0&&n_(u,b,S)}}function qf(i,o,u,m){Kn[bl++]=i,Kn[bl++]=o,Kn[bl++]=u,Kn[bl++]=m,uy|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function dy(i,o,u,m){return qf(i,o,u,m),Ff(i)}function Js(i,o){return qf(i,null,null,o),Ff(i)}function n_(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var b=!1,S=i.return;S!==null;)S.childLanes|=u,m=S.alternate,m!==null&&(m.childLanes|=u),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(b=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,b&&o!==null&&(b=31-Ft(u),i=S.hiddenUpdates,m=i[b],m===null?i[b]=[o]:m.push(o),o.lane=u|536870912),S):null}function Ff(i){if(50<Mu)throw Mu=0,xv=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var xl={};function F3(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(i,o,u,m){return new F3(i,o,u,m)}function fy(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Xa(i,o){var u=i.alternate;return u===null?(u=On(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function a_(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Kf(i,o,u,m,b,S){var A=0;if(m=i,typeof i=="function")fy(i)&&(A=1);else if(typeof i=="string")A=GL(i,u,q.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case B:return i=On(31,u,o,b),i.elementType=B,i.lanes=S,i;case w:return Zs(u.children,b,S,o);case _:A=8,b|=24;break;case N:return i=On(12,u,o,b|2),i.elementType=N,i.lanes=S,i;case T:return i=On(13,u,o,b),i.elementType=T,i.lanes=S,i;case P:return i=On(19,u,o,b),i.elementType=P,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:A=10;break e;case O:A=9;break e;case C:A=11;break e;case M:A=14;break e;case R:A=16,m=null;break e}A=29,u=Error(n(130,i===null?"null":typeof i,"")),m=null}return o=On(A,u,o,b),o.elementType=i,o.type=m,o.lanes=S,o}function Zs(i,o,u,m){return i=On(7,i,m,o),i.lanes=u,i}function hy(i,o,u){return i=On(6,i,null,o),i.lanes=u,i}function i_(i){var o=On(18,null,null,0);return o.stateNode=i,o}function my(i,o,u){return o=On(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var s_=new WeakMap;function Qn(i,o){if(typeof i=="object"&&i!==null){var u=s_.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Ir(o)},s_.set(i,o),o)}return{value:i,source:o,stack:Ir(o)}}var wl=[],jl=0,Qf=null,hu=0,Hn=[],Vn=0,Gi=null,Ea=1,Aa="";function Ja(i,o){wl[jl++]=hu,wl[jl++]=Qf,Qf=i,hu=o}function o_(i,o,u){Hn[Vn++]=Ea,Hn[Vn++]=Aa,Hn[Vn++]=Gi,Gi=i;var m=Ea;i=Aa;var b=32-Ft(m)-1;m&=~(1<<b),u+=1;var S=32-Ft(o)+b;if(30<S){var A=b-b%5;S=(m&(1<<A)-1).toString(32),m>>=A,b-=A,Ea=1<<32-Ft(o)+b|u<<b|m,Aa=S+i}else Ea=1<<S|u<<b|m,Aa=i}function py(i){i.return!==null&&(Ja(i,1),o_(i,1,0))}function gy(i){for(;i===Qf;)Qf=wl[--jl],wl[jl]=null,hu=wl[--jl],wl[jl]=null;for(;i===Gi;)Gi=Hn[--Vn],Hn[Vn]=null,Aa=Hn[--Vn],Hn[Vn]=null,Ea=Hn[--Vn],Hn[Vn]=null}function l_(i,o){Hn[Vn++]=Ea,Hn[Vn++]=Aa,Hn[Vn++]=Gi,Ea=o.id,Aa=o.overflow,Gi=i}var $r=null,Bt=null,st=!1,Yi=null,Gn=!1,yy=Error(n(519));function Wi(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mu(Qn(o,i)),yy}function c_(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[Br]=i,o[dn]=m,u){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(u=0;u<Iu.length;u++)rt(Iu[u],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),jS(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),_S(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||OO(o.textContent,u)?(m.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),m.onScroll!=null&&rt("scroll",o),m.onScrollEnd!=null&&rt("scrollend",o),m.onClick!=null&&(o.onclick=Ya),o=!0):o=!1,o||Wi(i,!0)}function u_(i){for($r=i.return;$r;)switch($r.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:$r=$r.return}}function Sl(i){if(i!==$r)return!1;if(!st)return u_(i),st=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Rv(i.type,i.memoizedProps)),u=!u),u&&Bt&&Wi(i),u_(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Bt=RO(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Bt=RO(i)}else o===27?(o=Bt,us(i.type)?(i=Uv,Uv=null,Bt=i):Bt=o):Bt=$r?Wn(i.stateNode.nextSibling):null;return!0}function eo(){Bt=$r=null,st=!1}function vy(){var i=Yi;return i!==null&&(gn===null?gn=i:gn.push.apply(gn,i),Yi=null),i}function mu(i){Yi===null?Yi=[i]:Yi.push(i)}var by=D(null),to=null,Za=null;function Xi(i,o,u){Z(by,o._currentValue),o._currentValue=u}function ei(i){i._currentValue=by.current,U(by)}function xy(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function wy(i,o,u,m){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var S=b.dependencies;if(S!==null){var A=b.child;S=S.firstContext;e:for(;S!==null;){var k=S;S=b;for(var $=0;$<o.length;$++)if(k.context===o[$]){S.lanes|=u,k=S.alternate,k!==null&&(k.lanes|=u),xy(S.return,u,i),m||(A=null);break e}S=k.next}}else if(b.tag===18){if(A=b.return,A===null)throw Error(n(341));A.lanes|=u,S=A.alternate,S!==null&&(S.lanes|=u),xy(A,u,i),A=null}else A=b.child;if(A!==null)A.return=b;else for(A=b;A!==null;){if(A===i){A=null;break}if(b=A.sibling,b!==null){b.return=A.return,A=b;break}A=A.return}b=A}}function _l(i,o,u,m){i=null;for(var b=o,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var A=b.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var k=b.type;Nn(b.pendingProps.value,A.value)||(i!==null?i.push(k):i=[k])}}else if(b===pe.current){if(A=b.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(zu):i=[zu])}b=b.return}i!==null&&wy(o,i,u,m),o.flags|=262144}function Hf(i){for(i=i.firstContext;i!==null;){if(!Nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ro(i){to=i,Za=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ur(i){return d_(to,i)}function Vf(i,o){return to===null&&ro(i),d_(i,o)}function d_(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Za===null){if(i===null)throw Error(n(308));Za=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Za=Za.next=o;return u}var K3=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},Q3=e.unstable_scheduleCallback,H3=e.unstable_NormalPriority,cr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jy(){return{controller:new K3,data:new Map,refCount:0}}function pu(i){i.refCount--,i.refCount===0&&Q3(H3,function(){i.controller.abort()})}var gu=null,Sy=0,Nl=0,Ol=null;function V3(i,o){if(gu===null){var u=gu=[];Sy=0,Nl=Ov(),Ol={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Sy++,o.then(f_,f_),o}function f_(){if(--Sy===0&&gu!==null){Ol!==null&&(Ol.status="fulfilled");var i=gu;gu=null,Nl=0,Ol=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function G3(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var b=0;b<u.length;b++)(0,u[b])(o)},function(b){for(m.status="rejected",m.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),m}var h_=L.S;L.S=function(i,o){WN=G(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&V3(i,o),h_!==null&&h_(i,o)};var no=D(null);function _y(){var i=no.current;return i!==null?i:Dt.pooledCache}function Gf(i,o){o===null?Z(no,no.current):Z(no,o.pool)}function m_(){var i=_y();return i===null?null:{parent:cr._currentValue,pool:i}}var El=Error(n(460)),Ny=Error(n(474)),Yf=Error(n(542)),Wf={then:function(){}};function p_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function g_(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Ya,Ya),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,v_(i),i;default:if(typeof o.status=="string")o.then(Ya,Ya);else{if(i=Dt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=m}},function(m){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,v_(i),i}throw io=o,El}}function ao(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(io=u,El):u}}var io=null;function y_(){if(io===null)throw Error(n(459));var i=io;return io=null,i}function v_(i){if(i===El||i===Yf)throw Error(n(483))}var Al=null,yu=0;function Xf(i){var o=yu;return yu+=1,Al===null&&(Al=[]),g_(Al,i,o)}function vu(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Jf(i,o){throw o.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function b_(i){function o(Q,F){if(i){var X=Q.deletions;X===null?(Q.deletions=[F],Q.flags|=16):X.push(F)}}function u(Q,F){if(!i)return null;for(;F!==null;)o(Q,F),F=F.sibling;return null}function m(Q){for(var F=new Map;Q!==null;)Q.key!==null?F.set(Q.key,Q):F.set(Q.index,Q),Q=Q.sibling;return F}function b(Q,F){return Q=Xa(Q,F),Q.index=0,Q.sibling=null,Q}function S(Q,F,X){return Q.index=X,i?(X=Q.alternate,X!==null?(X=X.index,X<F?(Q.flags|=67108866,F):X):(Q.flags|=67108866,F)):(Q.flags|=1048576,F)}function A(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function k(Q,F,X,ue){return F===null||F.tag!==6?(F=hy(X,Q.mode,ue),F.return=Q,F):(F=b(F,X),F.return=Q,F)}function $(Q,F,X,ue){var Re=X.type;return Re===w?le(Q,F,X.props.children,ue,X.key):F!==null&&(F.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&ao(Re)===F.type)?(F=b(F,X.props),vu(F,X),F.return=Q,F):(F=Kf(X.type,X.key,X.props,null,Q.mode,ue),vu(F,X),F.return=Q,F)}function J(Q,F,X,ue){return F===null||F.tag!==4||F.stateNode.containerInfo!==X.containerInfo||F.stateNode.implementation!==X.implementation?(F=my(X,Q.mode,ue),F.return=Q,F):(F=b(F,X.children||[]),F.return=Q,F)}function le(Q,F,X,ue,Re){return F===null||F.tag!==7?(F=Zs(X,Q.mode,ue,Re),F.return=Q,F):(F=b(F,X),F.return=Q,F)}function fe(Q,F,X){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=hy(""+F,Q.mode,X),F.return=Q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case v:return X=Kf(F.type,F.key,F.props,null,Q.mode,X),vu(X,F),X.return=Q,X;case x:return F=my(F,Q.mode,X),F.return=Q,F;case R:return F=ao(F),fe(Q,F,X)}if(ye(F)||K(F))return F=Zs(F,Q.mode,X,null),F.return=Q,F;if(typeof F.then=="function")return fe(Q,Xf(F),X);if(F.$$typeof===E)return fe(Q,Vf(Q,F),X);Jf(Q,F)}return null}function ee(Q,F,X,ue){var Re=F!==null?F.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Re!==null?null:k(Q,F,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return X.key===Re?$(Q,F,X,ue):null;case x:return X.key===Re?J(Q,F,X,ue):null;case R:return X=ao(X),ee(Q,F,X,ue)}if(ye(X)||K(X))return Re!==null?null:le(Q,F,X,ue,null);if(typeof X.then=="function")return ee(Q,F,Xf(X),ue);if(X.$$typeof===E)return ee(Q,F,Vf(Q,X),ue);Jf(Q,X)}return null}function re(Q,F,X,ue,Re){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Q=Q.get(X)||null,k(F,Q,""+ue,Re);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case v:return Q=Q.get(ue.key===null?X:ue.key)||null,$(F,Q,ue,Re);case x:return Q=Q.get(ue.key===null?X:ue.key)||null,J(F,Q,ue,Re);case R:return ue=ao(ue),re(Q,F,X,ue,Re)}if(ye(ue)||K(ue))return Q=Q.get(X)||null,le(F,Q,ue,Re,null);if(typeof ue.then=="function")return re(Q,F,X,Xf(ue),Re);if(ue.$$typeof===E)return re(Q,F,X,Vf(F,ue),Re);Jf(F,ue)}return null}function Ee(Q,F,X,ue){for(var Re=null,ut=null,Ce=F,Ye=F=0,it=null;Ce!==null&&Ye<X.length;Ye++){Ce.index>Ye?(it=Ce,Ce=null):it=Ce.sibling;var dt=ee(Q,Ce,X[Ye],ue);if(dt===null){Ce===null&&(Ce=it);break}i&&Ce&&dt.alternate===null&&o(Q,Ce),F=S(dt,F,Ye),ut===null?Re=dt:ut.sibling=dt,ut=dt,Ce=it}if(Ye===X.length)return u(Q,Ce),st&&Ja(Q,Ye),Re;if(Ce===null){for(;Ye<X.length;Ye++)Ce=fe(Q,X[Ye],ue),Ce!==null&&(F=S(Ce,F,Ye),ut===null?Re=Ce:ut.sibling=Ce,ut=Ce);return st&&Ja(Q,Ye),Re}for(Ce=m(Ce);Ye<X.length;Ye++)it=re(Ce,Q,Ye,X[Ye],ue),it!==null&&(i&&it.alternate!==null&&Ce.delete(it.key===null?Ye:it.key),F=S(it,F,Ye),ut===null?Re=it:ut.sibling=it,ut=it);return i&&Ce.forEach(function(ps){return o(Q,ps)}),st&&Ja(Q,Ye),Re}function Be(Q,F,X,ue){if(X==null)throw Error(n(151));for(var Re=null,ut=null,Ce=F,Ye=F=0,it=null,dt=X.next();Ce!==null&&!dt.done;Ye++,dt=X.next()){Ce.index>Ye?(it=Ce,Ce=null):it=Ce.sibling;var ps=ee(Q,Ce,dt.value,ue);if(ps===null){Ce===null&&(Ce=it);break}i&&Ce&&ps.alternate===null&&o(Q,Ce),F=S(ps,F,Ye),ut===null?Re=ps:ut.sibling=ps,ut=ps,Ce=it}if(dt.done)return u(Q,Ce),st&&Ja(Q,Ye),Re;if(Ce===null){for(;!dt.done;Ye++,dt=X.next())dt=fe(Q,dt.value,ue),dt!==null&&(F=S(dt,F,Ye),ut===null?Re=dt:ut.sibling=dt,ut=dt);return st&&Ja(Q,Ye),Re}for(Ce=m(Ce);!dt.done;Ye++,dt=X.next())dt=re(Ce,Q,Ye,dt.value,ue),dt!==null&&(i&&dt.alternate!==null&&Ce.delete(dt.key===null?Ye:dt.key),F=S(dt,F,Ye),ut===null?Re=dt:ut.sibling=dt,ut=dt);return i&&Ce.forEach(function(iB){return o(Q,iB)}),st&&Ja(Q,Ye),Re}function kt(Q,F,X,ue){if(typeof X=="object"&&X!==null&&X.type===w&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case v:e:{for(var Re=X.key;F!==null;){if(F.key===Re){if(Re=X.type,Re===w){if(F.tag===7){u(Q,F.sibling),ue=b(F,X.props.children),ue.return=Q,Q=ue;break e}}else if(F.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&ao(Re)===F.type){u(Q,F.sibling),ue=b(F,X.props),vu(ue,X),ue.return=Q,Q=ue;break e}u(Q,F);break}else o(Q,F);F=F.sibling}X.type===w?(ue=Zs(X.props.children,Q.mode,ue,X.key),ue.return=Q,Q=ue):(ue=Kf(X.type,X.key,X.props,null,Q.mode,ue),vu(ue,X),ue.return=Q,Q=ue)}return A(Q);case x:e:{for(Re=X.key;F!==null;){if(F.key===Re)if(F.tag===4&&F.stateNode.containerInfo===X.containerInfo&&F.stateNode.implementation===X.implementation){u(Q,F.sibling),ue=b(F,X.children||[]),ue.return=Q,Q=ue;break e}else{u(Q,F);break}else o(Q,F);F=F.sibling}ue=my(X,Q.mode,ue),ue.return=Q,Q=ue}return A(Q);case R:return X=ao(X),kt(Q,F,X,ue)}if(ye(X))return Ee(Q,F,X,ue);if(K(X)){if(Re=K(X),typeof Re!="function")throw Error(n(150));return X=Re.call(X),Be(Q,F,X,ue)}if(typeof X.then=="function")return kt(Q,F,Xf(X),ue);if(X.$$typeof===E)return kt(Q,F,Vf(Q,X),ue);Jf(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,F!==null&&F.tag===6?(u(Q,F.sibling),ue=b(F,X),ue.return=Q,Q=ue):(u(Q,F),ue=hy(X,Q.mode,ue),ue.return=Q,Q=ue),A(Q)):u(Q,F)}return function(Q,F,X,ue){try{yu=0;var Re=kt(Q,F,X,ue);return Al=null,Re}catch(Ce){if(Ce===El||Ce===Yf)throw Ce;var ut=On(29,Ce,null,Q.mode);return ut.lanes=ue,ut.return=Q,ut}finally{}}}var so=b_(!0),x_=b_(!1),Ji=!1;function Oy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ey(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Zi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function es(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(gt&2)!==0){var b=m.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),m.pending=o,o=Ff(i),n_(i,null,u),o}return qf(i,m,o,u),Ff(i)}function bu(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,dS(i,u)}}function Ay(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var b=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?b=S=A:S=S.next=A,u=u.next}while(u!==null);S===null?b=S=o:S=S.next=o}else b=S=o;u={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Cy=!1;function xu(){if(Cy){var i=Ol;if(i!==null)throw i}}function wu(i,o,u,m){Cy=!1;var b=i.updateQueue;Ji=!1;var S=b.firstBaseUpdate,A=b.lastBaseUpdate,k=b.shared.pending;if(k!==null){b.shared.pending=null;var $=k,J=$.next;$.next=null,A===null?S=J:A.next=J,A=$;var le=i.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==A&&(k===null?le.firstBaseUpdate=J:k.next=J,le.lastBaseUpdate=$))}if(S!==null){var fe=b.baseState;A=0,le=J=$=null,k=S;do{var ee=k.lane&-536870913,re=ee!==k.lane;if(re?(at&ee)===ee:(m&ee)===ee){ee!==0&&ee===Nl&&(Cy=!0),le!==null&&(le=le.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ee=i,Be=k;ee=o;var kt=u;switch(Be.tag){case 1:if(Ee=Be.payload,typeof Ee=="function"){fe=Ee.call(kt,fe,ee);break e}fe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Be.payload,ee=typeof Ee=="function"?Ee.call(kt,fe,ee):Ee,ee==null)break e;fe=g({},fe,ee);break e;case 2:Ji=!0}}ee=k.callback,ee!==null&&(i.flags|=64,re&&(i.flags|=8192),re=b.callbacks,re===null?b.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(J=le=re,$=fe):le=le.next=re,A|=ee;if(k=k.next,k===null){if(k=b.shared.pending,k===null)break;re=k,k=re.next,re.next=null,b.lastBaseUpdate=re,b.shared.pending=null}}while(!0);le===null&&($=fe),b.baseState=$,b.firstBaseUpdate=J,b.lastBaseUpdate=le,S===null&&(b.shared.lanes=0),is|=A,i.lanes=A,i.memoizedState=fe}}function w_(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function j_(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)w_(u[i],o)}var Cl=D(null),Zf=D(0);function S_(i,o){i=ci,Z(Zf,i),Z(Cl,o),ci=i|o.baseLanes}function ky(){Z(Zf,ci),Z(Cl,Cl.current)}function Py(){ci=Zf.current,U(Cl),U(Zf)}var En=D(null),Yn=null;function ts(i){var o=i.alternate;Z(sr,sr.current&1),Z(En,i),Yn===null&&(o===null||Cl.current!==null||o.memoizedState!==null)&&(Yn=i)}function Ty(i){Z(sr,sr.current),Z(En,i),Yn===null&&(Yn=i)}function __(i){i.tag===22?(Z(sr,sr.current),Z(En,i),Yn===null&&(Yn=i)):rs()}function rs(){Z(sr,sr.current),Z(En,En.current)}function An(i){U(En),Yn===i&&(Yn=null),U(sr)}var sr=D(0);function eh(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Bv(u)||$v(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ti=0,He=null,At=null,ur=null,th=!1,kl=!1,oo=!1,rh=0,ju=0,Pl=null,Y3=0;function Jt(){throw Error(n(321))}function Dy(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Nn(i[u],o[u]))return!1;return!0}function My(i,o,u,m,b,S){return ti=S,He=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,L.H=i===null||i.memoizedState===null?oN:Yy,oo=!1,S=u(m,b),oo=!1,kl&&(S=O_(o,u,m,b)),N_(i),S}function N_(i){L.H=Nu;var o=At!==null&&At.next!==null;if(ti=0,ur=At=He=null,th=!1,ju=0,Pl=null,o)throw Error(n(300));i===null||dr||(i=i.dependencies,i!==null&&Hf(i)&&(dr=!0))}function O_(i,o,u,m){He=i;var b=0;do{if(kl&&(Pl=null),ju=0,kl=!1,25<=b)throw Error(n(301));if(b+=1,ur=At=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}L.H=lN,S=o(u,m)}while(kl);return S}function W3(){var i=L.H,o=i.useState()[0];return o=typeof o.then=="function"?Su(o):o,i=i.useState()[0],(At!==null?At.memoizedState:null)!==i&&(He.flags|=1024),o}function Ry(){var i=rh!==0;return rh=0,i}function Iy(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Ly(i){if(th){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}th=!1}ti=0,ur=At=He=null,kl=!1,ju=rh=0,Pl=null}function nn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?He.memoizedState=ur=i:ur=ur.next=i,ur}function or(){if(At===null){var i=He.alternate;i=i!==null?i.memoizedState:null}else i=At.next;var o=ur===null?He.memoizedState:ur.next;if(o!==null)ur=o,At=i;else{if(i===null)throw He.alternate===null?Error(n(467)):Error(n(310));At=i,i={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},ur===null?He.memoizedState=ur=i:ur=ur.next=i}return ur}function nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Su(i){var o=ju;return ju+=1,Pl===null&&(Pl=[]),i=g_(Pl,i,o),o=He,(ur===null?o.memoizedState:ur.next)===null&&(o=o.alternate,L.H=o===null||o.memoizedState===null?oN:Yy),i}function ah(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Su(i);if(i.$$typeof===E)return Ur(i)}throw Error(n(438,String(i)))}function By(i){var o=null,u=He.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=He.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=nh(),He.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=H;return o.index++,u}function ri(i,o){return typeof o=="function"?o(i):o}function ih(i){var o=or();return $y(o,At,i)}function $y(i,o,u){var m=i.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var b=i.baseQueue,S=m.pending;if(S!==null){if(b!==null){var A=b.next;b.next=S.next,S.next=A}o.baseQueue=b=S,m.pending=null}if(S=i.baseState,b===null)i.memoizedState=S;else{o=b.next;var k=A=null,$=null,J=o,le=!1;do{var fe=J.lane&-536870913;if(fe!==J.lane?(at&fe)===fe:(ti&fe)===fe){var ee=J.revertLane;if(ee===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),fe===Nl&&(le=!0);else if((ti&ee)===ee){J=J.next,ee===Nl&&(le=!0);continue}else fe={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(k=$=fe,A=S):$=$.next=fe,He.lanes|=ee,is|=ee;fe=J.action,oo&&u(S,fe),S=J.hasEagerState?J.eagerState:u(S,fe)}else ee={lane:fe,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(k=$=ee,A=S):$=$.next=ee,He.lanes|=fe,is|=fe;J=J.next}while(J!==null&&J!==o);if($===null?A=S:$.next=k,!Nn(S,i.memoizedState)&&(dr=!0,le&&(u=Ol,u!==null)))throw u;i.memoizedState=S,i.baseState=A,i.baseQueue=$,m.lastRenderedState=S}return b===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Uy(i){var o=or(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,b=u.pending,S=o.memoizedState;if(b!==null){u.pending=null;var A=b=b.next;do S=i(S,A.action),A=A.next;while(A!==b);Nn(S,o.memoizedState)||(dr=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),u.lastRenderedState=S}return[S,m]}function E_(i,o,u){var m=He,b=or(),S=st;if(S){if(u===void 0)throw Error(n(407));u=u()}else u=o();var A=!Nn((At||b).memoizedState,u);if(A&&(b.memoizedState=u,dr=!0),b=b.queue,Fy(k_.bind(null,m,b,i),[i]),b.getSnapshot!==o||A||ur!==null&&ur.memoizedState.tag&1){if(m.flags|=2048,Tl(9,{destroy:void 0},C_.bind(null,m,b,u,o),null),Dt===null)throw Error(n(349));S||(ti&127)!==0||A_(m,o,u)}return u}function A_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=He.updateQueue,o===null?(o=nh(),He.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function C_(i,o,u,m){o.value=u,o.getSnapshot=m,P_(o)&&T_(i)}function k_(i,o,u){return u(function(){P_(o)&&T_(i)})}function P_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Nn(i,u)}catch{return!0}}function T_(i){var o=Js(i,2);o!==null&&yn(o,i,2)}function zy(i){var o=nn();if(typeof i=="function"){var u=i;if(i=u(),oo){Lr(!0);try{u()}finally{Lr(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:i},o}function D_(i,o,u,m){return i.baseState=u,$y(i,At,typeof m=="function"?m:ri)}function X3(i,o,u,m,b){if(lh(i))throw Error(n(485));if(i=o.action,i!==null){var S={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){S.listeners.push(A)}};L.T!==null?u(!0):S.isTransition=!1,m(S),u=o.pending,u===null?(S.next=o.pending=S,M_(o,S)):(S.next=u.next,o.pending=u.next=S)}}function M_(i,o){var u=o.action,m=o.payload,b=i.state;if(o.isTransition){var S=L.T,A={};L.T=A;try{var k=u(b,m),$=L.S;$!==null&&$(A,k),R_(i,o,k)}catch(J){qy(i,o,J)}finally{S!==null&&A.types!==null&&(S.types=A.types),L.T=S}}else try{S=u(b,m),R_(i,o,S)}catch(J){qy(i,o,J)}}function R_(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){I_(i,o,m)},function(m){return qy(i,o,m)}):I_(i,o,u)}function I_(i,o,u){o.status="fulfilled",o.value=u,L_(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,M_(i,u)))}function qy(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,L_(o),o=o.next;while(o!==m)}i.action=null}function L_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function B_(i,o){return o}function $_(i,o){if(st){var u=Dt.formState;if(u!==null){e:{var m=He;if(st){if(Bt){t:{for(var b=Bt,S=Gn;b.nodeType!==8;){if(!S){b=null;break t}if(b=Wn(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){Bt=Wn(b.nextSibling),m=b.data==="F!";break e}}Wi(m)}m=!1}m&&(o=u[0])}}return u=nn(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B_,lastRenderedState:o},u.queue=m,u=aN.bind(null,He,m),m.dispatch=u,m=zy(!1),S=Gy.bind(null,He,!1,m.queue),m=nn(),b={state:o,dispatch:null,action:i,pending:null},m.queue=b,u=X3.bind(null,He,b,S,u),b.dispatch=u,m.memoizedState=i,[o,u,!1]}function U_(i){var o=or();return z_(o,At,i)}function z_(i,o,u){if(o=$y(i,o,B_)[0],i=ih(ri)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Su(o)}catch(A){throw A===El?Yf:A}else m=o;o=or();var b=o.queue,S=b.dispatch;return u!==o.memoizedState&&(He.flags|=2048,Tl(9,{destroy:void 0},J3.bind(null,b,u),null)),[m,S,i]}function J3(i,o){i.action=o}function q_(i){var o=or(),u=At;if(u!==null)return z_(o,u,i);or(),o=o.memoizedState,u=or();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function Tl(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=He.updateQueue,o===null&&(o=nh(),He.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function F_(){return or().memoizedState}function sh(i,o,u,m){var b=nn();He.flags|=i,b.memoizedState=Tl(1|o,{destroy:void 0},u,m===void 0?null:m)}function oh(i,o,u,m){var b=or();m=m===void 0?null:m;var S=b.memoizedState.inst;At!==null&&m!==null&&Dy(m,At.memoizedState.deps)?b.memoizedState=Tl(o,S,u,m):(He.flags|=i,b.memoizedState=Tl(1|o,S,u,m))}function K_(i,o){sh(8390656,8,i,o)}function Fy(i,o){oh(2048,8,i,o)}function Z3(i){He.flags|=4;var o=He.updateQueue;if(o===null)o=nh(),He.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function Q_(i){var o=or().memoizedState;return Z3({ref:o,nextImpl:i}),function(){if((gt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function H_(i,o){return oh(4,2,i,o)}function V_(i,o){return oh(4,4,i,o)}function G_(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Y_(i,o,u){u=u!=null?u.concat([i]):null,oh(4,4,G_.bind(null,o,i),u)}function Ky(){}function W_(i,o){var u=or();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Dy(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function X_(i,o){var u=or();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Dy(o,m[1]))return m[0];if(m=i(),oo){Lr(!0);try{i()}finally{Lr(!1)}}return u.memoizedState=[m,o],m}function Qy(i,o,u){return u===void 0||(ti&1073741824)!==0&&(at&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=JN(),He.lanes|=i,is|=i,u)}function J_(i,o,u,m){return Nn(u,o)?u:Cl.current!==null?(i=Qy(i,u,m),Nn(i,o)||(dr=!0),i):(ti&42)===0||(ti&1073741824)!==0&&(at&261930)===0?(dr=!0,i.memoizedState=u):(i=JN(),He.lanes|=i,is|=i,o)}function Z_(i,o,u,m,b){var S=V.p;V.p=S!==0&&8>S?S:8;var A=L.T,k={};L.T=k,Gy(i,!1,o,u);try{var $=b(),J=L.S;if(J!==null&&J(k,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var le=G3($,m);_u(i,o,le,Pn(i))}else _u(i,o,m,Pn(i))}catch(fe){_u(i,o,{then:function(){},status:"rejected",reason:fe},Pn())}finally{V.p=S,A!==null&&k.types!==null&&(A.types=k.types),L.T=A}}function eL(){}function Hy(i,o,u,m){if(i.tag!==5)throw Error(n(476));var b=eN(i).queue;Z_(i,b,o,ne,u===null?eL:function(){return tN(i),u(m)})}function eN(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:ne},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function tN(i){var o=eN(i);o.next===null&&(o=i.alternate.memoizedState),_u(i,o.next.queue,{},Pn())}function Vy(){return Ur(zu)}function rN(){return or().memoizedState}function nN(){return or().memoizedState}function tL(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Pn();i=Zi(u);var m=es(o,i,u);m!==null&&(yn(m,o,u),bu(m,o,u)),o={cache:jy()},i.payload=o;return}o=o.return}}function rL(i,o,u){var m=Pn();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},lh(i)?iN(o,u):(u=dy(i,o,u,m),u!==null&&(yn(u,i,m),sN(u,o,m)))}function aN(i,o,u){var m=Pn();_u(i,o,u,m)}function _u(i,o,u,m){var b={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(lh(i))iN(o,b);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var A=o.lastRenderedState,k=S(A,u);if(b.hasEagerState=!0,b.eagerState=k,Nn(k,A))return qf(i,o,b,0),Dt===null&&zf(),!1}catch{}finally{}if(u=dy(i,o,b,m),u!==null)return yn(u,i,m),sN(u,o,m),!0}return!1}function Gy(i,o,u,m){if(m={lane:2,revertLane:Ov(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},lh(i)){if(o)throw Error(n(479))}else o=dy(i,u,m,2),o!==null&&yn(o,i,2)}function lh(i){var o=i.alternate;return i===He||o!==null&&o===He}function iN(i,o){kl=th=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function sN(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,dS(i,u)}}var Nu={readContext:Ur,use:ah,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};Nu.useEffectEvent=Jt;var oN={readContext:Ur,use:ah,useCallback:function(i,o){return nn().memoizedState=[i,o===void 0?null:o],i},useContext:Ur,useEffect:K_,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,sh(4194308,4,G_.bind(null,o,i),u)},useLayoutEffect:function(i,o){return sh(4194308,4,i,o)},useInsertionEffect:function(i,o){sh(4,2,i,o)},useMemo:function(i,o){var u=nn();o=o===void 0?null:o;var m=i();if(oo){Lr(!0);try{i()}finally{Lr(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=nn();if(u!==void 0){var b=u(o);if(oo){Lr(!0);try{u(o)}finally{Lr(!1)}}}else b=o;return m.memoizedState=m.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},m.queue=i,i=i.dispatch=rL.bind(null,He,i),[m.memoizedState,i]},useRef:function(i){var o=nn();return i={current:i},o.memoizedState=i},useState:function(i){i=zy(i);var o=i.queue,u=aN.bind(null,He,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Ky,useDeferredValue:function(i,o){var u=nn();return Qy(u,i,o)},useTransition:function(){var i=zy(!1);return i=Z_.bind(null,He,i.queue,!0,!1),nn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=He,b=nn();if(st){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Dt===null)throw Error(n(349));(at&127)!==0||A_(m,o,u)}b.memoizedState=u;var S={value:u,getSnapshot:o};return b.queue=S,K_(k_.bind(null,m,S,i),[i]),m.flags|=2048,Tl(9,{destroy:void 0},C_.bind(null,m,S,u,o),null),u},useId:function(){var i=nn(),o=Dt.identifierPrefix;if(st){var u=Aa,m=Ea;u=(m&~(1<<32-Ft(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=rh++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=Y3++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Vy,useFormState:$_,useActionState:$_,useOptimistic:function(i){var o=nn();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Gy.bind(null,He,!0,u),u.dispatch=o,[i,o]},useMemoCache:By,useCacheRefresh:function(){return nn().memoizedState=tL.bind(null,He)},useEffectEvent:function(i){var o=nn(),u={impl:i};return o.memoizedState=u,function(){if((gt&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},Yy={readContext:Ur,use:ah,useCallback:W_,useContext:Ur,useEffect:Fy,useImperativeHandle:Y_,useInsertionEffect:H_,useLayoutEffect:V_,useMemo:X_,useReducer:ih,useRef:F_,useState:function(){return ih(ri)},useDebugValue:Ky,useDeferredValue:function(i,o){var u=or();return J_(u,At.memoizedState,i,o)},useTransition:function(){var i=ih(ri)[0],o=or().memoizedState;return[typeof i=="boolean"?i:Su(i),o]},useSyncExternalStore:E_,useId:rN,useHostTransitionStatus:Vy,useFormState:U_,useActionState:U_,useOptimistic:function(i,o){var u=or();return D_(u,At,i,o)},useMemoCache:By,useCacheRefresh:nN};Yy.useEffectEvent=Q_;var lN={readContext:Ur,use:ah,useCallback:W_,useContext:Ur,useEffect:Fy,useImperativeHandle:Y_,useInsertionEffect:H_,useLayoutEffect:V_,useMemo:X_,useReducer:Uy,useRef:F_,useState:function(){return Uy(ri)},useDebugValue:Ky,useDeferredValue:function(i,o){var u=or();return At===null?Qy(u,i,o):J_(u,At.memoizedState,i,o)},useTransition:function(){var i=Uy(ri)[0],o=or().memoizedState;return[typeof i=="boolean"?i:Su(i),o]},useSyncExternalStore:E_,useId:rN,useHostTransitionStatus:Vy,useFormState:q_,useActionState:q_,useOptimistic:function(i,o){var u=or();return At!==null?D_(u,At,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:By,useCacheRefresh:nN};lN.useEffectEvent=Q_;function Wy(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Xy={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=Pn(),b=Zi(m);b.payload=o,u!=null&&(b.callback=u),o=es(i,b,m),o!==null&&(yn(o,i,m),bu(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=Pn(),b=Zi(m);b.tag=1,b.payload=o,u!=null&&(b.callback=u),o=es(i,b,m),o!==null&&(yn(o,i,m),bu(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Pn(),m=Zi(u);m.tag=2,o!=null&&(m.callback=o),o=es(i,m,u),o!==null&&(yn(o,i,u),bu(o,i,u))}};function cN(i,o,u,m,b,S,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,S,A):o.prototype&&o.prototype.isPureReactComponent?!du(u,m)||!du(b,S):!0}function uN(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&Xy.enqueueReplaceState(o,o.state,null)}function lo(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var b in i)u[b]===void 0&&(u[b]=i[b])}return u}function dN(i){Uf(i)}function fN(i){console.error(i)}function hN(i){Uf(i)}function ch(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function mN(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Jy(i,o,u){return u=Zi(u),u.tag=3,u.payload={element:null},u.callback=function(){ch(i,o)},u}function pN(i){return i=Zi(i),i.tag=3,i}function gN(i,o,u,m){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var S=m.value;i.payload=function(){return b(S)},i.callback=function(){mN(o,u,m)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){mN(o,u,m),typeof b!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function nL(i,o,u,m,b){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&_l(o,u,b,!0),u=En.current,u!==null){switch(u.tag){case 31:case 13:return Yn===null?wh():u.alternate===null&&Zt===0&&(Zt=3),u.flags&=-257,u.flags|=65536,u.lanes=b,m===Wf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),Sv(i,m,b)),!1;case 22:return u.flags|=65536,m===Wf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),Sv(i,m,b)),!1}throw Error(n(435,u.tag))}return Sv(i,m,b),wh(),!1}if(st)return o=En.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,m!==yy&&(i=Error(n(422),{cause:m}),mu(Qn(i,u)))):(m!==yy&&(o=Error(n(423),{cause:m}),mu(Qn(o,u))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,m=Qn(m,u),b=Jy(i.stateNode,m,b),Ay(i,b),Zt!==4&&(Zt=2)),!1;var S=Error(n(520),{cause:m});if(S=Qn(S,u),Du===null?Du=[S]:Du.push(S),Zt!==4&&(Zt=2),o===null)return!0;m=Qn(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=b&-b,u.lanes|=i,i=Jy(u.stateNode,m,i),Ay(u,i),!1;case 1:if(o=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ss===null||!ss.has(S))))return u.flags|=65536,b&=-b,u.lanes|=b,b=pN(b),gN(b,i,u,m),Ay(u,b),!1}u=u.return}while(u!==null);return!1}var Zy=Error(n(461)),dr=!1;function zr(i,o,u,m){o.child=i===null?x_(o,null,u,m):so(o,i.child,u,m)}function yN(i,o,u,m,b){u=u.render;var S=o.ref;if("ref"in m){var A={};for(var k in m)k!=="ref"&&(A[k]=m[k])}else A=m;return ro(o),m=My(i,o,u,A,S,b),k=Ry(),i!==null&&!dr?(Iy(i,o,b),ni(i,o,b)):(st&&k&&py(o),o.flags|=1,zr(i,o,m,b),o.child)}function vN(i,o,u,m,b){if(i===null){var S=u.type;return typeof S=="function"&&!fy(S)&&S.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=S,bN(i,o,S,m,b)):(i=Kf(u.type,null,m,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,!ov(i,b)){var A=S.memoizedProps;if(u=u.compare,u=u!==null?u:du,u(A,m)&&i.ref===o.ref)return ni(i,o,b)}return o.flags|=1,i=Xa(S,m),i.ref=o.ref,i.return=o,o.child=i}function bN(i,o,u,m,b){if(i!==null){var S=i.memoizedProps;if(du(S,m)&&i.ref===o.ref)if(dr=!1,o.pendingProps=m=S,ov(i,b))(i.flags&131072)!==0&&(dr=!0);else return o.lanes=i.lanes,ni(i,o,b)}return ev(i,o,u,m,b)}function xN(i,o,u,m){var b=m.children,S=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|u:u,i!==null){for(m=o.child=i.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~S}else m=0,o.child=null;return wN(i,o,S,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Gf(o,S!==null?S.cachePool:null),S!==null?S_(o,S):ky(),__(o);else return m=o.lanes=536870912,wN(i,o,S!==null?S.baseLanes|u:u,u,m)}else S!==null?(Gf(o,S.cachePool),S_(o,S),rs(),o.memoizedState=null):(i!==null&&Gf(o,null),ky(),rs());return zr(i,o,b,u),o.child}function Ou(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function wN(i,o,u,m,b){var S=_y();return S=S===null?null:{parent:cr._currentValue,pool:S},o.memoizedState={baseLanes:u,cachePool:S},i!==null&&Gf(o,null),ky(),__(o),i!==null&&_l(i,o,m,!0),o.childLanes=b,null}function uh(i,o){return o=fh({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function jN(i,o,u){return so(o,i.child,null,u),i=uh(o,o.pendingProps),i.flags|=2,An(o),o.memoizedState=null,i}function aL(i,o,u){var m=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(st){if(m.mode==="hidden")return i=uh(o,m),o.lanes=536870912,Ou(null,i);if(Ty(o),(i=Bt)?(i=MO(i,Gn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Gi!==null?{id:Ea,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},u=i_(i),u.return=o,o.child=u,$r=o,Bt=null)):i=null,i===null)throw Wi(o);return o.lanes=536870912,null}return uh(o,m)}var S=i.memoizedState;if(S!==null){var A=S.dehydrated;if(Ty(o),b)if(o.flags&256)o.flags&=-257,o=jN(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(dr||_l(i,o,u,!1),b=(u&i.childLanes)!==0,dr||b){if(m=Dt,m!==null&&(A=fS(m,u),A!==0&&A!==S.retryLane))throw S.retryLane=A,Js(i,A),yn(m,i,A),Zy;wh(),o=jN(i,o,u)}else i=S.treeContext,Bt=Wn(A.nextSibling),$r=o,st=!0,Yi=null,Gn=!1,i!==null&&l_(o,i),o=uh(o,m),o.flags|=4096;return o}return i=Xa(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function dh(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function ev(i,o,u,m,b){return ro(o),u=My(i,o,u,m,void 0,b),m=Ry(),i!==null&&!dr?(Iy(i,o,b),ni(i,o,b)):(st&&m&&py(o),o.flags|=1,zr(i,o,u,b),o.child)}function SN(i,o,u,m,b,S){return ro(o),o.updateQueue=null,u=O_(o,m,u,b),N_(i),m=Ry(),i!==null&&!dr?(Iy(i,o,S),ni(i,o,S)):(st&&m&&py(o),o.flags|=1,zr(i,o,u,S),o.child)}function _N(i,o,u,m,b){if(ro(o),o.stateNode===null){var S=xl,A=u.contextType;typeof A=="object"&&A!==null&&(S=Ur(A)),S=new u(m,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Xy,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=m,S.state=o.memoizedState,S.refs={},Oy(o),A=u.contextType,S.context=typeof A=="object"&&A!==null?Ur(A):xl,S.state=o.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(Wy(o,u,A,m),S.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(A=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),A!==S.state&&Xy.enqueueReplaceState(S,S.state,null),wu(o,m,S,b),xu(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){S=o.stateNode;var k=o.memoizedProps,$=lo(u,k);S.props=$;var J=S.context,le=u.contextType;A=xl,typeof le=="object"&&le!==null&&(A=Ur(le));var fe=u.getDerivedStateFromProps;le=typeof fe=="function"||typeof S.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,le||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k||J!==A)&&uN(o,S,m,A),Ji=!1;var ee=o.memoizedState;S.state=ee,wu(o,m,S,b),xu(),J=o.memoizedState,k||ee!==J||Ji?(typeof fe=="function"&&(Wy(o,u,fe,m),J=o.memoizedState),($=Ji||cN(o,u,$,m,ee,J,A))?(le||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=J),S.props=m,S.state=J,S.context=A,m=$):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{S=o.stateNode,Ey(i,o),A=o.memoizedProps,le=lo(u,A),S.props=le,fe=o.pendingProps,ee=S.context,J=u.contextType,$=xl,typeof J=="object"&&J!==null&&($=Ur(J)),k=u.getDerivedStateFromProps,(J=typeof k=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(A!==fe||ee!==$)&&uN(o,S,m,$),Ji=!1,ee=o.memoizedState,S.state=ee,wu(o,m,S,b),xu();var re=o.memoizedState;A!==fe||ee!==re||Ji||i!==null&&i.dependencies!==null&&Hf(i.dependencies)?(typeof k=="function"&&(Wy(o,u,k,m),re=o.memoizedState),(le=Ji||cN(o,u,le,m,ee,re,$)||i!==null&&i.dependencies!==null&&Hf(i.dependencies))?(J||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,re,$),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,re,$)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||A===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=re),S.props=m,S.state=re,S.context=$,m=le):(typeof S.componentDidUpdate!="function"||A===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),m=!1)}return S=m,dh(i,o),m=(o.flags&128)!==0,S||m?(S=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,i!==null&&m?(o.child=so(o,i.child,null,b),o.child=so(o,null,u,b)):zr(i,o,u,b),o.memoizedState=S.state,i=o.child):i=ni(i,o,b),i}function NN(i,o,u,m){return eo(),o.flags|=256,zr(i,o,u,m),o.child}var tv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rv(i){return{baseLanes:i,cachePool:m_()}}function nv(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=kn),i}function ON(i,o,u){var m=o.pendingProps,b=!1,S=(o.flags&128)!==0,A;if((A=S)||(A=i!==null&&i.memoizedState===null?!1:(sr.current&2)!==0),A&&(b=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,i===null){if(st){if(b?ts(o):rs(),(i=Bt)?(i=MO(i,Gn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Gi!==null?{id:Ea,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},u=i_(i),u.return=o,o.child=u,$r=o,Bt=null)):i=null,i===null)throw Wi(o);return $v(i)?o.lanes=32:o.lanes=536870912,null}var k=m.children;return m=m.fallback,b?(rs(),b=o.mode,k=fh({mode:"hidden",children:k},b),m=Zs(m,b,u,null),k.return=o,m.return=o,k.sibling=m,o.child=k,m=o.child,m.memoizedState=rv(u),m.childLanes=nv(i,A,u),o.memoizedState=tv,Ou(null,m)):(ts(o),av(o,k))}var $=i.memoizedState;if($!==null&&(k=$.dehydrated,k!==null)){if(S)o.flags&256?(ts(o),o.flags&=-257,o=iv(i,o,u)):o.memoizedState!==null?(rs(),o.child=i.child,o.flags|=128,o=null):(rs(),k=m.fallback,b=o.mode,m=fh({mode:"visible",children:m.children},b),k=Zs(k,b,u,null),k.flags|=2,m.return=o,k.return=o,m.sibling=k,o.child=m,so(o,i.child,null,u),m=o.child,m.memoizedState=rv(u),m.childLanes=nv(i,A,u),o.memoizedState=tv,o=Ou(null,m));else if(ts(o),$v(k)){if(A=k.nextSibling&&k.nextSibling.dataset,A)var J=A.dgst;A=J,m=Error(n(419)),m.stack="",m.digest=A,mu({value:m,source:null,stack:null}),o=iv(i,o,u)}else if(dr||_l(i,o,u,!1),A=(u&i.childLanes)!==0,dr||A){if(A=Dt,A!==null&&(m=fS(A,u),m!==0&&m!==$.retryLane))throw $.retryLane=m,Js(i,m),yn(A,i,m),Zy;Bv(k)||wh(),o=iv(i,o,u)}else Bv(k)?(o.flags|=192,o.child=i.child,o=null):(i=$.treeContext,Bt=Wn(k.nextSibling),$r=o,st=!0,Yi=null,Gn=!1,i!==null&&l_(o,i),o=av(o,m.children),o.flags|=4096);return o}return b?(rs(),k=m.fallback,b=o.mode,$=i.child,J=$.sibling,m=Xa($,{mode:"hidden",children:m.children}),m.subtreeFlags=$.subtreeFlags&65011712,J!==null?k=Xa(J,k):(k=Zs(k,b,u,null),k.flags|=2),k.return=o,m.return=o,m.sibling=k,o.child=m,Ou(null,m),m=o.child,k=i.child.memoizedState,k===null?k=rv(u):(b=k.cachePool,b!==null?($=cr._currentValue,b=b.parent!==$?{parent:$,pool:$}:b):b=m_(),k={baseLanes:k.baseLanes|u,cachePool:b}),m.memoizedState=k,m.childLanes=nv(i,A,u),o.memoizedState=tv,Ou(i.child,m)):(ts(o),u=i.child,i=u.sibling,u=Xa(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(A=o.deletions,A===null?(o.deletions=[i],o.flags|=16):A.push(i)),o.child=u,o.memoizedState=null,u)}function av(i,o){return o=fh({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function fh(i,o){return i=On(22,i,null,o),i.lanes=0,i}function iv(i,o,u){return so(o,i.child,null,u),i=av(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function EN(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),xy(i.return,o,u)}function sv(i,o,u,m,b,S){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:b,treeForkCount:S}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=u,A.tailMode=b,A.treeForkCount=S)}function AN(i,o,u){var m=o.pendingProps,b=m.revealOrder,S=m.tail;m=m.children;var A=sr.current,k=(A&2)!==0;if(k?(A=A&1|2,o.flags|=128):A&=1,Z(sr,A),zr(i,o,m,u),m=st?hu:0,!k&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&EN(i,u,o);else if(i.tag===19)EN(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(u=o.child,b=null;u!==null;)i=u.alternate,i!==null&&eh(i)===null&&(b=u),u=u.sibling;u=b,u===null?(b=o.child,o.child=null):(b=u.sibling,u.sibling=null),sv(o,!1,b,u,S,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&eh(i)===null){o.child=b;break}i=b.sibling,b.sibling=u,u=b,b=i}sv(o,!0,u,null,S,m);break;case"together":sv(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function ni(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),is|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(_l(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Xa(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Xa(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function ov(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Hf(i)))}function iL(i,o,u){switch(o.tag){case 3:ke(o,o.stateNode.containerInfo),Xi(o,cr,i.memoizedState.cache),eo();break;case 27:case 5:_e(o);break;case 4:ke(o,o.stateNode.containerInfo);break;case 10:Xi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Ty(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(ts(o),o.flags|=128,null):(u&o.child.childLanes)!==0?ON(i,o,u):(ts(o),i=ni(i,o,u),i!==null?i.sibling:null);ts(o);break;case 19:var b=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(_l(i,o,u,!1),m=(u&o.childLanes)!==0),b){if(m)return AN(i,o,u);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Z(sr,sr.current),m)break;return null;case 22:return o.lanes=0,xN(i,o,u,o.pendingProps);case 24:Xi(o,cr,i.memoizedState.cache)}return ni(i,o,u)}function CN(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)dr=!0;else{if(!ov(i,u)&&(o.flags&128)===0)return dr=!1,iL(i,o,u);dr=(i.flags&131072)!==0}else dr=!1,st&&(o.flags&1048576)!==0&&o_(o,hu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=ao(o.elementType),o.type=i,typeof i=="function")fy(i)?(m=lo(i,m),o.tag=1,o=_N(null,o,i,m,u)):(o.tag=0,o=ev(null,o,i,m,u));else{if(i!=null){var b=i.$$typeof;if(b===C){o.tag=11,o=yN(null,o,i,m,u);break e}else if(b===M){o.tag=14,o=vN(null,o,i,m,u);break e}}throw o=ie(i)||i,Error(n(306,o,""))}}return o;case 0:return ev(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,b=lo(m,o.pendingProps),_N(i,o,m,b,u);case 3:e:{if(ke(o,o.stateNode.containerInfo),i===null)throw Error(n(387));m=o.pendingProps;var S=o.memoizedState;b=S.element,Ey(i,o),wu(o,m,null,u);var A=o.memoizedState;if(m=A.cache,Xi(o,cr,m),m!==S.cache&&wy(o,[cr],u,!0),xu(),m=A.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=NN(i,o,m,u);break e}else if(m!==b){b=Qn(Error(n(424)),o),mu(b),o=NN(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Bt=Wn(i.firstChild),$r=o,st=!0,Yi=null,Gn=!0,u=x_(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(eo(),m===b){o=ni(i,o,u);break e}zr(i,o,m,u)}o=o.child}return o;case 26:return dh(i,o),i===null?(u=UO(o.type,null,o.pendingProps,null))?o.memoizedState=u:st||(u=o.type,i=o.pendingProps,m=Ah(ve.current).createElement(u),m[Br]=o,m[dn]=i,qr(m,u,i),Or(m),o.stateNode=m):o.memoizedState=UO(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return _e(o),i===null&&st&&(m=o.stateNode=LO(o.type,o.pendingProps,ve.current),$r=o,Gn=!0,b=Bt,us(o.type)?(Uv=b,Bt=Wn(m.firstChild)):Bt=b),zr(i,o,o.pendingProps.children,u),dh(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&st&&((b=m=Bt)&&(m=RL(m,o.type,o.pendingProps,Gn),m!==null?(o.stateNode=m,$r=o,Bt=Wn(m.firstChild),Gn=!1,b=!0):b=!1),b||Wi(o)),_e(o),b=o.type,S=o.pendingProps,A=i!==null?i.memoizedProps:null,m=S.children,Rv(b,S)?m=null:A!==null&&Rv(b,A)&&(o.flags|=32),o.memoizedState!==null&&(b=My(i,o,W3,null,null,u),zu._currentValue=b),dh(i,o),zr(i,o,m,u),o.child;case 6:return i===null&&st&&((i=u=Bt)&&(u=IL(u,o.pendingProps,Gn),u!==null?(o.stateNode=u,$r=o,Bt=null,i=!0):i=!1),i||Wi(o)),null;case 13:return ON(i,o,u);case 4:return ke(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=so(o,null,m,u):zr(i,o,m,u),o.child;case 11:return yN(i,o,o.type,o.pendingProps,u);case 7:return zr(i,o,o.pendingProps,u),o.child;case 8:return zr(i,o,o.pendingProps.children,u),o.child;case 12:return zr(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,Xi(o,o.type,m.value),zr(i,o,m.children,u),o.child;case 9:return b=o.type._context,m=o.pendingProps.children,ro(o),b=Ur(b),m=m(b),o.flags|=1,zr(i,o,m,u),o.child;case 14:return vN(i,o,o.type,o.pendingProps,u);case 15:return bN(i,o,o.type,o.pendingProps,u);case 19:return AN(i,o,u);case 31:return aL(i,o,u);case 22:return xN(i,o,u,o.pendingProps);case 24:return ro(o),m=Ur(cr),i===null?(b=_y(),b===null&&(b=Dt,S=jy(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=u),b=S),o.memoizedState={parent:m,cache:b},Oy(o),Xi(o,cr,b)):((i.lanes&u)!==0&&(Ey(i,o),wu(o,null,null,u),xu()),b=i.memoizedState,S=o.memoizedState,b.parent!==m?(b={parent:m,cache:m},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),Xi(o,cr,m)):(m=S.cache,Xi(o,cr,m),m!==b.cache&&wy(o,[cr],u,!0))),zr(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function ai(i){i.flags|=4}function lv(i,o,u,m,b){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(rO())i.flags|=8192;else throw io=Wf,Ny}else i.flags&=-16777217}function kN(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!QO(o))if(rO())i.flags|=8192;else throw io=Wf,Ny}function hh(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?cS():536870912,i.lanes|=o,Il|=o)}function Eu(i,o){if(!st)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function $t(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var b=i.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function sL(i,o,u){var m=o.pendingProps;switch(gy(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(o),null;case 1:return $t(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),ei(cr),te(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Sl(o)?ai(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,vy())),$t(o),null;case 26:var b=o.type,S=o.memoizedState;return i===null?(ai(o),S!==null?($t(o),kN(o,S)):($t(o),lv(o,b,null,m,u))):S?S!==i.memoizedState?(ai(o),$t(o),kN(o,S)):($t(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&ai(o),$t(o),lv(o,b,i,m,u)),null;case 27:if(Pe(o),u=ve.current,b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&ai(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return $t(o),null}i=q.current,Sl(o)?c_(o):(i=LO(b,m,u),o.stateNode=i,ai(o))}return $t(o),null;case 5:if(Pe(o),b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&ai(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return $t(o),null}if(S=q.current,Sl(o))c_(o);else{var A=Ah(ve.current);switch(S){case 1:S=A.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=A.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=A.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?A.createElement("select",{is:m.is}):A.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?A.createElement(b,{is:m.is}):A.createElement(b)}}S[Br]=o,S[dn]=m;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)S.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=S;e:switch(qr(S,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ai(o)}}return $t(o),lv(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&ai(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(i=ve.current,Sl(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,b=$r,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}i[Br]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||OO(i.nodeValue,u)),i||Wi(o,!0)}else i=Ah(i).createTextNode(m),i[Br]=o,o.stateNode=i}return $t(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=Sl(o),u!==null){if(i===null){if(!m)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Br]=o}else eo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$t(o),i=!1}else u=vy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(An(o),o):(An(o),null);if((o.flags&128)!==0)throw Error(n(558))}return $t(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=Sl(o),m!==null&&m.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Br]=o}else eo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$t(o),b=!1}else b=vy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(An(o),o):(An(o),null)}return An(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==b&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),hh(o,o.updateQueue),$t(o),null);case 4:return te(),i===null&&kv(o.stateNode.containerInfo),$t(o),null;case 10:return ei(o.type),$t(o),null;case 19:if(U(sr),m=o.memoizedState,m===null)return $t(o),null;if(b=(o.flags&128)!==0,S=m.rendering,S===null)if(b)Eu(m,!1);else{if(Zt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=eh(i),S!==null){for(o.flags|=128,Eu(m,!1),i=S.updateQueue,o.updateQueue=i,hh(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)a_(u,i),u=u.sibling;return Z(sr,sr.current&1|2),st&&Ja(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&G()>vh&&(o.flags|=128,b=!0,Eu(m,!1),o.lanes=4194304)}else{if(!b)if(i=eh(S),i!==null){if(o.flags|=128,b=!0,i=i.updateQueue,o.updateQueue=i,hh(o,i),Eu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!st)return $t(o),null}else 2*G()-m.renderingStartTime>vh&&u!==536870912&&(o.flags|=128,b=!0,Eu(m,!1),o.lanes=4194304);m.isBackwards?(S.sibling=o.child,o.child=S):(i=m.last,i!==null?i.sibling=S:o.child=S,m.last=S)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=G(),i.sibling=null,u=sr.current,Z(sr,b?u&1|2:u&1),st&&Ja(o,m.treeForkCount),i):($t(o),null);case 22:case 23:return An(o),Py(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&($t(o),o.subtreeFlags&6&&(o.flags|=8192)):$t(o),u=o.updateQueue,u!==null&&hh(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&U(no),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ei(cr),$t(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function oL(i,o){switch(gy(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ei(cr),te(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Pe(o),null;case 31:if(o.memoizedState!==null){if(An(o),o.alternate===null)throw Error(n(340));eo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(An(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));eo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return U(sr),null;case 4:return te(),null;case 10:return ei(o.type),null;case 22:case 23:return An(o),Py(),i!==null&&U(no),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ei(cr),null;case 25:return null;default:return null}}function PN(i,o){switch(gy(o),o.tag){case 3:ei(cr),te();break;case 26:case 27:case 5:Pe(o);break;case 4:te();break;case 31:o.memoizedState!==null&&An(o);break;case 13:An(o);break;case 19:U(sr);break;case 10:ei(o.type);break;case 22:case 23:An(o),Py(),i!==null&&U(no);break;case 24:ei(cr)}}function Au(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var b=m.next;u=b;do{if((u.tag&i)===i){m=void 0;var S=u.create,A=u.inst;m=S(),A.destroy=m}u=u.next}while(u!==b)}}catch(k){Nt(o,o.return,k)}}function ns(i,o,u){try{var m=o.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var S=b.next;m=S;do{if((m.tag&i)===i){var A=m.inst,k=A.destroy;if(k!==void 0){A.destroy=void 0,b=o;var $=u,J=k;try{J()}catch(le){Nt(b,$,le)}}}m=m.next}while(m!==S)}}catch(le){Nt(o,o.return,le)}}function TN(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{j_(o,u)}catch(m){Nt(i,i.return,m)}}}function DN(i,o,u){u.props=lo(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){Nt(i,o,m)}}function Cu(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(b){Nt(i,o,b)}}function Ca(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(b){Nt(i,o,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Nt(i,o,b)}else u.current=null}function MN(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(b){Nt(i,i.return,b)}}function cv(i,o,u){try{var m=i.stateNode;CL(m,i.type,u,o),m[dn]=o}catch(b){Nt(i,i.return,b)}}function RN(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&us(i.type)||i.tag===4}function uv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||RN(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&us(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dv(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ya));else if(m!==4&&(m===27&&us(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(dv(i,o,u),i=i.sibling;i!==null;)dv(i,o,u),i=i.sibling}function mh(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&us(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(mh(i,o,u),i=i.sibling;i!==null;)mh(i,o,u),i=i.sibling}function IN(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);qr(o,m,u),o[Br]=i,o[dn]=u}catch(S){Nt(i,i.return,S)}}var ii=!1,fr=!1,fv=!1,LN=typeof WeakSet=="function"?WeakSet:Set,Er=null;function lL(i,o){if(i=i.containerInfo,Dv=Rh,i=YS(i),iy(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var b=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var A=0,k=-1,$=-1,J=0,le=0,fe=i,ee=null;t:for(;;){for(var re;fe!==u||b!==0&&fe.nodeType!==3||(k=A+b),fe!==S||m!==0&&fe.nodeType!==3||($=A+m),fe.nodeType===3&&(A+=fe.nodeValue.length),(re=fe.firstChild)!==null;)ee=fe,fe=re;for(;;){if(fe===i)break t;if(ee===u&&++J===b&&(k=A),ee===S&&++le===m&&($=A),(re=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=re}u=k===-1||$===-1?null:{start:k,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(Mv={focusedElem:i,selectionRange:u},Rh=!1,Er=o;Er!==null;)if(o=Er,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Er=i;else for(;Er!==null;){switch(o=Er,S=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)b=i[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,u=o,b=S.memoizedProps,S=S.memoizedState,m=u.stateNode;try{var Ee=lo(u.type,b);i=m.getSnapshotBeforeUpdate(Ee,S),m.__reactInternalSnapshotBeforeUpdate=i}catch(Be){Nt(u,u.return,Be)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Lv(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Lv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Er=i;break}Er=o.return}}function BN(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:oi(i,u),m&4&&Au(5,u);break;case 1:if(oi(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(A){Nt(u,u.return,A)}else{var b=lo(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(b,o,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Nt(u,u.return,A)}}m&64&&TN(u),m&512&&Cu(u,u.return);break;case 3:if(oi(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{j_(i,o)}catch(A){Nt(u,u.return,A)}}break;case 27:o===null&&m&4&&IN(u);case 26:case 5:oi(i,u),o===null&&m&4&&MN(u),m&512&&Cu(u,u.return);break;case 12:oi(i,u);break;case 31:oi(i,u),m&4&&zN(i,u);break;case 13:oi(i,u),m&4&&qN(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=yL.bind(null,u),LL(i,u))));break;case 22:if(m=u.memoizedState!==null||ii,!m){o=o!==null&&o.memoizedState!==null||fr,b=ii;var S=fr;ii=m,(fr=o)&&!S?li(i,u,(u.subtreeFlags&8772)!==0):oi(i,u),ii=b,fr=S}break;case 30:break;default:oi(i,u)}}function $N(i){var o=i.alternate;o!==null&&(i.alternate=null,$N(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&qg(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Kt=null,hn=!1;function si(i,o,u){for(u=u.child;u!==null;)UN(i,o,u),u=u.sibling}function UN(i,o,u){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(vr,u)}catch{}switch(u.tag){case 26:fr||Ca(u,o),si(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:fr||Ca(u,o);var m=Kt,b=hn;us(u.type)&&(Kt=u.stateNode,hn=!1),si(i,o,u),Bu(u.stateNode),Kt=m,hn=b;break;case 5:fr||Ca(u,o);case 6:if(m=Kt,b=hn,Kt=null,si(i,o,u),Kt=m,hn=b,Kt!==null)if(hn)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(u.stateNode)}catch(S){Nt(u,o,S)}else try{Kt.removeChild(u.stateNode)}catch(S){Nt(u,o,S)}break;case 18:Kt!==null&&(hn?(i=Kt,TO(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Kl(i)):TO(Kt,u.stateNode));break;case 4:m=Kt,b=hn,Kt=u.stateNode.containerInfo,hn=!0,si(i,o,u),Kt=m,hn=b;break;case 0:case 11:case 14:case 15:ns(2,u,o),fr||ns(4,u,o),si(i,o,u);break;case 1:fr||(Ca(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&DN(u,o,m)),si(i,o,u);break;case 21:si(i,o,u);break;case 22:fr=(m=fr)||u.memoizedState!==null,si(i,o,u),fr=m;break;default:si(i,o,u)}}function zN(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Kl(i)}catch(u){Nt(o,o.return,u)}}}function qN(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Kl(i)}catch(u){Nt(o,o.return,u)}}function cL(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new LN),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new LN),o;default:throw Error(n(435,i.tag))}}function ph(i,o){var u=cL(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var b=vL.bind(null,i,m);m.then(b,b)}})}function mn(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var b=u[m],S=i,A=o,k=A;e:for(;k!==null;){switch(k.tag){case 27:if(us(k.type)){Kt=k.stateNode,hn=!1;break e}break;case 5:Kt=k.stateNode,hn=!1;break e;case 3:case 4:Kt=k.stateNode.containerInfo,hn=!0;break e}k=k.return}if(Kt===null)throw Error(n(160));UN(S,A,b),Kt=null,hn=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)FN(o,i),o=o.sibling}var ua=null;function FN(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:mn(o,i),pn(i),m&4&&(ns(3,i,i.return),Au(3,i),ns(5,i,i.return));break;case 1:mn(o,i),pn(i),m&512&&(fr||u===null||Ca(u,u.return)),m&64&&ii&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var b=ua;if(mn(o,i),pn(i),m&512&&(fr||u===null||Ca(u,u.return)),m&4){var S=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":S=b.getElementsByTagName("title")[0],(!S||S[ru]||S[Br]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(m),b.head.insertBefore(S,b.querySelector("head > title"))),qr(S,m,u),S[Br]=i,Or(S),m=S;break e;case"link":var A=FO("link","href",b).get(m+(u.href||""));if(A){for(var k=0;k<A.length;k++)if(S=A[k],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(k,1);break t}}S=b.createElement(m),qr(S,m,u),b.head.appendChild(S);break;case"meta":if(A=FO("meta","content",b).get(m+(u.content||""))){for(k=0;k<A.length;k++)if(S=A[k],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(k,1);break t}}S=b.createElement(m),qr(S,m,u),b.head.appendChild(S);break;default:throw Error(n(468,m))}S[Br]=i,Or(S),m=S}i.stateNode=m}else KO(b,i.type,i.stateNode);else i.stateNode=qO(b,m,i.memoizedProps);else S!==m?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,m===null?KO(b,i.type,i.stateNode):qO(b,m,i.memoizedProps)):m===null&&i.stateNode!==null&&cv(i,i.memoizedProps,u.memoizedProps)}break;case 27:mn(o,i),pn(i),m&512&&(fr||u===null||Ca(u,u.return)),u!==null&&m&4&&cv(i,i.memoizedProps,u.memoizedProps);break;case 5:if(mn(o,i),pn(i),m&512&&(fr||u===null||Ca(u,u.return)),i.flags&32){b=i.stateNode;try{hl(b,"")}catch(Ee){Nt(i,i.return,Ee)}}m&4&&i.stateNode!=null&&(b=i.memoizedProps,cv(i,b,u!==null?u.memoizedProps:b)),m&1024&&(fv=!0);break;case 6:if(mn(o,i),pn(i),m&4){if(i.stateNode===null)throw Error(n(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(Ee){Nt(i,i.return,Ee)}}break;case 3:if(Ph=null,b=ua,ua=Ch(o.containerInfo),mn(o,i),ua=b,pn(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Kl(o.containerInfo)}catch(Ee){Nt(i,i.return,Ee)}fv&&(fv=!1,KN(i));break;case 4:m=ua,ua=Ch(i.stateNode.containerInfo),mn(o,i),pn(i),ua=m;break;case 12:mn(o,i),pn(i);break;case 31:mn(o,i),pn(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,ph(i,m)));break;case 13:mn(o,i),pn(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(yh=G()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,ph(i,m)));break;case 22:b=i.memoizedState!==null;var $=u!==null&&u.memoizedState!==null,J=ii,le=fr;if(ii=J||b,fr=le||$,mn(o,i),fr=le,ii=J,pn(i),m&8192)e:for(o=i.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(u===null||$||ii||fr||co(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){$=u=o;try{if(S=$.stateNode,b)A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{k=$.stateNode;var fe=$.memoizedProps.style,ee=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;k.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ee){Nt($,$.return,Ee)}}}else if(o.tag===6){if(u===null){$=o;try{$.stateNode.nodeValue=b?"":$.memoizedProps}catch(Ee){Nt($,$.return,Ee)}}}else if(o.tag===18){if(u===null){$=o;try{var re=$.stateNode;b?DO(re,!0):DO($.stateNode,!1)}catch(Ee){Nt($,$.return,Ee)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,ph(i,u))));break;case 19:mn(o,i),pn(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,ph(i,m)));break;case 30:break;case 21:break;default:mn(o,i),pn(i)}}function pn(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(RN(m)){u=m;break}m=m.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var b=u.stateNode,S=uv(i);mh(i,S,b);break;case 5:var A=u.stateNode;u.flags&32&&(hl(A,""),u.flags&=-33);var k=uv(i);mh(i,k,A);break;case 3:case 4:var $=u.stateNode.containerInfo,J=uv(i);dv(i,J,$);break;default:throw Error(n(161))}}catch(le){Nt(i,i.return,le)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function KN(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;KN(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function oi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)BN(i,o.alternate,o),o=o.sibling}function co(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ns(4,o,o.return),co(o);break;case 1:Ca(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&DN(o,o.return,u),co(o);break;case 27:Bu(o.stateNode);case 26:case 5:Ca(o,o.return),co(o);break;case 22:o.memoizedState===null&&co(o);break;case 30:co(o);break;default:co(o)}i=i.sibling}}function li(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,b=i,S=o,A=S.flags;switch(S.tag){case 0:case 11:case 15:li(b,S,u),Au(4,S);break;case 1:if(li(b,S,u),m=S,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(J){Nt(m,m.return,J)}if(m=S,b=m.updateQueue,b!==null){var k=m.stateNode;try{var $=b.shared.hiddenCallbacks;if($!==null)for(b.shared.hiddenCallbacks=null,b=0;b<$.length;b++)w_($[b],k)}catch(J){Nt(m,m.return,J)}}u&&A&64&&TN(S),Cu(S,S.return);break;case 27:IN(S);case 26:case 5:li(b,S,u),u&&m===null&&A&4&&MN(S),Cu(S,S.return);break;case 12:li(b,S,u);break;case 31:li(b,S,u),u&&A&4&&zN(b,S);break;case 13:li(b,S,u),u&&A&4&&qN(b,S);break;case 22:S.memoizedState===null&&li(b,S,u),Cu(S,S.return);break;case 30:break;default:li(b,S,u)}o=o.sibling}}function hv(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&pu(u))}function mv(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&pu(i))}function da(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)QN(i,o,u,m),o=o.sibling}function QN(i,o,u,m){var b=o.flags;switch(o.tag){case 0:case 11:case 15:da(i,o,u,m),b&2048&&Au(9,o);break;case 1:da(i,o,u,m);break;case 3:da(i,o,u,m),b&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&pu(i)));break;case 12:if(b&2048){da(i,o,u,m),i=o.stateNode;try{var S=o.memoizedProps,A=S.id,k=S.onPostCommit;typeof k=="function"&&k(A,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch($){Nt(o,o.return,$)}}else da(i,o,u,m);break;case 31:da(i,o,u,m);break;case 13:da(i,o,u,m);break;case 23:break;case 22:S=o.stateNode,A=o.alternate,o.memoizedState!==null?S._visibility&2?da(i,o,u,m):ku(i,o):S._visibility&2?da(i,o,u,m):(S._visibility|=2,Dl(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),b&2048&&hv(A,o);break;case 24:da(i,o,u,m),b&2048&&mv(o.alternate,o);break;default:da(i,o,u,m)}}function Dl(i,o,u,m,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=i,A=o,k=u,$=m,J=A.flags;switch(A.tag){case 0:case 11:case 15:Dl(S,A,k,$,b),Au(8,A);break;case 23:break;case 22:var le=A.stateNode;A.memoizedState!==null?le._visibility&2?Dl(S,A,k,$,b):ku(S,A):(le._visibility|=2,Dl(S,A,k,$,b)),b&&J&2048&&hv(A.alternate,A);break;case 24:Dl(S,A,k,$,b),b&&J&2048&&mv(A.alternate,A);break;default:Dl(S,A,k,$,b)}o=o.sibling}}function ku(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,b=m.flags;switch(m.tag){case 22:ku(u,m),b&2048&&hv(m.alternate,m);break;case 24:ku(u,m),b&2048&&mv(m.alternate,m);break;default:ku(u,m)}o=o.sibling}}var Pu=8192;function Ml(i,o,u){if(i.subtreeFlags&Pu)for(i=i.child;i!==null;)HN(i,o,u),i=i.sibling}function HN(i,o,u){switch(i.tag){case 26:Ml(i,o,u),i.flags&Pu&&i.memoizedState!==null&&YL(u,ua,i.memoizedState,i.memoizedProps);break;case 5:Ml(i,o,u);break;case 3:case 4:var m=ua;ua=Ch(i.stateNode.containerInfo),Ml(i,o,u),ua=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=Pu,Pu=16777216,Ml(i,o,u),Pu=m):Ml(i,o,u));break;default:Ml(i,o,u)}}function VN(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Tu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Er=m,YN(m,i)}VN(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)GN(i),i=i.sibling}function GN(i){switch(i.tag){case 0:case 11:case 15:Tu(i),i.flags&2048&&ns(9,i,i.return);break;case 3:Tu(i);break;case 12:Tu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,gh(i)):Tu(i);break;default:Tu(i)}}function gh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Er=m,YN(m,i)}VN(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ns(8,o,o.return),gh(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,gh(o));break;default:gh(o)}i=i.sibling}}function YN(i,o){for(;Er!==null;){var u=Er;switch(u.tag){case 0:case 11:case 15:ns(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:pu(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Er=m;else e:for(u=i;Er!==null;){m=Er;var b=m.sibling,S=m.return;if($N(m),m===u){Er=null;break e}if(b!==null){b.return=S,Er=b;break e}Er=S}}}var uL={getCacheForType:function(i){var o=Ur(cr),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return Ur(cr).controller.signal}},dL=typeof WeakMap=="function"?WeakMap:Map,gt=0,Dt=null,tt=null,at=0,_t=0,Cn=null,as=!1,Rl=!1,pv=!1,ci=0,Zt=0,is=0,uo=0,gv=0,kn=0,Il=0,Du=null,gn=null,yv=!1,yh=0,WN=0,vh=1/0,bh=null,ss=null,br=0,os=null,Ll=null,ui=0,vv=0,bv=null,XN=null,Mu=0,xv=null;function Pn(){return(gt&2)!==0&&at!==0?at&-at:L.T!==null?Ov():hS()}function JN(){if(kn===0)if((at&536870912)===0||st){var i=Ef;Ef<<=1,(Ef&3932160)===0&&(Ef=262144),kn=i}else kn=536870912;return i=En.current,i!==null&&(i.flags|=32),kn}function yn(i,o,u){(i===Dt&&(_t===2||_t===9)||i.cancelPendingCommit!==null)&&(Bl(i,0),ls(i,at,kn,!1)),tu(i,u),((gt&2)===0||i!==Dt)&&(i===Dt&&((gt&2)===0&&(uo|=u),Zt===4&&ls(i,at,kn,!1)),ka(i))}function ZN(i,o,u){if((gt&6)!==0)throw Error(n(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||eu(i,o),b=m?mL(i,o):jv(i,o,!0),S=m;do{if(b===0){Rl&&!m&&ls(i,o,0,!1);break}else{if(u=i.current.alternate,S&&!fL(u)){b=jv(i,o,!1),S=!1;continue}if(b===2){if(S=o,i.errorRecoveryDisabledLanes&S)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var k=i;b=Du;var $=k.current.memoizedState.isDehydrated;if($&&(Bl(k,A).flags|=256),A=jv(k,A,!1),A!==2){if(pv&&!$){k.errorRecoveryDisabledLanes|=S,uo|=S,b=4;break e}S=gn,gn=b,S!==null&&(gn===null?gn=S:gn.push.apply(gn,S))}b=A}if(S=!1,b!==2)continue}}if(b===1){Bl(i,0),ls(i,o,0,!0);break}e:{switch(m=i,S=b,S){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:ls(m,o,kn,!as);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=yh+300-G(),10<b)){if(ls(m,o,kn,!as),Cf(m,0,!0)!==0)break e;ui=o,m.timeoutHandle=kO(eO.bind(null,m,u,gn,bh,yv,o,kn,uo,Il,as,S,"Throttled",-0,0),b);break e}eO(m,u,gn,bh,yv,o,kn,uo,Il,as,S,null,-0,0)}}break}while(!0);ka(i)}function eO(i,o,u,m,b,S,A,k,$,J,le,fe,ee,re){if(i.timeoutHandle=-1,fe=o.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ya},HN(o,S,fe);var Ee=(S&62914560)===S?yh-G():(S&4194048)===S?WN-G():0;if(Ee=WL(fe,Ee),Ee!==null){ui=S,i.cancelPendingCommit=Ee(lO.bind(null,i,o,S,u,m,b,A,k,$,le,fe,null,ee,re)),ls(i,S,A,!J);return}}lO(i,o,S,u,m,b,A,k,$)}function fL(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var b=u[m],S=b.getSnapshot;b=b.value;try{if(!Nn(S(),b))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ls(i,o,u,m){o&=~gv,o&=~uo,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var b=o;0<b;){var S=31-Ft(b),A=1<<S;m[S]=-1,b&=~A}u!==0&&uS(i,u,o)}function xh(){return(gt&6)===0?(Ru(0),!1):!0}function wv(){if(tt!==null){if(_t===0)var i=tt.return;else i=tt,Za=to=null,Ly(i),Al=null,yu=0,i=tt;for(;i!==null;)PN(i.alternate,i),i=i.return;tt=null}}function Bl(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,TL(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),ui=0,wv(),Dt=i,tt=u=Xa(i.current,null),at=o,_t=0,Cn=null,as=!1,Rl=eu(i,o),pv=!1,Il=kn=gv=uo=is=Zt=0,gn=Du=null,yv=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var b=31-Ft(m),S=1<<b;o|=i[b],m&=~S}return ci=o,zf(),u}function tO(i,o){He=null,L.H=Nu,o===El||o===Yf?(o=y_(),_t=3):o===Ny?(o=y_(),_t=4):_t=o===Zy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Cn=o,tt===null&&(Zt=1,ch(i,Qn(o,i.current)))}function rO(){var i=En.current;return i===null?!0:(at&4194048)===at?Yn===null:(at&62914560)===at||(at&536870912)!==0?i===Yn:!1}function nO(){var i=L.H;return L.H=Nu,i===null?Nu:i}function aO(){var i=L.A;return L.A=uL,i}function wh(){Zt=4,as||(at&4194048)!==at&&En.current!==null||(Rl=!0),(is&134217727)===0&&(uo&134217727)===0||Dt===null||ls(Dt,at,kn,!1)}function jv(i,o,u){var m=gt;gt|=2;var b=nO(),S=aO();(Dt!==i||at!==o)&&(bh=null,Bl(i,o)),o=!1;var A=Zt;e:do try{if(_t!==0&&tt!==null){var k=tt,$=Cn;switch(_t){case 8:wv(),A=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(o=!0);var J=_t;if(_t=0,Cn=null,$l(i,k,$,J),u&&Rl){A=0;break e}break;default:J=_t,_t=0,Cn=null,$l(i,k,$,J)}}hL(),A=Zt;break}catch(le){tO(i,le)}while(!0);return o&&i.shellSuspendCounter++,Za=to=null,gt=m,L.H=b,L.A=S,tt===null&&(Dt=null,at=0,zf()),A}function hL(){for(;tt!==null;)iO(tt)}function mL(i,o){var u=gt;gt|=2;var m=nO(),b=aO();Dt!==i||at!==o?(bh=null,vh=G()+500,Bl(i,o)):Rl=eu(i,o);e:do try{if(_t!==0&&tt!==null){o=tt;var S=Cn;t:switch(_t){case 1:_t=0,Cn=null,$l(i,o,S,1);break;case 2:case 9:if(p_(S)){_t=0,Cn=null,sO(o);break}o=function(){_t!==2&&_t!==9||Dt!==i||(_t=7),ka(i)},S.then(o,o);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:p_(S)?(_t=0,Cn=null,sO(o)):(_t=0,Cn=null,$l(i,o,S,7));break;case 5:var A=null;switch(tt.tag){case 26:A=tt.memoizedState;case 5:case 27:var k=tt;if(A?QO(A):k.stateNode.complete){_t=0,Cn=null;var $=k.sibling;if($!==null)tt=$;else{var J=k.return;J!==null?(tt=J,jh(J)):tt=null}break t}}_t=0,Cn=null,$l(i,o,S,5);break;case 6:_t=0,Cn=null,$l(i,o,S,6);break;case 8:wv(),Zt=6;break e;default:throw Error(n(462))}}pL();break}catch(le){tO(i,le)}while(!0);return Za=to=null,L.H=m,L.A=b,gt=u,tt!==null?0:(Dt=null,at=0,zf(),Zt)}function pL(){for(;tt!==null&&!Yt();)iO(tt)}function iO(i){var o=CN(i.alternate,i,ci);i.memoizedProps=i.pendingProps,o===null?jh(i):tt=o}function sO(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=SN(u,o,o.pendingProps,o.type,void 0,at);break;case 11:o=SN(u,o,o.pendingProps,o.type.render,o.ref,at);break;case 5:Ly(o);default:PN(u,o),o=tt=a_(o,ci),o=CN(u,o,ci)}i.memoizedProps=i.pendingProps,o===null?jh(i):tt=o}function $l(i,o,u,m){Za=to=null,Ly(o),Al=null,yu=0;var b=o.return;try{if(nL(i,b,o,u,at)){Zt=1,ch(i,Qn(u,i.current)),tt=null;return}}catch(S){if(b!==null)throw tt=b,S;Zt=1,ch(i,Qn(u,i.current)),tt=null;return}o.flags&32768?(st||m===1?i=!0:Rl||(at&536870912)!==0?i=!1:(as=i=!0,(m===2||m===9||m===3||m===6)&&(m=En.current,m!==null&&m.tag===13&&(m.flags|=16384))),oO(o,i)):jh(o)}function jh(i){var o=i;do{if((o.flags&32768)!==0){oO(o,as);return}i=o.return;var u=sL(o.alternate,o,ci);if(u!==null){tt=u;return}if(o=o.sibling,o!==null){tt=o;return}tt=o=i}while(o!==null);Zt===0&&(Zt=5)}function oO(i,o){do{var u=oL(i.alternate,i);if(u!==null){u.flags&=32767,tt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){tt=i;return}tt=i=u}while(i!==null);Zt=6,tt=null}function lO(i,o,u,m,b,S,A,k,$){i.cancelPendingCommit=null;do Sh();while(br!==0);if((gt&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(S=o.lanes|o.childLanes,S|=uy,G5(i,u,S,A,k,$),i===Dt&&(tt=Dt=null,at=0),Ll=o,os=i,ui=u,vv=S,bv=b,XN=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,bL(vt,function(){return hO(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=L.T,L.T=null,b=V.p,V.p=2,A=gt,gt|=4;try{lL(i,o,u)}finally{gt=A,V.p=b,L.T=m}}br=1,cO(),uO(),dO()}}function cO(){if(br===1){br=0;var i=os,o=Ll,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=L.T,L.T=null;var m=V.p;V.p=2;var b=gt;gt|=4;try{FN(o,i);var S=Mv,A=YS(i.containerInfo),k=S.focusedElem,$=S.selectionRange;if(A!==k&&k&&k.ownerDocument&&GS(k.ownerDocument.documentElement,k)){if($!==null&&iy(k)){var J=$.start,le=$.end;if(le===void 0&&(le=J),"selectionStart"in k)k.selectionStart=J,k.selectionEnd=Math.min(le,k.value.length);else{var fe=k.ownerDocument||document,ee=fe&&fe.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),Ee=k.textContent.length,Be=Math.min($.start,Ee),kt=$.end===void 0?Be:Math.min($.end,Ee);!re.extend&&Be>kt&&(A=kt,kt=Be,Be=A);var Q=VS(k,Be),F=VS(k,kt);if(Q&&F&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==F.node||re.focusOffset!==F.offset)){var X=fe.createRange();X.setStart(Q.node,Q.offset),re.removeAllRanges(),Be>kt?(re.addRange(X),re.extend(F.node,F.offset)):(X.setEnd(F.node,F.offset),re.addRange(X))}}}}for(fe=[],re=k;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<fe.length;k++){var ue=fe[k];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Rh=!!Dv,Mv=Dv=null}finally{gt=b,V.p=m,L.T=u}}i.current=o,br=2}}function uO(){if(br===2){br=0;var i=os,o=Ll,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=L.T,L.T=null;var m=V.p;V.p=2;var b=gt;gt|=4;try{BN(i,o.alternate,o)}finally{gt=b,V.p=m,L.T=u}}br=3}}function dO(){if(br===4||br===3){br=0,St();var i=os,o=Ll,u=ui,m=XN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?br=5:(br=0,Ll=os=null,fO(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(ss=null),Ug(u),o=o.stateNode,lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(vr,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=L.T,b=V.p,V.p=2,L.T=null;try{for(var S=i.onRecoverableError,A=0;A<m.length;A++){var k=m[A];S(k.value,{componentStack:k.stack})}}finally{L.T=o,V.p=b}}(ui&3)!==0&&Sh(),ka(i),b=i.pendingLanes,(u&261930)!==0&&(b&42)!==0?i===xv?Mu++:(Mu=0,xv=i):Mu=0,Ru(0)}}function fO(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,pu(o)))}function Sh(){return cO(),uO(),dO(),hO()}function hO(){if(br!==5)return!1;var i=os,o=vv;vv=0;var u=Ug(ui),m=L.T,b=V.p;try{V.p=32>u?32:u,L.T=null,u=bv,bv=null;var S=os,A=ui;if(br=0,Ll=os=null,ui=0,(gt&6)!==0)throw Error(n(331));var k=gt;if(gt|=4,GN(S.current),QN(S,S.current,A,u),gt=k,Ru(0,!1),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(vr,S)}catch{}return!0}finally{V.p=b,L.T=m,fO(i,o)}}function mO(i,o,u){o=Qn(u,o),o=Jy(i.stateNode,o,2),i=es(i,o,2),i!==null&&(tu(i,2),ka(i))}function Nt(i,o,u){if(i.tag===3)mO(i,i,u);else for(;o!==null;){if(o.tag===3){mO(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ss===null||!ss.has(m))){i=Qn(u,i),u=pN(2),m=es(o,u,2),m!==null&&(gN(u,m,o,i),tu(m,2),ka(m));break}}o=o.return}}function Sv(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new dL;var b=new Set;m.set(o,b)}else b=m.get(o),b===void 0&&(b=new Set,m.set(o,b));b.has(u)||(pv=!0,b.add(u),i=gL.bind(null,i,o,u),o.then(i,i))}function gL(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Dt===i&&(at&u)===u&&(Zt===4||Zt===3&&(at&62914560)===at&&300>G()-yh?(gt&2)===0&&Bl(i,0):gv|=u,Il===at&&(Il=0)),ka(i)}function pO(i,o){o===0&&(o=cS()),i=Js(i,o),i!==null&&(tu(i,o),ka(i))}function yL(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),pO(i,u)}function vL(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,b=i.memoizedState;b!==null&&(u=b.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),pO(i,u)}function bL(i,o){return se(i,o)}var _h=null,Ul=null,_v=!1,Nh=!1,Nv=!1,cs=0;function ka(i){i!==Ul&&i.next===null&&(Ul===null?_h=Ul=i:Ul=Ul.next=i),Nh=!0,_v||(_v=!0,wL())}function Ru(i,o){if(!Nv&&Nh){Nv=!0;do for(var u=!1,m=_h;m!==null;){if(i!==0){var b=m.pendingLanes;if(b===0)var S=0;else{var A=m.suspendedLanes,k=m.pingedLanes;S=(1<<31-Ft(42|i)+1)-1,S&=b&~(A&~k),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,bO(m,S))}else S=at,S=Cf(m,m===Dt?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||eu(m,S)||(u=!0,bO(m,S));m=m.next}while(u);Nv=!1}}function xL(){gO()}function gO(){Nh=_v=!1;var i=0;cs!==0&&PL()&&(i=cs);for(var o=G(),u=null,m=_h;m!==null;){var b=m.next,S=yO(m,o);S===0?(m.next=null,u===null?_h=b:u.next=b,b===null&&(Ul=u)):(u=m,(i!==0||(S&3)!==0)&&(Nh=!0)),m=b}br!==0&&br!==5||Ru(i),cs!==0&&(cs=0)}function yO(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,b=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var A=31-Ft(S),k=1<<A,$=b[A];$===-1?((k&u)===0||(k&m)!==0)&&(b[A]=V5(k,o)):$<=o&&(i.expiredLanes|=k),S&=~k}if(o=Dt,u=at,u=Cf(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(_t===2||_t===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&yt(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||eu(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&yt(m),Ug(u)){case 2:case 8:u=Ie;break;case 32:u=vt;break;case 268435456:u=Qe;break;default:u=vt}return m=vO.bind(null,i),u=se(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&yt(m),i.callbackPriority=2,i.callbackNode=null,2}function vO(i,o){if(br!==0&&br!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Sh()&&i.callbackNode!==u)return null;var m=at;return m=Cf(i,i===Dt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(ZN(i,m,o),yO(i,G()),i.callbackNode!=null&&i.callbackNode===u?vO.bind(null,i):null)}function bO(i,o){if(Sh())return null;ZN(i,o,!0)}function wL(){DL(function(){(gt&6)!==0?se(Le,xL):gO()})}function Ov(){if(cs===0){var i=Nl;i===0&&(i=Of,Of<<=1,(Of&261888)===0&&(Of=256)),cs=i}return cs}function xO(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Df(""+i)}function wO(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function jL(i,o,u,m,b){if(o==="submit"&&u&&u.stateNode===b){var S=xO((b[dn]||null).action),A=m.submitter;A&&(o=(o=A[dn]||null)?xO(o.formAction):A.getAttribute("formAction"),o!==null&&(S=o,A=null));var k=new Lf("action","action",null,m,b);i.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(cs!==0){var $=A?wO(b,A):new FormData(b);Hy(u,{pending:!0,data:$,method:b.method,action:S},null,$)}}else typeof S=="function"&&(k.preventDefault(),$=A?wO(b,A):new FormData(b),Hy(u,{pending:!0,data:$,method:b.method,action:S},S,$))},currentTarget:b}]})}}for(var Ev=0;Ev<cy.length;Ev++){var Av=cy[Ev],SL=Av.toLowerCase(),_L=Av[0].toUpperCase()+Av.slice(1);ca(SL,"on"+_L)}ca(JS,"onAnimationEnd"),ca(ZS,"onAnimationIteration"),ca(e_,"onAnimationStart"),ca("dblclick","onDoubleClick"),ca("focusin","onFocus"),ca("focusout","onBlur"),ca(U3,"onTransitionRun"),ca(z3,"onTransitionStart"),ca(q3,"onTransitionCancel"),ca(t_,"onTransitionEnd"),dl("onMouseEnter",["mouseout","mouseover"]),dl("onMouseLeave",["mouseout","mouseover"]),dl("onPointerEnter",["pointerout","pointerover"]),dl("onPointerLeave",["pointerout","pointerover"]),Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function jO(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],b=m.event;m=m.listeners;e:{var S=void 0;if(o)for(var A=m.length-1;0<=A;A--){var k=m[A],$=k.instance,J=k.currentTarget;if(k=k.listener,$!==S&&b.isPropagationStopped())break e;S=k,b.currentTarget=J;try{S(b)}catch(le){Uf(le)}b.currentTarget=null,S=$}else for(A=0;A<m.length;A++){if(k=m[A],$=k.instance,J=k.currentTarget,k=k.listener,$!==S&&b.isPropagationStopped())break e;S=k,b.currentTarget=J;try{S(b)}catch(le){Uf(le)}b.currentTarget=null,S=$}}}}function rt(i,o){var u=o[zg];u===void 0&&(u=o[zg]=new Set);var m=i+"__bubble";u.has(m)||(SO(o,i,2,!1),u.add(m))}function Cv(i,o,u){var m=0;o&&(m|=4),SO(u,i,m,o)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function kv(i){if(!i[Oh]){i[Oh]=!0,gS.forEach(function(u){u!=="selectionchange"&&(NL.has(u)||Cv(u,!1,i),Cv(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Oh]||(o[Oh]=!0,Cv("selectionchange",!1,o))}}function SO(i,o,u,m){switch(JO(o)){case 2:var b=ZL;break;case 8:b=eB;break;default:b=Qv}u=b.bind(null,o,u,i),b=void 0,!Wg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),m?b!==void 0?i.addEventListener(o,u,{capture:!0,passive:b}):i.addEventListener(o,u,!0):b!==void 0?i.addEventListener(o,u,{passive:b}):i.addEventListener(o,u,!1)}function Pv(i,o,u,m,b){var S=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var k=m.stateNode.containerInfo;if(k===b)break;if(A===4)for(A=m.return;A!==null;){var $=A.tag;if(($===3||$===4)&&A.stateNode.containerInfo===b)return;A=A.return}for(;k!==null;){if(A=ll(k),A===null)return;if($=A.tag,$===5||$===6||$===26||$===27){m=S=A;continue e}k=k.parentNode}}m=m.return}AS(function(){var J=S,le=Gg(u),fe=[];e:{var ee=r_.get(i);if(ee!==void 0){var re=Lf,Ee=i;switch(i){case"keypress":if(Rf(u)===0)break e;case"keydown":case"keyup":re=v3;break;case"focusin":Ee="focus",re=ey;break;case"focusout":Ee="blur",re=ey;break;case"beforeblur":case"afterblur":re=ey;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=PS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=s3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=w3;break;case JS:case ZS:case e_:re=c3;break;case t_:re=S3;break;case"scroll":case"scrollend":re=a3;break;case"wheel":re=N3;break;case"copy":case"cut":case"paste":re=d3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=DS;break;case"toggle":case"beforetoggle":re=E3}var Be=(o&4)!==0,kt=!Be&&(i==="scroll"||i==="scrollend"),Q=Be?ee!==null?ee+"Capture":null:ee;Be=[];for(var F=J,X;F!==null;){var ue=F;if(X=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||X===null||Q===null||(ue=au(F,Q),ue!=null&&Be.push(Lu(F,ue,X))),kt)break;F=F.return}0<Be.length&&(ee=new re(ee,Ee,null,u,le),fe.push({event:ee,listeners:Be}))}}if((o&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",ee&&u!==Vg&&(Ee=u.relatedTarget||u.fromElement)&&(ll(Ee)||Ee[ol]))break e;if((re||ee)&&(ee=le.window===le?le:(ee=le.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(Ee=u.relatedTarget||u.toElement,re=J,Ee=Ee?ll(Ee):null,Ee!==null&&(kt=s(Ee),Be=Ee.tag,Ee!==kt||Be!==5&&Be!==27&&Be!==6)&&(Ee=null)):(re=null,Ee=J),re!==Ee)){if(Be=PS,ue="onMouseLeave",Q="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Be=DS,ue="onPointerLeave",Q="onPointerEnter",F="pointer"),kt=re==null?ee:nu(re),X=Ee==null?ee:nu(Ee),ee=new Be(ue,F+"leave",re,u,le),ee.target=kt,ee.relatedTarget=X,ue=null,ll(le)===J&&(Be=new Be(Q,F+"enter",Ee,u,le),Be.target=X,Be.relatedTarget=kt,ue=Be),kt=ue,re&&Ee)t:{for(Be=OL,Q=re,F=Ee,X=0,ue=Q;ue;ue=Be(ue))X++;ue=0;for(var Re=F;Re;Re=Be(Re))ue++;for(;0<X-ue;)Q=Be(Q),X--;for(;0<ue-X;)F=Be(F),ue--;for(;X--;){if(Q===F||F!==null&&Q===F.alternate){Be=Q;break t}Q=Be(Q),F=Be(F)}Be=null}else Be=null;re!==null&&_O(fe,ee,re,Be,!1),Ee!==null&&kt!==null&&_O(fe,kt,Ee,Be,!0)}}e:{if(ee=J?nu(J):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var ut=zS;else if($S(ee))if(qS)ut=L3;else{ut=R3;var Ce=M3}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&Hg(J.elementType)&&(ut=zS):ut=I3;if(ut&&(ut=ut(i,J))){US(fe,ut,u,le);break e}Ce&&Ce(i,ee,J),i==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&Qg(ee,"number",ee.value)}switch(Ce=J?nu(J):window,i){case"focusin":($S(Ce)||Ce.contentEditable==="true")&&(yl=Ce,sy=J,fu=null);break;case"focusout":fu=sy=yl=null;break;case"mousedown":oy=!0;break;case"contextmenu":case"mouseup":case"dragend":oy=!1,WS(fe,u,le);break;case"selectionchange":if($3)break;case"keydown":case"keyup":WS(fe,u,le)}var Ye;if(ry)e:{switch(i){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else gl?LS(i,u)&&(it="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(it="onCompositionStart");it&&(MS&&u.locale!=="ko"&&(gl||it!=="onCompositionStart"?it==="onCompositionEnd"&&gl&&(Ye=CS()):(Vi=le,Xg="value"in Vi?Vi.value:Vi.textContent,gl=!0)),Ce=Eh(J,it),0<Ce.length&&(it=new TS(it,i,null,u,le),fe.push({event:it,listeners:Ce}),Ye?it.data=Ye:(Ye=BS(u),Ye!==null&&(it.data=Ye)))),(Ye=C3?k3(i,u):P3(i,u))&&(it=Eh(J,"onBeforeInput"),0<it.length&&(Ce=new TS("onBeforeInput","beforeinput",null,u,le),fe.push({event:Ce,listeners:it}),Ce.data=Ye)),jL(fe,i,J,u,le)}jO(fe,o)})}function Lu(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Eh(i,o){for(var u=o+"Capture",m=[];i!==null;){var b=i,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=au(i,u),b!=null&&m.unshift(Lu(i,b,S)),b=au(i,o),b!=null&&m.push(Lu(i,b,S))),i.tag===3)return m;i=i.return}return[]}function OL(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function _O(i,o,u,m,b){for(var S=o._reactName,A=[];u!==null&&u!==m;){var k=u,$=k.alternate,J=k.stateNode;if(k=k.tag,$!==null&&$===m)break;k!==5&&k!==26&&k!==27||J===null||($=J,b?(J=au(u,S),J!=null&&A.unshift(Lu(u,J,$))):b||(J=au(u,S),J!=null&&A.push(Lu(u,J,$)))),u=u.return}A.length!==0&&i.push({event:o,listeners:A})}var EL=/\r\n?/g,AL=/\u0000|\uFFFD/g;function NO(i){return(typeof i=="string"?i:""+i).replace(EL,`
`).replace(AL,"")}function OO(i,o){return o=NO(o),NO(i)===o}function Ct(i,o,u,m,b,S){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||hl(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&hl(i,""+m);break;case"className":Pf(i,"class",m);break;case"tabIndex":Pf(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Pf(i,u,m);break;case"style":OS(i,m,S);break;case"data":if(o!=="object"){Pf(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Df(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(o!=="input"&&Ct(i,o,"name",b.name,b,null),Ct(i,o,"formEncType",b.formEncType,b,null),Ct(i,o,"formMethod",b.formMethod,b,null),Ct(i,o,"formTarget",b.formTarget,b,null)):(Ct(i,o,"encType",b.encType,b,null),Ct(i,o,"method",b.method,b,null),Ct(i,o,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Df(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=Ya);break;case"onScroll":m!=null&&rt("scroll",i);break;case"onScrollEnd":m!=null&&rt("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Df(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":rt("beforetoggle",i),rt("toggle",i),kf(i,"popover",m);break;case"xlinkActuate":Ga(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ga(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ga(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ga(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ga(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ga(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ga(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ga(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ga(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":kf(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=r3.get(u)||u,kf(i,u,m))}}function Tv(i,o,u,m,b,S){switch(u){case"style":OS(i,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof m=="string"?hl(i,m):(typeof m=="number"||typeof m=="bigint")&&hl(i,""+m);break;case"onScroll":m!=null&&rt("scroll",i);break;case"onScrollEnd":m!=null&&rt("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yS.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),o=u.slice(2,b?u.length-7:void 0),S=i[dn]||null,S=S!=null?S[u]:null,typeof S=="function"&&i.removeEventListener(o,S,b),typeof m=="function")){typeof S!="function"&&S!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,b);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):kf(i,u,m)}}}function qr(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",i),rt("load",i);var m=!1,b=!1,S;for(S in u)if(u.hasOwnProperty(S)){var A=u[S];if(A!=null)switch(S){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ct(i,o,S,A,u,null)}}b&&Ct(i,o,"srcSet",u.srcSet,u,null),m&&Ct(i,o,"src",u.src,u,null);return;case"input":rt("invalid",i);var k=S=A=b=null,$=null,J=null;for(m in u)if(u.hasOwnProperty(m)){var le=u[m];if(le!=null)switch(m){case"name":b=le;break;case"type":A=le;break;case"checked":$=le;break;case"defaultChecked":J=le;break;case"value":S=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(137,o));break;default:Ct(i,o,m,le,u,null)}}jS(i,S,k,$,J,A,b,!1);return;case"select":rt("invalid",i),m=A=S=null;for(b in u)if(u.hasOwnProperty(b)&&(k=u[b],k!=null))switch(b){case"value":S=k;break;case"defaultValue":A=k;break;case"multiple":m=k;default:Ct(i,o,b,k,u,null)}o=S,u=A,i.multiple=!!m,o!=null?fl(i,!!m,o,!1):u!=null&&fl(i,!!m,u,!0);return;case"textarea":rt("invalid",i),S=b=m=null;for(A in u)if(u.hasOwnProperty(A)&&(k=u[A],k!=null))switch(A){case"value":m=k;break;case"defaultValue":b=k;break;case"children":S=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:Ct(i,o,A,k,u,null)}_S(i,m,b,S);return;case"option":for($ in u)if(u.hasOwnProperty($)&&(m=u[$],m!=null))switch($){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ct(i,o,$,m,u,null)}return;case"dialog":rt("beforetoggle",i),rt("toggle",i),rt("cancel",i),rt("close",i);break;case"iframe":case"object":rt("load",i);break;case"video":case"audio":for(m=0;m<Iu.length;m++)rt(Iu[m],i);break;case"image":rt("error",i),rt("load",i);break;case"details":rt("toggle",i);break;case"embed":case"source":case"link":rt("error",i),rt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in u)if(u.hasOwnProperty(J)&&(m=u[J],m!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ct(i,o,J,m,u,null)}return;default:if(Hg(o)){for(le in u)u.hasOwnProperty(le)&&(m=u[le],m!==void 0&&Tv(i,o,le,m,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(m=u[k],m!=null&&Ct(i,o,k,m,u,null))}function CL(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,A=null,k=null,$=null,J=null,le=null;for(re in u){var fe=u[re];if(u.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":$=fe;default:m.hasOwnProperty(re)||Ct(i,o,re,null,m,fe)}}for(var ee in m){var re=m[ee];if(fe=u[ee],m.hasOwnProperty(ee)&&(re!=null||fe!=null))switch(ee){case"type":S=re;break;case"name":b=re;break;case"checked":J=re;break;case"defaultChecked":le=re;break;case"value":A=re;break;case"defaultValue":k=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,o));break;default:re!==fe&&Ct(i,o,ee,re,m,fe)}}Kg(i,A,k,$,J,le,S,b);return;case"select":re=A=k=ee=null;for(S in u)if($=u[S],u.hasOwnProperty(S)&&$!=null)switch(S){case"value":break;case"multiple":re=$;default:m.hasOwnProperty(S)||Ct(i,o,S,null,m,$)}for(b in m)if(S=m[b],$=u[b],m.hasOwnProperty(b)&&(S!=null||$!=null))switch(b){case"value":ee=S;break;case"defaultValue":k=S;break;case"multiple":A=S;default:S!==$&&Ct(i,o,b,S,m,$)}o=k,u=A,m=re,ee!=null?fl(i,!!u,ee,!1):!!m!=!!u&&(o!=null?fl(i,!!u,o,!0):fl(i,!!u,u?[]:"",!1));return;case"textarea":re=ee=null;for(k in u)if(b=u[k],u.hasOwnProperty(k)&&b!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Ct(i,o,k,null,m,b)}for(A in m)if(b=m[A],S=u[A],m.hasOwnProperty(A)&&(b!=null||S!=null))switch(A){case"value":ee=b;break;case"defaultValue":re=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==S&&Ct(i,o,A,b,m,S)}SS(i,ee,re);return;case"option":for(var Ee in u)if(ee=u[Ee],u.hasOwnProperty(Ee)&&ee!=null&&!m.hasOwnProperty(Ee))switch(Ee){case"selected":i.selected=!1;break;default:Ct(i,o,Ee,null,m,ee)}for($ in m)if(ee=m[$],re=u[$],m.hasOwnProperty($)&&ee!==re&&(ee!=null||re!=null))switch($){case"selected":i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Ct(i,o,$,ee,m,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in u)ee=u[Be],u.hasOwnProperty(Be)&&ee!=null&&!m.hasOwnProperty(Be)&&Ct(i,o,Be,null,m,ee);for(J in m)if(ee=m[J],re=u[J],m.hasOwnProperty(J)&&ee!==re&&(ee!=null||re!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(n(137,o));break;default:Ct(i,o,J,ee,m,re)}return;default:if(Hg(o)){for(var kt in u)ee=u[kt],u.hasOwnProperty(kt)&&ee!==void 0&&!m.hasOwnProperty(kt)&&Tv(i,o,kt,void 0,m,ee);for(le in m)ee=m[le],re=u[le],!m.hasOwnProperty(le)||ee===re||ee===void 0&&re===void 0||Tv(i,o,le,ee,m,re);return}}for(var Q in u)ee=u[Q],u.hasOwnProperty(Q)&&ee!=null&&!m.hasOwnProperty(Q)&&Ct(i,o,Q,null,m,ee);for(fe in m)ee=m[fe],re=u[fe],!m.hasOwnProperty(fe)||ee===re||ee==null&&re==null||Ct(i,o,fe,ee,m,re)}function EO(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kL(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var b=u[m],S=b.transferSize,A=b.initiatorType,k=b.duration;if(S&&k&&EO(A)){for(A=0,k=b.responseEnd,m+=1;m<u.length;m++){var $=u[m],J=$.startTime;if(J>k)break;var le=$.transferSize,fe=$.initiatorType;le&&EO(fe)&&($=$.responseEnd,A+=le*($<k?1:(k-J)/($-J)))}if(--m,o+=8*(S+A)/(b.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Dv=null,Mv=null;function Ah(i){return i.nodeType===9?i:i.ownerDocument}function AO(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CO(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Rv(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Iv=null;function PL(){var i=window.event;return i&&i.type==="popstate"?i===Iv?!1:(Iv=i,!0):(Iv=null,!1)}var kO=typeof setTimeout=="function"?setTimeout:void 0,TL=typeof clearTimeout=="function"?clearTimeout:void 0,PO=typeof Promise=="function"?Promise:void 0,DL=typeof queueMicrotask=="function"?queueMicrotask:typeof PO<"u"?function(i){return PO.resolve(null).then(i).catch(ML)}:kO;function ML(i){setTimeout(function(){throw i})}function us(i){return i==="head"}function TO(i,o){var u=o,m=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(b),Kl(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")Bu(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Bu(u);for(var S=u.firstChild;S;){var A=S.nextSibling,k=S.nodeName;S[ru]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=A}}else u==="body"&&Bu(i.ownerDocument.body);u=b}while(u);Kl(o)}function DO(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Lv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Lv(u),qg(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function RL(i,o,u,m){for(;i.nodeType===1;){var b=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[ru])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=Wn(i.nextSibling),i===null)break}return null}function IL(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Wn(i.nextSibling),i===null))return null;return i}function MO(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Wn(i.nextSibling),i===null))return null;return i}function Bv(i){return i.data==="$?"||i.data==="$~"}function $v(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function LL(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Wn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Uv=null;function RO(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return Wn(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function IO(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function LO(i,o,u){switch(o=Ah(u),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Bu(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);qg(i)}var Xn=new Map,BO=new Set;function Ch(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var di=V.d;V.d={f:BL,r:$L,D:UL,C:zL,L:qL,m:FL,X:QL,S:KL,M:HL};function BL(){var i=di.f(),o=xh();return i||o}function $L(i){var o=cl(i);o!==null&&o.tag===5&&o.type==="form"?tN(o):di.r(i)}var zl=typeof document>"u"?null:document;function $O(i,o,u){var m=zl;if(m&&typeof o=="string"&&o){var b=Fn(o);b='link[rel="'+i+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),BO.has(b)||(BO.add(b),i={rel:i,crossOrigin:u,href:o},m.querySelector(b)===null&&(o=m.createElement("link"),qr(o,"link",i),Or(o),m.head.appendChild(o)))}}function UL(i){di.D(i),$O("dns-prefetch",i,null)}function zL(i,o){di.C(i,o),$O("preconnect",i,o)}function qL(i,o,u){di.L(i,o,u);var m=zl;if(m&&i&&o){var b='link[rel="preload"][as="'+Fn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+Fn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+Fn(u.imageSizes)+'"]')):b+='[href="'+Fn(i)+'"]';var S=b;switch(o){case"style":S=ql(i);break;case"script":S=Fl(i)}Xn.has(S)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),Xn.set(S,i),m.querySelector(b)!==null||o==="style"&&m.querySelector($u(S))||o==="script"&&m.querySelector(Uu(S))||(o=m.createElement("link"),qr(o,"link",i),Or(o),m.head.appendChild(o)))}}function FL(i,o){di.m(i,o);var u=zl;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+Fn(m)+'"][href="'+Fn(i)+'"]',S=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Fl(i)}if(!Xn.has(S)&&(i=g({rel:"modulepreload",href:i},o),Xn.set(S,i),u.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Uu(S)))return}m=u.createElement("link"),qr(m,"link",i),Or(m),u.head.appendChild(m)}}}function KL(i,o,u){di.S(i,o,u);var m=zl;if(m&&i){var b=ul(m).hoistableStyles,S=ql(i);o=o||"default";var A=b.get(S);if(!A){var k={loading:0,preload:null};if(A=m.querySelector($u(S)))k.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=Xn.get(S))&&zv(i,u);var $=A=m.createElement("link");Or($),qr($,"link",i),$._p=new Promise(function(J,le){$.onload=J,$.onerror=le}),$.addEventListener("load",function(){k.loading|=1}),$.addEventListener("error",function(){k.loading|=2}),k.loading|=4,kh(A,o,m)}A={type:"stylesheet",instance:A,count:1,state:k},b.set(S,A)}}}function QL(i,o){di.X(i,o);var u=zl;if(u&&i){var m=ul(u).hoistableScripts,b=Fl(i),S=m.get(b);S||(S=u.querySelector(Uu(b)),S||(i=g({src:i,async:!0},o),(o=Xn.get(b))&&qv(i,o),S=u.createElement("script"),Or(S),qr(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(b,S))}}function HL(i,o){di.M(i,o);var u=zl;if(u&&i){var m=ul(u).hoistableScripts,b=Fl(i),S=m.get(b);S||(S=u.querySelector(Uu(b)),S||(i=g({src:i,async:!0,type:"module"},o),(o=Xn.get(b))&&qv(i,o),S=u.createElement("script"),Or(S),qr(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(b,S))}}function UO(i,o,u,m){var b=(b=ve.current)?Ch(b):null;if(!b)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=ql(u.href),u=ul(b).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=ql(u.href);var S=ul(b).hoistableStyles,A=S.get(i);if(A||(b=b.ownerDocument||b,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,A),(S=b.querySelector($u(i)))&&!S._p&&(A.instance=S,A.state.loading=5),Xn.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Xn.set(i,u),S||VL(b,i,u,A.state))),o&&m===null)throw Error(n(528,""));return A}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Fl(u),u=ul(b).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function ql(i){return'href="'+Fn(i)+'"'}function $u(i){return'link[rel="stylesheet"]['+i+"]"}function zO(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function VL(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),qr(o,"link",u),Or(o),i.head.appendChild(o))}function Fl(i){return'[src="'+Fn(i)+'"]'}function Uu(i){return"script[async]"+i}function qO(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Fn(u.href)+'"]');if(m)return o.instance=m,Or(m),m;var b=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Or(m),qr(m,"style",b),kh(m,u.precedence,i),o.instance=m;case"stylesheet":b=ql(u.href);var S=i.querySelector($u(b));if(S)return o.state.loading|=4,o.instance=S,Or(S),S;m=zO(u),(b=Xn.get(b))&&zv(m,b),S=(i.ownerDocument||i).createElement("link"),Or(S);var A=S;return A._p=new Promise(function(k,$){A.onload=k,A.onerror=$}),qr(S,"link",m),o.state.loading|=4,kh(S,u.precedence,i),o.instance=S;case"script":return S=Fl(u.src),(b=i.querySelector(Uu(S)))?(o.instance=b,Or(b),b):(m=u,(b=Xn.get(S))&&(m=g({},u),qv(m,b)),i=i.ownerDocument||i,b=i.createElement("script"),Or(b),qr(b,"link",m),i.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,kh(m,u.precedence,i));return o.instance}function kh(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,S=b,A=0;A<m.length;A++){var k=m[A];if(k.dataset.precedence===o)S=k;else if(S!==b)break}S?S.parentNode.insertBefore(i,S.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function zv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function qv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Ph=null;function FO(i,o,u){if(Ph===null){var m=new Map,b=Ph=new Map;b.set(u,m)}else b=Ph,m=b.get(u),m||(m=new Map,b.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),b=0;b<u.length;b++){var S=u[b];if(!(S[ru]||S[Br]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var A=S.getAttribute(o)||"";A=i+A;var k=m.get(A);k?k.push(S):m.set(A,[S])}}return m}function KO(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function GL(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function QO(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function YL(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=ql(m.href),S=o.querySelector($u(b));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Th.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=S,Or(S);return}S=o.ownerDocument||o,m=zO(m),(b=Xn.get(b))&&zv(m,b),S=S.createElement("link"),Or(S);var A=S;A._p=new Promise(function(k,$){A.onload=k,A.onerror=$}),qr(S,"link",m),u.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Th.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Fv=0;function WL(i,o){return i.stylesheets&&i.count===0&&Mh(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&Mh(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+o);0<i.imgBytes&&Fv===0&&(Fv=62500*kL());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Mh(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>Fv?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function Th(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Dh=null;function Mh(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Dh=new Map,o.forEach(XL,i),Dh=null,Th.call(i))}function XL(i,o){if(!(o.state.loading&4)){var u=Dh.get(i);if(u)var m=u.get(null);else{u=new Map,Dh.set(i,u);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var A=b[S];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),m=A)}m&&u.set(null,m)}b=o.instance,A=b.getAttribute("data-precedence"),S=u.get(A)||m,S===m&&u.set(null,b),u.set(A,b),this.count++,m=Th.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),S?S.parentNode.insertBefore(b,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),o.state.loading|=4}}var zu={$$typeof:E,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function JL(i,o,u,m,b,S,A,k,$){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bg(0),this.hiddenUpdates=Bg(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function HO(i,o,u,m,b,S,A,k,$,J,le,fe){return i=new JL(i,o,u,A,$,J,le,fe,k),o=1,S===!0&&(o|=24),S=On(3,null,null,o),i.current=S,S.stateNode=i,o=jy(),o.refCount++,i.pooledCache=o,o.refCount++,S.memoizedState={element:m,isDehydrated:u,cache:o},Oy(S),i}function VO(i){return i?(i=xl,i):xl}function GO(i,o,u,m,b,S){b=VO(b),m.context===null?m.context=b:m.pendingContext=b,m=Zi(o),m.payload={element:u},S=S===void 0?null:S,S!==null&&(m.callback=S),u=es(i,m,o),u!==null&&(yn(u,i,o),bu(u,i,o))}function YO(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Kv(i,o){YO(i,o),(i=i.alternate)&&YO(i,o)}function WO(i){if(i.tag===13||i.tag===31){var o=Js(i,67108864);o!==null&&yn(o,i,67108864),Kv(i,67108864)}}function XO(i){if(i.tag===13||i.tag===31){var o=Pn();o=$g(o);var u=Js(i,o);u!==null&&yn(u,i,o),Kv(i,o)}}var Rh=!0;function ZL(i,o,u,m){var b=L.T;L.T=null;var S=V.p;try{V.p=2,Qv(i,o,u,m)}finally{V.p=S,L.T=b}}function eB(i,o,u,m){var b=L.T;L.T=null;var S=V.p;try{V.p=8,Qv(i,o,u,m)}finally{V.p=S,L.T=b}}function Qv(i,o,u,m){if(Rh){var b=Hv(m);if(b===null)Pv(i,o,m,Ih,u),ZO(i,m);else if(rB(b,i,o,u,m))m.stopPropagation();else if(ZO(i,m),o&4&&-1<tB.indexOf(i)){for(;b!==null;){var S=cl(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var A=Vs(S.pendingLanes);if(A!==0){var k=S;for(k.pendingLanes|=2,k.entangledLanes|=2;A;){var $=1<<31-Ft(A);k.entanglements[1]|=$,A&=~$}ka(S),(gt&6)===0&&(vh=G()+500,Ru(0))}}break;case 31:case 13:k=Js(S,2),k!==null&&yn(k,S,2),xh(),Kv(S,2)}if(S=Hv(m),S===null&&Pv(i,o,m,Ih,u),S===b)break;b=S}b!==null&&m.stopPropagation()}else Pv(i,o,m,null,u)}}function Hv(i){return i=Gg(i),Vv(i)}var Ih=null;function Vv(i){if(Ih=null,i=ll(i),i!==null){var o=s(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=l(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ih=i,null}function JO(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case Le:return 2;case Ie:return 8;case vt:case xe:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var Gv=!1,ds=null,fs=null,hs=null,qu=new Map,Fu=new Map,ms=[],tB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZO(i,o){switch(i){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":qu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(o.pointerId)}}function Ku(i,o,u,m,b,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:S,targetContainers:[b]},o!==null&&(o=cl(o),o!==null&&WO(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function rB(i,o,u,m,b){switch(o){case"focusin":return ds=Ku(ds,i,o,u,m,b),!0;case"dragenter":return fs=Ku(fs,i,o,u,m,b),!0;case"mouseover":return hs=Ku(hs,i,o,u,m,b),!0;case"pointerover":var S=b.pointerId;return qu.set(S,Ku(qu.get(S)||null,i,o,u,m,b)),!0;case"gotpointercapture":return S=b.pointerId,Fu.set(S,Ku(Fu.get(S)||null,i,o,u,m,b)),!0}return!1}function eE(i){var o=ll(i.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){i.blockedOn=o,mS(i.priority,function(){XO(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,mS(i.priority,function(){XO(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Lh(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Hv(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Vg=m,u.target.dispatchEvent(m),Vg=null}else return o=cl(u),o!==null&&WO(o),i.blockedOn=u,!1;o.shift()}return!0}function tE(i,o,u){Lh(i)&&u.delete(o)}function nB(){Gv=!1,ds!==null&&Lh(ds)&&(ds=null),fs!==null&&Lh(fs)&&(fs=null),hs!==null&&Lh(hs)&&(hs=null),qu.forEach(tE),Fu.forEach(tE)}function Bh(i,o){i.blockedOn===o&&(i.blockedOn=null,Gv||(Gv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nB)))}var $h=null;function rE(i){$h!==i&&($h=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$h===i&&($h=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],b=i[o+2];if(typeof m!="function"){if(Vv(m||u)===null)continue;break}var S=cl(u);S!==null&&(i.splice(o,3),o-=3,Hy(S,{pending:!0,data:b,method:u.method,action:m},m,b))}}))}function Kl(i){function o($){return Bh($,i)}ds!==null&&Bh(ds,i),fs!==null&&Bh(fs,i),hs!==null&&Bh(hs,i),qu.forEach(o),Fu.forEach(o);for(var u=0;u<ms.length;u++){var m=ms[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<ms.length&&(u=ms[0],u.blockedOn===null);)eE(u),u.blockedOn===null&&ms.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var b=u[m],S=u[m+1],A=b[dn]||null;if(typeof S=="function")A||rE(u);else if(A){var k=null;if(S&&S.hasAttribute("formAction")){if(b=S,A=S[dn]||null)k=A.formAction;else if(Vv(b)!==null)continue}else k=A.action;typeof k=="function"?u[m+1]=k:(u.splice(m,3),m-=3),rE(u)}}}function nE(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(A){return b=A})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function Yv(i){this._internalRoot=i}Uh.prototype.render=Yv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,m=Pn();GO(u,m,i,o,null,null)},Uh.prototype.unmount=Yv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;GO(i.current,2,null,i,null,null),xh(),o[ol]=null}};function Uh(i){this._internalRoot=i}Uh.prototype.unstable_scheduleHydration=function(i){if(i){var o=hS();i={blockedOn:null,target:i,priority:o};for(var u=0;u<ms.length&&o!==0&&o<ms[u].priority;u++);ms.splice(u,0,i),u===0&&eE(i)}};var aE=t.version;if(aE!=="19.2.4")throw Error(n(527,aE,"19.2.4"));V.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var aB={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{vr=zh.inject(aB),lr=zh}catch{}}return Hu.createRoot=function(i,o){if(!a(i))throw Error(n(299));var u=!1,m="",b=dN,S=fN,A=hN;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=HO(i,1,!1,null,null,u,m,null,b,S,A,nE),i[ol]=o.current,kv(i),new Yv(o)},Hu.hydrateRoot=function(i,o,u){if(!a(i))throw Error(n(299));var m=!1,b="",S=dN,A=fN,k=hN,$=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.formState!==void 0&&($=u.formState)),o=HO(i,1,!0,o,u??null,m,b,$,S,A,k,nE),o.context=VO(null),u=o.current,m=Pn(),m=$g(m),b=Zi(m),b.callback=null,es(u,b,m),u=m,o.current.lanes=u,tu(o,u),ka(o),i[ol]=o.current,kv(i),new Uh(o)},Hu.version="19.2.4",Hu}var pE;function yB(){if(pE)return e0.exports;pE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),e0.exports=gB(),e0.exports}var vB=yB();const bB=Ha(vB);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gE="popstate";function xB(e={}){function t(a,s){let{pathname:l="/",search:d="",hash:f=""}=Xo(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Xb("",{pathname:l,search:d,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let l=a.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof s=="string"?s:hd(s))}function n(a,s){ia(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return jB(t,r,n,e)}function Gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ia(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wB(){return Math.random().toString(36).substring(2,10)}function yE(e,t){return{usr:e.state,key:e.key,idx:t}}function Xb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xo(t):t,state:r,key:t&&t.key||n||wB()}}function hd({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function jB(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,l=a.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let _=p(),N=_==null?null:_-h;h=_,f&&f({action:d,location:w.location,delta:N})}function y(_,N){d="PUSH";let O=Xb(w.location,_,N);r&&r(O,_),h=p()+1;let E=yE(O,h),C=w.createHref(O);try{l.pushState(E,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(C)}s&&f&&f({action:d,location:w.location,delta:1})}function v(_,N){d="REPLACE";let O=Xb(w.location,_,N);r&&r(O,_),h=p();let E=yE(O,h),C=w.createHref(O);l.replaceState(E,"",C),s&&f&&f({action:d,location:w.location,delta:0})}function x(_){return SB(_)}let w={get action(){return d},get location(){return e(a,l)},listen(_){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(gE,g),f=_,()=>{a.removeEventListener(gE,g),f=null}},createHref(_){return t(a,_)},createURL:x,encodeLocation(_){let N=x(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:v,go(_){return l.go(_)}};return w}function SB(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:hd(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function AT(e,t,r="/"){return _B(e,t,r,!1)}function _B(e,t,r,n){let a=typeof t=="string"?Xo(t):t,s=Ei(a.pathname||"/",r);if(s==null)return null;let l=CT(e);NB(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=IB(s);d=MB(l[f],h,n)}return d}function CT(e,t=[],r=[],n="",a=!1){let s=(l,d,f=a,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&f)return;Gt(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=Si([n,p.relativePath]),y=r.concat(p);l.children&&l.children.length>0&&(Gt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),CT(l.children,t,y,g,f)),!(l.path==null&&!l.index)&&t.push({path:g,score:TB(g,l.index),routesMeta:y})};return e.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,d);else for(let h of kT(l.path))s(l,d,!0,h)}),t}function kT(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let l=kT(n.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),a&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function NB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:DB(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var OB=/^:[\w-]+$/,EB=3,AB=2,CB=1,kB=10,PB=-2,vE=e=>e==="*";function TB(e,t){let r=e.split("/"),n=r.length;return r.some(vE)&&(n+=PB),t&&(n+=AB),r.filter(a=>!vE(a)).reduce((a,s)=>a+(OB.test(s)?EB:s===""?CB:kB),n)}function DB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function MB(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",l=[];for(let d=0;d<n.length;++d){let f=n[d],h=d===n.length-1,p=s==="/"?t:t.slice(s.length)||"/",g=_m({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=_m({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:Si([s,g.pathname]),pathnameBase:UB(Si([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=Si([s,g.pathnameBase]))}return l}function _m(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=RB(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let x=d[y]||"";l=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=d[y];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:e}}function RB(e,t=!1,r=!0){ia(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(n.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function IB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ia(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ei(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var LB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function BB(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Xo(e):e,s;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?s=bE(r.substring(1),"/"):s=bE(r,t)):s=t,{pathname:s,search:zB(n),hash:qB(a)}}function bE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function a0(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $B(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function kw(e){let t=$B(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Pw(e,t,r,n=!1){let a;typeof e=="string"?a=Xo(e):(a={...e},Gt(!a.pathname||!a.pathname.includes("?"),a0("?","pathname","search",a)),Gt(!a.pathname||!a.pathname.includes("#"),a0("#","pathname","hash",a)),Gt(!a.search||!a.search.includes("#"),a0("#","search","hash",a)));let s=e===""||a.pathname==="",l=s?"/":a.pathname,d;if(l==null)d=r;else{let g=t.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}d=g>=0?t[g]:"/"}let f=BB(a,d),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var Si=e=>e.join("/").replace(/\/\/+/g,"/"),UB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,FB=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function KB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function QB(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var PT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function TT(e,t){let r=e;if(typeof r!="string"||!LB.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(PT)try{let s=new URL(window.location.href),l=r.startsWith("//")?new URL(s.protocol+r):new URL(r),d=Ei(l.pathname,t);l.origin===s.origin&&d!=null?r=d+l.search+l.hash:a=!0}catch{ia(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DT=["POST","PUT","PATCH","DELETE"];new Set(DT);var HB=["GET",...DT];new Set(HB);var Lc=j.createContext(null);Lc.displayName="DataRouter";var Ap=j.createContext(null);Ap.displayName="DataRouterState";var VB=j.createContext(!1),MT=j.createContext({isTransitioning:!1});MT.displayName="ViewTransition";var GB=j.createContext(new Map);GB.displayName="Fetchers";var YB=j.createContext(null);YB.displayName="Await";var $n=j.createContext(null);$n.displayName="Navigation";var Qd=j.createContext(null);Qd.displayName="Location";var Sa=j.createContext({outlet:null,matches:[],isDataRoute:!1});Sa.displayName="Route";var Tw=j.createContext(null);Tw.displayName="RouteError";var RT="REACT_ROUTER_ERROR",WB="REDIRECT",XB="ROUTE_ERROR_RESPONSE";function JB(e){if(e.startsWith(`${RT}:${WB}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function ZB(e){if(e.startsWith(`${RT}:${XB}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new FB(t.status,t.statusText,t.data)}catch{}}function e6(e,{relative:t}={}){Gt(Bc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext($n),{hash:a,pathname:s,search:l}=Hd(e,{relative:t}),d=s;return r!=="/"&&(d=s==="/"?r:Si([r,s])),n.createHref({pathname:d,search:l,hash:a})}function Bc(){return j.useContext(Qd)!=null}function Un(){return Gt(Bc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Qd).location}var IT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LT(e){j.useContext($n).static||j.useLayoutEffect(e)}function Et(){let{isDataRoute:e}=j.useContext(Sa);return e?h6():t6()}function t6(){Gt(Bc(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Lc),{basename:t,navigator:r}=j.useContext($n),{matches:n}=j.useContext(Sa),{pathname:a}=Un(),s=JSON.stringify(kw(n)),l=j.useRef(!1);return LT(()=>{l.current=!0}),j.useCallback((f,h={})=>{if(ia(l.current,IT),!l.current)return;if(typeof f=="number"){r.go(f);return}let p=Pw(f,JSON.parse(s),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Si([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,s,a,e])}j.createContext(null);function zn(){let{matches:e}=j.useContext(Sa),t=e[e.length-1];return t?t.params:{}}function Hd(e,{relative:t}={}){let{matches:r}=j.useContext(Sa),{pathname:n}=Un(),a=JSON.stringify(kw(r));return j.useMemo(()=>Pw(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function r6(e,t){return BT(e,t)}function BT(e,t,r,n,a){var O;Gt(Bc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext($n),{matches:l}=j.useContext(Sa),d=l[l.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let E=g&&g.path||"";UT(h,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=Un(),v;if(t){let E=typeof t=="string"?Xo(t):t;Gt(p==="/"||((O=E.pathname)==null?void 0:O.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=y;let x=v.pathname||"/",w=x;if(p!=="/"){let E=p.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=AT(e,{pathname:w});ia(g||_!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ia(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=o6(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:Si([p,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:Si([p,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),l,r,n,a);return t&&N?j.createElement(Qd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},N):N}function n6(){let e=f6(),t=KB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:a},r):null,l)}var a6=j.createElement(n6,null),$T=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=ZB(e.digest);r&&(e=r)}let t=e!==void 0?j.createElement(Sa.Provider,{value:this.props.routeContext},j.createElement(Tw.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(i6,{error:e},t):t}};$T.contextType=VB;var i0=new WeakMap;function i6({children:e,error:t}){let{basename:r}=j.useContext($n);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=JB(t.digest);if(n){let a=i0.get(t);if(a)throw a;let s=TT(n.location,r);if(PT&&!i0.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw i0.set(t,l),l}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function s6({routeContext:e,match:t,children:r}){let n=j.useContext(Lc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Sa.Provider,{value:e},r)}function o6(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=r==null?void 0:r.errors;if(l!=null){let p=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Gt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let d=!1,f=-1;if(r)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:y,errors:v}=r,x=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||x){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=r&&n?(p,g)=>{var y,v;n(p,{location:r.location,params:((v=(y=r.matches)==null?void 0:y[0])==null?void 0:v.params)??{},unstable_pattern:QB(r.matches),errorInfo:g})}:void 0;return s.reduceRight((p,g,y)=>{let v,x=!1,w=null,_=null;r&&(v=l&&g.route.id?l[g.route.id]:void 0,w=g.route.errorElement||a6,d&&(f<0&&y===0?(UT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,_=null):f===y&&(x=!0,_=g.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,y+1)),O=()=>{let E;return v?E=w:x?E=_:g.route.Component?E=j.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=p,j.createElement(s6,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:r!=null},children:E})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?j.createElement($T,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:O(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):O()},null)}function Dw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l6(e){let t=j.useContext(Lc);return Gt(t,Dw(e)),t}function c6(e){let t=j.useContext(Ap);return Gt(t,Dw(e)),t}function u6(e){let t=j.useContext(Sa);return Gt(t,Dw(e)),t}function Mw(e){let t=u6(e),r=t.matches[t.matches.length-1];return Gt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function d6(){return Mw("useRouteId")}function f6(){var n;let e=j.useContext(Tw),t=c6("useRouteError"),r=Mw("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function h6(){let{router:e}=l6("useNavigate"),t=Mw("useNavigate"),r=j.useRef(!1);return LT(()=>{r.current=!0}),j.useCallback(async(a,s={})=>{ia(r.current,IT),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var xE={};function UT(e,t,r){!t&&!xE[e]&&(xE[e]=!0,ia(!1,r))}j.memo(m6);function m6({routes:e,future:t,state:r,onError:n}){return BT(e,void 0,r,n,t)}function Ve({to:e,replace:t,state:r,relative:n}){Gt(Bc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext($n);ia(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=j.useContext(Sa),{pathname:l}=Un(),d=Et(),f=Pw(e,kw(s),l,n==="path"),h=JSON.stringify(f);return j.useEffect(()=>{d(JSON.parse(h),{replace:t,state:r,relative:n})},[d,h,n,t,r]),null}function Xe(e){Gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function p6({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:l}){Gt(!Bc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:d,navigator:a,static:s,unstable_useTransitions:l,future:{}}),[d,a,s,l]);typeof r=="string"&&(r=Xo(r));let{pathname:h="/",search:p="",hash:g="",state:y=null,key:v="default"}=r,x=j.useMemo(()=>{let w=Ei(h,d);return w==null?null:{location:{pathname:w,search:p,hash:g,state:y,key:v},navigationType:n}},[d,h,p,g,y,v,n]);return ia(x!=null,`<Router basename="${d}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement($n.Provider,{value:f},j.createElement(Qd.Provider,{children:t,value:x}))}function g6({children:e,location:t}){return r6(Jb(e),t)}function Jb(e,t=[]){let r=[];return j.Children.forEach(e,(n,a)=>{if(!j.isValidElement(n))return;let s=[...t,a];if(n.type===j.Fragment){r.push.apply(r,Jb(n.props.children,s));return}Gt(n.type===Xe,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Jb(n.props.children,s)),r.push(l)}),r}var pm="get",gm="application/x-www-form-urlencoded";function Cp(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function y6(e){return Cp(e)&&e.tagName.toLowerCase()==="button"}function v6(e){return Cp(e)&&e.tagName.toLowerCase()==="form"}function b6(e){return Cp(e)&&e.tagName.toLowerCase()==="input"}function x6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function w6(e,t){return e.button===0&&(!t||t==="_self")&&!x6(e)}var Fh=null;function j6(){if(Fh===null)try{new FormData(document.createElement("form"),0),Fh=!1}catch{Fh=!0}return Fh}var S6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function s0(e){return e!=null&&!S6.has(e)?(ia(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gm}"`),null):e}function _6(e,t){let r,n,a,s,l;if(v6(e)){let d=e.getAttribute("action");n=d?Ei(d,t):null,r=e.getAttribute("method")||pm,a=s0(e.getAttribute("enctype"))||gm,s=new FormData(e)}else if(y6(e)||b6(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(n=f?Ei(f,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||pm,a=s0(e.getAttribute("formenctype"))||s0(d.getAttribute("enctype"))||gm,s=new FormData(d,e),!j6()){let{name:h,type:p,value:g}=e;if(p==="image"){let y=h?`${h}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else h&&s.append(h,g)}}else{if(Cp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=pm,n=null,a=gm,l=e}return s&&a==="text/plain"&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function N6(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&Ei(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function O6(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function A6(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let l=await O6(s,r);return l.links?l.links():[]}return[]}));return T6(n.flat(1).filter(E6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function wE(e,t,r,n,a,s){let l=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,d=(f,h)=>{var p;return r[h].pathname!==f.pathname||((p=r[h].route.path)==null?void 0:p.endsWith("*"))&&r[h].params["*"]!==f.params["*"]};return s==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):s==="data"?t.filter((f,h)=>{var g;let p=n.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function C6(e,t,{includeHydrateFallback:r}={}){return k6(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function k6(e){return[...new Set(e)]}function P6(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function T6(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(P6(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function zT(){let e=j.useContext(Lc);return Rw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function D6(){let e=j.useContext(Ap);return Rw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Iw=j.createContext(void 0);Iw.displayName="FrameworkContext";function qT(){let e=j.useContext(Iw);return Rw(e,"You must render this element inside a <HydratedRouter> element"),e}function M6(e,t){let r=j.useContext(Iw),[n,a]=j.useState(!1),[s,l]=j.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,y=j.useRef(null);j.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=N=>{N.forEach(O=>{l(O.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[e]),j.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{a(!0)},x=()=>{a(!1),l(!1)};return r?e!=="intent"?[s,y,{}]:[s,y,{onFocus:Vu(d,v),onBlur:Vu(f,x),onMouseEnter:Vu(h,v),onMouseLeave:Vu(p,x),onTouchStart:Vu(g,v)}]:[!1,y,{}]}function Vu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function R6({page:e,...t}){let{router:r}=zT(),n=j.useMemo(()=>AT(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?j.createElement(L6,{page:e,matches:n,...t}):null}function I6(e){let{manifest:t,routeModules:r}=qT(),[n,a]=j.useState([]);return j.useEffect(()=>{let s=!1;return A6(e,t,r).then(l=>{s||a(l)}),()=>{s=!0}},[e,t,r]),n}function L6({page:e,matches:t,...r}){let n=Un(),{future:a,manifest:s,routeModules:l}=qT(),{basename:d}=zT(),{loaderData:f,matches:h}=D6(),p=j.useMemo(()=>wE(e,t,h,s,n,"data"),[e,t,h,s,n]),g=j.useMemo(()=>wE(e,t,h,s,n,"assets"),[e,t,h,s,n]),y=j.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,_=!1;if(t.forEach(O=>{var C;let E=s.routes[O.route.id];!E||!E.hasLoader||(!p.some(T=>T.route.id===O.route.id)&&O.route.id in f&&((C=l[O.route.id])!=null&&C.shouldRevalidate)||E.hasClientLoader?_=!0:w.add(O.route.id))}),w.size===0)return[];let N=N6(e,d,a.unstable_trailingSlashAwareDataRequests,"data");return _&&w.size>0&&N.searchParams.set("_routes",t.filter(O=>w.has(O.route.id)).map(O=>O.route.id).join(",")),[N.pathname+N.search]},[d,a.unstable_trailingSlashAwareDataRequests,f,n,s,p,t,e,l]),v=j.useMemo(()=>C6(g,s),[g,s]),x=I6(g);return j.createElement(j.Fragment,null,y.map(w=>j.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),v.map(w=>j.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),x.map(({key:w,link:_})=>j.createElement("link",{key:w,nonce:r.nonce,..._,crossOrigin:_.crossOrigin??r.crossOrigin})))}function B6(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var $6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$6&&(window.__reactRouterVersion="7.13.0")}catch{}function U6({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=j.useRef();a.current==null&&(a.current=xB({window:n,v5Compat:!0}));let s=a.current,[l,d]=j.useState({action:s.action,location:s.location}),f=j.useCallback(h=>{r===!1?d(h):j.startTransition(()=>d(h))},[r]);return j.useLayoutEffect(()=>s.listen(f),[s,f]),j.createElement(p6,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:r})}var FT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ec=j.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...v},x){let{basename:w,unstable_useTransitions:_}=j.useContext($n),N=typeof h=="string"&&FT.test(h),O=TT(h,w);h=O.to;let E=e6(h,{relative:a}),[C,T,P]=M6(n,v),M=K6(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:_});function R(H){t&&t(H),H.defaultPrevented||M(H)}let B=j.createElement("a",{...v,...P,href:O.absoluteURL||E,onClick:O.isExternal||s?t:R,ref:B6(x,T),target:f,"data-discover":!N&&r==="render"?"true":void 0});return C&&!N?j.createElement(j.Fragment,null,B,j.createElement(R6,{page:E})):B});Ec.displayName="Link";var z6=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:l,viewTransition:d,children:f,...h},p){let g=Hd(l,{relative:h.relative}),y=Un(),v=j.useContext(Ap),{navigator:x,basename:w}=j.useContext($n),_=v!=null&&Y6(g)&&d===!0,N=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,O=y.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(O=O.toLowerCase(),E=E?E.toLowerCase():null,N=N.toLowerCase()),E&&w&&(E=Ei(E,w)||E);const C=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=O===N||!a&&O.startsWith(N)&&O.charAt(C)==="/",P=E!=null&&(E===N||!a&&E.startsWith(N)&&E.charAt(N.length)==="/"),M={isActive:T,isPending:P,isTransitioning:_},R=T?t:void 0,B;typeof n=="function"?B=n(M):B=[n,T?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(M):s;return j.createElement(Ec,{...h,"aria-current":R,className:B,ref:p,style:H,to:l,viewTransition:d},typeof f=="function"?f(M):f)});z6.displayName="NavLink";var q6=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:l=pm,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...v},x)=>{let{unstable_useTransitions:w}=j.useContext($n),_=V6(),N=G6(d,{relative:h}),O=l.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&FT.test(d),C=T=>{if(f&&f(T),T.defaultPrevented)return;T.preventDefault();let P=T.nativeEvent.submitter,M=(P==null?void 0:P.getAttribute("formmethod"))||l,R=()=>_(P||T.currentTarget,{fetcherKey:t,method:M,navigate:r,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y});w&&r!==!1?j.startTransition(()=>R()):R()};return j.createElement("form",{ref:x,method:O,action:N,onSubmit:n?f:C,...v,"data-discover":!E&&e==="render"?"true":void 0})});q6.displayName="Form";function F6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KT(e){let t=j.useContext(Lc);return Gt(t,F6(e)),t}function K6(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let h=Et(),p=Un(),g=Hd(e,{relative:s});return j.useCallback(y=>{if(w6(y,t)){y.preventDefault();let v=r!==void 0?r:hd(p)===hd(g),x=()=>h(e,{replace:v,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d});f?j.startTransition(()=>x()):x()}},[p,h,g,r,n,t,e,a,s,l,d,f])}var Q6=0,H6=()=>`__${String(++Q6)}__`;function V6(){let{router:e}=KT("useSubmit"),{basename:t}=j.useContext($n),r=d6(),n=e.fetch,a=e.navigate;return j.useCallback(async(s,l={})=>{let{action:d,method:f,encType:h,formData:p,body:g}=_6(s,t);if(l.navigate===!1){let y=l.fetcherKey||H6();await n(y,r,l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await a(l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,a,t,r])}function G6(e,{relative:t}={}){let{basename:r}=j.useContext($n),n=j.useContext(Sa);Gt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Hd(e||".",{relative:t})},l=Un();if(e==null){s.search=l.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Si([r,s.pathname])),hd(s)}function Y6(e,{relative:t}={}){let r=j.useContext(MT);Gt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=KT("useViewTransitionState"),a=Hd(e,{relative:t});if(!r.isTransitioning)return!1;let s=Ei(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Ei(r.nextLocation.pathname,n)||r.nextLocation.pathname;return _m(a.pathname,l)!=null||_m(a.pathname,s)!=null}var kp=ET(),$c=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},W6={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ss,Cw,gT,X6=(gT=class{constructor(){Me(this,Ss,W6);Me(this,Cw,!1)}setTimeoutProvider(e){je(this,Ss,e)}setTimeout(e,t){return z(this,Ss).setTimeout(e,t)}clearTimeout(e){z(this,Ss).clearTimeout(e)}setInterval(e,t){return z(this,Ss).setInterval(e,t)}clearInterval(e){z(this,Ss).clearInterval(e)}},Ss=new WeakMap,Cw=new WeakMap,gT),wo=new X6;function J6(e){setTimeout(e,0)}var Uo=typeof window>"u"||"Deno"in globalThis;function sn(){}function Z6(e,t){return typeof e=="function"?e(t):e}function Zb(e){return typeof e=="number"&&e>=0&&e!==1/0}function QT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ds(e,t){return typeof e=="function"?e(t):e}function na(e,t){return typeof e=="function"?e(t):e}function jE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:l,stale:d}=e;if(l){if(n){if(t.queryHash!==Lw(l,t.options))return!1}else if(!md(t.queryKey,l))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||a&&a!==t.state.fetchStatus||s&&!s(t))}function SE(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(zo(t.options.mutationKey)!==zo(s))return!1}else if(!md(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Lw(e,t){return((t==null?void 0:t.queryKeyHashFn)||zo)(e)}function zo(e){return JSON.stringify(e,(t,r)=>ex(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function md(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>md(e[r],t[r])):!1}var e$=Object.prototype.hasOwnProperty;function HT(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=_E(e)&&_E(t);if(!n&&!(ex(e)&&ex(t)))return t;const s=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),d=l.length,f=n?new Array(d):{};let h=0;for(let p=0;p<d;p++){const g=n?p:l[p],y=e[g],v=t[g];if(y===v){f[g]=y,(n?p<s:e$.call(e,g))&&h++;continue}if(y===null||v===null||typeof y!="object"||typeof v!="object"){f[g]=v;continue}const x=HT(y,v,r+1);f[g]=x,x===y&&h++}return s===d&&h===s?e:f}function Nm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function _E(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ex(e){if(!NE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!NE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function NE(e){return Object.prototype.toString.call(e)==="[object Object]"}function t$(e){return new Promise(t=>{wo.setTimeout(t,e)})}function tx(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?HT(e,t):t}function r$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function n$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Bw=Symbol();function VT(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Bw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function $w(e,t){return typeof e=="function"?e(...t):!!e}function a$(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var Ao,_s,pc,yT,i$=(yT=class extends $c{constructor(){super();Me(this,Ao);Me(this,_s);Me(this,pc);je(this,pc,t=>{if(!Uo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,_s)||this.setEventListener(z(this,pc))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,_s))==null||t.call(this),je(this,_s,void 0))}setEventListener(t){var r;je(this,pc,t),(r=z(this,_s))==null||r.call(this),je(this,_s,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){z(this,Ao)!==t&&(je(this,Ao,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof z(this,Ao)=="boolean"?z(this,Ao):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ao=new WeakMap,_s=new WeakMap,pc=new WeakMap,yT),Uw=new i$;function rx(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var s$=J6;function o$(){let e=[],t=0,r=d=>{d()},n=d=>{d()},a=s$;const s=d=>{t?e.push(d):a(()=>{r(d)})},l=()=>{const d=e;e=[],d.length&&a(()=>{n(()=>{d.forEach(f=>{r(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||l()}return f},batchCalls:d=>(...f)=>{s(()=>{d(...f)})},schedule:s,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{a=d}}}var jr=o$(),gc,Ns,yc,vT,l$=(vT=class extends $c{constructor(){super();Me(this,gc,!0);Me(this,Ns);Me(this,yc);je(this,yc,t=>{if(!Uo&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){z(this,Ns)||this.setEventListener(z(this,yc))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Ns))==null||t.call(this),je(this,Ns,void 0))}setEventListener(t){var r;je(this,yc,t),(r=z(this,Ns))==null||r.call(this),je(this,Ns,t(this.setOnline.bind(this)))}setOnline(t){z(this,gc)!==t&&(je(this,gc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return z(this,gc)}},gc=new WeakMap,Ns=new WeakMap,yc=new WeakMap,vT),Om=new l$;function c$(e){return Math.min(1e3*2**e,3e4)}function GT(e){return(e??"online")==="online"?Om.isOnline():!0}var nx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function YT(e){let t=!1,r=0,n;const a=rx(),s=()=>a.status!=="pending",l=w=>{var _;if(!s()){const N=new nx(w);y(N),(_=e.onCancel)==null||_.call(e,N)}},d=()=>{t=!0},f=()=>{t=!1},h=()=>Uw.isFocused()&&(e.networkMode==="always"||Om.isOnline())&&e.canRun(),p=()=>GT(e.networkMode)&&e.canRun(),g=w=>{s()||(n==null||n(),a.resolve(w))},y=w=>{s()||(n==null||n(),a.reject(w))},v=()=>new Promise(w=>{var _;n=N=>{(s()||h())&&w(N)},(_=e.onPause)==null||_.call(e)}).then(()=>{var w;n=void 0,s()||(w=e.onContinue)==null||w.call(e)}),x=()=>{if(s())return;let w;const _=r===0?e.initialPromise:void 0;try{w=_??e.fn()}catch(N){w=Promise.reject(N)}Promise.resolve(w).then(g).catch(N=>{var P;if(s())return;const O=e.retry??(Uo?0:3),E=e.retryDelay??c$,C=typeof E=="function"?E(r,N):E,T=O===!0||typeof O=="number"&&r<O||typeof O=="function"&&O(r,N);if(t||!T){y(N);return}r++,(P=e.onFail)==null||P.call(e,r,N),t$(C).then(()=>h()?void 0:v()).then(()=>{t?y(N):x()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n==null||n(),a),cancelRetry:d,continueRetry:f,canStart:p,start:()=>(p()?x():v().then(x),a)}}var Co,bT,WT=(bT=class{constructor(){Me(this,Co)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zb(this.gcTime)&&je(this,Co,wo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Uo?1/0:300*1e3))}clearGcTimeout(){z(this,Co)&&(wo.clearTimeout(z(this,Co)),je(this,Co,void 0))}},Co=new WeakMap,bT),ko,vc,ra,Po,kr,Ud,To,pa,fi,xT,u$=(xT=class extends WT{constructor(t){super();Me(this,pa);Me(this,ko);Me(this,vc);Me(this,ra);Me(this,Po);Me(this,kr);Me(this,Ud);Me(this,To);je(this,To,!1),je(this,Ud,t.defaultOptions),this.setOptions(t.options),this.observers=[],je(this,Po,t.client),je(this,ra,z(this,Po).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,je(this,ko,EE(this.options)),this.state=t.state??z(this,ko),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,kr))==null?void 0:t.promise}setOptions(t){if(this.options={...z(this,Ud),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=EE(this.options);r.data!==void 0&&(this.setState(OE(r.data,r.dataUpdatedAt)),je(this,ko,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,ra).remove(this)}setData(t,r){const n=tx(this.state.data,t,this.options);return We(this,pa,fi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){We(this,pa,fi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=z(this,kr))==null?void 0:n.promise;return(a=z(this,kr))==null||a.cancel(t),r?r.then(sn).catch(sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,ko))}isActive(){return this.observers.some(t=>na(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Bw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ds(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!QT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,kr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,kr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,ra).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(z(this,kr)&&(z(this,To)?z(this,kr).cancel({revert:!0}):z(this,kr).cancelRetry()),this.scheduleGc()),z(this,ra).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||We(this,pa,fi).call(this,{type:"invalidate"})}async fetch(t,r){var f,h,p,g,y,v,x,w,_,N,O,E;if(this.state.fetchStatus!=="idle"&&((f=z(this,kr))==null?void 0:f.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,kr))return z(this,kr).continueRetry(),z(this,kr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(T=>T.options.queryFn);C&&this.setOptions(C.options)}const n=new AbortController,a=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(je(this,To,!0),n.signal)})},s=()=>{const C=VT(this.options,r),P=(()=>{const M={client:z(this,Po),queryKey:this.queryKey,meta:this.meta};return a(M),M})();return je(this,To,!1),this.options.persister?this.options.persister(C,P,this):C(P)},d=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,Po),state:this.state,fetchFn:s};return a(C),C})();(h=this.options.behavior)==null||h.onFetch(d,this),je(this,vc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=d.fetchOptions)==null?void 0:p.meta))&&We(this,pa,fi).call(this,{type:"fetch",meta:(g=d.fetchOptions)==null?void 0:g.meta}),je(this,kr,YT({initialPromise:r==null?void 0:r.initialPromise,fn:d.fetchFn,onCancel:C=>{C instanceof nx&&C.revert&&this.setState({...z(this,vc),fetchStatus:"idle"}),n.abort()},onFail:(C,T)=>{We(this,pa,fi).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{We(this,pa,fi).call(this,{type:"pause"})},onContinue:()=>{We(this,pa,fi).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const C=await z(this,kr).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(v=(y=z(this,ra).config).onSuccess)==null||v.call(y,C,this),(w=(x=z(this,ra).config).onSettled)==null||w.call(x,C,this.state.error,this),C}catch(C){if(C instanceof nx){if(C.silent)return z(this,kr).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw We(this,pa,fi).call(this,{type:"error",error:C}),(N=(_=z(this,ra).config).onError)==null||N.call(_,C,this),(E=(O=z(this,ra).config).onSettled)==null||E.call(O,this.state.data,C,this),C}finally{this.scheduleGc()}}},ko=new WeakMap,vc=new WeakMap,ra=new WeakMap,Po=new WeakMap,kr=new WeakMap,Ud=new WeakMap,To=new WeakMap,pa=new WeakSet,fi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...XT(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...OE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return je(this,vc,t.manual?a:void 0),a;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),jr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),z(this,ra).notify({query:this,type:"updated",action:t})})},xT);function XT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:GT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function OE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function EE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var vn,ot,zd,an,Do,bc,pi,Os,qd,xc,wc,Mo,Ro,Es,jc,bt,id,ax,ix,sx,ox,lx,cx,ux,JT,wT,d$=(wT=class extends $c{constructor(t,r){super();Me(this,bt);Me(this,vn);Me(this,ot);Me(this,zd);Me(this,an);Me(this,Do);Me(this,bc);Me(this,pi);Me(this,Os);Me(this,qd);Me(this,xc);Me(this,wc);Me(this,Mo);Me(this,Ro);Me(this,Es);Me(this,jc,new Set);this.options=r,je(this,vn,t),je(this,Os,null),je(this,pi,rx()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,ot).addObserver(this),AE(z(this,ot),this.options)?We(this,bt,id).call(this):this.updateResult(),We(this,bt,ox).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dx(z(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dx(z(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,We(this,bt,lx).call(this),We(this,bt,cx).call(this),z(this,ot).removeObserver(this)}setOptions(t){const r=this.options,n=z(this,ot);if(this.options=z(this,vn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof na(this.options.enabled,z(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");We(this,bt,ux).call(this),z(this,ot).setOptions(this.options),r._defaulted&&!Nm(this.options,r)&&z(this,vn).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,ot),observer:this});const a=this.hasListeners();a&&CE(z(this,ot),n,this.options,r)&&We(this,bt,id).call(this),this.updateResult(),a&&(z(this,ot)!==n||na(this.options.enabled,z(this,ot))!==na(r.enabled,z(this,ot))||Ds(this.options.staleTime,z(this,ot))!==Ds(r.staleTime,z(this,ot)))&&We(this,bt,ax).call(this);const s=We(this,bt,ix).call(this);a&&(z(this,ot)!==n||na(this.options.enabled,z(this,ot))!==na(r.enabled,z(this,ot))||s!==z(this,Es))&&We(this,bt,sx).call(this,s)}getOptimisticResult(t){const r=z(this,vn).getQueryCache().build(z(this,vn),t),n=this.createResult(r,t);return h$(this,n)&&(je(this,an,n),je(this,bc,this.options),je(this,Do,z(this,ot).state)),n}getCurrentResult(){return z(this,an)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&z(this,pi).status==="pending"&&z(this,pi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){z(this,jc).add(t)}getCurrentQuery(){return z(this,ot)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=z(this,vn).defaultQueryOptions(t),n=z(this,vn).getQueryCache().build(z(this,vn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return We(this,bt,id).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,an)))}createResult(t,r){var B;const n=z(this,ot),a=this.options,s=z(this,an),l=z(this,Do),d=z(this,bc),h=t!==n?t.state:z(this,zd),{state:p}=t;let g={...p},y=!1,v;if(r._optimisticResults){const H=this.hasListeners(),Y=!H&&AE(t,r),K=H&&CE(t,n,r,a);(Y||K)&&(g={...g,...XT(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:x,errorUpdatedAt:w,status:_}=g;v=g.data;let N=!1;if(r.placeholderData!==void 0&&v===void 0&&_==="pending"){let H;s!=null&&s.isPlaceholderData&&r.placeholderData===(d==null?void 0:d.placeholderData)?(H=s.data,N=!0):H=typeof r.placeholderData=="function"?r.placeholderData((B=z(this,wc))==null?void 0:B.state.data,z(this,wc)):r.placeholderData,H!==void 0&&(_="success",v=tx(s==null?void 0:s.data,H,r),y=!0)}if(r.select&&v!==void 0&&!N)if(s&&v===(l==null?void 0:l.data)&&r.select===z(this,qd))v=z(this,xc);else try{je(this,qd,r.select),v=r.select(v),v=tx(s==null?void 0:s.data,v,r),je(this,xc,v),je(this,Os,null)}catch(H){je(this,Os,H)}z(this,Os)&&(x=z(this,Os),v=z(this,xc),w=Date.now(),_="error");const O=g.fetchStatus==="fetching",E=_==="pending",C=_==="error",T=E&&O,P=v!==void 0,R={status:_,fetchStatus:g.fetchStatus,isPending:E,isSuccess:_==="success",isError:C,isInitialLoading:T,isLoading:T,data:v,dataUpdatedAt:g.dataUpdatedAt,error:x,errorUpdatedAt:w,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:O,isRefetching:O&&!E,isLoadingError:C&&!P,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:C&&P,isStale:zw(t,r),refetch:this.refetch,promise:z(this,pi),isEnabled:na(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const H=R.data!==void 0,Y=R.status==="error"&&!H,K=ye=>{Y?ye.reject(R.error):H&&ye.resolve(R.data)},me=()=>{const ye=je(this,pi,R.promise=rx());K(ye)},ie=z(this,pi);switch(ie.status){case"pending":t.queryHash===n.queryHash&&K(ie);break;case"fulfilled":(Y||R.data!==ie.value)&&me();break;case"rejected":(!Y||R.error!==ie.reason)&&me();break}}return R}updateResult(){const t=z(this,an),r=this.createResult(z(this,ot),this.options);if(je(this,Do,z(this,ot).state),je(this,bc,this.options),z(this,Do).data!==void 0&&je(this,wc,z(this,ot)),Nm(r,t))return;je(this,an,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!z(this,jc).size)return!0;const l=new Set(s??z(this,jc));return this.options.throwOnError&&l.add("error"),Object.keys(z(this,an)).some(d=>{const f=d;return z(this,an)[f]!==t[f]&&l.has(f)})};We(this,bt,JT).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&We(this,bt,ox).call(this)}},vn=new WeakMap,ot=new WeakMap,zd=new WeakMap,an=new WeakMap,Do=new WeakMap,bc=new WeakMap,pi=new WeakMap,Os=new WeakMap,qd=new WeakMap,xc=new WeakMap,wc=new WeakMap,Mo=new WeakMap,Ro=new WeakMap,Es=new WeakMap,jc=new WeakMap,bt=new WeakSet,id=function(t){We(this,bt,ux).call(this);let r=z(this,ot).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(sn)),r},ax=function(){We(this,bt,lx).call(this);const t=Ds(this.options.staleTime,z(this,ot));if(Uo||z(this,an).isStale||!Zb(t))return;const n=QT(z(this,an).dataUpdatedAt,t)+1;je(this,Mo,wo.setTimeout(()=>{z(this,an).isStale||this.updateResult()},n))},ix=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,ot)):this.options.refetchInterval)??!1},sx=function(t){We(this,bt,cx).call(this),je(this,Es,t),!(Uo||na(this.options.enabled,z(this,ot))===!1||!Zb(z(this,Es))||z(this,Es)===0)&&je(this,Ro,wo.setInterval(()=>{(this.options.refetchIntervalInBackground||Uw.isFocused())&&We(this,bt,id).call(this)},z(this,Es)))},ox=function(){We(this,bt,ax).call(this),We(this,bt,sx).call(this,We(this,bt,ix).call(this))},lx=function(){z(this,Mo)&&(wo.clearTimeout(z(this,Mo)),je(this,Mo,void 0))},cx=function(){z(this,Ro)&&(wo.clearInterval(z(this,Ro)),je(this,Ro,void 0))},ux=function(){const t=z(this,vn).getQueryCache().build(z(this,vn),this.options);if(t===z(this,ot))return;const r=z(this,ot);je(this,ot,t),je(this,zd,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},JT=function(t){jr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(z(this,an))}),z(this,vn).getQueryCache().notify({query:z(this,ot),type:"observerResultsUpdated"})})},wT);function f$(e,t){return na(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function AE(e,t){return f$(e,t)||e.state.data!==void 0&&dx(e,t,t.refetchOnMount)}function dx(e,t,r){if(na(t.enabled,e)!==!1&&Ds(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&zw(e,t)}return!1}function CE(e,t,r,n){return(e!==t||na(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&zw(e,r)}function zw(e,t){return na(t.enabled,e)!==!1&&e.isStaleByTime(Ds(t.staleTime,e))}function h$(e,t){return!Nm(e.getCurrentResult(),t)}function kE(e){return{onFetch:(t,r)=>{var p,g,y,v,x;const n=t.options,a=(y=(g=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,s=((v=t.state.data)==null?void 0:v.pages)||[],l=((x=t.state.data)==null?void 0:x.pageParams)||[];let d={pages:[],pageParams:[]},f=0;const h=async()=>{let w=!1;const _=E=>{a$(E,()=>t.signal,()=>w=!0)},N=VT(t.options,t.fetchOptions),O=async(E,C,T)=>{if(w)return Promise.reject();if(C==null&&E.pages.length)return Promise.resolve(E);const M=(()=>{const Y={client:t.client,queryKey:t.queryKey,pageParam:C,direction:T?"backward":"forward",meta:t.options.meta};return _(Y),Y})(),R=await N(M),{maxPages:B}=t.options,H=T?n$:r$;return{pages:H(E.pages,R,B),pageParams:H(E.pageParams,C,B)}};if(a&&s.length){const E=a==="backward",C=E?m$:PE,T={pages:s,pageParams:l},P=C(n,T);d=await O(T,P,E)}else{const E=e??s.length;do{const C=f===0?l[0]??n.initialPageParam:PE(n,d);if(f>0&&C==null)break;d=await O(d,C),f++}while(f<E)}return d};t.options.persister?t.fetchFn=()=>{var w,_;return(_=(w=t.options).persister)==null?void 0:_.call(w,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function PE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function m$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Fd,Ra,Yr,Io,Ia,ys,jT,p$=(jT=class extends WT{constructor(t){super();Me(this,Ia);Me(this,Fd);Me(this,Ra);Me(this,Yr);Me(this,Io);je(this,Fd,t.client),this.mutationId=t.mutationId,je(this,Yr,t.mutationCache),je(this,Ra,[]),this.state=t.state||ZT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,Ra).includes(t)||(z(this,Ra).push(t),this.clearGcTimeout(),z(this,Yr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){je(this,Ra,z(this,Ra).filter(r=>r!==t)),this.scheduleGc(),z(this,Yr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,Ra).length||(this.state.status==="pending"?this.scheduleGc():z(this,Yr).remove(this))}continue(){var t;return((t=z(this,Io))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,d,f,h,p,g,y,v,x,w,_,N,O,E,C,T,P,M;const r=()=>{We(this,Ia,ys).call(this,{type:"continue"})},n={client:z(this,Fd),meta:this.options.meta,mutationKey:this.options.mutationKey};je(this,Io,YT({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,B)=>{We(this,Ia,ys).call(this,{type:"failed",failureCount:R,error:B})},onPause:()=>{We(this,Ia,ys).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Yr).canRun(this)}));const a=this.state.status==="pending",s=!z(this,Io).canStart();try{if(a)r();else{We(this,Ia,ys).call(this,{type:"pending",variables:t,isPaused:s}),z(this,Yr).config.onMutate&&await z(this,Yr).config.onMutate(t,this,n);const B=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,t,n));B!==this.state.context&&We(this,Ia,ys).call(this,{type:"pending",context:B,variables:t,isPaused:s})}const R=await z(this,Io).start();return await((h=(f=z(this,Yr).config).onSuccess)==null?void 0:h.call(f,R,t,this.state.context,this,n)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,R,t,this.state.context,n)),await((v=(y=z(this,Yr).config).onSettled)==null?void 0:v.call(y,R,null,this.state.variables,this.state.context,this,n)),await((w=(x=this.options).onSettled)==null?void 0:w.call(x,R,null,t,this.state.context,n)),We(this,Ia,ys).call(this,{type:"success",data:R}),R}catch(R){try{await((N=(_=z(this,Yr).config).onError)==null?void 0:N.call(_,R,t,this.state.context,this,n))}catch(B){Promise.reject(B)}try{await((E=(O=this.options).onError)==null?void 0:E.call(O,R,t,this.state.context,n))}catch(B){Promise.reject(B)}try{await((T=(C=z(this,Yr).config).onSettled)==null?void 0:T.call(C,void 0,R,this.state.variables,this.state.context,this,n))}catch(B){Promise.reject(B)}try{await((M=(P=this.options).onSettled)==null?void 0:M.call(P,void 0,R,t,this.state.context,n))}catch(B){Promise.reject(B)}throw We(this,Ia,ys).call(this,{type:"error",error:R}),R}finally{z(this,Yr).runNext(this)}}},Fd=new WeakMap,Ra=new WeakMap,Yr=new WeakMap,Io=new WeakMap,Ia=new WeakSet,ys=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),jr.batch(()=>{z(this,Ra).forEach(n=>{n.onMutationUpdate(t)}),z(this,Yr).notify({mutation:this,type:"updated",action:t})})},jT);function ZT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gi,ga,Kd,ST,g$=(ST=class extends $c{constructor(t={}){super();Me(this,gi);Me(this,ga);Me(this,Kd);this.config=t,je(this,gi,new Set),je(this,ga,new Map),je(this,Kd,0)}build(t,r,n){const a=new p$({client:t,mutationCache:this,mutationId:++qh(this,Kd)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){z(this,gi).add(t);const r=Kh(t);if(typeof r=="string"){const n=z(this,ga).get(r);n?n.push(t):z(this,ga).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,gi).delete(t)){const r=Kh(t);if(typeof r=="string"){const n=z(this,ga).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&z(this,ga).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Kh(t);if(typeof r=="string"){const n=z(this,ga).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Kh(t);if(typeof r=="string"){const a=(n=z(this,ga).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){jr.batch(()=>{z(this,gi).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,gi).clear(),z(this,ga).clear()})}getAll(){return Array.from(z(this,gi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>SE(r,n))}findAll(t={}){return this.getAll().filter(r=>SE(t,r))}notify(t){jr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return jr.batch(()=>Promise.all(t.map(r=>r.continue().catch(sn))))}},gi=new WeakMap,ga=new WeakMap,Kd=new WeakMap,ST);function Kh(e){var t;return(t=e.options.scope)==null?void 0:t.id}var yi,As,bn,vi,Oi,ym,fx,_T,y$=(_T=class extends $c{constructor(r,n){super();Me(this,Oi);Me(this,yi);Me(this,As);Me(this,bn);Me(this,vi);je(this,yi,r),this.setOptions(n),this.bindMethods(),We(this,Oi,ym).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=z(this,yi).defaultMutationOptions(r),Nm(this.options,n)||z(this,yi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,bn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&zo(n.mutationKey)!==zo(this.options.mutationKey)?this.reset():((a=z(this,bn))==null?void 0:a.state.status)==="pending"&&z(this,bn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=z(this,bn))==null||r.removeObserver(this)}onMutationUpdate(r){We(this,Oi,ym).call(this),We(this,Oi,fx).call(this,r)}getCurrentResult(){return z(this,As)}reset(){var r;(r=z(this,bn))==null||r.removeObserver(this),je(this,bn,void 0),We(this,Oi,ym).call(this),We(this,Oi,fx).call(this)}mutate(r,n){var a;return je(this,vi,n),(a=z(this,bn))==null||a.removeObserver(this),je(this,bn,z(this,yi).getMutationCache().build(z(this,yi),this.options)),z(this,bn).addObserver(this),z(this,bn).execute(r)}},yi=new WeakMap,As=new WeakMap,bn=new WeakMap,vi=new WeakMap,Oi=new WeakSet,ym=function(){var n;const r=((n=z(this,bn))==null?void 0:n.state)??ZT();je(this,As,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},fx=function(r){jr.batch(()=>{var n,a,s,l,d,f,h,p;if(z(this,vi)&&this.hasListeners()){const g=z(this,As).variables,y=z(this,As).context,v={client:z(this,yi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(a=(n=z(this,vi)).onSuccess)==null||a.call(n,r.data,g,y,v)}catch(x){Promise.reject(x)}try{(l=(s=z(this,vi)).onSettled)==null||l.call(s,r.data,null,g,y,v)}catch(x){Promise.reject(x)}}else if((r==null?void 0:r.type)==="error"){try{(f=(d=z(this,vi)).onError)==null||f.call(d,r.error,g,y,v)}catch(x){Promise.reject(x)}try{(p=(h=z(this,vi)).onSettled)==null||p.call(h,void 0,r.error,g,y,v)}catch(x){Promise.reject(x)}}}this.listeners.forEach(g=>{g(z(this,As))})})},_T),La,NT,v$=(NT=class extends $c{constructor(t={}){super();Me(this,La);this.config=t,je(this,La,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??Lw(a,r);let l=this.get(s);return l||(l=new u$({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){z(this,La).has(t.queryHash)||(z(this,La).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=z(this,La).get(t.queryHash);r&&(t.destroy(),r===t&&z(this,La).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){jr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,La).get(t)}getAll(){return[...z(this,La).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>jE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>jE(t,n)):r}notify(t){jr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){jr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){jr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},La=new WeakMap,NT),er,Cs,ks,Sc,_c,Ps,Nc,Oc,OT,b$=(OT=class{constructor(e={}){Me(this,er);Me(this,Cs);Me(this,ks);Me(this,Sc);Me(this,_c);Me(this,Ps);Me(this,Nc);Me(this,Oc);je(this,er,e.queryCache||new v$),je(this,Cs,e.mutationCache||new g$),je(this,ks,e.defaultOptions||{}),je(this,Sc,new Map),je(this,_c,new Map),je(this,Ps,0)}mount(){qh(this,Ps)._++,z(this,Ps)===1&&(je(this,Nc,Uw.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,er).onFocus())})),je(this,Oc,Om.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,er).onOnline())})))}unmount(){var e,t;qh(this,Ps)._--,z(this,Ps)===0&&((e=z(this,Nc))==null||e.call(this),je(this,Nc,void 0),(t=z(this,Oc))==null||t.call(this),je(this,Oc,void 0))}isFetching(e){return z(this,er).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,Cs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,er).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=z(this,er).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ds(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return z(this,er).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=z(this,er).get(n.queryHash),s=a==null?void 0:a.state.data,l=Z6(t,s);if(l!==void 0)return z(this,er).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return jr.batch(()=>z(this,er).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,er).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=z(this,er);jr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=z(this,er);return jr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=jr.batch(()=>z(this,er).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(sn).catch(sn)}invalidateQueries(e,t={}){return jr.batch(()=>(z(this,er).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=jr.batch(()=>z(this,er).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(sn)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(sn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=z(this,er).build(this,t);return r.isStaleByTime(Ds(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(sn).catch(sn)}fetchInfiniteQuery(e){return e.behavior=kE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(sn).catch(sn)}ensureInfiniteQueryData(e){return e.behavior=kE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Om.isOnline()?z(this,Cs).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,er)}getMutationCache(){return z(this,Cs)}getDefaultOptions(){return z(this,ks)}setDefaultOptions(e){je(this,ks,e)}setQueryDefaults(e,t){z(this,Sc).set(zo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,Sc).values()],r={};return t.forEach(n=>{md(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){z(this,_c).set(zo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,_c).values()],r={};return t.forEach(n=>{md(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,ks).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Lw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Bw&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,ks).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,er).clear(),z(this,Cs).clear()}},er=new WeakMap,Cs=new WeakMap,ks=new WeakMap,Sc=new WeakMap,_c=new WeakMap,Ps=new WeakMap,Nc=new WeakMap,Oc=new WeakMap,OT),eD=j.createContext(void 0),Ue=e=>{const t=j.useContext(eD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},x$=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(eD.Provider,{value:e,children:t})),tD=j.createContext(!1),w$=()=>j.useContext(tD);tD.Provider;function j$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var S$=j.createContext(j$()),_$=()=>j.useContext(S$),N$=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?$w(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},O$=e=>{j.useEffect(()=>{e.clearReset()},[e])},E$=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||$w(r,[e.error,n])),A$=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},C$=(e,t)=>e.isLoading&&e.isFetching&&!t,k$=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,TE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function P$(e,t,r){var y,v,x,w;const n=w$(),a=_$(),s=Ue(),l=s.defaultQueryOptions(e);(v=(y=s.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||v.call(y,l);const d=s.getQueryCache().get(l.queryHash);l._optimisticResults=n?"isRestoring":"optimistic",A$(l),N$(l,a,d),O$(a);const f=!s.getQueryCache().get(l.queryHash),[h]=j.useState(()=>new t(s,l)),p=h.getOptimisticResult(l),g=!n&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(_=>{const N=g?h.subscribe(jr.batchCalls(_)):sn;return h.updateResult(),N},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),j.useEffect(()=>{h.setOptions(l)},[l,h]),k$(l,p))throw TE(l,h,a);if(E$({result:p,errorResetBoundary:a,throwOnError:l.throwOnError,query:d,suspense:l.suspense}))throw p.error;if((w=(x=s.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||w.call(x,l,p),l.experimental_prefetchInRender&&!Uo&&C$(p,n)){const _=f?TE(l,h,a):d==null?void 0:d.promise;_==null||_.catch(sn).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?p:h.trackResult(p)}function nt(e,t){return P$(e,d$)}function wt(e,t){const r=Ue(),[n]=j.useState(()=>new y$(r,e));j.useEffect(()=>{n.setOptions(e)},[n,e]);const a=j.useSyncExternalStore(j.useCallback(l=>n.subscribe(jr.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=j.useCallback((l,d)=>{n.mutate(l,d).catch(sn)},[n]);if(a.error&&$w(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}const T$="modulepreload",D$=function(e){return"/"+e},DE={},qw=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=l(r.map(h=>{if(h=D$(h),h in DE)return;DE[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":T$,p||(y.as="script"),y.crossOrigin="",y.href=h,f&&y.setAttribute("nonce",f),document.head.appendChild(y),p)return new Promise((v,x)=>{y.addEventListener("load",v),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return a.then(l=>{for(const d of l||[])d.status==="rejected"&&s(d.reason);return t().catch(s)})};function Pp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function M$(e,t,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function d(p){try{h(n.next(p))}catch(g){l(g)}}function f(p){try{h(n.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):a(p.value).then(d,f)}h((n=n.apply(e,t||[])).next())})}const R$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Fw extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class I$ extends Fw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ME extends Fw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class RE extends Fw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hx||(hx={}));class L${constructor(t,{headers:r={},customFetch:n,region:a=hx.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=R$(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return M$(this,arguments,void 0,function*(r,n={}){var a;let s,l;try{const{headers:d,method:f,body:h,signal:p,timeout:g}=n;let y={},{region:v}=n;v||(v=this.region);const x=new URL(`${this.url}/${r}`);v&&v!=="any"&&(y["x-region"]=v,x.searchParams.set("forceFunctionRegion",v));let w;h&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(y["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(y["Content-Type"]="application/json",w=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?w=JSON.stringify(h):w=h;let _=p;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),p?(_=l.signal,p.addEventListener("abort",()=>l.abort())):_=l.signal);const N=yield this.fetch(x.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),d),body:w,signal:_}).catch(T=>{throw new I$(T)}),O=N.headers.get("x-relay-error");if(O&&O==="true")throw new ME(N);if(!N.ok)throw new RE(N);let E=((a=N.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),C;return E==="application/json"?C=yield N.json():E==="application/octet-stream"||E==="application/pdf"?C=yield N.blob():E==="text/event-stream"?C=N:E==="multipart/form-data"?C=yield N.formData():C=yield N.text(),{data:C,error:null,response:N}}catch(d){return{data:null,error:d,response:d instanceof RE||d instanceof ME?d.context:void 0}}finally{s&&clearTimeout(s)}})}}var B$=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},$$=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let l=null,d=null,f=null,h=s.status,p=s.statusText;if(s.ok){var g,y;if(r.method!=="HEAD"){var v;const N=await s.text();N===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?d=N:d=JSON.parse(N))}const w=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),_=(y=s.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");w&&_&&_.length>1&&(f=parseInt(_[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var x;const w=await s.text();try{l=JSON.parse(w),Array.isArray(l)&&s.status===404&&(d=[],l=null,h=200,p="OK")}catch{s.status===404&&w===""?(h=204,p="No Content"):l={message:w}}if(l&&r.isMaybeSingle&&(!(l==null||(x=l.details)===null||x===void 0)&&x.includes("0 rows"))&&(l=null,h=200,p="OK"),l&&r.shouldThrowOnError)throw new B$(l)}return{error:l,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(s=>{var l;let d="",f="",h="";const p=s==null?void 0:s.cause;if(p){var g,y,v,x;const N=(g=p==null?void 0:p.message)!==null&&g!==void 0?g:"",O=(y=p==null?void 0:p.code)!==null&&y!==void 0?y:"";d=`${(v=s==null?void 0:s.name)!==null&&v!==void 0?v:"FetchError"}: ${s==null?void 0:s.message}`,d+=`

Caused by: ${(x=p==null?void 0:p.name)!==null&&x!==void 0?x:"Error"}: ${N}`,O&&(d+=` (${O})`),p!=null&&p.stack&&(d+=`
${p.stack}`)}else{var w;d=(w=s==null?void 0:s.stack)!==null&&w!==void 0?w:""}const _=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(h="",f="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((p==null?void 0:p.name)==="HeadersOverflowError"||(p==null?void 0:p.code)==="UND_ERR_HEADERS_OVERFLOW")&&(h="",f="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(f+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=s==null?void 0:s.name)!==null&&l!==void 0?l:"FetchError"}: ${s==null?void 0:s.message}`,details:d,hint:f,code:h},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},U$=class extends $${select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var l;const d=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${f}"; options=${d};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const IE=new RegExp("[,()]");var tc=class extends U${eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&IE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&IE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},z$=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:a=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let s=!1;const l=(e??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:d,headers:f}=this.cloneRequestState();return d.searchParams.set("select",l),n&&f.append("Prefer",`count=${n}`),new tc({method:a,url:d,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),r||l.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);s.searchParams.set("columns",f.join(","))}}return new tc({method:a,url:s,headers:l,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const l="POST",{url:d,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&d.searchParams.set("on_conflict",t),n&&f.append("Prefer",`count=${n}`),a||f.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);d.searchParams.set("columns",p.join(","))}}return new tc({method:l,url:d,headers:f,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new tc({method:n,url:a,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new tc({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function q$(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F$(e){var t=q$(e,"string");return pd(t)=="symbol"?t:t+""}function K$(e,t,r){return(t=F$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LE(Object(r),!0).forEach(function(n){K$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Q$=class rD{constructor(t,{headers:r={},schema:n,fetch:a,timeout:s,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=l;const d=a??globalThis.fetch;s!==void 0&&s>0?this.fetch=(f,h)=>{const p=new AbortController,g=setTimeout(()=>p.abort(),s),y=h==null?void 0:h.signal;if(y){if(y.aborted)return clearTimeout(g),d(f,h);const v=()=>{clearTimeout(g),p.abort()};return y.addEventListener("abort",v,{once:!0}),d(f,Qh(Qh({},h),{},{signal:p.signal})).finally(()=>{clearTimeout(g),y.removeEventListener("abort",v)})}return d(f,Qh(Qh({},h),{},{signal:p.signal})).finally(()=>clearTimeout(g))}:this.fetch=d}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new z$(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new rD(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var l;let d;const f=new URL(`${this.url}/rpc/${t}`);let h;const p=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(p)),g=n&&Object.values(r).some(p);g?(d="POST",h=r):n||a?(d=n?"HEAD":"GET",Object.entries(r).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{f.searchParams.append(v,x)})):(d="POST",h=r);const y=new Headers(this.headers);return g?y.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&y.set("Prefer",`count=${s}`),new tc({method:d,url:f,headers:y,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class H${constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const V$="2.95.3",G$=`realtime-js/${V$}`,Y$="1.0.0",nD="2.0.0",BE=nD,mx=1e4,W$=1e3,X$=100;var vs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vs||(vs={}));var xr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xr||(xr={}));var ya;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ya||(ya={}));var px;(function(e){e.websocket="websocket"})(px||(px={}));var bo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bo||(bo={}));class J${constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var a,s;const l=t.topic,d=(a=t.ref)!==null&&a!==void 0?a:"",f=(s=t.join_ref)!==null&&s!==void 0?s:"",h=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+l.length+h.length+g.length,v=new ArrayBuffer(this.HEADER_LENGTH+y);let x=new DataView(v),w=0;x.setUint8(w++,this.KINDS.userBroadcastPush),x.setUint8(w++,f.length),x.setUint8(w++,d.length),x.setUint8(w++,l.length),x.setUint8(w++,h.length),x.setUint8(w++,g.length),x.setUint8(w++,r),Array.from(f,N=>x.setUint8(w++,N.charCodeAt(0))),Array.from(d,N=>x.setUint8(w++,N.charCodeAt(0))),Array.from(l,N=>x.setUint8(w++,N.charCodeAt(0))),Array.from(h,N=>x.setUint8(w++,N.charCodeAt(0))),Array.from(g,N=>x.setUint8(w++,N.charCodeAt(0)));var _=new Uint8Array(v.byteLength+n.byteLength);return _.set(new Uint8Array(v),0),_.set(new Uint8Array(n),v.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,l,d,f]=n;return r({join_ref:a,ref:s,topic:l,event:d,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const h=n.decode(t.slice(f,f+a));f=f+a;const p=n.decode(t.slice(f,f+s));f=f+s;const g=n.decode(t.slice(f,f+l));f=f+l;const y=t.slice(f,t.byteLength),v=d===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,x={type:this.BROADCAST_EVENT,event:p,payload:v};return l>0&&(x.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class aD{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Rt||(Rt={}));const $E=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=Z$(l,e,t,a),s),{}):{}},Z$=(e,t,r,n)=>{const a=t.find(d=>d.name===e),s=a==null?void 0:a.type,l=r[e];return s&&!n.includes(s)?iD(s,l):gx(l)},iD=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return nU(t,r)}switch(e){case Rt.bool:return eU(t);case Rt.float4:case Rt.float8:case Rt.int2:case Rt.int4:case Rt.int8:case Rt.numeric:case Rt.oid:return tU(t);case Rt.json:case Rt.jsonb:return rU(t);case Rt.timestamp:return aU(t);case Rt.abstime:case Rt.date:case Rt.daterange:case Rt.int4range:case Rt.int8range:case Rt.money:case Rt.reltime:case Rt.text:case Rt.time:case Rt.timestamptz:case Rt.timetz:case Rt.tsrange:case Rt.tstzrange:return gx(t);default:return gx(t)}},gx=e=>e,eU=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tU=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},rU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},nU=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(d=>iD(t,d))}return e},aU=e=>typeof e=="string"?e.replace(" ","T"):e,sD=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class o0{constructor(t,r,n={},a=mx){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var UE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(UE||(UE={}));class ud{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ud.syncState(this.state,a,s,l),this.pendingDiffs.forEach(f=>{this.state=ud.syncDiff(this.state,f,s,l)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ud.syncDiff(this.state,a,s,l),d())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),l=this.transformState(r),d={},f={};return this.map(s,(h,p)=>{l[h]||(f[h]=p)}),this.map(l,(h,p)=>{const g=s[h];if(g){const y=p.map(_=>_.presence_ref),v=g.map(_=>_.presence_ref),x=p.filter(_=>v.indexOf(_.presence_ref)<0),w=g.filter(_=>y.indexOf(_.presence_ref)<0);x.length>0&&(d[h]=x),w.length>0&&(f[h]=w)}else d[h]=p}),this.syncDiff(s,{joins:d,leaves:f},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(d,f)=>{var h;const p=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),p.length>0){const g=t[d].map(v=>v.presence_ref),y=p.filter(v=>g.indexOf(v.presence_ref)<0);t[d].unshift(...y)}n(d,p,f)}),this.map(l,(d,f)=>{let h=t[d];if(!h)return;const p=f.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),t[d]=h,a(d,h,f),h.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zE||(zE={}));var dd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(dd||(dd={}));var hi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hi||(hi={}));class ic{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=xr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new o0(this,ya.join,this.params,this.timeout),this.rejoinTimer=new aD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=xr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=xr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ya.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new ud(this),this.broadcastEndpointURL=sD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==xr.closed){const{config:{broadcast:l,presence:d,private:f}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[dd.PRESENCE]&&this.bindings[dd.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(hi.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(hi.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(hi.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(x=w==null?void 0:w.length)!==null&&x!==void 0?x:0,N=[];for(let O=0;O<_;O++){const E=w[O],{filter:{event:C,schema:T,table:P,filter:M}}=E,R=v&&v[O];if(R&&R.event===C&&ic.isFilterValueEqual(R.schema,T)&&ic.isFilterValueEqual(R.table,P)&&ic.isFilterValueEqual(R.filter,M))N.push(Object.assign(Object.assign({},E),{id:R.id}));else{this.unsubscribe(),this.state=xr.errored,t==null||t(hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(hi.SUBSCRIBED);return}}).receive("error",v=>{this.state=xr.errored,t==null||t(hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===xr.joined&&t===dd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const h=await d.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,d,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ya.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new o0(this,ya.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new o0(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>X$){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:p}=ya;if(n&&[d,f,h,p].indexOf(l)>=0&&n!==this._joinRef())return;let y=this._onMessage(l,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var x,w,_;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(w=v.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(v=>v.callback(y,n)):(s=this.bindings[l])===null||s===void 0||s.filter(v=>{var x,w,_,N,O,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const C=v.id,T=(x=v.filter)===null||x===void 0?void 0:x.event;return C&&((w=r.ids)===null||w===void 0?void 0:w.includes(C))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(O=(N=v==null?void 0:v.filter)===null||N===void 0?void 0:N.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return C==="*"||C===((E=r==null?void 0:r.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof y=="object"&&"ids"in y){const x=y.data,{schema:w,table:_,commit_timestamp:N,type:O,errors:E}=x;y=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:N,eventType:O,new:{},old:{},errors:E}),this._getPayloadRecords(x))}v.callback(y,n)})}_isClosed(){return this.state===xr.closed}_isJoined(){return this.state===xr.joined}_isJoining(){return this.state===xr.joining}_isLeaving(){return this.state===xr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&ic.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ya.close,{},t)}_onError(t){this._on(ya.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=$E(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=$E(t.columns,t.old_record)),r}}const l0=()=>{},Hh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},iU=[1e3,2e3,5e3,1e4],sU=1e4,oU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lU{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mx,this.transport=null,this.heartbeatIntervalMs=Hh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=l0,this.ref=0,this.reconnectTimer=null,this.vsn=BE,this.logger=l0,this.conn=null,this.sendBuffer=[],this.serializer=new J$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${px.websocket}`,this.httpEndpoint=sD(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=H$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vs.connecting:return bo.Connecting;case vs.open:return bo.Open;case vs.closing:return bo.Closing;default:return bo.Closed}}isConnected(){return this.connectionState()===bo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new ic(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(W$,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Hh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:s,ref:l}=r,d=l?`(${l})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${a} ${d}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===vs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===vs.open||this.conn.readyState===vs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ya.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([oU],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:G$};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(ya.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new aD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,l,d,f,h,p,g,y,v;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:mx,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Hh.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:l0,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:BE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:(x=>iU[x-1]||sU),this.vsn){case Y$:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:((x,w)=>w(JSON.stringify(x))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:((x,w)=>w(JSON.parse(x)));break;case nD:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var gd=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cU(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function uU(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function dU(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:l}){const d=cU(e.baseUrl,n,a),f=await uU(e.auth),h=await t(d,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...f,...l},body:s?JSON.stringify(s):void 0}),p=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),y=g&&p?JSON.parse(p):p;if(!h.ok){const v=g?y:void 0,x=v==null?void 0:v.error;throw new gd((x==null?void 0:x.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:v})}return{status:h.status,headers:h.headers,data:y}}}}function Vh(e){return e.join("")}var fU=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Vh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vh(e.namespace)}`}),!0}catch(t){if(t instanceof gd&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof gd&&r.status===409)return;throw r}}};function Ql(e){return e.join("")}var hU=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ql(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ql(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ql(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ql(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ql(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ql(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof gd&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof gd&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},mU=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=dU({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new fU(this.client,t),this.tableOps=new hU(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Tp=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Dp(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Gh=class extends Tp{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},oD=class extends Tp{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const pU=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yx=e=>{if(Array.isArray(e))return e.map(r=>yx(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=yx(n)}),t},yU=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function vU(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bU(e){var t=vU(e,"string");return yd(t)=="symbol"?t:t+""}function xU(e,t,r){return(t=bU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(r),!0).forEach(function(n){xU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const FE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},wU=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,s=a.status||500;if(typeof a.json=="function")a.json().then(l=>{const d=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";t(new Gh(FE(l),s,d,n))}).catch(()=>{if(n==="vectors"){const l=s+"";t(new Gh(a.statusText||`HTTP ${s} error`,s,l,n))}else{const l=s+"";t(new Gh(a.statusText||`HTTP ${s} error`,s,l,n))}});else{const l=s+"";t(new Gh(a.statusText||`HTTP ${s} error`,s,l,n))}}else t(new oD(FE(e),e,n))},jU=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?qe(qe({},a),r):(gU(n)?(a.headers=qe({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),qe(qe({},a),r))};async function Gu(e,t,r,n,a,s,l){return new Promise((d,f)=>{e(r,jU(t,n,a,s)).then(h=>{if(!h.ok)throw h;if(n!=null&&n.noResolveJson)return h;if(l==="vectors"){const p=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!p||!p.includes("application/json"))return{}}return h.json()}).then(h=>d(h)).catch(h=>wU(h,f,n,l))})}function lD(e="storage"){return{get:async(t,r,n,a)=>Gu(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,s)=>Gu(t,"POST",r,a,s,n,e),put:async(t,r,n,a,s)=>Gu(t,"PUT",r,a,s,n,e),head:async(t,r,n,a)=>Gu(t,"HEAD",r,qe(qe({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,s)=>Gu(t,"DELETE",r,a,s,n,e)}}const SU=lD("storage"),{get:vd,post:ma,put:vx,head:_U,remove:Kw}=SU,Dn=lD("vectors");var Uc=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=pU(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Dp(r))return{data:null,error:r};throw r}}},NU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Dp(t))return{data:null,error:t};throw t}}};let cD;cD=Symbol.toStringTag;var OU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[cD]="BlobDownloadBuilder",this.promise=null}asStream(){return new NU(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Dp(t))return{data:null,error:t};throw t}}};const EU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},KE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var AU=class extends Uc{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let s;const l=qe(qe({},KE),n);let d=qe(qe({},a.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",a.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),f&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(f))):(s=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=a.toBase64(a.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(d=qe(qe({},d),n.headers));const h=a._removeEmptyFolders(t),p=a._getFinalPath(h),g=await(e=="PUT"?vx:ma)(a.fetch,`${a.url}/object/${p}`,s,qe({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:h,id:g.Id,fullPath:g.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const s=a._removeEmptyFolders(e),l=a._getFinalPath(s),d=new URL(a.url+`/object/upload/sign/${l}`);return d.searchParams.set("token",t),a.handleOperation(async()=>{let f;const h=qe({upsert:KE.upsert},n),p=qe(qe({},a.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{path:s,fullPath:(await vx(a.fetch,d.toString(),f,{headers:p})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=qe({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=await ma(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(r.url+s.url),d=l.searchParams.get("token");if(!d)throw new Tp("No token returned by API");return{signedUrl:l.toString(),path:e,token:d}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ma(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ma(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),s=await ma(n.fetch,`${n.url}/object/sign/${a}`,qe({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${l}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await ma(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(l=>qe(qe({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${s}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=a?`?${a}`:"",l=this._getFinalPath(e),d=()=>vd(this.fetch,`${this.url}/${n}/${l}${s}`,{headers:this.headers,noResolveJson:!0},r);return new OU(d,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>yx(await vd(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await _U(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Dp(n)&&n instanceof oD){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${d}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Kw(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=qe(qe(qe({},EU),t),{},{prefix:e||""});return await ma(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=qe({},e);return await ma(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const CU="2.95.3",Vd={"X-Client-Info":`storage-js/${CU}`};var kU=class extends Uc{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const s=a.href.replace(/\/$/,""),l=qe(qe({},Vd),t);super(s,l,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await vd(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await vd(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ma(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await vx(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ma(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Kw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},PU=class extends Uc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=qe(qe({},Vd),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ma(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await vd(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Kw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!yU(e))throw new Tp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new mU({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const l=a[s];return typeof l!="function"?l:async(...d)=>{try{return{data:await l.apply(a,d),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}}}})}},TU=class extends Uc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=qe(qe({},Vd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Dn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Dn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},DU=class extends Uc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=qe(qe({},Vd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},MU=class extends Uc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=qe(qe({},Vd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},RU=class extends MU{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new IU(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},IU=class extends TU{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new LU(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},LU=class extends DU{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},BU=class extends kU{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new AU(this.url,this.headers,e,this.fetch)}get vectors(){return new RU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new PU(this.url+"/iceberg",this.headers,this.fetch)}};const uD="2.95.3",rc=30*1e3,bx=3,c0=bx*rc,$U="http://localhost:9999",UU="supabase.auth.token",zU={"X-Client-Info":`gotrue-js/${uD}`},xx="X-Supabase-Api-Version",dD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FU=600*1e3;class bd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class KU extends bd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function QU(e){return Te(e)&&e.name==="AuthApiError"}class xo extends bd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ri extends bd{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Tn extends Ri{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function u0(e){return Te(e)&&e.name==="AuthSessionMissingError"}class Hl extends Ri{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yh extends Ri{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Wh extends Ri{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HU(e){return Te(e)&&e.name==="AuthImplicitGrantRedirectError"}class QE extends Ri{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class VU extends Ri{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class wx extends Ri{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function d0(e){return Te(e)&&e.name==="AuthRetryableFetchError"}class HE extends Ri{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class jx extends Ri{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Em="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),VE=` 	
\r=`.split(""),GU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<VE.length;t+=1)e[VE[t].charCodeAt(0)]=-2;for(let t=0;t<Em.length;t+=1)e[Em[t].charCodeAt(0)]=t;return e})();function GE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Em[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Em[n]),t.queuedBits-=6}}function fD(e,t,r){const n=GU[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function YE(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{XU(l,n,r)};for(let l=0;l<e.length;l+=1)fD(e.charCodeAt(l),a,s);return t.join("")}function YU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WU(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}YU(n,t)}}function XU(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function lc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)fD(e.charCodeAt(a),r,n);return new Uint8Array(t)}function JU(e){const t=[];return WU(e,r=>t.push(r)),new Uint8Array(t)}function jo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>GE(a,r,n)),GE(null,r,n),t.join("")}function ZU(e){return Math.round(Date.now()/1e3)+e}function ez(){return Symbol("auth-callback")}const Kr=()=>typeof window<"u"&&typeof document<"u",fo={tested:!1,writable:!1},hD=()=>{if(!Kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fo.tested)return fo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),fo.tested=!0,fo.writable=!0}catch{fo.tested=!0,fo.writable=!1}return fo.writable};function tz(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const mD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),rz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ho=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Fr=async(e,t)=>{await e.removeItem(t)};class Mp{constructor(){this.promise=new Mp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Mp.promiseConstructor=Promise;function Xh(e){const t=e.split(".");if(t.length!==3)throw new jx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!qU.test(t[n]))throw new jx("JWT not in base64url format");return{header:JSON.parse(YE(t[0])),payload:JSON.parse(YE(t[1])),signature:lc(t[2]),raw:{header:t[0],payload:t[1]}}}async function nz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function az(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){a(l);return}}})()})}function iz(e){return("0"+e.toString(16)).substr(-2)}function sz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,iz).join("")}async function oz(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function lz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await oz(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vl(e,t,r=!1){const n=sz();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await nc(e,`${t}-code-verifier`,a);const s=await lz(n);return[s,n===s?"plain":"s256"]}const cz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uz(e){const t=e.headers.get(xx);if(!t||!t.match(cz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dz(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function fz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gl(e){if(!hz.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function f0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mz(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function WE(e){return JSON.parse(JSON.stringify(e))}const po=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pz=[502,503,504];async function XE(e){var t;if(!rz(e))throw new wx(po(e),0);if(pz.includes(e.status))throw new wx(po(e),e.status);let r;try{r=await e.json()}catch(s){throw new xo(po(s),s)}let n;const a=uz(e);if(a&&a.getTime()>=dD["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new HE(po(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Tn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new HE(po(r),e.status,r.weak_password.reasons);throw new KU(po(r),e.status||500,n)}const gz=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function $e(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[xx]||(s[xx]=dD["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await yz(e,t,r+d,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function yz(e,t,r,n,a,s){const l=gz(t,n,a,s);let d;try{d=await e(r,Object.assign({},l))}catch(f){throw console.error(f),new wx(po(f),0)}if(d.ok||await XE(d),n!=null&&n.noResolveJson)return d;try{return await d.json()}catch(f){await XE(f)}}function ha(e){var t;let r=null;xz(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=ZU(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function JE(e){const t=ha(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ws(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vz(e){return{data:e,error:null}}function bz(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,l=Pp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function ZE(e){return e}function xz(e){return e.access_token&&e.refresh_token&&e.expires_in}const h0=["global","local","others"];class wz{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=mD(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=h0[0]){if(h0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${h0.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ws})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Pp(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:bz,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ws})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:ZE});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Te(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Gl(t);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ws})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Gl(t);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ws})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Gl(t);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ws})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Gl(t.userId);try{const{data:r,error:n}=await $e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Gl(t.userId),Gl(t.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:ZE});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Te(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await $e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await $e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}}function eA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Yl={debug:!!(globalThis&&hD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pD extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jz extends pD{}async function Sz(e,t,r){Yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Yl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jz(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function _z(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function gD(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Nz(e){return parseInt(e,16)}function Oz(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Ez(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:d,requestId:f,resources:h,scheme:p,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=gD(e.address),x=p?`${p}://${n}`:n,w=e.statement?`${e.statement}
`:"",_=`${x} wants you to sign in with your Ethereum account:
${v}

${w}`;let N=`URI: ${g}
Version: ${y}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),f&&(N+=`
Request ID: ${f}`),h){let O=`
Resources:`;for(const E of h){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);O+=`
- ${E}`}N+=O}return`${_}
${N}`}class hr extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Am extends hr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Az({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new hr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new hr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new hr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new hr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new hr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new hr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new hr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new hr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(yD(l)){if(s.rp.id!==l)return new hr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new hr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new hr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new hr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new hr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Cz({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new hr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new hr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(yD(n)){if(r.rpId!==n)return new hr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new hr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new hr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new hr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class kz{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Pz=new kz;function Tz(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Pp(e,["challenge","user","excludeCredentials"]),s=lc(t).buffer,l=Object.assign(Object.assign({},r),{id:lc(r.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:s,user:l});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:lc(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function Dz(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Pp(e,["challenge","allowCredentials"]),a=lc(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const d=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},d),{id:lc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function Mz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:jo(new Uint8Array(e.response.attestationObject)),clientDataJSON:jo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Rz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:jo(new Uint8Array(a.authenticatorData)),clientDataJSON:jo(new Uint8Array(a.clientDataJSON)),signature:jo(new Uint8Array(a.signature)),userHandle:a.userHandle?jo(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function yD(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function tA(){var e,t;return!!(Kr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Iz(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Am("Browser returned unexpected credential type",t)}:{data:null,error:new Am("Empty credential response",t)}}catch(t){return{data:null,error:Az({error:t,options:e})}}}async function Lz(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Am("Browser returned unexpected credential type",t)}:{data:null,error:new Am("Empty credential response",t)}}catch(t){return{data:null,error:Cz({error:t,options:e})}}}const Bz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$z={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Cm(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const d=n[s];t(d)?n[s]=Cm(d,l):n[s]=Cm(l)}else n[s]=l}return n}function Uz(e,t){return Cm(Bz,e,t||{})}function zz(e,t){return Cm($z,e,t||{})}class qz{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){var l;try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!d)return{data:null,error:f};const h=a??Pz.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;if(!p.name){const g=n;if(g)p.name=`${p.id}:${g}`;else{const v=(await this.client.getUser()).data.user,x=((l=v==null?void 0:v.user_metadata)===null||l===void 0?void 0:l.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";p.name=`${p.id}:${x}`}}p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=Uz(d.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:g,error:y}=await Iz({publicKey:p,signal:h});return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}case"request":{const p=zz(d.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:g,error:y}=await Lz(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}}}catch(d){return Te(d)?{data:null,error:d}:{data:null,error:new xo("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new bd("rpId is required for WebAuthn authentication")};try{if(!tA())return{data:null,error:new xo("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!l)return{data:null,error:d};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(l){return Te(l)?{data:null,error:l}:{data:null,error:new xo("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new bd("rpId is required for WebAuthn registration")};try{if(!tA())return{data:null,error:new xo("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Te(l)?{data:null,error:l}:{data:null,error:new xo("Unexpected error in register",l)}}}}_z();const Fz={url:$U,storageKey:UU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function rA(e,t,r){return await r()}const Wl={};class xd{get jwks(){var t,r;return(r=(t=Wl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Wl[this.storageKey]=Object.assign(Object.assign({},Wl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Wl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wl[this.storageKey]=Object.assign(Object.assign({},Wl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Fz),t);if(this.storageKey=s.storageKey,this.instanceID=(r=xd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,xd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Kr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new wz({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=mD(s.fetch),this.lock=s.lock||rA,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Kr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Sz:this.lock=rA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qz(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:hD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=eA(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=eA(this.memoryStorage)),Kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${uD}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Kr()&&(r=tz(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Kr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),HU(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:l,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Te(r)?this._returnResult({error:r}):this._returnResult({error:new xo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ha}),{data:l,error:d}=s;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Te(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:p,password:g,options:y}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Vl(this.storage,this.storageKey)),s=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:g,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:x},xform:ha})}else if("phone"in t){const{phone:p,password:g,options:y}=t;s=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(a=y==null?void 0:y.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:ha})}else throw new Yh("You must provide either an email or phone number and a password");const{data:l,error:d}=s;if(d||!l)return await Fr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Te(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:d}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:JE})}else if("phone"in t){const{phone:s,password:l,options:d}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:JE})}else throw new Yh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new Hl;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,l,d,f,h,p,g,y;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:w,wallet:_,statement:N,options:O}=t;let E;if(Kr())if(typeof _=="object")E=_;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")E=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const C=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href),T=await E.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=gD(T[0]);let M=(n=O==null?void 0:O.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!M){const B=await E.request({method:"eth_chainId"});M=Nz(B)}const R={domain:C.host,address:P,statement:N,uri:C.href,version:"1",chainId:M,nonce:(a=O==null?void 0:O.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=O==null?void 0:O.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=O==null?void 0:O.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=O==null?void 0:O.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=O==null?void 0:O.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=Ez(R),x=await E.request({method:"personal_sign",params:[Oz(v),P]})}try{const{data:w,error:_}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ha});if(_)throw _;if(!w||!w.session||!w.user){const N=new Hl;return this._returnResult({data:{user:null,session:null},error:N})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(Te(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,a,s,l,d,f,h,p,g,y,v;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:_,wallet:N,statement:O,options:E}=t;let C;if(Kr())if(typeof N=="object")C=N;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const T=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),O?{statement:O}:null));let M;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")M=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)M=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)x=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),w=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${T.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(a=(n=E==null?void 0:E.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=E==null?void 0:E.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((d=E==null?void 0:E.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((h=E==null?void 0:E.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((g=(p=E==null?void 0:E.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...E.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(x),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=P}}try{const{data:_,error:N}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:jo(w)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ha});if(N)throw N;if(!_||!_.session||!_.user){const O=new Hl;return this._returnResult({data:{user:null,session:null},error:O})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:N})}catch(_){if(Te(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await ho(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new VU;const{data:s,error:l}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ha});if(await Fr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const d=new Hl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Te(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:l}=t,d=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ha}),{data:f,error:h}=d;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const p=new Hl;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,l;try{if("email"in t){const{email:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Vl(this.storage,this.storageKey));const{error:g}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:p}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new Yh("You must provide either an email or phone number.")}catch(d){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Te(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:d}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:ha});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,l;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Vl(this.storage,this.storageKey));const h=await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:vz});return!((s=h.data)===null||s===void 0)&&s.url&&Kr()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(d){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Te(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Tn;const{error:a}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:l}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:l,error:d}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d})}throw new Yh("You must provide either an email or phone number and a type")}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ho(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<c0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await ho(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=f0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=mz(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ws}):await this._useSession(async r=>{var n,a,s;const{data:l,error:d}=r;if(d)throw d;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tn}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:ws})})}catch(r){if(Te(r))return u0(r)&&(await this._removeSession(),await Fr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Tn;const l=a.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await Vl(this.storage,this.storageKey));const{data:h,error:p}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:ws});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Te(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tn;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:l}=Xh(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};s=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});s={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:d}=r;if(d)throw d;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Tn;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Kr())throw new Wh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new QE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new QE("No code detected.");const{data:O,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:d,expires_at:f,token_type:h}=t;if(!s||!d||!l||!h)throw new Wh("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(d);let y=p+g;f&&(y=parseInt(f));const v=y-p;v*1e3<=rc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const x=y-g;p-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,y,p):p-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,y,p);const{data:w,error:_}=await this._getUser(s);if(_)throw _;const N={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:y,refresh_token:l,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(n){if(Te(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ho(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s&&!u0(s))return this._returnResult({error:s});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(QU(d)&&(d.status===404||d.status===401||d.status===403)||u0(d)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Fr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=ez(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Vl(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Te(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var l,d,f,h,p;const{data:g,error:y}=s;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return Kr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Te(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:l,provider:d,token:f,access_token:h,nonce:p}=t,g=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:f,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ha}),{data:y,error:v}=g;return v?this._returnResult({data:{user:null,session:null},error:v}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Hl}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:v}))}catch(a){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)throw l;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await az(async a=>(a>0&&await nz(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ha})),(a,s)=>{const l=200*Math.pow(2,a);return s&&d0(s)&&Date.now()+l-n<rc})}catch(n){if(this._debug(r,"error",n),Te(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ho(this.storage,this.storageKey);if(a&&this.userStorage){let l=await ho(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await nc(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:f0()}else if(a&&!a.user&&!a.user){const l=await ho(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,await Fr(this.storage,this.storageKey+"-user"),await nc(this.storage,this.storageKey,a)):a.user=f0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<c0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${c0}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),d0(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(a.access_token);!d&&(l!=null&&l.user)?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Mp;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Tn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const d={data:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(a,"error",s),Te(s)){const l={data:null,error:s};return d0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(l),s.length>0){for(let d=0;d<s.length;d+=1)console.error(s[d]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Fr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await nc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=WE(a);await nc(this.storage,this.storageKey,s)}else{const a=WE(r);await nc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Fr(this.storage,this.storageKey),await Fr(this.storage,this.storageKey+"-code-verifier"),await Fr(this.storage,this.storageKey+"-user"),this.userStorage&&await Fr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/rc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${rc}ms, refresh threshold is ${bx} ticks`),a<=bx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof pD)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await Vl(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(d.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await $e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&f.type==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Mz(t.webauthn.credential_response):Rz(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Tz(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Dz(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,s;if(t)try{const{payload:v}=Xh(t);let x=null;v.aal&&(x=v.aal);let w=x;const{data:{user:_},error:N}=await this.getUser(t);if(N)return this._returnResult({data:null,error:N});((n=(r=_==null?void 0:_.factors)===null||r===void 0?void 0:r.filter(C=>C.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(w="aal2");const E=v.amr||[];return{data:{currentLevel:x,nextLevel:w,currentAuthenticationMethods:E},error:null}}catch(v){if(Te(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:l},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Xh(l.access_token);let h=null;f.aal&&(h=f.aal);let p=h;((s=(a=l.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const y=f.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await $e(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Tn})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Tn});const l=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&Kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Tn});const l=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&Kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await $e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Tn})})}catch(t){if(Te(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await $e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Tn})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(d=>d.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+FU>a)return n;const{data:s,error:l}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return this._returnResult({data:null,error:x});n=v.session.access_token}const{header:a,payload:s,signature:l,raw:{header:d,payload:f}}=Xh(n);r!=null&&r.allowExpired||dz(s.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:a,signature:l},error:null}}const p=fz(a.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,JU(`${d}.${f}`)))throw new jx("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}}xd.nextInstanceID={};const Kz=xd,Qz="2.95.3";let sd="";typeof Deno<"u"?sd="deno":typeof document<"u"?sd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sd="react-native":sd="node";const Hz={"X-Client-Info":`supabase-js-${sd}/${Qz}`},Vz={headers:Hz},Gz={schema:"public"},Yz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wz={};function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function Xz(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jz(e){var t=Xz(e,"string");return wd(t)=="symbol"?t:t+""}function Zz(e,t,r){return(t=Jz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){Zz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const eq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tq=()=>Headers,rq=(e,t,r)=>{const n=eq(r),a=tq();return async(s,l)=>{var d;const f=(d=await t())!==null&&d!==void 0?d:e;let h=new a(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(s,tr(tr({},l),{},{headers:h}))}};function nq(e){return e.endsWith("/")?e:e+"/"}function aq(e,t){var r,n;const{db:a,auth:s,realtime:l,global:d}=e,{db:f,auth:h,realtime:p,global:g}=t,y={db:tr(tr({},f),a),auth:tr(tr({},h),s),realtime:tr(tr({},p),l),storage:{},global:tr(tr(tr({},g),d),{},{headers:tr(tr({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function iq(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nq(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var sq=class extends Kz{constructor(e){super(e)}},oq=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const s=iq(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,d={db:Gz,realtime:Wz,auth:tr(tr({},Yz),{},{storageKey:l}),global:Vz},f=aq(r??{},d);if(this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=rq(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(tr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new Q$(new URL("rest/v1",s).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new BU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new L$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:l,lock:d,debug:f,throwOnError:h},p,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sq({url:this.authUrl.href,headers:tr(tr({},y),p),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:l,lock:d,debug:f,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lU(this.realtimeUrl.href,tr(tr({},e),{},{params:tr(tr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const lq=(e,t,r)=>new oq(e,t,r);function cq(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}cq()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const uq="https://ozjddzasadgffjjeqntc.supabase.co",dq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96amRkemFzYWRnZmZqamVxbnRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTMwMzEsImV4cCI6MjA4NTk2OTAzMX0._1fbWup_bHYe0PN5QUcptRMuwZRAEFwQOPEPd7Lk3NY",be=lq(uq,dq),fq={company:{name:"BD Hatbela",logo:"",phone:"",email:"",address:""},order:{prefix:"BDH-",nextNumber:1},invoice:{title:"Tax Invoice",logoWidth:60,logoHeight:60,footer:"Thank you for shopping with BD Hatbela!"},defaults:{accountId:"",paymentMethod:"Cash",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:20},categories:[],paymentMethods:[],courier:{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}},vD=e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null},hq=vD("currentUser"),mq=vD("settings"),Se={users:[],customers:[],vendors:[],products:[],orders:[],bills:[],accounts:[],transactions:[],currentUser:hq??null,settings:mq??fq},Yu=()=>{try{localStorage.setItem("currentUser",JSON.stringify(Se.currentUser)),localStorage.setItem("settings",JSON.stringify(Se.settings))}catch(e){console.warn("[DB] localStorage write failed:",e)}},xt=25,zc="https://ozjddzasadgffjjeqntc.supabase.co",qc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96amRkemFzYWRnZmZqamVxbnRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTMwMzEsImV4cCI6MjA4NTk2OTAzMX0._1fbWup_bHYe0PN5QUcptRMuwZRAEFwQOPEPd7Lk3NY";async function Zr(){if(Se.currentUser)return{user:Se.currentUser};const e=localStorage.getItem("currentUserId");if(e)try{const r=await Vw(e);if(r)return Se.currentUser=r,{user:r}}catch(r){console.warn("[supabaseQueries] Failed to restore user from ID:",r)}const t=localStorage.getItem("userData");if(t)try{const r=JSON.parse(t);return Se.currentUser=r,{user:r}}catch{}throw new Error("No authenticated session available. Please log in.")}function pq(){const e=Se.currentUser;if(!e||!e.id)throw new Error("User session not available for mutation");return e.id}async function Ii(e,t=1e4){const r=n=>{if(!n)return!1;const a=((n==null?void 0:n.message)||(n==null?void 0:n.toString())||"").toLowerCase(),s=(n==null?void 0:n.code)||"";return a.includes("failed to fetch")||a.includes("connection closed")||a.includes("network")||a.includes("econnrefused")||a.includes("etimedout")||s==="ERR_CONNECTION_CLOSED"||n instanceof TypeError};try{const n=await Promise.race([e,new Promise(l=>{setTimeout(()=>l({data:null,error:{message:"Query timeout"}}),t)})]),{data:a,error:s}=n;return s?r(s)?(console.error("[supabaseQueries] NETWORK ERROR (no retry):",(s==null?void 0:s.message)||s),[]):(console.warn("[supabaseQueries] Query error:",(s==null?void 0:s.message)||s),[]):a||(console.warn("[supabaseQueries] Query returned no data"),[])}catch(n){return r(n)?(console.error("[supabaseQueries] NETWORK ERROR in catch:",(n==null?void 0:n.message)||n),[]):(console.error("[supabaseQueries] Query exception:",n),[])}}async function bD(){return console.log("[supabaseQueries] fetchCustomers called"),(await Ii(be.from("customers").select("*").order("created_at",{ascending:!1}))).map(Ac)}async function Rp(e){if(!e)return null;if(e.startsWith("temp-"))return console.warn("[supabaseQueries] fetchCustomerById called with temp id, returning null:",e),null;const{data:t,error:r}=await be.from("customers").select("*").eq("id",e).maybeSingle();return r?(console.error("[supabaseQueries] fetchCustomerById error:",r),null):Ac(t)}async function gq(e){await Zr();const t=crypto.randomUUID(),r=async()=>await be.from("customers").insert([{id:t,name:e.name,phone:e.phone,address:e.address,total_orders:e.totalOrders||0,due_amount:e.dueAmount||0}]).select().single();try{const{data:n,error:a}=await r();if(a)throw console.error("[supabaseQueries] createCustomer error:",a),a;return Ac(n)}catch(n){const a=(n==null?void 0:n.name)||(n==null?void 0:n.code)||"";if(a==="AbortError"||a==="ABORT_ERR"||String(n).toLowerCase().includes("abort")){console.warn("[supabaseQueries] createCustomer aborted - retrying once");try{await new Promise(d=>setTimeout(d,250));const{data:s,error:l}=await r();if(l)throw console.error("[supabaseQueries] createCustomer retry error:",l),l;return Ac(s)}catch(s){throw console.error("[supabaseQueries] createCustomer abort/retry failed:",s),s}}throw console.error("[supabaseQueries] createCustomer error:",n),n}}async function yq(e,t){await Zr();const{data:r,error:n}=await be.from("customers").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.address&&{address:t.address},...t.totalOrders!==void 0&&{total_orders:t.totalOrders},...t.dueAmount!==void 0&&{due_amount:t.dueAmount}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateCustomer error:",n),n;return Ac(r)}async function vq(e){if(e.startsWith("temp-")){const r=new Error("Cannot delete unsaved customer. Please refresh and try again.");throw console.error("[supabaseQueries] deleteCustomer error:",r),r}const{error:t}=await be.from("customers").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteCustomer error:",t),t}function Ac(e){return{id:e.id,name:e.name,phone:e.phone,address:e.address,totalOrders:e.total_orders??e.totalOrders??0,dueAmount:e.due_amount??e.dueAmount??0,createdBy:e.created_by??e.createdBy}}async function bq(){return(await Ii(be.from("orders").select("*").order("created_at",{ascending:!1}))).map(Fc)}async function xq(e=1,t=xt,r){const n=(e-1)*t,a=n+t-1;let s=be.from("orders").select("id, order_number, order_date, customer_id, created_by, status, subtotal, discount, shipping, total, paid_amount, notes, history, created_at",{count:"estimated"});if(r){if(r.status&&r.status!=="All"&&(s=s.eq("status",r.status)),r.from&&(s=s.gte("order_date",r.from)),r.to&&(s=s.lte("order_date",r.to)),r.search){const l=r.search.trim();l&&(s=s.ilike("order_number",`%${l}%`))}r.createdByIds&&r.createdByIds.length>0&&(s=s.in("created_by",r.createdByIds))}s=s.order("created_at",{ascending:!1}).range(n,a);try{const{data:l,error:d,count:f}=await s;return d?(console.error("[supabaseQueries] fetchOrdersPage error:",d),{data:[],count:0}):{data:(l||[]).map(Fc),count:f??0}}catch(l){return console.error("[supabaseQueries] fetchOrdersPage exception:",l),{data:[],count:0}}}async function wq(e){const{data:t,error:r}=await be.from("orders").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchOrderById error:",r),null):Fc(t)}async function jq(e){return(await Ii(be.from("orders").select("*").eq("customer_id",e).order("order_date",{ascending:!1}))).map(Fc)}async function Sq(e){await Zr();const t=crypto.randomUUID(),r=pq(),{data:n,error:a}=await be.from("orders").insert([{id:t,order_number:e.orderNumber,order_date:e.orderDate,customer_id:e.customerId,created_by:r,status:e.status,items:e.items,subtotal:e.subtotal,discount:e.discount,shipping:e.shipping,total:e.total,paid_amount:e.paidAmount,history:e.history}]).select().single();if(a)throw console.error("[supabaseQueries] createOrder error:",a),a;return Fc(n)}async function _q(e,t){await Zr();const{data:r,error:n}=await be.from("orders").update({...t.customerId&&{customer_id:t.customerId},...t.orderDate&&{order_date:t.orderDate},...t.orderNumber&&{order_number:t.orderNumber},...t.notes!==void 0&&{notes:t.notes},...t.status&&{status:t.status},...t.items&&{items:t.items},...t.subtotal!==void 0&&{subtotal:t.subtotal},...t.discount!==void 0&&{discount:t.discount},...t.shipping!==void 0&&{shipping:t.shipping},...t.total!==void 0&&{total:t.total},...t.paidAmount!==void 0&&{paid_amount:t.paidAmount},...t.history&&{history:t.history}}).eq("id",e).select();if(n)throw console.error("[supabaseQueries] updateOrder error:",n),n;if(!r||Array.isArray(r)&&r.length===0)return console.warn("[supabaseQueries] updateOrder: update succeeded but no row was returned (possible RLS). Returning null."),null;const a=Array.isArray(r)?r[0]:r;return Fc(a)}async function Nq(e){await Zr();const{error:t}=await be.from("transactions").delete().eq("reference_id",e).eq("type","Income");if(t)throw console.error("[supabaseQueries] deleteOrder: failed to delete income transactions:",t),t;const{error:r}=await be.from("transactions").delete().eq("reference_id",e).eq("type","Expense").eq("category","expense_shipping");if(r)throw console.error("[supabaseQueries] deleteOrder: failed to delete shipping expense transactions:",r),r;const{error:n}=await be.from("orders").delete().eq("id",e);if(n)throw console.error("[supabaseQueries] deleteOrder error:",n),n}function Fc(e){return{id:e.id,orderNumber:e.order_number??e.orderNumber,orderDate:e.order_date??e.orderDate,customerId:e.customer_id??e.customerId,createdBy:e.created_by??e.createdBy,status:e.status,items:e.items??[],subtotal:e.subtotal??0,discount:e.discount??0,shipping:e.shipping??0,total:e.total??0,notes:e.notes,history:e.history??{},paidAmount:e.paid_amount??e.paidAmount??0}}async function Sx(){return(await Ii(be.from("accounts").select("*").order("created_at",{ascending:!1}))).map(Qw)}async function _x(e=1,t=xt,r){const n=(e-1)*t,a=n+t-1;let s=be.from("customers").select("id, name, phone, address, total_orders, due_amount, created_at",{count:"estimated"});if(r&&r.trim()){const l=r.trim();s=s.or(`name.ilike.%${l}%,phone.ilike.%${l}%,address.ilike.%${l}%`)}s=s.order("created_at",{ascending:!1}).range(n,a);try{const{data:l,error:d,count:f}=await s;return d?(console.error("[supabaseQueries] fetchCustomersPage error:",d),{data:[],count:0}):{data:(l||[]).map(Ac),count:f??0}}catch(l){return console.error("[supabaseQueries] fetchCustomersPage exception:",l),{data:[],count:0}}}async function Oq(e){const t=crypto.randomUUID(),{data:r,error:n}=await be.from("accounts").insert([{id:t,name:e.name,type:e.type,opening_balance:e.openingBalance,current_balance:e.currentBalance}]).select().single();if(n)throw console.error("[supabaseQueries] createAccount error:",n),n;return Qw(r)}async function Eq(e,t){const{data:r,error:n}=await be.from("accounts").update({...t.name&&{name:t.name},...t.type&&{type:t.type},...t.currentBalance!==void 0&&{current_balance:t.currentBalance}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateAccount error:",n),n;return Qw(r)}async function Aq(e){const{error:t}=await be.from("accounts").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteAccount error:",t),t}function Qw(e){return{id:e.id,name:e.name,type:e.type,openingBalance:e.opening_balance??e.openingBalance,currentBalance:e.current_balance??e.currentBalance}}async function Cq(){return(await Ii(be.from("transactions").select("*").order("created_at",{ascending:!1}))).map(Hw)}async function kq(e=1,t=xt,r){const n=(e-1)*t,a=n+t-1;let s=be.from("transactions").select("id, date, type, category, account_id, to_account_id, amount, description, reference_id, contact_id, payment_method, attachment_name, attachment_url, created_by, created_at",{count:"estimated"});if(r){if(r.type&&(s=s.eq("type",r.type)),r.from&&(s=s.gte("date",r.from)),r.to&&(s=s.lte("date",r.to)),r.search){const l=r.search.trim();l&&(s=s.ilike("description",`%${l}%`))}r.createdByIds&&r.createdByIds.length>0&&(s=s.in("created_by",r.createdByIds))}s=s.order("created_at",{ascending:!1}).range(n,a);try{const{data:l,error:d,count:f}=await s;return d?(console.error("[supabaseQueries] fetchTransactionsPage error:",d),{data:[],count:0}):{data:(l||[]).map(Hw),count:f??0}}catch(l){return console.error("[supabaseQueries] fetchTransactionsPage exception:",l),{data:[],count:0}}}async function Pq(e){await Zr();const r={id:crypto.randomUUID(),date:e.date,type:e.type,category:e.category,account_id:e.accountId,amount:e.amount,description:e.description,payment_method:e.paymentMethod,created_by:e.createdBy};e.toAccountId&&(r.to_account_id=e.toAccountId),e.referenceId&&(r.reference_id=e.referenceId),e.contactId&&(r.contact_id=e.contactId),e.attachmentName&&(r.attachment_name=e.attachmentName),e.attachmentUrl&&(r.attachment_url=e.attachmentUrl);const{data:n,error:a}=await be.from("transactions").insert([r]).select().single();if(a)throw console.error("[supabaseQueries] createTransaction error:",a),a;return Hw(n)}async function Tq(e){if(e.startsWith("temp-")){const r=new Error("Cannot delete unsaved transactions. Please refresh and try again.");throw console.error("[supabaseQueries] deleteTransaction error:",r),r}const{error:t}=await be.from("transactions").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteTransaction error:",t),t}function Hw(e){const t=e.date??e.date_string??null,r=e.created_at??e.createdAt??null,n=t&&t.toString().length>10?t:r||t||"";return{id:e.id,date:n,type:e.type,category:e.category,accountId:e.account_id??e.accountId,toAccountId:e.to_account_id??e.toAccountId,amount:e.amount,description:e.description,referenceId:e.reference_id??e.referenceId,contactId:e.contact_id??e.contactId,paymentMethod:e.payment_method??e.paymentMethod,attachmentName:e.attachment_name??e.attachmentName,attachmentUrl:e.attachment_url??e.attachmentUrl,createdBy:e.created_by??e.createdBy,createdAt:r||null}}async function Dq(e=1,t=xt,r,n,a){const s=(e-1)*t,l=s+t-1;let d=be.from("products").select("id, name, image, category, sale_price, purchase_price, created_at",{count:"estimated"});if(r&&r.trim()){const f=r.trim();d=d.ilike("name",`%${f}%`)}a&&a.length>0&&(d=d.in("created_by",a)),d=d.order("created_at",{ascending:!1}).range(s,l);try{const{data:f,error:h,count:p}=await d;return h?(console.error("[supabaseQueries] fetchProductsPage error:",h),{data:[],count:0}):{data:(f||[]).map(Jo),count:p??0}}catch(f){return console.error("[supabaseQueries] fetchProductsPage exception:",f),{data:[],count:0}}}async function km(){try{const{data:e,error:t}=await be.from("products").select("id, name, sale_price, purchase_price").order("created_at",{ascending:!1}).limit(100);return t?(console.error("[supabaseQueries] fetchProductsMini error:",t),[]):(e||[]).map(Jo)}catch(e){return console.error("[supabaseQueries] fetchProductsMini exception:",e),[]}}async function xD(e,t=50){try{if(!e||!e.trim())return[];const{data:r,error:n}=await be.from("products").select("id, name, sale_price, purchase_price").ilike("name",`%${e.trim()}%`).order("created_at",{ascending:!1}).limit(t);return n?(console.error("[supabaseQueries] fetchProductsSearch error:",n),[]):(r||[]).map(Jo)}catch(r){return console.error("[supabaseQueries] fetchProductsSearch exception:",r),[]}}async function Mq(){return(await Ii(be.from("users").select("*").order("created_at",{ascending:!1}))).map(Gd)}async function Vw(e){const{data:t,error:r}=await be.from("users").select("*").eq("id",e).single();if(r)return console.error("[supabaseQueries] fetchUserById error:",r),null;console.log("[supabaseQueries] fetchUserById raw data:",{id:t==null?void 0:t.id,name:t==null?void 0:t.name,password_hash:t!=null&&t.password_hash?`(${t.password_hash.substring(0,20)}...)`:"(NULL/MISSING)",allKeys:Object.keys(t||{})});const n=Gd(t);return console.log("[supabaseQueries] fetchUserById mapped user:",{id:n.id,name:n.name,password:n.password?`(${n.password.substring(0,20)}...)`:"(NULL/MISSING)"}),n}async function Rq(e,t){try{console.log("[supabaseQueries] loginUser - fetching user by phone:",e);const{data:r,error:n}=await be.from("users").select("*").eq("phone",e).single();if(n)return console.error("[supabaseQueries] loginUser - user not found:",n==null?void 0:n.message),{user:null,error:"User not found"};if(!r)return{user:null,error:"User not found"};console.log("[supabaseQueries] loginUser - validating password");try{if(!(await qw(()=>import("./bcrypt-CZhZdbfR.js").then(l=>l.b),[])).compareSync(t,r.password_hash||""))return console.error("[supabaseQueries] loginUser - password mismatch"),{user:null,error:"Invalid password"}}catch(a){return console.error("[supabaseQueries] loginUser - bcrypt error:",a==null?void 0:a.message),{user:null,error:"Password validation failed"}}return console.log("[supabaseQueries] loginUser - success for user:",r.id),{user:Gd(r),error:null}}catch(r){return console.error("[supabaseQueries] loginUser exception:",(r==null?void 0:r.message)||r),{user:null,error:(r==null?void 0:r.message)||"Login failed"}}}async function Iq(e){try{const t=e.password;if(!t)throw new Error("Password is required to create a user");const r=crypto.randomUUID();console.log("[supabaseQueries] Creating user with phone:",e.phone,"id:",r);let n;try{n=(await qw(()=>import("./bcrypt-CZhZdbfR.js").then(f=>f.b),[])).hashSync(t,12),console.log("[supabaseQueries] Password hashed successfully")}catch(l){throw console.error("[supabaseQueries] Password hashing failed:",l==null?void 0:l.message),new Error(`Password hashing failed: ${(l==null?void 0:l.message)||"Unknown error"}`)}console.log("[supabaseQueries] Inserting user row into users table");const{data:a,error:s}=await be.from("users").insert([{id:r,name:e.name,phone:e.phone,role:e.role,image:e.image,password_hash:n}]).select().single();if(s)throw console.error("[supabaseQueries] Create profile error:",s),s;return console.log("[supabaseQueries] User created successfully - can now sign in (frontend-password mode)"),Gd(a)}catch(t){throw console.error("[supabaseQueries] createUser error:",t),t}}async function Lq(e,t){const r={...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.role&&{role:t.role},...t.image&&{image:t.image}};if(t.password)try{const d=(await qw(()=>import("./bcrypt-CZhZdbfR.js").then(f=>f.b),[])).hashSync(t.password,12);r.password_hash=d}catch(s){throw console.error("[supabaseQueries] updateUser - password hashing failed:",s==null?void 0:s.message),s}const{data:n,error:a}=await be.from("users").update(r).eq("id",e).select().single();if(a)throw console.error("[supabaseQueries] updateUser error:",a),a;return Gd(n)}async function Bq(e){const{error:t}=await be.from("users").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteUser error:",t),t}function aA(e){return e?typeof e=="string"?e:e.message?e.message:e.details?e.details:e.hint?e.hint:JSON.stringify(e):"Unknown error"}function Gd(e){return{id:e.id,name:e.name,phone:e.phone,role:e.role,image:e.image,password:void 0,createdAt:e.created_at}}async function Nx(e=1,t=xt,r,n){const a=(e-1)*t,s=a+t-1;let l=be.from("vendors").select("id, name, phone, address, total_purchases, due_amount, created_at",{count:"estimated"});if(r&&r.trim()){const d=r.trim();l=l.or(`name.ilike.%${d}%,phone.ilike.%${d}%,address.ilike.%${d}%`)}l=l.order("created_at",{ascending:!1}).range(a,s);try{const{data:d,error:f,count:h}=await l;return f?(console.error("[supabaseQueries] fetchVendorsPage error:",f),{data:[],count:0}):{data:(d||[]).map(Wd),count:h??0}}catch(d){return console.error("[supabaseQueries] fetchVendorsPage exception:",d),{data:[],count:0}}}async function $q(e=1,t=xt,r){const n=(e-1)*t,a=n+t-1;let s=be.from("bills").select("id, bill_number, bill_date, vendor_id, total, paid_amount, status, created_by, created_at",{count:"estimated"});if(r){if(r.from&&(s=s.gte("bill_date",r.from)),r.to&&(s=s.lte("bill_date",r.to)),r.search&&r.search.trim()){const l=r.search.trim();s=s.ilike("bill_number",`%${l}%`)}r.createdByIds&&r.createdByIds.length>0&&(s=s.in("created_by",r.createdByIds))}s=s.order("created_at",{ascending:!1}).range(n,a);try{const{data:l,error:d,count:f}=await s;return d?(console.error("[supabaseQueries] fetchBillsPage error:",d),{data:[],count:0}):{data:(l||[]).map(Yd),count:f??0}}catch(l){return console.error("[supabaseQueries] fetchBillsPage exception:",l),{data:[],count:0}}}async function Uq(){return(await Ii(be.from("bills").select("*").order("created_at",{ascending:!1}))).map(Yd)}async function zq(e){const{data:t,error:r}=await be.from("bills").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchBillById error:",r),null):Yd(t)}async function qq(e){await Zr();const t=crypto.randomUUID(),{data:r,error:n}=await be.from("bills").insert([{id:t,bill_number:e.billNumber,bill_date:e.billDate,vendor_id:e.vendorId,created_by:e.createdBy,status:e.status,items:e.items,subtotal:e.subtotal,discount:e.discount,shipping:e.shipping,total:e.total,paid_amount:e.paidAmount,history:e.history||{}}]).select().single();if(n)throw console.error("[supabaseQueries] createBill error:",n),n;return Yd(r)}async function Fq(e,t){await Zr();const{data:r,error:n}=await be.from("bills").update({...t.vendorId&&{vendor_id:t.vendorId},...t.billDate&&{bill_date:t.billDate},...t.billNumber&&{bill_number:t.billNumber},...t.notes!==void 0&&{notes:t.notes},...t.status&&{status:t.status},...t.items&&{items:t.items},...t.subtotal!==void 0&&{subtotal:t.subtotal},...t.discount!==void 0&&{discount:t.discount},...t.shipping!==void 0&&{shipping:t.shipping},...t.total!==void 0&&{total:t.total},...t.paidAmount!==void 0&&{paid_amount:t.paidAmount},...t.history&&{history:t.history}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateBill error:",n),n;return Yd(r)}async function Kq(e){await Zr();const{error:t}=await be.from("transactions").delete().eq("reference_id",e).eq("type","Expense");if(t)throw console.error("[supabaseQueries] deleteBill: failed to delete related transactions:",t),t;const{error:r}=await be.from("bills").delete().eq("id",e);if(r)throw console.error("[supabaseQueries] deleteBill error:",r),r}function Yd(e){return{id:e.id,billNumber:e.bill_number??e.billNumber,billDate:e.bill_date??e.billDate,vendorId:e.vendor_id??e.vendorId,createdBy:e.created_by??e.createdBy,status:e.status,items:e.items??[],subtotal:e.subtotal??0,discount:e.discount??0,shipping:e.shipping??0,total:e.total??0,notes:e.notes,paidAmount:e.paid_amount??e.paidAmount??0,history:e.history}}async function Qq(){return(await Ii(be.from("vendors").select("*").order("created_at",{ascending:!1}))).map(Wd)}async function wD(e){const{data:t,error:r}=await be.from("vendors").select("*").eq("id",e).maybeSingle();return r?(console.error("[supabaseQueries] fetchVendorById error:",r),null):Wd(t)}async function Hq(e){await Zr();const t=crypto.randomUUID(),{data:r,error:n}=await be.from("vendors").insert([{id:t,name:e.name,phone:e.phone,address:e.address,total_purchases:e.totalPurchases||0,due_amount:e.dueAmount||0}]).select().single();if(n)throw console.error("[supabaseQueries] createVendor error:",n),n;return Wd(r)}async function Vq(e,t){await Zr();const{data:r,error:n}=await be.from("vendors").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.address&&{address:t.address},...t.totalPurchases!==void 0&&{total_purchases:t.totalPurchases},...t.dueAmount!==void 0&&{due_amount:t.dueAmount}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateVendor error:",n),n;return Wd(r)}async function Gq(e){const{error:t}=await be.from("vendors").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteVendor error:",t),t}function Wd(e){return{id:e.id,name:e.name,phone:e.phone,address:e.address,totalPurchases:e.total_purchases??e.totalPurchases??0,dueAmount:e.due_amount??e.dueAmount??0,createdBy:e.created_by??e.createdBy}}async function Ox(e){console.log("[supabaseQueries] fetchProducts called",e?"for category: "+e:"");try{let t=be.from("products").select("id, name, image, category, sale_price, purchase_price, created_at").order("created_at",{ascending:!1});return e&&(t=t.eq("category",e)),(await Ii(t)).map(Jo)}catch(t){return console.error("[supabaseQueries] fetchProducts error:",t),[]}}async function Yq(e){const{data:t,error:r}=await be.from("products").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchProductById error:",r),null):Jo(t)}async function Wq(e){await Zr();const t=crypto.randomUUID(),{data:r,error:n}=await be.from("products").insert([{id:t,name:e.name,image:e.image,category:e.category,sale_price:e.salePrice,purchase_price:e.purchasePrice}]).select().single();if(n)throw console.error("[supabaseQueries] createProduct error:",n),n;return Jo(r)}async function Xq(e,t){const{data:r,error:n}=await be.from("products").update({...t.name&&{name:t.name},...t.image&&{image:t.image},...t.category&&{category:t.category},...t.salePrice!==void 0&&{sale_price:t.salePrice},...t.purchasePrice!==void 0&&{purchase_price:t.purchasePrice}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateProduct error:",n),n;return Jo(r)}async function Jq(e){const{error:t}=await be.from("products").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteProduct error:",t),t}function Jo(e){return{id:e.id,name:e.name,image:e.image,category:e.category,salePrice:e.sale_price??e.salePrice??0,purchasePrice:e.purchase_price??e.purchasePrice??0,createdBy:e.created_by??e.createdBy}}async function Zq(e){console.log("[supabaseQueries] fetchCategories called",e?"for type: "+e:"");try{let t=be.from("categories").select("*").order("name",{ascending:!0});e&&(t=t.eq("type",e));const{data:r,error:n}=await t;if(n)throw console.error("[supabaseQueries] fetchCategories error:",n),new Error(`[${n.code}] ${n.message}`);return r?r.map(jD):[]}catch(t){throw console.error("[supabaseQueries] fetchCategories exception:",t),t}}async function e8(e){await Zr();const t=crypto.randomUUID(),{data:r,error:n}=await be.from("categories").insert([{id:t,name:e.name,type:e.type,color:e.color||"#3B82F6",parent_id:e.parentId||null}]).select().single();if(n)throw console.error("[supabaseQueries] createCategory error:",n),n;return jD(r)}async function t8(e){const{error:t}=await be.from("categories").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteCategory error:",t),t}function jD(e){return{id:e.id,name:e.name,type:e.type,color:e.color,parentId:e.parent_id,createdAt:e.created_at,updatedAt:e.updated_at}}async function r8(e=!0){console.log("[supabaseQueries] fetchPaymentMethods called");try{let t=be.from("payment_methods").select("*").order("name",{ascending:!0});e&&(t=t.eq("is_active",!0));const{data:r,error:n}=await t;if(n)throw console.error("[supabaseQueries] fetchPaymentMethods error:",n),new Error(`[${n.code}] ${n.message}`);return r?r.map(SD):[]}catch(t){throw console.error("[supabaseQueries] fetchPaymentMethods exception:",t),t}}async function n8(e){await Zr();const t=crypto.randomUUID(),{data:r,error:n}=await be.from("payment_methods").insert([{id:t,name:e.name,description:e.description||null,is_active:!0}]).select().single();if(n)throw console.error("[supabaseQueries] createPaymentMethod error:",n),n;return SD(r)}async function a8(e){const{error:t}=await be.from("payment_methods").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deletePaymentMethod error:",t),t}function SD(e){return{id:e.id,name:e.name,description:e.description,isActive:e.is_active,createdAt:e.created_at,updatedAt:e.updated_at}}async function i8(){console.log("[supabaseQueries] fetchUnits called");try{const{data:e,error:t}=await be.from("units").select("*").order("name",{ascending:!0});if(t)throw console.error("[supabaseQueries] fetchUnits error:",t),new Error(`[${t.code}] ${t.message}`);return e?e.map(_D):[]}catch(e){throw console.error("[supabaseQueries] fetchUnits exception:",e),e}}async function s8(e){const t=e.shortName.toLowerCase(),{data:r,error:n}=await be.from("units").insert([{id:t,name:e.name,short_name:e.shortName,description:e.description||null}]).select().single();if(n)throw console.error("[supabaseQueries] createUnit error:",n),n;return _D(r)}async function o8(e){const{error:t}=await be.from("units").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteUnit error:",t),t}function _D(e){return{id:e.id,name:e.name,shortName:e.short_name,description:e.description,createdAt:e.created_at,updatedAt:e.updated_at}}async function Xd(){try{const{data:e,error:t}=await be.from("company_settings").select("*").maybeSingle();return t||!e?(console.error("[supabaseQueries] fetchCompanySettings error:",t),{id:"default",name:"Your Company",phone:"+880",email:"info@company.com",address:"",logo:""}):{id:e.id,name:e.name||"Your Company",phone:e.phone||"+880",email:e.email||"info@company.com",address:e.address||"",logo:e.logo||""}}catch(e){return console.error("[supabaseQueries] fetchCompanySettings exception:",e),{id:"default",name:"Your Company",phone:"+880",email:"info@company.com",address:"",logo:""}}}async function l8(e){await Zr();try{const t=await Xd(),r={name:e.name||t.name,phone:e.phone||t.phone,email:e.email||t.email,address:e.address!==void 0?e.address:t.address,logo:e.logo!==void 0?e.logo:t.logo},{data:n}=await be.from("company_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await be.from("company_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await be.from("company_settings").insert(r).select().single();if(l)throw l;a=s}return a||r}catch(t){throw console.error("[supabaseQueries] updateCompanySettings exception:",t),t}}async function Gw(){try{const{data:e,error:t}=await be.from("order_settings").select("*").maybeSingle();return t||!e?(console.error("[supabaseQueries] fetchOrderSettings error:",t),{prefix:"ORD-",nextNumber:1}):{prefix:e.prefix||"ORD-",nextNumber:e.next_number||1}}catch(e){return console.error("[supabaseQueries] fetchOrderSettings exception:",e),{prefix:"ORD-",nextNumber:1}}}async function c8(e){try{const t=await Gw(),r={prefix:e.prefix||t.prefix,next_number:e.nextNumber!==void 0?e.nextNumber:t.nextNumber},{data:n}=await be.from("order_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await be.from("order_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await be.from("order_settings").insert(r).select().single();if(l)throw l;a=s}return a?{prefix:a.prefix,nextNumber:a.next_number}:r}catch(t){throw console.error("[supabaseQueries] updateOrderSettings error:",t),t}}async function Yw(){try{const{data:e,error:t}=await be.from("invoice_settings").select("*").maybeSingle();return t||!e?(console.error("[supabaseQueries] fetchInvoiceSettings error:",t),{title:"Invoice",logoWidth:120,logoHeight:120,footer:""}):{title:e.title||"Invoice",logoWidth:e.logo_width||120,logoHeight:e.logo_height||120,footer:e.footer||""}}catch(e){return console.error("[supabaseQueries] fetchInvoiceSettings exception:",e),{title:"Invoice",logoWidth:120,logoHeight:120,footer:""}}}async function u8(e){try{const t=await Yw(),r={title:e.title||t.title,logo_width:e.logoWidth!==void 0?e.logoWidth:t.logoWidth,logo_height:e.logoHeight!==void 0?e.logoHeight:t.logoHeight,footer:e.footer!==void 0?e.footer:t.footer},{data:n}=await be.from("invoice_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await be.from("invoice_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await be.from("invoice_settings").insert(r).select().single();if(l)throw l;a=s}return a?{title:a.title,logoWidth:a.logo_width,logoHeight:a.logo_height,footer:a.footer}:{title:r.title,logoWidth:r.logo_width,logoHeight:r.logo_height,footer:r.footer}}catch(t){throw console.error("[supabaseQueries] updateInvoiceSettings error:",t),t}}async function Ww(){try{const{data:e,error:t}=await be.from("system_defaults").select("*").maybeSingle();return t||!e?(console.error("[supabaseQueries] fetchSystemDefaults error:",t),{defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}):{defaultAccountId:e.default_account_id||"",defaultPaymentMethod:e.default_payment_method||"",incomeCategoryId:e.income_category_id||"",expenseCategoryId:e.expense_category_id||"",recordsPerPage:e.records_per_page||10}}catch(e){return console.error("[supabaseQueries] fetchSystemDefaults exception:",e),{defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}}}async function d8(e){try{const t=await Ww(),r={default_account_id:e.defaultAccountId?e.defaultAccountId:t.defaultAccountId||null,default_payment_method:e.defaultPaymentMethod?e.defaultPaymentMethod:t.defaultPaymentMethod||null,income_category_id:e.incomeCategoryId?e.incomeCategoryId:t.incomeCategoryId||null,expense_category_id:e.expenseCategoryId?e.expenseCategoryId:t.expenseCategoryId||null,records_per_page:e.recordsPerPage!==void 0?e.recordsPerPage:t.recordsPerPage},{data:n}=await be.from("system_defaults").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await be.from("system_defaults").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await be.from("system_defaults").insert(r).select().single();if(l)throw l;a=s}return a?{defaultAccountId:a.default_account_id,defaultPaymentMethod:a.default_payment_method,incomeCategoryId:a.income_category_id,expenseCategoryId:a.expense_category_id,recordsPerPage:a.records_per_page}:t}catch(t){throw console.error("[supabaseQueries] updateSystemDefaults error:",t),t}}async function Xw(){try{const{data:e,error:t}=await be.from("courier_settings").select("*").maybeSingle();return t||!e?(console.error("[supabaseQueries] fetchCourierSettings error:",t),{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}):{steadfast:{baseUrl:e.steadfast_base_url||"",apiKey:e.steadfast_api_key||"",secretKey:e.steadfast_secret_key||""},carryBee:{baseUrl:e.carrybee_base_url||"",clientId:e.carrybee_client_id||"",clientSecret:e.carrybee_client_secret||"",clientContext:e.carrybee_client_context||"",storeId:e.carrybee_store_id||""}}}catch(e){return console.error("[supabaseQueries] fetchCourierSettings exception:",e),{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}}}async function f8(e){var t,r,n,a,s,l,d,f;try{const h=await Xw(),p={steadfast_base_url:((t=e.steadfast)==null?void 0:t.baseUrl)||h.steadfast.baseUrl,steadfast_api_key:((r=e.steadfast)==null?void 0:r.apiKey)||h.steadfast.apiKey,steadfast_secret_key:((n=e.steadfast)==null?void 0:n.secretKey)||h.steadfast.secretKey,carrybee_base_url:((a=e.carryBee)==null?void 0:a.baseUrl)||h.carryBee.baseUrl,carrybee_client_id:((s=e.carryBee)==null?void 0:s.clientId)||h.carryBee.clientId,carrybee_client_secret:((l=e.carryBee)==null?void 0:l.clientSecret)||h.carryBee.clientSecret,carrybee_client_context:((d=e.carryBee)==null?void 0:d.clientContext)||h.carryBee.clientContext,carrybee_store_id:((f=e.carryBee)==null?void 0:f.storeId)||h.carryBee.storeId},{data:g}=await be.from("courier_settings").select("id").limit(1).maybeSingle();let y;if(g!=null&&g.id){const{data:v,error:x}=await be.from("courier_settings").update(p).eq("id",g.id).select().maybeSingle();if(x)throw x;y=v}else{const{data:v,error:x}=await be.from("courier_settings").insert(p).select().single();if(x)throw x;y=v}return{steadfast:{baseUrl:(y==null?void 0:y.steadfast_base_url)||"",apiKey:(y==null?void 0:y.steadfast_api_key)||"",secretKey:(y==null?void 0:y.steadfast_secret_key)||""},carryBee:{baseUrl:(y==null?void 0:y.carrybee_base_url)||"",clientId:(y==null?void 0:y.carrybee_client_id)||"",clientSecret:(y==null?void 0:y.carrybee_client_secret)||"",clientContext:(y==null?void 0:y.carrybee_client_context)||"",storeId:(y==null?void 0:y.carrybee_store_id)||""}}}catch(h){throw console.error("[supabaseQueries] updateCourierSettings error:",h),h}}async function h8(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.clientId)==null?void 0:r.trim(),f=(n=e.clientSecret)==null?void 0:n.trim(),h=(a=e.clientContext)==null?void 0:a.trim();if(!l||!d||!f||!h)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];console.log("[supabaseQueries] Calling Edge Function for CarryBee stores");const p=`${zc}/functions/v1/carrybee-stores`;console.log("[supabaseQueries] Edge Function URL:",p);const g=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${qc}`},body:JSON.stringify({baseUrl:l,clientId:d,clientSecret:f,clientContext:h})});if(console.log("[supabaseQueries] Edge Function response status:",g.status),!g.ok)return console.error("[supabaseQueries] Edge Function error:",g.status,g.statusText),[];const y=await g.json();if(console.log("[supabaseQueries] Edge Function response data:",y),y.error)return console.error("[supabaseQueries] Edge Function returned error:",y.error,y.details),[];if(!((s=y.data)!=null&&s.stores))return console.warn("[supabaseQueries] No stores in response"),[];const v=y.data.stores.map(x=>({id:x.id,name:x.name}));return console.log("[supabaseQueries] Successfully fetched",v.length,"stores"),v}catch(l){return console.error("[supabaseQueries] fetchCarryBeeStores exception:",l instanceof Error?l.message:l),[]}}async function m8(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.clientId)==null?void 0:r.trim(),f=(n=e.clientSecret)==null?void 0:n.trim(),h=(a=e.clientContext)==null?void 0:a.trim();if(!l||!d||!f||!h)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const p=`${zc}/functions/v1/carrybee-cities`,g=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${qc}`},body:JSON.stringify({baseUrl:l,clientId:d,clientSecret:f,clientContext:h})});if(!g.ok)return console.error("[supabaseQueries] Cities Edge Function error:",g.status),[];const y=await g.json();return y.error||!((s=y.data)!=null&&s.cities)?(console.error("[supabaseQueries] Cities Edge Function returned error:",y.error),[]):y.data.cities.map(v=>({id:v.id,name:v.name}))}catch(l){return console.error("[supabaseQueries] fetchCarryBeeCities exception:",l instanceof Error?l.message:l),[]}}async function p8(e){var t,r,n,a,s,l;try{const d=(t=e.baseUrl)==null?void 0:t.trim(),f=(r=e.clientId)==null?void 0:r.trim(),h=(n=e.clientSecret)==null?void 0:n.trim(),p=(a=e.clientContext)==null?void 0:a.trim(),g=(s=e.cityId)==null?void 0:s.trim();if(!d||!f||!h||!p||!g)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const y=`${zc}/functions/v1/carrybee-zones`,v=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${qc}`},body:JSON.stringify({baseUrl:d,clientId:f,clientSecret:h,clientContext:p,cityId:g})});if(!v.ok)return console.error("[supabaseQueries] Zones Edge Function error:",v.status),[];const x=await v.json();return x.error||!((l=x.data)!=null&&l.zones)?(console.error("[supabaseQueries] Zones Edge Function returned error:",x.error),[]):x.data.zones.map(w=>({id:w.id,name:w.name}))}catch(d){return console.error("[supabaseQueries] fetchCarryBeeZones exception:",d instanceof Error?d.message:d),[]}}async function g8(e){var t,r,n,a,s,l,d;try{const f=(t=e.baseUrl)==null?void 0:t.trim(),h=(r=e.clientId)==null?void 0:r.trim(),p=(n=e.clientSecret)==null?void 0:n.trim(),g=(a=e.clientContext)==null?void 0:a.trim(),y=(s=e.cityId)==null?void 0:s.trim(),v=(l=e.zoneId)==null?void 0:l.trim();if(!f||!h||!p||!g||!y||!v)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const x=`${zc}/functions/v1/carrybee-areas`,w=await fetch(x,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${qc}`},body:JSON.stringify({baseUrl:f,clientId:h,clientSecret:p,clientContext:g,cityId:y,zoneId:v})});if(!w.ok)return console.error("[supabaseQueries] Areas Edge Function error:",w.status),[];const _=await w.json();return _.error||!((d=_.data)!=null&&d.areas)?(console.error("[supabaseQueries] Areas Edge Function returned error:",_.error),[]):_.data.areas.map(N=>({id:N.id,name:N.name}))}catch(f){return console.error("[supabaseQueries] fetchCarryBeeAreas exception:",f instanceof Error?f.message:f),[]}}async function y8(e){var t,r,n,a;try{const s=(t=e.baseUrl)==null?void 0:t.trim(),l=(r=e.clientId)==null?void 0:r.trim(),d=(n=e.clientSecret)==null?void 0:n.trim(),f=(a=e.clientContext)==null?void 0:a.trim();if(!s||!l||!d||!f||!e.storeId)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),{error:"Missing required parameters"};console.log("[supabaseQueries] Calling Edge Function to submit CarryBee order");const h=`${zc}/functions/v1/carrybee-submit-order`,p=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${qc}`},body:JSON.stringify({baseUrl:s,clientId:l,clientSecret:d,clientContext:f,storeId:e.storeId,deliveryType:e.deliveryType,productType:e.productType,recipientPhone:e.recipientPhone,recipientName:e.recipientName,recipientAddress:e.recipientAddress,cityId:e.cityId,zoneId:e.zoneId,areaId:e.areaId,itemWeight:e.itemWeight,collectableAmount:e.collectableAmount})});if(console.log("[supabaseQueries] Submit Order Edge Function response status:",p.status),!p.ok)return console.error("[supabaseQueries] Submit Order Edge Function error:",p.status),{error:`HTTP ${p.status}`};const g=await p.json();return console.log("[supabaseQueries] Submit Order response:",g),g.error?(console.error("[supabaseQueries] Edge Function returned error:",g.error),{error:g.error}):(console.log("[supabaseQueries] Successfully submitted order to CarryBee"),g.data)}catch(s){return console.error("[supabaseQueries] submitCarryBeeOrder exception:",s instanceof Error?s.message:s),{error:s instanceof Error?s.message:"Unknown error"}}}async function v8(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),d=(r=e.apiKey)==null?void 0:r.trim(),f=(n=e.secretKey)==null?void 0:n.trim();if(console.log("[supabaseQueries] ======== BEFORE TRIM ========"),console.log("[supabaseQueries] baseUrl (raw):",JSON.stringify(e.baseUrl)),console.log("[supabaseQueries] apiKey (raw):",JSON.stringify((a=e.apiKey)==null?void 0:a.substring(0,5))),console.log("[supabaseQueries] secretKey (raw):",JSON.stringify((s=e.secretKey)==null?void 0:s.substring(0,5))),console.log("[supabaseQueries] ======== AFTER TRIM ========"),console.log("[supabaseQueries] baseUrl (trimmed):",JSON.stringify(l)),console.log("[supabaseQueries] apiKey (trimmed):",JSON.stringify(d==null?void 0:d.substring(0,5))),console.log("[supabaseQueries] secretKey (trimmed):",JSON.stringify(f==null?void 0:f.substring(0,5))),!l||!d||!f||!e.invoice||!e.recipientName||!e.recipientPhone||!e.recipientAddress||e.codAmount===void 0)return console.warn("[supabaseQueries] Steadfast API parameters incomplete"),console.warn("[supabaseQueries] Validation:",{baseUrl:!!l,apiKey:!!d,secretKey:!!f,invoice:!!e.invoice,recipientName:!!e.recipientName,recipientPhone:!!e.recipientPhone,recipientAddress:!!e.recipientAddress,codAmount:e.codAmount!==void 0}),{error:"Missing required parameters"};console.log("[supabaseQueries] ======== CALLING EDGE FUNCTION ========");const h=`${zc}/functions/v1/steadfast-submit-order`;console.log("[supabaseQueries] Edge Function URL:",h);const p={baseUrl:l,apiKey:d,secretKey:f,invoice:e.invoice,recipientName:e.recipientName,recipientPhone:e.recipientPhone,recipientAddress:e.recipientAddress,codAmount:e.codAmount};console.log("[supabaseQueries] Payload being sent:",{baseUrl:l,apiKey:`${d.substring(0,5)}...`,secretKey:`${f.substring(0,5)}...`,invoice:p.invoice,recipientName:p.recipientName,recipientPhone:p.recipientPhone,recipientAddress:p.recipientAddress,codAmount:p.codAmount});const g=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${qc}`},body:JSON.stringify(p)});if(console.log("[supabaseQueries] Submit Steadfast Order Edge Function response status:",g.status),!g.ok)return console.error("[supabaseQueries] Submit Steadfast Order Edge Function error:",g.status),{error:`HTTP ${g.status}`};const y=await g.json();if(console.log("[supabaseQueries] Submit Steadfast Order response:",y),y.error){const v=y.details?`${y.error}: ${y.details}`:y.error;return console.error("[supabaseQueries] Edge Function returned error:",v),{error:v}}return console.log("[supabaseQueries] Successfully submitted order to Steadfast"),y.data}catch(l){return console.error("[supabaseQueries] submitSteadfastOrder exception:",l instanceof Error?l.message:l),{error:l instanceof Error?l.message:"Unknown error"}}}async function b8(e){await Zr();try{const[t,r,n,a,s]=await Promise.all([e.company?l8(e.company):Xd(),e.order?c8(e.order):Gw(),e.invoice?u8(e.invoice):Yw(),e.defaults?d8(e.defaults):Ww(),e.courier?f8(e.courier):Xw()]);return{company:t,order:r,invoice:n,defaults:a,courier:s}}catch(t){throw console.error("[supabaseQueries] batchUpdateSettings error:",t),t}}const ND=j.createContext(void 0),x8=({children:e})=>{const[t,r]=j.useState(null),[n,a]=j.useState(!0),s=2500,l=Ue();console.log("[AuthProvider] Mounting - initializing context provider"),j.useEffect(()=>{let h=!0;return(async()=>{try{console.log("[Auth] Initializing - restoring session from localStorage...");const g=localStorage.getItem("currentUserId");if(!g){console.log("[Auth] No saved session - user is logged out"),h&&(r(null),Se.currentUser=null,Yu(),a(!1));return}console.log("[Auth] Found stored user ID, fetching full profile...");let y=0;const v=5,x=async()=>{try{const _=await Vw(g);if(_)return console.log("[Auth] Fetched user profile:",_.name),_}catch(_){if(console.warn("[Auth] Fetch attempt failed:",_),y<v)return y++,await new Promise(N=>setTimeout(N,s)),x()}return null},w=await x();if(h){if(w){r(w),Se.currentUser=w,Yu(),console.log("[Auth] Session restored:",w.name);try{l.prefetchQuery(["products"],()=>Ox(),{staleTime:900*1e3}).catch(()=>{}),l.prefetchQuery(["accounts"],()=>Sx(),{staleTime:900*1e3}).catch(()=>{})}catch{}}else console.warn("[Auth] Could not restore profile, clearing session"),r(null),Se.currentUser=null,localStorage.removeItem("currentUserId"),Yu();a(!1)}}catch(g){console.error("[Auth] Init error:",g),h&&(r(null),Se.currentUser=null,a(!1))}})(),()=>{h=!1}},[]);const d=async(h,p)=>{const g=h.includes("@")?h.split("@")[0]:h;console.log("[Auth] signIn called with phone:",g);try{const{user:y,error:v}=await Rq(g,p);if(v||!y)return console.error("[Auth] signIn failed:",v),{error:{message:v||"Login failed"}};console.log("[Auth] signIn successful for:",y.phone),r(y),Se.currentUser=y,Yu(),localStorage.setItem("currentUserId",y.id),localStorage.setItem("isLoggedIn","true"),a(!1),window.dispatchEvent(new Event("authChange")),console.log("[Auth] User logged in:",y.name);try{l.prefetchQuery(["products"],()=>Ox(),{staleTime:900*1e3}).catch(()=>{}),l.prefetchQuery(["accounts"],()=>Sx(),{staleTime:900*1e3}).catch(()=>{})}catch{}return{data:{user:y},error:null}}catch(y){return console.error("[Auth] signIn exception:",(y==null?void 0:y.message)||y),{error:{message:(y==null?void 0:y.message)||"Login failed"}}}},f=async()=>{console.log("[Auth] signOut called"),r(null),Se.currentUser=null,Yu(),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("currentUserId"),localStorage.removeItem("userProfile"),localStorage.removeItem("userData"),localStorage.removeItem("currentUser"),window.dispatchEvent(new Event("authChange")),console.log("[Auth] signOut completed")};return console.log("[AuthProvider] Rendering with state:",{userName:t==null?void 0:t.name,isLoading:n}),c.jsx(ND.Provider,{value:{user:t,isLoading:n,signIn:d,signOut:f},children:e})};function _a(){const e=j.useContext(ND);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const OD=j.createContext(void 0),w8=({children:e})=>{const[t,r]=j.useState([]),n=j.useCallback((l,d,f=3500)=>{const h=`toast-${Date.now()}-${Math.random()}`,p={id:h,message:l,type:d,duration:f};return r(g=>[...g,p]),f>0&&setTimeout(()=>{a(h)},f),h},[]),a=j.useCallback(l=>{r(d=>d.filter(f=>f.id!==l))},[]),s=j.useCallback((l,d,f,h=3500)=>{r(p=>{const g=p.map(y=>y.id===l?{...y,message:d,type:f,duration:h}:y);return h>0&&setTimeout(()=>{a(l)},h),g})},[a]);return c.jsx(OD.Provider,{value:{toasts:t,showToast:n,dismissToast:a,updateToast:s},children:e})},ED=()=>{const e=j.useContext(OD);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Vr=()=>{const{showToast:e,updateToast:t}=ED();return{success:r=>e(r,"success",3500),error:r=>e(r,"error",4500),warning:r=>e(r,"warning",3500),info:r=>e(r,"info",3500),loading:r=>e(r,"info",0),update:(r,n,a="success")=>t(r,n,a,3500)}},AD=j.createContext(void 0),j8=({children:e})=>{const[t,r]=j.useState(""),n=()=>r("");return c.jsx(AD.Provider,{value:{searchQuery:t,setSearchQuery:r,clearSearch:n},children:e})},Va=()=>{const e=j.useContext(AD);if(!e)throw new Error("useSearch must be used within a SearchProvider");return e},S8=j.createContext(void 0),_8=({children:e})=>{const t=Ue(),[r,n]=Ze.useState(!1);return j.useEffect(()=>{console.log("[Realtime] Initializing subscriptions for orders, bills, transactions...");const a=be.channel("public:orders",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"orders"},f=>{var h,p;if(console.log("[Realtime] Orders change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["orders"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["orders"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["orders"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["orders"],(g=[])=>g.filter(y=>y.id!==f.new.id));t.invalidateQueries({queryKey:["ordersByCustomerId"]}),(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["order",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?(console.log("[Realtime] Orders channel subscribed"),n(!0)):f==="CHANNEL_ERROR"&&h&&(console.error("[Realtime] Orders channel error:",h),n(!1))}),s=be.channel("public:bills",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"bills"},f=>{var h,p;if(console.log("[Realtime] Bills change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["bills"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["bills"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["bills"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["bills"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["bill",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Bills channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Bills channel error:",h)}),l=be.channel("public:transactions",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"transactions"},f=>{var h,p;if(console.log("[Realtime] Transactions change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["transactions"])||[];if(!g.find(y=>y.id===f.new.id)){const y=[f.new,...g].sort((v,x)=>{const w=new Date(v.date||v.createdAt||0).getTime();return new Date(x.date||x.createdAt||0).getTime()-w});t.setQueryData(["transactions"],y)}}else f.eventType==="UPDATE"?t.setQueryData(["transactions"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["transactions"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["transaction",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Transactions channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Transactions channel error:",h)}),d=be.channel("public:accounts",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"accounts"},f=>{var h,p;if(console.log("[Realtime] Accounts change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["accounts"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["accounts"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["accounts"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["accounts"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["account",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Accounts channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Accounts channel error:",h)});return()=>{console.log("[Realtime] Cleaning up all subscriptions"),be.removeChannel(a),be.removeChannel(s),be.removeChannel(l),be.removeChannel(d),n(!1)}},[t]),c.jsx(S8.Provider,{value:{isConnected:r},children:e})},CD=j.createContext(void 0),N8=({children:e})=>{const t=Ue(),[r,n]=j.useState(navigator.onLine),[a,s]=j.useState(!1);return j.useEffect(()=>{console.log("[Network] Provider initialized - initial online status:",navigator.onLine);const l=()=>{console.log("[Network] Connection restored - refetching all queries"),n(!0),s(!0),t.refetchQueries()},d=()=>{console.log("[Network] Connection lost - offline mode activated"),n(!1)};return window.addEventListener("online",l),window.addEventListener("offline",d),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",d)}},[t]),c.jsx(CD.Provider,{value:{isOnline:r,wasOffline:a},children:e})};function O8(){const e=j.useContext(CD);if(!e)throw new Error("useNetwork must be used within NetworkProvider");return e}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=e=>{const t=A8(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...d},f)=>j.createElement("svg",{ref:f,...C8,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:kD("lucide",a),...!s&&!k8(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>j.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=(e,t)=>{const r=j.forwardRef(({className:n,...a},s)=>j.createElement(P8,{ref:s,iconNode:t,className:kD(`lucide-${E8(iA(e))}`,`lucide-${e}`,n),...a}));return r.displayName=iA(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],D8=zt("arrow-right-left",T8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],sA=zt("briefcase",M8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],I8=zt("chart-column",R8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],B8=zt("check",L8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],U8=zt("chevron-right",$8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],q8=zt("circle-alert",z8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],K8=zt("circle-plus",F8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],H8=zt("copy",Q8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],G8=zt("credit-card",V8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],W8=zt("download",Y8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],J8=zt("ellipsis-vertical",X8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],e9=zt("info",Z8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],r9=zt("layout-dashboard",t9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],a9=zt("log-out",n9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M5 12h14",key:"1ays0h"}]],s9=zt("minus",i9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],l9=zt("package",o9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],u9=zt("plus",c9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],f9=zt("printer",d9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],m9=zt("search",h9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],g9=zt("settings",p9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],v9=zt("shopping-cart",y9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],x9=zt("square-pen",b9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],j9=zt("trash-2",w9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],_9=zt("truck",S9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oA=zt("users",N9),ae={Dashboard:c.jsx(r9,{size:20}),Sales:c.jsx(v9,{size:20}),Products:c.jsx(l9,{size:20}),Customers:c.jsx(oA,{size:20}),Vendors:c.jsx(sA,{size:20}),Users:c.jsx(oA,{size:20}),Briefcase:c.jsx(sA,{size:20}),Banking:c.jsx(G8,{size:20}),Reports:c.jsx(I8,{size:20}),Settings:c.jsx(g9,{size:20}),Courier:c.jsx(_9,{size:20}),Plus:c.jsx(u9,{size:20}),Minus:c.jsx(s9,{size:20}),PlusCircle:c.jsx(K8,{size:20}),LogOut:c.jsx(a9,{size:20}),ChevronRight:c.jsx(U8,{size:20}),Search:c.jsx(m9,{size:18}),More:c.jsx(J8,{size:18}),Print:c.jsx(f9,{size:18}),Download:c.jsx(W8,{size:18}),Duplicate:c.jsx(H8,{size:18}),Edit:c.jsx(x9,{size:18}),Delete:c.jsx(j9,{size:18}),Transfer:c.jsx(D8,{size:18}),Check:c.jsx(B8,{size:20}),AlertCircle:c.jsx(q8,{size:20}),Info:c.jsx(e9,{size:20})},we=e=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0,maximumFractionDigits:0}).format(e).replace("BDT",""),Ip=e=>({ON_HOLD:"bg-gray-100 text-gray-600",PROCESSING:"bg-blue-100 text-blue-600",PICKED:"bg-purple-100 text-purple-600",COMPLETED:"bg-green-100 text-green-600",CANCELLED:"bg-red-100 text-red-600",RECEIVED:"bg-green-100 text-green-600","On Hold":"bg-gray-100 text-gray-600",Processing:"bg-blue-100 text-blue-600",Picked:"bg-purple-100 text-purple-600",Completed:"bg-green-100 text-green-600",Cancelled:"bg-red-100 text-red-600",Received:"bg-green-100 text-green-600"})[e]||"bg-gray-100 text-gray-600";var Ge=(e=>(e.ADMIN="Admin",e.EMPLOYEE="Employee",e))(Ge||{}),De=(e=>(e.ON_HOLD="On Hold",e.PROCESSING="Processing",e.PICKED="Picked",e.COMPLETED="Completed",e.CANCELLED="Cancelled",e))(De||{}),xn=(e=>(e.ON_HOLD="On Hold",e.PROCESSING="Processing",e.RECEIVED="Received",e.PAID="Paid",e))(xn||{});const oe={colors:{primary:{50:"bg-[#ebf4ff]",500:"bg-[#3c5a82]",600:"bg-[#0f2f57]",700:"bg-[#0c203b]",text:"text-[#0f2f57]"},secondary:{600:"bg-blue-600",700:"bg-blue-700"},danger:{50:"bg-red-50",600:"bg-red-600",700:"bg-red-700",text:"text-red-600"},bg:{primary:"bg-white",secondary:"bg-gray-50",tertiary:"bg-gray-100"},text:{primary:"text-gray-900",secondary:"text-gray-500",tertiary:"text-gray-400"},border:{primary:"border-gray-100"}},radius:{sm:"rounded-lg",md:"rounded-xl"},transitions:{normal:"transition-all duration-300"},buttons:{base:"inline-flex items-center justify-center gap-2 font-bold rounded-xl transition-all duration-300 cursor-pointer",secondary:"bg-gray-100 text-gray-600 hover:bg-gray-200",outline:"border-2 border-gray-200 text-gray-700 hover:bg-gray-50",sizes:{sm:"px-3 py-2 text-xs",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3.5 text-sm"}},inputs:{base:"w-full px-4 py-2.5 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] focus:border-transparent transition-all",label:"block text-sm font-semibold text-gray-700 mb-2",error:"border-red-500 focus:ring-red-500"},table:{header:"bg-gray-50 border-b border-gray-100"},card:{base:"bg-white rounded-2xl shadow-sm border border-gray-100 transition-all",elevated:"bg-white rounded-2xl shadow-md border border-gray-100"}},gs=({to:e,icon:t,label:r,active:n,onClick:a,children:s})=>{const[l,d]=j.useState(n);return s?c.jsxs("div",{className:"space-y-1",children:[c.jsxs("button",{onClick:()=>d(!l),className:`flex items-center justify-between w-full px-4 py-3 ${oe.radius.md} ${oe.transitions.normal} ${n?`${oe.colors.primary[50]} ${oe.colors.primary.text}`:`text-gray-500 hover:${oe.colors.primary[50]} hover:${oe.colors.primary.text}`}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[t,c.jsx("span",{className:"font-semibold text-sm",children:r})]}),c.jsx("div",{className:`transition-transform duration-200 ${l?"rotate-90":""}`,children:ae.ChevronRight})]}),l&&c.jsx("div",{className:"pl-11 space-y-1",children:s.map(f=>c.jsx(Ec,{to:f.to,onClick:a,className:`block px-4 py-2 text-sm font-medium ${oe.radius.sm} ${oe.transitions.normal} ${f.active?`${oe.colors.primary[600]} text-white`:`text-gray-400 hover:${oe.colors.primary.text} hover:${oe.colors.primary[50]}/30`}`,children:f.label},f.to))})]}):c.jsxs(Ec,{to:e||"#",onClick:a,className:`flex items-center gap-3 px-4 py-3 ${oe.radius.md} ${oe.transitions.normal} ${n?`${oe.colors.primary[600]} text-white shadow-lg shadow-emerald-200/50`:`text-gray-500 hover:${oe.colors.primary[50]} hover:${oe.colors.primary.text}`}`,children:[t,c.jsx("span",{className:"font-semibold text-sm",children:r})]})},ct=({children:e})=>{const t=Un(),r=Et(),{signOut:n,profile:a}=_a(),{searchQuery:s,setSearchQuery:l}=Va(),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,y]=j.useState(!1),[v,x]=j.useState({name:Se.settings.company.name,logo:Se.settings.company.logo}),w=a||Se.currentUser;if(j.useEffect(()=>{(async()=>{try{const E=await Xd();x(E)}catch(E){console.error("Failed to load company settings:",E)}})()},[]),Ze.useEffect(()=>{const O=document.querySelector("main");O&&(O.scrollTop=0);try{window.scrollTo(0,0)}catch{}},[t.pathname]),!w)return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block p-4",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),c.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading user data..."})]})});const _=async()=>{try{await n(),r("/login",{replace:!0})}catch(O){console.error("Logout failed:",O)}},N=O=>t.pathname===O||t.pathname.startsWith(O+"/");return c.jsxs("div",{className:`${oe.colors.bg.secondary} flex overflow-hidden`,style:{minHeight:"100vh"},children:[d&&c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40 lg:hidden",onClick:()=>f(!1)}),c.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 ${oe.colors.bg.primary} border-r ${oe.colors.border.primary} ${oe.transitions.normal} transform lg:sticky lg:top-0 lg:h-screen lg:translate-x-0 ${d?"translate-x-0":"-translate-x-full"}`,children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"p-8",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-1 ${oe.colors.primary[50]} rounded-[50%]`,children:v.logo&&c.jsx("img",{src:v.logo,alt:"Logo",className:"w-10 h-10 rounded-lg object-cover"})}),c.jsxs("div",{children:[c.jsx("h1",{className:`text-xl font-black ${oe.colors.text.primary} tracking-tight leading-none`,children:v.name}),c.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Management"})]})]})}),c.jsxs("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto",children:[c.jsx(gs,{to:"/dashboard",icon:ae.Dashboard,label:"Dashboard",active:N("/dashboard"),onClick:()=>f(!1)}),c.jsx(gs,{to:"/products",icon:ae.Products,label:"Products",active:N("/products"),onClick:()=>f(!1)}),c.jsx(gs,{icon:ae.Sales,label:"Sales",active:N("/orders")||N("/customers"),children:[{to:"/orders",label:"Orders",active:N("/orders")},{to:"/customers",label:"Customers",active:N("/customers")}],onClick:()=>f(!1)}),w.role===Ge.ADMIN&&c.jsxs(c.Fragment,{children:[c.jsx(gs,{icon:ae.Briefcase,label:"Purchases",active:N("/bills")||N("/vendors"),children:[{to:"/bills",label:"Bills",active:N("/bills")},{to:"/vendors",label:"Vendors",active:N("/vendors")}],onClick:()=>f(!1)}),c.jsx(gs,{icon:ae.Banking,label:"Banking",active:N("/banking"),children:[{to:"/banking/accounts",label:"Accounts",active:N("/banking/accounts")},{to:"/banking/transactions",label:"Transactions",active:N("/banking/transactions")},{to:"/banking/transfer",label:"Transfer",active:N("/banking/transfer")}],onClick:()=>f(!1)})]}),w.role===Ge.ADMIN&&c.jsxs(c.Fragment,{children:[c.jsx(gs,{to:"/reports",icon:ae.Reports,label:"Reports",active:N("/reports"),onClick:()=>f(!1)}),c.jsx(gs,{to:"/users",icon:ae.Users,label:"Users",active:N("/users"),onClick:()=>f(!1)}),c.jsx(gs,{to:"/settings",icon:ae.Settings,label:"Settings",active:N("/settings"),onClick:()=>f(!1)})]})]})]})}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[c.jsxs("header",{className:`flex-shrink-0 sticky top-0 z-40 ${oe.colors.bg.primary}/80 backdrop-blur-lg border-b ${oe.colors.border.primary} px-6 h-20 flex items-center justify-between`,children:[c.jsx("button",{onClick:()=>f(!0),className:`lg:hidden p-2.5 hover:${oe.colors.bg.tertiary} ${oe.radius.md} ${oe.colors.text.secondary} border ${oe.colors.border.primary}`,children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),c.jsxs("div",{className:"flex-1 max-w-xl mx-4 relative group hidden sm:block",children:[c.jsx("div",{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-300 group-focus-within:${oe.colors.primary.text} ${oe.transitions.normal}`,children:ae.Search}),c.jsx("input",{type:"text",placeholder:"Search orders, invoices, or customers...",value:s,onChange:O=>l(O.target.value),className:`block w-full pl-11 pr-4 py-2.5 ${oe.colors.bg.secondary} border-transparent focus:${oe.colors.bg.primary} focus:ring-2 focus:ring-[#3c5a82] focus:border-transparent ${oe.radius.md} text-sm ${oe.transitions.normal}`})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>p(!h),className:`${oe.colors.primary[600]} text-white w-10 h-10 flex items-center justify-center ${oe.radius.md} hover:${oe.colors.primary[700]} ${oe.transitions.normal} shadow-lg shadow-[#0f2f57]/20 active:scale-95`,children:ae.Plus}),h&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>p(!1)}),c.jsxs("div",{className:`absolute right-0 mt-3 w-56 ${oe.colors.bg.primary} border ${oe.colors.border.primary} rounded-2xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in slide-in-from-top-2 duration-200 origin-top-right`,children:[c.jsx("div",{className:`px-4 py-2 text-[10px] font-bold ${oe.colors.text.tertiary} uppercase tracking-widest border-b ${oe.colors.border.primary} mb-1`,children:"Quick Actions"}),w.role===Ge.EMPLOYEE?[{label:"New Order",to:"/orders/new",icon:ae.Sales},{label:"New Customer",to:"/customers/new",icon:ae.Customers}].map(O=>c.jsxs(Ec,{to:O.to,onClick:()=>p(!1),className:`flex items-center gap-3 px-4 py-3 text-sm font-bold ${oe.colors.text.primary} hover:${oe.colors.primary[50]} hover:${oe.colors.primary.text} ${oe.transitions.normal}`,children:[c.jsx("span",{className:"opacity-70",children:O.icon}),O.label]},O.label)):[{label:"New Order",to:"/orders/new",icon:ae.Sales},{label:"New Bill",to:"/bills/new",icon:ae.Briefcase},{label:"New Customer",to:"/customers/new",icon:ae.Customers},{label:"New Vendor",to:"/vendors/new",icon:ae.Vendors},{label:"Add Income",to:"/transactions/new/income",icon:ae.PlusCircle},{label:"Add Expense",to:"/transactions/new/expense",icon:ae.Delete}].map(O=>c.jsxs(Ec,{to:O.to,onClick:()=>p(!1),className:`flex items-center gap-3 px-4 py-3 text-sm font-bold ${oe.colors.text.primary} hover:${oe.colors.primary[50]} hover:${oe.colors.primary.text} ${oe.transitions.normal}`,children:[c.jsx("span",{className:"opacity-70",children:O.icon}),O.label]},O.label))]})]})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>y(!g),className:`flex items-center gap-3 pl-4 border-l ${oe.colors.border.primary} hover:opacity-70 ${oe.transitions.normal}`,children:[c.jsxs("div",{className:"text-right hidden md:block",children:[c.jsx("p",{className:`text-sm font-black ${oe.colors.text.primary} leading-none`,children:w.name}),c.jsx("p",{className:`text-[10px] font-bold ${oe.colors.primary.text} uppercase tracking-widest mt-1`,children:w.role})]}),c.jsx("img",{src:w.image||`https://ui-avatars.com/api/?name=${w.name}&background=0f2f57&color=fff`,alt:"Profile",className:"w-10 h-10 rounded-[50%] object-cover cursor-pointer"})]}),g&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>y(!1)}),c.jsxs("div",{className:`absolute right-0 mt-3 w-48 ${oe.colors.bg.primary} border ${oe.colors.border.primary} rounded-xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in slide-in-from-top-2 duration-200 origin-top-right`,children:[c.jsxs("button",{onClick:()=>{r(`/users/${w.id}`),y(!1)},className:`flex items-center gap-3 w-full px-4 py-3 text-sm font-bold ${oe.colors.primary.text} hover:${oe.colors.primary[50]} ${oe.transitions.normal}`,children:[ae.Users,"Profile"]}),c.jsxs("button",{onClick:()=>{_(),y(!1)},className:`flex items-center gap-3 w-full px-4 py-3 text-sm font-bold ${oe.colors.danger.text} hover:${oe.colors.danger[50]} ${oe.transitions.normal}`,children:[ae.LogOut,"Logout"]})]})]})]})]})]}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-6 lg:p-10 animate-in fade-in duration-500 relative",children:[e,c.jsxs("footer",{className:`mt-20 py-8 border-t ${oe.colors.border.primary} flex flex-col items-center gap-2`,children:[c.jsxs("p",{className:`text-sm font-medium ${oe.colors.text.secondary}`,children:[" ",new Date().getFullYear()," ",v.name,". All rights reserved."]}),c.jsxs("a",{href:"https://sajedurrahmanfiad.me",target:"_blank",rel:"noreferrer",className:`group flex items-center gap-1.5 text-[11px] font-bold ${oe.colors.text.secondary} hover:${oe.colors.primary.text} ${oe.transitions.normal} uppercase tracking-widest`,children:["Developed by ",c.jsx("span",{className:`${oe.colors.text.secondary} group-hover:${oe.colors.primary.text} underline underline-offset-4 decoration-[#0f2f57]/20`,children:"Md Sajedur Rahman Fiad"})]})]})]})]})]})},O9=()=>{const{toasts:e,dismissToast:t}=ED(),r=n=>{switch(n){case"success":return{icon:ae.Check,bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon_color:"text-green-600"};case"error":return{icon:ae.AlertCircle,bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon_color:"text-red-600"};case"warning":return{icon:ae.AlertCircle,bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon_color:"text-yellow-600"};case"info":return{icon:ae.Info,bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon_color:"text-blue-600"};default:return{icon:ae.Info,bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-800",icon_color:"text-gray-600"}}};return c.jsx("div",{className:"fixed bottom-6 right-6 z-[9999] flex flex-col gap-3",children:e.map(n=>{const{icon:a,bg:s,border:l,text:d,icon_color:f}=r(n.type);return c.jsxs("div",{className:`${s} ${l} border rounded-lg p-4 shadow-md flex items-start gap-3 min-w-[320px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300`,children:[c.jsx("div",{className:`${f} flex-shrink-0 mt-0.5`,children:a}),c.jsx("div",{className:`${d} flex-1 text-sm font-medium`,children:n.message}),c.jsx("button",{onClick:()=>t(n.id),className:`${f} flex-shrink-0 hover:opacity-70 transition-opacity`,children:c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},n.id)})})},E9=()=>{const{isOnline:e}=O8(),[t,r]=j.useState(!1);return j.useEffect(()=>{if(!e)r(!0);else{const n=setTimeout(()=>{r(!1)},2e3);return()=>clearTimeout(n)}},[e]),t?c.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-red-50 border-b-2 shadow-lg transition-all duration-300",style:{borderColor:e?"#10b981":"#ef4444",backgroundColor:e?"#ecfdf5":"#fee2e2"},children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsx("div",{className:`text-xl ${e?"text-green-600":"text-red-600"}`,children:e?"":""}),c.jsxs("div",{children:[c.jsx("p",{className:`font-bold ${e?"text-green-900":"text-red-900"}`,children:e?"Connection Restored":"No Internet Connection"}),c.jsx("p",{className:`text-sm ${e?"text-green-700":"text-red-700"}`,children:e?"Data is syncing with the server":"Your changes will be saved when connection is restored"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[!e&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-pulse w-2 h-2 rounded-full bg-red-500"}),c.jsx("span",{className:"text-xs font-medium text-red-600",children:"Waiting for connection..."})]}),e&&c.jsx("span",{className:"text-xs font-medium text-green-600",children:"Syncing..."})]})]})}):null},A9=()=>{const e=Et(),{signIn:t,isLoading:r,user:n,profile:a}=_a(),[s,l]=j.useState(""),[d,f]=j.useState(""),[h,p]=j.useState(!1),[g,y]=j.useState(""),[v,x]=j.useState(!1),[w,_]=j.useState({name:"BD Hatbela",logo:Se.settings.company.logo});j.useEffect(()=>{console.log("[Login] Checking redirect - isLoading:",r,"authenticated:",!!n),!r&&n&&(console.log("[Login] User authenticated, navigating to dashboard"),e("/dashboard",{replace:!0}))},[n,r,e]),j.useEffect(()=>{(async()=>{try{const E=await Xd();_({name:"BD Hatbela",logo:E.logo||Se.settings.company.logo})}catch(E){console.error("Failed to load company settings:",E),_({name:"BD Hatbela",logo:Se.settings.company.logo})}})()},[]);const N=async O=>{var E,C;O.preventDefault(),y(""),x(!0),console.log("[Login] Form submitted with phone:",s);try{console.log("[Login] Calling signIn...");const{error:T,data:P}=await t(s,d);if(T){console.error("[Login] Sign-in error:",T);const M=(T==null?void 0:T.message)||"Authentication failed";y(M),x(!1);return}if(console.log("[Login] Sign-in successful, user:",(E=P==null?void 0:P.user)==null?void 0:E.email),!(P!=null&&P.profileLoaded)){console.error("[Login] Sign-in succeeded but profile not loaded"),y(((C=P==null?void 0:P.error)==null?void 0:C.message)||"Failed to load user profile. Please try again or contact administrator."),x(!1);return}console.log("[Login] Profile loaded, waiting for state to propagate...")}catch(T){console.error("[Login] Sign-in exception:",T),y((T==null?void 0:T.message)||"Failed to sign in"),x(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[w.logo&&c.jsx("img",{src:w.logo,alt:"Logo",className:"w-12 h-12 rounded-md object-cover"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold",children:w.name}),c.jsx("p",{className:"text-sm text-gray-500",children:"Sign in to continue"})]})]}),c.jsxs("form",{onSubmit:N,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),c.jsx("input",{value:s,onChange:O=>l(O.target.value),type:"tel",placeholder:"017XXXXXXXX",required:!0,disabled:v,className:"mt-1 block w-full border rounded px-3 py-2 focus:outline-none focus:ring disabled:opacity-50"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{value:d,onChange:O=>f(O.target.value),type:h?"text":"password",required:!0,disabled:v,className:"mt-1 block w-full border rounded px-3 py-2 pr-10 focus:outline-none focus:ring disabled:opacity-50"}),c.jsx("button",{type:"button",onClick:()=>p(!h),disabled:v,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 disabled:opacity-50",children:h?c.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),c.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-14-14zM10 4C6.687 4 3.89 5.945 2.58 8.808c-.35.915-.35 2.468 0 3.384.74 1.94 2.08 3.61 3.756 4.7l1.83-1.83A3.992 3.992 0 016 10a4 4 0 016.956-3.533l1.416-1.416C14.225 4.523 12.15 4 10 4zm7.42 3.192c.35.915.35 2.468 0 3.384C15.26 13.055 12.463 15 9 15a6.966 6.966 0 01-3.15-.744l2.119-2.119A3.992 3.992 0 0114 10c0-.901-.281-1.735-.743-2.434l2.163-2.174z",clipRule:"evenodd"})})})]})]}),g&&c.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-600 space-y-2",children:[c.jsx("p",{className:"font-semibold",children:"Error"}),c.jsx("p",{children:g instanceof Error?g.message:String(g)}),(g instanceof Error?g.message:String(g)).includes("Email confirmation")&&c.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-700 text-xs",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Quick Fix:"}),c.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[c.jsx("li",{children:"Go to Supabase Dashboard"}),c.jsx("li",{children:"Project  Authentication  Providers"}),c.jsx("li",{children:'Click "Email" tab'}),c.jsx("li",{children:'Toggle OFF "Confirm email"'}),c.jsx("li",{children:"Save settings"}),c.jsx("li",{children:"Try logging in again"})]})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:v,className:"w-full bg-blue-600 text-white py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed font-medium hover:bg-blue-700 transition-colors",children:v?"Signing in...":"Sign In"})})]})]})})},C9={primary:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},secondary:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},danger:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},warning:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},success:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},info:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},neutral:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},profit:{bg:"bg-gray-50",text:"text-black",icon:"text-black"}},fa=({title:e,value:t,icon:r,variant:n="primary",bgColor:a,textColor:s,iconBgColor:l,isProfitCard:d=!1,profitValue:f})=>{const h=C9[n];let p=a||"bg-white",g=s||h.text,y=l||h.bg,v="";return d&&f!==void 0&&!a&&(f>=0?(p="bg-emerald-500",g="text-white",y="bg-emerald-600"):(p="bg-red-500",g="text-white",y="bg-red-600")),c.jsxs("div",{className:`p-6 flex items-center gap-4 ${p} rounded-xl shadow-lg border border-gray-100 ${v}`,children:[c.jsx("div",{className:`${y} p-4 rounded-lg flex items-center justify-center`,children:c.jsx("div",{className:g,children:r})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:`text-xs font-bold uppercase tracking-widest ${g==="text-white"?"text-white/70":"text-gray-400"}`,children:e}),c.jsx("h3",{className:`text-2xl font-black mt-1 ${g}`,children:t})]})]})},Je=Ze.forwardRef(({variant:e="primary",size:t="md",children:r,icon:n,loading:a=!1,className:s="",...l},d)=>{const f={primary:`${oe.colors.primary[600]} text-white hover:${oe.colors.primary[700]} shadow-lg shadow-[#0f2f57]/20`,secondary:oe.buttons.secondary,danger:`${oe.colors.danger[600]} text-white hover:${oe.colors.danger[700]} shadow-lg`,outline:oe.buttons.outline,ghost:"text-gray-600 hover:bg-gray-50"},h={sm:oe.buttons.sizes.sm,md:oe.buttons.sizes.md,lg:oe.buttons.sizes.lg};return c.jsx("button",{ref:d,className:`${oe.buttons.base} ${f[e]} ${h[t]} ${a?"opacity-75 cursor-wait":""} ${s}`,disabled:a||l.disabled,...l,children:c.jsxs("span",{className:"flex items-center gap-2",children:[a&&c.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n&&!a&&c.jsx("span",{children:n}),r]})})});Je.displayName="Button";const k9={primary:`p-2.5 text-gray-400 hover:${oe.colors.primary[600]} hover:bg-[#ebf4ff] rounded-lg transition-all`,danger:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",secondary:`p-2.5 text-gray-400 hover:${oe.colors.secondary[600]} hover:bg-[#e6f0ff] rounded-lg transition-all`,neutral:"p-2.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-all"},Is=Ze.forwardRef(({variant:e="primary",icon:t,title:r,className:n="",...a},s)=>c.jsx("button",{ref:s,className:`${k9[e]} ${n}`,title:r,...a,children:t}));Is.displayName="IconButton";const Lp=({columns:e,rows:t=5})=>c.jsx(c.Fragment,{children:Array.from({length:t}).map((r,n)=>c.jsx("tr",{className:"border-b border-gray-50 animate-pulse",children:Array.from({length:e}).map((a,s)=>c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2"})]})},s))},n))}),Bp=({columns:e,data:t,emptyMessage:r="No data found",onRowClick:n,rowClassName:a,hover:s=!0,striped:l=!1,size:d="md",loading:f=!1,loadingRows:h=8})=>{const p={sm:"px-4 py-3",md:"px-6 py-5",lg:"px-6 py-6"}[d],g=s?"hover:bg-[#ebf4ff]/50 cursor-pointer transition-all":"",y=l?"odd:bg-gray-50":"";return c.jsx("div",{className:`${oe.card.base} overflow-visible`,children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsx("tr",{className:oe.table.header,children:e.map(v=>c.jsx("th",{className:`${p} text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ${v.align==="center"?"text-center":v.align==="right"?"text-right":""}`,style:v.width?{width:v.width}:void 0,children:v.label},v.key))})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:f?c.jsx(Lp,{columns:e.length,rows:h}):t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:e.length,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:r})}):t.map((v,x)=>c.jsx("tr",{onClick:()=>n==null?void 0:n(v,x),className:`
                    border-b border-gray-50 transition-all
                    ${g}
                    ${y}
                    ${(a==null?void 0:a(v,x))||""}
                  `,children:e.map(w=>c.jsx("td",{className:`${p} ${w.align==="center"?"text-center":w.align==="right"?"text-right":""}`,children:w.render?w.render(v[w.key],v,x):v[w.key]},w.key))},v.id||x))})]})})})},P9=Ze.forwardRef(({label:e,error:t,helperText:r,className:n="",...a},s)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:oe.inputs.label,children:e}),c.jsx("input",{ref:s,className:`${oe.inputs.base} ${t?oe.inputs.error:""} ${n}`,...a}),(t||r)&&c.jsx("p",{className:`mt-1 text-xs ${t?"text-red-500":"text-gray-500"}`,children:t||r})]}));P9.displayName="Input";const T9=Ze.forwardRef(({label:e,error:t,options:r,className:n="",...a},s)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:oe.inputs.label,children:e}),c.jsx("select",{ref:s,className:`${oe.inputs.base} ${t?oe.inputs.error:""} ${n}`,...a,children:r.map(l=>c.jsx("option",{value:l.value,children:l.label},l.value))}),t&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:t instanceof Error?t.message:String(t)})]}));T9.displayName="Select";const D9=Ze.forwardRef(({label:e,error:t,className:r="",...n},a)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:oe.inputs.label,children:e}),c.jsx("textarea",{ref:a,className:`${oe.inputs.base} resize-none ${t?oe.inputs.error:""} ${r}`,...n}),t&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:t instanceof Error?t.message:String(t)})]}));D9.displayName="TextArea";const Jd=({isLoading:e,message:t="Loading..."})=>e?c.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 flex items-center justify-center",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 flex flex-col items-center gap-4",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),c.jsx("p",{className:"text-gray-600 font-medium",children:t})]})}):null,jd=({filterRange:e,setFilterRange:t,customDates:r,setCustomDates:n,statusTab:a,setStatusTab:s,statusOptions:l=[],title:d})=>{const[f,h]=j.useState(!1),{searchQuery:p,setSearchQuery:g}=Va(),y=["All Time","Today","This Week","This Month","This Year","Custom"];return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[c.jsxs("div",{className:"hidden sm:flex flex-wrap items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl border border-gray-100 shadow-sm",children:[y.map(v=>c.jsx("button",{onClick:()=>t(v),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${e===v?`${oe.colors.primary[600]} text-white shadow-md`:"text-gray-500 hover:bg-gray-50"}`,children:v},v)),e==="Custom"&&c.jsxs("div",{className:"flex items-center gap-2 px-3 border-l border-gray-100 ml-1",children:[c.jsx("input",{type:"date",value:r.from,onChange:v=>n({...r,from:v.target.value}),className:"px-2 py-1 border rounded-lg text-[10px] font-bold bg-gray-50 outline-none focus:ring-2 focus:ring-[#3c5a82]"}),c.jsx("span",{className:"text-gray-300 text-[10px] font-black tracking-widest uppercase",children:"To"}),c.jsx("input",{type:"date",value:r.to,onChange:v=>n({...r,to:v.target.value}),className:"px-2 py-1 border rounded-lg text-[10px] font-bold bg-gray-50 outline-none focus:ring-2 focus:ring-[#3c5a82]"})]})]}),s&&l.length>0&&c.jsx("div",{className:"flex items-center gap-1 bg-gray-100/50 p-1 rounded-2xl border border-gray-100",children:["All",...l].map(v=>c.jsx("button",{onClick:()=>s(v),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${a===v?"bg-white text-gray-900 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:v},v))})]}),c.jsxs("button",{onClick:()=>h(!0),className:"sm:hidden flex items-center justify-center gap-2 bg-white border border-gray-200 text-gray-600 px-4 py-3 rounded-2xl font-bold shadow-sm w-full",children:[ae.Search,c.jsx("span",{className:"text-sm",children:"Filter & Period"}),e!=="All Time"&&c.jsx("div",{className:`w-2 h-2 rounded-full ${oe.colors.primary[500]} ml-1`})]})]}),f&&c.jsxs("div",{className:"fixed inset-0 z-[150] flex items-end justify-center",children:[c.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>h(!1)}),c.jsxs("div",{className:"bg-white w-full rounded-t-2xl p-8 z-[160] animate-in slide-in-from-bottom duration-300 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("h3",{className:"text-2xl font-black text-gray-900",children:["Filter ",d]}),c.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l18 18"})})})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Search"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"Search...",value:p,onChange:v=>g(v.target.value),className:"w-full px-4 py-3 pl-12 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"}),c.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:ae.Search})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Time Period"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:y.map(v=>c.jsx("button",{onClick:()=>t(v),className:`py-3 rounded-2xl text-xs font-bold transition-all border ${e===v?`${oe.colors.primary[600]} text-white border-[#0f2f57] shadow-lg`:"bg-white text-gray-500 border-gray-100 hover:bg-gray-50"}`,children:v},v))}),e==="Custom"&&c.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 animate-in fade-in duration-200",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-2",children:"From"}),c.jsx("input",{type:"date",value:r.from,onChange:v=>n({...r,from:v.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-2",children:"To"}),c.jsx("input",{type:"date",value:r.to,onChange:v=>n({...r,to:v.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"})]})]})]}),s&&l.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Status Filter"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:["All",...l].map(v=>c.jsx("button",{onClick:()=>s(v),className:`py-3 rounded-2xl text-xs font-bold transition-all border ${a===v?"bg-gray-900 text-white border-gray-900 shadow-lg":"bg-white text-gray-500 border-gray-100"}`,children:v},v))})]}),c.jsx("button",{onClick:()=>h(!1),className:`w-full py-5 ${oe.colors.primary[600]} text-white rounded-xl font-black text-lg shadow-xl active:scale-95 transition-all mt-4`,children:"Apply Filters"})]})]})]})]})},Jw=({isOpen:e,onClose:t,onSubmit:r,accounts:n,paymentForm:a,setPaymentForm:s,isLoading:l,title:d="Record Payment",buttonText:f="Add Payment"})=>e?c.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm",onClick:t}),c.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] p-10 z-[210] animate-in zoom-in-95 duration-200 border border-[#ebf4ff]",children:[c.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-8",children:d}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Payment Date"}),c.jsx("input",{type:"date",value:a.date,onChange:h=>s({...a,date:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Payment Time"}),c.jsx("input",{type:"time",value:a.time,onChange:h=>s({...a,time:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Select Account"}),c.jsxs("select",{value:a.accountId,onChange:h=>s({...a,accountId:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50",children:[c.jsx("option",{value:"",children:"Select an account..."}),n.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",we(h.currentBalance),")"]},h.id))]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Amount (BDT)"}),c.jsx("input",{type:"number",value:a.amount,onChange:h=>s({...a,amount:parseFloat(h.target.value)||0}),disabled:l,className:`w-full px-6 py-4 bg-[#ebf4ff] border-2 border-[#c7dff5] rounded-lg font-black ${oe.colors.primary[600]} text-xl outline-none disabled:opacity-50`})]}),c.jsxs("div",{className:"pt-6 flex gap-4",children:[c.jsx(Je,{onClick:t,variant:"ghost",disabled:l,children:"Cancel"}),c.jsx(Je,{onClick:r,variant:"primary",size:"md",className:"flex-1",disabled:l,loading:l,children:f})]})]})]})]}):null;function M9(){return nt({queryKey:["customers"],queryFn:bD,staleTime:300*1e3})}function R9(e=1,t=xt,r){return nt({queryKey:["customers",e,t,r],queryFn:()=>_x(e,t,r),placeholderData:n=>n,staleTime:300*1e3})}function $p(e){return nt({queryKey:["customer",e],queryFn:()=>Rp(e||""),enabled:!!e&&!(e||"").startsWith("temp-"),staleTime:300*1e3})}function Up(){return nt({queryKey:["orders"],queryFn:bq,staleTime:300*1e3})}function I9(e=1,t=xt,r){return nt({queryKey:["orders",e,t,r],queryFn:()=>xq(e,t,r),placeholderData:n=>n,staleTime:300*1e3})}function Zw(e){return nt({queryKey:["order",e],queryFn:()=>wq(e||""),enabled:!!e,staleTime:300*1e3})}function L9(e){return nt({queryKey:["ordersByCustomerId",e],queryFn:()=>jq(e||""),enabled:!!e,staleTime:300*1e3})}function zp(){return nt({queryKey:["bills"],queryFn:Uq,staleTime:300*1e3})}function B9(e=1,t=xt,r){return nt({queryKey:["bills",e,t,r],queryFn:()=>$q(e,t,r),placeholderData:n=>n,staleTime:300*1e3})}function PD(e){return nt({queryKey:["bill",e],queryFn:()=>zq(e||""),enabled:!!e,staleTime:300*1e3})}function zs(){return nt({queryKey:["accounts"],queryFn:Sx,staleTime:900*1e3})}function Zd(){return nt({queryKey:["transactions"],queryFn:Cq,staleTime:300*1e3})}function $9(e=1,t=xt,r){return nt({queryKey:["transactions",e,t,r],queryFn:()=>kq(e,t,r),placeholderData:n=>n,staleTime:300*1e3})}function Li(){return nt({queryKey:["users"],queryFn:Mq,staleTime:300*1e3})}function TD(e){return nt({queryKey:["user",e],queryFn:()=>Vw(e||""),enabled:!!e,staleTime:10*1e3,refetchOnWindowFocus:!0,refetchOnReconnect:!0})}function e1(){return nt({queryKey:["vendors"],queryFn:Qq,staleTime:300*1e3})}function U9(e=1,t=xt,r){return nt({queryKey:["vendors",e,t,r],queryFn:()=>Nx(e,t,r),placeholderData:n=>n,staleTime:300*1e3})}function DD(e){return nt({queryKey:["vendor",e],queryFn:()=>wD(e||""),enabled:!!e,staleTime:300*1e3})}function t1(e){return nt({queryKey:["products"],queryFn:()=>Ox(e),staleTime:900*1e3})}function z9(e=1,t=xt,r,n,a){const s={queryKey:["products",e,t,n,r,...a||[]],queryFn:()=>Dq(e,t,r,n,a),placeholderData:l=>l,staleTime:9e5,keepPreviousData:!0,refetchOnWindowFocus:!1};return nt(s)}function q9(e){return nt({queryKey:["product",e],queryFn:()=>Yq(e||""),enabled:!!e,staleTime:900*1e3})}function qs(e){return nt({queryKey:["categories",e],queryFn:()=>Zq(e),staleTime:3600*1e3})}function MD(e){return nt({queryKey:["paymentMethods",e],queryFn:()=>r8(e),staleTime:3600*1e3})}function F9(){return nt({queryKey:["units"],queryFn:i8,staleTime:3600*1e3})}function qp(){return nt({queryKey:["settings","company"],queryFn:Xd,staleTime:3600*1e3})}function Fp(){return nt({queryKey:["settings","order"],queryFn:Gw,staleTime:3600*1e3})}function Kp(){return nt({queryKey:["settings","invoice"],queryFn:Yw,staleTime:3600*1e3})}function Fs(){return nt({queryKey:["settings","defaults"],queryFn:Ww,staleTime:3600*1e3})}function r1(){return nt({queryKey:["settings","courier"],queryFn:Xw,staleTime:3600*1e3})}const K9=new Map,Q9=new Map;function RD(e="item"){return`__temp_${e}_${crypto.randomUUID()}__`}function n1(e,t){console.log(`[optimisticIdMap] Mapping ${e}  ${t}`),K9.set(e,t),Q9.set(t,e)}function a1(e){return typeof e=="string"&&e.startsWith("__temp_")}function H9(){const e=Ue();return wt({mutationFn:gq,onMutate:async t=>{await e.cancelQueries({queryKey:["customers"]});const r=e.getQueryData(["customers"]);if(r){const n=RD("customer"),a={...t,id:n};e.setQueryData(["customers"],[...r,a]);const s=e.getQueryData(["customers",1]);return s&&Array.isArray(s.data)&&e.setQueryData(["customers",1],{...s,data:[a,...s.data].slice(0,xt),count:(s.count||0)+1}),{previousCustomers:r,tempId:n,optimisticCustomer:a}}return{previousCustomers:r}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers)},onSuccess:async(t,r,n)=>{try{n!=null&&n.tempId&&n1(n.tempId,t.id)}catch{}e.setQueryData(["customer",t.id],t);try{const l=(e.getQueryData(["customers"])||[]||[]).filter(d=>!a1(String(d.id)));l.some(d=>d.id===t.id)?e.setQueryData(["customers"],l.map(d=>d.id===t.id?t:d)):e.setQueryData(["customers"],[t,...l])}catch{}e.getQueriesData({queryKey:["customers"]}).forEach(([s,l])=>{try{const d=s;if(d[1]!==1)return;if(l&&l.data&&Array.isArray(l.data)){const f=d[2];(()=>{if(!f)return!0;if(f.search){const p=String(f.search).trim().toLowerCase();if(p&&!(String(t.name||"")+" "+String(t.phone||"")+" "+String(t.address||"")).toLowerCase().includes(p))return!1}return!0})()&&e.setQueryData(s,{...l,data:[t,...l.data].slice(0,xt),count:l.count?l.count+1:1})}}catch{}})}})}function V9(){const e=Ue();return wt({mutationFn:({id:t,updates:r})=>yq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["customers"]}),await e.cancelQueries({queryKey:["customer",t]});const n=e.getQueryData(["customers"]),a=e.getQueryData(["customer",t]);return n&&e.setQueryData(["customers"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["customer",t],{...a,...r}),{previousCustomers:n,previousCustomer:a}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers),n!=null&&n.previousCustomer&&e.setQueryData(["customer",r.id],n.previousCustomer)},onSuccess:t=>{e.getQueriesData({queryKey:["customers"]}).forEach(([n,a])=>{try{a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:a.data.map(s=>s.id===t.id?t:s)})}catch{}}),e.setQueryData(["customer",t.id],t)}})}function G9(){const e=Ue();return wt({mutationFn:vq,onMutate:async t=>{await e.cancelQueries({queryKey:["customers"]});const r=e.getQueryData(["customers"]);return r&&e.setQueryData(["customers"],r.filter(n=>n.id!==t)),{previousCustomers:r}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers)},onSuccess:(t,r)=>{const n=e.getQueriesData({queryKey:["customers"]}),a=new Map;n.forEach(([l,d])=>{const f=l,h=f[1];if(typeof h!="number"||!Number.isInteger(h))return;const p=f[f.length-1];a.set(JSON.stringify([h,p]),{key:f,value:d})});const s=Array.from(a.keys()).sort((l,d)=>JSON.parse(l)[0]-JSON.parse(d)[0]);for(const l of s){const d=a.get(l);if(!d)continue;const{key:f,value:h}=d;try{if(h&&h.data&&Array.isArray(h.data)){const p=h.data.filter(w=>w.id!==r),g=f[1],y=f[f.length-1],v=JSON.stringify([g+1,y]),x=a.get(v);if(x&&x.value&&Array.isArray(x.value.data)&&x.value.data.length>0){const w=x.value.data[0];x.value.data=x.value.data.slice(1),p.push(w),e.setQueryData(x.key,{...x.value,data:x.value.data,count:Math.max(0,(x.value.count||1)-1)})}e.setQueryData(f,{...h,data:p,count:Math.max(0,(h.count||1)-1)})}}catch{}}}})}function Qp(){const e=Ue();return wt({mutationFn:Sq,onMutate:async t=>{await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["orders"])||[],n=RD("order"),a={...t,id:n,paidAmount:t.paidAmount||0};e.setQueryData(["orders"],[a,...r]);const s=e.getQueryData(["orders",1]);return s&&Array.isArray(s.data)&&e.setQueryData(["orders",1],{...s,data:[a,...s.data].slice(0,xt),count:(s.count||0)+1}),{previousOrders:r,optimisticOrder:a,tempId:n}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:async(t,r,n)=>{n!=null&&n.tempId&&n1(n.tempId,t.id),e.setQueryData(["order",t.id],t);const a=e.getQueriesData({queryKey:["orders"]});let s=!1;a.forEach(([l,d])=>{try{const f=l;if(f[1]!==1)return;if(d&&d.data&&Array.isArray(d.data)){const h=f[2];(()=>{if(!h)return!0;if(h.status&&h.status!=="All"&&t.status!==h.status||h.from&&t.orderDate<h.from||h.to&&t.orderDate>h.to)return!1;if(h.search){const g=String(h.search).trim().toLowerCase();if(g&&!String(t.orderNumber||"").toLowerCase().includes(g))return!1}return!(h.createdByIds&&Array.isArray(h.createdByIds)&&h.createdByIds.length>0&&!h.createdByIds.includes(t.createdBy))})()&&(e.setQueryData(l,{...d,data:[t,...d.data].slice(0,xt),count:d.count?d.count+1:1}),s=!0)}}catch{}});try{const l=e.getQueryData(["settings","order"]);l&&l.nextNumber&&e.setQueryData(["settings","order"],{...l,nextNumber:l.nextNumber+1})}catch(l){console.error("Failed to locally update order settings:",l)}}})}function ef(){const e=Ue();return wt({mutationFn:({id:t,updates:r})=>_q(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["orders"]}),await e.cancelQueries({queryKey:["order",t]}),await e.cancelQueries({queryKey:["ordersByCustomerId"]});const n=e.getQueryData(["orders"]),a=e.getQueryData(["order",t]);if(n&&e.setQueryData(["orders"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["order",t],{...a,...r}),a!=null&&a.customerId){const s=e.getQueryData(["ordersByCustomerId",a.customerId]);s&&e.setQueryData(["ordersByCustomerId",a.customerId],s.map(l=>l.id===t?{...l,...r}:l))}return{previousOrders:n,previousOrder:a}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders),n!=null&&n.previousOrder&&e.setQueryData(["order",r.id],n.previousOrder)},onSuccess:t=>{e.getQueriesData({queryKey:["orders"]}).forEach(([n,a])=>{try{a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:a.data.map(s=>s.id===t.id?t:s)})}catch{}}),e.setQueryData(["order",t.id],t)}})}function Y9(){const e=Ue();return wt({mutationFn:Nq,onMutate:async t=>{await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["orders"]);return r&&e.setQueryData(["orders"],r.filter(n=>n.id!==t)),{previousOrders:r}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:(t,r)=>{const n=e.getQueriesData({queryKey:["orders"]}),a=new Map;n.forEach(([l,d])=>{const f=l,h=f[1];if(typeof h!="number"||!Number.isInteger(h))return;const p=f[f.length-1],g=JSON.stringify([h,p]);a.set(g,{key:f,value:d})});const s=Array.from(a.keys()).sort((l,d)=>{const f=JSON.parse(l)[0],h=JSON.parse(d)[0];return f-h});for(const l of s){const d=a.get(l);if(!d)continue;const{key:f,value:h}=d;try{if(h&&h.data&&Array.isArray(h.data)){const p=h.data.filter(w=>w.id!==r),g=f[1],y=f[f.length-1],v=JSON.stringify([g+1,y]),x=a.get(v);if(x&&x.value&&Array.isArray(x.value.data)&&x.value.data.length>0){const w=x.value.data[0];x.value.data=x.value.data.slice(1),p.push(w),e.setQueryData(x.key,{...x.value,data:x.value.data,count:Math.max(0,(x.value.count||1)-1)})}e.setQueryData(f,{...h,data:p,count:Math.max(0,(h.count||1)-1)})}}catch{}}}})}function ID(){const e=Ue();return wt({mutationFn:qq,onMutate:async t=>{await e.cancelQueries({queryKey:["bills"]});const r=e.getQueryData(["bills"])||[],n={...t,id:`temp-${Date.now()}`,paidAmount:t.paidAmount||0};e.setQueryData(["bills"],[n,...r]);const a=e.getQueryData(["bills",1]);return a&&Array.isArray(a.data)&&e.setQueryData(["bills",1],{...a,data:[n,...a.data].slice(0,xt),count:(a.count||0)+1}),{previousBills:r,optimisticBill:n}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills)},onSuccess:async(t,r,n)=>{var s;try{(s=n==null?void 0:n.optimisticBill)!=null&&s.id&&n1(n.optimisticBill.id,t.id)}catch{}e.setQueryData(["bill",t.id],t);try{const d=(e.getQueryData(["bills"])||[]||[]).filter(f=>!String(f.id).startsWith("temp-"));d.some(f=>f.id===t.id)?e.setQueryData(["bills"],d.map(f=>f.id===t.id?t:f)):e.setQueryData(["bills"],[t,...d])}catch{}e.getQueriesData({queryKey:["bills"]}).forEach(([l,d])=>{try{if(l[1]!==1)return;d&&d.data&&Array.isArray(d.data)&&e.setQueryData(l,{...d,data:[t,...d.data].slice(0,xt),count:d.count?d.count+1:1})}catch{}})}})}function LD(){const e=Ue();return wt({mutationFn:({id:t,updates:r})=>Fq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["bills"]}),await e.cancelQueries({queryKey:["bill",t]});const n=e.getQueryData(["bills"]),a=e.getQueryData(["bill",t]);return n&&e.setQueryData(["bills"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["bill",t],{...a,...r}),{previousBills:n,previousBill:a}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills),n!=null&&n.previousBill&&e.setQueryData(["bill",r.id],n.previousBill)},onSuccess:t=>{e.getQueriesData({queryKey:["bills"]}).forEach(([n,a])=>{try{a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:a.data.map(s=>s.id===t.id?t:s)})}catch{}}),e.invalidateQueries({queryKey:["bill",t.id]})}})}function W9(){const e=Ue();return wt({mutationFn:Kq,onMutate:async t=>{await e.cancelQueries({queryKey:["bills"]});const r=e.getQueryData(["bills"]);return r&&e.setQueryData(["bills"],r.filter(n=>n.id!==t)),{previousBills:r}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills)},onSuccess:(t,r)=>{const n=e.getQueriesData({queryKey:["bills"]}),a=new Map;n.forEach(([l,d])=>{const f=l,h=f[1];if(typeof h!="number"||!Number.isInteger(h))return;const p=f[f.length-1];a.set(JSON.stringify([h,p]),{key:f,value:d})});const s=Array.from(a.keys()).sort((l,d)=>JSON.parse(l)[0]-JSON.parse(d)[0]);for(const l of s){const d=a.get(l);if(!d)continue;const{key:f,value:h}=d;try{if(h&&h.data&&Array.isArray(h.data)){const p=h.data.filter(w=>w.id!==r),g=f[1],y=f[f.length-1],v=JSON.stringify([g+1,y]),x=a.get(v);if(x&&x.value&&Array.isArray(x.value.data)&&x.value.data.length>0){const w=x.value.data[0];x.value.data=x.value.data.slice(1),p.push(w),e.setQueryData(x.key,{...x.value,data:x.value.data,count:Math.max(0,(x.value.count||1)-1)})}e.setQueryData(f,{...h,data:p,count:Math.max(0,(h.count||1)-1)})}}catch{}}}})}function X9(){const e=Ue();return wt({mutationFn:Oq,onMutate:async t=>{await e.cancelQueries({queryKey:["accounts"]});const r=e.getQueryData(["accounts"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["accounts"],[...r,n])}return{previousAccounts:r}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts)},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["accounts"]})}})}function tf(){const e=Ue();return wt({mutationFn:({id:t,updates:r})=>Eq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["accounts"]}),await e.cancelQueries({queryKey:["account",t]});const n=e.getQueryData(["accounts"]),a=e.getQueryData(["account",t]);return n&&e.setQueryData(["accounts"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["account",t],{...a,...r}),{previousAccounts:n,previousAccount:a}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts),n!=null&&n.previousAccount&&e.setQueryData(["account",r.id],n.previousAccount)},onSuccess:t=>{e.invalidateQueries({queryKey:["accounts"]}),e.invalidateQueries({queryKey:["account",t.id]})}})}function J9(){const e=Ue();return wt({mutationFn:Aq,onMutate:async t=>{await e.cancelQueries({queryKey:["accounts"]});const r=e.getQueryData(["accounts"]);return r&&e.setQueryData(["accounts"],r.filter(n=>n.id!==t)),{previousAccounts:r}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts)},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["accounts"]})}})}function rf(){const e=Ue();return wt({mutationFn:Pq,onMutate:async t=>{await e.cancelQueries({queryKey:["transactions"]}),await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["transactions"]),n=e.getQueryData(["orders"]);if(r){const a={...t,id:`temp-${Date.now()}`};e.setQueryData(["transactions"],[...r,a]);const s=e.getQueryData(["transactions",1]);s&&Array.isArray(s.data)&&e.setQueryData(["transactions",1],{...s,data:[a,...s.data].slice(0,xt),count:(s.count||0)+1})}return{previousTransactions:r,previousOrders:n}},onError:(t,r,n)=>{n!=null&&n.previousTransactions&&e.setQueryData(["transactions"],n.previousTransactions),n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:t=>{e.getQueriesData({queryKey:["transactions"]}).forEach(([n,a])=>{try{if(a&&a.data&&Array.isArray(a.data)){const s=[t,...a.data].slice(0,xt);e.setQueryData(n,{...a,data:s,count:a.count?a.count+1:1})}}catch{}})}})}function Z9(){const e=Ue();return wt({mutationFn:Tq,onMutate:async t=>{await e.cancelQueries({queryKey:["transactions"]});const r=e.getQueryData(["transactions"]);return r&&e.setQueryData(["transactions"],r.filter(n=>n.id!==t)),{previousTransactions:r}},onError:(t,r,n)=>{n!=null&&n.previousTransactions&&e.setQueryData(["transactions"],n.previousTransactions)},onSuccess:(t,r)=>{const n=e.getQueriesData({queryKey:["transactions"]}),a=new Map;n.forEach(([l,d])=>{const f=l,h=f[1],p=f[2];a.set(JSON.stringify([h,p]),{key:f,value:d})});const s=Array.from(a.keys()).sort((l,d)=>JSON.parse(l)[0]-JSON.parse(d)[0]);for(const l of s){const d=a.get(l);if(!d)continue;const{key:f,value:h}=d;try{if(h&&h.data&&Array.isArray(h.data)){const p=h.data.filter(w=>w.id!==r),g=f[1],y=f[f.length-1],v=JSON.stringify([g+1,y]),x=a.get(v);if(x&&x.value&&Array.isArray(x.value.data)&&x.value.data.length>0){const w=x.value.data[0];x.value.data=x.value.data.slice(1),p.push(w),e.setQueryData(x.key,{...x.value,data:x.value.data,count:Math.max(0,(x.value.count||1)-1)})}e.setQueryData(f,{...h,data:p,count:Math.max(0,(h.count||1)-1)})}}catch{}}}})}function eF(){const e=Ue();return wt({mutationFn:Iq,onMutate:async t=>{await e.cancelQueries({queryKey:["users"]});const r=e.getQueryData(["users"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["users"],[...r,n])}return{previousUsers:r}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers)},onSuccess:t=>{try{t!=null&&t.id&&e.setQueryData(["user",t.id],t)}catch{}try{const a=(e.getQueryData(["users"])||[]||[]).filter(s=>!String(s.id).startsWith("temp-"));a.some(s=>s.id===t.id)?e.setQueryData(["users"],a.map(s=>s.id===t.id?t:s)):e.setQueryData(["users"],[t,...a])}catch{}e.getQueriesData({queryKey:["users"]}).forEach(([n,a])=>{try{if(n[1]!==1)return;a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:[t,...a.data].slice(0,xt),count:a.count?a.count+1:1})}catch{}})}})}function BD(){const e=Ue();return wt({mutationFn:({id:t,updates:r})=>Lq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["users"]}),await e.cancelQueries({queryKey:["user",t]}),await e.cancelQueries({queryKey:["userByPhone"]});const n=e.getQueryData(["users"]),a=e.getQueryData(["user",t]);return n&&e.setQueryData(["users"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["user",t],{...a,...r}),{previousUsers:n,previousUser:a}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers),n!=null&&n.previousUser&&e.setQueryData(["user",r.id],n.previousUser)},onSuccess:t=>{e.getQueriesData({queryKey:["users"]}).forEach(([n,a])=>{try{a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:a.data.map(s=>s.id===t.id?t:s)})}catch{}}),e.setQueryData(["user",t.id],t)}})}function $D(){const e=Ue();return wt({mutationFn:Bq,onMutate:async t=>{await e.cancelQueries({queryKey:["users"]});const r=e.getQueryData(["users"]);return r&&e.setQueryData(["users"],r.filter(n=>n.id!==t)),{previousUsers:r}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers)},onSuccess:(t,r)=>{const n=e.getQueriesData({queryKey:["users"]}),a=new Map;n.forEach(([l,d])=>{const f=l,h=f[1];if(typeof h!="number"||!Number.isInteger(h))return;const p=f[f.length-1];a.set(JSON.stringify([h,p]),{key:f,value:d})});const s=Array.from(a.keys()).sort((l,d)=>JSON.parse(l)[0]-JSON.parse(d)[0]);for(const l of s){const d=a.get(l);if(!d)continue;const{key:f,value:h}=d;try{if(h&&h.data&&Array.isArray(h.data)){const p=h.data.filter(g=>g.id!==r);e.setQueryData(f,{...h,data:p,count:Math.max(0,(h.count||1)-1)})}}catch{}}}})}function tF(){const e=Ue();return wt({mutationFn:Hq,onMutate:async t=>{await e.cancelQueries({queryKey:["vendors"]});const r=e.getQueryData(["vendors"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["vendors"],[...r,n]);const a=e.getQueryData(["vendors",1]);a&&Array.isArray(a.data)&&e.setQueryData(["vendors",1],{...a,data:[n,...a.data].slice(0,xt),count:(a.count||0)+1})}return{previousVendors:r}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors)},onSuccess:t=>{try{const n=e.getQueryData(["vendors"]);if(n){const a=(n||[]).filter(s=>!(s.id&&String(s.id).startsWith("temp-")));a.some(s=>s.id===t.id)?e.setQueryData(["vendors"],a.map(s=>s.id===t.id?t:s)):e.setQueryData(["vendors"],[t,...a])}}catch{}e.getQueriesData({queryKey:["vendors"]}).forEach(([n,a])=>{try{if(n[1]!==1)return;a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:[t,...a.data].slice(0,xt),count:a.count?a.count+1:1})}catch{}})}})}function rF(){const e=Ue();return wt({mutationFn:({id:t,updates:r})=>Vq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["vendors"]}),await e.cancelQueries({queryKey:["vendor",t]});const n=e.getQueryData(["vendors"]),a=e.getQueryData(["vendor",t]);return n&&e.setQueryData(["vendors"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["vendor",t],{...a,...r}),{previousVendors:n,previousVendor:a}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors),n!=null&&n.previousVendor&&e.setQueryData(["vendor",r.id],n.previousVendor)},onSuccess:t=>{e.getQueriesData({queryKey:["vendors"]}).forEach(([n,a])=>{try{a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:a.data.map(s=>s.id===t.id?t:s)})}catch{}}),e.setQueryData(["vendor",t.id],t)}})}function nF(){const e=Ue();return wt({mutationFn:Gq,onMutate:async t=>{await e.cancelQueries({queryKey:["vendors"]});const r=e.getQueryData(["vendors"]);return r&&e.setQueryData(["vendors"],r.filter(n=>n.id!==t)),{previousVendors:r}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors)},onSuccess:(t,r)=>{const n=e.getQueriesData({queryKey:["vendors"]}),a=new Map;n.forEach(([l,d])=>{const f=l,h=f[1];if(typeof h!="number"||!Number.isInteger(h))return;const p=f[f.length-1];a.set(JSON.stringify([h,p]),{key:f,value:d})});const s=Array.from(a.keys()).sort((l,d)=>JSON.parse(l)[0]-JSON.parse(d)[0]);for(const l of s){const d=a.get(l);if(!d)continue;const{key:f,value:h}=d;try{if(h&&h.data&&Array.isArray(h.data)){const p=h.data.filter(w=>w.id!==r),g=f[1],y=f[f.length-1],v=JSON.stringify([g+1,y]),x=a.get(v);if(x&&x.value&&Array.isArray(x.value.data)&&x.value.data.length>0){const w=x.value.data[0];x.value.data=x.value.data.slice(1),p.push(w),e.setQueryData(x.key,{...x.value,data:x.value.data,count:Math.max(0,(x.value.count||1)-1)})}e.setQueryData(f,{...h,data:p,count:Math.max(0,(h.count||1)-1)})}}catch{}}}})}function aF(){const e=Ue();return wt({mutationFn:Wq,onMutate:async t=>{await e.cancelQueries({queryKey:["products"]});const r=e.getQueryData(["products"])||[],n={...t,id:`temp-${Date.now()}`};return e.setQueryData(["products"],[n,...r]),{previousProducts:r,optimisticProduct:n}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts)},onSuccess:async t=>{e.setQueryData(["product",t.id],t),e.getQueriesData({queryKey:["products"]}).forEach(([s,l])=>{try{if(l&&l.data&&Array.isArray(l.data)){const d=[t,...l.data].slice(0,xt);e.setQueryData(s,{...l,data:d,count:l.count?l.count+1:1})}}catch{}});const a=(e.getQueryData(["products"])||[]||[]).filter(s=>!String(s.id).startsWith("temp-"));e.setQueryData(["products"],[t,...a])}})}function iF(){const e=Ue();return wt({mutationFn:({id:t,updates:r})=>Xq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["products"]}),await e.cancelQueries({queryKey:["product",t]});const n=e.getQueryData(["products"]),a=e.getQueryData(["product",t]);return n&&e.setQueryData(["products"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["product",t],{...a,...r}),{previousProducts:n,previousProduct:a}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts),n!=null&&n.previousProduct&&e.setQueryData(["product",r.id],n.previousProduct)},onSuccess:t=>{e.getQueriesData({queryKey:["products"]}).forEach(([n,a])=>{try{a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:a.data.map(s=>s.id===t.id?t:s)})}catch{}}),e.setQueryData(["product",t.id],t)}})}function sF(){const e=Ue();return wt({mutationFn:Jq,onMutate:async t=>{await e.cancelQueries({queryKey:["products"]});const r=e.getQueryData(["products"]);return r&&e.setQueryData(["products"],r.filter(n=>n.id!==t)),{previousProducts:r}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts)},onSuccess:(t,r)=>{const n=e.getQueriesData({queryKey:["products"]}),a=new Map;n.forEach(([l,d])=>{const f=l,h=f[1];if(typeof h!="number"||!Number.isInteger(h))return;const p=f[f.length-1];a.set(JSON.stringify([h,p]),{key:f,value:d})});const s=Array.from(a.keys()).sort((l,d)=>JSON.parse(l)[0]-JSON.parse(d)[0]);for(const l of s){const d=a.get(l);if(!d)continue;const{key:f,value:h}=d;try{if(h&&h.data&&Array.isArray(h.data)){const p=h.data.filter(w=>w.id!==r),g=f[1],y=f[f.length-1],v=JSON.stringify([g+1,y]),x=a.get(v);if(x&&x.value&&Array.isArray(x.value.data)&&x.value.data.length>0){const w=x.value.data[0];x.value.data=x.value.data.slice(1),p.push(w),e.setQueryData(x.key,{...x.value,data:x.value.data,count:Math.max(0,(x.value.count||1)-1)})}e.setQueryData(f,{...h,data:p,count:Math.max(0,(h.count||1)-1)})}}catch{}}}})}function oF(){const e=Ue();return wt({mutationFn:e8,onMutate:async t=>{await e.cancelQueries({queryKey:["categories"]});const r=e.getQueryData(["categories"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["categories"],[...r,n])}return{previousCategories:r}},onError:(t,r,n)=>{n!=null&&n.previousCategories&&e.setQueryData(["categories"],n.previousCategories)},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function lF(){const e=Ue();return wt({mutationFn:t8,onMutate:async t=>{await e.cancelQueries({queryKey:["categories"]});const r=e.getQueryData(["categories"]);return r&&e.setQueryData(["categories"],r.filter(n=>n.id!==t)),{previousCategories:r}},onError:(t,r,n)=>{n!=null&&n.previousCategories&&e.setQueryData(["categories"],n.previousCategories)},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function cF(){const e=Ue();return wt({mutationFn:n8,onMutate:async t=>{await e.cancelQueries({queryKey:["paymentMethods"]});const r=e.getQueryData(["paymentMethods"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["paymentMethods"],[...r,n])}return{previousMethods:r}},onError:(t,r,n)=>{n!=null&&n.previousMethods&&e.setQueryData(["paymentMethods"],n.previousMethods)},onSuccess:()=>{e.invalidateQueries({queryKey:["paymentMethods"]})}})}function uF(){const e=Ue();return wt({mutationFn:a8,onMutate:async t=>{await e.cancelQueries({queryKey:["paymentMethods"]});const r=e.getQueryData(["paymentMethods"]);return r&&e.setQueryData(["paymentMethods"],r.filter(n=>n.id!==t)),{previousMethods:r}},onError:(t,r,n)=>{n!=null&&n.previousMethods&&e.setQueryData(["paymentMethods"],n.previousMethods)},onSuccess:()=>{e.invalidateQueries({queryKey:["paymentMethods"]})}})}function dF(){const e=Ue();return wt({mutationFn:s8,onMutate:async t=>{await e.cancelQueries({queryKey:["units"]});const r=e.getQueryData(["units"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["units"],[...r,n])}return{previousUnits:r}},onError:(t,r,n)=>{n!=null&&n.previousUnits&&e.setQueryData(["units"],n.previousUnits)},onSuccess:()=>{e.invalidateQueries({queryKey:["units"]})}})}function fF(){const e=Ue();return wt({mutationFn:o8,onMutate:async t=>{await e.cancelQueries({queryKey:["units"]});const r=e.getQueryData(["units"]);return r&&e.setQueryData(["units"],r.filter(n=>n.id!==t)),{previousUnits:r}},onError:(t,r,n)=>{n!=null&&n.previousUnits&&e.setQueryData(["units"],n.previousUnits)},onSuccess:()=>{e.invalidateQueries({queryKey:["units"]})}})}function hF(){const e=Ue();return wt({mutationFn:b8,onMutate:async t=>{await e.cancelQueries({queryKey:["settings"]});const r=e.getQueryData(["settings","company"]),n=e.getQueryData(["settings","order"]),a=e.getQueryData(["settings","invoice"]),s=e.getQueryData(["settings","defaults"]),l=e.getQueryData(["settings","courier"]);return t.company&&r&&e.setQueryData(["settings","company"],{...r,...t.company}),t.order&&n&&e.setQueryData(["settings","order"],{...n,...t.order}),t.invoice&&a&&e.setQueryData(["settings","invoice"],{...a,...t.invoice}),t.defaults&&s&&e.setQueryData(["settings","defaults"],{...s,...t.defaults}),t.courier&&l&&e.setQueryData(["settings","courier"],{...l,...t.courier}),{previousCompany:r,previousOrder:n,previousInvoice:a,previousDefaults:s,previousCourier:l}},onError:(t,r,n)=>{n!=null&&n.previousCompany&&e.setQueryData(["settings","company"],n.previousCompany),n!=null&&n.previousOrder&&e.setQueryData(["settings","order"],n.previousOrder),n!=null&&n.previousInvoice&&e.setQueryData(["settings","invoice"],n.previousInvoice),n!=null&&n.previousDefaults&&e.setQueryData(["settings","defaults"],n.previousDefaults),n!=null&&n.previousCourier&&e.setQueryData(["settings","courier"],n.previousCourier)},onSuccess:()=>{e.invalidateQueries({queryKey:["settings"]})}})}const UD=({isOpen:e,onClose:t,order:r,customer:n})=>{var g;const{data:a}=r1(),[s,l]=j.useState(!1),[d,f]=j.useState(null),h=ef();if(!e)return null;const p=async()=>{var w;if(f(null),!r||!n){f("Missing order or customer information"),console.error("[SteadfastModal] Missing order, customer information");return}if(!(a!=null&&a.steadfast)){f("No Steadfast credentials configured"),console.error("[SteadfastModal] No Steadfast settings");return}const{baseUrl:y,apiKey:v,secretKey:x}=a.steadfast;if(console.log("[SteadfastModal] ======== SUBMISSION DEBUG ========"),console.log("[SteadfastModal] courierSettings object:",a),console.log("[SteadfastModal] steadfast object:",a.steadfast),console.log("[SteadfastModal] baseUrl:",y),console.log("[SteadfastModal] baseUrl type:",typeof y),console.log("[SteadfastModal] baseUrl empty?:",y===""||!y),console.log("[SteadfastModal] baseUrl trimmed empty?:",(y||"").trim()===""),console.log("[SteadfastModal] apiKey:",v?`${v.substring(0,5)}...`:"EMPTY/NULL"),console.log("[SteadfastModal] apiKey type:",typeof v),console.log("[SteadfastModal] secretKey:",x?`${x.substring(0,5)}...`:"EMPTY/NULL"),console.log("[SteadfastModal] secretKey type:",typeof x),!y||!v||!x){f(`Incomplete Steadfast credentials - baseUrl: ${!!y}, apiKey: ${!!v}, secretKey: ${!!x}`),console.error("[SteadfastModal] Incomplete credentials"),console.error("[SteadfastModal] baseUrl value:",JSON.stringify(y)),console.error("[SteadfastModal] apiKey value:",JSON.stringify(v)),console.error("[SteadfastModal] secretKey value:",JSON.stringify(x));return}l(!0);try{console.log("[SteadfastModal] ======== PREPARING SUBMISSION ========"),console.log("[SteadfastModal] Order Number:",r.orderNumber),console.log("[SteadfastModal] Customer Name:",n.name),console.log("[SteadfastModal] Customer Phone:",n.phone),console.log("[SteadfastModal] Customer Address:",n.address),console.log("[SteadfastModal] Order Total:",r.total);const _=await v8({baseUrl:y,apiKey:v,secretKey:x,invoice:r.orderNumber,recipientName:n.name,recipientPhone:n.phone,recipientAddress:n.address,codAmount:r.total});if(console.log("[SteadfastModal] ======== SUBMISSION RESULT ========"),console.log("[SteadfastModal] Result:",_),_.error){let N=_.error;try{_.error.includes("Account is not active")&&(N="Something went wrong.")}catch{}f(N),console.error("[SteadfastModal] Submission failed:",_.error);return}console.log("[SteadfastModal] Order submitted successfully to Steadfast");try{const N=`Sent to Steadfast by ${((w=Se.currentUser)==null?void 0:w.name)||"System"} on ${new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}`;await h.mutateAsync({id:r.id,updates:{history:{...r.history,courier:N}}})}catch(N){console.error("[SteadfastModal] Failed to update order sent flag:",N)}t()}catch(_){const N=_ instanceof Error?_.message:"Unknown error";f(N),console.error("[SteadfastModal] Exception during submission:",N)}finally{l(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40",onClick:t}),c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:`${oe.card.elevated} w-full max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-300`,children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add to Steadfast"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[d&&c.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[c.jsx("p",{className:"font-semibold",children:"Error:"}),c.jsx("p",{children:d instanceof Error?d.message:String(d)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Order Number"}),c.jsx("p",{className:"text-gray-900",children:(r==null?void 0:r.orderNumber)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Name"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.name)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Phone"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.phone)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Address"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.address)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"COD Amount"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[" ",((g=r==null?void 0:r.total)==null?void 0:g.toFixed(2))||"0.00"]})]})]}),c.jsxs("div",{className:"flex gap-3 px-6 py-4 border-t border-gray-100",children:[c.jsx("button",{onClick:t,disabled:s,className:"flex-1 py-2 px-4 rounded-lg border border-gray-200 text-gray-700 font-bold hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),c.jsx("button",{onClick:p,disabled:s||!r||!n,className:"flex-1 py-2 px-4 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Adding...":"Add"})]})]})})]})},zD=({isOpen:e,onClose:t,order:r,customer:n})=>{const{data:a}=r1(),[s,l]=j.useState(1e3),[d,f]=j.useState("1"),[h,p]=j.useState(""),[g,y]=j.useState(""),[v,x]=j.useState(""),[w,_]=j.useState([]),[N,O]=j.useState([]),[E,C]=j.useState([]),[T,P]=j.useState(!1),[M,R]=j.useState(!1),[B,H]=j.useState(!1),[Y,K]=j.useState(!1),me=ef(),ie=j.useRef(null),ye=j.useRef(!1);return j.useEffect(()=>(e||(ye.current=!0,ie.current&&(clearInterval(ie.current),ie.current=null)),()=>{ye.current=!0,ie.current&&(clearInterval(ie.current),ie.current=null)}),[e]),j.useEffect(()=>{e&&(async()=>{var V,ne,he,I;if(!((V=a==null?void 0:a.carryBee)!=null&&V.baseUrl)||!((ne=a==null?void 0:a.carryBee)!=null&&ne.clientId)||!((he=a==null?void 0:a.carryBee)!=null&&he.clientSecret)||!((I=a==null?void 0:a.carryBee)!=null&&I.clientContext)){_([]);return}P(!0);try{const D=await m8({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext});_(D)}catch(D){console.error("Failed to fetch cities:",D),_([])}finally{P(!1)}})()},[e,a]),j.useEffect(()=>{(async()=>{var V,ne;if(!h||!((V=a==null?void 0:a.carryBee)!=null&&V.baseUrl)||!((ne=a==null?void 0:a.carryBee)!=null&&ne.clientId)){O([]),y(""),x(""),C([]);return}R(!0);try{const he=await p8({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext,cityId:h});O(he)}catch(he){console.error("Failed to fetch zones:",he),O([])}finally{R(!1)}})()},[h,a]),j.useEffect(()=>{(async()=>{var V,ne;if(!g||!h||!((V=a==null?void 0:a.carryBee)!=null&&V.baseUrl)||!((ne=a==null?void 0:a.carryBee)!=null&&ne.clientId)){C([]),x("");return}H(!0);try{const he=await g8({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext,cityId:h,zoneId:g});C(he)}catch(he){console.error("Failed to fetch areas:",he),C([])}finally{H(!1)}})()},[g,h,a]),e?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40",onClick:t}),c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:`${oe.card.elevated} w-full max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-300`,children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add to CarryBee"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Weight ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",value:s,onChange:L=>l(Number(L.target.value)),className:"flex-1 px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg",min:"1"}),c.jsx("span",{className:"text-sm font-semibold text-gray-700 whitespace-nowrap",children:"grams"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Delivery Type ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:d,onChange:L=>f(L.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg",children:[c.jsx("option",{value:"1",children:"Normal Delivery (Type 1)"}),c.jsx("option",{value:"2",children:"Express Delivery (Type 2)"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["City ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:h,onChange:L=>p(L.target.value),disabled:T||w.length===0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:T?"Loading cities...":w.length===0?"No cities available":"Select a city"}),w.map(L=>c.jsx("option",{value:L.id,children:L.name},L.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Zone ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:g,onChange:L=>y(L.target.value),disabled:!h||M||N.length===0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:h?M?"Loading zones...":N.length===0?"No zones available":"Select a zone":"Select a city first"}),N.map(L=>c.jsx("option",{value:L.id,children:L.name},L.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Area"}),c.jsxs("select",{value:v,onChange:L=>x(L.target.value),disabled:!g||B,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:g?B?"Loading areas...":E.length===0?"No areas available":"Select an area (optional)":"Select a zone first"}),E.map(L=>c.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),c.jsxs("div",{className:"flex gap-3 px-6 py-4 border-t border-gray-100",children:[c.jsx("button",{onClick:t,className:"flex-1 py-2 px-4 rounded-lg border border-gray-200 text-gray-700 font-bold hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{onClick:async()=>{var D,U,Z;if(!h||!g){alert("Please select both City and Zone");return}if(!r||!n){alert("Missing order or customer information"),console.error("Missing order or customer:",{order:r,customer:n});return}if(!(a!=null&&a.carryBee)){alert("CarryBee settings not configured"),console.error("Missing CarryBee settings:",a);return}const{baseUrl:L,clientId:V,clientSecret:ne,clientContext:he,storeId:I}=a.carryBee;if(!L||!V||!ne||!he||!I){alert("CarryBee settings incomplete. Please configure Base URL, Client ID, Client Secret, Client Context, and Store ID in Settings."),console.error("Incomplete CarryBee settings:",{baseUrl:L,clientId:V,clientSecret:ne,clientContext:he,storeId:I});return}K(!0);try{console.log("[CarryBeeModal] Submitting order:",{storeId:I,deliveryType:Number(d),recipientPhone:n.phone,recipientName:n.name,cityId:h,zoneId:g,areaId:v||void 0,itemWeight:s,collectableAmount:r.total});const q=await y8({baseUrl:L,clientId:V,clientSecret:ne,clientContext:he,storeId:I,deliveryType:Number(d),productType:1,recipientPhone:n.phone,recipientName:n.name,recipientAddress:n.address||"",cityId:h,zoneId:g,areaId:v||void 0,itemWeight:s,collectableAmount:r.total||0});if(q.error)alert(`Failed to send order: ${q.error}`);else{try{const ge=q&&(((D=q.order)==null?void 0:D.consignment_id)||q.consignment_id)||q.data&&(((U=q.data.order)==null?void 0:U.consignment_id)||q.data.consignment_id)||null,ve=`Sent to CarryBee by ${((Z=Se.currentUser)==null?void 0:Z.name)||"System"} on ${new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}`,pe={history:{...r.history,courier:ve}};if(ge&&(pe.carrybee_consignment_id=ge),await me.mutateAsync({id:r.id,updates:pe}),ge){const ke="At the sorting hub";ye.current=!1;const te=async()=>{var _e;if(!ye.current)try{const Pe=`${a.carryBee.baseUrl.replace(/\/$/,"")}/api/v2/orders/${encodeURIComponent(ge)}/details`,ce=await fetch(Pe,{method:"GET",headers:{"Client-ID":a.carryBee.clientId,"Client-Secret":a.carryBee.clientSecret,"Client-Context":a.carryBee.clientContext,"Content-Type":"application/json"}});if(!ce.ok)return;const ze=await ce.json();if((((_e=ze==null?void 0:ze.data)==null?void 0:_e.transfer_status)||(ze==null?void 0:ze.transfer_status)||null)===ke&&!ye.current){const et=`Marked picked automatically on ${new Date().toLocaleString()}`;await me.mutateAsync({id:r.id,updates:{status:De.PICKED,history:{...r.history,picked:et}}}),ye.current=!0,ie.current&&(clearInterval(ie.current),ie.current=null)}}catch(Pe){console.error("[CarryBeeModal] Polling error:",Pe)}};ie.current=window.setInterval(te,15e3),te()}}catch(ge){console.error("[CarryBeeModal] Failed to update order sent flag or consignment id:",ge)}alert("Order sent to CarryBee successfully!"),t()}}catch(q){console.error("Error submitting order:",q),alert("Error sending order to CarryBee")}finally{K(!1)}},disabled:!h||!g||Y,className:"flex-1 py-2 px-4 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Y?"Adding...":"Add"})]})]})})]}):null},m0=(e,t,r)=>{if(t==="All Time")return!0;const n=new Date(e),a=new Date;if(t==="Today")return n.toDateString()===a.toDateString();if(t==="This Week"){const s=a.getDate()-a.getDay(),l=new Date(new Date().setDate(s)),d=new Date(new Date().setDate(s+6));return n>=l&&n<=d}return t==="This Month"?n.getMonth()===a.getMonth()&&n.getFullYear()===a.getFullYear():t==="This Year"?n.getFullYear()===a.getFullYear():t==="Custom"?!r.from||!r.to?!0:n>=new Date(r.from)&&n<=new Date(r.to):!0};function qD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=qD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ft(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=qD(e))&&(n&&(n+=" "),n+=t);return n}var mF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function i1(e){if(typeof e!="string")return!1;var t=mF;return t.includes(e)}var pF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gF=new Set(pF);function FD(e){return typeof e!="string"?!1:gF.has(e)}function KD(e){return typeof e=="string"&&e.startsWith("data-")}function Ln(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(FD(r)||KD(r))&&(t[r]=e[r]);return t}function qo(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ln(t)}return typeof e=="object"&&!Array.isArray(e)?Ln(e):null}function cn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(FD(r)||KD(r)||i1(r))&&(t[r]=e[r]);return t}function yF(e){return e==null?null:j.isValidElement(e)?cn(e.props):typeof e=="object"&&!Array.isArray(e)?cn(e):null}var vF=["children","width","height","viewBox","className","style","title","desc"];function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ex.apply(null,arguments)}function bF(e,t){if(e==null)return{};var r,n,a=xF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var s1=j.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:d,title:f,desc:h}=e,p=bF(e,vF),g=s||{width:n,height:a,x:0,y:0},y=ft("recharts-surface",l);return j.createElement("svg",Ex({},cn(p),{className:y,width:n,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),j.createElement("title",null,f),j.createElement("desc",null,h),r)}),wF=["children","className"];function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ax.apply(null,arguments)}function jF(e,t){if(e==null)return{};var r,n,a=SF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function SF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dr=j.forwardRef((e,t)=>{var{children:r,className:n}=e,a=jF(e,wF),s=ft("recharts-layer",n);return j.createElement("g",Ax({className:s},cn(a),{ref:t}),r)}),QD=j.createContext(null),_F=()=>j.useContext(QD);function It(e){return function(){return e}}const HD=Math.cos,Pm=Math.sin,Na=Math.sqrt,Tm=Math.PI,Hp=2*Tm,Cx=Math.PI,kx=2*Cx,go=1e-6,NF=kx-go;function VD(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function OF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return VD;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class EF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?VD:OF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,f=n-t,h=a-r,p=l-t,g=d-r,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>go)if(!(Math.abs(g*f-h*p)>go)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-l,x=a-d,w=f*f+h*h,_=v*v+x*x,N=Math.sqrt(w),O=Math.sqrt(y),E=s*Math.tan((Cx-Math.acos((w+y-_)/(2*N*O)))/2),C=E/O,T=E/N;Math.abs(C-1)>go&&this._append`L${t+C*p},${r+C*g}`,this._append`A${s},${s},0,0,${+(g*v>p*x)},${this._x1=t+T*f},${this._y1=r+T*h}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(a),f=n*Math.sin(a),h=t+d,p=r+f,g=1^l,y=l?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>go||Math.abs(this._y1-p)>go)&&this._append`L${h},${p}`,n&&(y<0&&(y=y%kx+kx),y>NF?this._append`A${n},${n},0,1,${g},${t-d},${r-f}A${n},${n},0,1,${g},${this._x1=h},${this._y1=p}`:y>go&&this._append`A${n},${n},0,${+(y>=Cx)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function o1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new EF(t)}function l1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function GD(e){this._context=e}GD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Vp(e){return new GD(e)}function YD(e){return e[0]}function WD(e){return e[1]}function XD(e,t){var r=It(!0),n=null,a=Vp,s=null,l=o1(d);e=typeof e=="function"?e:e===void 0?YD:It(e),t=typeof t=="function"?t:t===void 0?WD:It(t);function d(f){var h,p=(f=l1(f)).length,g,y=!1,v;for(n==null&&(s=a(v=l())),h=0;h<=p;++h)!(h<p&&r(g=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(g,h,f),+t(g,h,f));if(v)return s=null,v+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:It(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:It(+f),d):t},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:It(!!f),d):r},d.curve=function(f){return arguments.length?(a=f,n!=null&&(s=a(n)),d):a},d.context=function(f){return arguments.length?(f==null?n=s=null:s=a(n=f),d):n},d}function Jh(e,t,r){var n=null,a=It(!0),s=null,l=Vp,d=null,f=o1(h);e=typeof e=="function"?e:e===void 0?YD:It(+e),t=typeof t=="function"?t:It(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?WD:It(+r);function h(g){var y,v,x,w=(g=l1(g)).length,_,N=!1,O,E=new Array(w),C=new Array(w);for(s==null&&(d=l(O=f())),y=0;y<=w;++y){if(!(y<w&&a(_=g[y],y,g))===N)if(N=!N)v=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),x=y-1;x>=v;--x)d.point(E[x],C[x]);d.lineEnd(),d.areaEnd()}N&&(E[y]=+e(_,y,g),C[y]=+t(_,y,g),d.point(n?+n(_,y,g):E[y],r?+r(_,y,g):C[y]))}if(O)return d=null,O+""||null}function p(){return XD().defined(a).curve(l).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:It(+g),n=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:It(+g),h):e},h.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:It(+g),h):n},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:It(+g),r=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:It(+g),h):t},h.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:It(+g),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(n).y(t)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:It(!!g),h):a},h.curve=function(g){return arguments.length?(l=g,s!=null&&(d=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=d=null:d=l(s=g),h):s},h}class JD{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function AF(e){return new JD(e,!0)}function CF(e){return new JD(e,!1)}const c1={draw(e,t){const r=Na(t/Tm);e.moveTo(r,0),e.arc(0,0,r,0,Hp)}},kF={draw(e,t){const r=Na(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},ZD=Na(1/3),PF=ZD*2,TF={draw(e,t){const r=Na(t/PF),n=r*ZD;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},DF={draw(e,t){const r=Na(t),n=-r/2;e.rect(n,n,r,r)}},MF=.8908130915292852,eM=Pm(Tm/10)/Pm(7*Tm/10),RF=Pm(Hp/10)*eM,IF=-HD(Hp/10)*eM,LF={draw(e,t){const r=Na(t*MF),n=RF*r,a=IF*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const l=Hp*s/5,d=HD(l),f=Pm(l);e.lineTo(f*r,-d*r),e.lineTo(d*n-f*a,f*n+d*a)}e.closePath()}},p0=Na(3),BF={draw(e,t){const r=-Na(t/(p0*3));e.moveTo(0,r*2),e.lineTo(-p0*r,-r),e.lineTo(p0*r,-r),e.closePath()}},Jn=-.5,Zn=Na(3)/2,Px=1/Na(12),$F=(Px/2+1)*3,UF={draw(e,t){const r=Na(t/$F),n=r/2,a=r*Px,s=n,l=r*Px+r,d=-s,f=l;e.moveTo(n,a),e.lineTo(s,l),e.lineTo(d,f),e.lineTo(Jn*n-Zn*a,Zn*n+Jn*a),e.lineTo(Jn*s-Zn*l,Zn*s+Jn*l),e.lineTo(Jn*d-Zn*f,Zn*d+Jn*f),e.lineTo(Jn*n+Zn*a,Jn*a-Zn*n),e.lineTo(Jn*s+Zn*l,Jn*l-Zn*s),e.lineTo(Jn*d+Zn*f,Jn*f-Zn*d),e.closePath()}};function zF(e,t){let r=null,n=o1(a);e=typeof e=="function"?e:It(e||c1),t=typeof t=="function"?t:It(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:It(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:It(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Dm(){}function Mm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function tM(e){this._context=e}tM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qF(e){return new tM(e)}function rM(e){this._context=e}rM.prototype={areaStart:Dm,areaEnd:Dm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FF(e){return new rM(e)}function nM(e){this._context=e}nM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KF(e){return new nM(e)}function aM(e){this._context=e}aM.prototype={areaStart:Dm,areaEnd:Dm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function QF(e){return new aM(e)}function lA(e){return e<0?-1:1}function cA(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),d=(s*a+l*n)/(n+a);return(lA(s)+lA(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function uA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function g0(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,d=(s-n)/3;e._context.bezierCurveTo(n+d,a+d*t,s-d,l-d*r,s,l)}function Rm(e){this._context=e}Rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:g0(this,this._t0,uA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,g0(this,uA(this,r=cA(this,e,t)),r);break;default:g0(this,this._t0,r=cA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function iM(e){this._context=new sM(e)}(iM.prototype=Object.create(Rm.prototype)).point=function(e,t){Rm.prototype.point.call(this,t,e)};function sM(e){this._context=e}sM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function HF(e){return new Rm(e)}function VF(e){return new iM(e)}function oM(e){this._context=e}oM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=dA(e),a=dA(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function dA(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function GF(e){return new oM(e)}function Gp(e,t){this._context=e,this._t=t}Gp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function YF(e){return new Gp(e,.5)}function WF(e){return new Gp(e,0)}function XF(e){return new Gp(e,1)}function Fo(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,d=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<d;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Tx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function JF(e,t){return e[t]}function ZF(e){const t=[];return t.key=e,t}function eK(){var e=It([]),t=Tx,r=Fo,n=JF;function a(s){var l=Array.from(e.apply(this,arguments),ZF),d,f=l.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(l[d][h]=[0,+n(g,l[d].key,h,s)]).data=g;for(d=0,p=l1(t(l));d<f;++d)l[p[d]].index=d;return r(l,p),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:It(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:It(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?Tx:typeof s=="function"?s:It(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Fo,a):r},a}function tK(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Fo(e,t)}}function rK(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,d=0;l<a;++l)d+=e[l][r][1]||0;n[r][1]+=n[r][0]=-d/2}Fo(e,t)}}function nK(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var d=0,f=0,h=0;d<l;++d){for(var p=e[t[d]],g=p[n][1]||0,y=p[n-1][1]||0,v=(g-y)/2,x=0;x<d;++x){var w=e[t[x]],_=w[n][1]||0,N=w[n-1][1]||0;v+=_-N}f+=g,h+=v*g}a[n-1][1]+=a[n-1][0]=r,f&&(r-=h/f)}a[n-1][1]+=a[n-1][0]=r,Fo(e,t)}}var y0={},v0={},fA;function aK(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(v0)),v0}var b0={},hA;function lM(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(b0)),b0}var x0={},mA;function u1(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(x0)),x0}var w0={},j0={},pA;function iK(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(j0)),j0}var gA;function d1(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iK(),r=u1();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],l=a.length;if(l===0)return s;let d=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<l;){const g=a[d];h?g==="\\"&&d+1<l?(d++,f+=a[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}e.toPath=n})(w0)),w0}var yA;function f1(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aK(),r=lM(),n=u1(),a=d1();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?r.isDeepKey(f)?s(d,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||t.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}e.get=s})(y0)),y0}var S0,vA;function sK(){return vA||(vA=1,S0=f1().get),S0}var oK=sK();const Ko=Ha(oK);var lK=4;function Ts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lK,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function nr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,l)=>{var d=r[l-1];return typeof d=="string"?a+d+s:d!==void 0?a+Ts(d)+s:a+s},"")}var Tr=e=>e===0?0:e>0?1:-1,qa=e=>typeof e=="number"&&e!=+e,Qo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ne=e=>(typeof e=="number"||e instanceof Number)&&!qa(e),Fa=e=>Ne(e)||typeof e=="string",cK=0,Sd=e=>{var t=++cK;return"".concat(e||"").concat(t)},Jr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(t)&&typeof t!="string")return n;var s;if(Qo(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return qa(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},cM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Ht(e,t,r){return Ne(e)&&Ne(t)?Ts(e+r*(t-e)):t}function uM(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ko(n,t))===r)}var Wt=e=>e===null||typeof e>"u",nf=e=>Wt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function wn(e){return e!=null}function Zo(){}var uK=["type","size","sizeType"];function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(null,arguments)}function bA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(r),!0).forEach(function(n){dK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dK(e,t,r){return(t=fK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fK(e){var t=hK(e,"string");return typeof t=="symbol"?t:t+""}function hK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mK(e,t){if(e==null)return{};var r,n,a=pK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dM={symbolCircle:c1,symbolCross:kF,symbolDiamond:TF,symbolSquare:DF,symbolStar:LF,symbolTriangle:BF,symbolWye:UF},gK=Math.PI/180,yK=e=>{var t="symbol".concat(nf(e));return dM[t]||c1},vK=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*gK;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},bK=(e,t)=>{dM["symbol".concat(nf(e))]=t},h1=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=mK(e,uK),s=xA(xA({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var d=()=>{var y=yK(l),v=zF().type(y).size(vK(r,n,l)),x=v();if(x!==null)return x},{className:f,cx:h,cy:p}=s,g=cn(s);return Ne(h)&&Ne(p)&&Ne(r)?j.createElement("path",Dx({},g,{className:ft("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};h1.registerSymbol=bK;var fM=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,m1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{i1(a)&&(n[a]=(s=>r[a](r,s)))}),n},xK=(e,t,r)=>n=>(e(t,r,n),null),af=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];i1(a)&&typeof s=="function"&&(n||(n={}),n[a]=xK(s,t,r))}),n};function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){jK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jK(e,t,r){return(t=SK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=_K(e,"string");return typeof t=="symbol"?t:t+""}function _K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(e,t){var r=wK({},e),n=t,a=Object.keys(t),s=a.reduce((l,d)=>(l[d]===void 0&&n[d]!==void 0&&(l[d]=n[d]),l),r);return s}function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Im.apply(null,arguments)}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){OK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OK(e,t,r){return(t=EK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ta=32,CK={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function kK(e){var{data:t,iconType:r,inactiveColor:n}=e,a=ta/2,s=ta/6,l=ta/3,d=t.inactive?n:t.color,f=r??t.type;if(f==="none")return null;if(f==="plainline"){var h;return j.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:a,x2:ta,y2:a,className:"recharts-legend-icon"})}if(f==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ta,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(f==="rect")return j.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ta/8,"h").concat(ta,"v").concat(ta*3/4,"h").concat(-ta,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var p=NK({},t);return delete p.legendIcon,j.cloneElement(t.legendIcon,p)}return j.createElement(h1,{fill:d,cx:a,cy:a,size:ta,sizeType:"diameter",type:f})}function PK(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:l}=e,d={x:0,y:0,width:ta,height:ta},f={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var y=p.formatter||a,v=ft({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var x=p.inactive?s:p.color,w=y?y(p.value,p,g):p.value;return j.createElement("li",Im({className:v,style:f,key:"legend-item-".concat(g)},af(e,p,g)),j.createElement(s1,{width:r,height:r,viewBox:d,style:h,"aria-label":"".concat(w," legend icon")},j.createElement(kK,{data:p,iconType:l,inactiveColor:s})),j.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},w))})}var TK=e=>{var t=yr(e,CK),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},j.createElement(PK,Im({},t,{payload:r})))},_0={},N0={},SA;function DK(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],d=n(l,s,r);a.has(d)||a.set(d,l)}return Array.from(a.values())}e.uniqBy=t})(N0)),N0}var O0={},_A;function MK(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(O0)),O0}var E0={},NA;function hM(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(E0)),E0}var A0={},C0={},k0={},OA;function RK(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(k0)),k0}var EA;function p1(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RK();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(C0)),C0}var P0={},AA;function IK(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(P0)),P0}var CA;function LK(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p1(),r=IK();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(A0)),A0}var T0={},D0={},kA;function BK(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f1();function r(n){return function(a){return t.get(a,n)}}e.property=r})(D0)),D0}var M0={},R0={},I0={},L0={},PA;function mM(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(L0)),L0}var B0={},TA;function pM(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(B0)),B0}var $0={},DA;function gM(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})($0)),$0}var MA;function $K(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mM(),r=pM(),n=gM();function a(p,g,y){return typeof y!="function"?a(p,g,()=>{}):s(p,g,function v(x,w,_,N,O,E){const C=y(x,w,_,N,O,E);return C!==void 0?!!C:s(x,w,v,E)},new Map)}function s(p,g,y,v){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,y,v);case"function":return Object.keys(g).length>0?s(p,{...g},y,v):n.isEqualsSameValueZero(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:n.isEqualsSameValueZero(p,g)}}function l(p,g,y,v){if(g==null)return!0;if(Array.isArray(g))return f(p,g,y,v);if(g instanceof Map)return d(p,g,y,v);if(g instanceof Set)return h(p,g,y,v);const x=Object.keys(g);if(p==null||r.isPrimitive(p))return x.length===0;if(x.length===0)return!0;if(v!=null&&v.has(g))return v.get(g)===p;v==null||v.set(g,p);try{for(let w=0;w<x.length;w++){const _=x[w];if(!r.isPrimitive(p)&&!(_ in p)||g[_]===void 0&&p[_]!==void 0||g[_]===null&&p[_]!==null||!y(p[_],g[_],_,p,g,v))return!1}return!0}finally{v==null||v.delete(g)}}function d(p,g,y,v){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[x,w]of g.entries()){const _=p.get(x);if(y(_,w,x,p,g,v)===!1)return!1}return!0}function f(p,g,y,v){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const x=new Set;for(let w=0;w<g.length;w++){const _=g[w];let N=!1;for(let O=0;O<p.length;O++){if(x.has(O))continue;const E=p[O];let C=!1;if(y(E,_,w,p,g,v)&&(C=!0),C){x.add(O),N=!0;break}}if(!N)return!1}return!0}function h(p,g,y,v){return g.size===0?!0:p instanceof Set?f([...p],[...g],y,v):!1}e.isMatchWith=a,e.isSetMatch=h})(I0)),I0}var RA;function yM(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$K();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(R0)),R0}var U0={},z0={},q0={},IA;function UK(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(q0)),q0}var F0={},LA;function g1(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(F0)),F0}var K0={},BA;function vM(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",y="[object ArrayBuffer]",v="[object Object]",x="[object Error]",w="[object DataView]",_="[object Uint8Array]",N="[object Uint8ClampedArray]",O="[object Uint16Array]",E="[object Uint32Array]",C="[object BigUint64Array]",T="[object Int8Array]",P="[object Int16Array]",M="[object Int32Array]",R="[object BigInt64Array]",B="[object Float32Array]",H="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=R,e.bigUint64ArrayTag=C,e.booleanTag=a,e.dataViewTag=w,e.dateTag=d,e.errorTag=x,e.float32ArrayTag=B,e.float64ArrayTag=H,e.functionTag=g,e.int16ArrayTag=P,e.int32ArrayTag=M,e.int8ArrayTag=T,e.mapTag=f,e.numberTag=n,e.objectTag=v,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=O,e.uint32ArrayTag=E,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=N})(K0)),K0}var Q0={},$A;function zK(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Q0)),Q0}var UA;function bM(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UK(),r=g1(),n=vM(),a=pM(),s=zK();function l(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,y,v=new Map,x=void 0){const w=x==null?void 0:x(p,g,y,v);if(w!==void 0)return w;if(a.isPrimitive(p))return p;if(v.has(p))return v.get(p);if(Array.isArray(p)){const _=new Array(p.length);v.set(p,_);for(let N=0;N<p.length;N++)_[N]=d(p[N],N,y,v,x);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;v.set(p,_);for(const[N,O]of p)_.set(N,d(O,N,y,v,x));return _}if(p instanceof Set){const _=new Set;v.set(p,_);for(const N of p)_.add(d(N,void 0,y,v,x));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);v.set(p,_);for(let N=0;N<p.length;N++)_[N]=d(p[N],N,y,v,x);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return v.set(p,_),f(_,p,y,v,x),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return v.set(p,_),f(_,p,y,v,x),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return v.set(p,_),f(_,p,y,v,x),_}if(p instanceof Error){const _=new p.constructor;return v.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,f(_,p,y,v,x),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return v.set(p,_),f(_,p,y,v,x),_}if(p instanceof Number){const _=new Number(p.valueOf());return v.set(p,_),f(_,p,y,v,x),_}if(p instanceof String){const _=new String(p.valueOf());return v.set(p,_),f(_,p,y,v,x),_}if(typeof p=="object"&&h(p)){const _=Object.create(Object.getPrototypeOf(p));return v.set(p,_),f(_,p,y,v,x),_}return p}function f(p,g,y=p,v,x){const w=[...Object.keys(g),...t.getSymbols(g)];for(let _=0;_<w.length;_++){const N=w[_],O=Object.getOwnPropertyDescriptor(p,N);(O==null||O.writable)&&(p[N]=d(g[N],N,y,v,x))}}function h(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=d,e.copyProperties=f})(z0)),z0}var zA;function qK(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bM();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(U0)),U0}var qA;function FK(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yM(),r=qK();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(M0)),M0}var H0={},V0={},G0={},FA;function KK(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bM(),r=g1(),n=vM();function a(s,l){return t.cloneDeepWith(s,(d,f,h,p)=>{const g=l==null?void 0:l(d,f,h,p);if(g!==void 0)return g;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const y={};return p.set(s,y),t.copyProperties(y,s,h,p),y}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(y,s),y}case n.argumentsTag:{const y={};return t.copyProperties(y,s),y.length=s.length,y[Symbol.iterator]=s[Symbol.iterator],y}default:return}}})}e.cloneDeepWith=a})(G0)),G0}var KA;function QK(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KK();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(V0)),V0}var Y0={},W0={},QA;function xM(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(W0)),W0}var X0={},HA;function HK(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g1();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(X0)),X0}var VA;function VK(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lM(),r=xM(),n=HK(),a=d1();function s(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(l==null?void 0:l[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=s})(Y0)),Y0}var GA;function GK(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yM(),r=u1(),n=QK(),a=f1(),s=VK();function l(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return f=n.cloneDeep(f),function(h){const p=a.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=l})(H0)),H0}var YA;function YK(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hM(),r=BK(),n=FK(),a=GK();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(T0)),T0}var WA;function WK(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DK(),r=MK(),n=hM(),a=LK(),s=YK();function l(d,f=n.identity){return a.isArrayLikeObject(d)?t.uniqBy(Array.from(d),r.ary(s.iteratee(f),1)):[]}e.uniqBy=l})(_0)),_0}var J0,XA;function XK(){return XA||(XA=1,J0=WK().uniqBy),J0}var JK=XK();const JA=Ha(JK);function wM(e,t,r){return t===!0?JA(e,r):typeof t=="function"?JA(e,t):e}var Z0={exports:{}},eb={},tb={exports:{}},rb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA;function ZK(){if(ZA)return rb;ZA=1;var e=Ic();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function d(g,y){var v=y(),x=n({inst:{value:v,getSnapshot:y}}),w=x[0].inst,_=x[1];return s(function(){w.value=v,w.getSnapshot=y,f(w)&&_({inst:w})},[g,v,y]),a(function(){return f(w)&&_({inst:w}),g(function(){f(w)&&_({inst:w})})},[g]),l(v),v}function f(g){var y=g.getSnapshot;g=g.value;try{var v=y();return!r(g,v)}catch{return!0}}function h(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return rb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,rb}var eC;function eQ(){return eC||(eC=1,tb.exports=ZK()),tb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC;function tQ(){if(tC)return eb;tC=1;var e=Ic(),t=eQ();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,d=e.useMemo,f=e.useDebugValue;return eb.useSyncExternalStoreWithSelector=function(h,p,g,y,v){var x=s(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=d(function(){function N(P){if(!O){if(O=!0,E=P,P=y(P),v!==void 0&&w.hasValue){var M=w.value;if(v(M,P))return C=M}return C=P}if(M=C,n(E,P))return M;var R=y(P);return v!==void 0&&v(M,R)?(E=P,M):(E=P,C=R)}var O=!1,E,C,T=g===void 0?null:g;return[function(){return N(p())},T===null?void 0:function(){return N(T())}]},[p,g,y,v]);var _=a(h,x[0],x[1]);return l(function(){w.hasValue=!0,w.value=_},[_]),f(_),_},eb}var rC;function rQ(){return rC||(rC=1,Z0.exports=tQ()),Z0.exports}var nQ=rQ(),y1=j.createContext(null),aQ=e=>e,Lt=()=>{var e=j.useContext(y1);return e?e.store.dispatch:aQ},vm=()=>{},iQ=()=>vm,sQ=(e,t)=>e===t;function Ae(e){var t=j.useContext(y1),r=j.useMemo(()=>t?n=>{if(n!=null)return e(n)}:vm,[t,e]);return nQ.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:iQ,t?t.store.getState:vm,t?t.store.getState:vm,r,sQ)}function oQ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function lQ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function cQ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var nC=e=>Array.isArray(e)?e:[e];function uQ(e){const t=Array.isArray(e[0])?e[0]:e;return cQ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function dQ(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var fQ=class{constructor(e){this.value=e}deref(){return this.value}},hQ=typeof WeakRef<"u"?WeakRef:fQ,mQ=0,aC=1;function Zh(){return{s:mQ,v:void 0,o:null,p:null}}function jM(e,t={}){let r=Zh();const{resultEqualityCheck:n}=t;let a,s=0;function l(){var g;let d=r;const{length:f}=arguments;for(let y=0,v=f;y<v;y++){const x=arguments[y];if(typeof x=="function"||typeof x=="object"&&x!==null){let w=d.o;w===null&&(d.o=w=new WeakMap);const _=w.get(x);_===void 0?(d=Zh(),w.set(x,d)):d=_}else{let w=d.p;w===null&&(d.p=w=new Map);const _=w.get(x);_===void 0?(d=Zh(),w.set(x,d)):d=_}}const h=d;let p;if(d.s===aC)p=d.v;else if(p=e.apply(null,arguments),s++,n){const y=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;y!=null&&n(y,p)&&(p=y,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new hQ(p):p}return h.s=aC,h.v=p,p}return l.clearCache=()=>{r=Zh(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function pQ(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,d,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),oQ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:v=jM,argsMemoizeOptions:x=[]}=p,w=nC(y),_=nC(x),N=uQ(a),O=g(function(){return s++,h.apply(null,arguments)},...w),E=v(function(){l++;const T=dQ(N,arguments);return d=O.apply(null,T),d},..._);return Object.assign(E,{resultFunc:h,memoizedResultFunc:O,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var W=pQ(jM),gQ=Object.assign((e,t=W)=>{lQ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,d,f)=>(l[r[f]]=d,l),{}))},{withTypes:()=>gQ}),nb={},ab={},ib={},iC;function yQ(){return iC||(iC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),d=t(a);if(l===d&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};e.compareValues=r})(ib)),ib}var sb={},ob={},sC;function SM(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(ob)),ob}var oC;function vQ(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SM(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(sb)),sb}var lC;function bQ(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yQ(),r=vQ(),n=d1();function a(s,l,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(v=>String(v));const h=(v,x)=>{let w=v;for(let _=0;_<x.length&&w!=null;++_)w=w[x[_]];return w},p=(v,x)=>x==null||v==null?x:typeof v=="object"&&"key"in v?Object.hasOwn(x,v.key)?x[v.key]:h(x,v.path):typeof v=="function"?v(x):Array.isArray(v)?h(x,v):typeof x=="object"?x[v]:x,g=l.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return s.map(v=>({original:v,criteria:g.map(x=>p(x,v))})).slice().sort((v,x)=>{for(let w=0;w<g.length;w++){const _=t.compareValues(v.criteria[w],x.criteria[w],d[w]);if(_!==0)return _}return 0}).map(v=>v.original)}e.orderBy=a})(ab)),ab}var lb={},cC;function xQ(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?l(p,f+1):a.push(p)}};return l(r,0),a}e.flatten=t})(lb)),lb}var cb={},uC;function _M(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xM(),r=p1(),n=mM(),a=gM();function s(l,d,f){return n.isObject(f)&&(typeof d=="number"&&r.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.isEqualsSameValueZero(f[d],l):!1}e.isIterateeCall=s})(cb)),cb}var dC;function wQ(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bQ(),r=xQ(),n=_M();function a(s,...l){const d=l.length;return d>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})(nb)),nb}var ub,fC;function jQ(){return fC||(fC=1,ub=wQ().sortBy),ub}var SQ=jQ();const Yp=Ha(SQ);var NM=e=>e.legend.settings,_Q=e=>e.legend.size,NQ=e=>e.legend.payload,OQ=W([NQ,NM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Yp(n,r):n});function EQ(){return Ae(OQ)}var em=1;function OM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>em||Math.abs(l.left-t.left)>em||Math.abs(l.top-t.top)>em||Math.abs(l.width-t.width)>em)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Qr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var AQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",hC=AQ,db=()=>Math.random().toString(36).substring(7).split("").join("."),CQ={INIT:`@@redux/INIT${db()}`,REPLACE:`@@redux/REPLACE${db()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${db()}`},Lm=CQ;function v1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function EM(e,t,r){if(typeof e!="function")throw new Error(Qr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Qr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Qr(1));return r(EM)(e,t)}let n=e,a=t,s=new Map,l=s,d=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((_,N)=>{l.set(N,_)}))}function p(){if(f)throw new Error(Qr(3));return a}function g(_){if(typeof _!="function")throw new Error(Qr(4));if(f)throw new Error(Qr(5));let N=!0;h();const O=d++;return l.set(O,_),function(){if(N){if(f)throw new Error(Qr(6));N=!1,h(),l.delete(O),s=null}}}function y(_){if(!v1(_))throw new Error(Qr(7));if(typeof _.type>"u")throw new Error(Qr(8));if(typeof _.type!="string")throw new Error(Qr(17));if(f)throw new Error(Qr(9));try{f=!0,a=n(a,_)}finally{f=!1}return(s=l).forEach(O=>{O()}),_}function v(_){if(typeof _!="function")throw new Error(Qr(10));n=_,y({type:Lm.REPLACE})}function x(){const _=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Qr(11));function O(){const C=N;C.next&&C.next(p())}return O(),{unsubscribe:_(O)}},[hC](){return this}}}return y({type:Lm.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:v,[hC]:x}}function kQ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Lm.INIT})>"u")throw new Error(Qr(12));if(typeof r(void 0,{type:Lm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qr(13))})}function AM(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{kQ(r)}catch(s){a=s}return function(l={},d){if(a)throw a;let f=!1;const h={};for(let p=0;p<n.length;p++){const g=n[p],y=r[g],v=l[g],x=y(v,d);if(typeof x>"u")throw d&&d.type,new Error(Qr(14));h[g]=x,f=f||x!==v}return f=f||n.length!==Object.keys(l).length,f?h:l}}function Bm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function PQ(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Qr(15))};const l={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},d=e.map(f=>f(l));return s=Bm(...d)(a.dispatch),{...a,dispatch:s}}}function CM(e){return v1(e)&&"type"in e&&typeof e.type=="string"}var kM=Symbol.for("immer-nothing"),mC=Symbol.for("immer-draftable"),un=Symbol.for("immer-state");function va(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rn=Object,Cc=Rn.getPrototypeOf,$m="constructor",Wp="prototype",Mx="configurable",Um="enumerable",bm="writable",_d="value",Ai=e=>!!e&&!!e[un];function ja(e){var t;return e?PM(e)||Jp(e)||!!e[mC]||!!((t=e[$m])!=null&&t[mC])||Zp(e)||eg(e):!1}var TQ=Rn[Wp][$m].toString(),pC=new WeakMap;function PM(e){if(!e||!b1(e))return!1;const t=Cc(e);if(t===null||t===Rn[Wp])return!0;const r=Rn.hasOwnProperty.call(t,$m)&&t[$m];if(r===Object)return!0;if(!ac(r))return!1;let n=pC.get(r);return n===void 0&&(n=Function.toString.call(r),pC.set(r,n)),n===TQ}function Xp(e,t,r=!0){sf(e)===0?(r?Reflect.ownKeys(e):Rn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function sf(e){const t=e[un];return t?t.type_:Jp(e)?1:Zp(e)?2:eg(e)?3:0}var gC=(e,t,r=sf(e))=>r===2?e.has(t):Rn[Wp].hasOwnProperty.call(e,t),Rx=(e,t,r=sf(e))=>r===2?e.get(t):e[t],zm=(e,t,r,n=sf(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function DQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Jp=Array.isArray,Zp=e=>e instanceof Map,eg=e=>e instanceof Set,b1=e=>typeof e=="object",ac=e=>typeof e=="function",fb=e=>typeof e=="boolean";function MQ(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var mi=e=>e.copy_||e.base_,x1=e=>e.modified_?e.copy_:e.base_;function Ix(e,t){if(Zp(e))return new Map(e);if(eg(e))return new Set(e);if(Jp(e))return Array[Wp].slice.call(e);const r=PM(e);if(t===!0||t==="class_only"&&!r){const n=Rn.getOwnPropertyDescriptors(e);delete n[un];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],d=n[l];d[bm]===!1&&(d[bm]=!0,d[Mx]=!0),(d.get||d.set)&&(n[l]={[Mx]:!0,[bm]:!0,[Um]:d[Um],[_d]:e[l]})}return Rn.create(Cc(e),n)}else{const n=Cc(e);if(n!==null&&r)return{...e};const a=Rn.create(n);return Rn.assign(a,e)}}function w1(e,t=!1){return tg(e)||Ai(e)||!ja(e)||(sf(e)>1&&Rn.defineProperties(e,{set:tm,add:tm,clear:tm,delete:tm}),Rn.freeze(e),t&&Xp(e,(r,n)=>{w1(n,!0)},!1)),e}function RQ(){va(2)}var tm={[_d]:RQ};function tg(e){return e===null||!b1(e)?!0:Rn.isFrozen(e)}var qm="MapSet",Lx="Patches",yC="ArrayMethods",TM={};function Ho(e){const t=TM[e];return t||va(0,e),t}var vC=e=>!!TM[e],Nd,DM=()=>Nd,IQ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:vC(qm)?Ho(qm):void 0,arrayMethodsPlugin_:vC(yC)?Ho(yC):void 0});function bC(e,t){t&&(e.patchPlugin_=Ho(Lx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Bx(e){$x(e),e.drafts_.forEach(LQ),e.drafts_=null}function $x(e){e===Nd&&(Nd=e.parent_)}var xC=e=>Nd=IQ(Nd,e);function LQ(e){const t=e[un];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[un].modified_&&(Bx(t),va(4)),ja(e)&&(e=jC(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[un].base_,e,t)}else e=jC(t,r);return BQ(t,e,!0),Bx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kM?e:void 0}function jC(e,t){if(tg(t))return t;const r=t[un];if(!r)return Fm(t,e.handledSet_,e);if(!rg(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);IM(r,e)}return r.copy_}function BQ(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&w1(t,r)}function MM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var rg=(e,t)=>e.scope_===t,$Q=[];function RM(e,t,r,n){const a=mi(e),s=e.type_;if(n!==void 0&&Rx(a,n,s)===t){zm(a,n,r,s);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;Xp(a,(f,h)=>{if(Ai(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const l=e.draftLocations_.get(t)??$Q;for(const d of l)zm(a,d,r,s)}function UQ(e,t,r){e.callbacks_.push(function(a){var d;const s=t;if(!s||!rg(s,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(s);const l=x1(s);RM(e,s.draft_??s,l,r),IM(s,a)})}function IM(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}MM(e)}}function zQ(e,t,r){const{scope_:n}=e;if(Ai(r)){const a=r[un];rg(a,n)&&a.callbacks_.push(function(){xm(e);const l=x1(a);RM(e,r,l,t)})}else ja(r)&&e.callbacks_.push(function(){const s=mi(e);e.type_===3?s.has(r)&&Fm(r,n.handledSet_,n):Rx(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Fm(Rx(e.copy_,t,e.type_),n.handledSet_,n)})}function Fm(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ai(e)||t.has(e)||!ja(e)||tg(e)||(t.add(e),Xp(e,(n,a)=>{if(Ai(a)){const s=a[un];if(rg(s,r)){const l=x1(s);zm(e,n,l,e.type_),MM(s)}}else ja(a)&&Fm(a,t,r)})),e}function qQ(e,t){const r=Jp(e),n={type_:r?1:0,scope_:t?t.scope_:DM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Km;r&&(a=[n],s=Od);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return n.draft_=d,n.revoke_=l,[d,n]}var Km={get(e,t){if(t===un)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=mi(e);if(!gC(a,t,e.type_))return FQ(e,a,t);const s=a[t];if(e.finalized_||!ja(s)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&MQ(t))return s;if(s===hb(e.base_,t)){xm(e);const l=e.type_===1?+t:t,d=zx(e.scope_,s,e,l);return e.copy_[l]=d}return s},has(e,t){return t in mi(e)},ownKeys(e){return Reflect.ownKeys(mi(e))},set(e,t,r){const n=LM(mi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=hb(mi(e),t),s=a==null?void 0:a[un];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(DQ(r,a)&&(r!==void 0||gC(e.base_,t,e.type_)))return!0;xm(e),Ux(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),zQ(e,t,r)),!0},deleteProperty(e,t){return xm(e),hb(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ux(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=mi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[bm]:!0,[Mx]:e.type_!==1||t!=="length",[Um]:n[Um],[_d]:r[t]}},defineProperty(){va(11)},getPrototypeOf(e){return Cc(e.base_)},setPrototypeOf(){va(12)}},Od={};for(let e in Km){let t=Km[e];Od[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Od.deleteProperty=function(e,t){return Od.set.call(this,e,t,void 0)};Od.set=function(e,t,r){return Km.set.call(this,e[0],t,r,e[0])};function hb(e,t){const r=e[un];return(r?mi(r):e)[t]}function FQ(e,t,r){var a;const n=LM(t,r);return n?_d in n?n[_d]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function LM(e,t){if(!(t in e))return;let r=Cc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Cc(r)}}function Ux(e){e.modified_||(e.modified_=!0,e.parent_&&Ux(e.parent_))}function xm(e){e.copy_||(e.assigned_=new Map,e.copy_=Ix(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var KQ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(ac(r)&&!ac(n)){const l=n;n=r;const d=this;return function(h=l,...p){return d.produce(h,g=>n.call(this,g,...p))}}ac(n)||va(6),a!==void 0&&!ac(a)&&va(7);let s;if(ja(r)){const l=xC(this),d=zx(l,r,void 0);let f=!0;try{s=n(d),f=!1}finally{f?Bx(l):$x(l)}return bC(l,a),wC(s,l)}else if(!r||!b1(r)){if(s=n(r),s===void 0&&(s=r),s===kM&&(s=void 0),this.autoFreeze_&&w1(s,!0),a){const l=[],d=[];Ho(Lx).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:d}),a(l,d)}return s}else va(1,r)},this.produceWithPatches=(r,n)=>{if(ac(r))return(d,...f)=>this.produceWithPatches(d,h=>r(h,...f));let a,s;return[this.produce(r,n,(d,f)=>{a=d,s=f}),a,s]},fb(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),fb(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),fb(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ja(t)||va(8),Ai(t)&&(t=wa(t));const r=xC(this),n=zx(r,t,void 0);return n[un].isManual_=!0,$x(r),n}finishDraft(t,r){const n=t&&t[un];(!n||!n.isManual_)&&va(9);const{scope_:a}=n;return bC(a,r),wC(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Ho(Lx).applyPatches_;return Ai(t)?a(t,r):this.produce(t,s=>a(s,r))}};function zx(e,t,r,n){const[a,s]=Zp(t)?Ho(qm).proxyMap_(t,r):eg(t)?Ho(qm).proxySet_(t,r):qQ(t,r);return((r==null?void 0:r.scope_)??DM()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?UQ(r,s,n):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function wa(e){return Ai(e)||va(10,e),BM(e)}function BM(e){if(!ja(e)||tg(e))return e;const t=e[un];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ix(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Ix(e,!0);return Xp(r,(a,s)=>{zm(r,a,BM(s))},n),t&&(t.finalized_=!1),r}var QQ=new KQ,$M=QQ.produce;function UM(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var HQ=UM(),VQ=UM,GQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bm:Bm.apply(null,arguments)};function sa(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(In(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>CM(n)&&n.type===e,r}var zM=class od extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,od.prototype)}static get[Symbol.species](){return od}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new od(...t[0].concat(this)):new od(...t.concat(this))}};function SC(e){return ja(e)?$M(e,()=>{}):e}function rm(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function YQ(e){return typeof e=="boolean"}var WQ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new zM;return r&&(YQ(r)?l.push(HQ):l.push(VQ(r.extraArgument))),l},qM="RTK_autoBatch",Qt=()=>e=>({payload:e,meta:{[qM]:!0}}),_C=e=>t=>{setTimeout(t,e)},FM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_C(10):e.type==="callback"?e.queueNotification:_C(e.timeout),h=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>a&&p(),y=n.subscribe(g);return d.add(p),()=>{y(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[qM]),s=!a,s&&(l||(l=!0,f(h))),n.dispatch(p)}finally{a=!0}}})},XQ=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new zM(e);return n&&a.push(FM(typeof n=="object"?n:void 0)),a};function JQ(e){const t=WQ(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(v1(r))d=AM(r);else throw new Error(In(1));let f;typeof n=="function"?f=n(t):f=t();let h=Bm;a&&(h=GQ({trace:!1,...typeof a=="object"&&a}));const p=PQ(...f),g=XQ(p);let y=typeof l=="function"?l(g):g();const v=h(...y);return EM(d,s,v)}function KM(e){const t={},r=[];let n;const a={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(In(28));if(d in t)throw new Error(In(29));return t[d]=l,a},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function ZQ(e){return typeof e=="function"}function e7(e,t){let[r,n,a]=KM(t),s;if(ZQ(e))s=()=>SC(e());else{const d=SC(e);s=()=>d}function l(d=s(),f){let h=[r[f.type],...n.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(Ai(p)){const v=g(p,f);return v===void 0?p:v}else{if(ja(p))return $M(p,y=>g(y,f));{const y=g(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},d)}return l.getInitialState=s,l}var t7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",r7=(e=21)=>{let t="",r=e;for(;r--;)t+=t7[Math.random()*64|0];return t},n7=Symbol.for("rtk-slice-createasyncthunk");function a7(e,t){return`${e}/${t}`}function i7({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[n7];return function(a){const{name:s,reducerPath:l=s}=a;if(!s)throw new Error(In(11));const d=(typeof a.reducers=="function"?a.reducers(o7()):a.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(C,T){const P=typeof C=="string"?C:C.type;if(!P)throw new Error(In(12));if(P in h.sliceCaseReducersByType)throw new Error(In(13));return h.sliceCaseReducersByType[P]=T,p},addMatcher(C,T){return h.sliceMatchers.push({matcher:C,reducer:T}),p},exposeAction(C,T){return h.actionCreators[C]=T,p},exposeCaseReducer(C,T){return h.sliceCaseReducersByName[C]=T,p}};f.forEach(C=>{const T=d[C],P={reducerName:C,type:a7(s,C),createNotation:typeof a.reducers=="function"};c7(T)?d7(P,T,p,t):l7(P,T,p)});function g(){const[C={},T=[],P=void 0]=typeof a.extraReducers=="function"?KM(a.extraReducers):[a.extraReducers],M={...C,...h.sliceCaseReducersByType};return e7(a.initialState,R=>{for(let B in M)R.addCase(B,M[B]);for(let B of h.sliceMatchers)R.addMatcher(B.matcher,B.reducer);for(let B of T)R.addMatcher(B.matcher,B.reducer);P&&R.addDefaultCase(P)})}const y=C=>C,v=new Map,x=new WeakMap;let w;function _(C,T){return w||(w=g()),w(C,T)}function N(){return w||(w=g()),w.getInitialState()}function O(C,T=!1){function P(R){let B=R[C];return typeof B>"u"&&T&&(B=rm(x,P,N)),B}function M(R=y){const B=rm(v,T,()=>new WeakMap);return rm(B,R,()=>{const H={};for(const[Y,K]of Object.entries(a.selectors??{}))H[Y]=s7(K,R,()=>rm(x,R,N),T);return H})}return{reducerPath:C,getSelectors:M,get selectors(){return M(P)},selectSlice:P}}const E={name:s,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:N,...O(l),injectInto(C,{reducerPath:T,...P}={}){const M=T??l;return C.inject({reducerPath:M,reducer:_},P),{...E,...O(M,!0)}}};return E}}function s7(e,t,r,n){function a(s,...l){let d=t(s);return typeof d>"u"&&n&&(d=r()),e(d,...l)}return a.unwrapped=e,a}var Sn=i7();function o7(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function l7({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!u7(n))throw new Error(In(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?sa(e,l):sa(e))}function c7(e){return e._reducerDefinitionType==="asyncThunk"}function u7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function d7({type:e,reducerName:t},r,n,a){if(!a)throw new Error(In(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=r,g=a(e,s,p);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),d&&n.addCase(g.pending,d),f&&n.addCase(g.rejected,f),h&&n.addMatcher(g.settled,h),n.exposeCaseReducer(t,{fulfilled:l||nm,pending:d||nm,rejected:f||nm,settled:h||nm})}function nm(){}var f7="task",QM="listener",HM="completed",j1="cancelled",h7=`task-${j1}`,m7=`task-${HM}`,qx=`${QM}-${j1}`,p7=`${QM}-${HM}`,ng=class{constructor(e){Wv(this,"name","TaskAbortError");Wv(this,"message");this.code=e,this.message=`${f7} ${j1} (reason: ${e})`}},S1=(e,t)=>{if(typeof e!="function")throw new TypeError(In(32))},Qm=()=>{},VM=(e,t=Qm)=>(e.catch(t),e),GM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Lo=e=>{if(e.aborted)throw new ng(e.reason)};function YM(e,t){let r=Qm;return new Promise((n,a)=>{const s=()=>a(new ng(e.reason));if(e.aborted){s();return}r=GM(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Qm})}var g7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ng?"cancelled":"rejected",error:r}}finally{t==null||t()}},Hm=e=>t=>VM(YM(e,t).then(r=>(Lo(e),r))),WM=e=>{const t=Hm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:cc}=Object,NC={},ag="listenerMiddleware",y7=(e,t)=>{const r=n=>GM(e,()=>n.abort(e.reason));return(n,a)=>{S1(n);const s=new AbortController;r(s);const l=g7(async()=>{Lo(e),Lo(s.signal);const d=await n({pause:Hm(s.signal),delay:WM(s.signal),signal:s.signal});return Lo(s.signal),d},()=>s.abort(m7));return a!=null&&a.autoJoin&&t.push(l.catch(Qm)),{result:Hm(e)(l),cancel(){s.abort(h7)}}}},v7=(e,t)=>{const r=async(n,a)=>{Lo(t);let s=()=>{};const d=[new Promise((f,h)=>{let p=e({predicate:n,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await YM(t,Promise.race(d));return Lo(t),f}finally{s()}};return(n,a)=>VM(r(n,a))},XM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=sa(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(In(21));return S1(s),{predicate:a,type:t,effect:s}},JM=cc(e=>{const{type:t,predicate:r,effect:n}=XM(e);return{id:r7(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(In(22))}}},{withTypes:()=>JM}),OC=(e,t)=>{const{type:r,effect:n,predicate:a}=XM(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},Fx=e=>{e.pending.forEach(t=>{t.abort(qx)})},b7=(e,t)=>()=>{for(const r of t.keys())Fx(r);e.clear()},EC=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},ZM=cc(sa(`${ag}/add`),{withTypes:()=>ZM}),x7=sa(`${ag}/removeAll`),eR=cc(sa(`${ag}/remove`),{withTypes:()=>eR}),w7=(...e)=>{console.error(`${ag}/error`,...e)},of=(e={})=>{const t=new Map,r=new Map,n=v=>{const x=r.get(v)??0;r.set(v,x+1)},a=v=>{const x=r.get(v)??1;x===1?r.delete(v):r.set(v,x-1)},{extra:s,onError:l=w7}=e;S1(l);const d=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),x=>{v.unsubscribe(),x!=null&&x.cancelActive&&Fx(v)}),f=v=>{const x=OC(t,v)??JM(v);return d(x)};cc(f,{withTypes:()=>f});const h=v=>{const x=OC(t,v);return x&&(x.unsubscribe(),v.cancelActive&&Fx(x)),!!x};cc(h,{withTypes:()=>h});const p=async(v,x,w,_)=>{const N=new AbortController,O=v7(f,N.signal),E=[];try{v.pending.add(N),n(v),await Promise.resolve(v.effect(x,cc({},w,{getOriginalState:_,condition:(C,T)=>O(C,T).then(Boolean),take:O,delay:WM(N.signal),pause:Hm(N.signal),extra:s,signal:N.signal,fork:y7(N.signal,E),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((C,T,P)=>{C!==N&&(C.abort(qx),P.delete(C))})},cancel:()=>{N.abort(qx),v.pending.delete(N)},throwIfCancelled:()=>{Lo(N.signal)}})))}catch(C){C instanceof ng||EC(l,C,{raisedBy:"effect"})}finally{await Promise.all(E),N.abort(p7),a(v),v.pending.delete(N)}},g=b7(t,r);return{middleware:v=>x=>w=>{if(!CM(w))return x(w);if(ZM.match(w))return f(w.payload);if(x7.match(w)){g();return}if(eR.match(w))return h(w.payload);let _=v.getState();const N=()=>{if(_===NC)throw new Error(In(23));return _};let O;try{if(O=x(w),t.size>0){const E=v.getState(),C=Array.from(t.values());for(const T of C){let P=!1;try{P=T.predicate(w,E,_)}catch(M){P=!1,EC(l,M,{raisedBy:"predicate"})}P&&p(T,w,v,N)}}}finally{_=NC}return O},startListening:f,stopListening:h,clearListeners:g}};function In(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var j7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},tR=Sn({name:"chartLayout",initialState:j7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:S7,setLayout:_7,setChartSize:N7,setScale:O7}=tR.actions,E7=tR.reducer;function rR(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function lt(e){return Number.isFinite(e)}function Ka(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function AC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(r),!0).forEach(function(n){A7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A7(e,t,r){return(t=C7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C7(e){var t=k7(e,"string");return typeof t=="symbol"?t:t+""}function k7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tt(e,t,r){return Wt(e)||Wt(t)?r:Fa(t)?Ko(e,t,r):typeof t=="function"?t(e):r}var P7=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:d}=t;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&Ne(e[s]))return sc(sc({},e),{},{[s]:e[s]+(n||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&Ne(e[l]))return sc(sc({},e),{},{[l]:e[l]+(a||0)})}return e},Bi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",nR=(e,t,r,n)=>{if(n)return e.map(d=>d.coordinate);var a,s,l=e.map(d=>(d.coordinate===t&&(a=!0),d.coordinate===r&&(s=!0),d.coordinate));return a||l.push(t),s||l.push(r),l},aR=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:y,axisType:v}=e;if(!l)return null;var x=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=a==="category"&&l.bandwidth?l.bandwidth()/x:0;if(w=v==="angleAxis"&&s&&s.length>=2?Tr(s[0]-s[1])*2*w:w,g||y){var _=(g||y||[]).map((N,O)=>{var E=n?n.indexOf(N):N,C=l.map(E);return lt(C)?{coordinate:C+w,value:N,offset:w,index:O}:null}).filter(wn);return _}return f&&h?h.map((N,O)=>{var E=l.map(N);return lt(E)?{coordinate:E+w,value:N,index:O,offset:w}:null}).filter(wn):l.ticks&&p!=null?l.ticks(p).map((N,O)=>{var E=l.map(N);return lt(E)?{coordinate:E+w,value:N,index:O,offset:w}:null}).filter(wn):l.domain().map((N,O)=>{var E=l.map(N);return lt(E)?{coordinate:E+w,value:n?n[N]:N,index:O,offset:w}:null}).filter(wn)},T7=(e,t)=>{if(!t||t.length!==2||!Ne(t[0])||!Ne(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Ne(e[0])||e[0]<r)&&(a[0]=r),(!Ne(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},D7=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0,d=0;d<r;++d){var f=e[d],h=f==null?void 0:f[a];if(h!=null){var p=h[1],g=h[0],y=qa(p)?g:p;y>=0?(h[0]=s,s+=y,h[1]=s):(h[0]=l,l+=y,h[1]=l)}}}},M7=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0;l<r;++l){var d=e[l],f=d==null?void 0:d[a];if(f!=null){var h=qa(f[1])?f[0]:f[1];h>=0?(f[0]=s,s+=h,f[1]=s):(f[0]=0,f[1]=0)}}}},R7={sign:D7,expand:tK,none:Fo,silhouette:rK,wiggle:nK,positive:M7},I7=(e,t,r)=>{var n,a=(n=R7[r])!==null&&n!==void 0?n:Fo,s=eK().keys(t).value((d,f)=>Number(Tt(d,f,0))).order(Tx).offset(a),l=s(e);return l.forEach((d,f)=>{d.forEach((h,p)=>{var g=Tt(e[p],t[f],0);Array.isArray(g)&&g.length===2&&Ne(g[0])&&Ne(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function L7(e){return e==null?void 0:String(e)}function CC(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Wt(a[t.dataKey])){var d=uM(r,"value",a[t.dataKey]);if(d)return d.coordinate+n/2}return r!=null&&r[s]?r[s].coordinate+n/2:null}var f=Tt(a,Wt(l)?t.dataKey:l),h=t.scale.map(f);return Ne(h)?h:null}var kC=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var d=Tt(s,t.dataKey,t.scale.domain()[l]);if(Wt(d))return null;var f=t.scale.map(d);return Ne(f)?f-a/2+n:null},B7=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},$7=e=>{var t=e.flat(2).filter(Ne);return[Math.min(...t),Math.max(...t)]},U7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],z7=(e,t,r)=>{if(e!=null)return U7(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:l}=s,d=l.reduce((f,h)=>{var p=rR(h,t,r),g=$7(p);return!lt(g[0])||!lt(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},PC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Yp(t,p=>p.coordinate),s=1/0,l=1,d=a.length;l<d;l++){var f=a[l],h=a[l-1];s=Math.min(((f==null?void 0:f.coordinate)||0)-((h==null?void 0:h.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function DC(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return sc(sc({},t),{},{dataKey:r,payload:n,value:a,name:s})}function Kc(e,t){if(e)return String(e);if(typeof t=="string")return t}var q7=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},F7=(e,t)=>t==="centric"?e.angle:e.radius,$i=e=>e.layout.width,Ui=e=>e.layout.height,K7=e=>e.layout.scale,iR=e=>e.layout.margin,ig=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),sg=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),sR="data-recharts-item-index",oR="data-recharts-item-id",lf=60;function MC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(r),!0).forEach(function(n){Q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q7(e,t,r){return(t=H7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G7=e=>e.brush.height;function Y7(e){var t=sg(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:lf;return r+a}return r},0)}function W7(e){var t=sg(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:lf;return r+a}return r},0)}function X7(e){var t=ig(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function J7(e){var t=ig(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Sr=W([$i,Ui,iR,G7,Y7,W7,X7,J7,NM,_Q],(e,t,r,n,a,s,l,d,f,h)=>{var p={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+d},y=am(am({},g),p),v=y.bottom;y.bottom+=n,y=P7(y,f,h);var x=e-y.left-y.right,w=t-y.top-y.bottom;return am(am({brushBottom:v},y),{},{width:Math.max(x,0),height:Math.max(w,0)})}),Z7=W(Sr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),_1=W($i,Ui,(e,t)=>({x:0,y:0,width:e,height:t})),eH=j.createContext(null),en=()=>j.useContext(eH)!=null,og=e=>e.brush,lg=W([og,Sr,iR],(e,t,r)=>({height:e.height,x:Ne(e.x)?e.x:t.left,y:Ne(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Ne(e.width)?e.width:t.width})),mb={},pb={},gb={},RC;function tH(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(r.apply(l,d),l=void 0,d=null)},g=()=>{h&&p(),w()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},n)},x=()=>{y!==null&&(clearTimeout(y),y=null)},w=()=>{x(),l=void 0,d=null},_=()=>{p()},N=function(...O){if(a!=null&&a.aborted)return;l=this,d=O;const E=y==null;v(),f&&E&&p()};return N.schedule=v,N.cancel=w,N.flush=_,a==null||a.addEventListener("abort",w,{once:!0}),N}e.debounce=t})(gb)),gb}var IC;function rH(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tH();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const y=t.debounce(function(...w){p=n.apply(this,w),g=null},a,{edges:h}),v=function(...w){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=n.apply(this,w),g=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,w),p)},x=()=>(y.flush(),p);return v.cancel=y.cancel,v.flush=x,v}e.debounce=r})(pb)),pb}var LC;function nH(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rH();function r(n,a=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return t.debounce(n,a,{leading:l,maxWait:a,trailing:d})}e.throttle=r})(mb)),mb}var yb,BC;function aH(){return BC||(BC=1,yb=nH().throttle),yb}var iH=aH();const sH=Ha(iH);var Vm=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},$a={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},lR=(e,t,r)=>{var{width:n=$a.width,height:a=$a.height,aspect:s,maxHeight:l}=r,d=Qo(n)?e:Number(n),f=Qo(a)?t:Number(a);return s&&s>0&&(d?f=d/s:f&&(d=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:d,calculatedHeight:f}},oH={width:0,height:0,overflow:"visible"},lH={width:0,overflowX:"visible"},cH={height:0,overflowY:"visible"},uH={},dH=e=>{var{width:t,height:r}=e,n=Qo(t),a=Qo(r);return n&&a?oH:n?lH:a?cH:uH};function fH(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a=$a.width,s=$a.height):a===void 0?a=n&&n>0?void 0:$a.width:s===void 0&&(s=n&&n>0?void 0:$a.height),{width:a,height:s}}function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(null,arguments)}function $C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(r),!0).forEach(function(n){hH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hH(e,t,r){return(t=mH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mH(e){var t=pH(e,"string");return typeof t=="symbol"?t:t+""}function pH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cR=j.createContext($a.initialDimension);function gH(e){return Ka(e.width)&&Ka(e.height)}function uR(e){var{children:t,width:r,height:n}=e,a=j.useMemo(()=>({width:r,height:n}),[r,n]);return gH(a)?j.createElement(cR.Provider,{value:a},t):null}var N1=()=>j.useContext(cR),yH=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=$a.initialDimension,width:a,height:s,minWidth:l=$a.minWidth,minHeight:d,maxHeight:f,children:h,debounce:p=$a.debounce,id:g,className:y,onResize:v,style:x={}}=e,w=j.useRef(null),_=j.useRef();_.current=v,j.useImperativeHandle(t,()=>w.current);var[N,O]=j.useState({containerWidth:n.width,containerHeight:n.height}),E=j.useCallback((R,B)=>{O(H=>{var Y=Math.round(R),K=Math.round(B);return H.containerWidth===Y&&H.containerHeight===K?H:{containerWidth:Y,containerHeight:K}})},[]);j.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Zo;var R=K=>{var me,ie=K[0];if(ie!=null){var{width:ye,height:L}=ie.contentRect;E(ye,L),(me=_.current)===null||me===void 0||me.call(_,ye,L)}};p>0&&(R=sH(R,p,{trailing:!0,leading:!1}));var B=new ResizeObserver(R),{width:H,height:Y}=w.current.getBoundingClientRect();return E(H,Y),B.observe(w.current),()=>{B.disconnect()}},[E,p]);var{containerWidth:C,containerHeight:T}=N;Vm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:M}=lR(C,T,{width:a,height:s,aspect:r,maxHeight:f});return Vm(P!=null&&P>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,M,a,s,l,d,r),j.createElement("div",{id:g?"".concat(g):void 0,className:ft("recharts-responsive-container",y),style:UC(UC({},x),{},{width:a,height:s,minWidth:l,minHeight:d,maxHeight:f}),ref:w},j.createElement("div",{style:dH({width:a,height:s})},j.createElement(uR,{width:P,height:M},h)))}),uc=j.forwardRef((e,t)=>{var r=N1();if(Ka(r.width)&&Ka(r.height))return e.children;var{width:n,height:a}=fH({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=lR(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Ne(s)&&Ne(l)?j.createElement(uR,{width:s,height:l},e.children):j.createElement(yH,Kx({},e,{width:n,height:a,ref:t}))});function O1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var cg=()=>{var e,t=en(),r=Ae(Z7),n=Ae(lg),a=(e=Ae(og))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},vH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},dR=()=>{var e;return(e=Ae(Sr))!==null&&e!==void 0?e:vH},E1=()=>Ae($i),A1=()=>Ae(Ui),bH=()=>Ae(e=>e.layout.margin),mt=e=>e.layout.layoutType,el=()=>Ae(mt),fR=()=>{var e=el();if(e==="horizontal"||e==="vertical")return e},hR=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},xH=()=>{var e=el();return e!==void 0},cf=e=>{var t=Lt(),r=en(),{width:n,height:a}=e,s=N1(),l=n,d=a;return s&&(l=s.width>0?s.width:n,d=s.height>0?s.height:a),j.useEffect(()=>{!r&&Ka(l)&&Ka(d)&&t(N7({width:l,height:d}))},[t,r,l,d]),null},mR=Symbol.for("immer-nothing"),zC=Symbol.for("immer-draftable"),Bn=Symbol.for("immer-state");function ba(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ed=Object.getPrototypeOf;function Pc(e){return!!e&&!!e[Bn]}function Vo(e){var t;return e?pR(e)||Array.isArray(e)||!!e[zC]||!!((t=e.constructor)!=null&&t[zC])||uf(e)||dg(e):!1}var wH=Object.prototype.constructor.toString(),qC=new WeakMap;function pR(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=qC.get(r);return n===void 0&&(n=Function.toString.call(r),qC.set(r,n)),n===wH}function Gm(e,t,r=!0){ug(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function ug(e){const t=e[Bn];return t?t.type_:Array.isArray(e)?1:uf(e)?2:dg(e)?3:0}function Qx(e,t){return ug(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gR(e,t,r){const n=ug(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function jH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function uf(e){return e instanceof Map}function dg(e){return e instanceof Set}function yo(e){return e.copy_||e.base_}function Hx(e,t){if(uf(e))return new Map(e);if(dg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=pR(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Bn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],d=n[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[l]})}return Object.create(Ed(e),n)}else{const n=Ed(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function C1(e,t=!1){return fg(e)||Pc(e)||!Vo(e)||(ug(e)>1&&Object.defineProperties(e,{set:im,add:im,clear:im,delete:im}),Object.freeze(e),t&&Object.values(e).forEach(r=>C1(r,!0))),e}function SH(){ba(2)}var im={value:SH};function fg(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var _H={};function Go(e){const t=_H[e];return t||ba(0,e),t}var Ad;function yR(){return Ad}function NH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FC(e,t){t&&(Go("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Vx(e){Gx(e),e.drafts_.forEach(OH),e.drafts_=null}function Gx(e){e===Ad&&(Ad=e.parent_)}function KC(e){return Ad=NH(Ad,e)}function OH(e){const t=e[Bn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function QC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Bn].modified_&&(Vx(t),ba(4)),Vo(e)&&(e=Ym(t,e),t.parent_||Wm(t,e)),t.patches_&&Go("Patches").generateReplacementPatches_(r[Bn].base_,e,t.patches_,t.inversePatches_)):e=Ym(t,r,[]),Vx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==mR?e:void 0}function Ym(e,t,r){if(fg(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Bn];if(!a)return Gm(t,(s,l)=>HC(e,a,t,s,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Wm(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,d=!1;a.type_===3&&(l=new Set(s),s.clear(),d=!0),Gm(l,(f,h)=>HC(e,a,s,f,h,r,d),n),Wm(e,s,!1),r&&e.patches_&&Go("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function HC(e,t,r,n,a,s,l){if(a==null||typeof a!="object"&&!l)return;const d=fg(a);if(!(d&&!l)){if(Pc(a)){const f=s&&t&&t.type_!==3&&!Qx(t.assigned_,n)?s.concat(n):void 0,h=Ym(e,a,f);if(gR(r,n,h),Pc(h))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Vo(a)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&d)return;Ym(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(uf(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Wm(e,a)}}}function Wm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&C1(t,r)}function EH(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:yR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=k1;r&&(a=[n],s=Cd);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return n.draft_=d,n.revoke_=l,d}var k1={get(e,t){if(t===Bn)return e;const r=yo(e);if(!Qx(r,t))return AH(e,r,t);const n=r[t];return e.finalized_||!Vo(n)?n:n===vb(e.base_,t)?(bb(e),e.copy_[t]=Wx(n,e)):n},has(e,t){return t in yo(e)},ownKeys(e){return Reflect.ownKeys(yo(e))},set(e,t,r){const n=vR(yo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=vb(yo(e),t),s=a==null?void 0:a[Bn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(jH(r,a)&&(r!==void 0||Qx(e.base_,t)))return!0;bb(e),Yx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return vb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,bb(e),Yx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=yo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ba(11)},getPrototypeOf(e){return Ed(e.base_)},setPrototypeOf(){ba(12)}},Cd={};Gm(k1,(e,t)=>{Cd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Cd.deleteProperty=function(e,t){return Cd.set.call(this,e,t,void 0)};Cd.set=function(e,t,r){return k1.set.call(this,e[0],t,r,e[0])};function vb(e,t){const r=e[Bn];return(r?yo(r):e)[t]}function AH(e,t,r){var a;const n=vR(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function vR(e,t){if(!(t in e))return;let r=Ed(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ed(r)}}function Yx(e){e.modified_||(e.modified_=!0,e.parent_&&Yx(e.parent_))}function bb(e){e.copy_||(e.copy_=Hx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var CH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(f=s,...h){return l.produce(f,p=>r.call(this,p,...h))}}typeof r!="function"&&ba(6),n!==void 0&&typeof n!="function"&&ba(7);let a;if(Vo(t)){const s=KC(this),l=Wx(t,void 0);let d=!0;try{a=r(l),d=!1}finally{d?Vx(s):Gx(s)}return FC(s,n),QC(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===mR&&(a=void 0),this.autoFreeze_&&C1(a,!0),n){const s=[],l=[];Go("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else ba(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...d)=>this.produceWithPatches(l,f=>t(f,...d));let n,a;return[this.produce(t,r,(l,d)=>{n=l,a=d}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Vo(e)||ba(8),Pc(e)&&(e=kH(e));const t=KC(this),r=Wx(e,void 0);return r[Bn].isManual_=!0,Gx(t),r}finishDraft(e,t){const r=e&&e[Bn];(!r||!r.isManual_)&&ba(9);const{scope_:n}=r;return FC(n,t),QC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Go("Patches").applyPatches_;return Pc(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Wx(e,t){const r=uf(e)?Go("MapSet").proxyMap_(e,t):dg(e)?Go("MapSet").proxySet_(e,t):EH(e,t);return(t?t.scope_:yR()).drafts_.push(r),r}function kH(e){return Pc(e)||ba(10,e),bR(e)}function bR(e){if(!Vo(e)||fg(e))return e;const t=e[Bn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Hx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Hx(e,!0);return Gm(r,(a,s)=>{gR(r,a,bR(s))},n),t&&(t.finalized_=!1),r}var PH=new CH;PH.produce;var TH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},xR=Sn({name:"legend",initialState:TH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Qt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=wa(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Qt()},removeLegendPayload:{reducer(e,t){var r=wa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Qt()}}}),{setLegendSize:VC,setLegendSettings:DH,addLegendPayload:wR,replaceLegendPayload:jR,removeLegendPayload:SR}=xR.actions,MH=xR.reducer,RH=["contextPayload"];function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xx.apply(null,arguments)}function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){IH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IH(e,t,r){return(t=LH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=BH(e,"string");return typeof t=="symbol"?t:t+""}function BH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $H(e,t){if(e==null)return{};var r,n,a=UH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zH(e){return e.value}function qH(e){var{contextPayload:t}=e,r=$H(e,RH),n=wM(t,e.payloadUniqBy,zH),a=Tc(Tc({},r),{},{payload:n});return j.isValidElement(e.content)?j.cloneElement(e.content,a):typeof e.content=="function"?j.createElement(e.content,a):j.createElement(TK,a)}function FH(e,t,r,n,a,s){var{layout:l,align:d,verticalAlign:f}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&l==="vertical"?h={left:((n||0)-s.width)/2}:h=d==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?p={top:((a||0)-s.height)/2}:p=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Tc(Tc({},h),p)}function KH(e){var t=Lt();return j.useEffect(()=>{t(DH(e))},[t,e]),null}function QH(e){var t=Lt();return j.useEffect(()=>(t(VC(e)),()=>{t(VC({width:0,height:0}))}),[t,e]),null}function HH(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var VH={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function kd(e){var t=yr(e,VH),r=EQ(),n=_F(),a=bH(),{width:s,height:l,wrapperStyle:d,portal:f}=t,[h,p]=OM([r]),g=E1(),y=A1();if(g==null||y==null)return null;var v=g-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),x=HH(t.layout,l,s,v),w=f?d:Tc(Tc({position:"absolute",width:(x==null?void 0:x.width)||s||"auto",height:(x==null?void 0:x.height)||l||"auto"},FH(d,t,a,g,y,h)),d),_=f??n;if(_==null||r==null)return null;var N=j.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:p},j.createElement(KH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&j.createElement(QH,{width:h.width,height:h.height}),j.createElement(qH,Xx({},t,x,{margin:a,chartWidth:g,chartHeight:y,contextPayload:r})));return kp.createPortal(N,_)}kd.displayName="Legend";function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jx.apply(null,arguments)}function YC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(r),!0).forEach(function(n){GH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GH(e,t,r){return(t=YH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YH(e){var t=WH(e,"string");return typeof t=="symbol"?t:t+""}function WH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XH(e){return Array.isArray(e)&&Fa(e[0])&&Fa(e[1])?e.join(" ~ "):e}var Xl={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},JH=e=>{var{separator:t=Xl.separator,contentStyle:r,itemStyle:n,labelStyle:a=Xl.labelStyle,payload:s,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:y=Xl.accessibilityLayer}=e,v=()=>{if(s&&s.length){var T={padding:0,margin:0},P=(d?Yp(s,d):s).map((M,R)=>{if(M.type==="none")return null;var B=M.formatter||l||XH,{value:H,name:Y}=M,K=H,me=Y;if(B){var ie=B(H,Y,M,R,s);if(Array.isArray(ie))[K,me]=ie;else if(ie!=null)K=ie;else return null}var ye=Wu(Wu({},Xl.itemStyle),{},{color:M.color||Xl.itemStyle.color},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:ye},Fa(me)?j.createElement("span",{className:"recharts-tooltip-item-name"},me):null,Fa(me)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},K),j.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:T},P)}return null},x=Wu(Wu({},Xl.contentStyle),r),w=Wu({margin:0},a),_=!Wt(p),N=_?p:"",O=ft("recharts-default-tooltip",f),E=ft("recharts-tooltip-label",h);_&&g&&s!==void 0&&s!==null&&(N=g(p,s));var C=y?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Jx({className:O,style:x},C),j.createElement("p",{className:E,style:w},j.isValidElement(N)?N:"".concat(N)),v())},Xu="recharts-tooltip-wrapper",ZH={visibility:"hidden"};function eV(e){var{coordinate:t,translateX:r,translateY:n}=e;return ft(Xu,{["".concat(Xu,"-right")]:Ne(r)&&t&&Ne(t.x)&&r>=t.x,["".concat(Xu,"-left")]:Ne(r)&&t&&Ne(t.x)&&r<t.x,["".concat(Xu,"-bottom")]:Ne(n)&&t&&Ne(t.y)&&n>=t.y,["".concat(Xu,"-top")]:Ne(n)&&t&&Ne(t.y)&&n<t.y})}function WC(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:s,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=e;if(s&&Ne(s[n]))return s[n];var p=r[n]-d-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?p:g;var y=f[n];if(y==null)return 0;if(l[n]){var v=p,x=y;return v<x?Math.max(g,y):Math.max(p,y)}if(h==null)return 0;var w=g+d,_=y+h;return w>_?Math.max(p,y):Math.max(g,y)}function tV(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function rV(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:s,reverseDirection:l,tooltipBox:d,useTranslate3d:f,viewBox:h}=e,p,g,y;return d.height>0&&d.width>0&&r?(g=WC({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:s,reverseDirection:l,tooltipDimension:d.width,viewBox:h,viewBoxDimension:h.width}),y=WC({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:s,reverseDirection:l,tooltipDimension:d.height,viewBox:h,viewBoxDimension:h.height}),p=tV({translateX:g,translateY:y,useTranslate3d:f})):p=ZH,{cssProperties:p,cssClasses:eV({translateX:g,translateY:y,coordinate:r})}}function XC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(r),!0).forEach(function(n){Zx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zx(e,t,r){return(t=nV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nV(e){var t=aV(e,"string");return typeof t=="symbol"?t:t+""}function aV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class iV extends j.PureComponent{constructor(){super(...arguments),Zx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Zx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:y,viewBox:v,wrapperStyle:x,lastBoundingBox:w,innerRef:_,hasPortalFromProps:N}=this.props,O=typeof h=="number"?h:h.x,E=typeof h=="number"?h:h.y,{cssClasses:C,cssProperties:T}=rV({allowEscapeViewBox:r,coordinate:l,offsetLeft:O,offsetTop:E,position:p,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:y,viewBox:v}),P=N?{}:sm(sm({transition:f&&t?"transform ".concat(n,"ms ").concat(a):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),M=sm(sm({},P),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},x);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:M,ref:_},s)}}var _R=()=>{var e;return(e=Ae(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ew.apply(null,arguments)}function JC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(r),!0).forEach(function(n){sV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sV(e,t,r){return(t=oV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oV(e){var t=lV(e,"string");return typeof t=="symbol"?t:t+""}function lV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e2={curveBasisClosed:FF,curveBasisOpen:KF,curveBasis:qF,curveBumpX:AF,curveBumpY:CF,curveLinearClosed:QF,curveLinear:Vp,curveMonotoneX:HF,curveMonotoneY:VF,curveNatural:GF,curveStep:YF,curveStepAfter:XF,curveStepBefore:WF},Xm=e=>lt(e.x)&&lt(e.y),t2=e=>e.base!=null&&Xm(e.base)&&Xm(e),Ju=e=>e.x,Zu=e=>e.y,cV=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(nf(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=e2["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return e2[r]||Vp},r2={connectNulls:!1,type:"linear"},uV=e=>{var{type:t=r2.type,points:r=[],baseLine:n,layout:a,connectNulls:s=r2.connectNulls}=e,l=cV(t,a),d=s?r.filter(Xm):r;if(Array.isArray(n)){var f,h=r.map((x,w)=>ZC(ZC({},x),{},{base:n[w]}));a==="vertical"?f=Jh().y(Zu).x1(Ju).x0(x=>x.base.x):f=Jh().x(Ju).y1(Zu).y0(x=>x.base.y);var p=f.defined(t2).curve(l),g=s?h.filter(t2):h;return p(g)}var y;a==="vertical"&&Ne(n)?y=Jh().y(Zu).x1(Ju).x0(n):Ne(n)?y=Jh().x(Ju).y1(Zu).y0(n):y=XD().x(Ju).y(Zu);var v=y.defined(Xm).curve(l);return v(d)},P1=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=el();if((!r||!r.length)&&!n)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},d=r&&r.length?uV(l):n;return j.createElement("path",ew({},Ln(e),m1(e),{className:ft("recharts-curve",t),d:d===null?void 0:d,ref:a}))},dV=["x","y","top","left","width","height","className"];function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tw.apply(null,arguments)}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){hV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hV(e,t,r){return(t=mV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mV(e){var t=pV(e,"string");return typeof t=="symbol"?t:t+""}function pV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gV(e,t){if(e==null)return{};var r,n,a=yV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vV=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),bV=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:d}=e,f=gV(e,dV),h=fV({x:t,y:r,top:n,left:a,width:s,height:l},f);return!Ne(t)||!Ne(r)||!Ne(s)||!Ne(l)||!Ne(n)||!Ne(a)?null:j.createElement("path",tw({},cn(h),{className:ft("recharts-cross",d),d:vV(t,r,s,l,n,a)}))};function xV(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){wV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wV(e,t,r){return(t=jV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jV(e){var t=SV(e,"string");return typeof t=="symbol"?t:t+""}function SV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _V=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),NR=(e,t,r)=>e.map(n=>"".concat(_V(n)," ").concat(t,"ms ").concat(r)).join(","),NV=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Pd=(e,t)=>Object.keys(t).reduce((r,n)=>i2(i2({},r),{},{[n]:e(n,t[n])}),{});function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){OV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OV(e,t,r){return(t=EV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EV(e){var t=AV(e,"string");return typeof t=="symbol"?t:t+""}function AV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jm=(e,t,r)=>e+(t-e)*r,rw=e=>{var{from:t,to:r}=e;return t!==r},OR=(e,t,r)=>{var n=Pd((a,s)=>{if(rw(s)){var[l,d]=e(s.from,s.to,s.velocity);return wr(wr({},s),{},{from:l,velocity:d})}return s},t);return r<1?Pd((a,s)=>rw(s)&&n[a]!=null?wr(wr({},s),{},{velocity:Jm(s.velocity,n[a].velocity,r),from:Jm(s.from,n[a].from,r)}):s,t):OR(e,n,r-1)};function CV(e,t,r,n,a,s){var l,d=n.reduce((y,v)=>wr(wr({},y),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),f=()=>Pd((y,v)=>v.from,d),h=()=>!Object.values(d).filter(rw).length,p=null,g=y=>{l||(l=y);var v=y-l,x=v/r.dt;d=OR(r,d,x),a(wr(wr(wr({},e),t),f())),l=y,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var y;(y=p)===null||y===void 0||y()})}function kV(e,t,r,n,a,s,l){var d=null,f=a.reduce((g,y)=>{var v=e[y],x=t[y];return v==null||x==null?g:wr(wr({},g),{},{[y]:[v,x]})},{}),h,p=g=>{h||(h=g);var y=(g-h)/n,v=Pd((w,_)=>Jm(..._,r(y)),f);if(s(wr(wr(wr({},e),t),v)),y<1)d=l.setTimeout(p);else{var x=Pd((w,_)=>Jm(..._,r(1)),f);s(wr(wr(wr({},e),t),x))}};return()=>(d=l.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const PV=(e,t,r,n,a,s)=>{var l=NV(e,t);return r==null?()=>(a(wr(wr({},e),t)),()=>{}):r.isStepper===!0?CV(e,t,r,l,a,s):kV(e,t,r,n,l,a,s)};var Zm=1e-4,ER=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],AR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),o2=(e,t)=>r=>{var n=ER(e,t);return AR(n,r)},TV=(e,t)=>r=>{var n=ER(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return AR(a,r)},DV=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},MV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=DV(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},RV=(e,t,r,n)=>{var a=o2(e,r),s=o2(t,n),l=TV(e,r),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,y=0;y<8;++y){var v=a(g)-p,x=l(g);if(Math.abs(v-p)<Zm||x<Zm)return s(g);g=d(g-v/x)}return s(g)};return f.isStepper=!1,f},l2=function(){return RV(...MV(...arguments))},IV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,d,f)=>{var h=-(l-d)*r,p=f*n,g=f+(h-p)*a/1e3,y=f*a/1e3+l;return Math.abs(y-d)<Zm&&Math.abs(g)<Zm?[d,0]:[y,g]};return s.isStepper=!0,s.dt=a,s},LV=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return l2(e);case"spring":return IV();default:if(e.split("(")[0]==="cubic-bezier")return l2(e)}return typeof e=="function"?e:null};function BV(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){a=e.setTimeout(s.bind(null,h),f);return}s(f),a=e.setTimeout(s.bind(null,h));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class $V{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function UV(){return BV(new $V)}var zV=j.createContext(UV);function qV(e,t){var r=j.useContext(zV);return j.useMemo(()=>t??r(e),[e,t,r])}var FV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hg={isSsr:FV()},KV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},c2={t:0},xb={t:1};function df(e){var t=yr(e,KV),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=t,p=r==="auto"?!hg.isSsr:r,g=qV(t.animationId,t.animationManager),[y,v]=j.useState(p?c2:xb),x=j.useRef(null);return j.useEffect(()=>{p||v(xb)},[p]),j.useEffect(()=>{if(!p||!n)return Zo;var w=PV(c2,xb,LV(s),a,v,g.getTimeoutController()),_=()=>{x.current=w()};return g.start([f,l,_,a,d]),()=>{g.stop(),x.current&&x.current(),d()}},[p,n,a,s,l,f,d,g]),h(y.t)}function ff(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(Sd(t)),n=j.useRef(e);return n.current!==e&&(r.current=Sd(t),n.current=e),r.current}var QV=["radius"],HV=["radius"],u2,d2,f2,h2,m2,p2,g2,y2,v2,b2;function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){VV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VV(e,t,r){return(t=GV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GV(e){var t=YV(e,"string");return typeof t=="symbol"?t:t+""}function YV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ep(){return ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ep.apply(null,arguments)}function j2(e,t){if(e==null)return{};var r,n,a=WV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S2=(e,t,r,n,a)=>{var s=Ts(r),l=Ts(n),d=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(d>0&&Array.isArray(a)){for(var y=[0,0,0,0],v=0,x=4;v<x;v++){var w,_=(w=a[v])!==null&&w!==void 0?w:0;y[v]=_>d?d:_}g=nr(u2||(u2=Pa(["M",",",""])),e,t+f*y[0]),y[0]>0&&(g+=nr(d2||(d2=Pa(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,e+h*y[0],t)),g+=nr(f2||(f2=Pa(["L ",",",""])),e+r-h*y[1],t),y[1]>0&&(g+=nr(h2||(h2=Pa(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,e+r,t+f*y[1])),g+=nr(m2||(m2=Pa(["L ",",",""])),e+r,t+n-f*y[2]),y[2]>0&&(g+=nr(p2||(p2=Pa(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,e+r-h*y[2],t+n)),g+=nr(g2||(g2=Pa(["L ",",",""])),e+h*y[3],t+n),y[3]>0&&(g+=nr(y2||(y2=Pa(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,e,t+n-f*y[3])),g+="Z"}else if(d>0&&a===+a&&a>0){var N=Math.min(d,a);g=nr(v2||(v2=Pa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*N,N,N,p,e+h*N,t,e+r-h*N,t,N,N,p,e+r,t+f*N,e+r,t+n-f*N,N,N,p,e+r-h*N,t+n,e+h*N,t+n,N,N,p,e,t+n-f*N)}else g=nr(b2||(b2=Pa(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return g},_2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CR=e=>{var t=yr(e,_2),r=j.useRef(null),[n,a]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&a(V)}catch{}},[]);var{x:s,y:l,width:d,height:f,radius:h,className:p}=t,{animationEasing:g,animationDuration:y,animationBegin:v,isAnimationActive:x,isUpdateAnimationActive:w}=t,_=j.useRef(d),N=j.useRef(f),O=j.useRef(s),E=j.useRef(l),C=j.useMemo(()=>({x:s,y:l,width:d,height:f,radius:h}),[s,l,d,f,h]),T=ff(C,"rectangle-");if(s!==+s||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var P=ft("recharts-rectangle",p);if(!w){var M=cn(t),{radius:R}=M,B=j2(M,QV);return j.createElement("path",ep({},B,{x:Ts(s),y:Ts(l),width:Ts(d),height:Ts(f),radius:typeof h=="number"?h:void 0,className:P,d:S2(s,l,d,f,h)}))}var H=_.current,Y=N.current,K=O.current,me=E.current,ie="0px ".concat(n===-1?1:n,"px"),ye="".concat(n,"px 0px"),L=NR(["strokeDasharray"],y,typeof g=="string"?g:_2.animationEasing);return j.createElement(df,{animationId:T,key:T,canBegin:n>0,duration:y,easing:g,isActive:w,begin:v},V=>{var ne=Ht(H,d,V),he=Ht(Y,f,V),I=Ht(K,s,V),D=Ht(me,l,V);r.current&&(_.current=ne,N.current=he,O.current=I,E.current=D);var U;x?V>0?U={transition:L,strokeDasharray:ye}:U={strokeDasharray:ie}:U={strokeDasharray:ye};var Z=cn(t),{radius:q}=Z,ge=j2(Z,HV);return j.createElement("path",ep({},ge,{radius:typeof h=="number"?h:void 0,className:P,d:S2(I,D,ne,he,h),ref:r,style:w2(w2({},U),t.style)}))})};function N2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(r),!0).forEach(function(n){XV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XV(e,t,r){return(t=JV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JV(e){var t=ZV(e,"string");return typeof t=="symbol"?t:t+""}function ZV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tp=Math.PI/180,eG=e=>e*180/Math.PI,mr=(e,t,r,n)=>({x:e+Math.cos(-tp*n)*r,y:t+Math.sin(-tp*n)*r}),kR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},tG=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},rG=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=tG({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var d=(r-a)/l,f=Math.acos(d);return n>s&&(f=2*Math.PI-f),{radius:l,angle:eG(f),angleInRadian:f}},nG=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},aG=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},iG=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=rG({x:r,y:n},t),{innerRadius:l,outerRadius:d}=t;if(a<l||a>d||a===0)return null;var{startAngle:f,endAngle:h}=nG(t),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?O2(O2({},t),{},{radius:a,angle:aG(p,t)}):null};function PR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=mr(t,r,n,a),d=mr(t,r,n,s);return{points:[l,d],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var E2,A2,C2,k2,P2,T2,D2;function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(null,arguments)}function So(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var sG=(e,t)=>{var r=Tr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},om=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:f}=e,h=d*(l?1:-1)+n,p=Math.asin(d/h)/tp,g=f?a:a+s*p,y=mr(t,r,h,g),v=mr(t,r,n,g),x=f?a-s*p:a,w=mr(t,r,h*Math.cos(p*tp),x);return{center:y,circleTangency:v,lineTangency:w,theta:p}},TR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,d=sG(s,l),f=s+d,h=mr(t,r,a,s),p=mr(t,r,a,f),g=nr(E2||(E2=So(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,a,a,+(Math.abs(d)>180),+(s>f),p.x,p.y);if(n>0){var y=mr(t,r,n,s),v=mr(t,r,n,f);g+=nr(A2||(A2=So(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,n,n,+(Math.abs(d)>180),+(s<=f),y.x,y.y)}else g+=nr(C2||(C2=So(["L ",","," Z"])),t,r);return g},oG=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=e,p=Tr(h-f),{circleTangency:g,lineTangency:y,theta:v}=om({cx:t,cy:r,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:x,lineTangency:w,theta:_}=om({cx:t,cy:r,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),N=d?Math.abs(f-h):Math.abs(f-h)-v-_;if(N<0)return l?nr(k2||(k2=So(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):TR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:f,endAngle:h});var O=nr(P2||(P2=So(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(p<0),g.x,g.y,a,a,+(N>180),+(p<0),x.x,x.y,s,s,+(p<0),w.x,w.y);if(n>0){var{circleTangency:E,lineTangency:C,theta:T}=om({cx:t,cy:r,radius:n,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:P,lineTangency:M,theta:R}=om({cx:t,cy:r,radius:n,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),B=d?Math.abs(f-h):Math.abs(f-h)-T-R;if(B<0&&s===0)return"".concat(O,"L").concat(t,",").concat(r,"Z");O+=nr(T2||(T2=So(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,s,s,+(p<0),P.x,P.y,n,n,+(B>180),+(p>0),E.x,E.y,s,s,+(p<0),C.x,C.y)}else O+=nr(D2||(D2=So(["L",",","Z"])),t,r);return O},lG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},DR=e=>{var t=yr(e,lG),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=t;if(s<a||h===p)return null;var y=ft("recharts-sector",g),v=s-a,x=Jr(l,v,0,!0),w;return x>0&&Math.abs(h-p)<360?w=oG({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(x,v/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):w=TR({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),j.createElement("path",nw({},cn(t),{className:y,d:w}))};function cG(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(fM(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:l,angle:d}=t,f=mr(n,a,s,d),h=mr(n,a,l,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return PR(t)}}var wb={},jb={},Sb={},M2;function uG(){return M2||(M2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SM();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Sb)),Sb}var R2;function dG(){return R2||(R2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uG();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(jb)),jb}var I2;function fG(){return I2||(I2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_M(),r=dG();function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const d=Math.max(Math.ceil((s-a)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=a,a+=l;return f}e.range=n})(wb)),wb}var _b,L2;function hG(){return L2||(L2=1,_b=fG().range),_b}var mG=hG();const MR=Ha(mG);function Ms(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pG(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function T1(e){let t,r,n;e.length!==2?(t=Ms,r=(d,f)=>Ms(e(d),f),n=(d,f)=>e(d)-f):(t=e===Ms||e===pG?e:gG,r=e,n=e);function a(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(d,f,h=0,p=d.length){const g=a(d,f,h,p-1);return g>h&&n(d[g-1],f)>-n(d[g],f)?g-1:g}return{left:a,center:l,right:s}}function gG(){return 0}function RR(e){return e===null?NaN:+e}function*yG(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const vG=T1(Ms),hf=vG.right;T1(RR).center;class B2 extends Map{constructor(t,r=wG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get($2(this,t))}has(t){return super.has($2(this,t))}set(t,r){return super.set(bG(this,t),r)}delete(t){return super.delete(xG(this,t))}}function $2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function bG({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function xG({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function wG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function jG(e=Ms){if(e===Ms)return IR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function IR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const SG=Math.sqrt(50),_G=Math.sqrt(10),NG=Math.sqrt(2);function rp(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=SG?10:s>=_G?5:s>=NG?2:1;let d,f,h;return a<0?(h=Math.pow(10,-a)/l,d=Math.round(e*h),f=Math.round(t*h),d/h<e&&++d,f/h>t&&--f,h=-h):(h=Math.pow(10,a)*l,d=Math.round(e/h),f=Math.round(t/h),d*h<e&&++d,f*h>t&&--f),f<d&&.5<=r&&r<2?rp(e,t,r*2):[d,f,h]}function aw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?rp(t,e,r):rp(e,t,r);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(n)if(l<0)for(let h=0;h<d;++h)f[h]=(s-h)/-l;else for(let h=0;h<d;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(a+h)/-l;else for(let h=0;h<d;++h)f[h]=(a+h)*l;return f}function iw(e,t,r){return t=+t,e=+e,r=+r,rp(e,t,r)[2]}function sw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?iw(t,e,r):iw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function U2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function z2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function LR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?IR:jG(a);n>r;){if(n-r>600){const f=n-r+1,h=t-r+1,p=Math.log(f),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),v=Math.max(r,Math.floor(t-h*g/f+y)),x=Math.min(n,Math.floor(t+(f-h)*g/f+y));LR(e,t,v,x,a)}const s=e[t];let l=r,d=n;for(ed(e,r,t),a(e[n],s)>0&&ed(e,r,n);l<d;){for(ed(e,l,d),++l,--d;a(e[l],s)<0;)++l;for(;a(e[d],s)>0;)--d}a(e[r],s)===0?ed(e,r,d):(++d,ed(e,d,n)),d<=t&&(r=d+1),t<=d&&(n=d-1)}return e}function ed(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function OG(e,t,r){if(e=Float64Array.from(yG(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return z2(e);if(t>=1)return U2(e);var n,a=(n-1)*t,s=Math.floor(a),l=U2(LR(e,s).subarray(0,s+1)),d=z2(e.subarray(s+1));return l+(d-l)*(a-s)}}function EG(e,t,r=RR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),d=+r(e[s+1],s+1,e);return l+(d-l)*(a-s)}}function AG(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function la(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ow=Symbol("implicit");function D1(){var e=new B2,t=[],r=[],n=ow;function a(s){let l=e.get(s);if(l===void 0){if(n!==ow)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new B2;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return D1(t,r).unknown(n)},la.apply(a,arguments),a}function M1(){var e=D1().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,d=!1,f=0,h=0,p=.5;delete e.unknown;function g(){var y=t().length,v=a<n,x=v?a:n,w=v?n:a;s=(w-x)/Math.max(1,y-f+h*2),d&&(s=Math.floor(s)),x+=(w-x-s*(y-f))*p,l=s*(1-f),d&&(x=Math.round(x),l=Math.round(l));var _=AG(y).map(function(N){return x+s*N});return r(v?_.reverse():_)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,d=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(y){return arguments.length?(d=!!y,g()):d},e.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},e.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},e.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},e.copy=function(){return M1(t(),[n,a]).round(d).paddingInner(f).paddingOuter(h).align(p)},la.apply(g(),arguments)}function BR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return BR(t())},e}function CG(){return BR(M1.apply(null,arguments).paddingInner(1))}function R1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function $R(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mf(){}var Td=.7,np=1/Td,dc="\\s*([+-]?\\d+)\\s*",Dd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kG=/^#([0-9a-f]{3,8})$/,PG=new RegExp(`^rgb\\(${dc},${dc},${dc}\\)$`),TG=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),DG=new RegExp(`^rgba\\(${dc},${dc},${dc},${Dd}\\)$`),MG=new RegExp(`^rgba\\(${za},${za},${za},${Dd}\\)$`),RG=new RegExp(`^hsl\\(${Dd},${za},${za}\\)$`),IG=new RegExp(`^hsla\\(${Dd},${za},${za},${Dd}\\)$`),q2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};R1(mf,Md,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:F2,formatHex:F2,formatHex8:LG,formatHsl:BG,formatRgb:K2,toString:K2});function F2(){return this.rgb().formatHex()}function LG(){return this.rgb().formatHex8()}function BG(){return UR(this).formatHsl()}function K2(){return this.rgb().formatRgb()}function Md(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=kG.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Q2(t):r===3?new jn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?lm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?lm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=PG.exec(e))?new jn(t[1],t[2],t[3],1):(t=TG.exec(e))?new jn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DG.exec(e))?lm(t[1],t[2],t[3],t[4]):(t=MG.exec(e))?lm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=RG.exec(e))?G2(t[1],t[2]/100,t[3]/100,1):(t=IG.exec(e))?G2(t[1],t[2]/100,t[3]/100,t[4]):q2.hasOwnProperty(e)?Q2(q2[e]):e==="transparent"?new jn(NaN,NaN,NaN,0):null}function Q2(e){return new jn(e>>16&255,e>>8&255,e&255,1)}function lm(e,t,r,n){return n<=0&&(e=t=r=NaN),new jn(e,t,r,n)}function $G(e){return e instanceof mf||(e=Md(e)),e?(e=e.rgb(),new jn(e.r,e.g,e.b,e.opacity)):new jn}function lw(e,t,r,n){return arguments.length===1?$G(e):new jn(e,t,r,n??1)}function jn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}R1(jn,lw,$R(mf,{brighter(e){return e=e==null?np:Math.pow(np,e),new jn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Td:Math.pow(Td,e),new jn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jn(Bo(this.r),Bo(this.g),Bo(this.b),ap(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:H2,formatHex:H2,formatHex8:UG,formatRgb:V2,toString:V2}));function H2(){return`#${_o(this.r)}${_o(this.g)}${_o(this.b)}`}function UG(){return`#${_o(this.r)}${_o(this.g)}${_o(this.b)}${_o((isNaN(this.opacity)?1:this.opacity)*255)}`}function V2(){const e=ap(this.opacity);return`${e===1?"rgb(":"rgba("}${Bo(this.r)}, ${Bo(this.g)}, ${Bo(this.b)}${e===1?")":`, ${e})`}`}function ap(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _o(e){return e=Bo(e),(e<16?"0":"")+e.toString(16)}function G2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xa(e,t,r,n)}function UR(e){if(e instanceof xa)return new xa(e.h,e.s,e.l,e.opacity);if(e instanceof mf||(e=Md(e)),!e)return new xa;if(e instanceof xa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,d=s-a,f=(s+a)/2;return d?(t===s?l=(r-n)/d+(r<n)*6:r===s?l=(n-t)/d+2:l=(t-r)/d+4,d/=f<.5?s+a:2-s-a,l*=60):d=f>0&&f<1?0:l,new xa(l,d,f,e.opacity)}function zG(e,t,r,n){return arguments.length===1?UR(e):new xa(e,t,r,n??1)}function xa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}R1(xa,zG,$R(mf,{brighter(e){return e=e==null?np:Math.pow(np,e),new xa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Td:Math.pow(Td,e),new xa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new jn(Nb(e>=240?e-240:e+120,a,n),Nb(e,a,n),Nb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new xa(Y2(this.h),cm(this.s),cm(this.l),ap(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ap(this.opacity);return`${e===1?"hsl(":"hsla("}${Y2(this.h)}, ${cm(this.s)*100}%, ${cm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Y2(e){return e=(e||0)%360,e<0?e+360:e}function cm(e){return Math.max(0,Math.min(1,e||0))}function Nb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const I1=e=>()=>e;function qG(e,t){return function(r){return e+r*t}}function FG(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function KG(e){return(e=+e)==1?zR:function(t,r){return r-t?FG(t,r,e):I1(isNaN(t)?r:t)}}function zR(e,t){var r=t-e;return r?qG(e,r):I1(isNaN(e)?t:e)}const W2=(function e(t){var r=KG(t);function n(a,s){var l=r((a=lw(a)).r,(s=lw(s)).r),d=r(a.g,s.g),f=r(a.b,s.b),h=zR(a.opacity,s.opacity);return function(p){return a.r=l(p),a.g=d(p),a.b=f(p),a.opacity=h(p),a+""}}return n.gamma=e,n})(1);function QG(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function HG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function VG(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=Qc(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(d){for(l=0;l<n;++l)s[l]=a[l](d);return s}}function GG(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ip(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function YG(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Qc(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var cw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ob=new RegExp(cw.source,"g");function WG(e){return function(){return e}}function XG(e){return function(t){return e(t)+""}}function JG(e,t){var r=cw.lastIndex=Ob.lastIndex=0,n,a,s,l=-1,d=[],f=[];for(e=e+"",t=t+"";(n=cw.exec(e))&&(a=Ob.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),d[l]?d[l]+=s:d[++l]=s),(n=n[0])===(a=a[0])?d[l]?d[l]+=a:d[++l]=a:(d[++l]=null,f.push({i:l,x:ip(n,a)})),r=Ob.lastIndex;return r<t.length&&(s=t.slice(r),d[l]?d[l]+=s:d[++l]=s),d.length<2?f[0]?XG(f[0].x):WG(t):(t=f.length,function(h){for(var p=0,g;p<t;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function Qc(e,t){var r=typeof t,n;return t==null||r==="boolean"?I1(t):(r==="number"?ip:r==="string"?(n=Md(t))?(t=n,W2):JG:t instanceof Md?W2:t instanceof Date?GG:HG(t)?QG:Array.isArray(t)?VG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?YG:ip)(e,t)}function L1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ZG(e,t){t===void 0&&(t=e,e=Qc);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var d=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[d](l-d)}}function eY(e){return function(){return e}}function sp(e){return+e}var X2=[0,1];function ln(e){return e}function uw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:eY(isNaN(t)?NaN:.5)}function tY(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function rY(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=uw(a,n),s=r(l,s)):(n=uw(n,a),s=r(s,l)),function(d){return s(n(d))}}function nY(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=uw(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(d){var f=hf(e,d,1,n)-1;return s[f](a[f](d))}}function pf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mg(){var e=X2,t=X2,r=Qc,n,a,s,l=ln,d,f,h;function p(){var y=Math.min(e.length,t.length);return l!==ln&&(l=tY(e[0],e[y-1])),d=y>2?nY:rY,f=h=null,g}function g(y){return y==null||isNaN(y=+y)?s:(f||(f=d(e.map(n),t,r)))(n(l(y)))}return g.invert=function(y){return l(a((h||(h=d(t,e.map(n),ip)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,sp),p()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),r=L1,p()},g.clamp=function(y){return arguments.length?(l=y?!0:ln,p()):l!==ln},g.interpolate=function(y){return arguments.length?(r=y,p()):r},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,v){return n=y,a=v,p()}}function B1(){return mg()(ln,ln)}function aY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function op(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Dc(e){return e=op(Math.abs(e)),e?e[1]:NaN}function iY(e,t){return function(r,n){for(var a=r.length,s=[],l=0,d=e[0],f=0;a>0&&d>0&&(f+d+1>n&&(d=Math.max(1,n-f)),s.push(r.substring(a-=d,a+d)),!((f+=d+1)>n));)d=e[l=(l+1)%e.length];return s.reverse().join(t)}}function sY(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var oY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rd(e){if(!(t=oY.exec(e)))throw new Error("invalid format: "+e);var t;return new $1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rd.prototype=$1.prototype;function $1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lY(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var lp;function cY(e,t){var r=op(e,t);if(!r)return lp=void 0,e.toPrecision(t);var n=r[0],a=r[1],s=a-(lp=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+op(e,Math.max(0,t+s-1))[0]}function J2(e,t){var r=op(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Z2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:aY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>J2(e*100,t),r:J2,s:cY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ek(e){return e}var tk=Array.prototype.map,rk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uY(e){var t=e.grouping===void 0||e.thousands===void 0?ek:iY(tk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?ek:sY(tk.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g,y){g=Rd(g);var v=g.fill,x=g.align,w=g.sign,_=g.symbol,N=g.zero,O=g.width,E=g.comma,C=g.precision,T=g.trim,P=g.type;P==="n"?(E=!0,P="g"):Z2[P]||(C===void 0&&(C=12),T=!0,P="g"),(N||v==="0"&&x==="=")&&(N=!0,v="0",x="=");var M=(y&&y.prefix!==void 0?y.prefix:"")+(_==="$"?r:_==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),R=(_==="$"?n:/[%p]/.test(P)?l:"")+(y&&y.suffix!==void 0?y.suffix:""),B=Z2[P],H=/[defgprs%]/.test(P);C=C===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function Y(K){var me=M,ie=R,ye,L,V;if(P==="c")ie=B(K)+ie,K="";else{K=+K;var ne=K<0||1/K<0;if(K=isNaN(K)?f:B(Math.abs(K),C),T&&(K=lY(K)),ne&&+K==0&&w!=="+"&&(ne=!1),me=(ne?w==="("?w:d:w==="-"||w==="("?"":w)+me,ie=(P==="s"&&!isNaN(K)&&lp!==void 0?rk[8+lp/3]:"")+ie+(ne&&w==="("?")":""),H){for(ye=-1,L=K.length;++ye<L;)if(V=K.charCodeAt(ye),48>V||V>57){ie=(V===46?a+K.slice(ye+1):K.slice(ye))+ie,K=K.slice(0,ye);break}}}E&&!N&&(K=t(K,1/0));var he=me.length+K.length+ie.length,I=he<O?new Array(O-he+1).join(v):"";switch(E&&N&&(K=t(I+K,I.length?O-ie.length:1/0),I=""),x){case"<":K=me+K+ie+I;break;case"=":K=me+I+K+ie;break;case"^":K=I.slice(0,he=I.length>>1)+me+K+ie+I.slice(he);break;default:K=I+me+K+ie;break}return s(K)}return Y.toString=function(){return g+""},Y}function p(g,y){var v=Math.max(-8,Math.min(8,Math.floor(Dc(y)/3)))*3,x=Math.pow(10,-v),w=h((g=Rd(g),g.type="f",g),{suffix:rk[8+v/3]});return function(_){return w(x*_)}}return{format:h,formatPrefix:p}}var um,U1,qR;dY({thousands:",",grouping:[3],currency:["$",""]});function dY(e){return um=uY(e),U1=um.format,qR=um.formatPrefix,um}function fY(e){return Math.max(0,-Dc(Math.abs(e)))}function hY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Dc(t)/3)))*3-Dc(Math.abs(e)))}function mY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Dc(t)-Dc(e))+1}function FR(e,t,r,n){var a=sw(e,t,r),s;switch(n=Rd(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=hY(a,l))&&(n.precision=s),qR(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=mY(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=fY(a))&&(n.precision=s-(n.type==="%")*2);break}}return U1(n)}function Ks(e){var t=e.domain;return e.ticks=function(r){var n=t();return aw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return FR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],d=n[s],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=a,a=s,s=h);p-- >0;){if(h=iw(l,d,r),h===f)return n[a]=l,n[s]=d,t(n);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return e},e}function KR(){var e=B1();return e.copy=function(){return pf(e,KR())},la.apply(e,arguments),Ks(e)}function QR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,sp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return QR(e).unknown(t)},e=arguments.length?Array.from(e,sp):[0,1],Ks(r)}function HR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function nk(e){return Math.log(e)}function ak(e){return Math.exp(e)}function pY(e){return-Math.log(-e)}function gY(e){return-Math.exp(-e)}function yY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vY(e){return e===10?yY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function bY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ik(e){return(t,r)=>-e(-t,r)}function z1(e){const t=e(nk,ak),r=t.domain;let n=10,a,s;function l(){return a=bY(n),s=vY(n),r()[0]<0?(a=ik(a),s=ik(s),e(pY,gY)):e(nk,ak),t}return t.base=function(d){return arguments.length?(n=+d,l()):n},t.domain=function(d){return arguments.length?(r(d),l()):r()},t.ticks=d=>{const f=r();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let y=a(h),v=a(p),x,w;const _=d==null?10:+d;let N=[];if(!(n%1)&&v-y<_){if(y=Math.floor(y),v=Math.ceil(v),h>0){for(;y<=v;++y)for(x=1;x<n;++x)if(w=y<0?x/s(-y):x*s(y),!(w<h)){if(w>p)break;N.push(w)}}else for(;y<=v;++y)for(x=n-1;x>=1;--x)if(w=y>0?x/s(-y):x*s(y),!(w<h)){if(w>p)break;N.push(w)}N.length*2<_&&(N=aw(h,p,_))}else N=aw(y,v,Math.min(v-y,_)).map(s);return g?N.reverse():N},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Rd(f)).precision==null&&(f.trim=!0),f=U1(f)),d===1/0)return f;const h=Math.max(1,n*d/t.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*n<n-.5&&(g*=n),g<=h?f(p):""}},t.nice=()=>r(HR(r(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),t}function VR(){const e=z1(mg()).domain([1,10]);return e.copy=()=>pf(e,VR()).base(e.base()),la.apply(e,arguments),e}function sk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ok(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function q1(e){var t=1,r=e(sk(t),ok(t));return r.constant=function(n){return arguments.length?e(sk(t=+n),ok(t)):t},Ks(r)}function GR(){var e=q1(mg());return e.copy=function(){return pf(e,GR()).constant(e.constant())},la.apply(e,arguments)}function lk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wY(e){return e<0?-e*e:e*e}function F1(e){var t=e(ln,ln),r=1;function n(){return r===1?e(ln,ln):r===.5?e(xY,wY):e(lk(r),lk(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ks(t)}function K1(){var e=F1(mg());return e.copy=function(){return pf(e,K1()).exponent(e.exponent())},la.apply(e,arguments),e}function jY(){return K1.apply(null,arguments).exponent(.5)}function ck(e){return Math.sign(e)*e*e}function SY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function YR(){var e=B1(),t=[0,1],r=!1,n;function a(s){var l=SY(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(ck(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,sp)).map(ck)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return YR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},la.apply(a,arguments),Ks(a)}function WR(){var e=[],t=[],r=[],n;function a(){var l=0,d=Math.max(1,t.length);for(r=new Array(d-1);++l<d;)r[l-1]=EG(e,l/d);return s}function s(l){return l==null||isNaN(l=+l)?n:t[hf(r,l)]}return s.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Ms),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return WR().domain(e).range(t).unknown(n)},la.apply(s,arguments)}function XR(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(f){return f!=null&&f<=f?a[hf(n,f,0,r)]:s}function d(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},l.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,d()):a.slice()},l.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return n.slice()},l.copy=function(){return XR().domain([e,t]).range(a).unknown(s)},la.apply(Ks(l),arguments)}function JR(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[hf(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return JR().domain(e).range(t).unknown(r)},la.apply(a,arguments)}const Eb=new Date,Ab=new Date;function _r(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),d=a.ceil(s);return s-l<d-s?l:d},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return f;let h;do f.push(h=new Date(+s)),t(s,d),e(s);while(h<s&&s<l);return f},a.filter=s=>_r(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!s(l););else for(;--d>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(Eb.setTime(+s),Ab.setTime(+l),e(Eb),e(Ab),Math.floor(r(Eb,Ab))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const cp=_r(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);cp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_r(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):cp);cp.range;const wi=1e3,aa=wi*60,ji=aa*60,Ci=ji*24,Q1=Ci*7,uk=Ci*30,Cb=Ci*365,No=_r(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCSeconds());No.range;const H1=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getMinutes());H1.range;const V1=_r(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCMinutes());V1.range;const G1=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi-e.getMinutes()*aa)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getHours());G1.range;const Y1=_r(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getUTCHours());Y1.range;const gf=_r(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*aa)/Ci,e=>e.getDate()-1);gf.range;const pg=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ci,e=>e.getUTCDate()-1);pg.range;const ZR=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ci,e=>Math.floor(e/Ci));ZR.range;function tl(e){return _r(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*aa)/Q1)}const gg=tl(0),up=tl(1),_Y=tl(2),NY=tl(3),Mc=tl(4),OY=tl(5),EY=tl(6);gg.range;up.range;_Y.range;NY.range;Mc.range;OY.range;EY.range;function rl(e){return _r(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Q1)}const yg=rl(0),dp=rl(1),AY=rl(2),CY=rl(3),Rc=rl(4),kY=rl(5),PY=rl(6);yg.range;dp.range;AY.range;CY.range;Rc.range;kY.range;PY.range;const W1=_r(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());W1.range;const X1=_r(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());X1.range;const ki=_r(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ki.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ki.range;const Pi=_r(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Pi.range;function e4(e,t,r,n,a,s){const l=[[No,1,wi],[No,5,5*wi],[No,15,15*wi],[No,30,30*wi],[s,1,aa],[s,5,5*aa],[s,15,15*aa],[s,30,30*aa],[a,1,ji],[a,3,3*ji],[a,6,6*ji],[a,12,12*ji],[n,1,Ci],[n,2,2*Ci],[r,1,Q1],[t,1,uk],[t,3,3*uk],[e,1,Cb]];function d(h,p,g){const y=p<h;y&&([h,p]=[p,h]);const v=g&&typeof g.range=="function"?g:f(h,p,g),x=v?v.range(h,+p+1):[];return y?x.reverse():x}function f(h,p,g){const y=Math.abs(p-h)/g,v=T1(([,,_])=>_).right(l,y);if(v===l.length)return e.every(sw(h/Cb,p/Cb,g));if(v===0)return cp.every(Math.max(sw(h,p,g),1));const[x,w]=l[y/l[v-1][2]<l[v][2]/y?v-1:v];return x.every(w)}return[d,f]}const[TY,DY]=e4(Pi,X1,yg,ZR,Y1,V1),[MY,RY]=e4(ki,W1,gg,gf,G1,H1);function kb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Pb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function td(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function IY(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,d=e.months,f=e.shortMonths,h=rd(a),p=nd(a),g=rd(s),y=nd(s),v=rd(l),x=nd(l),w=rd(d),_=nd(d),N=rd(f),O=nd(f),E={a:V,A:ne,b:he,B:I,c:null,d:gk,e:gk,f:iW,g:pW,G:yW,H:rW,I:nW,j:aW,L:t4,m:sW,M:oW,p:D,q:U,Q:bk,s:xk,S:lW,u:cW,U:uW,V:dW,w:fW,W:hW,x:null,X:null,y:mW,Y:gW,Z:vW,"%":vk},C={a:Z,A:q,b:ge,B:ve,c:null,d:yk,e:yk,f:jW,g:TW,G:MW,H:bW,I:xW,j:wW,L:n4,m:SW,M:_W,p:pe,q:ke,Q:bk,s:xk,S:NW,u:OW,U:EW,V:AW,w:CW,W:kW,x:null,X:null,y:PW,Y:DW,Z:RW,"%":vk},T={a:H,A:Y,b:K,B:me,c:ie,d:mk,e:mk,f:JY,g:hk,G:fk,H:pk,I:pk,j:GY,L:XY,m:VY,M:YY,p:B,q:HY,Q:eW,s:tW,S:WY,u:zY,U:qY,V:FY,w:UY,W:KY,x:ye,X:L,y:hk,Y:fk,Z:QY,"%":ZY};E.x=P(r,E),E.X=P(n,E),E.c=P(t,E),C.x=P(r,C),C.X=P(n,C),C.c=P(t,C);function P(te,_e){return function(Pe){var ce=[],ze=-1,Fe=0,et=te.length,jt,qt,Ir;for(Pe instanceof Date||(Pe=new Date(+Pe));++ze<et;)te.charCodeAt(ze)===37&&(ce.push(te.slice(Fe,ze)),(qt=dk[jt=te.charAt(++ze)])!=null?jt=te.charAt(++ze):qt=jt==="e"?" ":"0",(Ir=_e[jt])&&(jt=Ir(Pe,qt)),ce.push(jt),Fe=ze+1);return ce.push(te.slice(Fe,ze)),ce.join("")}}function M(te,_e){return function(Pe){var ce=td(1900,void 0,1),ze=R(ce,te,Pe+="",0),Fe,et;if(ze!=Pe.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(_e&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Fe=Pb(td(ce.y,0,1)),et=Fe.getUTCDay(),Fe=et>4||et===0?dp.ceil(Fe):dp(Fe),Fe=pg.offset(Fe,(ce.V-1)*7),ce.y=Fe.getUTCFullYear(),ce.m=Fe.getUTCMonth(),ce.d=Fe.getUTCDate()+(ce.w+6)%7):(Fe=kb(td(ce.y,0,1)),et=Fe.getDay(),Fe=et>4||et===0?up.ceil(Fe):up(Fe),Fe=gf.offset(Fe,(ce.V-1)*7),ce.y=Fe.getFullYear(),ce.m=Fe.getMonth(),ce.d=Fe.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),et="Z"in ce?Pb(td(ce.y,0,1)).getUTCDay():kb(td(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(et+5)%7:ce.w+ce.U*7-(et+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,Pb(ce)):kb(ce)}}function R(te,_e,Pe,ce){for(var ze=0,Fe=_e.length,et=Pe.length,jt,qt;ze<Fe;){if(ce>=et)return-1;if(jt=_e.charCodeAt(ze++),jt===37){if(jt=_e.charAt(ze++),qt=T[jt in dk?_e.charAt(ze++):jt],!qt||(ce=qt(te,Pe,ce))<0)return-1}else if(jt!=Pe.charCodeAt(ce++))return-1}return ce}function B(te,_e,Pe){var ce=h.exec(_e.slice(Pe));return ce?(te.p=p.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function H(te,_e,Pe){var ce=v.exec(_e.slice(Pe));return ce?(te.w=x.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function Y(te,_e,Pe){var ce=g.exec(_e.slice(Pe));return ce?(te.w=y.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function K(te,_e,Pe){var ce=N.exec(_e.slice(Pe));return ce?(te.m=O.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function me(te,_e,Pe){var ce=w.exec(_e.slice(Pe));return ce?(te.m=_.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function ie(te,_e,Pe){return R(te,t,_e,Pe)}function ye(te,_e,Pe){return R(te,r,_e,Pe)}function L(te,_e,Pe){return R(te,n,_e,Pe)}function V(te){return l[te.getDay()]}function ne(te){return s[te.getDay()]}function he(te){return f[te.getMonth()]}function I(te){return d[te.getMonth()]}function D(te){return a[+(te.getHours()>=12)]}function U(te){return 1+~~(te.getMonth()/3)}function Z(te){return l[te.getUTCDay()]}function q(te){return s[te.getUTCDay()]}function ge(te){return f[te.getUTCMonth()]}function ve(te){return d[te.getUTCMonth()]}function pe(te){return a[+(te.getUTCHours()>=12)]}function ke(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var _e=P(te+="",E);return _e.toString=function(){return te},_e},parse:function(te){var _e=M(te+="",!1);return _e.toString=function(){return te},_e},utcFormat:function(te){var _e=P(te+="",C);return _e.toString=function(){return te},_e},utcParse:function(te){var _e=M(te+="",!0);return _e.toString=function(){return te},_e}}}var dk={"-":"",_:" ",0:"0"},Mr=/^\s*\d+/,LY=/^%/,BY=/[\\^$*+?|[\]().{}]/g;function ht(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function $Y(e){return e.replace(BY,"\\$&")}function rd(e){return new RegExp("^(?:"+e.map($Y).join("|")+")","i")}function nd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function UY(e,t,r){var n=Mr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function zY(e,t,r){var n=Mr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function qY(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function FY(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function KY(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function fk(e,t,r){var n=Mr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function hk(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function QY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function HY(e,t,r){var n=Mr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function VY(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function mk(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function GY(e,t,r){var n=Mr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function pk(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function YY(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function WY(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function XY(e,t,r){var n=Mr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function JY(e,t,r){var n=Mr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ZY(e,t,r){var n=LY.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function eW(e,t,r){var n=Mr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function tW(e,t,r){var n=Mr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function gk(e,t){return ht(e.getDate(),t,2)}function rW(e,t){return ht(e.getHours(),t,2)}function nW(e,t){return ht(e.getHours()%12||12,t,2)}function aW(e,t){return ht(1+gf.count(ki(e),e),t,3)}function t4(e,t){return ht(e.getMilliseconds(),t,3)}function iW(e,t){return t4(e,t)+"000"}function sW(e,t){return ht(e.getMonth()+1,t,2)}function oW(e,t){return ht(e.getMinutes(),t,2)}function lW(e,t){return ht(e.getSeconds(),t,2)}function cW(e){var t=e.getDay();return t===0?7:t}function uW(e,t){return ht(gg.count(ki(e)-1,e),t,2)}function r4(e){var t=e.getDay();return t>=4||t===0?Mc(e):Mc.ceil(e)}function dW(e,t){return e=r4(e),ht(Mc.count(ki(e),e)+(ki(e).getDay()===4),t,2)}function fW(e){return e.getDay()}function hW(e,t){return ht(up.count(ki(e)-1,e),t,2)}function mW(e,t){return ht(e.getFullYear()%100,t,2)}function pW(e,t){return e=r4(e),ht(e.getFullYear()%100,t,2)}function gW(e,t){return ht(e.getFullYear()%1e4,t,4)}function yW(e,t){var r=e.getDay();return e=r>=4||r===0?Mc(e):Mc.ceil(e),ht(e.getFullYear()%1e4,t,4)}function vW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function yk(e,t){return ht(e.getUTCDate(),t,2)}function bW(e,t){return ht(e.getUTCHours(),t,2)}function xW(e,t){return ht(e.getUTCHours()%12||12,t,2)}function wW(e,t){return ht(1+pg.count(Pi(e),e),t,3)}function n4(e,t){return ht(e.getUTCMilliseconds(),t,3)}function jW(e,t){return n4(e,t)+"000"}function SW(e,t){return ht(e.getUTCMonth()+1,t,2)}function _W(e,t){return ht(e.getUTCMinutes(),t,2)}function NW(e,t){return ht(e.getUTCSeconds(),t,2)}function OW(e){var t=e.getUTCDay();return t===0?7:t}function EW(e,t){return ht(yg.count(Pi(e)-1,e),t,2)}function a4(e){var t=e.getUTCDay();return t>=4||t===0?Rc(e):Rc.ceil(e)}function AW(e,t){return e=a4(e),ht(Rc.count(Pi(e),e)+(Pi(e).getUTCDay()===4),t,2)}function CW(e){return e.getUTCDay()}function kW(e,t){return ht(dp.count(Pi(e)-1,e),t,2)}function PW(e,t){return ht(e.getUTCFullYear()%100,t,2)}function TW(e,t){return e=a4(e),ht(e.getUTCFullYear()%100,t,2)}function DW(e,t){return ht(e.getUTCFullYear()%1e4,t,4)}function MW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Rc(e):Rc.ceil(e),ht(e.getUTCFullYear()%1e4,t,4)}function RW(){return"+0000"}function vk(){return"%"}function bk(e){return+e}function xk(e){return Math.floor(+e/1e3)}var Jl,i4,s4;IW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function IW(e){return Jl=IY(e),i4=Jl.format,Jl.parse,s4=Jl.utcFormat,Jl.utcParse,Jl}function LW(e){return new Date(e)}function BW(e){return e instanceof Date?+e:+new Date(+e)}function J1(e,t,r,n,a,s,l,d,f,h){var p=B1(),g=p.invert,y=p.domain,v=h(".%L"),x=h(":%S"),w=h("%I:%M"),_=h("%I %p"),N=h("%a %d"),O=h("%b %d"),E=h("%B"),C=h("%Y");function T(P){return(f(P)<P?v:d(P)<P?x:l(P)<P?w:s(P)<P?_:n(P)<P?a(P)<P?N:O:r(P)<P?E:C)(P)}return p.invert=function(P){return new Date(g(P))},p.domain=function(P){return arguments.length?y(Array.from(P,BW)):y().map(LW)},p.ticks=function(P){var M=y();return e(M[0],M[M.length-1],P??10)},p.tickFormat=function(P,M){return M==null?T:h(M)},p.nice=function(P){var M=y();return(!P||typeof P.range!="function")&&(P=t(M[0],M[M.length-1],P??10)),P?y(HR(M,P)):p},p.copy=function(){return pf(p,J1(e,t,r,n,a,s,l,d,f,h))},p}function $W(){return la.apply(J1(MY,RY,ki,W1,gg,gf,G1,H1,No,i4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function UW(){return la.apply(J1(TY,DY,Pi,X1,yg,pg,Y1,V1,No,s4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vg(){var e=0,t=1,r,n,a,s,l=ln,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(a===0?.5:(g=(s(g)-r)*a,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(y){var v,x;return arguments.length?([v,x]=y,l=g(v,x),h):[l(0),l(1)]}}return h.range=p(Qc),h.rangeRound=p(L1),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),h}}function Qs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function o4(){var e=Ks(vg()(ln));return e.copy=function(){return Qs(e,o4())},zi.apply(e,arguments)}function l4(){var e=z1(vg()).domain([1,10]);return e.copy=function(){return Qs(e,l4()).base(e.base())},zi.apply(e,arguments)}function c4(){var e=q1(vg());return e.copy=function(){return Qs(e,c4()).constant(e.constant())},zi.apply(e,arguments)}function Z1(){var e=F1(vg());return e.copy=function(){return Qs(e,Z1()).exponent(e.exponent())},zi.apply(e,arguments)}function zW(){return Z1.apply(null,arguments).exponent(.5)}function u4(){var e=[],t=ln;function r(n){if(n!=null&&!isNaN(n=+n))return t((hf(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ms),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>OG(e,s/n))},r.copy=function(){return u4(t).domain(e)},zi.apply(r,arguments)}function bg(){var e=0,t=.5,r=1,n=1,a,s,l,d,f,h=ln,p,g=!1,y;function v(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-s)*(n*w<n*s?d:f),h(g?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,r]=w,a=p(e=+e),s=p(t=+t),l=p(r=+r),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),n=s<a?-1:1,v):[e,t,r]},v.clamp=function(w){return arguments.length?(g=!!w,v):g},v.interpolator=function(w){return arguments.length?(h=w,v):h};function x(w){return function(_){var N,O,E;return arguments.length?([N,O,E]=_,h=ZG(w,[N,O,E]),v):[h(0),h(.5),h(1)]}}return v.range=x(Qc),v.rangeRound=x(L1),v.unknown=function(w){return arguments.length?(y=w,v):y},function(w){return p=w,a=w(e),s=w(t),l=w(r),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),n=s<a?-1:1,v}}function d4(){var e=Ks(bg()(ln));return e.copy=function(){return Qs(e,d4())},zi.apply(e,arguments)}function f4(){var e=z1(bg()).domain([.1,1,10]);return e.copy=function(){return Qs(e,f4()).base(e.base())},zi.apply(e,arguments)}function h4(){var e=q1(bg());return e.copy=function(){return Qs(e,h4()).constant(e.constant())},zi.apply(e,arguments)}function ej(){var e=F1(bg());return e.copy=function(){return Qs(e,ej()).exponent(e.exponent())},zi.apply(e,arguments)}function qW(){return ej.apply(null,arguments).exponent(.5)}const ld=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:M1,scaleDiverging:d4,scaleDivergingLog:f4,scaleDivergingPow:ej,scaleDivergingSqrt:qW,scaleDivergingSymlog:h4,scaleIdentity:QR,scaleImplicit:ow,scaleLinear:KR,scaleLog:VR,scaleOrdinal:D1,scalePoint:CG,scalePow:K1,scaleQuantile:WR,scaleQuantize:XR,scaleRadial:YR,scaleSequential:o4,scaleSequentialLog:l4,scaleSequentialPow:Z1,scaleSequentialQuantile:u4,scaleSequentialSqrt:zW,scaleSequentialSymlog:c4,scaleSqrt:jY,scaleSymlog:GR,scaleThreshold:JR,scaleTime:$W,scaleUtc:UW,tickFormat:FR},Symbol.toStringTag,{value:"Module"}));var qi=e=>e.chartData,xg=W([qi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),tj=(e,t,r,n)=>n?xg(e):qi(e),FW=(e,t,r)=>r?xg(e):qi(e);function Ti(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(lt(t)&&lt(r))return!0}return!1}function wk(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function m4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(lt(r))a=r;else if(typeof r=="function")return;if(lt(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(Ti(l))return l}}function KW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ti(n))return wk(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,d;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Ne(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&PC.test(a)){var f=PC.exec(a);if(f==null||f[1]==null||t==null)l=void 0;else{var h=+f[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(d=Math.max(...t));else if(Ne(s))d=s;else if(typeof s=="function")try{t!=null&&(d=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&TC.test(s)){var p=TC.exec(s);if(p==null||p[1]==null||t==null)d=void 0;else{var g=+p[1];d=t[1]+g}}else d=t==null?void 0:t[1];var y=[l,d];if(Ti(y))return t==null?y:wk(y,t,r)}}}var Hc=1e9,QW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nj,Vt=!0,oa="[DecimalError] ",$o=oa+"Invalid argument: ",rj=oa+"Exponent out of range: ",Vc=Math.floor,vo=Math.pow,HW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mn,Pr=1e7,Ut=7,p4=9007199254740991,fp=Vc(p4/Ut),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ut;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(e){return _i(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,r=t.constructor;return Mt(_i(t,new r(e),0,1),r.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return gr(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Mn))throw Error(oa+"NaN");if(r.s<1)throw Error(oa+(r.s?"NaN":"-Infinity"));return r.eq(Mn)?new n(0):(Vt=!1,t=_i(Id(r,s),Id(e,s),s),Vt=!0,Mt(t,a))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v4(t,e):g4(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(oa+"NaN");return r.s?(Vt=!1,t=_i(r,e,0,1).times(e),Vt=!0,r.minus(t)):Mt(new n(r),a)};Oe.naturalExponential=Oe.exp=function(){return y4(this)};Oe.naturalLogarithm=Oe.ln=function(){return Id(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g4(t,e):v4(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($o+e);if(t=gr(a)+1,n=a.d.length-1,r=n*Ut+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Oe.squareRoot=Oe.sqrt=function(){var e,t,r,n,a,s,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(oa+"NaN")}for(e=gr(d),Vt=!1,a=Math.sqrt(+d),a==0||a==1/0?(t=Ua(d.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Vc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=l=r+3;;)if(s=n,n=s.plus(_i(d,s,l+2)).times(.5),Ua(s.d).slice(0,l)===(t=Ua(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(Mt(s,r+1,0),s.times(s).eq(d)){n=s;break}}else if(t!="9999")break;l+=4}return Vt=!0,Mt(n,r)};Oe.times=Oe.mul=function(e){var t,r,n,a,s,l,d,f,h,p=this,g=p.constructor,y=p.d,v=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,r=p.e+e.e,f=y.length,h=v.length,f<h&&(s=y,y=v,v=s,l=f,f=h,h=l),s=[],l=f+h,n=l;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,a=f+n;a>n;)d=s[a]+v[n]*y[a-n-1]+t,s[a--]=d%Pr|0,t=d/Pr|0;s[a]=(s[a]+t)%Pr|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Vt?Mt(e,g.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Qa(e,0,Hc),t===void 0?t=n.rounding:Qa(t,0,8),Mt(r,e+gr(r)+1,t))};Oe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Yo(n,!0):(Qa(e,0,Hc),t===void 0?t=a.rounding:Qa(t,0,8),n=Mt(new a(n),e+1,t),r=Yo(n,!0,e+1)),r};Oe.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Yo(a):(Qa(e,0,Hc),t===void 0?t=s.rounding:Qa(t,0,8),n=Mt(new s(a),e+gr(a)+1,t),r=Yo(n.abs(),!1,e+gr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return Mt(new t(e),gr(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,r,n,a,s,l,d=this,f=d.constructor,h=12,p=+(e=new f(e));if(!e.s)return new f(Mn);if(d=new f(d),!d.s){if(e.s<1)throw Error(oa+"Infinity");return d}if(d.eq(Mn))return d;if(n=f.precision,e.eq(Mn))return Mt(d,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=d.s,l){if((r=p<0?-p:p)<=p4){for(a=new f(Mn),t=Math.ceil(n/Ut+4),Vt=!1;r%2&&(a=a.times(d),Sk(a.d,t)),r=Vc(r/2),r!==0;)d=d.times(d),Sk(d.d,t);return Vt=!0,e.s<0?new f(Mn).div(a):Mt(a,n)}}else if(s<0)throw Error(oa+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,Vt=!1,a=e.times(Id(d,n+h)),Vt=!0,a=y4(a),a.s=s,a};Oe.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=gr(a),n=Yo(a,r<=s.toExpNeg||r>=s.toExpPos)):(Qa(e,1,Hc),t===void 0?t=s.rounding:Qa(t,0,8),a=Mt(new s(a),e,t),r=gr(a),n=Yo(a,e<=r||r<=s.toExpNeg,e)),n};Oe.toSignificantDigits=Oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Qa(e,1,Hc),t===void 0?t=n.rounding:Qa(t,0,8)),Mt(new n(r),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gr(e),r=e.constructor;return Yo(e,t<=r.toExpNeg||t>=r.toExpPos)};function g4(e,t){var r,n,a,s,l,d,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Vt?Mt(t,g):t;if(f=e.d,h=t.d,l=e.e,a=t.e,f=f.slice(),s=l-a,s){for(s<0?(n=f,s=-s,d=h.length):(n=h,a=l,d=f.length),l=Math.ceil(g/Ut),d=l>d?l+1:d+1,s>d&&(s=d,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,n=h,h=f,f=n),r=0;s;)r=(f[--s]=f[s]+h[s]+r)/Pr|0,f[s]%=Pr;for(r&&(f.unshift(r),++a),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=a,Vt?Mt(t,g):t}function Qa(e,t,r){if(e!==~~e||e<t||e>r)throw Error($o+e)}function Ua(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=Ut-n.length,r&&(s+=bs(r)),s+=n;l=e[t],n=l+"",r=Ut-n.length,r&&(s+=bs(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var _i=(function(){function e(n,a){var s,l=0,d=n.length;for(n=n.slice();d--;)s=n[d]*a+l,n[d]=s%Pr|0,l=s/Pr|0;return l&&n.unshift(l),n}function t(n,a,s,l){var d,f;if(s!=l)f=s>l?1:-1;else for(d=f=0;d<s;d++)if(n[d]!=a[d]){f=n[d]>a[d]?1:-1;break}return f}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*Pr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var d,f,h,p,g,y,v,x,w,_,N,O,E,C,T,P,M,R,B=n.constructor,H=n.s==a.s?1:-1,Y=n.d,K=a.d;if(!n.s)return new B(n);if(!a.s)throw Error(oa+"Division by zero");for(f=n.e-a.e,M=K.length,T=Y.length,v=new B(H),x=v.d=[],h=0;K[h]==(Y[h]||0);)++h;if(K[h]>(Y[h]||0)&&--f,s==null?O=s=B.precision:l?O=s+(gr(n)-gr(a))+1:O=s,O<0)return new B(0);if(O=O/Ut+2|0,h=0,M==1)for(p=0,K=K[0],O++;(h<T||p)&&O--;h++)E=p*Pr+(Y[h]||0),x[h]=E/K|0,p=E%K|0;else{for(p=Pr/(K[0]+1)|0,p>1&&(K=e(K,p),Y=e(Y,p),M=K.length,T=Y.length),C=M,w=Y.slice(0,M),_=w.length;_<M;)w[_++]=0;R=K.slice(),R.unshift(0),P=K[0],K[1]>=Pr/2&&++P;do p=0,d=t(K,w,M,_),d<0?(N=w[0],M!=_&&(N=N*Pr+(w[1]||0)),p=N/P|0,p>1?(p>=Pr&&(p=Pr-1),g=e(K,p),y=g.length,_=w.length,d=t(g,w,y,_),d==1&&(p--,r(g,M<y?R:K,y))):(p==0&&(d=p=1),g=K.slice()),y=g.length,y<_&&g.unshift(0),r(w,g,_),d==-1&&(_=w.length,d=t(K,w,M,_),d<1&&(p++,r(w,M<_?R:K,_))),_=w.length):d===0&&(p++,w=[0]),x[h++]=p,d&&w[0]?w[_++]=Y[C]||0:(w=[Y[C]],_=1);while((C++<T||w[0]!==void 0)&&O--)}return x[0]||x.shift(),v.e=f,Mt(v,l?s+gr(v)+1:s)}})();function y4(e,t){var r,n,a,s,l,d,f=0,h=0,p=e.constructor,g=p.precision;if(gr(e)>16)throw Error(rj+gr(e));if(!e.s)return new p(Mn);for(Vt=!1,d=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(n=Math.log(vo(2,h))/Math.LN10*2+5|0,d+=n,r=a=s=new p(Mn),p.precision=d;;){if(a=Mt(a.times(e),d),r=r.times(++f),l=s.plus(_i(a,r,d)),Ua(l.d).slice(0,d)===Ua(s.d).slice(0,d)){for(;h--;)s=Mt(s.times(s),d);return p.precision=g,t==null?(Vt=!0,Mt(s,g)):s}s=l}}function gr(e){for(var t=e.e*Ut,r=e.d[0];r>=10;r/=10)t++;return t}function Tb(e,t,r){if(t>e.LN10.sd())throw Vt=!0,r&&(e.precision=r),Error(oa+"LN10 precision limit exceeded");return Mt(new e(e.LN10),t)}function bs(e){for(var t="";e--;)t+="0";return t}function Id(e,t){var r,n,a,s,l,d,f,h,p,g=1,y=10,v=e,x=v.d,w=v.constructor,_=w.precision;if(v.s<1)throw Error(oa+(v.s?"NaN":"-Infinity"));if(v.eq(Mn))return new w(0);if(t==null?(Vt=!1,h=_):h=t,v.eq(10))return t==null&&(Vt=!0),Tb(w,h);if(h+=y,w.precision=h,r=Ua(x),n=r.charAt(0),s=gr(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=Ua(v.d),n=r.charAt(0),g++;s=gr(v),n>1?(v=new w("0."+r),s++):v=new w(n+"."+r.slice(1))}else return f=Tb(w,h+2,_).times(s+""),v=Id(new w(n+"."+r.slice(1)),h-y).plus(f),w.precision=_,t==null?(Vt=!0,Mt(v,_)):v;for(d=l=v=_i(v.minus(Mn),v.plus(Mn),h),p=Mt(v.times(v),h),a=3;;){if(l=Mt(l.times(p),h),f=d.plus(_i(l,new w(a),h)),Ua(f.d).slice(0,h)===Ua(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(Tb(w,h+2,_).times(s+""))),d=_i(d,new w(g),h),w.precision=_,t==null?(Vt=!0,Mt(d,_)):d;d=f,a+=2}}function jk(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Vc(r/Ut),e.d=[],n=(r+1)%Ut,r<0&&(n+=Ut),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ut;n<a;)e.d.push(+t.slice(n,n+=Ut));t=t.slice(n),n=Ut-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Vt&&(e.e>fp||e.e<-fp))throw Error(rj+r)}else e.s=0,e.e=0,e.d=[0];return e}function Mt(e,t,r){var n,a,s,l,d,f,h,p,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=Ut,a=t,h=g[p=0];else{if(p=Math.ceil((n+1)/Ut),s=g.length,p>=s)return e;for(h=s=g[p],l=1;s>=10;s/=10)l++;n%=Ut,a=n-Ut+l}if(r!==void 0&&(s=vo(10,l-a-1),d=h/s%10|0,f=t<0||g[p+1]!==void 0||h%s,f=r<4?(d||f)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(n>0?a>0?h/vo(10,l-a):0:g[p-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(s=gr(e),g.length=1,t=t-s-1,g[0]=vo(10,(Ut-t%Ut)%Ut),e.e=Vc(-t/Ut)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=p,s=1,p--):(g.length=p+1,s=vo(10,Ut-n),g[p]=a>0?(h/vo(10,l-a)%vo(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==Pr&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=Pr)break;g[p--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(Vt&&(e.e>fp||e.e<-fp))throw Error(rj+gr(e));return e}function v4(e,t){var r,n,a,s,l,d,f,h,p,g,y=e.constructor,v=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Vt?Mt(t,v):t;if(f=e.d,g=t.d,n=t.e,h=e.e,f=f.slice(),l=h-n,l){for(p=l<0,p?(r=f,l=-l,d=g.length):(r=g,n=h,d=f.length),a=Math.max(Math.ceil(v/Ut),d)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}l=0}for(p&&(r=f,f=g,g=r,t.s=-t.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>l;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=Pr-1;--f[s],f[a]+=Pr}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Vt?Mt(t,v):t):new y(0)}function Yo(e,t,r){var n,a=gr(e),s=Ua(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+bs(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+bs(-a-1)+s,r&&(n=r-l)>0&&(s+=bs(n))):a>=l?(s+=bs(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+bs(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=bs(n))),e.s<0?"-"+s:s}function Sk(e,t){if(e.length>t)return e.length=t,!0}function b4(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error($o+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return jk(l,s.toString())}else if(typeof s!="string")throw Error($o+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,HW.test(s))jk(l,s);else throw Error($o+s)}if(a.prototype=Oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=b4,a.config=a.set=VW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function VW(e){if(!e||typeof e!="object")throw Error(oa+"Object expected");var t,r,n,a=["precision",1,Hc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Vc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error($o+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error($o+r+": "+n);return this}var nj=b4(QW);Mn=new nj(1);const Ot=nj;function x4(e){var t;return e===0?t=1:t=Math.floor(new Ot(e).abs().log(10).toNumber())+1,t}function w4(e,t,r){for(var n=new Ot(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var j4=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},S4=(e,t,r)=>{if(e.lte(0))return new Ot(0);var n=x4(e.toNumber()),a=new Ot(10).pow(n),s=e.div(a),l=n!==1?.05:.1,d=new Ot(Math.ceil(s.div(l).toNumber())).add(r).mul(l),f=d.mul(a);return t?new Ot(f.toNumber()):new Ot(Math.ceil(f.toNumber()))},GW=(e,t,r)=>{var n=new Ot(1),a=new Ot(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Ot(10).pow(x4(e)-1),a=new Ot(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Ot(Math.floor(e)))}else e===0?a=new Ot(Math.floor((t-1)/2)):r||(a=new Ot(Math.floor(e)));for(var l=Math.floor((t-1)/2),d=[],f=0;f<t;f++)d.push(a.add(new Ot(f-l).mul(n)).toNumber());return d},_4=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var l=S4(new Ot(r).sub(t).div(n-1),a,s),d;t<=0&&r>=0?d=new Ot(0):(d=new Ot(t).add(r).div(2),d=d.sub(new Ot(d).mod(l)));var f=Math.ceil(d.sub(t).div(l).toNumber()),h=Math.ceil(new Ot(r).sub(d).div(l).toNumber()),p=f+h+1;return p>n?_4(t,r,n,a,s+1):(p<n&&(h=r>0?h+(n-p):h,f=r>0?f:f+(n-p)),{step:l,tickMin:d.sub(new Ot(f).mul(l)),tickMax:d.add(new Ot(h).mul(l))})},YW=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[d,f]=j4([r,n]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return r>n?h.reverse():h}if(d===f)return GW(d,a,s);var{step:p,tickMin:g,tickMax:y}=_4(d,f,l,s,0),v=w4(g,y.add(new Ot(.1).mul(p)),p);return r>n?v.reverse():v},WW=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,d]=j4([n,a]);if(l===-1/0||d===1/0)return[n,a];if(l===d)return[l];var f=Math.max(r,2),h=S4(new Ot(d).sub(l).div(f-1),s,0),p=[...w4(new Ot(l),new Ot(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),n>a?p.reverse():p},N4=e=>e.rootProps.maxBarSize,XW=e=>e.rootProps.barGap,O4=e=>e.rootProps.barCategoryGap,JW=e=>e.rootProps.barSize,yf=e=>e.rootProps.stackOffset,E4=e=>e.rootProps.reverseStackOrder,aj=e=>e.options.chartName,ij=e=>e.rootProps.syncId,A4=e=>e.rootProps.syncMethod,sj=e=>e.options.eventEmitter,pr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},mo={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ta={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},wg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function jg(e,t,r){if(r!=="auto")return r;if(e!=null)return Bi(e,t)?"category":"number"}function _k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(r),!0).forEach(function(n){ZW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZW(e,t,r){return(t=eX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eX(e){var t=tX(e,"string");return typeof t=="symbol"?t:t+""}function tX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nk={allowDataOverflow:mo.allowDataOverflow,allowDecimals:mo.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:mo.angleAxisId,includeHidden:!1,name:void 0,reversed:mo.reversed,scale:mo.scale,tick:mo.tick,tickCount:void 0,ticks:void 0,type:mo.type,unit:void 0},Ok={allowDataOverflow:Ta.allowDataOverflow,allowDecimals:Ta.allowDecimals,allowDuplicatedCategory:Ta.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ta.radiusAxisId,includeHidden:Ta.includeHidden,name:void 0,reversed:Ta.reversed,scale:Ta.scale,tick:Ta.tick,tickCount:Ta.tickCount,ticks:void 0,type:Ta.type,unit:void 0},rX=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},oj=W([rX,hR],(e,t)=>{var r;if(e!=null)return e;var n=(r=jg(t,"angleAxis",Nk.type))!==null&&r!==void 0?r:"category";return hp(hp({},Nk),{},{type:n})}),nX=(e,t)=>e.polarAxis.radiusAxis[t],lj=W([nX,hR],(e,t)=>{var r;if(e!=null)return e;var n=(r=jg(t,"radiusAxis",Ok.type))!==null&&r!==void 0?r:"category";return hp(hp({},Ok),{},{type:n})}),Sg=e=>e.polarOptions,cj=W([$i,Ui,Sr],kR),C4=W([Sg,cj],(e,t)=>{if(e!=null)return Jr(e.innerRadius,t,0)}),k4=W([Sg,cj],(e,t)=>{if(e!=null)return Jr(e.outerRadius,t,t*.8)}),aX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},P4=W([Sg],aX);W([oj,P4],wg);var T4=W([cj,C4,k4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});W([lj,T4],wg);var D4=W([mt,Sg,C4,k4,$i,Ui],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=t;return{cx:Jr(l,a,a/2),cy:Jr(d,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:h,clockWise:!1}}}),Xt=(e,t)=>t,vf=(e,t,r)=>r;function uj(e){return e==null?void 0:e.id}function M4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:n;if(!(h==null||h.length===0)){var p=uj(d);h.forEach((g,y)=>{var v=s==null||a?y:String(Tt(g,s,null)),x=Tt(g,d.dataKey,0),w;l.has(v)?w=l.get(v):w={},Object.assign(w,{[p]:x}),l.set(v,w)})}}),Array.from(l.values())}function _g(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ng=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Og(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function iX(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Rr=e=>{var t=mt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Gc=e=>e.tooltip.settings.axisId;function sX(e){if(e in ld)return ld[e]();var t="scale".concat(nf(e));if(t in ld)return ld[t]()}function Ek(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(s){var l=a[0],d=a[1];return l<=d?s>=l&&s<=d:s>=d&&s<=l},bandwidth:r?()=>r.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,l)=>{var d=e(s);if(d!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var f=e.bandwidth();switch(l.position){case"middle":d+=f/2;break;case"end":d+=f;break}}return d}}}}function Ak(e,t,r){if(typeof e=="function")return Ek(e.copy().domain(t).range(r));if(e!=null){var n=sX(e);if(n!=null)return n.domain(t).range(r),Ek(n)}}var R4=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Ti(t)){for(var r,n,a=0;a<t.length;a++){var s=t[a];lt(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(n){oX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oX(e,t,r){return(t=lX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lX(e){var t=cX(e,"string");return typeof t=="symbol"?t:t+""}function cX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dw=[0,"auto"],Ar={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},I4=(e,t)=>e.cartesianAxis.xAxis[t],Fi=(e,t)=>{var r=I4(e,t);return r??Ar},Cr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:lf},L4=(e,t)=>e.cartesianAxis.yAxis[t],Ki=(e,t)=>{var r=L4(e,t);return r??Cr},uX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},dj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??uX},ir=(e,t,r)=>{switch(t){case"xAxis":return Fi(e,r);case"yAxis":return Ki(e,r);case"zAxis":return dj(e,r);case"angleAxis":return oj(e,r);case"radiusAxis":return lj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},dX=(e,t,r)=>{switch(t){case"xAxis":return Fi(e,r);case"yAxis":return Ki(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Yc=(e,t,r)=>{switch(t){case"xAxis":return Fi(e,r);case"yAxis":return Ki(e,r);case"angleAxis":return oj(e,r);case"radiusAxis":return lj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},B4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function fj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Eg=e=>e.graphicalItems.cartesianItems,fX=W([Xt,vf],fj),hj=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),bf=W([Eg,ir,fX],hj,{memoizeOptions:{resultEqualityCheck:Og}}),$4=W([bf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(_g)),U4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),hX=W([bf],U4),mj=e=>e.map(t=>t.data).filter(Boolean).flat(1),mX=W([bf],mj,{memoizeOptions:{resultEqualityCheck:Og}}),pj=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},gj=W([mX,tj],pj),yj=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Tt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Tt(a,n)}))):e.map(n=>({value:n})),Ag=W([gj,ir,bf],yj);function z4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function wm(e){if(Fa(e)||e instanceof Date){var t=Number(e);if(lt(t))return t}}function kk(e){if(Array.isArray(e)){var t=[wm(e[0]),wm(e[1])];return Ti(t)?t:void 0}var r=wm(e);if(r!=null)return[r,r]}function Di(e){return e.map(wm).filter(wn)}function pX(e,t,r){return!r||typeof t!="number"||qa(t)?[]:r.length?Di(r.flatMap(n=>{var a=Tt(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!lt(s)||!lt(l)))return[t-s,t+l]})):[]}var Nr=e=>{var t=Rr(e),r=Gc(e);return Yc(e,t,r)},xf=W([Nr],e=>e==null?void 0:e.dataKey),gX=W([$4,tj,Nr],M4),q4=(e,t,r,n)=>{var a={},s=t.reduce((l,d)=>{if(d.stackId==null)return l;var f=l[d.stackId];return f==null&&(f=[]),f.push(d),l[d.stackId]=f,l},a);return Object.fromEntries(Object.entries(s).map(l=>{var[d,f]=l,h=n?[...f].reverse():f,p=h.map(uj);return[d,{stackedData:I7(e,p,r),graphicalItems:h}]}))},fw=W([gX,$4,yf,E4],q4),F4=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=z7(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},yX=W([ir],e=>e.allowDataOverflow),vj=e=>{var t;if(e==null||!("domain"in e))return dw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Di(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:dw},bj=W([ir],vj),xj=W([bj,yX],m4),vX=W([fw,qi,Xt,xj],F4,{memoizeOptions:{resultEqualityCheck:Ng}}),Cg=e=>e.errorBars,bX=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>z4(r,n)),pp=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},wj=(e,t,r,n,a)=>{var s,l;if(r.length>0&&e.forEach(d=>{r.forEach(f=>{var h,p,g=(h=n[f.id])===null||h===void 0?void 0:h.filter(N=>z4(a,N)),y=Tt(d,(p=t.dataKey)!==null&&p!==void 0?p:f.dataKey),v=pX(d,y,g);if(v.length>=2){var x=Math.min(...v),w=Math.max(...v);(s==null||x<s)&&(s=x),(l==null||w>l)&&(l=w)}var _=kk(y);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),l=l==null?_[1]:Math.max(l,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(d=>{var f=kk(Tt(d,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),lt(s)&&lt(l))return[s,l]},xX=W([gj,ir,hX,Cg,Xt],wj,{memoizeOptions:{resultEqualityCheck:Ng}});function wX(e){var{value:t}=e;if(Fa(t)||t instanceof Date)return t}var jX=(e,t,r)=>{var n=e.map(wX).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&cM(n))?MR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},K4=e=>e.referenceElements.dots,Wc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),SX=W([K4,Xt,vf],Wc),Q4=e=>e.referenceElements.areas,_X=W([Q4,Xt,vf],Wc),H4=e=>e.referenceElements.lines,NX=W([H4,Xt,vf],Wc),V4=(e,t)=>{if(e!=null){var r=Di(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},OX=W(SX,Xt,V4),G4=(e,t)=>{if(e!=null){var r=Di(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},EX=W([_X,Xt],G4);function AX(e){var t;if(e.x!=null)return Di([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Di(r)}function CX(e){var t;if(e.y!=null)return Di([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Di(r)}var Y4=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?AX(n):CX(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},kX=W([NX,Xt],Y4),PX=W(OX,kX,EX,(e,t,r)=>pp(e,r,t)),jj=(e,t,r,n,a,s,l,d)=>{if(r!=null)return r;var f=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",h=f?pp(n,s,a):pp(s,a);return KW(t,h,e.allowDataOverflow)},TX=W([ir,bj,xj,vX,xX,PX,mt,Xt],jj,{memoizeOptions:{resultEqualityCheck:Ng}}),DX=[0,1],Sj=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:d,type:f}=e,h=Bi(t,s);if(h&&d==null){var p;return MR(0,(p=r==null?void 0:r.length)!==null&&p!==void 0?p:0)}return f==="category"?jX(n,e,h):a==="expand"?DX:l}},_j=W([ir,mt,gj,Ag,yf,Xt,TX],Sj);function MX(e){return e in ld}var W4=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(nf(n));return MX(s)?s:"point"}}},Hs=W([ir,B4,aj],W4);function Nj(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?Ak(e.scale,r,n):Ak(t,r,n)}var Oj=(e,t,r)=>{var n=vj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ti(e))return YW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ti(e))return WW(e,t.tickCount,t.allowDecimals)}},Ej=W([_j,Yc,Hs],Oj),Aj=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ti(t)&&Array.isArray(r)&&r.length>0){var a,s,l=t[0],d=(a=r[0])!==null&&a!==void 0?a:0,f=t[1],h=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,d),Math.max(f,h)]}return t},RX=W([ir,_j,Ej,Xt],Aj),IX=W(Ag,ir,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Di(e.map(g=>g.value))).sort((g,y)=>g-y),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var l=s-a;if(l===0)return 1/0;for(var d=0;d<n.length-1;d++){var f=n[d],h=n[d+1];if(!(f==null||h==null)){var p=h-f;r=Math.min(r,p)}}return r/l}}),X4=W(IX,mt,O4,Sr,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!lt(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=Jr(r,e*s),d=e*s/2;return d-l-(d-l)/s*l}return 0}),LX=(e,t,r)=>{var n=Fi(e,t);return n==null||typeof n.padding!="string"?0:X4(e,"xAxis",t,r,n.padding)},BX=(e,t,r)=>{var n=Ki(e,t);return n==null||typeof n.padding!="string"?0:X4(e,"yAxis",t,r,n.padding)},$X=W(Fi,LX,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),UX=W(Ki,BX,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),zX=W([Sr,$X,lg,og,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),qX=W([Sr,mt,UX,lg,og,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),wf=(e,t,r,n)=>{var a;switch(t){case"xAxis":return zX(e,r,n);case"yAxis":return qX(e,r,n);case"zAxis":return(a=dj(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return P4(e);case"radiusAxis":return T4(e,r);default:return}},J4=W([ir,wf],wg),FX=W([Hs,RX],R4),kg=W([ir,Hs,FX,J4],Nj);W([bf,Cg,Xt],bX);function Z4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Pg=(e,t)=>t,Tg=(e,t,r)=>r,KX=W(ig,Pg,Tg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Z4)),QX=W(sg,Pg,Tg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Z4)),eI=(e,t)=>({width:e.width,height:t.height}),HX=(e,t)=>{var r=typeof t.width=="number"?t.width:lf;return{width:r,height:e.height}},tI=W(Sr,Fi,eI),VX=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},GX=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},YX=W(Ui,Sr,KX,Pg,Tg,(e,t,r,n,a)=>{var s={},l;return r.forEach(d=>{var f=eI(t,d);l==null&&(l=VX(t,n,e));var h=n==="top"&&!a||n==="bottom"&&a;s[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),WX=W($i,Sr,QX,Pg,Tg,(e,t,r,n,a)=>{var s={},l;return r.forEach(d=>{var f=HX(t,d);l==null&&(l=GX(t,n,e));var h=n==="left"&&!a||n==="right"&&a;s[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),XX=(e,t)=>{var r=Fi(e,t);if(r!=null)return YX(e,r.orientation,r.mirror)},JX=W([Sr,Fi,XX,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),ZX=(e,t)=>{var r=Ki(e,t);if(r!=null)return WX(e,r.orientation,r.mirror)},eJ=W([Sr,Ki,ZX,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),rI=W(Sr,Ki,(e,t)=>{var r=typeof t.width=="number"?t.width:lf;return{width:r,height:e.height}}),Pk=(e,t,r)=>{switch(t){case"xAxis":return tI(e,r).width;case"yAxis":return rI(e,r).height;default:return}},nI=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,d=Bi(e,n),f=t.map(h=>h.value);if(l&&d&&s==="category"&&a&&cM(f))return f}},Cj=W([mt,Ag,ir,Xt],nI),aI=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=Bi(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(d=>d.value)}},kj=W([mt,Ag,Yc,Xt],aI),Tk=W([mt,dX,Hs,kg,Cj,kj,wf,Ej,Xt],(e,t,r,n,a,s,l,d,f)=>{if(t!=null){var h=Bi(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:d,range:l,realScaleType:r,scale:n}}}),tJ=(e,t,r,n,a,s,l,d,f)=>{if(!(t==null||n==null)){var h=Bi(e,f),{type:p,ticks:g,tickCount:y}=t,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=p==="category"&&n.bandwidth?n.bandwidth()/v:0;x=f==="angleAxis"&&s!=null&&s.length>=2?Tr(s[0]-s[1])*2*x:x;var w=g||a;return w?w.map((_,N)=>{var O=l?l.indexOf(_):_,E=n.map(O);return lt(E)?{index:N,coordinate:E+x,value:_,offset:x}:null}).filter(wn):h&&d?d.map((_,N)=>{var O=n.map(_);return lt(O)?{coordinate:O+x,value:_,index:N,offset:x}:null}).filter(wn):n.ticks?n.ticks(y).map((_,N)=>{var O=n.map(_);return lt(O)?{coordinate:O+x,value:_,index:N,offset:x}:null}).filter(wn):n.domain().map((_,N)=>{var O=n.map(_);return lt(O)?{coordinate:O+x,value:l?l[_]:_,index:N,offset:x}:null}).filter(wn)}},iI=W([mt,Yc,Hs,kg,Ej,wf,Cj,kj,Xt],tJ),rJ=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var d=Bi(e,l),{tickCount:f}=t,h=0;return h=l==="angleAxis"&&(n==null?void 0:n.length)>=2?Tr(n[0]-n[1])*2*h:h,d&&s?s.map((p,g)=>{var y=r.map(p);return lt(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(wn):r.ticks?r.ticks(f).map((p,g)=>{var y=r.map(p);return lt(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(wn):r.domain().map((p,g)=>{var y=r.map(p);return lt(y)?{coordinate:y+h,value:a?a[p]:p,index:g,offset:h}:null}).filter(wn)}},Ls=W([mt,Yc,kg,wf,Cj,kj,Xt],rJ),Bs=W(ir,kg,(e,t)=>{if(!(e==null||t==null))return mp(mp({},e),{},{scale:t})}),nJ=W([ir,Hs,_j,J4],Nj);W((e,t,r)=>dj(e,r),nJ,(e,t)=>{if(!(e==null||t==null))return mp(mp({},e),{},{scale:t})});var aJ=W([mt,ig,sg],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),sI=e=>e.options.defaultTooltipEventType,oI=e=>e.options.validateTooltipEventTypes;function lI(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Pj(e,t){var r=sI(e),n=oI(e);return lI(t,r,n)}function iJ(e){return Ae(t=>Pj(t,e))}var cI=(e,t)=>{var r,n=Number(t);if(!(qa(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},sJ=e=>e.tooltip.settings,js={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},oJ={itemInteraction:{click:js,hover:js},axisInteraction:{click:js,hover:js},keyboardInteraction:js,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},uI=Sn({name:"tooltip",initialState:oJ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Qt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=wa(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Qt()},removeTooltipEntrySettings:{reducer(e,t){var r=wa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Qt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:lJ,replaceTooltipEntrySettings:cJ,removeTooltipEntrySettings:uJ,setTooltipSettingsState:dJ,setActiveMouseOverItemIndex:dI,mouseLeaveItem:fJ,mouseLeaveChart:fI,setActiveClickItemIndex:hJ,setMouseOverAxisIndex:hI,setMouseClickAxisIndex:mJ,setSyncInteraction:hw,setKeyboardInteraction:mw}=uI.actions,pJ=uI.reducer;function Dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(r),!0).forEach(function(n){gJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gJ(e,t,r){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yJ(e){var t=vJ(e,"string");return typeof t=="symbol"?t:t+""}function vJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bJ(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function xJ(e){return e.index!=null}var mI=(e,t,r,n)=>{if(t==null)return js;var a=bJ(e,t,r);if(a==null)return js;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(xJ(a)){if(s)return dm(dm({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return dm(dm({},js),{},{coordinate:a.coordinate})};function wJ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function jJ(e,t){var r=wJ(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),l=Math.max(n,a);return r>=s&&r<=l}function SJ(e,t,r){if(r==null||t==null)return!0;var n=Tt(e,t);return n==null||!Ti(r)?!0:jJ(n,r)}var Tj=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!lt(s))return a;var l=0,d=1/0;t.length>0&&(d=t.length-1);var f=Math.max(l,Math.min(s,d)),h=t[f];return h==null||SJ(h,r,n)?String(f):null},pI=(e,t,r,n,a,s,l)=>{if(s!=null){var d=l[0],f=d==null?void 0:d.getPosition(s);if(f!=null)return f;var h=a==null?void 0:a[Number(s)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},gI=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(l=>{var d;return((d=l.settings)===null||d===void 0?void 0:d.graphicalItemId)===a})},yI=e=>e.options.tooltipPayloadSearcher,Xc=e=>e.tooltip;function Mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(r),!0).forEach(function(n){_J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _J(e,t,r){return(t=NJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NJ(e){var t=OJ(e,"string");return typeof t=="symbol"?t:t+""}function OJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EJ(e,t){return e??t}var vI=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=r,g=[];return e.reduce((y,v)=>{var x,{dataDefinedOnItem:w,settings:_}=v,N=EJ(w,d),O=Array.isArray(N)?rR(N,h,p):N,E=(x=_==null?void 0:_.dataKey)!==null&&x!==void 0?x:n,C=_==null?void 0:_.nameKey,T;if(n&&Array.isArray(O)&&!Array.isArray(O[0])&&l==="axis"?T=uM(O,n,a):T=s(O,t,f,C),Array.isArray(T))T.forEach(M=>{var R=Rk(Rk({},_),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});y.push(DC({tooltipEntrySettings:R,dataKey:M.dataKey,payload:M.payload,value:Tt(M.payload,M.dataKey),name:M.name}))});else{var P;y.push(DC({tooltipEntrySettings:_,dataKey:E,payload:T,value:Tt(T,E),name:(P=Tt(T,C))!==null&&P!==void 0?P:_==null?void 0:_.name}))}return y},g)}},Dj=W([Nr,B4,aj],W4),AJ=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),CJ=W([Rr,Gc],fj),Jc=W([AJ,Nr,CJ],hj,{memoizeOptions:{resultEqualityCheck:Og}}),kJ=W([Jc],e=>e.filter(_g)),PJ=W([Jc],mj,{memoizeOptions:{resultEqualityCheck:Og}}),Zc=W([PJ,qi],pj),TJ=W([kJ,qi,Nr],M4),Mj=W([Zc,Nr,Jc],yj),bI=W([Nr],vj),DJ=W([Nr],e=>e.allowDataOverflow),xI=W([bI,DJ],m4),MJ=W([Jc],e=>e.filter(_g)),RJ=W([TJ,MJ,yf,E4],q4),IJ=W([RJ,qi,Rr,xI],F4),LJ=W([Jc],U4),BJ=W([Zc,Nr,LJ,Cg,Rr],wj,{memoizeOptions:{resultEqualityCheck:Ng}}),$J=W([K4,Rr,Gc],Wc),UJ=W([$J,Rr],V4),zJ=W([Q4,Rr,Gc],Wc),qJ=W([zJ,Rr],G4),FJ=W([H4,Rr,Gc],Wc),KJ=W([FJ,Rr],Y4),QJ=W([UJ,KJ,qJ],pp),HJ=W([Nr,bI,xI,IJ,BJ,QJ,mt,Rr],jj),jf=W([Nr,mt,Zc,Mj,yf,Rr,HJ],Sj),VJ=W([jf,Nr,Dj],Oj),GJ=W([Nr,jf,VJ,Rr],Aj),wI=e=>{var t=Rr(e),r=Gc(e),n=!1;return wf(e,t,r,n)},jI=W([Nr,wI],wg),SI=W([Nr,Dj,GJ,jI],Nj),YJ=W([mt,Mj,Nr,Rr],nI),WJ=W([mt,Mj,Nr,Rr],aI),XJ=(e,t,r,n,a,s,l,d)=>{if(t){var{type:f}=t,h=Bi(e,d);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Tr(a[0]-a[1])*2*g:g,h&&l?l.map((y,v)=>{var x=n.map(y);return lt(x)?{coordinate:x+g,value:y,index:v,offset:g}:null}).filter(wn):n.domain().map((y,v)=>{var x=n.map(y);return lt(x)?{coordinate:x+g,value:s?s[y]:y,index:v,offset:g}:null}).filter(wn)}}},Qi=W([mt,Nr,Dj,SI,wI,YJ,WJ,Rr],XJ),Rj=W([sI,oI,sJ],(e,t,r)=>lI(r.shared,e,t)),_I=e=>e.tooltip.settings.trigger,Ij=e=>e.tooltip.settings.defaultIndex,Sf=W([Xc,Rj,_I,Ij],mI),$s=W([Sf,Zc,xf,jf],Tj),NI=W([Qi,$s],cI),Lj=W([Sf],e=>{if(e)return e.dataKey}),JJ=W([Sf],e=>{if(e)return e.graphicalItemId}),OI=W([Xc,Rj,_I,Ij],gI),ZJ=W([$i,Ui,mt,Sr,Qi,Ij,OI],pI),eZ=W([Sf,ZJ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),tZ=W([Sf],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),rZ=W([OI,$s,qi,xf,NI,yI,Rj],vI),nZ=W([rZ],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(n){aZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aZ(e,t,r){return(t=iZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iZ(e){var t=sZ(e,"string");return typeof t=="symbol"?t:t+""}function sZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oZ=()=>Ae(Nr),lZ=()=>{var e=oZ(),t=Ae(Qi),r=Ae(SI);return kc(!e||!r?void 0:Lk(Lk({},e),{},{scale:r}),t)};function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(n){cZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cZ(e,t,r){return(t=uZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uZ(e){var t=dZ(e,"string");return typeof t=="symbol"?t:t+""}function dZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fZ=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},hZ=(e,t,r,n)=>{var a=t.find(h=>h&&h.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:l}=n;return Zl(Zl(Zl({},n),mr(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var d=a.coordinate,{angle:f}=n;return Zl(Zl(Zl({},n),mr(n.cx,n.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function mZ(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var EI=(e,t,r,n,a)=>{var s,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<l;d++){var f,h,p,g,y,v=d>0?(f=r[d-1])===null||f===void 0?void 0:f.coordinate:(h=r[l-1])===null||h===void 0?void 0:h.coordinate,x=(p=r[d])===null||p===void 0?void 0:p.coordinate,w=d>=l-1?(g=r[0])===null||g===void 0?void 0:g.coordinate:(y=r[d+1])===null||y===void 0?void 0:y.coordinate,_=void 0;if(!(v==null||x==null||w==null))if(Tr(x-v)!==Tr(w-x)){var N=[];if(Tr(w-x)===Tr(a[1]-a[0])){_=w;var O=x+a[1]-a[0];N[0]=Math.min(O,(O+v)/2),N[1]=Math.max(O,(O+v)/2)}else{_=v;var E=w+a[1]-a[0];N[0]=Math.min(x,(E+x)/2),N[1]=Math.max(x,(E+x)/2)}var C=[Math.min(x,(_+x)/2),Math.max(x,(_+x)/2)];if(e>C[0]&&e<=C[1]||e>=N[0]&&e<=N[1]){var T;return(T=r[d])===null||T===void 0?void 0:T.index}}else{var P=Math.min(v,w),M=Math.max(v,w);if(e>(P+x)/2&&e<=(M+x)/2){var R;return(R=r[d])===null||R===void 0?void 0:R.index}}}else if(t)for(var B=0;B<l;B++){var H=t[B];if(H!=null){var Y=t[B+1],K=t[B-1];if(B===0&&Y!=null&&e<=(H.coordinate+Y.coordinate)/2||B===l-1&&K!=null&&e>(H.coordinate+K.coordinate)/2||B>0&&B<l-1&&K!=null&&Y!=null&&e>(H.coordinate+K.coordinate)/2&&e<=(H.coordinate+Y.coordinate)/2)return H.index}}return-1},pZ=()=>Ae(aj),Bj=(e,t)=>t,AI=(e,t,r)=>r,$j=(e,t,r,n)=>n,gZ=W(Qi,e=>Yp(e,t=>t.coordinate)),Uj=W([Xc,Bj,AI,$j],mI),zj=W([Uj,Zc,xf,jf],Tj),yZ=(e,t,r)=>{if(t!=null){var n=Xc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},CI=W([Xc,Bj,AI,$j],gI),gp=W([$i,Ui,mt,Sr,Qi,$j,CI],pI),vZ=W([Uj,gp],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),kI=W([Qi,zj],cI),bZ=W([CI,zj,qi,xf,kI,yI,Bj],vI),xZ=W([Uj,zj],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),wZ=(e,t,r,n,a,s,l)=>{if(!(!e||!r||!n||!a)&&mZ(e,l)){var d=q7(e,t),f=EI(d,s,a,r,n),h=fZ(t,a,f,e);return{activeIndex:String(f),activeCoordinate:h}}},jZ=(e,t,r,n,a,s,l)=>{if(!(!e||!n||!a||!s||!r)){var d=iG(e,r);if(d){var f=F7(d,t),h=EI(f,l,s,n,a),p=hZ(t,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},SZ=(e,t,r,n,a,s,l,d)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?wZ(e,t,n,a,s,l,d):jZ(e,t,r,n,a,s,l)},_Z=W(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),NZ=W(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(pr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:iX}});function $k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(r),!0).forEach(function(n){OZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OZ(e,t,r){return(t=EZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EZ(e){var t=AZ(e,"string");return typeof t=="symbol"?t:t+""}function AZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CZ={},kZ={zIndexMap:Object.values(pr).reduce((e,t)=>Uk(Uk({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),CZ)},PZ=new Set(Object.values(pr));function TZ(e){return PZ.has(e)}var PI=Sn({name:"zIndex",initialState:kZ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Qt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!TZ(r)&&delete e.zIndexMap[r])},prepare:Qt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Qt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Qt()}}}),{registerZIndexPortal:DZ,unregisterZIndexPortal:MZ,registerZIndexPortalElement:RZ,unregisterZIndexPortalElement:IZ}=PI.actions,LZ=PI.reducer;function _n(e){var{zIndex:t,children:r}=e,n=xH(),a=n&&t!==void 0&&t!==0,s=en(),l=Lt();j.useLayoutEffect(()=>a?(l(DZ({zIndex:t})),()=>{l(MZ({zIndex:t}))}):Zo,[l,t,a]);var d=Ae(f=>_Z(f,t,s));return a?d?kp.createPortal(r,d):null:r}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(null,arguments)}function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(n){BZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BZ(e,t,r){return(t=$Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Z(e){var t=UZ(e,"string");return typeof t=="symbol"?t:t+""}function UZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zZ(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return j.isValidElement(t)?j.cloneElement(t,n):j.createElement(r,n)}function qZ(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:d,cursor:f,tooltipEventType:h,chartName:p}=e,g=r,y=n,v=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var x,w,_;if(p==="ScatterChart")x=g,w=bV,_=pr.cursorLine;else if(p==="BarChart")x=xV(d,g,s,l),w=CR,_=pr.cursorRectangle;else if(d==="radial"&&fM(g)){var{cx:N,cy:O,radius:E,startAngle:C,endAngle:T}=PR(g);x={cx:N,cy:O,startAngle:C,endAngle:T,innerRadius:E,outerRadius:E},w=DR,_=pr.cursorLine}else x={points:cG(d,g,s)},w=P1,_=pr.cursorLine;var P=typeof f=="object"&&"className"in f?f.className:void 0,M=fm(fm(fm(fm({stroke:"#ccc",pointerEvents:"none"},s),x),qo(f)),{},{payload:y,payloadIndex:v,className:ft("recharts-tooltip-cursor",P)});return j.createElement(_n,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},j.createElement(zZ,{cursor:f,cursorComp:w,cursorProps:M}))}function FZ(e){var t=lZ(),r=dR(),n=el(),a=pZ();return t==null||r==null||n==null||a==null?null:j.createElement(qZ,pw({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var TI=j.createContext(null),KZ=()=>j.useContext(TI),Db={exports:{}},qk;function QZ(){return qk||(qk=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new a(p,g||f,y),x=r?r+h:h;return f._events[x]?f._events[x].fn?f._events[x]=[f._events[x],v]:f._events[x].push(v):(f._events[x]=v,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=r?r+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,v=g.length,x=new Array(v);y<v;y++)x[y]=g[y].fn;return x},d.prototype.listenerCount=function(h){var p=r?r+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,y,v,x){var w=r?r+h:h;if(!this._events[w])return!1;var _=this._events[w],N=arguments.length,O,E;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),N){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,y),!0;case 5:return _.fn.call(_.context,p,g,y,v),!0;case 6:return _.fn.call(_.context,p,g,y,v,x),!0}for(E=1,O=new Array(N-1);E<N;E++)O[E-1]=arguments[E];_.fn.apply(_.context,O)}else{var C=_.length,T;for(E=0;E<C;E++)switch(_[E].once&&this.removeListener(h,_[E].fn,void 0,!0),N){case 1:_[E].fn.call(_[E].context);break;case 2:_[E].fn.call(_[E].context,p);break;case 3:_[E].fn.call(_[E].context,p,g);break;case 4:_[E].fn.call(_[E].context,p,g,y);break;default:if(!O)for(T=1,O=new Array(N-1);T<N;T++)O[T-1]=arguments[T];_[E].fn.apply(_[E].context,O)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,y){var v=r?r+h:h;if(!this._events[v])return this;if(!p)return l(this,v),this;var x=this._events[v];if(x.fn)x.fn===p&&(!y||x.once)&&(!g||x.context===g)&&l(this,v);else{for(var w=0,_=[],N=x.length;w<N;w++)(x[w].fn!==p||y&&!x[w].once||g&&x[w].context!==g)&&_.push(x[w]);_.length?this._events[v]=_.length===1?_[0]:_:l(this,v)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(Db)),Db.exports}var HZ=QZ();const VZ=Ha(HZ);var Ld=new VZ,gw="recharts.syncEvent.tooltip",Fk="recharts.syncEvent.brush",qj=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!qa(r))return e[r]}},GZ={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},DI=Sn({name:"options",initialState:GZ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),YZ=DI.reducer,{createEventEmitter:WZ}=DI.actions;function XZ(e){return e.tooltip.syncInteraction}var JZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},MI=Sn({name:"chartData",initialState:JZ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Kk,setDataStartEndIndexes:ZZ,setComputedData:ble}=MI.actions,eee=MI.reducer,tee=["x","y"];function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(r),!0).forEach(function(n){ree(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ree(e,t,r){return(t=nee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nee(e){var t=aee(e,"string");return typeof t=="symbol"?t:t+""}function aee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iee(e,t){if(e==null)return{};var r,n,a=see(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function see(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oee(){var e=Ae(ij),t=Ae(sj),r=Lt(),n=Ae(A4),a=Ae(Qi),s=el(),l=cg(),d=Ae(f=>f.rootProps.className);j.useEffect(()=>{if(e==null)return Zo;var f=(h,p,g)=>{if(t!==g&&e===h){if(n==="index"){var y;if(l&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var v=p.payload.coordinate,{x,y:w}=v,_=iee(v,tee),{x:N,y:O,width:E,height:C}=p.payload.sourceViewBox,T=ec(ec({},_),{},{x:l.x+(E?(x-N)/E:0)*l.width,y:l.y+(C?(w-O)/C:0)*l.height});r(ec(ec({},p),{},{payload:ec(ec({},p.payload),{},{coordinate:T})}))}else r(p);return}if(a!=null){var P;if(typeof n=="function"){var M={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},R=n(a,M);P=a[R]}else n==="value"&&(P=a.find(L=>String(L.value)===p.payload.label));var{coordinate:B}=p.payload;if(P==null||p.payload.active===!1||B==null||l==null){r(hw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:H,y:Y}=B,K=Math.min(H,l.x+l.width),me=Math.min(Y,l.y+l.height),ie={x:s==="horizontal"?P.coordinate:K,y:s==="horizontal"?me:P.coordinate},ye=hw({active:p.payload.active,coordinate:ie,dataKey:p.payload.dataKey,index:String(P.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});r(ye)}}};return Ld.on(gw,f),()=>{Ld.off(gw,f)}},[d,r,t,e,n,a,s,l])}function lee(){var e=Ae(ij),t=Ae(sj),r=Lt();j.useEffect(()=>{if(e==null)return Zo;var n=(a,s,l)=>{t!==l&&e===a&&r(ZZ(s))};return Ld.on(Fk,n),()=>{Ld.off(Fk,n)}},[r,t,e])}function cee(){var e=Lt();j.useEffect(()=>{e(WZ())},[e]),oee(),lee()}function uee(e,t,r,n,a,s){var l=Ae(v=>yZ(v,e,t)),d=Ae(sj),f=Ae(ij),h=Ae(A4),p=Ae(XZ),g=p==null?void 0:p.active,y=cg();j.useEffect(()=>{if(!g&&f!=null&&d!=null){var v=hw({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:y,graphicalItemId:void 0});Ld.emit(gw,f,v,d)}},[g,r,l,a,n,d,f,h,s,y])}function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(n){dee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dee(e,t,r){return(t=fee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fee(e){var t=hee(e,"string");return typeof t=="symbol"?t:t+""}function hee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mee(e){return e.dataKey}function pee(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(JH,t)}var Gk=[],gee={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Oo(e){var t,r,n=yr(e,gee),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:y,position:v,reverseDirection:x,useTranslate3d:w,wrapperStyle:_,cursor:N,shared:O,trigger:E,defaultIndex:C,portal:T,axisId:P}=n,M=Lt(),R=typeof C=="number"?String(C):C;j.useEffect(()=>{M(dJ({shared:O,trigger:E,axisId:P,active:a,defaultIndex:R}))},[M,O,E,P,a,R]);var B=cg(),H=_R(),Y=iJ(O),{activeIndex:K,isActive:me}=(t=Ae(pe=>xZ(pe,Y,E,R)))!==null&&t!==void 0?t:{},ie=Ae(pe=>bZ(pe,Y,E,R)),ye=Ae(pe=>kI(pe,Y,E,R)),L=Ae(pe=>vZ(pe,Y,E,R)),V=ie,ne=KZ(),he=(r=a??me)!==null&&r!==void 0?r:!1,[I,D]=OM([V,he]),U=Y==="axis"?ye:void 0;uee(Y,E,L,U,K,he);var Z=T??ne;if(Z==null||B==null||Y==null)return null;var q=V??Gk;he||(q=Gk),h&&q.length&&(q=wM(q.filter(pe=>pe.value!=null&&(pe.hide!==!0||n.includeHidden)),y,mee));var ge=q.length>0,ve=j.createElement(iV,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:p,active:he,coordinate:L,hasPayload:ge,offset:g,position:v,reverseDirection:x,useTranslate3d:w,viewBox:B,wrapperStyle:_,lastBoundingBox:I,innerRef:D,hasPortalFromProps:!!T},pee(f,Vk(Vk({},n),{},{payload:q,label:U,active:he,activeIndex:K,coordinate:L,accessibilityLayer:H})));return j.createElement(j.Fragment,null,kp.createPortal(ve,Z),he&&j.createElement(FZ,{cursor:N,tooltipEventType:Y,coordinate:L,payload:q,index:K}))}var nl=e=>null;nl.displayName="Cell";function yee(e,t,r){return(t=vee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vee(e){var t=bee(e,"string");return typeof t=="symbol"?t:t+""}function bee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xee{constructor(t){yee(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(r),!0).forEach(function(n){jee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jee(e,t,r){return(t=See(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function See(e){var t=_ee(e,"string");return typeof t=="symbol"?t:t+""}function _ee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nee={cacheSize:2e3,enableCache:!0},RI=wee({},Nee),Wk=new xee(RI.cacheSize),Oee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Xk="recharts_measurement_span";function Eee(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(d)}var Jk=(e,t)=>{try{var r=document.getElementById(Xk);r||(r=document.createElement("span"),r.setAttribute("id",Xk),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Oee,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},fd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hg.isSsr)return{width:0,height:0};if(!RI.enableCache)return Jk(t,r);var n=Eee(t,r),a=Wk.get(n);if(a)return a;var s=Jk(t,r);return Wk.set(n,s),s},II;function Aee(e,t,r){return(t=Cee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cee(e){var t=kee(e,"string");return typeof t=="symbol"?t:t+""}function kee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Dee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Mee=["cm","mm","pt","pc","in","Q","px"];function Ree(e){return Mee.includes(e)}var oc="NaN";function Iee(e,t){return e*Dee[t]}class Hr{static parse(t){var r,[,n,a]=(r=Tee.exec(t))!==null&&r!==void 0?r:[];return n==null?Hr.NaN:new Hr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,qa(t)&&(this.unit=""),r!==""&&!Pee.test(r)&&(this.num=NaN,this.unit=""),Ree(r)&&(this.num=Iee(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qa(this.num)}}II=Hr;Aee(Hr,"NaN",new II(NaN,""));function LI(e){if(e==null||e.includes(oc))return oc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=Zk.exec(t))!==null&&r!==void 0?r:[],l=Hr.parse(n??""),d=Hr.parse(s??""),f=a==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return oc;t=t.replace(Zk,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,g,y]=(h=eP.exec(t))!==null&&h!==void 0?h:[],v=Hr.parse(p??""),x=Hr.parse(y??""),w=g==="+"?v.add(x):v.subtract(x);if(w.isNaN())return oc;t=t.replace(eP,w.toString())}return t}var tP=/\(([^()]*)\)/;function Lee(e){for(var t=e,r;(r=tP.exec(t))!=null;){var[,n]=r;t=t.replace(tP,LI(n))}return t}function Bee(e){var t=e.replace(/\s+/g,"");return t=Lee(t),t=LI(t),t}function $ee(e){try{return Bee(e)}catch{return oc}}function Mb(e){var t=$ee(e.slice(5,-1));return t===oc?"":t}var Uee=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],zee=["dx","dy","angle","className","breakAll"];function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yw.apply(null,arguments)}function rP(e,t){if(e==null)return{};var r,n,a=qee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var BI=/[ \f\n\r\t\v\u2028\u2029]+/,$I=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Wt(t)||(r?a=t.toString().split(""):a=t.toString().split(BI));var s=a.map(d=>({word:d,width:fd(d,n).width})),l=r?0:fd("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Fee(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var UI=(e,t,r,n)=>e.reduce((a,s)=>{var{word:l,width:d}=s,f=a[a.length-1];if(f&&d!=null&&(t==null||n||f.width+d+r<Number(t)))f.words.push(l),f.width+=d+r;else{var h={words:[l],width:d};a.push(h)}return a},[]),zI=e=>e.reduce((t,r)=>t.width>r.width?t:r),Kee="",nP=(e,t,r,n,a,s,l,d)=>{var f=e.slice(0,t),h=$I({breakAll:r,style:n,children:f+Kee});if(!h)return[!1,[]];var p=UI(h.wordsWithComputedWidth,s,l,d),g=p.length>a||zI(p).width>Number(s);return[g,p]},Qee=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:d,breakAll:f}=e,h=Ne(s),p=String(l),g=UI(t,n,r,a);if(!h||a)return g;var y=g.length>s||zI(g).width>Number(n);if(!y)return g;for(var v=0,x=p.length-1,w=0,_;v<=x&&w<=p.length-1;){var N=Math.floor((v+x)/2),O=N-1,[E,C]=nP(p,O,f,d,s,n,r,a),[T]=nP(p,N,f,d,s,n,r,a);if(!E&&!T&&(v=N+1),E&&T&&(x=N-1),!E&&T){_=C;break}w++}return _||g},aP=e=>{var t=Wt(e)?[]:e.toString().split(BI);return[{words:t,width:void 0}]},Hee=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!hg.isSsr){var d,f,h=$I({breakAll:s,children:n,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return aP(n);return Qee({breakAll:s,children:n,maxLines:l,style:a},d,f,t,!!r)}return aP(n)},qI="#808080",Vee={angle:0,breakAll:!1,capHeight:"0.71em",fill:qI,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Dg=j.forwardRef((e,t)=>{var r=yr(e,Vee),{x:n,y:a,lineHeight:s,capHeight:l,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=r,g=rP(r,Uee),y=j.useMemo(()=>Hee({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:v,dy:x,angle:w,className:_,breakAll:N}=g,O=rP(g,zee);if(!Fa(n)||!Fa(a)||y.length===0)return null;var E=Number(n)+(Ne(v)?v:0),C=Number(a)+(Ne(x)?x:0);if(!lt(E)||!lt(C))return null;var T;switch(p){case"start":T=Mb("calc(".concat(l,")"));break;case"middle":T=Mb("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:T=Mb("calc(".concat(y.length-1," * -").concat(s,")"));break}var P=[],M=y[0];if(f&&M!=null){var R=M.width,{width:B}=g;P.push("scale(".concat(Ne(B)&&Ne(R)?B/R:1,")"))}return w&&P.push("rotate(".concat(w,", ").concat(E,", ").concat(C,")")),P.length&&(O.transform=P.join(" ")),j.createElement("text",yw({},cn(O),{ref:t,x:E,y:C,className:ft("recharts-text",_),textAnchor:h,fill:d.includes("url")?qI:d}),y.map((H,Y)=>{var K=H.words.join(N?"":" ");return j.createElement("tspan",{x:E,dy:Y===0?T:s,key:"".concat(K,"-").concat(Y)},K)}))});Dg.displayName="Text";function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){Gee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gee(e,t,r){return(t=Yee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yee(e){var t=Wee(e,"string");return typeof t=="symbol"?t:t+""}function Wee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xee=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:s,y:l,height:d,upperWidth:f,lowerWidth:h}=O1(t),p=s,g=s+(f-h)/2,y=(p+g)/2,v=(f+h)/2,x=p+f/2,w=d>=0?1:-1,_=w*n,N=w>0?"end":"start",O=w>0?"start":"end",E=f>=0?1:-1,C=E*n,T=E>0?"end":"start",P=E>0?"start":"end",M=a;if(r==="top"){var R={x:p+f/2,y:l-_,horizontalAnchor:"middle",verticalAnchor:N};return M&&(R.height=Math.max(l-M.y,0),R.width=f),R}if(r==="bottom"){var B={x:g+h/2,y:l+d+_,horizontalAnchor:"middle",verticalAnchor:O};return M&&(B.height=Math.max(M.y+M.height-(l+d),0),B.width=h),B}if(r==="left"){var H={x:y-C,y:l+d/2,horizontalAnchor:T,verticalAnchor:"middle"};return M&&(H.width=Math.max(H.x-M.x,0),H.height=d),H}if(r==="right"){var Y={x:y+v+C,y:l+d/2,horizontalAnchor:P,verticalAnchor:"middle"};return M&&(Y.width=Math.max(M.x+M.width-Y.x,0),Y.height=d),Y}var K=M?{width:v,height:d}:{};return r==="insideLeft"?Da({x:y+C,y:l+d/2,horizontalAnchor:P,verticalAnchor:"middle"},K):r==="insideRight"?Da({x:y+v-C,y:l+d/2,horizontalAnchor:T,verticalAnchor:"middle"},K):r==="insideTop"?Da({x:p+f/2,y:l+_,horizontalAnchor:"middle",verticalAnchor:O},K):r==="insideBottom"?Da({x:g+h/2,y:l+d-_,horizontalAnchor:"middle",verticalAnchor:N},K):r==="insideTopLeft"?Da({x:p+C,y:l+_,horizontalAnchor:P,verticalAnchor:O},K):r==="insideTopRight"?Da({x:p+f-C,y:l+_,horizontalAnchor:T,verticalAnchor:O},K):r==="insideBottomLeft"?Da({x:g+C,y:l+d-_,horizontalAnchor:P,verticalAnchor:N},K):r==="insideBottomRight"?Da({x:g+h-C,y:l+d-_,horizontalAnchor:T,verticalAnchor:N},K):r&&typeof r=="object"&&(Ne(r.x)||Qo(r.x))&&(Ne(r.y)||Qo(r.y))?Da({x:s+Jr(r.x,v),y:l+Jr(r.y,d),horizontalAnchor:"end",verticalAnchor:"end"},K):Da({x,y:l+d/2,horizontalAnchor:"middle",verticalAnchor:"middle"},K)},Jee=["labelRef"],Zee=["content"];function sP(e,t){if(e==null)return{};var r,n,a=ete(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ete(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){tte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tte(e,t,r){return(t=rte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e){var t=nte(e,"string");return typeof t=="symbol"?t:t+""}function nte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(null,arguments)}var FI=j.createContext(null),ate=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l,children:d}=e,f=j.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l}),[t,r,n,a,s,l]);return j.createElement(FI.Provider,{value:f},d)},KI=()=>{var e=j.useContext(FI),t=cg();return e||(t?O1(t):void 0)},ite=j.createContext(null),ste=()=>{var e=j.useContext(ite),t=Ae(D4);return e||t},ote=e=>{var{value:t,formatter:r}=e,n=Wt(e.children)?t:e.children;return typeof r=="function"?r(n):n},Fj=e=>e!=null&&typeof e=="function",lte=(e,t)=>{var r=Tr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},cte=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:y,clockWise:v}=a,x=(h+p)/2,w=lte(g,y),_=w>=0?1:-1,N,O;switch(t){case"insideStart":N=g+_*s,O=v;break;case"insideEnd":N=y-_*s,O=!v;break;case"end":N=y+_*s,O=v;break;default:throw new Error("Unsupported position ".concat(t))}O=w<=0?O:!O;var E=mr(d,f,x,N),C=mr(d,f,x,N+(O?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),P=Wt(e.id)?Sd("recharts-radial-line-"):e.id;return j.createElement("text",bi({},n,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",l)}),j.createElement("defs",null,j.createElement("path",{id:P,d:T})),j.createElement("textPath",{xlinkHref:"#".concat(P)},r))},ute=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:d,endAngle:f}=e,h=(d+f)/2;if(r==="outside"){var{x:p,y:g}=mr(n,a,l+t,h);return{x:p,y:g,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(s+l)/2,{x:v,y:x}=mr(n,a,y,h);return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},jm=e=>e!=null&&"cx"in e&&Ne(e.cx),dte={angle:0,offset:5,zIndex:pr.label,position:"middle",textBreakAll:!1};function fte(e){if(!jm(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function xs(e){var t=yr(e,dte),{viewBox:r,parentViewBox:n,position:a,value:s,children:l,content:d,className:f="",textBreakAll:h,labelRef:p}=t,g=ste(),y=KI(),v=a==="center"?y:g??y,x,w,_;r==null?x=v:jm(r)?x=r:x=O1(r);var N=fte(x);if(!x||Wt(s)&&Wt(l)&&!j.isValidElement(d)&&typeof d!="function")return null;var O=cd(cd({},t),{},{viewBox:x});if(j.isValidElement(d)){var{labelRef:E}=O,C=sP(O,Jee);return j.cloneElement(d,C)}if(typeof d=="function"){var{content:T}=O,P=sP(O,Zee);if(w=j.createElement(d,P),j.isValidElement(w))return w}else w=ote(t);var M=cn(t);if(jm(x)){if(a==="insideStart"||a==="insideEnd"||a==="end")return cte(t,a,w,M,x);_=ute(x,t.offset,t.position)}else{if(!N)return null;var R=Xee({viewBox:N,position:a,offset:t.offset,parentViewBox:jm(n)?void 0:n});_=cd(cd({x:R.x,y:R.y,textAnchor:R.horizontalAnchor,verticalAnchor:R.verticalAnchor},R.width!==void 0?{width:R.width}:{}),R.height!==void 0?{height:R.height}:{})}return j.createElement(_n,{zIndex:t.zIndex},j.createElement(Dg,bi({ref:p,className:ft("recharts-label",f)},M,_,{textAnchor:Fee(M.textAnchor)?M.textAnchor:_.textAnchor,breakAll:h}),w))}xs.displayName="Label";var hte=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?j.createElement(xs,bi({key:"label-implicit"},n)):Fa(e)?j.createElement(xs,bi({key:"label-implicit",value:e},n)):j.isValidElement(e)?e.type===xs?j.cloneElement(e,cd({key:"label-implicit"},n)):j.createElement(xs,bi({key:"label-implicit",content:e},n)):Fj(e)?j.createElement(xs,bi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?j.createElement(xs,bi({},e,{key:"label-implicit"},n)):null};function mte(e){var{label:t,labelRef:r}=e,n=KI();return hte(t,n,r)||null}var Rb={},Ib={},lP;function pte(){return lP||(lP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Ib)),Ib}var Lb={},cP;function gte(){return cP||(cP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Lb)),Lb}var uP;function yte(){return uP||(uP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pte(),r=gte(),n=p1();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(Rb)),Rb}var Bb,dP;function vte(){return dP||(dP=1,Bb=yte().last),Bb}var bte=vte();const xte=Ha(bte);var wte=["valueAccessor"],jte=["dataKey","clockWise","id","textBreakAll","zIndex"];function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yp.apply(null,arguments)}function fP(e,t){if(e==null)return{};var r,n,a=Ste(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ste(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _te=e=>Array.isArray(e.value)?xte(e.value):e.value,QI=j.createContext(void 0),HI=QI.Provider,VI=j.createContext(void 0),Nte=VI.Provider;function Ote(){return j.useContext(QI)}function Ete(){return j.useContext(VI)}function Sm(e){var{valueAccessor:t=_te}=e,r=fP(e,wte),{dataKey:n,clockWise:a,id:s,textBreakAll:l,zIndex:d}=r,f=fP(r,jte),h=Ote(),p=Ete(),g=h||p;return!g||!g.length?null:j.createElement(_n,{zIndex:d??pr.label},j.createElement(Dr,{className:"recharts-label-list"},g.map((y,v)=>{var x,w=Wt(n)?t(y,v):Tt(y.payload,n),_=Wt(s)?{}:{id:"".concat(s,"-").concat(v)};return j.createElement(xs,yp({key:"label-".concat(v)},cn(y),f,_,{fill:(x=r.fill)!==null&&x!==void 0?x:y.fill,parentViewBox:y.parentViewBox,value:w,textBreakAll:l,viewBox:y.viewBox,index:v,zIndex:0}))})))}Sm.displayName="LabelList";function Kj(e){var{label:t}=e;return t?t===!0?j.createElement(Sm,{key:"labelList-implicit"}):j.isValidElement(t)||Fj(t)?j.createElement(Sm,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(Sm,yp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vw.apply(null,arguments)}var GI=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=ft("recharts-dot",a);return Ne(t)&&Ne(r)&&Ne(n)?j.createElement("circle",vw({},Ln(e),m1(e),{className:s,cx:t,cy:r,r:n})):null},YI=e=>e.graphicalItems.polarItems,Ate=W([Xt,vf],fj),Mg=W([YI,ir,Ate],hj),Cte=W([Mg],mj),Rg=W([Cte,xg],pj),kte=W([Rg,ir,Mg],yj);W([Rg,ir,Mg],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,l=Tt(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Tt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var hP=()=>{},Pte=W([Rg,ir,Mg,Cg,Xt],wj),Tte=W([ir,bj,xj,hP,Pte,hP,mt,Xt],jj),WI=W([ir,mt,Rg,kte,yf,Xt,Tte],Sj),Dte=W([WI,Yc,Hs],Oj),Mte=W([ir,WI,Dte,Xt],Aj);W([Hs,Mte],R4);var Rte={radiusAxis:{},angleAxis:{}},XI=Sn({name:"polarAxis",initialState:Rte,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:xle,removeRadiusAxis:wle,addAngleAxis:jle,removeAngleAxis:Sle}=XI.actions,Ite=XI.reducer;function JI(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function mP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(r),!0).forEach(function(n){Lte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lte(e,t,r){return(t=Bte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bte(e){var t=$te(e,"string");return typeof t=="symbol"?t:t+""}function $te(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ute=(e,t)=>t,Qj=W([YI,Ute],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),zte=[],Hj=(e,t,r)=>(r==null?void 0:r.length)===0?zte:r,ZI=W([xg,Qj,Hj],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>pP(pP({},t.presentationProps),s.props))),a!=null)return a}}),qte=W([ZI,Qj,Hj],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,l=Tt(n,t.nameKey,t.name),d;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?d=n.fill:d=t.fill,{value:Kc(l,t.dataKey),color:d,payload:n,type:t.legendType}})}),Fte=W([ZI,Qj,Hj,Sr],(e,t,r,n)=>{if(!(t==null||e==null))return Kre({offset:n,pieSettings:t,displayedData:e,cells:r})}),$b={exports:{}},Pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP;function Kte(){if(gP)return Pt;gP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function x(w){if(typeof w=="object"&&w!==null){var _=w.$$typeof;switch(_){case e:switch(w=w.type,w){case r:case a:case n:case f:case h:case y:return w;default:switch(w=w&&w.$$typeof,w){case l:case d:case g:case p:return w;case s:return w;default:return _}}case t:return _}}}return Pt.ContextConsumer=s,Pt.ContextProvider=l,Pt.Element=e,Pt.ForwardRef=d,Pt.Fragment=r,Pt.Lazy=g,Pt.Memo=p,Pt.Portal=t,Pt.Profiler=a,Pt.StrictMode=n,Pt.Suspense=f,Pt.SuspenseList=h,Pt.isContextConsumer=function(w){return x(w)===s},Pt.isContextProvider=function(w){return x(w)===l},Pt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Pt.isForwardRef=function(w){return x(w)===d},Pt.isFragment=function(w){return x(w)===r},Pt.isLazy=function(w){return x(w)===g},Pt.isMemo=function(w){return x(w)===p},Pt.isPortal=function(w){return x(w)===t},Pt.isProfiler=function(w){return x(w)===a},Pt.isStrictMode=function(w){return x(w)===n},Pt.isSuspense=function(w){return x(w)===f},Pt.isSuspenseList=function(w){return x(w)===h},Pt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===f||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===p||w.$$typeof===l||w.$$typeof===s||w.$$typeof===d||w.$$typeof===v||w.getModuleId!==void 0)},Pt.typeOf=x,Pt}var yP;function Qte(){return yP||(yP=1,$b.exports=Kte()),$b.exports}var Hte=Qte(),vP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",bP=null,Ub=null,e5=e=>{if(e===bP&&Array.isArray(Ub))return Ub;var t=[];return j.Children.forEach(e,r=>{Wt(r)||(Hte.isFragment(r)?t=t.concat(e5(r.props.children)):t.push(r))}),Ub=t,bP=e,t};function Vj(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>vP(a)):n=[vP(t)],e5(e).forEach(a=>{var s=Ko(a,"type.displayName")||Ko(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var t5=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,zb={},xP;function Vte(){return xP||(xP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(zb)),zb}var qb,wP;function Gte(){return wP||(wP=1,qb=Vte().isPlainObject),qb}var Yte=Gte();const Wte=Ha(Yte);var jP,SP,_P,NP,OP;function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){Xte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xte(e,t,r){return(t=Jte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jte(e){var t=Zte(e,"string");return typeof t=="symbol"?t:t+""}function Zte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(null,arguments)}function ad(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var CP=(e,t,r,n,a)=>{var s=r-n,l;return l=nr(jP||(jP=ad(["M ",",",""])),e,t),l+=nr(SP||(SP=ad(["L ",",",""])),e+r,t),l+=nr(_P||(_P=ad(["L ",",",""])),e+r-s/2,t+a),l+=nr(NP||(NP=ad(["L ",",",""])),e+r-s/2-n,t+a),l+=nr(OP||(OP=ad(["L ",","," Z"])),e,t),l},ere={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tre=e=>{var t=yr(e,ere),{x:r,y:n,upperWidth:a,lowerWidth:s,height:l,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t,y=j.useRef(null),[v,x]=j.useState(-1),w=j.useRef(a),_=j.useRef(s),N=j.useRef(l),O=j.useRef(r),E=j.useRef(n),C=ff(e,"trapezoid-");if(j.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var ie=y.current.getTotalLength();ie&&x(ie)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var T=ft("recharts-trapezoid",d);if(!g)return j.createElement("g",null,j.createElement("path",vp({},cn(t),{className:T,d:CP(r,n,a,s,l)})));var P=w.current,M=_.current,R=N.current,B=O.current,H=E.current,Y="0px ".concat(v===-1?1:v,"px"),K="".concat(v,"px 0px"),me=NR(["strokeDasharray"],h,f);return j.createElement(df,{animationId:C,key:C,canBegin:v>0,duration:h,easing:f,isActive:g,begin:p},ie=>{var ye=Ht(P,a,ie),L=Ht(M,s,ie),V=Ht(R,l,ie),ne=Ht(B,r,ie),he=Ht(H,n,ie);y.current&&(w.current=ye,_.current=L,N.current=V,O.current=ne,E.current=he);var I=ie>0?{transition:me,strokeDasharray:K}:{strokeDasharray:Y};return j.createElement("path",vp({},cn(t),{className:T,d:CP(ne,he,ye,L,V),ref:y,style:AP(AP({},I),t.style)}))})},rre=["option","shapeType","activeClassName"];function nre(e,t){if(e==null)return{};var r,n,a=are(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function are(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){ire(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ire(e,t,r){return(t=sre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sre(e){var t=ore(e,"string");return typeof t=="symbol"?t:t+""}function ore(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lre(e,t){return bp(bp({},t),e)}function cre(e,t){return e==="symbols"}function PP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(CR,r);case"trapezoid":return j.createElement(tre,r);case"sector":return j.createElement(DR,r);case"symbols":if(cre(t))return j.createElement(h1,r);break;case"curve":return j.createElement(P1,r);default:return null}}function ure(e){return j.isValidElement(e)?e.props:e}function Gj(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=nre(e,rre),s;if(j.isValidElement(t))s=j.cloneElement(t,bp(bp({},a),ure(t)));else if(typeof t=="function")s=t(a,a.index);else if(Wte(t)&&typeof t!="boolean"){var l=lre(t,a);s=j.createElement(PP,{shapeType:r,elementProps:l})}else{var d=a;s=j.createElement(PP,{shapeType:r,elementProps:d})}return a.isActive?j.createElement(Dr,{className:n},s):s}var Yj=(e,t,r)=>{var n=Lt();return(a,s)=>l=>{e==null||e(a,s,l),n(dI({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},Wj=e=>{var t=Lt();return(r,n)=>a=>{e==null||e(r,n,a),t(fJ())}},Xj=(e,t,r)=>{var n=Lt();return(a,s)=>l=>{e==null||e(a,s,l),n(hJ({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function Jj(e){var{tooltipEntrySettings:t}=e,r=Lt(),n=en(),a=j.useRef(null);return j.useLayoutEffect(()=>{n||(a.current===null?r(lJ(t)):a.current!==t&&r(cJ({prev:a.current,next:t})),a.current=t)},[t,r,n]),j.useLayoutEffect(()=>()=>{a.current&&(r(uJ(a.current)),a.current=null)},[r]),null}function r5(e){var{legendPayload:t}=e,r=Lt(),n=en(),a=j.useRef(null);return j.useLayoutEffect(()=>{n||(a.current===null?r(wR(t)):a.current!==t&&r(jR({prev:a.current,next:t})),a.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{a.current&&(r(SR(a.current)),a.current=null)},[r]),null}function dre(e){var{legendPayload:t}=e,r=Lt(),n=Ae(mt),a=j.useRef(null);return j.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(wR(t)):a.current!==t&&r(jR({prev:a.current,next:t})),a.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{a.current&&(r(SR(a.current)),a.current=null)},[r]),null}var Fb,fre=()=>{var[e]=j.useState(()=>Sd("uid-"));return e},hre=(Fb=fB.useId)!==null&&Fb!==void 0?Fb:fre;function mre(e,t){var r=hre();return t||(e?"".concat(e,"-").concat(r):r)}var pre=j.createContext(void 0),Zj=e=>{var{id:t,type:r,children:n}=e,a=mre("recharts-".concat(r),t);return j.createElement(pre.Provider,{value:a},n(a))},gre={cartesianItems:[],polarItems:[]},n5=Sn({name:"graphicalItems",initialState:gre,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Qt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=wa(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Qt()},removeCartesianGraphicalItem:{reducer(e,t){var r=wa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Qt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Qt()},removePolarGraphicalItem:{reducer(e,t){var r=wa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Qt()}}}),{addCartesianGraphicalItem:yre,replaceCartesianGraphicalItem:vre,removeCartesianGraphicalItem:bre,addPolarGraphicalItem:xre,removePolarGraphicalItem:wre}=n5.actions,jre=n5.reducer,Sre=e=>{var t=Lt(),r=j.useRef(null);return j.useLayoutEffect(()=>{r.current===null?t(yre(e)):r.current!==e&&t(vre({prev:r.current,next:e})),r.current=e},[t,e]),j.useLayoutEffect(()=>()=>{r.current&&(t(bre(r.current)),r.current=null)},[t]),null},a5=j.memo(Sre);function _re(e){var t=Lt();return j.useLayoutEffect(()=>(t(xre(e)),()=>{t(wre(e))}),[t,e]),null}var Nre=["key"],Ore=["onMouseEnter","onClick","onMouseLeave"],Ere=["id"],Are=["id"];function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cre(e,t,r){return(t=kre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kre(e){var t=Pre(e,"string");return typeof t=="symbol"?t:t+""}function Pre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Us.apply(null,arguments)}function Ig(e,t){if(e==null)return{};var r,n,a=Tre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dre(e){var t=j.useMemo(()=>Vj(e.children,nl),[e.children]),r=Ae(n=>qte(n,e.id,t));return r==null?null:j.createElement(dre,{legendPayload:r})}var Mre=j.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:l,name:d,hide:f,tooltipType:h,id:p}=e,g={dataDefinedOnItem:n.map(y=>y.tooltipPayload),getPosition:y=>{var v;return(v=n[Number(y)])===null||v===void 0?void 0:v.tooltipPosition},settings:{stroke:a,strokeWidth:s,fill:l,dataKey:t,nameKey:r,name:Kc(d,t),hide:f,type:h,color:l,unit:"",graphicalItemId:p}};return j.createElement(Jj,{tooltipEntrySettings:g})}),Rre=(e,t)=>e>t?"start":e<t?"end":"middle",Ire=(e,t,r)=>Jr(typeof t=="function"?t(e):t,r,r*.8),Lre=(e,t,r)=>{var{top:n,left:a,width:s,height:l}=t,d=kR(s,l),f=a+Jr(e.cx,s,s/2),h=n+Jr(e.cy,l,l/2),p=Jr(e.innerRadius,d,0),g=Ire(r,e.outerRadius,d),y=e.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:y}},Bre=(e,t)=>{var r=Tr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},$re=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ft("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Ig(t,Nre);return j.createElement(P1,Us({},a,{type:"linear",className:r}))},Ure=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var a=ft("recharts-pie-label-text",JI(e));return j.createElement(Dg,Us({},t,{alignmentBaseline:"middle",className:a}),n)};function zre(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:l}=r;if(!n||!a||!t)return null;var d=Ln(r),f=qo(a),h=qo(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=t.map((y,v)=>{var x=(y.startAngle+y.endAngle)/2,w=mr(y.cx,y.cy,y.outerRadius+p,x),_=ar(ar(ar(ar({},d),y),{},{stroke:"none"},f),{},{index:v,textAnchor:Rre(w.x,y.cx)},w),N=ar(ar(ar(ar({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[mr(y.cx,y.cy,y.outerRadius,x),w],key:"line"});return j.createElement(_n,{zIndex:pr.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},j.createElement(Dr,null,s&&$re(s,N),Ure(a,_,Tt(y,l))))});return j.createElement(Dr,{className:"recharts-pie-labels"},g)}function qre(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?j.createElement(Kj,{label:a}):j.createElement(zre,{sectors:t,props:r,showLabels:n})}function Fre(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:l}=e,d=Ae($s),f=Ae(Lj),h=Ae(JJ),{onMouseEnter:p,onClick:g,onMouseLeave:y}=a,v=Ig(a,Ore),x=Yj(p,a.dataKey,l),w=Wj(y),_=Xj(g,a.dataKey,l);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((N,O)=>{if((N==null?void 0:N.startAngle)===0&&(N==null?void 0:N.endAngle)===0&&t.length!==1)return null;var E=h==null||h===l,C=String(O)===d&&(f==null||a.dataKey===f)&&E,T=d?n:null,P=r&&C?r:T,M=ar(ar({},N),{},{stroke:N.stroke,tabIndex:-1,[sR]:O,[oR]:l});return j.createElement(Dr,Us({key:"sector-".concat(N==null?void 0:N.startAngle,"-").concat(N==null?void 0:N.endAngle,"-").concat(N.midAngle,"-").concat(O),tabIndex:-1,className:"recharts-pie-sector"},af(v,N,O),{onMouseEnter:x(N,O),onMouseLeave:w(N,O),onClick:_(N,O)}),j.createElement(Gj,Us({option:s??P,index:O,shapeType:"sector",isActive:C},M)))}))}function Kre(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:l,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=r,y=Math.abs(r.minAngle),v=Bre(d,f),x=Math.abs(v),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,_=n.filter(P=>Tt(P,h,0)!==0).length,N=(x>=360?_:_-1)*w,O=x-_*y-N,E=n.reduce((P,M)=>{var R=Tt(M,h,0);return P+(Ne(R)?R:0)},0),C;if(E>0){var T;C=n.map((P,M)=>{var R=Tt(P,h,0),B=Tt(P,p,M),H=Lre(r,s,P),Y=(Ne(R)?R:0)/E,K,me=ar(ar({},P),a&&a[M]&&a[M].props);M?K=T.endAngle+Tr(v)*w*(R!==0?1:0):K=d;var ie=K+Tr(v)*((R!==0?y:0)+Y*O),ye=(K+ie)/2,L=(H.innerRadius+H.outerRadius)/2,V=[{name:B,value:R,payload:me,dataKey:h,type:g,graphicalItemId:r.id}],ne=mr(H.cx,H.cy,L,ye);return T=ar(ar(ar(ar({},r.presentationProps),{},{percent:Y,cornerRadius:typeof l=="string"?parseFloat(l):l,name:B,tooltipPayload:V,midAngle:ye,middleRadius:L,tooltipPosition:ne},me),H),{},{value:R,dataKey:h,startAngle:K,endAngle:ie,payload:me,paddingAngle:Tr(v)*w}),T})}return C}function Qre(e){var{showLabels:t,sectors:r,children:n}=e,a=j.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return j.createElement(Nte,{value:t?a:void 0},n)}function Hre(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,activeShape:h,inactiveShape:p,onAnimationStart:g,onAnimationEnd:y}=t,v=ff(t,"recharts-pie-"),x=r.current,[w,_]=j.useState(!1),N=j.useCallback(()=>{typeof y=="function"&&y(),_(!1)},[y]),O=j.useCallback(()=>{typeof g=="function"&&g(),_(!0)},[g]);return j.createElement(Qre,{showLabels:!w,sectors:a},j.createElement(df,{animationId:v,begin:l,duration:d,isActive:s,easing:f,onAnimationStart:O,onAnimationEnd:N,key:v},E=>{var C,T=[],P=a&&a[0],M=(C=P==null?void 0:P.startAngle)!==null&&C!==void 0?C:0;return a==null||a.forEach((R,B)=>{var H=x&&x[B],Y=B>0?Ko(R,"paddingAngle",0):0;if(H){var K=Ht(H.endAngle-H.startAngle,R.endAngle-R.startAngle,E),me=ar(ar({},R),{},{startAngle:M+Y,endAngle:M+K+Y});T.push(me),M=me.endAngle}else{var{endAngle:ie,startAngle:ye}=R,L=Ht(0,ie-ye,E),V=ar(ar({},R),{},{startAngle:M+Y,endAngle:M+L+Y});T.push(V),M=V.endAngle}}),r.current=T,j.createElement(Dr,null,j.createElement(Fre,{sectors:T,activeShape:h,inactiveShape:p,allOtherPieProps:t,shape:t.shape,id:n}))}),j.createElement(qre,{showLabels:!w,sectors:a,props:t}),t.children)}var Vre={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:pr.area};function Gre(e){var{id:t}=e,r=Ig(e,Ere),{hide:n,className:a,rootTabIndex:s}=e,l=j.useMemo(()=>Vj(e.children,nl),[e.children]),d=Ae(p=>Fte(p,t,l)),f=j.useRef(null),h=ft("recharts-pie",a);return n||d==null?(f.current=null,j.createElement(Dr,{tabIndex:s,className:h})):j.createElement(_n,{zIndex:e.zIndex},j.createElement(Mre,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement(Dr,{tabIndex:s,className:h},j.createElement(Hre,{props:ar(ar({},r),{},{sectors:d}),previousSectorsRef:f,id:t})))}function eS(e){var t=yr(e,Vre),{id:r}=t,n=Ig(t,Are),a=Ln(n);return j.createElement(Zj,{id:r,type:"pie"},s=>j.createElement(j.Fragment,null,j.createElement(_re,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),j.createElement(Dre,Us({},n,{id:s})),j.createElement(Gre,Us({},n,{id:s}))))}eS.displayName="Pie";var Yre=["points"];function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){Wre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wre(e,t,r){return(t=Xre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xre(e){var t=Jre(e,"string");return typeof t=="symbol"?t:t+""}function Jre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(null,arguments)}function Zre(e,t){if(e==null)return{};var r,n,a=ene(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ene(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tne(e){var{option:t,dotProps:r,className:n}=e;if(j.isValidElement(t))return j.cloneElement(t,r);if(typeof t=="function")return t(r);var a=ft(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,d=Zre(s,Yre);return j.createElement(GI,xp({},d,{className:a}))}function rne(e,t){return e==null?!1:t?!0:e.length===1}function nne(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:l,needClip:d,clipPathId:f,zIndex:h=pr.scatter}=e;if(!rne(t,r))return null;var p=t5(r),g=yF(r),y=t.map((x,w)=>{var _,N,O=Kb(Kb(Kb({r:3},l),g),{},{index:w,cx:(_=x.x)!==null&&_!==void 0?_:void 0,cy:(N=x.y)!==null&&N!==void 0?N:void 0,dataKey:s,value:x.value,payload:x.payload,points:t});return j.createElement(tne,{key:"dot-".concat(w),option:r,dotProps:O,className:a})}),v={};return d&&f!=null&&(v.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),j.createElement(_n,{zIndex:h},j.createElement(Dr,xp({className:n},v),y))}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){ane(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ane(e,t,r){return(t=ine(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ine(e){var t=sne(e,"string");return typeof t=="symbol"?t:t+""}function sne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i5=0,one={xAxis:{},yAxis:{},zAxis:{}},s5=Sn({name:"cartesianAxis",initialState:one,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Qt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Qt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Qt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Qt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Qt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Qt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Qt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Qt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Qt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s,l=a.widthHistory||[];if(l.length===3&&l[0]===l[2]&&n===l[1]&&n!==a.width&&Math.abs(n-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var d=[...l,n].slice(-3);e.yAxis[r]=RP(RP({},a),{},{width:n,widthHistory:d})}}}}),{addXAxis:lne,replaceXAxis:cne,removeXAxis:une,addYAxis:dne,replaceYAxis:fne,removeYAxis:hne,addZAxis:_le,replaceZAxis:Nle,removeZAxis:Ole,updateYAxisWidth:mne}=s5.actions,pne=s5.reducer,gne=W([Sr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),yne=W([gne,$i,Ui],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),tS=()=>Ae(yne),vne=()=>Ae(nZ);function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){bne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bne(e,t,r){return(t=xne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xne(e){var t=wne(e,"string");return typeof t=="symbol"?t:t+""}function wne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jne=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var d={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=Qb(Qb(Qb({},d),qo(a)),m1(a)),h;return j.isValidElement(a)?h=j.cloneElement(a,f):typeof a=="function"?h=a(f):h=j.createElement(GI,f),j.createElement(Dr,{className:"recharts-active-dot",clipPath:l},h)};function Sne(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:l=pr.activeDot}=e,d=Ae($s),f=vne();if(t==null||f==null)return null;var h=t.find(p=>f.includes(p.payload));return Wt(h)?null:j.createElement(_n,{zIndex:l},j.createElement(jne,{point:h,childIndex:Number(d),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var LP=(e,t,r)=>{var n=r??e;if(!Wt(n))return Jr(n,t,0)},_ne=(e,t,r)=>{var n={},a=e.filter(_g),s=e.filter(h=>h.stackId==null),l=a.reduce((h,p)=>{var g=h[p.stackId];return g==null&&(g=[]),g.push(p),h[p.stackId]=g,h},n),d=Object.entries(l).map(h=>{var p,[g,y]=h,v=y.map(w=>w.dataKey),x=LP(t,r,(p=y[0])===null||p===void 0?void 0:p.barSize);return{stackId:g,dataKeys:v,barSize:x}}),f=s.map(h=>{var p=[h.dataKey].filter(y=>y!=null),g=LP(t,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]};function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){Nne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nne(e,t,r){return(t=One(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function One(e){var t=Ene(e,"string");return typeof t=="symbol"?t:t+""}function Ene(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ane(e,t,r,n,a){var s,l=n.length;if(!(l<1)){var d=Jr(e,r,0,!0),f,h=[];if(lt((s=n[0])===null||s===void 0?void 0:s.barSize)){var p=!1,g=r/l,y=n.reduce((O,E)=>O+(E.barSize||0),0);y+=(l-1)*d,y>=r&&(y-=(l-1)*d,d=0),y>=r&&g>0&&(p=!0,g*=.9,y=l*g);var v=(r-y)/2>>0,x={offset:v-d,size:0};f=n.reduce((O,E)=>{var C,T={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:x.offset+x.size+d,size:p?g:(C=E.barSize)!==null&&C!==void 0?C:0}},P=[...O,T];return x=T.position,P},h)}else{var w=Jr(t,r,0,!0);r-2*w-(l-1)*d<=0&&(d=0);var _=(r-2*w-(l-1)*d)/l;_>1&&(_>>=0);var N=lt(a)?Math.min(_,a):_;f=n.reduce((O,E,C)=>[...O,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:w+(_+d)*C+(_-N)/2,size:N}}],h)}return f}}var Cne=(e,t,r,n,a,s,l)=>{var d=Wt(l)?t:l,f=Ane(r,n,a!==s?a:s,e,d);return a!==s&&f!=null&&(f=f.map(h=>hm(hm({},h),{},{position:hm(hm({},h.position),{},{offset:h.position.offset-a/2})}))),f},kne=(e,t)=>{var r=uj(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(l=>l.key===r)}}}},Pne=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function Tne(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&lt(e.zIndex)?e.zIndex:t}var o5=e=>{var{chartData:t}=e,r=Lt(),n=en();return j.useEffect(()=>n?()=>{}:(r(Kk(t)),()=>{r(Kk(void 0))}),[t,r,n]),null},$P={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},l5=Sn({name:"brush",initialState:$P,reducers:{setBrushSettings(e,t){return t.payload==null?$P:t.payload}}}),{setBrushSettings:Ele}=l5.actions,Dne=l5.reducer;function Mne(e){return(e%180+180)%180}var Rne=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Mne(a),l=s*Math.PI/180,d=Math.atan(n/r),f=l>d&&l<Math.PI-d?n/Math.sin(l):r/Math.cos(l);return Math.abs(f)},Ine={dots:[],areas:[],lines:[]},c5=Sn({name:"referenceElements",initialState:Ine,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=wa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=wa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=wa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Ale,removeDot:Cle,addArea:kle,removeArea:Ple,addLine:Tle,removeLine:Dle}=c5.actions,Lne=c5.reducer,Bne=j.createContext(void 0),$ne=e=>{var{children:t}=e,[r]=j.useState("".concat(Sd("recharts"),"-clip")),n=tS();if(n==null)return null;var{x:a,y:s,width:l,height:d}=n;return j.createElement(Bne.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:a,y:s,height:d,width:l}))),t)};function u5(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function Une(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Rne(n,r)}function zne(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:d}=e;return t===1?{start:n?a:s,end:n?a+l:s+d}:{start:n?a+l:s+d,end:n?a:s}}function Bd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function qne(e,t){return u5(e,t+1)}function Fne(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:d}=t,f=0,h=1,p=l,g=function(){var x=n==null?void 0:n[f];if(x===void 0)return{v:u5(n,h)};var w=f,_,N=()=>(_===void 0&&(_=r(x,w)),_),O=x.coordinate,E=f===0||Bd(e,O,N,p,d);E||(f=0,p=l,h+=1),E&&(p=O+e*(N()/2+a),f+=h)},y;h<=s.length;)if(y=g(),y)return y.v;return[]}function Kne(e,t,r,n,a){var s=(n||[]).slice(),l=s.length;if(l===0)return[];for(var{start:d,end:f}=t,h=1;h<=l;h++){for(var p=(l-1)%h,g=d,y=!0,v=function(){var C=n[w];if(C==null)return 0;var T=w,P,M=()=>(P===void 0&&(P=r(C,T)),P),R=C.coordinate,B=w===p||Bd(e,R,M,g,f);if(!B)return y=!1,1;B&&(g=R+e*(M()/2+a))},x,w=p;w<l&&(x=v(),!(x!==0&&x===1));w+=h);if(y){for(var _=[],N=p;N<l;N+=h){var O=n[N];O!=null&&_.push(O)}return _}}return[]}function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){Qne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qne(e,t,r){return(t=Hne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hne(e){var t=Vne(e,"string");return typeof t=="symbol"?t:t+""}function Vne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gne(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:d}=t,{end:f}=t,h=function(y){var v=s[y];if(v==null)return 1;var x=v,w,_=()=>(w===void 0&&(w=r(v,y)),w);if(y===l-1){var N=e*(x.coordinate+e*_()/2-f);s[y]=x=Wr(Wr({},x),{},{tickCoord:N>0?x.coordinate-N*e:x.coordinate})}else s[y]=x=Wr(Wr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var O=Bd(e,x.tickCoord,_,d,f);O&&(f=x.tickCoord-e*(_()/2+a),s[y]=Wr(Wr({},x),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Yne(e,t,r,n,a,s){var l=(n||[]).slice(),d=l.length,{start:f,end:h}=t;if(s){var p=n[d-1];if(p!=null){var g=r(p,d-1),y=e*(p.coordinate+e*g/2-h);if(l[d-1]=p=Wr(Wr({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate}),p.tickCoord!=null){var v=Bd(e,p.tickCoord,()=>g,f,h);v&&(h=p.tickCoord-e*(g/2+a),l[d-1]=Wr(Wr({},p),{},{isShow:!0}))}}}for(var x=s?d-1:d,w=function(O){var E=l[O];if(E==null)return 1;var C=E,T,P=()=>(T===void 0&&(T=r(E,O)),T);if(O===0){var M=e*(C.coordinate-e*P()/2-f);l[O]=C=Wr(Wr({},C),{},{tickCoord:M<0?C.coordinate-M*e:C.coordinate})}else l[O]=C=Wr(Wr({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var R=Bd(e,C.tickCoord,P,f,h);R&&(f=C.tickCoord+e*(P()/2+a),l[O]=Wr(Wr({},C),{},{isShow:!0}))}},_=0;_<x;_++)w(_);return l}function rS(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=e;if(!a||!a.length||!n)return[];if(Ne(f)||hg.isSsr){var y;return(y=qne(a,Ne(f)?f:0))!==null&&y!==void 0?y:[]}var v=[],x=d==="top"||d==="bottom"?"width":"height",w=p&&x==="width"?fd(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(T,P)=>{var M=typeof h=="function"?h(T.value,P):T.value;return x==="width"?Une(fd(M,{fontSize:t,letterSpacing:r}),w,g):fd(M,{fontSize:t,letterSpacing:r})[x]},N=a[0],O=a[1],E=a.length>=2&&N!=null&&O!=null?Tr(O.coordinate-N.coordinate):1,C=zne(s,E,x);return f==="equidistantPreserveStart"?Fne(E,C,_,a,l):f==="equidistantPreserveEnd"?Kne(E,C,_,a,l):(f==="preserveStart"||f==="preserveStartEnd"?v=Yne(E,C,_,a,l,f==="preserveStartEnd"):v=Gne(E,C,_,a,l),v.filter(T=>T.isShow))}var Wne=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var d=r?r.getBoundingClientRect().width:0,f=a+s,h=l+f+d+(r?n:0);return Math.round(h)}return 0},Xne=["axisLine","width","height","className","hide","ticks","axisType"];function Jne(e,t){if(e==null)return{};var r,n,a=Zne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wo.apply(null,arguments)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){eae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eae(e,t,r){return(t=tae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tae(e){var t=rae(e,"string");return typeof t=="symbol"?t:t+""}function rae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ni={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:pr.axis};function nae(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var h=rr(rr(rr({},f),Ln(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=rr(rr({},h),{},{x1:t,y1:r+p*a,x2:t+n,y2:r+p*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=rr(rr({},h),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return j.createElement("line",Wo({},h,{className:ft("recharts-cartesian-axis-line",Ko(d,"className"))}))}function aae(e,t,r,n,a,s,l,d,f){var h,p,g,y,v,x,w=d?-1:1,_=e.tickSize||l,N=Ne(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=p=e.coordinate,y=r+ +!d*a,g=y-w*_,x=g-w*f,v=N;break;case"left":g=y=e.coordinate,p=t+ +!d*n,h=p-w*_,v=h-w*f,x=N;break;case"right":g=y=e.coordinate,p=t+ +d*n,h=p+w*_,v=h+w*f,x=N;break;default:h=p=e.coordinate,y=r+ +d*a,g=y+w*_,x=g+w*f,v=N;break}return{line:{x1:h,y1:g,x2:p,y2:y},tick:{x:v,y:x}}}function iae(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function sae(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function oae(e){var{option:t,tickProps:r,value:n}=e,a,s=ft(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))a=j.cloneElement(t,rr(rr({},r),{},{className:s}));else if(typeof t=="function")a=t(rr(rr({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ft(l,JI(t))),a=j.createElement(Dg,Wo({},r,{className:l}),n)}return a}var lae=j.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:l,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x:y,y:v,width:x,height:w,tickSize:_,tickMargin:N,fontSize:O,letterSpacing:E,getTicksConfig:C,events:T,axisType:P}=e,M=rS(rr(rr({},C),{},{ticks:r}),O,E),R=iae(p,g),B=sae(p,g),H=Ln(C),Y=qo(n),K={};typeof a=="object"&&(K=a);var me=rr(rr({},H),{},{fill:"none"},K),ie=M.map(V=>rr({entry:V},aae(V,y,v,x,w,p,_,g,N))),ye=ie.map(V=>{var{entry:ne,line:he}=V;return j.createElement(Dr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},a&&j.createElement("line",Wo({},me,he,{className:ft("recharts-cartesian-axis-tick-line",Ko(a,"className"))})))}),L=ie.map((V,ne)=>{var he,I,{entry:D,tick:U}=V,Z=rr(rr(rr(rr({verticalAnchor:B},H),{},{textAnchor:R,stroke:"none",fill:s},U),{},{index:ne,payload:D,visibleTicksCount:M.length,tickFormatter:l,padding:f},h),{},{angle:(he=(I=h==null?void 0:h.angle)!==null&&I!==void 0?I:H.angle)!==null&&he!==void 0?he:0}),q=rr(rr({},Z),Y);return j.createElement(Dr,Wo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},af(T,D,ne)),n&&j.createElement(oae,{option:n,tickProps:q,value:"".concat(typeof l=="function"?l(D.value,ne):D.value).concat(d||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},L.length>0&&j.createElement(_n,{zIndex:pr.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},L)),ye.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},ye))}),cae=j.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:d,axisType:f}=e,h=Jne(e,Xne),[p,g]=j.useState(""),[y,v]=j.useState(""),x=j.useRef(null);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return Wne({ticks:x.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=j.useCallback(_=>{if(_){var N=_.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=N;var O=N[0];if(O){var E=window.getComputedStyle(O),C=E.fontSize,T=E.letterSpacing;(C!==p||T!==y)&&(g(C),v(T))}}},[p,y]);return l||n!=null&&n<=0||a!=null&&a<=0?null:j.createElement(_n,{zIndex:e.zIndex},j.createElement(Dr,{className:ft("recharts-cartesian-axis",s)},j.createElement(nae,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ln(e)}),j.createElement(lae,{ref:w,axisType:f,events:h,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),j.createElement(ate,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},j.createElement(mte,{label:e.label,labelRef:e.labelRef}),e.children)))}),nS=j.forwardRef((e,t)=>{var r=yr(e,Ni);return j.createElement(cae,Wo({},r,{ref:t}))});nS.displayName="CartesianAxis";var uae=["x1","y1","x2","y2","key"],dae=["offset"],fae=["xAxisId","yAxisId"],hae=["xAxisId","yAxisId"];function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(n){mae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mae(e,t,r){return(t=pae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pae(e){var t=gae(e,"string");return typeof t=="symbol"?t:t+""}function gae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eo.apply(null,arguments)}function wp(e,t){if(e==null)return{};var r,n,a=yae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vae=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:d}=e;return j.createElement("rect",{x:n,y:a,ry:d,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function d5(e){var{option:t,lineItemProps:r}=e,n;if(j.isValidElement(t))n=j.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:l,x2:d,y2:f,key:h}=r,p=wp(r,uae),g=(a=Ln(p))!==null&&a!==void 0?a:{},{offset:y}=g,v=wp(g,dae);n=j.createElement("line",Eo({},v,{x1:s,y1:l,x2:d,y2:f,fill:"none",key:h}))}return n}function bae(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,d=wp(e,fae),f=a.map((h,p)=>{var g=Xr(Xr({},d),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(p),index:p});return j.createElement(d5,{key:"line-".concat(p),option:n,lineItemProps:g})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function xae(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,d=wp(e,hae),f=a.map((h,p)=>{var g=Xr(Xr({},d),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(p),index:p});return j.createElement(d5,{option:n,lineItemProps:g,key:"line-".concat(p)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function wae(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length||d==null)return null;var h=d.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var v=h[y+1],x=v==null,w=x?a+l-g:v-g;if(w<=0)return null;var _=y%t.length;return j.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:w,width:s,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function jae(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:d,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var v=h[y+1],x=v==null,w=x?a+l-g:v-g;if(w<=0)return null;var _=y%r.length;return j.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:w,height:d,stroke:"none",fill:r[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Sae=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return nR(rS(Xr(Xr(Xr({},Ni),r),{},{ticks:aR(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},_ae=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return nR(rS(Xr(Xr(Xr({},Ni),r),{},{ticks:aR(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},Nae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:pr.grid};function fc(e){var t=E1(),r=A1(),n=dR(),a=Xr(Xr({},yr(e,Nae)),{},{x:Ne(e.x)?e.x:n.left,y:Ne(e.y)?e.y:n.top,width:Ne(e.width)?e.width:n.width,height:Ne(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:y,verticalValues:v}=a,x=en(),w=Ae(B=>Tk(B,"xAxis",s,x)),_=Ae(B=>Tk(B,"yAxis",l,x));if(!Ka(h)||!Ka(p)||!Ne(d)||!Ne(f))return null;var N=a.verticalCoordinatesGenerator||Sae,O=a.horizontalCoordinatesGenerator||_ae,{horizontalPoints:E,verticalPoints:C}=a;if((!E||!E.length)&&typeof O=="function"){var T=y&&y.length,P=O({yAxis:_?Xr(Xr({},_),{},{ticks:T?y:_.ticks}):void 0,width:t??h,height:r??p,offset:n},T?!0:g);Vm(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(E=P)}if((!C||!C.length)&&typeof N=="function"){var M=v&&v.length,R=N({xAxis:w?Xr(Xr({},w),{},{ticks:M?v:w.ticks}):void 0,width:t??h,height:r??p,offset:n},M?!0:g);Vm(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(C=R)}return j.createElement(_n,{zIndex:a.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(vae,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),j.createElement(wae,Eo({},a,{horizontalPoints:E})),j.createElement(jae,Eo({},a,{verticalPoints:C})),j.createElement(bae,Eo({},a,{offset:n,horizontalPoints:E,xAxis:w,yAxis:_})),j.createElement(xae,Eo({},a,{offset:n,verticalPoints:C,xAxis:w,yAxis:_}))))}fc.displayName="CartesianGrid";var Oae={},f5=Sn({name:"errorBars",initialState:Oae,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Mle,replaceErrorBar:Rle,removeErrorBar:Ile}=f5.actions,Eae=f5.reducer,Aae=["children"];function Cae(e,t){if(e==null)return{};var r,n,a=kae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Tae=j.createContext(Pae);function h5(e){var{children:t}=e,r=Cae(e,Aae);return j.createElement(Tae.Provider,{value:r},t)}function aS(e,t){var r,n,a=Ae(h=>Fi(h,e)),s=Ae(h=>Ki(h,t)),l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Ar.allowDataOverflow,d=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Cr.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function m5(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=tS(),{needClipX:s,needClipY:l,needClip:d}=aS(t,r);if(!d||!a)return null;var{x:f,y:h,width:p,height:g}=a;return j.createElement("clipPath",{id:"clipPath-".concat(n)},j.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var p5=(e,t,r,n)=>Bs(e,"xAxis",t,n),g5=(e,t,r,n)=>Ls(e,"xAxis",t,n),y5=(e,t,r,n)=>Bs(e,"yAxis",r,n),v5=(e,t,r,n)=>Ls(e,"yAxis",r,n),Dae=W([mt,p5,y5,g5,v5],(e,t,r,n,a)=>Bi(e,"xAxis")?kc(t,n,!1):kc(r,a,!1)),Mae=(e,t,r,n,a)=>a;function Rae(e){return e.type==="line"}var Iae=W([Eg,Mae],(e,t)=>e.filter(Rae).find(r=>r.id===t)),Lae=W([mt,p5,y5,g5,v5,Iae,Dae,tj],(e,t,r,n,a,s,l,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=d;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:y}=s,v;if(y!=null&&y.length>0?v=y:v=f==null?void 0:f.slice(h,p+1),v!=null)return jie({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:v})}});function Bae(e){var t=qo(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,l=Number(a),d=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(d)||d<0)&&(d=n),{r:l,strokeWidth:d}}return{r,strokeWidth:n}}var Hb={exports:{}},Vb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FP;function $ae(){if(FP)return Vb;FP=1;var e=Ic();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,d=e.useDebugValue;return Vb.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var v=a(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=l(function(){function _(T){if(!N){if(N=!0,O=T,T=g(T),y!==void 0&&x.hasValue){var P=x.value;if(y(P,T))return E=P}return E=T}if(P=E,r(O,T))return P;var M=g(T);return y!==void 0&&y(P,M)?(O=T,P):(O=T,E=M)}var N=!1,O,E,C=p===void 0?null:p;return[function(){return _(h())},C===null?void 0:function(){return _(C())}]},[h,p,g,y]);var w=n(f,v[0],v[1]);return s(function(){x.hasValue=!0,x.value=w},[w]),d(w),w},Vb}var KP;function Uae(){return KP||(KP=1,Hb.exports=$ae()),Hb.exports}Uae();function zae(e){e()}function qae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){zae(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var QP={notify(){},get:()=>[]};function Fae(e,t){let r,n=QP,a=0,s=!1;function l(w){p();const _=n.subscribe(w);let N=!1;return()=>{N||(N=!0,_(),g())}}function d(){n.notify()}function f(){x.onStateChange&&x.onStateChange()}function h(){return s}function p(){a++,r||(r=e.subscribe(f),n=qae())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=QP)}function y(){s||(s=!0,p())}function v(){s&&(s=!1,g())}const x={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>n};return x}var Kae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qae=Kae(),Hae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Vae=Hae(),Gae=()=>Qae||Vae?j.useLayoutEffect:j.useEffect,Yae=Gae();function HP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Wae(e,t){if(HP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!HP(e[r[a]],t[r[a]]))return!1;return!0}var Gb=Symbol.for("react-redux-context"),Yb=typeof globalThis<"u"?globalThis:{};function Xae(){if(!j.createContext)return{};const e=Yb[Gb]??(Yb[Gb]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var Jae=Xae();function Zae(e){const{children:t,context:r,serverState:n,store:a}=e,s=j.useMemo(()=>{const f=Fae(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),l=j.useMemo(()=>a.getState(),[a]);Yae(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const d=r||Jae;return j.createElement(d.Provider,{value:s},t)}var eie=Zae,tie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function rie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Lg(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(tie.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Wae(e[n],t[n]))return!1}else if(!rie(e[n],t[n]))return!1;return!0}var nie=["id"],aie=["type","layout","connectNulls","needClip","shape"],iie=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function $d(){return $d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$d.apply(null,arguments)}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){sie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sie(e,t,r){return(t=oie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oie(e){var t=lie(e,"string");return typeof t=="symbol"?t:t+""}function lie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iS(e,t){if(e==null)return{};var r,n,a=cie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uie=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Kc(r,t),payload:e}]},die=j.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:d,unit:f,tooltipType:h,id:p}=e,g={dataDefinedOnItem:r,getPosition:Zo,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Kc(l,t),hide:d,type:h,color:n,unit:f,graphicalItemId:p}};return j.createElement(Jj,{tooltipEntrySettings:g})}),b5=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function fie(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var hie=(e,t,r)=>{var n=r.reduce((v,x)=>v+x);if(!n)return b5(t,e);for(var a=Math.floor(e/n),s=e%n,l=t-e,d=[],f=0,h=0;f<r.length;h+=(p=r[f])!==null&&p!==void 0?p:0,++f){var p,g=r[f];if(g!=null&&h+g>s){d=[...r.slice(0,f),s-h];break}}var y=d.length%2===0?[0,l]:[l];return[...fie(r,a),...d,...y].map(v=>"".concat(v,"px")).join(", ")};function mie(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:l}=n,{id:d}=n,f=iS(n,nie),h=Ln(f);return j.createElement(nne,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:t})}function pie(e){var{showLabels:t,children:r,points:n}=e,a=j.useMemo(()=>n==null?void 0:n.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ba(Ba({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[n]);return j.createElement(HI,{value:t?a:void 0},r)}function GP(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:l,layout:d,connectNulls:f,needClip:h,shape:p}=s,g=iS(s,aie),y=Ba(Ba({},cn(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:d,connectNulls:f,strokeDasharray:a??s.strokeDasharray});return j.createElement(j.Fragment,null,(n==null?void 0:n.length)>1&&j.createElement(Gj,$d({shapeType:"curve",option:p},y,{pathRef:r})),j.createElement(mie,{points:n,clipPathId:t,props:s}))}function gie(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function yie(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:y,width:v,height:x,onAnimationEnd:w,onAnimationStart:_}=r,N=a.current,O=ff(l,"recharts-line-"),E=j.useRef(O),[C,T]=j.useState(!1),P=!C,M=j.useCallback(()=>{typeof w=="function"&&w(),T(!1)},[w]),R=j.useCallback(()=>{typeof _=="function"&&_(),T(!0)},[_]),B=gie(n.current),H=j.useRef(0);E.current!==O&&(H.current=s.current,E.current=O);var Y=H.current;return j.createElement(pie,{points:l,showLabels:P},r.children,j.createElement(df,{animationId:O,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:M,onAnimationStart:R,key:O},K=>{var me=Ht(Y,B+Y,K),ie=Math.min(me,B),ye;if(f)if(d){var L="".concat(d).split(/[,\s]+/gim).map(he=>parseFloat(he));ye=hie(ie,B,L)}else ye=b5(B,ie);else ye=d==null?void 0:String(d);if(K>0&&B>0&&(a.current=l,s.current=Math.max(s.current,ie)),N){var V=N.length/l.length,ne=K===1?l:l.map((he,I)=>{var D=Math.floor(I*V);if(N[D]){var U=N[D];return Ba(Ba({},he),{},{x:Ht(U.x,he.x,K),y:Ht(U.y,he.y,K)})}return y?Ba(Ba({},he),{},{x:Ht(v*2,he.x,K),y:Ht(x/2,he.y,K)}):Ba(Ba({},he),{},{x:he.x,y:he.y})});return a.current=ne,j.createElement(GP,{props:r,points:ne,clipPathId:t,pathRef:n,strokeDasharray:ye})}return j.createElement(GP,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:ye})}),j.createElement(Kj,{label:r.label}))}function vie(e){var{clipPathId:t,props:r}=e,n=j.useRef(null),a=j.useRef(0),s=j.useRef(null);return j.createElement(yie,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var bie=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Tt(e.payload,t)}};class xie extends j.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:l,top:d,left:f,width:h,height:p,id:g,needClip:y,zIndex:v}=this.props;if(t)return null;var x=ft("recharts-line",a),w=g,{r:_,strokeWidth:N}=Bae(r),O=t5(r),E=_*2+N,C=y?"url(#clipPath-".concat(O?"":"dots-").concat(w,")"):void 0;return j.createElement(_n,{zIndex:v},j.createElement(Dr,{className:x},y&&j.createElement("defs",null,j.createElement(m5,{clipPathId:w,xAxisId:s,yAxisId:l}),!O&&j.createElement("clipPath",{id:"clipPath-dots-".concat(w)},j.createElement("rect",{x:f-E/2,y:d-E/2,width:h+E,height:p+E}))),j.createElement(h5,{xAxisId:s,yAxisId:l,data:n,dataPointFormatter:bie,errorBarOffset:0},j.createElement(vie,{props:this.props,clipPathId:w}))),j.createElement(Sne,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:C}))}}var x5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:pr.line,type:"linear"};function wie(e){var t=yr(e,x5),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,hide:h,isAnimationActive:p,label:g,legendType:y,xAxisId:v,yAxisId:x,id:w}=t,_=iS(t,iie),{needClip:N}=aS(v,x),O=tS(),E=el(),C=en(),T=Ae(H=>Lae(H,v,x,C,w));if(E!=="horizontal"&&E!=="vertical"||T==null||O==null)return null;var{height:P,width:M,x:R,y:B}=O;return j.createElement(xie,$d({},_,{id:w,connectNulls:d,dot:f,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:y,xAxisId:v,yAxisId:x,points:T,layout:E,height:P,width:M,left:R,top:B,needClip:N}))}function jie(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:d,displayedData:f}=e;return f.map((h,p)=>{var g=Tt(h,l);if(t==="horizontal"){var y=CC({axis:r,ticks:a,bandSize:d,entry:h,index:p}),v=Wt(g)?null:n.scale.map(g);return{x:y,y:v??null,value:g,payload:h}}var x=Wt(g)?null:r.scale.map(g),w=CC({axis:n,ticks:s,bandSize:d,entry:h,index:p});return x==null||w==null?null:{x,y:w,value:g,payload:h}}).filter(Boolean)}function Sie(e){var t=yr(e,x5),r=en();return j.createElement(Zj,{id:t.id,type:"line"},n=>j.createElement(j.Fragment,null,j.createElement(r5,{legendPayload:uie(t)}),j.createElement(die,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),j.createElement(a5,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),j.createElement(wie,$d({},t,{id:n}))))}var jp=j.memo(Sie,Lg);jp.displayName="Line";function al(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:i5}function il(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:i5}var _ie="Invariant failed";function Nie(e,t){throw new Error(_ie)}function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bw.apply(null,arguments)}function Sp(e){return j.createElement(Gj,bw({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Oie=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Ne(t))return t;var s=Ne(n)||Wt(n);return s?t(n,a):(s||Nie(),r)}},Eie=(e,t,r)=>r,Aie=(e,t)=>t,_f=W([Eg,Aie],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Cie=W([_f],e=>e==null?void 0:e.maxBarSize),kie=(e,t,r,n)=>n,Pie=W([mt,Eg,al,il,Eie],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Tie=(e,t,r)=>{var n=mt(e),a=al(e,t),s=il(e,t);if(!(a==null||s==null))return n==="horizontal"?fw(e,"yAxis",s,r):fw(e,"xAxis",a,r)},Die=(e,t)=>{var r=mt(e),n=al(e,t),a=il(e,t);if(!(n==null||a==null))return r==="horizontal"?Pk(e,"xAxis",n):Pk(e,"yAxis",a)},Mie=W([Pie,JW,Die],_ne),Rie=(e,t,r)=>{var n,a,s=_f(e,t);if(s==null)return 0;var l=al(e,t),d=il(e,t);if(l==null||d==null)return 0;var f=mt(e),h=N4(e),{maxBarSize:p}=s,g=Wt(p)?h:p,y,v;return f==="horizontal"?(y=Bs(e,"xAxis",l,r),v=Ls(e,"xAxis",l,r)):(y=Bs(e,"yAxis",d,r),v=Ls(e,"yAxis",d,r)),(n=(a=kc(y,v,!0))!==null&&a!==void 0?a:g)!==null&&n!==void 0?n:0},w5=(e,t,r)=>{var n=mt(e),a=al(e,t),s=il(e,t);if(!(a==null||s==null)){var l,d;return n==="horizontal"?(l=Bs(e,"xAxis",a,r),d=Ls(e,"xAxis",a,r)):(l=Bs(e,"yAxis",s,r),d=Ls(e,"yAxis",s,r)),kc(l,d)}},Iie=W([Mie,N4,XW,O4,Rie,w5,Cie],Cne),Lie=(e,t,r)=>{var n=al(e,t);if(n!=null)return Bs(e,"xAxis",n,r)},Bie=(e,t,r)=>{var n=il(e,t);if(n!=null)return Bs(e,"yAxis",n,r)},$ie=(e,t,r)=>{var n=al(e,t);if(n!=null)return Ls(e,"xAxis",n,r)},Uie=(e,t,r)=>{var n=il(e,t);if(n!=null)return Ls(e,"yAxis",n,r)},zie=W([Iie,_f],Pne),qie=W([Tie,_f],kne),Fie=W([Sr,_1,Lie,Bie,$ie,Uie,zie,mt,FW,w5,qie,_f,kie],(e,t,r,n,a,s,l,d,f,h,p,g,y)=>{var{chartData:v,dataStartIndex:x,dataEndIndex:w}=f;if(!(g==null||l==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||n==null||a==null||s==null||h==null)){var{data:_}=g,N;if(_!=null&&_.length>0?N=_:N=v==null?void 0:v.slice(x,w+1),N!=null)return yse({layout:d,barSettings:g,pos:l,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:N,offset:e,cells:y,dataStartIndex:x})}}),Kie=["index"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xw.apply(null,arguments)}function Qie(e,t){if(e==null)return{};var r,n,a=Hie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var j5=j.createContext(void 0),Vie=e=>{var t=j.useContext(j5);if(t!=null)return t.stackId;if(e!=null)return L7(e)},Gie=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Yie=e=>{var t=j.useContext(j5);if(t!=null){var{stackId:r}=t;return"url(#".concat(Gie(r,e),")")}},S5=e=>{var{index:t}=e,r=Qie(e,Kie),n=Yie(t);return j.createElement(Dr,xw({className:"recharts-bar-stack-layer",clipPath:n},r))},Wie=["onMouseEnter","onMouseLeave","onClick"],Xie=["value","background","tooltipPosition"],Jie=["id"],Zie=["onMouseEnter","onClick","onMouseLeave"];function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(null,arguments)}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){ese(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ese(e,t,r){return(t=tse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tse(e){var t=rse(e,"string");return typeof t=="symbol"?t:t+""}function rse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _p(e,t){if(e==null)return{};var r,n,a=nse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ase=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Kc(r,t),payload:e}]},ise=j.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:l,unit:d,tooltipType:f,id:h}=e,p={dataDefinedOnItem:void 0,getPosition:Zo,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Kc(s,t),hide:l,type:f,color:a,unit:d,graphicalItemId:h}};return j.createElement(Jj,{tooltipEntrySettings:p})});function sse(e){var t=Ae($s),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:d,onClick:f}=s,h=_p(s,Wie),p=Yj(l,n,s.id),g=Wj(d),y=Xj(f,n,s.id);if(!a||r==null)return null;var v=qo(a);return j.createElement(_n,{zIndex:Tne(a,pr.barBackground)},r.map((x,w)=>{var{value:_,background:N,tooltipPosition:O}=x,E=_p(x,Xie);if(!N)return null;var C=p(x,w),T=g(x,w),P=y(x,w),M=on(on(on(on(on({option:a,isActive:String(w)===t},E),{},{fill:"#eee"},N),v),af(h,x,w)),{},{onMouseEnter:C,onMouseLeave:T,onClick:P,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return j.createElement(Sp,Mi({key:"background-bar-".concat(w)},M))}))}function ose(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return on(on({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return j.createElement(HI,{value:t?a:void 0},r)}function lse(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:l}=e,d=Ae($s),f=Ae(Lj),h=r&&String(s)===d&&(f==null||l===f),p=h?r:t;return h?j.createElement(_n,{zIndex:pr.activeBar},j.createElement(S5,{index:s},j.createElement(Sp,Mi({},n,{name:String(n.name)},a,{isActive:h,option:p,index:s,dataKey:l})))):j.createElement(Sp,Mi({},n,{name:String(n.name)},a,{isActive:h,option:p,index:s,dataKey:l}))}function cse(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return j.createElement(Sp,Mi({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function use(e){var t,{data:r,props:n}=e,a=(t=Ln(n))!==null&&t!==void 0?t:{},{id:s}=a,l=_p(a,Jie),{shape:d,dataKey:f,activeBar:h}=n,{onMouseEnter:p,onClick:g,onMouseLeave:y}=n,v=_p(n,Zie),x=Yj(p,f,s),w=Wj(y),_=Xj(g,f,s);return r?j.createElement(j.Fragment,null,r.map((N,O)=>j.createElement(S5,Mi({index:O,key:"rectangle-".concat(N==null?void 0:N.x,"-").concat(N==null?void 0:N.y,"-").concat(N==null?void 0:N.value,"-").concat(O),className:"recharts-bar-rectangle"},af(v,N,O),{onMouseEnter:x(N,O),onMouseLeave:w(N,O),onClick:_(N,O)}),h?j.createElement(lse,{shape:d,activeBar:h,baseProps:l,entry:N,index:O,dataKey:f}):j.createElement(cse,{shape:d,baseProps:l,entry:N,index:O,dataKey:f})))):null}function dse(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=t,g=r.current,y=ff(t,"recharts-bar-"),[v,x]=j.useState(!1),w=!v,_=j.useCallback(()=>{typeof h=="function"&&h(),x(!1)},[h]),N=j.useCallback(()=>{typeof p=="function"&&p(),x(!0)},[p]);return j.createElement(ose,{showLabels:w,rects:n},j.createElement(df,{animationId:y,begin:l,duration:d,isActive:s,easing:f,onAnimationEnd:_,onAnimationStart:N,key:y},O=>{var E=O===1?n:n==null?void 0:n.map((C,T)=>{var P=g&&g[T];if(P)return on(on({},C),{},{x:Ht(P.x,C.x,O),y:Ht(P.y,C.y,O),width:Ht(P.width,C.width,O),height:Ht(P.height,C.height,O)});if(a==="horizontal"){var M=Ht(0,C.height,O),R=Ht(C.stackedBarStart,C.y,O);return on(on({},C),{},{y:R,height:M})}var B=Ht(0,C.width,O),H=Ht(C.stackedBarStart,C.x,O);return on(on({},C),{},{width:B,x:H})});return O>0&&(r.current=E??null),E==null?null:j.createElement(Dr,null,j.createElement(use,{props:t,data:E}))}),j.createElement(Kj,{label:t.label}),t.children)}function fse(e){var t=j.useRef(null);return j.createElement(dse,{previousRectanglesRef:t,props:e})}var _5=0,hse=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Tt(e,t)}};class mse extends j.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(t||r==null)return null;var p=ft("recharts-bar",a),g=h;return j.createElement(Dr,{className:p,id:h},d&&j.createElement("defs",null,j.createElement(m5,{clipPathId:g,xAxisId:s,yAxisId:l})),j.createElement(Dr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},j.createElement(sse,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),j.createElement(fse,this.props)))}}var pse={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:_5,xAxisId:0,yAxisId:0,zIndex:pr.bar};function gse(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=e,{needClip:g}=aS(t,r),y=el(),v=en(),x=Vj(e.children,nl),w=Ae(O=>Fie(O,e.id,v,x));if(y!=="vertical"&&y!=="horizontal")return null;var _,N=w==null?void 0:w[0];return N==null||N.height==null||N.width==null?_=0:_=y==="vertical"?N.height/2:N.width/2,j.createElement(h5,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:hse,errorBarOffset:_},j.createElement(mse,Mi({},e,{layout:y,needClip:g,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function yse(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:y,cells:v,parentViewBox:x,dataStartIndex:w}=e,_=t==="horizontal"?d:l,N=p?_.scale.domain():null,O=B7({numericAxis:_}),E=_.scale.map(O);return g.map((C,T)=>{var P,M,R,B,H,Y;if(p){var K=p[T+w];if(K==null)return null;P=T7(K,N)}else P=Tt(C,r),Array.isArray(P)||(P=[O,P]);var me=Oie(n,_5)(P[1],T);if(t==="horizontal"){var ie,ye=d.scale.map(P[0]),L=d.scale.map(P[1]);if(ye==null||L==null)return null;M=kC({axis:l,ticks:f,bandSize:s,offset:a.offset,entry:C,index:T}),R=(ie=L??ye)!==null&&ie!==void 0?ie:void 0,B=a.size;var V=ye-L;if(H=qa(V)?0:V,Y={x:M,y:y.top,width:B,height:y.height},Math.abs(me)>0&&Math.abs(H)<Math.abs(me)){var ne=Tr(H||me)*(Math.abs(me)-Math.abs(H));R-=ne,H+=ne}}else{var he=l.scale.map(P[0]),I=l.scale.map(P[1]);if(he==null||I==null)return null;if(M=he,R=kC({axis:d,ticks:h,bandSize:s,offset:a.offset,entry:C,index:T}),B=I-he,H=a.size,Y={x:y.left,y:R,width:y.width,height:H},Math.abs(me)>0&&Math.abs(B)<Math.abs(me)){var D=Tr(B||me)*(Math.abs(me)-Math.abs(B));B+=D}}if(M==null||R==null||B==null||H==null)return null;var U=on(on({},C),{},{stackedBarStart:E,x:M,y:R,width:B,height:H,value:p?P:P[1],payload:C,background:Y,tooltipPosition:{x:M+B/2,y:R+H/2},parentViewBox:x},v&&v[T]&&v[T].props);return U}).filter(Boolean)}function vse(e){var t=yr(e,pse),r=Vie(t.stackId),n=en();return j.createElement(Zj,{id:t.id,type:"bar"},a=>j.createElement(j.Fragment,null,j.createElement(r5,{legendPayload:ase(t)}),j.createElement(ise,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),j.createElement(a5,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),j.createElement(_n,{zIndex:t.zIndex},j.createElement(gse,Mi({},t,{id:a})))))}var xi=j.memo(vse,Lg);xi.displayName="Bar";var bse=["domain","range"],xse=["domain","range"];function WP(e,t){if(e==null)return{};var r,n,a=wse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function XP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function N5(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=WP(e,bse),{domain:s,range:l}=t,d=WP(t,xse);return!XP(r,s)||!XP(n,l)?!1:Lg(a,d)}var jse=["type"],Sse=["dangerouslySetInnerHTML","ticks","scale"],_se=["id","scale"];function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ww.apply(null,arguments)}function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(r),!0).forEach(function(n){Nse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nse(e,t,r){return(t=Ose(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ose(e){var t=Ese(e,"string");return typeof t=="symbol"?t:t+""}function Ese(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jw(e,t){if(e==null)return{};var r,n,a=Ase(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ase(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cse(e){var t=Lt(),r=j.useRef(null),n=fR(),{type:a}=e,s=jw(e,jse),l=jg(n,"xAxis",a),d=j.useMemo(()=>{if(l!=null)return ZP(ZP({},s),{},{type:l})},[s,l]);return j.useLayoutEffect(()=>{d!=null&&(r.current===null?t(lne(d)):r.current!==d&&t(cne({prev:r.current,next:d})),r.current=d)},[d,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(une(r.current)),r.current=null)},[t]),null}var kse=e=>{var{xAxisId:t,className:r}=e,n=Ae(_1),a=en(),s="xAxis",l=Ae(N=>iI(N,s,t,a)),d=Ae(N=>tI(N,t)),f=Ae(N=>JX(N,t)),h=Ae(N=>I4(N,t));if(d==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:y}=e,v=jw(e,Sse),{id:x,scale:w}=h,_=jw(h,_se);return j.createElement(nS,ww({},v,_,{x:f.x,y:f.y,width:d.width,height:d.height,className:ft("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},Pse={allowDataOverflow:Ar.allowDataOverflow,allowDecimals:Ar.allowDecimals,allowDuplicatedCategory:Ar.allowDuplicatedCategory,angle:Ar.angle,axisLine:Ni.axisLine,height:Ar.height,hide:!1,includeHidden:Ar.includeHidden,interval:Ar.interval,label:!1,minTickGap:Ar.minTickGap,mirror:Ar.mirror,orientation:Ar.orientation,padding:Ar.padding,reversed:Ar.reversed,scale:Ar.scale,tick:Ar.tick,tickCount:Ar.tickCount,tickLine:Ni.tickLine,tickSize:Ni.tickSize,type:Ar.type,xAxisId:0},Tse=e=>{var t=yr(e,Pse);return j.createElement(j.Fragment,null,j.createElement(Cse,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),j.createElement(kse,t))},hc=j.memo(Tse,N5);hc.displayName="XAxis";var Dse=["type"],Mse=["dangerouslySetInnerHTML","ticks","scale"],Rse=["id","scale"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sw.apply(null,arguments)}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(n){Ise(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ise(e,t,r){return(t=Lse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lse(e){var t=Bse(e,"string");return typeof t=="symbol"?t:t+""}function Bse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _w(e,t){if(e==null)return{};var r,n,a=$se(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $se(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Use(e){var t=Lt(),r=j.useRef(null),n=fR(),{type:a}=e,s=_w(e,Dse),l=jg(n,"yAxis",a),d=j.useMemo(()=>{if(l!=null)return tT(tT({},s),{},{type:l})},[l,s]);return j.useLayoutEffect(()=>{d!=null&&(r.current===null?t(dne(d)):r.current!==d&&t(fne({prev:r.current,next:d})),r.current=d)},[d,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(hne(r.current)),r.current=null)},[t]),null}function zse(e){var{yAxisId:t,className:r,width:n,label:a}=e,s=j.useRef(null),l=j.useRef(null),d=Ae(_1),f=en(),h=Lt(),p="yAxis",g=Ae(P=>rI(P,t)),y=Ae(P=>eJ(P,t)),v=Ae(P=>iI(P,p,t,f)),x=Ae(P=>L4(P,t));if(j.useLayoutEffect(()=>{if(!(n!=="auto"||!g||Fj(a)||j.isValidElement(a)||x==null)){var P=s.current;if(P){var M=P.getCalculatedWidth();Math.round(g.width)!==Math.round(M)&&h(mne({id:t,width:M}))}}},[v,g,h,a,t,n,x]),g==null||y==null||x==null)return null;var{dangerouslySetInnerHTML:w,ticks:_,scale:N}=e,O=_w(e,Mse),{id:E,scale:C}=x,T=_w(x,Rse);return j.createElement(nS,Sw({},O,T,{ref:s,labelRef:l,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:ft("recharts-".concat(p," ").concat(p),r),viewBox:d,ticks:v,axisType:p}))}var qse={allowDataOverflow:Cr.allowDataOverflow,allowDecimals:Cr.allowDecimals,allowDuplicatedCategory:Cr.allowDuplicatedCategory,angle:Cr.angle,axisLine:Ni.axisLine,hide:!1,includeHidden:Cr.includeHidden,interval:Cr.interval,label:!1,minTickGap:Cr.minTickGap,mirror:Cr.mirror,orientation:Cr.orientation,padding:Cr.padding,reversed:Cr.reversed,scale:Cr.scale,tick:Cr.tick,tickCount:Cr.tickCount,tickLine:Ni.tickLine,tickSize:Ni.tickSize,type:Cr.type,width:Cr.width,yAxisId:0},Fse=e=>{var t=yr(e,qse);return j.createElement(j.Fragment,null,j.createElement(Use,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),j.createElement(zse,t))},mc=j.memo(Fse,N5);mc.displayName="YAxis";var Kse=(e,t)=>t,sS=W([Kse,mt,D4,Rr,jI,Qi,gZ,Sr],SZ),oS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},O5=sa("mouseClick"),E5=of();E5.startListening({actionCreator:O5,effect:(e,t)=>{var r=e.payload,n=sS(t.getState(),oS(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(mJ({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Nw=sa("mouseMove"),A5=of(),mm=null;A5.startListening({actionCreator:Nw,effect:(e,t)=>{var r=e.payload;mm!==null&&cancelAnimationFrame(mm);var n=oS(r);mm=requestAnimationFrame(()=>{var a=t.getState(),s=Pj(a,a.tooltip.settings.shared);if(s==="axis"){var l=sS(a,n);(l==null?void 0:l.activeIndex)!=null?t.dispatch(hI({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(fI())}mm=null})}});function Qse(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var rT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},C5=Sn({name:"rootProps",initialState:rT,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:rT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Hse=C5.reducer,{updateOptions:Vse}=C5.actions,Gse=null,Yse={updatePolarOptions:(e,t)=>t.payload},k5=Sn({name:"polarOptions",initialState:Gse,reducers:Yse}),{updatePolarOptions:Wse}=k5.actions,Xse=k5.reducer,P5=sa("keyDown"),T5=sa("focus"),lS=of();lS.startListening({actionCreator:P5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Tj(a,Zc(r),xf(r),jf(r)),d=l==null?-1:Number(l);if(!(!Number.isFinite(d)||d<0)){var f=Qi(r);if(s==="Enter"){var h=gp(r,"axis","hover",String(a.index));t.dispatch(mw({active:!a.active,activeIndex:a.index,activeCoordinate:h}));return}var p=aJ(r),g=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,v=d+y*g;if(!(f==null||v>=f.length||v<0)){var x=gp(r,"axis","hover",String(v));t.dispatch(mw({active:!0,activeIndex:v.toString(),activeCoordinate:x}))}}}}}});lS.startListening({actionCreator:T5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=gp(r,"axis","hover",String(s));t.dispatch(mw({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var ea=sa("externalEvent"),D5=of(),Wb=new Map;D5.startListening({actionCreator:ea,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=Wb.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var d=t.getState(),f={activeCoordinate:eZ(d),activeDataKey:Lj(d),activeIndex:$s(d),activeLabel:NI(d),activeTooltipIndex:$s(d),isTooltipActive:tZ(d)};r(f,n)}finally{Wb.delete(a)}});Wb.set(a,l)}}});var Jse=W([Xc],e=>e.tooltipItemPayloads),Zse=W([Jse,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),M5=sa("touchMove"),R5=of();R5.startListening({actionCreator:M5,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Pj(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var l=sS(n,oS({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(hI({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var d,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(sR),g=(d=h.getAttribute(oR))!==null&&d!==void 0?d:void 0,y=Jc(n).find(w=>w.id===g);if(p==null||y==null||g==null)return;var{dataKey:v}=y,x=Zse(n,p,g);t.dispatch(dI({activeDataKey:v,activeIndex:p,activeCoordinate:x,activeGraphicalItemId:g}))}}}});var eoe=AM({brush:Dne,cartesianAxis:pne,chartData:eee,errorBars:Eae,graphicalItems:jre,layout:E7,legend:MH,options:YZ,polarAxis:Ite,polarOptions:Xse,referenceElements:Lne,rootProps:Hse,tooltip:pJ,zIndex:LZ}),toe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return JQ({reducer:eoe,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([E5.middleware,A5.middleware,lS.middleware,D5.middleware,R5.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(FM({type:"raf"}))},devTools:{serialize:{replacer:Qse},name:"recharts-".concat(r)}})};function I5(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=en(),s=j.useRef(null);if(a)return r;s.current==null&&(s.current=toe(t,n));var l=y1;return j.createElement(eie,{context:l,store:s.current},r)}function roe(e){var{layout:t,margin:r}=e,n=Lt(),a=en();return j.useEffect(()=>{a||(n(_7(t)),n(S7(r)))},[n,a,t,r]),null}var L5=j.memo(roe,Lg);function B5(e){var t=Lt();return j.useEffect(()=>{t(Vse(e))},[t,e]),null}function nT(e){var{zIndex:t,isPanorama:r}=e,n=j.useRef(null),a=Lt();return j.useLayoutEffect(()=>(n.current&&a(RZ({zIndex:t,element:n.current,isPanorama:r})),()=>{a(IZ({zIndex:t,isPanorama:r}))}),[a,t,r]),j.createElement("g",{tabIndex:-1,ref:n})}function aT(e){var{children:t,isPanorama:r}=e,n=Ae(NZ);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),s=n.filter(l=>l>0);return j.createElement(j.Fragment,null,a.map(l=>j.createElement(nT,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>j.createElement(nT,{key:l,zIndex:l,isPanorama:r})))}var noe=["children"];function aoe(e,t){if(e==null)return{};var r,n,a=ioe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ioe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Np.apply(null,arguments)}var soe={width:"100%",height:"100%",display:"block"},ooe=j.forwardRef((e,t)=>{var r=E1(),n=A1(),a=_R();if(!Ka(r)||!Ka(n))return null;var{children:s,otherAttributes:l,title:d,desc:f}=e,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0),j.createElement(s1,Np({},l,{title:d,desc:f,role:p,tabIndex:h,width:r,height:n,style:soe,ref:t}),s)}),loe=e=>{var{children:t}=e,r=Ae(lg);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return j.createElement(s1,{width:n,height:a,x:l,y:s},t)},iT=j.forwardRef((e,t)=>{var{children:r}=e,n=aoe(e,noe),a=en();return a?j.createElement(loe,null,j.createElement(aT,{isPanorama:!0},r)):j.createElement(ooe,Np({ref:t},n),j.createElement(aT,{isPanorama:!1},r))});function coe(){var e=Lt(),[t,r]=j.useState(null),n=Ae(K7);return j.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;lt(s)&&s!==n&&e(O7(s))}},[t,e,n]),r}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uoe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){doe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function doe(e,t,r){return(t=foe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function foe(e){var t=hoe(e,"string");return typeof t=="symbol"?t:t+""}function hoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rs.apply(null,arguments)}var moe=()=>(cee(),null);function Op(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var poe=j.forwardRef((e,t)=>{var r,n,a=j.useRef(null),[s,l]=j.useState({containerWidth:Op((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Op((n=e.style)===null||n===void 0?void 0:n.height)}),d=j.useCallback((h,p)=>{l(g=>{var y=Math.round(h),v=Math.round(p);return g.containerWidth===y&&g.containerHeight===v?g:{containerWidth:y,containerHeight:v}})},[]),f=j.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var y=x=>{var w=x[0];if(w!=null){var{width:_,height:N}=w.contentRect;d(_,N)}},v=new ResizeObserver(y);v.observe(h),a.current=v}},[t,d]);return j.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[d]),j.createElement(j.Fragment,null,j.createElement(cf,{width:s.containerWidth,height:s.containerHeight}),j.createElement("div",Rs({ref:f},e)))}),goe=j.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=j.useState({containerWidth:Op(r),containerHeight:Op(n)}),l=j.useCallback((f,h)=>{s(p=>{var g=Math.round(f),y=Math.round(h);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),d=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[t,l]);return j.createElement(j.Fragment,null,j.createElement(cf,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",Rs({ref:d},e)))}),yoe=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return j.createElement(j.Fragment,null,j.createElement(cf,{width:r,height:n}),j.createElement("div",Rs({ref:t},e)))}),voe=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?j.createElement(goe,Rs({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?j.createElement(yoe,Rs({},e,{width:r,height:n,ref:t})):j.createElement(j.Fragment,null,j.createElement(cf,{width:r,height:n}),j.createElement("div",Rs({ref:t},e)))});function boe(e){return e?poe:voe}var xoe=j.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:y,onTouchEnd:v,onTouchMove:x,onTouchStart:w,style:_,width:N,responsive:O,dispatchTouchEvents:E=!0}=e,C=j.useRef(null),T=Lt(),[P,M]=j.useState(null),[R,B]=j.useState(null),H=coe(),Y=N1(),K=(Y==null?void 0:Y.width)>0?Y.width:N,me=(Y==null?void 0:Y.height)>0?Y.height:a,ie=j.useCallback(te=>{H(te),typeof t=="function"&&t(te),M(te),B(te),te!=null&&(C.current=te)},[H,t,M,B]),ye=j.useCallback(te=>{T(O5(te)),T(ea({handler:s,reactEvent:te}))},[T,s]),L=j.useCallback(te=>{T(Nw(te)),T(ea({handler:h,reactEvent:te}))},[T,h]),V=j.useCallback(te=>{T(fI()),T(ea({handler:p,reactEvent:te}))},[T,p]),ne=j.useCallback(te=>{T(Nw(te)),T(ea({handler:g,reactEvent:te}))},[T,g]),he=j.useCallback(()=>{T(T5())},[T]),I=j.useCallback(te=>{T(P5(te.key))},[T]),D=j.useCallback(te=>{T(ea({handler:l,reactEvent:te}))},[T,l]),U=j.useCallback(te=>{T(ea({handler:d,reactEvent:te}))},[T,d]),Z=j.useCallback(te=>{T(ea({handler:f,reactEvent:te}))},[T,f]),q=j.useCallback(te=>{T(ea({handler:y,reactEvent:te}))},[T,y]),ge=j.useCallback(te=>{T(ea({handler:w,reactEvent:te}))},[T,w]),ve=j.useCallback(te=>{E&&T(M5(te)),T(ea({handler:x,reactEvent:te}))},[T,E,x]),pe=j.useCallback(te=>{T(ea({handler:v,reactEvent:te}))},[T,v]),ke=boe(O);return j.createElement(TI.Provider,{value:P},j.createElement(QD.Provider,{value:R},j.createElement(ke,{width:K??(_==null?void 0:_.width),height:me??(_==null?void 0:_.height),className:ft("recharts-wrapper",n),style:uoe({position:"relative",cursor:"default",width:K,height:me},_),onClick:ye,onContextMenu:D,onDoubleClick:U,onFocus:he,onKeyDown:I,onMouseDown:Z,onMouseEnter:L,onMouseLeave:V,onMouseMove:ne,onMouseUp:q,onTouchEnd:pe,onTouchMove:ve,onTouchStart:ge,ref:ie},j.createElement(moe,null),r)))}),woe=["width","height","responsive","children","className","style","compact","title","desc"];function joe(e,t){if(e==null)return{};var r,n,a=Soe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Soe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $5=j.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:d,compact:f,title:h,desc:p}=e,g=joe(e,woe),y=Ln(g);return f?j.createElement(j.Fragment,null,j.createElement(cf,{width:r,height:n}),j.createElement(iT,{otherAttributes:y,title:h,desc:p},s)):j.createElement(xoe,{className:l,style:d,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(iT,{otherAttributes:y,title:h,desc:p,ref:t},j.createElement($ne,null,s)))});function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ow.apply(null,arguments)}var _oe={top:5,right:5,bottom:5,left:5},Noe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:_oe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},U5=j.forwardRef(function(t,r){var n,a=yr(t.categoricalChartProps,Noe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return j.createElement(I5,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},j.createElement(o5,{chartData:h.data}),j.createElement(L5,{layout:a.layout,margin:a.margin}),j.createElement(B5,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement($5,Ow({},a,{ref:r})))}),Ooe=["axis","item"],z5=j.forwardRef((e,t)=>j.createElement(U5,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ooe,tooltipPayloadSearcher:qj,categoricalChartProps:e,ref:t}));function Eoe(e){var t=Lt();return j.useEffect(()=>{t(Wse(e))},[t,e]),null}var Aoe=["layout"];function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ew.apply(null,arguments)}function Coe(e,t){if(e==null)return{};var r,n,a=koe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function koe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Poe={top:5,right:5,bottom:5,left:5},q5={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Poe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Toe=j.forwardRef(function(t,r){var n,a=yr(t.categoricalChartProps,q5),{layout:s}=a,l=Coe(a,Aoe),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=t,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return j.createElement(I5,{preloadedState:{options:g},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:d},j.createElement(o5,{chartData:a.data}),j.createElement(L5,{layout:s,margin:a.margin}),j.createElement(B5,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(Eoe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),j.createElement($5,Ew({},l,{ref:r})))});function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){Doe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Doe(e,t,r){return(t=Moe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Moe(e){var t=Roe(e,"string");return typeof t=="symbol"?t:t+""}function Roe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ioe=["item"],Loe=lT(lT({},q5),{},{layout:"centric",startAngle:0,endAngle:360}),F5=j.forwardRef((e,t)=>{var r=yr(e,Loe);return j.createElement(Toe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ioe,tooltipPayloadSearcher:qj,categoricalChartProps:r,ref:t})}),Boe=["axis"],Aw=j.forwardRef((e,t)=>j.createElement(U5,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Boe,tooltipPayloadSearcher:qj,categoricalChartProps:e,ref:t}));const $oe=()=>{const{user:e,isLoading:t}=_a(),[r,n]=j.useState(window.innerWidth<768);if(j.useEffect(()=>{const I=()=>n(window.innerWidth<768);return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),t)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading session..."});if(!e)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Not Authenticated"});const a=e.role===Ge.ADMIN,[s,l]=j.useState("All Time"),[d,f]=j.useState({from:"",to:""}),{data:h=[],isPending:p}=Up(),{data:g=[],isPending:y}=zp(),{data:v=[],isPending:x}=Zd(),{data:w=[],isPending:_}=Li(),{data:N=[]}=qs(),O=p||y||x||_,E=j.useMemo(()=>h.filter(I=>m0(I.orderDate,s,d)),[h,s,d]),C=j.useMemo(()=>g.filter(I=>m0(I.billDate,s,d)),[g,s,d]),T=j.useMemo(()=>v.filter(I=>m0(I.date,s,d)),[v,s,d]),P=T.filter(I=>I.type==="Income"&&!!I.referenceId).reduce((I,D)=>I+D.amount,0),M=P>0?P:E.filter(I=>I.status===De.COMPLETED).reduce((I,D)=>I+D.total,0),R=T.filter(I=>I.type==="Expense"&&I.category==="expense_purchases").reduce((I,D)=>I+D.amount,0),B=R>0?R:C.reduce((I,D)=>I+D.total,0),H=T.filter(I=>I.type==="Expense"&&I.category!=="expense_purchases").reduce((I,D)=>I+D.amount,0),Y=M-B-H,K={total:E.length,processing:E.filter(I=>I.status===De.PROCESSING).length,picked:E.filter(I=>I.status===De.PICKED).length,completed:E.filter(I=>I.status===De.COMPLETED).length};E.reduce((I,D)=>I+(D.total-D.paidAmount),0),C.reduce((I,D)=>I+(D.total-D.paidAmount),0);const me=h.filter(I=>I.createdBy===e.id).length,ie=new Date().toISOString().split("T")[0],ye=h.filter(I=>I.createdBy===e.id&&I.orderDate===ie).length,L=h.filter(I=>I.createdBy===e.id&&I.status===De.ON_HOLD).length,V=j.useMemo(()=>{const I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],D=new Date().getFullYear(),U={};return I.forEach(Z=>{U[Z]={income:0,expense:0}}),v.forEach(Z=>{const q=new Date(Z.date);if(q.getFullYear()!==D)return;const ge=q.getMonth(),ve=I[ge];Z.type==="Income"?U[ve].income+=Z.amount:Z.type==="Expense"&&(U[ve].expense+=Z.amount)}),I.map(Z=>({name:Z,income:U[Z].income,expense:-U[Z].expense,profit:U[Z].income-U[Z].expense}))},[h,g,v]),ne=j.useMemo(()=>{const I=new Map(N.map(pe=>[pe.id,pe.name])),D={},U={},Z=["#10B981","#3B82F6","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16"];let q=0;B>0&&(D.Purchases=B,U.Purchases=Z[q++]),T.filter(pe=>pe.type==="Expense"&&pe.category!=="expense_purchases").forEach(pe=>{const ke=I.get(pe.category)||pe.category||"Uncategorized";D[ke]=(D[ke]||0)+pe.amount,U[ke]||(U[ke]=Z[q%Z.length],q++)});const ve=Object.entries(D).map(([pe,ke])=>({name:pe,value:Math.max(ke,1),color:U[pe]}));return ve.length>0?ve:[{name:"No Data",value:1,color:"#D1D5DB"}]},[T,B,N]),he=w.map(I=>({name:I.name.split(" ")[0],orders:E.filter(D=>D.createdBy===I.id).length})).sort((I,D)=>D.orders-I.orders);return a?c.jsxs("div",{className:"space-y-6",children:[c.jsx(Jd,{isLoading:O,message:"Loading dashboard data..."}),c.jsx(jd,{filterRange:s,setFilterRange:l,customDates:d,setCustomDates:f}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(fa,{title:"Total Sales",value:we(M),icon:ae.Sales,bgColor:"bg-blue-600",textColor:"text-white",iconBgColor:"bg-blue-700"}),c.jsx(fa,{title:"Total Purchases",value:we(B),icon:ae.Briefcase,bgColor:"bg-purple-600",textColor:"text-white",iconBgColor:"bg-purple-700"}),c.jsx(fa,{title:"Other Expenses",value:we(H),icon:ae.Delete,bgColor:"bg-amber-500",textColor:"text-white",iconBgColor:"bg-amber-600"}),c.jsx(fa,{title:"Total Profit",value:we(Y),icon:ae.Reports,isProfitCard:!0,profitValue:Y}),c.jsx(fa,{title:"Total Orders",value:K.total,icon:ae.Dashboard,bgColor:"bg-indigo-700",textColor:"text-white",iconBgColor:"bg-indigo-800"}),c.jsx(fa,{title:"Processing Orders",value:K.processing,icon:ae.More,bgColor:"bg-sky-500",textColor:"text-white",iconBgColor:"bg-sky-600"}),c.jsx(fa,{title:"Picked Orders",value:K.picked,icon:ae.Courier,bgColor:"bg-cyan-500",textColor:"text-white",iconBgColor:"bg-cyan-600"}),c.jsx(fa,{title:"Completed Orders",value:K.completed,icon:ae.PlusCircle,bgColor:"bg-teal-600",textColor:"text-white",iconBgColor:"bg-teal-700"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsx("div",{children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Cash Flow"})}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-[#059669]"}),c.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Income"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),c.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Expense"})]})]})]}),c.jsx("div",{className:"h-[250px]",children:c.jsx(uc,{width:"100%",height:"100%",children:r?c.jsxs(Aw,{data:V,margin:{top:10,right:0,left:-20,bottom:0},children:[c.jsx(fc,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(hc,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(mc,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(Oo,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f8fafc"}}),c.jsx(xi,{dataKey:"income",fill:"#059669",radius:[4,4,0,0],barSize:40}),c.jsx(xi,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],barSize:40}),c.jsx(jp,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"}})]}):c.jsxs(Aw,{data:V,children:[c.jsx(fc,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(hc,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(mc,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(Oo,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f8fafc"}}),c.jsx(xi,{dataKey:"income",fill:"#059669",radius:[4,4,0,0],barSize:40}),c.jsx(xi,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],barSize:40}),c.jsx(jp,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"}})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("div",{className:"flex items-center justify-between mb-8",children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Profit & Loss Summary"})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg",children:[c.jsx("span",{className:"font-bold text-gray-600 text-sm",children:"Total Incomes"}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:we(M)})]}),c.jsxs("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg",children:[c.jsx("span",{className:"font-bold text-gray-600 text-sm",children:"Total Expenses"}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:we(B+H)})]}),c.jsxs("div",{className:`flex justify-between items-center p-6 rounded-xl shadow-xl text-white
                  ${Y>=0?"bg-emerald-600 shadow-emerald-600/20":"bg-red-600 shadow-red-600/20"}
                `,children:[c.jsx("span",{className:"font-black uppercase tracking-widest text-sm",children:"Net Profit"}),c.jsx("span",{className:"font-black text-sm",children:we(Y)})]})]})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-8",children:"Expenses by Category"}),c.jsx("div",{className:"h-[300px]",children:c.jsx(uc,{width:"100%",height:"100%",children:c.jsxs(F5,{children:[c.jsx(eS,{data:ne,innerRadius:0,outerRadius:100,dataKey:"value",children:ne.map((I,D)=>c.jsx(nl,{fill:I.color},`cell-${D}`))}),c.jsx(Oo,{}),r?c.jsx(kd,{verticalAlign:"bottom",align:"center",layout:"horizontal",wrapperStyle:{paddingTop:"20px"}}):c.jsx(kd,{verticalAlign:"middle",align:"right",layout:"vertical"})]})})})]})]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx(jd,{filterRange:s,setFilterRange:l,customDates:d,setCustomDates:f}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(fa,{title:"Total Created",value:me,icon:ae.Sales,bgColor:"bg-blue-600",textColor:"text-white",iconBgColor:"bg-blue-700"}),c.jsx(fa,{title:"Created Today",value:ye,icon:ae.Dashboard,bgColor:"bg-teal-500",textColor:"text-white",iconBgColor:"bg-teal-600"}),c.jsx(fa,{title:"Pending (Hold)",value:L,icon:ae.More,bgColor:"bg-orange-500",textColor:"text-white",iconBgColor:"bg-orange-600"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Performance"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Comparing total orders across all employees"})]}),c.jsx("div",{className:"h-[400px]",children:c.jsx(uc,{width:"100%",height:"100%",children:c.jsxs(z5,{data:he,children:[c.jsx(fc,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(hc,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:700,fill:"#64748b"}}),c.jsx(mc,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:700,fill:"#64748b"}}),c.jsx(Oo,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),c.jsx(xi,{dataKey:"orders",fill:"#10B981",radius:[12,12,0,0]})]})})})]})]})},K5=({anchorEl:e,open:t,onClose:r,children:n,align:a="right"})=>{const[s,l]=j.useState(null);if(j.useEffect(()=>{if(!t||!e){l(null);return}const f=()=>{const h=e.getBoundingClientRect(),g=a==="right"?h.right-200:h.left,y=h.bottom+8;l({top:y,left:g})};return f(),window.addEventListener("resize",f),window.addEventListener("scroll",f,!0),()=>{window.removeEventListener("resize",f),window.removeEventListener("scroll",f,!0)}},[e,t,a]),j.useEffect(()=>{if(!t)return;const f=h=>{const p=h.target;if(!e||e.contains(p))return;const g=document.getElementById("portal-menu-root");g&&g.contains(p)||r()};return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[t,e,r]),!t||!s)return null;const d=c.jsx("div",{id:"portal-menu-root",className:"fixed left-0 top-0 z-[2000] pointer-events-none",children:c.jsx("div",{style:{position:"fixed",top:s.top,left:s.left},className:"pointer-events-auto w-48 bg-white border border-gray-100 rounded-lg shadow-2xl py-2",children:n})});return kp.createPortal(d,document.body)},Ep=(e,t)=>{t(`/print-order/${e}`)},Uoe=()=>{setTimeout(()=>{window.print()},100)},zoe=()=>{var Yt,St;const e=Et(),t=Ue(),r=Vr(),{searchQuery:n}=Va(),{user:a,isLoading:s}=_a(),l=(a==null?void 0:a.role)===Ge.ADMIN,d=(a==null?void 0:a.role)===Ge.EMPLOYEE,{data:f}=Fs(),h=(f==null?void 0:f.recordsPerPage)||xt,[p,g]=j.useState("All Time"),[y,v]=j.useState({from:"",to:""}),[x,w]=j.useState("All"),[_,N]=j.useState("all"),[O,E]=j.useState(null),[C,T]=j.useState(null),[P,M]=j.useState(null),[R,B]=j.useState(null),[H,Y]=j.useState(null),[K,me]=j.useState(null),[ie,ye]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:0}),[L,V]=j.useState(1),{data:ne=[]}=Li(),he=j.useMemo(()=>{if(_!=="all")return _==="admins"?ne.filter(G=>G.role===Ge.ADMIN).map(G=>G.id):_==="employees"?ne.filter(G=>G.role===Ge.EMPLOYEE).map(G=>G.id):[_]},[_,ne]),{data:I,isFetching:D}=I9(L,h,{status:x==="All"?void 0:x,from:y.from,to:y.to,search:n,createdByIds:he}),U=(I==null?void 0:I.data)??[],Z=(I==null?void 0:I.count)??0,q=Math.max(1,Math.ceil(Z/h));Ze.useEffect(()=>{if(!U||U.length===0)return;Array.from(new Set(U.map(de=>de.customerId).filter(Boolean))).forEach(de=>t.fetchQuery({queryKey:["customer",de],queryFn:()=>Rp(de)}).catch(()=>{}))},[U,t]);const{data:ge=[]}=zs(),{data:ve}=Fp();j.useEffect(()=>{V(1)},[n,x,p,y.from,y.to,_]);const pe=G=>{V(1),w(G)},ke=G=>{V(1),g(G),G!=="Custom"&&v({from:"",to:""})},te=G=>{V(1),v(G)},_e=G=>{V(1),N(G)};Qp();const Pe=Y9(),ce=ef(),ze=rf(),Fe=tf(),et=j.useMemo(()=>new Map(ne.map(G=>[G.id,G])),[ne]),jt=G=>{if(p==="All Time")return!0;const de=new Date(G),Le=new Date;if(p==="Today")return de.toDateString()===Le.toDateString();if(p==="This Week"){const Ie=Le.getDate()-Le.getDay(),vt=new Date(new Date().setDate(Ie)),xe=new Date(new Date().setDate(Ie+6));return de>=vt&&de<=xe}return p==="This Month"?de.getMonth()===Le.getMonth()&&de.getFullYear()===Le.getFullYear():p==="This Year"?de.getFullYear()===Le.getFullYear():p==="Custom"?!y.from||!y.to?!0:de>=new Date(y.from)&&de<=new Date(y.to):!0},qt=G=>{var de,Le;if((de=G.createdBy)!=null&&de.trim()){const Ie=et.get(G.createdBy);if(Ie!=null&&Ie.name)return Ie.name}if((Le=G.history)!=null&&Le.created){const Ie=G.history.created.match(/^(.+?)\s+created this order on/);if(Ie&&Ie[1])return Ie[1]}return null},Ir=j.useMemo(()=>{let G=U.filter(de=>jt(de.orderDate)).filter(de=>x==="All"||de.status===x);if(n.trim()){const de=n.toLowerCase();G=G.filter(Le=>{const Ie=t.getQueryData(["customer",Le.customerId]),vt=qt(Le);return Le.orderNumber.toLowerCase().includes(de)||(Ie==null?void 0:Ie.name.toLowerCase().includes(de))||(Ie==null?void 0:Ie.phone.includes(de))||(vt==null?void 0:vt.toLowerCase().includes(de))})}return G},[U,p,y,x,n]),tn=async G=>{if(confirm("Are you sure you want to delete this order?"))try{await Pe.mutateAsync(G),r.success("Order deleted successfully")}catch(de){console.error("Failed to delete order",de),r.error("Failed to delete order: "+(de instanceof Error?de.message:"Unknown error"))}},se=G=>{ye({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:G.total-G.paidAmount}),B(G)},yt=async()=>{if(!R)return;const G=R;try{let de=ge.find(Lr=>Lr.id===ie.accountId);if(!de){if(!ie.accountId){r.error("Please select an account");return}de={id:ie.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const Le=ie.amount<G.total,[Ie,vt]=ie.time.split(":").map(Number),xe=new Date(ie.date);xe.setHours(Ie,vt,0,0);const Qe=xe.toISOString(),pt={date:Qe,type:"Income",category:Se.settings.defaults.incomeCategoryId||"income_sales",accountId:ie.accountId,amount:G.total,description:`Payment for Order #${G.orderNumber}`,referenceId:G.id,contactId:G.customerId,paymentMethod:Se.settings.defaults.paymentMethod||"Cash",createdBy:a.id};if(Le){const Lr=G.total-ie.amount,Ft={date:Qe,type:"Expense",category:"expense_shipping",accountId:ie.accountId,amount:Lr,description:`Shipping costs for Order #${G.orderNumber}`,paymentMethod:Se.settings.defaults.paymentMethod||"Cash",createdBy:a.id};await Promise.all([ze.mutateAsync(pt),ze.mutateAsync(Ft)])}else await ze.mutateAsync(pt);const rn=ie.amount,vr=(G.paidAmount??0)+ie.amount,lr=De.COMPLETED;await Promise.all([Fe.mutateAsync({id:de.id,updates:{currentBalance:(de.currentBalance??0)+rn}}),ce.mutateAsync({id:G.id,updates:{paidAmount:vr,status:lr}})]),B(null),t.invalidateQueries({queryKey:["orders",L]})}catch(de){console.error("Failed to add payment:",de),r.error("Failed to add payment: "+(de instanceof Error?de.message:"Unknown error"))}};return c.jsxs("div",{className:"space-y-6 pb-12",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:"Orders"})}),c.jsx(Je,{onClick:()=>e("/orders/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Order"})]}),c.jsx(jd,{title:"Orders",filterRange:p,setFilterRange:ke,customDates:y,setCustomDates:te,statusTab:x,setStatusTab:pe,statusOptions:Object.values(De)}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Created By:"}),c.jsxs("select",{value:_,onChange:G=>_e(G.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Users"}),ne.some(G=>G.role===Ge.ADMIN)&&c.jsx("option",{value:"admins",children:"All Admins"}),ne.some(G=>G.role===Ge.EMPLOYEE)&&c.jsx("option",{value:"employees",children:"All Employees"}),c.jsx("optgroup",{label:"Specific Users",children:ne.map(G=>c.jsxs("option",{value:G.id,children:[G.name," ",G.role===Ge.ADMIN?"(Admin)":"(Employee)"]},G.id))})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-visible",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Order Details"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Customer"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Created By"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Status"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] text-right",children:"Net Amount"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] sm:hidden",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:D?c.jsx(Lp,{columns:5,rows:8}):Ir.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:"No sales orders found for this period."})}):Ir.map(G=>{var Qe,pt,rn,vr,lr,Lr;const de=l||G.status===De.ON_HOLD;G.createdBy,a==null||a.id;const Le=t.getQueryData(["customer",G.customerId]),Ie=t.getQueryState(["customer",G.customerId]),xe=D||(Ie==null?void 0:Ie.status)==="loading"||(Ie==null?void 0:Ie.isFetching)>0?"Loading...":(Le==null?void 0:Le.name)??"Unknown";return c.jsxs("tr",{onMouseEnter:()=>E(G.id),onMouseLeave:()=>E(null),onClick:()=>e(`/orders/${G.id}`),className:"group relative hover:bg-[#ebf4ff]/20 cursor-pointer transition-all",children:[c.jsxs("td",{className:"px-6 py-5",children:[c.jsxs("span",{className:"font-black text-gray-900",children:["#",G.orderNumber]}),c.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-1 tracking-tight",children:new Date(G.orderDate).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})})]}),c.jsxs("td",{className:"px-6 py-5",children:[c.jsx("span",{className:"text-sm font-bold text-gray-700",children:xe}),c.jsx("p",{className:"text-[10px] text-gray-400 font-medium mt-0.5",children:(Le==null?void 0:Le.phone)||""})]}),c.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500",children:qt(G)||""}),c.jsxs("td",{className:"px-6 py-5",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${Ip(G.status)}`,children:G.status}),G.status!==De.COMPLETED&&G.status!==De.CANCELLED&&((pt=(Qe=G.history)==null?void 0:Qe.courier)==null?void 0:pt.includes("Steadfast"))&&c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"inline-block w-5 h-5 rounded-full ml-2"}),G.status!==De.COMPLETED&&G.status!==De.CANCELLED&&((vr=(rn=G.history)==null?void 0:rn.courier)==null?void 0:vr.includes("CarryBee"))&&c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"inline-block w-5 h-5 rounded-full ml-2"})]}),c.jsxs("td",{className:"px-6 py-5 text-right",children:[c.jsx("span",{className:"font-black text-gray-900 text-base",children:we(G.total)}),G.paidAmount>0&&c.jsx("p",{className:"text-[10px] font-black uppercase tracking-tighter mt-1 text-green-500",children:`Paid: ${we(G.paidAmount)}`})]}),c.jsx("td",{className:"px-6 py-5 sm:hidden relative z-[999]",onClick:Ft=>Ft.stopPropagation(),children:c.jsxs("div",{className:"relative z-[999]",children:[c.jsx("button",{onClick:Ft=>{const Oa=Ft.currentTarget;C===G.id?(T(null),M(null)):(T(G.id),M(Oa))},className:"p-2 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg transition-all",children:ae.More}),c.jsx(K5,{anchorEl:P,open:C===G.id,onClose:()=>{T(null),M(null)},children:d?G.status===De.ON_HOLD?c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{e(`/orders/edit/${G.id}`),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit"]}),c.jsxs("button",{onClick:()=>{tn(G.id),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[ae.Delete," Delete"]})]}):null:c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{e(`/orders/edit/${G.id}`),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit"]}),G.status!==De.COMPLETED&&c.jsxs("button",{onClick:()=>{se(G),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Banking," Payment"]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{Ep(G.id,e),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Print," Print"]}),c.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Download," Download"]}),G.status!==De.PICKED&&G.status!==De.COMPLETED&&G.status!==De.CANCELLED&&G.status!==De.ON_HOLD&&!((lr=G.history)!=null&&lr.courier)&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{Y(G.id),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-[#0f2f57]",children:[c.jsx("img",{src:"../uploads/steadfast.png",alt:"Steadfast",className:"w-5 h-5 rounded-full"})," ",c.jsx("span",{children:"Add to Steadfast"})]}),c.jsxs("button",{onClick:()=>{me(G.id),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-[#0f2f57]",children:[c.jsx("img",{src:"../uploads/carrybee.png",alt:"CarryBee",className:"w-5 h-5 rounded-full"})," ",c.jsx("span",{children:"Add to CarryBee"})]})]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{tn(G.id),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[ae.Delete," Delete"]})]})})]})}),O===G.id&&(l||d&&G.status===De.ON_HOLD)&&c.jsx("td",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-10 animate-in fade-in slide-in-from-right-2 duration-200 hidden sm:table-cell",onClick:Ft=>Ft.stopPropagation(),children:c.jsx("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-[#ebf4ff]",children:d?G.status===De.ON_HOLD?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>e(`/orders/edit/${G.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:ae.Edit}),c.jsx("button",{onClick:()=>tn(G.id),className:"p-2.5 text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:ae.Delete})]}):null:c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>e(`/orders/edit/${G.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:ae.Edit}),G.status!==De.COMPLETED&&c.jsx("button",{onClick:()=>se(G),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Add Payment",children:ae.Banking}),c.jsx("button",{onClick:()=>Ep(G.id,e),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Print",children:ae.Print}),c.jsx("button",{className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Download PDF",children:ae.Download}),G.status!==De.PICKED&&G.status!==De.COMPLETED&&G.status!==De.CANCELLED&&G.status!==De.ON_HOLD&&!((Lr=G.history)!=null&&Lr.courier)&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"}),c.jsx("button",{onClick:()=>Y(G.id),className:"px-1 py-1 text-[9px] font-black hover:bg-[#ebf4ff] rounded-lg",title:"Send to Steadfast",children:c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-6 h-6 rounded-full"})}),c.jsx("button",{onClick:()=>me(G.id),className:"px-1 py-1 text-[9px] font-black hover:bg-orange-50 rounded-lg",title:"Send to CarryBee",children:c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-6 h-6 rounded-full"})}),c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"})]}),de&&c.jsx("button",{onClick:()=>tn(G.id),className:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:ae.Delete})]})})})]},G.id)})})]})})}),c.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[c.jsx("div",{className:"text-sm text-gray-600",children:`Showing ${Math.min((L-1)*h+1,Z||0)} - ${Math.min(L*h,Z||0)} of ${Z} orders`}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{disabled:L<=1,onClick:()=>V(G=>Math.max(1,G-1)),className:`px-3 py-1 rounded-md font-bold ${L<=1?"bg-gray-100 text-gray-400":"bg-white text-gray-700 border"}`,children:"Prev"}),c.jsxs("div",{className:"px-3 py-1 text-sm",children:["Page ",L," of ",q]}),c.jsx("button",{disabled:L>=q,onClick:()=>V(G=>Math.min(q,G+1)),className:`px-3 py-1 rounded-md font-bold ${L>=q?"bg-gray-100 text-gray-400":"bg-white text-gray-700 border"}`,children:"Next"})]})]}),c.jsx(Jw,{isOpen:!!R,onClose:()=>B(null),onSubmit:yt,accounts:ge,paymentForm:ie,setPaymentForm:ye,isLoading:ze.isPending||Fe.isPending||ce.isPending,title:"Receive Payment",buttonText:"Add Payment"}),c.jsx(UD,{isOpen:!!H,onClose:()=>Y(null),order:H?U.find(G=>G.id===H):null,customer:H?t.getQueryData(["customer",(Yt=U.find(G=>G.id===H))==null?void 0:Yt.customerId]):null}),c.jsx(zD,{isOpen:!!K,onClose:()=>me(null),order:K?U.find(G=>G.id===K):null,customer:K?t.getQueryData(["customer",(St=U.find(G=>G.id===K))==null?void 0:St.customerId]):null})]})},cT=()=>{const{id:e}=zn(),t=Et(),{user:r,isLoading:n}=_a();r==null||r.role,Ge.ADMIN;const a=(r==null?void 0:r.role)===Ge.EMPLOYEE,s=!!e;if(n)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Loading..."}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Authenticating session..."})]});if(!r)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(Je,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});const l=Ue(),[d,f]=j.useState(!1),[h,p]=j.useState(""),{data:g=[],isFetching:y}=nt({queryKey:["productsMini"],queryFn:km,staleTime:300*1e3,enabled:!1,refetchOnWindowFocus:!1});Ze.useEffect(()=>{if(!d)return;const xe=l.getQueryData(["products"]);(!xe||xe.length===0)&&l.fetchQuery({queryKey:["productsMini"],queryFn:km}).catch(()=>{})},[d,l]);const[v,x]=Ze.useState("");Ze.useEffect(()=>{const xe=setTimeout(()=>x(h.trim()),300);return()=>clearTimeout(xe)},[h]);const{data:w=[],isFetching:_}=nt({queryKey:["productsSearch",v],queryFn:()=>xD(v,100),enabled:d&&!!v,staleTime:60*1e3,refetchOnWindowFocus:!1}),N=l.getQueryData(["products"]),O=N&&N.length>0?N:v?w:g||[],{data:E}=Zw(s?e:void 0),{data:C}=Fp(),T=Qp(),P=ef(),M=Vr(),[R,B]=j.useState(""),[H,Y]=j.useState(new Date().toISOString().split("T")[0]),[K,me]=j.useState(""),[ie,ye]=j.useState([]),[L,V]=j.useState("0"),[ne,he]=j.useState("0"),[I,D]=j.useState(""),[U,Z]=j.useState(!1),[q,ge]=j.useState(""),[ve,pe]=Ze.useState("");Ze.useEffect(()=>{const xe=setTimeout(()=>pe(q.trim()),300);return()=>clearTimeout(xe)},[q]);const[ke,te]=j.useState(!1),[_e,Pe]=j.useState(null),ce=20,{data:ze,isFetching:Fe}=nt({queryKey:["customers",1,ce,""],queryFn:()=>_x(1,ce,""),enabled:U&&!ve,staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:et,isFetching:jt}=nt({queryKey:["customers","search",ve],queryFn:()=>_x(1,ce,ve),enabled:U&&!!ve,staleTime:300*1e3,refetchOnWindowFocus:!1}),qt=Ze.useRef(!1);Ze.useEffect(()=>{if(E&&!qt.current){if(s&&a&&E.status!==De.ON_HOLD){M.warning('Employees can only edit orders that are currently "On Hold".'),t("/orders");return}B(E.customerId),Y(E.orderDate),me(E.orderNumber),ye(E.items),V(String(E.discount??0)),he(String(E.shipping??0)),D(E.notes||""),qt.current=!0}else!s&&C&&me(`${C.prefix}${C.nextNumber}`)},[E,s,a,C,t,M,r==null?void 0:r.id]),Ze.useEffect(()=>{qt.current=!1},[e]);const Ir=Un();Ze.useEffect(()=>{try{const pt=new URLSearchParams(Ir.search).get("selectedCustomerId");if(pt){B(pt);const rn=window.location.pathname+window.location.hash;window.history.replaceState({},document.title,rn);return}}catch{}const xe=Ir&&Ir.state||{};if(xe.selectedCustomerId){B(xe.selectedCustomerId);try{window.history.replaceState({},document.title)}catch{}}},[Ir]);const tn=ie.reduce((xe,Qe)=>xe+Qe.amount,0),se=parseFloat(L)||0,yt=parseFloat(ne)||0,Yt=tn-se+yt,St=xe=>{const Qe=O.find(rn=>rn.id===xe);if(!Qe)return;const pt={productId:Qe.id,productName:Qe.name,rate:Qe.salePrice,quantity:1,amount:Qe.salePrice};ye([...ie,pt]),f(!1),p("")},G=(xe,Qe)=>{const pt=[...ie];pt[xe].quantity=Math.max(1,Qe),pt[xe].amount=pt[xe].rate*pt[xe].quantity,ye(pt)},de=xe=>{ye(ie.filter((Qe,pt)=>pt!==xe))},Le=async()=>{if(!R||ie.length===0||!K){const xe=R?ie.length?"Order number is not set. Please wait for it to load.":"Please add at least one product.":"Please select a customer.";Pe(xe),M.error(xe);return}if(!(r!=null&&r.id)){M.error("User session expired. Please log in again."),Pe("User session expired. Please log in again.");return}te(!0),Pe(null);try{const xe=ie.reduce((Oa,sl)=>Oa+sl.amount,0),Qe=parseFloat(L)||0,pt=parseFloat(ne)||0,rn=xe-Qe+pt,vr=new Date,lr=vr.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),Lr=vr.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),Ft={orderNumber:K,orderDate:H,customerId:R,createdBy:"",status:s&&E?E.status:De.ON_HOLD,items:ie,subtotal:xe,discount:Qe,shipping:pt,total:rn,notes:I,paidAmount:s&&E?E.paidAmount:0,history:s&&E?E.history:{created:`${r.name} created this order on ${lr}, at ${Lr}`}};s?(await P.mutateAsync({id:e,updates:Ft}),M.success("Order updated successfully"),t("/orders")):T.mutateAsync(Ft).then(Oa=>{te(!1),M.success("Order created successfully"),t(`/orders/${Oa.id}`)},Oa=>{te(!1);const sl=Oa instanceof Error?Oa.message:"Failed to save order";Pe(sl),M.error(sl)})}catch(xe){console.error("Failed to save order:",xe);const Qe=xe instanceof Error?xe.message:"Failed to save order";Pe(Qe),M.error(Qe),te(!1)}},Ie=ve?(et==null?void 0:et.data)||[]:(ze==null?void 0:ze.data)||[],vt=Ie.find(xe=>xe.id===R)||void 0;return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s?"Edit Order":"New Order"}),c.jsx("button",{onClick:()=>t("/orders"),className:"text-gray-500 hover:text-gray-700 font-medium text-sm px-4 py-2 border border-gray-200 rounded-lg bg-white transition-all",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-1 relative md:col-span-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Select Customer"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>Z(!U),className:"w-full text-left px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl hover:bg-white focus:ring-2 focus:ring-[#3c5a82] transition-all flex justify-between items-center group",children:[vt?c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("span",{className:"font-bold block text-sm text-gray-900",children:vt.name}),c.jsx("p",{className:"text-[10px] text-gray-500 leading-none mt-0.5",children:vt.phone}),c.jsx("p",{className:"text-[10px] ${theme.colors.primary[600]} italic truncate mt-1",children:vt.address})]}):c.jsx("span",{className:"text-gray-400 text-sm",children:"Select Customer..."}),c.jsx("div",{className:`transition-transform duration-200 ${U?"rotate-90":""}`,children:ae.ChevronRight})]}),U&&c.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full max-w-xs bg-white border border-gray-200 shadow-2xl rounded-lg z-[110] p-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search name or phone...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:q,onChange:xe=>ge(xe.target.value)})]}),c.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-0.5 custom-scrollbar",children:(Ie||[]).map(xe=>c.jsxs("button",{onClick:()=>{B(xe.id),Z(!1),ge("")},className:"w-full px-4 py-2.5 text-left hover:bg-[#ebf4ff] rounded-lg group transition-colors",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.primary[700]}",children:xe.name}),c.jsx("p",{className:"text-[10px] text-gray-400 group-hover:${theme.colors.primary[600]}/60",children:xe.phone})]},xe.id))}),c.jsx("button",{onClick:()=>{Z(!1),t("/customers/new",{state:{fromOrderForm:!0,redirectPath:s?`/orders/edit/${e}`:"/orders/new"}})},className:"w-full mt-2 py-3 ${theme.colors.primary[600]} text-[10px] font-black uppercase tracking-widest border-t border-gray-50 hover:bg-[#ebf4ff] transition-colors",children:"+ Add New Customer"})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Date"}),c.jsx("input",{type:"date",value:H,onChange:xe=>Y(xe.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] focus:bg-white transition-all cursor-pointer font-bold text-sm"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Number"}),c.jsx("input",{type:"text",readOnly:!0,value:K,placeholder:C?"Order number":"Loading...",className:"w-full px-4 py-3 bg-gray-100 border border-gray-100 rounded-xl font-mono ${theme.colors.primary[700]} text-sm font-bold"})]})]}),c.jsx("div",{className:"border border-gray-100 rounded-lg overflow-visible bg-white",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Product Item"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Rate"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Qty"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),c.jsx("th",{className:"px-4 py-4"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-50",children:[ie.map((xe,Qe)=>{var pt,rn;return c.jsxs("tr",{className:"group hover:bg-gray-50/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[((pt=O.find(vr=>vr.id===xe.productId))==null?void 0:pt.image)&&c.jsx("img",{src:(rn=O.find(vr=>vr.id===xe.productId))==null?void 0:rn.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-800 text-sm",children:xe.productName})]})}),c.jsx("td",{className:"px-4 py-4 text-center text-sm font-bold text-gray-600",children:we(xe.rate)}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsx("input",{type:"number",value:xe.quantity,onChange:vr=>G(Qe,parseInt(vr.target.value)),className:"w-16 text-center py-2 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold outline-none"})}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 text-sm",children:we(xe.amount)}),c.jsx("td",{className:"px-4 py-4 text-right",children:c.jsx("button",{onClick:()=>de(Qe),className:"p-2 text-red-200 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:ae.Delete})})]},Qe)}),c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-5 relative",children:c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>f(!d),className:"flex items-center gap-2 ${theme.colors.primary[600]} font-black text-[10px] uppercase tracking-widest hover:bg-[#ebf4ff] px-4 py-2.5 rounded-xl border-2 border-dashed border-[#c7dff5] transition-all",children:[ae.Plus," Add an item"]}),d&&c.jsxs("div",{className:"absolute top-full left-0 mt-3 w-full max-w-md bg-white border border-gray-200 shadow-2xl rounded-lg z-[100] p-2 overflow-hidden animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search catalog...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:h,onChange:xe=>p(xe.target.value)})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto space-y-0.5 custom-scrollbar",children:O.filter(xe=>xe.name.toLowerCase().includes(h.toLowerCase())).map(xe=>c.jsxs("button",{onClick:()=>St(xe.id),className:"flex items-center gap-4 w-full px-4 py-3 text-left hover:bg-[#ebf4ff] rounded-xl group transition-all",children:[xe.image&&c.jsx("img",{src:xe.image,className:"w-10 h-10 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.primary[700]} truncate",children:xe.name}),c.jsx("p",{className:"text-[10px] font-bold ${theme.colors.primary[600]}/60 uppercase tracking-widest",children:we(xe.salePrice)})]})]},xe.id))})]})]})})})]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-12 pt-6",children:[c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Notes / Terms"}),c.jsx("textarea",{placeholder:"Internal notes or special instructions for this order...",value:I,onChange:xe=>D(xe.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-100 rounded-lg h-32 focus:ring-2 focus:ring-[#3c5a82] focus:bg-white outline-none font-medium text-sm transition-all"})]}),c.jsxs("div",{className:"w-full md:w-96 space-y-4 bg-gray-50/50 p-8 rounded-lg border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-[12px] font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Subtotal"}),c.jsx("span",{className:"text-gray-900 font-black",children:we(tn)})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-[12px] font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Discount"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-gray-500 font-black",children:""}),c.jsx("input",{type:"number",value:L,onChange:xe=>V(xe.target.value),className:"w-20 text-right py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-[12px] font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Shipping"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-gray-500 font-black",children:""}),c.jsx("input",{type:"number",value:ne,onChange:xe=>he(xe.target.value),className:"w-20 text-right py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]})]}),c.jsxs("div",{className:"pt-6 border-t-4 border-[#c7dff5] flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-black text-gray-900 uppercase tracking-tighter",children:"Total"}),c.jsx("span",{className:"text-sm font-black text-[#3c5a82]",children:we(Yt)})]}),_e&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:_e instanceof Error?_e.message:String(_e)})}),c.jsx(Je,{onClick:Le,variant:"primary",size:"lg",className:"w-full mt-4",disabled:ke,loading:ke,children:s?"Update Order":"Create Order"})]})]})]})]})},qoe=()=>{var D,U,Z,q,ge,ve;const{id:e}=zn(),t=Et(),r=Ue(),n=Vr(),a=Se.currentUser,s=a.role===Ge.ADMIN,{data:l,isPending:d,error:f}=Zw(e||""),{data:h}=$p(l?l.customerId:void 0),{data:p=[]}=Li(),{data:g=[]}=t1(),{data:y=[]}=zs(),{data:v}=qp(),{data:x}=Kp(),w=ef();Qp();const _=rf(),N=tf(),[O,E]=j.useState(!1),[C,T]=j.useState(!1),[P,M]=j.useState(!1),[R,B]=j.useState({date:new Date().toISOString().split("T")[0],accountId:Se.settings.defaults.accountId||"",amount:0}),[H,Y]=j.useState(!1),K=l?p.find(pe=>pe.id===l.createdBy):void 0,me=a.role===Ge.EMPLOYEE,ie=l?l.createdBy===a.id:!1,ye=d;if(ye)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading order..."});if(f||!l)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(f==null?void 0:f.message)||"Order not found."});const L=async(pe,ke,te)=>{if(l)try{const _e={...l,status:pe,history:ke?{...l.history,[ke]:te}:l.history};await w.mutateAsync({id:e,updates:_e}),r.invalidateQueries({queryKey:["order",e]}),Y(!1)}catch(_e){console.error("Failed to update order status:",_e),n.error("Failed to update order status")}},V=async()=>{const pe=`Marked as processing by ${a.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await L(De.PROCESSING,"processing",pe)},ne=async()=>{const pe=`Marked as picked by courier, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await L(De.PICKED,"picked",pe)},he=async()=>{let pe=y.find(ze=>ze.id===R.accountId);if(!pe){if(!R.accountId){n.error("Please select an account");return}pe={id:R.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const ke=l.paidAmount+R.amount;new Date(R.date);const te=`Payment of ${we(R.amount)} received by ${a.name} on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`,_e=R.amount<l.total,Pe=De.COMPLETED,ce={...l,paidAmount:ke,status:Pe,history:{...l.history,payment:te}};try{const ze={id:Math.random().toString(36).substr(2,9),date:R.date,type:"Income",category:Se.settings.defaults.incomeCategoryId||"income_sales",accountId:R.accountId,amount:l.total,description:`Payment for Order #${l.orderNumber}`,referenceId:l.id,contactId:l.customerId,paymentMethod:Se.settings.defaults.paymentMethod||"Cash",createdBy:a.id};if(await _.mutateAsync(ze),_e){const jt=l.total-R.amount,qt={id:Math.random().toString(36).substr(2,9),date:R.date,type:"Expense",category:"expense_shipping",accountId:R.accountId,amount:jt,description:`Shipping costs for Order #${l.orderNumber}`,paymentMethod:Se.settings.defaults.paymentMethod||"Cash",createdBy:a.id};await _.mutateAsync(qt)}const Fe=R.amount,et=await Promise.allSettled([w.mutateAsync({id:e,updates:ce}),N.mutateAsync({id:R.accountId,updates:{currentBalance:pe.currentBalance+Fe}})]);if(et[0].status==="rejected"||et[1].status==="rejected"){const jt=et[0].status==="rejected"?"failed":"succeeded",qt=et[1].status==="rejected"?"failed":"succeeded";throw new Error(`Payment update failed: Order update ${jt}, Account update ${qt}`)}r.invalidateQueries({queryKey:["order",e]}),r.invalidateQueries({queryKey:["orders"]}),E(!1),n.success("Payment recorded successfully")}catch(ze){console.error("Failed to record payment:",ze),n.error("Failed to record payment")}},I=()=>{B({date:new Date().toISOString().split("T")[0],accountId:"",amount:l.total-l.paidAmount}),E(!0)};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsx(Jd,{isLoading:ye&&!l,message:"Loading order details..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/orders"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500 transition-all",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-md md:text-2xl font-bold text-gray-900",children:l.orderNumber}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${Ip(l.status)}`,children:l.status}),l.status!==De.COMPLETED&&l.status!==De.CANCELLED&&((U=(D=l.history)==null?void 0:D.courier)==null?void 0:U.includes("Steadfast"))&&c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-6 h-6 rounded-full"}),l.status!==De.COMPLETED&&l.status!==De.CANCELLED&&((q=(Z=l.history)==null?void 0:Z.courier)==null?void 0:q.includes("CarryBee"))&&c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-6 h-6 rounded-full"})]}),c.jsxs("div",{className:"flex items-center gap-2 relative",children:[c.jsxs("button",{onClick:()=>Ep(e,t),className:"hidden md:flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg bg-white hover:bg-gray-50 transition-all shadow-sm",children:[ae.Print," Print"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>Y(!H),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg ${oe.colors.primary[600]} text-white hover:${oe.colors.primary[700]} transition-all shadow-md`,children:[ae.More," ",c.jsx("span",{className:"hidden md:inline",children:"Actions"})]}),H&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>Y(!1)}),c.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-100 rounded-xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in duration-150 origin-top-right",children:[c.jsxs("button",{onClick:()=>{Ep(e,t),Y(!1)},className:"md:hidden w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Print," Print"]}),c.jsx("div",{className:"md:hidden border-t my-1"}),(s||ie||me&&l.status===De.ON_HOLD)&&c.jsxs("button",{onClick:()=>t(`/orders/edit/${l.id}`),className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit Order"]}),s&&l.status!==De.COMPLETED&&c.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",onClick:I,children:[ae.Banking," Add Payment"]}),c.jsx("div",{className:"border-t my-1"}),s&&c.jsxs("button",{onClick:()=>L(De.CANCELLED),disabled:l.status===De.COMPLETED,className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 disabled:hover:bg-gray-50 flex items-center gap-2 text-red-500 font-bold disabled:text-gray-300 disabled:cursor-not-allowed",children:[ae.Delete," Cancel Order"]})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[c.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden",children:c.jsxs("div",{className:"p-3 sm:p-4 md:p-6 lg:p-10 space-y-3 sm:space-y-4 lg:space-y-5",children:[c.jsxs("div",{className:"flex flex-row justify-between items-start gap-3 sm:gap-4 lg:gap-6",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[((v==null?void 0:v.logo)||Se.settings.company.logo)&&c.jsx("img",{src:(v==null?void 0:v.logo)||Se.settings.company.logo,className:"rounded-lg object-cover mb-2 sm:mb-3 lg:mb-4 w-auto h-auto",style:{maxWidth:"min(100px, 20%)",maxHeight:"auto"}}),c.jsx("h1",{className:"text-sm sm:text-base lg:text-xl font-black text-blue-600 uppercase tracking-tighter break-words",children:(v==null?void 0:v.name)||Se.settings.company.name}),c.jsxs("div",{className:"mt-1 sm:mt-2 text-[9px] sm:text-[10px] lg:text-xs text-gray-400 font-medium space-y-0.5 sm:space-y-1",children:[c.jsx("p",{className:"break-words",children:(v==null?void 0:v.address)||Se.settings.company.address}),c.jsxs("p",{className:"text-[8px] sm:text-[9px] break-words",children:[(v==null?void 0:v.phone)||Se.settings.company.phone,"  ",(v==null?void 0:v.email)||Se.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right flex-shrink-0",children:[c.jsx("h2",{className:"text-sm sm:text-2xl lg:text-3xl font-black text-gray-300 uppercase leading-none mb-1 sm:mb-2 break-words",children:(x==null?void 0:x.title)||Se.settings.invoice.title}),c.jsxs("div",{className:"space-y-0.5 sm:space-y-1 lg:space-y-1.5 text-[9px] sm:text-sm",children:[c.jsxs("p",{className:"text-[9px] sm:text-xs lg:text-sm font-bold text-gray-900",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Order No:"})," ",c.jsx("span",{className:"break-all",children:l.orderNumber})]}),c.jsxs("p",{className:"text-[9px] sm:text-xs lg:text-sm font-bold text-gray-900",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Date:"})," ",l.orderDate]})]})]})]}),c.jsxs("div",{className:"border-t border-gray-100 py-2 sm:py-3 lg:py-4",children:[c.jsx("p",{className:"text-[8px] sm:text-[9px] lg:text-[10px] font-black text-gray-400 uppercase tracking-[0.15em] sm:tracking-[0.2em] mb-2 sm:mb-3 lg:mb-4",children:"Billed To"}),c.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-black text-gray-900 break-words",children:h==null?void 0:h.name}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm text-gray-500 leading-relaxed break-words",children:h==null?void 0:h.address}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm font-bold text-cyan-600 mt-1 sm:mt-1.5 lg:mt-2 break-words",children:h==null?void 0:h.phone})]}),c.jsx("div",{className:"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6 lg:-mx-10",children:c.jsx("div",{className:"px-3 sm:px-4 md:px-6 lg:px-10",children:c.jsxs("table",{className:"w-full text-left text-[10px] sm:text-xs lg:text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100",children:[c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 font-black text-gray-400 uppercase",children:"Item Description"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Rate"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Qty"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-right font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:l.items.map((pe,ke)=>{const te=g.find(_e=>_e.id===pe.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-3 sm:py-4 lg:py-6",children:c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 min-w-0",children:[c.jsx("img",{src:te==null?void 0:te.image,className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 rounded-full object-cover border border-gray-100 shadow-sm flex-shrink-0"}),c.jsx("span",{className:"font-bold text-gray-900 text-[10px] sm:text-xs lg:text-base break-words",children:pe.productName})]})}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:we(pe.rate)}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:pe.quantity}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-right font-black text-gray-900 px-1 whitespace-nowrap",children:we(pe.amount)})]},ke)})})]})})}),c.jsx("div",{className:"flex flex-col items-end pt-2 sm:pt-3 lg:pt-6 px-0",children:c.jsxs("div",{className:"w-full sm:w-full md:w-98 lg:max-w-xs space-y-2 sm:space-y-3 lg:space-y-4",children:[c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:we(l.subtotal)})]}),l.discount>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500 flex-shrink-0",children:["-",we(l.discount)]})]}),l.shipping>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:we(l.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 sm:py-3 lg:py-4 border-t-2 border-[#0f2f57] gap-2",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter text-[11px] sm:text-xs lg:text-sm flex-shrink-0",children:"Net Total"}),c.jsx("span",{className:"font-black text-sm sm:text-base lg:text-lg flex-shrink-0",children:we(l.total)})]})]})}),l.notes&&c.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-[10px] border border-gray-100",children:[c.jsx("p",{className:"text-[8px] sm:text-[9px] lg:text-[10px] font-black text-gray-300 uppercase tracking-widest mb-1 sm:mb-2",children:"Terms & Notes"}),c.jsx("p",{className:"text-[9px] sm:text-[10px] lg:text-xs text-gray-600 font-medium italic leading-relaxed",children:l.notes})]})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"1. Creation"}),c.jsx("div",{className:"p-1 bg-[#ebf4ff]0 text-white rounded-full",children:ae.Plus})]}),c.jsx("div",{className:"p-5",children:c.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:l.history.created||`Created by ${(K==null?void 0:K.name)||"Unknown"} on ${l.orderDate}`})})]}),(ge=l.history)!=null&&ge.processing||!me?c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"2. Processing"}),c.jsx("div",{className:`p-1 rounded-full ${l.history.processing?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:ae.ChevronRight})]}),c.jsxs("div",{className:"p-5 space-y-4",children:[l.history.processing?c.jsx("p",{className:"text-xs ${theme.colors.primary[600]} leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:l.history.processing}):!me&&c.jsx("button",{disabled:l.status!==De.ON_HOLD,onClick:V,className:`w-full py-3 ${oe.colors.secondary[600]} hover:${oe.colors.secondary[700]} disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Mark as Processing"}),l.history.courier?c.jsx("p",{className:"text-xs text-gray-700 leading-relaxed font-bold bg-gray-50 p-3 rounded-xl",children:l.history.courier}):!me&&l.status!==De.PICKED&&l.status!==De.COMPLETED&&l.status!==De.CANCELLED&&l.status!==De.ON_HOLD&&!((ve=l.history)!=null&&ve.courier)&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>T(!0),className:"w-full py-3 bg-[#0f2f57] hover:bg-[#0a1f38] text-white font-bold rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:[c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-5 h-5 rounded-full"})," Add to Steadfast"]}),c.jsxs("button",{onClick:()=>M(!0),className:"w-full py-3 bg-[#0f2f57] hover:bg-[#0a1f38] text-white font-bold rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:[c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-5 h-5 rounded-full"})," Add to CarryBee"]})]})]})]}):null,l.history.picked||!me?c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"3. Courier Picked"}),c.jsx("div",{className:`p-1 rounded-full ${l.history.picked?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:ae.Courier})]}),c.jsx("div",{className:"p-5",children:l.history.picked?c.jsx("p",{className:"text-xs text-purple-600 leading-relaxed font-bold bg-purple-50 p-3 rounded-xl",children:l.history.picked}):!me&&c.jsx("button",{disabled:l.status!==De.PROCESSING,onClick:ne,className:"w-full py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95",children:"Mark as Picked"})})]}):null,l.history.payment||!me?c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"4. Payment"}),c.jsx("div",{className:`p-1 rounded-full ${l.paidAmount>=l.total?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:ae.Banking})]}),c.jsx("div",{className:"p-5 space-y-3",children:l.history.payment?c.jsx("div",{className:"space-y-2",children:c.jsx("p",{className:"text-xs ${theme.colors.primary[600]} leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:l.history.payment})}):!me&&c.jsxs("div",{className:"space-y-4 text-center",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Amount Due"}),c.jsx("p",{className:"text-2xl font-black text-gray-900",children:we(l.total-l.paidAmount)})]}),c.jsx("button",{onClick:I,className:`w-full py-3 ${oe.colors.primary[600]} hover:${oe.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Add Payment"})]})})]}):null]})]}),c.jsx(Jw,{isOpen:O,onClose:()=>E(!1),onSubmit:he,accounts:y,paymentForm:R,setPaymentForm:B,isLoading:w.isPending||_.isPending||N.isPending,title:"Record Payment",buttonText:"Add Payment"}),c.jsx(UD,{isOpen:C,onClose:()=>T(!1),order:l,customer:h}),c.jsx(zD,{isOpen:P,onClose:()=>M(!1),order:l,customer:h})]})},Nf=({page:e,totalPages:t,onPageChange:r,disabled:n})=>c.jsxs("div",{className:"flex items-center justify-between mt-4",children:[c.jsx("div",{className:"text-sm text-gray-600",children:`Page ${e} of ${t}`}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{disabled:n||e<=1,onClick:()=>r(Math.max(1,e-1)),className:`px-3 py-1 rounded-md font-bold ${e<=1?"bg-gray-100 text-gray-400":"bg-white text-gray-700 border"}`,children:"Prev"}),c.jsxs("div",{className:"px-3 py-1 text-sm",children:[e," / ",t]}),c.jsx("button",{disabled:n||e>=t,onClick:()=>r(Math.min(t,e+1)),className:`px-3 py-1 rounded-md font-bold ${e>=t?"bg-gray-100 text-gray-400":"bg-white text-gray-700 border"}`,children:"Next"})]})]}),Foe=()=>{const e=Et();Ue();const t=Vr(),{searchQuery:r}=Va(),n=Se.currentUser,{data:a}=Fs(),s=(a==null?void 0:a.recordsPerPage)||xt,[l,d]=j.useState(1),[f,h]=j.useState("All Time"),[p,g]=j.useState({from:"",to:""}),[y,v]=j.useState("All"),[x,w]=j.useState("all"),{data:_=[]}=Li(),N=j.useMemo(()=>{if(x!=="all")return x==="admins"?_.filter(q=>q.role===Ge.ADMIN).map(q=>q.id):x==="employees"?_.filter(q=>q.role===Ge.EMPLOYEE).map(q=>q.id):[x]},[x,_]),{data:O,isFetching:E}=B9(l,s,{from:p.from,to:p.to,search:r,createdByIds:N}),C=(O==null?void 0:O.data)??[],T=(O==null?void 0:O.count)??0,P=Math.max(1,Math.ceil(T/s)),{data:M=[]}=e1();j.useEffect(()=>{d(1)},[r,f,p.from,p.to,x]);const R=q=>{d(1),h(q),q!=="Custom"&&g({from:"",to:""})},B=q=>{d(1),g(q)},H=q=>{d(1),w(q)},[Y,K]=j.useState(null),[me,ie]=j.useState(null),[ye,L]=j.useState(null),V=ID(),ne=W9(),he=j.useMemo(()=>new Map(_.map(q=>[q.id,q])),[_]),I=q=>{var ge,ve;if((ge=q.createdBy)!=null&&ge.trim()){const pe=he.get(q.createdBy);if(pe!=null&&pe.name)return pe.name}if((ve=q.history)!=null&&ve.created){const pe=q.history.created.match(/Created by\s+(.+?)\s+on/);if(pe&&pe[1])return pe[1]}return null},D=C.filter(q=>y==="All"||q.status===y),U=async q=>{try{const ge=new Date,ve=ge.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),pe=ge.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),ke={billNumber:`PUR-${Math.floor(1e3+Math.random()*9e3)}`,billDate:new Date().toISOString().split("T")[0],vendorId:q.vendorId,createdBy:(n==null?void 0:n.id)||q.createdBy,status:xn.ON_HOLD,items:q.items,subtotal:q.subtotal,discount:q.discount,shipping:q.shipping,total:q.total,paidAmount:0,notes:q.notes,history:{created:`Created as duplicate on ${ve}, at ${pe}`}};await V.mutateAsync(ke)}catch(ge){console.error("Failed to duplicate bill:",ge),t.error("Failed to duplicate bill")}},Z=async q=>{if(confirm("Are you sure you want to delete this bill?"))try{await ne.mutateAsync(q),t.success("Bill deleted successfully")}catch(ge){console.error("Failed to delete bill:",ge),t.error("Failed to delete bill")}};return c.jsxs("div",{className:"space-y-6 pb-12",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:"Purchase Bills"})}),c.jsx(Je,{onClick:()=>e("/bills/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Bill"})]}),c.jsx(jd,{title:"Bills",filterRange:f,setFilterRange:R,customDates:p,setCustomDates:B,statusTab:y,setStatusTab:v,statusOptions:Object.values(xn)}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Created By:"}),c.jsxs("select",{value:x,onChange:q=>H(q.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Users"}),_.some(q=>q.role===Ge.ADMIN)&&c.jsx("option",{value:"admins",children:"All Admins"}),_.some(q=>q.role===Ge.EMPLOYEE)&&c.jsx("option",{value:"employees",children:"All Employees"}),c.jsx("optgroup",{label:"Specific Users",children:_.map(q=>c.jsxs("option",{value:q.id,children:[q.name," ",q.role===Ge.ADMIN?"(Admin)":"(Employee)"]},q.id))})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-visible",children:c.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Bill Details"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Vendor"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Created By"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Status"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] text-right",children:"Net Amount"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] sm:hidden",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:E?c.jsx(Lp,{columns:5,rows:8}):D.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:"No purchase bills found for this period."})}):D.map(q=>{var ge;return c.jsxs("tr",{onMouseEnter:()=>K(q.id),onMouseLeave:()=>K(null),onClick:()=>e(`/bills/${q.id}`),className:"group relative hover:bg-[#ebf4ff]/20 cursor-pointer transition-all",children:[c.jsxs("td",{className:"px-6 py-5",children:[c.jsxs("span",{className:"font-black text-gray-900",children:["#",q.billNumber]}),c.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-1 tracking-tight",children:q.billDate})]}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:"text-sm font-bold text-gray-700",children:((ge=M.find(ve=>ve.id===q.vendorId))==null?void 0:ge.name)||"Unknown Vendor"})}),c.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500",children:I(q)||""}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${Ip(q.status)}`,children:q.status})}),c.jsx("td",{className:"px-6 py-5 text-right",children:c.jsx("span",{className:"font-black text-gray-900 text-base",children:we(q.total)})}),c.jsx("td",{className:"px-6 py-5 sm:hidden relative z-[999]",onClick:ve=>ve.stopPropagation(),children:c.jsxs("div",{className:"relative z-[999]",children:[c.jsx("button",{onClick:ve=>{const pe=ve.currentTarget;me===q.id?(ie(null),L(null)):(ie(q.id),L(pe))},className:"p-2 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg transition-all",children:ae.More}),c.jsxs(K5,{anchorEl:ye,open:me===q.id,onClose:()=>{ie(null),L(null)},children:[c.jsxs("button",{onClick:()=>{e(`/bills/edit/${q.id}`),ie(null),L(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit"]}),c.jsxs("button",{onClick:()=>{U(q),ie(null),L(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Duplicate," Duplicate"]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{Z(q.id),ie(null),L(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[ae.Delete," Delete"]})]})]})}),Y===q.id&&c.jsx("td",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-10 animate-in fade-in slide-in-from-right-2 duration-200 hidden sm:table-cell",onClick:ve=>ve.stopPropagation(),children:c.jsxs("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-[#ebf4ff]",children:[c.jsx("button",{onClick:()=>e(`/bills/edit/${q.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:ae.Edit}),c.jsx("button",{onClick:()=>U(q),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Duplicate",children:ae.Duplicate}),c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"}),c.jsx("button",{onClick:()=>Z(q.id),className:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:ae.Delete})]})})]},q.id)})})]})})}),c.jsx(Nf,{page:l,totalPages:P,onPageChange:q=>d(q),disabled:E})]})},uT=()=>{const{id:e}=zn(),t=Et(),r=Se.currentUser,n=!!e;if(!r)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(Je,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});const a=Ue(),{data:s,isPending:l,error:d}=PD(e),[f,h]=j.useState(!1),[p,g]=j.useState(""),{data:y=[],isFetching:v}=nt({queryKey:["productsMini"],queryFn:km,staleTime:300*1e3,enabled:!1,refetchOnWindowFocus:!1});Ze.useEffect(()=>{if(!f)return;const de=a.getQueryData(["products"]);(!de||de.length===0)&&a.fetchQuery({queryKey:["productsMini"],queryFn:km}).catch(()=>{})},[f,a]);const[x,w]=Ze.useState("");Ze.useEffect(()=>{const de=setTimeout(()=>w(p.trim()),300);return()=>clearTimeout(de)},[p]);const{data:_=[],isFetching:N}=nt({queryKey:["productsSearch",x],queryFn:()=>xD(x,100),enabled:f&&!!x,staleTime:60*1e3,refetchOnWindowFocus:!1}),O=a.getQueryData(["products"]),E=O&&O.length>0?O:x?_:y||[],C=ID(),T=LD(),P=Vr(),[M,R]=j.useState(""),[B,H]=j.useState(new Date().toISOString().split("T")[0]),[Y,K]=j.useState(""),[me,ie]=j.useState([]),[ye,L]=j.useState(0),[V,ne]=j.useState(0),[he,I]=j.useState(""),[D,U]=j.useState(!1),[Z,q]=j.useState(""),[ge,ve]=Ze.useState("");Ze.useEffect(()=>{const de=setTimeout(()=>ve(Z.trim()),300);return()=>clearTimeout(de)},[Z]);const pe=20,{data:ke,isFetching:te}=nt({queryKey:["vendors",1,pe,""],queryFn:()=>Nx(1,pe,""),enabled:D&&!ge,staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:_e,isFetching:Pe}=nt({queryKey:["vendors","search",ge],queryFn:()=>Nx(1,pe,ge),enabled:D&&!!ge,staleTime:300*1e3,refetchOnWindowFocus:!1}),[ce,ze]=j.useState(!1),[Fe,et]=j.useState(null);Ze.useEffect(()=>{s?(R(s.vendorId),H(s.billDate),K(s.billNumber),ie(s.items),L(s.discount),ne(s.shipping),I(s.notes||"")):n||K(`PUR-${Math.floor(1e3+Math.random()*9e3)}`)},[s,n]);const jt=me.reduce((de,Le)=>de+Le.amount,0),qt=jt-ye+V,Ir=de=>{const Le=E.find(vt=>vt.id===de);if(!Le)return;const Ie={productId:Le.id,productName:Le.name,rate:Le.purchasePrice,quantity:1,amount:Le.purchasePrice};ie([...me,Ie]),h(!1),g("")},tn=(de,Le)=>{const Ie=[...me];Ie[de].quantity=Math.max(1,Le),Ie[de].amount=Ie[de].rate*Ie[de].quantity,ie(Ie)},se=de=>{ie(me.filter((Le,Ie)=>Ie!==de))},yt=async()=>{if(!M||me.length===0){et("Please select a vendor and add at least one product.");return}if(!(r!=null&&r.id)){et("User session expired. Please log in again.");return}ze(!0),et(null);try{const de=me.reduce((Qe,pt)=>Qe+pt.amount,0),Le=de-ye+V,Ie=new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),vt=new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),xe={billNumber:Y,billDate:B,vendorId:M,createdBy:r.id,status:n&&s?s.status:xn.ON_HOLD,items:me,subtotal:de,discount:ye,shipping:V,total:Le,notes:he,paidAmount:n&&s?s.paidAmount:0,history:n&&s?s.history:{created:`Created by ${r.name} on ${Ie}, at ${vt}`}};n?(await T.mutateAsync({id:e,updates:xe}),P.success("Bill updated successfully"),ze(!1),t("/bills")):C.mutateAsync(xe).then(Qe=>{ze(!1),P.success("Bill created successfully"),t(`/bills/${Qe.id}`)},Qe=>{ze(!1);const pt=Qe instanceof Error?Qe.message:"Failed to save bill";et(pt),P.error(pt)})}catch(de){console.error("Failed to save bill:",de);const Le=de instanceof Error?de.message:"Failed to save bill";et(Le),P.error(Le),ze(!1)}},Yt=ge?(_e==null?void 0:_e.data)||[]:(ke==null?void 0:ke.data)||[],St=Yt.find(de=>de.id===M)||void 0,G=Un();return Ze.useEffect(()=>{try{const de=new URLSearchParams(G.search),Le=de.get("selectedVendorId");if(Le){R(Le),U(!1),de.delete("selectedVendorId");const Ie=de.toString(),vt=`${G.pathname}${Ie?`?${Ie}`:""}`;t(vt,{replace:!0})}}catch{}},[G.search,Yt,t,G.pathname]),c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Bill":"New Purchase Bill"}),c.jsx("button",{onClick:()=>t("/bills"),className:"text-gray-500 hover:text-gray-700 font-medium text-sm px-4 py-2 border border-gray-200 rounded-lg bg-white transition-all",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-1 relative md:col-span-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Select Vendor"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>U(!D),className:"w-full text-left px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl hover:bg-white focus:ring-2 focus:ring-[#3c5a82] transition-all flex justify-between items-center group",children:[St?c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("span",{className:"font-bold block text-sm text-gray-900",children:St.name}),c.jsx("p",{className:"text-[10px] text-gray-500 leading-none mt-0.5",children:St.phone}),c.jsx("p",{className:"text-[10px] ${theme.colors.secondary[600]} italic truncate mt-1",children:St.address})]}):c.jsx("span",{className:"text-gray-400 text-sm",children:"Select Vendor..."}),c.jsx("div",{className:`transition-transform duration-200 ${D?"rotate-90":""}`,children:ae.ChevronRight})]}),D&&c.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full max-w-xs bg-white border border-gray-200 shadow-2xl rounded-lg z-[110] p-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search business...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:Z,onChange:de=>q(de.target.value)})]}),c.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-0.5 custom-scrollbar",children:(Yt||[]).map(de=>c.jsxs("button",{onClick:()=>{R(de.id),U(!1),q("")},className:"w-full px-4 py-2.5 text-left hover:bg-[#e6f0ff] rounded-lg group transition-colors",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.secondary[700]}",children:de.name}),c.jsx("p",{className:"text-[10px] text-gray-400 group-hover:${theme.colors.secondary[600]}/60",children:de.phone})]},de.id))}),c.jsx(Je,{onClick:()=>{U(!1),t("/vendors/new",{state:{fromBillForm:!0,redirectPath:n?`/bills/edit/${e}`:"/bills/new"}})},variant:"secondary",size:"sm",className:"w-full mt-2 text-[10px]",icon:ae.Plus,children:"Add New Vendor"})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bill Date"}),c.jsx("input",{type:"date",value:B,onChange:de=>H(de.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] focus:bg-white transition-all cursor-pointer font-bold text-sm"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bill Number"}),c.jsx("input",{type:"text",value:Y,onChange:de=>K(de.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl font-mono ${theme.colors.secondary[700]} text-sm font-bold"})]})]}),c.jsx("div",{className:"border border-gray-100 rounded-lg overflow-visible bg-white",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Product Item"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Cost Rate"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Qty"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),c.jsx("th",{className:"px-4 py-4"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-50",children:[me.map((de,Le)=>{var Ie,vt;return c.jsxs("tr",{className:"group hover:bg-gray-50/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[((Ie=E.find(xe=>xe.id===de.productId))==null?void 0:Ie.image)&&c.jsx("img",{src:(vt=E.find(xe=>xe.id===de.productId))==null?void 0:vt.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-800 text-sm",children:de.productName})]})}),c.jsx("td",{className:"px-4 py-4 text-center text-sm font-bold text-gray-600",children:we(de.rate)}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsx("input",{type:"number",value:de.quantity,onChange:xe=>tn(Le,parseInt(xe.target.value)),className:"w-16 text-center py-2 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold outline-none"})}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 text-sm",children:we(de.amount)}),c.jsx("td",{className:"px-4 py-4 text-right",children:c.jsx("button",{onClick:()=>se(Le),className:"p-2 text-red-200 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:ae.Delete})})]},Le)}),c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-5 relative",children:c.jsxs("div",{className:"relative",children:[c.jsx(Je,{onClick:()=>h(!f),variant:"secondary",size:"sm",icon:ae.Plus,className:"border-2 border-dashed border-[#c7e0f5]",children:"Add an item"}),f&&c.jsxs("div",{className:"absolute top-full left-0 mt-3 w-full max-w-md bg-white border border-gray-200 shadow-2xl rounded-lg z-[100] p-2 overflow-hidden animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search product...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:p,onChange:de=>g(de.target.value)})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto space-y-0.5 custom-scrollbar",children:E.filter(de=>de.name.toLowerCase().includes(p.toLowerCase())).map(de=>c.jsxs("button",{onClick:()=>Ir(de.id),className:"flex items-center gap-4 w-full px-4 py-3 text-left hover:bg-[#e6f0ff] rounded-xl group transition-all",children:[de.image&&c.jsx("img",{src:de.image,className:"w-10 h-10 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.secondary[700]} truncate",children:de.name}),c.jsxs("p",{className:"text-[10px] font-bold ${theme.colors.secondary[600]}/60 uppercase tracking-widest",children:["Cost: ",we(de.purchasePrice)]})]})]},de.id))})]})]})})})]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-12 pt-6",children:[c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Purchase Memo"}),c.jsx("textarea",{placeholder:"Bill details, vendor instructions, or delivery notes...",value:he,onChange:de=>I(de.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-100 rounded-lg h-32 focus:ring-2 focus:ring-[#3c5a82] focus:bg-white outline-none font-medium text-sm transition-all"})]}),c.jsxs("div",{className:"w-full md:w-96 space-y-4 bg-gray-50/50 p-8 rounded-[2rem] border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Subtotal"}),c.jsx("span",{className:"text-gray-900 font-black",children:we(jt)})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Discount"}),c.jsx("input",{type:"number",value:ye,onChange:de=>L(parseFloat(de.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Shipping"}),c.jsx("input",{type:"number",value:V,onChange:de=>ne(parseFloat(de.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]}),c.jsxs("div",{className:"pt-6 border-t-4 border-[#c7e0f5] flex justify-between items-center",children:[c.jsx("span",{className:"text-lg font-bold text-gray-900 uppercase tracking-tighter",children:"Total Bill"}),c.jsx("span",{className:"text-3xl font-black",children:we(qt)})]}),c.jsx(Je,{onClick:yt,variant:"primary",size:"lg",className:"w-full mt-4",loading:ce,disabled:ce,children:"Save Purchase Bill"})]})]})]})]})},Koe=()=>{var L,V,ne,he;const{id:e}=zn(),t=Et(),r=Ue(),n=Se.currentUser,{data:a,isPending:s,error:l}=PD(e||""),{data:d=[]}=e1(),{data:f=[]}=Li(),{data:h=[]}=zs(),{data:p=[]}=t1(),{data:g}=qp(),{data:y}=Kp(),v=LD(),x=rf(),w=tf(),_=Vr(),N=v.isPending||x.isPending||w.isPending,O=a?d.find(I=>I.id===a.vendorId):void 0,E=a?f.find(I=>I.id===a.createdBy):void 0,C=s,[T,P]=j.useState(!1),[M,R]=j.useState(!1),[B,H]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:Se.settings.defaults.accountId||"",amount:0});if(C)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading bill..."});if(l||!a)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(l==null?void 0:l.message)||"Bill not found."});const Y=async(I,D,U)=>{if(a)try{const Z={...a,status:I,history:D?{...a.history,[D]:U}:a.history};await v.mutateAsync({id:e,updates:Z}),r.invalidateQueries({queryKey:["bill",e]}),r.invalidateQueries({queryKey:["bills"]}),P(!1)}catch(Z){console.error("Failed to update bill status:",Z),_.error("Failed to update bill status")}},K=async()=>{const I=`Marked as processing by ${n.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await Y(xn.PROCESSING,"processing",I)},me=async()=>{const I=`Marked as received by ${n.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await Y(xn.RECEIVED,"received",I)},ie=async()=>{if(a)try{let I=h.find(ce=>ce.id===B.accountId);if(!I){if(!B.accountId){_.error("Please select an account");return}I={id:B.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const D=a.paidAmount+B.amount,U=`Payment of ${we(B.amount)} received by ${n.name} on ${new Date(B.date).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`,q=D>=a.total?xn.PAID:a.status,[ge,ve]=B.time.split(":").map(Number),pe=new Date(B.date);pe.setHours(ge,ve,0,0);const ke=pe.toISOString(),te={...a,paidAmount:D,status:q,history:{...a.history,paid:U},paidAt:B.date};try{const ce={id:Math.random().toString(36).substr(2,9),date:ke,type:"Expense",category:Se.settings.defaults.expenseCategoryId||"expense_purchases",accountId:B.accountId,amount:B.amount,description:`Payment for Bill #${a.billNumber}`,referenceId:a.id,contactId:a.vendorId,paymentMethod:Se.settings.defaults.paymentMethod||"Cash",createdBy:n.id};await x.mutateAsync(ce)}catch(ce){console.error("Failed to create transaction:",ce)}const _e=B.amount,Pe=await Promise.allSettled([v.mutateAsync({id:e,updates:te}),w.mutateAsync({id:B.accountId,updates:{currentBalance:I.currentBalance-_e}})]);if(Pe[0].status==="rejected"||Pe[1].status==="rejected"){const ce=Pe[0].status==="rejected"?"failed":"succeeded",ze=Pe[1].status==="rejected"?"failed":"succeeded";throw new Error(`Payment update failed: Bill update ${ce}, Account update ${ze}`)}r.invalidateQueries({queryKey:["bill",e]}),r.invalidateQueries({queryKey:["bills"]}),R(!1),_.success("Payment recorded successfully")}catch(I){console.error("Failed to record payment:",I),_.error("Failed to record payment")}},ye=()=>{a&&(H({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:a.total-a.paidAmount}),R(!0))};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsx(Jd,{isLoading:C&&!a,message:"Loading bill details..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/bills"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500 transition-all",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsxs("h2",{className:"text-md md:text-2xl font-bold text-gray-900",children:["#",a.billNumber]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${Ip(a.status)}`,children:a.status})]}),c.jsxs("div",{className:"flex items-center gap-2 relative",children:[c.jsxs("button",{className:"hidden md:flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg bg-white hover:bg-gray-50 transition-all",children:[ae.Print," Print Bill"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>P(!T),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg ${oe.colors.primary[600]} text-white hover:${oe.colors.primary[700]} transition-all shadow-md`,children:[ae.More," ",c.jsx("span",{className:"hidden md:inline",children:"Actions"})]}),T&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>P(!1)}),c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border rounded-xl shadow-xl z-50 py-2",children:[c.jsx("button",{onClick:()=>{window.print(),P(!1)},className:"md:hidden w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Print Bill"}),c.jsx("button",{onClick:()=>{window.print(),P(!1)},className:"md:hidden border-t w-full text-left px-4 py-2 text-sm hover:bg-gray-50"}),c.jsx("button",{onClick:()=>{K(),P(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Mark Processing"}),c.jsx("button",{onClick:()=>{me(),P(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Mark Received"}),c.jsx("div",{className:"border-t my-1"}),c.jsx("button",{onClick:()=>{ye(),P(!1)},disabled:a.paidAmount>=a.total,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 text-red-600 font-bold disabled:text-gray-300 disabled:cursor-not-allowed",children:"Record Payment"}),c.jsx("button",{onClick:()=>t(`/bills/edit/${a.id}`),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Edit Bill"})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[c.jsx("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:c.jsxs("div",{className:"p-3 sm:p-4 md:p-6 lg:p-8 space-y-6 sm:space-y-8",children:[c.jsxs("div",{className:"flex flex-row justify-between items-start gap-3 sm:gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[((g==null?void 0:g.logo)||Se.settings.company.logo)&&c.jsx("img",{src:(g==null?void 0:g.logo)||Se.settings.company.logo,className:"rounded-lg object-cover mb-2 sm:mb-3 lg:mb-4 w-auto h-auto",style:{maxWidth:"min(100px, 20%)",maxHeight:"auto"}}),c.jsx("h1",{className:"text-sm sm:text-base lg:text-xl font-black text-blue-600 uppercase tracking-tighter break-words",children:(g==null?void 0:g.name)||Se.settings.company.name}),c.jsxs("div",{className:"mt-1 sm:mt-2 text-[9px] sm:text-[10px] lg:text-xs text-gray-400 font-medium space-y-0.5 sm:space-y-1",children:[c.jsx("p",{className:"break-words",children:(g==null?void 0:g.address)||Se.settings.company.address}),c.jsxs("p",{className:"text-[8px] sm:text-[9px] break-words",children:[(g==null?void 0:g.phone)||Se.settings.company.phone,"  ",(g==null?void 0:g.email)||Se.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right flex-shrink-0",children:[c.jsx("h2",{className:"text-sm sm:text-2xl lg:text-3xl font-black text-gray-300 uppercase leading-none mb-1 sm:mb-2 break-words",children:(y==null?void 0:y.title)||Se.settings.invoice.title}),c.jsxs("div",{className:"space-y-0.5 sm:space-y-1 lg:space-y-1.5 text-[9px] sm:text-sm",children:[c.jsxs("p",{className:"text-[9px] sm:text-sm font-bold text-gray-900 break-words",children:["Bill No: #",a.billNumber]}),c.jsx("p",{className:"text-[9px] sm:text-sm text-gray-500",children:a.billDate})]})]})]}),c.jsxs("div",{className:"border-t border-gray-100 py-2 sm:py-3 lg:py-4",children:[c.jsx("p",{className:"text-[8px] sm:text-[9px] lg:text-[10px] font-black text-gray-400 uppercase tracking-[0.15em] sm:tracking-[0.2em] mb-2 sm:mb-3 lg:mb-4",children:"Bill From (Vendor)"}),c.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-black text-gray-900 break-words",children:O==null?void 0:O.name}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm text-gray-500 leading-relaxed break-words",children:O==null?void 0:O.address}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm font-bold text-cyan-600 mt-1 sm:mt-1.5 lg:mt-2 break-words",children:O==null?void 0:O.phone})]}),c.jsx("div",{className:"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6 lg:-mx-10",children:c.jsx("div",{className:"px-3 sm:px-4 md:px-6 lg:px-10",children:c.jsxs("table",{className:"w-full text-left text-[10px] sm:text-xs lg:text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100",children:[c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 font-black text-gray-400 uppercase",children:"Description"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Cost"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Qty"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-right font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:a.items.map((I,D)=>{const U=p.find(Z=>Z.id===I.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-3 sm:py-4 lg:py-6",children:c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 min-w-0",children:[c.jsx("img",{src:U==null?void 0:U.image,className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 rounded-full object-cover border border-gray-100 shadow-sm flex-shrink-0"}),c.jsx("span",{className:"font-bold text-gray-900 text-[10px] sm:text-xs lg:text-base break-words",children:I.productName})]})}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:we(I.rate)}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:I.quantity}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-right font-black text-gray-900 px-1 whitespace-nowrap",children:we(I.amount)})]},D)})})]})})}),c.jsx("div",{className:"flex flex-col items-end pt-2 sm:pt-3 lg:pt-6 px-0",children:c.jsxs("div",{className:"w-full sm:w-full md:w-98 lg:max-w-xs space-y-2 sm:space-y-3 lg:space-y-4",children:[c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:we(a.subtotal)})]}),a.discount>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500 flex-shrink-0",children:["-",we(a.discount)]})]}),a.shipping>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:we(a.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 sm:py-3 lg:py-4 border-t-2 border-[#0f2f57] gap-2",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter text-[11px] sm:text-xs lg:text-sm flex-shrink-0",children:"Total Payable"}),c.jsx("span",{className:"font-black text-sm sm:text-base lg:text-lg flex-shrink-0",children:we(a.total)})]})]})})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"1. Creation"}),c.jsx("div",{className:"p-1 bg-[#ebf4ff] text-white rounded-full",children:ae.Plus})]}),c.jsx("div",{className:"p-5",children:c.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:E!=null&&E.name?`${a.history.created} `:((L=a.history)==null?void 0:L.created)||"Creation information unavailable"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"2. Processing"}),c.jsx("div",{className:`p-1 rounded-full ${a.status===xn.PROCESSING?"bg-[#ebf4ff] text-white":"bg-gray-200 text-gray-400"}`,children:ae.ChevronRight})]}),c.jsx("div",{className:"p-5",children:(V=a.history)!=null&&V.processing?c.jsx("p",{className:"text-xs text-blue-600 leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:a.history.processing}):c.jsx("button",{disabled:a.status===xn.RECEIVED,onClick:K,className:`w-full py-3 ${oe.colors.secondary[600]} hover:${oe.colors.secondary[700]} disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Mark as Processing"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"3. Received"}),c.jsx("div",{className:`p-1 rounded-full ${a.status===xn.RECEIVED?"bg-green-100 text-green-600":"bg-gray-200 text-gray-400"}`,children:ae.ChevronRight})]}),c.jsx("div",{className:"p-5",children:(ne=a.history)!=null&&ne.received?c.jsx("p",{className:"text-xs text-green-600 leading-relaxed font-bold bg-green-50 p-3 rounded-xl",children:a.history.received}):c.jsx("button",{disabled:a.status===xn.ON_HOLD,onClick:me,className:"w-full py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95",children:"Mark as Received"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"4. Payment"}),c.jsx("div",{className:`p-1 rounded-full ${a.paidAmount>0?"bg-[#ebf4ff] text-white":"bg-gray-200 text-gray-400"}`,children:ae.Banking})]}),c.jsx("div",{className:"p-5 space-y-3",children:a.paidAmount>0?c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-blue-600 leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:(he=a.history)==null?void 0:he.paid}),a.paidAt&&c.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:["Payment Date: ",new Date(a.paidAt).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})]}),a.paidAmount<a.total&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-100 mt-2",children:[c.jsx("p",{className:"text-[10px] font-black text-yellow-600 uppercase",children:"Remaining Amount"}),c.jsx("p",{className:"text-lg font-black text-yellow-700",children:we(a.total-a.paidAmount)})]}),c.jsx("button",{onClick:ye,className:`w-full py-3 ${oe.colors.primary[600]} hover:${oe.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Add Balance Payment"})]})]}):c.jsxs("div",{className:"space-y-4 text-center",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Amount Due"}),c.jsx("p",{className:"text-2xl font-black text-gray-900",children:we(a.total-a.paidAmount)})]}),c.jsx("button",{onClick:ye,className:`w-full py-3 ${oe.colors.primary[600]} hover:${oe.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Record Payment"})]})})]})]})]}),c.jsx(Jw,{isOpen:M,onClose:()=>R(!1),onSubmit:ie,accounts:h,paymentForm:B,setPaymentForm:H,isLoading:N,title:"Record Payment",buttonText:"Add Payment"})]})},Qoe=()=>{const{data:e=[],isLoading:t}=zs(),{searchQuery:r}=Va(),n=X9(),a=J9(),s=Vr(),l=j.useMemo(()=>{if(!r.trim())return e;const _=r.toLowerCase();return e.filter(N=>N.name.toLowerCase().includes(_)||N.type.toLowerCase().includes(_))},[e,r]),[d,f]=j.useState(!1),[h,p]=j.useState(null),[g,y]=j.useState({name:"",type:"Bank",openingBalance:0}),v=async()=>{if(g.name)try{await n.mutateAsync({name:g.name,type:g.type,openingBalance:g.openingBalance,currentBalance:g.openingBalance}),f(!1),y({name:"",type:"Bank",openingBalance:0})}catch(_){console.error("Failed to create account:",_),s.error("Failed to create account. Please try again.")}},x=async _=>{const N=e.find(O=>O.id===_);if(N){if(N.currentBalance!==0){s.warning(`Cannot delete account "${N.name}" because it has a balance of ${N.currentBalance}. Please transfer the balance to another account first.`);return}if(confirm(`Are you sure you want to delete the account "${N.name}"?`))try{await a.mutateAsync(_),p(null)}catch(O){console.error("Failed to delete account:",O),s.error("Failed to delete account. Please try again.")}}},w=l.reduce((_,N)=>_+N.currentBalance,0);return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Jd,{isLoading:t,message:"Loading accounts..."}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Banking & Accounts"})}),c.jsx(Je,{onClick:()=>f(!0),variant:"primary",size:"md",icon:ae.Plus,disabled:n.isPending,children:"Add Account"})]}),c.jsxs("div",{className:`${oe.colors.primary[600]} rounded-xl p-8 text-white shadow-xl shadow-[#0f2f57]/20 relative overflow-hidden`,children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"text-[#c7dff5] font-medium text-sm mb-1 uppercase tracking-wider",children:"Total Combined Balance"}),c.jsx("h1",{className:"text-4xl font-black",children:we(w)}),c.jsxs("div",{className:"mt-8 flex gap-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[#a8c5e8] text-xs font-bold uppercase",children:"Bank Accounts"}),c.jsx("p",{className:"text-xl font-bold",children:e.filter(_=>_.type==="Bank").length})]}),c.jsx("div",{className:"w-px bg-[#0f2f57]/50 h-10"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[#a8c5e8] text-xs font-bold uppercase",children:"Cash Accounts"}),c.jsx("p",{className:"text-xl font-bold",children:e.filter(_=>_.type==="Cash").length})]})]})]}),c.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none",children:c.jsx("div",{className:"w-48 h-48 border-[24px] border-white rounded-full"})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(_=>c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow group relative",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:`p-3 rounded-xl ${_.type==="Bank"?`bg-[#e6f0ff] ${oe.colors.secondary[600]}`:"bg-orange-50 text-orange-600"}`,children:(_.type==="Bank",ae.Banking)}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>p(h===_.id?null:_.id),className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-lg transition-all",children:ae.More}),h===_.id&&c.jsx("div",{className:"absolute right-0 mt-1 w-40 bg-white border border-gray-100 rounded-lg shadow-lg z-50 py-1",children:c.jsxs("button",{onClick:()=>x(_.id),disabled:_.currentBalance!==0||a.isPending,className:`w-full text-left px-4 py-2.5 text-sm flex items-center gap-2 font-bold ${_.currentBalance!==0||a.isPending?"text-gray-400 cursor-not-allowed":"text-red-600 hover:bg-red-50"}`,title:_.currentBalance!==0?"Account must have zero balance to delete":"Delete account",children:[ae.Delete," Delete"]})})]})]}),c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:_.name}),c.jsxs("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-tight mb-4",children:[_.type," Account"]}),c.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-50",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Opening Balance"}),c.jsx("span",{className:"font-semibold text-gray-700",children:we(_.openingBalance)})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Current Balance"}),c.jsx("span",{className:"text-xl font-black",children:we(_.currentBalance)})]})]})]},_.id))}),d&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>f(!1)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 animate-in fade-in zoom-in duration-200",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Account"})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Account Name"}),c.jsx("input",{type:"text",placeholder:"e.g. City Bank - 0987",className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.name,onChange:_=>y({...g,name:_.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Account Type"}),c.jsxs("select",{className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.type,onChange:_=>y({...g,type:_.target.value}),children:[c.jsx("option",{value:"Bank",children:"Bank"}),c.jsx("option",{value:"Cash",children:"Cash"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Opening Balance"}),c.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.openingBalance,onChange:_=>y({...g,openingBalance:parseFloat(_.target.value)||0})})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-2xl flex gap-3",children:[c.jsx(Je,{onClick:()=>f(!1),variant:"ghost",disabled:n.isPending,children:"Cancel"}),c.jsx(Je,{onClick:v,variant:"primary",size:"md",className:"flex-1",disabled:n.isPending||!g.name,children:n.isPending?"Creating...":"Create Account"})]})]})]})]})},Hoe=()=>{const e=Et(),t=Ue();Vr();const{searchQuery:r}=Va(),{data:n}=Fs(),a=(n==null?void 0:n.recordsPerPage)||xt,[s,l]=j.useState("All Time"),[d,f]=j.useState({from:"",to:""}),[h,p]=j.useState("All"),[g,y]=j.useState("all"),[v,x]=j.useState(1),{data:w=[]}=Li(),_=j.useMemo(()=>{if(g!=="all")return g==="admins"?w.filter(I=>I.role===Ge.ADMIN).map(I=>I.id):g==="employees"?w.filter(I=>I.role===Ge.EMPLOYEE).map(I=>I.id):[g]},[g,w]),{data:N,isPending:O}=$9(v,a,{type:h==="All"?void 0:h,from:d.from,to:d.to,search:r,createdByIds:_}),E=(N==null?void 0:N.data)??[],C=(N==null?void 0:N.count)??0,T=Math.max(1,Math.ceil(C/a));Ze.useEffect(()=>{if(!E||E.length===0)return;Array.from(new Set(E.map(D=>D.contactId).filter(Boolean))).forEach(D=>{t.fetchQuery({queryKey:["customer",D],queryFn:()=>Rp(D)}).catch(()=>{}),t.fetchQuery({queryKey:["vendor",D],queryFn:()=>wD(D)}).catch(()=>{})})},[E,t]);const{data:P=[]}=Up(),{data:M=[]}=zp(),{data:R=[]}=qs();Z9(),j.useEffect(()=>{x(1)},[r,h,s,d.from,d.to,g]);const B=I=>{x(1),p(I)},H=I=>{x(1),l(I),I!=="Custom"&&f({from:"",to:""})},Y=I=>{x(1),f(I)},K=I=>{x(1),y(I)},me=j.useMemo(()=>new Map(w.map(I=>[I.id,I])),[w]),ie=I=>{if(s==="All Time")return!0;const D=new Date(I),U=new Date;if(s==="Today")return D.toDateString()===U.toDateString();if(s==="This Week"){const Z=U.getDate()-U.getDay(),q=Z+6,ge=new Date(new Date().setDate(Z)),ve=new Date(new Date().setDate(q));return D>=ge&&D<=ve}return s==="This Month"?D.getMonth()===U.getMonth()&&D.getFullYear()===U.getFullYear():s==="This Year"?D.getFullYear()===U.getFullYear():s==="Custom"?!d.from||!d.to?!0:D>=new Date(d.from)&&D<=new Date(d.to):!0},ye=I=>{var U,Z;if(!((U=I.createdBy)!=null&&U.trim()))return null;const D=me.get(I.createdBy);if(D!=null&&D.name)return D.name;if((Z=I.history)!=null&&Z.created){const q=I.history.created.match(/Created by (.+?) on/);if(q)return q[1]}return null},L=I=>{if(!I)return null;const D=t.getQueryData(["customer",I]);if(D)return{name:D.name,type:"Customer"};const U=t.getQueryData(["vendor",I]);return U?{name:U.name,type:"Vendor"}:null},V=j.useMemo(()=>{let I=E.filter(D=>ie(D.date)).filter(D=>h==="All"||D.type===h);if(r.trim()){const D=r.toLowerCase();I=I.filter(U=>{var ve,pe;const Z=U.contactId?L(U.contactId):null,q=ye(U),ge=((ve=R.find(ke=>ke.id===U.category))==null?void 0:ve.name)||U.category||"";return U.description.toLowerCase().includes(D)||ge.toLowerCase().includes(D)||U.type.toLowerCase().includes(D)||(Z==null?void 0:Z.name.toLowerCase().includes(D))||((pe=q==null?void 0:q.toLowerCase)==null?void 0:pe.call(q).includes(D))||we(U.amount).includes(D)})}return I},[E,s,d,h,r,R,w]),ne=(I,D)=>{try{const U=I&&I.toString().length>10?I:D||I||"",Z=new Date(U),q="Asia/Dhaka",ge=Z.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric",timeZone:q}),ve=Z.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:q});return{date:ge,time:ve}}catch{return{date:I||D||"",time:""}}},he=I=>{if(I.referenceId){if(P.some(Z=>Z.id===I.referenceId)){e(`/orders/${I.referenceId}`);return}if(M.some(Z=>Z.id===I.referenceId)){e(`/bills/${I.referenceId}`);return}}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900 tracking-tight",children:"Financial Transactions"})}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(Je,{onClick:()=>e("/transactions/new/income"),variant:"primary",size:"md",icon:ae.Plus,children:"Income"}),c.jsx(Je,{onClick:()=>e("/transactions/new/expense"),variant:"danger",size:"md",icon:ae.Minus,children:"Expense"})]})]}),c.jsx(jd,{title:"Transactions",filterRange:s,setFilterRange:H,customDates:d,setCustomDates:Y,statusTab:h,setStatusTab:B,statusOptions:["Income","Expense","Transfer"]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Created By:"}),c.jsxs("select",{value:g,onChange:I=>K(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Users"}),w.some(I=>I.role===Ge.ADMIN)&&c.jsx("option",{value:"admins",children:"All Admins"}),w.some(I=>I.role===Ge.EMPLOYEE)&&c.jsx("option",{value:"employees",children:"All Employees"}),c.jsx("optgroup",{label:"Specific Users",children:w.map(I=>c.jsxs("option",{value:I.id,children:[I.name," ",I.role===Ge.ADMIN?"(Admin)":"(Employee)"]},I.id))})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Type"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Contact"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:c.jsxs(c.Fragment,{children:["Category ",c.jsx("br",{})," Notes"]})}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:O?c.jsx(Lp,{columns:5,rows:8}):V.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-6 py-16 text-center text-gray-400 italic font-medium",children:"No transactions found."})}):V.map(I=>{var pe;const D=I.contactId?L(I.contactId):null,U=ye(I),Z=I.referenceId&&(P.some(ke=>ke.id===I.referenceId)||M.some(ke=>ke.id===I.referenceId)),q=!!I.referenceId,{date:ge,time:ve}=ne(I.date,I.createdAt);return c.jsxs("tr",{onClick:()=>he(I),className:`hover:bg-gray-50 transition-all group ${Z?"cursor-pointer":""}`,children:[c.jsx("td",{className:"px-6 py-5 text-sm font-bold text-gray-700",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-gray-900",children:ge}),c.jsx("span",{className:"text-[11px] text-gray-400 font-medium",children:ve})]})}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest ${I.type==="Income"?"bg-[#ebf4ff]":I.type==="Expense"?"bg-red-50 text-red-600":"bg-[#e6f0ff]"}`,children:I.type})}),c.jsx("td",{className:"px-6 py-5",children:q?D?c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:D.name}),c.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest",children:D.type})]}):c.jsx("span",{className:"text-gray-300 font-bold text-xs",children:""}):U?c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:U}),c.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest",children:"Created By"})]}):c.jsx("span",{className:"text-gray-300 font-bold text-xs",children:""})}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800",children:((pe=R.find(ke=>ke.id===I.category))==null?void 0:pe.name)||I.category}),c.jsx("p",{className:"text-xs text-gray-400 italic max-w-xs truncate",children:I.description})]})}),c.jsx("td",{className:"px-6 py-5 text-right",children:c.jsxs("span",{className:`font-black text-base ${I.type==="Income"?"text-emerald-600":I.type==="Expense"?"text-red-600":"text-black"}`,children:[I.type==="Income"?"+":I.type==="Expense"?"-":"",we(I.amount)]})})]},I.id)})})]})})}),c.jsx(Nf,{page:v,totalPages:T,onPageChange:I=>x(I),disabled:O})]})},Voe=()=>{var N;const{type:e}=zn(),t=Et(),r=Se.currentUser,n=e==="income",{data:a=[]}=zs(),{data:s}=Fs(),{data:l=[]}=MD(),{data:d=[]}=qs(),f=rf(),h=tf(),p=Vr(),g=j.useMemo(()=>d.filter(O=>O.type===(n?"Income":"Expense")),[d,n]),[y,v]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),paymentMethod:(s==null?void 0:s.paymentMethod)||"Cash",accountId:(s==null?void 0:s.accountId)||((N=a[0])==null?void 0:N.id)||"",amount:0,description:"",category:n?(s==null?void 0:s.incomeCategoryId)||"":(s==null?void 0:s.expenseCategoryId)||"",attachmentName:"",attachmentUrl:""}),x=O=>{var C;const E=(C=O.target.files)==null?void 0:C[0];if(E){const T=new FileReader;T.onload=()=>{v({...y,attachmentName:E.name,attachmentUrl:T.result})},T.readAsDataURL(E)}},w=f.isPending||h.isPending,_=async()=>{if(y.amount<=0){p.warning("Amount must be greater than 0");return}if(!y.accountId){p.warning("Please select an account");return}if(!y.category){p.warning("Please select a category");return}if(!(r!=null&&r.id)){p.warning("User session expired. Please log in again.");return}try{if(!n){const Y=a.find(K=>K.id===y.accountId);if(Y&&Y.currentBalance<y.amount){p.error(`Insufficient balance. Account has ${we(Y.currentBalance)} but transaction requires ${we(y.amount)}`);return}}const E=new Date(y.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),C=y.time,[T,P]=y.time.split(":").map(Number),M=new Date(y.date);M.setHours(T,P,0,0);const R=M.toISOString(),B={type:n?"Income":"Expense",date:R,paymentMethod:y.paymentMethod,accountId:y.accountId,amount:y.amount,description:y.description,category:y.category,attachmentName:y.attachmentName,attachmentUrl:y.attachmentUrl,createdBy:r.id,history:{created:`Created by ${r.name} on ${E}, at ${C}`}};await f.mutateAsync(B);const H=a.find(Y=>Y.id===y.accountId);if(H){const Y=n?H.currentBalance+y.amount:H.currentBalance-y.amount;await h.mutateAsync({id:y.accountId,updates:{currentBalance:Y}})}t("/transactions")}catch(O){console.error("Failed to save transaction:",O),p.error("Failed to save transaction: "+(O instanceof Error?O.message:"Unknown error"))}};return c.jsxs("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[c.jsx("div",{children:c.jsxs("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:["Record ",n?"Income":"Expense"]})}),c.jsx("button",{onClick:()=>t(-1),className:"p-3 text-gray-400 hover:text-gray-600 bg-white border border-gray-100 rounded-lg shadow-sm",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l18 18"})})})]}),c.jsxs("div",{className:"bg-white p-8 lg:p-12 rounded-lg border border-gray-100 shadow-xl shadow-gray-200/20 space-y-10",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Amount (BDT)"}),c.jsx("input",{type:"number",className:`w-full text-xl font-black px-6 py-4 bg-gray-50 border-2 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl transition-all outline-none ${n?"${theme.colors.primary[600]}":"text-red-600"}`,value:y.amount,onChange:O=>v({...y,amount:parseFloat(O.target.value)||0}),placeholder:"0.00"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Date"}),c.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:y.date,onChange:O=>v({...y,date:O.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Time"}),c.jsx("input",{type:"time",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:y.time,onChange:O=>v({...y,time:O.target.value})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Connected Account"}),c.jsx("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.accountId,onChange:O=>v({...y,accountId:O.target.value}),children:a.map(O=>c.jsx("option",{value:O.id,children:O.name},O.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Category"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.category,onChange:O=>v({...y,category:O.target.value}),children:[c.jsx("option",{value:"",children:"Select a category"}),g.map(O=>c.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Payment Method"}),c.jsx("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.paymentMethod,onChange:O=>v({...y,paymentMethod:O.target.value}),children:l.map(O=>c.jsx("option",{value:O.name,children:O.name},O.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Attachment"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"file",className:"hidden",id:"file-upload",onChange:x}),c.jsx("label",{htmlFor:"file-upload",className:"w-full px-6 py-4 bg-gray-50 border-transparent hover:bg-gray-100 rounded-lg font-bold pl-14 flex items-center cursor-pointer transition-colors",children:y.attachmentName||"Choose file to upload"}),c.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400",children:ae.Print})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Description"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 outline-none",placeholder:"What was this transaction for?",value:y.description,onChange:O=>v({...y,description:O.target.value})})]}),c.jsxs(Je,{onClick:_,variant:n?"primary":"danger",size:"lg",className:"w-full",disabled:w,loading:w,children:["Finalize ",n?"Income":"Expense"]})]})]})},Goe=()=>{Et();const e=Ue(),t=Se.currentUser,{data:r=[]}=zs(),n=rf(),a=tf(),s=Vr(),[l,d]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),fromAccountId:"",toAccountId:"",amount:0,description:""}),f=async()=>{if(!l.amount||!l.fromAccountId||!l.toAccountId){s.warning("Please fill in all fields.");return}if(l.fromAccountId===l.toAccountId){s.warning("Cannot transfer to the same account.");return}const h=r.find(g=>g.id===l.fromAccountId),p=r.find(g=>g.id===l.toAccountId);if(h&&p){if(h.currentBalance<l.amount){s.warning("Insufficient balance in source account.");return}try{const[g,y]=l.time.split(":").map(Number),v=new Date(l.date);v.setHours(g,y,0,0);const x=v.toISOString();await Promise.all([n.mutateAsync({type:"Transfer",date:x,accountId:l.fromAccountId,toAccountId:l.toAccountId,amount:l.amount,description:l.description||`Transfer from ${h.name} to ${p.name}`,category:"Transfer",paymentMethod:"Internal Transfer",createdBy:t.id}),Promise.all([a.mutateAsync({id:l.fromAccountId,updates:{currentBalance:h.currentBalance-l.amount}}),a.mutateAsync({id:l.toAccountId,updates:{currentBalance:p.currentBalance+l.amount}})])]),s.success("Transfer completed successfully"),e.invalidateQueries({queryKey:["accounts"]}),d({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),fromAccountId:"",toAccountId:"",amount:0,description:""})}catch(g){console.error("Transfer failed:",g),s.error("Failed to complete transfer: "+(g instanceof Error?g.message:"Unknown error"))}}};return c.jsxs("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:[c.jsx("div",{className:"mb-8 flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:"Fund Transfer"}),c.jsx("p",{className:"text-gray-500 font-medium",children:"Move balances between your business accounts"})]})}),c.jsxs("div",{className:"bg-white p-8 lg:p-12 rounded-lg border border-gray-100 shadow-xl space-y-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Amount to Transfer (BDT)"}),c.jsx("input",{type:"number",className:`w-full text-xl font-black px-6 py-4 bg-[#ebf4ff] border-2 border-transparent focus:border-[#3c5a82] rounded-xl transition-all outline-none ${oe.colors.primary[600]}`,value:l.amount,onChange:h=>d({...l,amount:parseFloat(h.target.value)||0}),placeholder:"0.00"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"From Account (Source)"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-bold",value:l.fromAccountId,onChange:h=>d({...l,fromAccountId:h.target.value}),children:[c.jsx("option",{value:"",children:"Select an account"}),r.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",we(h.currentBalance),")"]},h.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"To Account (Destination)"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-bold",value:l.toAccountId,onChange:h=>d({...l,toAccountId:h.target.value}),children:[c.jsx("option",{value:"",children:"Select an account"}),r.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",we(h.currentBalance),")"]},h.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Transfer Date"}),c.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:l.date,onChange:h=>d({...l,date:h.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Transfer Time"}),c.jsx("input",{type:"time",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:l.time,onChange:h=>d({...l,time:h.target.value})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Memo / Description"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 outline-none",placeholder:"Reason for transfer...",value:l.description,onChange:h=>d({...l,description:h.target.value})})]}),c.jsx(Je,{onClick:f,variant:"primary",size:"lg",className:"w-full",disabled:n.isPending||a.isPending,children:n.isPending||a.isPending?"Processing Transfer...":"Execute Transfer"})]})]})},Yoe=()=>{const e=Et();Ue();const t=Vr(),{searchQuery:r}=Va(),{user:n}=_a(),{data:a}=Fs(),s=(a==null?void 0:a.recordsPerPage)||xt,[l,d]=j.useState(1),{data:f=[]}=Li(),[h,p]=j.useState("all"),g=j.useMemo(()=>{if(h!=="all")return h==="admins"?f.filter(B=>B.role===Ge.ADMIN).map(B=>B.id):h==="employees"?f.filter(B=>B.role===Ge.EMPLOYEE).map(B=>B.id):[h]},[h,f]),{data:y,isFetching:v}=z9(l,s,r,void 0,g),x=(y==null?void 0:y.data)??[],w=(y==null?void 0:y.count)??0,_=Math.max(1,Math.ceil(w/s)),N=sF(),O=(n==null?void 0:n.role)===Ge.ADMIN,[E,C]=j.useState("All Time"),[T,P]=j.useState({from:"",to:""});j.useEffect(()=>{d(1)},[r,h]);const M=x,R=async B=>{if(confirm("Are you sure you want to delete this product?"))try{await N.mutateAsync(B),t.success("Product deleted successfully")}catch(H){console.error("Failed to delete product:",H),t.error("Failed to delete product")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Products Catalog"})}),O&&c.jsx(Je,{onClick:()=>e("/products/new"),variant:"primary",size:"md",icon:ae.Plus,children:"Add Product"})]}),c.jsx(Bp,{columns:[{key:"name",label:"Name",render:(B,H)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:H.image||"https://via.placeholder.com/100",alt:H.name,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("div",{children:c.jsx("p",{className:"font-bold text-gray-900",children:H.name})})]})},{key:"category",label:"Category",render:B=>c.jsx("span",{className:"px-2.5 py-1 bg-[#ebf4ff] rounded-lg text-[10px] font-black uppercase tracking-widest",children:B})},{key:"salePrice",label:O?c.jsxs(c.Fragment,{children:["Sale Price",c.jsx("br",{}),"Purchase Price"]}):c.jsx(c.Fragment,{children:"Sale Price"}),render:(B,H)=>c.jsxs("div",{className:"flex flex-col gap-0.5",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-sm font-bold",children:we(H.salePrice)})}),O&&c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-[11px] font-bold text-gray-600",children:we(H.purchasePrice)})})]})},...O?[{key:"id",label:"Actions",align:"right",render:B=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(Is,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:H=>{H.stopPropagation(),e(`/products/edit/${B}`)}}),c.jsx(Is,{icon:ae.Delete,variant:"danger",title:"Delete",onClick:H=>{H.stopPropagation(),R(B)}})]})}]:[]],data:M,loading:v,emptyMessage:"No products found"}),c.jsx(Nf,{page:l,totalPages:_,onPageChange:B=>d(B),disabled:v})]})},dT=()=>{const{id:e}=zn(),t=Et(),r=!!e,n=Se.currentUser;if(!n)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(Je,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});if(r&&n.role===Ge.EMPLOYEE)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot edit products. Contact an administrator for assistance."}),c.jsx(Je,{onClick:()=>t("/products"),variant:"primary",children:"Back to Products"})]});const{data:a}=q9(r?e:void 0),{data:s=[],isPending:l}=qs("Product"),d=aF(),f=iF(),[h,p]=j.useState({name:"",category:"",image:"",salePrice:0,purchasePrice:0}),[g,y]=j.useState(!1),[v,x]=j.useState(null);Ze.useEffect(()=>{a&&p(a)},[a]);const w=N=>{var E;const O=(E=N.target.files)==null?void 0:E[0];if(O){const C=new FileReader;C.onload=()=>{p({...h,image:C.result})},C.readAsDataURL(O)}},_=async()=>{if(!h.name||!h.category){x("Name and category are required");return}y(!0),x(null);try{const N={name:h.name||"",category:h.category||"",image:h.image||"https://picsum.photos/200/200?random="+Math.random(),salePrice:h.salePrice||0,purchasePrice:h.purchasePrice||0};r?(await f.mutateAsync({id:e,updates:N}),t("/products")):d.mutateAsync(N).then(()=>{t("/products")},O=>{y(!1),x(O instanceof Error?O.message:"Failed to create product")})}catch(N){console.error("Failed to save product:",N),x(N instanceof Error?N.message:"Failed to save product"),y(!1)}};return c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Product":"Add Product"}),c.jsx("button",{onClick:()=>t("/products"),className:"px-4 py-2 border rounded-xl text-gray-500 font-bold bg-white hover:bg-gray-50",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Product Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:h.name,onChange:N=>p({...h,name:N.target.value}),placeholder:"e.g. Cotton Polo T-Shirt"})]}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Category"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:h.category,onChange:N=>p({...h,category:N.target.value}),disabled:l,children:[c.jsx("option",{value:"",children:l?"Loading...":"Select Category..."}),s.map(N=>c.jsx("option",{value:N.name,children:N.name},N.id))]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Product Image"}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"w-24 h-24 rounded-lg border border-dashed border-gray-300 flex items-center justify-center overflow-hidden bg-gray-50",children:h.image?c.jsx("img",{src:h.image,className:"w-full h-full object-cover"}):c.jsx("span",{className:"text-gray-300 text-xs text-center p-2",children:"No image"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("input",{type:"file",id:"product-image",className:"hidden",onChange:w}),c.jsx("label",{htmlFor:"product-image",className:"inline-block px-6 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-xl cursor-pointer transition-all",children:"Upload File"}),c.jsx("p",{className:"text-[10px] text-gray-400 mt-2 font-medium",children:"Recommended size: 500x500px. JPG, PNG supported."})]})]})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sale Price (BDT)"}),c.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold",value:h.salePrice,onChange:N=>p({...h,salePrice:parseFloat(N.target.value)||0})})]}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Purchase Price (BDT)"}),c.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82] text-gray-600 font-bold",value:h.purchasePrice,onChange:N=>p({...h,purchasePrice:parseFloat(N.target.value)||0})})]})]}),c.jsxs("div",{className:"pt-6 space-y-4",children:[v&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:v instanceof Error?v.message:String(v)})}),c.jsx(Je,{onClick:_,variant:"primary",size:"lg",className:"w-full",disabled:g,children:g?"Saving...":r?"Update Product Item":"Create Product Item"})]})]})]})},Woe=()=>{const e=Et(),{user:t}=_a(),{searchQuery:r}=Va(),{data:n=[],isPending:a}=Li(),s=(t==null?void 0:t.role)===Ge.ADMIN,l=j.useMemo(()=>{if(!r.trim())return n;const d=r.toLowerCase();return n.filter(f=>f.name.toLowerCase().includes(d)||f.phone.includes(d)||f.role.toLowerCase().includes(d))},[n,r]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Application Users"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Manage staff accounts and system permissions"})]}),s&&c.jsx(Je,{onClick:()=>e("/users/new"),variant:"primary",size:"md",icon:ae.Plus,children:"Add User"})]}),c.jsx(Bp,{columns:[{key:"name",label:"User",render:(d,f)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:f.image||"https://picsum.photos/100/100?random="+f.id,className:"w-10 h-10 rounded-full object-cover border"}),c.jsx("span",{className:"font-bold text-gray-900",children:f.name})]})},{key:"role",label:"Role",render:d=>c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${d===Ge.ADMIN?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:d})},{key:"phone",label:"Contact",render:d=>c.jsx("span",{className:"text-sm text-gray-600",children:d})},{key:"id",label:"Actions",align:"right",render:d=>c.jsx(Is,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:f=>{f.stopPropagation(),e(`/users/edit/${d}`)}})}],data:l,onRowClick:d=>e(`/users/${d.id}`),emptyMessage:"No users found",loading:a})]})},fT=()=>{const{id:e}=zn(),t=Et(),r=!!e,{data:n,isPending:a,error:s}=TD(r?e:void 0),l=eF(),d=BD(),f=$D(),h=Vr(),[p,g]=j.useState(!1),[y,v]=j.useState(!1),[x,w]=j.useState(!1),[_,N]=j.useState({name:"",phone:"",password:"",role:Ge.EMPLOYEE,image:""});Ze.useEffect(()=>{n&&N(n)},[n]);const O=localStorage.getItem("currentUser"),E=O?JSON.parse(O):null,C=(E==null?void 0:E.role)===Ge.ADMIN,T=(E==null?void 0:E.id)===e,P=a,M=H=>{var K;const Y=(K=H.target.files)==null?void 0:K[0];if(Y){const me=new FileReader;me.onload=()=>{N({..._,image:me.result})},me.readAsDataURL(Y)}},R=async()=>{if(!_.name||!_.phone||C&&!r&&!_.password){h.warning("Please fill mandatory fields (Name, Phone, Password)");return}g(!0);try{if(r&&e){const H={name:_.name,phone:_.phone,image:_.image};if(C&&(_.password&&(H.password=_.password),_.role&&(H.role=_.role)),await d.mutateAsync({id:e,updates:H}),T&&E){const Y={...E,...H};localStorage.setItem("currentUser",JSON.stringify(Y))}}else{if(!C){h.error("Only admins can add users"),g(!1);return}await l.mutateAsync({name:_.name||"",phone:_.phone||"",password:_.password||"",role:_.role||Ge.EMPLOYEE,image:_.image||""})}h.success(r?"User updated successfully!":"User created successfully!"),t("/users")}catch(H){console.error("Failed to save user:",H);const Y=aA(H);h.error("Failed to save user: "+Y)}finally{g(!1)}},B=async()=>{if(e){g(!0);try{await f.mutateAsync(e),h.success("User deleted successfully!"),t("/users")}catch(H){console.error("Failed to delete user:",H);const Y=aA(H);h.error("Failed to delete user: "+Y)}finally{g(!1),w(!1)}}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:r?"Edit Profile":"Add User"}),c.jsx("button",{onClick:()=>t("/users"),className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-500 hover:bg-gray-50",children:"Cancel"})]}),r&&P&&c.jsx("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm text-center text-gray-500",children:"Loading user details..."}),s&&c.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-100 text-red-700",children:s.message||"User not found"}),(!r||!P)&&c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-6 p-6 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-20 h-20 rounded-[50%] overflow-hidden bg-white border",children:c.jsx("img",{src:_.image||`https://ui-avatars.com/api/?name=${_.name||"User"}&background=10b981&color=fff`,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-2",children:"Profile Photo"}),c.jsx("input",{type:"file",id:"user-pfp",className:"hidden",onChange:M}),c.jsx("label",{htmlFor:"user-pfp",className:`cursor-pointer px-4 py-2 ${oe.colors.primary[600]} text-white text-xs font-bold rounded-lg hover:${oe.colors.primary[700]}`,children:"Upload Picture"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Full Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:_.name,onChange:H=>N({..._,name:H.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Phone Number"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:_.phone,onChange:H=>N({..._,phone:H.target.value})})]}),C&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Password (Admin Only Access)"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:y?"text":"password",className:"w-full px-4 py-3 pr-10 bg-purple-50 border border-purple-100 rounded-xl focus:ring-2 focus:ring-purple-500",value:_.password,onChange:H=>N({..._,password:H.target.value}),placeholder:r?"Leave blank to keep current password":"Secure system password"}),c.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-purple-500 hover:text-purple-700",children:y?c.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),c.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-14-14zM10 4C6.687 4 3.89 5.945 2.58 8.808c-.35.915-.35 2.468 0 3.384.74 1.94 2.08 3.61 3.756 4.7l1.83-1.83A3.992 3.992 0 016 10a4 4 0 016.956-3.533l1.416-1.416C14.225 4.523 12.15 4 10 4zm7.42 3.192c.35.915.35 2.468 0 3.384C15.26 13.055 12.463 15 9 15a6.966 6.966 0 01-3.15-.744l2.119-2.119A3.992 3.992 0 0114 10c0-.901-.281-1.735-.743-2.434l2.163-2.174z",clipRule:"evenodd"})})})]}),c.jsx("p",{className:"text-[10px] text-purple-400 font-medium",children:"Only administrators can set or change passwords."})]}),C&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"System Role"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:_.role,onChange:H=>N({..._,role:H.target.value}),children:[c.jsx("option",{value:Ge.EMPLOYEE,children:"Employee"}),c.jsx("option",{value:Ge.ADMIN,children:"Administrator"})]})]})]}),c.jsxs("div",{className:"pt-6 space-y-3",children:[c.jsx(Je,{onClick:R,variant:"primary",size:"lg",className:"w-full",disabled:p,children:p?"Saving...":"Save Details"}),r&&C&&c.jsx("button",{onClick:()=>w(!0),disabled:p,className:"w-full px-4 py-3 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Delete User"})]})]}),x&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-sm w-full p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete User?"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:["Are you sure you want to delete ",c.jsx("strong",{children:_.name}),"? This action cannot be undone."]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>w(!1),disabled:p,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:B,disabled:p,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:p?"Deleting...":"Delete"})]})]})})]})},Xoe=()=>{const{id:e}=zn(),t=Et(),r=Se.currentUser,{data:n,isPending:a,error:s}=TD(e),l=$D(),d=BD(),f=Vr(),[h,p]=j.useState(!1),[g,y]=j.useState(!0),[v,x]=j.useState("");if(Ze.useEffect(()=>{console.log("[UserDetails] User data loaded:",{id:n==null?void 0:n.id,name:n==null?void 0:n.name,password:n!=null&&n.password?"(exists)":"(missing)"}),n&&n.password?(console.log("[UserDetails] Setting editedPassword from user.password"),x(n.password)):n&&(console.log("[UserDetails] WARNING: user loaded but password is missing/empty!"),x(""))},[n==null?void 0:n.id,n==null?void 0:n.password]),a)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading user..."});if(s||!n)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(s==null?void 0:s.message)||"User not found."});const w=r.role===Ge.ADMIN||r.id===e,_=r.role===Ge.ADMIN,N=async()=>{if(e)try{await l.mutateAsync(e),f.success("User deleted successfully!"),t("/users")}catch(E){console.error("Failed to delete user:",E),f.error("Failed to delete user: "+(E instanceof Error?E.message:"Unknown error"))}finally{p(!1)}},O=async()=>{if(!e||!v.trim()){f.warning("Please enter a password");return}try{await d.mutateAsync({id:e,updates:{password:v}}),f.success("Password updated successfully!")}catch(E){console.error("Failed to update password:",E),f.error("Failed to update password: "+(E instanceof Error?E.message:"Unknown error"))}};return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/users"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Profile"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[w&&c.jsxs("button",{onClick:()=>t(`/users/edit/${n.id}`),className:`px-6 py-2 ${oe.colors.primary[600]} text-white rounded-xl font-bold hover:${oe.colors.primary[700]} shadow-md flex items-center gap-2`,children:[ae.Edit," Edit Profile"]}),_&&c.jsx("button",{onClick:()=>p(!0),disabled:l.isPending,className:"px-6 py-2 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Delete User"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsx("div",{className:"h-32 bg-gradient-to-r from-[#0f2f57] to-[#1a3a6e]"}),c.jsxs("div",{className:"px-8 pb-8",children:[c.jsxs("div",{className:"relative flex justify-between items-end -mt-12 mb-8",children:[c.jsx("div",{className:"p-1 bg-white rounded-full shadow-xl",children:c.jsx("img",{src:n.image||"https://picsum.photos/200/200?random="+n.id,className:"w-24 h-24 rounded-full object-cover border-1 border-black"})}),c.jsx("span",{className:`px-4 py-1 rounded-full text-xs font-black uppercase tracking-widest ${n.role===Ge.ADMIN?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:n.role})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Full Name"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n.name})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Phone Number"}),c.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.phone})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Joining Date"}),c.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.createdAt?new Date(n.createdAt).toLocaleDateString("en-BD",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[c.jsx("h4",{className:"font-bold text-gray-900",children:"Account Security"}),_?c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:g?"text":"password",value:v,onChange:E=>x(E.target.value),className:"w-full px-4 py-3 pr-10 bg-white border border-purple-300 rounded-lg font-mono text-sm text-gray-700 focus:ring-2 focus:ring-purple-500"}),c.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-purple-600 hover:text-purple-800",children:g?c.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),c.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-14-14zM10 4C6.687 4 3.89 5.945 2.58 8.808c-.35.915-.35 2.468 0 3.384.74 1.94 2.08 3.61 3.756 4.7l1.83-1.83A3.992 3.992 0 016 10a4 4 0 016.956-3.533l1.416-1.416C14.225 4.523 12.15 4 10 4zm7.42 3.192c.35.915.35 2.468 0 3.384C15.26 13.055 12.463 15 9 15a6.966 6.966 0 01-3.15-.744l2.119-2.119A3.992 3.992 0 0114 10c0-.901-.281-1.735-.743-2.434l2.163-2.174z",clipRule:"evenodd"})})})]}),c.jsx("button",{onClick:O,disabled:d.isPending||v===n.password,className:"mt-3 w-full px-3 py-2 bg-purple-600 text-white rounded-lg text-sm font-bold hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d.isPending?"Updating...":"Update Password"}),c.jsx("p",{className:"text-[10px] text-purple-600 font-medium mt-2",children:"Admin access only. Edit and save password here."})]})}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Passwords are managed by system administrators. If you need to reset your password, please contact the IT department."}),c.jsxs("div",{className:"flex items-center gap-2 text-emerald-700 text-sm font-bold",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Active Status Verified"]})]})]})]})]})]}),h&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-sm w-full p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete User?"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:["Are you sure you want to delete ",c.jsx("strong",{children:n.name}),"? This action cannot be undone."]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>p(!1),disabled:l.isPending,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:N,disabled:l.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:l.isPending?"Deleting...":"Delete"})]})]})})]})},Joe=()=>{const[e,t]=j.useState("company"),[r,n]=j.useState(null),a=Ue(),{data:s,isPending:l}=qp(),{data:d,isPending:f}=Fp(),{data:h,isPending:p}=Kp(),{data:g,isPending:y}=Fs(),{data:v,isPending:x}=r1(),{data:w=[],isPending:_}=qs(),{data:N=[],isPending:O}=MD(),{data:E=[],isPending:C}=F9(),{data:T=[]}=zs(),P=oF(),M=lF(),R=cF(),B=uF();dF(),fF();const H=hF(),Y=Vr(),[K,me]=j.useState({name:"",phone:"",email:"",address:"",logo:""}),[ie,ye]=j.useState({prefix:"ORD-",nextNumber:1}),[L,V]=j.useState({steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}),[ne,he]=j.useState({title:"Invoice",logoWidth:120,logoHeight:120,footer:""}),[I,D]=j.useState({defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}),[U,Z]=j.useState({name:"",type:"Income",color:"#10B981",parentId:""}),[q,ge]=j.useState({name:"",description:""}),[ve,pe]=j.useState({name:"",shortName:"",description:""}),[ke,te]=j.useState([]),[_e,Pe]=j.useState(!1);Ze.useEffect(()=>{s&&me(s)},[s]),Ze.useEffect(()=>{d&&ye(d)},[d]),Ze.useEffect(()=>{h&&he(h)},[h]),Ze.useEffect(()=>{g&&D(g)},[g]),Ze.useEffect(()=>{v&&V(v)},[v]),j.useEffect(()=>{let se=null;const yt=async()=>{const{baseUrl:Yt,clientId:St,clientSecret:G,clientContext:de}=L.carryBee,Le=Yt==null?void 0:Yt.trim(),Ie=St==null?void 0:St.trim(),vt=G==null?void 0:G.trim(),xe=de==null?void 0:de.trim();if(!Le||!Ie||!vt||!xe){te([]);return}Pe(!0);try{const Qe=await h8({baseUrl:Le,clientId:Ie,clientSecret:vt,clientContext:xe});te(Qe)}catch(Qe){console.error("Failed to fetch CarryBee stores:",Qe),te([])}finally{Pe(!1)}};return se=setTimeout(()=>{yt()},700),()=>{se&&clearTimeout(se)}},[L.carryBee.baseUrl,L.carryBee.clientId,L.carryBee.clientSecret,L.carryBee.clientContext]);const ce=l||f||p||y||x||_||O||C,ze=async()=>{try{const se=Y.loading("Saving all settings...");H.mutateAsync({company:K,order:ie,invoice:ne,defaults:I,courier:L}).then(()=>{Se.settings.company=K,Se.settings.order=ie,Se.settings.invoice=ne,Se.settings.defaults=I,Se.settings.courier=L,Y.update(se,"Settings saved successfully!","success")}).catch(yt=>{console.error("Failed to save settings:",yt),Y.update(se,"Failed to save settings: "+(yt instanceof Error?yt.message:"Unknown error"),"error")})}catch(se){console.error("Failed to initiate settings save:",se),Y.error("Failed to save settings: "+(se instanceof Error?se.message:"Unknown error"))}},Fe=se=>{var Yt;const yt=(Yt=se.target.files)==null?void 0:Yt[0];if(yt){const St=new FileReader;St.onload=()=>{me({...K,logo:St.result})},St.readAsDataURL(yt)}},et=async()=>{if(!U.name.trim()){Y.warning("Please enter a category name");return}const se={id:crypto.randomUUID(),name:U.name,type:U.type,color:U.color,parentId:U.parentId||void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},yt=a.getQueryData(["categories"]);a.setQueryData(["categories"],(G=[])=>[...G,se]);const Yt=Y.loading("Adding category..."),St={...U};Z({name:"",type:"Income",color:"#10B981",parentId:""}),n(null);try{await P.mutateAsync({name:St.name,type:St.type,color:St.color,parentId:St.parentId||void 0}),Y.update(Yt,"Category added successfully!","success")}catch(G){console.error("Failed to add category:",G),a.setQueryData(["categories"],yt),Y.update(Yt,"Failed to add category: "+(G instanceof Error?G.message:"Unknown error"),"error"),n("category"),Z(St)}},jt=async se=>{if(confirm("Are you sure you want to delete this category?"))try{await M.mutateAsync(se),Y.success("Category deleted successfully!")}catch(yt){console.error("Failed to delete category:",yt),Y.error("Failed to delete category: "+(yt instanceof Error?yt.message:"Unknown error"))}},qt=async()=>{if(!q.name.trim()){Y.warning("Please enter a payment method name");return}const se={id:crypto.randomUUID(),name:q.name,description:q.description||"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},yt=a.getQueryData(["paymentMethods"]);a.setQueryData(["paymentMethods"],(G=[])=>[...G,se]);const Yt=Y.loading("Adding payment method..."),St={...q};ge({name:"",description:""}),n(null);try{await R.mutateAsync({name:St.name,description:St.description||void 0}),Y.update(Yt,"Payment method added successfully!","success")}catch(G){console.error("Failed to add payment method:",G),a.setQueryData(["paymentMethods"],yt),Y.update(Yt,"Failed to add payment method: "+(G instanceof Error?G.message:"Unknown error"),"error"),n("payment"),ge(St)}},Ir=async se=>{if(confirm("Are you sure you want to delete this payment method?"))try{await B.mutateAsync(se),Y.success("Payment method deleted successfully!")}catch(yt){console.error("Failed to delete payment method:",yt),Y.error("Failed to delete payment method: "+(yt instanceof Error?yt.message:"Unknown error"))}},tn=[{id:"company",label:"Company",icon:ae.Dashboard},{id:"order",label:"Order & Invoice",icon:ae.Sales},{id:"defaults",label:"Defaults",icon:ae.Settings},{id:"categories",label:"Categories",icon:ae.More},{id:"payments",label:"Payment Methods",icon:ae.Banking},{id:"courier",label:"Courier",icon:ae.Courier}];return c.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[c.jsx(Jd,{isLoading:ce,message:"Loading settings..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Settings"})}),c.jsx(Je,{onClick:ze,variant:"primary",size:"md",children:"Save Changes"})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[c.jsx("div",{className:"w-full lg:w-64 space-y-1",children:tn.map(se=>c.jsxs("button",{onClick:()=>t(se.id),className:`flex items-center gap-3 w-full px-4 py-3 rounded-xl font-medium transition-all ${e===se.id?`bg-white ${oe.colors.primary[600]} shadow-sm border border-gray-100 ring-1 ring-[#ebf4ff]`:"text-gray-500 hover:bg-gray-100"}`,children:[se.icon,se.label]},se.id))}),c.jsxs("div",{className:"flex-1 bg-white p-8 rounded-xl border border-gray-100 shadow-sm min-h-[500px]",children:[e==="company"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Company Profile"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 flex items-center gap-6 p-6 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden bg-white border",children:K.logo&&c.jsx("img",{src:K.logo,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Company Logo"}),c.jsx("input",{type:"file",id:"logo-input",className:"hidden",onChange:Fe}),c.jsx(Je,{variant:"primary",size:"sm",onClick:()=>{var se;return(se=document.getElementById("logo-input"))==null?void 0:se.click()},children:"Change Logo"})]})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Company Name"}),c.jsx("input",{type:"text",value:K.name,onChange:se=>me({...K,name:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Phone"}),c.jsx("input",{type:"text",value:K.phone,onChange:se=>me({...K,phone:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Email"}),c.jsx("input",{type:"email",value:K.email,onChange:se=>me({...K,email:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("textarea",{value:K.address,onChange:se=>me({...K,address:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl h-24 focus:ring-2 focus:ring-[#3c5a82] transition-all"})]})]})]}),e==="order"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsxs("section",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Order Logic"}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Order Prefix"}),c.jsx("input",{type:"text",value:ie.prefix,onChange:se=>ye({...ie,prefix:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl font-mono"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Next Number"}),c.jsx("input",{type:"number",value:ie.nextNumber,onChange:se=>ye({...ie,nextNumber:parseInt(se.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]}),c.jsxs("section",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Invoice Settings"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-1 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Invoice Title"}),c.jsx("input",{type:"text",value:ne.title,onChange:se=>he({...ne,title:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Logo Width (px)"}),c.jsx("input",{type:"number",value:ne.logoWidth,onChange:se=>he({...ne,logoWidth:parseInt(se.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Logo Height (px)"}),c.jsx("input",{type:"number",value:ne.logoHeight,onChange:se=>he({...ne,logoHeight:parseInt(se.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"md:col-span-3 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Invoice Footer"}),c.jsx("textarea",{value:ne.footer,onChange:se=>he({...ne,footer:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl h-24"})]})]})]})]}),e==="defaults"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"System Defaults"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Account"}),c.jsxs("select",{value:I.defaultAccountId,onChange:se=>D({...I,defaultAccountId:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select an account..."}),T.map(se=>c.jsx("option",{value:se.id,children:se.name},se.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Payment Method"}),c.jsxs("select",{value:I.defaultPaymentMethod,onChange:se=>D({...I,defaultPaymentMethod:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a payment method..."}),N.map(se=>c.jsx("option",{value:se.name,children:se.name},se.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Income Category"}),c.jsxs("select",{value:I.incomeCategoryId,onChange:se=>D({...I,incomeCategoryId:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a category..."}),w.filter(se=>se.type==="Income").map(se=>c.jsx("option",{value:se.id,children:se.name},se.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Expense Category"}),c.jsxs("select",{value:I.expenseCategoryId,onChange:se=>D({...I,expenseCategoryId:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a category..."}),w.filter(se=>se.type==="Expense").map(se=>c.jsx("option",{value:se.id,children:se.name},se.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Records Per Page"}),c.jsx("input",{type:"number",value:I.recordsPerPage,onChange:se=>D({...I,recordsPerPage:parseInt(se.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]}),e==="categories"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Categories"}),c.jsxs(Je,{onClick:()=>n("category"),variant:"primary",size:"md",children:[ae.Plus," Add"]})]}),_?c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading categories..."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.map(se=>c.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-gray-50/50 hover:shadow-sm transition-all",children:[c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:se.color}}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-800",children:se.name}),c.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:se.type})]}),c.jsx("button",{onClick:()=>jt(se.id),className:"text-red-500 hover:text-red-700 px-2",children:ae.Delete})]},se.id)),w.length===0&&c.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:'No categories yet. Click "Add Category" to create one.'})]})]}),e==="payments"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Payment Methods"}),c.jsxs(Je,{onClick:()=>n("payment"),variant:"primary",size:"md",children:[ae.Plus," Add"]})]}),O?c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading payment methods..."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.map(se=>c.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50/50 hover:shadow-sm transition-all flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-800",children:se.name}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:se.description||"No description"})]}),c.jsx("button",{onClick:()=>Ir(se.id),className:"text-red-500 hover:text-red-700 px-2",children:ae.Delete})]},se.id)),N.length===0&&c.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:'No payment methods yet. Click "Add Method" to create one.'})]})]}),e==="courier"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsxs("section",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4 flex items-center gap-2",children:[c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-6 h-6 rounded-full"}),c.jsx("span",{className:"",children:"Steadfast"})," Secrets"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Base URL"}),c.jsx("input",{type:"text",value:L.steadfast.baseUrl,onChange:se=>V({...L,steadfast:{...L.steadfast,baseUrl:se.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"API Key"}),c.jsx("input",{type:"text",value:L.steadfast.apiKey,onChange:se=>V({...L,steadfast:{...L.steadfast,apiKey:se.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Secret Key"}),c.jsx("input",{type:"text",value:L.steadfast.secretKey,onChange:se=>V({...L,steadfast:{...L.steadfast,secretKey:se.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]})]}),c.jsxs("section",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4 flex items-center gap-2",children:[c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-6 h-6 rounded-full"}),c.jsx("span",{className:"",children:"CarryBee"})," Secrets"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Base URL"}),c.jsx("input",{type:"text",value:L.carryBee.baseUrl,onChange:se=>V({...L,carryBee:{...L.carryBee,baseUrl:se.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client ID"}),c.jsx("input",{type:"text",value:L.carryBee.clientId,onChange:se=>V({...L,carryBee:{...L.carryBee,clientId:se.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client Secret"}),c.jsx("input",{type:"text",value:L.carryBee.clientSecret,onChange:se=>V({...L,carryBee:{...L.carryBee,clientSecret:se.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client Context"}),c.jsx("input",{type:"text",value:L.carryBee.clientContext,onChange:se=>V({...L,carryBee:{...L.carryBee,clientContext:se.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Store ID"}),c.jsxs("select",{value:L.carryBee.storeId,onChange:se=>V({...L,carryBee:{...L.carryBee,storeId:se.target.value}}),disabled:_e||ke.length===0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:_e?"Loading stores...":ke.length===0?"Fill CarryBee credentials first":"Select Store"}),ke.map(se=>c.jsx("option",{value:se.id,children:se.name},se.id))]})]})]})]})]})]})]})]}),r==="category"&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>n(null)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 p-8 space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Category"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:U.name,onChange:se=>Z({...U,name:se.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Type"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:U.type,onChange:se=>Z({...U,type:se.target.value}),children:[c.jsx("option",{value:"Income",children:"Income"}),c.jsx("option",{value:"Expense",children:"Expense"}),c.jsx("option",{value:"Product",children:"Product"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Color"}),c.jsx("input",{type:"color",className:"w-full h-12 bg-gray-50 border rounded-xl cursor-pointer",value:U.color,onChange:se=>Z({...U,color:se.target.value})})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(Je,{onClick:()=>n(null),variant:"ghost",className:"flex-1",children:"Cancel"}),c.jsx(Je,{onClick:et,variant:"primary",size:"md",className:"flex-1",children:"Add Category"})]})]})]}),r==="payment"&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>n(null)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 p-8 space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Payment Method"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Method Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:q.name,onChange:se=>ge({...q,name:se.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Description"}),c.jsx("textarea",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl h-24",value:q.description,onChange:se=>ge({...q,description:se.target.value})})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(Je,{onClick:()=>n(null),variant:"ghost",className:"flex-1",children:"Cancel"}),c.jsx(Je,{onClick:qt,variant:"primary",size:"md",className:"flex-1",children:"Add Method"})]})]})]})]})},Zoe=()=>{const e=Et(),t=Ue(),r=Vr(),{searchQuery:n}=Va(),{user:a}=_a(),{data:s}=Fs(),l=(s==null?void 0:s.recordsPerPage)||xt,[d,f]=Ze.useState(1),{data:h,isFetching:p,error:g}=R9(d,l,n),y=(h==null?void 0:h.data)??[],v=(h==null?void 0:h.count)??0,x=Math.max(1,Math.ceil(v/l)),w=G9(),_=(a==null?void 0:a.role)===Ge.ADMIN;j.useEffect(()=>{f(1)},[n]);const N=y,O=async E=>{if(confirm("Are you sure you want to delete this customer?")){if(a1(E)){t.setQueryData(["customers"],C=>C&&C.filter(T=>T.id!==E)),r.success("Customer deleted");return}try{await w.mutateAsync(E),r.success("Customer deleted successfully")}catch(C){console.error("Failed to delete customer:",C),r.error("Failed to delete customer")}}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Customers"})}),c.jsx(Je,{onClick:()=>e("/customers/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Customer"})]}),g&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsxs("p",{className:"text-red-800",children:[c.jsx("strong",{children:"Error loading customers:"})," ",g instanceof Error?g.message:String(g)]})}),c.jsx(Bp,{columns:[{key:"name",label:"Customer Name",render:(E,C)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-400 flex items-center justify-center font-bold text-white",children:C.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 block",children:C.name}),c.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:C.address})]})]})},{key:"phone",label:"Contact",render:E=>c.jsx("span",{className:"text-sm font-medium text-gray-700",children:E})},{key:"totalOrders",label:"Total Orders",align:"center",render:E=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-bold text-gray-600",children:E})},{key:"dueAmount",label:"Due Amount",align:"right",render:E=>c.jsx("span",{className:`font-bold ${E>0?"text-red-500":"text-green-500"}`,children:we(E)})},{key:"id",label:"Actions",align:"right",render:E=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(Is,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:C=>{C.stopPropagation(),e(`/customers/edit/${E}`)}}),_&&c.jsx(Is,{icon:ae.Delete,variant:"danger",title:"Delete",onClick:C=>{C.stopPropagation(),O(E)}})]})}],data:N,loading:p,onRowClick:E=>e(`/customers/${E.id}`),emptyMessage:"No customers found"}),c.jsx(Nf,{page:d,totalPages:x,onPageChange:E=>f(E),disabled:p})]})},hT=()=>{const{id:e}=zn(),t=Et(),{isLoading:r}=_a(),n=!!e,[a,s]=j.useState({name:"",phone:"",address:""}),[l,d]=j.useState(null);if(r)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Loading..."}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Authenticating session..."})]});const{data:f,isPending:h,error:p}=$p(n?e:void 0),{data:g=[]}=M9(),y=H9(),v=V9(),x=Un(),w=Ue();j.useEffect(()=>{if(f){s({name:f.name,phone:f.phone,address:f.address});return}if(e&&a1(e)){const N=(g||[]).find(O=>O.id===e);N&&s({name:N.name,phone:N.phone,address:N.address})}},[f,g,e]);const _=async()=>{if(!a.name||!a.phone){d("Name and phone are required");return}d(null);try{if(n){const N={name:a.name,phone:a.phone,address:a.address};await v.mutateAsync({id:e,updates:N}),t("/customers")}else{const N={name:a.name,phone:a.phone,address:a.address,totalOrders:0,dueAmount:0};try{const O=await y.mutateAsync(N);try{w.setQueryData(["customers"],C=>C?Array.isArray(C)&&C.some(T=>T.id===O.id)?C:[...C,O]:[O])}catch{}const E=x&&x.state||{};if(E.fromOrderForm&&E.redirectPath){const C=`${E.redirectPath}${E.redirectPath.includes("?")?"&":"?"}selectedCustomerId=${O.id}`;t(C)}else t("/customers")}catch(O){console.error("Create customer failed:",O),d(O instanceof Error?O.message:"Failed to create customer")}}}catch(N){console.error(`Failed to ${n?"update":"create"} customer:`,N),d(N instanceof Error?N.message:`Failed to ${n?"update":"create"} customer`)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:n?"Edit Customer":"New Customer"}),c.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 text-gray-500 font-bold hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"})]}),c.jsx("div",{className:"bg-white p-10 rounded-xl border border-gray-100 shadow-xl space-y-8",children:n&&h?c.jsx("div",{className:"text-center text-gray-500",children:"Loading customer..."}):c.jsxs(c.Fragment,{children:[l&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:l instanceof Error?l.message:String(l)})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Full Name"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:a.name,onChange:N=>s({...a,name:N.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Phone Number"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:a.phone,onChange:N=>s({...a,phone:N.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Address"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 transition-all outline-none",value:a.address,onChange:N=>s({...a,address:N.target.value})})]}),c.jsx(Je,{onClick:_,variant:"primary",size:"lg",className:"w-full",disabled:y.isPending||v.isPending,children:y.isPending||v.isPending?n?"Updating...":"Adding...":n?"Update Customer":"Add Customer"})]})})]})},ele=()=>{const{id:e}=zn(),t=Et(),[r,n]=j.useState(null),a=Se.currentUser,s=(a==null?void 0:a.role)||null,{data:l}=$p(e||""),{data:d=[]}=L9(e||""),{data:f}=Fp(),h=Qp(),p=Vr(),{totalRevenue:g,dueAmount:y}=j.useMemo(()=>{const w=d.filter(E=>E.status===De.COMPLETED),_=d.filter(E=>E.status===De.PROCESSING||E.status===De.PICKED),N=w.reduce((E,C)=>E+C.total,0),O=_.reduce((E,C)=>E+(C.total-C.paidAmount),0);return{totalRevenue:N,dueAmount:O}},[d]),v=w=>{switch(w){case De.ON_HOLD:return"bg-gray-100 text-gray-600";case De.PROCESSING:return"bg-[#e6f0ff] ${theme.colors.secondary[600]}";case De.PICKED:return"bg-purple-100 text-purple-600";case De.COMPLETED:return"bg-green-100 ${theme.colors.primary[600]}";case De.CANCELLED:return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}},x=async w=>{try{if(!l)return;if(!f){p.error("Unable to generate new order number. Please try again.");return}const _=`${f.prefix}${f.nextNumber}`,N=new Date,O=N.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),E=N.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),C={orderNumber:_,orderDate:new Date().toISOString().split("T")[0],customerId:l.id,createdBy:w.createdBy,status:De.ON_HOLD,items:w.items,subtotal:w.subtotal,discount:w.discount,shipping:w.shipping,total:w.total,paidAmount:0,history:{created:`Duplicated from order #${w.orderNumber} on ${O}, at ${E}`}};await h.mutateAsync(C),p.success("Order duplicated successfully"),t("/orders")}catch(_){console.error("Failed to duplicate order",_),p.error("Failed to duplicate order: "+(_ instanceof Error?_.message:"Unknown error"))}};return s===Ge.EMPLOYEE?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot view customer details. Contact an administrator for assistance."}),c.jsx(Je,{onClick:()=>t("/customers"),variant:"primary",children:"Back to Customers"})]}):l?c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/customers"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Profile"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx("button",{onClick:()=>t(`/customers/edit/${e}`),className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-700 hover:bg-gray-50",children:"Edit Profile"})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-[#ebf4ff] ${theme.colors.primary[600]} flex items-center justify-center font-black text-4xl mx-auto mb-4 border-2 border-[#c7dff5]",children:l.name.charAt(0)}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:l.name}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:l.phone}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 space-y-4 text-left",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Address"}),c.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed",children:l.address})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Revenue"}),c.jsx("p",{className:"text-lg font-black text-gray-900",children:we(g)})]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg shadow-[#0f2f57]/20/50 border border-gray-100 text-white",children:[c.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-1",children:"Due Amount"}),c.jsx("h4",{className:"text-lg font-black text-green-600",children:we(y)})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Order History"}),c.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[d.length," Records found"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[c.jsx("th",{className:"px-6 py-4",children:"Order Number"}),c.jsx("th",{className:"px-6 py-4",children:"Order Date"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:d.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-400 italic",children:"No orders found for this customer."})}):d.map(w=>c.jsxs("tr",{onMouseEnter:()=>n(w.id),onMouseLeave:()=>n(null),onClick:()=>t(`/orders/${w.id}`),className:"group relative hover:bg-[#ebf4ff]/30 cursor-pointer transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"font-bold text-gray-900",children:["#",w.orderNumber]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:w.orderDate}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${v(w.status)}`,children:w.status})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("span",{className:"font-black text-gray-900",children:we(w.total)})}),r===w.id&&c.jsx("td",{className:"absolute inset-y-0 right-0 flex items-center pr-6 bg-gradient-to-l from-emerald-50 via-emerald-50 to-transparent",children:c.jsxs("div",{className:"flex items-center gap-1 bg-white p-1 rounded-lg shadow-lg border border-[#c7dff5] animate-in fade-in slide-in-from-right-2 duration-200",onClick:_=>_.stopPropagation(),children:[c.jsx("button",{title:"Edit",onClick:()=>t(`/orders/edit/${w.id}`),className:"p-2 text-gray-500 hover:${theme.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors",children:ae.Edit}),c.jsx("button",{title:"Duplicate",onClick:()=>x(w),className:"p-2 text-gray-500 hover:${theme.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors",children:ae.Duplicate})]})})]},w.id))})]})})]})})]})]}):c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Customer not found."})},tle=()=>{const e=Et();Ue();const t=Vr(),{searchQuery:r}=Va(),{data:n}=Fs(),a=(n==null?void 0:n.recordsPerPage)||xt,[s,l]=Ze.useState(1),{data:d={data:[],count:0},isFetching:f}=U9(s,a,r),h=d.data||[],p=d.count||0,g=Math.max(1,Math.ceil(p/a)),y=nF();j.useEffect(()=>{l(1)},[r]);const v=h,x=async w=>{if(confirm("Are you sure you want to delete this vendor?"))try{await y.mutateAsync(w),t.success("Vendor deleted successfully")}catch(_){console.error("Failed to delete vendor:",_),t.error("Failed to delete vendor")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Vendors"})}),c.jsx(Je,{onClick:()=>e("/vendors/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Vendor"})]}),c.jsx(Bp,{columns:[{key:"name",label:"Vendor Name",render:(w,_)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-400 text-white flex items-center justify-center font-bold",children:_.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 block",children:_.name}),c.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:_.address})]})]})},{key:"phone",label:"Contact",render:w=>c.jsx("span",{className:"text-sm font-medium text-gray-700",children:w})},{key:"totalPurchases",label:"Purchases",align:"center",render:w=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-bold text-gray-600",children:w})},{key:"dueAmount",label:"Balance Payable",align:"right",render:w=>c.jsx("span",{className:`font-bold ${w>0?"text-red-500":"text-green-500"}`,children:we(w)})},{key:"id",label:"Actions",align:"right",render:w=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(Is,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:_=>{_.stopPropagation(),e(`/vendors/edit/${w}`)}}),c.jsx(Is,{icon:ae.Delete,variant:"danger",title:"Delete",onClick:_=>{_.stopPropagation(),x(w)}})]})}],data:v,loading:f,onRowClick:w=>e(`/vendors/${w.id}`),emptyMessage:"No vendors found"}),c.jsx(Nf,{page:s,totalPages:g,onPageChange:w=>l(w),disabled:f})]})},mT=()=>{const{id:e}=zn(),t=Et(),{isLoading:r}=_a(),n=!!e,[a,s]=j.useState({name:"",phone:"",address:""}),[l,d]=j.useState(null),f=Un();Ue();const{data:h,isPending:p,error:g}=DD(n?e:void 0),y=tF(),v=rF();j.useEffect(()=>{if(h){s({name:h.name,phone:h.phone,address:h.address});return}const w=f&&f.state||{};w.fromBillForm&&w.preFill&&w.preFill.name&&s({name:w.preFill.name,phone:w.preFill.phone||"",address:w.preFill.address||""})},[h,f]);const x=async()=>{if(r){d("Authenticating... Please wait");return}if(!a.name||!a.phone){d("Business name and phone are required");return}d(null);try{if(n){const w={name:a.name,phone:a.phone,address:a.address};await v.mutateAsync({id:e,updates:w}),t("/vendors")}else{const w={name:a.name,phone:a.phone,address:a.address,totalPurchases:0,dueAmount:0};try{const _=await y.mutateAsync(w),N=f&&f.state||{};if(N.fromBillForm&&N.redirectPath){const O=`${N.redirectPath}${N.redirectPath.includes("?")?"&":"?"}selectedVendorId=${_.id}`;t(O)}else t("/vendors")}catch(_){console.error("Create vendor failed:",_),d(_ instanceof Error?_.message:"Failed to create vendor")}}}catch(w){console.error(`Failed to ${n?"update":"create"} vendor:`,w),d(w instanceof Error?w.message:`Failed to ${n?"update":"create"} vendor`)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:n?"Edit Vendor":"New Vendor"}),c.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 text-gray-500 font-bold hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"})]}),c.jsx("div",{className:"bg-white p-10 rounded-xl border border-gray-100 shadow-xl space-y-8",children:n&&p?c.jsx("div",{className:"text-center text-gray-500",children:"Loading vendor..."}):c.jsxs(c.Fragment,{children:[l&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:l instanceof Error?l.message:String(l)})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Full Name"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:a.name,onChange:w=>s({...a,name:w.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Phone Number"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:a.phone,onChange:w=>s({...a,phone:w.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Address"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 transition-all outline-none",value:a.address,onChange:w=>s({...a,address:w.target.value})})]}),c.jsx(Je,{onClick:x,variant:"primary",size:"lg",className:"w-full",disabled:y.isPending||v.isPending,children:y.isPending||v.isPending?n?"Updating...":"Adding...":n?"Update Vendor":"Add Vendor"})]})})]})},rle=()=>{const{id:e}=zn(),t=Et(),{data:r,isPending:n}=DD(e||""),{data:a=[]}=zp(),[s,l]=j.useState(null);if(n)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading vendor details..."});if(!r)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Vendor not found."});const d=a.filter(h=>h.vendorId===r.id),f=h=>{switch(h){case xn.ON_HOLD:return"bg-gray-100 text-gray-600";case xn.PROCESSING:return"bg-blue-100 text-blue-600";case xn.RECEIVED:return"bg-green-100 text-green-600";default:return"bg-gray-100 text-gray-600"}};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/vendors"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vendor Profile"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-700 hover:bg-gray-50",children:"Edit Profile"}),c.jsx("button",{className:`px-4 py-2 ${oe.colors.primary[600]} text-white rounded-xl font-bold hover:${oe.colors.primary[700]} shadow-md`,children:"Purchase Statement"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[c.jsx("div",{className:`w-24 h-24 rounded-full bg-[#e6f0ff] ${oe.colors.primary.text} flex items-center justify-center font-black text-4xl mx-auto mb-4 border-2 border-[#c7dff5]`,children:r.name.charAt(0)}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r.name}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r.phone}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 space-y-4 text-left",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed",children:r.address})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Procurement"}),c.jsx("p",{className:"text-lg font-black text-gray-900",children:we(d.reduce((h,p)=>h+p.total,0))})]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg shadow-[#0f2f57]/20 text-white",children:[c.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-1",children:"Total Payable"}),c.jsx("h4",{className:"text-lg font-black text-red-600",children:we(r.dueAmount)})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Purchase Bills"}),c.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[d.length," Invoices"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[c.jsx("th",{className:"px-6 py-4",children:"Bill Number"}),c.jsx("th",{className:"px-6 py-4",children:"Bill Date"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:d.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-400 italic",children:"No purchase bills found for this vendor."})}):d.map(h=>c.jsxs("tr",{onMouseEnter:()=>l(h.id),onMouseLeave:()=>l(null),onClick:()=>t(`/bills/${h.id}`),className:"group relative hover:bg-blue-50/30 cursor-pointer transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"font-bold text-gray-900",children:["#",h.billNumber]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:h.billDate}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${f(h.status)}`,children:h.status})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("span",{className:"font-black text-gray-900",children:we(h.total)})}),s===h.id&&c.jsx("td",{className:"absolute inset-y-0 right-0 flex items-center pr-6 bg-gradient-to-l from-blue-50 via-blue-50 to-transparent",children:c.jsx("div",{className:"flex items-center gap-1 bg-white p-1 rounded-lg shadow-lg border border-[#c7dff5] animate-in fade-in slide-in-from-right-2 duration-200",onClick:p=>p.stopPropagation(),children:c.jsx("button",{title:"Edit",onClick:()=>t(`/bills/edit/${h.id}`),className:`p-2 text-gray-500 hover:${oe.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors`,children:ae.Edit})})})]},h.id))})]})})]})})]})]})},nle=({title:e,description:t,icon:r,color:n,to:a})=>{const s=Et();return c.jsxs("button",{onClick:()=>s(a),className:"flex items-start gap-4 p-6 bg-white rounded-lg border border-gray-100 shadow-sm hover:shadow-md hover:border-[#c7dff5] transition-all text-left w-full group",children:[c.jsx("div",{className:`p-4 rounded-[50%] ${n} transition-transform group-hover:scale-110 duration-300`,children:r}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:e}),c.jsx("p",{className:"text-sm text-gray-500 mt-1 leading-relaxed",children:t}),c.jsxs("div",{className:"mt-4 flex items-center gap-1 text-xs font-bold uppercase tracking-widest opacity-40 group-hover:opacity-100 transition-opacity",children:["View Report ",ae.ChevronRight]})]})]})},ale=()=>{const e=[{title:"Expense Summary",description:"Breakdown of your business spending by category and vendor.",icon:ae.Delete,color:"bg-red-50 text-red-600",to:"/reports/expense"},{title:"Income Summary",description:"Analysis of your revenue streams and payment collections.",icon:ae.PlusCircle,color:`bg-[#ebf4ff] ${oe.colors.primary[600]}`,to:"/reports/income"},{title:"Income vs Expense",description:"Visual comparison of cash inflows and outflows over time.",icon:ae.Transfer,color:`bg-[#e6f0ff] ${oe.colors.secondary[600]}`,to:"/reports/income-vs-expense"},{title:"Profit and Loss",description:"Standard P&L statement to track net business profitability.",icon:ae.Reports,color:"bg-purple-50 text-purple-600",to:"/reports/profit-loss"}];return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Financial Reports"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Deep dive into your business metrics and performance."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,r)=>c.jsx(nle,{...t},r))})]})},ile=()=>{const e=Et(),{data:t=[]}=Zd(),{data:r=[]}=e1(),{data:n=[]}=zs(),{data:a=[]}=qs(),s=new Map(a.map(g=>[g.id,g.name])),l=t.filter(g=>g.type==="Expense"),d={};l.forEach(g=>{const y=s.get(g.category)||g.category||"Uncategorized";d[y]=(d[y]||0)+g.amount});const f=Object.entries(d).map(([g,y])=>({name:g,value:y})),h=["#EF4444","#F97316","#F59E0B","#8B5CF6","#EC4899","#3B82F6"],p=()=>{const g=`Date,Category,Contact,Account,Amount,Description
`,y=l.map(_=>{var C,T;const N=((C=r.find(P=>P.id===_.contactId))==null?void 0:C.name)||"N/A",O=((T=n.find(P=>P.id===_.accountId))==null?void 0:T.name)||"N/A",E=s.get(_.category)||_.category||"Uncategorized";return`${_.date},"${E}","${N}","${O}",${_.amount},"${_.description}"`}).join(`
`),v=new Blob([g+y],{type:"text/csv"}),x=window.URL.createObjectURL(v),w=document.createElement("a");w.setAttribute("hidden",""),w.setAttribute("href",x),w.setAttribute("download","expense_summary.csv"),document.body.appendChild(w),w.click(),document.body.removeChild(w)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Expense Summary"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-xl font-bold text-sm text-gray-700 hover:bg-gray-50",children:[ae.Download," Export CSV"]}),c.jsx(Je,{variant:"primary",size:"sm",icon:ae.Print,children:"Export Image"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-6",children:"Expenses by Category"}),c.jsx("div",{className:"h-[350px]",children:c.jsx(uc,{width:"100%",height:"100%",children:c.jsxs(z5,{data:f,layout:"vertical",margin:{left:40,right:40},children:[c.jsx(fc,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f1f5f9"}),c.jsx(hc,{type:"number",axisLine:!1,tickLine:!1,tick:{fontSize:10}}),c.jsx(mc,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),c.jsx(Oo,{formatter:g=>we(g),contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),c.jsx(xi,{dataKey:"value",radius:[0,4,4,0],barSize:30,children:f.map((g,y)=>c.jsx(nl,{fill:h[y%h.length]},`cell-${y}`))})]})})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsx("h3",{className:"font-bold text-gray-800",children:"Key Statistics"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-bold text-red-400 uppercase tracking-widest",children:"Total Outflow"}),c.jsx("h4",{className:"text-3xl font-black text-red-600",children:we(l.reduce((g,y)=>g+y.amount,0))})]}),c.jsx("div",{className:"divide-y divide-gray-50",children:f.sort((g,y)=>y.value-g.value).slice(0,5).map((g,y)=>c.jsxs("div",{className:"py-3 flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium text-gray-500",children:g.name}),c.jsx("span",{className:"text-sm font-bold text-gray-900",children:we(g.value)})]},y))})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 shadow-sm overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-50",children:c.jsx("h3",{className:"font-bold text-gray-900",children:"Recent Expense Log"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase",children:[c.jsx("th",{className:"px-6 py-4",children:"Date"}),c.jsx("th",{className:"px-6 py-4",children:"Category"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:l.slice(0,10).map(g=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:g.date}),c.jsx("td",{className:"px-6 py-4 text-sm font-bold text-gray-800",children:s.get(g.category)||g.category||"Uncategorized"}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-red-600",children:we(g.amount)})]},g.id))})]})})]})]})},sle=()=>{const e=Et(),t=Ue(),{data:r=[]}=Zd(),{data:n=[]}=Up(),{data:a=[]}=qs(),[s,l]=Ze.useState([]),d=new Map(a.map(x=>[x.id,x.name])),f=r.filter(x=>x.type==="Income"),h={};f.forEach(x=>{h[x.category]=(h[x.category]||0)+x.amount});const p=Object.entries(h).map(([x,w])=>({name:d.get(x)||x||"Uncategorized",value:w})),g=["#10B981","#34D399","#6EE7B7","#A7F3D0","#D1FAE5"],y=n.filter(x=>x.status===De.COMPLETED),v={};return y.forEach(x=>{v[x.customerId]=(v[x.customerId]||0)+x.total}),Ze.useEffect(()=>{const w=Object.entries(v).sort((_,N)=>N[1]-_[1]).slice(0,3).map(_=>_[0]);if(w.length===0){l([]);return}Promise.all(w.map(_=>t.fetchQuery({queryKey:["customer",_],queryFn:()=>Rp(_)}))).then(_=>{const N=_.map((O,E)=>({...O||{},revenue:v[w[E]]||0}));l(N.filter(O=>O&&O.revenue>0))}).catch(()=>{l([])})},[n,r]),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Income Summary"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-xl font-bold text-sm text-gray-700 hover:bg-gray-50",children:[ae.Download," Export CSV"]}),c.jsx(Je,{variant:"primary",size:"sm",icon:ae.Print,children:"Export Image"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm flex flex-col items-center",children:[c.jsx("h3",{className:"font-bold text-gray-800 self-start mb-6",children:"Revenue Mix"}),c.jsx("div",{className:"w-full h-[300px]",children:c.jsx(uc,{width:"100%",height:"100%",children:c.jsxs(F5,{children:[c.jsx(eS,{data:p,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:p.map((x,w)=>c.jsx(nl,{fill:g[w%g.length]},`cell-${w}`))}),c.jsx(Oo,{formatter:x=>we(x)}),c.jsx(kd,{verticalAlign:"bottom",align:"center"})]})})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:`${oe.colors.primary[600]} p-8 rounded-lg text-white shadow-lg shadow-[#0f2f57]/20`,children:[c.jsx("p",{className:"text-[#c7dff5] text-xs font-bold uppercase tracking-widest mb-1",children:"Total Revenue Collected"}),c.jsx("h4",{className:"text-4xl font-black",children:we(f.reduce((x,w)=>x+w.amount,0))}),c.jsxs("div",{className:"mt-6 p-4 bg-white/10 rounded-xl flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium",children:"Avg Transaction Size"}),c.jsx("span",{className:"font-bold",children:we(f.length?f.reduce((x,w)=>x+w.amount,0)/f.length:0)})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Top Customers"}),c.jsx("div",{className:"space-y-4",children:s.map((x,w)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center font-bold text-xs",children:x.name.charAt(0)}),c.jsx("span",{className:"text-sm font-semibold text-gray-700",children:x.name})]}),c.jsx("span",{className:"text-sm font-black",children:we(x.revenue)})]},w))})]})]})]})]})},ole=()=>{const e=Et(),{data:t=[]}=Zd(),r=j.useMemo(()=>{const n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=new Date().getFullYear(),s={};return n.forEach(l=>{s[l]={income:0,expense:0}}),t.forEach(l=>{const d=new Date(l.date);if(d.getFullYear()!==a)return;const f=d.getMonth(),h=n[f];l.type==="Income"?s[h].income+=l.amount:l.type==="Expense"&&(s[h].expense+=l.amount)}),n.map(l=>({name:l,income:s[l].income,expense:s[l].expense,profit:s[l].income-s[l].expense}))},[t]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Income vs Expense Trend"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx(Je,{variant:"primary",size:"sm",icon:ae.Print,children:"Export Full Report"})})]}),c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-8",children:"Cash Flow Dynamics (Last 6 Months)"}),c.jsx("div",{className:"h-[400px]",children:c.jsx(uc,{width:"100%",height:"100%",children:c.jsxs(Aw,{data:r,children:[c.jsx(fc,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(hc,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12}}),c.jsx(mc,{axisLine:!1,tickLine:!1,tick:{fontSize:12}}),c.jsx(Oo,{formatter:n=>we(n),contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),c.jsx(kd,{verticalAlign:"top",align:"right",height:36}),c.jsx(xi,{dataKey:"income",fill:"#10B981",radius:[4,4,0,0],name:"Total Income",barSize:40}),c.jsx(xi,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],name:"Total Expense",barSize:40}),c.jsx(jp,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"},name:"Net Cash Flow"})]})})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:(()=>{var f,h,p,g;const n=r.reduce((y,v)=>y+v.income,0),a=r.reduce((y,v)=>y+v.expense,0),s=r.length>0?(n-a)/r.length:0,l=r.reduce((y,v,x)=>v.income>r[y].income?x:y,0),d=r.reduce((y,v,x)=>v.expense<r[y].expense?x:y,0);return[{label:"Highest Revenue Month",value:((f=r[l])==null?void 0:f.name)||"",amount:((h=r[l])==null?void 0:h.income)||0},{label:"Least Expense Month",value:((p=r[d])==null?void 0:p.name)||"",amount:((g=r[d])==null?void 0:g.expense)||0},{label:"Average Monthly Profit",value:"Monthly Avg",amount:s,color:"text-purple-600"}].map((y,v)=>c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:y.label}),c.jsx("h4",{className:"text-xl font-bold text-gray-900 mt-1",children:y.value}),c.jsx("p",{className:`text-lg font-black mt-2 ${y.color}`,children:we(y.amount)})]},v))})()})]})},Ma=({label:e,amount:t,isBold:r,isTotal:n,indent:a})=>c.jsxs("div",{className:`flex justify-between py-2 ${r?"font-bold text-gray-900":"text-gray-600"} ${n?"border-t-2 border-gray-100 pt-4 mt-2":""} ${a?"pl-6":""}`,children:[c.jsx("span",{className:"text-sm",children:e}),c.jsx("span",{className:"text-sm font-black",children:we(t)})]}),lle=()=>{const e=Et(),{data:t=[]}=Up(),{data:r=[]}=zp(),{data:n=[]}=Zd(),{data:a=[]}=qs(),s=new Map(a.map(x=>[x.id,x.name])),[l,d]=j.useState("currentYear"),[f,h]=j.useState(""),[p,g]=j.useState(""),y=x=>{const w=new Date(x),_=new Date;return l==="currentYear"?w.getFullYear()===_.getFullYear():l==="currentMonth"?w.getFullYear()===_.getFullYear()&&w.getMonth()===_.getMonth():l==="custom"?!f||!p?!0:w>=new Date(f)&&w<=new Date(p):!0},v=j.useMemo(()=>{const x=n.filter(R=>R.type==="Income"&&!!R.referenceId&&y(R.date)).reduce((R,B)=>R+B.amount,0),w=x>0?x:t.filter(R=>R.status===De.COMPLETED&&y(R.orderDate)).reduce((R,B)=>R+B.total,0),_=n.filter(R=>R.type==="Expense"&&R.category==="expense_purchases"&&y(R.date)).reduce((R,B)=>R+B.amount,0),N=_>0?_:r.filter(R=>y(R.billDate)).reduce((R,B)=>R+B.total,0),O=w-N,E={};n.filter(R=>R.type==="Expense"&&R.category!=="expense_purchases"&&y(R.date)).forEach(R=>{const B=s.get(R.category)||R.category||"Uncategorized";E[B]=(E[B]||0)+R.amount});const T=Object.entries(E).map(([R,B])=>({categoryName:R,amount:B})).sort((R,B)=>B.amount-R.amount),P=Object.values(E).reduce((R,B)=>R+B,0),M=O-P;return{grossSales:w,costOfPurchases:N,grossProfit:O,expenses:T,totalOperatingExpenses:P,netProfit:M}},[t,r,n,l,f,p,s]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profit and Loss Statement"})]}),c.jsxs("button",{onClick:()=>window.print(),className:`flex items-center gap-2 px-4 py-2 ${oe.colors.primary[600]} hover:${oe.colors.primary[700]} text-white font-bold rounded-xl transition-colors`,children:[ae.Print," Print Statement"]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4",children:"Period"}),c.jsxs("div",{className:"flex gap-4 items-end",children:[c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"currentYear",checked:l==="currentYear",onChange:x=>d(x.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Year"})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"currentMonth",checked:l==="currentMonth",onChange:x=>d(x.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Month"})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"custom",checked:l==="custom",onChange:x=>d(x.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Custom Range"})]})]}),l==="custom"&&c.jsxs("div",{className:"flex gap-3 ml-auto",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-600",children:"From:"}),c.jsx("input",{type:"date",value:f,onChange:x=>h(x.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-600",children:"To:"}),c.jsx("input",{type:"date",value:p,onChange:x=>g(x.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"})]})]})]})]}),c.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"p-8 bg-gray-50 border-b border-gray-100 text-center",children:[Se.settings.company.logo&&c.jsx("img",{src:Se.settings.company.logo,className:"w-16 h-16 rounded-xl mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:Se.settings.company.name})]}),c.jsxs("div",{className:"p-8 space-y-2",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Revenue"}),c.jsx(Ma,{label:"Gross Sales (Completed Orders)",amount:v.grossSales}),c.jsx(Ma,{label:"Other Operating Income",amount:0}),c.jsx(Ma,{label:"Total Revenue",amount:v.grossSales,isBold:!0,isTotal:!0}),c.jsxs("div",{className:"pt-8",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Cost of Goods Sold"}),c.jsx(Ma,{label:"Purchases",amount:v.costOfPurchases}),c.jsx(Ma,{label:"Total COGS",amount:v.costOfPurchases,isBold:!0,isTotal:!0})]}),c.jsx("div",{className:"pt-8",children:c.jsx(Ma,{label:"Gross Profit",amount:v.grossProfit,isBold:!0})}),c.jsxs("div",{className:"pt-8",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Operating Expenses"}),v.expenses.length>0?c.jsxs(c.Fragment,{children:[v.expenses.slice(0,5).map((x,w)=>c.jsx(Ma,{label:x.categoryName,amount:x.amount,indent:!0},w)),v.expenses.length>5&&c.jsx(Ma,{label:"Other Expenses",amount:v.expenses.slice(5).reduce((x,w)=>x+w.amount,0),indent:!0})]}):c.jsx(Ma,{label:"None",amount:0,indent:!0}),c.jsx(Ma,{label:"Total Operating Expenses",amount:v.totalOperatingExpenses,isBold:!0,isTotal:!0})]}),c.jsx("div",{className:"pt-12",children:c.jsxs("div",{className:`p-6 rounded-lg flex justify-between items-center ${v.netProfit>=0?oe.colors.primary[600]:"bg-red-600"} text-white shadow-xl`,children:[c.jsx("span",{className:"text-lg font-black uppercase tracking-widest",children:"Net Profit / Loss"}),c.jsx("span",{className:"text-3xl font-black",children:we(v.netProfit)})]})})]}),c.jsx("div",{className:"p-8 text-center text-[10px] text-gray-300 italic border-t border-gray-50",children:"This report is generated automatically by BD Hatbela Financial Management System."})]})]})},pT=({order:e,customer:t,products:r,companySettings:n,invoiceSettings:a})=>c.jsxs("div",{className:"space-y-5 print:space-y-4 text-gray-900",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[((n==null?void 0:n.logo)||Se.settings.company.logo)&&c.jsx("img",{src:(n==null?void 0:n.logo)||Se.settings.company.logo,className:"rounded-lg object-cover mb-4",style:{width:(a==null?void 0:a.logoWidth)||Se.settings.invoice.logoWidth,height:(a==null?void 0:a.logoHeight)||Se.settings.invoice.logoHeight},alt:"Company Logo"}),c.jsx("h1",{className:"text-xl font-black uppercase tracking-tighter",children:(n==null?void 0:n.name)||Se.settings.company.name}),c.jsxs("div",{className:"mt-2 text-xs text-gray-400 font-medium space-y-1 print:text-gray-600",children:[c.jsx("p",{children:(n==null?void 0:n.address)||Se.settings.company.address}),c.jsxs("p",{children:[(n==null?void 0:n.phone)||Se.settings.company.phone," "," ",(n==null?void 0:n.email)||Se.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-300 uppercase leading-none mb-2 print:text-gray-400",children:(a==null?void 0:a.title)||Se.settings.invoice.title}),c.jsxs("div",{className:"space-y-1.5 print:space-y-1",children:[c.jsxs("p",{className:"text-sm font-bold text-gray-900 print:text-gray-800",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Order No:"}),e.orderNumber]}),c.jsxs("p",{className:"text-sm font-bold text-gray-900 print:text-gray-800",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Date:"}),new Date(e.orderDate).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-12 border-t border-gray-100 py-4 print:border-gray-300 print:py-3",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 print:mb-2",children:"Billed To"}),c.jsx("h3",{className:"text-md font-black text-gray-900 print:text-gray-800",children:t==null?void 0:t.name}),c.jsx("p",{className:"text-sm text-gray-500 leading-relaxed print:text-gray-600",children:t==null?void 0:t.address}),c.jsx("p",{className:"text-sm font-bold mt-2 print:mt-1",children:t==null?void 0:t.phone})]})}),c.jsxs("table",{className:"w-full text-left print:text-gray-800",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100 print:border-gray-300",children:[c.jsx("th",{className:"py-4 text-sm font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Item Description"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Rate"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Qty"}),c.jsx("th",{className:"py-4 text-sm text-right font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50 print:divide-gray-300",children:e.items.map((s,l)=>{const d=r.find(f=>f.id===s.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-6 print:py-3",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:d==null?void 0:d.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm print:w-10 print:h-10 print:rounded-full print:border-gray-300 print:shadow-none",alt:s.productName}),c.jsx("span",{className:"font-bold text-gray-900 print:text-sm",children:s.productName})]})}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold print:py-3 print:text-sm",children:we(s.rate)}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold print:py-3 print:text-sm",children:s.quantity}),c.jsx("td",{className:"py-6 text-right font-black text-gray-900 print:py-3 print:text-sm",children:we(s.amount)})]},l)})})]}),c.jsx("div",{className:"flex justify-end pt-6 print:pt-4",children:c.jsxs("div",{className:"w-full max-w-xs space-y-4 print:space-y-2 print:text-sm",children:[c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900 print:text-gray-800",children:we(e.subtotal)})]}),e.discount>0&&c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500 print:text-red-600",children:["-",we(e.discount)]})]}),e.shipping>0&&c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900 print:text-gray-800",children:we(e.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-6 border-t-2 border-[#0f2f57] print:py-3 print:border-t print:border-gray-400",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter print:text-gray-800",children:"Net Total"}),c.jsx("span",{className:"font-black text-gray-900 print:text-gray-800",children:we(e.total)})]})]})}),e.notes&&c.jsxs("div",{className:"bg-gray-50 p-4 rounded-[10px] border border-gray-100 print:bg-white print:p-3 print:rounded-lg print:border-gray-300",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase tracking-widest mb-2 print:text-gray-500 print:mb-1",children:"Terms & Notes"}),c.jsx("p",{className:"text-xs text-gray-600 font-medium italic leading-relaxed print:text-gray-700",children:e.notes})]})]}),cle=()=>{const{id:e}=zn(),{data:t,isPending:r}=Zw(e||""),{data:n}=$p(t?t.customerId:void 0),{data:a=[]}=Li(),{data:s=[]}=t1(),{data:l}=qp(),{data:d}=Kp(),f=j.useRef(!1);return t&&a.find(h=>h.id===t.createdBy),j.useEffect(()=>{t&&!r&&!f.current&&(f.current=!0,Uoe())},[t,r]),r||!t?c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading details..."}):c.jsxs("div",{className:"min-h-screen bg-white print:bg-white",children:[c.jsxs("div",{className:"space-y-0 print:space-y-0",children:[c.jsx("div",{className:"bg-white p-6 lg:p-10 print:p-6 min-h-screen print:min-h-fit",children:c.jsx(pT,{order:t,customer:n,products:s,companySettings:l,invoiceSettings:d})}),c.jsx("div",{className:"bg-white p-6 lg:p-10 print:p-6 min-h-screen print:min-h-fit",style:{pageBreakBefore:"always"},children:c.jsx(pT,{order:t,customer:n,products:s,companySettings:l,invoiceSettings:d})})]}),c.jsx("style",{children:`
        @media print {
          body {
            margin: 0;
            padding: 0;
            background: white;
          }
          .no-print {
            display: none !important;
          }
          table {
            page-break-inside: avoid;
          }
          tr {
            page-break-inside: avoid;
          }
          @page {
            margin: 0.25in;
            size: A4;
          }
          .print:page-break-avoid {
            page-break-inside: avoid;
          }
          .grid {
            page-break-inside: avoid;
          }
        }
      `})]})},ule=new b$({defaultOptions:{queries:{staleTime:300*1e3,gcTime:1800*1e3,retry:2,retryDelay:e=>Math.min(1e3*2**e,1e4),refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1},mutations:{retry:1,retryDelay:1e3}}}),dle=({user:e,profile:t,isLoading:r})=>{const n=!!e;return c.jsxs(g6,{children:[c.jsx(Xe,{path:"/login",element:n?c.jsx(Ve,{to:"/dashboard",replace:!0}):c.jsx(A9,{})}),c.jsx(Xe,{path:"/",element:n?c.jsx(Ve,{to:"/dashboard",replace:!0}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/dashboard",element:n?c.jsx(ct,{children:c.jsx($oe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/orders",element:n?c.jsx(ct,{children:c.jsx(zoe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/orders/new",element:n?c.jsx(ct,{children:c.jsx(cT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/orders/edit/:id",element:n?c.jsx(ct,{children:c.jsx(cT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/orders/:id",element:n?c.jsx(ct,{children:c.jsx(qoe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/print-order/:id",element:n?c.jsx(cle,{}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/bills",element:n?c.jsx(ct,{children:c.jsx(Foe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/bills/new",element:n?c.jsx(ct,{children:c.jsx(uT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/bills/edit/:id",element:n?c.jsx(ct,{children:c.jsx(uT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/bills/:id",element:n?c.jsx(ct,{children:c.jsx(Koe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/banking/accounts",element:n?c.jsx(ct,{children:c.jsx(Qoe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/banking/transfer",element:n?c.jsx(ct,{children:c.jsx(Goe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/banking/transactions",element:n?c.jsx(ct,{children:c.jsx(Hoe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/transactions",element:n?c.jsx(Ve,{to:"/banking/transactions",replace:!0}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/transactions/new/:type",element:n?c.jsx(ct,{children:c.jsx(Voe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/customers",element:n?c.jsx(ct,{children:c.jsx(Zoe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/customers/new",element:n?c.jsx(ct,{children:c.jsx(hT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/customers/edit/:id",element:n?c.jsx(ct,{children:c.jsx(hT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/customers/:id",element:n?c.jsx(ct,{children:c.jsx(ele,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/vendors",element:n?c.jsx(ct,{children:c.jsx(tle,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/vendors/new",element:n?c.jsx(ct,{children:c.jsx(mT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/vendors/edit/:id",element:n?c.jsx(ct,{children:c.jsx(mT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/vendors/:id",element:n?c.jsx(ct,{children:c.jsx(rle,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/products",element:n?c.jsx(ct,{children:c.jsx(Yoe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/products/new",element:n?c.jsx(ct,{children:c.jsx(dT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/products/edit/:id",element:n?c.jsx(ct,{children:c.jsx(dT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/users",element:n?c.jsx(ct,{children:c.jsx(Woe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/users/new",element:n?c.jsx(ct,{children:c.jsx(fT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/users/edit/:id",element:n?c.jsx(ct,{children:c.jsx(fT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/users/:id",element:n?c.jsx(ct,{children:c.jsx(Xoe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/reports",element:n?c.jsx(ct,{children:c.jsx(ale,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/reports/expense",element:n?c.jsx(ct,{children:c.jsx(ile,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/reports/income",element:n?c.jsx(ct,{children:c.jsx(sle,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/reports/income-vs-expense",element:n?c.jsx(ct,{children:c.jsx(ole,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/reports/profit-loss",element:n?c.jsx(ct,{children:c.jsx(lle,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/settings",element:n?c.jsx(ct,{children:c.jsx(Joe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"*",element:n?c.jsx(Ve,{to:"/dashboard",replace:!0}):c.jsx(Ve,{to:"/login",replace:!0})})]})},fle=()=>{const{user:e,profile:t,isLoading:r}=_a();return console.log("[App] Render - user:",!!e,"profile:",!!t,"isLoading:",r),r?(console.log("[App] Rendering loading screen"),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block p-4",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),c.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading..."})]})})):c.jsx(dle,{user:e,profile:t,isLoading:r})},hle=()=>(console.log("[App] Root component rendering - setting up providers"),c.jsx(x$,{client:ule,children:c.jsx(x8,{children:c.jsx(N8,{children:c.jsx(w8,{children:c.jsx(j8,{children:c.jsx(_8,{children:c.jsxs(U6,{children:[c.jsx(fle,{}),c.jsx(E9,{}),c.jsx(O9,{})]})})})})})})})),Q5=document.getElementById("root");if(!Q5)throw new Error("Could not find root element to mount to");const mle=bB.createRoot(Q5);mle.render(c.jsx(Ze.StrictMode,{children:c.jsx(hle,{})}));window.__testSupabase={async testCustomers(){console.log(" Testing customer fetch...");try{const e=await bD();return console.log(" Success! Customers:",e),e}catch(e){throw console.error(" Error:",e),e}},async testConnection(){console.log(" Testing session (direct table auth)...");try{const e=localStorage.getItem("userData");if(e){const t=JSON.parse(e);return console.log(" User session active:",t),t}return console.log(" No active session - user not logged in"),null}catch(e){throw console.error(" Session check error:",e),e}},help(){console.log("Available test functions:"),console.log("  __testSupabase.testCustomers() - Fetch customers from DB"),console.log("  __testSupabase.testConnection() - Check auth session"),console.log("  __testSupabase.help() - Show this help")}};console.log(" Tip: Type __testSupabase.help() in console for test commands");export{Ha as a,gle as g};
