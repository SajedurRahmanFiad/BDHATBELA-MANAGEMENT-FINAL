var lB=Object.defineProperty;var oE=e=>{throw TypeError(e)};var cB=(e,t,r)=>t in e?lB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Zv=(e,t,r)=>cB(e,typeof t!="symbol"?t+"":t,r),e0=(e,t,r)=>t.has(e)||oE("Cannot "+r);var z=(e,t,r)=>(e0(e,t,"read from private field"),r?r.call(e):t.get(e)),Me=(e,t,r)=>t.has(e)?oE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),je=(e,t,r,n)=>(e0(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),We=(e,t,r)=>(e0(e,t,"access private method"),r);var Kh=(e,t,r,n)=>({set _(a){je(e,t,a,r)},get _(){return z(e,t,n)}});function uB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function Qa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vle(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var t0={exports:{}},Vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function dB(){if(lE)return Vu;lE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return Vu.Fragment=t,Vu.jsx=r,Vu.jsxs=r,Vu}var cE;function fB(){return cE||(cE=1,t0.exports=dB()),t0.exports}var c=fB(),r0={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function hB(){if(uE)return Ke;uE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function N(D,U,Z){this.props=D,this.context=U,this.refs=_,this.updater=Z||x}N.prototype.isReactComponent={},N.prototype.setState=function(D,U){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,U,"setState")},N.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function O(){}O.prototype=N.prototype;function E(D,U,Z){this.props=D,this.context=U,this.refs=_,this.updater=Z||x}var C=E.prototype=new O;C.constructor=E,w(C,N.prototype),C.isPureReactComponent=!0;var T=Array.isArray;function P(){}var M={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function B(D,U,Z){var q=Z.ref;return{$$typeof:e,type:D,key:U,ref:q!==void 0?q:null,props:Z}}function H(D,U){return B(D.type,U,D.props)}function Y(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function K(D){var U={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Z){return U[Z]})}var me=/\/+/g;function ie(D,U){return typeof D=="object"&&D!==null&&D.key!=null?K(""+D.key):U.toString(36)}function ye(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(P,P):(D.status="pending",D.then(function(U){D.status==="pending"&&(D.status="fulfilled",D.value=U)},function(U){D.status==="pending"&&(D.status="rejected",D.reason=U)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function L(D,U,Z,q,ge){var ve=typeof D;(ve==="undefined"||ve==="boolean")&&(D=null);var pe=!1;if(D===null)pe=!0;else switch(ve){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(D.$$typeof){case e:case t:pe=!0;break;case p:return pe=D._init,L(pe(D._payload),U,Z,q,ge)}}if(pe)return ge=ge(D),pe=q===""?"."+ie(D,0):q,T(ge)?(Z="",pe!=null&&(Z=pe.replace(me,"$&/")+"/"),L(ge,U,Z,"",function(_e){return _e})):ge!=null&&(Y(ge)&&(ge=H(ge,Z+(ge.key==null||D&&D.key===ge.key?"":(""+ge.key).replace(me,"$&/")+"/")+pe)),U.push(ge)),1;pe=0;var ke=q===""?".":q+":";if(T(D))for(var te=0;te<D.length;te++)q=D[te],ve=ke+ie(q,te),pe+=L(q,U,Z,ve,ge);else if(te=v(D),typeof te=="function")for(D=te.call(D),te=0;!(q=D.next()).done;)q=q.value,ve=ke+ie(q,te++),pe+=L(q,U,Z,ve,ge);else if(ve==="object"){if(typeof D.then=="function")return L(ye(D),U,Z,q,ge);throw U=String(D),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return pe}function V(D,U,Z){if(D==null)return D;var q=[],ge=0;return L(D,q,"","",function(ve){return U.call(Z,ve,ge++)}),q}function ne(D){if(D._status===-1){var U=D._result;U=U(),U.then(function(Z){(D._status===0||D._status===-1)&&(D._status=1,D._result=Z)},function(Z){(D._status===0||D._status===-1)&&(D._status=2,D._result=Z)}),D._status===-1&&(D._status=0,D._result=U)}if(D._status===1)return D._result.default;throw D._result}var he=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},I={map:V,forEach:function(D,U,Z){V(D,function(){U.apply(this,arguments)},Z)},count:function(D){var U=0;return V(D,function(){U++}),U},toArray:function(D){return V(D,function(U){return U})||[]},only:function(D){if(!Y(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ke.Activity=g,Ke.Children=I,Ke.Component=N,Ke.Fragment=r,Ke.Profiler=a,Ke.PureComponent=E,Ke.StrictMode=n,Ke.Suspense=f,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(D){return M.H.useMemoCache(D)}},Ke.cache=function(D){return function(){return D.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(D,U,Z){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var q=w({},D.props),ge=D.key;if(U!=null)for(ve in U.key!==void 0&&(ge=""+U.key),U)!R.call(U,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&U.ref===void 0||(q[ve]=U[ve]);var ve=arguments.length-2;if(ve===1)q.children=Z;else if(1<ve){for(var pe=Array(ve),ke=0;ke<ve;ke++)pe[ke]=arguments[ke+2];q.children=pe}return B(D.type,ge,q)},Ke.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:s,_context:D},D},Ke.createElement=function(D,U,Z){var q,ge={},ve=null;if(U!=null)for(q in U.key!==void 0&&(ve=""+U.key),U)R.call(U,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(ge[q]=U[q]);var pe=arguments.length-2;if(pe===1)ge.children=Z;else if(1<pe){for(var ke=Array(pe),te=0;te<pe;te++)ke[te]=arguments[te+2];ge.children=ke}if(D&&D.defaultProps)for(q in pe=D.defaultProps,pe)ge[q]===void 0&&(ge[q]=pe[q]);return B(D,ve,ge)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(D){return{$$typeof:u,render:D}},Ke.isValidElement=Y,Ke.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:ne}},Ke.memo=function(D,U){return{$$typeof:h,type:D,compare:U===void 0?null:U}},Ke.startTransition=function(D){var U=M.T,Z={};M.T=Z;try{var q=D(),ge=M.S;ge!==null&&ge(Z,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(P,he)}catch(ve){he(ve)}finally{U!==null&&Z.types!==null&&(U.types=Z.types),M.T=U}},Ke.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ke.use=function(D){return M.H.use(D)},Ke.useActionState=function(D,U,Z){return M.H.useActionState(D,U,Z)},Ke.useCallback=function(D,U){return M.H.useCallback(D,U)},Ke.useContext=function(D){return M.H.useContext(D)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(D,U){return M.H.useDeferredValue(D,U)},Ke.useEffect=function(D,U){return M.H.useEffect(D,U)},Ke.useEffectEvent=function(D){return M.H.useEffectEvent(D)},Ke.useId=function(){return M.H.useId()},Ke.useImperativeHandle=function(D,U,Z){return M.H.useImperativeHandle(D,U,Z)},Ke.useInsertionEffect=function(D,U){return M.H.useInsertionEffect(D,U)},Ke.useLayoutEffect=function(D,U){return M.H.useLayoutEffect(D,U)},Ke.useMemo=function(D,U){return M.H.useMemo(D,U)},Ke.useOptimistic=function(D,U){return M.H.useOptimistic(D,U)},Ke.useReducer=function(D,U,Z){return M.H.useReducer(D,U,Z)},Ke.useRef=function(D){return M.H.useRef(D)},Ke.useState=function(D){return M.H.useState(D)},Ke.useSyncExternalStore=function(D,U,Z){return M.H.useSyncExternalStore(D,U,Z)},Ke.useTransition=function(){return M.H.useTransition()},Ke.version="19.2.4",Ke}var dE;function Bc(){return dE||(dE=1,r0.exports=hB()),r0.exports}var j=Bc();const Ze=Qa(j),mB=uB({__proto__:null,default:Ze},[j]);var n0={exports:{}},Gu={},a0={exports:{}},i0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function pB(){return fE||(fE=1,(function(e){function t(L,V){var ne=L.length;L.push(V);e:for(;0<ne;){var he=ne-1>>>1,I=L[he];if(0<a(I,V))L[he]=V,L[ne]=I,ne=he;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var V=L[0],ne=L.pop();if(ne!==V){L[0]=ne;e:for(var he=0,I=L.length,D=I>>>1;he<D;){var U=2*(he+1)-1,Z=L[U],q=U+1,ge=L[q];if(0>a(Z,ne))q<I&&0>a(ge,Z)?(L[he]=ge,L[q]=ne,he=q):(L[he]=Z,L[U]=ne,he=U);else if(q<I&&0>a(ge,ne))L[he]=ge,L[q]=ne,he=q;else break e}}return V}function a(L,V){var ne=L.sortIndex-V.sortIndex;return ne!==0?ne:L.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var f=[],h=[],p=1,g=null,y=3,v=!1,x=!1,w=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function C(L){for(var V=r(h);V!==null;){if(V.callback===null)n(h);else if(V.startTime<=L)n(h),V.sortIndex=V.expirationTime,t(f,V);else break;V=r(h)}}function T(L){if(w=!1,C(L),!x)if(r(f)!==null)x=!0,P||(P=!0,K());else{var V=r(h);V!==null&&ye(T,V.startTime-L)}}var P=!1,M=-1,R=5,B=-1;function H(){return _?!0:!(e.unstable_now()-B<R)}function Y(){if(_=!1,P){var L=e.unstable_now();B=L;var V=!0;try{e:{x=!1,w&&(w=!1,O(M),M=-1),v=!0;var ne=y;try{t:{for(C(L),g=r(f);g!==null&&!(g.expirationTime>L&&H());){var he=g.callback;if(typeof he=="function"){g.callback=null,y=g.priorityLevel;var I=he(g.expirationTime<=L);if(L=e.unstable_now(),typeof I=="function"){g.callback=I,C(L),V=!0;break t}g===r(f)&&n(f),C(L)}else n(f);g=r(f)}if(g!==null)V=!0;else{var D=r(h);D!==null&&ye(T,D.startTime-L),V=!1}}break e}finally{g=null,y=ne,v=!1}V=void 0}}finally{V?K():P=!1}}}var K;if(typeof E=="function")K=function(){E(Y)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ie=me.port2;me.port1.onmessage=Y,K=function(){ie.postMessage(null)}}else K=function(){N(Y,0)};function ye(L,V){M=N(function(){L(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(L){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var ne=y;y=V;try{return L()}finally{y=ne}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ne=y;y=L;try{return V()}finally{y=ne}},e.unstable_scheduleCallback=function(L,V,ne){var he=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?he+ne:he):ne=he,L){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ne+I,L={id:p++,callback:V,priorityLevel:L,startTime:ne,expirationTime:I,sortIndex:-1},ne>he?(L.sortIndex=ne,t(h,L),r(f)===null&&L===r(h)&&(w?(O(M),M=-1):w=!0,ye(T,ne-he))):(L.sortIndex=I,t(f,L),x||v||(x=!0,P||(P=!0,K()))),L},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(L){var V=y;return function(){var ne=y;y=V;try{return L.apply(this,arguments)}finally{y=ne}}}})(i0)),i0}var hE;function gB(){return hE||(hE=1,a0.exports=pB()),a0.exports}var s0={exports:{}},Gr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function yB(){if(mE)return Gr;mE=1;var e=Bc();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Gr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,p)},Gr.flushSync=function(f){var h=l.T,p=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=h,n.p=p,n.d.f()}},Gr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},Gr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Gr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:v}):p==="script"&&n.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Gr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},Gr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);n.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Gr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},Gr.requestFormReset=function(f){n.d.r(f)},Gr.unstable_batchedUpdates=function(f,h){return f(h)},Gr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Gr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Gr.version="19.2.4",Gr}var pE;function CT(){if(pE)return s0.exports;pE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),s0.exports=yB(),s0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function vB(){if(gE)return Gu;gE=1;var e=gB(),t=Bc(),r=CT();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(n(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var d=i,m=o;;){var b=d.return;if(b===null)break;var S=b.alternate;if(S===null){if(m=b.return,m!==null){d=m;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===d)return f(b),i;if(S===m)return f(b),o;S=S.sibling}throw Error(n(188))}if(d.return!==m.return)d=b,m=S;else{for(var A=!1,k=b.child;k;){if(k===d){A=!0,d=b,m=S;break}if(k===m){A=!0,m=b,d=S;break}k=k.sibling}if(!A){for(k=S.child;k;){if(k===d){A=!0,d=S,m=b;break}if(k===m){A=!0,m=S,d=b;break}k=k.sibling}if(!A)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=Y&&i[Y]||i["@@iterator"],typeof i=="function"?i:null)}var me=Symbol.for("react.client.reference");function ie(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===me?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList";case B:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case E:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case C:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return o=i.displayName||null,o!==null?o:ie(i.type)||"Memo";case R:o=i._payload,i=i._init;try{return ie(i(o))}catch{}}return null}var ye=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},he=[],I=-1;function D(i){return{current:i}}function U(i){0>I||(i.current=he[I],he[I]=null,I--)}function Z(i,o){I++,he[I]=i.current,i.current=o}var q=D(null),ge=D(null),ve=D(null),pe=D(null);function ke(i,o){switch(Z(ve,o),Z(ge,i),Z(q,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?kO(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=kO(o),i=PO(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}U(q),Z(q,i)}function te(){U(q),U(ge),U(ve)}function _e(i){i.memoizedState!==null&&Z(pe,i);var o=q.current,d=PO(o,i.type);o!==d&&(Z(ge,i),Z(q,d))}function Pe(i){ge.current===i&&(U(q),U(ge)),pe.current===i&&(U(pe),Fu._currentValue=ne)}var ce,ze;function Fe(i){if(ce===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);ce=o&&o[1]||"",ze=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+i+ze}var et=!1;function jt(i,o){if(!i||et)return"";et=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var ee=re}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(re){ee=re}i.call(fe.prototype)}}else{try{throw Error()}catch(re){ee=re}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),A=S[0],k=S[1];if(A&&k){var $=A.split(`
`),J=k.split(`
`);for(b=m=0;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;for(;b<J.length&&!J[b].includes("DetermineComponentFrameRoot");)b++;if(m===$.length||b===J.length)for(m=$.length-1,b=J.length-1;1<=m&&0<=b&&$[m]!==J[b];)b--;for(;1<=m&&0<=b;m--,b--)if($[m]!==J[b]){if(m!==1||b!==1)do if(m--,b--,0>b||$[m]!==J[b]){var le=`
`+$[m].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=m&&0<=b);break}}}finally{et=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?Fe(d):""}function Ft(i,o){switch(i.tag){case 26:case 27:case 5:return Fe(i.type);case 16:return Fe("Lazy");case 13:return i.child!==o&&o!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return jt(i.type,!1);case 11:return jt(i.type.render,!1);case 1:return jt(i.type,!0);case 31:return Fe("Activity");default:return""}}function Ir(i){try{var o="",d=null;do o+=Ft(i,d),d=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var tn=Object.prototype.hasOwnProperty,se=e.unstable_scheduleCallback,yt=e.unstable_cancelCallback,Yt=e.unstable_shouldYield,St=e.unstable_requestPaint,G=e.unstable_now,de=e.unstable_getCurrentPriorityLevel,Le=e.unstable_ImmediatePriority,Ie=e.unstable_UserBlockingPriority,vt=e.unstable_NormalPriority,xe=e.unstable_LowPriority,Qe=e.unstable_IdlePriority,pt=e.log,rn=e.unstable_setDisableYieldValue,vr=null,lr=null;function Lr(i){if(typeof pt=="function"&&rn(i),lr&&typeof lr.setStrictMode=="function")try{lr.setStrictMode(vr,i)}catch{}}var Rt=Math.clz32?Math.clz32:Vi,ll=Math.log,Af=Math.LN2;function Vi(i){return i>>>=0,i===0?32:31-(ll(i)/Af|0)|0}var Va=256,Cf=262144,kf=4194304;function Ys(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Pf(i,o,d){var m=i.pendingLanes;if(m===0)return 0;var b=0,S=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var k=m&134217727;return k!==0?(m=k&~S,m!==0?b=Ys(m):(A&=k,A!==0?b=Ys(A):d||(d=k&~i,d!==0&&(b=Ys(d))))):(k=m&~S,k!==0?b=Ys(k):A!==0?b=Ys(A):d||(d=m&~i,d!==0&&(b=Ys(d)))),b===0?0:o!==0&&o!==b&&(o&S)===0&&(S=b&-b,d=o&-o,S>=d||S===32&&(d&4194048)!==0)?o:b}function ru(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Y5(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dS(){var i=kf;return kf<<=1,(kf&62914560)===0&&(kf=4194304),i}function zg(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function nu(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function W5(i,o,d,m,b,S){var A=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var k=i.entanglements,$=i.expirationTimes,J=i.hiddenUpdates;for(d=A&~d;0<d;){var le=31-Rt(d),fe=1<<le;k[le]=0,$[le]=-1;var ee=J[le];if(ee!==null)for(J[le]=null,le=0;le<ee.length;le++){var re=ee[le];re!==null&&(re.lane&=-536870913)}d&=~fe}m!==0&&fS(i,m,0),S!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=S&~(A&~o))}function fS(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-Rt(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|d&261930}function hS(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var m=31-Rt(d),b=1<<m;b&o|i[m]&o&&(i[m]|=o),d&=~b}}function mS(i,o){var d=o&-o;return d=(d&42)!==0?1:qg(d),(d&(i.suspendedLanes|o))!==0?0:d}function qg(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Fg(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function pS(){var i=V.p;return i!==0?i:(i=window.event,i===void 0?32:eE(i.type))}function gS(i,o){var d=V.p;try{return V.p=i,o()}finally{V.p=d}}var Gi=Math.random().toString(36).slice(2),Br="__reactFiber$"+Gi,dn="__reactProps$"+Gi,cl="__reactContainer$"+Gi,Kg="__reactEvents$"+Gi,X5="__reactListeners$"+Gi,J5="__reactHandles$"+Gi,yS="__reactResources$"+Gi,au="__reactMarker$"+Gi;function Qg(i){delete i[Br],delete i[dn],delete i[Kg],delete i[X5],delete i[J5]}function ul(i){var o=i[Br];if(o)return o;for(var d=i.parentNode;d;){if(o=d[cl]||d[Br]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=BO(i);i!==null;){if(d=i[Br])return d;i=BO(i)}return o}i=d,d=i.parentNode}return null}function dl(i){if(i=i[Br]||i[cl]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function iu(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function fl(i){var o=i[yS];return o||(o=i[yS]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Or(i){i[au]=!0}var vS=new Set,bS={};function Ws(i,o){hl(i,o),hl(i+"Capture",o)}function hl(i,o){for(bS[i]=o,i=0;i<o.length;i++)vS.add(o[i])}var Z5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xS={},wS={};function e3(i){return tn.call(wS,i)?!0:tn.call(xS,i)?!1:Z5.test(i)?wS[i]=!0:(xS[i]=!0,!1)}function Tf(i,o,d){if(e3(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function Df(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function Ga(i,o,d,m){if(m===null)i.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+m)}}function qn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function jS(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function t3(i,o,d){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,S=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(A){d=""+A,S.call(this,A)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Hg(i){if(!i._valueTracker){var o=jS(i)?"checked":"value";i._valueTracker=t3(i,o,""+i[o])}}function SS(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),m="";return i&&(m=jS(i)?i.checked?"true":"false":i.value),i=m,i!==d?(o.setValue(i),!0):!1}function Mf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var r3=/[\n"\\]/g;function Fn(i){return i.replace(r3,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Vg(i,o,d,m,b,S,A,k){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),o!=null?A==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+qn(o)):i.value!==""+qn(o)&&(i.value=""+qn(o)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),o!=null?Gg(i,A,qn(o)):d!=null?Gg(i,A,qn(d)):m!=null&&i.removeAttribute("value"),b==null&&S!=null&&(i.defaultChecked=!!S),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+qn(k):i.removeAttribute("name")}function _S(i,o,d,m,b,S,A,k){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),o!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){Hg(i);return}d=d!=null?""+qn(d):"",o=o!=null?""+qn(o):d,k||o===i.value||(i.value=o),i.defaultValue=o}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=k?i.checked:!!m,i.defaultChecked=!!m,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Hg(i)}function Gg(i,o,d){o==="number"&&Mf(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function ml(i,o,d,m){if(i=i.options,o){o={};for(var b=0;b<d.length;b++)o["$"+d[b]]=!0;for(d=0;d<i.length;d++)b=o.hasOwnProperty("$"+i[d].value),i[d].selected!==b&&(i[d].selected=b),b&&m&&(i[d].defaultSelected=!0)}else{for(d=""+qn(d),o=null,b=0;b<i.length;b++){if(i[b].value===d){i[b].selected=!0,m&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function NS(i,o,d){if(o!=null&&(o=""+qn(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+qn(d):""}function OS(i,o,d,m){if(o==null){if(m!=null){if(d!=null)throw Error(n(92));if(ye(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),o=d}d=qn(o),i.defaultValue=d,m=i.textContent,m===d&&m!==""&&m!==null&&(i.value=m),Hg(i)}function pl(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var n3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ES(i,o,d){var m=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,d):typeof d!="number"||d===0||n3.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function AS(i,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var b in o)m=o[b],o.hasOwnProperty(b)&&d[b]!==m&&ES(i,b,m)}else for(var S in o)o.hasOwnProperty(S)&&ES(i,S,o[S])}function Yg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),i3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rf(i){return i3.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ya(){}var Wg=null;function Xg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var gl=null,yl=null;function CS(i){var o=dl(i);if(o&&(i=o.stateNode)){var d=i[dn]||null;e:switch(i=o.stateNode,o.type){case"input":if(Vg(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Fn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var m=d[o];if(m!==i&&m.form===i.form){var b=m[dn]||null;if(!b)throw Error(n(90));Vg(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<d.length;o++)m=d[o],m.form===i.form&&SS(m)}break e;case"textarea":NS(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&ml(i,!!d.multiple,o,!1)}}}var Jg=!1;function kS(i,o,d){if(Jg)return i(o,d);Jg=!0;try{var m=i(o);return m}finally{if(Jg=!1,(gl!==null||yl!==null)&&(jh(),gl&&(o=gl,i=yl,yl=gl=null,CS(o),i)))for(o=0;o<i.length;o++)CS(i[o])}}function su(i,o){var d=i.stateNode;if(d===null)return null;var m=d[dn]||null;if(m===null)return null;d=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zg=!1;if(Wa)try{var ou={};Object.defineProperty(ou,"passive",{get:function(){Zg=!0}}),window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{Zg=!1}var Yi=null,ey=null,If=null;function PS(){if(If)return If;var i,o=ey,d=o.length,m,b="value"in Yi?Yi.value:Yi.textContent,S=b.length;for(i=0;i<d&&o[i]===b[i];i++);var A=d-i;for(m=1;m<=A&&o[d-m]===b[S-m];m++);return If=b.slice(i,1<m?1-m:void 0)}function Lf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Bf(){return!0}function TS(){return!1}function fn(i){function o(d,m,b,S,A){this._reactName=d,this._targetInst=b,this.type=m,this.nativeEvent=S,this.target=A,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(d=i[k],this[k]=d?d(S):S[k]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Bf:TS,this.isPropagationStopped=TS,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Bf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Bf)},persist:function(){},isPersistent:Bf}),o}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$f=fn(Xs),lu=g({},Xs,{view:0,detail:0}),s3=fn(lu),ty,ry,cu,Uf=g({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ay,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==cu&&(cu&&i.type==="mousemove"?(ty=i.screenX-cu.screenX,ry=i.screenY-cu.screenY):ry=ty=0,cu=i),ty)},movementY:function(i){return"movementY"in i?i.movementY:ry}}),DS=fn(Uf),o3=g({},Uf,{dataTransfer:0}),l3=fn(o3),c3=g({},lu,{relatedTarget:0}),ny=fn(c3),u3=g({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),d3=fn(u3),f3=g({},Xs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),h3=fn(f3),m3=g({},Xs,{data:0}),MS=fn(m3),p3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v3(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=y3[i])?!!o[i]:!1}function ay(){return v3}var b3=g({},lu,{key:function(i){if(i.key){var o=p3[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Lf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?g3[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ay,charCode:function(i){return i.type==="keypress"?Lf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Lf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),x3=fn(b3),w3=g({},Uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RS=fn(w3),j3=g({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ay}),S3=fn(j3),_3=g({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),N3=fn(_3),O3=g({},Uf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),E3=fn(O3),A3=g({},Xs,{newState:0,oldState:0}),C3=fn(A3),k3=[9,13,27,32],iy=Wa&&"CompositionEvent"in window,uu=null;Wa&&"documentMode"in document&&(uu=document.documentMode);var P3=Wa&&"TextEvent"in window&&!uu,IS=Wa&&(!iy||uu&&8<uu&&11>=uu),LS=" ",BS=!1;function $S(i,o){switch(i){case"keyup":return k3.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function US(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vl=!1;function T3(i,o){switch(i){case"compositionend":return US(o);case"keypress":return o.which!==32?null:(BS=!0,LS);case"textInput":return i=o.data,i===LS&&BS?null:i;default:return null}}function D3(i,o){if(vl)return i==="compositionend"||!iy&&$S(i,o)?(i=PS(),If=ey=Yi=null,vl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return IS&&o.locale!=="ko"?null:o.data;default:return null}}var M3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zS(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!M3[i.type]:o==="textarea"}function qS(i,o,d,m){gl?yl?yl.push(m):yl=[m]:gl=m,o=Ch(o,"onChange"),0<o.length&&(d=new $f("onChange","change",null,d,m),i.push({event:d,listeners:o}))}var du=null,fu=null;function R3(i){_O(i,0)}function zf(i){var o=iu(i);if(SS(o))return i}function FS(i,o){if(i==="change")return o}var KS=!1;if(Wa){var sy;if(Wa){var oy="oninput"in document;if(!oy){var QS=document.createElement("div");QS.setAttribute("oninput","return;"),oy=typeof QS.oninput=="function"}sy=oy}else sy=!1;KS=sy&&(!document.documentMode||9<document.documentMode)}function HS(){du&&(du.detachEvent("onpropertychange",VS),fu=du=null)}function VS(i){if(i.propertyName==="value"&&zf(fu)){var o=[];qS(o,fu,i,Xg(i)),kS(R3,o)}}function I3(i,o,d){i==="focusin"?(HS(),du=o,fu=d,du.attachEvent("onpropertychange",VS)):i==="focusout"&&HS()}function L3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zf(fu)}function B3(i,o){if(i==="click")return zf(o)}function $3(i,o){if(i==="input"||i==="change")return zf(o)}function U3(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Nn=typeof Object.is=="function"?Object.is:U3;function hu(i,o){if(Nn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),m=Object.keys(o);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var b=d[m];if(!tn.call(o,b)||!Nn(i[b],o[b]))return!1}return!0}function GS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function YS(i,o){var d=GS(i);i=0;for(var m;d;){if(d.nodeType===3){if(m=i+d.textContent.length,i<=o&&m>=o)return{node:d,offset:o-i};i=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=GS(d)}}function WS(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?WS(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function XS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Mf(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=Mf(i.document)}return o}function ly(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var z3=Wa&&"documentMode"in document&&11>=document.documentMode,bl=null,cy=null,mu=null,uy=!1;function JS(i,o,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;uy||bl==null||bl!==Mf(m)||(m=bl,"selectionStart"in m&&ly(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),mu&&hu(mu,m)||(mu=m,m=Ch(cy,"onSelect"),0<m.length&&(o=new $f("onSelect","select",null,o,d),i.push({event:o,listeners:m}),o.target=bl)))}function Js(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var xl={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},dy={},ZS={};Wa&&(ZS=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function Zs(i){if(dy[i])return dy[i];if(!xl[i])return i;var o=xl[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in ZS)return dy[i]=o[d];return i}var e_=Zs("animationend"),t_=Zs("animationiteration"),r_=Zs("animationstart"),q3=Zs("transitionrun"),F3=Zs("transitionstart"),K3=Zs("transitioncancel"),n_=Zs("transitionend"),a_=new Map,fy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fy.push("scrollEnd");function ca(i,o){a_.set(i,o),Ws(o,[i])}var qf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Kn=[],wl=0,hy=0;function Ff(){for(var i=wl,o=hy=wl=0;o<i;){var d=Kn[o];Kn[o++]=null;var m=Kn[o];Kn[o++]=null;var b=Kn[o];Kn[o++]=null;var S=Kn[o];if(Kn[o++]=null,m!==null&&b!==null){var A=m.pending;A===null?b.next=b:(b.next=A.next,A.next=b),m.pending=b}S!==0&&i_(d,b,S)}}function Kf(i,o,d,m){Kn[wl++]=i,Kn[wl++]=o,Kn[wl++]=d,Kn[wl++]=m,hy|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function my(i,o,d,m){return Kf(i,o,d,m),Qf(i)}function eo(i,o){return Kf(i,null,null,o),Qf(i)}function i_(i,o,d){i.lanes|=d;var m=i.alternate;m!==null&&(m.lanes|=d);for(var b=!1,S=i.return;S!==null;)S.childLanes|=d,m=S.alternate,m!==null&&(m.childLanes|=d),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(b=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,b&&o!==null&&(b=31-Rt(d),i=S.hiddenUpdates,m=i[b],m===null?i[b]=[o]:m.push(o),o.lane=d|536870912),S):null}function Qf(i){if(50<Iu)throw Iu=0,Sv=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var jl={};function Q3(i,o,d,m){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(i,o,d,m){return new Q3(i,o,d,m)}function py(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Xa(i,o){var d=i.alternate;return d===null?(d=On(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function s_(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Hf(i,o,d,m,b,S){var A=0;if(m=i,typeof i=="function")py(i)&&(A=1);else if(typeof i=="string")A=WL(i,d,q.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case B:return i=On(31,d,o,b),i.elementType=B,i.lanes=S,i;case w:return to(d.children,b,S,o);case _:A=8,b|=24;break;case N:return i=On(12,d,o,b|2),i.elementType=N,i.lanes=S,i;case T:return i=On(13,d,o,b),i.elementType=T,i.lanes=S,i;case P:return i=On(19,d,o,b),i.elementType=P,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:A=10;break e;case O:A=9;break e;case C:A=11;break e;case M:A=14;break e;case R:A=16,m=null;break e}A=29,d=Error(n(130,i===null?"null":typeof i,"")),m=null}return o=On(A,d,o,b),o.elementType=i,o.type=m,o.lanes=S,o}function to(i,o,d,m){return i=On(7,i,m,o),i.lanes=d,i}function gy(i,o,d){return i=On(6,i,null,o),i.lanes=d,i}function o_(i){var o=On(18,null,null,0);return o.stateNode=i,o}function yy(i,o,d){return o=On(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var l_=new WeakMap;function Qn(i,o){if(typeof i=="object"&&i!==null){var d=l_.get(i);return d!==void 0?d:(o={value:i,source:o,stack:Ir(o)},l_.set(i,o),o)}return{value:i,source:o,stack:Ir(o)}}var Sl=[],_l=0,Vf=null,pu=0,Hn=[],Vn=0,Wi=null,Oa=1,Ea="";function Ja(i,o){Sl[_l++]=pu,Sl[_l++]=Vf,Vf=i,pu=o}function c_(i,o,d){Hn[Vn++]=Oa,Hn[Vn++]=Ea,Hn[Vn++]=Wi,Wi=i;var m=Oa;i=Ea;var b=32-Rt(m)-1;m&=~(1<<b),d+=1;var S=32-Rt(o)+b;if(30<S){var A=b-b%5;S=(m&(1<<A)-1).toString(32),m>>=A,b-=A,Oa=1<<32-Rt(o)+b|d<<b|m,Ea=S+i}else Oa=1<<S|d<<b|m,Ea=i}function vy(i){i.return!==null&&(Ja(i,1),c_(i,1,0))}function by(i){for(;i===Vf;)Vf=Sl[--_l],Sl[_l]=null,pu=Sl[--_l],Sl[_l]=null;for(;i===Wi;)Wi=Hn[--Vn],Hn[Vn]=null,Ea=Hn[--Vn],Hn[Vn]=null,Oa=Hn[--Vn],Hn[Vn]=null}function u_(i,o){Hn[Vn++]=Oa,Hn[Vn++]=Ea,Hn[Vn++]=Wi,Oa=o.id,Ea=o.overflow,Wi=i}var $r=null,$t=null,st=!1,Xi=null,Gn=!1,xy=Error(n(519));function Ji(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gu(Qn(o,i)),xy}function d_(i){var o=i.stateNode,d=i.type,m=i.memoizedProps;switch(o[Br]=i,o[dn]=m,d){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(d=0;d<Bu.length;d++)rt(Bu[d],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),_S(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),OS(o,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||m.suppressHydrationWarning===!0||AO(o.textContent,d)?(m.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),m.onScroll!=null&&rt("scroll",o),m.onScrollEnd!=null&&rt("scrollend",o),m.onClick!=null&&(o.onclick=Ya),o=!0):o=!1,o||Ji(i,!0)}function f_(i){for($r=i.return;$r;)switch($r.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:$r=$r.return}}function Nl(i){if(i!==$r)return!1;if(!st)return f_(i),st=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||Bv(i.type,i.memoizedProps)),d=!d),d&&$t&&Ji(i),f_(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));$t=LO(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));$t=LO(i)}else o===27?(o=$t,fs(i.type)?(i=Fv,Fv=null,$t=i):$t=o):$t=$r?Wn(i.stateNode.nextSibling):null;return!0}function ro(){$t=$r=null,st=!1}function wy(){var i=Xi;return i!==null&&(gn===null?gn=i:gn.push.apply(gn,i),Xi=null),i}function gu(i){Xi===null?Xi=[i]:Xi.push(i)}var jy=D(null),no=null,Za=null;function Zi(i,o,d){Z(jy,o._currentValue),o._currentValue=d}function ei(i){i._currentValue=jy.current,U(jy)}function Sy(i,o,d){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===d)break;i=i.return}}function _y(i,o,d,m){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var S=b.dependencies;if(S!==null){var A=b.child;S=S.firstContext;e:for(;S!==null;){var k=S;S=b;for(var $=0;$<o.length;$++)if(k.context===o[$]){S.lanes|=d,k=S.alternate,k!==null&&(k.lanes|=d),Sy(S.return,d,i),m||(A=null);break e}S=k.next}}else if(b.tag===18){if(A=b.return,A===null)throw Error(n(341));A.lanes|=d,S=A.alternate,S!==null&&(S.lanes|=d),Sy(A,d,i),A=null}else A=b.child;if(A!==null)A.return=b;else for(A=b;A!==null;){if(A===i){A=null;break}if(b=A.sibling,b!==null){b.return=A.return,A=b;break}A=A.return}b=A}}function Ol(i,o,d,m){i=null;for(var b=o,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var A=b.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var k=b.type;Nn(b.pendingProps.value,A.value)||(i!==null?i.push(k):i=[k])}}else if(b===pe.current){if(A=b.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(Fu):i=[Fu])}b=b.return}i!==null&&_y(o,i,d,m),o.flags|=262144}function Gf(i){for(i=i.firstContext;i!==null;){if(!Nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ao(i){no=i,Za=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ur(i){return h_(no,i)}function Yf(i,o){return no===null&&ao(i),h_(i,o)}function h_(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Za===null){if(i===null)throw Error(n(308));Za=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Za=Za.next=o;return d}var H3=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},V3=e.unstable_scheduleCallback,G3=e.unstable_NormalPriority,cr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ny(){return{controller:new H3,data:new Map,refCount:0}}function yu(i){i.refCount--,i.refCount===0&&V3(G3,function(){i.controller.abort()})}var vu=null,Oy=0,El=0,Al=null;function Y3(i,o){if(vu===null){var d=vu=[];Oy=0,El=Cv(),Al={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Oy++,o.then(m_,m_),o}function m_(){if(--Oy===0&&vu!==null){Al!==null&&(Al.status="fulfilled");var i=vu;vu=null,El=0,Al=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function W3(i,o){var d=[],m={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var b=0;b<d.length;b++)(0,d[b])(o)},function(b){for(m.status="rejected",m.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),m}var p_=L.S;L.S=function(i,o){JN=G(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Y3(i,o),p_!==null&&p_(i,o)};var io=D(null);function Ey(){var i=io.current;return i!==null?i:Dt.pooledCache}function Wf(i,o){o===null?Z(io,io.current):Z(io,o.pool)}function g_(){var i=Ey();return i===null?null:{parent:cr._currentValue,pool:i}}var Cl=Error(n(460)),Ay=Error(n(474)),Xf=Error(n(542)),Jf={then:function(){}};function y_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function v_(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(Ya,Ya),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,x_(i),i;default:if(typeof o.status=="string")o.then(Ya,Ya);else{if(i=Dt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=m}},function(m){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,x_(i),i}throw oo=o,Cl}}function so(i){try{var o=i._init;return o(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(oo=d,Cl):d}}var oo=null;function b_(){if(oo===null)throw Error(n(459));var i=oo;return oo=null,i}function x_(i){if(i===Cl||i===Xf)throw Error(n(483))}var kl=null,bu=0;function Zf(i){var o=bu;return bu+=1,kl===null&&(kl=[]),v_(kl,i,o)}function xu(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function eh(i,o){throw o.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function w_(i){function o(Q,F){if(i){var X=Q.deletions;X===null?(Q.deletions=[F],Q.flags|=16):X.push(F)}}function d(Q,F){if(!i)return null;for(;F!==null;)o(Q,F),F=F.sibling;return null}function m(Q){for(var F=new Map;Q!==null;)Q.key!==null?F.set(Q.key,Q):F.set(Q.index,Q),Q=Q.sibling;return F}function b(Q,F){return Q=Xa(Q,F),Q.index=0,Q.sibling=null,Q}function S(Q,F,X){return Q.index=X,i?(X=Q.alternate,X!==null?(X=X.index,X<F?(Q.flags|=67108866,F):X):(Q.flags|=67108866,F)):(Q.flags|=1048576,F)}function A(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function k(Q,F,X,ue){return F===null||F.tag!==6?(F=gy(X,Q.mode,ue),F.return=Q,F):(F=b(F,X),F.return=Q,F)}function $(Q,F,X,ue){var Re=X.type;return Re===w?le(Q,F,X.props.children,ue,X.key):F!==null&&(F.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&so(Re)===F.type)?(F=b(F,X.props),xu(F,X),F.return=Q,F):(F=Hf(X.type,X.key,X.props,null,Q.mode,ue),xu(F,X),F.return=Q,F)}function J(Q,F,X,ue){return F===null||F.tag!==4||F.stateNode.containerInfo!==X.containerInfo||F.stateNode.implementation!==X.implementation?(F=yy(X,Q.mode,ue),F.return=Q,F):(F=b(F,X.children||[]),F.return=Q,F)}function le(Q,F,X,ue,Re){return F===null||F.tag!==7?(F=to(X,Q.mode,ue,Re),F.return=Q,F):(F=b(F,X),F.return=Q,F)}function fe(Q,F,X){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=gy(""+F,Q.mode,X),F.return=Q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case v:return X=Hf(F.type,F.key,F.props,null,Q.mode,X),xu(X,F),X.return=Q,X;case x:return F=yy(F,Q.mode,X),F.return=Q,F;case R:return F=so(F),fe(Q,F,X)}if(ye(F)||K(F))return F=to(F,Q.mode,X,null),F.return=Q,F;if(typeof F.then=="function")return fe(Q,Zf(F),X);if(F.$$typeof===E)return fe(Q,Yf(Q,F),X);eh(Q,F)}return null}function ee(Q,F,X,ue){var Re=F!==null?F.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Re!==null?null:k(Q,F,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return X.key===Re?$(Q,F,X,ue):null;case x:return X.key===Re?J(Q,F,X,ue):null;case R:return X=so(X),ee(Q,F,X,ue)}if(ye(X)||K(X))return Re!==null?null:le(Q,F,X,ue,null);if(typeof X.then=="function")return ee(Q,F,Zf(X),ue);if(X.$$typeof===E)return ee(Q,F,Yf(Q,X),ue);eh(Q,X)}return null}function re(Q,F,X,ue,Re){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Q=Q.get(X)||null,k(F,Q,""+ue,Re);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case v:return Q=Q.get(ue.key===null?X:ue.key)||null,$(F,Q,ue,Re);case x:return Q=Q.get(ue.key===null?X:ue.key)||null,J(F,Q,ue,Re);case R:return ue=so(ue),re(Q,F,X,ue,Re)}if(ye(ue)||K(ue))return Q=Q.get(X)||null,le(F,Q,ue,Re,null);if(typeof ue.then=="function")return re(Q,F,X,Zf(ue),Re);if(ue.$$typeof===E)return re(Q,F,X,Yf(F,ue),Re);eh(F,ue)}return null}function Ee(Q,F,X,ue){for(var Re=null,ut=null,Ce=F,Ye=F=0,it=null;Ce!==null&&Ye<X.length;Ye++){Ce.index>Ye?(it=Ce,Ce=null):it=Ce.sibling;var dt=ee(Q,Ce,X[Ye],ue);if(dt===null){Ce===null&&(Ce=it);break}i&&Ce&&dt.alternate===null&&o(Q,Ce),F=S(dt,F,Ye),ut===null?Re=dt:ut.sibling=dt,ut=dt,Ce=it}if(Ye===X.length)return d(Q,Ce),st&&Ja(Q,Ye),Re;if(Ce===null){for(;Ye<X.length;Ye++)Ce=fe(Q,X[Ye],ue),Ce!==null&&(F=S(Ce,F,Ye),ut===null?Re=Ce:ut.sibling=Ce,ut=Ce);return st&&Ja(Q,Ye),Re}for(Ce=m(Ce);Ye<X.length;Ye++)it=re(Ce,Q,Ye,X[Ye],ue),it!==null&&(i&&it.alternate!==null&&Ce.delete(it.key===null?Ye:it.key),F=S(it,F,Ye),ut===null?Re=it:ut.sibling=it,ut=it);return i&&Ce.forEach(function(ys){return o(Q,ys)}),st&&Ja(Q,Ye),Re}function Be(Q,F,X,ue){if(X==null)throw Error(n(151));for(var Re=null,ut=null,Ce=F,Ye=F=0,it=null,dt=X.next();Ce!==null&&!dt.done;Ye++,dt=X.next()){Ce.index>Ye?(it=Ce,Ce=null):it=Ce.sibling;var ys=ee(Q,Ce,dt.value,ue);if(ys===null){Ce===null&&(Ce=it);break}i&&Ce&&ys.alternate===null&&o(Q,Ce),F=S(ys,F,Ye),ut===null?Re=ys:ut.sibling=ys,ut=ys,Ce=it}if(dt.done)return d(Q,Ce),st&&Ja(Q,Ye),Re;if(Ce===null){for(;!dt.done;Ye++,dt=X.next())dt=fe(Q,dt.value,ue),dt!==null&&(F=S(dt,F,Ye),ut===null?Re=dt:ut.sibling=dt,ut=dt);return st&&Ja(Q,Ye),Re}for(Ce=m(Ce);!dt.done;Ye++,dt=X.next())dt=re(Ce,Q,Ye,dt.value,ue),dt!==null&&(i&&dt.alternate!==null&&Ce.delete(dt.key===null?Ye:dt.key),F=S(dt,F,Ye),ut===null?Re=dt:ut.sibling=dt,ut=dt);return i&&Ce.forEach(function(oB){return o(Q,oB)}),st&&Ja(Q,Ye),Re}function kt(Q,F,X,ue){if(typeof X=="object"&&X!==null&&X.type===w&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case v:e:{for(var Re=X.key;F!==null;){if(F.key===Re){if(Re=X.type,Re===w){if(F.tag===7){d(Q,F.sibling),ue=b(F,X.props.children),ue.return=Q,Q=ue;break e}}else if(F.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&so(Re)===F.type){d(Q,F.sibling),ue=b(F,X.props),xu(ue,X),ue.return=Q,Q=ue;break e}d(Q,F);break}else o(Q,F);F=F.sibling}X.type===w?(ue=to(X.props.children,Q.mode,ue,X.key),ue.return=Q,Q=ue):(ue=Hf(X.type,X.key,X.props,null,Q.mode,ue),xu(ue,X),ue.return=Q,Q=ue)}return A(Q);case x:e:{for(Re=X.key;F!==null;){if(F.key===Re)if(F.tag===4&&F.stateNode.containerInfo===X.containerInfo&&F.stateNode.implementation===X.implementation){d(Q,F.sibling),ue=b(F,X.children||[]),ue.return=Q,Q=ue;break e}else{d(Q,F);break}else o(Q,F);F=F.sibling}ue=yy(X,Q.mode,ue),ue.return=Q,Q=ue}return A(Q);case R:return X=so(X),kt(Q,F,X,ue)}if(ye(X))return Ee(Q,F,X,ue);if(K(X)){if(Re=K(X),typeof Re!="function")throw Error(n(150));return X=Re.call(X),Be(Q,F,X,ue)}if(typeof X.then=="function")return kt(Q,F,Zf(X),ue);if(X.$$typeof===E)return kt(Q,F,Yf(Q,X),ue);eh(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,F!==null&&F.tag===6?(d(Q,F.sibling),ue=b(F,X),ue.return=Q,Q=ue):(d(Q,F),ue=gy(X,Q.mode,ue),ue.return=Q,Q=ue),A(Q)):d(Q,F)}return function(Q,F,X,ue){try{bu=0;var Re=kt(Q,F,X,ue);return kl=null,Re}catch(Ce){if(Ce===Cl||Ce===Xf)throw Ce;var ut=On(29,Ce,null,Q.mode);return ut.lanes=ue,ut.return=Q,ut}finally{}}}var lo=w_(!0),j_=w_(!1),es=!1;function Cy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ky(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ts(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function rs(i,o,d){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(gt&2)!==0){var b=m.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),m.pending=o,o=Qf(i),i_(i,null,d),o}return Kf(i,m,o,d),Qf(i)}function wu(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,d|=m,o.lanes=d,hS(i,d)}}function Py(i,o){var d=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var b=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var A={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?b=S=A:S=S.next=A,d=d.next}while(d!==null);S===null?b=S=o:S=S.next=o}else b=S=o;d={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var Ty=!1;function ju(){if(Ty){var i=Al;if(i!==null)throw i}}function Su(i,o,d,m){Ty=!1;var b=i.updateQueue;es=!1;var S=b.firstBaseUpdate,A=b.lastBaseUpdate,k=b.shared.pending;if(k!==null){b.shared.pending=null;var $=k,J=$.next;$.next=null,A===null?S=J:A.next=J,A=$;var le=i.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==A&&(k===null?le.firstBaseUpdate=J:k.next=J,le.lastBaseUpdate=$))}if(S!==null){var fe=b.baseState;A=0,le=J=$=null,k=S;do{var ee=k.lane&-536870913,re=ee!==k.lane;if(re?(at&ee)===ee:(m&ee)===ee){ee!==0&&ee===El&&(Ty=!0),le!==null&&(le=le.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ee=i,Be=k;ee=o;var kt=d;switch(Be.tag){case 1:if(Ee=Be.payload,typeof Ee=="function"){fe=Ee.call(kt,fe,ee);break e}fe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Be.payload,ee=typeof Ee=="function"?Ee.call(kt,fe,ee):Ee,ee==null)break e;fe=g({},fe,ee);break e;case 2:es=!0}}ee=k.callback,ee!==null&&(i.flags|=64,re&&(i.flags|=8192),re=b.callbacks,re===null?b.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(J=le=re,$=fe):le=le.next=re,A|=ee;if(k=k.next,k===null){if(k=b.shared.pending,k===null)break;re=k,k=re.next,re.next=null,b.lastBaseUpdate=re,b.shared.pending=null}}while(!0);le===null&&($=fe),b.baseState=$,b.firstBaseUpdate=J,b.lastBaseUpdate=le,S===null&&(b.shared.lanes=0),os|=A,i.lanes=A,i.memoizedState=fe}}function S_(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function __(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)S_(d[i],o)}var Pl=D(null),th=D(0);function N_(i,o){i=ci,Z(th,i),Z(Pl,o),ci=i|o.baseLanes}function Dy(){Z(th,ci),Z(Pl,Pl.current)}function My(){ci=th.current,U(Pl),U(th)}var En=D(null),Yn=null;function ns(i){var o=i.alternate;Z(sr,sr.current&1),Z(En,i),Yn===null&&(o===null||Pl.current!==null||o.memoizedState!==null)&&(Yn=i)}function Ry(i){Z(sr,sr.current),Z(En,i),Yn===null&&(Yn=i)}function O_(i){i.tag===22?(Z(sr,sr.current),Z(En,i),Yn===null&&(Yn=i)):as()}function as(){Z(sr,sr.current),Z(En,En.current)}function An(i){U(En),Yn===i&&(Yn=null),U(sr)}var sr=D(0);function rh(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||zv(d)||qv(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ti=0,He=null,At=null,ur=null,nh=!1,Tl=!1,co=!1,ah=0,_u=0,Dl=null,X3=0;function Jt(){throw Error(n(321))}function Iy(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!Nn(i[d],o[d]))return!1;return!0}function Ly(i,o,d,m,b,S){return ti=S,He=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,L.H=i===null||i.memoizedState===null?cN:Jy,co=!1,S=d(m,b),co=!1,Tl&&(S=A_(o,d,m,b)),E_(i),S}function E_(i){L.H=Eu;var o=At!==null&&At.next!==null;if(ti=0,ur=At=He=null,nh=!1,_u=0,Dl=null,o)throw Error(n(300));i===null||dr||(i=i.dependencies,i!==null&&Gf(i)&&(dr=!0))}function A_(i,o,d,m){He=i;var b=0;do{if(Tl&&(Dl=null),_u=0,Tl=!1,25<=b)throw Error(n(301));if(b+=1,ur=At=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}L.H=uN,S=o(d,m)}while(Tl);return S}function J3(){var i=L.H,o=i.useState()[0];return o=typeof o.then=="function"?Nu(o):o,i=i.useState()[0],(At!==null?At.memoizedState:null)!==i&&(He.flags|=1024),o}function By(){var i=ah!==0;return ah=0,i}function $y(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function Uy(i){if(nh){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}nh=!1}ti=0,ur=At=He=null,Tl=!1,_u=ah=0,Dl=null}function nn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?He.memoizedState=ur=i:ur=ur.next=i,ur}function or(){if(At===null){var i=He.alternate;i=i!==null?i.memoizedState:null}else i=At.next;var o=ur===null?He.memoizedState:ur.next;if(o!==null)ur=o,At=i;else{if(i===null)throw He.alternate===null?Error(n(467)):Error(n(310));At=i,i={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},ur===null?He.memoizedState=ur=i:ur=ur.next=i}return ur}function ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nu(i){var o=_u;return _u+=1,Dl===null&&(Dl=[]),i=v_(Dl,i,o),o=He,(ur===null?o.memoizedState:ur.next)===null&&(o=o.alternate,L.H=o===null||o.memoizedState===null?cN:Jy),i}function sh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nu(i);if(i.$$typeof===E)return Ur(i)}throw Error(n(438,String(i)))}function zy(i){var o=null,d=He.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var m=He.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=ih(),He.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),m=0;m<i;m++)d[m]=H;return o.index++,d}function ri(i,o){return typeof o=="function"?o(i):o}function oh(i){var o=or();return qy(o,At,i)}function qy(i,o,d){var m=i.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=d;var b=i.baseQueue,S=m.pending;if(S!==null){if(b!==null){var A=b.next;b.next=S.next,S.next=A}o.baseQueue=b=S,m.pending=null}if(S=i.baseState,b===null)i.memoizedState=S;else{o=b.next;var k=A=null,$=null,J=o,le=!1;do{var fe=J.lane&-536870913;if(fe!==J.lane?(at&fe)===fe:(ti&fe)===fe){var ee=J.revertLane;if(ee===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),fe===El&&(le=!0);else if((ti&ee)===ee){J=J.next,ee===El&&(le=!0);continue}else fe={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(k=$=fe,A=S):$=$.next=fe,He.lanes|=ee,os|=ee;fe=J.action,co&&d(S,fe),S=J.hasEagerState?J.eagerState:d(S,fe)}else ee={lane:fe,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(k=$=ee,A=S):$=$.next=ee,He.lanes|=fe,os|=fe;J=J.next}while(J!==null&&J!==o);if($===null?A=S:$.next=k,!Nn(S,i.memoizedState)&&(dr=!0,le&&(d=Al,d!==null)))throw d;i.memoizedState=S,i.baseState=A,i.baseQueue=$,m.lastRenderedState=S}return b===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Fy(i){var o=or(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var m=d.dispatch,b=d.pending,S=o.memoizedState;if(b!==null){d.pending=null;var A=b=b.next;do S=i(S,A.action),A=A.next;while(A!==b);Nn(S,o.memoizedState)||(dr=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),d.lastRenderedState=S}return[S,m]}function C_(i,o,d){var m=He,b=or(),S=st;if(S){if(d===void 0)throw Error(n(407));d=d()}else d=o();var A=!Nn((At||b).memoizedState,d);if(A&&(b.memoizedState=d,dr=!0),b=b.queue,Hy(T_.bind(null,m,b,i),[i]),b.getSnapshot!==o||A||ur!==null&&ur.memoizedState.tag&1){if(m.flags|=2048,Ml(9,{destroy:void 0},P_.bind(null,m,b,d,o),null),Dt===null)throw Error(n(349));S||(ti&127)!==0||k_(m,o,d)}return d}function k_(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=He.updateQueue,o===null?(o=ih(),He.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function P_(i,o,d,m){o.value=d,o.getSnapshot=m,D_(o)&&M_(i)}function T_(i,o,d){return d(function(){D_(o)&&M_(i)})}function D_(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!Nn(i,d)}catch{return!0}}function M_(i){var o=eo(i,2);o!==null&&yn(o,i,2)}function Ky(i){var o=nn();if(typeof i=="function"){var d=i;if(i=d(),co){Lr(!0);try{d()}finally{Lr(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:i},o}function R_(i,o,d,m){return i.baseState=d,qy(i,At,typeof m=="function"?m:ri)}function Z3(i,o,d,m,b){if(uh(i))throw Error(n(485));if(i=o.action,i!==null){var S={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){S.listeners.push(A)}};L.T!==null?d(!0):S.isTransition=!1,m(S),d=o.pending,d===null?(S.next=o.pending=S,I_(o,S)):(S.next=d.next,o.pending=d.next=S)}}function I_(i,o){var d=o.action,m=o.payload,b=i.state;if(o.isTransition){var S=L.T,A={};L.T=A;try{var k=d(b,m),$=L.S;$!==null&&$(A,k),L_(i,o,k)}catch(J){Qy(i,o,J)}finally{S!==null&&A.types!==null&&(S.types=A.types),L.T=S}}else try{S=d(b,m),L_(i,o,S)}catch(J){Qy(i,o,J)}}function L_(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){B_(i,o,m)},function(m){return Qy(i,o,m)}):B_(i,o,d)}function B_(i,o,d){o.status="fulfilled",o.value=d,$_(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,I_(i,d)))}function Qy(i,o,d){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=d,$_(o),o=o.next;while(o!==m)}i.action=null}function $_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function U_(i,o){return o}function z_(i,o){if(st){var d=Dt.formState;if(d!==null){e:{var m=He;if(st){if($t){t:{for(var b=$t,S=Gn;b.nodeType!==8;){if(!S){b=null;break t}if(b=Wn(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){$t=Wn(b.nextSibling),m=b.data==="F!";break e}}Ji(m)}m=!1}m&&(o=d[0])}}return d=nn(),d.memoizedState=d.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U_,lastRenderedState:o},d.queue=m,d=sN.bind(null,He,m),m.dispatch=d,m=Ky(!1),S=Xy.bind(null,He,!1,m.queue),m=nn(),b={state:o,dispatch:null,action:i,pending:null},m.queue=b,d=Z3.bind(null,He,b,S,d),b.dispatch=d,m.memoizedState=i,[o,d,!1]}function q_(i){var o=or();return F_(o,At,i)}function F_(i,o,d){if(o=qy(i,o,U_)[0],i=oh(ri)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Nu(o)}catch(A){throw A===Cl?Xf:A}else m=o;o=or();var b=o.queue,S=b.dispatch;return d!==o.memoizedState&&(He.flags|=2048,Ml(9,{destroy:void 0},eL.bind(null,b,d),null)),[m,S,i]}function eL(i,o){i.action=o}function K_(i){var o=or(),d=At;if(d!==null)return F_(o,d,i);or(),o=o.memoizedState,d=or();var m=d.queue.dispatch;return d.memoizedState=i,[o,m,!1]}function Ml(i,o,d,m){return i={tag:i,create:d,deps:m,inst:o,next:null},o=He.updateQueue,o===null&&(o=ih(),He.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(m=d.next,d.next=i,i.next=m,o.lastEffect=i),i}function Q_(){return or().memoizedState}function lh(i,o,d,m){var b=nn();He.flags|=i,b.memoizedState=Ml(1|o,{destroy:void 0},d,m===void 0?null:m)}function ch(i,o,d,m){var b=or();m=m===void 0?null:m;var S=b.memoizedState.inst;At!==null&&m!==null&&Iy(m,At.memoizedState.deps)?b.memoizedState=Ml(o,S,d,m):(He.flags|=i,b.memoizedState=Ml(1|o,S,d,m))}function H_(i,o){lh(8390656,8,i,o)}function Hy(i,o){ch(2048,8,i,o)}function tL(i){He.flags|=4;var o=He.updateQueue;if(o===null)o=ih(),He.updateQueue=o,o.events=[i];else{var d=o.events;d===null?o.events=[i]:d.push(i)}}function V_(i){var o=or().memoizedState;return tL({ref:o,nextImpl:i}),function(){if((gt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function G_(i,o){return ch(4,2,i,o)}function Y_(i,o){return ch(4,4,i,o)}function W_(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function X_(i,o,d){d=d!=null?d.concat([i]):null,ch(4,4,W_.bind(null,o,i),d)}function Vy(){}function J_(i,o){var d=or();o=o===void 0?null:o;var m=d.memoizedState;return o!==null&&Iy(o,m[1])?m[0]:(d.memoizedState=[i,o],i)}function Z_(i,o){var d=or();o=o===void 0?null:o;var m=d.memoizedState;if(o!==null&&Iy(o,m[1]))return m[0];if(m=i(),co){Lr(!0);try{i()}finally{Lr(!1)}}return d.memoizedState=[m,o],m}function Gy(i,o,d){return d===void 0||(ti&1073741824)!==0&&(at&261930)===0?i.memoizedState=o:(i.memoizedState=d,i=eO(),He.lanes|=i,os|=i,d)}function eN(i,o,d,m){return Nn(d,o)?d:Pl.current!==null?(i=Gy(i,d,m),Nn(i,o)||(dr=!0),i):(ti&42)===0||(ti&1073741824)!==0&&(at&261930)===0?(dr=!0,i.memoizedState=d):(i=eO(),He.lanes|=i,os|=i,o)}function tN(i,o,d,m,b){var S=V.p;V.p=S!==0&&8>S?S:8;var A=L.T,k={};L.T=k,Xy(i,!1,o,d);try{var $=b(),J=L.S;if(J!==null&&J(k,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var le=W3($,m);Ou(i,o,le,Pn(i))}else Ou(i,o,m,Pn(i))}catch(fe){Ou(i,o,{then:function(){},status:"rejected",reason:fe},Pn())}finally{V.p=S,A!==null&&k.types!==null&&(A.types=k.types),L.T=A}}function rL(){}function Yy(i,o,d,m){if(i.tag!==5)throw Error(n(476));var b=rN(i).queue;tN(i,b,o,ne,d===null?rL:function(){return nN(i),d(m)})}function rN(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:ne},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function nN(i){var o=rN(i);o.next===null&&(o=i.alternate.memoizedState),Ou(i,o.next.queue,{},Pn())}function Wy(){return Ur(Fu)}function aN(){return or().memoizedState}function iN(){return or().memoizedState}function nL(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=Pn();i=ts(d);var m=rs(o,i,d);m!==null&&(yn(m,o,d),wu(m,o,d)),o={cache:Ny()},i.payload=o;return}o=o.return}}function aL(i,o,d){var m=Pn();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},uh(i)?oN(o,d):(d=my(i,o,d,m),d!==null&&(yn(d,i,m),lN(d,o,m)))}function sN(i,o,d){var m=Pn();Ou(i,o,d,m)}function Ou(i,o,d,m){var b={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(uh(i))oN(o,b);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var A=o.lastRenderedState,k=S(A,d);if(b.hasEagerState=!0,b.eagerState=k,Nn(k,A))return Kf(i,o,b,0),Dt===null&&Ff(),!1}catch{}finally{}if(d=my(i,o,b,m),d!==null)return yn(d,i,m),lN(d,o,m),!0}return!1}function Xy(i,o,d,m){if(m={lane:2,revertLane:Cv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},uh(i)){if(o)throw Error(n(479))}else o=my(i,d,m,2),o!==null&&yn(o,i,2)}function uh(i){var o=i.alternate;return i===He||o!==null&&o===He}function oN(i,o){Tl=nh=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function lN(i,o,d){if((d&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,d|=m,o.lanes=d,hS(i,d)}}var Eu={readContext:Ur,use:sh,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};Eu.useEffectEvent=Jt;var cN={readContext:Ur,use:sh,useCallback:function(i,o){return nn().memoizedState=[i,o===void 0?null:o],i},useContext:Ur,useEffect:H_,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,lh(4194308,4,W_.bind(null,o,i),d)},useLayoutEffect:function(i,o){return lh(4194308,4,i,o)},useInsertionEffect:function(i,o){lh(4,2,i,o)},useMemo:function(i,o){var d=nn();o=o===void 0?null:o;var m=i();if(co){Lr(!0);try{i()}finally{Lr(!1)}}return d.memoizedState=[m,o],m},useReducer:function(i,o,d){var m=nn();if(d!==void 0){var b=d(o);if(co){Lr(!0);try{d(o)}finally{Lr(!1)}}}else b=o;return m.memoizedState=m.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},m.queue=i,i=i.dispatch=aL.bind(null,He,i),[m.memoizedState,i]},useRef:function(i){var o=nn();return i={current:i},o.memoizedState=i},useState:function(i){i=Ky(i);var o=i.queue,d=sN.bind(null,He,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:Vy,useDeferredValue:function(i,o){var d=nn();return Gy(d,i,o)},useTransition:function(){var i=Ky(!1);return i=tN.bind(null,He,i.queue,!0,!1),nn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var m=He,b=nn();if(st){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),Dt===null)throw Error(n(349));(at&127)!==0||k_(m,o,d)}b.memoizedState=d;var S={value:d,getSnapshot:o};return b.queue=S,H_(T_.bind(null,m,S,i),[i]),m.flags|=2048,Ml(9,{destroy:void 0},P_.bind(null,m,S,d,o),null),d},useId:function(){var i=nn(),o=Dt.identifierPrefix;if(st){var d=Ea,m=Oa;d=(m&~(1<<32-Rt(m)-1)).toString(32)+d,o="_"+o+"R_"+d,d=ah++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=X3++,o="_"+o+"r_"+d.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Wy,useFormState:z_,useActionState:z_,useOptimistic:function(i){var o=nn();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Xy.bind(null,He,!0,d),d.dispatch=o,[i,o]},useMemoCache:zy,useCacheRefresh:function(){return nn().memoizedState=nL.bind(null,He)},useEffectEvent:function(i){var o=nn(),d={impl:i};return o.memoizedState=d,function(){if((gt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Jy={readContext:Ur,use:sh,useCallback:J_,useContext:Ur,useEffect:Hy,useImperativeHandle:X_,useInsertionEffect:G_,useLayoutEffect:Y_,useMemo:Z_,useReducer:oh,useRef:Q_,useState:function(){return oh(ri)},useDebugValue:Vy,useDeferredValue:function(i,o){var d=or();return eN(d,At.memoizedState,i,o)},useTransition:function(){var i=oh(ri)[0],o=or().memoizedState;return[typeof i=="boolean"?i:Nu(i),o]},useSyncExternalStore:C_,useId:aN,useHostTransitionStatus:Wy,useFormState:q_,useActionState:q_,useOptimistic:function(i,o){var d=or();return R_(d,At,i,o)},useMemoCache:zy,useCacheRefresh:iN};Jy.useEffectEvent=V_;var uN={readContext:Ur,use:sh,useCallback:J_,useContext:Ur,useEffect:Hy,useImperativeHandle:X_,useInsertionEffect:G_,useLayoutEffect:Y_,useMemo:Z_,useReducer:Fy,useRef:Q_,useState:function(){return Fy(ri)},useDebugValue:Vy,useDeferredValue:function(i,o){var d=or();return At===null?Gy(d,i,o):eN(d,At.memoizedState,i,o)},useTransition:function(){var i=Fy(ri)[0],o=or().memoizedState;return[typeof i=="boolean"?i:Nu(i),o]},useSyncExternalStore:C_,useId:aN,useHostTransitionStatus:Wy,useFormState:K_,useActionState:K_,useOptimistic:function(i,o){var d=or();return At!==null?R_(d,At,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:zy,useCacheRefresh:iN};uN.useEffectEvent=V_;function Zy(i,o,d,m){o=i.memoizedState,d=d(m,o),d=d==null?o:g({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var ev={enqueueSetState:function(i,o,d){i=i._reactInternals;var m=Pn(),b=ts(m);b.payload=o,d!=null&&(b.callback=d),o=rs(i,b,m),o!==null&&(yn(o,i,m),wu(o,i,m))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var m=Pn(),b=ts(m);b.tag=1,b.payload=o,d!=null&&(b.callback=d),o=rs(i,b,m),o!==null&&(yn(o,i,m),wu(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=Pn(),m=ts(d);m.tag=2,o!=null&&(m.callback=o),o=rs(i,m,d),o!==null&&(yn(o,i,d),wu(o,i,d))}};function dN(i,o,d,m,b,S,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,S,A):o.prototype&&o.prototype.isPureReactComponent?!hu(d,m)||!hu(b,S):!0}function fN(i,o,d,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,m),o.state!==i&&ev.enqueueReplaceState(o,o.state,null)}function uo(i,o){var d=o;if("ref"in o){d={};for(var m in o)m!=="ref"&&(d[m]=o[m])}if(i=i.defaultProps){d===o&&(d=g({},d));for(var b in i)d[b]===void 0&&(d[b]=i[b])}return d}function hN(i){qf(i)}function mN(i){console.error(i)}function pN(i){qf(i)}function dh(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function gN(i,o,d){try{var m=i.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function tv(i,o,d){return d=ts(d),d.tag=3,d.payload={element:null},d.callback=function(){dh(i,o)},d}function yN(i){return i=ts(i),i.tag=3,i}function vN(i,o,d,m){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var S=m.value;i.payload=function(){return b(S)},i.callback=function(){gN(o,d,m)}}var A=d.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){gN(o,d,m),typeof b!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function iL(i,o,d,m,b){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=d.alternate,o!==null&&Ol(o,d,b,!0),d=En.current,d!==null){switch(d.tag){case 31:case 13:return Yn===null?Sh():d.alternate===null&&Zt===0&&(Zt=3),d.flags&=-257,d.flags|=65536,d.lanes=b,m===Jf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([m]):o.add(m),Ov(i,m,b)),!1;case 22:return d.flags|=65536,m===Jf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([m]):d.add(m)),Ov(i,m,b)),!1}throw Error(n(435,d.tag))}return Ov(i,m,b),Sh(),!1}if(st)return o=En.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,m!==xy&&(i=Error(n(422),{cause:m}),gu(Qn(i,d)))):(m!==xy&&(o=Error(n(423),{cause:m}),gu(Qn(o,d))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,m=Qn(m,d),b=tv(i.stateNode,m,b),Py(i,b),Zt!==4&&(Zt=2)),!1;var S=Error(n(520),{cause:m});if(S=Qn(S,d),Ru===null?Ru=[S]:Ru.push(S),Zt!==4&&(Zt=2),o===null)return!0;m=Qn(m,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=b&-b,d.lanes|=i,i=tv(d.stateNode,m,i),Py(d,i),!1;case 1:if(o=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ls===null||!ls.has(S))))return d.flags|=65536,b&=-b,d.lanes|=b,b=yN(b),vN(b,i,d,m),Py(d,b),!1}d=d.return}while(d!==null);return!1}var rv=Error(n(461)),dr=!1;function zr(i,o,d,m){o.child=i===null?j_(o,null,d,m):lo(o,i.child,d,m)}function bN(i,o,d,m,b){d=d.render;var S=o.ref;if("ref"in m){var A={};for(var k in m)k!=="ref"&&(A[k]=m[k])}else A=m;return ao(o),m=Ly(i,o,d,A,S,b),k=By(),i!==null&&!dr?($y(i,o,b),ni(i,o,b)):(st&&k&&vy(o),o.flags|=1,zr(i,o,m,b),o.child)}function xN(i,o,d,m,b){if(i===null){var S=d.type;return typeof S=="function"&&!py(S)&&S.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=S,wN(i,o,S,m,b)):(i=Hf(d.type,null,m,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,!uv(i,b)){var A=S.memoizedProps;if(d=d.compare,d=d!==null?d:hu,d(A,m)&&i.ref===o.ref)return ni(i,o,b)}return o.flags|=1,i=Xa(S,m),i.ref=o.ref,i.return=o,o.child=i}function wN(i,o,d,m,b){if(i!==null){var S=i.memoizedProps;if(hu(S,m)&&i.ref===o.ref)if(dr=!1,o.pendingProps=m=S,uv(i,b))(i.flags&131072)!==0&&(dr=!0);else return o.lanes=i.lanes,ni(i,o,b)}return nv(i,o,d,m,b)}function jN(i,o,d,m){var b=m.children,S=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|d:d,i!==null){for(m=o.child=i.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~S}else m=0,o.child=null;return SN(i,o,S,d,m)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Wf(o,S!==null?S.cachePool:null),S!==null?N_(o,S):Dy(),O_(o);else return m=o.lanes=536870912,SN(i,o,S!==null?S.baseLanes|d:d,d,m)}else S!==null?(Wf(o,S.cachePool),N_(o,S),as(),o.memoizedState=null):(i!==null&&Wf(o,null),Dy(),as());return zr(i,o,b,d),o.child}function Au(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function SN(i,o,d,m,b){var S=Ey();return S=S===null?null:{parent:cr._currentValue,pool:S},o.memoizedState={baseLanes:d,cachePool:S},i!==null&&Wf(o,null),Dy(),O_(o),i!==null&&Ol(i,o,m,!0),o.childLanes=b,null}function fh(i,o){return o=mh({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function _N(i,o,d){return lo(o,i.child,null,d),i=fh(o,o.pendingProps),i.flags|=2,An(o),o.memoizedState=null,i}function sL(i,o,d){var m=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(st){if(m.mode==="hidden")return i=fh(o,m),o.lanes=536870912,Au(null,i);if(Ry(o),(i=$t)?(i=IO(i,Gn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Wi!==null?{id:Oa,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},d=o_(i),d.return=o,o.child=d,$r=o,$t=null)):i=null,i===null)throw Ji(o);return o.lanes=536870912,null}return fh(o,m)}var S=i.memoizedState;if(S!==null){var A=S.dehydrated;if(Ry(o),b)if(o.flags&256)o.flags&=-257,o=_N(i,o,d);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(dr||Ol(i,o,d,!1),b=(d&i.childLanes)!==0,dr||b){if(m=Dt,m!==null&&(A=mS(m,d),A!==0&&A!==S.retryLane))throw S.retryLane=A,eo(i,A),yn(m,i,A),rv;Sh(),o=_N(i,o,d)}else i=S.treeContext,$t=Wn(A.nextSibling),$r=o,st=!0,Xi=null,Gn=!1,i!==null&&u_(o,i),o=fh(o,m),o.flags|=4096;return o}return i=Xa(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function hh(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function nv(i,o,d,m,b){return ao(o),d=Ly(i,o,d,m,void 0,b),m=By(),i!==null&&!dr?($y(i,o,b),ni(i,o,b)):(st&&m&&vy(o),o.flags|=1,zr(i,o,d,b),o.child)}function NN(i,o,d,m,b,S){return ao(o),o.updateQueue=null,d=A_(o,m,d,b),E_(i),m=By(),i!==null&&!dr?($y(i,o,S),ni(i,o,S)):(st&&m&&vy(o),o.flags|=1,zr(i,o,d,S),o.child)}function ON(i,o,d,m,b){if(ao(o),o.stateNode===null){var S=jl,A=d.contextType;typeof A=="object"&&A!==null&&(S=Ur(A)),S=new d(m,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=ev,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=m,S.state=o.memoizedState,S.refs={},Cy(o),A=d.contextType,S.context=typeof A=="object"&&A!==null?Ur(A):jl,S.state=o.memoizedState,A=d.getDerivedStateFromProps,typeof A=="function"&&(Zy(o,d,A,m),S.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(A=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),A!==S.state&&ev.enqueueReplaceState(S,S.state,null),Su(o,m,S,b),ju(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){S=o.stateNode;var k=o.memoizedProps,$=uo(d,k);S.props=$;var J=S.context,le=d.contextType;A=jl,typeof le=="object"&&le!==null&&(A=Ur(le));var fe=d.getDerivedStateFromProps;le=typeof fe=="function"||typeof S.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,le||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k||J!==A)&&fN(o,S,m,A),es=!1;var ee=o.memoizedState;S.state=ee,Su(o,m,S,b),ju(),J=o.memoizedState,k||ee!==J||es?(typeof fe=="function"&&(Zy(o,d,fe,m),J=o.memoizedState),($=es||dN(o,d,$,m,ee,J,A))?(le||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=J),S.props=m,S.state=J,S.context=A,m=$):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{S=o.stateNode,ky(i,o),A=o.memoizedProps,le=uo(d,A),S.props=le,fe=o.pendingProps,ee=S.context,J=d.contextType,$=jl,typeof J=="object"&&J!==null&&($=Ur(J)),k=d.getDerivedStateFromProps,(J=typeof k=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(A!==fe||ee!==$)&&fN(o,S,m,$),es=!1,ee=o.memoizedState,S.state=ee,Su(o,m,S,b),ju();var re=o.memoizedState;A!==fe||ee!==re||es||i!==null&&i.dependencies!==null&&Gf(i.dependencies)?(typeof k=="function"&&(Zy(o,d,k,m),re=o.memoizedState),(le=es||dN(o,d,le,m,ee,re,$)||i!==null&&i.dependencies!==null&&Gf(i.dependencies))?(J||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,re,$),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,re,$)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||A===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=re),S.props=m,S.state=re,S.context=$,m=le):(typeof S.componentDidUpdate!="function"||A===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),m=!1)}return S=m,hh(i,o),m=(o.flags&128)!==0,S||m?(S=o.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,i!==null&&m?(o.child=lo(o,i.child,null,b),o.child=lo(o,null,d,b)):zr(i,o,d,b),o.memoizedState=S.state,i=o.child):i=ni(i,o,b),i}function EN(i,o,d,m){return ro(),o.flags|=256,zr(i,o,d,m),o.child}var av={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iv(i){return{baseLanes:i,cachePool:g_()}}function sv(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=kn),i}function AN(i,o,d){var m=o.pendingProps,b=!1,S=(o.flags&128)!==0,A;if((A=S)||(A=i!==null&&i.memoizedState===null?!1:(sr.current&2)!==0),A&&(b=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,i===null){if(st){if(b?ns(o):as(),(i=$t)?(i=IO(i,Gn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Wi!==null?{id:Oa,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},d=o_(i),d.return=o,o.child=d,$r=o,$t=null)):i=null,i===null)throw Ji(o);return qv(i)?o.lanes=32:o.lanes=536870912,null}var k=m.children;return m=m.fallback,b?(as(),b=o.mode,k=mh({mode:"hidden",children:k},b),m=to(m,b,d,null),k.return=o,m.return=o,k.sibling=m,o.child=k,m=o.child,m.memoizedState=iv(d),m.childLanes=sv(i,A,d),o.memoizedState=av,Au(null,m)):(ns(o),ov(o,k))}var $=i.memoizedState;if($!==null&&(k=$.dehydrated,k!==null)){if(S)o.flags&256?(ns(o),o.flags&=-257,o=lv(i,o,d)):o.memoizedState!==null?(as(),o.child=i.child,o.flags|=128,o=null):(as(),k=m.fallback,b=o.mode,m=mh({mode:"visible",children:m.children},b),k=to(k,b,d,null),k.flags|=2,m.return=o,k.return=o,m.sibling=k,o.child=m,lo(o,i.child,null,d),m=o.child,m.memoizedState=iv(d),m.childLanes=sv(i,A,d),o.memoizedState=av,o=Au(null,m));else if(ns(o),qv(k)){if(A=k.nextSibling&&k.nextSibling.dataset,A)var J=A.dgst;A=J,m=Error(n(419)),m.stack="",m.digest=A,gu({value:m,source:null,stack:null}),o=lv(i,o,d)}else if(dr||Ol(i,o,d,!1),A=(d&i.childLanes)!==0,dr||A){if(A=Dt,A!==null&&(m=mS(A,d),m!==0&&m!==$.retryLane))throw $.retryLane=m,eo(i,m),yn(A,i,m),rv;zv(k)||Sh(),o=lv(i,o,d)}else zv(k)?(o.flags|=192,o.child=i.child,o=null):(i=$.treeContext,$t=Wn(k.nextSibling),$r=o,st=!0,Xi=null,Gn=!1,i!==null&&u_(o,i),o=ov(o,m.children),o.flags|=4096);return o}return b?(as(),k=m.fallback,b=o.mode,$=i.child,J=$.sibling,m=Xa($,{mode:"hidden",children:m.children}),m.subtreeFlags=$.subtreeFlags&65011712,J!==null?k=Xa(J,k):(k=to(k,b,d,null),k.flags|=2),k.return=o,m.return=o,m.sibling=k,o.child=m,Au(null,m),m=o.child,k=i.child.memoizedState,k===null?k=iv(d):(b=k.cachePool,b!==null?($=cr._currentValue,b=b.parent!==$?{parent:$,pool:$}:b):b=g_(),k={baseLanes:k.baseLanes|d,cachePool:b}),m.memoizedState=k,m.childLanes=sv(i,A,d),o.memoizedState=av,Au(i.child,m)):(ns(o),d=i.child,i=d.sibling,d=Xa(d,{mode:"visible",children:m.children}),d.return=o,d.sibling=null,i!==null&&(A=o.deletions,A===null?(o.deletions=[i],o.flags|=16):A.push(i)),o.child=d,o.memoizedState=null,d)}function ov(i,o){return o=mh({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function mh(i,o){return i=On(22,i,null,o),i.lanes=0,i}function lv(i,o,d){return lo(o,i.child,null,d),i=ov(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function CN(i,o,d){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),Sy(i.return,o,d)}function cv(i,o,d,m,b,S){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:b,treeForkCount:S}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=d,A.tailMode=b,A.treeForkCount=S)}function kN(i,o,d){var m=o.pendingProps,b=m.revealOrder,S=m.tail;m=m.children;var A=sr.current,k=(A&2)!==0;if(k?(A=A&1|2,o.flags|=128):A&=1,Z(sr,A),zr(i,o,m,d),m=st?pu:0,!k&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&CN(i,d,o);else if(i.tag===19)CN(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(d=o.child,b=null;d!==null;)i=d.alternate,i!==null&&rh(i)===null&&(b=d),d=d.sibling;d=b,d===null?(b=o.child,o.child=null):(b=d.sibling,d.sibling=null),cv(o,!1,b,d,S,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&rh(i)===null){o.child=b;break}i=b.sibling,b.sibling=d,d=b,b=i}cv(o,!0,d,null,S,m);break;case"together":cv(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function ni(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),os|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(Ol(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,d=Xa(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=Xa(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function uv(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Gf(i)))}function oL(i,o,d){switch(o.tag){case 3:ke(o,o.stateNode.containerInfo),Zi(o,cr,i.memoizedState.cache),ro();break;case 27:case 5:_e(o);break;case 4:ke(o,o.stateNode.containerInfo);break;case 10:Zi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Ry(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(ns(o),o.flags|=128,null):(d&o.child.childLanes)!==0?AN(i,o,d):(ns(o),i=ni(i,o,d),i!==null?i.sibling:null);ns(o);break;case 19:var b=(i.flags&128)!==0;if(m=(d&o.childLanes)!==0,m||(Ol(i,o,d,!1),m=(d&o.childLanes)!==0),b){if(m)return kN(i,o,d);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Z(sr,sr.current),m)break;return null;case 22:return o.lanes=0,jN(i,o,d,o.pendingProps);case 24:Zi(o,cr,i.memoizedState.cache)}return ni(i,o,d)}function PN(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)dr=!0;else{if(!uv(i,d)&&(o.flags&128)===0)return dr=!1,oL(i,o,d);dr=(i.flags&131072)!==0}else dr=!1,st&&(o.flags&1048576)!==0&&c_(o,pu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=so(o.elementType),o.type=i,typeof i=="function")py(i)?(m=uo(i,m),o.tag=1,o=ON(null,o,i,m,d)):(o.tag=0,o=nv(null,o,i,m,d));else{if(i!=null){var b=i.$$typeof;if(b===C){o.tag=11,o=bN(null,o,i,m,d);break e}else if(b===M){o.tag=14,o=xN(null,o,i,m,d);break e}}throw o=ie(i)||i,Error(n(306,o,""))}}return o;case 0:return nv(i,o,o.type,o.pendingProps,d);case 1:return m=o.type,b=uo(m,o.pendingProps),ON(i,o,m,b,d);case 3:e:{if(ke(o,o.stateNode.containerInfo),i===null)throw Error(n(387));m=o.pendingProps;var S=o.memoizedState;b=S.element,ky(i,o),Su(o,m,null,d);var A=o.memoizedState;if(m=A.cache,Zi(o,cr,m),m!==S.cache&&_y(o,[cr],d,!0),ju(),m=A.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=EN(i,o,m,d);break e}else if(m!==b){b=Qn(Error(n(424)),o),gu(b),o=EN(i,o,m,d);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for($t=Wn(i.firstChild),$r=o,st=!0,Xi=null,Gn=!0,d=j_(o,null,m,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(ro(),m===b){o=ni(i,o,d);break e}zr(i,o,m,d)}o=o.child}return o;case 26:return hh(i,o),i===null?(d=qO(o.type,null,o.pendingProps,null))?o.memoizedState=d:st||(d=o.type,i=o.pendingProps,m=kh(ve.current).createElement(d),m[Br]=o,m[dn]=i,qr(m,d,i),Or(m),o.stateNode=m):o.memoizedState=qO(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return _e(o),i===null&&st&&(m=o.stateNode=$O(o.type,o.pendingProps,ve.current),$r=o,Gn=!0,b=$t,fs(o.type)?(Fv=b,$t=Wn(m.firstChild)):$t=b),zr(i,o,o.pendingProps.children,d),hh(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&st&&((b=m=$t)&&(m=LL(m,o.type,o.pendingProps,Gn),m!==null?(o.stateNode=m,$r=o,$t=Wn(m.firstChild),Gn=!1,b=!0):b=!1),b||Ji(o)),_e(o),b=o.type,S=o.pendingProps,A=i!==null?i.memoizedProps:null,m=S.children,Bv(b,S)?m=null:A!==null&&Bv(b,A)&&(o.flags|=32),o.memoizedState!==null&&(b=Ly(i,o,J3,null,null,d),Fu._currentValue=b),hh(i,o),zr(i,o,m,d),o.child;case 6:return i===null&&st&&((i=d=$t)&&(d=BL(d,o.pendingProps,Gn),d!==null?(o.stateNode=d,$r=o,$t=null,i=!0):i=!1),i||Ji(o)),null;case 13:return AN(i,o,d);case 4:return ke(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=lo(o,null,m,d):zr(i,o,m,d),o.child;case 11:return bN(i,o,o.type,o.pendingProps,d);case 7:return zr(i,o,o.pendingProps,d),o.child;case 8:return zr(i,o,o.pendingProps.children,d),o.child;case 12:return zr(i,o,o.pendingProps.children,d),o.child;case 10:return m=o.pendingProps,Zi(o,o.type,m.value),zr(i,o,m.children,d),o.child;case 9:return b=o.type._context,m=o.pendingProps.children,ao(o),b=Ur(b),m=m(b),o.flags|=1,zr(i,o,m,d),o.child;case 14:return xN(i,o,o.type,o.pendingProps,d);case 15:return wN(i,o,o.type,o.pendingProps,d);case 19:return kN(i,o,d);case 31:return sL(i,o,d);case 22:return jN(i,o,d,o.pendingProps);case 24:return ao(o),m=Ur(cr),i===null?(b=Ey(),b===null&&(b=Dt,S=Ny(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=d),b=S),o.memoizedState={parent:m,cache:b},Cy(o),Zi(o,cr,b)):((i.lanes&d)!==0&&(ky(i,o),Su(o,null,null,d),ju()),b=i.memoizedState,S=o.memoizedState,b.parent!==m?(b={parent:m,cache:m},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),Zi(o,cr,m)):(m=S.cache,Zi(o,cr,m),m!==b.cache&&_y(o,[cr],d,!0))),zr(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function ai(i){i.flags|=4}function dv(i,o,d,m,b){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(aO())i.flags|=8192;else throw oo=Jf,Ay}else i.flags&=-16777217}function TN(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!VO(o))if(aO())i.flags|=8192;else throw oo=Jf,Ay}function ph(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?dS():536870912,i.lanes|=o,Bl|=o)}function Cu(i,o){if(!st)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Ut(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,m=0;if(o)for(var b=i.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=m,i.childLanes=d,o}function lL(i,o,d){var m=o.pendingProps;switch(by(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(o),null;case 1:return Ut(o),null;case 3:return d=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),ei(cr),te(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Nl(o)?ai(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,wy())),Ut(o),null;case 26:var b=o.type,S=o.memoizedState;return i===null?(ai(o),S!==null?(Ut(o),TN(o,S)):(Ut(o),dv(o,b,null,m,d))):S?S!==i.memoizedState?(ai(o),Ut(o),TN(o,S)):(Ut(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&ai(o),Ut(o),dv(o,b,i,m,d)),null;case 27:if(Pe(o),d=ve.current,b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&ai(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Ut(o),null}i=q.current,Nl(o)?d_(o):(i=$O(b,m,d),o.stateNode=i,ai(o))}return Ut(o),null;case 5:if(Pe(o),b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&ai(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Ut(o),null}if(S=q.current,Nl(o))d_(o);else{var A=kh(ve.current);switch(S){case 1:S=A.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=A.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=A.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?A.createElement("select",{is:m.is}):A.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?A.createElement(b,{is:m.is}):A.createElement(b)}}S[Br]=o,S[dn]=m;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)S.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=S;e:switch(qr(S,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ai(o)}}return Ut(o),dv(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,d),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&ai(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(i=ve.current,Nl(o)){if(i=o.stateNode,d=o.memoizedProps,m=null,b=$r,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}i[Br]=o,i=!!(i.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||AO(i.nodeValue,d)),i||Ji(o,!0)}else i=kh(i).createTextNode(m),i[Br]=o,o.stateNode=i}return Ut(o),null;case 31:if(d=o.memoizedState,i===null||i.memoizedState!==null){if(m=Nl(o),d!==null){if(i===null){if(!m)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Br]=o}else ro(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ut(o),i=!1}else d=wy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return o.flags&256?(An(o),o):(An(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Ut(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=Nl(o),m!==null&&m.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Br]=o}else ro(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ut(o),b=!1}else b=wy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(An(o),o):(An(o),null)}return An(o),(o.flags&128)!==0?(o.lanes=d,o):(d=m!==null,i=i!==null&&i.memoizedState!==null,d&&(m=o.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==b&&(m.flags|=2048)),d!==i&&d&&(o.child.flags|=8192),ph(o,o.updateQueue),Ut(o),null);case 4:return te(),i===null&&Dv(o.stateNode.containerInfo),Ut(o),null;case 10:return ei(o.type),Ut(o),null;case 19:if(U(sr),m=o.memoizedState,m===null)return Ut(o),null;if(b=(o.flags&128)!==0,S=m.rendering,S===null)if(b)Cu(m,!1);else{if(Zt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=rh(i),S!==null){for(o.flags|=128,Cu(m,!1),i=S.updateQueue,o.updateQueue=i,ph(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)s_(d,i),d=d.sibling;return Z(sr,sr.current&1|2),st&&Ja(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&G()>xh&&(o.flags|=128,b=!0,Cu(m,!1),o.lanes=4194304)}else{if(!b)if(i=rh(S),i!==null){if(o.flags|=128,b=!0,i=i.updateQueue,o.updateQueue=i,ph(o,i),Cu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!st)return Ut(o),null}else 2*G()-m.renderingStartTime>xh&&d!==536870912&&(o.flags|=128,b=!0,Cu(m,!1),o.lanes=4194304);m.isBackwards?(S.sibling=o.child,o.child=S):(i=m.last,i!==null?i.sibling=S:o.child=S,m.last=S)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=G(),i.sibling=null,d=sr.current,Z(sr,b?d&1|2:d&1),st&&Ja(o,m.treeForkCount),i):(Ut(o),null);case 22:case 23:return An(o),My(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(d&536870912)!==0&&(o.flags&128)===0&&(Ut(o),o.subtreeFlags&6&&(o.flags|=8192)):Ut(o),d=o.updateQueue,d!==null&&ph(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048),i!==null&&U(io),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),ei(cr),Ut(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function cL(i,o){switch(by(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ei(cr),te(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Pe(o),null;case 31:if(o.memoizedState!==null){if(An(o),o.alternate===null)throw Error(n(340));ro()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(An(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ro()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return U(sr),null;case 4:return te(),null;case 10:return ei(o.type),null;case 22:case 23:return An(o),My(),i!==null&&U(io),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ei(cr),null;case 25:return null;default:return null}}function DN(i,o){switch(by(o),o.tag){case 3:ei(cr),te();break;case 26:case 27:case 5:Pe(o);break;case 4:te();break;case 31:o.memoizedState!==null&&An(o);break;case 13:An(o);break;case 19:U(sr);break;case 10:ei(o.type);break;case 22:case 23:An(o),My(),i!==null&&U(io);break;case 24:ei(cr)}}function ku(i,o){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var b=m.next;d=b;do{if((d.tag&i)===i){m=void 0;var S=d.create,A=d.inst;m=S(),A.destroy=m}d=d.next}while(d!==b)}}catch(k){Nt(o,o.return,k)}}function is(i,o,d){try{var m=o.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var S=b.next;m=S;do{if((m.tag&i)===i){var A=m.inst,k=A.destroy;if(k!==void 0){A.destroy=void 0,b=o;var $=d,J=k;try{J()}catch(le){Nt(b,$,le)}}}m=m.next}while(m!==S)}}catch(le){Nt(o,o.return,le)}}function MN(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{__(o,d)}catch(m){Nt(i,i.return,m)}}}function RN(i,o,d){d.props=uo(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(m){Nt(i,o,m)}}function Pu(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof d=="function"?i.refCleanup=d(m):d.current=m}}catch(b){Nt(i,o,b)}}function Aa(i,o){var d=i.ref,m=i.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(b){Nt(i,o,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){Nt(i,o,b)}else d.current=null}function IN(i){var o=i.type,d=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(b){Nt(i,i.return,b)}}function fv(i,o,d){try{var m=i.stateNode;PL(m,i.type,d,o),m[dn]=o}catch(b){Nt(i,i.return,b)}}function LN(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&fs(i.type)||i.tag===4}function hv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||LN(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&fs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mv(i,o,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Ya));else if(m!==4&&(m===27&&fs(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(mv(i,o,d),i=i.sibling;i!==null;)mv(i,o,d),i=i.sibling}function gh(i,o,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(m!==4&&(m===27&&fs(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(gh(i,o,d),i=i.sibling;i!==null;)gh(i,o,d),i=i.sibling}function BN(i){var o=i.stateNode,d=i.memoizedProps;try{for(var m=i.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);qr(o,m,d),o[Br]=i,o[dn]=d}catch(S){Nt(i,i.return,S)}}var ii=!1,fr=!1,pv=!1,$N=typeof WeakSet=="function"?WeakSet:Set,Er=null;function uL(i,o){if(i=i.containerInfo,Iv=Lh,i=XS(i),ly(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var b=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var A=0,k=-1,$=-1,J=0,le=0,fe=i,ee=null;t:for(;;){for(var re;fe!==d||b!==0&&fe.nodeType!==3||(k=A+b),fe!==S||m!==0&&fe.nodeType!==3||($=A+m),fe.nodeType===3&&(A+=fe.nodeValue.length),(re=fe.firstChild)!==null;)ee=fe,fe=re;for(;;){if(fe===i)break t;if(ee===d&&++J===b&&(k=A),ee===S&&++le===m&&($=A),(re=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=re}d=k===-1||$===-1?null:{start:k,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(Lv={focusedElem:i,selectionRange:d},Lh=!1,Er=o;Er!==null;)if(o=Er,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Er=i;else for(;Er!==null;){switch(o=Er,S=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)b=i[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,d=o,b=S.memoizedProps,S=S.memoizedState,m=d.stateNode;try{var Ee=uo(d.type,b);i=m.getSnapshotBeforeUpdate(Ee,S),m.__reactInternalSnapshotBeforeUpdate=i}catch(Be){Nt(d,d.return,Be)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)Uv(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Uv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Er=i;break}Er=o.return}}function UN(i,o,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:oi(i,d),m&4&&ku(5,d);break;case 1:if(oi(i,d),m&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(A){Nt(d,d.return,A)}else{var b=uo(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(b,o,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Nt(d,d.return,A)}}m&64&&MN(d),m&512&&Pu(d,d.return);break;case 3:if(oi(i,d),m&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{__(i,o)}catch(A){Nt(d,d.return,A)}}break;case 27:o===null&&m&4&&BN(d);case 26:case 5:oi(i,d),o===null&&m&4&&IN(d),m&512&&Pu(d,d.return);break;case 12:oi(i,d);break;case 31:oi(i,d),m&4&&FN(i,d);break;case 13:oi(i,d),m&4&&KN(i,d),m&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=bL.bind(null,d),$L(i,d))));break;case 22:if(m=d.memoizedState!==null||ii,!m){o=o!==null&&o.memoizedState!==null||fr,b=ii;var S=fr;ii=m,(fr=o)&&!S?li(i,d,(d.subtreeFlags&8772)!==0):oi(i,d),ii=b,fr=S}break;case 30:break;default:oi(i,d)}}function zN(i){var o=i.alternate;o!==null&&(i.alternate=null,zN(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Qg(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Kt=null,hn=!1;function si(i,o,d){for(d=d.child;d!==null;)qN(i,o,d),d=d.sibling}function qN(i,o,d){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(vr,d)}catch{}switch(d.tag){case 26:fr||Aa(d,o),si(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:fr||Aa(d,o);var m=Kt,b=hn;fs(d.type)&&(Kt=d.stateNode,hn=!1),si(i,o,d),Uu(d.stateNode),Kt=m,hn=b;break;case 5:fr||Aa(d,o);case 6:if(m=Kt,b=hn,Kt=null,si(i,o,d),Kt=m,hn=b,Kt!==null)if(hn)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(d.stateNode)}catch(S){Nt(d,o,S)}else try{Kt.removeChild(d.stateNode)}catch(S){Nt(d,o,S)}break;case 18:Kt!==null&&(hn?(i=Kt,MO(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),Hl(i)):MO(Kt,d.stateNode));break;case 4:m=Kt,b=hn,Kt=d.stateNode.containerInfo,hn=!0,si(i,o,d),Kt=m,hn=b;break;case 0:case 11:case 14:case 15:is(2,d,o),fr||is(4,d,o),si(i,o,d);break;case 1:fr||(Aa(d,o),m=d.stateNode,typeof m.componentWillUnmount=="function"&&RN(d,o,m)),si(i,o,d);break;case 21:si(i,o,d);break;case 22:fr=(m=fr)||d.memoizedState!==null,si(i,o,d),fr=m;break;default:si(i,o,d)}}function FN(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Hl(i)}catch(d){Nt(o,o.return,d)}}}function KN(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Hl(i)}catch(d){Nt(o,o.return,d)}}function dL(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new $N),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new $N),o;default:throw Error(n(435,i.tag))}}function yh(i,o){var d=dL(i);o.forEach(function(m){if(!d.has(m)){d.add(m);var b=xL.bind(null,i,m);m.then(b,b)}})}function mn(i,o){var d=o.deletions;if(d!==null)for(var m=0;m<d.length;m++){var b=d[m],S=i,A=o,k=A;e:for(;k!==null;){switch(k.tag){case 27:if(fs(k.type)){Kt=k.stateNode,hn=!1;break e}break;case 5:Kt=k.stateNode,hn=!1;break e;case 3:case 4:Kt=k.stateNode.containerInfo,hn=!0;break e}k=k.return}if(Kt===null)throw Error(n(160));qN(S,A,b),Kt=null,hn=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)QN(o,i),o=o.sibling}var ua=null;function QN(i,o){var d=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:mn(o,i),pn(i),m&4&&(is(3,i,i.return),ku(3,i),is(5,i,i.return));break;case 1:mn(o,i),pn(i),m&512&&(fr||d===null||Aa(d,d.return)),m&64&&ii&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var b=ua;if(mn(o,i),pn(i),m&512&&(fr||d===null||Aa(d,d.return)),m&4){var S=d!==null?d.memoizedState:null;if(m=i.memoizedState,d===null)if(m===null)if(i.stateNode===null){e:{m=i.type,d=i.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":S=b.getElementsByTagName("title")[0],(!S||S[au]||S[Br]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(m),b.head.insertBefore(S,b.querySelector("head > title"))),qr(S,m,d),S[Br]=i,Or(S),m=S;break e;case"link":var A=QO("link","href",b).get(m+(d.href||""));if(A){for(var k=0;k<A.length;k++)if(S=A[k],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){A.splice(k,1);break t}}S=b.createElement(m),qr(S,m,d),b.head.appendChild(S);break;case"meta":if(A=QO("meta","content",b).get(m+(d.content||""))){for(k=0;k<A.length;k++)if(S=A[k],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){A.splice(k,1);break t}}S=b.createElement(m),qr(S,m,d),b.head.appendChild(S);break;default:throw Error(n(468,m))}S[Br]=i,Or(S),m=S}i.stateNode=m}else HO(b,i.type,i.stateNode);else i.stateNode=KO(b,m,i.memoizedProps);else S!==m?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,m===null?HO(b,i.type,i.stateNode):KO(b,m,i.memoizedProps)):m===null&&i.stateNode!==null&&fv(i,i.memoizedProps,d.memoizedProps)}break;case 27:mn(o,i),pn(i),m&512&&(fr||d===null||Aa(d,d.return)),d!==null&&m&4&&fv(i,i.memoizedProps,d.memoizedProps);break;case 5:if(mn(o,i),pn(i),m&512&&(fr||d===null||Aa(d,d.return)),i.flags&32){b=i.stateNode;try{pl(b,"")}catch(Ee){Nt(i,i.return,Ee)}}m&4&&i.stateNode!=null&&(b=i.memoizedProps,fv(i,b,d!==null?d.memoizedProps:b)),m&1024&&(pv=!0);break;case 6:if(mn(o,i),pn(i),m&4){if(i.stateNode===null)throw Error(n(162));m=i.memoizedProps,d=i.stateNode;try{d.nodeValue=m}catch(Ee){Nt(i,i.return,Ee)}}break;case 3:if(Dh=null,b=ua,ua=Ph(o.containerInfo),mn(o,i),ua=b,pn(i),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Hl(o.containerInfo)}catch(Ee){Nt(i,i.return,Ee)}pv&&(pv=!1,HN(i));break;case 4:m=ua,ua=Ph(i.stateNode.containerInfo),mn(o,i),pn(i),ua=m;break;case 12:mn(o,i),pn(i);break;case 31:mn(o,i),pn(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,yh(i,m)));break;case 13:mn(o,i),pn(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(bh=G()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,yh(i,m)));break;case 22:b=i.memoizedState!==null;var $=d!==null&&d.memoizedState!==null,J=ii,le=fr;if(ii=J||b,fr=le||$,mn(o,i),fr=le,ii=J,pn(i),m&8192)e:for(o=i.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(d===null||$||ii||fr||fo(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){$=d=o;try{if(S=$.stateNode,b)A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{k=$.stateNode;var fe=$.memoizedProps.style,ee=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;k.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ee){Nt($,$.return,Ee)}}}else if(o.tag===6){if(d===null){$=o;try{$.stateNode.nodeValue=b?"":$.memoizedProps}catch(Ee){Nt($,$.return,Ee)}}}else if(o.tag===18){if(d===null){$=o;try{var re=$.stateNode;b?RO(re,!0):RO($.stateNode,!1)}catch(Ee){Nt($,$.return,Ee)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,yh(i,d))));break;case 19:mn(o,i),pn(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,yh(i,m)));break;case 30:break;case 21:break;default:mn(o,i),pn(i)}}function pn(i){var o=i.flags;if(o&2){try{for(var d,m=i.return;m!==null;){if(LN(m)){d=m;break}m=m.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var b=d.stateNode,S=hv(i);gh(i,S,b);break;case 5:var A=d.stateNode;d.flags&32&&(pl(A,""),d.flags&=-33);var k=hv(i);gh(i,k,A);break;case 3:case 4:var $=d.stateNode.containerInfo,J=hv(i);mv(i,J,$);break;default:throw Error(n(161))}}catch(le){Nt(i,i.return,le)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function HN(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;HN(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function oi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)UN(i,o.alternate,o),o=o.sibling}function fo(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:is(4,o,o.return),fo(o);break;case 1:Aa(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&RN(o,o.return,d),fo(o);break;case 27:Uu(o.stateNode);case 26:case 5:Aa(o,o.return),fo(o);break;case 22:o.memoizedState===null&&fo(o);break;case 30:fo(o);break;default:fo(o)}i=i.sibling}}function li(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,b=i,S=o,A=S.flags;switch(S.tag){case 0:case 11:case 15:li(b,S,d),ku(4,S);break;case 1:if(li(b,S,d),m=S,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(J){Nt(m,m.return,J)}if(m=S,b=m.updateQueue,b!==null){var k=m.stateNode;try{var $=b.shared.hiddenCallbacks;if($!==null)for(b.shared.hiddenCallbacks=null,b=0;b<$.length;b++)S_($[b],k)}catch(J){Nt(m,m.return,J)}}d&&A&64&&MN(S),Pu(S,S.return);break;case 27:BN(S);case 26:case 5:li(b,S,d),d&&m===null&&A&4&&IN(S),Pu(S,S.return);break;case 12:li(b,S,d);break;case 31:li(b,S,d),d&&A&4&&FN(b,S);break;case 13:li(b,S,d),d&&A&4&&KN(b,S);break;case 22:S.memoizedState===null&&li(b,S,d),Pu(S,S.return);break;case 30:break;default:li(b,S,d)}o=o.sibling}}function gv(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&yu(d))}function yv(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&yu(i))}function da(i,o,d,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)VN(i,o,d,m),o=o.sibling}function VN(i,o,d,m){var b=o.flags;switch(o.tag){case 0:case 11:case 15:da(i,o,d,m),b&2048&&ku(9,o);break;case 1:da(i,o,d,m);break;case 3:da(i,o,d,m),b&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&yu(i)));break;case 12:if(b&2048){da(i,o,d,m),i=o.stateNode;try{var S=o.memoizedProps,A=S.id,k=S.onPostCommit;typeof k=="function"&&k(A,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch($){Nt(o,o.return,$)}}else da(i,o,d,m);break;case 31:da(i,o,d,m);break;case 13:da(i,o,d,m);break;case 23:break;case 22:S=o.stateNode,A=o.alternate,o.memoizedState!==null?S._visibility&2?da(i,o,d,m):Tu(i,o):S._visibility&2?da(i,o,d,m):(S._visibility|=2,Rl(i,o,d,m,(o.subtreeFlags&10256)!==0||!1)),b&2048&&gv(A,o);break;case 24:da(i,o,d,m),b&2048&&yv(o.alternate,o);break;default:da(i,o,d,m)}}function Rl(i,o,d,m,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=i,A=o,k=d,$=m,J=A.flags;switch(A.tag){case 0:case 11:case 15:Rl(S,A,k,$,b),ku(8,A);break;case 23:break;case 22:var le=A.stateNode;A.memoizedState!==null?le._visibility&2?Rl(S,A,k,$,b):Tu(S,A):(le._visibility|=2,Rl(S,A,k,$,b)),b&&J&2048&&gv(A.alternate,A);break;case 24:Rl(S,A,k,$,b),b&&J&2048&&yv(A.alternate,A);break;default:Rl(S,A,k,$,b)}o=o.sibling}}function Tu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,m=o,b=m.flags;switch(m.tag){case 22:Tu(d,m),b&2048&&gv(m.alternate,m);break;case 24:Tu(d,m),b&2048&&yv(m.alternate,m);break;default:Tu(d,m)}o=o.sibling}}var Du=8192;function Il(i,o,d){if(i.subtreeFlags&Du)for(i=i.child;i!==null;)GN(i,o,d),i=i.sibling}function GN(i,o,d){switch(i.tag){case 26:Il(i,o,d),i.flags&Du&&i.memoizedState!==null&&XL(d,ua,i.memoizedState,i.memoizedProps);break;case 5:Il(i,o,d);break;case 3:case 4:var m=ua;ua=Ph(i.stateNode.containerInfo),Il(i,o,d),ua=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=Du,Du=16777216,Il(i,o,d),Du=m):Il(i,o,d));break;default:Il(i,o,d)}}function YN(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Mu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];Er=m,XN(m,i)}YN(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)WN(i),i=i.sibling}function WN(i){switch(i.tag){case 0:case 11:case 15:Mu(i),i.flags&2048&&is(9,i,i.return);break;case 3:Mu(i);break;case 12:Mu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,vh(i)):Mu(i);break;default:Mu(i)}}function vh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];Er=m,XN(m,i)}YN(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:is(8,o,o.return),vh(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,vh(o));break;default:vh(o)}i=i.sibling}}function XN(i,o){for(;Er!==null;){var d=Er;switch(d.tag){case 0:case 11:case 15:is(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:yu(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Er=m;else e:for(d=i;Er!==null;){m=Er;var b=m.sibling,S=m.return;if(zN(m),m===d){Er=null;break e}if(b!==null){b.return=S,Er=b;break e}Er=S}}}var fL={getCacheForType:function(i){var o=Ur(cr),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d},cacheSignal:function(){return Ur(cr).controller.signal}},hL=typeof WeakMap=="function"?WeakMap:Map,gt=0,Dt=null,tt=null,at=0,_t=0,Cn=null,ss=!1,Ll=!1,vv=!1,ci=0,Zt=0,os=0,ho=0,bv=0,kn=0,Bl=0,Ru=null,gn=null,xv=!1,bh=0,JN=0,xh=1/0,wh=null,ls=null,br=0,cs=null,$l=null,ui=0,wv=0,jv=null,ZN=null,Iu=0,Sv=null;function Pn(){return(gt&2)!==0&&at!==0?at&-at:L.T!==null?Cv():pS()}function eO(){if(kn===0)if((at&536870912)===0||st){var i=Cf;Cf<<=1,(Cf&3932160)===0&&(Cf=262144),kn=i}else kn=536870912;return i=En.current,i!==null&&(i.flags|=32),kn}function yn(i,o,d){(i===Dt&&(_t===2||_t===9)||i.cancelPendingCommit!==null)&&(Ul(i,0),us(i,at,kn,!1)),nu(i,d),((gt&2)===0||i!==Dt)&&(i===Dt&&((gt&2)===0&&(ho|=d),Zt===4&&us(i,at,kn,!1)),Ca(i))}function tO(i,o,d){if((gt&6)!==0)throw Error(n(327));var m=!d&&(o&127)===0&&(o&i.expiredLanes)===0||ru(i,o),b=m?gL(i,o):Nv(i,o,!0),S=m;do{if(b===0){Ll&&!m&&us(i,o,0,!1);break}else{if(d=i.current.alternate,S&&!mL(d)){b=Nv(i,o,!1),S=!1;continue}if(b===2){if(S=o,i.errorRecoveryDisabledLanes&S)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var k=i;b=Ru;var $=k.current.memoizedState.isDehydrated;if($&&(Ul(k,A).flags|=256),A=Nv(k,A,!1),A!==2){if(vv&&!$){k.errorRecoveryDisabledLanes|=S,ho|=S,b=4;break e}S=gn,gn=b,S!==null&&(gn===null?gn=S:gn.push.apply(gn,S))}b=A}if(S=!1,b!==2)continue}}if(b===1){Ul(i,0),us(i,o,0,!0);break}e:{switch(m=i,S=b,S){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:us(m,o,kn,!ss);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=bh+300-G(),10<b)){if(us(m,o,kn,!ss),Pf(m,0,!0)!==0)break e;ui=o,m.timeoutHandle=TO(rO.bind(null,m,d,gn,wh,xv,o,kn,ho,Bl,ss,S,"Throttled",-0,0),b);break e}rO(m,d,gn,wh,xv,o,kn,ho,Bl,ss,S,null,-0,0)}}break}while(!0);Ca(i)}function rO(i,o,d,m,b,S,A,k,$,J,le,fe,ee,re){if(i.timeoutHandle=-1,fe=o.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ya},GN(o,S,fe);var Ee=(S&62914560)===S?bh-G():(S&4194048)===S?JN-G():0;if(Ee=JL(fe,Ee),Ee!==null){ui=S,i.cancelPendingCommit=Ee(uO.bind(null,i,o,S,d,m,b,A,k,$,le,fe,null,ee,re)),us(i,S,A,!J);return}}uO(i,o,S,d,m,b,A,k,$)}function mL(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var b=d[m],S=b.getSnapshot;b=b.value;try{if(!Nn(S(),b))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function us(i,o,d,m){o&=~bv,o&=~ho,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var b=o;0<b;){var S=31-Rt(b),A=1<<S;m[S]=-1,b&=~A}d!==0&&fS(i,d,o)}function jh(){return(gt&6)===0?(Lu(0),!1):!0}function _v(){if(tt!==null){if(_t===0)var i=tt.return;else i=tt,Za=no=null,Uy(i),kl=null,bu=0,i=tt;for(;i!==null;)DN(i.alternate,i),i=i.return;tt=null}}function Ul(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,ML(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),ui=0,_v(),Dt=i,tt=d=Xa(i.current,null),at=o,_t=0,Cn=null,ss=!1,Ll=ru(i,o),vv=!1,Bl=kn=bv=ho=os=Zt=0,gn=Ru=null,xv=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var b=31-Rt(m),S=1<<b;o|=i[b],m&=~S}return ci=o,Ff(),d}function nO(i,o){He=null,L.H=Eu,o===Cl||o===Xf?(o=b_(),_t=3):o===Ay?(o=b_(),_t=4):_t=o===rv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Cn=o,tt===null&&(Zt=1,dh(i,Qn(o,i.current)))}function aO(){var i=En.current;return i===null?!0:(at&4194048)===at?Yn===null:(at&62914560)===at||(at&536870912)!==0?i===Yn:!1}function iO(){var i=L.H;return L.H=Eu,i===null?Eu:i}function sO(){var i=L.A;return L.A=fL,i}function Sh(){Zt=4,ss||(at&4194048)!==at&&En.current!==null||(Ll=!0),(os&134217727)===0&&(ho&134217727)===0||Dt===null||us(Dt,at,kn,!1)}function Nv(i,o,d){var m=gt;gt|=2;var b=iO(),S=sO();(Dt!==i||at!==o)&&(wh=null,Ul(i,o)),o=!1;var A=Zt;e:do try{if(_t!==0&&tt!==null){var k=tt,$=Cn;switch(_t){case 8:_v(),A=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(o=!0);var J=_t;if(_t=0,Cn=null,zl(i,k,$,J),d&&Ll){A=0;break e}break;default:J=_t,_t=0,Cn=null,zl(i,k,$,J)}}pL(),A=Zt;break}catch(le){nO(i,le)}while(!0);return o&&i.shellSuspendCounter++,Za=no=null,gt=m,L.H=b,L.A=S,tt===null&&(Dt=null,at=0,Ff()),A}function pL(){for(;tt!==null;)oO(tt)}function gL(i,o){var d=gt;gt|=2;var m=iO(),b=sO();Dt!==i||at!==o?(wh=null,xh=G()+500,Ul(i,o)):Ll=ru(i,o);e:do try{if(_t!==0&&tt!==null){o=tt;var S=Cn;t:switch(_t){case 1:_t=0,Cn=null,zl(i,o,S,1);break;case 2:case 9:if(y_(S)){_t=0,Cn=null,lO(o);break}o=function(){_t!==2&&_t!==9||Dt!==i||(_t=7),Ca(i)},S.then(o,o);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:y_(S)?(_t=0,Cn=null,lO(o)):(_t=0,Cn=null,zl(i,o,S,7));break;case 5:var A=null;switch(tt.tag){case 26:A=tt.memoizedState;case 5:case 27:var k=tt;if(A?VO(A):k.stateNode.complete){_t=0,Cn=null;var $=k.sibling;if($!==null)tt=$;else{var J=k.return;J!==null?(tt=J,_h(J)):tt=null}break t}}_t=0,Cn=null,zl(i,o,S,5);break;case 6:_t=0,Cn=null,zl(i,o,S,6);break;case 8:_v(),Zt=6;break e;default:throw Error(n(462))}}yL();break}catch(le){nO(i,le)}while(!0);return Za=no=null,L.H=m,L.A=b,gt=d,tt!==null?0:(Dt=null,at=0,Ff(),Zt)}function yL(){for(;tt!==null&&!Yt();)oO(tt)}function oO(i){var o=PN(i.alternate,i,ci);i.memoizedProps=i.pendingProps,o===null?_h(i):tt=o}function lO(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=NN(d,o,o.pendingProps,o.type,void 0,at);break;case 11:o=NN(d,o,o.pendingProps,o.type.render,o.ref,at);break;case 5:Uy(o);default:DN(d,o),o=tt=s_(o,ci),o=PN(d,o,ci)}i.memoizedProps=i.pendingProps,o===null?_h(i):tt=o}function zl(i,o,d,m){Za=no=null,Uy(o),kl=null,bu=0;var b=o.return;try{if(iL(i,b,o,d,at)){Zt=1,dh(i,Qn(d,i.current)),tt=null;return}}catch(S){if(b!==null)throw tt=b,S;Zt=1,dh(i,Qn(d,i.current)),tt=null;return}o.flags&32768?(st||m===1?i=!0:Ll||(at&536870912)!==0?i=!1:(ss=i=!0,(m===2||m===9||m===3||m===6)&&(m=En.current,m!==null&&m.tag===13&&(m.flags|=16384))),cO(o,i)):_h(o)}function _h(i){var o=i;do{if((o.flags&32768)!==0){cO(o,ss);return}i=o.return;var d=lL(o.alternate,o,ci);if(d!==null){tt=d;return}if(o=o.sibling,o!==null){tt=o;return}tt=o=i}while(o!==null);Zt===0&&(Zt=5)}function cO(i,o){do{var d=cL(i.alternate,i);if(d!==null){d.flags&=32767,tt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){tt=i;return}tt=i=d}while(i!==null);Zt=6,tt=null}function uO(i,o,d,m,b,S,A,k,$){i.cancelPendingCommit=null;do Nh();while(br!==0);if((gt&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(S=o.lanes|o.childLanes,S|=hy,W5(i,d,S,A,k,$),i===Dt&&(tt=Dt=null,at=0),$l=o,cs=i,ui=d,wv=S,jv=b,ZN=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,wL(vt,function(){return pO(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=L.T,L.T=null,b=V.p,V.p=2,A=gt,gt|=4;try{uL(i,o,d)}finally{gt=A,V.p=b,L.T=m}}br=1,dO(),fO(),hO()}}function dO(){if(br===1){br=0;var i=cs,o=$l,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=L.T,L.T=null;var m=V.p;V.p=2;var b=gt;gt|=4;try{QN(o,i);var S=Lv,A=XS(i.containerInfo),k=S.focusedElem,$=S.selectionRange;if(A!==k&&k&&k.ownerDocument&&WS(k.ownerDocument.documentElement,k)){if($!==null&&ly(k)){var J=$.start,le=$.end;if(le===void 0&&(le=J),"selectionStart"in k)k.selectionStart=J,k.selectionEnd=Math.min(le,k.value.length);else{var fe=k.ownerDocument||document,ee=fe&&fe.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),Ee=k.textContent.length,Be=Math.min($.start,Ee),kt=$.end===void 0?Be:Math.min($.end,Ee);!re.extend&&Be>kt&&(A=kt,kt=Be,Be=A);var Q=YS(k,Be),F=YS(k,kt);if(Q&&F&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==F.node||re.focusOffset!==F.offset)){var X=fe.createRange();X.setStart(Q.node,Q.offset),re.removeAllRanges(),Be>kt?(re.addRange(X),re.extend(F.node,F.offset)):(X.setEnd(F.node,F.offset),re.addRange(X))}}}}for(fe=[],re=k;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<fe.length;k++){var ue=fe[k];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Lh=!!Iv,Lv=Iv=null}finally{gt=b,V.p=m,L.T=d}}i.current=o,br=2}}function fO(){if(br===2){br=0;var i=cs,o=$l,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=L.T,L.T=null;var m=V.p;V.p=2;var b=gt;gt|=4;try{UN(i,o.alternate,o)}finally{gt=b,V.p=m,L.T=d}}br=3}}function hO(){if(br===4||br===3){br=0,St();var i=cs,o=$l,d=ui,m=ZN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?br=5:(br=0,$l=cs=null,mO(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(ls=null),Fg(d),o=o.stateNode,lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(vr,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=L.T,b=V.p,V.p=2,L.T=null;try{for(var S=i.onRecoverableError,A=0;A<m.length;A++){var k=m[A];S(k.value,{componentStack:k.stack})}}finally{L.T=o,V.p=b}}(ui&3)!==0&&Nh(),Ca(i),b=i.pendingLanes,(d&261930)!==0&&(b&42)!==0?i===Sv?Iu++:(Iu=0,Sv=i):Iu=0,Lu(0)}}function mO(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,yu(o)))}function Nh(){return dO(),fO(),hO(),pO()}function pO(){if(br!==5)return!1;var i=cs,o=wv;wv=0;var d=Fg(ui),m=L.T,b=V.p;try{V.p=32>d?32:d,L.T=null,d=jv,jv=null;var S=cs,A=ui;if(br=0,$l=cs=null,ui=0,(gt&6)!==0)throw Error(n(331));var k=gt;if(gt|=4,WN(S.current),VN(S,S.current,A,d),gt=k,Lu(0,!1),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(vr,S)}catch{}return!0}finally{V.p=b,L.T=m,mO(i,o)}}function gO(i,o,d){o=Qn(d,o),o=tv(i.stateNode,o,2),i=rs(i,o,2),i!==null&&(nu(i,2),Ca(i))}function Nt(i,o,d){if(i.tag===3)gO(i,i,d);else for(;o!==null;){if(o.tag===3){gO(o,i,d);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ls===null||!ls.has(m))){i=Qn(d,i),d=yN(2),m=rs(o,d,2),m!==null&&(vN(d,m,o,i),nu(m,2),Ca(m));break}}o=o.return}}function Ov(i,o,d){var m=i.pingCache;if(m===null){m=i.pingCache=new hL;var b=new Set;m.set(o,b)}else b=m.get(o),b===void 0&&(b=new Set,m.set(o,b));b.has(d)||(vv=!0,b.add(d),i=vL.bind(null,i,o,d),o.then(i,i))}function vL(i,o,d){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Dt===i&&(at&d)===d&&(Zt===4||Zt===3&&(at&62914560)===at&&300>G()-bh?(gt&2)===0&&Ul(i,0):bv|=d,Bl===at&&(Bl=0)),Ca(i)}function yO(i,o){o===0&&(o=dS()),i=eo(i,o),i!==null&&(nu(i,o),Ca(i))}function bL(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),yO(i,d)}function xL(i,o){var d=0;switch(i.tag){case 31:case 13:var m=i.stateNode,b=i.memoizedState;b!==null&&(d=b.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),yO(i,d)}function wL(i,o){return se(i,o)}var Oh=null,ql=null,Ev=!1,Eh=!1,Av=!1,ds=0;function Ca(i){i!==ql&&i.next===null&&(ql===null?Oh=ql=i:ql=ql.next=i),Eh=!0,Ev||(Ev=!0,SL())}function Lu(i,o){if(!Av&&Eh){Av=!0;do for(var d=!1,m=Oh;m!==null;){if(i!==0){var b=m.pendingLanes;if(b===0)var S=0;else{var A=m.suspendedLanes,k=m.pingedLanes;S=(1<<31-Rt(42|i)+1)-1,S&=b&~(A&~k),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,wO(m,S))}else S=at,S=Pf(m,m===Dt?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||ru(m,S)||(d=!0,wO(m,S));m=m.next}while(d);Av=!1}}function jL(){vO()}function vO(){Eh=Ev=!1;var i=0;ds!==0&&DL()&&(i=ds);for(var o=G(),d=null,m=Oh;m!==null;){var b=m.next,S=bO(m,o);S===0?(m.next=null,d===null?Oh=b:d.next=b,b===null&&(ql=d)):(d=m,(i!==0||(S&3)!==0)&&(Eh=!0)),m=b}br!==0&&br!==5||Lu(i),ds!==0&&(ds=0)}function bO(i,o){for(var d=i.suspendedLanes,m=i.pingedLanes,b=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var A=31-Rt(S),k=1<<A,$=b[A];$===-1?((k&d)===0||(k&m)!==0)&&(b[A]=Y5(k,o)):$<=o&&(i.expiredLanes|=k),S&=~k}if(o=Dt,d=at,d=Pf(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,d===0||i===o&&(_t===2||_t===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&yt(m),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||ru(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(m!==null&&yt(m),Fg(d)){case 2:case 8:d=Ie;break;case 32:d=vt;break;case 268435456:d=Qe;break;default:d=vt}return m=xO.bind(null,i),d=se(d,m),i.callbackPriority=o,i.callbackNode=d,o}return m!==null&&m!==null&&yt(m),i.callbackPriority=2,i.callbackNode=null,2}function xO(i,o){if(br!==0&&br!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Nh()&&i.callbackNode!==d)return null;var m=at;return m=Pf(i,i===Dt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(tO(i,m,o),bO(i,G()),i.callbackNode!=null&&i.callbackNode===d?xO.bind(null,i):null)}function wO(i,o){if(Nh())return null;tO(i,o,!0)}function SL(){RL(function(){(gt&6)!==0?se(Le,jL):vO()})}function Cv(){if(ds===0){var i=El;i===0&&(i=Va,Va<<=1,(Va&261888)===0&&(Va=256)),ds=i}return ds}function jO(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Rf(""+i)}function SO(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function _L(i,o,d,m,b){if(o==="submit"&&d&&d.stateNode===b){var S=jO((b[dn]||null).action),A=m.submitter;A&&(o=(o=A[dn]||null)?jO(o.formAction):A.getAttribute("formAction"),o!==null&&(S=o,A=null));var k=new $f("action","action",null,m,b);i.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ds!==0){var $=A?SO(b,A):new FormData(b);Yy(d,{pending:!0,data:$,method:b.method,action:S},null,$)}}else typeof S=="function"&&(k.preventDefault(),$=A?SO(b,A):new FormData(b),Yy(d,{pending:!0,data:$,method:b.method,action:S},S,$))},currentTarget:b}]})}}for(var kv=0;kv<fy.length;kv++){var Pv=fy[kv],NL=Pv.toLowerCase(),OL=Pv[0].toUpperCase()+Pv.slice(1);ca(NL,"on"+OL)}ca(e_,"onAnimationEnd"),ca(t_,"onAnimationIteration"),ca(r_,"onAnimationStart"),ca("dblclick","onDoubleClick"),ca("focusin","onFocus"),ca("focusout","onBlur"),ca(q3,"onTransitionRun"),ca(F3,"onTransitionStart"),ca(K3,"onTransitionCancel"),ca(n_,"onTransitionEnd"),hl("onMouseEnter",["mouseout","mouseover"]),hl("onMouseLeave",["mouseout","mouseover"]),hl("onPointerEnter",["pointerout","pointerover"]),hl("onPointerLeave",["pointerout","pointerover"]),Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function _O(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var m=i[d],b=m.event;m=m.listeners;e:{var S=void 0;if(o)for(var A=m.length-1;0<=A;A--){var k=m[A],$=k.instance,J=k.currentTarget;if(k=k.listener,$!==S&&b.isPropagationStopped())break e;S=k,b.currentTarget=J;try{S(b)}catch(le){qf(le)}b.currentTarget=null,S=$}else for(A=0;A<m.length;A++){if(k=m[A],$=k.instance,J=k.currentTarget,k=k.listener,$!==S&&b.isPropagationStopped())break e;S=k,b.currentTarget=J;try{S(b)}catch(le){qf(le)}b.currentTarget=null,S=$}}}}function rt(i,o){var d=o[Kg];d===void 0&&(d=o[Kg]=new Set);var m=i+"__bubble";d.has(m)||(NO(o,i,2,!1),d.add(m))}function Tv(i,o,d){var m=0;o&&(m|=4),NO(d,i,m,o)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function Dv(i){if(!i[Ah]){i[Ah]=!0,vS.forEach(function(d){d!=="selectionchange"&&(EL.has(d)||Tv(d,!1,i),Tv(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ah]||(o[Ah]=!0,Tv("selectionchange",!1,o))}}function NO(i,o,d,m){switch(eE(o)){case 2:var b=tB;break;case 8:b=rB;break;default:b=Gv}d=b.bind(null,o,d,i),b=void 0,!Zg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),m?b!==void 0?i.addEventListener(o,d,{capture:!0,passive:b}):i.addEventListener(o,d,!0):b!==void 0?i.addEventListener(o,d,{passive:b}):i.addEventListener(o,d,!1)}function Mv(i,o,d,m,b){var S=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var k=m.stateNode.containerInfo;if(k===b)break;if(A===4)for(A=m.return;A!==null;){var $=A.tag;if(($===3||$===4)&&A.stateNode.containerInfo===b)return;A=A.return}for(;k!==null;){if(A=ul(k),A===null)return;if($=A.tag,$===5||$===6||$===26||$===27){m=S=A;continue e}k=k.parentNode}}m=m.return}kS(function(){var J=S,le=Xg(d),fe=[];e:{var ee=a_.get(i);if(ee!==void 0){var re=$f,Ee=i;switch(i){case"keypress":if(Lf(d)===0)break e;case"keydown":case"keyup":re=x3;break;case"focusin":Ee="focus",re=ny;break;case"focusout":Ee="blur",re=ny;break;case"beforeblur":case"afterblur":re=ny;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=DS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=l3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=S3;break;case e_:case t_:case r_:re=d3;break;case n_:re=N3;break;case"scroll":case"scrollend":re=s3;break;case"wheel":re=E3;break;case"copy":case"cut":case"paste":re=h3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=RS;break;case"toggle":case"beforetoggle":re=C3}var Be=(o&4)!==0,kt=!Be&&(i==="scroll"||i==="scrollend"),Q=Be?ee!==null?ee+"Capture":null:ee;Be=[];for(var F=J,X;F!==null;){var ue=F;if(X=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||X===null||Q===null||(ue=su(F,Q),ue!=null&&Be.push($u(F,ue,X))),kt)break;F=F.return}0<Be.length&&(ee=new re(ee,Ee,null,d,le),fe.push({event:ee,listeners:Be}))}}if((o&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",ee&&d!==Wg&&(Ee=d.relatedTarget||d.fromElement)&&(ul(Ee)||Ee[cl]))break e;if((re||ee)&&(ee=le.window===le?le:(ee=le.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(Ee=d.relatedTarget||d.toElement,re=J,Ee=Ee?ul(Ee):null,Ee!==null&&(kt=s(Ee),Be=Ee.tag,Ee!==kt||Be!==5&&Be!==27&&Be!==6)&&(Ee=null)):(re=null,Ee=J),re!==Ee)){if(Be=DS,ue="onMouseLeave",Q="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Be=RS,ue="onPointerLeave",Q="onPointerEnter",F="pointer"),kt=re==null?ee:iu(re),X=Ee==null?ee:iu(Ee),ee=new Be(ue,F+"leave",re,d,le),ee.target=kt,ee.relatedTarget=X,ue=null,ul(le)===J&&(Be=new Be(Q,F+"enter",Ee,d,le),Be.target=X,Be.relatedTarget=kt,ue=Be),kt=ue,re&&Ee)t:{for(Be=AL,Q=re,F=Ee,X=0,ue=Q;ue;ue=Be(ue))X++;ue=0;for(var Re=F;Re;Re=Be(Re))ue++;for(;0<X-ue;)Q=Be(Q),X--;for(;0<ue-X;)F=Be(F),ue--;for(;X--;){if(Q===F||F!==null&&Q===F.alternate){Be=Q;break t}Q=Be(Q),F=Be(F)}Be=null}else Be=null;re!==null&&OO(fe,ee,re,Be,!1),Ee!==null&&kt!==null&&OO(fe,kt,Ee,Be,!0)}}e:{if(ee=J?iu(J):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var ut=FS;else if(zS(ee))if(KS)ut=$3;else{ut=L3;var Ce=I3}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&Yg(J.elementType)&&(ut=FS):ut=B3;if(ut&&(ut=ut(i,J))){qS(fe,ut,d,le);break e}Ce&&Ce(i,ee,J),i==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&Gg(ee,"number",ee.value)}switch(Ce=J?iu(J):window,i){case"focusin":(zS(Ce)||Ce.contentEditable==="true")&&(bl=Ce,cy=J,mu=null);break;case"focusout":mu=cy=bl=null;break;case"mousedown":uy=!0;break;case"contextmenu":case"mouseup":case"dragend":uy=!1,JS(fe,d,le);break;case"selectionchange":if(z3)break;case"keydown":case"keyup":JS(fe,d,le)}var Ye;if(iy)e:{switch(i){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else vl?$S(i,d)&&(it="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(it="onCompositionStart");it&&(IS&&d.locale!=="ko"&&(vl||it!=="onCompositionStart"?it==="onCompositionEnd"&&vl&&(Ye=PS()):(Yi=le,ey="value"in Yi?Yi.value:Yi.textContent,vl=!0)),Ce=Ch(J,it),0<Ce.length&&(it=new MS(it,i,null,d,le),fe.push({event:it,listeners:Ce}),Ye?it.data=Ye:(Ye=US(d),Ye!==null&&(it.data=Ye)))),(Ye=P3?T3(i,d):D3(i,d))&&(it=Ch(J,"onBeforeInput"),0<it.length&&(Ce=new MS("onBeforeInput","beforeinput",null,d,le),fe.push({event:Ce,listeners:it}),Ce.data=Ye)),_L(fe,i,J,d,le)}_O(fe,o)})}function $u(i,o,d){return{instance:i,listener:o,currentTarget:d}}function Ch(i,o){for(var d=o+"Capture",m=[];i!==null;){var b=i,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=su(i,d),b!=null&&m.unshift($u(i,b,S)),b=su(i,o),b!=null&&m.push($u(i,b,S))),i.tag===3)return m;i=i.return}return[]}function AL(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function OO(i,o,d,m,b){for(var S=o._reactName,A=[];d!==null&&d!==m;){var k=d,$=k.alternate,J=k.stateNode;if(k=k.tag,$!==null&&$===m)break;k!==5&&k!==26&&k!==27||J===null||($=J,b?(J=su(d,S),J!=null&&A.unshift($u(d,J,$))):b||(J=su(d,S),J!=null&&A.push($u(d,J,$)))),d=d.return}A.length!==0&&i.push({event:o,listeners:A})}var CL=/\r\n?/g,kL=/\u0000|\uFFFD/g;function EO(i){return(typeof i=="string"?i:""+i).replace(CL,`
`).replace(kL,"")}function AO(i,o){return o=EO(o),EO(i)===o}function Ct(i,o,d,m,b,S){switch(d){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||pl(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&pl(i,""+m);break;case"className":Df(i,"class",m);break;case"tabIndex":Df(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Df(i,d,m);break;case"style":AS(i,m,S);break;case"data":if(o!=="object"){Df(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(d);break}m=Rf(""+m),i.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(o!=="input"&&Ct(i,o,"name",b.name,b,null),Ct(i,o,"formEncType",b.formEncType,b,null),Ct(i,o,"formMethod",b.formMethod,b,null),Ct(i,o,"formTarget",b.formTarget,b,null)):(Ct(i,o,"encType",b.encType,b,null),Ct(i,o,"method",b.method,b,null),Ct(i,o,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(d);break}m=Rf(""+m),i.setAttribute(d,m);break;case"onClick":m!=null&&(i.onclick=Ya);break;case"onScroll":m!=null&&rt("scroll",i);break;case"onScrollEnd":m!=null&&rt("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(d=m.__html,d!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}d=Rf(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(d,""+m):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":m===!0?i.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(d,m):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(d,m):i.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(d):i.setAttribute(d,m);break;case"popover":rt("beforetoggle",i),rt("toggle",i),Tf(i,"popover",m);break;case"xlinkActuate":Ga(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ga(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ga(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ga(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ga(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ga(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ga(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ga(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ga(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Tf(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=a3.get(d)||d,Tf(i,d,m))}}function Rv(i,o,d,m,b,S){switch(d){case"style":AS(i,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(d=m.__html,d!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"children":typeof m=="string"?pl(i,m):(typeof m=="number"||typeof m=="bigint")&&pl(i,""+m);break;case"onScroll":m!=null&&rt("scroll",i);break;case"onScrollEnd":m!=null&&rt("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bS.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),o=d.slice(2,b?d.length-7:void 0),S=i[dn]||null,S=S!=null?S[d]:null,typeof S=="function"&&i.removeEventListener(o,S,b),typeof m=="function")){typeof S!="function"&&S!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,m,b);break e}d in i?i[d]=m:m===!0?i.setAttribute(d,""):Tf(i,d,m)}}}function qr(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",i),rt("load",i);var m=!1,b=!1,S;for(S in d)if(d.hasOwnProperty(S)){var A=d[S];if(A!=null)switch(S){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ct(i,o,S,A,d,null)}}b&&Ct(i,o,"srcSet",d.srcSet,d,null),m&&Ct(i,o,"src",d.src,d,null);return;case"input":rt("invalid",i);var k=S=A=b=null,$=null,J=null;for(m in d)if(d.hasOwnProperty(m)){var le=d[m];if(le!=null)switch(m){case"name":b=le;break;case"type":A=le;break;case"checked":$=le;break;case"defaultChecked":J=le;break;case"value":S=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(137,o));break;default:Ct(i,o,m,le,d,null)}}_S(i,S,k,$,J,A,b,!1);return;case"select":rt("invalid",i),m=A=S=null;for(b in d)if(d.hasOwnProperty(b)&&(k=d[b],k!=null))switch(b){case"value":S=k;break;case"defaultValue":A=k;break;case"multiple":m=k;default:Ct(i,o,b,k,d,null)}o=S,d=A,i.multiple=!!m,o!=null?ml(i,!!m,o,!1):d!=null&&ml(i,!!m,d,!0);return;case"textarea":rt("invalid",i),S=b=m=null;for(A in d)if(d.hasOwnProperty(A)&&(k=d[A],k!=null))switch(A){case"value":m=k;break;case"defaultValue":b=k;break;case"children":S=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:Ct(i,o,A,k,d,null)}OS(i,m,b,S);return;case"option":for($ in d)if(d.hasOwnProperty($)&&(m=d[$],m!=null))switch($){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ct(i,o,$,m,d,null)}return;case"dialog":rt("beforetoggle",i),rt("toggle",i),rt("cancel",i),rt("close",i);break;case"iframe":case"object":rt("load",i);break;case"video":case"audio":for(m=0;m<Bu.length;m++)rt(Bu[m],i);break;case"image":rt("error",i),rt("load",i);break;case"details":rt("toggle",i);break;case"embed":case"source":case"link":rt("error",i),rt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in d)if(d.hasOwnProperty(J)&&(m=d[J],m!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ct(i,o,J,m,d,null)}return;default:if(Yg(o)){for(le in d)d.hasOwnProperty(le)&&(m=d[le],m!==void 0&&Rv(i,o,le,m,d,void 0));return}}for(k in d)d.hasOwnProperty(k)&&(m=d[k],m!=null&&Ct(i,o,k,m,d,null))}function PL(i,o,d,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,A=null,k=null,$=null,J=null,le=null;for(re in d){var fe=d[re];if(d.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":$=fe;default:m.hasOwnProperty(re)||Ct(i,o,re,null,m,fe)}}for(var ee in m){var re=m[ee];if(fe=d[ee],m.hasOwnProperty(ee)&&(re!=null||fe!=null))switch(ee){case"type":S=re;break;case"name":b=re;break;case"checked":J=re;break;case"defaultChecked":le=re;break;case"value":A=re;break;case"defaultValue":k=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,o));break;default:re!==fe&&Ct(i,o,ee,re,m,fe)}}Vg(i,A,k,$,J,le,S,b);return;case"select":re=A=k=ee=null;for(S in d)if($=d[S],d.hasOwnProperty(S)&&$!=null)switch(S){case"value":break;case"multiple":re=$;default:m.hasOwnProperty(S)||Ct(i,o,S,null,m,$)}for(b in m)if(S=m[b],$=d[b],m.hasOwnProperty(b)&&(S!=null||$!=null))switch(b){case"value":ee=S;break;case"defaultValue":k=S;break;case"multiple":A=S;default:S!==$&&Ct(i,o,b,S,m,$)}o=k,d=A,m=re,ee!=null?ml(i,!!d,ee,!1):!!m!=!!d&&(o!=null?ml(i,!!d,o,!0):ml(i,!!d,d?[]:"",!1));return;case"textarea":re=ee=null;for(k in d)if(b=d[k],d.hasOwnProperty(k)&&b!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Ct(i,o,k,null,m,b)}for(A in m)if(b=m[A],S=d[A],m.hasOwnProperty(A)&&(b!=null||S!=null))switch(A){case"value":ee=b;break;case"defaultValue":re=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==S&&Ct(i,o,A,b,m,S)}NS(i,ee,re);return;case"option":for(var Ee in d)if(ee=d[Ee],d.hasOwnProperty(Ee)&&ee!=null&&!m.hasOwnProperty(Ee))switch(Ee){case"selected":i.selected=!1;break;default:Ct(i,o,Ee,null,m,ee)}for($ in m)if(ee=m[$],re=d[$],m.hasOwnProperty($)&&ee!==re&&(ee!=null||re!=null))switch($){case"selected":i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Ct(i,o,$,ee,m,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in d)ee=d[Be],d.hasOwnProperty(Be)&&ee!=null&&!m.hasOwnProperty(Be)&&Ct(i,o,Be,null,m,ee);for(J in m)if(ee=m[J],re=d[J],m.hasOwnProperty(J)&&ee!==re&&(ee!=null||re!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(n(137,o));break;default:Ct(i,o,J,ee,m,re)}return;default:if(Yg(o)){for(var kt in d)ee=d[kt],d.hasOwnProperty(kt)&&ee!==void 0&&!m.hasOwnProperty(kt)&&Rv(i,o,kt,void 0,m,ee);for(le in m)ee=m[le],re=d[le],!m.hasOwnProperty(le)||ee===re||ee===void 0&&re===void 0||Rv(i,o,le,ee,m,re);return}}for(var Q in d)ee=d[Q],d.hasOwnProperty(Q)&&ee!=null&&!m.hasOwnProperty(Q)&&Ct(i,o,Q,null,m,ee);for(fe in m)ee=m[fe],re=d[fe],!m.hasOwnProperty(fe)||ee===re||ee==null&&re==null||Ct(i,o,fe,ee,m,re)}function CO(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TL(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var b=d[m],S=b.transferSize,A=b.initiatorType,k=b.duration;if(S&&k&&CO(A)){for(A=0,k=b.responseEnd,m+=1;m<d.length;m++){var $=d[m],J=$.startTime;if(J>k)break;var le=$.transferSize,fe=$.initiatorType;le&&CO(fe)&&($=$.responseEnd,A+=le*($<k?1:(k-J)/($-J)))}if(--m,o+=8*(S+A)/(b.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Iv=null,Lv=null;function kh(i){return i.nodeType===9?i:i.ownerDocument}function kO(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PO(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Bv(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var $v=null;function DL(){var i=window.event;return i&&i.type==="popstate"?i===$v?!1:($v=i,!0):($v=null,!1)}var TO=typeof setTimeout=="function"?setTimeout:void 0,ML=typeof clearTimeout=="function"?clearTimeout:void 0,DO=typeof Promise=="function"?Promise:void 0,RL=typeof queueMicrotask=="function"?queueMicrotask:typeof DO<"u"?function(i){return DO.resolve(null).then(i).catch(IL)}:TO;function IL(i){setTimeout(function(){throw i})}function fs(i){return i==="head"}function MO(i,o){var d=o,m=0;do{var b=d.nextSibling;if(i.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(m===0){i.removeChild(b),Hl(o);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Uu(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,Uu(d);for(var S=d.firstChild;S;){var A=S.nextSibling,k=S.nodeName;S[au]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&S.rel.toLowerCase()==="stylesheet"||d.removeChild(S),S=A}}else d==="body"&&Uu(i.ownerDocument.body);d=b}while(d);Hl(o)}function RO(i,o){var d=i;i=0;do{var m=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=m}while(d)}function Uv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Uv(d),Qg(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function LL(i,o,d,m){for(;i.nodeType===1;){var b=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[au])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=Wn(i.nextSibling),i===null)break}return null}function BL(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Wn(i.nextSibling),i===null))return null;return i}function IO(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Wn(i.nextSibling),i===null))return null;return i}function zv(i){return i.data==="$?"||i.data==="$~"}function qv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function $L(i,o){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||d.readyState!=="loading")o();else{var m=function(){o(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Wn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Fv=null;function LO(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(o===0)return Wn(i.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}i=i.nextSibling}return null}function BO(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return i;o--}else d!=="/$"&&d!=="/&"||o++}i=i.previousSibling}return null}function $O(i,o,d){switch(o=kh(d),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Uu(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Qg(i)}var Xn=new Map,UO=new Set;function Ph(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var di=V.d;V.d={f:UL,r:zL,D:qL,C:FL,L:KL,m:QL,X:VL,S:HL,M:GL};function UL(){var i=di.f(),o=jh();return i||o}function zL(i){var o=dl(i);o!==null&&o.tag===5&&o.type==="form"?nN(o):di.r(i)}var Fl=typeof document>"u"?null:document;function zO(i,o,d){var m=Fl;if(m&&typeof o=="string"&&o){var b=Fn(o);b='link[rel="'+i+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),UO.has(b)||(UO.add(b),i={rel:i,crossOrigin:d,href:o},m.querySelector(b)===null&&(o=m.createElement("link"),qr(o,"link",i),Or(o),m.head.appendChild(o)))}}function qL(i){di.D(i),zO("dns-prefetch",i,null)}function FL(i,o){di.C(i,o),zO("preconnect",i,o)}function KL(i,o,d){di.L(i,o,d);var m=Fl;if(m&&i&&o){var b='link[rel="preload"][as="'+Fn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Fn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Fn(d.imageSizes)+'"]')):b+='[href="'+Fn(i)+'"]';var S=b;switch(o){case"style":S=Kl(i);break;case"script":S=Ql(i)}Xn.has(S)||(i=g({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),Xn.set(S,i),m.querySelector(b)!==null||o==="style"&&m.querySelector(zu(S))||o==="script"&&m.querySelector(qu(S))||(o=m.createElement("link"),qr(o,"link",i),Or(o),m.head.appendChild(o)))}}function QL(i,o){di.m(i,o);var d=Fl;if(d&&i){var m=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+Fn(m)+'"][href="'+Fn(i)+'"]',S=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Ql(i)}if(!Xn.has(S)&&(i=g({rel:"modulepreload",href:i},o),Xn.set(S,i),d.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(qu(S)))return}m=d.createElement("link"),qr(m,"link",i),Or(m),d.head.appendChild(m)}}}function HL(i,o,d){di.S(i,o,d);var m=Fl;if(m&&i){var b=fl(m).hoistableStyles,S=Kl(i);o=o||"default";var A=b.get(S);if(!A){var k={loading:0,preload:null};if(A=m.querySelector(zu(S)))k.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},d),(d=Xn.get(S))&&Kv(i,d);var $=A=m.createElement("link");Or($),qr($,"link",i),$._p=new Promise(function(J,le){$.onload=J,$.onerror=le}),$.addEventListener("load",function(){k.loading|=1}),$.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Th(A,o,m)}A={type:"stylesheet",instance:A,count:1,state:k},b.set(S,A)}}}function VL(i,o){di.X(i,o);var d=Fl;if(d&&i){var m=fl(d).hoistableScripts,b=Ql(i),S=m.get(b);S||(S=d.querySelector(qu(b)),S||(i=g({src:i,async:!0},o),(o=Xn.get(b))&&Qv(i,o),S=d.createElement("script"),Or(S),qr(S,"link",i),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(b,S))}}function GL(i,o){di.M(i,o);var d=Fl;if(d&&i){var m=fl(d).hoistableScripts,b=Ql(i),S=m.get(b);S||(S=d.querySelector(qu(b)),S||(i=g({src:i,async:!0,type:"module"},o),(o=Xn.get(b))&&Qv(i,o),S=d.createElement("script"),Or(S),qr(S,"link",i),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(b,S))}}function qO(i,o,d,m){var b=(b=ve.current)?Ph(b):null;if(!b)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Kl(d.href),d=fl(b).hoistableStyles,m=d.get(o),m||(m={type:"style",instance:null,count:0,state:null},d.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=Kl(d.href);var S=fl(b).hoistableStyles,A=S.get(i);if(A||(b=b.ownerDocument||b,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,A),(S=b.querySelector(zu(i)))&&!S._p&&(A.instance=S,A.state.loading=5),Xn.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Xn.set(i,d),S||YL(b,i,d,A.state))),o&&m===null)throw Error(n(528,""));return A}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ql(d),d=fl(b).hoistableScripts,m=d.get(o),m||(m={type:"script",instance:null,count:0,state:null},d.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Kl(i){return'href="'+Fn(i)+'"'}function zu(i){return'link[rel="stylesheet"]['+i+"]"}function FO(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function YL(i,o,d,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),qr(o,"link",d),Or(o),i.head.appendChild(o))}function Ql(i){return'[src="'+Fn(i)+'"]'}function qu(i){return"script[async]"+i}function KO(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Fn(d.href)+'"]');if(m)return o.instance=m,Or(m),m;var b=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Or(m),qr(m,"style",b),Th(m,d.precedence,i),o.instance=m;case"stylesheet":b=Kl(d.href);var S=i.querySelector(zu(b));if(S)return o.state.loading|=4,o.instance=S,Or(S),S;m=FO(d),(b=Xn.get(b))&&Kv(m,b),S=(i.ownerDocument||i).createElement("link"),Or(S);var A=S;return A._p=new Promise(function(k,$){A.onload=k,A.onerror=$}),qr(S,"link",m),o.state.loading|=4,Th(S,d.precedence,i),o.instance=S;case"script":return S=Ql(d.src),(b=i.querySelector(qu(S)))?(o.instance=b,Or(b),b):(m=d,(b=Xn.get(S))&&(m=g({},d),Qv(m,b)),i=i.ownerDocument||i,b=i.createElement("script"),Or(b),qr(b,"link",m),i.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Th(m,d.precedence,i));return o.instance}function Th(i,o,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,S=b,A=0;A<m.length;A++){var k=m[A];if(k.dataset.precedence===o)S=k;else if(S!==b)break}S?S.parentNode.insertBefore(i,S.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function Kv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Qv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Dh=null;function QO(i,o,d){if(Dh===null){var m=new Map,b=Dh=new Map;b.set(d,m)}else b=Dh,m=b.get(d),m||(m=new Map,b.set(d,m));if(m.has(i))return m;for(m.set(i,null),d=d.getElementsByTagName(i),b=0;b<d.length;b++){var S=d[b];if(!(S[au]||S[Br]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var A=S.getAttribute(o)||"";A=i+A;var k=m.get(A);k?k.push(S):m.set(A,[S])}}return m}function HO(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function WL(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function VO(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function XL(i,o,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=Kl(m.href),S=o.querySelector(zu(b));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Mh.bind(i),o.then(i,i)),d.state.loading|=4,d.instance=S,Or(S);return}S=o.ownerDocument||o,m=FO(m),(b=Xn.get(b))&&Kv(m,b),S=S.createElement("link"),Or(S);var A=S;A._p=new Promise(function(k,$){A.onload=k,A.onerror=$}),qr(S,"link",m),d.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=Mh.bind(i),o.addEventListener("load",d),o.addEventListener("error",d))}}var Hv=0;function JL(i,o){return i.stylesheets&&i.count===0&&Ih(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var m=setTimeout(function(){if(i.stylesheets&&Ih(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+o);0<i.imgBytes&&Hv===0&&(Hv=62500*TL());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ih(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>Hv?50:800)+o);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function Mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ih(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Rh=null;function Ih(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Rh=new Map,o.forEach(ZL,i),Rh=null,Mh.call(i))}function ZL(i,o){if(!(o.state.loading&4)){var d=Rh.get(i);if(d)var m=d.get(null);else{d=new Map,Rh.set(i,d);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var A=b[S];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(d.set(A.dataset.precedence,A),m=A)}m&&d.set(null,m)}b=o.instance,A=b.getAttribute("data-precedence"),S=d.get(A)||m,S===m&&d.set(null,b),d.set(A,b),this.count++,m=Mh.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),S?S.parentNode.insertBefore(b,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),o.state.loading|=4}}var Fu={$$typeof:E,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function eB(i,o,d,m,b,S,A,k,$){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zg(0),this.hiddenUpdates=zg(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function GO(i,o,d,m,b,S,A,k,$,J,le,fe){return i=new eB(i,o,d,A,$,J,le,fe,k),o=1,S===!0&&(o|=24),S=On(3,null,null,o),i.current=S,S.stateNode=i,o=Ny(),o.refCount++,i.pooledCache=o,o.refCount++,S.memoizedState={element:m,isDehydrated:d,cache:o},Cy(S),i}function YO(i){return i?(i=jl,i):jl}function WO(i,o,d,m,b,S){b=YO(b),m.context===null?m.context=b:m.pendingContext=b,m=ts(o),m.payload={element:d},S=S===void 0?null:S,S!==null&&(m.callback=S),d=rs(i,m,o),d!==null&&(yn(d,i,o),wu(d,i,o))}function XO(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function Vv(i,o){XO(i,o),(i=i.alternate)&&XO(i,o)}function JO(i){if(i.tag===13||i.tag===31){var o=eo(i,67108864);o!==null&&yn(o,i,67108864),Vv(i,67108864)}}function ZO(i){if(i.tag===13||i.tag===31){var o=Pn();o=qg(o);var d=eo(i,o);d!==null&&yn(d,i,o),Vv(i,o)}}var Lh=!0;function tB(i,o,d,m){var b=L.T;L.T=null;var S=V.p;try{V.p=2,Gv(i,o,d,m)}finally{V.p=S,L.T=b}}function rB(i,o,d,m){var b=L.T;L.T=null;var S=V.p;try{V.p=8,Gv(i,o,d,m)}finally{V.p=S,L.T=b}}function Gv(i,o,d,m){if(Lh){var b=Yv(m);if(b===null)Mv(i,o,m,Bh,d),tE(i,m);else if(aB(b,i,o,d,m))m.stopPropagation();else if(tE(i,m),o&4&&-1<nB.indexOf(i)){for(;b!==null;){var S=dl(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var A=Ys(S.pendingLanes);if(A!==0){var k=S;for(k.pendingLanes|=2,k.entangledLanes|=2;A;){var $=1<<31-Rt(A);k.entanglements[1]|=$,A&=~$}Ca(S),(gt&6)===0&&(xh=G()+500,Lu(0))}}break;case 31:case 13:k=eo(S,2),k!==null&&yn(k,S,2),jh(),Vv(S,2)}if(S=Yv(m),S===null&&Mv(i,o,m,Bh,d),S===b)break;b=S}b!==null&&m.stopPropagation()}else Mv(i,o,m,null,d)}}function Yv(i){return i=Xg(i),Wv(i)}var Bh=null;function Wv(i){if(Bh=null,i=ul(i),i!==null){var o=s(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=l(o),i!==null)return i;i=null}else if(d===31){if(i=u(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Bh=i,null}function eE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case Le:return 2;case Ie:return 8;case vt:case xe:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var Xv=!1,hs=null,ms=null,ps=null,Ku=new Map,Qu=new Map,gs=[],nB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tE(i,o){switch(i){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Ku.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qu.delete(o.pointerId)}}function Hu(i,o,d,m,b,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:d,eventSystemFlags:m,nativeEvent:S,targetContainers:[b]},o!==null&&(o=dl(o),o!==null&&JO(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function aB(i,o,d,m,b){switch(o){case"focusin":return hs=Hu(hs,i,o,d,m,b),!0;case"dragenter":return ms=Hu(ms,i,o,d,m,b),!0;case"mouseover":return ps=Hu(ps,i,o,d,m,b),!0;case"pointerover":var S=b.pointerId;return Ku.set(S,Hu(Ku.get(S)||null,i,o,d,m,b)),!0;case"gotpointercapture":return S=b.pointerId,Qu.set(S,Hu(Qu.get(S)||null,i,o,d,m,b)),!0}return!1}function rE(i){var o=ul(i.target);if(o!==null){var d=s(o);if(d!==null){if(o=d.tag,o===13){if(o=l(d),o!==null){i.blockedOn=o,gS(i.priority,function(){ZO(d)});return}}else if(o===31){if(o=u(d),o!==null){i.blockedOn=o,gS(i.priority,function(){ZO(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function $h(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=Yv(i.nativeEvent);if(d===null){d=i.nativeEvent;var m=new d.constructor(d.type,d);Wg=m,d.target.dispatchEvent(m),Wg=null}else return o=dl(d),o!==null&&JO(o),i.blockedOn=d,!1;o.shift()}return!0}function nE(i,o,d){$h(i)&&d.delete(o)}function iB(){Xv=!1,hs!==null&&$h(hs)&&(hs=null),ms!==null&&$h(ms)&&(ms=null),ps!==null&&$h(ps)&&(ps=null),Ku.forEach(nE),Qu.forEach(nE)}function Uh(i,o){i.blockedOn===o&&(i.blockedOn=null,Xv||(Xv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iB)))}var zh=null;function aE(i){zh!==i&&(zh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){zh===i&&(zh=null);for(var o=0;o<i.length;o+=3){var d=i[o],m=i[o+1],b=i[o+2];if(typeof m!="function"){if(Wv(m||d)===null)continue;break}var S=dl(d);S!==null&&(i.splice(o,3),o-=3,Yy(S,{pending:!0,data:b,method:d.method,action:m},m,b))}}))}function Hl(i){function o($){return Uh($,i)}hs!==null&&Uh(hs,i),ms!==null&&Uh(ms,i),ps!==null&&Uh(ps,i),Ku.forEach(o),Qu.forEach(o);for(var d=0;d<gs.length;d++){var m=gs[d];m.blockedOn===i&&(m.blockedOn=null)}for(;0<gs.length&&(d=gs[0],d.blockedOn===null);)rE(d),d.blockedOn===null&&gs.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var b=d[m],S=d[m+1],A=b[dn]||null;if(typeof S=="function")A||aE(d);else if(A){var k=null;if(S&&S.hasAttribute("formAction")){if(b=S,A=S[dn]||null)k=A.formAction;else if(Wv(b)!==null)continue}else k=A.action;typeof k=="function"?d[m+1]=k:(d.splice(m,3),m-=3),aE(d)}}}function iE(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(A){return b=A})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function Jv(i){this._internalRoot=i}qh.prototype.render=Jv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,m=Pn();WO(d,m,i,o,null,null)},qh.prototype.unmount=Jv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;WO(i.current,2,null,i,null,null),jh(),o[cl]=null}};function qh(i){this._internalRoot=i}qh.prototype.unstable_scheduleHydration=function(i){if(i){var o=pS();i={blockedOn:null,target:i,priority:o};for(var d=0;d<gs.length&&o!==0&&o<gs[d].priority;d++);gs.splice(d,0,i),d===0&&rE(i)}};var sE=t.version;if(sE!=="19.2.4")throw Error(n(527,sE,"19.2.4"));V.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var sB={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{vr=Fh.inject(sB),lr=Fh}catch{}}return Gu.createRoot=function(i,o){if(!a(i))throw Error(n(299));var d=!1,m="",b=hN,S=mN,A=pN;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=GO(i,1,!1,null,null,d,m,null,b,S,A,iE),i[cl]=o.current,Dv(i),new Jv(o)},Gu.hydrateRoot=function(i,o,d){if(!a(i))throw Error(n(299));var m=!1,b="",S=hN,A=mN,k=pN,$=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(A=d.onCaughtError),d.onRecoverableError!==void 0&&(k=d.onRecoverableError),d.formState!==void 0&&($=d.formState)),o=GO(i,1,!0,o,d??null,m,b,$,S,A,k,iE),o.context=YO(null),d=o.current,m=Pn(),m=qg(m),b=ts(m),b.callback=null,rs(d,b,m),d=m,o.current.lanes=d,nu(o,d),Ca(o),i[cl]=o.current,Dv(i),new qh(o)},Gu.version="19.2.4",Gu}var yE;function bB(){if(yE)return n0.exports;yE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),n0.exports=vB(),n0.exports}var xB=bB();const wB=Qa(xB);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vE="popstate";function jB(e={}){function t(a,s){let{pathname:l="/",search:u="",hash:f=""}=Zo(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),ex("",{pathname:l,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let l=a.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");u=h===-1?f:f.slice(0,h)}return u+"#"+(typeof s=="string"?s:pd(s))}function n(a,s){ia(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return _B(t,r,n,e)}function Gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ia(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SB(){return Math.random().toString(36).substring(2,10)}function bE(e,t){return{usr:e.state,key:e.key,idx:t}}function ex(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zo(t):t,state:r,key:t&&t.key||n||SB()}}function pd({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function _B(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,l=a.history,u="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let _=p(),N=_==null?null:_-h;h=_,f&&f({action:u,location:w.location,delta:N})}function y(_,N){u="PUSH";let O=ex(w.location,_,N);r&&r(O,_),h=p()+1;let E=bE(O,h),C=w.createHref(O);try{l.pushState(E,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(C)}s&&f&&f({action:u,location:w.location,delta:1})}function v(_,N){u="REPLACE";let O=ex(w.location,_,N);r&&r(O,_),h=p();let E=bE(O,h),C=w.createHref(O);l.replaceState(E,"",C),s&&f&&f({action:u,location:w.location,delta:0})}function x(_){return NB(_)}let w={get action(){return u},get location(){return e(a,l)},listen(_){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(vE,g),f=_,()=>{a.removeEventListener(vE,g),f=null}},createHref(_){return t(a,_)},createURL:x,encodeLocation(_){let N=x(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:v,go(_){return l.go(_)}};return w}function NB(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:pd(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function kT(e,t,r="/"){return OB(e,t,r,!1)}function OB(e,t,r,n){let a=typeof t=="string"?Zo(t):t,s=Ai(a.pathname||"/",r);if(s==null)return null;let l=PT(e);EB(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=BB(s);u=IB(l[f],h,n)}return u}function PT(e,t=[],r=[],n="",a=!1){let s=(l,u,f=a,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&f)return;Gt(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=_i([n,p.relativePath]),y=r.concat(p);l.children&&l.children.length>0&&(Gt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),PT(l.children,t,y,g,f)),!(l.path==null&&!l.index)&&t.push({path:g,score:MB(g,l.index),routesMeta:y})};return e.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,u);else for(let h of TT(l.path))s(l,u,!0,h)}),t}function TT(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let l=TT(n.join("/")),u=[];return u.push(...l.map(f=>f===""?s:[s,f].join("/"))),a&&u.push(...l),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function EB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:RB(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var AB=/^:[\w-]+$/,CB=3,kB=2,PB=1,TB=10,DB=-2,xE=e=>e==="*";function MB(e,t){let r=e.split("/"),n=r.length;return r.some(xE)&&(n+=DB),t&&(n+=kB),r.filter(a=>!xE(a)).reduce((a,s)=>a+(AB.test(s)?CB:s===""?PB:TB),n)}function RB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function IB(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",l=[];for(let u=0;u<n.length;++u){let f=n[u],h=u===n.length-1,p=s==="/"?t:t.slice(s.length)||"/",g=Om({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=Om({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:_i([s,g.pathname]),pathnameBase:qB(_i([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=_i([s,g.pathnameBase]))}return l}function Om(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=LB(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let x=u[y]||"";l=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=u[y];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:e}}function LB(e,t=!1,r=!0){ia(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function BB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ia(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ai(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var $B=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function UB(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Zo(e):e,s;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?s=wE(r.substring(1),"/"):s=wE(r,t)):s=t,{pathname:s,search:FB(n),hash:KB(a)}}function wE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function o0(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zB(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Dw(e){let t=zB(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Mw(e,t,r,n=!1){let a;typeof e=="string"?a=Zo(e):(a={...e},Gt(!a.pathname||!a.pathname.includes("?"),o0("?","pathname","search",a)),Gt(!a.pathname||!a.pathname.includes("#"),o0("#","pathname","hash",a)),Gt(!a.search||!a.search.includes("#"),o0("#","search","hash",a)));let s=e===""||a.pathname==="",l=s?"/":a.pathname,u;if(l==null)u=r;else{let g=t.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}u=g>=0?t[g]:"/"}let f=UB(a,u),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var _i=e=>e.join("/").replace(/\/\/+/g,"/"),qB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,QB=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function HB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function VB(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var DT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function MT(e,t){let r=e;if(typeof r!="string"||!$B.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(DT)try{let s=new URL(window.location.href),l=r.startsWith("//")?new URL(s.protocol+r):new URL(r),u=Ai(l.pathname,t);l.origin===s.origin&&u!=null?r=u+l.search+l.hash:a=!0}catch{ia(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RT=["POST","PUT","PATCH","DELETE"];new Set(RT);var GB=["GET",...RT];new Set(GB);var $c=j.createContext(null);$c.displayName="DataRouter";var kp=j.createContext(null);kp.displayName="DataRouterState";var YB=j.createContext(!1),IT=j.createContext({isTransitioning:!1});IT.displayName="ViewTransition";var WB=j.createContext(new Map);WB.displayName="Fetchers";var XB=j.createContext(null);XB.displayName="Await";var $n=j.createContext(null);$n.displayName="Navigation";var Vd=j.createContext(null);Vd.displayName="Location";var Sa=j.createContext({outlet:null,matches:[],isDataRoute:!1});Sa.displayName="Route";var Rw=j.createContext(null);Rw.displayName="RouteError";var LT="REACT_ROUTER_ERROR",JB="REDIRECT",ZB="ROUTE_ERROR_RESPONSE";function e6(e){if(e.startsWith(`${LT}:${JB}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function t6(e){if(e.startsWith(`${LT}:${ZB}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new QB(t.status,t.statusText,t.data)}catch{}}function r6(e,{relative:t}={}){Gt(Uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext($n),{hash:a,pathname:s,search:l}=Gd(e,{relative:t}),u=s;return r!=="/"&&(u=s==="/"?r:_i([r,s])),n.createHref({pathname:u,search:l,hash:a})}function Uc(){return j.useContext(Vd)!=null}function Un(){return Gt(Uc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Vd).location}var BT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $T(e){j.useContext($n).static||j.useLayoutEffect(e)}function Et(){let{isDataRoute:e}=j.useContext(Sa);return e?p6():n6()}function n6(){Gt(Uc(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext($c),{basename:t,navigator:r}=j.useContext($n),{matches:n}=j.useContext(Sa),{pathname:a}=Un(),s=JSON.stringify(Dw(n)),l=j.useRef(!1);return $T(()=>{l.current=!0}),j.useCallback((f,h={})=>{if(ia(l.current,BT),!l.current)return;if(typeof f=="number"){r.go(f);return}let p=Mw(f,JSON.parse(s),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:_i([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,s,a,e])}j.createContext(null);function zn(){let{matches:e}=j.useContext(Sa),t=e[e.length-1];return t?t.params:{}}function Gd(e,{relative:t}={}){let{matches:r}=j.useContext(Sa),{pathname:n}=Un(),a=JSON.stringify(Dw(r));return j.useMemo(()=>Mw(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function a6(e,t){return UT(e,t)}function UT(e,t,r,n,a){var O;Gt(Uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext($n),{matches:l}=j.useContext(Sa),u=l[l.length-1],f=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let E=g&&g.path||"";qT(h,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=Un(),v;if(t){let E=typeof t=="string"?Zo(t):t;Gt(p==="/"||((O=E.pathname)==null?void 0:O.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=y;let x=v.pathname||"/",w=x;if(p!=="/"){let E=p.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=kT(e,{pathname:w});ia(g||_!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ia(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=c6(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:_i([p,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:_i([p,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),l,r,n,a);return t&&N?j.createElement(Vd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},N):N}function i6(){let e=m6(),t=HB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:a},r):null,l)}var s6=j.createElement(i6,null),zT=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=t6(e.digest);r&&(e=r)}let t=e!==void 0?j.createElement(Sa.Provider,{value:this.props.routeContext},j.createElement(Rw.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(o6,{error:e},t):t}};zT.contextType=YB;var l0=new WeakMap;function o6({children:e,error:t}){let{basename:r}=j.useContext($n);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=e6(t.digest);if(n){let a=l0.get(t);if(a)throw a;let s=MT(n.location,r);if(DT&&!l0.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw l0.set(t,l),l}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function l6({routeContext:e,match:t,children:r}){let n=j.useContext($c);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Sa.Provider,{value:e},r)}function c6(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=r==null?void 0:r.errors;if(l!=null){let p=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Gt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,f=-1;if(r)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:y,errors:v}=r,x=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||x){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=r&&n?(p,g)=>{var y,v;n(p,{location:r.location,params:((v=(y=r.matches)==null?void 0:y[0])==null?void 0:v.params)??{},unstable_pattern:VB(r.matches),errorInfo:g})}:void 0;return s.reduceRight((p,g,y)=>{let v,x=!1,w=null,_=null;r&&(v=l&&g.route.id?l[g.route.id]:void 0,w=g.route.errorElement||s6,u&&(f<0&&y===0?(qT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,_=null):f===y&&(x=!0,_=g.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,y+1)),O=()=>{let E;return v?E=w:x?E=_:g.route.Component?E=j.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=p,j.createElement(l6,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:r!=null},children:E})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?j.createElement(zT,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:O(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):O()},null)}function Iw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u6(e){let t=j.useContext($c);return Gt(t,Iw(e)),t}function d6(e){let t=j.useContext(kp);return Gt(t,Iw(e)),t}function f6(e){let t=j.useContext(Sa);return Gt(t,Iw(e)),t}function Lw(e){let t=f6(e),r=t.matches[t.matches.length-1];return Gt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function h6(){return Lw("useRouteId")}function m6(){var n;let e=j.useContext(Rw),t=d6("useRouteError"),r=Lw("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function p6(){let{router:e}=u6("useNavigate"),t=Lw("useNavigate"),r=j.useRef(!1);return $T(()=>{r.current=!0}),j.useCallback(async(a,s={})=>{ia(r.current,BT),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var jE={};function qT(e,t,r){!t&&!jE[e]&&(jE[e]=!0,ia(!1,r))}j.memo(g6);function g6({routes:e,future:t,state:r,onError:n}){return UT(e,void 0,r,n,t)}function Ve({to:e,replace:t,state:r,relative:n}){Gt(Uc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext($n);ia(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=j.useContext(Sa),{pathname:l}=Un(),u=Et(),f=Mw(e,Dw(s),l,n==="path"),h=JSON.stringify(f);return j.useEffect(()=>{u(JSON.parse(h),{replace:t,state:r,relative:n})},[u,h,n,t,r]),null}function Xe(e){Gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y6({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:l}){Gt(!Uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:a,static:s,unstable_useTransitions:l,future:{}}),[u,a,s,l]);typeof r=="string"&&(r=Zo(r));let{pathname:h="/",search:p="",hash:g="",state:y=null,key:v="default"}=r,x=j.useMemo(()=>{let w=Ai(h,u);return w==null?null:{location:{pathname:w,search:p,hash:g,state:y,key:v},navigationType:n}},[u,h,p,g,y,v,n]);return ia(x!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement($n.Provider,{value:f},j.createElement(Vd.Provider,{children:t,value:x}))}function v6({children:e,location:t}){return a6(tx(e),t)}function tx(e,t=[]){let r=[];return j.Children.forEach(e,(n,a)=>{if(!j.isValidElement(n))return;let s=[...t,a];if(n.type===j.Fragment){r.push.apply(r,tx(n.props.children,s));return}Gt(n.type===Xe,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=tx(n.props.children,s)),r.push(l)}),r}var ym="get",vm="application/x-www-form-urlencoded";function Pp(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function b6(e){return Pp(e)&&e.tagName.toLowerCase()==="button"}function x6(e){return Pp(e)&&e.tagName.toLowerCase()==="form"}function w6(e){return Pp(e)&&e.tagName.toLowerCase()==="input"}function j6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function S6(e,t){return e.button===0&&(!t||t==="_self")&&!j6(e)}var Qh=null;function _6(){if(Qh===null)try{new FormData(document.createElement("form"),0),Qh=!1}catch{Qh=!0}return Qh}var N6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function c0(e){return e!=null&&!N6.has(e)?(ia(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vm}"`),null):e}function O6(e,t){let r,n,a,s,l;if(x6(e)){let u=e.getAttribute("action");n=u?Ai(u,t):null,r=e.getAttribute("method")||ym,a=c0(e.getAttribute("enctype"))||vm,s=new FormData(e)}else if(b6(e)||w6(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(n=f?Ai(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||ym,a=c0(e.getAttribute("formenctype"))||c0(u.getAttribute("enctype"))||vm,s=new FormData(u,e),!_6()){let{name:h,type:p,value:g}=e;if(p==="image"){let y=h?`${h}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else h&&s.append(h,g)}}else{if(Pp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ym,n=null,a=vm,l=e}return s&&a==="text/plain"&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function E6(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&Ai(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function A6(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function C6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function k6(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let l=await A6(s,r);return l.links?l.links():[]}return[]}));return M6(n.flat(1).filter(C6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function SE(e,t,r,n,a,s){let l=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,u=(f,h)=>{var p;return r[h].pathname!==f.pathname||((p=r[h].route.path)==null?void 0:p.endsWith("*"))&&r[h].params["*"]!==f.params["*"]};return s==="assets"?t.filter((f,h)=>l(f,h)||u(f,h)):s==="data"?t.filter((f,h)=>{var g;let p=n.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function P6(e,t,{includeHydrateFallback:r}={}){return T6(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function T6(e){return[...new Set(e)]}function D6(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function M6(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(D6(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function FT(){let e=j.useContext($c);return Bw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function R6(){let e=j.useContext(kp);return Bw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var $w=j.createContext(void 0);$w.displayName="FrameworkContext";function KT(){let e=j.useContext($w);return Bw(e,"You must render this element inside a <HydratedRouter> element"),e}function I6(e,t){let r=j.useContext($w),[n,a]=j.useState(!1),[s,l]=j.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,y=j.useRef(null);j.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=N=>{N.forEach(O=>{l(O.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[e]),j.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{a(!0)},x=()=>{a(!1),l(!1)};return r?e!=="intent"?[s,y,{}]:[s,y,{onFocus:Yu(u,v),onBlur:Yu(f,x),onMouseEnter:Yu(h,v),onMouseLeave:Yu(p,x),onTouchStart:Yu(g,v)}]:[!1,y,{}]}function Yu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function L6({page:e,...t}){let{router:r}=FT(),n=j.useMemo(()=>kT(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?j.createElement($6,{page:e,matches:n,...t}):null}function B6(e){let{manifest:t,routeModules:r}=KT(),[n,a]=j.useState([]);return j.useEffect(()=>{let s=!1;return k6(e,t,r).then(l=>{s||a(l)}),()=>{s=!0}},[e,t,r]),n}function $6({page:e,matches:t,...r}){let n=Un(),{future:a,manifest:s,routeModules:l}=KT(),{basename:u}=FT(),{loaderData:f,matches:h}=R6(),p=j.useMemo(()=>SE(e,t,h,s,n,"data"),[e,t,h,s,n]),g=j.useMemo(()=>SE(e,t,h,s,n,"assets"),[e,t,h,s,n]),y=j.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,_=!1;if(t.forEach(O=>{var C;let E=s.routes[O.route.id];!E||!E.hasLoader||(!p.some(T=>T.route.id===O.route.id)&&O.route.id in f&&((C=l[O.route.id])!=null&&C.shouldRevalidate)||E.hasClientLoader?_=!0:w.add(O.route.id))}),w.size===0)return[];let N=E6(e,u,a.unstable_trailingSlashAwareDataRequests,"data");return _&&w.size>0&&N.searchParams.set("_routes",t.filter(O=>w.has(O.route.id)).map(O=>O.route.id).join(",")),[N.pathname+N.search]},[u,a.unstable_trailingSlashAwareDataRequests,f,n,s,p,t,e,l]),v=j.useMemo(()=>P6(g,s),[g,s]),x=B6(g);return j.createElement(j.Fragment,null,y.map(w=>j.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),v.map(w=>j.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),x.map(({key:w,link:_})=>j.createElement("link",{key:w,nonce:r.nonce,..._,crossOrigin:_.crossOrigin??r.crossOrigin})))}function U6(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var z6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z6&&(window.__reactRouterVersion="7.13.0")}catch{}function q6({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=j.useRef();a.current==null&&(a.current=jB({window:n,v5Compat:!0}));let s=a.current,[l,u]=j.useState({action:s.action,location:s.location}),f=j.useCallback(h=>{r===!1?u(h):j.startTransition(()=>u(h))},[r]);return j.useLayoutEffect(()=>s.listen(f),[s,f]),j.createElement(y6,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:r})}var QT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cc=j.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:l,state:u,target:f,to:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...v},x){let{basename:w,unstable_useTransitions:_}=j.useContext($n),N=typeof h=="string"&&QT.test(h),O=MT(h,w);h=O.to;let E=r6(h,{relative:a}),[C,T,P]=I6(n,v),M=H6(h,{replace:l,state:u,target:f,preventScrollReset:p,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:_});function R(H){t&&t(H),H.defaultPrevented||M(H)}let B=j.createElement("a",{...v,...P,href:O.absoluteURL||E,onClick:O.isExternal||s?t:R,ref:U6(x,T),target:f,"data-discover":!N&&r==="render"?"true":void 0});return C&&!N?j.createElement(j.Fragment,null,B,j.createElement(L6,{page:E})):B});Cc.displayName="Link";var F6=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:l,viewTransition:u,children:f,...h},p){let g=Gd(l,{relative:h.relative}),y=Un(),v=j.useContext(kp),{navigator:x,basename:w}=j.useContext($n),_=v!=null&&X6(g)&&u===!0,N=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,O=y.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(O=O.toLowerCase(),E=E?E.toLowerCase():null,N=N.toLowerCase()),E&&w&&(E=Ai(E,w)||E);const C=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=O===N||!a&&O.startsWith(N)&&O.charAt(C)==="/",P=E!=null&&(E===N||!a&&E.startsWith(N)&&E.charAt(N.length)==="/"),M={isActive:T,isPending:P,isTransitioning:_},R=T?t:void 0,B;typeof n=="function"?B=n(M):B=[n,T?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(M):s;return j.createElement(Cc,{...h,"aria-current":R,className:B,ref:p,style:H,to:l,viewTransition:u},typeof f=="function"?f(M):f)});F6.displayName="NavLink";var K6=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:l=ym,action:u,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...v},x)=>{let{unstable_useTransitions:w}=j.useContext($n),_=Y6(),N=W6(u,{relative:h}),O=l.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&QT.test(u),C=T=>{if(f&&f(T),T.defaultPrevented)return;T.preventDefault();let P=T.nativeEvent.submitter,M=(P==null?void 0:P.getAttribute("formmethod"))||l,R=()=>_(P||T.currentTarget,{fetcherKey:t,method:M,navigate:r,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y});w&&r!==!1?j.startTransition(()=>R()):R()};return j.createElement("form",{ref:x,method:O,action:N,onSubmit:n?f:C,...v,"data-discover":!E&&e==="render"?"true":void 0})});K6.displayName="Form";function Q6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HT(e){let t=j.useContext($c);return Gt(t,Q6(e)),t}function H6(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let h=Et(),p=Un(),g=Gd(e,{relative:s});return j.useCallback(y=>{if(S6(y,t)){y.preventDefault();let v=r!==void 0?r:pd(p)===pd(g),x=()=>h(e,{replace:v,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:u});f?j.startTransition(()=>x()):x()}},[p,h,g,r,n,t,e,a,s,l,u,f])}var V6=0,G6=()=>`__${String(++V6)}__`;function Y6(){let{router:e}=HT("useSubmit"),{basename:t}=j.useContext($n),r=h6(),n=e.fetch,a=e.navigate;return j.useCallback(async(s,l={})=>{let{action:u,method:f,encType:h,formData:p,body:g}=O6(s,t);if(l.navigate===!1){let y=l.fetcherKey||G6();await n(y,r,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await a(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,a,t,r])}function W6(e,{relative:t}={}){let{basename:r}=j.useContext($n),n=j.useContext(Sa);Gt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Gd(e||".",{relative:t})},l=Un();if(e==null){s.search=l.search;let u=new URLSearchParams(s.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:_i([r,s.pathname])),pd(s)}function X6(e,{relative:t}={}){let r=j.useContext(IT);Gt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=HT("useViewTransitionState"),a=Gd(e,{relative:t});if(!r.isTransitioning)return!1;let s=Ai(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Ai(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Om(a.pathname,l)!=null||Om(a.pathname,s)!=null}var Tp=CT(),zc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},J6={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ns,Tw,vT,Z6=(vT=class{constructor(){Me(this,Ns,J6);Me(this,Tw,!1)}setTimeoutProvider(e){je(this,Ns,e)}setTimeout(e,t){return z(this,Ns).setTimeout(e,t)}clearTimeout(e){z(this,Ns).clearTimeout(e)}setInterval(e,t){return z(this,Ns).setInterval(e,t)}clearInterval(e){z(this,Ns).clearInterval(e)}},Ns=new WeakMap,Tw=new WeakMap,vT),So=new Z6;function e$(e){setTimeout(e,0)}var qo=typeof window>"u"||"Deno"in globalThis;function sn(){}function t$(e,t){return typeof e=="function"?e(t):e}function rx(e){return typeof e=="number"&&e>=0&&e!==1/0}function VT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Rs(e,t){return typeof e=="function"?e(t):e}function na(e,t){return typeof e=="function"?e(t):e}function _E(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:l,stale:u}=e;if(l){if(n){if(t.queryHash!==Uw(l,t.options))return!1}else if(!gd(t.queryKey,l))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||a&&a!==t.state.fetchStatus||s&&!s(t))}function NE(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Fo(t.options.mutationKey)!==Fo(s))return!1}else if(!gd(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Uw(e,t){return((t==null?void 0:t.queryKeyHashFn)||Fo)(e)}function Fo(e){return JSON.stringify(e,(t,r)=>nx(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function gd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>gd(e[r],t[r])):!1}var r$=Object.prototype.hasOwnProperty;function GT(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=OE(e)&&OE(t);if(!n&&!(nx(e)&&nx(t)))return t;const s=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),u=l.length,f=n?new Array(u):{};let h=0;for(let p=0;p<u;p++){const g=n?p:l[p],y=e[g],v=t[g];if(y===v){f[g]=y,(n?p<s:r$.call(e,g))&&h++;continue}if(y===null||v===null||typeof y!="object"||typeof v!="object"){f[g]=v;continue}const x=GT(y,v,r+1);f[g]=x,x===y&&h++}return s===u&&h===s?e:f}function Em(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function OE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function nx(e){if(!EE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!EE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function EE(e){return Object.prototype.toString.call(e)==="[object Object]"}function n$(e){return new Promise(t=>{So.setTimeout(t,e)})}function ax(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?GT(e,t):t}function a$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function i$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var zw=Symbol();function YT(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===zw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function qw(e,t){return typeof e=="function"?e(...t):!!e}function s$(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var ko,Os,yc,bT,o$=(bT=class extends zc{constructor(){super();Me(this,ko);Me(this,Os);Me(this,yc);je(this,yc,t=>{if(!qo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,Os)||this.setEventListener(z(this,yc))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Os))==null||t.call(this),je(this,Os,void 0))}setEventListener(t){var r;je(this,yc,t),(r=z(this,Os))==null||r.call(this),je(this,Os,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){z(this,ko)!==t&&(je(this,ko,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof z(this,ko)=="boolean"?z(this,ko):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ko=new WeakMap,Os=new WeakMap,yc=new WeakMap,bT),Fw=new o$;function ix(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var l$=e$;function c$(){let e=[],t=0,r=u=>{u()},n=u=>{u()},a=l$;const s=u=>{t?e.push(u):a(()=>{r(u)})},l=()=>{const u=e;e=[],u.length&&a(()=>{n(()=>{u.forEach(f=>{r(f)})})})};return{batch:u=>{let f;t++;try{f=u()}finally{t--,t||l()}return f},batchCalls:u=>(...f)=>{s(()=>{u(...f)})},schedule:s,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{a=u}}}var jr=c$(),vc,Es,bc,xT,u$=(xT=class extends zc{constructor(){super();Me(this,vc,!0);Me(this,Es);Me(this,bc);je(this,bc,t=>{if(!qo&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){z(this,Es)||this.setEventListener(z(this,bc))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Es))==null||t.call(this),je(this,Es,void 0))}setEventListener(t){var r;je(this,bc,t),(r=z(this,Es))==null||r.call(this),je(this,Es,t(this.setOnline.bind(this)))}setOnline(t){z(this,vc)!==t&&(je(this,vc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return z(this,vc)}},vc=new WeakMap,Es=new WeakMap,bc=new WeakMap,xT),Am=new u$;function d$(e){return Math.min(1e3*2**e,3e4)}function WT(e){return(e??"online")==="online"?Am.isOnline():!0}var sx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function XT(e){let t=!1,r=0,n;const a=ix(),s=()=>a.status!=="pending",l=w=>{var _;if(!s()){const N=new sx(w);y(N),(_=e.onCancel)==null||_.call(e,N)}},u=()=>{t=!0},f=()=>{t=!1},h=()=>Fw.isFocused()&&(e.networkMode==="always"||Am.isOnline())&&e.canRun(),p=()=>WT(e.networkMode)&&e.canRun(),g=w=>{s()||(n==null||n(),a.resolve(w))},y=w=>{s()||(n==null||n(),a.reject(w))},v=()=>new Promise(w=>{var _;n=N=>{(s()||h())&&w(N)},(_=e.onPause)==null||_.call(e)}).then(()=>{var w;n=void 0,s()||(w=e.onContinue)==null||w.call(e)}),x=()=>{if(s())return;let w;const _=r===0?e.initialPromise:void 0;try{w=_??e.fn()}catch(N){w=Promise.reject(N)}Promise.resolve(w).then(g).catch(N=>{var P;if(s())return;const O=e.retry??(qo?0:3),E=e.retryDelay??d$,C=typeof E=="function"?E(r,N):E,T=O===!0||typeof O=="number"&&r<O||typeof O=="function"&&O(r,N);if(t||!T){y(N);return}r++,(P=e.onFail)==null||P.call(e,r,N),n$(C).then(()=>h()?void 0:v()).then(()=>{t?y(N):x()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n==null||n(),a),cancelRetry:u,continueRetry:f,canStart:p,start:()=>(p()?x():v().then(x),a)}}var Po,wT,JT=(wT=class{constructor(){Me(this,Po)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rx(this.gcTime)&&je(this,Po,So.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qo?1/0:300*1e3))}clearGcTimeout(){z(this,Po)&&(So.clearTimeout(z(this,Po)),je(this,Po,void 0))}},Po=new WeakMap,wT),To,xc,ra,Do,kr,qd,Mo,pa,fi,jT,f$=(jT=class extends JT{constructor(t){super();Me(this,pa);Me(this,To);Me(this,xc);Me(this,ra);Me(this,Do);Me(this,kr);Me(this,qd);Me(this,Mo);je(this,Mo,!1),je(this,qd,t.defaultOptions),this.setOptions(t.options),this.observers=[],je(this,Do,t.client),je(this,ra,z(this,Do).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,je(this,To,CE(this.options)),this.state=t.state??z(this,To),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,kr))==null?void 0:t.promise}setOptions(t){if(this.options={...z(this,qd),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=CE(this.options);r.data!==void 0&&(this.setState(AE(r.data,r.dataUpdatedAt)),je(this,To,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,ra).remove(this)}setData(t,r){const n=ax(this.state.data,t,this.options);return We(this,pa,fi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){We(this,pa,fi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=z(this,kr))==null?void 0:n.promise;return(a=z(this,kr))==null||a.cancel(t),r?r.then(sn).catch(sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,To))}isActive(){return this.observers.some(t=>na(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Rs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!VT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,kr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,kr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,ra).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(z(this,kr)&&(z(this,Mo)?z(this,kr).cancel({revert:!0}):z(this,kr).cancelRetry()),this.scheduleGc()),z(this,ra).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||We(this,pa,fi).call(this,{type:"invalidate"})}async fetch(t,r){var f,h,p,g,y,v,x,w,_,N,O,E;if(this.state.fetchStatus!=="idle"&&((f=z(this,kr))==null?void 0:f.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,kr))return z(this,kr).continueRetry(),z(this,kr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(T=>T.options.queryFn);C&&this.setOptions(C.options)}const n=new AbortController,a=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(je(this,Mo,!0),n.signal)})},s=()=>{const C=YT(this.options,r),P=(()=>{const M={client:z(this,Do),queryKey:this.queryKey,meta:this.meta};return a(M),M})();return je(this,Mo,!1),this.options.persister?this.options.persister(C,P,this):C(P)},u=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,Do),state:this.state,fetchFn:s};return a(C),C})();(h=this.options.behavior)==null||h.onFetch(u,this),je(this,xc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&We(this,pa,fi).call(this,{type:"fetch",meta:(g=u.fetchOptions)==null?void 0:g.meta}),je(this,kr,XT({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:C=>{C instanceof sx&&C.revert&&this.setState({...z(this,xc),fetchStatus:"idle"}),n.abort()},onFail:(C,T)=>{We(this,pa,fi).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{We(this,pa,fi).call(this,{type:"pause"})},onContinue:()=>{We(this,pa,fi).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const C=await z(this,kr).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(v=(y=z(this,ra).config).onSuccess)==null||v.call(y,C,this),(w=(x=z(this,ra).config).onSettled)==null||w.call(x,C,this.state.error,this),C}catch(C){if(C instanceof sx){if(C.silent)return z(this,kr).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw We(this,pa,fi).call(this,{type:"error",error:C}),(N=(_=z(this,ra).config).onError)==null||N.call(_,C,this),(E=(O=z(this,ra).config).onSettled)==null||E.call(O,this.state.data,C,this),C}finally{this.scheduleGc()}}},To=new WeakMap,xc=new WeakMap,ra=new WeakMap,Do=new WeakMap,kr=new WeakMap,qd=new WeakMap,Mo=new WeakMap,pa=new WeakSet,fi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ZT(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...AE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return je(this,xc,t.manual?a:void 0),a;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),jr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),z(this,ra).notify({query:this,type:"updated",action:t})})},jT);function ZT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:WT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function AE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function CE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var vn,ot,Fd,an,Ro,wc,gi,As,Kd,jc,Sc,Io,Lo,Cs,_c,bt,od,ox,lx,cx,ux,dx,fx,hx,eD,ST,h$=(ST=class extends zc{constructor(t,r){super();Me(this,bt);Me(this,vn);Me(this,ot);Me(this,Fd);Me(this,an);Me(this,Ro);Me(this,wc);Me(this,gi);Me(this,As);Me(this,Kd);Me(this,jc);Me(this,Sc);Me(this,Io);Me(this,Lo);Me(this,Cs);Me(this,_c,new Set);this.options=r,je(this,vn,t),je(this,As,null),je(this,gi,ix()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,ot).addObserver(this),kE(z(this,ot),this.options)?We(this,bt,od).call(this):this.updateResult(),We(this,bt,ux).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mx(z(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mx(z(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,We(this,bt,dx).call(this),We(this,bt,fx).call(this),z(this,ot).removeObserver(this)}setOptions(t){const r=this.options,n=z(this,ot);if(this.options=z(this,vn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof na(this.options.enabled,z(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");We(this,bt,hx).call(this),z(this,ot).setOptions(this.options),r._defaulted&&!Em(this.options,r)&&z(this,vn).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,ot),observer:this});const a=this.hasListeners();a&&PE(z(this,ot),n,this.options,r)&&We(this,bt,od).call(this),this.updateResult(),a&&(z(this,ot)!==n||na(this.options.enabled,z(this,ot))!==na(r.enabled,z(this,ot))||Rs(this.options.staleTime,z(this,ot))!==Rs(r.staleTime,z(this,ot)))&&We(this,bt,ox).call(this);const s=We(this,bt,lx).call(this);a&&(z(this,ot)!==n||na(this.options.enabled,z(this,ot))!==na(r.enabled,z(this,ot))||s!==z(this,Cs))&&We(this,bt,cx).call(this,s)}getOptimisticResult(t){const r=z(this,vn).getQueryCache().build(z(this,vn),t),n=this.createResult(r,t);return p$(this,n)&&(je(this,an,n),je(this,wc,this.options),je(this,Ro,z(this,ot).state)),n}getCurrentResult(){return z(this,an)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&z(this,gi).status==="pending"&&z(this,gi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){z(this,_c).add(t)}getCurrentQuery(){return z(this,ot)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=z(this,vn).defaultQueryOptions(t),n=z(this,vn).getQueryCache().build(z(this,vn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return We(this,bt,od).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,an)))}createResult(t,r){var B;const n=z(this,ot),a=this.options,s=z(this,an),l=z(this,Ro),u=z(this,wc),h=t!==n?t.state:z(this,Fd),{state:p}=t;let g={...p},y=!1,v;if(r._optimisticResults){const H=this.hasListeners(),Y=!H&&kE(t,r),K=H&&PE(t,n,r,a);(Y||K)&&(g={...g,...ZT(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:x,errorUpdatedAt:w,status:_}=g;v=g.data;let N=!1;if(r.placeholderData!==void 0&&v===void 0&&_==="pending"){let H;s!=null&&s.isPlaceholderData&&r.placeholderData===(u==null?void 0:u.placeholderData)?(H=s.data,N=!0):H=typeof r.placeholderData=="function"?r.placeholderData((B=z(this,Sc))==null?void 0:B.state.data,z(this,Sc)):r.placeholderData,H!==void 0&&(_="success",v=ax(s==null?void 0:s.data,H,r),y=!0)}if(r.select&&v!==void 0&&!N)if(s&&v===(l==null?void 0:l.data)&&r.select===z(this,Kd))v=z(this,jc);else try{je(this,Kd,r.select),v=r.select(v),v=ax(s==null?void 0:s.data,v,r),je(this,jc,v),je(this,As,null)}catch(H){je(this,As,H)}z(this,As)&&(x=z(this,As),v=z(this,jc),w=Date.now(),_="error");const O=g.fetchStatus==="fetching",E=_==="pending",C=_==="error",T=E&&O,P=v!==void 0,R={status:_,fetchStatus:g.fetchStatus,isPending:E,isSuccess:_==="success",isError:C,isInitialLoading:T,isLoading:T,data:v,dataUpdatedAt:g.dataUpdatedAt,error:x,errorUpdatedAt:w,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:O,isRefetching:O&&!E,isLoadingError:C&&!P,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:C&&P,isStale:Kw(t,r),refetch:this.refetch,promise:z(this,gi),isEnabled:na(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const H=R.data!==void 0,Y=R.status==="error"&&!H,K=ye=>{Y?ye.reject(R.error):H&&ye.resolve(R.data)},me=()=>{const ye=je(this,gi,R.promise=ix());K(ye)},ie=z(this,gi);switch(ie.status){case"pending":t.queryHash===n.queryHash&&K(ie);break;case"fulfilled":(Y||R.data!==ie.value)&&me();break;case"rejected":(!Y||R.error!==ie.reason)&&me();break}}return R}updateResult(){const t=z(this,an),r=this.createResult(z(this,ot),this.options);if(je(this,Ro,z(this,ot).state),je(this,wc,this.options),z(this,Ro).data!==void 0&&je(this,Sc,z(this,ot)),Em(r,t))return;je(this,an,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!z(this,_c).size)return!0;const l=new Set(s??z(this,_c));return this.options.throwOnError&&l.add("error"),Object.keys(z(this,an)).some(u=>{const f=u;return z(this,an)[f]!==t[f]&&l.has(f)})};We(this,bt,eD).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&We(this,bt,ux).call(this)}},vn=new WeakMap,ot=new WeakMap,Fd=new WeakMap,an=new WeakMap,Ro=new WeakMap,wc=new WeakMap,gi=new WeakMap,As=new WeakMap,Kd=new WeakMap,jc=new WeakMap,Sc=new WeakMap,Io=new WeakMap,Lo=new WeakMap,Cs=new WeakMap,_c=new WeakMap,bt=new WeakSet,od=function(t){We(this,bt,hx).call(this);let r=z(this,ot).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(sn)),r},ox=function(){We(this,bt,dx).call(this);const t=Rs(this.options.staleTime,z(this,ot));if(qo||z(this,an).isStale||!rx(t))return;const n=VT(z(this,an).dataUpdatedAt,t)+1;je(this,Io,So.setTimeout(()=>{z(this,an).isStale||this.updateResult()},n))},lx=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,ot)):this.options.refetchInterval)??!1},cx=function(t){We(this,bt,fx).call(this),je(this,Cs,t),!(qo||na(this.options.enabled,z(this,ot))===!1||!rx(z(this,Cs))||z(this,Cs)===0)&&je(this,Lo,So.setInterval(()=>{(this.options.refetchIntervalInBackground||Fw.isFocused())&&We(this,bt,od).call(this)},z(this,Cs)))},ux=function(){We(this,bt,ox).call(this),We(this,bt,cx).call(this,We(this,bt,lx).call(this))},dx=function(){z(this,Io)&&(So.clearTimeout(z(this,Io)),je(this,Io,void 0))},fx=function(){z(this,Lo)&&(So.clearInterval(z(this,Lo)),je(this,Lo,void 0))},hx=function(){const t=z(this,vn).getQueryCache().build(z(this,vn),this.options);if(t===z(this,ot))return;const r=z(this,ot);je(this,ot,t),je(this,Fd,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},eD=function(t){jr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(z(this,an))}),z(this,vn).getQueryCache().notify({query:z(this,ot),type:"observerResultsUpdated"})})},ST);function m$(e,t){return na(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function kE(e,t){return m$(e,t)||e.state.data!==void 0&&mx(e,t,t.refetchOnMount)}function mx(e,t,r){if(na(t.enabled,e)!==!1&&Rs(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Kw(e,t)}return!1}function PE(e,t,r,n){return(e!==t||na(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Kw(e,r)}function Kw(e,t){return na(t.enabled,e)!==!1&&e.isStaleByTime(Rs(t.staleTime,e))}function p$(e,t){return!Em(e.getCurrentResult(),t)}function TE(e){return{onFetch:(t,r)=>{var p,g,y,v,x;const n=t.options,a=(y=(g=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,s=((v=t.state.data)==null?void 0:v.pages)||[],l=((x=t.state.data)==null?void 0:x.pageParams)||[];let u={pages:[],pageParams:[]},f=0;const h=async()=>{let w=!1;const _=E=>{s$(E,()=>t.signal,()=>w=!0)},N=YT(t.options,t.fetchOptions),O=async(E,C,T)=>{if(w)return Promise.reject();if(C==null&&E.pages.length)return Promise.resolve(E);const M=(()=>{const Y={client:t.client,queryKey:t.queryKey,pageParam:C,direction:T?"backward":"forward",meta:t.options.meta};return _(Y),Y})(),R=await N(M),{maxPages:B}=t.options,H=T?i$:a$;return{pages:H(E.pages,R,B),pageParams:H(E.pageParams,C,B)}};if(a&&s.length){const E=a==="backward",C=E?g$:DE,T={pages:s,pageParams:l},P=C(n,T);u=await O(T,P,E)}else{const E=e??s.length;do{const C=f===0?l[0]??n.initialPageParam:DE(n,u);if(f>0&&C==null)break;u=await O(u,C),f++}while(f<E)}return u};t.options.persister?t.fetchFn=()=>{var w,_;return(_=(w=t.options).persister)==null?void 0:_.call(w,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function DE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function g$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Qd,Ma,Yr,Bo,Ra,bs,_T,y$=(_T=class extends JT{constructor(t){super();Me(this,Ra);Me(this,Qd);Me(this,Ma);Me(this,Yr);Me(this,Bo);je(this,Qd,t.client),this.mutationId=t.mutationId,je(this,Yr,t.mutationCache),je(this,Ma,[]),this.state=t.state||tD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,Ma).includes(t)||(z(this,Ma).push(t),this.clearGcTimeout(),z(this,Yr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){je(this,Ma,z(this,Ma).filter(r=>r!==t)),this.scheduleGc(),z(this,Yr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,Ma).length||(this.state.status==="pending"?this.scheduleGc():z(this,Yr).remove(this))}continue(){var t;return((t=z(this,Bo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,u,f,h,p,g,y,v,x,w,_,N,O,E,C,T,P,M;const r=()=>{We(this,Ra,bs).call(this,{type:"continue"})},n={client:z(this,Qd),meta:this.options.meta,mutationKey:this.options.mutationKey};je(this,Bo,XT({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,B)=>{We(this,Ra,bs).call(this,{type:"failed",failureCount:R,error:B})},onPause:()=>{We(this,Ra,bs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Yr).canRun(this)}));const a=this.state.status==="pending",s=!z(this,Bo).canStart();try{if(a)r();else{We(this,Ra,bs).call(this,{type:"pending",variables:t,isPaused:s}),z(this,Yr).config.onMutate&&await z(this,Yr).config.onMutate(t,this,n);const B=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,n));B!==this.state.context&&We(this,Ra,bs).call(this,{type:"pending",context:B,variables:t,isPaused:s})}const R=await z(this,Bo).start();return await((h=(f=z(this,Yr).config).onSuccess)==null?void 0:h.call(f,R,t,this.state.context,this,n)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,R,t,this.state.context,n)),await((v=(y=z(this,Yr).config).onSettled)==null?void 0:v.call(y,R,null,this.state.variables,this.state.context,this,n)),await((w=(x=this.options).onSettled)==null?void 0:w.call(x,R,null,t,this.state.context,n)),We(this,Ra,bs).call(this,{type:"success",data:R}),R}catch(R){try{await((N=(_=z(this,Yr).config).onError)==null?void 0:N.call(_,R,t,this.state.context,this,n))}catch(B){Promise.reject(B)}try{await((E=(O=this.options).onError)==null?void 0:E.call(O,R,t,this.state.context,n))}catch(B){Promise.reject(B)}try{await((T=(C=z(this,Yr).config).onSettled)==null?void 0:T.call(C,void 0,R,this.state.variables,this.state.context,this,n))}catch(B){Promise.reject(B)}try{await((M=(P=this.options).onSettled)==null?void 0:M.call(P,void 0,R,t,this.state.context,n))}catch(B){Promise.reject(B)}throw We(this,Ra,bs).call(this,{type:"error",error:R}),R}finally{z(this,Yr).runNext(this)}}},Qd=new WeakMap,Ma=new WeakMap,Yr=new WeakMap,Bo=new WeakMap,Ra=new WeakSet,bs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),jr.batch(()=>{z(this,Ma).forEach(n=>{n.onMutationUpdate(t)}),z(this,Yr).notify({mutation:this,type:"updated",action:t})})},_T);function tD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yi,ga,Hd,NT,v$=(NT=class extends zc{constructor(t={}){super();Me(this,yi);Me(this,ga);Me(this,Hd);this.config=t,je(this,yi,new Set),je(this,ga,new Map),je(this,Hd,0)}build(t,r,n){const a=new y$({client:t,mutationCache:this,mutationId:++Kh(this,Hd)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){z(this,yi).add(t);const r=Hh(t);if(typeof r=="string"){const n=z(this,ga).get(r);n?n.push(t):z(this,ga).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,yi).delete(t)){const r=Hh(t);if(typeof r=="string"){const n=z(this,ga).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&z(this,ga).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Hh(t);if(typeof r=="string"){const n=z(this,ga).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Hh(t);if(typeof r=="string"){const a=(n=z(this,ga).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){jr.batch(()=>{z(this,yi).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,yi).clear(),z(this,ga).clear()})}getAll(){return Array.from(z(this,yi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>NE(r,n))}findAll(t={}){return this.getAll().filter(r=>NE(t,r))}notify(t){jr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return jr.batch(()=>Promise.all(t.map(r=>r.continue().catch(sn))))}},yi=new WeakMap,ga=new WeakMap,Hd=new WeakMap,NT);function Hh(e){var t;return(t=e.options.scope)==null?void 0:t.id}var vi,ks,bn,bi,Ei,bm,px,OT,b$=(OT=class extends zc{constructor(r,n){super();Me(this,Ei);Me(this,vi);Me(this,ks);Me(this,bn);Me(this,bi);je(this,vi,r),this.setOptions(n),this.bindMethods(),We(this,Ei,bm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=z(this,vi).defaultMutationOptions(r),Em(this.options,n)||z(this,vi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,bn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Fo(n.mutationKey)!==Fo(this.options.mutationKey)?this.reset():((a=z(this,bn))==null?void 0:a.state.status)==="pending"&&z(this,bn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=z(this,bn))==null||r.removeObserver(this)}onMutationUpdate(r){We(this,Ei,bm).call(this),We(this,Ei,px).call(this,r)}getCurrentResult(){return z(this,ks)}reset(){var r;(r=z(this,bn))==null||r.removeObserver(this),je(this,bn,void 0),We(this,Ei,bm).call(this),We(this,Ei,px).call(this)}mutate(r,n){var a;return je(this,bi,n),(a=z(this,bn))==null||a.removeObserver(this),je(this,bn,z(this,vi).getMutationCache().build(z(this,vi),this.options)),z(this,bn).addObserver(this),z(this,bn).execute(r)}},vi=new WeakMap,ks=new WeakMap,bn=new WeakMap,bi=new WeakMap,Ei=new WeakSet,bm=function(){var n;const r=((n=z(this,bn))==null?void 0:n.state)??tD();je(this,ks,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},px=function(r){jr.batch(()=>{var n,a,s,l,u,f,h,p;if(z(this,bi)&&this.hasListeners()){const g=z(this,ks).variables,y=z(this,ks).context,v={client:z(this,vi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(a=(n=z(this,bi)).onSuccess)==null||a.call(n,r.data,g,y,v)}catch(x){Promise.reject(x)}try{(l=(s=z(this,bi)).onSettled)==null||l.call(s,r.data,null,g,y,v)}catch(x){Promise.reject(x)}}else if((r==null?void 0:r.type)==="error"){try{(f=(u=z(this,bi)).onError)==null||f.call(u,r.error,g,y,v)}catch(x){Promise.reject(x)}try{(p=(h=z(this,bi)).onSettled)==null||p.call(h,void 0,r.error,g,y,v)}catch(x){Promise.reject(x)}}}this.listeners.forEach(g=>{g(z(this,ks))})})},OT),Ia,ET,x$=(ET=class extends zc{constructor(t={}){super();Me(this,Ia);this.config=t,je(this,Ia,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??Uw(a,r);let l=this.get(s);return l||(l=new f$({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){z(this,Ia).has(t.queryHash)||(z(this,Ia).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=z(this,Ia).get(t.queryHash);r&&(t.destroy(),r===t&&z(this,Ia).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){jr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,Ia).get(t)}getAll(){return[...z(this,Ia).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>_E(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>_E(t,n)):r}notify(t){jr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){jr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){jr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ia=new WeakMap,ET),er,Ps,Ts,Nc,Oc,Ds,Ec,Ac,AT,w$=(AT=class{constructor(e={}){Me(this,er);Me(this,Ps);Me(this,Ts);Me(this,Nc);Me(this,Oc);Me(this,Ds);Me(this,Ec);Me(this,Ac);je(this,er,e.queryCache||new x$),je(this,Ps,e.mutationCache||new v$),je(this,Ts,e.defaultOptions||{}),je(this,Nc,new Map),je(this,Oc,new Map),je(this,Ds,0)}mount(){Kh(this,Ds)._++,z(this,Ds)===1&&(je(this,Ec,Fw.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,er).onFocus())})),je(this,Ac,Am.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,er).onOnline())})))}unmount(){var e,t;Kh(this,Ds)._--,z(this,Ds)===0&&((e=z(this,Ec))==null||e.call(this),je(this,Ec,void 0),(t=z(this,Ac))==null||t.call(this),je(this,Ac,void 0))}isFetching(e){return z(this,er).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,Ps).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,er).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=z(this,er).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Rs(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return z(this,er).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=z(this,er).get(n.queryHash),s=a==null?void 0:a.state.data,l=t$(t,s);if(l!==void 0)return z(this,er).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return jr.batch(()=>z(this,er).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,er).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=z(this,er);jr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=z(this,er);return jr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=jr.batch(()=>z(this,er).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(sn).catch(sn)}invalidateQueries(e,t={}){return jr.batch(()=>(z(this,er).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=jr.batch(()=>z(this,er).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(sn)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(sn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=z(this,er).build(this,t);return r.isStaleByTime(Rs(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(sn).catch(sn)}fetchInfiniteQuery(e){return e.behavior=TE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(sn).catch(sn)}ensureInfiniteQueryData(e){return e.behavior=TE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Am.isOnline()?z(this,Ps).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,er)}getMutationCache(){return z(this,Ps)}getDefaultOptions(){return z(this,Ts)}setDefaultOptions(e){je(this,Ts,e)}setQueryDefaults(e,t){z(this,Nc).set(Fo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,Nc).values()],r={};return t.forEach(n=>{gd(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){z(this,Oc).set(Fo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,Oc).values()],r={};return t.forEach(n=>{gd(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,Ts).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Uw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===zw&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,Ts).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,er).clear(),z(this,Ps).clear()}},er=new WeakMap,Ps=new WeakMap,Ts=new WeakMap,Nc=new WeakMap,Oc=new WeakMap,Ds=new WeakMap,Ec=new WeakMap,Ac=new WeakMap,AT),rD=j.createContext(void 0),Ue=e=>{const t=j.useContext(rD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},j$=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(rD.Provider,{value:e,children:t})),nD=j.createContext(!1),S$=()=>j.useContext(nD);nD.Provider;function _$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var N$=j.createContext(_$()),O$=()=>j.useContext(N$),E$=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?qw(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},A$=e=>{j.useEffect(()=>{e.clearReset()},[e])},C$=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||qw(r,[e.error,n])),k$=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},P$=(e,t)=>e.isLoading&&e.isFetching&&!t,T$=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ME=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function D$(e,t,r){var y,v,x,w;const n=S$(),a=O$(),s=Ue(),l=s.defaultQueryOptions(e);(v=(y=s.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||v.call(y,l);const u=s.getQueryCache().get(l.queryHash);l._optimisticResults=n?"isRestoring":"optimistic",k$(l),E$(l,a,u),A$(a);const f=!s.getQueryCache().get(l.queryHash),[h]=j.useState(()=>new t(s,l)),p=h.getOptimisticResult(l),g=!n&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(_=>{const N=g?h.subscribe(jr.batchCalls(_)):sn;return h.updateResult(),N},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),j.useEffect(()=>{h.setOptions(l)},[l,h]),T$(l,p))throw ME(l,h,a);if(C$({result:p,errorResetBoundary:a,throwOnError:l.throwOnError,query:u,suspense:l.suspense}))throw p.error;if((w=(x=s.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||w.call(x,l,p),l.experimental_prefetchInRender&&!qo&&P$(p,n)){const _=f?ME(l,h,a):u==null?void 0:u.promise;_==null||_.catch(sn).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?p:h.trackResult(p)}function nt(e,t){return D$(e,h$)}function wt(e,t){const r=Ue(),[n]=j.useState(()=>new b$(r,e));j.useEffect(()=>{n.setOptions(e)},[n,e]);const a=j.useSyncExternalStore(j.useCallback(l=>n.subscribe(jr.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=j.useCallback((l,u)=>{n.mutate(l,u).catch(sn)},[n]);if(a.error&&qw(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}const M$="modulepreload",R$=function(e){return"/"+e},RE={},Qw=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=l(r.map(h=>{if(h=R$(h),h in RE)return;RE[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":M$,p||(y.as="script"),y.crossOrigin="",y.href=h,f&&y.setAttribute("nonce",f),document.head.appendChild(y),p)return new Promise((v,x)=>{y.addEventListener("load",v),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})};function Dp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function I$(e,t,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(p){try{h(n.next(p))}catch(g){l(g)}}function f(p){try{h(n.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):a(p.value).then(u,f)}h((n=n.apply(e,t||[])).next())})}const L$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Hw extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class B$ extends Hw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class IE extends Hw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class LE extends Hw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(gx||(gx={}));class $${constructor(t,{headers:r={},customFetch:n,region:a=gx.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=L$(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return I$(this,arguments,void 0,function*(r,n={}){var a;let s,l;try{const{headers:u,method:f,body:h,signal:p,timeout:g}=n;let y={},{region:v}=n;v||(v=this.region);const x=new URL(`${this.url}/${r}`);v&&v!=="any"&&(y["x-region"]=v,x.searchParams.set("forceFunctionRegion",v));let w;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(y["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(y["Content-Type"]="application/json",w=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?w=JSON.stringify(h):w=h;let _=p;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),p?(_=l.signal,p.addEventListener("abort",()=>l.abort())):_=l.signal);const N=yield this.fetch(x.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:w,signal:_}).catch(T=>{throw new B$(T)}),O=N.headers.get("x-relay-error");if(O&&O==="true")throw new IE(N);if(!N.ok)throw new LE(N);let E=((a=N.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),C;return E==="application/json"?C=yield N.json():E==="application/octet-stream"||E==="application/pdf"?C=yield N.blob():E==="text/event-stream"?C=N:E==="multipart/form-data"?C=yield N.formData():C=yield N.text(),{data:C,error:null,response:N}}catch(u){return{data:null,error:u,response:u instanceof LE||u instanceof IE?u.context:void 0}}finally{s&&clearTimeout(s)}})}}var U$=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},z$=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let l=null,u=null,f=null,h=s.status,p=s.statusText;if(s.ok){var g,y;if(r.method!=="HEAD"){var v;const N=await s.text();N===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?u=N:u=JSON.parse(N))}const w=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),_=(y=s.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");w&&_&&_.length>1&&(f=parseInt(_[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var x;const w=await s.text();try{l=JSON.parse(w),Array.isArray(l)&&s.status===404&&(u=[],l=null,h=200,p="OK")}catch{s.status===404&&w===""?(h=204,p="No Content"):l={message:w}}if(l&&r.isMaybeSingle&&(!(l==null||(x=l.details)===null||x===void 0)&&x.includes("0 rows"))&&(l=null,h=200,p="OK"),l&&r.shouldThrowOnError)throw new U$(l)}return{error:l,data:u,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(s=>{var l;let u="",f="",h="";const p=s==null?void 0:s.cause;if(p){var g,y,v,x;const N=(g=p==null?void 0:p.message)!==null&&g!==void 0?g:"",O=(y=p==null?void 0:p.code)!==null&&y!==void 0?y:"";u=`${(v=s==null?void 0:s.name)!==null&&v!==void 0?v:"FetchError"}: ${s==null?void 0:s.message}`,u+=`

Caused by: ${(x=p==null?void 0:p.name)!==null&&x!==void 0?x:"Error"}: ${N}`,O&&(u+=` (${O})`),p!=null&&p.stack&&(u+=`
${p.stack}`)}else{var w;u=(w=s==null?void 0:s.stack)!==null&&w!==void 0?w:""}const _=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(h="",f="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((p==null?void 0:p.name)==="HeadersOverflowError"||(p==null?void 0:p.code)==="UND_ERR_HEADERS_OVERFLOW")&&(h="",f="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(f+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=s==null?void 0:s.name)!==null&&l!==void 0?l:"FetchError"}: ${s==null?void 0:s.message}`,details:u,hint:f,code:h},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},q$=class extends z${select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var l;const u=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${f}"; options=${u};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const BE=new RegExp("[,()]");var nc=class extends q${eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&BE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&BE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},F$=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:a=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let s=!1;const l=(e??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:u,headers:f}=this.cloneRequestState();return u.searchParams.set("select",l),n&&f.append("Prefer",`count=${n}`),new nc({method:a,url:u,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),r||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);s.searchParams.set("columns",f.join(","))}}return new nc({method:a,url:s,headers:l,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const l="POST",{url:u,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),n&&f.append("Prefer",`count=${n}`),a||f.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);u.searchParams.set("columns",p.join(","))}}return new nc({method:l,url:u,headers:f,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new nc({method:n,url:a,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new nc({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function K$(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q$(e){var t=K$(e,"string");return yd(t)=="symbol"?t:t+""}function H$(e,t,r){return(t=Q$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(r),!0).forEach(function(n){H$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var V$=class aD{constructor(t,{headers:r={},schema:n,fetch:a,timeout:s,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=l;const u=a??globalThis.fetch;s!==void 0&&s>0?this.fetch=(f,h)=>{const p=new AbortController,g=setTimeout(()=>p.abort(),s),y=h==null?void 0:h.signal;if(y){if(y.aborted)return clearTimeout(g),u(f,h);const v=()=>{clearTimeout(g),p.abort()};return y.addEventListener("abort",v,{once:!0}),u(f,Vh(Vh({},h),{},{signal:p.signal})).finally(()=>{clearTimeout(g),y.removeEventListener("abort",v)})}return u(f,Vh(Vh({},h),{},{signal:p.signal})).finally(()=>clearTimeout(g))}:this.fetch=u}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new F$(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new aD(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var l;let u;const f=new URL(`${this.url}/rpc/${t}`);let h;const p=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(p)),g=n&&Object.values(r).some(p);g?(u="POST",h=r):n||a?(u=n?"HEAD":"GET",Object.entries(r).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{f.searchParams.append(v,x)})):(u="POST",h=r);const y=new Headers(this.headers);return g?y.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&y.set("Prefer",`count=${s}`),new nc({method:u,url:f,headers:y,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class G${constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Y$="2.95.3",W$=`realtime-js/${Y$}`,X$="1.0.0",iD="2.0.0",UE=iD,yx=1e4,J$=1e3,Z$=100;var xs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xs||(xs={}));var xr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xr||(xr={}));var ya;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ya||(ya={}));var vx;(function(e){e.websocket="websocket"})(vx||(vx={}));var wo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wo||(wo={}));class eU{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var a,s;const l=t.topic,u=(a=t.ref)!==null&&a!==void 0?a:"",f=(s=t.join_ref)!==null&&s!==void 0?s:"",h=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+u.length+l.length+h.length+g.length,v=new ArrayBuffer(this.HEADER_LENGTH+y);let x=new DataView(v),w=0;x.setUint8(w++,this.KINDS.userBroadcastPush),x.setUint8(w++,f.length),x.setUint8(w++,u.length),x.setUint8(w++,l.length),x.setUint8(w++,h.length),x.setUint8(w++,g.length),x.setUint8(w++,r),Array.from(f,N=>x.setUint8(w++,N.charCodeAt(0))),Array.from(u,N=>x.setUint8(w++,N.charCodeAt(0))),Array.from(l,N=>x.setUint8(w++,N.charCodeAt(0))),Array.from(h,N=>x.setUint8(w++,N.charCodeAt(0))),Array.from(g,N=>x.setUint8(w++,N.charCodeAt(0)));var _=new Uint8Array(v.byteLength+n.byteLength);return _.set(new Uint8Array(v),0),_.set(new Uint8Array(n),v.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,l,u,f]=n;return r({join_ref:a,ref:s,topic:l,event:u,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let f=this.HEADER_LENGTH+4;const h=n.decode(t.slice(f,f+a));f=f+a;const p=n.decode(t.slice(f,f+s));f=f+s;const g=n.decode(t.slice(f,f+l));f=f+l;const y=t.slice(f,t.byteLength),v=u===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,x={type:this.BROADCAST_EVENT,event:p,payload:v};return l>0&&(x.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class sD{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var It;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(It||(It={}));const zE=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=tU(l,e,t,a),s),{}):{}},tU=(e,t,r,n)=>{const a=t.find(u=>u.name===e),s=a==null?void 0:a.type,l=r[e];return s&&!n.includes(s)?oD(s,l):bx(l)},oD=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return iU(t,r)}switch(e){case It.bool:return rU(t);case It.float4:case It.float8:case It.int2:case It.int4:case It.int8:case It.numeric:case It.oid:return nU(t);case It.json:case It.jsonb:return aU(t);case It.timestamp:return sU(t);case It.abstime:case It.date:case It.daterange:case It.int4range:case It.int8range:case It.money:case It.reltime:case It.text:case It.time:case It.timestamptz:case It.timetz:case It.tsrange:case It.tstzrange:return bx(t);default:return bx(t)}},bx=e=>e,rU=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},nU=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},aU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},iU=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(u=>oD(t,u))}return e},sU=e=>typeof e=="string"?e.replace(" ","T"):e,lD=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class u0{constructor(t,r,n={},a=yx){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qE||(qE={}));class fd{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fd.syncState(this.state,a,s,l),this.pendingDiffs.forEach(f=>{this.state=fd.syncDiff(this.state,f,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=fd.syncDiff(this.state,a,s,l),u())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),l=this.transformState(r),u={},f={};return this.map(s,(h,p)=>{l[h]||(f[h]=p)}),this.map(l,(h,p)=>{const g=s[h];if(g){const y=p.map(_=>_.presence_ref),v=g.map(_=>_.presence_ref),x=p.filter(_=>v.indexOf(_.presence_ref)<0),w=g.filter(_=>y.indexOf(_.presence_ref)<0);x.length>0&&(u[h]=x),w.length>0&&(f[h]=w)}else u[h]=p}),this.syncDiff(s,{joins:u,leaves:f},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(u,f)=>{var h;const p=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(f),p.length>0){const g=t[u].map(v=>v.presence_ref),y=p.filter(v=>g.indexOf(v.presence_ref)<0);t[u].unshift(...y)}n(u,p,f)}),this.map(l,(u,f)=>{let h=t[u];if(!h)return;const p=f.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),t[u]=h,a(u,h,f),h.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var FE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(FE||(FE={}));var hd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hd||(hd={}));var hi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hi||(hi={}));class oc{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=xr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new u0(this,ya.join,this.params,this.timeout),this.rejoinTimer=new sD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=xr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=xr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ya.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new fd(this),this.broadcastEndpointURL=lD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==xr.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[hd.PRESENCE]&&this.bindings[hd.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(hi.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(hi.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(hi.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(x=w==null?void 0:w.length)!==null&&x!==void 0?x:0,N=[];for(let O=0;O<_;O++){const E=w[O],{filter:{event:C,schema:T,table:P,filter:M}}=E,R=v&&v[O];if(R&&R.event===C&&oc.isFilterValueEqual(R.schema,T)&&oc.isFilterValueEqual(R.table,P)&&oc.isFilterValueEqual(R.filter,M))N.push(Object.assign(Object.assign({},E),{id:R.id}));else{this.unsubscribe(),this.state=xr.errored,t==null||t(hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(hi.SUBSCRIBED);return}}).receive("error",v=>{this.state=xr.errored,t==null||t(hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===xr.joined&&t===hd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const h=await u.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,u,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ya.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new u0(this,ya.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new u0(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Z$){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const l=t.toLocaleLowerCase(),{close:u,error:f,leave:h,join:p}=ya;if(n&&[u,f,h,p].indexOf(l)>=0&&n!==this._joinRef())return;let y=this._onMessage(l,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var x,w,_;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(w=v.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(v=>v.callback(y,n)):(s=this.bindings[l])===null||s===void 0||s.filter(v=>{var x,w,_,N,O,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const C=v.id,T=(x=v.filter)===null||x===void 0?void 0:x.event;return C&&((w=r.ids)===null||w===void 0?void 0:w.includes(C))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(O=(N=v==null?void 0:v.filter)===null||N===void 0?void 0:N.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return C==="*"||C===((E=r==null?void 0:r.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof y=="object"&&"ids"in y){const x=y.data,{schema:w,table:_,commit_timestamp:N,type:O,errors:E}=x;y=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:N,eventType:O,new:{},old:{},errors:E}),this._getPayloadRecords(x))}v.callback(y,n)})}_isClosed(){return this.state===xr.closed}_isJoined(){return this.state===xr.joined}_isJoining(){return this.state===xr.joining}_isLeaving(){return this.state===xr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&oc.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ya.close,{},t)}_onError(t){this._on(ya.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=zE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=zE(t.columns,t.old_record)),r}}const d0=()=>{},Gh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oU=[1e3,2e3,5e3,1e4],lU=1e4,cU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class uU{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yx,this.transport=null,this.heartbeatIntervalMs=Gh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=d0,this.ref=0,this.reconnectTimer=null,this.vsn=UE,this.logger=d0,this.conn=null,this.sendBuffer=[],this.serializer=new eU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${vx.websocket}`,this.httpEndpoint=lD(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=G$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xs.connecting:return wo.Connecting;case xs.open:return wo.Open;case xs.closing:return wo.Closing;default:return wo.Closed}}isConnected(){return this.connectionState()===wo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new oc(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,l=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(J$,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:s,ref:l}=r,u=l?`(${l})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${a} ${u}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===xs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===xs.open||this.conn.readyState===xs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ya.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([cU],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:W$};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(ya.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new sD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,l,u,f,h,p,g,y,v;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:yx,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Gh.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:d0,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:UE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:(x=>oU[x-1]||lU),this.vsn){case X$:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:((x,w)=>w(JSON.stringify(x))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:((x,w)=>w(JSON.parse(x)));break;case iD:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var vd=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function dU(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function fU(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function hU(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:l}){const u=dU(e.baseUrl,n,a),f=await fU(e.auth),h=await t(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...f,...l},body:s?JSON.stringify(s):void 0}),p=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),y=g&&p?JSON.parse(p):p;if(!h.ok){const v=g?y:void 0,x=v==null?void 0:v.error;throw new vd((x==null?void 0:x.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:v})}return{status:h.status,headers:h.headers,data:y}}}}function Yh(e){return e.join("")}var mU=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Yh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yh(e.namespace)}`}),!0}catch(t){if(t instanceof vd&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof vd&&r.status===409)return;throw r}}};function Vl(e){return e.join("")}var pU=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof vd&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof vd&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},gU=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=hU({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new mU(this.client,t),this.tableOps=new pU(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Mp=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Rp(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Wh=class extends Mp{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cD=class extends Mp{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const yU=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xx=e=>{if(Array.isArray(e))return e.map(r=>xx(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=xx(n)}),t},bU=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function xU(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wU(e){var t=xU(e,"string");return bd(t)=="symbol"?t:t+""}function jU(e,t,r){return(t=wU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(r),!0).forEach(function(n){jU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const QE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},SU=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,s=a.status||500;if(typeof a.json=="function")a.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";t(new Wh(QE(l),s,u,n))}).catch(()=>{if(n==="vectors"){const l=s+"";t(new Wh(a.statusText||`HTTP ${s} error`,s,l,n))}else{const l=s+"";t(new Wh(a.statusText||`HTTP ${s} error`,s,l,n))}});else{const l=s+"";t(new Wh(a.statusText||`HTTP ${s} error`,s,l,n))}}else t(new cD(QE(e),e,n))},_U=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?qe(qe({},a),r):(vU(n)?(a.headers=qe({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),qe(qe({},a),r))};async function Wu(e,t,r,n,a,s,l){return new Promise((u,f)=>{e(r,_U(t,n,a,s)).then(h=>{if(!h.ok)throw h;if(n!=null&&n.noResolveJson)return h;if(l==="vectors"){const p=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!p||!p.includes("application/json"))return{}}return h.json()}).then(h=>u(h)).catch(h=>SU(h,f,n,l))})}function uD(e="storage"){return{get:async(t,r,n,a)=>Wu(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,s)=>Wu(t,"POST",r,a,s,n,e),put:async(t,r,n,a,s)=>Wu(t,"PUT",r,a,s,n,e),head:async(t,r,n,a)=>Wu(t,"HEAD",r,qe(qe({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,s)=>Wu(t,"DELETE",r,a,s,n,e)}}const NU=uD("storage"),{get:xd,post:ma,put:wx,head:OU,remove:Vw}=NU,Dn=uD("vectors");var qc=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=yU(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rp(r))return{data:null,error:r};throw r}}},EU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Rp(t))return{data:null,error:t};throw t}}};let dD;dD=Symbol.toStringTag;var AU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[dD]="BlobDownloadBuilder",this.promise=null}asStream(){return new EU(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Rp(t))return{data:null,error:t};throw t}}};const CU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var kU=class extends qc{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let s;const l=qe(qe({},HE),n);let u=qe(qe({},a.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",a.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),f&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(f))):(s=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,f&&(u["x-metadata"]=a.toBase64(a.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(u=qe(qe({},u),n.headers));const h=a._removeEmptyFolders(t),p=a._getFinalPath(h),g=await(e=="PUT"?wx:ma)(a.fetch,`${a.url}/object/${p}`,s,qe({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:h,id:g.Id,fullPath:g.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const s=a._removeEmptyFolders(e),l=a._getFinalPath(s),u=new URL(a.url+`/object/upload/sign/${l}`);return u.searchParams.set("token",t),a.handleOperation(async()=>{let f;const h=qe({upsert:HE.upsert},n),p=qe(qe({},a.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{path:s,fullPath:(await wx(a.fetch,u.toString(),f,{headers:p})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=qe({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=await ma(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(r.url+s.url),u=l.searchParams.get("token");if(!u)throw new Mp("No token returned by API");return{signedUrl:l.toString(),path:e,token:u}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ma(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ma(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),s=await ma(n.fetch,`${n.url}/object/sign/${a}`,qe({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${l}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await ma(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(l=>qe(qe({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${s}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=a?`?${a}`:"",l=this._getFinalPath(e),u=()=>xd(this.fetch,`${this.url}/${n}/${l}${s}`,{headers:this.headers,noResolveJson:!0},r);return new AU(u,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>xx(await xd(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await OU(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Rp(n)&&n instanceof cD){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Vw(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=qe(qe(qe({},CU),t),{},{prefix:e||""});return await ma(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=qe({},e);return await ma(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const PU="2.95.3",Yd={"X-Client-Info":`storage-js/${PU}`};var TU=class extends qc{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const s=a.href.replace(/\/$/,""),l=qe(qe({},Yd),t);super(s,l,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await xd(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await xd(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ma(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await wx(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ma(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Vw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},DU=class extends qc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=qe(qe({},Yd),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ma(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await xd(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Vw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!bU(e))throw new Mp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new gU({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const l=a[s];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(a,u),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}}}})}},MU=class extends qc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=qe(qe({},Yd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Dn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Dn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},RU=class extends qc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=qe(qe({},Yd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},IU=class extends qc{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=qe(qe({},Yd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Dn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},LU=class extends IU{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new BU(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},BU=class extends MU{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new $U(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},$U=class extends RU{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},UU=class extends TU{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new kU(this.url,this.headers,e,this.fetch)}get vectors(){return new LU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new DU(this.url+"/iceberg",this.headers,this.fetch)}};const fD="2.95.3",ac=30*1e3,jx=3,f0=jx*ac,zU="http://localhost:9999",qU="supabase.auth.token",FU={"X-Client-Info":`gotrue-js/${fD}`},Sx="X-Supabase-Api-Version",hD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QU=600*1e3;class wd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class HU extends wd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function VU(e){return Te(e)&&e.name==="AuthApiError"}class jo extends wd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ii extends wd{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Tn extends Ii{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function h0(e){return Te(e)&&e.name==="AuthSessionMissingError"}class Gl extends Ii{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xh extends Ii{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Jh extends Ii{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function GU(e){return Te(e)&&e.name==="AuthImplicitGrantRedirectError"}class VE extends Ii{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class YU extends Ii{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class _x extends Ii{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function m0(e){return Te(e)&&e.name==="AuthRetryableFetchError"}class GE extends Ii{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Nx extends Ii{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),YE=` 	
\r=`.split(""),WU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<YE.length;t+=1)e[YE[t].charCodeAt(0)]=-2;for(let t=0;t<Cm.length;t+=1)e[Cm[t].charCodeAt(0)]=t;return e})();function WE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cm[n]),t.queuedBits-=6}}function mD(e,t,r){const n=WU[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function XE(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{ZU(l,n,r)};for(let l=0;l<e.length;l+=1)mD(e.charCodeAt(l),a,s);return t.join("")}function XU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function JU(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}XU(n,t)}}function ZU(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function uc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)mD(e.charCodeAt(a),r,n);return new Uint8Array(t)}function ez(e){const t=[];return JU(e,r=>t.push(r)),new Uint8Array(t)}function _o(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>WE(a,r,n)),WE(null,r,n),t.join("")}function tz(e){return Math.round(Date.now()/1e3)+e}function rz(){return Symbol("auth-callback")}const Kr=()=>typeof window<"u"&&typeof document<"u",mo={tested:!1,writable:!1},pD=()=>{if(!Kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mo.tested)return mo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mo.tested=!0,mo.writable=!0}catch{mo.tested=!0,mo.writable=!1}return mo.writable};function nz(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const gD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),az=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ic=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},po=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Fr=async(e,t)=>{await e.removeItem(t)};class Ip{constructor(){this.promise=new Ip.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ip.promiseConstructor=Promise;function Zh(e){const t=e.split(".");if(t.length!==3)throw new Nx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!KU.test(t[n]))throw new Nx("JWT not in base64url format");return{header:JSON.parse(XE(t[0])),payload:JSON.parse(XE(t[1])),signature:uc(t[2]),raw:{header:t[0],payload:t[1]}}}async function iz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sz(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){a(l);return}}})()})}function oz(e){return("0"+e.toString(16)).substr(-2)}function lz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,oz).join("")}async function cz(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function uz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await cz(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yl(e,t,r=!1){const n=lz();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ic(e,`${t}-code-verifier`,a);const s=await uz(n);return[s,n===s?"plain":"s256"]}const dz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fz(e){const t=e.headers.get(Sx);if(!t||!t.match(dz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function hz(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function mz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wl(e){if(!pz.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function p0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gz(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function JE(e){return JSON.parse(JSON.stringify(e))}const yo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yz=[502,503,504];async function ZE(e){var t;if(!az(e))throw new _x(yo(e),0);if(yz.includes(e.status))throw new _x(yo(e),e.status);let r;try{r=await e.json()}catch(s){throw new jo(yo(s),s)}let n;const a=fz(e);if(a&&a.getTime()>=hD["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new GE(yo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Tn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new GE(yo(r),e.status,r.weak_password.reasons);throw new HU(yo(r),e.status||500,n)}const vz=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function $e(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[Sx]||(s[Sx]=hD["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await bz(e,t,r+u,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function bz(e,t,r,n,a,s){const l=vz(t,n,a,s);let u;try{u=await e(r,Object.assign({},l))}catch(f){throw console.error(f),new _x(yo(f),0)}if(u.ok||await ZE(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(f){await ZE(f)}}function ha(e){var t;let r=null;jz(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=tz(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function eA(e){const t=ha(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ss(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xz(e){return{data:e,error:null}}function wz(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,l=Dp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},f=Object.assign({},l);return{data:{properties:u,user:f},error:null}}function tA(e){return e}function jz(e){return e.access_token&&e.refresh_token&&e.expires_in}const g0=["global","local","others"];class Sz{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=gD(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=g0[0]){if(g0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${g0.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ss})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Dp(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:wz,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ss})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,l,u,f;try{const h={nextPage:null,lastPage:0,total:0},p=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:tA});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(f=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Te(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Wl(t);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ss})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Wl(t);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ss})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Wl(t);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ss})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Wl(t.userId);try{const{data:r,error:n}=await $e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Wl(t.userId),Wl(t.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,l,u,f;try{const h={nextPage:null,lastPage:0,total:0},p=await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:tA});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(f=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Te(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await $e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await $e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}}function rA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Xl={debug:!!(globalThis&&pD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yD extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _z extends yD{}async function Nz(e,t,r){Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _z(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Oz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vD(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Ez(e){return parseInt(e,16)}function Az(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Cz(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:u,requestId:f,resources:h,scheme:p,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=vD(e.address),x=p?`${p}://${n}`:n,w=e.statement?`${e.statement}
`:"",_=`${x} wants you to sign in with your Ethereum account:
${v}

${w}`;let N=`URI: ${g}
Version: ${y}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),u&&(N+=`
Not Before: ${u.toISOString()}`),f&&(N+=`
Request ID: ${f}`),h){let O=`
Resources:`;for(const E of h){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);O+=`
- ${E}`}N+=O}return`${_}
${N}`}class hr extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class km extends hr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function kz({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new hr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new hr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new hr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new hr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new hr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new hr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new hr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new hr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(bD(l)){if(s.rp.id!==l)return new hr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new hr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new hr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new hr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new hr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Pz({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new hr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new hr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(bD(n)){if(r.rpId!==n)return new hr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new hr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new hr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new hr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Tz{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Dz=new Tz;function Mz(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Dp(e,["challenge","user","excludeCredentials"]),s=uc(t).buffer,l=Object.assign(Object.assign({},r),{id:uc(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:s,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];u.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:uc(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function Rz(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Dp(e,["challenge","allowCredentials"]),a=uc(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},u),{id:uc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function Iz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:_o(new Uint8Array(e.response.attestationObject)),clientDataJSON:_o(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Lz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:_o(new Uint8Array(a.authenticatorData)),clientDataJSON:_o(new Uint8Array(a.clientDataJSON)),signature:_o(new Uint8Array(a.signature)),userHandle:a.userHandle?_o(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function bD(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function nA(){var e,t;return!!(Kr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Bz(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new km("Browser returned unexpected credential type",t)}:{data:null,error:new km("Empty credential response",t)}}catch(t){return{data:null,error:kz({error:t,options:e})}}}async function $z(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new km("Browser returned unexpected credential type",t)}:{data:null,error:new km("Empty credential response",t)}}catch(t){return{data:null,error:Pz({error:t,options:e})}}}const Uz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},zz={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pm(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const u=n[s];t(u)?n[s]=Pm(u,l):n[s]=Pm(l)}else n[s]=l}return n}function qz(e,t){return Pm(Uz,e,t||{})}function Fz(e,t){return Pm(zz,e,t||{})}class Kz{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){var l;try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!u)return{data:null,error:f};const h=a??Dz.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;if(!p.name){const g=n;if(g)p.name=`${p.id}:${g}`;else{const v=(await this.client.getUser()).data.user,x=((l=v==null?void 0:v.user_metadata)===null||l===void 0?void 0:l.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";p.name=`${p.id}:${x}`}}p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=qz(u.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:g,error:y}=await Bz({publicKey:p,signal:h});return g?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}case"request":{const p=Fz(u.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:g,error:y}=await $z(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}}}catch(u){return Te(u)?{data:null,error:u}:{data:null,error:new jo("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new wd("rpId is required for WebAuthn authentication")};try{if(!nA())return{data:null,error:new jo("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!l)return{data:null,error:u};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(l){return Te(l)?{data:null,error:l}:{data:null,error:new jo("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new wd("rpId is required for WebAuthn registration")};try{if(!nA())return{data:null,error:new jo("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Te(l)?{data:null,error:l}:{data:null,error:new jo("Unexpected error in register",l)}}}}Oz();const Qz={url:zU,storageKey:qU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function aA(e,t,r){return await r()}const Jl={};class jd{get jwks(){var t,r;return(r=(t=Jl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Jl[this.storageKey]=Object.assign(Object.assign({},Jl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Jl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Jl[this.storageKey]=Object.assign(Object.assign({},Jl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Qz),t);if(this.storageKey=s.storageKey,this.instanceID=(r=jd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,jd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Kr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Sz({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=gD(s.fetch),this.lock=s.lock||aA,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Kr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Nz:this.lock=aA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Kz(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:pD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rA(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=rA(this.memoryStorage)),Kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${fD}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Kr()&&(r=nz(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Kr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),GU(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Te(r)?this._returnResult({error:r}):this._returnResult({error:new jo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ha}),{data:l,error:u}=s;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Te(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:p,password:g,options:y}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Yl(this.storage,this.storageKey)),s=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:g,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:x},xform:ha})}else if("phone"in t){const{phone:p,password:g,options:y}=t;s=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(a=y==null?void 0:y.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:ha})}else throw new Xh("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return await Fr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Te(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:u}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:eA})}else if("phone"in t){const{phone:s,password:l,options:u}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:eA})}else throw new Xh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new Gl;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,l,u,f,h,p,g,y;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:w,wallet:_,statement:N,options:O}=t;let E;if(Kr())if(typeof _=="object")E=_;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")E=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const C=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href),T=await E.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=vD(T[0]);let M=(n=O==null?void 0:O.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!M){const B=await E.request({method:"eth_chainId"});M=Ez(B)}const R={domain:C.host,address:P,statement:N,uri:C.href,version:"1",chainId:M,nonce:(a=O==null?void 0:O.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=O==null?void 0:O.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=O==null?void 0:O.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=O==null?void 0:O.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=O==null?void 0:O.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=Cz(R),x=await E.request({method:"personal_sign",params:[Az(v),P]})}try{const{data:w,error:_}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ha});if(_)throw _;if(!w||!w.session||!w.user){const N=new Gl;return this._returnResult({data:{user:null,session:null},error:N})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(Te(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,a,s,l,u,f,h,p,g,y,v;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:_,wallet:N,statement:O,options:E}=t;let C;if(Kr())if(typeof N=="object")C=N;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const T=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),O?{statement:O}:null));let M;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")M=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)M=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)x=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),w=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${T.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(a=(n=E==null?void 0:E.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=E==null?void 0:E.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((h=E==null?void 0:E.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((g=(p=E==null?void 0:E.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...E.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(x),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=P}}try{const{data:_,error:N}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:_o(w)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ha});if(N)throw N;if(!_||!_.session||!_.user){const O=new Gl;return this._returnResult({data:{user:null,session:null},error:O})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:N})}catch(_){if(Te(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await po(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new YU;const{data:s,error:l}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ha});if(await Fr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const u=new Gl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Te(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:l}=t,u=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ha}),{data:f,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const p=new Gl;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,l;try{if("email"in t){const{email:u,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Yl(this.storage,this.storageKey));const{error:g}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:f}=t,{data:h,error:p}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new Xh("You must provide either an email or phone number.")}catch(u){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:ha});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,l;try{let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Yl(this.storage,this.storageKey));const h=await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:xz});return!((s=h.data)===null||s===void 0)&&s.url&&Kr()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Te(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Tn;const{error:a}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:l}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:l,error:u}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new Xh("You must provide either an email or phone number and a type")}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await po(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<f0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await po(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=p0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=gz(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ss}):await this._useSession(async r=>{var n,a,s;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tn}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Ss})})}catch(r){if(Te(r))return h0(r)&&(await this._removeSession(),await Fr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Tn;const l=a.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await Yl(this.storage,this.storageKey));const{data:h,error:p}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:l.access_token,xform:Ss});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Te(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tn;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:l}=Zh(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Tn;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Kr())throw new Jh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new VE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new VE("No code detected.");const{data:O,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:u,expires_at:f,token_type:h}=t;if(!s||!u||!l||!h)throw new Jh("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let y=p+g;f&&(y=parseInt(f));const v=y-p;v*1e3<=ac&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const x=y-g;p-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,y,p):p-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,y,p);const{data:w,error:_}=await this._getUser(s);if(_)throw _;const N={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:y,refresh_token:l,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(n){if(Te(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await po(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s&&!h0(s))return this._returnResult({error:s});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(VU(u)&&(u.status===404||u.status===401||u.status===403)||h0(u)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await Fr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=rz(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Yl(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Te(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var l,u,f,h,p;const{data:g,error:y}=s;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return Kr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Te(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:l,provider:u,token:f,access_token:h,nonce:p}=t,g=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:f,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ha}),{data:y,error:v}=g;return v?this._returnResult({data:{user:null,session:null},error:v}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Gl}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:v}))}catch(a){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)throw l;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await sz(async a=>(a>0&&await iz(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ha})),(a,s)=>{const l=200*Math.pow(2,a);return s&&m0(s)&&Date.now()+l-n<ac})}catch(n){if(this._debug(r,"error",n),Te(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await po(this.storage,this.storageKey);if(a&&this.userStorage){let l=await po(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await ic(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:p0()}else if(a&&!a.user&&!a.user){const l=await po(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,await Fr(this.storage,this.storageKey+"-user"),await ic(this.storage,this.storageKey,a)):a.user=p0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<f0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${f0}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),m0(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(a.access_token);!u&&(l!=null&&l.user)?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ip;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Tn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(a,"error",s),Te(s)){const l={data:null,error:s};return m0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Fr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ic(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=JE(a);await ic(this.storage,this.storageKey,s)}else{const a=JE(r);await ic(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Fr(this.storage,this.storageKey),await Fr(this.storage,this.storageKey+"-code-verifier"),await Fr(this.storage,this.storageKey+"-user"),this.userStorage&&await Fr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ac);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ac);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ac}ms, refresh threshold is ${jx} ticks`),a<=jx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yD)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await Yl(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await $e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&f.type==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Iz(t.webauthn.credential_response):Lz(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:f}=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:f}))})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Mz(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Rz(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,s;if(t)try{const{payload:v}=Zh(t);let x=null;v.aal&&(x=v.aal);let w=x;const{data:{user:_},error:N}=await this.getUser(t);if(N)return this._returnResult({data:null,error:N});((n=(r=_==null?void 0:_.factors)===null||r===void 0?void 0:r.filter(C=>C.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(w="aal2");const E=v.amr||[];return{data:{currentLevel:x,nextLevel:w,currentAuthenticationMethods:E},error:null}}catch(v){if(Te(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Zh(l.access_token);let h=null;f.aal&&(h=f.aal);let p=h;((s=(a=l.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const y=f.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await $e(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Tn})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Tn});const l=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Tn});const l=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await $e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Tn})})}catch(t){if(Te(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await $e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Tn})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+QU>a)return n;const{data:s,error:l}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return this._returnResult({data:null,error:x});n=v.session.access_token}const{header:a,payload:s,signature:l,raw:{header:u,payload:f}}=Zh(n);r!=null&&r.allowExpired||hz(s.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:a,signature:l},error:null}}const p=mz(a.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,ez(`${u}.${f}`)))throw new Nx("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}}jd.nextInstanceID={};const Hz=jd,Vz="2.95.3";let ld="";typeof Deno<"u"?ld="deno":typeof document<"u"?ld="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ld="react-native":ld="node";const Gz={"X-Client-Info":`supabase-js-${ld}/${Vz}`},Yz={headers:Gz},Wz={schema:"public"},Xz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jz={};function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function Zz(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eq(e){var t=Zz(e,"string");return Sd(t)=="symbol"?t:t+""}function tq(e,t,r){return(t=eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(r),!0).forEach(function(n){tq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const rq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nq=()=>Headers,aq=(e,t,r)=>{const n=rq(r),a=nq();return async(s,l)=>{var u;const f=(u=await t())!==null&&u!==void 0?u:e;let h=new a(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(s,tr(tr({},l),{},{headers:h}))}};function iq(e){return e.endsWith("/")?e:e+"/"}function sq(e,t){var r,n;const{db:a,auth:s,realtime:l,global:u}=e,{db:f,auth:h,realtime:p,global:g}=t,y={db:tr(tr({},f),a),auth:tr(tr({},h),s),realtime:tr(tr({},p),l),storage:{},global:tr(tr(tr({},g),u),{},{headers:tr(tr({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function oq(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(iq(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var lq=class extends Hz{constructor(e){super(e)}},cq=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const s=oq(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:Wz,realtime:Jz,auth:tr(tr({},Xz),{},{storageKey:l}),global:Yz},f=sq(r??{},u);if(this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=aq(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(tr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new V$(new URL("rest/v1",s).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new UU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new $$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:l,lock:u,debug:f,throwOnError:h},p,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lq({url:this.authUrl.href,headers:tr(tr({},y),p),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:l,lock:u,debug:f,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new uU(this.realtimeUrl.href,tr(tr({},e),{},{params:tr(tr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const uq=(e,t,r)=>new cq(e,t,r);function dq(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}dq()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fq="https://ozjddzasadgffjjeqntc.supabase.co",hq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96amRkemFzYWRnZmZqamVxbnRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTMwMzEsImV4cCI6MjA4NTk2OTAzMX0._1fbWup_bHYe0PN5QUcptRMuwZRAEFwQOPEPd7Lk3NY",be=uq(fq,hq),mq={company:{name:"BD Hatbela",logo:"",phone:"",email:"",address:""},order:{prefix:"BDH-",nextNumber:1},invoice:{title:"Tax Invoice",logoWidth:60,logoHeight:60,footer:"Thank you for shopping with BD Hatbela!"},defaults:{accountId:"",paymentMethod:"Cash",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:20},categories:[],paymentMethods:[],courier:{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}},xD=e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null},pq=xD("currentUser"),gq=xD("settings"),Se={users:[],customers:[],vendors:[],products:[],orders:[],bills:[],accounts:[],transactions:[],currentUser:pq??null,settings:gq??mq},Xu=()=>{try{localStorage.setItem("currentUser",JSON.stringify(Se.currentUser)),localStorage.setItem("settings",JSON.stringify(Se.settings))}catch(e){console.warn("[DB] localStorage write failed:",e)}},xt=25,Fc="https://ozjddzasadgffjjeqntc.supabase.co",Kc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96amRkemFzYWRnZmZqamVxbnRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTMwMzEsImV4cCI6MjA4NTk2OTAzMX0._1fbWup_bHYe0PN5QUcptRMuwZRAEFwQOPEPd7Lk3NY";async function Zr(){if(Se.currentUser)return{user:Se.currentUser};const e=localStorage.getItem("currentUserId");if(e)try{const r=await Ww(e);if(r)return Se.currentUser=r,{user:r}}catch(r){console.warn("[supabaseQueries] Failed to restore user from ID:",r)}const t=localStorage.getItem("userData");if(t)try{const r=JSON.parse(t);return Se.currentUser=r,{user:r}}catch{}throw new Error("No authenticated session available. Please log in.")}function yq(){const e=Se.currentUser;if(!e||!e.id)throw new Error("User session not available for mutation");return e.id}async function Li(e,t=1e4){const r=n=>{if(!n)return!1;const a=((n==null?void 0:n.message)||(n==null?void 0:n.toString())||"").toLowerCase(),s=(n==null?void 0:n.code)||"";return a.includes("failed to fetch")||a.includes("connection closed")||a.includes("network")||a.includes("econnrefused")||a.includes("etimedout")||s==="ERR_CONNECTION_CLOSED"||n instanceof TypeError};try{const n=await Promise.race([e,new Promise(l=>{setTimeout(()=>l({data:null,error:{message:"Query timeout"}}),t)})]),{data:a,error:s}=n;return s?r(s)?(console.error("[supabaseQueries] NETWORK ERROR (no retry):",(s==null?void 0:s.message)||s),[]):(console.warn("[supabaseQueries] Query error:",(s==null?void 0:s.message)||s),[]):a||(console.warn("[supabaseQueries] Query returned no data"),[])}catch(n){return r(n)?(console.error("[supabaseQueries] NETWORK ERROR in catch:",(n==null?void 0:n.message)||n),[]):(console.error("[supabaseQueries] Query exception:",n),[])}}async function wD(){return console.log("[supabaseQueries] fetchCustomers called"),(await Li(be.from("customers").select("*").order("created_at",{ascending:!1}))).map(kc)}async function Lp(e){if(!e)return null;if(e.startsWith("temp-"))return console.warn("[supabaseQueries] fetchCustomerById called with temp id, returning null:",e),null;const{data:t,error:r}=await be.from("customers").select("*").eq("id",e).maybeSingle();return r?(console.error("[supabaseQueries] fetchCustomerById error:",r),null):kc(t)}async function vq(e){await Zr();const t=crypto.randomUUID(),r=async()=>await be.from("customers").insert([{id:t,name:e.name,phone:e.phone,address:e.address,total_orders:e.totalOrders||0,due_amount:e.dueAmount||0}]).select().single();try{const{data:n,error:a}=await r();if(a)throw console.error("[supabaseQueries] createCustomer error:",a),a;return kc(n)}catch(n){const a=(n==null?void 0:n.name)||(n==null?void 0:n.code)||"";if(a==="AbortError"||a==="ABORT_ERR"||String(n).toLowerCase().includes("abort")){console.warn("[supabaseQueries] createCustomer aborted - retrying once");try{await new Promise(u=>setTimeout(u,250));const{data:s,error:l}=await r();if(l)throw console.error("[supabaseQueries] createCustomer retry error:",l),l;return kc(s)}catch(s){throw console.error("[supabaseQueries] createCustomer abort/retry failed:",s),s}}throw console.error("[supabaseQueries] createCustomer error:",n),n}}async function bq(e,t){await Zr();const{data:r,error:n}=await be.from("customers").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.address&&{address:t.address},...t.totalOrders!==void 0&&{total_orders:t.totalOrders},...t.dueAmount!==void 0&&{due_amount:t.dueAmount}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateCustomer error:",n),n;return kc(r)}async function xq(e){if(e.startsWith("temp-")){const r=new Error("Cannot delete unsaved customer. Please refresh and try again.");throw console.error("[supabaseQueries] deleteCustomer error:",r),r}const{error:t}=await be.from("customers").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteCustomer error:",t),t}function kc(e){return{id:e.id,name:e.name,phone:e.phone,address:e.address,totalOrders:e.total_orders??e.totalOrders??0,dueAmount:e.due_amount??e.dueAmount??0,createdBy:e.created_by??e.createdBy}}async function wq(){return(await Li(be.from("orders").select("*").order("created_at",{ascending:!1}))).map(Qc)}async function jq(e=1,t=xt,r){const n=(e-1)*t,a=n+t-1;let s=be.from("orders").select("id, order_number, order_date, customer_id, created_by, status, subtotal, discount, shipping, total, paid_amount, notes, history, created_at",{count:"estimated"});if(r){if(r.status&&r.status!=="All"&&(s=s.eq("status",r.status)),r.from&&(s=s.gte("order_date",r.from)),r.to&&(s=s.lte("order_date",r.to)),r.search){const l=r.search.trim();l&&(s=s.ilike("order_number",`%${l}%`))}r.createdByIds&&r.createdByIds.length>0&&(s=s.in("created_by",r.createdByIds))}s=s.order("created_at",{ascending:!1}).range(n,a);try{const{data:l,error:u,count:f}=await s;return u?(console.error("[supabaseQueries] fetchOrdersPage error:",u),{data:[],count:0}):{data:(l||[]).map(Qc),count:f??0}}catch(l){return console.error("[supabaseQueries] fetchOrdersPage exception:",l),{data:[],count:0}}}async function Sq(e){const{data:t,error:r}=await be.from("orders").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchOrderById error:",r),null):Qc(t)}async function _q(e){return(await Li(be.from("orders").select("*").eq("customer_id",e).order("order_date",{ascending:!1}))).map(Qc)}async function Nq(e){await Zr();const t=crypto.randomUUID(),r=yq(),n={id:t,order_date:e.orderDate,customer_id:e.customerId,created_by:r,status:e.status,items:e.items,subtotal:e.subtotal,discount:e.discount,shipping:e.shipping,total:e.total,paid_amount:e.paidAmount,history:e.history};e.orderNumber&&(n.order_number=e.orderNumber);const{data:a,error:s}=await be.from("orders").insert([n]).select().single();if(s)throw console.error("[supabaseQueries] createOrder error:",s),s;return Qc(a)}async function Oq(e,t){await Zr();const{data:r,error:n}=await be.from("orders").update({...t.customerId&&{customer_id:t.customerId},...t.orderDate&&{order_date:t.orderDate},...t.orderNumber&&{order_number:t.orderNumber},...t.notes!==void 0&&{notes:t.notes},...t.status&&{status:t.status},...t.items&&{items:t.items},...t.subtotal!==void 0&&{subtotal:t.subtotal},...t.discount!==void 0&&{discount:t.discount},...t.shipping!==void 0&&{shipping:t.shipping},...t.total!==void 0&&{total:t.total},...t.paidAmount!==void 0&&{paid_amount:t.paidAmount},...t.history&&{history:t.history}}).eq("id",e).select();if(n)throw console.error("[supabaseQueries] updateOrder error:",n),n;if(!r||Array.isArray(r)&&r.length===0)return console.warn("[supabaseQueries] updateOrder: update succeeded but no row was returned (possible RLS). Returning null."),null;const a=Array.isArray(r)?r[0]:r;return Qc(a)}async function Eq(e){await Zr();const{error:t}=await be.from("transactions").delete().eq("reference_id",e).eq("type","Income");if(t)throw console.error("[supabaseQueries] deleteOrder: failed to delete income transactions:",t),t;const{error:r}=await be.from("transactions").delete().eq("reference_id",e).eq("type","Expense").eq("category","expense_shipping");if(r)throw console.error("[supabaseQueries] deleteOrder: failed to delete shipping expense transactions:",r),r;const{error:n}=await be.from("orders").delete().eq("id",e);if(n)throw console.error("[supabaseQueries] deleteOrder error:",n),n}function Qc(e){return{id:e.id,orderNumber:e.order_number??e.orderNumber,orderDate:e.order_date??e.orderDate,customerId:e.customer_id??e.customerId,createdBy:e.created_by??e.createdBy,status:e.status,items:e.items??[],subtotal:e.subtotal??0,discount:e.discount??0,shipping:e.shipping??0,total:e.total??0,notes:e.notes,history:e.history??{},paidAmount:e.paid_amount??e.paidAmount??0}}async function Ox(){return(await Li(be.from("accounts").select("*").order("created_at",{ascending:!1}))).map(Gw)}async function Ex(e=1,t=xt,r){const n=(e-1)*t,a=n+t-1;let s=be.from("customers").select("id, name, phone, address, total_orders, due_amount, created_at",{count:"estimated"});if(r&&r.trim()){const l=r.trim();s=s.or(`name.ilike.%${l}%,phone.ilike.%${l}%,address.ilike.%${l}%`)}s=s.order("created_at",{ascending:!1}).range(n,a);try{const{data:l,error:u,count:f}=await s;return u?(console.error("[supabaseQueries] fetchCustomersPage error:",u),{data:[],count:0}):{data:(l||[]).map(kc),count:f??0}}catch(l){return console.error("[supabaseQueries] fetchCustomersPage exception:",l),{data:[],count:0}}}async function Aq(e){const t=crypto.randomUUID(),{data:r,error:n}=await be.from("accounts").insert([{id:t,name:e.name,type:e.type,opening_balance:e.openingBalance,current_balance:e.currentBalance}]).select().single();if(n)throw console.error("[supabaseQueries] createAccount error:",n),n;return Gw(r)}async function Cq(e,t){const{data:r,error:n}=await be.from("accounts").update({...t.name&&{name:t.name},...t.type&&{type:t.type},...t.currentBalance!==void 0&&{current_balance:t.currentBalance}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateAccount error:",n),n;return Gw(r)}async function kq(e){const{error:t}=await be.from("accounts").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteAccount error:",t),t}function Gw(e){return{id:e.id,name:e.name,type:e.type,openingBalance:e.opening_balance??e.openingBalance,currentBalance:e.current_balance??e.currentBalance}}async function Pq(){return(await Li(be.from("transactions").select("*").order("created_at",{ascending:!1}))).map(Yw)}async function Tq(e=1,t=xt,r){const n=(e-1)*t,a=n+t-1;let s=be.from("transactions").select("id, date, type, category, account_id, to_account_id, amount, description, reference_id, contact_id, payment_method, attachment_name, attachment_url, created_by, created_at",{count:"estimated"});if(r){if(r.type&&(s=s.eq("type",r.type)),r.from&&(s=s.gte("date",r.from)),r.to&&(s=s.lte("date",r.to)),r.search){const l=r.search.trim();l&&(s=s.ilike("description",`%${l}%`))}r.createdByIds&&r.createdByIds.length>0&&(s=s.in("created_by",r.createdByIds))}s=s.order("created_at",{ascending:!1}).range(n,a);try{const{data:l,error:u,count:f}=await s;return u?(console.error("[supabaseQueries] fetchTransactionsPage error:",u),{data:[],count:0}):{data:(l||[]).map(Yw),count:f??0}}catch(l){return console.error("[supabaseQueries] fetchTransactionsPage exception:",l),{data:[],count:0}}}async function Dq(e){await Zr();const r={id:crypto.randomUUID(),date:e.date,type:e.type,category:e.category,account_id:e.accountId,amount:e.amount,description:e.description,payment_method:e.paymentMethod,created_by:e.createdBy};e.toAccountId&&(r.to_account_id=e.toAccountId),e.referenceId&&(r.reference_id=e.referenceId),e.contactId&&(r.contact_id=e.contactId),e.attachmentName&&(r.attachment_name=e.attachmentName),e.attachmentUrl&&(r.attachment_url=e.attachmentUrl);const{data:n,error:a}=await be.from("transactions").insert([r]).select().single();if(a)throw console.error("[supabaseQueries] createTransaction error:",a),a;return Yw(n)}async function Mq(e){if(e.startsWith("temp-")){const r=new Error("Cannot delete unsaved transactions. Please refresh and try again.");throw console.error("[supabaseQueries] deleteTransaction error:",r),r}const{error:t}=await be.from("transactions").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteTransaction error:",t),t}function Yw(e){const t=e.date??e.date_string??null,r=e.created_at??e.createdAt??null,n=t&&t.toString().length>10?t:r||t||"";return{id:e.id,date:n,type:e.type,category:e.category,accountId:e.account_id??e.accountId,toAccountId:e.to_account_id??e.toAccountId,amount:e.amount,description:e.description,referenceId:e.reference_id??e.referenceId,contactId:e.contact_id??e.contactId,paymentMethod:e.payment_method??e.paymentMethod,attachmentName:e.attachment_name??e.attachmentName,attachmentUrl:e.attachment_url??e.attachmentUrl,createdBy:e.created_by??e.createdBy,createdAt:r||null}}async function Rq(e=1,t=xt,r,n,a){const s=(e-1)*t,l=s+t-1;let u=be.from("products").select("id, name, image, category, sale_price, purchase_price, created_at",{count:"estimated"});if(r&&r.trim()){const f=r.trim();u=u.ilike("name",`%${f}%`)}a&&a.length>0&&(u=u.in("created_by",a)),u=u.order("created_at",{ascending:!1}).range(s,l);try{const{data:f,error:h,count:p}=await u;return h?(console.error("[supabaseQueries] fetchProductsPage error:",h),{data:[],count:0}):{data:(f||[]).map(el),count:p??0}}catch(f){return console.error("[supabaseQueries] fetchProductsPage exception:",f),{data:[],count:0}}}async function Tm(){try{const{data:e,error:t}=await be.from("products").select("id, name, sale_price, purchase_price").order("created_at",{ascending:!1}).limit(100);return t?(console.error("[supabaseQueries] fetchProductsMini error:",t),[]):(e||[]).map(el)}catch(e){return console.error("[supabaseQueries] fetchProductsMini exception:",e),[]}}async function jD(e,t=50){try{if(!e||!e.trim())return[];const{data:r,error:n}=await be.from("products").select("id, name, sale_price, purchase_price").ilike("name",`%${e.trim()}%`).order("created_at",{ascending:!1}).limit(t);return n?(console.error("[supabaseQueries] fetchProductsSearch error:",n),[]):(r||[]).map(el)}catch(r){return console.error("[supabaseQueries] fetchProductsSearch exception:",r),[]}}async function Iq(){return(await Li(be.from("users").select("*").order("created_at",{ascending:!1}))).map(Wd)}async function Ww(e){const{data:t,error:r}=await be.from("users").select("*").eq("id",e).single();if(r)return console.error("[supabaseQueries] fetchUserById error:",r),null;console.log("[supabaseQueries] fetchUserById raw data:",{id:t==null?void 0:t.id,name:t==null?void 0:t.name,password_hash:t!=null&&t.password_hash?`(${t.password_hash.substring(0,20)}...)`:"(NULL/MISSING)",allKeys:Object.keys(t||{})});const n=Wd(t);return console.log("[supabaseQueries] fetchUserById mapped user:",{id:n.id,name:n.name,password:n.password?`(${n.password.substring(0,20)}...)`:"(NULL/MISSING)"}),n}async function Lq(e,t){try{console.log("[supabaseQueries] loginUser - fetching user by phone:",e);const{data:r,error:n}=await be.from("users").select("*").eq("phone",e).single();if(n)return console.error("[supabaseQueries] loginUser - user not found:",n==null?void 0:n.message),{user:null,error:"User not found"};if(!r)return{user:null,error:"User not found"};console.log("[supabaseQueries] loginUser - validating password");try{if(!(await Qw(()=>import("./bcrypt-CMp8YRT9.js").then(l=>l.b),[])).compareSync(t,r.password_hash||""))return console.error("[supabaseQueries] loginUser - password mismatch"),{user:null,error:"Invalid password"}}catch(a){return console.error("[supabaseQueries] loginUser - bcrypt error:",a==null?void 0:a.message),{user:null,error:"Password validation failed"}}return console.log("[supabaseQueries] loginUser - success for user:",r.id),{user:Wd(r),error:null}}catch(r){return console.error("[supabaseQueries] loginUser exception:",(r==null?void 0:r.message)||r),{user:null,error:(r==null?void 0:r.message)||"Login failed"}}}async function Bq(e){try{const t=e.password;if(!t)throw new Error("Password is required to create a user");const r=crypto.randomUUID();console.log("[supabaseQueries] Creating user with phone:",e.phone,"id:",r);let n;try{n=(await Qw(()=>import("./bcrypt-CMp8YRT9.js").then(f=>f.b),[])).hashSync(t,12),console.log("[supabaseQueries] Password hashed successfully")}catch(l){throw console.error("[supabaseQueries] Password hashing failed:",l==null?void 0:l.message),new Error(`Password hashing failed: ${(l==null?void 0:l.message)||"Unknown error"}`)}console.log("[supabaseQueries] Inserting user row into users table");const{data:a,error:s}=await be.from("users").insert([{id:r,name:e.name,phone:e.phone,role:e.role,image:e.image,password_hash:n}]).select().single();if(s)throw console.error("[supabaseQueries] Create profile error:",s),s;return console.log("[supabaseQueries] User created successfully - can now sign in (frontend-password mode)"),Wd(a)}catch(t){throw console.error("[supabaseQueries] createUser error:",t),t}}async function $q(e,t){const r={...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.role&&{role:t.role},...t.image&&{image:t.image}};if(t.password)try{const u=(await Qw(()=>import("./bcrypt-CMp8YRT9.js").then(f=>f.b),[])).hashSync(t.password,12);r.password_hash=u}catch(s){throw console.error("[supabaseQueries] updateUser - password hashing failed:",s==null?void 0:s.message),s}const{data:n,error:a}=await be.from("users").update(r).eq("id",e).select().single();if(a)throw console.error("[supabaseQueries] updateUser error:",a),a;return Wd(n)}async function Uq(e){const{error:t}=await be.from("users").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteUser error:",t),t}function sA(e){return e?typeof e=="string"?e:e.message?e.message:e.details?e.details:e.hint?e.hint:JSON.stringify(e):"Unknown error"}function Wd(e){return{id:e.id,name:e.name,phone:e.phone,role:e.role,image:e.image,password:void 0,createdAt:e.created_at}}async function Ax(e=1,t=xt,r,n){const a=(e-1)*t,s=a+t-1;let l=be.from("vendors").select("id, name, phone, address, total_purchases, due_amount, created_at",{count:"estimated"});if(r&&r.trim()){const u=r.trim();l=l.or(`name.ilike.%${u}%,phone.ilike.%${u}%,address.ilike.%${u}%`)}l=l.order("created_at",{ascending:!1}).range(a,s);try{const{data:u,error:f,count:h}=await l;return f?(console.error("[supabaseQueries] fetchVendorsPage error:",f),{data:[],count:0}):{data:(u||[]).map(Jd),count:h??0}}catch(u){return console.error("[supabaseQueries] fetchVendorsPage exception:",u),{data:[],count:0}}}async function zq(e=1,t=xt,r){const n=(e-1)*t,a=n+t-1;let s=be.from("bills").select("id, bill_number, bill_date, vendor_id, total, paid_amount, status, created_by, created_at",{count:"estimated"});if(r){if(r.from&&(s=s.gte("bill_date",r.from)),r.to&&(s=s.lte("bill_date",r.to)),r.search&&r.search.trim()){const l=r.search.trim();s=s.ilike("bill_number",`%${l}%`)}r.createdByIds&&r.createdByIds.length>0&&(s=s.in("created_by",r.createdByIds))}s=s.order("created_at",{ascending:!1}).range(n,a);try{const{data:l,error:u,count:f}=await s;return u?(console.error("[supabaseQueries] fetchBillsPage error:",u),{data:[],count:0}):{data:(l||[]).map(Xd),count:f??0}}catch(l){return console.error("[supabaseQueries] fetchBillsPage exception:",l),{data:[],count:0}}}async function qq(){return(await Li(be.from("bills").select("*").order("created_at",{ascending:!1}))).map(Xd)}async function Fq(e){const{data:t,error:r}=await be.from("bills").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchBillById error:",r),null):Xd(t)}async function Kq(e){await Zr();const t=crypto.randomUUID(),{data:r,error:n}=await be.from("bills").insert([{id:t,bill_number:e.billNumber,bill_date:e.billDate,vendor_id:e.vendorId,created_by:e.createdBy,status:e.status,items:e.items,subtotal:e.subtotal,discount:e.discount,shipping:e.shipping,total:e.total,paid_amount:e.paidAmount,history:e.history||{}}]).select().single();if(n)throw console.error("[supabaseQueries] createBill error:",n),n;return Xd(r)}async function Qq(e,t){await Zr();const{data:r,error:n}=await be.from("bills").update({...t.vendorId&&{vendor_id:t.vendorId},...t.billDate&&{bill_date:t.billDate},...t.billNumber&&{bill_number:t.billNumber},...t.notes!==void 0&&{notes:t.notes},...t.status&&{status:t.status},...t.items&&{items:t.items},...t.subtotal!==void 0&&{subtotal:t.subtotal},...t.discount!==void 0&&{discount:t.discount},...t.shipping!==void 0&&{shipping:t.shipping},...t.total!==void 0&&{total:t.total},...t.paidAmount!==void 0&&{paid_amount:t.paidAmount},...t.history&&{history:t.history}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateBill error:",n),n;return Xd(r)}async function Hq(e){await Zr();const{error:t}=await be.from("transactions").delete().eq("reference_id",e).eq("type","Expense");if(t)throw console.error("[supabaseQueries] deleteBill: failed to delete related transactions:",t),t;const{error:r}=await be.from("bills").delete().eq("id",e);if(r)throw console.error("[supabaseQueries] deleteBill error:",r),r}function Xd(e){return{id:e.id,billNumber:e.bill_number??e.billNumber,billDate:e.bill_date??e.billDate,vendorId:e.vendor_id??e.vendorId,createdBy:e.created_by??e.createdBy,status:e.status,items:e.items??[],subtotal:e.subtotal??0,discount:e.discount??0,shipping:e.shipping??0,total:e.total??0,notes:e.notes,paidAmount:e.paid_amount??e.paidAmount??0,history:e.history}}async function Vq(){return(await Li(be.from("vendors").select("*").order("created_at",{ascending:!1}))).map(Jd)}async function SD(e){const{data:t,error:r}=await be.from("vendors").select("*").eq("id",e).maybeSingle();return r?(console.error("[supabaseQueries] fetchVendorById error:",r),null):Jd(t)}async function Gq(e){await Zr();const t=crypto.randomUUID(),{data:r,error:n}=await be.from("vendors").insert([{id:t,name:e.name,phone:e.phone,address:e.address,total_purchases:e.totalPurchases||0,due_amount:e.dueAmount||0}]).select().single();if(n)throw console.error("[supabaseQueries] createVendor error:",n),n;return Jd(r)}async function Yq(e,t){await Zr();const{data:r,error:n}=await be.from("vendors").update({...t.name&&{name:t.name},...t.phone&&{phone:t.phone},...t.address&&{address:t.address},...t.totalPurchases!==void 0&&{total_purchases:t.totalPurchases},...t.dueAmount!==void 0&&{due_amount:t.dueAmount}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateVendor error:",n),n;return Jd(r)}async function Wq(e){const{error:t}=await be.from("vendors").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteVendor error:",t),t}function Jd(e){return{id:e.id,name:e.name,phone:e.phone,address:e.address,totalPurchases:e.total_purchases??e.totalPurchases??0,dueAmount:e.due_amount??e.dueAmount??0,createdBy:e.created_by??e.createdBy}}async function Cx(e){console.log("[supabaseQueries] fetchProducts called",e?"for category: "+e:"");try{let t=be.from("products").select("id, name, image, category, sale_price, purchase_price, created_at").order("created_at",{ascending:!1});return e&&(t=t.eq("category",e)),(await Li(t)).map(el)}catch(t){return console.error("[supabaseQueries] fetchProducts error:",t),[]}}async function Xq(e){const{data:t,error:r}=await be.from("products").select("*").eq("id",e).single();return r?(console.error("[supabaseQueries] fetchProductById error:",r),null):el(t)}async function Jq(e){await Zr();const t=crypto.randomUUID(),{data:r,error:n}=await be.from("products").insert([{id:t,name:e.name,image:e.image,category:e.category,sale_price:e.salePrice,purchase_price:e.purchasePrice}]).select().single();if(n)throw console.error("[supabaseQueries] createProduct error:",n),n;return el(r)}async function Zq(e,t){const{data:r,error:n}=await be.from("products").update({...t.name&&{name:t.name},...t.image&&{image:t.image},...t.category&&{category:t.category},...t.salePrice!==void 0&&{sale_price:t.salePrice},...t.purchasePrice!==void 0&&{purchase_price:t.purchasePrice}}).eq("id",e).select().single();if(n)throw console.error("[supabaseQueries] updateProduct error:",n),n;return el(r)}async function e8(e){const{error:t}=await be.from("products").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteProduct error:",t),t}function el(e){return{id:e.id,name:e.name,image:e.image,category:e.category,salePrice:e.sale_price??e.salePrice??0,purchasePrice:e.purchase_price??e.purchasePrice??0,createdBy:e.created_by??e.createdBy}}async function t8(e){console.log("[supabaseQueries] fetchCategories called",e?"for type: "+e:"");try{let t=be.from("categories").select("*").order("name",{ascending:!0});e&&(t=t.eq("type",e));const{data:r,error:n}=await t;if(n)throw console.error("[supabaseQueries] fetchCategories error:",n),new Error(`[${n.code}] ${n.message}`);return r?r.map(_D):[]}catch(t){throw console.error("[supabaseQueries] fetchCategories exception:",t),t}}async function r8(e){await Zr();const t=crypto.randomUUID(),{data:r,error:n}=await be.from("categories").insert([{id:t,name:e.name,type:e.type,color:e.color||"#3B82F6",parent_id:e.parentId||null}]).select().single();if(n)throw console.error("[supabaseQueries] createCategory error:",n),n;return _D(r)}async function n8(e){const{error:t}=await be.from("categories").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteCategory error:",t),t}function _D(e){return{id:e.id,name:e.name,type:e.type,color:e.color,parentId:e.parent_id,createdAt:e.created_at,updatedAt:e.updated_at}}async function a8(e=!0){console.log("[supabaseQueries] fetchPaymentMethods called");try{let t=be.from("payment_methods").select("*").order("name",{ascending:!0});e&&(t=t.eq("is_active",!0));const{data:r,error:n}=await t;if(n)throw console.error("[supabaseQueries] fetchPaymentMethods error:",n),new Error(`[${n.code}] ${n.message}`);return r?r.map(ND):[]}catch(t){throw console.error("[supabaseQueries] fetchPaymentMethods exception:",t),t}}async function i8(e){await Zr();const t=crypto.randomUUID(),{data:r,error:n}=await be.from("payment_methods").insert([{id:t,name:e.name,description:e.description||null,is_active:!0}]).select().single();if(n)throw console.error("[supabaseQueries] createPaymentMethod error:",n),n;return ND(r)}async function s8(e){const{error:t}=await be.from("payment_methods").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deletePaymentMethod error:",t),t}function ND(e){return{id:e.id,name:e.name,description:e.description,isActive:e.is_active,createdAt:e.created_at,updatedAt:e.updated_at}}async function o8(){console.log("[supabaseQueries] fetchUnits called");try{const{data:e,error:t}=await be.from("units").select("*").order("name",{ascending:!0});if(t)throw console.error("[supabaseQueries] fetchUnits error:",t),new Error(`[${t.code}] ${t.message}`);return e?e.map(OD):[]}catch(e){throw console.error("[supabaseQueries] fetchUnits exception:",e),e}}async function l8(e){const t=e.shortName.toLowerCase(),{data:r,error:n}=await be.from("units").insert([{id:t,name:e.name,short_name:e.shortName,description:e.description||null}]).select().single();if(n)throw console.error("[supabaseQueries] createUnit error:",n),n;return OD(r)}async function c8(e){const{error:t}=await be.from("units").delete().eq("id",e);if(t)throw console.error("[supabaseQueries] deleteUnit error:",t),t}function OD(e){return{id:e.id,name:e.name,shortName:e.short_name,description:e.description,createdAt:e.created_at,updatedAt:e.updated_at}}async function Zd(){try{const{data:e,error:t}=await be.from("company_settings").select("*").maybeSingle();return t||!e?(console.error("[supabaseQueries] fetchCompanySettings error:",t),{id:"default",name:"Your Company",phone:"+880",email:"info@company.com",address:"",logo:""}):{id:e.id,name:e.name||"Your Company",phone:e.phone||"+880",email:e.email||"info@company.com",address:e.address||"",logo:e.logo||""}}catch(e){return console.error("[supabaseQueries] fetchCompanySettings exception:",e),{id:"default",name:"Your Company",phone:"+880",email:"info@company.com",address:"",logo:""}}}async function u8(e){await Zr();try{const t=await Zd(),r={name:e.name||t.name,phone:e.phone||t.phone,email:e.email||t.email,address:e.address!==void 0?e.address:t.address,logo:e.logo!==void 0?e.logo:t.logo},{data:n}=await be.from("company_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await be.from("company_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await be.from("company_settings").insert(r).select().single();if(l)throw l;a=s}return a||r}catch(t){throw console.error("[supabaseQueries] updateCompanySettings exception:",t),t}}async function Xw(){try{const{data:e,error:t}=await be.from("order_settings").select("*").maybeSingle();return t||!e?(console.error("[supabaseQueries] fetchOrderSettings error:",t),{prefix:"ORD-",nextNumber:1}):{prefix:e.prefix||"ORD-",nextNumber:e.next_number||1}}catch(e){return console.error("[supabaseQueries] fetchOrderSettings exception:",e),{prefix:"ORD-",nextNumber:1}}}async function d8(e){try{const t=await Xw(),r={prefix:e.prefix||t.prefix,next_number:e.nextNumber!==void 0?e.nextNumber:t.nextNumber},{data:n}=await be.from("order_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await be.from("order_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await be.from("order_settings").insert(r).select().single();if(l)throw l;a=s}return a?{prefix:a.prefix,nextNumber:a.next_number}:r}catch(t){throw console.error("[supabaseQueries] updateOrderSettings error:",t),t}}async function Jw(){try{const{data:e,error:t}=await be.from("invoice_settings").select("*").maybeSingle();return t||!e?(console.error("[supabaseQueries] fetchInvoiceSettings error:",t),{title:"Invoice",logoWidth:120,logoHeight:120,footer:""}):{title:e.title||"Invoice",logoWidth:e.logo_width||120,logoHeight:e.logo_height||120,footer:e.footer||""}}catch(e){return console.error("[supabaseQueries] fetchInvoiceSettings exception:",e),{title:"Invoice",logoWidth:120,logoHeight:120,footer:""}}}async function f8(e){try{const t=await Jw(),r={title:e.title||t.title,logo_width:e.logoWidth!==void 0?e.logoWidth:t.logoWidth,logo_height:e.logoHeight!==void 0?e.logoHeight:t.logoHeight,footer:e.footer!==void 0?e.footer:t.footer},{data:n}=await be.from("invoice_settings").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await be.from("invoice_settings").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await be.from("invoice_settings").insert(r).select().single();if(l)throw l;a=s}return a?{title:a.title,logoWidth:a.logo_width,logoHeight:a.logo_height,footer:a.footer}:{title:r.title,logoWidth:r.logo_width,logoHeight:r.logo_height,footer:r.footer}}catch(t){throw console.error("[supabaseQueries] updateInvoiceSettings error:",t),t}}async function Zw(){try{const{data:e,error:t}=await be.from("system_defaults").select("*").maybeSingle();return t||!e?(console.error("[supabaseQueries] fetchSystemDefaults error:",t),{defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}):{defaultAccountId:e.default_account_id||"",defaultPaymentMethod:e.default_payment_method||"",incomeCategoryId:e.income_category_id||"",expenseCategoryId:e.expense_category_id||"",recordsPerPage:e.records_per_page||10}}catch(e){return console.error("[supabaseQueries] fetchSystemDefaults exception:",e),{defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}}}async function h8(e){try{const t=await Zw(),r={default_account_id:e.defaultAccountId?e.defaultAccountId:t.defaultAccountId||null,default_payment_method:e.defaultPaymentMethod?e.defaultPaymentMethod:t.defaultPaymentMethod||null,income_category_id:e.incomeCategoryId?e.incomeCategoryId:t.incomeCategoryId||null,expense_category_id:e.expenseCategoryId?e.expenseCategoryId:t.expenseCategoryId||null,records_per_page:e.recordsPerPage!==void 0?e.recordsPerPage:t.recordsPerPage},{data:n}=await be.from("system_defaults").select("id").limit(1).maybeSingle();let a;if(n!=null&&n.id){const{data:s,error:l}=await be.from("system_defaults").update(r).eq("id",n.id).select().maybeSingle();if(l)throw l;a=s}else{const{data:s,error:l}=await be.from("system_defaults").insert(r).select().single();if(l)throw l;a=s}return a?{defaultAccountId:a.default_account_id,defaultPaymentMethod:a.default_payment_method,incomeCategoryId:a.income_category_id,expenseCategoryId:a.expense_category_id,recordsPerPage:a.records_per_page}:t}catch(t){throw console.error("[supabaseQueries] updateSystemDefaults error:",t),t}}async function e1(){try{const{data:e,error:t}=await be.from("courier_settings").select("*").maybeSingle();return t||!e?(console.error("[supabaseQueries] fetchCourierSettings error:",t),{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}):{steadfast:{baseUrl:e.steadfast_base_url||"",apiKey:e.steadfast_api_key||"",secretKey:e.steadfast_secret_key||""},carryBee:{baseUrl:e.carrybee_base_url||"",clientId:e.carrybee_client_id||"",clientSecret:e.carrybee_client_secret||"",clientContext:e.carrybee_client_context||"",storeId:e.carrybee_store_id||""}}}catch(e){return console.error("[supabaseQueries] fetchCourierSettings exception:",e),{steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}}}async function m8(e){var t,r,n,a,s,l,u,f;try{const h=await e1(),p={steadfast_base_url:((t=e.steadfast)==null?void 0:t.baseUrl)||h.steadfast.baseUrl,steadfast_api_key:((r=e.steadfast)==null?void 0:r.apiKey)||h.steadfast.apiKey,steadfast_secret_key:((n=e.steadfast)==null?void 0:n.secretKey)||h.steadfast.secretKey,carrybee_base_url:((a=e.carryBee)==null?void 0:a.baseUrl)||h.carryBee.baseUrl,carrybee_client_id:((s=e.carryBee)==null?void 0:s.clientId)||h.carryBee.clientId,carrybee_client_secret:((l=e.carryBee)==null?void 0:l.clientSecret)||h.carryBee.clientSecret,carrybee_client_context:((u=e.carryBee)==null?void 0:u.clientContext)||h.carryBee.clientContext,carrybee_store_id:((f=e.carryBee)==null?void 0:f.storeId)||h.carryBee.storeId},{data:g}=await be.from("courier_settings").select("id").limit(1).maybeSingle();let y;if(g!=null&&g.id){const{data:v,error:x}=await be.from("courier_settings").update(p).eq("id",g.id).select().maybeSingle();if(x)throw x;y=v}else{const{data:v,error:x}=await be.from("courier_settings").insert(p).select().single();if(x)throw x;y=v}return{steadfast:{baseUrl:(y==null?void 0:y.steadfast_base_url)||"",apiKey:(y==null?void 0:y.steadfast_api_key)||"",secretKey:(y==null?void 0:y.steadfast_secret_key)||""},carryBee:{baseUrl:(y==null?void 0:y.carrybee_base_url)||"",clientId:(y==null?void 0:y.carrybee_client_id)||"",clientSecret:(y==null?void 0:y.carrybee_client_secret)||"",clientContext:(y==null?void 0:y.carrybee_client_context)||"",storeId:(y==null?void 0:y.carrybee_store_id)||""}}}catch(h){throw console.error("[supabaseQueries] updateCourierSettings error:",h),h}}async function p8(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),u=(r=e.clientId)==null?void 0:r.trim(),f=(n=e.clientSecret)==null?void 0:n.trim(),h=(a=e.clientContext)==null?void 0:a.trim();if(!l||!u||!f||!h)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];console.log("[supabaseQueries] Calling Edge Function for CarryBee stores");const p=`${Fc}/functions/v1/carrybee-stores`;console.log("[supabaseQueries] Edge Function URL:",p);const g=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Kc}`},body:JSON.stringify({baseUrl:l,clientId:u,clientSecret:f,clientContext:h})});if(console.log("[supabaseQueries] Edge Function response status:",g.status),!g.ok)return console.error("[supabaseQueries] Edge Function error:",g.status,g.statusText),[];const y=await g.json();if(console.log("[supabaseQueries] Edge Function response data:",y),y.error)return console.error("[supabaseQueries] Edge Function returned error:",y.error,y.details),[];if(!((s=y.data)!=null&&s.stores))return console.warn("[supabaseQueries] No stores in response"),[];const v=y.data.stores.map(x=>({id:x.id,name:x.name}));return console.log("[supabaseQueries] Successfully fetched",v.length,"stores"),v}catch(l){return console.error("[supabaseQueries] fetchCarryBeeStores exception:",l instanceof Error?l.message:l),[]}}async function g8(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),u=(r=e.clientId)==null?void 0:r.trim(),f=(n=e.clientSecret)==null?void 0:n.trim(),h=(a=e.clientContext)==null?void 0:a.trim();if(!l||!u||!f||!h)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const p=`${Fc}/functions/v1/carrybee-cities`,g=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Kc}`},body:JSON.stringify({baseUrl:l,clientId:u,clientSecret:f,clientContext:h})});if(!g.ok)return console.error("[supabaseQueries] Cities Edge Function error:",g.status),[];const y=await g.json();return y.error||!((s=y.data)!=null&&s.cities)?(console.error("[supabaseQueries] Cities Edge Function returned error:",y.error),[]):y.data.cities.map(v=>({id:v.id,name:v.name}))}catch(l){return console.error("[supabaseQueries] fetchCarryBeeCities exception:",l instanceof Error?l.message:l),[]}}async function y8(e){var t,r,n,a,s,l;try{const u=(t=e.baseUrl)==null?void 0:t.trim(),f=(r=e.clientId)==null?void 0:r.trim(),h=(n=e.clientSecret)==null?void 0:n.trim(),p=(a=e.clientContext)==null?void 0:a.trim(),g=(s=e.cityId)==null?void 0:s.trim();if(!u||!f||!h||!p||!g)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const y=`${Fc}/functions/v1/carrybee-zones`,v=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Kc}`},body:JSON.stringify({baseUrl:u,clientId:f,clientSecret:h,clientContext:p,cityId:g})});if(!v.ok)return console.error("[supabaseQueries] Zones Edge Function error:",v.status),[];const x=await v.json();return x.error||!((l=x.data)!=null&&l.zones)?(console.error("[supabaseQueries] Zones Edge Function returned error:",x.error),[]):x.data.zones.map(w=>({id:w.id,name:w.name}))}catch(u){return console.error("[supabaseQueries] fetchCarryBeeZones exception:",u instanceof Error?u.message:u),[]}}async function v8(e){var t,r,n,a,s,l,u;try{const f=(t=e.baseUrl)==null?void 0:t.trim(),h=(r=e.clientId)==null?void 0:r.trim(),p=(n=e.clientSecret)==null?void 0:n.trim(),g=(a=e.clientContext)==null?void 0:a.trim(),y=(s=e.cityId)==null?void 0:s.trim(),v=(l=e.zoneId)==null?void 0:l.trim();if(!f||!h||!p||!g||!y||!v)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),[];const x=`${Fc}/functions/v1/carrybee-areas`,w=await fetch(x,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Kc}`},body:JSON.stringify({baseUrl:f,clientId:h,clientSecret:p,clientContext:g,cityId:y,zoneId:v})});if(!w.ok)return console.error("[supabaseQueries] Areas Edge Function error:",w.status),[];const _=await w.json();return _.error||!((u=_.data)!=null&&u.areas)?(console.error("[supabaseQueries] Areas Edge Function returned error:",_.error),[]):_.data.areas.map(N=>({id:N.id,name:N.name}))}catch(f){return console.error("[supabaseQueries] fetchCarryBeeAreas exception:",f instanceof Error?f.message:f),[]}}async function b8(e){var t,r,n,a;try{const s=(t=e.baseUrl)==null?void 0:t.trim(),l=(r=e.clientId)==null?void 0:r.trim(),u=(n=e.clientSecret)==null?void 0:n.trim(),f=(a=e.clientContext)==null?void 0:a.trim();if(!s||!l||!u||!f||!e.storeId)return console.warn("[supabaseQueries] CarryBee API parameters incomplete"),{error:"Missing required parameters"};console.log("[supabaseQueries] Calling Edge Function to submit CarryBee order");const h=`${Fc}/functions/v1/carrybee-submit-order`,p=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Kc}`},body:JSON.stringify({baseUrl:s,clientId:l,clientSecret:u,clientContext:f,storeId:e.storeId,deliveryType:e.deliveryType,productType:e.productType,recipientPhone:e.recipientPhone,recipientName:e.recipientName,recipientAddress:e.recipientAddress,cityId:e.cityId,zoneId:e.zoneId,areaId:e.areaId,itemWeight:e.itemWeight,collectableAmount:e.collectableAmount})});if(console.log("[supabaseQueries] Submit Order Edge Function response status:",p.status),!p.ok)return console.error("[supabaseQueries] Submit Order Edge Function error:",p.status),{error:`HTTP ${p.status}`};const g=await p.json();return console.log("[supabaseQueries] Submit Order response:",g),g.error?(console.error("[supabaseQueries] Edge Function returned error:",g.error),{error:g.error}):(console.log("[supabaseQueries] Successfully submitted order to CarryBee"),g.data)}catch(s){return console.error("[supabaseQueries] submitCarryBeeOrder exception:",s instanceof Error?s.message:s),{error:s instanceof Error?s.message:"Unknown error"}}}async function x8(e){var t,r,n,a,s;try{const l=(t=e.baseUrl)==null?void 0:t.trim(),u=(r=e.apiKey)==null?void 0:r.trim(),f=(n=e.secretKey)==null?void 0:n.trim();if(console.log("[supabaseQueries] ======== BEFORE TRIM ========"),console.log("[supabaseQueries] baseUrl (raw):",JSON.stringify(e.baseUrl)),console.log("[supabaseQueries] apiKey (raw):",JSON.stringify((a=e.apiKey)==null?void 0:a.substring(0,5))),console.log("[supabaseQueries] secretKey (raw):",JSON.stringify((s=e.secretKey)==null?void 0:s.substring(0,5))),console.log("[supabaseQueries] ======== AFTER TRIM ========"),console.log("[supabaseQueries] baseUrl (trimmed):",JSON.stringify(l)),console.log("[supabaseQueries] apiKey (trimmed):",JSON.stringify(u==null?void 0:u.substring(0,5))),console.log("[supabaseQueries] secretKey (trimmed):",JSON.stringify(f==null?void 0:f.substring(0,5))),!l||!u||!f||!e.invoice||!e.recipientName||!e.recipientPhone||!e.recipientAddress||e.codAmount===void 0)return console.warn("[supabaseQueries] Steadfast API parameters incomplete"),console.warn("[supabaseQueries] Validation:",{baseUrl:!!l,apiKey:!!u,secretKey:!!f,invoice:!!e.invoice,recipientName:!!e.recipientName,recipientPhone:!!e.recipientPhone,recipientAddress:!!e.recipientAddress,codAmount:e.codAmount!==void 0}),{error:"Missing required parameters"};console.log("[supabaseQueries] ======== CALLING EDGE FUNCTION ========");const h=`${Fc}/functions/v1/steadfast-submit-order`;console.log("[supabaseQueries] Edge Function URL:",h);const p={baseUrl:l,apiKey:u,secretKey:f,invoice:e.invoice,recipientName:e.recipientName,recipientPhone:e.recipientPhone,recipientAddress:e.recipientAddress,codAmount:e.codAmount};console.log("[supabaseQueries] Payload being sent:",{baseUrl:l,apiKey:`${u.substring(0,5)}...`,secretKey:`${f.substring(0,5)}...`,invoice:p.invoice,recipientName:p.recipientName,recipientPhone:p.recipientPhone,recipientAddress:p.recipientAddress,codAmount:p.codAmount});const g=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Kc}`},body:JSON.stringify(p)});if(console.log("[supabaseQueries] Submit Steadfast Order Edge Function response status:",g.status),!g.ok)return console.error("[supabaseQueries] Submit Steadfast Order Edge Function error:",g.status),{error:`HTTP ${g.status}`};const y=await g.json();if(console.log("[supabaseQueries] Submit Steadfast Order response:",y),y.error){const v=y.details?`${y.error}: ${y.details}`:y.error;return console.error("[supabaseQueries] Edge Function returned error:",v),{error:v}}return console.log("[supabaseQueries] Successfully submitted order to Steadfast"),y.data}catch(l){return console.error("[supabaseQueries] submitSteadfastOrder exception:",l instanceof Error?l.message:l),{error:l instanceof Error?l.message:"Unknown error"}}}async function w8(e){await Zr();try{const[t,r,n,a,s]=await Promise.all([e.company?u8(e.company):Zd(),e.order?d8(e.order):Xw(),e.invoice?f8(e.invoice):Jw(),e.defaults?h8(e.defaults):Zw(),e.courier?m8(e.courier):e1()]);return{company:t,order:r,invoice:n,defaults:a,courier:s}}catch(t){throw console.error("[supabaseQueries] batchUpdateSettings error:",t),t}}const ED=j.createContext(void 0),j8=({children:e})=>{const[t,r]=j.useState(null),[n,a]=j.useState(!0),s=2500,l=Ue();console.log("[AuthProvider] Mounting - initializing context provider"),j.useEffect(()=>{let h=!0;return(async()=>{try{console.log("[Auth] Initializing - restoring session from localStorage...");const g=localStorage.getItem("currentUserId");if(!g){console.log("[Auth] No saved session - user is logged out"),h&&(r(null),Se.currentUser=null,Xu(),a(!1));return}console.log("[Auth] Found stored user ID, fetching full profile...");let y=0;const v=5,x=async()=>{try{const _=await Ww(g);if(_)return console.log("[Auth] Fetched user profile:",_.name),_}catch(_){if(console.warn("[Auth] Fetch attempt failed:",_),y<v)return y++,await new Promise(N=>setTimeout(N,s)),x()}return null},w=await x();if(h){if(w){r(w),Se.currentUser=w,Xu(),console.log("[Auth] Session restored:",w.name);try{l.prefetchQuery({queryKey:["products"],queryFn:()=>Cx(),staleTime:900*1e3}).catch(()=>{}),l.prefetchQuery({queryKey:["accounts"],queryFn:()=>Ox(),staleTime:900*1e3}).catch(()=>{})}catch{}}else console.warn("[Auth] Could not restore profile, clearing session"),r(null),Se.currentUser=null,localStorage.removeItem("currentUserId"),Xu();a(!1)}}catch(g){console.error("[Auth] Init error:",g),h&&(r(null),Se.currentUser=null,a(!1))}})(),()=>{h=!1}},[]);const u=async(h,p)=>{const g=h.includes("@")?h.split("@")[0]:h;console.log("[Auth] signIn called with phone:",g);try{const{user:y,error:v}=await Lq(g,p);if(v||!y)return console.error("[Auth] signIn failed:",v),{error:{message:v||"Login failed"}};console.log("[Auth] signIn successful for:",y.phone),r(y),Se.currentUser=y,Xu(),localStorage.setItem("currentUserId",y.id),localStorage.setItem("isLoggedIn","true"),a(!1),window.dispatchEvent(new Event("authChange")),console.log("[Auth] User logged in:",y.name);try{l.prefetchQuery({queryKey:["products"],queryFn:()=>Cx(),staleTime:900*1e3}).catch(()=>{}),l.prefetchQuery({queryKey:["accounts"],queryFn:()=>Ox(),staleTime:900*1e3}).catch(()=>{})}catch{}return{data:{user:y},error:null}}catch(y){return console.error("[Auth] signIn exception:",(y==null?void 0:y.message)||y),{error:{message:(y==null?void 0:y.message)||"Login failed"}}}},f=async()=>{console.log("[Auth] signOut called"),r(null),Se.currentUser=null,Xu(),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("currentUserId"),localStorage.removeItem("userProfile"),localStorage.removeItem("userData"),localStorage.removeItem("currentUser"),window.dispatchEvent(new Event("authChange")),console.log("[Auth] signOut completed")};return console.log("[AuthProvider] Rendering with state:",{userName:t==null?void 0:t.name,isLoading:n}),c.jsx(ED.Provider,{value:{user:t,isLoading:n,signIn:u,signOut:f},children:e})};function _a(){const e=j.useContext(ED);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const AD=j.createContext(void 0),S8=({children:e})=>{const[t,r]=j.useState([]),n=j.useCallback((l,u,f=3500)=>{const h=`toast-${Date.now()}-${Math.random()}`,p={id:h,message:l,type:u,duration:f};return r(g=>[...g,p]),f>0&&setTimeout(()=>{a(h)},f),h},[]),a=j.useCallback(l=>{r(u=>u.filter(f=>f.id!==l))},[]),s=j.useCallback((l,u,f,h=3500)=>{r(p=>{const g=p.map(y=>y.id===l?{...y,message:u,type:f,duration:h}:y);return h>0&&setTimeout(()=>{a(l)},h),g})},[a]);return c.jsx(AD.Provider,{value:{toasts:t,showToast:n,dismissToast:a,updateToast:s},children:e})},CD=()=>{const e=j.useContext(AD);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Vr=()=>{const{showToast:e,updateToast:t}=CD();return{success:r=>e(r,"success",3500),error:r=>e(r,"error",4500),warning:r=>e(r,"warning",3500),info:r=>e(r,"info",3500),loading:r=>e(r,"info",0),update:(r,n,a="success")=>t(r,n,a,3500)}},kD=j.createContext(void 0),_8=({children:e})=>{const[t,r]=j.useState(""),n=()=>r("");return c.jsx(kD.Provider,{value:{searchQuery:t,setSearchQuery:r,clearSearch:n},children:e})},Ha=()=>{const e=j.useContext(kD);if(!e)throw new Error("useSearch must be used within a SearchProvider");return e},N8=j.createContext(void 0),O8=({children:e})=>{const t=Ue(),[r,n]=Ze.useState(!1);return j.useEffect(()=>{console.log("[Realtime] Initializing subscriptions for orders, bills, transactions...");const a=be.channel("public:orders",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"orders"},f=>{var h,p;if(console.log("[Realtime] Orders change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["orders"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["orders"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["orders"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["orders"],(g=[])=>g.filter(y=>y.id!==f.new.id));t.invalidateQueries({queryKey:["ordersByCustomerId"]}),(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["order",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?(console.log("[Realtime] Orders channel subscribed"),n(!0)):f==="CHANNEL_ERROR"&&h&&(console.error("[Realtime] Orders channel error:",h),n(!1))}),s=be.channel("public:bills",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"bills"},f=>{var h,p;if(console.log("[Realtime] Bills change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["bills"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["bills"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["bills"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["bills"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["bill",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Bills channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Bills channel error:",h)}),l=be.channel("public:transactions",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"transactions"},f=>{var h,p;if(console.log("[Realtime] Transactions change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["transactions"])||[];if(!g.find(y=>y.id===f.new.id)){const y=[f.new,...g].sort((v,x)=>{const w=new Date(v.date||v.createdAt||0).getTime();return new Date(x.date||x.createdAt||0).getTime()-w});t.setQueryData(["transactions"],y)}}else f.eventType==="UPDATE"?t.setQueryData(["transactions"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["transactions"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["transaction",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Transactions channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Transactions channel error:",h)}),u=be.channel("public:accounts",{config:{broadcast:{self:!0},presence:{key:""}}}).on("postgres_changes",{event:"*",schema:"public",table:"accounts"},f=>{var h,p;if(console.log("[Realtime] Accounts change detected:",f.eventType,(h=f.new)==null?void 0:h.id),f.eventType==="INSERT"){const g=t.getQueryData(["accounts"])||[];g.find(y=>y.id===f.new.id)||t.setQueryData(["accounts"],[f.new,...g])}else f.eventType==="UPDATE"?t.setQueryData(["accounts"],(g=[])=>g.map(y=>y.id===f.new.id?f.new:y)):f.eventType==="DELETE"&&t.setQueryData(["accounts"],(g=[])=>g.filter(y=>y.id!==f.new.id));(p=f.new)!=null&&p.id&&t.invalidateQueries({queryKey:["account",f.new.id]})}).subscribe((f,h)=>{f==="SUBSCRIBED"?console.log("[Realtime] Accounts channel subscribed"):f==="CHANNEL_ERROR"&&h&&console.error("[Realtime] Accounts channel error:",h)});return()=>{console.log("[Realtime] Cleaning up all subscriptions"),be.removeChannel(a),be.removeChannel(s),be.removeChannel(l),be.removeChannel(u),n(!1)}},[t]),c.jsx(N8.Provider,{value:{isConnected:r},children:e})},PD=j.createContext(void 0),E8=({children:e})=>{const t=Ue(),[r,n]=j.useState(navigator.onLine),[a,s]=j.useState(!1);return j.useEffect(()=>{console.log("[Network] Provider initialized - initial online status:",navigator.onLine);const l=()=>{console.log("[Network] Connection restored - refetching all queries"),n(!0),s(!0),t.refetchQueries()},u=()=>{console.log("[Network] Connection lost - offline mode activated"),n(!1)};return window.addEventListener("online",l),window.addEventListener("offline",u),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",u)}},[t]),c.jsx(PD.Provider,{value:{isOnline:r,wasOffline:a},children:e})};function A8(){const e=j.useContext(PD);if(!e)throw new Error("useNetwork must be used within NetworkProvider");return e}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=e=>{const t=k8(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...u},f)=>j.createElement("svg",{ref:f,...P8,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:TD("lucide",a),...!s&&!T8(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,p])=>j.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=(e,t)=>{const r=j.forwardRef(({className:n,...a},s)=>j.createElement(D8,{ref:s,iconNode:t,className:TD(`lucide-${C8(oA(e))}`,`lucide-${e}`,n),...a}));return r.displayName=oA(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],R8=qt("arrow-right-left",M8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],lA=qt("briefcase",I8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],B8=qt("chart-column",L8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],U8=qt("check",$8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],q8=qt("chevron-right",z8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],K8=qt("circle-alert",F8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],H8=qt("circle-plus",Q8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],G8=qt("copy",V8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],W8=qt("credit-card",Y8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],J8=qt("download",X8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],e9=qt("ellipsis-vertical",Z8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],r9=qt("info",t9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],a9=qt("layout-dashboard",n9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],s9=qt("log-out",i9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M5 12h14",key:"1ays0h"}]],l9=qt("minus",o9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],u9=qt("package",c9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],f9=qt("plus",d9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],m9=qt("printer",h9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],g9=qt("search",p9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],v9=qt("settings",y9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],x9=qt("shopping-cart",b9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],j9=qt("square-pen",w9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_9=qt("trash-2",S9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],O9=qt("truck",N9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cA=qt("users",E9),ae={Dashboard:c.jsx(a9,{size:20}),Sales:c.jsx(x9,{size:20}),Products:c.jsx(u9,{size:20}),Customers:c.jsx(cA,{size:20}),Vendors:c.jsx(lA,{size:20}),Users:c.jsx(cA,{size:20}),Briefcase:c.jsx(lA,{size:20}),Banking:c.jsx(W8,{size:20}),Reports:c.jsx(B8,{size:20}),Settings:c.jsx(v9,{size:20}),Courier:c.jsx(O9,{size:20}),Plus:c.jsx(f9,{size:20}),Minus:c.jsx(l9,{size:20}),PlusCircle:c.jsx(H8,{size:20}),LogOut:c.jsx(s9,{size:20}),ChevronRight:c.jsx(q8,{size:20}),Search:c.jsx(g9,{size:18}),More:c.jsx(e9,{size:18}),Print:c.jsx(m9,{size:18}),Download:c.jsx(J8,{size:18}),Duplicate:c.jsx(G8,{size:18}),Edit:c.jsx(j9,{size:18}),Delete:c.jsx(_9,{size:18}),Transfer:c.jsx(R8,{size:18}),Check:c.jsx(U8,{size:20}),AlertCircle:c.jsx(K8,{size:20}),Info:c.jsx(r9,{size:20})},we=e=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0,maximumFractionDigits:0}).format(e).replace("BDT",""),Bp=e=>({ON_HOLD:"bg-gray-100 text-gray-600",PROCESSING:"bg-blue-100 text-blue-600",PICKED:"bg-purple-100 text-purple-600",COMPLETED:"bg-green-100 text-green-600",CANCELLED:"bg-red-100 text-red-600",RECEIVED:"bg-green-100 text-green-600","On Hold":"bg-gray-100 text-gray-600",Processing:"bg-blue-100 text-blue-600",Picked:"bg-purple-100 text-purple-600",Completed:"bg-green-100 text-green-600",Cancelled:"bg-red-100 text-red-600",Received:"bg-green-100 text-green-600"})[e]||"bg-gray-100 text-gray-600";var Ge=(e=>(e.ADMIN="Admin",e.EMPLOYEE="Employee",e))(Ge||{}),De=(e=>(e.ON_HOLD="On Hold",e.PROCESSING="Processing",e.PICKED="Picked",e.COMPLETED="Completed",e.CANCELLED="Cancelled",e))(De||{}),xn=(e=>(e.ON_HOLD="On Hold",e.PROCESSING="Processing",e.RECEIVED="Received",e.PAID="Paid",e))(xn||{});const oe={colors:{primary:{50:"bg-[#ebf4ff]",500:"bg-[#3c5a82]",600:"bg-[#0f2f57]",700:"bg-[#0c203b]",text:"text-[#0f2f57]"},secondary:{600:"bg-blue-600",700:"bg-blue-700"},danger:{50:"bg-red-50",600:"bg-red-600",700:"bg-red-700",text:"text-red-600"},bg:{primary:"bg-white",secondary:"bg-gray-50",tertiary:"bg-gray-100"},text:{primary:"text-gray-900",secondary:"text-gray-500",tertiary:"text-gray-400"},border:{primary:"border-gray-100"}},radius:{sm:"rounded-lg",md:"rounded-xl"},transitions:{normal:"transition-all duration-300"},buttons:{base:"inline-flex items-center justify-center gap-2 font-bold rounded-xl transition-all duration-300 cursor-pointer",secondary:"bg-gray-100 text-gray-600 hover:bg-gray-200",outline:"border-2 border-gray-200 text-gray-700 hover:bg-gray-50",sizes:{sm:"px-3 py-2 text-xs",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3.5 text-sm"}},inputs:{base:"w-full px-4 py-2.5 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] focus:border-transparent transition-all",label:"block text-sm font-semibold text-gray-700 mb-2",error:"border-red-500 focus:ring-red-500"},table:{header:"bg-gray-50 border-b border-gray-100"},card:{base:"bg-white rounded-2xl shadow-sm border border-gray-100 transition-all",elevated:"bg-white rounded-2xl shadow-md border border-gray-100"}},vs=({to:e,icon:t,label:r,active:n,onClick:a,children:s})=>{const[l,u]=j.useState(n);return s?c.jsxs("div",{className:"space-y-1",children:[c.jsxs("button",{onClick:()=>u(!l),className:`flex items-center justify-between w-full px-4 py-3 ${oe.radius.md} ${oe.transitions.normal} ${n?`${oe.colors.primary[50]} ${oe.colors.primary.text}`:`text-gray-500 hover:${oe.colors.primary[50]} hover:${oe.colors.primary.text}`}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[t,c.jsx("span",{className:"font-semibold text-sm",children:r})]}),c.jsx("div",{className:`transition-transform duration-200 ${l?"rotate-90":""}`,children:ae.ChevronRight})]}),l&&c.jsx("div",{className:"pl-11 space-y-1",children:s.map(f=>c.jsx(Cc,{to:f.to,onClick:a,className:`block px-4 py-2 text-sm font-medium ${oe.radius.sm} ${oe.transitions.normal} ${f.active?`${oe.colors.primary[600]} text-white`:`text-gray-400 hover:${oe.colors.primary.text} hover:${oe.colors.primary[50]}/30`}`,children:f.label},f.to))})]}):c.jsxs(Cc,{to:e||"#",onClick:a,className:`flex items-center gap-3 px-4 py-3 ${oe.radius.md} ${oe.transitions.normal} ${n?`${oe.colors.primary[600]} text-white shadow-lg shadow-emerald-200/50`:`text-gray-500 hover:${oe.colors.primary[50]} hover:${oe.colors.primary.text}`}`,children:[t,c.jsx("span",{className:"font-semibold text-sm",children:r})]})},ct=({children:e})=>{const t=Un(),r=Et(),{signOut:n,profile:a}=_a(),{searchQuery:s,setSearchQuery:l}=Ha(),[u,f]=j.useState(!1),[h,p]=j.useState(!1),[g,y]=j.useState(!1),[v,x]=j.useState({name:Se.settings.company.name,logo:Se.settings.company.logo}),w=a||Se.currentUser;if(j.useEffect(()=>{(async()=>{try{const E=await Zd();x(E)}catch(E){console.error("Failed to load company settings:",E)}})()},[]),Ze.useEffect(()=>{const O=document.querySelector("main");O&&(O.scrollTop=0);try{window.scrollTo(0,0)}catch{}},[t.pathname]),!w)return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block p-4",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),c.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading user data..."})]})});const _=async()=>{try{await n(),r("/login",{replace:!0})}catch(O){console.error("Logout failed:",O)}},N=O=>t.pathname===O||t.pathname.startsWith(O+"/");return c.jsxs("div",{className:`${oe.colors.bg.secondary} flex overflow-hidden`,style:{minHeight:"100vh"},children:[u&&c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40 lg:hidden",onClick:()=>f(!1)}),c.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 ${oe.colors.bg.primary} border-r ${oe.colors.border.primary} ${oe.transitions.normal} transform lg:sticky lg:top-0 lg:h-screen lg:translate-x-0 ${u?"translate-x-0":"-translate-x-full"}`,children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"p-8",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-1 ${oe.colors.primary[50]} rounded-[50%]`,children:v.logo&&c.jsx("img",{src:v.logo,alt:"Logo",className:"w-10 h-10 rounded-lg object-cover"})}),c.jsxs("div",{children:[c.jsx("h1",{className:`text-xl font-black ${oe.colors.text.primary} tracking-tight leading-none`,children:v.name}),c.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Management"})]})]})}),c.jsxs("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto",children:[c.jsx(vs,{to:"/dashboard",icon:ae.Dashboard,label:"Dashboard",active:N("/dashboard"),onClick:()=>f(!1)}),c.jsx(vs,{to:"/products",icon:ae.Products,label:"Products",active:N("/products"),onClick:()=>f(!1)}),c.jsx(vs,{icon:ae.Sales,label:"Sales",active:N("/orders")||N("/customers"),children:[{to:"/orders",label:"Orders",active:N("/orders")},{to:"/customers",label:"Customers",active:N("/customers")}],onClick:()=>f(!1)}),w.role===Ge.ADMIN&&c.jsxs(c.Fragment,{children:[c.jsx(vs,{icon:ae.Briefcase,label:"Purchases",active:N("/bills")||N("/vendors"),children:[{to:"/bills",label:"Bills",active:N("/bills")},{to:"/vendors",label:"Vendors",active:N("/vendors")}],onClick:()=>f(!1)}),c.jsx(vs,{icon:ae.Banking,label:"Banking",active:N("/banking"),children:[{to:"/banking/accounts",label:"Accounts",active:N("/banking/accounts")},{to:"/banking/transactions",label:"Transactions",active:N("/banking/transactions")},{to:"/banking/transfer",label:"Transfer",active:N("/banking/transfer")}],onClick:()=>f(!1)})]}),w.role===Ge.ADMIN&&c.jsxs(c.Fragment,{children:[c.jsx(vs,{to:"/reports",icon:ae.Reports,label:"Reports",active:N("/reports"),onClick:()=>f(!1)}),c.jsx(vs,{to:"/users",icon:ae.Users,label:"Users",active:N("/users"),onClick:()=>f(!1)}),c.jsx(vs,{to:"/settings",icon:ae.Settings,label:"Settings",active:N("/settings"),onClick:()=>f(!1)})]})]})]})}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[c.jsxs("header",{className:`flex-shrink-0 sticky top-0 z-40 ${oe.colors.bg.primary}/80 backdrop-blur-lg border-b ${oe.colors.border.primary} px-6 h-20 flex items-center justify-between`,children:[c.jsx("button",{onClick:()=>f(!0),className:`lg:hidden p-2.5 hover:${oe.colors.bg.tertiary} ${oe.radius.md} ${oe.colors.text.secondary} border ${oe.colors.border.primary}`,children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),c.jsxs("div",{className:"flex-1 max-w-xl mx-4 relative group hidden sm:block",children:[c.jsx("div",{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-300 group-focus-within:${oe.colors.primary.text} ${oe.transitions.normal}`,children:ae.Search}),c.jsx("input",{type:"text",placeholder:"Search orders, invoices, or customers...",value:s,onChange:O=>l(O.target.value),className:`block w-full pl-11 pr-4 py-2.5 ${oe.colors.bg.secondary} border-transparent focus:${oe.colors.bg.primary} focus:ring-2 focus:ring-[#3c5a82] focus:border-transparent ${oe.radius.md} text-sm ${oe.transitions.normal}`})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>p(!h),className:`${oe.colors.primary[600]} text-white w-10 h-10 flex items-center justify-center ${oe.radius.md} hover:${oe.colors.primary[700]} ${oe.transitions.normal} shadow-lg shadow-[#0f2f57]/20 active:scale-95`,children:ae.Plus}),h&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>p(!1)}),c.jsxs("div",{className:`absolute right-0 mt-3 w-56 ${oe.colors.bg.primary} border ${oe.colors.border.primary} rounded-2xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in slide-in-from-top-2 duration-200 origin-top-right`,children:[c.jsx("div",{className:`px-4 py-2 text-[10px] font-bold ${oe.colors.text.tertiary} uppercase tracking-widest border-b ${oe.colors.border.primary} mb-1`,children:"Quick Actions"}),w.role===Ge.EMPLOYEE?[{label:"New Order",to:"/orders/new",icon:ae.Sales},{label:"New Customer",to:"/customers/new",icon:ae.Customers}].map(O=>c.jsxs(Cc,{to:O.to,onClick:()=>p(!1),className:`flex items-center gap-3 px-4 py-3 text-sm font-bold ${oe.colors.text.primary} hover:${oe.colors.primary[50]} hover:${oe.colors.primary.text} ${oe.transitions.normal}`,children:[c.jsx("span",{className:"opacity-70",children:O.icon}),O.label]},O.label)):[{label:"New Order",to:"/orders/new",icon:ae.Sales},{label:"New Bill",to:"/bills/new",icon:ae.Briefcase},{label:"New Customer",to:"/customers/new",icon:ae.Customers},{label:"New Vendor",to:"/vendors/new",icon:ae.Vendors},{label:"Add Income",to:"/transactions/new/income",icon:ae.PlusCircle},{label:"Add Expense",to:"/transactions/new/expense",icon:ae.Delete}].map(O=>c.jsxs(Cc,{to:O.to,onClick:()=>p(!1),className:`flex items-center gap-3 px-4 py-3 text-sm font-bold ${oe.colors.text.primary} hover:${oe.colors.primary[50]} hover:${oe.colors.primary.text} ${oe.transitions.normal}`,children:[c.jsx("span",{className:"opacity-70",children:O.icon}),O.label]},O.label))]})]})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>y(!g),className:`flex items-center gap-3 pl-4 border-l ${oe.colors.border.primary} hover:opacity-70 ${oe.transitions.normal}`,children:[c.jsxs("div",{className:"text-right hidden md:block",children:[c.jsx("p",{className:`text-sm font-black ${oe.colors.text.primary} leading-none`,children:w.name}),c.jsx("p",{className:`text-[10px] font-bold ${oe.colors.primary.text} uppercase tracking-widest mt-1`,children:w.role})]}),c.jsx("img",{src:w.image||`https://ui-avatars.com/api/?name=${w.name}&background=0f2f57&color=fff`,alt:"Profile",className:"w-10 h-10 rounded-[50%] object-cover cursor-pointer"})]}),g&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>y(!1)}),c.jsxs("div",{className:`absolute right-0 mt-3 w-48 ${oe.colors.bg.primary} border ${oe.colors.border.primary} rounded-xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in slide-in-from-top-2 duration-200 origin-top-right`,children:[c.jsxs("button",{onClick:()=>{r(`/users/${w.id}`),y(!1)},className:`flex items-center gap-3 w-full px-4 py-3 text-sm font-bold ${oe.colors.primary.text} hover:${oe.colors.primary[50]} ${oe.transitions.normal}`,children:[ae.Users,"Profile"]}),c.jsxs("button",{onClick:()=>{_(),y(!1)},className:`flex items-center gap-3 w-full px-4 py-3 text-sm font-bold ${oe.colors.danger.text} hover:${oe.colors.danger[50]} ${oe.transitions.normal}`,children:[ae.LogOut,"Logout"]})]})]})]})]})]}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-6 lg:p-10 animate-in fade-in duration-500 relative",children:[e,c.jsxs("footer",{className:`mt-20 py-8 border-t ${oe.colors.border.primary} flex flex-col items-center gap-2`,children:[c.jsxs("p",{className:`text-sm font-medium ${oe.colors.text.secondary}`,children:[" ",new Date().getFullYear()," ",v.name,". All rights reserved."]}),c.jsxs("a",{href:"https://sajedurrahmanfiad.me",target:"_blank",rel:"noreferrer",className:`group flex items-center gap-1.5 text-[11px] font-bold ${oe.colors.text.secondary} hover:${oe.colors.primary.text} ${oe.transitions.normal} uppercase tracking-widest`,children:["Developed by ",c.jsx("span",{className:`${oe.colors.text.secondary} group-hover:${oe.colors.primary.text} underline underline-offset-4 decoration-[#0f2f57]/20`,children:"Md Sajedur Rahman Fiad"})]})]})]})]})]})},A9=()=>{const{toasts:e,dismissToast:t}=CD(),r=n=>{switch(n){case"success":return{icon:ae.Check,bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon_color:"text-green-600"};case"error":return{icon:ae.AlertCircle,bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon_color:"text-red-600"};case"warning":return{icon:ae.AlertCircle,bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon_color:"text-yellow-600"};case"info":return{icon:ae.Info,bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon_color:"text-blue-600"};default:return{icon:ae.Info,bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-800",icon_color:"text-gray-600"}}};return c.jsx("div",{className:"fixed bottom-6 right-6 z-[9999] flex flex-col gap-3",children:e.map(n=>{const{icon:a,bg:s,border:l,text:u,icon_color:f}=r(n.type);return c.jsxs("div",{className:`${s} ${l} border rounded-lg p-4 shadow-md flex items-start gap-3 min-w-[320px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300`,children:[c.jsx("div",{className:`${f} flex-shrink-0 mt-0.5`,children:a}),c.jsx("div",{className:`${u} flex-1 text-sm font-medium`,children:n.message}),c.jsx("button",{onClick:()=>t(n.id),className:`${f} flex-shrink-0 hover:opacity-70 transition-opacity`,children:c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},n.id)})})},C9=()=>{const{isOnline:e}=A8(),[t,r]=j.useState(!1);return j.useEffect(()=>{if(!e)r(!0);else{const n=setTimeout(()=>{r(!1)},2e3);return()=>clearTimeout(n)}},[e]),t?c.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-red-50 border-b-2 shadow-lg transition-all duration-300",style:{borderColor:e?"#10b981":"#ef4444",backgroundColor:e?"#ecfdf5":"#fee2e2"},children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsx("div",{className:`text-xl ${e?"text-green-600":"text-red-600"}`,children:e?"":""}),c.jsxs("div",{children:[c.jsx("p",{className:`font-bold ${e?"text-green-900":"text-red-900"}`,children:e?"Connection Restored":"No Internet Connection"}),c.jsx("p",{className:`text-sm ${e?"text-green-700":"text-red-700"}`,children:e?"Data is syncing with the server":"Your changes will be saved when connection is restored"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[!e&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-pulse w-2 h-2 rounded-full bg-red-500"}),c.jsx("span",{className:"text-xs font-medium text-red-600",children:"Waiting for connection..."})]}),e&&c.jsx("span",{className:"text-xs font-medium text-green-600",children:"Syncing..."})]})]})}):null},k9=()=>{const e=Et(),{signIn:t,isLoading:r,user:n,profile:a}=_a(),[s,l]=j.useState(""),[u,f]=j.useState(""),[h,p]=j.useState(!1),[g,y]=j.useState(""),[v,x]=j.useState(!1),[w,_]=j.useState({name:"BD Hatbela",logo:Se.settings.company.logo});j.useEffect(()=>{console.log("[Login] Checking redirect - isLoading:",r,"authenticated:",!!n),!r&&n&&(console.log("[Login] User authenticated, navigating to dashboard"),e("/dashboard",{replace:!0}))},[n,r,e]),j.useEffect(()=>{(async()=>{try{const E=await Zd();_({name:"BD Hatbela",logo:E.logo||Se.settings.company.logo})}catch(E){console.error("Failed to load company settings:",E),_({name:"BD Hatbela",logo:Se.settings.company.logo})}})()},[]);const N=async O=>{var E,C;O.preventDefault(),y(""),x(!0),console.log("[Login] Form submitted with phone:",s);try{console.log("[Login] Calling signIn...");const{error:T,data:P}=await t(s,u);if(T){console.error("[Login] Sign-in error:",T);const M=(T==null?void 0:T.message)||"Authentication failed";y(M),x(!1);return}if(console.log("[Login] Sign-in successful, user:",(E=P==null?void 0:P.user)==null?void 0:E.email),!(P!=null&&P.profileLoaded)){console.error("[Login] Sign-in succeeded but profile not loaded"),y(((C=P==null?void 0:P.error)==null?void 0:C.message)||"Failed to load user profile. Please try again or contact administrator."),x(!1);return}console.log("[Login] Profile loaded, waiting for state to propagate...")}catch(T){console.error("[Login] Sign-in exception:",T),y((T==null?void 0:T.message)||"Failed to sign in"),x(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[w.logo&&c.jsx("img",{src:w.logo,alt:"Logo",className:"w-12 h-12 rounded-md object-cover"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold",children:w.name}),c.jsx("p",{className:"text-sm text-gray-500",children:"Sign in to continue"})]})]}),c.jsxs("form",{onSubmit:N,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),c.jsx("input",{value:s,onChange:O=>l(O.target.value),type:"tel",placeholder:"017XXXXXXXX",required:!0,disabled:v,className:"mt-1 block w-full border rounded px-3 py-2 focus:outline-none focus:ring disabled:opacity-50"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{value:u,onChange:O=>f(O.target.value),type:h?"text":"password",required:!0,disabled:v,className:"mt-1 block w-full border rounded px-3 py-2 pr-10 focus:outline-none focus:ring disabled:opacity-50"}),c.jsx("button",{type:"button",onClick:()=>p(!h),disabled:v,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 disabled:opacity-50",children:h?c.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),c.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-14-14zM10 4C6.687 4 3.89 5.945 2.58 8.808c-.35.915-.35 2.468 0 3.384.74 1.94 2.08 3.61 3.756 4.7l1.83-1.83A3.992 3.992 0 016 10a4 4 0 016.956-3.533l1.416-1.416C14.225 4.523 12.15 4 10 4zm7.42 3.192c.35.915.35 2.468 0 3.384C15.26 13.055 12.463 15 9 15a6.966 6.966 0 01-3.15-.744l2.119-2.119A3.992 3.992 0 0114 10c0-.901-.281-1.735-.743-2.434l2.163-2.174z",clipRule:"evenodd"})})})]})]}),g&&c.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-600 space-y-2",children:[c.jsx("p",{className:"font-semibold",children:"Error"}),c.jsx("p",{children:g instanceof Error?g.message:String(g)}),(g instanceof Error?g.message:String(g)).includes("Email confirmation")&&c.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-700 text-xs",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Quick Fix:"}),c.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[c.jsx("li",{children:"Go to Supabase Dashboard"}),c.jsx("li",{children:"Project  Authentication  Providers"}),c.jsx("li",{children:'Click "Email" tab'}),c.jsx("li",{children:'Toggle OFF "Confirm email"'}),c.jsx("li",{children:"Save settings"}),c.jsx("li",{children:"Try logging in again"})]})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:v,className:"w-full bg-blue-600 text-white py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed font-medium hover:bg-blue-700 transition-colors",children:v?"Signing in...":"Sign In"})})]})]})})},P9={primary:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},secondary:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},danger:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},warning:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},success:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},info:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},neutral:{bg:"bg-gray-50",text:"text-black",icon:"text-black"},profit:{bg:"bg-gray-50",text:"text-black",icon:"text-black"}},fa=({title:e,value:t,icon:r,variant:n="primary",bgColor:a,textColor:s,iconBgColor:l,isProfitCard:u=!1,profitValue:f})=>{const h=P9[n];let p=a||"bg-white",g=s||h.text,y=l||h.bg,v="";return u&&f!==void 0&&!a&&(f>=0?(p="bg-emerald-500",g="text-white",y="bg-emerald-600"):(p="bg-red-500",g="text-white",y="bg-red-600")),c.jsxs("div",{className:`p-6 flex items-center gap-4 ${p} rounded-xl shadow-lg border border-gray-100 ${v}`,children:[c.jsx("div",{className:`${y} p-4 rounded-lg flex items-center justify-center`,children:c.jsx("div",{className:g,children:r})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:`text-xs font-bold uppercase tracking-widest ${g==="text-white"?"text-white/70":"text-gray-400"}`,children:e}),c.jsx("h3",{className:`text-2xl font-black mt-1 ${g}`,children:t})]})]})},Je=Ze.forwardRef(({variant:e="primary",size:t="md",children:r,icon:n,loading:a=!1,className:s="",...l},u)=>{const f={primary:`${oe.colors.primary[600]} text-white hover:${oe.colors.primary[700]} shadow-lg shadow-[#0f2f57]/20`,secondary:oe.buttons.secondary,danger:`${oe.colors.danger[600]} text-white hover:${oe.colors.danger[700]} shadow-lg`,outline:oe.buttons.outline,ghost:"text-gray-600 hover:bg-gray-50"},h={sm:oe.buttons.sizes.sm,md:oe.buttons.sizes.md,lg:oe.buttons.sizes.lg};return c.jsx("button",{ref:u,className:`${oe.buttons.base} ${f[e]} ${h[t]} ${a?"opacity-75 cursor-wait":""} ${s}`,disabled:a||l.disabled,...l,children:c.jsxs("span",{className:"flex items-center gap-2",children:[a&&c.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n&&!a&&c.jsx("span",{children:n}),r]})})});Je.displayName="Button";const T9={primary:`p-2.5 text-gray-400 hover:${oe.colors.primary[600]} hover:bg-[#ebf4ff] rounded-lg transition-all`,danger:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",secondary:`p-2.5 text-gray-400 hover:${oe.colors.secondary[600]} hover:bg-[#e6f0ff] rounded-lg transition-all`,neutral:"p-2.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-all"},Bs=Ze.forwardRef(({variant:e="primary",icon:t,title:r,className:n="",...a},s)=>c.jsx("button",{ref:s,className:`${T9[e]} ${n}`,title:r,...a,children:t}));Bs.displayName="IconButton";const $p=({columns:e,rows:t=5})=>c.jsx(c.Fragment,{children:Array.from({length:t}).map((r,n)=>c.jsx("tr",{className:"border-b border-gray-50 animate-pulse",children:Array.from({length:e}).map((a,s)=>c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2"})]})},s))},n))}),Up=({columns:e,data:t,emptyMessage:r="No data found",onRowClick:n,rowClassName:a,hover:s=!0,striped:l=!1,size:u="md",loading:f=!1,loadingRows:h=8})=>{const p={sm:"px-4 py-3",md:"px-6 py-5",lg:"px-6 py-6"}[u],g=s?"hover:bg-[#ebf4ff]/50 cursor-pointer transition-all":"",y=l?"odd:bg-gray-50":"";return c.jsx("div",{className:`${oe.card.base} overflow-visible`,children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsx("tr",{className:oe.table.header,children:e.map(v=>c.jsx("th",{className:`${p} text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ${v.align==="center"?"text-center":v.align==="right"?"text-right":""}`,style:v.width?{width:v.width}:void 0,children:v.label},v.key))})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:f?c.jsx($p,{columns:e.length,rows:h}):t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:e.length,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:r})}):t.map((v,x)=>c.jsx("tr",{onClick:()=>n==null?void 0:n(v,x),className:`
                    border-b border-gray-50 transition-all
                    ${g}
                    ${y}
                    ${(a==null?void 0:a(v,x))||""}
                  `,children:e.map(w=>c.jsx("td",{className:`${p} ${w.align==="center"?"text-center":w.align==="right"?"text-right":""}`,children:w.render?w.render(v[w.key],v,x):v[w.key]},w.key))},v.id||x))})]})})})},D9=Ze.forwardRef(({label:e,error:t,helperText:r,className:n="",...a},s)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:oe.inputs.label,children:e}),c.jsx("input",{ref:s,className:`${oe.inputs.base} ${t?oe.inputs.error:""} ${n}`,...a}),(t||r)&&c.jsx("p",{className:`mt-1 text-xs ${t?"text-red-500":"text-gray-500"}`,children:t||r})]}));D9.displayName="Input";const M9=Ze.forwardRef(({label:e,error:t,options:r,className:n="",...a},s)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:oe.inputs.label,children:e}),c.jsx("select",{ref:s,className:`${oe.inputs.base} ${t?oe.inputs.error:""} ${n}`,...a,children:r.map(l=>c.jsx("option",{value:l.value,children:l.label},l.value))}),t&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:t instanceof Error?t.message:String(t)})]}));M9.displayName="Select";const R9=Ze.forwardRef(({label:e,error:t,className:r="",...n},a)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:oe.inputs.label,children:e}),c.jsx("textarea",{ref:a,className:`${oe.inputs.base} resize-none ${t?oe.inputs.error:""} ${r}`,...n}),t&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:t instanceof Error?t.message:String(t)})]}));R9.displayName="TextArea";const ef=({isLoading:e,message:t="Loading..."})=>e?c.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 flex items-center justify-center",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 flex flex-col items-center gap-4",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),c.jsx("p",{className:"text-gray-600 font-medium",children:t})]})}):null,_d=({filterRange:e,setFilterRange:t,customDates:r,setCustomDates:n,statusTab:a,setStatusTab:s,statusOptions:l=[],title:u})=>{const[f,h]=j.useState(!1),{searchQuery:p,setSearchQuery:g}=Ha(),y=["All Time","Today","This Week","This Month","This Year","Custom"];return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[c.jsxs("div",{className:"hidden sm:flex flex-wrap items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl border border-gray-100 shadow-sm",children:[y.map(v=>c.jsx("button",{onClick:()=>t(v),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${e===v?`${oe.colors.primary[600]} text-white shadow-md`:"text-gray-500 hover:bg-gray-50"}`,children:v},v)),e==="Custom"&&c.jsxs("div",{className:"flex items-center gap-2 px-3 border-l border-gray-100 ml-1",children:[c.jsx("input",{type:"date",value:r.from,onChange:v=>n({...r,from:v.target.value}),className:"px-2 py-1 border rounded-lg text-[10px] font-bold bg-gray-50 outline-none focus:ring-2 focus:ring-[#3c5a82]"}),c.jsx("span",{className:"text-gray-300 text-[10px] font-black tracking-widest uppercase",children:"To"}),c.jsx("input",{type:"date",value:r.to,onChange:v=>n({...r,to:v.target.value}),className:"px-2 py-1 border rounded-lg text-[10px] font-bold bg-gray-50 outline-none focus:ring-2 focus:ring-[#3c5a82]"})]})]}),s&&l.length>0&&c.jsx("div",{className:"flex items-center gap-1 bg-gray-100/50 p-1 rounded-2xl border border-gray-100",children:["All",...l].map(v=>c.jsx("button",{onClick:()=>s(v),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${a===v?"bg-white text-gray-900 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:v},v))})]}),c.jsxs("button",{onClick:()=>h(!0),className:"sm:hidden flex items-center justify-center gap-2 bg-white border border-gray-200 text-gray-600 px-4 py-3 rounded-2xl font-bold shadow-sm w-full",children:[ae.Search,c.jsx("span",{className:"text-sm",children:"Filter & Period"}),e!=="All Time"&&c.jsx("div",{className:`w-2 h-2 rounded-full ${oe.colors.primary[500]} ml-1`})]})]}),f&&c.jsxs("div",{className:"fixed inset-0 z-[150] flex items-end justify-center",children:[c.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>h(!1)}),c.jsxs("div",{className:"bg-white w-full rounded-t-2xl p-8 z-[160] animate-in slide-in-from-bottom duration-300 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("h3",{className:"text-2xl font-black text-gray-900",children:["Filter ",u]}),c.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l18 18"})})})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Search"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"Search...",value:p,onChange:v=>g(v.target.value),className:"w-full px-4 py-3 pl-12 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"}),c.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:ae.Search})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Time Period"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:y.map(v=>c.jsx("button",{onClick:()=>t(v),className:`py-3 rounded-2xl text-xs font-bold transition-all border ${e===v?`${oe.colors.primary[600]} text-white border-[#0f2f57] shadow-lg`:"bg-white text-gray-500 border-gray-100 hover:bg-gray-50"}`,children:v},v))}),e==="Custom"&&c.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 animate-in fade-in duration-200",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-2",children:"From"}),c.jsx("input",{type:"date",value:r.from,onChange:v=>n({...r,from:v.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-2",children:"To"}),c.jsx("input",{type:"date",value:r.to,onChange:v=>n({...r,to:v.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:ring-2 focus:ring-[#3c5a82] outline-none"})]})]})]}),s&&l.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Status Filter"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:["All",...l].map(v=>c.jsx("button",{onClick:()=>s(v),className:`py-3 rounded-2xl text-xs font-bold transition-all border ${a===v?"bg-gray-900 text-white border-gray-900 shadow-lg":"bg-white text-gray-500 border-gray-100"}`,children:v},v))})]}),c.jsx("button",{onClick:()=>h(!1),className:`w-full py-5 ${oe.colors.primary[600]} text-white rounded-xl font-black text-lg shadow-xl active:scale-95 transition-all mt-4`,children:"Apply Filters"})]})]})]})]})},t1=({isOpen:e,onClose:t,onSubmit:r,accounts:n,paymentForm:a,setPaymentForm:s,isLoading:l,title:u="Record Payment",buttonText:f="Add Payment"})=>e?c.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm",onClick:t}),c.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] p-10 z-[210] animate-in zoom-in-95 duration-200 border border-[#ebf4ff]",children:[c.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-8",children:u}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Payment Date"}),c.jsx("input",{type:"date",value:a.date,onChange:h=>s({...a,date:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Payment Time"}),c.jsx("input",{type:"time",value:a.time,onChange:h=>s({...a,time:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Select Account"}),c.jsxs("select",{value:a.accountId,onChange:h=>s({...a,accountId:h.target.value}),disabled:l,className:"w-full px-6 py-3.5 bg-gray-50 border border-gray-100 rounded-lg font-bold focus:ring-2 focus:ring-emerald-500 outline-none disabled:opacity-50",children:[c.jsx("option",{value:"",children:"Select an account..."}),n.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",we(h.currentBalance),")"]},h.id))]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2",children:"Amount (BDT)"}),c.jsx("input",{type:"number",value:a.amount,onChange:h=>s({...a,amount:parseFloat(h.target.value)||0}),disabled:l,className:`w-full px-6 py-4 bg-[#ebf4ff] border-2 border-[#c7dff5] rounded-lg font-black ${oe.colors.primary[600]} text-xl outline-none disabled:opacity-50`})]}),c.jsxs("div",{className:"pt-6 flex gap-4",children:[c.jsx(Je,{onClick:t,variant:"ghost",disabled:l,children:"Cancel"}),c.jsx(Je,{onClick:r,variant:"primary",size:"md",className:"flex-1",disabled:l,loading:l,children:f})]})]})]})]}):null;function I9(){return nt({queryKey:["customers"],queryFn:wD,staleTime:300*1e3})}function L9(e=1,t=xt,r){return nt({queryKey:["customers",e,t,r],queryFn:()=>Ex(e,t,r),placeholderData:n=>n,staleTime:300*1e3})}function zp(e){return nt({queryKey:["customer",e],queryFn:()=>Lp(e||""),enabled:!!e&&!(e||"").startsWith("temp-"),staleTime:300*1e3})}function qp(){return nt({queryKey:["orders"],queryFn:wq,staleTime:300*1e3})}function B9(e=1,t=xt,r){return nt({queryKey:["orders",e,t,r],queryFn:()=>jq(e,t,r),placeholderData:n=>n,staleTime:300*1e3})}function r1(e){return nt({queryKey:["order",e],queryFn:()=>Sq(e||""),enabled:!!e,staleTime:300*1e3})}function $9(e){return nt({queryKey:["ordersByCustomerId",e],queryFn:()=>_q(e||""),enabled:!!e,staleTime:300*1e3})}function Fp(){return nt({queryKey:["bills"],queryFn:qq,staleTime:300*1e3})}function U9(e=1,t=xt,r){return nt({queryKey:["bills",e,t,r],queryFn:()=>zq(e,t,r),placeholderData:n=>n,staleTime:300*1e3})}function DD(e){return nt({queryKey:["bill",e],queryFn:()=>Fq(e||""),enabled:!!e,staleTime:300*1e3})}function Fs(){return nt({queryKey:["accounts"],queryFn:Ox,staleTime:900*1e3})}function tf(){return nt({queryKey:["transactions"],queryFn:Pq,staleTime:300*1e3})}function z9(e=1,t=xt,r){return nt({queryKey:["transactions",e,t,r],queryFn:()=>Tq(e,t,r),placeholderData:n=>n,staleTime:300*1e3})}function Bi(){return nt({queryKey:["users"],queryFn:Iq,staleTime:300*1e3})}function MD(e){return nt({queryKey:["user",e],queryFn:()=>Ww(e||""),enabled:!!e,staleTime:10*1e3,refetchOnWindowFocus:!0,refetchOnReconnect:!0})}function n1(){return nt({queryKey:["vendors"],queryFn:Vq,staleTime:300*1e3})}function q9(e=1,t=xt,r){return nt({queryKey:["vendors",e,t,r],queryFn:()=>Ax(e,t,r),placeholderData:n=>n,staleTime:300*1e3})}function RD(e){return nt({queryKey:["vendor",e],queryFn:()=>SD(e||""),enabled:!!e,staleTime:300*1e3})}function a1(e){return nt({queryKey:["products"],queryFn:()=>Cx(e),staleTime:900*1e3})}function F9(e=1,t=xt,r,n,a){const s={queryKey:["products",e,t,n,r,...a||[]],queryFn:()=>Rq(e,t,r,n,a),placeholderData:l=>l,staleTime:9e5,keepPreviousData:!0,refetchOnWindowFocus:!1};return nt(s)}function K9(e){return nt({queryKey:["product",e],queryFn:()=>Xq(e||""),enabled:!!e,staleTime:900*1e3})}function Ks(e){return nt({queryKey:["categories",e],queryFn:()=>t8(e),staleTime:3600*1e3})}function ID(e){return nt({queryKey:["paymentMethods",e],queryFn:()=>a8(e),staleTime:3600*1e3})}function Q9(){return nt({queryKey:["units"],queryFn:o8,staleTime:3600*1e3})}function Kp(){return nt({queryKey:["settings","company"],queryFn:Zd,staleTime:3600*1e3})}function Qp(){return nt({queryKey:["settings","order"],queryFn:Xw,staleTime:3600*1e3})}function Hp(){return nt({queryKey:["settings","invoice"],queryFn:Jw,staleTime:3600*1e3})}function Qs(){return nt({queryKey:["settings","defaults"],queryFn:Zw,staleTime:3600*1e3})}function i1(){return nt({queryKey:["settings","courier"],queryFn:e1,staleTime:3600*1e3})}const LD=new Map,H9=new Map,mi=new Map;function BD(e="item"){return`__temp_${e}_${crypto.randomUUID()}__`}function s1(e,t){console.log(`[optimisticIdMap] Mapping ${e}  ${t}`),LD.set(e,t),H9.set(t,e);const r=mi.get(e);r&&r.length&&(r.forEach(n=>{try{n(t)}catch{}}),mi.delete(e))}function Vp(e){return typeof e=="string"&&e.startsWith("__temp_")}function V9(e,t=5e3){if(!e)return Promise.resolve(null);const r=LD.get(e);return r?Promise.resolve(r):new Promise(n=>{const a=h=>n(h),s=mi.get(e)||[];s.push(a),mi.set(e,s);const l=setTimeout(()=>{const p=(mi.get(e)||[]).filter(g=>g!==a);p.length?mi.set(e,p):mi.delete(e),n(null)},t),u=h=>{clearTimeout(l),n(h)},f=mi.get(e)||[];f[f.length-1]=u,mi.set(e,f)})}function G9(){const e=Ue();return wt({mutationFn:vq,onMutate:async t=>{await e.cancelQueries({queryKey:["customers"]});const r=e.getQueryData(["customers"]);if(r){const n=BD("customer"),a={...t,id:n};e.setQueryData(["customers"],[...r,a]);const s=e.getQueryData(["customers",1]);return s&&Array.isArray(s.data)&&e.setQueryData(["customers",1],{...s,data:[a,...s.data].slice(0,xt),count:(s.count||0)+1}),{previousCustomers:r,tempId:n,optimisticCustomer:a}}return{previousCustomers:r}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers)},onSuccess:async(t,r,n)=>{try{n!=null&&n.tempId&&s1(n.tempId,t.id)}catch{}e.setQueryData(["customer",t.id],t);try{const l=(e.getQueryData(["customers"])||[]||[]).filter(u=>!Vp(String(u.id)));l.some(u=>u.id===t.id)?e.setQueryData(["customers"],l.map(u=>u.id===t.id?t:u)):e.setQueryData(["customers"],[t,...l])}catch{}e.getQueriesData({queryKey:["customers"]}).forEach(([s,l])=>{try{const u=s;if(u[1]!==1)return;if(l&&l.data&&Array.isArray(l.data)){const f=u[2];(()=>{if(!f)return!0;if(f.search){const p=String(f.search).trim().toLowerCase();if(p&&!(String(t.name||"")+" "+String(t.phone||"")+" "+String(t.address||"")).toLowerCase().includes(p))return!1}return!0})()&&e.setQueryData(s,{...l,data:[t,...l.data].slice(0,xt),count:l.count?l.count+1:1})}}catch{}})}})}function Y9(){const e=Ue();return wt({mutationFn:({id:t,updates:r})=>bq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["customers"]}),await e.cancelQueries({queryKey:["customer",t]});const n=e.getQueryData(["customers"]),a=e.getQueryData(["customer",t]);return n&&e.setQueryData(["customers"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["customer",t],{...a,...r}),{previousCustomers:n,previousCustomer:a}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers),n!=null&&n.previousCustomer&&e.setQueryData(["customer",r.id],n.previousCustomer)},onSuccess:t=>{e.getQueriesData({queryKey:["customers"]}).forEach(([n,a])=>{try{a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:a.data.map(s=>s.id===t.id?t:s)})}catch{}}),e.setQueryData(["customer",t.id],t)}})}function W9(){const e=Ue();return wt({mutationFn:xq,onMutate:async t=>{await e.cancelQueries({queryKey:["customers"]});const r=e.getQueryData(["customers"]);return r&&e.setQueryData(["customers"],r.filter(n=>n.id!==t)),{previousCustomers:r}},onError:(t,r,n)=>{n!=null&&n.previousCustomers&&e.setQueryData(["customers"],n.previousCustomers)},onSuccess:(t,r)=>{const n=e.getQueriesData({queryKey:["customers"]}),a=new Map;n.forEach(([l,u])=>{const f=l,h=f[1];if(typeof h!="number"||!Number.isInteger(h))return;const p=f[f.length-1];a.set(JSON.stringify([h,p]),{key:f,value:u})});const s=Array.from(a.keys()).sort((l,u)=>JSON.parse(l)[0]-JSON.parse(u)[0]);for(const l of s){const u=a.get(l);if(!u)continue;const{key:f,value:h}=u;try{if(h&&h.data&&Array.isArray(h.data)){const p=h.data.filter(w=>w.id!==r),g=f[1],y=f[f.length-1],v=JSON.stringify([g+1,y]),x=a.get(v);if(x&&x.value&&Array.isArray(x.value.data)&&x.value.data.length>0){const w=x.value.data[0];x.value.data=x.value.data.slice(1),p.push(w),e.setQueryData(x.key,{...x.value,data:x.value.data,count:Math.max(0,(x.value.count||1)-1)})}e.setQueryData(f,{...h,data:p,count:Math.max(0,(h.count||1)-1)})}}catch{}}}})}function Gp(){const e=Ue();return wt({mutationFn:Nq,onMutate:async t=>{await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["orders"])||[],n=BD("order"),a={...t,id:n,paidAmount:t.paidAmount||0};e.setQueryData(["orders"],[a,...r]);const s=e.getQueryData(["orders",1]);return s&&Array.isArray(s.data)&&e.setQueryData(["orders",1],{...s,data:[a,...s.data].slice(0,xt),count:(s.count||0)+1}),{previousOrders:r,optimisticOrder:a,tempId:n}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:async(t,r,n)=>{n!=null&&n.tempId&&s1(n.tempId,t.id),e.setQueryData(["order",t.id],t);const a=e.getQueriesData({queryKey:["orders"]});let s=!1;a.forEach(([l,u])=>{try{const f=l;if(f[1]!==1)return;if(u&&u.data&&Array.isArray(u.data)){const h=f[2];(()=>{if(!h)return!0;if(h.status&&h.status!=="All"&&t.status!==h.status||h.from&&t.orderDate<h.from||h.to&&t.orderDate>h.to)return!1;if(h.search){const g=String(h.search).trim().toLowerCase();if(g&&!String(t.orderNumber||"").toLowerCase().includes(g))return!1}return!(h.createdByIds&&Array.isArray(h.createdByIds)&&h.createdByIds.length>0&&!h.createdByIds.includes(t.createdBy))})()&&(e.setQueryData(l,{...u,data:[t,...u.data].slice(0,xt),count:u.count?u.count+1:1}),s=!0)}}catch{}})}})}function rf(){const e=Ue();return wt({mutationFn:({id:t,updates:r})=>Oq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["orders"]}),await e.cancelQueries({queryKey:["order",t]}),await e.cancelQueries({queryKey:["ordersByCustomerId"]});const n=e.getQueryData(["orders"]),a=e.getQueryData(["order",t]);if(n&&e.setQueryData(["orders"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["order",t],{...a,...r}),a!=null&&a.customerId){const s=e.getQueryData(["ordersByCustomerId",a.customerId]);s&&e.setQueryData(["ordersByCustomerId",a.customerId],s.map(l=>l.id===t?{...l,...r}:l))}return{previousOrders:n,previousOrder:a}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders),n!=null&&n.previousOrder&&e.setQueryData(["order",r.id],n.previousOrder)},onSuccess:t=>{e.getQueriesData({queryKey:["orders"]}).forEach(([n,a])=>{try{a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:a.data.map(s=>s.id===t.id?t:s)})}catch{}}),e.setQueryData(["order",t.id],t)}})}function X9(){const e=Ue();return wt({mutationFn:Eq,onMutate:async t=>{await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["orders"]);return r&&e.setQueryData(["orders"],r.filter(n=>n.id!==t)),{previousOrders:r}},onError:(t,r,n)=>{n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:(t,r)=>{const n=e.getQueriesData({queryKey:["orders"]}),a=new Map;n.forEach(([l,u])=>{const f=l,h=f[1];if(typeof h!="number"||!Number.isInteger(h))return;const p=f[f.length-1],g=JSON.stringify([h,p]);a.set(g,{key:f,value:u})});const s=Array.from(a.keys()).sort((l,u)=>{const f=JSON.parse(l)[0],h=JSON.parse(u)[0];return f-h});for(const l of s){const u=a.get(l);if(!u)continue;const{key:f,value:h}=u;try{if(h&&h.data&&Array.isArray(h.data)){const p=h.data.filter(w=>w.id!==r),g=f[1],y=f[f.length-1],v=JSON.stringify([g+1,y]),x=a.get(v);if(x&&x.value&&Array.isArray(x.value.data)&&x.value.data.length>0){const w=x.value.data[0];x.value.data=x.value.data.slice(1),p.push(w),e.setQueryData(x.key,{...x.value,data:x.value.data,count:Math.max(0,(x.value.count||1)-1)})}e.setQueryData(f,{...h,data:p,count:Math.max(0,(h.count||1)-1)})}}catch{}}}})}function $D(){const e=Ue();return wt({mutationFn:Kq,onMutate:async t=>{await e.cancelQueries({queryKey:["bills"]});const r=e.getQueryData(["bills"])||[],n={...t,id:`temp-${Date.now()}`,paidAmount:t.paidAmount||0};e.setQueryData(["bills"],[n,...r]);const a=e.getQueryData(["bills",1]);return a&&Array.isArray(a.data)&&e.setQueryData(["bills",1],{...a,data:[n,...a.data].slice(0,xt),count:(a.count||0)+1}),{previousBills:r,optimisticBill:n}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills)},onSuccess:async(t,r,n)=>{var s;try{(s=n==null?void 0:n.optimisticBill)!=null&&s.id&&s1(n.optimisticBill.id,t.id)}catch{}e.setQueryData(["bill",t.id],t);try{const u=(e.getQueryData(["bills"])||[]||[]).filter(f=>!String(f.id).startsWith("temp-"));u.some(f=>f.id===t.id)?e.setQueryData(["bills"],u.map(f=>f.id===t.id?t:f)):e.setQueryData(["bills"],[t,...u])}catch{}e.getQueriesData({queryKey:["bills"]}).forEach(([l,u])=>{try{if(l[1]!==1)return;u&&u.data&&Array.isArray(u.data)&&e.setQueryData(l,{...u,data:[t,...u.data].slice(0,xt),count:u.count?u.count+1:1})}catch{}})}})}function UD(){const e=Ue();return wt({mutationFn:({id:t,updates:r})=>Qq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["bills"]}),await e.cancelQueries({queryKey:["bill",t]});const n=e.getQueryData(["bills"]),a=e.getQueryData(["bill",t]);return n&&e.setQueryData(["bills"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["bill",t],{...a,...r}),{previousBills:n,previousBill:a}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills),n!=null&&n.previousBill&&e.setQueryData(["bill",r.id],n.previousBill)},onSuccess:t=>{e.getQueriesData({queryKey:["bills"]}).forEach(([n,a])=>{try{a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:a.data.map(s=>s.id===t.id?t:s)})}catch{}}),e.invalidateQueries({queryKey:["bill",t.id]})}})}function J9(){const e=Ue();return wt({mutationFn:Hq,onMutate:async t=>{await e.cancelQueries({queryKey:["bills"]});const r=e.getQueryData(["bills"]);return r&&e.setQueryData(["bills"],r.filter(n=>n.id!==t)),{previousBills:r}},onError:(t,r,n)=>{n!=null&&n.previousBills&&e.setQueryData(["bills"],n.previousBills)},onSuccess:(t,r)=>{const n=e.getQueriesData({queryKey:["bills"]}),a=new Map;n.forEach(([l,u])=>{const f=l,h=f[1];if(typeof h!="number"||!Number.isInteger(h))return;const p=f[f.length-1];a.set(JSON.stringify([h,p]),{key:f,value:u})});const s=Array.from(a.keys()).sort((l,u)=>JSON.parse(l)[0]-JSON.parse(u)[0]);for(const l of s){const u=a.get(l);if(!u)continue;const{key:f,value:h}=u;try{if(h&&h.data&&Array.isArray(h.data)){const p=h.data.filter(w=>w.id!==r),g=f[1],y=f[f.length-1],v=JSON.stringify([g+1,y]),x=a.get(v);if(x&&x.value&&Array.isArray(x.value.data)&&x.value.data.length>0){const w=x.value.data[0];x.value.data=x.value.data.slice(1),p.push(w),e.setQueryData(x.key,{...x.value,data:x.value.data,count:Math.max(0,(x.value.count||1)-1)})}e.setQueryData(f,{...h,data:p,count:Math.max(0,(h.count||1)-1)})}}catch{}}}})}function Z9(){const e=Ue();return wt({mutationFn:Aq,onMutate:async t=>{await e.cancelQueries({queryKey:["accounts"]});const r=e.getQueryData(["accounts"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["accounts"],[...r,n])}return{previousAccounts:r}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts)},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["accounts"]})}})}function nf(){const e=Ue();return wt({mutationFn:({id:t,updates:r})=>Cq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["accounts"]}),await e.cancelQueries({queryKey:["account",t]});const n=e.getQueryData(["accounts"]),a=e.getQueryData(["account",t]);return n&&e.setQueryData(["accounts"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["account",t],{...a,...r}),{previousAccounts:n,previousAccount:a}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts),n!=null&&n.previousAccount&&e.setQueryData(["account",r.id],n.previousAccount)},onSuccess:t=>{e.invalidateQueries({queryKey:["accounts"]}),e.invalidateQueries({queryKey:["account",t.id]})}})}function eF(){const e=Ue();return wt({mutationFn:kq,onMutate:async t=>{await e.cancelQueries({queryKey:["accounts"]});const r=e.getQueryData(["accounts"]);return r&&e.setQueryData(["accounts"],r.filter(n=>n.id!==t)),{previousAccounts:r}},onError:(t,r,n)=>{n!=null&&n.previousAccounts&&e.setQueryData(["accounts"],n.previousAccounts)},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["accounts"]})}})}function af(){const e=Ue();return wt({mutationFn:Dq,onMutate:async t=>{await e.cancelQueries({queryKey:["transactions"]}),await e.cancelQueries({queryKey:["orders"]});const r=e.getQueryData(["transactions"]),n=e.getQueryData(["orders"]);if(r){const a={...t,id:`temp-${Date.now()}`};e.setQueryData(["transactions"],[...r,a]);const s=e.getQueryData(["transactions",1]);s&&Array.isArray(s.data)&&e.setQueryData(["transactions",1],{...s,data:[a,...s.data].slice(0,xt),count:(s.count||0)+1})}return{previousTransactions:r,previousOrders:n}},onError:(t,r,n)=>{n!=null&&n.previousTransactions&&e.setQueryData(["transactions"],n.previousTransactions),n!=null&&n.previousOrders&&e.setQueryData(["orders"],n.previousOrders)},onSuccess:t=>{e.getQueriesData({queryKey:["transactions"]}).forEach(([n,a])=>{try{if(a&&a.data&&Array.isArray(a.data)){const s=[t,...a.data].slice(0,xt);e.setQueryData(n,{...a,data:s,count:a.count?a.count+1:1})}}catch{}})}})}function tF(){const e=Ue();return wt({mutationFn:Mq,onMutate:async t=>{await e.cancelQueries({queryKey:["transactions"]});const r=e.getQueryData(["transactions"]);return r&&e.setQueryData(["transactions"],r.filter(n=>n.id!==t)),{previousTransactions:r}},onError:(t,r,n)=>{n!=null&&n.previousTransactions&&e.setQueryData(["transactions"],n.previousTransactions)},onSuccess:(t,r)=>{const n=e.getQueriesData({queryKey:["transactions"]}),a=new Map;n.forEach(([l,u])=>{const f=l,h=f[1],p=f[2];a.set(JSON.stringify([h,p]),{key:f,value:u})});const s=Array.from(a.keys()).sort((l,u)=>JSON.parse(l)[0]-JSON.parse(u)[0]);for(const l of s){const u=a.get(l);if(!u)continue;const{key:f,value:h}=u;try{if(h&&h.data&&Array.isArray(h.data)){const p=h.data.filter(w=>w.id!==r),g=f[1],y=f[f.length-1],v=JSON.stringify([g+1,y]),x=a.get(v);if(x&&x.value&&Array.isArray(x.value.data)&&x.value.data.length>0){const w=x.value.data[0];x.value.data=x.value.data.slice(1),p.push(w),e.setQueryData(x.key,{...x.value,data:x.value.data,count:Math.max(0,(x.value.count||1)-1)})}e.setQueryData(f,{...h,data:p,count:Math.max(0,(h.count||1)-1)})}}catch{}}}})}function rF(){const e=Ue();return wt({mutationFn:Bq,onMutate:async t=>{await e.cancelQueries({queryKey:["users"]});const r=e.getQueryData(["users"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["users"],[...r,n])}return{previousUsers:r}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers)},onSuccess:t=>{try{t!=null&&t.id&&e.setQueryData(["user",t.id],t)}catch{}try{const a=(e.getQueryData(["users"])||[]||[]).filter(s=>!String(s.id).startsWith("temp-"));a.some(s=>s.id===t.id)?e.setQueryData(["users"],a.map(s=>s.id===t.id?t:s)):e.setQueryData(["users"],[t,...a])}catch{}e.getQueriesData({queryKey:["users"]}).forEach(([n,a])=>{try{if(n[1]!==1)return;a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:[t,...a.data].slice(0,xt),count:a.count?a.count+1:1})}catch{}})}})}function zD(){const e=Ue();return wt({mutationFn:({id:t,updates:r})=>$q(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["users"]}),await e.cancelQueries({queryKey:["user",t]}),await e.cancelQueries({queryKey:["userByPhone"]});const n=e.getQueryData(["users"]),a=e.getQueryData(["user",t]);return n&&e.setQueryData(["users"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["user",t],{...a,...r}),{previousUsers:n,previousUser:a}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers),n!=null&&n.previousUser&&e.setQueryData(["user",r.id],n.previousUser)},onSuccess:t=>{e.getQueriesData({queryKey:["users"]}).forEach(([n,a])=>{try{a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:a.data.map(s=>s.id===t.id?t:s)})}catch{}}),e.setQueryData(["user",t.id],t)}})}function qD(){const e=Ue();return wt({mutationFn:Uq,onMutate:async t=>{await e.cancelQueries({queryKey:["users"]});const r=e.getQueryData(["users"]);return r&&e.setQueryData(["users"],r.filter(n=>n.id!==t)),{previousUsers:r}},onError:(t,r,n)=>{n!=null&&n.previousUsers&&e.setQueryData(["users"],n.previousUsers)},onSuccess:(t,r)=>{const n=e.getQueriesData({queryKey:["users"]}),a=new Map;n.forEach(([l,u])=>{const f=l,h=f[1];if(typeof h!="number"||!Number.isInteger(h))return;const p=f[f.length-1];a.set(JSON.stringify([h,p]),{key:f,value:u})});const s=Array.from(a.keys()).sort((l,u)=>JSON.parse(l)[0]-JSON.parse(u)[0]);for(const l of s){const u=a.get(l);if(!u)continue;const{key:f,value:h}=u;try{if(h&&h.data&&Array.isArray(h.data)){const p=h.data.filter(g=>g.id!==r);e.setQueryData(f,{...h,data:p,count:Math.max(0,(h.count||1)-1)})}}catch{}}}})}function nF(){const e=Ue();return wt({mutationFn:Gq,onMutate:async t=>{await e.cancelQueries({queryKey:["vendors"]});const r=e.getQueryData(["vendors"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["vendors"],[...r,n]);const a=e.getQueryData(["vendors",1]);a&&Array.isArray(a.data)&&e.setQueryData(["vendors",1],{...a,data:[n,...a.data].slice(0,xt),count:(a.count||0)+1})}return{previousVendors:r}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors)},onSuccess:t=>{try{const n=e.getQueryData(["vendors"]);if(n){const a=(n||[]).filter(s=>!(s.id&&String(s.id).startsWith("temp-")));a.some(s=>s.id===t.id)?e.setQueryData(["vendors"],a.map(s=>s.id===t.id?t:s)):e.setQueryData(["vendors"],[t,...a])}}catch{}e.getQueriesData({queryKey:["vendors"]}).forEach(([n,a])=>{try{if(n[1]!==1)return;a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:[t,...a.data].slice(0,xt),count:a.count?a.count+1:1})}catch{}})}})}function aF(){const e=Ue();return wt({mutationFn:({id:t,updates:r})=>Yq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["vendors"]}),await e.cancelQueries({queryKey:["vendor",t]});const n=e.getQueryData(["vendors"]),a=e.getQueryData(["vendor",t]);return n&&e.setQueryData(["vendors"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["vendor",t],{...a,...r}),{previousVendors:n,previousVendor:a}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors),n!=null&&n.previousVendor&&e.setQueryData(["vendor",r.id],n.previousVendor)},onSuccess:t=>{e.getQueriesData({queryKey:["vendors"]}).forEach(([n,a])=>{try{a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:a.data.map(s=>s.id===t.id?t:s)})}catch{}}),e.setQueryData(["vendor",t.id],t)}})}function iF(){const e=Ue();return wt({mutationFn:Wq,onMutate:async t=>{await e.cancelQueries({queryKey:["vendors"]});const r=e.getQueryData(["vendors"]);return r&&e.setQueryData(["vendors"],r.filter(n=>n.id!==t)),{previousVendors:r}},onError:(t,r,n)=>{n!=null&&n.previousVendors&&e.setQueryData(["vendors"],n.previousVendors)},onSuccess:(t,r)=>{const n=e.getQueriesData({queryKey:["vendors"]}),a=new Map;n.forEach(([l,u])=>{const f=l,h=f[1];if(typeof h!="number"||!Number.isInteger(h))return;const p=f[f.length-1];a.set(JSON.stringify([h,p]),{key:f,value:u})});const s=Array.from(a.keys()).sort((l,u)=>JSON.parse(l)[0]-JSON.parse(u)[0]);for(const l of s){const u=a.get(l);if(!u)continue;const{key:f,value:h}=u;try{if(h&&h.data&&Array.isArray(h.data)){const p=h.data.filter(w=>w.id!==r),g=f[1],y=f[f.length-1],v=JSON.stringify([g+1,y]),x=a.get(v);if(x&&x.value&&Array.isArray(x.value.data)&&x.value.data.length>0){const w=x.value.data[0];x.value.data=x.value.data.slice(1),p.push(w),e.setQueryData(x.key,{...x.value,data:x.value.data,count:Math.max(0,(x.value.count||1)-1)})}e.setQueryData(f,{...h,data:p,count:Math.max(0,(h.count||1)-1)})}}catch{}}}})}function sF(){const e=Ue();return wt({mutationFn:Jq,onMutate:async t=>{await e.cancelQueries({queryKey:["products"]});const r=e.getQueryData(["products"])||[],n={...t,id:`temp-${Date.now()}`};return e.setQueryData(["products"],[n,...r]),{previousProducts:r,optimisticProduct:n}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts)},onSuccess:async t=>{e.setQueryData(["product",t.id],t),e.getQueriesData({queryKey:["products"]}).forEach(([s,l])=>{try{if(l&&l.data&&Array.isArray(l.data)){const u=[t,...l.data].slice(0,xt);e.setQueryData(s,{...l,data:u,count:l.count?l.count+1:1})}}catch{}});const a=(e.getQueryData(["products"])||[]||[]).filter(s=>!String(s.id).startsWith("temp-"));e.setQueryData(["products"],[t,...a])}})}function oF(){const e=Ue();return wt({mutationFn:({id:t,updates:r})=>Zq(t,r),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["products"]}),await e.cancelQueries({queryKey:["product",t]});const n=e.getQueryData(["products"]),a=e.getQueryData(["product",t]);return n&&e.setQueryData(["products"],n.map(s=>s.id===t?{...s,...r}:s)),a&&e.setQueryData(["product",t],{...a,...r}),{previousProducts:n,previousProduct:a}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts),n!=null&&n.previousProduct&&e.setQueryData(["product",r.id],n.previousProduct)},onSuccess:t=>{e.getQueriesData({queryKey:["products"]}).forEach(([n,a])=>{try{a&&a.data&&Array.isArray(a.data)&&e.setQueryData(n,{...a,data:a.data.map(s=>s.id===t.id?t:s)})}catch{}}),e.setQueryData(["product",t.id],t)}})}function lF(){const e=Ue();return wt({mutationFn:e8,onMutate:async t=>{await e.cancelQueries({queryKey:["products"]});const r=e.getQueryData(["products"]);return r&&e.setQueryData(["products"],r.filter(n=>n.id!==t)),{previousProducts:r}},onError:(t,r,n)=>{n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts)},onSuccess:(t,r)=>{const n=e.getQueriesData({queryKey:["products"]}),a=new Map;n.forEach(([l,u])=>{const f=l,h=f[1];if(typeof h!="number"||!Number.isInteger(h))return;const p=f[f.length-1];a.set(JSON.stringify([h,p]),{key:f,value:u})});const s=Array.from(a.keys()).sort((l,u)=>JSON.parse(l)[0]-JSON.parse(u)[0]);for(const l of s){const u=a.get(l);if(!u)continue;const{key:f,value:h}=u;try{if(h&&h.data&&Array.isArray(h.data)){const p=h.data.filter(w=>w.id!==r),g=f[1],y=f[f.length-1],v=JSON.stringify([g+1,y]),x=a.get(v);if(x&&x.value&&Array.isArray(x.value.data)&&x.value.data.length>0){const w=x.value.data[0];x.value.data=x.value.data.slice(1),p.push(w),e.setQueryData(x.key,{...x.value,data:x.value.data,count:Math.max(0,(x.value.count||1)-1)})}e.setQueryData(f,{...h,data:p,count:Math.max(0,(h.count||1)-1)})}}catch{}}}})}function cF(){const e=Ue();return wt({mutationFn:r8,onMutate:async t=>{await e.cancelQueries({queryKey:["categories"]});const r=e.getQueryData(["categories"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["categories"],[...r,n])}return{previousCategories:r}},onError:(t,r,n)=>{n!=null&&n.previousCategories&&e.setQueryData(["categories"],n.previousCategories)},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function uF(){const e=Ue();return wt({mutationFn:n8,onMutate:async t=>{await e.cancelQueries({queryKey:["categories"]});const r=e.getQueryData(["categories"]);return r&&e.setQueryData(["categories"],r.filter(n=>n.id!==t)),{previousCategories:r}},onError:(t,r,n)=>{n!=null&&n.previousCategories&&e.setQueryData(["categories"],n.previousCategories)},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function dF(){const e=Ue();return wt({mutationFn:i8,onMutate:async t=>{await e.cancelQueries({queryKey:["paymentMethods"]});const r=e.getQueryData(["paymentMethods"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["paymentMethods"],[...r,n])}return{previousMethods:r}},onError:(t,r,n)=>{n!=null&&n.previousMethods&&e.setQueryData(["paymentMethods"],n.previousMethods)},onSuccess:()=>{e.invalidateQueries({queryKey:["paymentMethods"]})}})}function fF(){const e=Ue();return wt({mutationFn:s8,onMutate:async t=>{await e.cancelQueries({queryKey:["paymentMethods"]});const r=e.getQueryData(["paymentMethods"]);return r&&e.setQueryData(["paymentMethods"],r.filter(n=>n.id!==t)),{previousMethods:r}},onError:(t,r,n)=>{n!=null&&n.previousMethods&&e.setQueryData(["paymentMethods"],n.previousMethods)},onSuccess:()=>{e.invalidateQueries({queryKey:["paymentMethods"]})}})}function hF(){const e=Ue();return wt({mutationFn:l8,onMutate:async t=>{await e.cancelQueries({queryKey:["units"]});const r=e.getQueryData(["units"]);if(r){const n={...t,id:`temp-${Date.now()}`};e.setQueryData(["units"],[...r,n])}return{previousUnits:r}},onError:(t,r,n)=>{n!=null&&n.previousUnits&&e.setQueryData(["units"],n.previousUnits)},onSuccess:()=>{e.invalidateQueries({queryKey:["units"]})}})}function mF(){const e=Ue();return wt({mutationFn:c8,onMutate:async t=>{await e.cancelQueries({queryKey:["units"]});const r=e.getQueryData(["units"]);return r&&e.setQueryData(["units"],r.filter(n=>n.id!==t)),{previousUnits:r}},onError:(t,r,n)=>{n!=null&&n.previousUnits&&e.setQueryData(["units"],n.previousUnits)},onSuccess:()=>{e.invalidateQueries({queryKey:["units"]})}})}function pF(){const e=Ue();return wt({mutationFn:w8,onMutate:async t=>{await e.cancelQueries({queryKey:["settings"]});const r=e.getQueryData(["settings","company"]),n=e.getQueryData(["settings","order"]),a=e.getQueryData(["settings","invoice"]),s=e.getQueryData(["settings","defaults"]),l=e.getQueryData(["settings","courier"]);return t.company&&r&&e.setQueryData(["settings","company"],{...r,...t.company}),t.order&&n&&e.setQueryData(["settings","order"],{...n,...t.order}),t.invoice&&a&&e.setQueryData(["settings","invoice"],{...a,...t.invoice}),t.defaults&&s&&e.setQueryData(["settings","defaults"],{...s,...t.defaults}),t.courier&&l&&e.setQueryData(["settings","courier"],{...l,...t.courier}),{previousCompany:r,previousOrder:n,previousInvoice:a,previousDefaults:s,previousCourier:l}},onError:(t,r,n)=>{n!=null&&n.previousCompany&&e.setQueryData(["settings","company"],n.previousCompany),n!=null&&n.previousOrder&&e.setQueryData(["settings","order"],n.previousOrder),n!=null&&n.previousInvoice&&e.setQueryData(["settings","invoice"],n.previousInvoice),n!=null&&n.previousDefaults&&e.setQueryData(["settings","defaults"],n.previousDefaults),n!=null&&n.previousCourier&&e.setQueryData(["settings","courier"],n.previousCourier)},onSuccess:()=>{e.invalidateQueries({queryKey:["settings"]})}})}const FD=({isOpen:e,onClose:t,order:r,customer:n})=>{var g;const{data:a}=i1(),[s,l]=j.useState(!1),[u,f]=j.useState(null),h=rf();if(!e)return null;const p=async()=>{var w;if(f(null),!r||!n){f("Missing order or customer information"),console.error("[SteadfastModal] Missing order, customer information");return}if(!(a!=null&&a.steadfast)){f("No Steadfast credentials configured"),console.error("[SteadfastModal] No Steadfast settings");return}const{baseUrl:y,apiKey:v,secretKey:x}=a.steadfast;if(console.log("[SteadfastModal] ======== SUBMISSION DEBUG ========"),console.log("[SteadfastModal] courierSettings object:",a),console.log("[SteadfastModal] steadfast object:",a.steadfast),console.log("[SteadfastModal] baseUrl:",y),console.log("[SteadfastModal] baseUrl type:",typeof y),console.log("[SteadfastModal] baseUrl empty?:",y===""||!y),console.log("[SteadfastModal] baseUrl trimmed empty?:",(y||"").trim()===""),console.log("[SteadfastModal] apiKey:",v?`${v.substring(0,5)}...`:"EMPTY/NULL"),console.log("[SteadfastModal] apiKey type:",typeof v),console.log("[SteadfastModal] secretKey:",x?`${x.substring(0,5)}...`:"EMPTY/NULL"),console.log("[SteadfastModal] secretKey type:",typeof x),!y||!v||!x){f(`Incomplete Steadfast credentials - baseUrl: ${!!y}, apiKey: ${!!v}, secretKey: ${!!x}`),console.error("[SteadfastModal] Incomplete credentials"),console.error("[SteadfastModal] baseUrl value:",JSON.stringify(y)),console.error("[SteadfastModal] apiKey value:",JSON.stringify(v)),console.error("[SteadfastModal] secretKey value:",JSON.stringify(x));return}l(!0);try{console.log("[SteadfastModal] ======== PREPARING SUBMISSION ========"),console.log("[SteadfastModal] Order Number:",r.orderNumber),console.log("[SteadfastModal] Customer Name:",n.name),console.log("[SteadfastModal] Customer Phone:",n.phone),console.log("[SteadfastModal] Customer Address:",n.address),console.log("[SteadfastModal] Order Total:",r.total);const _=await x8({baseUrl:y,apiKey:v,secretKey:x,invoice:r.orderNumber,recipientName:n.name,recipientPhone:n.phone,recipientAddress:n.address,codAmount:r.total});if(console.log("[SteadfastModal] ======== SUBMISSION RESULT ========"),console.log("[SteadfastModal] Result:",_),_.error){let N=_.error;try{_.error.includes("Account is not active")&&(N="Something went wrong.")}catch{}f(N),console.error("[SteadfastModal] Submission failed:",_.error);return}console.log("[SteadfastModal] Order submitted successfully to Steadfast");try{const N=`Sent to Steadfast by ${((w=Se.currentUser)==null?void 0:w.name)||"System"} on ${new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}`;await h.mutateAsync({id:r.id,updates:{history:{...r.history,courier:N}}})}catch(N){console.error("[SteadfastModal] Failed to update order sent flag:",N)}t()}catch(_){const N=_ instanceof Error?_.message:"Unknown error";f(N),console.error("[SteadfastModal] Exception during submission:",N)}finally{l(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40",onClick:t}),c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:`${oe.card.elevated} w-full max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-300`,children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add to Steadfast"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[u&&c.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[c.jsx("p",{className:"font-semibold",children:"Error:"}),c.jsx("p",{children:u instanceof Error?u.message:String(u)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Order Number"}),c.jsx("p",{className:"text-gray-900",children:(r==null?void 0:r.orderNumber)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Name"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.name)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Phone"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.phone)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Address"}),c.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.address)||"-"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"COD Amount"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[" ",((g=r==null?void 0:r.total)==null?void 0:g.toFixed(2))||"0.00"]})]})]}),c.jsxs("div",{className:"flex gap-3 px-6 py-4 border-t border-gray-100",children:[c.jsx("button",{onClick:t,disabled:s,className:"flex-1 py-2 px-4 rounded-lg border border-gray-200 text-gray-700 font-bold hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),c.jsx("button",{onClick:p,disabled:s||!r||!n,className:"flex-1 py-2 px-4 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Adding...":"Add"})]})]})})]})},KD=({isOpen:e,onClose:t,order:r,customer:n})=>{const{data:a}=i1(),[s,l]=j.useState(1e3),[u,f]=j.useState("1"),[h,p]=j.useState(""),[g,y]=j.useState(""),[v,x]=j.useState(""),[w,_]=j.useState([]),[N,O]=j.useState([]),[E,C]=j.useState([]),[T,P]=j.useState(!1),[M,R]=j.useState(!1),[B,H]=j.useState(!1),[Y,K]=j.useState(!1),me=rf(),ie=j.useRef(null),ye=j.useRef(!1);return j.useEffect(()=>(e||(ye.current=!0,ie.current&&(clearInterval(ie.current),ie.current=null)),()=>{ye.current=!0,ie.current&&(clearInterval(ie.current),ie.current=null)}),[e]),j.useEffect(()=>{e&&(async()=>{var V,ne,he,I;if(!((V=a==null?void 0:a.carryBee)!=null&&V.baseUrl)||!((ne=a==null?void 0:a.carryBee)!=null&&ne.clientId)||!((he=a==null?void 0:a.carryBee)!=null&&he.clientSecret)||!((I=a==null?void 0:a.carryBee)!=null&&I.clientContext)){_([]);return}P(!0);try{const D=await g8({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext});_(D)}catch(D){console.error("Failed to fetch cities:",D),_([])}finally{P(!1)}})()},[e,a]),j.useEffect(()=>{(async()=>{var V,ne;if(!h||!((V=a==null?void 0:a.carryBee)!=null&&V.baseUrl)||!((ne=a==null?void 0:a.carryBee)!=null&&ne.clientId)){O([]),y(""),x(""),C([]);return}R(!0);try{const he=await y8({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext,cityId:h});O(he)}catch(he){console.error("Failed to fetch zones:",he),O([])}finally{R(!1)}})()},[h,a]),j.useEffect(()=>{(async()=>{var V,ne;if(!g||!h||!((V=a==null?void 0:a.carryBee)!=null&&V.baseUrl)||!((ne=a==null?void 0:a.carryBee)!=null&&ne.clientId)){C([]),x("");return}H(!0);try{const he=await v8({baseUrl:a.carryBee.baseUrl,clientId:a.carryBee.clientId,clientSecret:a.carryBee.clientSecret,clientContext:a.carryBee.clientContext,cityId:h,zoneId:g});C(he)}catch(he){console.error("Failed to fetch areas:",he),C([])}finally{H(!1)}})()},[g,h,a]),e?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40",onClick:t}),c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:`${oe.card.elevated} w-full max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-300`,children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add to CarryBee"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Weight ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",value:s,onChange:L=>l(Number(L.target.value)),className:"flex-1 px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg",min:"1"}),c.jsx("span",{className:"text-sm font-semibold text-gray-700 whitespace-nowrap",children:"grams"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Delivery Type ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:u,onChange:L=>f(L.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg",children:[c.jsx("option",{value:"1",children:"Normal Delivery (Type 1)"}),c.jsx("option",{value:"2",children:"Express Delivery (Type 2)"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["City ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:h,onChange:L=>p(L.target.value),disabled:T||w.length===0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:T?"Loading cities...":w.length===0?"No cities available":"Select a city"}),w.map(L=>c.jsx("option",{value:L.id,children:L.name},L.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Zone ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:g,onChange:L=>y(L.target.value),disabled:!h||M||N.length===0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:h?M?"Loading zones...":N.length===0?"No zones available":"Select a zone":"Select a city first"}),N.map(L=>c.jsx("option",{value:L.id,children:L.name},L.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Area"}),c.jsxs("select",{value:v,onChange:L=>x(L.target.value),disabled:!g||B,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:g?B?"Loading areas...":E.length===0?"No areas available":"Select an area (optional)":"Select a zone first"}),E.map(L=>c.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),c.jsxs("div",{className:"flex gap-3 px-6 py-4 border-t border-gray-100",children:[c.jsx("button",{onClick:t,className:"flex-1 py-2 px-4 rounded-lg border border-gray-200 text-gray-700 font-bold hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{onClick:async()=>{var D,U,Z;if(!h||!g){alert("Please select both City and Zone");return}if(!r||!n){alert("Missing order or customer information"),console.error("Missing order or customer:",{order:r,customer:n});return}if(!(a!=null&&a.carryBee)){alert("CarryBee settings not configured"),console.error("Missing CarryBee settings:",a);return}const{baseUrl:L,clientId:V,clientSecret:ne,clientContext:he,storeId:I}=a.carryBee;if(!L||!V||!ne||!he||!I){alert("CarryBee settings incomplete. Please configure Base URL, Client ID, Client Secret, Client Context, and Store ID in Settings."),console.error("Incomplete CarryBee settings:",{baseUrl:L,clientId:V,clientSecret:ne,clientContext:he,storeId:I});return}K(!0);try{console.log("[CarryBeeModal] Submitting order:",{storeId:I,deliveryType:Number(u),recipientPhone:n.phone,recipientName:n.name,cityId:h,zoneId:g,areaId:v||void 0,itemWeight:s,collectableAmount:r.total});const q=await b8({baseUrl:L,clientId:V,clientSecret:ne,clientContext:he,storeId:I,deliveryType:Number(u),productType:1,recipientPhone:n.phone,recipientName:n.name,recipientAddress:n.address||"",cityId:h,zoneId:g,areaId:v||void 0,itemWeight:s,collectableAmount:r.total||0});if(q.error)alert(`Failed to send order: ${q.error}`);else{try{const ge=q&&(((D=q.order)==null?void 0:D.consignment_id)||q.consignment_id)||q.data&&(((U=q.data.order)==null?void 0:U.consignment_id)||q.data.consignment_id)||null,ve=`Sent to CarryBee by ${((Z=Se.currentUser)==null?void 0:Z.name)||"System"} on ${new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}`,pe={history:{...r.history,courier:ve}};if(ge&&(pe.carrybee_consignment_id=ge),await me.mutateAsync({id:r.id,updates:pe}),ge){const ke="At the sorting hub";ye.current=!1;const te=async()=>{var _e;if(!ye.current)try{const Pe=`${a.carryBee.baseUrl.replace(/\/$/,"")}/api/v2/orders/${encodeURIComponent(ge)}/details`,ce=await fetch(Pe,{method:"GET",headers:{"Client-ID":a.carryBee.clientId,"Client-Secret":a.carryBee.clientSecret,"Client-Context":a.carryBee.clientContext,"Content-Type":"application/json"}});if(!ce.ok)return;const ze=await ce.json();if((((_e=ze==null?void 0:ze.data)==null?void 0:_e.transfer_status)||(ze==null?void 0:ze.transfer_status)||null)===ke&&!ye.current){const et=`Marked picked automatically on ${new Date().toLocaleString()}`;await me.mutateAsync({id:r.id,updates:{status:De.PICKED,history:{...r.history,picked:et}}}),ye.current=!0,ie.current&&(clearInterval(ie.current),ie.current=null)}}catch(Pe){console.error("[CarryBeeModal] Polling error:",Pe)}};ie.current=window.setInterval(te,15e3),te()}}catch(ge){console.error("[CarryBeeModal] Failed to update order sent flag or consignment id:",ge)}alert("Order sent to CarryBee successfully!"),t()}}catch(q){console.error("Error submitting order:",q),alert("Error sending order to CarryBee")}finally{K(!1)}},disabled:!h||!g||Y,className:"flex-1 py-2 px-4 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Y?"Adding...":"Add"})]})]})})]}):null},y0=(e,t,r)=>{if(t==="All Time")return!0;const n=new Date(e),a=new Date;if(t==="Today")return n.toDateString()===a.toDateString();if(t==="This Week"){const s=a.getDate()-a.getDay(),l=new Date(new Date().setDate(s)),u=new Date(new Date().setDate(s+6));return n>=l&&n<=u}return t==="This Month"?n.getMonth()===a.getMonth()&&n.getFullYear()===a.getFullYear():t==="This Year"?n.getFullYear()===a.getFullYear():t==="Custom"?!r.from||!r.to?!0:n>=new Date(r.from)&&n<=new Date(r.to):!0};function QD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=QD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ft(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=QD(e))&&(n&&(n+=" "),n+=t);return n}var gF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function o1(e){if(typeof e!="string")return!1;var t=gF;return t.includes(e)}var yF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],vF=new Set(yF);function HD(e){return typeof e!="string"?!1:vF.has(e)}function VD(e){return typeof e=="string"&&e.startsWith("data-")}function Ln(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(HD(r)||VD(r))&&(t[r]=e[r]);return t}function Ko(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ln(t)}return typeof e=="object"&&!Array.isArray(e)?Ln(e):null}function cn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(HD(r)||VD(r)||o1(r))&&(t[r]=e[r]);return t}function bF(e){return e==null?null:j.isValidElement(e)?cn(e.props):typeof e=="object"&&!Array.isArray(e)?cn(e):null}var xF=["children","width","height","viewBox","className","style","title","desc"];function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kx.apply(null,arguments)}function wF(e,t){if(e==null)return{};var r,n,a=jF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var l1=j.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:u,title:f,desc:h}=e,p=wF(e,xF),g=s||{width:n,height:a,x:0,y:0},y=ft("recharts-surface",l);return j.createElement("svg",kx({},cn(p),{className:y,width:n,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),j.createElement("title",null,f),j.createElement("desc",null,h),r)}),SF=["children","className"];function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Px.apply(null,arguments)}function _F(e,t){if(e==null)return{};var r,n,a=NF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dr=j.forwardRef((e,t)=>{var{children:r,className:n}=e,a=_F(e,SF),s=ft("recharts-layer",n);return j.createElement("g",Px({className:s},cn(a),{ref:t}),r)}),GD=j.createContext(null),OF=()=>j.useContext(GD);function Lt(e){return function(){return e}}const YD=Math.cos,Dm=Math.sin,Na=Math.sqrt,Mm=Math.PI,Yp=2*Mm,Tx=Math.PI,Dx=2*Tx,vo=1e-6,EF=Dx-vo;function WD(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function AF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return WD;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class CF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?WD:AF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,f=n-t,h=a-r,p=l-t,g=u-r,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>vo)if(!(Math.abs(g*f-h*p)>vo)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-l,x=a-u,w=f*f+h*h,_=v*v+x*x,N=Math.sqrt(w),O=Math.sqrt(y),E=s*Math.tan((Tx-Math.acos((w+y-_)/(2*N*O)))/2),C=E/O,T=E/N;Math.abs(C-1)>vo&&this._append`L${t+C*p},${r+C*g}`,this._append`A${s},${s},0,0,${+(g*v>p*x)},${this._x1=t+T*f},${this._y1=r+T*h}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),f=n*Math.sin(a),h=t+u,p=r+f,g=1^l,y=l?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>vo||Math.abs(this._y1-p)>vo)&&this._append`L${h},${p}`,n&&(y<0&&(y=y%Dx+Dx),y>EF?this._append`A${n},${n},0,1,${g},${t-u},${r-f}A${n},${n},0,1,${g},${this._x1=h},${this._y1=p}`:y>vo&&this._append`A${n},${n},0,${+(y>=Tx)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function c1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new CF(t)}function u1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function XD(e){this._context=e}XD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wp(e){return new XD(e)}function JD(e){return e[0]}function ZD(e){return e[1]}function eM(e,t){var r=Lt(!0),n=null,a=Wp,s=null,l=c1(u);e=typeof e=="function"?e:e===void 0?JD:Lt(e),t=typeof t=="function"?t:t===void 0?ZD:Lt(t);function u(f){var h,p=(f=u1(f)).length,g,y=!1,v;for(n==null&&(s=a(v=l())),h=0;h<=p;++h)!(h<p&&r(g=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(g,h,f),+t(g,h,f));if(v)return s=null,v+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Lt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Lt(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Lt(!!f),u):r},u.curve=function(f){return arguments.length?(a=f,n!=null&&(s=a(n)),u):a},u.context=function(f){return arguments.length?(f==null?n=s=null:s=a(n=f),u):n},u}function em(e,t,r){var n=null,a=Lt(!0),s=null,l=Wp,u=null,f=c1(h);e=typeof e=="function"?e:e===void 0?JD:Lt(+e),t=typeof t=="function"?t:Lt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ZD:Lt(+r);function h(g){var y,v,x,w=(g=u1(g)).length,_,N=!1,O,E=new Array(w),C=new Array(w);for(s==null&&(u=l(O=f())),y=0;y<=w;++y){if(!(y<w&&a(_=g[y],y,g))===N)if(N=!N)v=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),x=y-1;x>=v;--x)u.point(E[x],C[x]);u.lineEnd(),u.areaEnd()}N&&(E[y]=+e(_,y,g),C[y]=+t(_,y,g),u.point(n?+n(_,y,g):E[y],r?+r(_,y,g):C[y]))}if(O)return u=null,O+""||null}function p(){return eM().defined(a).curve(l).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:Lt(+g),n=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Lt(+g),h):e},h.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Lt(+g),h):n},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:Lt(+g),r=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Lt(+g),h):t},h.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Lt(+g),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(n).y(t)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Lt(!!g),h):a},h.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),h):s},h}class tM{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function kF(e){return new tM(e,!0)}function PF(e){return new tM(e,!1)}const d1={draw(e,t){const r=Na(t/Mm);e.moveTo(r,0),e.arc(0,0,r,0,Yp)}},TF={draw(e,t){const r=Na(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},rM=Na(1/3),DF=rM*2,MF={draw(e,t){const r=Na(t/DF),n=r*rM;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},RF={draw(e,t){const r=Na(t),n=-r/2;e.rect(n,n,r,r)}},IF=.8908130915292852,nM=Dm(Mm/10)/Dm(7*Mm/10),LF=Dm(Yp/10)*nM,BF=-YD(Yp/10)*nM,$F={draw(e,t){const r=Na(t*IF),n=LF*r,a=BF*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const l=Yp*s/5,u=YD(l),f=Dm(l);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*a,f*n+u*a)}e.closePath()}},v0=Na(3),UF={draw(e,t){const r=-Na(t/(v0*3));e.moveTo(0,r*2),e.lineTo(-v0*r,-r),e.lineTo(v0*r,-r),e.closePath()}},Jn=-.5,Zn=Na(3)/2,Mx=1/Na(12),zF=(Mx/2+1)*3,qF={draw(e,t){const r=Na(t/zF),n=r/2,a=r*Mx,s=n,l=r*Mx+r,u=-s,f=l;e.moveTo(n,a),e.lineTo(s,l),e.lineTo(u,f),e.lineTo(Jn*n-Zn*a,Zn*n+Jn*a),e.lineTo(Jn*s-Zn*l,Zn*s+Jn*l),e.lineTo(Jn*u-Zn*f,Zn*u+Jn*f),e.lineTo(Jn*n+Zn*a,Jn*a-Zn*n),e.lineTo(Jn*s+Zn*l,Jn*l-Zn*s),e.lineTo(Jn*u+Zn*f,Jn*f-Zn*u),e.closePath()}};function FF(e,t){let r=null,n=c1(a);e=typeof e=="function"?e:Lt(e||d1),t=typeof t=="function"?t:Lt(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Lt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Lt(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Rm(){}function Im(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function aM(e){this._context=e}aM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Im(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Im(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KF(e){return new aM(e)}function iM(e){this._context=e}iM.prototype={areaStart:Rm,areaEnd:Rm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Im(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QF(e){return new iM(e)}function sM(e){this._context=e}sM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Im(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HF(e){return new sM(e)}function oM(e){this._context=e}oM.prototype={areaStart:Rm,areaEnd:Rm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function VF(e){return new oM(e)}function uA(e){return e<0?-1:1}function dA(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),u=(s*a+l*n)/(n+a);return(uA(s)+uA(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function fA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function b0(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,a+u*t,s-u,l-u*r,s,l)}function Lm(e){this._context=e}Lm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:b0(this,this._t0,fA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,b0(this,fA(this,r=dA(this,e,t)),r);break;default:b0(this,this._t0,r=dA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lM(e){this._context=new cM(e)}(lM.prototype=Object.create(Lm.prototype)).point=function(e,t){Lm.prototype.point.call(this,t,e)};function cM(e){this._context=e}cM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function GF(e){return new Lm(e)}function YF(e){return new lM(e)}function uM(e){this._context=e}uM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=hA(e),a=hA(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hA(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function WF(e){return new uM(e)}function Xp(e,t){this._context=e,this._t=t}Xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function XF(e){return new Xp(e,.5)}function JF(e){return new Xp(e,0)}function ZF(e){return new Xp(e,1)}function Qo(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,u=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Rx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function eK(e,t){return e[t]}function tK(e){const t=[];return t.key=e,t}function rK(){var e=Lt([]),t=Rx,r=Qo,n=eK;function a(s){var l=Array.from(e.apply(this,arguments),tK),u,f=l.length,h=-1,p;for(const g of s)for(u=0,++h;u<f;++u)(l[u][h]=[0,+n(g,l[u].key,h,s)]).data=g;for(u=0,p=u1(t(l));u<f;++u)l[p[u]].index=u;return r(l,p),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Lt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Lt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?Rx:typeof s=="function"?s:Lt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Qo,a):r},a}function nK(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Qo(e,t)}}function aK(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,u=0;l<a;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Qo(e,t)}}function iK(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var u=0,f=0,h=0;u<l;++u){for(var p=e[t[u]],g=p[n][1]||0,y=p[n-1][1]||0,v=(g-y)/2,x=0;x<u;++x){var w=e[t[x]],_=w[n][1]||0,N=w[n-1][1]||0;v+=_-N}f+=g,h+=v*g}a[n-1][1]+=a[n-1][0]=r,f&&(r-=h/f)}a[n-1][1]+=a[n-1][0]=r,Qo(e,t)}}var x0={},w0={},mA;function sK(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(w0)),w0}var j0={},pA;function dM(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(j0)),j0}var S0={},gA;function f1(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(S0)),S0}var _0={},N0={},yA;function oK(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(N0)),N0}var vA;function h1(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oK(),r=f1();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],l=a.length;if(l===0)return s;let u=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=a[u];h?g==="\\"&&u+1<l?(u++,f+=a[u]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,u++}return f&&s.push(f),s}e.toPath=n})(_0)),_0}var bA;function m1(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sK(),r=dM(),n=f1(),a=h1();function s(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?r.isDeepKey(f)?s(u,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const p=u[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(u,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?h:p}}}function l(u,f,h){if(f.length===0)return h;let p=u;for(let g=0;g<f.length;g++){if(p==null||t.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}e.get=s})(x0)),x0}var O0,xA;function lK(){return xA||(xA=1,O0=m1().get),O0}var cK=lK();const Ho=Qa(cK);var uK=4;function Ms(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uK,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function nr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,l)=>{var u=r[l-1];return typeof u=="string"?a+u+s:u!==void 0?a+Ms(u)+s:a+s},"")}var Tr=e=>e===0?0:e>0?1:-1,za=e=>typeof e=="number"&&e!=+e,Vo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ne=e=>(typeof e=="number"||e instanceof Number)&&!za(e),qa=e=>Ne(e)||typeof e=="string",dK=0,Nd=e=>{var t=++dK;return"".concat(e||"").concat(t)},Jr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(t)&&typeof t!="string")return n;var s;if(Vo(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return za(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},fM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Ht(e,t,r){return Ne(e)&&Ne(t)?Ms(e+r*(t-e)):t}function hM(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ho(n,t))===r)}var Wt=e=>e===null||typeof e>"u",sf=e=>Wt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function wn(e){return e!=null}function tl(){}var fK=["type","size","sizeType"];function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ix.apply(null,arguments)}function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){hK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hK(e,t,r){return(t=mK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mK(e){var t=pK(e,"string");return typeof t=="symbol"?t:t+""}function pK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gK(e,t){if(e==null)return{};var r,n,a=yK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mM={symbolCircle:d1,symbolCross:TF,symbolDiamond:MF,symbolSquare:RF,symbolStar:$F,symbolTriangle:UF,symbolWye:qF},vK=Math.PI/180,bK=e=>{var t="symbol".concat(sf(e));return mM[t]||d1},xK=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*vK;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wK=(e,t)=>{mM["symbol".concat(sf(e))]=t},p1=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=gK(e,fK),s=jA(jA({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var y=bK(l),v=FF().type(y).size(xK(r,n,l)),x=v();if(x!==null)return x},{className:f,cx:h,cy:p}=s,g=cn(s);return Ne(h)&&Ne(p)&&Ne(r)?j.createElement("path",Ix({},g,{className:ft("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};p1.registerSymbol=wK;var pM=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,g1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{o1(a)&&(n[a]=(s=>r[a](r,s)))}),n},jK=(e,t,r)=>n=>(e(t,r,n),null),of=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];o1(a)&&typeof s=="function"&&(n||(n={}),n[a]=jK(s,t,r))}),n};function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){_K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _K(e,t,r){return(t=NK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(e){var t=OK(e,"string");return typeof t=="symbol"?t:t+""}function OK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(e,t){var r=SK({},e),n=t,a=Object.keys(t),s=a.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return s}function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bm.apply(null,arguments)}function _A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(r),!0).forEach(function(n){AK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AK(e,t,r){return(t=CK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=kK(e,"string");return typeof t=="symbol"?t:t+""}function kK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ta=32,PK={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function TK(e){var{data:t,iconType:r,inactiveColor:n}=e,a=ta/2,s=ta/6,l=ta/3,u=t.inactive?n:t.color,f=r??t.type;if(f==="none")return null;if(f==="plainline"){var h;return j.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:a,x2:ta,y2:a,className:"recharts-legend-icon"})}if(f==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ta,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(f==="rect")return j.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ta/8,"h").concat(ta,"v").concat(ta*3/4,"h").concat(-ta,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var p=EK({},t);return delete p.legendIcon,j.cloneElement(t.legendIcon,p)}return j.createElement(p1,{fill:u,cx:a,cy:a,size:ta,sizeType:"diameter",type:f})}function DK(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:l}=e,u={x:0,y:0,width:ta,height:ta},f={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var y=p.formatter||a,v=ft({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var x=p.inactive?s:p.color,w=y?y(p.value,p,g):p.value;return j.createElement("li",Bm({className:v,style:f,key:"legend-item-".concat(g)},of(e,p,g)),j.createElement(l1,{width:r,height:r,viewBox:u,style:h,"aria-label":"".concat(w," legend icon")},j.createElement(TK,{data:p,iconType:l,inactiveColor:s})),j.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},w))})}var MK=e=>{var t=yr(e,PK),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},j.createElement(DK,Bm({},t,{payload:r})))},E0={},A0={},NA;function RK(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],u=n(l,s,r);a.has(u)||a.set(u,l)}return Array.from(a.values())}e.uniqBy=t})(A0)),A0}var C0={},OA;function IK(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(C0)),C0}var k0={},EA;function gM(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(k0)),k0}var P0={},T0={},D0={},AA;function LK(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(D0)),D0}var CA;function y1(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LK();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(T0)),T0}var M0={},kA;function BK(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(M0)),M0}var PA;function $K(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y1(),r=BK();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(P0)),P0}var R0={},I0={},TA;function UK(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m1();function r(n){return function(a){return t.get(a,n)}}e.property=r})(I0)),I0}var L0={},B0={},$0={},U0={},DA;function yM(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(U0)),U0}var z0={},MA;function vM(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(z0)),z0}var q0={},RA;function bM(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(q0)),q0}var IA;function zK(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yM(),r=vM(),n=bM();function a(p,g,y){return typeof y!="function"?a(p,g,()=>{}):s(p,g,function v(x,w,_,N,O,E){const C=y(x,w,_,N,O,E);return C!==void 0?!!C:s(x,w,v,E)},new Map)}function s(p,g,y,v){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,y,v);case"function":return Object.keys(g).length>0?s(p,{...g},y,v):n.isEqualsSameValueZero(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:n.isEqualsSameValueZero(p,g)}}function l(p,g,y,v){if(g==null)return!0;if(Array.isArray(g))return f(p,g,y,v);if(g instanceof Map)return u(p,g,y,v);if(g instanceof Set)return h(p,g,y,v);const x=Object.keys(g);if(p==null||r.isPrimitive(p))return x.length===0;if(x.length===0)return!0;if(v!=null&&v.has(g))return v.get(g)===p;v==null||v.set(g,p);try{for(let w=0;w<x.length;w++){const _=x[w];if(!r.isPrimitive(p)&&!(_ in p)||g[_]===void 0&&p[_]!==void 0||g[_]===null&&p[_]!==null||!y(p[_],g[_],_,p,g,v))return!1}return!0}finally{v==null||v.delete(g)}}function u(p,g,y,v){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[x,w]of g.entries()){const _=p.get(x);if(y(_,w,x,p,g,v)===!1)return!1}return!0}function f(p,g,y,v){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const x=new Set;for(let w=0;w<g.length;w++){const _=g[w];let N=!1;for(let O=0;O<p.length;O++){if(x.has(O))continue;const E=p[O];let C=!1;if(y(E,_,w,p,g,v)&&(C=!0),C){x.add(O),N=!0;break}}if(!N)return!1}return!0}function h(p,g,y,v){return g.size===0?!0:p instanceof Set?f([...p],[...g],y,v):!1}e.isMatchWith=a,e.isSetMatch=h})($0)),$0}var LA;function xM(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zK();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(B0)),B0}var F0={},K0={},Q0={},BA;function qK(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Q0)),Q0}var H0={},$A;function v1(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(H0)),H0}var V0={},UA;function wM(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",y="[object ArrayBuffer]",v="[object Object]",x="[object Error]",w="[object DataView]",_="[object Uint8Array]",N="[object Uint8ClampedArray]",O="[object Uint16Array]",E="[object Uint32Array]",C="[object BigUint64Array]",T="[object Int8Array]",P="[object Int16Array]",M="[object Int32Array]",R="[object BigInt64Array]",B="[object Float32Array]",H="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=R,e.bigUint64ArrayTag=C,e.booleanTag=a,e.dataViewTag=w,e.dateTag=u,e.errorTag=x,e.float32ArrayTag=B,e.float64ArrayTag=H,e.functionTag=g,e.int16ArrayTag=P,e.int32ArrayTag=M,e.int8ArrayTag=T,e.mapTag=f,e.numberTag=n,e.objectTag=v,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=O,e.uint32ArrayTag=E,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=N})(V0)),V0}var G0={},zA;function FK(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(G0)),G0}var qA;function jM(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qK(),r=v1(),n=wM(),a=vM(),s=FK();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,y,v=new Map,x=void 0){const w=x==null?void 0:x(p,g,y,v);if(w!==void 0)return w;if(a.isPrimitive(p))return p;if(v.has(p))return v.get(p);if(Array.isArray(p)){const _=new Array(p.length);v.set(p,_);for(let N=0;N<p.length;N++)_[N]=u(p[N],N,y,v,x);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;v.set(p,_);for(const[N,O]of p)_.set(N,u(O,N,y,v,x));return _}if(p instanceof Set){const _=new Set;v.set(p,_);for(const N of p)_.add(u(N,void 0,y,v,x));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);v.set(p,_);for(let N=0;N<p.length;N++)_[N]=u(p[N],N,y,v,x);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return v.set(p,_),f(_,p,y,v,x),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return v.set(p,_),f(_,p,y,v,x),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return v.set(p,_),f(_,p,y,v,x),_}if(p instanceof Error){const _=new p.constructor;return v.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,f(_,p,y,v,x),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return v.set(p,_),f(_,p,y,v,x),_}if(p instanceof Number){const _=new Number(p.valueOf());return v.set(p,_),f(_,p,y,v,x),_}if(p instanceof String){const _=new String(p.valueOf());return v.set(p,_),f(_,p,y,v,x),_}if(typeof p=="object"&&h(p)){const _=Object.create(Object.getPrototypeOf(p));return v.set(p,_),f(_,p,y,v,x),_}return p}function f(p,g,y=p,v,x){const w=[...Object.keys(g),...t.getSymbols(g)];for(let _=0;_<w.length;_++){const N=w[_],O=Object.getOwnPropertyDescriptor(p,N);(O==null||O.writable)&&(p[N]=u(g[N],N,y,v,x))}}function h(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=f})(K0)),K0}var FA;function KK(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jM();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(F0)),F0}var KA;function QK(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xM(),r=KK();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(L0)),L0}var Y0={},W0={},X0={},QA;function HK(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jM(),r=v1(),n=wM();function a(s,l){return t.cloneDeepWith(s,(u,f,h,p)=>{const g=l==null?void 0:l(u,f,h,p);if(g!==void 0)return g;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const y={};return p.set(s,y),t.copyProperties(y,s,h,p),y}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(y,s),y}case n.argumentsTag:{const y={};return t.copyProperties(y,s),y.length=s.length,y[Symbol.iterator]=s[Symbol.iterator],y}default:return}}})}e.cloneDeepWith=a})(X0)),X0}var HA;function VK(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HK();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(W0)),W0}var J0={},Z0={},VA;function SM(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Z0)),Z0}var eb={},GA;function GK(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v1();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(eb)),eb}var YA;function YK(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dM(),r=SM(),n=GK(),a=h1();function s(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?f=a.toPath(u):f=[u],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=s})(J0)),J0}var WA;function WK(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xM(),r=f1(),n=VK(),a=m1(),s=YK();function l(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return f=n.cloneDeep(f),function(h){const p=a.get(h,u);return p===void 0?s.has(h,u):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=l})(Y0)),Y0}var XA;function XK(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gM(),r=UK(),n=QK(),a=WK();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(R0)),R0}var JA;function JK(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RK(),r=IK(),n=gM(),a=$K(),s=XK();function l(u,f=n.identity){return a.isArrayLikeObject(u)?t.uniqBy(Array.from(u),r.ary(s.iteratee(f),1)):[]}e.uniqBy=l})(E0)),E0}var tb,ZA;function ZK(){return ZA||(ZA=1,tb=JK().uniqBy),tb}var e7=ZK();const eC=Qa(e7);function _M(e,t,r){return t===!0?eC(e,r):typeof t=="function"?eC(e,t):e}var rb={exports:{}},nb={},ab={exports:{}},ib={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC;function t7(){if(tC)return ib;tC=1;var e=Bc();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(g,y){var v=y(),x=n({inst:{value:v,getSnapshot:y}}),w=x[0].inst,_=x[1];return s(function(){w.value=v,w.getSnapshot=y,f(w)&&_({inst:w})},[g,v,y]),a(function(){return f(w)&&_({inst:w}),g(function(){f(w)&&_({inst:w})})},[g]),l(v),v}function f(g){var y=g.getSnapshot;g=g.value;try{var v=y();return!r(g,v)}catch{return!0}}function h(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return ib.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,ib}var rC;function r7(){return rC||(rC=1,ab.exports=t7()),ab.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nC;function n7(){if(nC)return nb;nC=1;var e=Bc(),t=r7();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,f=e.useDebugValue;return nb.useSyncExternalStoreWithSelector=function(h,p,g,y,v){var x=s(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=u(function(){function N(P){if(!O){if(O=!0,E=P,P=y(P),v!==void 0&&w.hasValue){var M=w.value;if(v(M,P))return C=M}return C=P}if(M=C,n(E,P))return M;var R=y(P);return v!==void 0&&v(M,R)?(E=P,M):(E=P,C=R)}var O=!1,E,C,T=g===void 0?null:g;return[function(){return N(p())},T===null?void 0:function(){return N(T())}]},[p,g,y,v]);var _=a(h,x[0],x[1]);return l(function(){w.hasValue=!0,w.value=_},[_]),f(_),_},nb}var aC;function a7(){return aC||(aC=1,rb.exports=n7()),rb.exports}var i7=a7(),b1=j.createContext(null),s7=e=>e,Bt=()=>{var e=j.useContext(b1);return e?e.store.dispatch:s7},xm=()=>{},o7=()=>xm,l7=(e,t)=>e===t;function Ae(e){var t=j.useContext(b1),r=j.useMemo(()=>t?n=>{if(n!=null)return e(n)}:xm,[t,e]);return i7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:o7,t?t.store.getState:xm,t?t.store.getState:xm,r,l7)}function c7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function u7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function d7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var iC=e=>Array.isArray(e)?e:[e];function f7(e){const t=Array.isArray(e[0])?e[0]:e;return d7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function h7(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var m7=class{constructor(e){this.value=e}deref(){return this.value}},p7=typeof WeakRef<"u"?WeakRef:m7,g7=0,sC=1;function tm(){return{s:g7,v:void 0,o:null,p:null}}function NM(e,t={}){let r=tm();const{resultEqualityCheck:n}=t;let a,s=0;function l(){var g;let u=r;const{length:f}=arguments;for(let y=0,v=f;y<v;y++){const x=arguments[y];if(typeof x=="function"||typeof x=="object"&&x!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const _=w.get(x);_===void 0?(u=tm(),w.set(x,u)):u=_}else{let w=u.p;w===null&&(u.p=w=new Map);const _=w.get(x);_===void 0?(u=tm(),w.set(x,u)):u=_}}const h=u;let p;if(u.s===sC)p=u.v;else if(p=e.apply(null,arguments),s++,n){const y=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;y!=null&&n(y,p)&&(p=y,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new p7(p):p}return h.s=sC,h.v=p,p}return l.clearCache=()=>{r=tm(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function y7(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,u,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),c7(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:v=NM,argsMemoizeOptions:x=[]}=p,w=iC(y),_=iC(x),N=f7(a),O=g(function(){return s++,h.apply(null,arguments)},...w),E=v(function(){l++;const T=h7(N,arguments);return u=O.apply(null,T),u},..._);return Object.assign(E,{resultFunc:h,memoizedResultFunc:O,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var W=y7(NM),v7=Object.assign((e,t=W)=>{u7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,u,f)=>(l[r[f]]=u,l),{}))},{withTypes:()=>v7}),sb={},ob={},lb={},oC;function b7(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),u=t(a);if(l===u&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};e.compareValues=r})(lb)),lb}var cb={},ub={},lC;function OM(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(ub)),ub}var cC;function x7(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OM(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(cb)),cb}var uC;function w7(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b7(),r=x7(),n=h1();function a(s,l,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(v=>String(v));const h=(v,x)=>{let w=v;for(let _=0;_<x.length&&w!=null;++_)w=w[x[_]];return w},p=(v,x)=>x==null||v==null?x:typeof v=="object"&&"key"in v?Object.hasOwn(x,v.key)?x[v.key]:h(x,v.path):typeof v=="function"?v(x):Array.isArray(v)?h(x,v):typeof x=="object"?x[v]:x,g=l.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return s.map(v=>({original:v,criteria:g.map(x=>p(x,v))})).slice().sort((v,x)=>{for(let w=0;w<g.length;w++){const _=t.compareValues(v.criteria[w],x.criteria[w],u[w]);if(_!==0)return _}return 0}).map(v=>v.original)}e.orderBy=a})(ob)),ob}var db={},dC;function j7(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(u,f)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&f<s?l(p,f+1):a.push(p)}};return l(r,0),a}e.flatten=t})(db)),db}var fb={},fC;function EM(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SM(),r=y1(),n=yM(),a=bM();function s(l,u,f){return n.isObject(f)&&(typeof u=="number"&&r.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?a.isEqualsSameValueZero(f[u],l):!1}e.isIterateeCall=s})(fb)),fb}var hC;function S7(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w7(),r=j7(),n=EM();function a(s,...l){const u=l.length;return u>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})(sb)),sb}var hb,mC;function _7(){return mC||(mC=1,hb=S7().sortBy),hb}var N7=_7();const Jp=Qa(N7);var AM=e=>e.legend.settings,O7=e=>e.legend.size,E7=e=>e.legend.payload,A7=W([E7,AM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Jp(n,r):n});function C7(){return Ae(A7)}var rm=1;function CM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>rm||Math.abs(l.left-t.left)>rm||Math.abs(l.top-t.top)>rm||Math.abs(l.width-t.width)>rm)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Qr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var k7=typeof Symbol=="function"&&Symbol.observable||"@@observable",pC=k7,mb=()=>Math.random().toString(36).substring(7).split("").join("."),P7={INIT:`@@redux/INIT${mb()}`,REPLACE:`@@redux/REPLACE${mb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mb()}`},$m=P7;function x1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function kM(e,t,r){if(typeof e!="function")throw new Error(Qr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Qr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Qr(1));return r(kM)(e,t)}let n=e,a=t,s=new Map,l=s,u=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((_,N)=>{l.set(N,_)}))}function p(){if(f)throw new Error(Qr(3));return a}function g(_){if(typeof _!="function")throw new Error(Qr(4));if(f)throw new Error(Qr(5));let N=!0;h();const O=u++;return l.set(O,_),function(){if(N){if(f)throw new Error(Qr(6));N=!1,h(),l.delete(O),s=null}}}function y(_){if(!x1(_))throw new Error(Qr(7));if(typeof _.type>"u")throw new Error(Qr(8));if(typeof _.type!="string")throw new Error(Qr(17));if(f)throw new Error(Qr(9));try{f=!0,a=n(a,_)}finally{f=!1}return(s=l).forEach(O=>{O()}),_}function v(_){if(typeof _!="function")throw new Error(Qr(10));n=_,y({type:$m.REPLACE})}function x(){const _=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Qr(11));function O(){const C=N;C.next&&C.next(p())}return O(),{unsubscribe:_(O)}},[pC](){return this}}}return y({type:$m.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:v,[pC]:x}}function T7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:$m.INIT})>"u")throw new Error(Qr(12));if(typeof r(void 0,{type:$m.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qr(13))})}function PM(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{T7(r)}catch(s){a=s}return function(l={},u){if(a)throw a;let f=!1;const h={};for(let p=0;p<n.length;p++){const g=n[p],y=r[g],v=l[g],x=y(v,u);if(typeof x>"u")throw u&&u.type,new Error(Qr(14));h[g]=x,f=f||x!==v}return f=f||n.length!==Object.keys(l).length,f?h:l}}function Um(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function D7(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Qr(15))};const l={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},u=e.map(f=>f(l));return s=Um(...u)(a.dispatch),{...a,dispatch:s}}}function TM(e){return x1(e)&&"type"in e&&typeof e.type=="string"}var DM=Symbol.for("immer-nothing"),gC=Symbol.for("immer-draftable"),un=Symbol.for("immer-state");function va(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rn=Object,Pc=Rn.getPrototypeOf,zm="constructor",Zp="prototype",Lx="configurable",qm="enumerable",wm="writable",Od="value",Ci=e=>!!e&&!!e[un];function ja(e){var t;return e?MM(e)||tg(e)||!!e[gC]||!!((t=e[zm])!=null&&t[gC])||rg(e)||ng(e):!1}var M7=Rn[Zp][zm].toString(),yC=new WeakMap;function MM(e){if(!e||!w1(e))return!1;const t=Pc(e);if(t===null||t===Rn[Zp])return!0;const r=Rn.hasOwnProperty.call(t,zm)&&t[zm];if(r===Object)return!0;if(!sc(r))return!1;let n=yC.get(r);return n===void 0&&(n=Function.toString.call(r),yC.set(r,n)),n===M7}function eg(e,t,r=!0){lf(e)===0?(r?Reflect.ownKeys(e):Rn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function lf(e){const t=e[un];return t?t.type_:tg(e)?1:rg(e)?2:ng(e)?3:0}var vC=(e,t,r=lf(e))=>r===2?e.has(t):Rn[Zp].hasOwnProperty.call(e,t),Bx=(e,t,r=lf(e))=>r===2?e.get(t):e[t],Fm=(e,t,r,n=lf(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function R7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var tg=Array.isArray,rg=e=>e instanceof Map,ng=e=>e instanceof Set,w1=e=>typeof e=="object",sc=e=>typeof e=="function",pb=e=>typeof e=="boolean";function I7(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var pi=e=>e.copy_||e.base_,j1=e=>e.modified_?e.copy_:e.base_;function $x(e,t){if(rg(e))return new Map(e);if(ng(e))return new Set(e);if(tg(e))return Array[Zp].slice.call(e);const r=MM(e);if(t===!0||t==="class_only"&&!r){const n=Rn.getOwnPropertyDescriptors(e);delete n[un];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u[wm]===!1&&(u[wm]=!0,u[Lx]=!0),(u.get||u.set)&&(n[l]={[Lx]:!0,[wm]:!0,[qm]:u[qm],[Od]:e[l]})}return Rn.create(Pc(e),n)}else{const n=Pc(e);if(n!==null&&r)return{...e};const a=Rn.create(n);return Rn.assign(a,e)}}function S1(e,t=!1){return ag(e)||Ci(e)||!ja(e)||(lf(e)>1&&Rn.defineProperties(e,{set:nm,add:nm,clear:nm,delete:nm}),Rn.freeze(e),t&&eg(e,(r,n)=>{S1(n,!0)},!1)),e}function L7(){va(2)}var nm={[Od]:L7};function ag(e){return e===null||!w1(e)?!0:Rn.isFrozen(e)}var Km="MapSet",Ux="Patches",bC="ArrayMethods",RM={};function Go(e){const t=RM[e];return t||va(0,e),t}var xC=e=>!!RM[e],Ed,IM=()=>Ed,B7=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:xC(Km)?Go(Km):void 0,arrayMethodsPlugin_:xC(bC)?Go(bC):void 0});function wC(e,t){t&&(e.patchPlugin_=Go(Ux),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function zx(e){qx(e),e.drafts_.forEach($7),e.drafts_=null}function qx(e){e===Ed&&(Ed=e.parent_)}var jC=e=>Ed=B7(Ed,e);function $7(e){const t=e[un];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function SC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[un].modified_&&(zx(t),va(4)),ja(e)&&(e=_C(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[un].base_,e,t)}else e=_C(t,r);return U7(t,e,!0),zx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==DM?e:void 0}function _C(e,t){if(ag(t))return t;const r=t[un];if(!r)return Qm(t,e.handledSet_,e);if(!ig(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);$M(r,e)}return r.copy_}function U7(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&S1(t,r)}function LM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ig=(e,t)=>e.scope_===t,z7=[];function BM(e,t,r,n){const a=pi(e),s=e.type_;if(n!==void 0&&Bx(a,n,s)===t){Fm(a,n,r,s);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;eg(a,(f,h)=>{if(Ci(h)){const p=u.get(h)||[];p.push(f),u.set(h,p)}})}const l=e.draftLocations_.get(t)??z7;for(const u of l)Fm(a,u,r,s)}function q7(e,t,r){e.callbacks_.push(function(a){var u;const s=t;if(!s||!ig(s,a))return;(u=a.mapSetPlugin_)==null||u.fixSetContents(s);const l=j1(s);BM(e,s.draft_??s,l,r),$M(s,a)})}function $M(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}LM(e)}}function F7(e,t,r){const{scope_:n}=e;if(Ci(r)){const a=r[un];ig(a,n)&&a.callbacks_.push(function(){jm(e);const l=j1(a);BM(e,r,l,t)})}else ja(r)&&e.callbacks_.push(function(){const s=pi(e);e.type_===3?s.has(r)&&Qm(r,n.handledSet_,n):Bx(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Qm(Bx(e.copy_,t,e.type_),n.handledSet_,n)})}function Qm(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ci(e)||t.has(e)||!ja(e)||ag(e)||(t.add(e),eg(e,(n,a)=>{if(Ci(a)){const s=a[un];if(ig(s,r)){const l=j1(s);Fm(e,n,l,e.type_),LM(s)}}else ja(a)&&Qm(a,t,r)})),e}function K7(e,t){const r=tg(e),n={type_:r?1:0,scope_:t?t.scope_:IM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Hm;r&&(a=[n],s=Ad);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,[u,n]}var Hm={get(e,t){if(t===un)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=pi(e);if(!vC(a,t,e.type_))return Q7(e,a,t);const s=a[t];if(e.finalized_||!ja(s)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&I7(t))return s;if(s===gb(e.base_,t)){jm(e);const l=e.type_===1?+t:t,u=Kx(e.scope_,s,e,l);return e.copy_[l]=u}return s},has(e,t){return t in pi(e)},ownKeys(e){return Reflect.ownKeys(pi(e))},set(e,t,r){const n=UM(pi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=gb(pi(e),t),s=a==null?void 0:a[un];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(R7(r,a)&&(r!==void 0||vC(e.base_,t,e.type_)))return!0;jm(e),Fx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),F7(e,t,r)),!0},deleteProperty(e,t){return jm(e),gb(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Fx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=pi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[wm]:!0,[Lx]:e.type_!==1||t!=="length",[qm]:n[qm],[Od]:r[t]}},defineProperty(){va(11)},getPrototypeOf(e){return Pc(e.base_)},setPrototypeOf(){va(12)}},Ad={};for(let e in Hm){let t=Hm[e];Ad[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Ad.deleteProperty=function(e,t){return Ad.set.call(this,e,t,void 0)};Ad.set=function(e,t,r){return Hm.set.call(this,e[0],t,r,e[0])};function gb(e,t){const r=e[un];return(r?pi(r):e)[t]}function Q7(e,t,r){var a;const n=UM(t,r);return n?Od in n?n[Od]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function UM(e,t){if(!(t in e))return;let r=Pc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Pc(r)}}function Fx(e){e.modified_||(e.modified_=!0,e.parent_&&Fx(e.parent_))}function jm(e){e.copy_||(e.assigned_=new Map,e.copy_=$x(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var H7=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(sc(r)&&!sc(n)){const l=n;n=r;const u=this;return function(h=l,...p){return u.produce(h,g=>n.call(this,g,...p))}}sc(n)||va(6),a!==void 0&&!sc(a)&&va(7);let s;if(ja(r)){const l=jC(this),u=Kx(l,r,void 0);let f=!0;try{s=n(u),f=!1}finally{f?zx(l):qx(l)}return wC(l,a),SC(s,l)}else if(!r||!w1(r)){if(s=n(r),s===void 0&&(s=r),s===DM&&(s=void 0),this.autoFreeze_&&S1(s,!0),a){const l=[],u=[];Go(Ux).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:u}),a(l,u)}return s}else va(1,r)},this.produceWithPatches=(r,n)=>{if(sc(r))return(u,...f)=>this.produceWithPatches(u,h=>r(h,...f));let a,s;return[this.produce(r,n,(u,f)=>{a=u,s=f}),a,s]},pb(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),pb(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),pb(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ja(t)||va(8),Ci(t)&&(t=wa(t));const r=jC(this),n=Kx(r,t,void 0);return n[un].isManual_=!0,qx(r),n}finishDraft(t,r){const n=t&&t[un];(!n||!n.isManual_)&&va(9);const{scope_:a}=n;return wC(a,r),SC(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Go(Ux).applyPatches_;return Ci(t)?a(t,r):this.produce(t,s=>a(s,r))}};function Kx(e,t,r,n){const[a,s]=rg(t)?Go(Km).proxyMap_(t,r):ng(t)?Go(Km).proxySet_(t,r):K7(t,r);return((r==null?void 0:r.scope_)??IM()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?q7(r,s,n):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function wa(e){return Ci(e)||va(10,e),zM(e)}function zM(e){if(!ja(e)||ag(e))return e;const t=e[un];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=$x(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=$x(e,!0);return eg(r,(a,s)=>{Fm(r,a,zM(s))},n),t&&(t.finalized_=!1),r}var V7=new H7,qM=V7.produce;function FM(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var G7=FM(),Y7=FM,W7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Um:Um.apply(null,arguments)};function sa(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(In(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>TM(n)&&n.type===e,r}var KM=class cd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,cd.prototype)}static get[Symbol.species](){return cd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new cd(...t[0].concat(this)):new cd(...t.concat(this))}};function NC(e){return ja(e)?qM(e,()=>{}):e}function am(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function X7(e){return typeof e=="boolean"}var J7=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new KM;return r&&(X7(r)?l.push(G7):l.push(Y7(r.extraArgument))),l},QM="RTK_autoBatch",Qt=()=>e=>({payload:e,meta:{[QM]:!0}}),OC=e=>t=>{setTimeout(t,e)},HM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OC(10):e.type==="callback"?e.queueNotification:OC(e.timeout),h=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>a&&p(),y=n.subscribe(g);return u.add(p),()=>{y(),u.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[QM]),s=!a,s&&(l||(l=!0,f(h))),n.dispatch(p)}finally{a=!0}}})},Z7=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new KM(e);return n&&a.push(HM(typeof n=="object"?n:void 0)),a};function eQ(e){const t=J7(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(x1(r))u=PM(r);else throw new Error(In(1));let f;typeof n=="function"?f=n(t):f=t();let h=Um;a&&(h=W7({trace:!1,...typeof a=="object"&&a}));const p=D7(...f),g=Z7(p);let y=typeof l=="function"?l(g):g();const v=h(...y);return kM(u,s,v)}function VM(e){const t={},r=[];let n;const a={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(In(28));if(u in t)throw new Error(In(29));return t[u]=l,a},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function tQ(e){return typeof e=="function"}function rQ(e,t){let[r,n,a]=VM(t),s;if(tQ(e))s=()=>NC(e());else{const u=NC(e);s=()=>u}function l(u=s(),f){let h=[r[f.type],...n.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(Ci(p)){const v=g(p,f);return v===void 0?p:v}else{if(ja(p))return qM(p,y=>g(y,f));{const y=g(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},u)}return l.getInitialState=s,l}var nQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",aQ=(e=21)=>{let t="",r=e;for(;r--;)t+=nQ[Math.random()*64|0];return t},iQ=Symbol.for("rtk-slice-createasyncthunk");function sQ(e,t){return`${e}/${t}`}function oQ({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[iQ];return function(a){const{name:s,reducerPath:l=s}=a;if(!s)throw new Error(In(11));const u=(typeof a.reducers=="function"?a.reducers(cQ()):a.reducers)||{},f=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(C,T){const P=typeof C=="string"?C:C.type;if(!P)throw new Error(In(12));if(P in h.sliceCaseReducersByType)throw new Error(In(13));return h.sliceCaseReducersByType[P]=T,p},addMatcher(C,T){return h.sliceMatchers.push({matcher:C,reducer:T}),p},exposeAction(C,T){return h.actionCreators[C]=T,p},exposeCaseReducer(C,T){return h.sliceCaseReducersByName[C]=T,p}};f.forEach(C=>{const T=u[C],P={reducerName:C,type:sQ(s,C),createNotation:typeof a.reducers=="function"};dQ(T)?hQ(P,T,p,t):uQ(P,T,p)});function g(){const[C={},T=[],P=void 0]=typeof a.extraReducers=="function"?VM(a.extraReducers):[a.extraReducers],M={...C,...h.sliceCaseReducersByType};return rQ(a.initialState,R=>{for(let B in M)R.addCase(B,M[B]);for(let B of h.sliceMatchers)R.addMatcher(B.matcher,B.reducer);for(let B of T)R.addMatcher(B.matcher,B.reducer);P&&R.addDefaultCase(P)})}const y=C=>C,v=new Map,x=new WeakMap;let w;function _(C,T){return w||(w=g()),w(C,T)}function N(){return w||(w=g()),w.getInitialState()}function O(C,T=!1){function P(R){let B=R[C];return typeof B>"u"&&T&&(B=am(x,P,N)),B}function M(R=y){const B=am(v,T,()=>new WeakMap);return am(B,R,()=>{const H={};for(const[Y,K]of Object.entries(a.selectors??{}))H[Y]=lQ(K,R,()=>am(x,R,N),T);return H})}return{reducerPath:C,getSelectors:M,get selectors(){return M(P)},selectSlice:P}}const E={name:s,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:N,...O(l),injectInto(C,{reducerPath:T,...P}={}){const M=T??l;return C.inject({reducerPath:M,reducer:_},P),{...E,...O(M,!0)}}};return E}}function lQ(e,t,r,n){function a(s,...l){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...l)}return a.unwrapped=e,a}var Sn=oQ();function cQ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function uQ({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!fQ(n))throw new Error(In(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?sa(e,l):sa(e))}function dQ(e){return e._reducerDefinitionType==="asyncThunk"}function fQ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function hQ({type:e,reducerName:t},r,n,a){if(!a)throw new Error(In(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:f,settled:h,options:p}=r,g=a(e,s,p);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),u&&n.addCase(g.pending,u),f&&n.addCase(g.rejected,f),h&&n.addMatcher(g.settled,h),n.exposeCaseReducer(t,{fulfilled:l||im,pending:u||im,rejected:f||im,settled:h||im})}function im(){}var mQ="task",GM="listener",YM="completed",_1="cancelled",pQ=`task-${_1}`,gQ=`task-${YM}`,Qx=`${GM}-${_1}`,yQ=`${GM}-${YM}`,sg=class{constructor(e){Zv(this,"name","TaskAbortError");Zv(this,"message");this.code=e,this.message=`${mQ} ${_1} (reason: ${e})`}},N1=(e,t)=>{if(typeof e!="function")throw new TypeError(In(32))},Vm=()=>{},WM=(e,t=Vm)=>(e.catch(t),e),XM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),$o=e=>{if(e.aborted)throw new sg(e.reason)};function JM(e,t){let r=Vm;return new Promise((n,a)=>{const s=()=>a(new sg(e.reason));if(e.aborted){s();return}r=XM(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Vm})}var vQ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof sg?"cancelled":"rejected",error:r}}finally{t==null||t()}},Gm=e=>t=>WM(JM(e,t).then(r=>($o(e),r))),ZM=e=>{const t=Gm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:dc}=Object,EC={},og="listenerMiddleware",bQ=(e,t)=>{const r=n=>XM(e,()=>n.abort(e.reason));return(n,a)=>{N1(n);const s=new AbortController;r(s);const l=vQ(async()=>{$o(e),$o(s.signal);const u=await n({pause:Gm(s.signal),delay:ZM(s.signal),signal:s.signal});return $o(s.signal),u},()=>s.abort(gQ));return a!=null&&a.autoJoin&&t.push(l.catch(Vm)),{result:Gm(e)(l),cancel(){s.abort(pQ)}}}},xQ=(e,t)=>{const r=async(n,a)=>{$o(t);let s=()=>{};const u=[new Promise((f,h)=>{let p=e({predicate:n,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&u.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await JM(t,Promise.race(u));return $o(t),f}finally{s()}};return(n,a)=>WM(r(n,a))},eR=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=sa(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(In(21));return N1(s),{predicate:a,type:t,effect:s}},tR=dc(e=>{const{type:t,predicate:r,effect:n}=eR(e);return{id:aQ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(In(22))}}},{withTypes:()=>tR}),AC=(e,t)=>{const{type:r,effect:n,predicate:a}=eR(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},Hx=e=>{e.pending.forEach(t=>{t.abort(Qx)})},wQ=(e,t)=>()=>{for(const r of t.keys())Hx(r);e.clear()},CC=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},rR=dc(sa(`${og}/add`),{withTypes:()=>rR}),jQ=sa(`${og}/removeAll`),nR=dc(sa(`${og}/remove`),{withTypes:()=>nR}),SQ=(...e)=>{console.error(`${og}/error`,...e)},cf=(e={})=>{const t=new Map,r=new Map,n=v=>{const x=r.get(v)??0;r.set(v,x+1)},a=v=>{const x=r.get(v)??1;x===1?r.delete(v):r.set(v,x-1)},{extra:s,onError:l=SQ}=e;N1(l);const u=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),x=>{v.unsubscribe(),x!=null&&x.cancelActive&&Hx(v)}),f=v=>{const x=AC(t,v)??tR(v);return u(x)};dc(f,{withTypes:()=>f});const h=v=>{const x=AC(t,v);return x&&(x.unsubscribe(),v.cancelActive&&Hx(x)),!!x};dc(h,{withTypes:()=>h});const p=async(v,x,w,_)=>{const N=new AbortController,O=xQ(f,N.signal),E=[];try{v.pending.add(N),n(v),await Promise.resolve(v.effect(x,dc({},w,{getOriginalState:_,condition:(C,T)=>O(C,T).then(Boolean),take:O,delay:ZM(N.signal),pause:Gm(N.signal),extra:s,signal:N.signal,fork:bQ(N.signal,E),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((C,T,P)=>{C!==N&&(C.abort(Qx),P.delete(C))})},cancel:()=>{N.abort(Qx),v.pending.delete(N)},throwIfCancelled:()=>{$o(N.signal)}})))}catch(C){C instanceof sg||CC(l,C,{raisedBy:"effect"})}finally{await Promise.all(E),N.abort(yQ),a(v),v.pending.delete(N)}},g=wQ(t,r);return{middleware:v=>x=>w=>{if(!TM(w))return x(w);if(rR.match(w))return f(w.payload);if(jQ.match(w)){g();return}if(nR.match(w))return h(w.payload);let _=v.getState();const N=()=>{if(_===EC)throw new Error(In(23));return _};let O;try{if(O=x(w),t.size>0){const E=v.getState(),C=Array.from(t.values());for(const T of C){let P=!1;try{P=T.predicate(w,E,_)}catch(M){P=!1,CC(l,M,{raisedBy:"predicate"})}P&&p(T,w,v,N)}}}finally{_=EC}return O},startListening:f,stopListening:h,clearListeners:g}};function In(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _Q={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},aR=Sn({name:"chartLayout",initialState:_Q,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:NQ,setLayout:OQ,setChartSize:EQ,setScale:AQ}=aR.actions,CQ=aR.reducer;function iR(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function lt(e){return Number.isFinite(e)}function Fa(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){kQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kQ(e,t,r){return(t=PQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PQ(e){var t=TQ(e,"string");return typeof t=="symbol"?t:t+""}function TQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tt(e,t,r){return Wt(e)||Wt(t)?r:qa(t)?Ho(e,t,r):typeof t=="function"?t(e):r}var DQ=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Ne(e[s]))return lc(lc({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Ne(e[l]))return lc(lc({},e),{},{[l]:e[l]+(a||0)})}return e},$i=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",sR=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var a,s,l=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===r&&(s=!0),u.coordinate));return a||l.push(t),s||l.push(r),l},oR=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:y,axisType:v}=e;if(!l)return null;var x=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=a==="category"&&l.bandwidth?l.bandwidth()/x:0;if(w=v==="angleAxis"&&s&&s.length>=2?Tr(s[0]-s[1])*2*w:w,g||y){var _=(g||y||[]).map((N,O)=>{var E=n?n.indexOf(N):N,C=l.map(E);return lt(C)?{coordinate:C+w,value:N,offset:w,index:O}:null}).filter(wn);return _}return f&&h?h.map((N,O)=>{var E=l.map(N);return lt(E)?{coordinate:E+w,value:N,index:O,offset:w}:null}).filter(wn):l.ticks&&p!=null?l.ticks(p).map((N,O)=>{var E=l.map(N);return lt(E)?{coordinate:E+w,value:N,index:O,offset:w}:null}).filter(wn):l.domain().map((N,O)=>{var E=l.map(N);return lt(E)?{coordinate:E+w,value:n?n[N]:N,index:O,offset:w}:null}).filter(wn)},MQ=(e,t)=>{if(!t||t.length!==2||!Ne(t[0])||!Ne(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Ne(e[0])||e[0]<r)&&(a[0]=r),(!Ne(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},RQ=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0,u=0;u<r;++u){var f=e[u],h=f==null?void 0:f[a];if(h!=null){var p=h[1],g=h[0],y=za(p)?g:p;y>=0?(h[0]=s,s+=y,h[1]=s):(h[0]=l,l+=y,h[1]=l)}}}},IQ=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0;l<r;++l){var u=e[l],f=u==null?void 0:u[a];if(f!=null){var h=za(f[1])?f[0]:f[1];h>=0?(f[0]=s,s+=h,f[1]=s):(f[0]=0,f[1]=0)}}}},LQ={sign:RQ,expand:nK,none:Qo,silhouette:aK,wiggle:iK,positive:IQ},BQ=(e,t,r)=>{var n,a=(n=LQ[r])!==null&&n!==void 0?n:Qo,s=rK().keys(t).value((u,f)=>Number(Tt(u,f,0))).order(Rx).offset(a),l=s(e);return l.forEach((u,f)=>{u.forEach((h,p)=>{var g=Tt(e[p],t[f],0);Array.isArray(g)&&g.length===2&&Ne(g[0])&&Ne(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function $Q(e){return e==null?void 0:String(e)}function PC(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Wt(a[t.dataKey])){var u=hM(r,"value",a[t.dataKey]);if(u)return u.coordinate+n/2}return r!=null&&r[s]?r[s].coordinate+n/2:null}var f=Tt(a,Wt(l)?t.dataKey:l),h=t.scale.map(f);return Ne(h)?h:null}var TC=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var u=Tt(s,t.dataKey,t.scale.domain()[l]);if(Wt(u))return null;var f=t.scale.map(u);return Ne(f)?f-a/2+n:null},UQ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},zQ=e=>{var t=e.flat(2).filter(Ne);return[Math.min(...t),Math.max(...t)]},qQ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],FQ=(e,t,r)=>{if(e!=null)return qQ(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:l}=s,u=l.reduce((f,h)=>{var p=iR(h,t,r),g=zQ(p);return!lt(g[0])||!lt(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},DC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Jp(t,p=>p.coordinate),s=1/0,l=1,u=a.length;l<u;l++){var f=a[l],h=a[l-1];s=Math.min(((f==null?void 0:f.coordinate)||0)-((h==null?void 0:h.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function RC(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return lc(lc({},t),{},{dataKey:r,payload:n,value:a,name:s})}function Hc(e,t){if(e)return String(e);if(typeof t=="string")return t}var KQ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},QQ=(e,t)=>t==="centric"?e.angle:e.radius,Ui=e=>e.layout.width,zi=e=>e.layout.height,HQ=e=>e.layout.scale,lR=e=>e.layout.margin,lg=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),cg=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),cR="data-recharts-item-index",uR="data-recharts-item-id",uf=60;function IC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(r),!0).forEach(function(n){VQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VQ(e,t,r){return(t=GQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e){var t=YQ(e,"string");return typeof t=="symbol"?t:t+""}function YQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WQ=e=>e.brush.height;function XQ(e){var t=cg(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:uf;return r+a}return r},0)}function JQ(e){var t=cg(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:uf;return r+a}return r},0)}function ZQ(e){var t=lg(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function eH(e){var t=lg(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Sr=W([Ui,zi,lR,WQ,XQ,JQ,ZQ,eH,AM,O7],(e,t,r,n,a,s,l,u,f,h)=>{var p={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+u},y=sm(sm({},g),p),v=y.bottom;y.bottom+=n,y=DQ(y,f,h);var x=e-y.left-y.right,w=t-y.top-y.bottom;return sm(sm({brushBottom:v},y),{},{width:Math.max(x,0),height:Math.max(w,0)})}),tH=W(Sr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),O1=W(Ui,zi,(e,t)=>({x:0,y:0,width:e,height:t})),rH=j.createContext(null),en=()=>j.useContext(rH)!=null,ug=e=>e.brush,dg=W([ug,Sr,lR],(e,t,r)=>({height:e.height,x:Ne(e.x)?e.x:t.left,y:Ne(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Ne(e.width)?e.width:t.width})),yb={},vb={},bb={},LC;function nH(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,u=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},g=()=>{h&&p(),w()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},n)},x=()=>{y!==null&&(clearTimeout(y),y=null)},w=()=>{x(),l=void 0,u=null},_=()=>{p()},N=function(...O){if(a!=null&&a.aborted)return;l=this,u=O;const E=y==null;v(),f&&E&&p()};return N.schedule=v,N.cancel=w,N.flush=_,a==null||a.addEventListener("abort",w,{once:!0}),N}e.debounce=t})(bb)),bb}var BC;function aH(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nH();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const y=t.debounce(function(...w){p=n.apply(this,w),g=null},a,{edges:h}),v=function(...w){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=n.apply(this,w),g=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,w),p)},x=()=>(y.flush(),p);return v.cancel=y.cancel,v.flush=x,v}e.debounce=r})(vb)),vb}var $C;function iH(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aH();function r(n,a=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return t.debounce(n,a,{leading:l,maxWait:a,trailing:u})}e.throttle=r})(yb)),yb}var xb,UC;function sH(){return UC||(UC=1,xb=iH().throttle),xb}var oH=sH();const lH=Qa(oH);var Ym=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},Ba={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},dR=(e,t,r)=>{var{width:n=Ba.width,height:a=Ba.height,aspect:s,maxHeight:l}=r,u=Vo(n)?e:Number(n),f=Vo(a)?t:Number(a);return s&&s>0&&(u?f=u/s:f&&(u=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},cH={width:0,height:0,overflow:"visible"},uH={width:0,overflowX:"visible"},dH={height:0,overflowY:"visible"},fH={},hH=e=>{var{width:t,height:r}=e,n=Vo(t),a=Vo(r);return n&&a?cH:n?uH:a?dH:fH};function mH(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a=Ba.width,s=Ba.height):a===void 0?a=n&&n>0?void 0:Ba.width:s===void 0&&(s=n&&n>0?void 0:Ba.height),{width:a,height:s}}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vx.apply(null,arguments)}function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(n){pH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pH(e,t,r){return(t=gH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=yH(e,"string");return typeof t=="symbol"?t:t+""}function yH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fR=j.createContext(Ba.initialDimension);function vH(e){return Fa(e.width)&&Fa(e.height)}function hR(e){var{children:t,width:r,height:n}=e,a=j.useMemo(()=>({width:r,height:n}),[r,n]);return vH(a)?j.createElement(fR.Provider,{value:a},t):null}var E1=()=>j.useContext(fR),bH=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Ba.initialDimension,width:a,height:s,minWidth:l=Ba.minWidth,minHeight:u,maxHeight:f,children:h,debounce:p=Ba.debounce,id:g,className:y,onResize:v,style:x={}}=e,w=j.useRef(null),_=j.useRef();_.current=v,j.useImperativeHandle(t,()=>w.current);var[N,O]=j.useState({containerWidth:n.width,containerHeight:n.height}),E=j.useCallback((R,B)=>{O(H=>{var Y=Math.round(R),K=Math.round(B);return H.containerWidth===Y&&H.containerHeight===K?H:{containerWidth:Y,containerHeight:K}})},[]);j.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return tl;var R=K=>{var me,ie=K[0];if(ie!=null){var{width:ye,height:L}=ie.contentRect;E(ye,L),(me=_.current)===null||me===void 0||me.call(_,ye,L)}};p>0&&(R=lH(R,p,{trailing:!0,leading:!1}));var B=new ResizeObserver(R),{width:H,height:Y}=w.current.getBoundingClientRect();return E(H,Y),B.observe(w.current),()=>{B.disconnect()}},[E,p]);var{containerWidth:C,containerHeight:T}=N;Ym(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:M}=dR(C,T,{width:a,height:s,aspect:r,maxHeight:f});return Ym(P!=null&&P>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,M,a,s,l,u,r),j.createElement("div",{id:g?"".concat(g):void 0,className:ft("recharts-responsive-container",y),style:qC(qC({},x),{},{width:a,height:s,minWidth:l,minHeight:u,maxHeight:f}),ref:w},j.createElement("div",{style:hH({width:a,height:s})},j.createElement(hR,{width:P,height:M},h)))}),fc=j.forwardRef((e,t)=>{var r=E1();if(Fa(r.width)&&Fa(r.height))return e.children;var{width:n,height:a}=mH({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=dR(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Ne(s)&&Ne(l)?j.createElement(hR,{width:s,height:l},e.children):j.createElement(bH,Vx({},e,{width:n,height:a,ref:t}))});function A1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var fg=()=>{var e,t=en(),r=Ae(tH),n=Ae(dg),a=(e=Ae(ug))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},xH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},mR=()=>{var e;return(e=Ae(Sr))!==null&&e!==void 0?e:xH},C1=()=>Ae(Ui),k1=()=>Ae(zi),wH=()=>Ae(e=>e.layout.margin),mt=e=>e.layout.layoutType,rl=()=>Ae(mt),pR=()=>{var e=rl();if(e==="horizontal"||e==="vertical")return e},gR=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},jH=()=>{var e=rl();return e!==void 0},df=e=>{var t=Bt(),r=en(),{width:n,height:a}=e,s=E1(),l=n,u=a;return s&&(l=s.width>0?s.width:n,u=s.height>0?s.height:a),j.useEffect(()=>{!r&&Fa(l)&&Fa(u)&&t(EQ({width:l,height:u}))},[t,r,l,u]),null},yR=Symbol.for("immer-nothing"),FC=Symbol.for("immer-draftable"),Bn=Symbol.for("immer-state");function ba(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cd=Object.getPrototypeOf;function Dc(e){return!!e&&!!e[Bn]}function Yo(e){var t;return e?vR(e)||Array.isArray(e)||!!e[FC]||!!((t=e.constructor)!=null&&t[FC])||ff(e)||mg(e):!1}var SH=Object.prototype.constructor.toString(),KC=new WeakMap;function vR(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=KC.get(r);return n===void 0&&(n=Function.toString.call(r),KC.set(r,n)),n===SH}function Wm(e,t,r=!0){hg(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function hg(e){const t=e[Bn];return t?t.type_:Array.isArray(e)?1:ff(e)?2:mg(e)?3:0}function Gx(e,t){return hg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bR(e,t,r){const n=hg(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function _H(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ff(e){return e instanceof Map}function mg(e){return e instanceof Set}function bo(e){return e.copy_||e.base_}function Yx(e,t){if(ff(e))return new Map(e);if(mg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=vR(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Bn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Cd(e),n)}else{const n=Cd(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function P1(e,t=!1){return pg(e)||Dc(e)||!Yo(e)||(hg(e)>1&&Object.defineProperties(e,{set:om,add:om,clear:om,delete:om}),Object.freeze(e),t&&Object.values(e).forEach(r=>P1(r,!0))),e}function NH(){ba(2)}var om={value:NH};function pg(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var OH={};function Wo(e){const t=OH[e];return t||ba(0,e),t}var kd;function xR(){return kd}function EH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function QC(e,t){t&&(Wo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Wx(e){Xx(e),e.drafts_.forEach(AH),e.drafts_=null}function Xx(e){e===kd&&(kd=e.parent_)}function HC(e){return kd=EH(kd,e)}function AH(e){const t=e[Bn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function VC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Bn].modified_&&(Wx(t),ba(4)),Yo(e)&&(e=Xm(t,e),t.parent_||Jm(t,e)),t.patches_&&Wo("Patches").generateReplacementPatches_(r[Bn].base_,e,t.patches_,t.inversePatches_)):e=Xm(t,r,[]),Wx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==yR?e:void 0}function Xm(e,t,r){if(pg(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Bn];if(!a)return Wm(t,(s,l)=>GC(e,a,t,s,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Jm(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,u=!1;a.type_===3&&(l=new Set(s),s.clear(),u=!0),Wm(l,(f,h)=>GC(e,a,s,f,h,r,u),n),Jm(e,s,!1),r&&e.patches_&&Wo("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function GC(e,t,r,n,a,s,l){if(a==null||typeof a!="object"&&!l)return;const u=pg(a);if(!(u&&!l)){if(Dc(a)){const f=s&&t&&t.type_!==3&&!Gx(t.assigned_,n)?s.concat(n):void 0,h=Xm(e,a,f);if(bR(r,n,h),Dc(h))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Yo(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;Xm(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(ff(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Jm(e,a)}}}function Jm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&P1(t,r)}function CH(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:xR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=T1;r&&(a=[n],s=Pd);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,u}var T1={get(e,t){if(t===Bn)return e;const r=bo(e);if(!Gx(r,t))return kH(e,r,t);const n=r[t];return e.finalized_||!Yo(n)?n:n===wb(e.base_,t)?(jb(e),e.copy_[t]=Zx(n,e)):n},has(e,t){return t in bo(e)},ownKeys(e){return Reflect.ownKeys(bo(e))},set(e,t,r){const n=wR(bo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=wb(bo(e),t),s=a==null?void 0:a[Bn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(_H(r,a)&&(r!==void 0||Gx(e.base_,t)))return!0;jb(e),Jx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return wb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,jb(e),Jx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=bo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ba(11)},getPrototypeOf(e){return Cd(e.base_)},setPrototypeOf(){ba(12)}},Pd={};Wm(T1,(e,t)=>{Pd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Pd.deleteProperty=function(e,t){return Pd.set.call(this,e,t,void 0)};Pd.set=function(e,t,r){return T1.set.call(this,e[0],t,r,e[0])};function wb(e,t){const r=e[Bn];return(r?bo(r):e)[t]}function kH(e,t,r){var a;const n=wR(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function wR(e,t){if(!(t in e))return;let r=Cd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Cd(r)}}function Jx(e){e.modified_||(e.modified_=!0,e.parent_&&Jx(e.parent_))}function jb(e){e.copy_||(e.copy_=Yx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var PH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(f=s,...h){return l.produce(f,p=>r.call(this,p,...h))}}typeof r!="function"&&ba(6),n!==void 0&&typeof n!="function"&&ba(7);let a;if(Yo(t)){const s=HC(this),l=Zx(t,void 0);let u=!0;try{a=r(l),u=!1}finally{u?Wx(s):Xx(s)}return QC(s,n),VC(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===yR&&(a=void 0),this.autoFreeze_&&P1(a,!0),n){const s=[],l=[];Wo("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else ba(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,f=>t(f,...u));let n,a;return[this.produce(t,r,(l,u)=>{n=l,a=u}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Yo(e)||ba(8),Dc(e)&&(e=TH(e));const t=HC(this),r=Zx(e,void 0);return r[Bn].isManual_=!0,Xx(t),r}finishDraft(e,t){const r=e&&e[Bn];(!r||!r.isManual_)&&ba(9);const{scope_:n}=r;return QC(n,t),VC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Wo("Patches").applyPatches_;return Dc(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Zx(e,t){const r=ff(e)?Wo("MapSet").proxyMap_(e,t):mg(e)?Wo("MapSet").proxySet_(e,t):CH(e,t);return(t?t.scope_:xR()).drafts_.push(r),r}function TH(e){return Dc(e)||ba(10,e),jR(e)}function jR(e){if(!Yo(e)||pg(e))return e;const t=e[Bn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Yx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Yx(e,!0);return Wm(r,(a,s)=>{bR(r,a,jR(s))},n),t&&(t.finalized_=!1),r}var DH=new PH;DH.produce;var MH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},SR=Sn({name:"legend",initialState:MH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Qt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=wa(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Qt()},removeLegendPayload:{reducer(e,t){var r=wa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Qt()}}}),{setLegendSize:YC,setLegendSettings:RH,addLegendPayload:_R,replaceLegendPayload:NR,removeLegendPayload:OR}=SR.actions,IH=SR.reducer,LH=["contextPayload"];function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ew.apply(null,arguments)}function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){BH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BH(e,t,r){return(t=$H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=UH(e,"string");return typeof t=="symbol"?t:t+""}function UH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zH(e,t){if(e==null)return{};var r,n,a=qH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FH(e){return e.value}function KH(e){var{contextPayload:t}=e,r=zH(e,LH),n=_M(t,e.payloadUniqBy,FH),a=Mc(Mc({},r),{},{payload:n});return j.isValidElement(e.content)?j.cloneElement(e.content,a):typeof e.content=="function"?j.createElement(e.content,a):j.createElement(MK,a)}function QH(e,t,r,n,a,s){var{layout:l,align:u,verticalAlign:f}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?h={left:((n||0)-s.width)/2}:h=u==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?p={top:((a||0)-s.height)/2}:p=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Mc(Mc({},h),p)}function HH(e){var t=Bt();return j.useEffect(()=>{t(RH(e))},[t,e]),null}function VH(e){var t=Bt();return j.useEffect(()=>(t(YC(e)),()=>{t(YC({width:0,height:0}))}),[t,e]),null}function GH(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var YH={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Td(e){var t=yr(e,YH),r=C7(),n=OF(),a=wH(),{width:s,height:l,wrapperStyle:u,portal:f}=t,[h,p]=CM([r]),g=C1(),y=k1();if(g==null||y==null)return null;var v=g-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),x=GH(t.layout,l,s,v),w=f?u:Mc(Mc({position:"absolute",width:(x==null?void 0:x.width)||s||"auto",height:(x==null?void 0:x.height)||l||"auto"},QH(u,t,a,g,y,h)),u),_=f??n;if(_==null||r==null)return null;var N=j.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:p},j.createElement(HH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&j.createElement(VH,{width:h.width,height:h.height}),j.createElement(KH,ew({},t,x,{margin:a,chartWidth:g,chartHeight:y,contextPayload:r})));return Tp.createPortal(N,_)}Td.displayName="Legend";function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tw.apply(null,arguments)}function XC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ju(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(r),!0).forEach(function(n){WH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WH(e,t,r){return(t=XH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XH(e){var t=JH(e,"string");return typeof t=="symbol"?t:t+""}function JH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZH(e){return Array.isArray(e)&&qa(e[0])&&qa(e[1])?e.join(" ~ "):e}var Zl={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},eV=e=>{var{separator:t=Zl.separator,contentStyle:r,itemStyle:n,labelStyle:a=Zl.labelStyle,payload:s,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:y=Zl.accessibilityLayer}=e,v=()=>{if(s&&s.length){var T={padding:0,margin:0},P=(u?Jp(s,u):s).map((M,R)=>{if(M.type==="none")return null;var B=M.formatter||l||ZH,{value:H,name:Y}=M,K=H,me=Y;if(B){var ie=B(H,Y,M,R,s);if(Array.isArray(ie))[K,me]=ie;else if(ie!=null)K=ie;else return null}var ye=Ju(Ju({},Zl.itemStyle),{},{color:M.color||Zl.itemStyle.color},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:ye},qa(me)?j.createElement("span",{className:"recharts-tooltip-item-name"},me):null,qa(me)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},K),j.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:T},P)}return null},x=Ju(Ju({},Zl.contentStyle),r),w=Ju({margin:0},a),_=!Wt(p),N=_?p:"",O=ft("recharts-default-tooltip",f),E=ft("recharts-tooltip-label",h);_&&g&&s!==void 0&&s!==null&&(N=g(p,s));var C=y?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",tw({className:O,style:x},C),j.createElement("p",{className:E,style:w},j.isValidElement(N)?N:"".concat(N)),v())},Zu="recharts-tooltip-wrapper",tV={visibility:"hidden"};function rV(e){var{coordinate:t,translateX:r,translateY:n}=e;return ft(Zu,{["".concat(Zu,"-right")]:Ne(r)&&t&&Ne(t.x)&&r>=t.x,["".concat(Zu,"-left")]:Ne(r)&&t&&Ne(t.x)&&r<t.x,["".concat(Zu,"-bottom")]:Ne(n)&&t&&Ne(t.y)&&n>=t.y,["".concat(Zu,"-top")]:Ne(n)&&t&&Ne(t.y)&&n<t.y})}function JC(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:s,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=e;if(s&&Ne(s[n]))return s[n];var p=r[n]-u-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?p:g;var y=f[n];if(y==null)return 0;if(l[n]){var v=p,x=y;return v<x?Math.max(g,y):Math.max(p,y)}if(h==null)return 0;var w=g+u,_=y+h;return w>_?Math.max(p,y):Math.max(g,y)}function nV(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function aV(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:s,reverseDirection:l,tooltipBox:u,useTranslate3d:f,viewBox:h}=e,p,g,y;return u.height>0&&u.width>0&&r?(g=JC({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:s,reverseDirection:l,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),y=JC({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:s,reverseDirection:l,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),p=nV({translateX:g,translateY:y,useTranslate3d:f})):p=tV,{cssProperties:p,cssClasses:rV({translateX:g,translateY:y,coordinate:r})}}function ZC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(r),!0).forEach(function(n){rw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rw(e,t,r){return(t=iV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=sV(e,"string");return typeof t=="symbol"?t:t+""}function sV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class oV extends j.PureComponent{constructor(){super(...arguments),rw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),rw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:u,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:y,viewBox:v,wrapperStyle:x,lastBoundingBox:w,innerRef:_,hasPortalFromProps:N}=this.props,O=typeof h=="number"?h:h.x,E=typeof h=="number"?h:h.y,{cssClasses:C,cssProperties:T}=aV({allowEscapeViewBox:r,coordinate:l,offsetLeft:O,offsetTop:E,position:p,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:y,viewBox:v}),P=N?{}:lm(lm({transition:f&&t?"transform ".concat(n,"ms ").concat(a):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=lm(lm({},P),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},x);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:M,ref:_},s)}}var ER=()=>{var e;return(e=Ae(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(null,arguments)}function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){lV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lV(e,t,r){return(t=cV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cV(e){var t=uV(e,"string");return typeof t=="symbol"?t:t+""}function uV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r2={curveBasisClosed:QF,curveBasisOpen:HF,curveBasis:KF,curveBumpX:kF,curveBumpY:PF,curveLinearClosed:VF,curveLinear:Wp,curveMonotoneX:GF,curveMonotoneY:YF,curveNatural:WF,curveStep:XF,curveStepAfter:ZF,curveStepBefore:JF},Zm=e=>lt(e.x)&&lt(e.y),n2=e=>e.base!=null&&Zm(e.base)&&Zm(e),ed=e=>e.x,td=e=>e.y,dV=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(sf(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=r2["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return r2[r]||Wp},a2={connectNulls:!1,type:"linear"},fV=e=>{var{type:t=a2.type,points:r=[],baseLine:n,layout:a,connectNulls:s=a2.connectNulls}=e,l=dV(t,a),u=s?r.filter(Zm):r;if(Array.isArray(n)){var f,h=r.map((x,w)=>t2(t2({},x),{},{base:n[w]}));a==="vertical"?f=em().y(td).x1(ed).x0(x=>x.base.x):f=em().x(ed).y1(td).y0(x=>x.base.y);var p=f.defined(n2).curve(l),g=s?h.filter(n2):h;return p(g)}var y;a==="vertical"&&Ne(n)?y=em().y(td).x1(ed).x0(n):Ne(n)?y=em().x(ed).y1(td).y0(n):y=eM().x(ed).y(td);var v=y.defined(Zm).curve(l);return v(u)},D1=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=rl();if((!r||!r.length)&&!n)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},u=r&&r.length?fV(l):n;return j.createElement("path",nw({},Ln(e),g1(e),{className:ft("recharts-curve",t),d:u===null?void 0:u,ref:a}))},hV=["x","y","top","left","width","height","className"];function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(null,arguments)}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){pV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pV(e,t,r){return(t=gV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gV(e){var t=yV(e,"string");return typeof t=="symbol"?t:t+""}function yV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vV(e,t){if(e==null)return{};var r,n,a=bV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xV=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),wV=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:u}=e,f=vV(e,hV),h=mV({x:t,y:r,top:n,left:a,width:s,height:l},f);return!Ne(t)||!Ne(r)||!Ne(s)||!Ne(l)||!Ne(n)||!Ne(a)?null:j.createElement("path",aw({},cn(h),{className:ft("recharts-cross",u),d:xV(t,r,s,l,n,a)}))};function jV(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){SV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SV(e,t,r){return(t=_V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _V(e){var t=NV(e,"string");return typeof t=="symbol"?t:t+""}function NV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OV=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),AR=(e,t,r)=>e.map(n=>"".concat(OV(n)," ").concat(t,"ms ").concat(r)).join(","),EV=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Dd=(e,t)=>Object.keys(t).reduce((r,n)=>o2(o2({},r),{},{[n]:e(n,t[n])}),{});function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){AV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AV(e,t,r){return(t=CV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CV(e){var t=kV(e,"string");return typeof t=="symbol"?t:t+""}function kV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ep=(e,t,r)=>e+(t-e)*r,iw=e=>{var{from:t,to:r}=e;return t!==r},CR=(e,t,r)=>{var n=Dd((a,s)=>{if(iw(s)){var[l,u]=e(s.from,s.to,s.velocity);return wr(wr({},s),{},{from:l,velocity:u})}return s},t);return r<1?Dd((a,s)=>iw(s)&&n[a]!=null?wr(wr({},s),{},{velocity:ep(s.velocity,n[a].velocity,r),from:ep(s.from,n[a].from,r)}):s,t):CR(e,n,r-1)};function PV(e,t,r,n,a,s){var l,u=n.reduce((y,v)=>wr(wr({},y),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),f=()=>Dd((y,v)=>v.from,u),h=()=>!Object.values(u).filter(iw).length,p=null,g=y=>{l||(l=y);var v=y-l,x=v/r.dt;u=CR(r,u,x),a(wr(wr(wr({},e),t),f())),l=y,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var y;(y=p)===null||y===void 0||y()})}function TV(e,t,r,n,a,s,l){var u=null,f=a.reduce((g,y)=>{var v=e[y],x=t[y];return v==null||x==null?g:wr(wr({},g),{},{[y]:[v,x]})},{}),h,p=g=>{h||(h=g);var y=(g-h)/n,v=Dd((w,_)=>ep(..._,r(y)),f);if(s(wr(wr(wr({},e),t),v)),y<1)u=l.setTimeout(p);else{var x=Dd((w,_)=>ep(..._,r(1)),f);s(wr(wr(wr({},e),t),x))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const DV=(e,t,r,n,a,s)=>{var l=EV(e,t);return r==null?()=>(a(wr(wr({},e),t)),()=>{}):r.isStepper===!0?PV(e,t,r,l,a,s):TV(e,t,r,n,l,a,s)};var tp=1e-4,kR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],PR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),c2=(e,t)=>r=>{var n=kR(e,t);return PR(n,r)},MV=(e,t)=>r=>{var n=kR(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return PR(a,r)},RV=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},IV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=RV(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},LV=(e,t,r,n)=>{var a=c2(e,r),s=c2(t,n),l=MV(e,r),u=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,y=0;y<8;++y){var v=a(g)-p,x=l(g);if(Math.abs(v-p)<tp||x<tp)return s(g);g=u(g-v/x)}return s(g)};return f.isStepper=!1,f},u2=function(){return LV(...IV(...arguments))},BV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,u,f)=>{var h=-(l-u)*r,p=f*n,g=f+(h-p)*a/1e3,y=f*a/1e3+l;return Math.abs(y-u)<tp&&Math.abs(g)<tp?[u,0]:[y,g]};return s.isStepper=!0,s.dt=a,s},$V=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u2(e);case"spring":return BV();default:if(e.split("(")[0]==="cubic-bezier")return u2(e)}return typeof e=="function"?e:null};function UV(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...h]=u;if(typeof f=="number"){a=e.setTimeout(s.bind(null,h),f);return}s(f),a=e.setTimeout(s.bind(null,h));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class zV{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function qV(){return UV(new zV)}var FV=j.createContext(qV);function KV(e,t){var r=j.useContext(FV);return j.useMemo(()=>t??r(e),[e,t,r])}var QV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),gg={isSsr:QV()},HV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},d2={t:0},Sb={t:1};function hf(e){var t=yr(e,HV),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:f,children:h}=t,p=r==="auto"?!gg.isSsr:r,g=KV(t.animationId,t.animationManager),[y,v]=j.useState(p?d2:Sb),x=j.useRef(null);return j.useEffect(()=>{p||v(Sb)},[p]),j.useEffect(()=>{if(!p||!n)return tl;var w=DV(d2,Sb,$V(s),a,v,g.getTimeoutController()),_=()=>{x.current=w()};return g.start([f,l,_,a,u]),()=>{g.stop(),x.current&&x.current(),u()}},[p,n,a,s,l,f,u,g]),h(y.t)}function mf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(Nd(t)),n=j.useRef(e);return n.current!==e&&(r.current=Nd(t),n.current=e),r.current}var VV=["radius"],GV=["radius"],f2,h2,m2,p2,g2,y2,v2,b2,x2,w2;function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){YV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YV(e,t,r){return(t=WV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WV(e){var t=XV(e,"string");return typeof t=="symbol"?t:t+""}function XV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rp.apply(null,arguments)}function _2(e,t){if(e==null)return{};var r,n,a=JV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ka(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var N2=(e,t,r,n,a)=>{var s=Ms(r),l=Ms(n),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(u>0&&Array.isArray(a)){for(var y=[0,0,0,0],v=0,x=4;v<x;v++){var w,_=(w=a[v])!==null&&w!==void 0?w:0;y[v]=_>u?u:_}g=nr(f2||(f2=ka(["M",",",""])),e,t+f*y[0]),y[0]>0&&(g+=nr(h2||(h2=ka(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,e+h*y[0],t)),g+=nr(m2||(m2=ka(["L ",",",""])),e+r-h*y[1],t),y[1]>0&&(g+=nr(p2||(p2=ka(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,e+r,t+f*y[1])),g+=nr(g2||(g2=ka(["L ",",",""])),e+r,t+n-f*y[2]),y[2]>0&&(g+=nr(y2||(y2=ka(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,e+r-h*y[2],t+n)),g+=nr(v2||(v2=ka(["L ",",",""])),e+h*y[3],t+n),y[3]>0&&(g+=nr(b2||(b2=ka(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,e,t+n-f*y[3])),g+="Z"}else if(u>0&&a===+a&&a>0){var N=Math.min(u,a);g=nr(x2||(x2=ka(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*N,N,N,p,e+h*N,t,e+r-h*N,t,N,N,p,e+r,t+f*N,e+r,t+n-f*N,N,N,p,e+r-h*N,t+n,e+h*N,t+n,N,N,p,e,t+n-f*N)}else g=nr(w2||(w2=ka(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return g},O2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TR=e=>{var t=yr(e,O2),r=j.useRef(null),[n,a]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&a(V)}catch{}},[]);var{x:s,y:l,width:u,height:f,radius:h,className:p}=t,{animationEasing:g,animationDuration:y,animationBegin:v,isAnimationActive:x,isUpdateAnimationActive:w}=t,_=j.useRef(u),N=j.useRef(f),O=j.useRef(s),E=j.useRef(l),C=j.useMemo(()=>({x:s,y:l,width:u,height:f,radius:h}),[s,l,u,f,h]),T=mf(C,"rectangle-");if(s!==+s||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var P=ft("recharts-rectangle",p);if(!w){var M=cn(t),{radius:R}=M,B=_2(M,VV);return j.createElement("path",rp({},B,{x:Ms(s),y:Ms(l),width:Ms(u),height:Ms(f),radius:typeof h=="number"?h:void 0,className:P,d:N2(s,l,u,f,h)}))}var H=_.current,Y=N.current,K=O.current,me=E.current,ie="0px ".concat(n===-1?1:n,"px"),ye="".concat(n,"px 0px"),L=AR(["strokeDasharray"],y,typeof g=="string"?g:O2.animationEasing);return j.createElement(hf,{animationId:T,key:T,canBegin:n>0,duration:y,easing:g,isActive:w,begin:v},V=>{var ne=Ht(H,u,V),he=Ht(Y,f,V),I=Ht(K,s,V),D=Ht(me,l,V);r.current&&(_.current=ne,N.current=he,O.current=I,E.current=D);var U;x?V>0?U={transition:L,strokeDasharray:ye}:U={strokeDasharray:ie}:U={strokeDasharray:ye};var Z=cn(t),{radius:q}=Z,ge=_2(Z,GV);return j.createElement("path",rp({},ge,{radius:typeof h=="number"?h:void 0,className:P,d:N2(I,D,ne,he,h),ref:r,style:S2(S2({},U),t.style)}))})};function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(n){ZV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZV(e,t,r){return(t=eG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eG(e){var t=tG(e,"string");return typeof t=="symbol"?t:t+""}function tG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var np=Math.PI/180,rG=e=>e*180/Math.PI,mr=(e,t,r,n)=>({x:e+Math.cos(-np*n)*r,y:t+Math.sin(-np*n)*r}),DR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},nG=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},aG=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=nG({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var u=(r-a)/l,f=Math.acos(u);return n>s&&(f=2*Math.PI-f),{radius:l,angle:rG(f),angleInRadian:f}},iG=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},sG=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},oG=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=aG({x:r,y:n},t),{innerRadius:l,outerRadius:u}=t;if(a<l||a>u||a===0)return null;var{startAngle:f,endAngle:h}=iG(t),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?A2(A2({},t),{},{radius:a,angle:sG(p,t)}):null};function MR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=mr(t,r,n,a),u=mr(t,r,n,s);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var C2,k2,P2,T2,D2,M2,R2;function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(null,arguments)}function No(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var lG=(e,t)=>{var r=Tr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},cm=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:f}=e,h=u*(l?1:-1)+n,p=Math.asin(u/h)/np,g=f?a:a+s*p,y=mr(t,r,h,g),v=mr(t,r,n,g),x=f?a-s*p:a,w=mr(t,r,h*Math.cos(p*np),x);return{center:y,circleTangency:v,lineTangency:w,theta:p}},RR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,u=lG(s,l),f=s+u,h=mr(t,r,a,s),p=mr(t,r,a,f),g=nr(C2||(C2=No(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,a,a,+(Math.abs(u)>180),+(s>f),p.x,p.y);if(n>0){var y=mr(t,r,n,s),v=mr(t,r,n,f);g+=nr(k2||(k2=No(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,n,n,+(Math.abs(u)>180),+(s<=f),y.x,y.y)}else g+=nr(P2||(P2=No(["L ",","," Z"])),t,r);return g},cG=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}=e,p=Tr(h-f),{circleTangency:g,lineTangency:y,theta:v}=cm({cx:t,cy:r,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:x,lineTangency:w,theta:_}=cm({cx:t,cy:r,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),N=u?Math.abs(f-h):Math.abs(f-h)-v-_;if(N<0)return l?nr(T2||(T2=No(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):RR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:f,endAngle:h});var O=nr(D2||(D2=No(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(p<0),g.x,g.y,a,a,+(N>180),+(p<0),x.x,x.y,s,s,+(p<0),w.x,w.y);if(n>0){var{circleTangency:E,lineTangency:C,theta:T}=cm({cx:t,cy:r,radius:n,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:P,lineTangency:M,theta:R}=cm({cx:t,cy:r,radius:n,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),B=u?Math.abs(f-h):Math.abs(f-h)-T-R;if(B<0&&s===0)return"".concat(O,"L").concat(t,",").concat(r,"Z");O+=nr(M2||(M2=No(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,s,s,+(p<0),P.x,P.y,n,n,+(B>180),+(p>0),E.x,E.y,s,s,+(p<0),C.x,C.y)}else O+=nr(R2||(R2=No(["L",",","Z"])),t,r);return O},uG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},IR=e=>{var t=yr(e,uG),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=t;if(s<a||h===p)return null;var y=ft("recharts-sector",g),v=s-a,x=Jr(l,v,0,!0),w;return x>0&&Math.abs(h-p)<360?w=cG({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(x,v/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p}):w=RR({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),j.createElement("path",sw({},cn(t),{className:y,d:w}))};function dG(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(pM(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:l,angle:u}=t,f=mr(n,a,s,u),h=mr(n,a,l,u);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return MR(t)}}var _b={},Nb={},Ob={},I2;function fG(){return I2||(I2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OM();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Ob)),Ob}var L2;function hG(){return L2||(L2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fG();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Nb)),Nb}var B2;function mG(){return B2||(B2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EM(),r=hG();function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((s-a)/(l||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=a,a+=l;return f}e.range=n})(_b)),_b}var Eb,$2;function pG(){return $2||($2=1,Eb=mG().range),Eb}var gG=pG();const LR=Qa(gG);function Is(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yG(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function M1(e){let t,r,n;e.length!==2?(t=Is,r=(u,f)=>Is(e(u),f),n=(u,f)=>e(u)-f):(t=e===Is||e===yG?e:vG,r=e,n=e);function a(u,f,h=0,p=u.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(u[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(u,f,h=0,p=u.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(u[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(u,f,h=0,p=u.length){const g=a(u,f,h,p-1);return g>h&&n(u[g-1],f)>-n(u[g],f)?g-1:g}return{left:a,center:l,right:s}}function vG(){return 0}function BR(e){return e===null?NaN:+e}function*bG(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const xG=M1(Is),pf=xG.right;M1(BR).center;class U2 extends Map{constructor(t,r=SG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(z2(this,t))}has(t){return super.has(z2(this,t))}set(t,r){return super.set(wG(this,t),r)}delete(t){return super.delete(jG(this,t))}}function z2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function wG({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function jG({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function SG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _G(e=Is){if(e===Is)return $R;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function $R(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const NG=Math.sqrt(50),OG=Math.sqrt(10),EG=Math.sqrt(2);function ap(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=NG?10:s>=OG?5:s>=EG?2:1;let u,f,h;return a<0?(h=Math.pow(10,-a)/l,u=Math.round(e*h),f=Math.round(t*h),u/h<e&&++u,f/h>t&&--f,h=-h):(h=Math.pow(10,a)*l,u=Math.round(e/h),f=Math.round(t/h),u*h<e&&++u,f*h>t&&--f),f<u&&.5<=r&&r<2?ap(e,t,r*2):[u,f,h]}function ow(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?ap(t,e,r):ap(e,t,r);if(!(s>=a))return[];const u=s-a+1,f=new Array(u);if(n)if(l<0)for(let h=0;h<u;++h)f[h]=(s-h)/-l;else for(let h=0;h<u;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<u;++h)f[h]=(a+h)/-l;else for(let h=0;h<u;++h)f[h]=(a+h)*l;return f}function lw(e,t,r){return t=+t,e=+e,r=+r,ap(e,t,r)[2]}function cw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?lw(t,e,r):lw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function q2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function F2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function UR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?$R:_G(a);n>r;){if(n-r>600){const f=n-r+1,h=t-r+1,p=Math.log(f),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),v=Math.max(r,Math.floor(t-h*g/f+y)),x=Math.min(n,Math.floor(t+(f-h)*g/f+y));UR(e,t,v,x,a)}const s=e[t];let l=r,u=n;for(rd(e,r,t),a(e[n],s)>0&&rd(e,r,n);l<u;){for(rd(e,l,u),++l,--u;a(e[l],s)<0;)++l;for(;a(e[u],s)>0;)--u}a(e[r],s)===0?rd(e,r,u):(++u,rd(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function rd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function AG(e,t,r){if(e=Float64Array.from(bG(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return F2(e);if(t>=1)return q2(e);var n,a=(n-1)*t,s=Math.floor(a),l=q2(UR(e,s).subarray(0,s+1)),u=F2(e.subarray(s+1));return l+(u-l)*(a-s)}}function CG(e,t,r=BR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return l+(u-l)*(a-s)}}function kG(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function la(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const uw=Symbol("implicit");function R1(){var e=new U2,t=[],r=[],n=uw;function a(s){let l=e.get(s);if(l===void 0){if(n!==uw)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new U2;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return R1(t,r).unknown(n)},la.apply(a,arguments),a}function I1(){var e=R1().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,u=!1,f=0,h=0,p=.5;delete e.unknown;function g(){var y=t().length,v=a<n,x=v?a:n,w=v?n:a;s=(w-x)/Math.max(1,y-f+h*2),u&&(s=Math.floor(s)),x+=(w-x-s*(y-f))*p,l=s*(1-f),u&&(x=Math.round(x),l=Math.round(l));var _=kG(y).map(function(N){return x+s*N});return r(v?_.reverse():_)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(y){return arguments.length?(u=!!y,g()):u},e.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},e.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},e.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},e.copy=function(){return I1(t(),[n,a]).round(u).paddingInner(f).paddingOuter(h).align(p)},la.apply(g(),arguments)}function zR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zR(t())},e}function PG(){return zR(I1.apply(null,arguments).paddingInner(1))}function L1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function qR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function gf(){}var Md=.7,ip=1/Md,hc="\\s*([+-]?\\d+)\\s*",Rd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TG=/^#([0-9a-f]{3,8})$/,DG=new RegExp(`^rgb\\(${hc},${hc},${hc}\\)$`),MG=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),RG=new RegExp(`^rgba\\(${hc},${hc},${hc},${Rd}\\)$`),IG=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${Rd}\\)$`),LG=new RegExp(`^hsl\\(${Rd},${Ua},${Ua}\\)$`),BG=new RegExp(`^hsla\\(${Rd},${Ua},${Ua},${Rd}\\)$`),K2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};L1(gf,Id,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Q2,formatHex:Q2,formatHex8:$G,formatHsl:UG,formatRgb:H2,toString:H2});function Q2(){return this.rgb().formatHex()}function $G(){return this.rgb().formatHex8()}function UG(){return FR(this).formatHsl()}function H2(){return this.rgb().formatRgb()}function Id(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=TG.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?V2(t):r===3?new jn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?um(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?um(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=DG.exec(e))?new jn(t[1],t[2],t[3],1):(t=MG.exec(e))?new jn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=RG.exec(e))?um(t[1],t[2],t[3],t[4]):(t=IG.exec(e))?um(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LG.exec(e))?W2(t[1],t[2]/100,t[3]/100,1):(t=BG.exec(e))?W2(t[1],t[2]/100,t[3]/100,t[4]):K2.hasOwnProperty(e)?V2(K2[e]):e==="transparent"?new jn(NaN,NaN,NaN,0):null}function V2(e){return new jn(e>>16&255,e>>8&255,e&255,1)}function um(e,t,r,n){return n<=0&&(e=t=r=NaN),new jn(e,t,r,n)}function zG(e){return e instanceof gf||(e=Id(e)),e?(e=e.rgb(),new jn(e.r,e.g,e.b,e.opacity)):new jn}function dw(e,t,r,n){return arguments.length===1?zG(e):new jn(e,t,r,n??1)}function jn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}L1(jn,dw,qR(gf,{brighter(e){return e=e==null?ip:Math.pow(ip,e),new jn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Md:Math.pow(Md,e),new jn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jn(Uo(this.r),Uo(this.g),Uo(this.b),sp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:G2,formatHex:G2,formatHex8:qG,formatRgb:Y2,toString:Y2}));function G2(){return`#${Oo(this.r)}${Oo(this.g)}${Oo(this.b)}`}function qG(){return`#${Oo(this.r)}${Oo(this.g)}${Oo(this.b)}${Oo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Y2(){const e=sp(this.opacity);return`${e===1?"rgb(":"rgba("}${Uo(this.r)}, ${Uo(this.g)}, ${Uo(this.b)}${e===1?")":`, ${e})`}`}function sp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Uo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Oo(e){return e=Uo(e),(e<16?"0":"")+e.toString(16)}function W2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xa(e,t,r,n)}function FR(e){if(e instanceof xa)return new xa(e.h,e.s,e.l,e.opacity);if(e instanceof gf||(e=Id(e)),!e)return new xa;if(e instanceof xa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,u=s-a,f=(s+a)/2;return u?(t===s?l=(r-n)/u+(r<n)*6:r===s?l=(n-t)/u+2:l=(t-r)/u+4,u/=f<.5?s+a:2-s-a,l*=60):u=f>0&&f<1?0:l,new xa(l,u,f,e.opacity)}function FG(e,t,r,n){return arguments.length===1?FR(e):new xa(e,t,r,n??1)}function xa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}L1(xa,FG,qR(gf,{brighter(e){return e=e==null?ip:Math.pow(ip,e),new xa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Md:Math.pow(Md,e),new xa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new jn(Ab(e>=240?e-240:e+120,a,n),Ab(e,a,n),Ab(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new xa(X2(this.h),dm(this.s),dm(this.l),sp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sp(this.opacity);return`${e===1?"hsl(":"hsla("}${X2(this.h)}, ${dm(this.s)*100}%, ${dm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function X2(e){return e=(e||0)%360,e<0?e+360:e}function dm(e){return Math.max(0,Math.min(1,e||0))}function Ab(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const B1=e=>()=>e;function KG(e,t){return function(r){return e+r*t}}function QG(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function HG(e){return(e=+e)==1?KR:function(t,r){return r-t?QG(t,r,e):B1(isNaN(t)?r:t)}}function KR(e,t){var r=t-e;return r?KG(e,r):B1(isNaN(e)?t:e)}const J2=(function e(t){var r=HG(t);function n(a,s){var l=r((a=dw(a)).r,(s=dw(s)).r),u=r(a.g,s.g),f=r(a.b,s.b),h=KR(a.opacity,s.opacity);return function(p){return a.r=l(p),a.g=u(p),a.b=f(p),a.opacity=h(p),a+""}}return n.gamma=e,n})(1);function VG(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function GG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function YG(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=Vc(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(u){for(l=0;l<n;++l)s[l]=a[l](u);return s}}function WG(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function op(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function XG(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Vc(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var fw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cb=new RegExp(fw.source,"g");function JG(e){return function(){return e}}function ZG(e){return function(t){return e(t)+""}}function eY(e,t){var r=fw.lastIndex=Cb.lastIndex=0,n,a,s,l=-1,u=[],f=[];for(e=e+"",t=t+"";(n=fw.exec(e))&&(a=Cb.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,f.push({i:l,x:op(n,a)})),r=Cb.lastIndex;return r<t.length&&(s=t.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?f[0]?ZG(f[0].x):JG(t):(t=f.length,function(h){for(var p=0,g;p<t;++p)u[(g=f[p]).i]=g.x(h);return u.join("")})}function Vc(e,t){var r=typeof t,n;return t==null||r==="boolean"?B1(t):(r==="number"?op:r==="string"?(n=Id(t))?(t=n,J2):eY:t instanceof Id?J2:t instanceof Date?WG:GG(t)?VG:Array.isArray(t)?YG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?XG:op)(e,t)}function $1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tY(e,t){t===void 0&&(t=e,e=Vc);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[u](l-u)}}function rY(e){return function(){return e}}function lp(e){return+e}var Z2=[0,1];function ln(e){return e}function hw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rY(isNaN(t)?NaN:.5)}function nY(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function aY(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=hw(a,n),s=r(l,s)):(n=hw(n,a),s=r(s,l)),function(u){return s(n(u))}}function iY(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=hw(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(u){var f=pf(e,u,1,n)-1;return s[f](a[f](u))}}function yf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yg(){var e=Z2,t=Z2,r=Vc,n,a,s,l=ln,u,f,h;function p(){var y=Math.min(e.length,t.length);return l!==ln&&(l=nY(e[0],e[y-1])),u=y>2?iY:aY,f=h=null,g}function g(y){return y==null||isNaN(y=+y)?s:(f||(f=u(e.map(n),t,r)))(n(l(y)))}return g.invert=function(y){return l(a((h||(h=u(t,e.map(n),op)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,lp),p()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),r=$1,p()},g.clamp=function(y){return arguments.length?(l=y?!0:ln,p()):l!==ln},g.interpolate=function(y){return arguments.length?(r=y,p()):r},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,v){return n=y,a=v,p()}}function U1(){return yg()(ln,ln)}function sY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cp(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Rc(e){return e=cp(Math.abs(e)),e?e[1]:NaN}function oY(e,t){return function(r,n){for(var a=r.length,s=[],l=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),s.push(r.substring(a-=u,a+u)),!((f+=u+1)>n));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function lY(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ld(e){if(!(t=cY.exec(e)))throw new Error("invalid format: "+e);var t;return new z1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ld.prototype=z1.prototype;function z1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}z1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uY(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var up;function dY(e,t){var r=cp(e,t);if(!r)return up=void 0,e.toPrecision(t);var n=r[0],a=r[1],s=a-(up=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+cp(e,Math.max(0,t+s-1))[0]}function ek(e,t){var r=cp(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const tk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ek(e*100,t),r:ek,s:dY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rk(e){return e}var nk=Array.prototype.map,ak=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fY(e){var t=e.grouping===void 0||e.thousands===void 0?rk:oY(nk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?rk:lY(nk.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g,y){g=Ld(g);var v=g.fill,x=g.align,w=g.sign,_=g.symbol,N=g.zero,O=g.width,E=g.comma,C=g.precision,T=g.trim,P=g.type;P==="n"?(E=!0,P="g"):tk[P]||(C===void 0&&(C=12),T=!0,P="g"),(N||v==="0"&&x==="=")&&(N=!0,v="0",x="=");var M=(y&&y.prefix!==void 0?y.prefix:"")+(_==="$"?r:_==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),R=(_==="$"?n:/[%p]/.test(P)?l:"")+(y&&y.suffix!==void 0?y.suffix:""),B=tk[P],H=/[defgprs%]/.test(P);C=C===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function Y(K){var me=M,ie=R,ye,L,V;if(P==="c")ie=B(K)+ie,K="";else{K=+K;var ne=K<0||1/K<0;if(K=isNaN(K)?f:B(Math.abs(K),C),T&&(K=uY(K)),ne&&+K==0&&w!=="+"&&(ne=!1),me=(ne?w==="("?w:u:w==="-"||w==="("?"":w)+me,ie=(P==="s"&&!isNaN(K)&&up!==void 0?ak[8+up/3]:"")+ie+(ne&&w==="("?")":""),H){for(ye=-1,L=K.length;++ye<L;)if(V=K.charCodeAt(ye),48>V||V>57){ie=(V===46?a+K.slice(ye+1):K.slice(ye))+ie,K=K.slice(0,ye);break}}}E&&!N&&(K=t(K,1/0));var he=me.length+K.length+ie.length,I=he<O?new Array(O-he+1).join(v):"";switch(E&&N&&(K=t(I+K,I.length?O-ie.length:1/0),I=""),x){case"<":K=me+K+ie+I;break;case"=":K=me+I+K+ie;break;case"^":K=I.slice(0,he=I.length>>1)+me+K+ie+I.slice(he);break;default:K=I+me+K+ie;break}return s(K)}return Y.toString=function(){return g+""},Y}function p(g,y){var v=Math.max(-8,Math.min(8,Math.floor(Rc(y)/3)))*3,x=Math.pow(10,-v),w=h((g=Ld(g),g.type="f",g),{suffix:ak[8+v/3]});return function(_){return w(x*_)}}return{format:h,formatPrefix:p}}var fm,q1,QR;hY({thousands:",",grouping:[3],currency:["$",""]});function hY(e){return fm=fY(e),q1=fm.format,QR=fm.formatPrefix,fm}function mY(e){return Math.max(0,-Rc(Math.abs(e)))}function pY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rc(t)/3)))*3-Rc(Math.abs(e)))}function gY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Rc(t)-Rc(e))+1}function HR(e,t,r,n){var a=cw(e,t,r),s;switch(n=Ld(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=pY(a,l))&&(n.precision=s),QR(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=gY(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=mY(a))&&(n.precision=s-(n.type==="%")*2);break}}return q1(n)}function Hs(e){var t=e.domain;return e.ticks=function(r){var n=t();return ow(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return HR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],u=n[s],f,h,p=10;for(u<l&&(h=l,l=u,u=h,h=a,a=s,s=h);p-- >0;){if(h=lw(l,u,r),h===f)return n[a]=l,n[s]=u,t(n);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;f=h}return e},e}function VR(){var e=U1();return e.copy=function(){return yf(e,VR())},la.apply(e,arguments),Hs(e)}function GR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,lp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return GR(e).unknown(t)},e=arguments.length?Array.from(e,lp):[0,1],Hs(r)}function YR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function ik(e){return Math.log(e)}function sk(e){return Math.exp(e)}function yY(e){return-Math.log(-e)}function vY(e){return-Math.exp(-e)}function bY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xY(e){return e===10?bY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ok(e){return(t,r)=>-e(-t,r)}function F1(e){const t=e(ik,sk),r=t.domain;let n=10,a,s;function l(){return a=wY(n),s=xY(n),r()[0]<0?(a=ok(a),s=ok(s),e(yY,vY)):e(ik,sk),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const f=r();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let y=a(h),v=a(p),x,w;const _=u==null?10:+u;let N=[];if(!(n%1)&&v-y<_){if(y=Math.floor(y),v=Math.ceil(v),h>0){for(;y<=v;++y)for(x=1;x<n;++x)if(w=y<0?x/s(-y):x*s(y),!(w<h)){if(w>p)break;N.push(w)}}else for(;y<=v;++y)for(x=n-1;x>=1;--x)if(w=y>0?x/s(-y):x*s(y),!(w<h)){if(w>p)break;N.push(w)}N.length*2<_&&(N=ow(h,p,_))}else N=ow(y,v,Math.min(v-y,_)).map(s);return g?N.reverse():N},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Ld(f)).precision==null&&(f.trim=!0),f=q1(f)),u===1/0)return f;const h=Math.max(1,n*u/t.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*n<n-.5&&(g*=n),g<=h?f(p):""}},t.nice=()=>r(YR(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function WR(){const e=F1(yg()).domain([1,10]);return e.copy=()=>yf(e,WR()).base(e.base()),la.apply(e,arguments),e}function lk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ck(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function K1(e){var t=1,r=e(lk(t),ck(t));return r.constant=function(n){return arguments.length?e(lk(t=+n),ck(t)):t},Hs(r)}function XR(){var e=K1(yg());return e.copy=function(){return yf(e,XR()).constant(e.constant())},la.apply(e,arguments)}function uk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function SY(e){return e<0?-e*e:e*e}function Q1(e){var t=e(ln,ln),r=1;function n(){return r===1?e(ln,ln):r===.5?e(jY,SY):e(uk(r),uk(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Hs(t)}function H1(){var e=Q1(yg());return e.copy=function(){return yf(e,H1()).exponent(e.exponent())},la.apply(e,arguments),e}function _Y(){return H1.apply(null,arguments).exponent(.5)}function dk(e){return Math.sign(e)*e*e}function NY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function JR(){var e=U1(),t=[0,1],r=!1,n;function a(s){var l=NY(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(dk(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,lp)).map(dk)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return JR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},la.apply(a,arguments),Hs(a)}function ZR(){var e=[],t=[],r=[],n;function a(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=CG(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?n:t[pf(r,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Is),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return ZR().domain(e).range(t).unknown(n)},la.apply(s,arguments)}function e4(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(f){return f!=null&&f<=f?a[pf(n,f,0,r)]:s}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},l.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,u()):a.slice()},l.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return n.slice()},l.copy=function(){return e4().domain([e,t]).range(a).unknown(s)},la.apply(Hs(l),arguments)}function t4(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[pf(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return t4().domain(e).range(t).unknown(r)},la.apply(a,arguments)}const kb=new Date,Pb=new Date;function _r(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),u=a.ceil(s);return s-l<u-s?l:u},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,u)=>{const f=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return f;let h;do f.push(h=new Date(+s)),t(s,u),e(s);while(h<s&&s<l);return f},a.filter=s=>_r(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(kb.setTime(+s),Pb.setTime(+l),e(kb),e(Pb),Math.floor(r(kb,Pb))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const dp=_r(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_r(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):dp);dp.range;const ji=1e3,aa=ji*60,Si=aa*60,ki=Si*24,V1=ki*7,fk=ki*30,Tb=ki*365,Eo=_r(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getUTCSeconds());Eo.range;const G1=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ji)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getMinutes());G1.range;const Y1=_r(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCMinutes());Y1.range;const W1=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ji-e.getMinutes()*aa)},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getHours());W1.range;const X1=_r(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getUTCHours());X1.range;const vf=_r(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*aa)/ki,e=>e.getDate()-1);vf.range;const vg=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ki,e=>e.getUTCDate()-1);vg.range;const r4=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ki,e=>Math.floor(e/ki));r4.range;function nl(e){return _r(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*aa)/V1)}const bg=nl(0),fp=nl(1),OY=nl(2),EY=nl(3),Ic=nl(4),AY=nl(5),CY=nl(6);bg.range;fp.range;OY.range;EY.range;Ic.range;AY.range;CY.range;function al(e){return _r(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/V1)}const xg=al(0),hp=al(1),kY=al(2),PY=al(3),Lc=al(4),TY=al(5),DY=al(6);xg.range;hp.range;kY.range;PY.range;Lc.range;TY.range;DY.range;const J1=_r(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());J1.range;const Z1=_r(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Z1.range;const Pi=_r(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Pi.range;const Ti=_r(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ti.range;function n4(e,t,r,n,a,s){const l=[[Eo,1,ji],[Eo,5,5*ji],[Eo,15,15*ji],[Eo,30,30*ji],[s,1,aa],[s,5,5*aa],[s,15,15*aa],[s,30,30*aa],[a,1,Si],[a,3,3*Si],[a,6,6*Si],[a,12,12*Si],[n,1,ki],[n,2,2*ki],[r,1,V1],[t,1,fk],[t,3,3*fk],[e,1,Tb]];function u(h,p,g){const y=p<h;y&&([h,p]=[p,h]);const v=g&&typeof g.range=="function"?g:f(h,p,g),x=v?v.range(h,+p+1):[];return y?x.reverse():x}function f(h,p,g){const y=Math.abs(p-h)/g,v=M1(([,,_])=>_).right(l,y);if(v===l.length)return e.every(cw(h/Tb,p/Tb,g));if(v===0)return dp.every(Math.max(cw(h,p,g),1));const[x,w]=l[y/l[v-1][2]<l[v][2]/y?v-1:v];return x.every(w)}return[u,f]}const[MY,RY]=n4(Ti,Z1,xg,r4,X1,Y1),[IY,LY]=n4(Pi,J1,bg,vf,W1,G1);function Db(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function BY(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,u=e.months,f=e.shortMonths,h=ad(a),p=id(a),g=ad(s),y=id(s),v=ad(l),x=id(l),w=ad(u),_=id(u),N=ad(f),O=id(f),E={a:V,A:ne,b:he,B:I,c:null,d:vk,e:vk,f:oW,g:yW,G:bW,H:aW,I:iW,j:sW,L:a4,m:lW,M:cW,p:D,q:U,Q:wk,s:jk,S:uW,u:dW,U:fW,V:hW,w:mW,W:pW,x:null,X:null,y:gW,Y:vW,Z:xW,"%":xk},C={a:Z,A:q,b:ge,B:ve,c:null,d:bk,e:bk,f:_W,g:MW,G:IW,H:wW,I:jW,j:SW,L:s4,m:NW,M:OW,p:pe,q:ke,Q:wk,s:jk,S:EW,u:AW,U:CW,V:kW,w:PW,W:TW,x:null,X:null,y:DW,Y:RW,Z:LW,"%":xk},T={a:H,A:Y,b:K,B:me,c:ie,d:gk,e:gk,f:eW,g:pk,G:mk,H:yk,I:yk,j:WY,L:ZY,m:YY,M:XY,p:B,q:GY,Q:rW,s:nW,S:JY,u:FY,U:KY,V:QY,w:qY,W:HY,x:ye,X:L,y:pk,Y:mk,Z:VY,"%":tW};E.x=P(r,E),E.X=P(n,E),E.c=P(t,E),C.x=P(r,C),C.X=P(n,C),C.c=P(t,C);function P(te,_e){return function(Pe){var ce=[],ze=-1,Fe=0,et=te.length,jt,Ft,Ir;for(Pe instanceof Date||(Pe=new Date(+Pe));++ze<et;)te.charCodeAt(ze)===37&&(ce.push(te.slice(Fe,ze)),(Ft=hk[jt=te.charAt(++ze)])!=null?jt=te.charAt(++ze):Ft=jt==="e"?" ":"0",(Ir=_e[jt])&&(jt=Ir(Pe,Ft)),ce.push(jt),Fe=ze+1);return ce.push(te.slice(Fe,ze)),ce.join("")}}function M(te,_e){return function(Pe){var ce=nd(1900,void 0,1),ze=R(ce,te,Pe+="",0),Fe,et;if(ze!=Pe.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(_e&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Fe=Mb(nd(ce.y,0,1)),et=Fe.getUTCDay(),Fe=et>4||et===0?hp.ceil(Fe):hp(Fe),Fe=vg.offset(Fe,(ce.V-1)*7),ce.y=Fe.getUTCFullYear(),ce.m=Fe.getUTCMonth(),ce.d=Fe.getUTCDate()+(ce.w+6)%7):(Fe=Db(nd(ce.y,0,1)),et=Fe.getDay(),Fe=et>4||et===0?fp.ceil(Fe):fp(Fe),Fe=vf.offset(Fe,(ce.V-1)*7),ce.y=Fe.getFullYear(),ce.m=Fe.getMonth(),ce.d=Fe.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),et="Z"in ce?Mb(nd(ce.y,0,1)).getUTCDay():Db(nd(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(et+5)%7:ce.w+ce.U*7-(et+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,Mb(ce)):Db(ce)}}function R(te,_e,Pe,ce){for(var ze=0,Fe=_e.length,et=Pe.length,jt,Ft;ze<Fe;){if(ce>=et)return-1;if(jt=_e.charCodeAt(ze++),jt===37){if(jt=_e.charAt(ze++),Ft=T[jt in hk?_e.charAt(ze++):jt],!Ft||(ce=Ft(te,Pe,ce))<0)return-1}else if(jt!=Pe.charCodeAt(ce++))return-1}return ce}function B(te,_e,Pe){var ce=h.exec(_e.slice(Pe));return ce?(te.p=p.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function H(te,_e,Pe){var ce=v.exec(_e.slice(Pe));return ce?(te.w=x.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function Y(te,_e,Pe){var ce=g.exec(_e.slice(Pe));return ce?(te.w=y.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function K(te,_e,Pe){var ce=N.exec(_e.slice(Pe));return ce?(te.m=O.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function me(te,_e,Pe){var ce=w.exec(_e.slice(Pe));return ce?(te.m=_.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function ie(te,_e,Pe){return R(te,t,_e,Pe)}function ye(te,_e,Pe){return R(te,r,_e,Pe)}function L(te,_e,Pe){return R(te,n,_e,Pe)}function V(te){return l[te.getDay()]}function ne(te){return s[te.getDay()]}function he(te){return f[te.getMonth()]}function I(te){return u[te.getMonth()]}function D(te){return a[+(te.getHours()>=12)]}function U(te){return 1+~~(te.getMonth()/3)}function Z(te){return l[te.getUTCDay()]}function q(te){return s[te.getUTCDay()]}function ge(te){return f[te.getUTCMonth()]}function ve(te){return u[te.getUTCMonth()]}function pe(te){return a[+(te.getUTCHours()>=12)]}function ke(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var _e=P(te+="",E);return _e.toString=function(){return te},_e},parse:function(te){var _e=M(te+="",!1);return _e.toString=function(){return te},_e},utcFormat:function(te){var _e=P(te+="",C);return _e.toString=function(){return te},_e},utcParse:function(te){var _e=M(te+="",!0);return _e.toString=function(){return te},_e}}}var hk={"-":"",_:" ",0:"0"},Mr=/^\s*\d+/,$Y=/^%/,UY=/[\\^$*+?|[\]().{}]/g;function ht(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function zY(e){return e.replace(UY,"\\$&")}function ad(e){return new RegExp("^(?:"+e.map(zY).join("|")+")","i")}function id(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function qY(e,t,r){var n=Mr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function FY(e,t,r){var n=Mr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function KY(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function QY(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function HY(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function mk(e,t,r){var n=Mr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function pk(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function VY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function GY(e,t,r){var n=Mr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function YY(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function gk(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function WY(e,t,r){var n=Mr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function yk(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function XY(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function JY(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ZY(e,t,r){var n=Mr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function eW(e,t,r){var n=Mr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tW(e,t,r){var n=$Y.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function rW(e,t,r){var n=Mr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function nW(e,t,r){var n=Mr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function vk(e,t){return ht(e.getDate(),t,2)}function aW(e,t){return ht(e.getHours(),t,2)}function iW(e,t){return ht(e.getHours()%12||12,t,2)}function sW(e,t){return ht(1+vf.count(Pi(e),e),t,3)}function a4(e,t){return ht(e.getMilliseconds(),t,3)}function oW(e,t){return a4(e,t)+"000"}function lW(e,t){return ht(e.getMonth()+1,t,2)}function cW(e,t){return ht(e.getMinutes(),t,2)}function uW(e,t){return ht(e.getSeconds(),t,2)}function dW(e){var t=e.getDay();return t===0?7:t}function fW(e,t){return ht(bg.count(Pi(e)-1,e),t,2)}function i4(e){var t=e.getDay();return t>=4||t===0?Ic(e):Ic.ceil(e)}function hW(e,t){return e=i4(e),ht(Ic.count(Pi(e),e)+(Pi(e).getDay()===4),t,2)}function mW(e){return e.getDay()}function pW(e,t){return ht(fp.count(Pi(e)-1,e),t,2)}function gW(e,t){return ht(e.getFullYear()%100,t,2)}function yW(e,t){return e=i4(e),ht(e.getFullYear()%100,t,2)}function vW(e,t){return ht(e.getFullYear()%1e4,t,4)}function bW(e,t){var r=e.getDay();return e=r>=4||r===0?Ic(e):Ic.ceil(e),ht(e.getFullYear()%1e4,t,4)}function xW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function bk(e,t){return ht(e.getUTCDate(),t,2)}function wW(e,t){return ht(e.getUTCHours(),t,2)}function jW(e,t){return ht(e.getUTCHours()%12||12,t,2)}function SW(e,t){return ht(1+vg.count(Ti(e),e),t,3)}function s4(e,t){return ht(e.getUTCMilliseconds(),t,3)}function _W(e,t){return s4(e,t)+"000"}function NW(e,t){return ht(e.getUTCMonth()+1,t,2)}function OW(e,t){return ht(e.getUTCMinutes(),t,2)}function EW(e,t){return ht(e.getUTCSeconds(),t,2)}function AW(e){var t=e.getUTCDay();return t===0?7:t}function CW(e,t){return ht(xg.count(Ti(e)-1,e),t,2)}function o4(e){var t=e.getUTCDay();return t>=4||t===0?Lc(e):Lc.ceil(e)}function kW(e,t){return e=o4(e),ht(Lc.count(Ti(e),e)+(Ti(e).getUTCDay()===4),t,2)}function PW(e){return e.getUTCDay()}function TW(e,t){return ht(hp.count(Ti(e)-1,e),t,2)}function DW(e,t){return ht(e.getUTCFullYear()%100,t,2)}function MW(e,t){return e=o4(e),ht(e.getUTCFullYear()%100,t,2)}function RW(e,t){return ht(e.getUTCFullYear()%1e4,t,4)}function IW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Lc(e):Lc.ceil(e),ht(e.getUTCFullYear()%1e4,t,4)}function LW(){return"+0000"}function xk(){return"%"}function wk(e){return+e}function jk(e){return Math.floor(+e/1e3)}var ec,l4,c4;BW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function BW(e){return ec=BY(e),l4=ec.format,ec.parse,c4=ec.utcFormat,ec.utcParse,ec}function $W(e){return new Date(e)}function UW(e){return e instanceof Date?+e:+new Date(+e)}function ej(e,t,r,n,a,s,l,u,f,h){var p=U1(),g=p.invert,y=p.domain,v=h(".%L"),x=h(":%S"),w=h("%I:%M"),_=h("%I %p"),N=h("%a %d"),O=h("%b %d"),E=h("%B"),C=h("%Y");function T(P){return(f(P)<P?v:u(P)<P?x:l(P)<P?w:s(P)<P?_:n(P)<P?a(P)<P?N:O:r(P)<P?E:C)(P)}return p.invert=function(P){return new Date(g(P))},p.domain=function(P){return arguments.length?y(Array.from(P,UW)):y().map($W)},p.ticks=function(P){var M=y();return e(M[0],M[M.length-1],P??10)},p.tickFormat=function(P,M){return M==null?T:h(M)},p.nice=function(P){var M=y();return(!P||typeof P.range!="function")&&(P=t(M[0],M[M.length-1],P??10)),P?y(YR(M,P)):p},p.copy=function(){return yf(p,ej(e,t,r,n,a,s,l,u,f,h))},p}function zW(){return la.apply(ej(IY,LY,Pi,J1,bg,vf,W1,G1,Eo,l4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qW(){return la.apply(ej(MY,RY,Ti,Z1,xg,vg,X1,Y1,Eo,c4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wg(){var e=0,t=1,r,n,a,s,l=ln,u=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(a===0?.5:(g=(s(g)-r)*a,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(y){var v,x;return arguments.length?([v,x]=y,l=g(v,x),h):[l(0),l(1)]}}return h.range=p(Vc),h.rangeRound=p($1),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),h}}function Vs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function u4(){var e=Hs(wg()(ln));return e.copy=function(){return Vs(e,u4())},qi.apply(e,arguments)}function d4(){var e=F1(wg()).domain([1,10]);return e.copy=function(){return Vs(e,d4()).base(e.base())},qi.apply(e,arguments)}function f4(){var e=K1(wg());return e.copy=function(){return Vs(e,f4()).constant(e.constant())},qi.apply(e,arguments)}function tj(){var e=Q1(wg());return e.copy=function(){return Vs(e,tj()).exponent(e.exponent())},qi.apply(e,arguments)}function FW(){return tj.apply(null,arguments).exponent(.5)}function h4(){var e=[],t=ln;function r(n){if(n!=null&&!isNaN(n=+n))return t((pf(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Is),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>AG(e,s/n))},r.copy=function(){return h4(t).domain(e)},qi.apply(r,arguments)}function jg(){var e=0,t=.5,r=1,n=1,a,s,l,u,f,h=ln,p,g=!1,y;function v(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-s)*(n*w<n*s?u:f),h(g?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,r]=w,a=p(e=+e),s=p(t=+t),l=p(r=+r),u=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),n=s<a?-1:1,v):[e,t,r]},v.clamp=function(w){return arguments.length?(g=!!w,v):g},v.interpolator=function(w){return arguments.length?(h=w,v):h};function x(w){return function(_){var N,O,E;return arguments.length?([N,O,E]=_,h=tY(w,[N,O,E]),v):[h(0),h(.5),h(1)]}}return v.range=x(Vc),v.rangeRound=x($1),v.unknown=function(w){return arguments.length?(y=w,v):y},function(w){return p=w,a=w(e),s=w(t),l=w(r),u=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),n=s<a?-1:1,v}}function m4(){var e=Hs(jg()(ln));return e.copy=function(){return Vs(e,m4())},qi.apply(e,arguments)}function p4(){var e=F1(jg()).domain([.1,1,10]);return e.copy=function(){return Vs(e,p4()).base(e.base())},qi.apply(e,arguments)}function g4(){var e=K1(jg());return e.copy=function(){return Vs(e,g4()).constant(e.constant())},qi.apply(e,arguments)}function rj(){var e=Q1(jg());return e.copy=function(){return Vs(e,rj()).exponent(e.exponent())},qi.apply(e,arguments)}function KW(){return rj.apply(null,arguments).exponent(.5)}const ud=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:I1,scaleDiverging:m4,scaleDivergingLog:p4,scaleDivergingPow:rj,scaleDivergingSqrt:KW,scaleDivergingSymlog:g4,scaleIdentity:GR,scaleImplicit:uw,scaleLinear:VR,scaleLog:WR,scaleOrdinal:R1,scalePoint:PG,scalePow:H1,scaleQuantile:ZR,scaleQuantize:e4,scaleRadial:JR,scaleSequential:u4,scaleSequentialLog:d4,scaleSequentialPow:tj,scaleSequentialQuantile:h4,scaleSequentialSqrt:FW,scaleSequentialSymlog:f4,scaleSqrt:_Y,scaleSymlog:XR,scaleThreshold:t4,scaleTime:zW,scaleUtc:qW,tickFormat:HR},Symbol.toStringTag,{value:"Module"}));var Fi=e=>e.chartData,Sg=W([Fi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),nj=(e,t,r,n)=>n?Sg(e):Fi(e),QW=(e,t,r)=>r?Sg(e):Fi(e);function Di(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(lt(t)&&lt(r))return!0}return!1}function Sk(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function y4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(lt(r))a=r;else if(typeof r=="function")return;if(lt(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(Di(l))return l}}function HW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Di(n))return Sk(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,u;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Ne(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&DC.test(a)){var f=DC.exec(a);if(f==null||f[1]==null||t==null)l=void 0;else{var h=+f[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(Ne(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&MC.test(s)){var p=MC.exec(s);if(p==null||p[1]==null||t==null)u=void 0;else{var g=+p[1];u=t[1]+g}}else u=t==null?void 0:t[1];var y=[l,u];if(Di(y))return t==null?y:Sk(y,t,r)}}}var Gc=1e9,VW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ij,Vt=!0,oa="[DecimalError] ",zo=oa+"Invalid argument: ",aj=oa+"Exponent out of range: ",Yc=Math.floor,xo=Math.pow,GW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mn,Pr=1e7,zt=7,v4=9007199254740991,mp=Yc(v4/zt),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*zt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(e){return Ni(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,r=t.constructor;return Mt(Ni(t,new r(e),0,1),r.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return gr(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Mn))throw Error(oa+"NaN");if(r.s<1)throw Error(oa+(r.s?"NaN":"-Infinity"));return r.eq(Mn)?new n(0):(Vt=!1,t=Ni(Bd(r,s),Bd(e,s),s),Vt=!0,Mt(t,a))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w4(t,e):b4(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(oa+"NaN");return r.s?(Vt=!1,t=Ni(r,e,0,1).times(e),Vt=!0,r.minus(t)):Mt(new n(r),a)};Oe.naturalExponential=Oe.exp=function(){return x4(this)};Oe.naturalLogarithm=Oe.ln=function(){return Bd(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b4(t,e):w4(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zo+e);if(t=gr(a)+1,n=a.d.length-1,r=n*zt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Oe.squareRoot=Oe.sqrt=function(){var e,t,r,n,a,s,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(oa+"NaN")}for(e=gr(u),Vt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=$a(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Yc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=l=r+3;;)if(s=n,n=s.plus(Ni(u,s,l+2)).times(.5),$a(s.d).slice(0,l)===(t=$a(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(Mt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;l+=4}return Vt=!0,Mt(n,r)};Oe.times=Oe.mul=function(e){var t,r,n,a,s,l,u,f,h,p=this,g=p.constructor,y=p.d,v=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,r=p.e+e.e,f=y.length,h=v.length,f<h&&(s=y,y=v,v=s,l=f,f=h,h=l),s=[],l=f+h,n=l;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,a=f+n;a>n;)u=s[a]+v[n]*y[a-n-1]+t,s[a--]=u%Pr|0,t=u/Pr|0;s[a]=(s[a]+t)%Pr|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Vt?Mt(e,g.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ka(e,0,Gc),t===void 0?t=n.rounding:Ka(t,0,8),Mt(r,e+gr(r)+1,t))};Oe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Xo(n,!0):(Ka(e,0,Gc),t===void 0?t=a.rounding:Ka(t,0,8),n=Mt(new a(n),e+1,t),r=Xo(n,!0,e+1)),r};Oe.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Xo(a):(Ka(e,0,Gc),t===void 0?t=s.rounding:Ka(t,0,8),n=Mt(new s(a),e+gr(a)+1,t),r=Xo(n.abs(),!1,e+gr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return Mt(new t(e),gr(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,r,n,a,s,l,u=this,f=u.constructor,h=12,p=+(e=new f(e));if(!e.s)return new f(Mn);if(u=new f(u),!u.s){if(e.s<1)throw Error(oa+"Infinity");return u}if(u.eq(Mn))return u;if(n=f.precision,e.eq(Mn))return Mt(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=u.s,l){if((r=p<0?-p:p)<=v4){for(a=new f(Mn),t=Math.ceil(n/zt+4),Vt=!1;r%2&&(a=a.times(u),Nk(a.d,t)),r=Yc(r/2),r!==0;)u=u.times(u),Nk(u.d,t);return Vt=!0,e.s<0?new f(Mn).div(a):Mt(a,n)}}else if(s<0)throw Error(oa+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Vt=!1,a=e.times(Bd(u,n+h)),Vt=!0,a=x4(a),a.s=s,a};Oe.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=gr(a),n=Xo(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ka(e,1,Gc),t===void 0?t=s.rounding:Ka(t,0,8),a=Mt(new s(a),e,t),r=gr(a),n=Xo(a,e<=r||r<=s.toExpNeg,e)),n};Oe.toSignificantDigits=Oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ka(e,1,Gc),t===void 0?t=n.rounding:Ka(t,0,8)),Mt(new n(r),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gr(e),r=e.constructor;return Xo(e,t<=r.toExpNeg||t>=r.toExpPos)};function b4(e,t){var r,n,a,s,l,u,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Vt?Mt(t,g):t;if(f=e.d,h=t.d,l=e.e,a=t.e,f=f.slice(),s=l-a,s){for(s<0?(n=f,s=-s,u=h.length):(n=h,a=l,u=f.length),l=Math.ceil(g/zt),u=l>u?l+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=f.length,s=h.length,u-s<0&&(s=u,n=h,h=f,f=n),r=0;s;)r=(f[--s]=f[s]+h[s]+r)/Pr|0,f[s]%=Pr;for(r&&(f.unshift(r),++a),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=a,Vt?Mt(t,g):t}function Ka(e,t,r){if(e!==~~e||e<t||e>r)throw Error(zo+e)}function $a(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=zt-n.length,r&&(s+=ws(r)),s+=n;l=e[t],n=l+"",r=zt-n.length,r&&(s+=ws(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ni=(function(){function e(n,a){var s,l=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+l,n[u]=s%Pr|0,l=s/Pr|0;return l&&n.unshift(l),n}function t(n,a,s,l){var u,f;if(s!=l)f=s>l?1:-1;else for(u=f=0;u<s;u++)if(n[u]!=a[u]){f=n[u]>a[u]?1:-1;break}return f}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*Pr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var u,f,h,p,g,y,v,x,w,_,N,O,E,C,T,P,M,R,B=n.constructor,H=n.s==a.s?1:-1,Y=n.d,K=a.d;if(!n.s)return new B(n);if(!a.s)throw Error(oa+"Division by zero");for(f=n.e-a.e,M=K.length,T=Y.length,v=new B(H),x=v.d=[],h=0;K[h]==(Y[h]||0);)++h;if(K[h]>(Y[h]||0)&&--f,s==null?O=s=B.precision:l?O=s+(gr(n)-gr(a))+1:O=s,O<0)return new B(0);if(O=O/zt+2|0,h=0,M==1)for(p=0,K=K[0],O++;(h<T||p)&&O--;h++)E=p*Pr+(Y[h]||0),x[h]=E/K|0,p=E%K|0;else{for(p=Pr/(K[0]+1)|0,p>1&&(K=e(K,p),Y=e(Y,p),M=K.length,T=Y.length),C=M,w=Y.slice(0,M),_=w.length;_<M;)w[_++]=0;R=K.slice(),R.unshift(0),P=K[0],K[1]>=Pr/2&&++P;do p=0,u=t(K,w,M,_),u<0?(N=w[0],M!=_&&(N=N*Pr+(w[1]||0)),p=N/P|0,p>1?(p>=Pr&&(p=Pr-1),g=e(K,p),y=g.length,_=w.length,u=t(g,w,y,_),u==1&&(p--,r(g,M<y?R:K,y))):(p==0&&(u=p=1),g=K.slice()),y=g.length,y<_&&g.unshift(0),r(w,g,_),u==-1&&(_=w.length,u=t(K,w,M,_),u<1&&(p++,r(w,M<_?R:K,_))),_=w.length):u===0&&(p++,w=[0]),x[h++]=p,u&&w[0]?w[_++]=Y[C]||0:(w=[Y[C]],_=1);while((C++<T||w[0]!==void 0)&&O--)}return x[0]||x.shift(),v.e=f,Mt(v,l?s+gr(v)+1:s)}})();function x4(e,t){var r,n,a,s,l,u,f=0,h=0,p=e.constructor,g=p.precision;if(gr(e)>16)throw Error(aj+gr(e));if(!e.s)return new p(Mn);for(Vt=!1,u=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(n=Math.log(xo(2,h))/Math.LN10*2+5|0,u+=n,r=a=s=new p(Mn),p.precision=u;;){if(a=Mt(a.times(e),u),r=r.times(++f),l=s.plus(Ni(a,r,u)),$a(l.d).slice(0,u)===$a(s.d).slice(0,u)){for(;h--;)s=Mt(s.times(s),u);return p.precision=g,t==null?(Vt=!0,Mt(s,g)):s}s=l}}function gr(e){for(var t=e.e*zt,r=e.d[0];r>=10;r/=10)t++;return t}function Rb(e,t,r){if(t>e.LN10.sd())throw Vt=!0,r&&(e.precision=r),Error(oa+"LN10 precision limit exceeded");return Mt(new e(e.LN10),t)}function ws(e){for(var t="";e--;)t+="0";return t}function Bd(e,t){var r,n,a,s,l,u,f,h,p,g=1,y=10,v=e,x=v.d,w=v.constructor,_=w.precision;if(v.s<1)throw Error(oa+(v.s?"NaN":"-Infinity"));if(v.eq(Mn))return new w(0);if(t==null?(Vt=!1,h=_):h=t,v.eq(10))return t==null&&(Vt=!0),Rb(w,h);if(h+=y,w.precision=h,r=$a(x),n=r.charAt(0),s=gr(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=$a(v.d),n=r.charAt(0),g++;s=gr(v),n>1?(v=new w("0."+r),s++):v=new w(n+"."+r.slice(1))}else return f=Rb(w,h+2,_).times(s+""),v=Bd(new w(n+"."+r.slice(1)),h-y).plus(f),w.precision=_,t==null?(Vt=!0,Mt(v,_)):v;for(u=l=v=Ni(v.minus(Mn),v.plus(Mn),h),p=Mt(v.times(v),h),a=3;;){if(l=Mt(l.times(p),h),f=u.plus(Ni(l,new w(a),h)),$a(f.d).slice(0,h)===$a(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(Rb(w,h+2,_).times(s+""))),u=Ni(u,new w(g),h),w.precision=_,t==null?(Vt=!0,Mt(u,_)):u;u=f,a+=2}}function _k(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Yc(r/zt),e.d=[],n=(r+1)%zt,r<0&&(n+=zt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=zt;n<a;)e.d.push(+t.slice(n,n+=zt));t=t.slice(n),n=zt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Vt&&(e.e>mp||e.e<-mp))throw Error(aj+r)}else e.s=0,e.e=0,e.d=[0];return e}function Mt(e,t,r){var n,a,s,l,u,f,h,p,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=zt,a=t,h=g[p=0];else{if(p=Math.ceil((n+1)/zt),s=g.length,p>=s)return e;for(h=s=g[p],l=1;s>=10;s/=10)l++;n%=zt,a=n-zt+l}if(r!==void 0&&(s=xo(10,l-a-1),u=h/s%10|0,f=t<0||g[p+1]!==void 0||h%s,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?a>0?h/xo(10,l-a):0:g[p-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(s=gr(e),g.length=1,t=t-s-1,g[0]=xo(10,(zt-t%zt)%zt),e.e=Yc(-t/zt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=p,s=1,p--):(g.length=p+1,s=xo(10,zt-n),g[p]=a>0?(h/xo(10,l-a)%xo(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==Pr&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=Pr)break;g[p--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(Vt&&(e.e>mp||e.e<-mp))throw Error(aj+gr(e));return e}function w4(e,t){var r,n,a,s,l,u,f,h,p,g,y=e.constructor,v=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Vt?Mt(t,v):t;if(f=e.d,g=t.d,n=t.e,h=e.e,f=f.slice(),l=h-n,l){for(p=l<0,p?(r=f,l=-l,u=g.length):(r=g,n=h,u=f.length),a=Math.max(Math.ceil(v/zt),u)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=f.length,u=g.length,p=a<u,p&&(u=a),a=0;a<u;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}l=0}for(p&&(r=f,f=g,g=r,t.s=-t.s),u=f.length,a=g.length-u;a>0;--a)f[u++]=0;for(a=g.length;a>l;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=Pr-1;--f[s],f[a]+=Pr}f[a]-=g[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Vt?Mt(t,v):t):new y(0)}function Xo(e,t,r){var n,a=gr(e),s=$a(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+ws(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+ws(-a-1)+s,r&&(n=r-l)>0&&(s+=ws(n))):a>=l?(s+=ws(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+ws(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=ws(n))),e.s<0?"-"+s:s}function Nk(e,t){if(e.length>t)return e.length=t,!0}function j4(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(zo+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return _k(l,s.toString())}else if(typeof s!="string")throw Error(zo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,GW.test(s))_k(l,s);else throw Error(zo+s)}if(a.prototype=Oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=j4,a.config=a.set=YW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function YW(e){if(!e||typeof e!="object")throw Error(oa+"Object expected");var t,r,n,a=["precision",1,Gc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Yc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(zo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zo+r+": "+n);return this}var ij=j4(VW);Mn=new ij(1);const Ot=ij;function S4(e){var t;return e===0?t=1:t=Math.floor(new Ot(e).abs().log(10).toNumber())+1,t}function _4(e,t,r){for(var n=new Ot(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var N4=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},O4=(e,t,r)=>{if(e.lte(0))return new Ot(0);var n=S4(e.toNumber()),a=new Ot(10).pow(n),s=e.div(a),l=n!==1?.05:.1,u=new Ot(Math.ceil(s.div(l).toNumber())).add(r).mul(l),f=u.mul(a);return t?new Ot(f.toNumber()):new Ot(Math.ceil(f.toNumber()))},WW=(e,t,r)=>{var n=new Ot(1),a=new Ot(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Ot(10).pow(S4(e)-1),a=new Ot(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Ot(Math.floor(e)))}else e===0?a=new Ot(Math.floor((t-1)/2)):r||(a=new Ot(Math.floor(e)));for(var l=Math.floor((t-1)/2),u=[],f=0;f<t;f++)u.push(a.add(new Ot(f-l).mul(n)).toNumber());return u},E4=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var l=O4(new Ot(r).sub(t).div(n-1),a,s),u;t<=0&&r>=0?u=new Ot(0):(u=new Ot(t).add(r).div(2),u=u.sub(new Ot(u).mod(l)));var f=Math.ceil(u.sub(t).div(l).toNumber()),h=Math.ceil(new Ot(r).sub(u).div(l).toNumber()),p=f+h+1;return p>n?E4(t,r,n,a,s+1):(p<n&&(h=r>0?h+(n-p):h,f=r>0?f:f+(n-p)),{step:l,tickMin:u.sub(new Ot(f).mul(l)),tickMax:u.add(new Ot(h).mul(l))})},XW=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[u,f]=N4([r,n]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return r>n?h.reverse():h}if(u===f)return WW(u,a,s);var{step:p,tickMin:g,tickMax:y}=E4(u,f,l,s,0),v=_4(g,y.add(new Ot(.1).mul(p)),p);return r>n?v.reverse():v},JW=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=N4([n,a]);if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var f=Math.max(r,2),h=O4(new Ot(u).sub(l).div(f-1),s,0),p=[..._4(new Ot(l),new Ot(u),h),u];return s===!1&&(p=p.map(g=>Math.round(g))),n>a?p.reverse():p},A4=e=>e.rootProps.maxBarSize,ZW=e=>e.rootProps.barGap,C4=e=>e.rootProps.barCategoryGap,eX=e=>e.rootProps.barSize,bf=e=>e.rootProps.stackOffset,k4=e=>e.rootProps.reverseStackOrder,sj=e=>e.options.chartName,oj=e=>e.rootProps.syncId,P4=e=>e.rootProps.syncMethod,lj=e=>e.options.eventEmitter,pr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},go={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Pa={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},_g=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Ng(e,t,r){if(r!=="auto")return r;if(e!=null)return $i(e,t)?"category":"number"}function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(n){tX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tX(e,t,r){return(t=rX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rX(e){var t=nX(e,"string");return typeof t=="symbol"?t:t+""}function nX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ek={allowDataOverflow:go.allowDataOverflow,allowDecimals:go.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:go.angleAxisId,includeHidden:!1,name:void 0,reversed:go.reversed,scale:go.scale,tick:go.tick,tickCount:void 0,ticks:void 0,type:go.type,unit:void 0},Ak={allowDataOverflow:Pa.allowDataOverflow,allowDecimals:Pa.allowDecimals,allowDuplicatedCategory:Pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pa.radiusAxisId,includeHidden:Pa.includeHidden,name:void 0,reversed:Pa.reversed,scale:Pa.scale,tick:Pa.tick,tickCount:Pa.tickCount,ticks:void 0,type:Pa.type,unit:void 0},aX=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},cj=W([aX,gR],(e,t)=>{var r;if(e!=null)return e;var n=(r=Ng(t,"angleAxis",Ek.type))!==null&&r!==void 0?r:"category";return pp(pp({},Ek),{},{type:n})}),iX=(e,t)=>e.polarAxis.radiusAxis[t],uj=W([iX,gR],(e,t)=>{var r;if(e!=null)return e;var n=(r=Ng(t,"radiusAxis",Ak.type))!==null&&r!==void 0?r:"category";return pp(pp({},Ak),{},{type:n})}),Og=e=>e.polarOptions,dj=W([Ui,zi,Sr],DR),T4=W([Og,dj],(e,t)=>{if(e!=null)return Jr(e.innerRadius,t,0)}),D4=W([Og,dj],(e,t)=>{if(e!=null)return Jr(e.outerRadius,t,t*.8)}),sX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},M4=W([Og],sX);W([cj,M4],_g);var R4=W([dj,T4,D4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});W([uj,R4],_g);var I4=W([mt,Og,T4,D4,Ui,zi],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:u,startAngle:f,endAngle:h}=t;return{cx:Jr(l,a,a/2),cy:Jr(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:h,clockWise:!1}}}),Xt=(e,t)=>t,xf=(e,t,r)=>r;function fj(e){return e==null?void 0:e.id}function L4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(u=>{var f,h=(f=u.data)!==null&&f!==void 0?f:n;if(!(h==null||h.length===0)){var p=fj(u);h.forEach((g,y)=>{var v=s==null||a?y:String(Tt(g,s,null)),x=Tt(g,u.dataKey,0),w;l.has(v)?w=l.get(v):w={},Object.assign(w,{[p]:x}),l.set(v,w)})}}),Array.from(l.values())}function Eg(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ag=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Cg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function oX(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Rr=e=>{var t=mt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Wc=e=>e.tooltip.settings.axisId;function lX(e){if(e in ud)return ud[e]();var t="scale".concat(sf(e));if(t in ud)return ud[t]()}function Ck(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(s){var l=a[0],u=a[1];return l<=u?s>=l&&s<=u:s>=u&&s<=l},bandwidth:r?()=>r.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,l)=>{var u=e(s);if(u!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var f=e.bandwidth();switch(l.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function kk(e,t,r){if(typeof e=="function")return Ck(e.copy().domain(t).range(r));if(e!=null){var n=lX(e);if(n!=null)return n.domain(t).range(r),Ck(n)}}var B4=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Di(t)){for(var r,n,a=0;a<t.length;a++){var s=t[a];lt(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(r),!0).forEach(function(n){cX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cX(e,t,r){return(t=uX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uX(e){var t=dX(e,"string");return typeof t=="symbol"?t:t+""}function dX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mw=[0,"auto"],Ar={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},$4=(e,t)=>e.cartesianAxis.xAxis[t],Ki=(e,t)=>{var r=$4(e,t);return r??Ar},Cr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:mw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:uf},U4=(e,t)=>e.cartesianAxis.yAxis[t],Qi=(e,t)=>{var r=U4(e,t);return r??Cr},fX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},hj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??fX},ir=(e,t,r)=>{switch(t){case"xAxis":return Ki(e,r);case"yAxis":return Qi(e,r);case"zAxis":return hj(e,r);case"angleAxis":return cj(e,r);case"radiusAxis":return uj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},hX=(e,t,r)=>{switch(t){case"xAxis":return Ki(e,r);case"yAxis":return Qi(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Xc=(e,t,r)=>{switch(t){case"xAxis":return Ki(e,r);case"yAxis":return Qi(e,r);case"angleAxis":return cj(e,r);case"radiusAxis":return uj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},z4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function mj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var kg=e=>e.graphicalItems.cartesianItems,mX=W([Xt,xf],mj),pj=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),wf=W([kg,ir,mX],pj,{memoizeOptions:{resultEqualityCheck:Cg}}),q4=W([wf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Eg)),F4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),pX=W([wf],F4),gj=e=>e.map(t=>t.data).filter(Boolean).flat(1),gX=W([wf],gj,{memoizeOptions:{resultEqualityCheck:Cg}}),yj=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},vj=W([gX,nj],yj),bj=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Tt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Tt(a,n)}))):e.map(n=>({value:n})),Pg=W([vj,ir,wf],bj);function K4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Sm(e){if(qa(e)||e instanceof Date){var t=Number(e);if(lt(t))return t}}function Tk(e){if(Array.isArray(e)){var t=[Sm(e[0]),Sm(e[1])];return Di(t)?t:void 0}var r=Sm(e);if(r!=null)return[r,r]}function Mi(e){return e.map(Sm).filter(wn)}function yX(e,t,r){return!r||typeof t!="number"||za(t)?[]:r.length?Mi(r.flatMap(n=>{var a=Tt(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!lt(s)||!lt(l)))return[t-s,t+l]})):[]}var Nr=e=>{var t=Rr(e),r=Wc(e);return Xc(e,t,r)},jf=W([Nr],e=>e==null?void 0:e.dataKey),vX=W([q4,nj,Nr],L4),Q4=(e,t,r,n)=>{var a={},s=t.reduce((l,u)=>{if(u.stackId==null)return l;var f=l[u.stackId];return f==null&&(f=[]),f.push(u),l[u.stackId]=f,l},a);return Object.fromEntries(Object.entries(s).map(l=>{var[u,f]=l,h=n?[...f].reverse():f,p=h.map(fj);return[u,{stackedData:BQ(e,p,r),graphicalItems:h}]}))},pw=W([vX,q4,bf,k4],Q4),H4=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=FQ(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},bX=W([ir],e=>e.allowDataOverflow),xj=e=>{var t;if(e==null||!("domain"in e))return mw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Mi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:mw},wj=W([ir],xj),jj=W([wj,bX],y4),xX=W([pw,Fi,Xt,jj],H4,{memoizeOptions:{resultEqualityCheck:Ag}}),Tg=e=>e.errorBars,wX=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>K4(r,n)),yp=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},Sj=(e,t,r,n,a)=>{var s,l;if(r.length>0&&e.forEach(u=>{r.forEach(f=>{var h,p,g=(h=n[f.id])===null||h===void 0?void 0:h.filter(N=>K4(a,N)),y=Tt(u,(p=t.dataKey)!==null&&p!==void 0?p:f.dataKey),v=yX(u,y,g);if(v.length>=2){var x=Math.min(...v),w=Math.max(...v);(s==null||x<s)&&(s=x),(l==null||w>l)&&(l=w)}var _=Tk(y);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),l=l==null?_[1]:Math.max(l,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var f=Tk(Tt(u,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),lt(s)&&lt(l))return[s,l]},jX=W([vj,ir,pX,Tg,Xt],Sj,{memoizeOptions:{resultEqualityCheck:Ag}});function SX(e){var{value:t}=e;if(qa(t)||t instanceof Date)return t}var _X=(e,t,r)=>{var n=e.map(SX).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&fM(n))?LR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},V4=e=>e.referenceElements.dots,Jc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),NX=W([V4,Xt,xf],Jc),G4=e=>e.referenceElements.areas,OX=W([G4,Xt,xf],Jc),Y4=e=>e.referenceElements.lines,EX=W([Y4,Xt,xf],Jc),W4=(e,t)=>{if(e!=null){var r=Mi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},AX=W(NX,Xt,W4),X4=(e,t)=>{if(e!=null){var r=Mi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},CX=W([OX,Xt],X4);function kX(e){var t;if(e.x!=null)return Mi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Mi(r)}function PX(e){var t;if(e.y!=null)return Mi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Mi(r)}var J4=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?kX(n):PX(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},TX=W([EX,Xt],J4),DX=W(AX,TX,CX,(e,t,r)=>yp(e,r,t)),_j=(e,t,r,n,a,s,l,u)=>{if(r!=null)return r;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=f?yp(n,s,a):yp(s,a);return HW(t,h,e.allowDataOverflow)},MX=W([ir,wj,jj,xX,jX,DX,mt,Xt],_j,{memoizeOptions:{resultEqualityCheck:Ag}}),RX=[0,1],Nj=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:f}=e,h=$i(t,s);if(h&&u==null){var p;return LR(0,(p=r==null?void 0:r.length)!==null&&p!==void 0?p:0)}return f==="category"?_X(n,e,h):a==="expand"?RX:l}},Oj=W([ir,mt,vj,Pg,bf,Xt,MX],Nj);function IX(e){return e in ud}var Z4=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(sf(n));return IX(s)?s:"point"}}},Gs=W([ir,z4,sj],Z4);function Ej(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?kk(e.scale,r,n):kk(t,r,n)}var Aj=(e,t,r)=>{var n=xj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Di(e))return XW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Di(e))return JW(e,t.tickCount,t.allowDecimals)}},Cj=W([Oj,Xc,Gs],Aj),kj=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Di(t)&&Array.isArray(r)&&r.length>0){var a,s,l=t[0],u=(a=r[0])!==null&&a!==void 0?a:0,f=t[1],h=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,u),Math.max(f,h)]}return t},LX=W([ir,Oj,Cj,Xt],kj),BX=W(Pg,ir,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Mi(e.map(g=>g.value))).sort((g,y)=>g-y),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var l=s-a;if(l===0)return 1/0;for(var u=0;u<n.length-1;u++){var f=n[u],h=n[u+1];if(!(f==null||h==null)){var p=h-f;r=Math.min(r,p)}}return r/l}}),eI=W(BX,mt,C4,Sr,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!lt(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=Jr(r,e*s),u=e*s/2;return u-l-(u-l)/s*l}return 0}),$X=(e,t,r)=>{var n=Ki(e,t);return n==null||typeof n.padding!="string"?0:eI(e,"xAxis",t,r,n.padding)},UX=(e,t,r)=>{var n=Qi(e,t);return n==null||typeof n.padding!="string"?0:eI(e,"yAxis",t,r,n.padding)},zX=W(Ki,$X,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),qX=W(Qi,UX,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),FX=W([Sr,zX,dg,ug,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),KX=W([Sr,mt,qX,dg,ug,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Sf=(e,t,r,n)=>{var a;switch(t){case"xAxis":return FX(e,r,n);case"yAxis":return KX(e,r,n);case"zAxis":return(a=hj(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return M4(e);case"radiusAxis":return R4(e,r);default:return}},tI=W([ir,Sf],_g),QX=W([Gs,LX],B4),Dg=W([ir,Gs,QX,tI],Ej);W([wf,Tg,Xt],wX);function rI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Mg=(e,t)=>t,Rg=(e,t,r)=>r,HX=W(lg,Mg,Rg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(rI)),VX=W(cg,Mg,Rg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(rI)),nI=(e,t)=>({width:e.width,height:t.height}),GX=(e,t)=>{var r=typeof t.width=="number"?t.width:uf;return{width:r,height:e.height}},aI=W(Sr,Ki,nI),YX=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},WX=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},XX=W(zi,Sr,HX,Mg,Rg,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var f=nI(t,u);l==null&&(l=YX(t,n,e));var h=n==="top"&&!a||n==="bottom"&&a;s[u.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),JX=W(Ui,Sr,VX,Mg,Rg,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var f=GX(t,u);l==null&&(l=WX(t,n,e));var h=n==="left"&&!a||n==="right"&&a;s[u.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),ZX=(e,t)=>{var r=Ki(e,t);if(r!=null)return XX(e,r.orientation,r.mirror)},eJ=W([Sr,Ki,ZX,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),tJ=(e,t)=>{var r=Qi(e,t);if(r!=null)return JX(e,r.orientation,r.mirror)},rJ=W([Sr,Qi,tJ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),iI=W(Sr,Qi,(e,t)=>{var r=typeof t.width=="number"?t.width:uf;return{width:r,height:e.height}}),Dk=(e,t,r)=>{switch(t){case"xAxis":return aI(e,r).width;case"yAxis":return iI(e,r).height;default:return}},sI=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,u=$i(e,n),f=t.map(h=>h.value);if(l&&u&&s==="category"&&a&&fM(f))return f}},Pj=W([mt,Pg,ir,Xt],sI),oI=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=$i(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(u=>u.value)}},Tj=W([mt,Pg,Xc,Xt],oI),Mk=W([mt,hX,Gs,Dg,Pj,Tj,Sf,Cj,Xt],(e,t,r,n,a,s,l,u,f)=>{if(t!=null){var h=$i(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:u,range:l,realScaleType:r,scale:n}}}),nJ=(e,t,r,n,a,s,l,u,f)=>{if(!(t==null||n==null)){var h=$i(e,f),{type:p,ticks:g,tickCount:y}=t,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=p==="category"&&n.bandwidth?n.bandwidth()/v:0;x=f==="angleAxis"&&s!=null&&s.length>=2?Tr(s[0]-s[1])*2*x:x;var w=g||a;return w?w.map((_,N)=>{var O=l?l.indexOf(_):_,E=n.map(O);return lt(E)?{index:N,coordinate:E+x,value:_,offset:x}:null}).filter(wn):h&&u?u.map((_,N)=>{var O=n.map(_);return lt(O)?{coordinate:O+x,value:_,index:N,offset:x}:null}).filter(wn):n.ticks?n.ticks(y).map((_,N)=>{var O=n.map(_);return lt(O)?{coordinate:O+x,value:_,index:N,offset:x}:null}).filter(wn):n.domain().map((_,N)=>{var O=n.map(_);return lt(O)?{coordinate:O+x,value:l?l[_]:_,index:N,offset:x}:null}).filter(wn)}},lI=W([mt,Xc,Gs,Dg,Cj,Sf,Pj,Tj,Xt],nJ),aJ=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=$i(e,l),{tickCount:f}=t,h=0;return h=l==="angleAxis"&&(n==null?void 0:n.length)>=2?Tr(n[0]-n[1])*2*h:h,u&&s?s.map((p,g)=>{var y=r.map(p);return lt(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(wn):r.ticks?r.ticks(f).map((p,g)=>{var y=r.map(p);return lt(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(wn):r.domain().map((p,g)=>{var y=r.map(p);return lt(y)?{coordinate:y+h,value:a?a[p]:p,index:g,offset:h}:null}).filter(wn)}},$s=W([mt,Xc,Dg,Sf,Pj,Tj,Xt],aJ),Us=W(ir,Dg,(e,t)=>{if(!(e==null||t==null))return gp(gp({},e),{},{scale:t})}),iJ=W([ir,Gs,Oj,tI],Ej);W((e,t,r)=>hj(e,r),iJ,(e,t)=>{if(!(e==null||t==null))return gp(gp({},e),{},{scale:t})});var sJ=W([mt,lg,cg],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),cI=e=>e.options.defaultTooltipEventType,uI=e=>e.options.validateTooltipEventTypes;function dI(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Dj(e,t){var r=cI(e),n=uI(e);return dI(t,r,n)}function oJ(e){return Ae(t=>Dj(t,e))}var fI=(e,t)=>{var r,n=Number(t);if(!(za(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},lJ=e=>e.tooltip.settings,_s={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},cJ={itemInteraction:{click:_s,hover:_s},axisInteraction:{click:_s,hover:_s},keyboardInteraction:_s,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},hI=Sn({name:"tooltip",initialState:cJ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Qt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=wa(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Qt()},removeTooltipEntrySettings:{reducer(e,t){var r=wa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Qt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:uJ,replaceTooltipEntrySettings:dJ,removeTooltipEntrySettings:fJ,setTooltipSettingsState:hJ,setActiveMouseOverItemIndex:mI,mouseLeaveItem:mJ,mouseLeaveChart:pI,setActiveClickItemIndex:pJ,setMouseOverAxisIndex:gI,setMouseClickAxisIndex:gJ,setSyncInteraction:gw,setKeyboardInteraction:yw}=hI.actions,yJ=hI.reducer;function Rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(r),!0).forEach(function(n){vJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vJ(e,t,r){return(t=bJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bJ(e){var t=xJ(e,"string");return typeof t=="symbol"?t:t+""}function xJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wJ(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function jJ(e){return e.index!=null}var yI=(e,t,r,n)=>{if(t==null)return _s;var a=wJ(e,t,r);if(a==null)return _s;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(jJ(a)){if(s)return hm(hm({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return hm(hm({},_s),{},{coordinate:a.coordinate})};function SJ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function _J(e,t){var r=SJ(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),l=Math.max(n,a);return r>=s&&r<=l}function NJ(e,t,r){if(r==null||t==null)return!0;var n=Tt(e,t);return n==null||!Di(r)?!0:_J(n,r)}var Mj=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!lt(s))return a;var l=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(l,Math.min(s,u)),h=t[f];return h==null||NJ(h,r,n)?String(f):null},vI=(e,t,r,n,a,s,l)=>{if(s!=null){var u=l[0],f=u==null?void 0:u.getPosition(s);if(f!=null)return f;var h=a==null?void 0:a[Number(s)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},bI=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===a})},xI=e=>e.options.tooltipPayloadSearcher,Zc=e=>e.tooltip;function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(n){OJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OJ(e,t,r){return(t=EJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EJ(e){var t=AJ(e,"string");return typeof t=="symbol"?t:t+""}function AJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CJ(e,t){return e??t}var wI=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:p}=r,g=[];return e.reduce((y,v)=>{var x,{dataDefinedOnItem:w,settings:_}=v,N=CJ(w,u),O=Array.isArray(N)?iR(N,h,p):N,E=(x=_==null?void 0:_.dataKey)!==null&&x!==void 0?x:n,C=_==null?void 0:_.nameKey,T;if(n&&Array.isArray(O)&&!Array.isArray(O[0])&&l==="axis"?T=hM(O,n,a):T=s(O,t,f,C),Array.isArray(T))T.forEach(M=>{var R=Lk(Lk({},_),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});y.push(RC({tooltipEntrySettings:R,dataKey:M.dataKey,payload:M.payload,value:Tt(M.payload,M.dataKey),name:M.name}))});else{var P;y.push(RC({tooltipEntrySettings:_,dataKey:E,payload:T,value:Tt(T,E),name:(P=Tt(T,C))!==null&&P!==void 0?P:_==null?void 0:_.name}))}return y},g)}},Rj=W([Nr,z4,sj],Z4),kJ=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),PJ=W([Rr,Wc],mj),eu=W([kJ,Nr,PJ],pj,{memoizeOptions:{resultEqualityCheck:Cg}}),TJ=W([eu],e=>e.filter(Eg)),DJ=W([eu],gj,{memoizeOptions:{resultEqualityCheck:Cg}}),tu=W([DJ,Fi],yj),MJ=W([TJ,Fi,Nr],L4),Ij=W([tu,Nr,eu],bj),jI=W([Nr],xj),RJ=W([Nr],e=>e.allowDataOverflow),SI=W([jI,RJ],y4),IJ=W([eu],e=>e.filter(Eg)),LJ=W([MJ,IJ,bf,k4],Q4),BJ=W([LJ,Fi,Rr,SI],H4),$J=W([eu],F4),UJ=W([tu,Nr,$J,Tg,Rr],Sj,{memoizeOptions:{resultEqualityCheck:Ag}}),zJ=W([V4,Rr,Wc],Jc),qJ=W([zJ,Rr],W4),FJ=W([G4,Rr,Wc],Jc),KJ=W([FJ,Rr],X4),QJ=W([Y4,Rr,Wc],Jc),HJ=W([QJ,Rr],J4),VJ=W([qJ,HJ,KJ],yp),GJ=W([Nr,jI,SI,BJ,UJ,VJ,mt,Rr],_j),_f=W([Nr,mt,tu,Ij,bf,Rr,GJ],Nj),YJ=W([_f,Nr,Rj],Aj),WJ=W([Nr,_f,YJ,Rr],kj),_I=e=>{var t=Rr(e),r=Wc(e),n=!1;return Sf(e,t,r,n)},NI=W([Nr,_I],_g),OI=W([Nr,Rj,WJ,NI],Ej),XJ=W([mt,Ij,Nr,Rr],sI),JJ=W([mt,Ij,Nr,Rr],oI),ZJ=(e,t,r,n,a,s,l,u)=>{if(t){var{type:f}=t,h=$i(e,u);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/p:0;return g=u==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Tr(a[0]-a[1])*2*g:g,h&&l?l.map((y,v)=>{var x=n.map(y);return lt(x)?{coordinate:x+g,value:y,index:v,offset:g}:null}).filter(wn):n.domain().map((y,v)=>{var x=n.map(y);return lt(x)?{coordinate:x+g,value:s?s[y]:y,index:v,offset:g}:null}).filter(wn)}}},Hi=W([mt,Nr,Rj,OI,_I,XJ,JJ,Rr],ZJ),Lj=W([cI,uI,lJ],(e,t,r)=>dI(r.shared,e,t)),EI=e=>e.tooltip.settings.trigger,Bj=e=>e.tooltip.settings.defaultIndex,Nf=W([Zc,Lj,EI,Bj],yI),zs=W([Nf,tu,jf,_f],Mj),AI=W([Hi,zs],fI),$j=W([Nf],e=>{if(e)return e.dataKey}),eZ=W([Nf],e=>{if(e)return e.graphicalItemId}),CI=W([Zc,Lj,EI,Bj],bI),tZ=W([Ui,zi,mt,Sr,Hi,Bj,CI],vI),rZ=W([Nf,tZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),nZ=W([Nf],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),aZ=W([CI,zs,Fi,jf,AI,xI,Lj],wI),iZ=W([aZ],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(n){sZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sZ(e,t,r){return(t=oZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oZ(e){var t=lZ(e,"string");return typeof t=="symbol"?t:t+""}function lZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cZ=()=>Ae(Nr),uZ=()=>{var e=cZ(),t=Ae(Hi),r=Ae(OI);return Tc(!e||!r?void 0:$k($k({},e),{},{scale:r}),t)};function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(n){dZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dZ(e,t,r){return(t=fZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fZ(e){var t=hZ(e,"string");return typeof t=="symbol"?t:t+""}function hZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mZ=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},pZ=(e,t,r,n)=>{var a=t.find(h=>h&&h.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:l}=n;return tc(tc(tc({},n),mr(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var u=a.coordinate,{angle:f}=n;return tc(tc(tc({},n),mr(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function gZ(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var kI=(e,t,r,n,a)=>{var s,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<l;u++){var f,h,p,g,y,v=u>0?(f=r[u-1])===null||f===void 0?void 0:f.coordinate:(h=r[l-1])===null||h===void 0?void 0:h.coordinate,x=(p=r[u])===null||p===void 0?void 0:p.coordinate,w=u>=l-1?(g=r[0])===null||g===void 0?void 0:g.coordinate:(y=r[u+1])===null||y===void 0?void 0:y.coordinate,_=void 0;if(!(v==null||x==null||w==null))if(Tr(x-v)!==Tr(w-x)){var N=[];if(Tr(w-x)===Tr(a[1]-a[0])){_=w;var O=x+a[1]-a[0];N[0]=Math.min(O,(O+v)/2),N[1]=Math.max(O,(O+v)/2)}else{_=v;var E=w+a[1]-a[0];N[0]=Math.min(x,(E+x)/2),N[1]=Math.max(x,(E+x)/2)}var C=[Math.min(x,(_+x)/2),Math.max(x,(_+x)/2)];if(e>C[0]&&e<=C[1]||e>=N[0]&&e<=N[1]){var T;return(T=r[u])===null||T===void 0?void 0:T.index}}else{var P=Math.min(v,w),M=Math.max(v,w);if(e>(P+x)/2&&e<=(M+x)/2){var R;return(R=r[u])===null||R===void 0?void 0:R.index}}}else if(t)for(var B=0;B<l;B++){var H=t[B];if(H!=null){var Y=t[B+1],K=t[B-1];if(B===0&&Y!=null&&e<=(H.coordinate+Y.coordinate)/2||B===l-1&&K!=null&&e>(H.coordinate+K.coordinate)/2||B>0&&B<l-1&&K!=null&&Y!=null&&e>(H.coordinate+K.coordinate)/2&&e<=(H.coordinate+Y.coordinate)/2)return H.index}}return-1},yZ=()=>Ae(sj),Uj=(e,t)=>t,PI=(e,t,r)=>r,zj=(e,t,r,n)=>n,vZ=W(Hi,e=>Jp(e,t=>t.coordinate)),qj=W([Zc,Uj,PI,zj],yI),Fj=W([qj,tu,jf,_f],Mj),bZ=(e,t,r)=>{if(t!=null){var n=Zc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},TI=W([Zc,Uj,PI,zj],bI),vp=W([Ui,zi,mt,Sr,Hi,zj,TI],vI),xZ=W([qj,vp],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),DI=W([Hi,Fj],fI),wZ=W([TI,Fj,Fi,jf,DI,xI,Uj],wI),jZ=W([qj,Fj],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),SZ=(e,t,r,n,a,s,l)=>{if(!(!e||!r||!n||!a)&&gZ(e,l)){var u=KQ(e,t),f=kI(u,s,a,r,n),h=mZ(t,a,f,e);return{activeIndex:String(f),activeCoordinate:h}}},_Z=(e,t,r,n,a,s,l)=>{if(!(!e||!n||!a||!s||!r)){var u=oG(e,r);if(u){var f=QQ(u,t),h=kI(f,l,s,n,a),p=pZ(t,s,h,u);return{activeIndex:String(h),activeCoordinate:p}}}},NZ=(e,t,r,n,a,s,l,u)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?SZ(e,t,n,a,s,l,u):_Z(e,t,r,n,a,s,l)},OZ=W(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),EZ=W(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(pr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:oX}});function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(n){AZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AZ(e,t,r){return(t=CZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CZ(e){var t=kZ(e,"string");return typeof t=="symbol"?t:t+""}function kZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PZ={},TZ={zIndexMap:Object.values(pr).reduce((e,t)=>qk(qk({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),PZ)},DZ=new Set(Object.values(pr));function MZ(e){return DZ.has(e)}var MI=Sn({name:"zIndex",initialState:TZ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Qt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!MZ(r)&&delete e.zIndexMap[r])},prepare:Qt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Qt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Qt()}}}),{registerZIndexPortal:RZ,unregisterZIndexPortal:IZ,registerZIndexPortalElement:LZ,unregisterZIndexPortalElement:BZ}=MI.actions,$Z=MI.reducer;function _n(e){var{zIndex:t,children:r}=e,n=jH(),a=n&&t!==void 0&&t!==0,s=en(),l=Bt();j.useLayoutEffect(()=>a?(l(RZ({zIndex:t})),()=>{l(IZ({zIndex:t}))}):tl,[l,t,a]);var u=Ae(f=>OZ(f,t,s));return a?u?Tp.createPortal(r,u):null:r}function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vw.apply(null,arguments)}function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(n){UZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UZ(e,t,r){return(t=zZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zZ(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FZ(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return j.isValidElement(t)?j.cloneElement(t,n):j.createElement(r,n)}function KZ(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:h,chartName:p}=e,g=r,y=n,v=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var x,w,_;if(p==="ScatterChart")x=g,w=wV,_=pr.cursorLine;else if(p==="BarChart")x=jV(u,g,s,l),w=TR,_=pr.cursorRectangle;else if(u==="radial"&&pM(g)){var{cx:N,cy:O,radius:E,startAngle:C,endAngle:T}=MR(g);x={cx:N,cy:O,startAngle:C,endAngle:T,innerRadius:E,outerRadius:E},w=IR,_=pr.cursorLine}else x={points:dG(u,g,s)},w=D1,_=pr.cursorLine;var P=typeof f=="object"&&"className"in f?f.className:void 0,M=mm(mm(mm(mm({stroke:"#ccc",pointerEvents:"none"},s),x),Ko(f)),{},{payload:y,payloadIndex:v,className:ft("recharts-tooltip-cursor",P)});return j.createElement(_n,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},j.createElement(FZ,{cursor:f,cursorComp:w,cursorProps:M}))}function QZ(e){var t=uZ(),r=mR(),n=rl(),a=yZ();return t==null||r==null||n==null||a==null?null:j.createElement(KZ,vw({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var RI=j.createContext(null),HZ=()=>j.useContext(RI),Ib={exports:{}},Kk;function VZ(){return Kk||(Kk=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new a(p,g||f,y),x=r?r+h:h;return f._events[x]?f._events[x].fn?f._events[x]=[f._events[x],v]:f._events[x].push(v):(f._events[x]=v,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=r?r+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,v=g.length,x=new Array(v);y<v;y++)x[y]=g[y].fn;return x},u.prototype.listenerCount=function(h){var p=r?r+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,y,v,x){var w=r?r+h:h;if(!this._events[w])return!1;var _=this._events[w],N=arguments.length,O,E;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),N){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,y),!0;case 5:return _.fn.call(_.context,p,g,y,v),!0;case 6:return _.fn.call(_.context,p,g,y,v,x),!0}for(E=1,O=new Array(N-1);E<N;E++)O[E-1]=arguments[E];_.fn.apply(_.context,O)}else{var C=_.length,T;for(E=0;E<C;E++)switch(_[E].once&&this.removeListener(h,_[E].fn,void 0,!0),N){case 1:_[E].fn.call(_[E].context);break;case 2:_[E].fn.call(_[E].context,p);break;case 3:_[E].fn.call(_[E].context,p,g);break;case 4:_[E].fn.call(_[E].context,p,g,y);break;default:if(!O)for(T=1,O=new Array(N-1);T<N;T++)O[T-1]=arguments[T];_[E].fn.apply(_[E].context,O)}}return!0},u.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,y){var v=r?r+h:h;if(!this._events[v])return this;if(!p)return l(this,v),this;var x=this._events[v];if(x.fn)x.fn===p&&(!y||x.once)&&(!g||x.context===g)&&l(this,v);else{for(var w=0,_=[],N=x.length;w<N;w++)(x[w].fn!==p||y&&!x[w].once||g&&x[w].context!==g)&&_.push(x[w]);_.length?this._events[v]=_.length===1?_[0]:_:l(this,v)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Ib)),Ib.exports}var GZ=VZ();const YZ=Qa(GZ);var $d=new YZ,bw="recharts.syncEvent.tooltip",Qk="recharts.syncEvent.brush",Kj=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!za(r))return e[r]}},WZ={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},II=Sn({name:"options",initialState:WZ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),XZ=II.reducer,{createEventEmitter:JZ}=II.actions;function ZZ(e){return e.tooltip.syncInteraction}var eee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},LI=Sn({name:"chartData",initialState:eee,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Hk,setDataStartEndIndexes:tee,setComputedData:wle}=LI.actions,ree=LI.reducer,nee=["x","y"];function Vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(r),!0).forEach(function(n){aee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aee(e,t,r){return(t=iee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iee(e){var t=see(e,"string");return typeof t=="symbol"?t:t+""}function see(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oee(e,t){if(e==null)return{};var r,n,a=lee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cee(){var e=Ae(oj),t=Ae(lj),r=Bt(),n=Ae(P4),a=Ae(Hi),s=rl(),l=fg(),u=Ae(f=>f.rootProps.className);j.useEffect(()=>{if(e==null)return tl;var f=(h,p,g)=>{if(t!==g&&e===h){if(n==="index"){var y;if(l&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var v=p.payload.coordinate,{x,y:w}=v,_=oee(v,nee),{x:N,y:O,width:E,height:C}=p.payload.sourceViewBox,T=rc(rc({},_),{},{x:l.x+(E?(x-N)/E:0)*l.width,y:l.y+(C?(w-O)/C:0)*l.height});r(rc(rc({},p),{},{payload:rc(rc({},p.payload),{},{coordinate:T})}))}else r(p);return}if(a!=null){var P;if(typeof n=="function"){var M={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},R=n(a,M);P=a[R]}else n==="value"&&(P=a.find(L=>String(L.value)===p.payload.label));var{coordinate:B}=p.payload;if(P==null||p.payload.active===!1||B==null||l==null){r(gw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:H,y:Y}=B,K=Math.min(H,l.x+l.width),me=Math.min(Y,l.y+l.height),ie={x:s==="horizontal"?P.coordinate:K,y:s==="horizontal"?me:P.coordinate},ye=gw({active:p.payload.active,coordinate:ie,dataKey:p.payload.dataKey,index:String(P.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});r(ye)}}};return $d.on(bw,f),()=>{$d.off(bw,f)}},[u,r,t,e,n,a,s,l])}function uee(){var e=Ae(oj),t=Ae(lj),r=Bt();j.useEffect(()=>{if(e==null)return tl;var n=(a,s,l)=>{t!==l&&e===a&&r(tee(s))};return $d.on(Qk,n),()=>{$d.off(Qk,n)}},[r,t,e])}function dee(){var e=Bt();j.useEffect(()=>{e(JZ())},[e]),cee(),uee()}function fee(e,t,r,n,a,s){var l=Ae(v=>bZ(v,e,t)),u=Ae(lj),f=Ae(oj),h=Ae(P4),p=Ae(ZZ),g=p==null?void 0:p.active,y=fg();j.useEffect(()=>{if(!g&&f!=null&&u!=null){var v=gw({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:y,graphicalItemId:void 0});$d.emit(bw,f,v,u)}},[g,r,l,a,n,u,f,h,s,y])}function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(n){hee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hee(e,t,r){return(t=mee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mee(e){var t=pee(e,"string");return typeof t=="symbol"?t:t+""}function pee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gee(e){return e.dataKey}function yee(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(eV,t)}var Wk=[],vee={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ao(e){var t,r,n=yr(e,vee),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:y,position:v,reverseDirection:x,useTranslate3d:w,wrapperStyle:_,cursor:N,shared:O,trigger:E,defaultIndex:C,portal:T,axisId:P}=n,M=Bt(),R=typeof C=="number"?String(C):C;j.useEffect(()=>{M(hJ({shared:O,trigger:E,axisId:P,active:a,defaultIndex:R}))},[M,O,E,P,a,R]);var B=fg(),H=ER(),Y=oJ(O),{activeIndex:K,isActive:me}=(t=Ae(pe=>jZ(pe,Y,E,R)))!==null&&t!==void 0?t:{},ie=Ae(pe=>wZ(pe,Y,E,R)),ye=Ae(pe=>DI(pe,Y,E,R)),L=Ae(pe=>xZ(pe,Y,E,R)),V=ie,ne=HZ(),he=(r=a??me)!==null&&r!==void 0?r:!1,[I,D]=CM([V,he]),U=Y==="axis"?ye:void 0;fee(Y,E,L,U,K,he);var Z=T??ne;if(Z==null||B==null||Y==null)return null;var q=V??Wk;he||(q=Wk),h&&q.length&&(q=_M(q.filter(pe=>pe.value!=null&&(pe.hide!==!0||n.includeHidden)),y,gee));var ge=q.length>0,ve=j.createElement(oV,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:he,coordinate:L,hasPayload:ge,offset:g,position:v,reverseDirection:x,useTranslate3d:w,viewBox:B,wrapperStyle:_,lastBoundingBox:I,innerRef:D,hasPortalFromProps:!!T},yee(f,Yk(Yk({},n),{},{payload:q,label:U,active:he,activeIndex:K,coordinate:L,accessibilityLayer:H})));return j.createElement(j.Fragment,null,Tp.createPortal(ve,Z),he&&j.createElement(QZ,{cursor:N,tooltipEventType:Y,coordinate:L,payload:q,index:K}))}var il=e=>null;il.displayName="Cell";function bee(e,t,r){return(t=xee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xee(e){var t=wee(e,"string");return typeof t=="symbol"?t:t+""}function wee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jee{constructor(t){bee(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function See(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(r),!0).forEach(function(n){_ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ee(e,t,r){return(t=Nee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nee(e){var t=Oee(e,"string");return typeof t=="symbol"?t:t+""}function Oee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eee={cacheSize:2e3,enableCache:!0},BI=See({},Eee),Jk=new jee(BI.cacheSize),Aee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Zk="recharts_measurement_span";function Cee(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(u)}var eP=(e,t)=>{try{var r=document.getElementById(Zk);r||(r=document.createElement("span"),r.setAttribute("id",Zk),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Aee,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},md=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gg.isSsr)return{width:0,height:0};if(!BI.enableCache)return eP(t,r);var n=Cee(t,r),a=Jk.get(n);if(a)return a;var s=eP(t,r);return Jk.set(n,s),s},$I;function kee(e,t,r){return(t=Pee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pee(e){var t=Tee(e,"string");return typeof t=="symbol"?t:t+""}function Tee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Ree={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Iee=["cm","mm","pt","pc","in","Q","px"];function Lee(e){return Iee.includes(e)}var cc="NaN";function Bee(e,t){return e*Ree[t]}class Hr{static parse(t){var r,[,n,a]=(r=Mee.exec(t))!==null&&r!==void 0?r:[];return n==null?Hr.NaN:new Hr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,za(t)&&(this.unit=""),r!==""&&!Dee.test(r)&&(this.num=NaN,this.unit=""),Lee(r)&&(this.num=Bee(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return za(this.num)}}$I=Hr;kee(Hr,"NaN",new $I(NaN,""));function UI(e){if(e==null||e.includes(cc))return cc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=tP.exec(t))!==null&&r!==void 0?r:[],l=Hr.parse(n??""),u=Hr.parse(s??""),f=a==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return cc;t=t.replace(tP,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,g,y]=(h=rP.exec(t))!==null&&h!==void 0?h:[],v=Hr.parse(p??""),x=Hr.parse(y??""),w=g==="+"?v.add(x):v.subtract(x);if(w.isNaN())return cc;t=t.replace(rP,w.toString())}return t}var nP=/\(([^()]*)\)/;function $ee(e){for(var t=e,r;(r=nP.exec(t))!=null;){var[,n]=r;t=t.replace(nP,UI(n))}return t}function Uee(e){var t=e.replace(/\s+/g,"");return t=$ee(t),t=UI(t),t}function zee(e){try{return Uee(e)}catch{return cc}}function Lb(e){var t=zee(e.slice(5,-1));return t===cc?"":t}var qee=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Fee=["dx","dy","angle","className","breakAll"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xw.apply(null,arguments)}function aP(e,t){if(e==null)return{};var r,n,a=Kee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zI=/[ \f\n\r\t\v\u2028\u2029]+/,qI=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Wt(t)||(r?a=t.toString().split(""):a=t.toString().split(zI));var s=a.map(u=>({word:u,width:md(u,n).width})),l=r?0:md("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Qee(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var FI=(e,t,r,n)=>e.reduce((a,s)=>{var{word:l,width:u}=s,f=a[a.length-1];if(f&&u!=null&&(t==null||n||f.width+u+r<Number(t)))f.words.push(l),f.width+=u+r;else{var h={words:[l],width:u};a.push(h)}return a},[]),KI=e=>e.reduce((t,r)=>t.width>r.width?t:r),Hee="",iP=(e,t,r,n,a,s,l,u)=>{var f=e.slice(0,t),h=qI({breakAll:r,style:n,children:f+Hee});if(!h)return[!1,[]];var p=FI(h.wordsWithComputedWidth,s,l,u),g=p.length>a||KI(p).width>Number(s);return[g,p]},Vee=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:u,breakAll:f}=e,h=Ne(s),p=String(l),g=FI(t,n,r,a);if(!h||a)return g;var y=g.length>s||KI(g).width>Number(n);if(!y)return g;for(var v=0,x=p.length-1,w=0,_;v<=x&&w<=p.length-1;){var N=Math.floor((v+x)/2),O=N-1,[E,C]=iP(p,O,f,u,s,n,r,a),[T]=iP(p,N,f,u,s,n,r,a);if(!E&&!T&&(v=N+1),E&&T&&(x=N-1),!E&&T){_=C;break}w++}return _||g},sP=e=>{var t=Wt(e)?[]:e.toString().split(zI);return[{words:t,width:void 0}]},Gee=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!gg.isSsr){var u,f,h=qI({breakAll:s,children:n,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,f=g}else return sP(n);return Vee({breakAll:s,children:n,maxLines:l,style:a},u,f,t,!!r)}return sP(n)},QI="#808080",Yee={angle:0,breakAll:!1,capHeight:"0.71em",fill:QI,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ig=j.forwardRef((e,t)=>{var r=yr(e,Yee),{x:n,y:a,lineHeight:s,capHeight:l,fill:u,scaleToFit:f,textAnchor:h,verticalAnchor:p}=r,g=aP(r,qee),y=j.useMemo(()=>Gee({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:v,dy:x,angle:w,className:_,breakAll:N}=g,O=aP(g,Fee);if(!qa(n)||!qa(a)||y.length===0)return null;var E=Number(n)+(Ne(v)?v:0),C=Number(a)+(Ne(x)?x:0);if(!lt(E)||!lt(C))return null;var T;switch(p){case"start":T=Lb("calc(".concat(l,")"));break;case"middle":T=Lb("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:T=Lb("calc(".concat(y.length-1," * -").concat(s,")"));break}var P=[],M=y[0];if(f&&M!=null){var R=M.width,{width:B}=g;P.push("scale(".concat(Ne(B)&&Ne(R)?B/R:1,")"))}return w&&P.push("rotate(".concat(w,", ").concat(E,", ").concat(C,")")),P.length&&(O.transform=P.join(" ")),j.createElement("text",xw({},cn(O),{ref:t,x:E,y:C,className:ft("recharts-text",_),textAnchor:h,fill:u.includes("url")?QI:u}),y.map((H,Y)=>{var K=H.words.join(N?"":" ");return j.createElement("tspan",{x:E,dy:Y===0?T:s,key:"".concat(K,"-").concat(Y)},K)}))});Ig.displayName="Text";function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){Wee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wee(e,t,r){return(t=Xee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xee(e){var t=Jee(e,"string");return typeof t=="symbol"?t:t+""}function Jee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zee=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:s,y:l,height:u,upperWidth:f,lowerWidth:h}=A1(t),p=s,g=s+(f-h)/2,y=(p+g)/2,v=(f+h)/2,x=p+f/2,w=u>=0?1:-1,_=w*n,N=w>0?"end":"start",O=w>0?"start":"end",E=f>=0?1:-1,C=E*n,T=E>0?"end":"start",P=E>0?"start":"end",M=a;if(r==="top"){var R={x:p+f/2,y:l-_,horizontalAnchor:"middle",verticalAnchor:N};return M&&(R.height=Math.max(l-M.y,0),R.width=f),R}if(r==="bottom"){var B={x:g+h/2,y:l+u+_,horizontalAnchor:"middle",verticalAnchor:O};return M&&(B.height=Math.max(M.y+M.height-(l+u),0),B.width=h),B}if(r==="left"){var H={x:y-C,y:l+u/2,horizontalAnchor:T,verticalAnchor:"middle"};return M&&(H.width=Math.max(H.x-M.x,0),H.height=u),H}if(r==="right"){var Y={x:y+v+C,y:l+u/2,horizontalAnchor:P,verticalAnchor:"middle"};return M&&(Y.width=Math.max(M.x+M.width-Y.x,0),Y.height=u),Y}var K=M?{width:v,height:u}:{};return r==="insideLeft"?Ta({x:y+C,y:l+u/2,horizontalAnchor:P,verticalAnchor:"middle"},K):r==="insideRight"?Ta({x:y+v-C,y:l+u/2,horizontalAnchor:T,verticalAnchor:"middle"},K):r==="insideTop"?Ta({x:p+f/2,y:l+_,horizontalAnchor:"middle",verticalAnchor:O},K):r==="insideBottom"?Ta({x:g+h/2,y:l+u-_,horizontalAnchor:"middle",verticalAnchor:N},K):r==="insideTopLeft"?Ta({x:p+C,y:l+_,horizontalAnchor:P,verticalAnchor:O},K):r==="insideTopRight"?Ta({x:p+f-C,y:l+_,horizontalAnchor:T,verticalAnchor:O},K):r==="insideBottomLeft"?Ta({x:g+C,y:l+u-_,horizontalAnchor:P,verticalAnchor:N},K):r==="insideBottomRight"?Ta({x:g+h-C,y:l+u-_,horizontalAnchor:T,verticalAnchor:N},K):r&&typeof r=="object"&&(Ne(r.x)||Vo(r.x))&&(Ne(r.y)||Vo(r.y))?Ta({x:s+Jr(r.x,v),y:l+Jr(r.y,u),horizontalAnchor:"end",verticalAnchor:"end"},K):Ta({x,y:l+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},K)},ete=["labelRef"],tte=["content"];function lP(e,t){if(e==null)return{};var r,n,a=rte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){nte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nte(e,t,r){return(t=ate(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ate(e){var t=ite(e,"string");return typeof t=="symbol"?t:t+""}function ite(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(null,arguments)}var HI=j.createContext(null),ste=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l,children:u}=e,f=j.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l}),[t,r,n,a,s,l]);return j.createElement(HI.Provider,{value:f},u)},VI=()=>{var e=j.useContext(HI),t=fg();return e||(t?A1(t):void 0)},ote=j.createContext(null),lte=()=>{var e=j.useContext(ote),t=Ae(I4);return e||t},cte=e=>{var{value:t,formatter:r}=e,n=Wt(e.children)?t:e.children;return typeof r=="function"?r(n):n},Qj=e=>e!=null&&typeof e=="function",ute=(e,t)=>{var r=Tr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},dte=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:u,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:y,clockWise:v}=a,x=(h+p)/2,w=ute(g,y),_=w>=0?1:-1,N,O;switch(t){case"insideStart":N=g+_*s,O=v;break;case"insideEnd":N=y-_*s,O=!v;break;case"end":N=y+_*s,O=v;break;default:throw new Error("Unsupported position ".concat(t))}O=w<=0?O:!O;var E=mr(u,f,x,N),C=mr(u,f,x,N+(O?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),P=Wt(e.id)?Nd("recharts-radial-line-"):e.id;return j.createElement("text",xi({},n,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",l)}),j.createElement("defs",null,j.createElement("path",{id:P,d:T})),j.createElement("textPath",{xlinkHref:"#".concat(P)},r))},fte=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:u,endAngle:f}=e,h=(u+f)/2;if(r==="outside"){var{x:p,y:g}=mr(n,a,l+t,h);return{x:p,y:g,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(s+l)/2,{x:v,y:x}=mr(n,a,y,h);return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},_m=e=>e!=null&&"cx"in e&&Ne(e.cx),hte={angle:0,offset:5,zIndex:pr.label,position:"middle",textBreakAll:!1};function mte(e){if(!_m(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function js(e){var t=yr(e,hte),{viewBox:r,parentViewBox:n,position:a,value:s,children:l,content:u,className:f="",textBreakAll:h,labelRef:p}=t,g=lte(),y=VI(),v=a==="center"?y:g??y,x,w,_;r==null?x=v:_m(r)?x=r:x=A1(r);var N=mte(x);if(!x||Wt(s)&&Wt(l)&&!j.isValidElement(u)&&typeof u!="function")return null;var O=dd(dd({},t),{},{viewBox:x});if(j.isValidElement(u)){var{labelRef:E}=O,C=lP(O,ete);return j.cloneElement(u,C)}if(typeof u=="function"){var{content:T}=O,P=lP(O,tte);if(w=j.createElement(u,P),j.isValidElement(w))return w}else w=cte(t);var M=cn(t);if(_m(x)){if(a==="insideStart"||a==="insideEnd"||a==="end")return dte(t,a,w,M,x);_=fte(x,t.offset,t.position)}else{if(!N)return null;var R=Zee({viewBox:N,position:a,offset:t.offset,parentViewBox:_m(n)?void 0:n});_=dd(dd({x:R.x,y:R.y,textAnchor:R.horizontalAnchor,verticalAnchor:R.verticalAnchor},R.width!==void 0?{width:R.width}:{}),R.height!==void 0?{height:R.height}:{})}return j.createElement(_n,{zIndex:t.zIndex},j.createElement(Ig,xi({ref:p,className:ft("recharts-label",f)},M,_,{textAnchor:Qee(M.textAnchor)?M.textAnchor:_.textAnchor,breakAll:h}),w))}js.displayName="Label";var pte=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?j.createElement(js,xi({key:"label-implicit"},n)):qa(e)?j.createElement(js,xi({key:"label-implicit",value:e},n)):j.isValidElement(e)?e.type===js?j.cloneElement(e,dd({key:"label-implicit"},n)):j.createElement(js,xi({key:"label-implicit",content:e},n)):Qj(e)?j.createElement(js,xi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?j.createElement(js,xi({},e,{key:"label-implicit"},n)):null};function gte(e){var{label:t,labelRef:r}=e,n=VI();return pte(t,n,r)||null}var Bb={},$b={},uP;function yte(){return uP||(uP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})($b)),$b}var Ub={},dP;function vte(){return dP||(dP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Ub)),Ub}var fP;function bte(){return fP||(fP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yte(),r=vte(),n=y1();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(Bb)),Bb}var zb,hP;function xte(){return hP||(hP=1,zb=bte().last),zb}var wte=xte();const jte=Qa(wte);var Ste=["valueAccessor"],_te=["dataKey","clockWise","id","textBreakAll","zIndex"];function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bp.apply(null,arguments)}function mP(e,t){if(e==null)return{};var r,n,a=Nte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ote=e=>Array.isArray(e.value)?jte(e.value):e.value,GI=j.createContext(void 0),YI=GI.Provider,WI=j.createContext(void 0),Ete=WI.Provider;function Ate(){return j.useContext(GI)}function Cte(){return j.useContext(WI)}function Nm(e){var{valueAccessor:t=Ote}=e,r=mP(e,Ste),{dataKey:n,clockWise:a,id:s,textBreakAll:l,zIndex:u}=r,f=mP(r,_te),h=Ate(),p=Cte(),g=h||p;return!g||!g.length?null:j.createElement(_n,{zIndex:u??pr.label},j.createElement(Dr,{className:"recharts-label-list"},g.map((y,v)=>{var x,w=Wt(n)?t(y,v):Tt(y.payload,n),_=Wt(s)?{}:{id:"".concat(s,"-").concat(v)};return j.createElement(js,bp({key:"label-".concat(v)},cn(y),f,_,{fill:(x=r.fill)!==null&&x!==void 0?x:y.fill,parentViewBox:y.parentViewBox,value:w,textBreakAll:l,viewBox:y.viewBox,index:v,zIndex:0}))})))}Nm.displayName="LabelList";function Hj(e){var{label:t}=e;return t?t===!0?j.createElement(Nm,{key:"labelList-implicit"}):j.isValidElement(t)||Qj(t)?j.createElement(Nm,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(Nm,bp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ww.apply(null,arguments)}var XI=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=ft("recharts-dot",a);return Ne(t)&&Ne(r)&&Ne(n)?j.createElement("circle",ww({},Ln(e),g1(e),{className:s,cx:t,cy:r,r:n})):null},JI=e=>e.graphicalItems.polarItems,kte=W([Xt,xf],mj),Lg=W([JI,ir,kte],pj),Pte=W([Lg],gj),Bg=W([Pte,Sg],yj),Tte=W([Bg,ir,Lg],bj);W([Bg,ir,Lg],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,l=Tt(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Tt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var pP=()=>{},Dte=W([Bg,ir,Lg,Tg,Xt],Sj),Mte=W([ir,wj,jj,pP,Dte,pP,mt,Xt],_j),ZI=W([ir,mt,Bg,Tte,bf,Xt,Mte],Nj),Rte=W([ZI,Xc,Gs],Aj),Ite=W([ir,ZI,Rte,Xt],kj);W([Gs,Ite],B4);var Lte={radiusAxis:{},angleAxis:{}},e5=Sn({name:"polarAxis",initialState:Lte,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:jle,removeRadiusAxis:Sle,addAngleAxis:_le,removeAngleAxis:Nle}=e5.actions,Bte=e5.reducer;function t5(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){$te(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $te(e,t,r){return(t=Ute(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ute(e){var t=zte(e,"string");return typeof t=="symbol"?t:t+""}function zte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qte=(e,t)=>t,Vj=W([JI,qte],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Fte=[],Gj=(e,t,r)=>(r==null?void 0:r.length)===0?Fte:r,r5=W([Sg,Vj,Gj],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>yP(yP({},t.presentationProps),s.props))),a!=null)return a}}),Kte=W([r5,Vj,Gj],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,l=Tt(n,t.nameKey,t.name),u;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:Hc(l,t.dataKey),color:u,payload:n,type:t.legendType}})}),Qte=W([r5,Vj,Gj,Sr],(e,t,r,n)=>{if(!(t==null||e==null))return Hre({offset:n,pieSettings:t,displayedData:e,cells:r})}),qb={exports:{}},Pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vP;function Hte(){if(vP)return Pt;vP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function x(w){if(typeof w=="object"&&w!==null){var _=w.$$typeof;switch(_){case e:switch(w=w.type,w){case r:case a:case n:case f:case h:case y:return w;default:switch(w=w&&w.$$typeof,w){case l:case u:case g:case p:return w;case s:return w;default:return _}}case t:return _}}}return Pt.ContextConsumer=s,Pt.ContextProvider=l,Pt.Element=e,Pt.ForwardRef=u,Pt.Fragment=r,Pt.Lazy=g,Pt.Memo=p,Pt.Portal=t,Pt.Profiler=a,Pt.StrictMode=n,Pt.Suspense=f,Pt.SuspenseList=h,Pt.isContextConsumer=function(w){return x(w)===s},Pt.isContextProvider=function(w){return x(w)===l},Pt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Pt.isForwardRef=function(w){return x(w)===u},Pt.isFragment=function(w){return x(w)===r},Pt.isLazy=function(w){return x(w)===g},Pt.isMemo=function(w){return x(w)===p},Pt.isPortal=function(w){return x(w)===t},Pt.isProfiler=function(w){return x(w)===a},Pt.isStrictMode=function(w){return x(w)===n},Pt.isSuspense=function(w){return x(w)===f},Pt.isSuspenseList=function(w){return x(w)===h},Pt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===f||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===p||w.$$typeof===l||w.$$typeof===s||w.$$typeof===u||w.$$typeof===v||w.getModuleId!==void 0)},Pt.typeOf=x,Pt}var bP;function Vte(){return bP||(bP=1,qb.exports=Hte()),qb.exports}var Gte=Vte(),xP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",wP=null,Fb=null,n5=e=>{if(e===wP&&Array.isArray(Fb))return Fb;var t=[];return j.Children.forEach(e,r=>{Wt(r)||(Gte.isFragment(r)?t=t.concat(n5(r.props.children)):t.push(r))}),Fb=t,wP=e,t};function Yj(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>xP(a)):n=[xP(t)],n5(e).forEach(a=>{var s=Ho(a,"type.displayName")||Ho(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var a5=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Kb={},jP;function Yte(){return jP||(jP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Kb)),Kb}var Qb,SP;function Wte(){return SP||(SP=1,Qb=Yte().isPlainObject),Qb}var Xte=Wte();const Jte=Qa(Xte);var _P,NP,OP,EP,AP;function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){Zte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zte(e,t,r){return(t=ere(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ere(e){var t=tre(e,"string");return typeof t=="symbol"?t:t+""}function tre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(null,arguments)}function sd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var PP=(e,t,r,n,a)=>{var s=r-n,l;return l=nr(_P||(_P=sd(["M ",",",""])),e,t),l+=nr(NP||(NP=sd(["L ",",",""])),e+r,t),l+=nr(OP||(OP=sd(["L ",",",""])),e+r-s/2,t+a),l+=nr(EP||(EP=sd(["L ",",",""])),e+r-s/2-n,t+a),l+=nr(AP||(AP=sd(["L ",","," Z"])),e,t),l},rre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nre=e=>{var t=yr(e,rre),{x:r,y:n,upperWidth:a,lowerWidth:s,height:l,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t,y=j.useRef(null),[v,x]=j.useState(-1),w=j.useRef(a),_=j.useRef(s),N=j.useRef(l),O=j.useRef(r),E=j.useRef(n),C=mf(e,"trapezoid-");if(j.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var ie=y.current.getTotalLength();ie&&x(ie)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var T=ft("recharts-trapezoid",u);if(!g)return j.createElement("g",null,j.createElement("path",xp({},cn(t),{className:T,d:PP(r,n,a,s,l)})));var P=w.current,M=_.current,R=N.current,B=O.current,H=E.current,Y="0px ".concat(v===-1?1:v,"px"),K="".concat(v,"px 0px"),me=AR(["strokeDasharray"],h,f);return j.createElement(hf,{animationId:C,key:C,canBegin:v>0,duration:h,easing:f,isActive:g,begin:p},ie=>{var ye=Ht(P,a,ie),L=Ht(M,s,ie),V=Ht(R,l,ie),ne=Ht(B,r,ie),he=Ht(H,n,ie);y.current&&(w.current=ye,_.current=L,N.current=V,O.current=ne,E.current=he);var I=ie>0?{transition:me,strokeDasharray:K}:{strokeDasharray:Y};return j.createElement("path",xp({},cn(t),{className:T,d:PP(ne,he,ye,L,V),ref:y,style:kP(kP({},I),t.style)}))})},are=["option","shapeType","activeClassName"];function ire(e,t){if(e==null)return{};var r,n,a=sre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){ore(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ore(e,t,r){return(t=lre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lre(e){var t=cre(e,"string");return typeof t=="symbol"?t:t+""}function cre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ure(e,t){return wp(wp({},t),e)}function dre(e,t){return e==="symbols"}function DP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(TR,r);case"trapezoid":return j.createElement(nre,r);case"sector":return j.createElement(IR,r);case"symbols":if(dre(t))return j.createElement(p1,r);break;case"curve":return j.createElement(D1,r);default:return null}}function fre(e){return j.isValidElement(e)?e.props:e}function Wj(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=ire(e,are),s;if(j.isValidElement(t))s=j.cloneElement(t,wp(wp({},a),fre(t)));else if(typeof t=="function")s=t(a,a.index);else if(Jte(t)&&typeof t!="boolean"){var l=ure(t,a);s=j.createElement(DP,{shapeType:r,elementProps:l})}else{var u=a;s=j.createElement(DP,{shapeType:r,elementProps:u})}return a.isActive?j.createElement(Dr,{className:n},s):s}var Xj=(e,t,r)=>{var n=Bt();return(a,s)=>l=>{e==null||e(a,s,l),n(mI({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},Jj=e=>{var t=Bt();return(r,n)=>a=>{e==null||e(r,n,a),t(mJ())}},Zj=(e,t,r)=>{var n=Bt();return(a,s)=>l=>{e==null||e(a,s,l),n(pJ({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function eS(e){var{tooltipEntrySettings:t}=e,r=Bt(),n=en(),a=j.useRef(null);return j.useLayoutEffect(()=>{n||(a.current===null?r(uJ(t)):a.current!==t&&r(dJ({prev:a.current,next:t})),a.current=t)},[t,r,n]),j.useLayoutEffect(()=>()=>{a.current&&(r(fJ(a.current)),a.current=null)},[r]),null}function i5(e){var{legendPayload:t}=e,r=Bt(),n=en(),a=j.useRef(null);return j.useLayoutEffect(()=>{n||(a.current===null?r(_R(t)):a.current!==t&&r(NR({prev:a.current,next:t})),a.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{a.current&&(r(OR(a.current)),a.current=null)},[r]),null}function hre(e){var{legendPayload:t}=e,r=Bt(),n=Ae(mt),a=j.useRef(null);return j.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(_R(t)):a.current!==t&&r(NR({prev:a.current,next:t})),a.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{a.current&&(r(OR(a.current)),a.current=null)},[r]),null}var Hb,mre=()=>{var[e]=j.useState(()=>Nd("uid-"));return e},pre=(Hb=mB.useId)!==null&&Hb!==void 0?Hb:mre;function gre(e,t){var r=pre();return t||(e?"".concat(e,"-").concat(r):r)}var yre=j.createContext(void 0),tS=e=>{var{id:t,type:r,children:n}=e,a=gre("recharts-".concat(r),t);return j.createElement(yre.Provider,{value:a},n(a))},vre={cartesianItems:[],polarItems:[]},s5=Sn({name:"graphicalItems",initialState:vre,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Qt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=wa(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Qt()},removeCartesianGraphicalItem:{reducer(e,t){var r=wa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Qt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Qt()},removePolarGraphicalItem:{reducer(e,t){var r=wa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Qt()}}}),{addCartesianGraphicalItem:bre,replaceCartesianGraphicalItem:xre,removeCartesianGraphicalItem:wre,addPolarGraphicalItem:jre,removePolarGraphicalItem:Sre}=s5.actions,_re=s5.reducer,Nre=e=>{var t=Bt(),r=j.useRef(null);return j.useLayoutEffect(()=>{r.current===null?t(bre(e)):r.current!==e&&t(xre({prev:r.current,next:e})),r.current=e},[t,e]),j.useLayoutEffect(()=>()=>{r.current&&(t(wre(r.current)),r.current=null)},[t]),null},o5=j.memo(Nre);function Ore(e){var t=Bt();return j.useLayoutEffect(()=>(t(jre(e)),()=>{t(Sre(e))}),[t,e]),null}var Ere=["key"],Are=["onMouseEnter","onClick","onMouseLeave"],Cre=["id"],kre=["id"];function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){Pre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pre(e,t,r){return(t=Tre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tre(e){var t=Dre(e,"string");return typeof t=="symbol"?t:t+""}function Dre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qs.apply(null,arguments)}function $g(e,t){if(e==null)return{};var r,n,a=Mre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Rre(e){var t=j.useMemo(()=>Yj(e.children,il),[e.children]),r=Ae(n=>Kte(n,e.id,t));return r==null?null:j.createElement(hre,{legendPayload:r})}var Ire=j.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:l,name:u,hide:f,tooltipType:h,id:p}=e,g={dataDefinedOnItem:n.map(y=>y.tooltipPayload),getPosition:y=>{var v;return(v=n[Number(y)])===null||v===void 0?void 0:v.tooltipPosition},settings:{stroke:a,strokeWidth:s,fill:l,dataKey:t,nameKey:r,name:Hc(u,t),hide:f,type:h,color:l,unit:"",graphicalItemId:p}};return j.createElement(eS,{tooltipEntrySettings:g})}),Lre=(e,t)=>e>t?"start":e<t?"end":"middle",Bre=(e,t,r)=>Jr(typeof t=="function"?t(e):t,r,r*.8),$re=(e,t,r)=>{var{top:n,left:a,width:s,height:l}=t,u=DR(s,l),f=a+Jr(e.cx,s,s/2),h=n+Jr(e.cy,l,l/2),p=Jr(e.innerRadius,u,0),g=Bre(r,e.outerRadius,u),y=e.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:y}},Ure=(e,t)=>{var r=Tr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},zre=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ft("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=$g(t,Ere);return j.createElement(D1,qs({},a,{type:"linear",className:r}))},qre=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var a=ft("recharts-pie-label-text",t5(e));return j.createElement(Ig,qs({},t,{alignmentBaseline:"middle",className:a}),n)};function Fre(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:l}=r;if(!n||!a||!t)return null;var u=Ln(r),f=Ko(a),h=Ko(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=t.map((y,v)=>{var x=(y.startAngle+y.endAngle)/2,w=mr(y.cx,y.cy,y.outerRadius+p,x),_=ar(ar(ar(ar({},u),y),{},{stroke:"none"},f),{},{index:v,textAnchor:Lre(w.x,y.cx)},w),N=ar(ar(ar(ar({},u),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[mr(y.cx,y.cy,y.outerRadius,x),w],key:"line"});return j.createElement(_n,{zIndex:pr.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},j.createElement(Dr,null,s&&zre(s,N),qre(a,_,Tt(y,l))))});return j.createElement(Dr,{className:"recharts-pie-labels"},g)}function Kre(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?j.createElement(Hj,{label:a}):j.createElement(Fre,{sectors:t,props:r,showLabels:n})}function Qre(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:l}=e,u=Ae(zs),f=Ae($j),h=Ae(eZ),{onMouseEnter:p,onClick:g,onMouseLeave:y}=a,v=$g(a,Are),x=Xj(p,a.dataKey,l),w=Jj(y),_=Zj(g,a.dataKey,l);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((N,O)=>{if((N==null?void 0:N.startAngle)===0&&(N==null?void 0:N.endAngle)===0&&t.length!==1)return null;var E=h==null||h===l,C=String(O)===u&&(f==null||a.dataKey===f)&&E,T=u?n:null,P=r&&C?r:T,M=ar(ar({},N),{},{stroke:N.stroke,tabIndex:-1,[cR]:O,[uR]:l});return j.createElement(Dr,qs({key:"sector-".concat(N==null?void 0:N.startAngle,"-").concat(N==null?void 0:N.endAngle,"-").concat(N.midAngle,"-").concat(O),tabIndex:-1,className:"recharts-pie-sector"},of(v,N,O),{onMouseEnter:x(N,O),onMouseLeave:w(N,O),onClick:_(N,O)}),j.createElement(Wj,qs({option:s??P,index:O,shapeType:"sector",isActive:C},M)))}))}function Hre(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:l,startAngle:u,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=r,y=Math.abs(r.minAngle),v=Ure(u,f),x=Math.abs(v),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,_=n.filter(P=>Tt(P,h,0)!==0).length,N=(x>=360?_:_-1)*w,O=x-_*y-N,E=n.reduce((P,M)=>{var R=Tt(M,h,0);return P+(Ne(R)?R:0)},0),C;if(E>0){var T;C=n.map((P,M)=>{var R=Tt(P,h,0),B=Tt(P,p,M),H=$re(r,s,P),Y=(Ne(R)?R:0)/E,K,me=ar(ar({},P),a&&a[M]&&a[M].props);M?K=T.endAngle+Tr(v)*w*(R!==0?1:0):K=u;var ie=K+Tr(v)*((R!==0?y:0)+Y*O),ye=(K+ie)/2,L=(H.innerRadius+H.outerRadius)/2,V=[{name:B,value:R,payload:me,dataKey:h,type:g,graphicalItemId:r.id}],ne=mr(H.cx,H.cy,L,ye);return T=ar(ar(ar(ar({},r.presentationProps),{},{percent:Y,cornerRadius:typeof l=="string"?parseFloat(l):l,name:B,tooltipPayload:V,midAngle:ye,middleRadius:L,tooltipPosition:ne},me),H),{},{value:R,dataKey:h,startAngle:K,endAngle:ie,payload:me,paddingAngle:Tr(v)*w}),T})}return C}function Vre(e){var{showLabels:t,sectors:r,children:n}=e,a=j.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return j.createElement(Ete,{value:t?a:void 0},n)}function Gre(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:f,activeShape:h,inactiveShape:p,onAnimationStart:g,onAnimationEnd:y}=t,v=mf(t,"recharts-pie-"),x=r.current,[w,_]=j.useState(!1),N=j.useCallback(()=>{typeof y=="function"&&y(),_(!1)},[y]),O=j.useCallback(()=>{typeof g=="function"&&g(),_(!0)},[g]);return j.createElement(Vre,{showLabels:!w,sectors:a},j.createElement(hf,{animationId:v,begin:l,duration:u,isActive:s,easing:f,onAnimationStart:O,onAnimationEnd:N,key:v},E=>{var C,T=[],P=a&&a[0],M=(C=P==null?void 0:P.startAngle)!==null&&C!==void 0?C:0;return a==null||a.forEach((R,B)=>{var H=x&&x[B],Y=B>0?Ho(R,"paddingAngle",0):0;if(H){var K=Ht(H.endAngle-H.startAngle,R.endAngle-R.startAngle,E),me=ar(ar({},R),{},{startAngle:M+Y,endAngle:M+K+Y});T.push(me),M=me.endAngle}else{var{endAngle:ie,startAngle:ye}=R,L=Ht(0,ie-ye,E),V=ar(ar({},R),{},{startAngle:M+Y,endAngle:M+L+Y});T.push(V),M=V.endAngle}}),r.current=T,j.createElement(Dr,null,j.createElement(Qre,{sectors:T,activeShape:h,inactiveShape:p,allOtherPieProps:t,shape:t.shape,id:n}))}),j.createElement(Kre,{showLabels:!w,sectors:a,props:t}),t.children)}var Yre={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:pr.area};function Wre(e){var{id:t}=e,r=$g(e,Cre),{hide:n,className:a,rootTabIndex:s}=e,l=j.useMemo(()=>Yj(e.children,il),[e.children]),u=Ae(p=>Qte(p,t,l)),f=j.useRef(null),h=ft("recharts-pie",a);return n||u==null?(f.current=null,j.createElement(Dr,{tabIndex:s,className:h})):j.createElement(_n,{zIndex:e.zIndex},j.createElement(Ire,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement(Dr,{tabIndex:s,className:h},j.createElement(Gre,{props:ar(ar({},r),{},{sectors:u}),previousSectorsRef:f,id:t})))}function rS(e){var t=yr(e,Yre),{id:r}=t,n=$g(t,kre),a=Ln(n);return j.createElement(tS,{id:r,type:"pie"},s=>j.createElement(j.Fragment,null,j.createElement(Ore,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),j.createElement(Rre,qs({},n,{id:s})),j.createElement(Wre,qs({},n,{id:s}))))}rS.displayName="Pie";var Xre=["points"];function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){Jre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jre(e,t,r){return(t=Zre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zre(e){var t=ene(e,"string");return typeof t=="symbol"?t:t+""}function ene(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(null,arguments)}function tne(e,t){if(e==null)return{};var r,n,a=rne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nne(e){var{option:t,dotProps:r,className:n}=e;if(j.isValidElement(t))return j.cloneElement(t,r);if(typeof t=="function")return t(r);var a=ft(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,u=tne(s,Xre);return j.createElement(XI,jp({},u,{className:a}))}function ane(e,t){return e==null?!1:t?!0:e.length===1}function ine(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:l,needClip:u,clipPathId:f,zIndex:h=pr.scatter}=e;if(!ane(t,r))return null;var p=a5(r),g=bF(r),y=t.map((x,w)=>{var _,N,O=Vb(Vb(Vb({r:3},l),g),{},{index:w,cx:(_=x.x)!==null&&_!==void 0?_:void 0,cy:(N=x.y)!==null&&N!==void 0?N:void 0,dataKey:s,value:x.value,payload:x.payload,points:t});return j.createElement(nne,{key:"dot-".concat(w),option:r,dotProps:O,className:a})}),v={};return u&&f!=null&&(v.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),j.createElement(_n,{zIndex:h},j.createElement(Dr,jp({className:n},v),y))}function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){sne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sne(e,t,r){return(t=one(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function one(e){var t=lne(e,"string");return typeof t=="symbol"?t:t+""}function lne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l5=0,cne={xAxis:{},yAxis:{},zAxis:{}},c5=Sn({name:"cartesianAxis",initialState:cne,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Qt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Qt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Qt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Qt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Qt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Qt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Qt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Qt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Qt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s,l=a.widthHistory||[];if(l.length===3&&l[0]===l[2]&&n===l[1]&&n!==a.width&&Math.abs(n-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var u=[...l,n].slice(-3);e.yAxis[r]=LP(LP({},a),{},{width:n,widthHistory:u})}}}}),{addXAxis:une,replaceXAxis:dne,removeXAxis:fne,addYAxis:hne,replaceYAxis:mne,removeYAxis:pne,addZAxis:Ole,replaceZAxis:Ele,removeZAxis:Ale,updateYAxisWidth:gne}=c5.actions,yne=c5.reducer,vne=W([Sr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),bne=W([vne,Ui,zi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),nS=()=>Ae(bne),xne=()=>Ae(iZ);function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){wne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wne(e,t,r){return(t=jne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jne(e){var t=Sne(e,"string");return typeof t=="symbol"?t:t+""}function Sne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _ne=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var u={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=Gb(Gb(Gb({},u),Ko(a)),g1(a)),h;return j.isValidElement(a)?h=j.cloneElement(a,f):typeof a=="function"?h=a(f):h=j.createElement(XI,f),j.createElement(Dr,{className:"recharts-active-dot",clipPath:l},h)};function Nne(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:l=pr.activeDot}=e,u=Ae(zs),f=xne();if(t==null||f==null)return null;var h=t.find(p=>f.includes(p.payload));return Wt(h)?null:j.createElement(_n,{zIndex:l},j.createElement(_ne,{point:h,childIndex:Number(u),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var $P=(e,t,r)=>{var n=r??e;if(!Wt(n))return Jr(n,t,0)},One=(e,t,r)=>{var n={},a=e.filter(Eg),s=e.filter(h=>h.stackId==null),l=a.reduce((h,p)=>{var g=h[p.stackId];return g==null&&(g=[]),g.push(p),h[p.stackId]=g,h},n),u=Object.entries(l).map(h=>{var p,[g,y]=h,v=y.map(w=>w.dataKey),x=$P(t,r,(p=y[0])===null||p===void 0?void 0:p.barSize);return{stackId:g,dataKeys:v,barSize:x}}),f=s.map(h=>{var p=[h.dataKey].filter(y=>y!=null),g=$P(t,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...f]};function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){Ene(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ene(e,t,r){return(t=Ane(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ane(e){var t=Cne(e,"string");return typeof t=="symbol"?t:t+""}function Cne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kne(e,t,r,n,a){var s,l=n.length;if(!(l<1)){var u=Jr(e,r,0,!0),f,h=[];if(lt((s=n[0])===null||s===void 0?void 0:s.barSize)){var p=!1,g=r/l,y=n.reduce((O,E)=>O+(E.barSize||0),0);y+=(l-1)*u,y>=r&&(y-=(l-1)*u,u=0),y>=r&&g>0&&(p=!0,g*=.9,y=l*g);var v=(r-y)/2>>0,x={offset:v-u,size:0};f=n.reduce((O,E)=>{var C,T={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:x.offset+x.size+u,size:p?g:(C=E.barSize)!==null&&C!==void 0?C:0}},P=[...O,T];return x=T.position,P},h)}else{var w=Jr(t,r,0,!0);r-2*w-(l-1)*u<=0&&(u=0);var _=(r-2*w-(l-1)*u)/l;_>1&&(_>>=0);var N=lt(a)?Math.min(_,a):_;f=n.reduce((O,E,C)=>[...O,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:w+(_+u)*C+(_-N)/2,size:N}}],h)}return f}}var Pne=(e,t,r,n,a,s,l)=>{var u=Wt(l)?t:l,f=kne(r,n,a!==s?a:s,e,u);return a!==s&&f!=null&&(f=f.map(h=>pm(pm({},h),{},{position:pm(pm({},h.position),{},{offset:h.position.offset-a/2})}))),f},Tne=(e,t)=>{var r=fj(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(l=>l.key===r)}}}},Dne=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function Mne(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&lt(e.zIndex)?e.zIndex:t}var u5=e=>{var{chartData:t}=e,r=Bt(),n=en();return j.useEffect(()=>n?()=>{}:(r(Hk(t)),()=>{r(Hk(void 0))}),[t,r,n]),null},zP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},d5=Sn({name:"brush",initialState:zP,reducers:{setBrushSettings(e,t){return t.payload==null?zP:t.payload}}}),{setBrushSettings:Cle}=d5.actions,Rne=d5.reducer;function Ine(e){return(e%180+180)%180}var Lne=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Ine(a),l=s*Math.PI/180,u=Math.atan(n/r),f=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(f)},Bne={dots:[],areas:[],lines:[]},f5=Sn({name:"referenceElements",initialState:Bne,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=wa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=wa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=wa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:kle,removeDot:Ple,addArea:Tle,removeArea:Dle,addLine:Mle,removeLine:Rle}=f5.actions,$ne=f5.reducer,Une=j.createContext(void 0),zne=e=>{var{children:t}=e,[r]=j.useState("".concat(Nd("recharts"),"-clip")),n=nS();if(n==null)return null;var{x:a,y:s,width:l,height:u}=n;return j.createElement(Une.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:a,y:s,height:u,width:l}))),t)};function h5(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function qne(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Lne(n,r)}function Fne(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:u}=e;return t===1?{start:n?a:s,end:n?a+l:s+u}:{start:n?a+l:s+u,end:n?a:s}}function Ud(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function Kne(e,t){return h5(e,t+1)}function Qne(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:u}=t,f=0,h=1,p=l,g=function(){var x=n==null?void 0:n[f];if(x===void 0)return{v:h5(n,h)};var w=f,_,N=()=>(_===void 0&&(_=r(x,w)),_),O=x.coordinate,E=f===0||Ud(e,O,N,p,u);E||(f=0,p=l,h+=1),E&&(p=O+e*(N()/2+a),f+=h)},y;h<=s.length;)if(y=g(),y)return y.v;return[]}function Hne(e,t,r,n,a){var s=(n||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:f}=t,h=1;h<=l;h++){for(var p=(l-1)%h,g=u,y=!0,v=function(){var C=n[w];if(C==null)return 0;var T=w,P,M=()=>(P===void 0&&(P=r(C,T)),P),R=C.coordinate,B=w===p||Ud(e,R,M,g,f);if(!B)return y=!1,1;B&&(g=R+e*(M()/2+a))},x,w=p;w<l&&(x=v(),!(x!==0&&x===1));w+=h);if(y){for(var _=[],N=p;N<l;N+=h){var O=n[N];O!=null&&_.push(O)}return _}}return[]}function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(n){Vne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vne(e,t,r){return(t=Gne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gne(e){var t=Yne(e,"string");return typeof t=="symbol"?t:t+""}function Yne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wne(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:u}=t,{end:f}=t,h=function(y){var v=s[y];if(v==null)return 1;var x=v,w,_=()=>(w===void 0&&(w=r(v,y)),w);if(y===l-1){var N=e*(x.coordinate+e*_()/2-f);s[y]=x=Wr(Wr({},x),{},{tickCoord:N>0?x.coordinate-N*e:x.coordinate})}else s[y]=x=Wr(Wr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var O=Ud(e,x.tickCoord,_,u,f);O&&(f=x.tickCoord-e*(_()/2+a),s[y]=Wr(Wr({},x),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Xne(e,t,r,n,a,s){var l=(n||[]).slice(),u=l.length,{start:f,end:h}=t;if(s){var p=n[u-1];if(p!=null){var g=r(p,u-1),y=e*(p.coordinate+e*g/2-h);if(l[u-1]=p=Wr(Wr({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate}),p.tickCoord!=null){var v=Ud(e,p.tickCoord,()=>g,f,h);v&&(h=p.tickCoord-e*(g/2+a),l[u-1]=Wr(Wr({},p),{},{isShow:!0}))}}}for(var x=s?u-1:u,w=function(O){var E=l[O];if(E==null)return 1;var C=E,T,P=()=>(T===void 0&&(T=r(E,O)),T);if(O===0){var M=e*(C.coordinate-e*P()/2-f);l[O]=C=Wr(Wr({},C),{},{tickCoord:M<0?C.coordinate-M*e:C.coordinate})}else l[O]=C=Wr(Wr({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var R=Ud(e,C.tickCoord,P,f,h);R&&(f=C.tickCoord+e*(P()/2+a),l[O]=Wr(Wr({},C),{},{isShow:!0}))}},_=0;_<x;_++)w(_);return l}function aS(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:u,interval:f,tickFormatter:h,unit:p,angle:g}=e;if(!a||!a.length||!n)return[];if(Ne(f)||gg.isSsr){var y;return(y=Kne(a,Ne(f)?f:0))!==null&&y!==void 0?y:[]}var v=[],x=u==="top"||u==="bottom"?"width":"height",w=p&&x==="width"?md(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(T,P)=>{var M=typeof h=="function"?h(T.value,P):T.value;return x==="width"?qne(md(M,{fontSize:t,letterSpacing:r}),w,g):md(M,{fontSize:t,letterSpacing:r})[x]},N=a[0],O=a[1],E=a.length>=2&&N!=null&&O!=null?Tr(O.coordinate-N.coordinate):1,C=Fne(s,E,x);return f==="equidistantPreserveStart"?Qne(E,C,_,a,l):f==="equidistantPreserveEnd"?Hne(E,C,_,a,l):(f==="preserveStart"||f==="preserveStartEnd"?v=Xne(E,C,_,a,l,f==="preserveStartEnd"):v=Wne(E,C,_,a,l),v.filter(T=>T.isShow))}var Jne=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=r?r.getBoundingClientRect().width:0,f=a+s,h=l+f+u+(r?n:0);return Math.round(h)}return 0},Zne=["axisLine","width","height","className","hide","ticks","axisType"];function eae(e,t){if(e==null)return{};var r,n,a=tae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(null,arguments)}function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(n){rae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rae(e,t,r){return(t=nae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nae(e){var t=aae(e,"string");return typeof t=="symbol"?t:t+""}function aae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:pr.axis};function iae(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:u,otherSvgProps:f}=e;if(!u)return null;var h=rr(rr(rr({},f),Ln(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=rr(rr({},h),{},{x1:t,y1:r+p*a,x2:t+n,y2:r+p*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=rr(rr({},h),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return j.createElement("line",Jo({},h,{className:ft("recharts-cartesian-axis-line",Ho(u,"className"))}))}function sae(e,t,r,n,a,s,l,u,f){var h,p,g,y,v,x,w=u?-1:1,_=e.tickSize||l,N=Ne(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=p=e.coordinate,y=r+ +!u*a,g=y-w*_,x=g-w*f,v=N;break;case"left":g=y=e.coordinate,p=t+ +!u*n,h=p-w*_,v=h-w*f,x=N;break;case"right":g=y=e.coordinate,p=t+ +u*n,h=p+w*_,v=h+w*f,x=N;break;default:h=p=e.coordinate,y=r+ +u*a,g=y+w*_,x=g+w*f,v=N;break}return{line:{x1:h,y1:g,x2:p,y2:y},tick:{x:v,y:x}}}function oae(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function lae(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function cae(e){var{option:t,tickProps:r,value:n}=e,a,s=ft(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))a=j.cloneElement(t,rr(rr({},r),{},{className:s}));else if(typeof t=="function")a=t(rr(rr({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ft(l,t5(t))),a=j.createElement(Ig,Jo({},r,{className:l}),n)}return a}var uae=j.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:l,unit:u,padding:f,tickTextProps:h,orientation:p,mirror:g,x:y,y:v,width:x,height:w,tickSize:_,tickMargin:N,fontSize:O,letterSpacing:E,getTicksConfig:C,events:T,axisType:P}=e,M=aS(rr(rr({},C),{},{ticks:r}),O,E),R=oae(p,g),B=lae(p,g),H=Ln(C),Y=Ko(n),K={};typeof a=="object"&&(K=a);var me=rr(rr({},H),{},{fill:"none"},K),ie=M.map(V=>rr({entry:V},sae(V,y,v,x,w,p,_,g,N))),ye=ie.map(V=>{var{entry:ne,line:he}=V;return j.createElement(Dr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},a&&j.createElement("line",Jo({},me,he,{className:ft("recharts-cartesian-axis-tick-line",Ho(a,"className"))})))}),L=ie.map((V,ne)=>{var he,I,{entry:D,tick:U}=V,Z=rr(rr(rr(rr({verticalAnchor:B},H),{},{textAnchor:R,stroke:"none",fill:s},U),{},{index:ne,payload:D,visibleTicksCount:M.length,tickFormatter:l,padding:f},h),{},{angle:(he=(I=h==null?void 0:h.angle)!==null&&I!==void 0?I:H.angle)!==null&&he!==void 0?he:0}),q=rr(rr({},Z),Y);return j.createElement(Dr,Jo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},of(T,D,ne)),n&&j.createElement(cae,{option:n,tickProps:q,value:"".concat(typeof l=="function"?l(D.value,ne):D.value).concat(u||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},L.length>0&&j.createElement(_n,{zIndex:pr.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},L)),ye.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},ye))}),dae=j.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:u,axisType:f}=e,h=eae(e,Zne),[p,g]=j.useState(""),[y,v]=j.useState(""),x=j.useRef(null);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return Jne({ticks:x.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=j.useCallback(_=>{if(_){var N=_.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=N;var O=N[0];if(O){var E=window.getComputedStyle(O),C=E.fontSize,T=E.letterSpacing;(C!==p||T!==y)&&(g(C),v(T))}}},[p,y]);return l||n!=null&&n<=0||a!=null&&a<=0?null:j.createElement(_n,{zIndex:e.zIndex},j.createElement(Dr,{className:ft("recharts-cartesian-axis",s)},j.createElement(iae,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ln(e)}),j.createElement(uae,{ref:w,axisType:f,events:h,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),j.createElement(ste,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},j.createElement(gte,{label:e.label,labelRef:e.labelRef}),e.children)))}),iS=j.forwardRef((e,t)=>{var r=yr(e,Oi);return j.createElement(dae,Jo({},r,{ref:t}))});iS.displayName="CartesianAxis";var fae=["x1","y1","x2","y2","key"],hae=["offset"],mae=["xAxisId","yAxisId"],pae=["xAxisId","yAxisId"];function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){gae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gae(e,t,r){return(t=yae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yae(e){var t=vae(e,"string");return typeof t=="symbol"?t:t+""}function vae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Co.apply(null,arguments)}function Sp(e,t){if(e==null)return{};var r,n,a=bae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xae=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:u}=e;return j.createElement("rect",{x:n,y:a,ry:u,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function m5(e){var{option:t,lineItemProps:r}=e,n;if(j.isValidElement(t))n=j.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:l,x2:u,y2:f,key:h}=r,p=Sp(r,fae),g=(a=Ln(p))!==null&&a!==void 0?a:{},{offset:y}=g,v=Sp(g,hae);n=j.createElement("line",Co({},v,{x1:s,y1:l,x2:u,y2:f,fill:"none",key:h}))}return n}function wae(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=Sp(e,mae),f=a.map((h,p)=>{var g=Xr(Xr({},u),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(p),index:p});return j.createElement(m5,{key:"line-".concat(p),option:n,lineItemProps:g})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function jae(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=Sp(e,pae),f=a.map((h,p)=>{var g=Xr(Xr({},u),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(p),index:p});return j.createElement(m5,{option:n,lineItemProps:g,key:"line-".concat(p)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Sae(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:u,horizontal:f=!0}=e;if(!f||!t||!t.length||u==null)return null;var h=u.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var v=h[y+1],x=v==null,w=x?a+l-g:v-g;if(w<=0)return null;var _=y%t.length;return j.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:w,width:s,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function _ae(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:u,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var v=h[y+1],x=v==null,w=x?a+l-g:v-g;if(w<=0)return null;var _=y%r.length;return j.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:w,height:u,stroke:"none",fill:r[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Nae=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return sR(aS(Xr(Xr(Xr({},Oi),r),{},{ticks:oR(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Oae=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return sR(aS(Xr(Xr(Xr({},Oi),r),{},{ticks:oR(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},Eae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:pr.grid};function mc(e){var t=C1(),r=k1(),n=mR(),a=Xr(Xr({},yr(e,Eae)),{},{x:Ne(e.x)?e.x:n.left,y:Ne(e.y)?e.y:n.top,width:Ne(e.width)?e.width:n.width,height:Ne(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:u,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:y,verticalValues:v}=a,x=en(),w=Ae(B=>Mk(B,"xAxis",s,x)),_=Ae(B=>Mk(B,"yAxis",l,x));if(!Fa(h)||!Fa(p)||!Ne(u)||!Ne(f))return null;var N=a.verticalCoordinatesGenerator||Nae,O=a.horizontalCoordinatesGenerator||Oae,{horizontalPoints:E,verticalPoints:C}=a;if((!E||!E.length)&&typeof O=="function"){var T=y&&y.length,P=O({yAxis:_?Xr(Xr({},_),{},{ticks:T?y:_.ticks}):void 0,width:t??h,height:r??p,offset:n},T?!0:g);Ym(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(E=P)}if((!C||!C.length)&&typeof N=="function"){var M=v&&v.length,R=N({xAxis:w?Xr(Xr({},w),{},{ticks:M?v:w.ticks}):void 0,width:t??h,height:r??p,offset:n},M?!0:g);Ym(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(C=R)}return j.createElement(_n,{zIndex:a.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(xae,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),j.createElement(Sae,Co({},a,{horizontalPoints:E})),j.createElement(_ae,Co({},a,{verticalPoints:C})),j.createElement(wae,Co({},a,{offset:n,horizontalPoints:E,xAxis:w,yAxis:_})),j.createElement(jae,Co({},a,{offset:n,verticalPoints:C,xAxis:w,yAxis:_}))))}mc.displayName="CartesianGrid";var Aae={},p5=Sn({name:"errorBars",initialState:Aae,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Ile,replaceErrorBar:Lle,removeErrorBar:Ble}=p5.actions,Cae=p5.reducer,kae=["children"];function Pae(e,t){if(e==null)return{};var r,n,a=Tae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Mae=j.createContext(Dae);function g5(e){var{children:t}=e,r=Pae(e,kae);return j.createElement(Mae.Provider,{value:r},t)}function sS(e,t){var r,n,a=Ae(h=>Ki(h,e)),s=Ae(h=>Qi(h,t)),l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Ar.allowDataOverflow,u=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Cr.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function y5(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=nS(),{needClipX:s,needClipY:l,needClip:u}=sS(t,r);if(!u||!a)return null;var{x:f,y:h,width:p,height:g}=a;return j.createElement("clipPath",{id:"clipPath-".concat(n)},j.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var v5=(e,t,r,n)=>Us(e,"xAxis",t,n),b5=(e,t,r,n)=>$s(e,"xAxis",t,n),x5=(e,t,r,n)=>Us(e,"yAxis",r,n),w5=(e,t,r,n)=>$s(e,"yAxis",r,n),Rae=W([mt,v5,x5,b5,w5],(e,t,r,n,a)=>$i(e,"xAxis")?Tc(t,n,!1):Tc(r,a,!1)),Iae=(e,t,r,n,a)=>a;function Lae(e){return e.type==="line"}var Bae=W([kg,Iae],(e,t)=>e.filter(Lae).find(r=>r.id===t)),$ae=W([mt,v5,x5,b5,w5,Bae,Rae,nj],(e,t,r,n,a,s,l,u)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=u;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:y}=s,v;if(y!=null&&y.length>0?v=y:v=f==null?void 0:f.slice(h,p+1),v!=null)return _ie({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:v})}});function Uae(e){var t=Ko(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,l=Number(a),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(u)||u<0)&&(u=n),{r:l,strokeWidth:u}}return{r,strokeWidth:n}}var Yb={exports:{}},Wb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QP;function zae(){if(QP)return Wb;QP=1;var e=Bc();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Wb.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var v=a(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=l(function(){function _(T){if(!N){if(N=!0,O=T,T=g(T),y!==void 0&&x.hasValue){var P=x.value;if(y(P,T))return E=P}return E=T}if(P=E,r(O,T))return P;var M=g(T);return y!==void 0&&y(P,M)?(O=T,P):(O=T,E=M)}var N=!1,O,E,C=p===void 0?null:p;return[function(){return _(h())},C===null?void 0:function(){return _(C())}]},[h,p,g,y]);var w=n(f,v[0],v[1]);return s(function(){x.hasValue=!0,x.value=w},[w]),u(w),w},Wb}var HP;function qae(){return HP||(HP=1,Yb.exports=zae()),Yb.exports}qae();function Fae(e){e()}function Kae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Fae(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var VP={notify(){},get:()=>[]};function Qae(e,t){let r,n=VP,a=0,s=!1;function l(w){p();const _=n.subscribe(w);let N=!1;return()=>{N||(N=!0,_(),g())}}function u(){n.notify()}function f(){x.onStateChange&&x.onStateChange()}function h(){return s}function p(){a++,r||(r=e.subscribe(f),n=Kae())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=VP)}function y(){s||(s=!0,p())}function v(){s&&(s=!1,g())}const x={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>n};return x}var Hae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vae=Hae(),Gae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Yae=Gae(),Wae=()=>Vae||Yae?j.useLayoutEffect:j.useEffect,Xae=Wae();function GP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Jae(e,t){if(GP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!GP(e[r[a]],t[r[a]]))return!1;return!0}var Xb=Symbol.for("react-redux-context"),Jb=typeof globalThis<"u"?globalThis:{};function Zae(){if(!j.createContext)return{};const e=Jb[Xb]??(Jb[Xb]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var eie=Zae();function tie(e){const{children:t,context:r,serverState:n,store:a}=e,s=j.useMemo(()=>{const f=Qae(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),l=j.useMemo(()=>a.getState(),[a]);Xae(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const u=r||eie;return j.createElement(u.Provider,{value:s},t)}var rie=tie,nie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function aie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Ug(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(nie.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Jae(e[n],t[n]))return!1}else if(!aie(e[n],t[n]))return!1;return!0}var iie=["id"],sie=["type","layout","connectNulls","needClip","shape"],oie=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zd.apply(null,arguments)}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){lie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lie(e,t,r){return(t=cie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cie(e){var t=uie(e,"string");return typeof t=="symbol"?t:t+""}function uie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oS(e,t){if(e==null)return{};var r,n,a=die(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function die(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fie=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Hc(r,t),payload:e}]},hie=j.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:u,unit:f,tooltipType:h,id:p}=e,g={dataDefinedOnItem:r,getPosition:tl,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Hc(l,t),hide:u,type:h,color:n,unit:f,graphicalItemId:p}};return j.createElement(eS,{tooltipEntrySettings:g})}),j5=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function mie(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var pie=(e,t,r)=>{var n=r.reduce((v,x)=>v+x);if(!n)return j5(t,e);for(var a=Math.floor(e/n),s=e%n,l=t-e,u=[],f=0,h=0;f<r.length;h+=(p=r[f])!==null&&p!==void 0?p:0,++f){var p,g=r[f];if(g!=null&&h+g>s){u=[...r.slice(0,f),s-h];break}}var y=u.length%2===0?[0,l]:[l];return[...mie(r,a),...u,...y].map(v=>"".concat(v,"px")).join(", ")};function gie(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:l}=n,{id:u}=n,f=oS(n,iie),h=Ln(f);return j.createElement(ine,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:t})}function yie(e){var{showLabels:t,children:r,points:n}=e,a=j.useMemo(()=>n==null?void 0:n.map(s=>{var l,u,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return La(La({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[n]);return j.createElement(YI,{value:t?a:void 0},r)}function WP(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:l,layout:u,connectNulls:f,needClip:h,shape:p}=s,g=oS(s,sie),y=La(La({},cn(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:u,connectNulls:f,strokeDasharray:a??s.strokeDasharray});return j.createElement(j.Fragment,null,(n==null?void 0:n.length)>1&&j.createElement(Wj,zd({shapeType:"curve",option:p},y,{pathRef:r})),j.createElement(gie,{points:n,clipPathId:t,props:s}))}function vie(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function bie(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:u,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:y,width:v,height:x,onAnimationEnd:w,onAnimationStart:_}=r,N=a.current,O=mf(l,"recharts-line-"),E=j.useRef(O),[C,T]=j.useState(!1),P=!C,M=j.useCallback(()=>{typeof w=="function"&&w(),T(!1)},[w]),R=j.useCallback(()=>{typeof _=="function"&&_(),T(!0)},[_]),B=vie(n.current),H=j.useRef(0);E.current!==O&&(H.current=s.current,E.current=O);var Y=H.current;return j.createElement(yie,{points:l,showLabels:P},r.children,j.createElement(hf,{animationId:O,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:M,onAnimationStart:R,key:O},K=>{var me=Ht(Y,B+Y,K),ie=Math.min(me,B),ye;if(f)if(u){var L="".concat(u).split(/[,\s]+/gim).map(he=>parseFloat(he));ye=pie(ie,B,L)}else ye=j5(B,ie);else ye=u==null?void 0:String(u);if(K>0&&B>0&&(a.current=l,s.current=Math.max(s.current,ie)),N){var V=N.length/l.length,ne=K===1?l:l.map((he,I)=>{var D=Math.floor(I*V);if(N[D]){var U=N[D];return La(La({},he),{},{x:Ht(U.x,he.x,K),y:Ht(U.y,he.y,K)})}return y?La(La({},he),{},{x:Ht(v*2,he.x,K),y:Ht(x/2,he.y,K)}):La(La({},he),{},{x:he.x,y:he.y})});return a.current=ne,j.createElement(WP,{props:r,points:ne,clipPathId:t,pathRef:n,strokeDasharray:ye})}return j.createElement(WP,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:ye})}),j.createElement(Hj,{label:r.label}))}function xie(e){var{clipPathId:t,props:r}=e,n=j.useRef(null),a=j.useRef(0),s=j.useRef(null);return j.createElement(bie,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var wie=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Tt(e.payload,t)}};class jie extends j.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:l,top:u,left:f,width:h,height:p,id:g,needClip:y,zIndex:v}=this.props;if(t)return null;var x=ft("recharts-line",a),w=g,{r:_,strokeWidth:N}=Uae(r),O=a5(r),E=_*2+N,C=y?"url(#clipPath-".concat(O?"":"dots-").concat(w,")"):void 0;return j.createElement(_n,{zIndex:v},j.createElement(Dr,{className:x},y&&j.createElement("defs",null,j.createElement(y5,{clipPathId:w,xAxisId:s,yAxisId:l}),!O&&j.createElement("clipPath",{id:"clipPath-dots-".concat(w)},j.createElement("rect",{x:f-E/2,y:u-E/2,width:h+E,height:p+E}))),j.createElement(g5,{xAxisId:s,yAxisId:l,data:n,dataPointFormatter:wie,errorBarOffset:0},j.createElement(xie,{props:this.props,clipPathId:w}))),j.createElement(Nne,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:C}))}}var S5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:pr.line,type:"linear"};function Sie(e){var t=yr(e,S5),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:u,dot:f,hide:h,isAnimationActive:p,label:g,legendType:y,xAxisId:v,yAxisId:x,id:w}=t,_=oS(t,oie),{needClip:N}=sS(v,x),O=nS(),E=rl(),C=en(),T=Ae(H=>$ae(H,v,x,C,w));if(E!=="horizontal"&&E!=="vertical"||T==null||O==null)return null;var{height:P,width:M,x:R,y:B}=O;return j.createElement(jie,zd({},_,{id:w,connectNulls:u,dot:f,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:y,xAxisId:v,yAxisId:x,points:T,layout:E,height:P,width:M,left:R,top:B,needClip:N}))}function _ie(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:f}=e;return f.map((h,p)=>{var g=Tt(h,l);if(t==="horizontal"){var y=PC({axis:r,ticks:a,bandSize:u,entry:h,index:p}),v=Wt(g)?null:n.scale.map(g);return{x:y,y:v??null,value:g,payload:h}}var x=Wt(g)?null:r.scale.map(g),w=PC({axis:n,ticks:s,bandSize:u,entry:h,index:p});return x==null||w==null?null:{x,y:w,value:g,payload:h}}).filter(Boolean)}function Nie(e){var t=yr(e,S5),r=en();return j.createElement(tS,{id:t.id,type:"line"},n=>j.createElement(j.Fragment,null,j.createElement(i5,{legendPayload:fie(t)}),j.createElement(hie,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),j.createElement(o5,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),j.createElement(Sie,zd({},t,{id:n}))))}var _p=j.memo(Nie,Ug);_p.displayName="Line";function sl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:l5}function ol(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:l5}var Oie="Invariant failed";function Eie(e,t){throw new Error(Oie)}function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jw.apply(null,arguments)}function Np(e){return j.createElement(Wj,jw({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Aie=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Ne(t))return t;var s=Ne(n)||Wt(n);return s?t(n,a):(s||Eie(),r)}},Cie=(e,t,r)=>r,kie=(e,t)=>t,Of=W([kg,kie],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Pie=W([Of],e=>e==null?void 0:e.maxBarSize),Tie=(e,t,r,n)=>n,Die=W([mt,kg,sl,ol,Cie],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Mie=(e,t,r)=>{var n=mt(e),a=sl(e,t),s=ol(e,t);if(!(a==null||s==null))return n==="horizontal"?pw(e,"yAxis",s,r):pw(e,"xAxis",a,r)},Rie=(e,t)=>{var r=mt(e),n=sl(e,t),a=ol(e,t);if(!(n==null||a==null))return r==="horizontal"?Dk(e,"xAxis",n):Dk(e,"yAxis",a)},Iie=W([Die,eX,Rie],One),Lie=(e,t,r)=>{var n,a,s=Of(e,t);if(s==null)return 0;var l=sl(e,t),u=ol(e,t);if(l==null||u==null)return 0;var f=mt(e),h=A4(e),{maxBarSize:p}=s,g=Wt(p)?h:p,y,v;return f==="horizontal"?(y=Us(e,"xAxis",l,r),v=$s(e,"xAxis",l,r)):(y=Us(e,"yAxis",u,r),v=$s(e,"yAxis",u,r)),(n=(a=Tc(y,v,!0))!==null&&a!==void 0?a:g)!==null&&n!==void 0?n:0},_5=(e,t,r)=>{var n=mt(e),a=sl(e,t),s=ol(e,t);if(!(a==null||s==null)){var l,u;return n==="horizontal"?(l=Us(e,"xAxis",a,r),u=$s(e,"xAxis",a,r)):(l=Us(e,"yAxis",s,r),u=$s(e,"yAxis",s,r)),Tc(l,u)}},Bie=W([Iie,A4,ZW,C4,Lie,_5,Pie],Pne),$ie=(e,t,r)=>{var n=sl(e,t);if(n!=null)return Us(e,"xAxis",n,r)},Uie=(e,t,r)=>{var n=ol(e,t);if(n!=null)return Us(e,"yAxis",n,r)},zie=(e,t,r)=>{var n=sl(e,t);if(n!=null)return $s(e,"xAxis",n,r)},qie=(e,t,r)=>{var n=ol(e,t);if(n!=null)return $s(e,"yAxis",n,r)},Fie=W([Bie,Of],Dne),Kie=W([Mie,Of],Tne),Qie=W([Sr,O1,$ie,Uie,zie,qie,Fie,mt,QW,_5,Kie,Of,Tie],(e,t,r,n,a,s,l,u,f,h,p,g,y)=>{var{chartData:v,dataStartIndex:x,dataEndIndex:w}=f;if(!(g==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||a==null||s==null||h==null)){var{data:_}=g,N;if(_!=null&&_.length>0?N=_:N=v==null?void 0:v.slice(x,w+1),N!=null)return bse({layout:u,barSettings:g,pos:l,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:N,offset:e,cells:y,dataStartIndex:x})}}),Hie=["index"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sw.apply(null,arguments)}function Vie(e,t){if(e==null)return{};var r,n,a=Gie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var N5=j.createContext(void 0),Yie=e=>{var t=j.useContext(N5);if(t!=null)return t.stackId;if(e!=null)return $Q(e)},Wie=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Xie=e=>{var t=j.useContext(N5);if(t!=null){var{stackId:r}=t;return"url(#".concat(Wie(r,e),")")}},O5=e=>{var{index:t}=e,r=Vie(e,Hie),n=Xie(t);return j.createElement(Dr,Sw({className:"recharts-bar-stack-layer",clipPath:n},r))},Jie=["onMouseEnter","onMouseLeave","onClick"],Zie=["value","background","tooltipPosition"],ese=["id"],tse=["onMouseEnter","onClick","onMouseLeave"];function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(null,arguments)}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){rse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rse(e,t,r){return(t=nse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nse(e){var t=ase(e,"string");return typeof t=="symbol"?t:t+""}function ase(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Op(e,t){if(e==null)return{};var r,n,a=ise(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ise(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sse=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Hc(r,t),payload:e}]},ose=j.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:l,unit:u,tooltipType:f,id:h}=e,p={dataDefinedOnItem:void 0,getPosition:tl,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Hc(s,t),hide:l,type:f,color:a,unit:u,graphicalItemId:h}};return j.createElement(eS,{tooltipEntrySettings:p})});function lse(e){var t=Ae(zs),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:u,onClick:f}=s,h=Op(s,Jie),p=Xj(l,n,s.id),g=Jj(u),y=Zj(f,n,s.id);if(!a||r==null)return null;var v=Ko(a);return j.createElement(_n,{zIndex:Mne(a,pr.barBackground)},r.map((x,w)=>{var{value:_,background:N,tooltipPosition:O}=x,E=Op(x,Zie);if(!N)return null;var C=p(x,w),T=g(x,w),P=y(x,w),M=on(on(on(on(on({option:a,isActive:String(w)===t},E),{},{fill:"#eee"},N),v),of(h,x,w)),{},{onMouseEnter:C,onMouseLeave:T,onClick:P,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return j.createElement(Np,Ri({key:"background-bar-".concat(w)},M))}))}function cse(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return on(on({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return j.createElement(YI,{value:t?a:void 0},r)}function use(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:l}=e,u=Ae(zs),f=Ae($j),h=r&&String(s)===u&&(f==null||l===f),p=h?r:t;return h?j.createElement(_n,{zIndex:pr.activeBar},j.createElement(O5,{index:s},j.createElement(Np,Ri({},n,{name:String(n.name)},a,{isActive:h,option:p,index:s,dataKey:l})))):j.createElement(Np,Ri({},n,{name:String(n.name)},a,{isActive:h,option:p,index:s,dataKey:l}))}function dse(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return j.createElement(Np,Ri({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function fse(e){var t,{data:r,props:n}=e,a=(t=Ln(n))!==null&&t!==void 0?t:{},{id:s}=a,l=Op(a,ese),{shape:u,dataKey:f,activeBar:h}=n,{onMouseEnter:p,onClick:g,onMouseLeave:y}=n,v=Op(n,tse),x=Xj(p,f,s),w=Jj(y),_=Zj(g,f,s);return r?j.createElement(j.Fragment,null,r.map((N,O)=>j.createElement(O5,Ri({index:O,key:"rectangle-".concat(N==null?void 0:N.x,"-").concat(N==null?void 0:N.y,"-").concat(N==null?void 0:N.value,"-").concat(O),className:"recharts-bar-rectangle"},of(v,N,O),{onMouseEnter:x(N,O),onMouseLeave:w(N,O),onClick:_(N,O)}),h?j.createElement(use,{shape:u,activeBar:h,baseProps:l,entry:N,index:O,dataKey:f}):j.createElement(dse,{shape:u,baseProps:l,entry:N,index:O,dataKey:f})))):null}function hse(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=t,g=r.current,y=mf(t,"recharts-bar-"),[v,x]=j.useState(!1),w=!v,_=j.useCallback(()=>{typeof h=="function"&&h(),x(!1)},[h]),N=j.useCallback(()=>{typeof p=="function"&&p(),x(!0)},[p]);return j.createElement(cse,{showLabels:w,rects:n},j.createElement(hf,{animationId:y,begin:l,duration:u,isActive:s,easing:f,onAnimationEnd:_,onAnimationStart:N,key:y},O=>{var E=O===1?n:n==null?void 0:n.map((C,T)=>{var P=g&&g[T];if(P)return on(on({},C),{},{x:Ht(P.x,C.x,O),y:Ht(P.y,C.y,O),width:Ht(P.width,C.width,O),height:Ht(P.height,C.height,O)});if(a==="horizontal"){var M=Ht(0,C.height,O),R=Ht(C.stackedBarStart,C.y,O);return on(on({},C),{},{y:R,height:M})}var B=Ht(0,C.width,O),H=Ht(C.stackedBarStart,C.x,O);return on(on({},C),{},{width:B,x:H})});return O>0&&(r.current=E??null),E==null?null:j.createElement(Dr,null,j.createElement(fse,{props:t,data:E}))}),j.createElement(Hj,{label:t.label}),t.children)}function mse(e){var t=j.useRef(null);return j.createElement(hse,{previousRectanglesRef:t,props:e})}var E5=0,pse=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Tt(e,t)}};class gse extends j.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:l,needClip:u,background:f,id:h}=this.props;if(t||r==null)return null;var p=ft("recharts-bar",a),g=h;return j.createElement(Dr,{className:p,id:h},u&&j.createElement("defs",null,j.createElement(y5,{clipPathId:g,xAxisId:s,yAxisId:l})),j.createElement(Dr,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},j.createElement(lse,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),j.createElement(mse,this.props)))}}var yse={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:E5,xAxisId:0,yAxisId:0,zIndex:pr.bar};function vse(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p}=e,{needClip:g}=sS(t,r),y=rl(),v=en(),x=Yj(e.children,il),w=Ae(O=>Qie(O,e.id,v,x));if(y!=="vertical"&&y!=="horizontal")return null;var _,N=w==null?void 0:w[0];return N==null||N.height==null||N.width==null?_=0:_=y==="vertical"?N.height/2:N.width/2,j.createElement(g5,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:pse,errorBarOffset:_},j.createElement(gse,Ri({},e,{layout:y,needClip:g,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function bse(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:y,cells:v,parentViewBox:x,dataStartIndex:w}=e,_=t==="horizontal"?u:l,N=p?_.scale.domain():null,O=UQ({numericAxis:_}),E=_.scale.map(O);return g.map((C,T)=>{var P,M,R,B,H,Y;if(p){var K=p[T+w];if(K==null)return null;P=MQ(K,N)}else P=Tt(C,r),Array.isArray(P)||(P=[O,P]);var me=Aie(n,E5)(P[1],T);if(t==="horizontal"){var ie,ye=u.scale.map(P[0]),L=u.scale.map(P[1]);if(ye==null||L==null)return null;M=TC({axis:l,ticks:f,bandSize:s,offset:a.offset,entry:C,index:T}),R=(ie=L??ye)!==null&&ie!==void 0?ie:void 0,B=a.size;var V=ye-L;if(H=za(V)?0:V,Y={x:M,y:y.top,width:B,height:y.height},Math.abs(me)>0&&Math.abs(H)<Math.abs(me)){var ne=Tr(H||me)*(Math.abs(me)-Math.abs(H));R-=ne,H+=ne}}else{var he=l.scale.map(P[0]),I=l.scale.map(P[1]);if(he==null||I==null)return null;if(M=he,R=TC({axis:u,ticks:h,bandSize:s,offset:a.offset,entry:C,index:T}),B=I-he,H=a.size,Y={x:y.left,y:R,width:y.width,height:H},Math.abs(me)>0&&Math.abs(B)<Math.abs(me)){var D=Tr(B||me)*(Math.abs(me)-Math.abs(B));B+=D}}if(M==null||R==null||B==null||H==null)return null;var U=on(on({},C),{},{stackedBarStart:E,x:M,y:R,width:B,height:H,value:p?P:P[1],payload:C,background:Y,tooltipPosition:{x:M+B/2,y:R+H/2},parentViewBox:x},v&&v[T]&&v[T].props);return U}).filter(Boolean)}function xse(e){var t=yr(e,yse),r=Yie(t.stackId),n=en();return j.createElement(tS,{id:t.id,type:"bar"},a=>j.createElement(j.Fragment,null,j.createElement(i5,{legendPayload:sse(t)}),j.createElement(ose,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),j.createElement(o5,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),j.createElement(_n,{zIndex:t.zIndex},j.createElement(vse,Ri({},t,{id:a})))))}var wi=j.memo(xse,Ug);wi.displayName="Bar";var wse=["domain","range"],jse=["domain","range"];function JP(e,t){if(e==null)return{};var r,n,a=Sse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function A5(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=JP(e,wse),{domain:s,range:l}=t,u=JP(t,jse);return!ZP(r,s)||!ZP(n,l)?!1:Ug(a,u)}var _se=["type"],Nse=["dangerouslySetInnerHTML","ticks","scale"],Ose=["id","scale"];function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_w.apply(null,arguments)}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(n){Ese(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ese(e,t,r){return(t=Ase(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ase(e){var t=Cse(e,"string");return typeof t=="symbol"?t:t+""}function Cse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nw(e,t){if(e==null)return{};var r,n,a=kse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pse(e){var t=Bt(),r=j.useRef(null),n=pR(),{type:a}=e,s=Nw(e,_se),l=Ng(n,"xAxis",a),u=j.useMemo(()=>{if(l!=null)return tT(tT({},s),{},{type:l})},[s,l]);return j.useLayoutEffect(()=>{u!=null&&(r.current===null?t(une(u)):r.current!==u&&t(dne({prev:r.current,next:u})),r.current=u)},[u,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(fne(r.current)),r.current=null)},[t]),null}var Tse=e=>{var{xAxisId:t,className:r}=e,n=Ae(O1),a=en(),s="xAxis",l=Ae(N=>lI(N,s,t,a)),u=Ae(N=>aI(N,t)),f=Ae(N=>eJ(N,t)),h=Ae(N=>$4(N,t));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:y}=e,v=Nw(e,Nse),{id:x,scale:w}=h,_=Nw(h,Ose);return j.createElement(iS,_w({},v,_,{x:f.x,y:f.y,width:u.width,height:u.height,className:ft("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},Dse={allowDataOverflow:Ar.allowDataOverflow,allowDecimals:Ar.allowDecimals,allowDuplicatedCategory:Ar.allowDuplicatedCategory,angle:Ar.angle,axisLine:Oi.axisLine,height:Ar.height,hide:!1,includeHidden:Ar.includeHidden,interval:Ar.interval,label:!1,minTickGap:Ar.minTickGap,mirror:Ar.mirror,orientation:Ar.orientation,padding:Ar.padding,reversed:Ar.reversed,scale:Ar.scale,tick:Ar.tick,tickCount:Ar.tickCount,tickLine:Oi.tickLine,tickSize:Oi.tickSize,type:Ar.type,xAxisId:0},Mse=e=>{var t=yr(e,Dse);return j.createElement(j.Fragment,null,j.createElement(Pse,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),j.createElement(Tse,t))},pc=j.memo(Mse,A5);pc.displayName="XAxis";var Rse=["type"],Ise=["dangerouslySetInnerHTML","ticks","scale"],Lse=["id","scale"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ow.apply(null,arguments)}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){Bse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bse(e,t,r){return(t=$se(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $se(e){var t=Use(e,"string");return typeof t=="symbol"?t:t+""}function Use(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ew(e,t){if(e==null)return{};var r,n,a=zse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qse(e){var t=Bt(),r=j.useRef(null),n=pR(),{type:a}=e,s=Ew(e,Rse),l=Ng(n,"yAxis",a),u=j.useMemo(()=>{if(l!=null)return nT(nT({},s),{},{type:l})},[l,s]);return j.useLayoutEffect(()=>{u!=null&&(r.current===null?t(hne(u)):r.current!==u&&t(mne({prev:r.current,next:u})),r.current=u)},[u,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(pne(r.current)),r.current=null)},[t]),null}function Fse(e){var{yAxisId:t,className:r,width:n,label:a}=e,s=j.useRef(null),l=j.useRef(null),u=Ae(O1),f=en(),h=Bt(),p="yAxis",g=Ae(P=>iI(P,t)),y=Ae(P=>rJ(P,t)),v=Ae(P=>lI(P,p,t,f)),x=Ae(P=>U4(P,t));if(j.useLayoutEffect(()=>{if(!(n!=="auto"||!g||Qj(a)||j.isValidElement(a)||x==null)){var P=s.current;if(P){var M=P.getCalculatedWidth();Math.round(g.width)!==Math.round(M)&&h(gne({id:t,width:M}))}}},[v,g,h,a,t,n,x]),g==null||y==null||x==null)return null;var{dangerouslySetInnerHTML:w,ticks:_,scale:N}=e,O=Ew(e,Ise),{id:E,scale:C}=x,T=Ew(x,Lse);return j.createElement(iS,Ow({},O,T,{ref:s,labelRef:l,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:ft("recharts-".concat(p," ").concat(p),r),viewBox:u,ticks:v,axisType:p}))}var Kse={allowDataOverflow:Cr.allowDataOverflow,allowDecimals:Cr.allowDecimals,allowDuplicatedCategory:Cr.allowDuplicatedCategory,angle:Cr.angle,axisLine:Oi.axisLine,hide:!1,includeHidden:Cr.includeHidden,interval:Cr.interval,label:!1,minTickGap:Cr.minTickGap,mirror:Cr.mirror,orientation:Cr.orientation,padding:Cr.padding,reversed:Cr.reversed,scale:Cr.scale,tick:Cr.tick,tickCount:Cr.tickCount,tickLine:Oi.tickLine,tickSize:Oi.tickSize,type:Cr.type,width:Cr.width,yAxisId:0},Qse=e=>{var t=yr(e,Kse);return j.createElement(j.Fragment,null,j.createElement(qse,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),j.createElement(Fse,t))},gc=j.memo(Qse,A5);gc.displayName="YAxis";var Hse=(e,t)=>t,lS=W([Hse,mt,I4,Rr,NI,Hi,vZ,Sr],NZ),cS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},C5=sa("mouseClick"),k5=cf();k5.startListening({actionCreator:C5,effect:(e,t)=>{var r=e.payload,n=lS(t.getState(),cS(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(gJ({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Aw=sa("mouseMove"),P5=cf(),gm=null;P5.startListening({actionCreator:Aw,effect:(e,t)=>{var r=e.payload;gm!==null&&cancelAnimationFrame(gm);var n=cS(r);gm=requestAnimationFrame(()=>{var a=t.getState(),s=Dj(a,a.tooltip.settings.shared);if(s==="axis"){var l=lS(a,n);(l==null?void 0:l.activeIndex)!=null?t.dispatch(gI({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(pI())}gm=null})}});function Vse(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var aT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},T5=Sn({name:"rootProps",initialState:aT,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:aT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Gse=T5.reducer,{updateOptions:Yse}=T5.actions,Wse=null,Xse={updatePolarOptions:(e,t)=>t.payload},D5=Sn({name:"polarOptions",initialState:Wse,reducers:Xse}),{updatePolarOptions:Jse}=D5.actions,Zse=D5.reducer,M5=sa("keyDown"),R5=sa("focus"),uS=cf();uS.startListening({actionCreator:M5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Mj(a,tu(r),jf(r),_f(r)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var f=Hi(r);if(s==="Enter"){var h=vp(r,"axis","hover",String(a.index));t.dispatch(yw({active:!a.active,activeIndex:a.index,activeCoordinate:h}));return}var p=sJ(r),g=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,v=u+y*g;if(!(f==null||v>=f.length||v<0)){var x=vp(r,"axis","hover",String(v));t.dispatch(yw({active:!0,activeIndex:v.toString(),activeCoordinate:x}))}}}}}});uS.startListening({actionCreator:R5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=vp(r,"axis","hover",String(s));t.dispatch(yw({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var ea=sa("externalEvent"),I5=cf(),Zb=new Map;I5.startListening({actionCreator:ea,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=Zb.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:rZ(u),activeDataKey:$j(u),activeIndex:zs(u),activeLabel:AI(u),activeTooltipIndex:zs(u),isTooltipActive:nZ(u)};r(f,n)}finally{Zb.delete(a)}});Zb.set(a,l)}}});var eoe=W([Zc],e=>e.tooltipItemPayloads),toe=W([eoe,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),L5=sa("touchMove"),B5=cf();B5.startListening({actionCreator:L5,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Dj(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var l=lS(n,cS({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(gI({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var u,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(cR),g=(u=h.getAttribute(uR))!==null&&u!==void 0?u:void 0,y=eu(n).find(w=>w.id===g);if(p==null||y==null||g==null)return;var{dataKey:v}=y,x=toe(n,p,g);t.dispatch(mI({activeDataKey:v,activeIndex:p,activeCoordinate:x,activeGraphicalItemId:g}))}}}});var roe=PM({brush:Rne,cartesianAxis:yne,chartData:ree,errorBars:Cae,graphicalItems:_re,layout:CQ,legend:IH,options:XZ,polarAxis:Bte,polarOptions:Zse,referenceElements:$ne,rootProps:Gse,tooltip:yJ,zIndex:$Z}),noe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return eQ({reducer:roe,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([k5.middleware,P5.middleware,uS.middleware,I5.middleware,B5.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(HM({type:"raf"}))},devTools:{serialize:{replacer:Vse},name:"recharts-".concat(r)}})};function $5(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=en(),s=j.useRef(null);if(a)return r;s.current==null&&(s.current=noe(t,n));var l=b1;return j.createElement(rie,{context:l,store:s.current},r)}function aoe(e){var{layout:t,margin:r}=e,n=Bt(),a=en();return j.useEffect(()=>{a||(n(OQ(t)),n(NQ(r)))},[n,a,t,r]),null}var U5=j.memo(aoe,Ug);function z5(e){var t=Bt();return j.useEffect(()=>{t(Yse(e))},[t,e]),null}function iT(e){var{zIndex:t,isPanorama:r}=e,n=j.useRef(null),a=Bt();return j.useLayoutEffect(()=>(n.current&&a(LZ({zIndex:t,element:n.current,isPanorama:r})),()=>{a(BZ({zIndex:t,isPanorama:r}))}),[a,t,r]),j.createElement("g",{tabIndex:-1,ref:n})}function sT(e){var{children:t,isPanorama:r}=e,n=Ae(EZ);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),s=n.filter(l=>l>0);return j.createElement(j.Fragment,null,a.map(l=>j.createElement(iT,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>j.createElement(iT,{key:l,zIndex:l,isPanorama:r})))}var ioe=["children"];function soe(e,t){if(e==null)return{};var r,n,a=ooe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ooe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(null,arguments)}var loe={width:"100%",height:"100%",display:"block"},coe=j.forwardRef((e,t)=>{var r=C1(),n=k1(),a=ER();if(!Fa(r)||!Fa(n))return null;var{children:s,otherAttributes:l,title:u,desc:f}=e,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0),j.createElement(l1,Ep({},l,{title:u,desc:f,role:p,tabIndex:h,width:r,height:n,style:loe,ref:t}),s)}),uoe=e=>{var{children:t}=e,r=Ae(dg);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return j.createElement(l1,{width:n,height:a,x:l,y:s},t)},oT=j.forwardRef((e,t)=>{var{children:r}=e,n=soe(e,ioe),a=en();return a?j.createElement(uoe,null,j.createElement(sT,{isPanorama:!0},r)):j.createElement(coe,Ep({ref:t},n),j.createElement(sT,{isPanorama:!1},r))});function doe(){var e=Bt(),[t,r]=j.useState(null),n=Ae(HQ);return j.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;lt(s)&&s!==n&&e(AQ(s))}},[t,e,n]),r}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function foe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){hoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hoe(e,t,r){return(t=moe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function moe(e){var t=poe(e,"string");return typeof t=="symbol"?t:t+""}function poe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ls.apply(null,arguments)}var goe=()=>(dee(),null);function Ap(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var yoe=j.forwardRef((e,t)=>{var r,n,a=j.useRef(null),[s,l]=j.useState({containerWidth:Ap((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Ap((n=e.style)===null||n===void 0?void 0:n.height)}),u=j.useCallback((h,p)=>{l(g=>{var y=Math.round(h),v=Math.round(p);return g.containerWidth===y&&g.containerHeight===v?g:{containerWidth:y,containerHeight:v}})},[]),f=j.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();u(p,g);var y=x=>{var w=x[0];if(w!=null){var{width:_,height:N}=w.contentRect;u(_,N)}},v=new ResizeObserver(y);v.observe(h),a.current=v}},[t,u]);return j.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[u]),j.createElement(j.Fragment,null,j.createElement(df,{width:s.containerWidth,height:s.containerHeight}),j.createElement("div",Ls({ref:f},e)))}),voe=j.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=j.useState({containerWidth:Ap(r),containerHeight:Ap(n)}),l=j.useCallback((f,h)=>{s(p=>{var g=Math.round(f),y=Math.round(h);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),u=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[t,l]);return j.createElement(j.Fragment,null,j.createElement(df,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",Ls({ref:u},e)))}),boe=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return j.createElement(j.Fragment,null,j.createElement(df,{width:r,height:n}),j.createElement("div",Ls({ref:t},e)))}),xoe=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?j.createElement(voe,Ls({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?j.createElement(boe,Ls({},e,{width:r,height:n,ref:t})):j.createElement(j.Fragment,null,j.createElement(df,{width:r,height:n}),j.createElement("div",Ls({ref:t},e)))});function woe(e){return e?yoe:xoe}var joe=j.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:y,onTouchEnd:v,onTouchMove:x,onTouchStart:w,style:_,width:N,responsive:O,dispatchTouchEvents:E=!0}=e,C=j.useRef(null),T=Bt(),[P,M]=j.useState(null),[R,B]=j.useState(null),H=doe(),Y=E1(),K=(Y==null?void 0:Y.width)>0?Y.width:N,me=(Y==null?void 0:Y.height)>0?Y.height:a,ie=j.useCallback(te=>{H(te),typeof t=="function"&&t(te),M(te),B(te),te!=null&&(C.current=te)},[H,t,M,B]),ye=j.useCallback(te=>{T(C5(te)),T(ea({handler:s,reactEvent:te}))},[T,s]),L=j.useCallback(te=>{T(Aw(te)),T(ea({handler:h,reactEvent:te}))},[T,h]),V=j.useCallback(te=>{T(pI()),T(ea({handler:p,reactEvent:te}))},[T,p]),ne=j.useCallback(te=>{T(Aw(te)),T(ea({handler:g,reactEvent:te}))},[T,g]),he=j.useCallback(()=>{T(R5())},[T]),I=j.useCallback(te=>{T(M5(te.key))},[T]),D=j.useCallback(te=>{T(ea({handler:l,reactEvent:te}))},[T,l]),U=j.useCallback(te=>{T(ea({handler:u,reactEvent:te}))},[T,u]),Z=j.useCallback(te=>{T(ea({handler:f,reactEvent:te}))},[T,f]),q=j.useCallback(te=>{T(ea({handler:y,reactEvent:te}))},[T,y]),ge=j.useCallback(te=>{T(ea({handler:w,reactEvent:te}))},[T,w]),ve=j.useCallback(te=>{E&&T(L5(te)),T(ea({handler:x,reactEvent:te}))},[T,E,x]),pe=j.useCallback(te=>{T(ea({handler:v,reactEvent:te}))},[T,v]),ke=woe(O);return j.createElement(RI.Provider,{value:P},j.createElement(GD.Provider,{value:R},j.createElement(ke,{width:K??(_==null?void 0:_.width),height:me??(_==null?void 0:_.height),className:ft("recharts-wrapper",n),style:foe({position:"relative",cursor:"default",width:K,height:me},_),onClick:ye,onContextMenu:D,onDoubleClick:U,onFocus:he,onKeyDown:I,onMouseDown:Z,onMouseEnter:L,onMouseLeave:V,onMouseMove:ne,onMouseUp:q,onTouchEnd:pe,onTouchMove:ve,onTouchStart:ge,ref:ie},j.createElement(goe,null),r)))}),Soe=["width","height","responsive","children","className","style","compact","title","desc"];function _oe(e,t){if(e==null)return{};var r,n,a=Noe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Noe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var q5=j.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:u,compact:f,title:h,desc:p}=e,g=_oe(e,Soe),y=Ln(g);return f?j.createElement(j.Fragment,null,j.createElement(df,{width:r,height:n}),j.createElement(oT,{otherAttributes:y,title:h,desc:p},s)):j.createElement(joe,{className:l,style:u,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(oT,{otherAttributes:y,title:h,desc:p,ref:t},j.createElement(zne,null,s)))});function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cw.apply(null,arguments)}var Ooe={top:5,right:5,bottom:5,left:5},Eoe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ooe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},F5=j.forwardRef(function(t,r){var n,a=yr(t.categoricalChartProps,Eoe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return j.createElement($5,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},j.createElement(u5,{chartData:h.data}),j.createElement(U5,{layout:a.layout,margin:a.margin}),j.createElement(z5,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(q5,Cw({},a,{ref:r})))}),Aoe=["axis","item"],K5=j.forwardRef((e,t)=>j.createElement(F5,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Aoe,tooltipPayloadSearcher:Kj,categoricalChartProps:e,ref:t}));function Coe(e){var t=Bt();return j.useEffect(()=>{t(Jse(e))},[t,e]),null}var koe=["layout"];function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kw.apply(null,arguments)}function Poe(e,t){if(e==null)return{};var r,n,a=Toe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Toe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Doe={top:5,right:5,bottom:5,left:5},Q5={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Doe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Moe=j.forwardRef(function(t,r){var n,a=yr(t.categoricalChartProps,Q5),{layout:s}=a,l=Poe(a,koe),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=t,g={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return j.createElement($5,{preloadedState:{options:g},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},j.createElement(u5,{chartData:a.data}),j.createElement(U5,{layout:s,margin:a.margin}),j.createElement(z5,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(Coe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),j.createElement(q5,kw({},l,{ref:r})))});function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(n){Roe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Roe(e,t,r){return(t=Ioe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ioe(e){var t=Loe(e,"string");return typeof t=="symbol"?t:t+""}function Loe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Boe=["item"],$oe=uT(uT({},Q5),{},{layout:"centric",startAngle:0,endAngle:360}),H5=j.forwardRef((e,t)=>{var r=yr(e,$oe);return j.createElement(Moe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Boe,tooltipPayloadSearcher:Kj,categoricalChartProps:r,ref:t})}),Uoe=["axis"],Pw=j.forwardRef((e,t)=>j.createElement(F5,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Uoe,tooltipPayloadSearcher:Kj,categoricalChartProps:e,ref:t}));const zoe=()=>{const{user:e,isLoading:t}=_a(),[r,n]=j.useState(window.innerWidth<768);if(j.useEffect(()=>{const I=()=>n(window.innerWidth<768);return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),t)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading session..."});if(!e)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Not Authenticated"});const a=e.role===Ge.ADMIN,[s,l]=j.useState("All Time"),[u,f]=j.useState({from:"",to:""}),{data:h=[],isPending:p}=qp(),{data:g=[],isPending:y}=Fp(),{data:v=[],isPending:x}=tf(),{data:w=[],isPending:_}=Bi(),{data:N=[]}=Ks(),O=p||y||x||_,E=j.useMemo(()=>h.filter(I=>y0(I.orderDate,s,u)),[h,s,u]),C=j.useMemo(()=>g.filter(I=>y0(I.billDate,s,u)),[g,s,u]),T=j.useMemo(()=>v.filter(I=>y0(I.date,s,u)),[v,s,u]),P=T.filter(I=>I.type==="Income"&&!!I.referenceId).reduce((I,D)=>I+D.amount,0),M=P>0?P:E.filter(I=>I.status===De.COMPLETED).reduce((I,D)=>I+D.total,0),R=T.filter(I=>I.type==="Expense"&&I.category==="expense_purchases").reduce((I,D)=>I+D.amount,0),B=R>0?R:C.reduce((I,D)=>I+D.total,0),H=T.filter(I=>I.type==="Expense"&&I.category!=="expense_purchases").reduce((I,D)=>I+D.amount,0),Y=M-B-H,K={total:E.length,processing:E.filter(I=>I.status===De.PROCESSING).length,picked:E.filter(I=>I.status===De.PICKED).length,completed:E.filter(I=>I.status===De.COMPLETED).length};E.reduce((I,D)=>I+(D.total-D.paidAmount),0),C.reduce((I,D)=>I+(D.total-D.paidAmount),0);const me=h.filter(I=>I.createdBy===e.id).length,ie=new Date().toISOString().split("T")[0],ye=h.filter(I=>I.createdBy===e.id&&I.orderDate===ie).length,L=h.filter(I=>I.createdBy===e.id&&I.status===De.ON_HOLD).length,V=j.useMemo(()=>{const I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],D=new Date().getFullYear(),U={};return I.forEach(Z=>{U[Z]={income:0,expense:0}}),v.forEach(Z=>{const q=new Date(Z.date);if(q.getFullYear()!==D)return;const ge=q.getMonth(),ve=I[ge];Z.type==="Income"?U[ve].income+=Z.amount:Z.type==="Expense"&&(U[ve].expense+=Z.amount)}),I.map(Z=>({name:Z,income:U[Z].income,expense:-U[Z].expense,profit:U[Z].income-U[Z].expense}))},[h,g,v]),ne=j.useMemo(()=>{const I=new Map(N.map(pe=>[pe.id,pe.name])),D={},U={},Z=["#10B981","#3B82F6","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16"];let q=0;B>0&&(D.Purchases=B,U.Purchases=Z[q++]),T.filter(pe=>pe.type==="Expense"&&pe.category!=="expense_purchases").forEach(pe=>{const ke=I.get(pe.category)||pe.category||"Uncategorized";D[ke]=(D[ke]||0)+pe.amount,U[ke]||(U[ke]=Z[q%Z.length],q++)});const ve=Object.entries(D).map(([pe,ke])=>({name:pe,value:Math.max(ke,1),color:U[pe]}));return ve.length>0?ve:[{name:"No Data",value:1,color:"#D1D5DB"}]},[T,B,N]),he=w.map(I=>({name:I.name.split(" ")[0],orders:E.filter(D=>D.createdBy===I.id).length})).sort((I,D)=>D.orders-I.orders);return a?c.jsxs("div",{className:"space-y-6",children:[c.jsx(ef,{isLoading:O,message:"Loading dashboard data..."}),c.jsx(_d,{filterRange:s,setFilterRange:l,customDates:u,setCustomDates:f}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(fa,{title:"Total Sales",value:we(M),icon:ae.Sales,bgColor:"bg-blue-600",textColor:"text-white",iconBgColor:"bg-blue-700"}),c.jsx(fa,{title:"Total Purchases",value:we(B),icon:ae.Briefcase,bgColor:"bg-purple-600",textColor:"text-white",iconBgColor:"bg-purple-700"}),c.jsx(fa,{title:"Other Expenses",value:we(H),icon:ae.Delete,bgColor:"bg-amber-500",textColor:"text-white",iconBgColor:"bg-amber-600"}),c.jsx(fa,{title:"Total Profit",value:we(Y),icon:ae.Reports,isProfitCard:!0,profitValue:Y}),c.jsx(fa,{title:"Total Orders",value:K.total,icon:ae.Dashboard,bgColor:"bg-indigo-700",textColor:"text-white",iconBgColor:"bg-indigo-800"}),c.jsx(fa,{title:"Processing Orders",value:K.processing,icon:ae.More,bgColor:"bg-sky-500",textColor:"text-white",iconBgColor:"bg-sky-600"}),c.jsx(fa,{title:"Picked Orders",value:K.picked,icon:ae.Courier,bgColor:"bg-cyan-500",textColor:"text-white",iconBgColor:"bg-cyan-600"}),c.jsx(fa,{title:"Completed Orders",value:K.completed,icon:ae.PlusCircle,bgColor:"bg-teal-600",textColor:"text-white",iconBgColor:"bg-teal-700"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsx("div",{children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Cash Flow"})}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-[#059669]"}),c.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Income"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),c.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Expense"})]})]})]}),c.jsx("div",{className:"h-[250px]",children:c.jsx(fc,{width:"100%",height:"100%",children:r?c.jsxs(Pw,{data:V,margin:{top:10,right:0,left:-20,bottom:0},children:[c.jsx(mc,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(pc,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(gc,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(Ao,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f8fafc"}}),c.jsx(wi,{dataKey:"income",fill:"#059669",radius:[4,4,0,0],barSize:40}),c.jsx(wi,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],barSize:40}),c.jsx(_p,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"}})]}):c.jsxs(Pw,{data:V,children:[c.jsx(mc,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(pc,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(gc,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:600,fill:"#94a3b8"}}),c.jsx(Ao,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f8fafc"}}),c.jsx(wi,{dataKey:"income",fill:"#059669",radius:[4,4,0,0],barSize:40}),c.jsx(wi,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],barSize:40}),c.jsx(_p,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"}})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("div",{className:"flex items-center justify-between mb-8",children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Profit & Loss Summary"})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg",children:[c.jsx("span",{className:"font-bold text-gray-600 text-sm",children:"Total Incomes"}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:we(M)})]}),c.jsxs("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg",children:[c.jsx("span",{className:"font-bold text-gray-600 text-sm",children:"Total Expenses"}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:we(B+H)})]}),c.jsxs("div",{className:`flex justify-between items-center p-6 rounded-xl shadow-xl text-white
                  ${Y>=0?"bg-emerald-600 shadow-emerald-600/20":"bg-red-600 shadow-red-600/20"}
                `,children:[c.jsx("span",{className:"font-black uppercase tracking-widest text-sm",children:"Net Profit"}),c.jsx("span",{className:"font-black text-sm",children:we(Y)})]})]})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-8",children:"Expenses by Category"}),c.jsx("div",{className:"h-[300px]",children:c.jsx(fc,{width:"100%",height:"100%",children:c.jsxs(H5,{children:[c.jsx(rS,{data:ne,innerRadius:0,outerRadius:100,dataKey:"value",children:ne.map((I,D)=>c.jsx(il,{fill:I.color},`cell-${D}`))}),c.jsx(Ao,{}),r?c.jsx(Td,{verticalAlign:"bottom",align:"center",layout:"horizontal",wrapperStyle:{paddingTop:"20px"}}):c.jsx(Td,{verticalAlign:"middle",align:"right",layout:"vertical"})]})})})]})]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx(_d,{filterRange:s,setFilterRange:l,customDates:u,setCustomDates:f}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(fa,{title:"Total Created",value:me,icon:ae.Sales,bgColor:"bg-blue-600",textColor:"text-white",iconBgColor:"bg-blue-700"}),c.jsx(fa,{title:"Created Today",value:ye,icon:ae.Dashboard,bgColor:"bg-teal-500",textColor:"text-white",iconBgColor:"bg-teal-600"}),c.jsx(fa,{title:"Pending (Hold)",value:L,icon:ae.More,bgColor:"bg-orange-500",textColor:"text-white",iconBgColor:"bg-orange-600"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-100 shadow-sm",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Performance"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Comparing total orders across all employees"})]}),c.jsx("div",{className:"h-[400px]",children:c.jsx(fc,{width:"100%",height:"100%",children:c.jsxs(K5,{data:he,children:[c.jsx(mc,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(pc,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:700,fill:"#64748b"}}),c.jsx(gc,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:700,fill:"#64748b"}}),c.jsx(Ao,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),c.jsx(wi,{dataKey:"orders",fill:"#10B981",radius:[12,12,0,0]})]})})})]})]})},V5=({anchorEl:e,open:t,onClose:r,children:n,align:a="right"})=>{const[s,l]=j.useState(null);if(j.useEffect(()=>{if(!t||!e){l(null);return}const f=()=>{const h=e.getBoundingClientRect(),g=a==="right"?h.right-200:h.left,y=h.bottom+8;l({top:y,left:g})};return f(),window.addEventListener("resize",f),window.addEventListener("scroll",f,!0),()=>{window.removeEventListener("resize",f),window.removeEventListener("scroll",f,!0)}},[e,t,a]),j.useEffect(()=>{if(!t)return;const f=h=>{const p=h.target;if(!e||e.contains(p))return;const g=document.getElementById("portal-menu-root");g&&g.contains(p)||r()};return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[t,e,r]),!t||!s)return null;const u=c.jsx("div",{id:"portal-menu-root",className:"fixed left-0 top-0 z-[2000] pointer-events-none",children:c.jsx("div",{style:{position:"fixed",top:s.top,left:s.left},className:"pointer-events-auto w-48 bg-white border border-gray-100 rounded-lg shadow-2xl py-2",children:n})});return Tp.createPortal(u,document.body)},Cp=(e,t)=>{t(`/print-order/${e}`)},qoe=()=>{setTimeout(()=>{window.print()},100)},Foe=()=>{var Yt,St;const e=Et(),t=Ue(),r=Vr(),{searchQuery:n}=Ha(),{user:a,isLoading:s}=_a(),l=(a==null?void 0:a.role)===Ge.ADMIN,u=(a==null?void 0:a.role)===Ge.EMPLOYEE,{data:f}=Qs(),h=(f==null?void 0:f.recordsPerPage)||xt,[p,g]=j.useState("All Time"),[y,v]=j.useState({from:"",to:""}),[x,w]=j.useState("All"),[_,N]=j.useState("all"),[O,E]=j.useState(null),[C,T]=j.useState(null),[P,M]=j.useState(null),[R,B]=j.useState(null),[H,Y]=j.useState(null),[K,me]=j.useState(null),[ie,ye]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:0}),[L,V]=j.useState(1),{data:ne=[]}=Bi(),he=j.useMemo(()=>{if(_!=="all")return _==="admins"?ne.filter(G=>G.role===Ge.ADMIN).map(G=>G.id):_==="employees"?ne.filter(G=>G.role===Ge.EMPLOYEE).map(G=>G.id):[_]},[_,ne]),{data:I,isFetching:D}=B9(L,h,{status:x==="All"?void 0:x,from:y.from,to:y.to,search:n,createdByIds:he}),U=(I==null?void 0:I.data)??[],Z=(I==null?void 0:I.count)??0,q=Math.max(1,Math.ceil(Z/h));Ze.useEffect(()=>{if(!U||U.length===0)return;Array.from(new Set(U.map(de=>de.customerId).filter(Boolean))).forEach(de=>t.fetchQuery({queryKey:["customer",de],queryFn:()=>Lp(de)}).catch(()=>{}))},[U,t]);const{data:ge=[]}=Fs(),{data:ve}=Qp();j.useEffect(()=>{V(1)},[n,x,p,y.from,y.to,_]);const pe=G=>{V(1),w(G)},ke=G=>{V(1),g(G),G!=="Custom"&&v({from:"",to:""})},te=G=>{V(1),v(G)},_e=G=>{V(1),N(G)};Gp();const Pe=X9(),ce=rf(),ze=af(),Fe=nf(),et=j.useMemo(()=>new Map(ne.map(G=>[G.id,G])),[ne]),jt=G=>{if(p==="All Time")return!0;const de=new Date(G),Le=new Date;if(p==="Today")return de.toDateString()===Le.toDateString();if(p==="This Week"){const Ie=Le.getDate()-Le.getDay(),vt=new Date(new Date().setDate(Ie)),xe=new Date(new Date().setDate(Ie+6));return de>=vt&&de<=xe}return p==="This Month"?de.getMonth()===Le.getMonth()&&de.getFullYear()===Le.getFullYear():p==="This Year"?de.getFullYear()===Le.getFullYear():p==="Custom"?!y.from||!y.to?!0:de>=new Date(y.from)&&de<=new Date(y.to):!0},Ft=G=>{var de,Le;if((de=G.createdBy)!=null&&de.trim()){const Ie=et.get(G.createdBy);if(Ie!=null&&Ie.name)return Ie.name}if((Le=G.history)!=null&&Le.created){const Ie=G.history.created.match(/^(.+?)\s+created this order on/);if(Ie&&Ie[1])return Ie[1]}return null},Ir=j.useMemo(()=>{let G=U.filter(de=>jt(de.orderDate)).filter(de=>x==="All"||de.status===x);if(n.trim()){const de=n.toLowerCase();G=G.filter(Le=>{const Ie=t.getQueryData(["customer",Le.customerId]),vt=Ft(Le);return Le.orderNumber.toLowerCase().includes(de)||(Ie==null?void 0:Ie.name.toLowerCase().includes(de))||(Ie==null?void 0:Ie.phone.includes(de))||(vt==null?void 0:vt.toLowerCase().includes(de))})}return G},[U,p,y,x,n]),tn=async G=>{if(confirm("Are you sure you want to delete this order?"))try{await Pe.mutateAsync(G),r.success("Order deleted successfully")}catch(de){console.error("Failed to delete order",de),r.error("Failed to delete order: "+(de instanceof Error?de.message:"Unknown error"))}},se=G=>{ye({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:G.total-G.paidAmount}),B(G)},yt=async()=>{if(!R)return;const G=R;try{let de=ge.find(Lr=>Lr.id===ie.accountId);if(!de){if(!ie.accountId){r.error("Please select an account");return}de={id:ie.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const Le=ie.amount<G.total,[Ie,vt]=ie.time.split(":").map(Number),xe=new Date(ie.date);xe.setHours(Ie,vt,0,0);const Qe=xe.toISOString(),pt={date:Qe,type:"Income",category:Se.settings.defaults.incomeCategoryId||"income_sales",accountId:ie.accountId,amount:G.total,description:`Payment for Order #${G.orderNumber}`,referenceId:G.id,contactId:G.customerId,paymentMethod:Se.settings.defaults.paymentMethod||"Cash",createdBy:a.id};if(Le){const Lr=G.total-ie.amount,Rt={date:Qe,type:"Expense",category:"expense_shipping",accountId:ie.accountId,amount:Lr,description:`Shipping costs for Order #${G.orderNumber}`,paymentMethod:Se.settings.defaults.paymentMethod||"Cash",createdBy:a.id};await Promise.all([ze.mutateAsync(pt),ze.mutateAsync(Rt)])}else await ze.mutateAsync(pt);const rn=ie.amount,vr=(G.paidAmount??0)+ie.amount,lr=De.COMPLETED;await Promise.all([Fe.mutateAsync({id:de.id,updates:{currentBalance:(de.currentBalance??0)+rn}}),ce.mutateAsync({id:G.id,updates:{paidAmount:vr,status:lr}})]),B(null),t.invalidateQueries({queryKey:["orders",L]})}catch(de){console.error("Failed to add payment:",de),r.error("Failed to add payment: "+(de instanceof Error?de.message:"Unknown error"))}};return c.jsxs("div",{className:"space-y-6 pb-12",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:"Orders"})}),c.jsx(Je,{onClick:()=>e("/orders/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Order"})]}),c.jsx(_d,{title:"Orders",filterRange:p,setFilterRange:ke,customDates:y,setCustomDates:te,statusTab:x,setStatusTab:pe,statusOptions:Object.values(De)}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Created By:"}),c.jsxs("select",{value:_,onChange:G=>_e(G.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Users"}),ne.some(G=>G.role===Ge.ADMIN)&&c.jsx("option",{value:"admins",children:"All Admins"}),ne.some(G=>G.role===Ge.EMPLOYEE)&&c.jsx("option",{value:"employees",children:"All Employees"}),c.jsx("optgroup",{label:"Specific Users",children:ne.map(G=>c.jsxs("option",{value:G.id,children:[G.name," ",G.role===Ge.ADMIN?"(Admin)":"(Employee)"]},G.id))})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-visible",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Order Details"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Customer"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Created By"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Status"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] text-right",children:"Net Amount"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] sm:hidden",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:D?c.jsx($p,{columns:5,rows:8}):Ir.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:"No sales orders found for this period."})}):Ir.map(G=>{var Qe,pt,rn,vr,lr,Lr;const de=l||G.status===De.ON_HOLD;G.createdBy,a==null||a.id;const Le=t.getQueryData(["customer",G.customerId]),Ie=t.getQueryState(["customer",G.customerId]),xe=D||(Ie==null?void 0:Ie.status)==="loading"||(Ie==null?void 0:Ie.isFetching)>0?"Loading...":(Le==null?void 0:Le.name)??"Unknown";return c.jsxs("tr",{onMouseEnter:()=>E(G.id),onMouseLeave:()=>E(null),onClick:()=>e(`/orders/${G.id}`),className:"group relative hover:bg-[#ebf4ff]/20 cursor-pointer transition-all",children:[c.jsxs("td",{className:"px-6 py-5",children:[c.jsxs("span",{className:"font-black text-gray-900",children:["#",G.orderNumber]}),c.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-1 tracking-tight",children:new Date(G.orderDate).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})})]}),c.jsxs("td",{className:"px-6 py-5",children:[c.jsx("span",{className:"text-sm font-bold text-gray-700",children:xe}),c.jsx("p",{className:"text-[10px] text-gray-400 font-medium mt-0.5",children:(Le==null?void 0:Le.phone)||""})]}),c.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500",children:Ft(G)||""}),c.jsxs("td",{className:"px-6 py-5",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${Bp(G.status)}`,children:G.status}),G.status!==De.COMPLETED&&G.status!==De.CANCELLED&&((pt=(Qe=G.history)==null?void 0:Qe.courier)==null?void 0:pt.includes("Steadfast"))&&c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"inline-block w-5 h-5 rounded-full ml-2"}),G.status!==De.COMPLETED&&G.status!==De.CANCELLED&&((vr=(rn=G.history)==null?void 0:rn.courier)==null?void 0:vr.includes("CarryBee"))&&c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"inline-block w-5 h-5 rounded-full ml-2"})]}),c.jsxs("td",{className:"px-6 py-5 text-right",children:[c.jsx("span",{className:"font-black text-gray-900 text-base",children:we(G.total)}),G.paidAmount>0&&c.jsx("p",{className:"text-[10px] font-black uppercase tracking-tighter mt-1 text-green-500",children:`Paid: ${we(G.paidAmount)}`})]}),c.jsx("td",{className:"px-6 py-5 sm:hidden relative z-[999]",onClick:Rt=>Rt.stopPropagation(),children:c.jsxs("div",{className:"relative z-[999]",children:[c.jsx("button",{onClick:Rt=>{const ll=Rt.currentTarget;C===G.id?(T(null),M(null)):(T(G.id),M(ll))},className:"p-2 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg transition-all",children:ae.More}),c.jsx(V5,{anchorEl:P,open:C===G.id,onClose:()=>{T(null),M(null)},children:u?G.status===De.ON_HOLD?c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{e(`/orders/edit/${G.id}`),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit"]}),c.jsxs("button",{onClick:()=>{tn(G.id),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[ae.Delete," Delete"]})]}):null:c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{e(`/orders/edit/${G.id}`),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit"]}),G.status!==De.COMPLETED&&c.jsxs("button",{onClick:()=>{se(G),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Banking," Payment"]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{Cp(G.id,e),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Print," Print"]}),c.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Download," Download"]}),G.status!==De.PICKED&&G.status!==De.COMPLETED&&G.status!==De.CANCELLED&&G.status!==De.ON_HOLD&&!((lr=G.history)!=null&&lr.courier)&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{Y(G.id),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-[#0f2f57]",children:[c.jsx("img",{src:"../uploads/steadfast.png",alt:"Steadfast",className:"w-5 h-5 rounded-full"})," ",c.jsx("span",{children:"Add to Steadfast"})]}),c.jsxs("button",{onClick:()=>{me(G.id),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-[#0f2f57]",children:[c.jsx("img",{src:"../uploads/carrybee.png",alt:"CarryBee",className:"w-5 h-5 rounded-full"})," ",c.jsx("span",{children:"Add to CarryBee"})]})]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{tn(G.id),T(null),M(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[ae.Delete," Delete"]})]})})]})}),O===G.id&&(l||u&&G.status===De.ON_HOLD)&&c.jsx("td",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-10 animate-in fade-in slide-in-from-right-2 duration-200 hidden sm:table-cell",onClick:Rt=>Rt.stopPropagation(),children:c.jsx("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-[#ebf4ff]",children:u?G.status===De.ON_HOLD?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>e(`/orders/edit/${G.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:ae.Edit}),c.jsx("button",{onClick:()=>tn(G.id),className:"p-2.5 text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:ae.Delete})]}):null:c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>e(`/orders/edit/${G.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:ae.Edit}),G.status!==De.COMPLETED&&c.jsx("button",{onClick:()=>se(G),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Add Payment",children:ae.Banking}),c.jsx("button",{onClick:()=>Cp(G.id,e),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Print",children:ae.Print}),c.jsx("button",{className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Download PDF",children:ae.Download}),G.status!==De.PICKED&&G.status!==De.COMPLETED&&G.status!==De.CANCELLED&&G.status!==De.ON_HOLD&&!((Lr=G.history)!=null&&Lr.courier)&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"}),c.jsx("button",{onClick:()=>Y(G.id),className:"px-1 py-1 text-[9px] font-black hover:bg-[#ebf4ff] rounded-lg",title:"Send to Steadfast",children:c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-6 h-6 rounded-full"})}),c.jsx("button",{onClick:()=>me(G.id),className:"px-1 py-1 text-[9px] font-black hover:bg-orange-50 rounded-lg",title:"Send to CarryBee",children:c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-6 h-6 rounded-full"})}),c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"})]}),de&&c.jsx("button",{onClick:()=>tn(G.id),className:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:ae.Delete})]})})})]},G.id)})})]})})}),c.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[c.jsx("div",{className:"text-sm text-gray-600",children:`Showing ${Math.min((L-1)*h+1,Z||0)} - ${Math.min(L*h,Z||0)} of ${Z} orders`}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{disabled:L<=1,onClick:()=>V(G=>Math.max(1,G-1)),className:`px-3 py-1 rounded-md font-bold ${L<=1?"bg-gray-100 text-gray-400":"bg-white text-gray-700 border"}`,children:"Prev"}),c.jsxs("div",{className:"px-3 py-1 text-sm",children:["Page ",L," of ",q]}),c.jsx("button",{disabled:L>=q,onClick:()=>V(G=>Math.min(q,G+1)),className:`px-3 py-1 rounded-md font-bold ${L>=q?"bg-gray-100 text-gray-400":"bg-white text-gray-700 border"}`,children:"Next"})]})]}),c.jsx(t1,{isOpen:!!R,onClose:()=>B(null),onSubmit:yt,accounts:ge,paymentForm:ie,setPaymentForm:ye,isLoading:ze.isPending||Fe.isPending||ce.isPending,title:"Receive Payment",buttonText:"Add Payment"}),c.jsx(FD,{isOpen:!!H,onClose:()=>Y(null),order:H?U.find(G=>G.id===H):null,customer:H?t.getQueryData(["customer",(Yt=U.find(G=>G.id===H))==null?void 0:Yt.customerId]):null}),c.jsx(KD,{isOpen:!!K,onClose:()=>me(null),order:K?U.find(G=>G.id===K):null,customer:K?t.getQueryData(["customer",(St=U.find(G=>G.id===K))==null?void 0:St.customerId]):null})]})},dT=()=>{const{id:e}=zn(),t=Et(),{user:r,isLoading:n}=_a();r==null||r.role,Ge.ADMIN;const a=(r==null?void 0:r.role)===Ge.EMPLOYEE,s=!!e;if(n)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Loading..."}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Authenticating session..."})]});if(!r)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(Je,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});const l=Ue(),[u,f]=j.useState(!1),[h,p]=j.useState(""),{data:g=[],isFetching:y}=nt({queryKey:["productsMini"],queryFn:()=>Tm(),staleTime:300*1e3,enabled:!1,refetchOnWindowFocus:!1});Ze.useEffect(()=>{if(!u)return;const xe=l.getQueryData(["products"]);(!xe||xe.length===0)&&l.fetchQuery({queryKey:["productsMini"],queryFn:()=>Tm()}).catch(()=>{})},[u,l]);const[v,x]=Ze.useState("");Ze.useEffect(()=>{const xe=setTimeout(()=>x(h.trim()),300);return()=>clearTimeout(xe)},[h]);const{data:w=[],isFetching:_}=nt({queryKey:["productsSearch",v],queryFn:()=>jD(v,100),enabled:u&&!!v,staleTime:60*1e3,refetchOnWindowFocus:!1}),N=l.getQueryData(["products"]),O=N&&N.length>0?N:v?w:g||[],{data:E}=r1(s?e:void 0),{data:C}=Qp(),T=Gp(),P=rf(),M=Vr(),[R,B]=j.useState(""),[H,Y]=j.useState(new Date().toISOString().split("T")[0]),[K,me]=j.useState(""),[ie,ye]=j.useState([]),[L,V]=j.useState("0"),[ne,he]=j.useState("0"),[I,D]=j.useState(""),[U,Z]=j.useState(!1),[q,ge]=j.useState(""),[ve,pe]=Ze.useState("");Ze.useEffect(()=>{const xe=setTimeout(()=>pe(q.trim()),300);return()=>clearTimeout(xe)},[q]);const[ke,te]=j.useState(!1),[_e,Pe]=j.useState(null),ce=20,{data:ze,isFetching:Fe}=nt({queryKey:["customers",1,ce,""],queryFn:()=>Ex(1,ce,""),enabled:U&&!ve,staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:et,isFetching:jt}=nt({queryKey:["customers","search",ve],queryFn:()=>Ex(1,ce,ve),enabled:U&&!!ve,staleTime:300*1e3,refetchOnWindowFocus:!1}),Ft=Ze.useRef(!1);Ze.useEffect(()=>{if(E&&!Ft.current){if(s&&a&&E.status!==De.ON_HOLD){M.warning('Employees can only edit orders that are currently "On Hold".'),t("/orders");return}B(E.customerId),Y(E.orderDate),me(E.orderNumber),ye(E.items),V(String(E.discount??0)),he(String(E.shipping??0)),D(E.notes||""),Ft.current=!0}else!s&&C&&me("")},[E,s,a,C,t,M,r==null?void 0:r.id]),Ze.useEffect(()=>{Ft.current=!1},[e]);const Ir=Un();Ze.useEffect(()=>{try{const pt=new URLSearchParams(Ir.search).get("selectedCustomerId");if(pt){B(pt);const rn=window.location.pathname+window.location.hash;window.history.replaceState({},document.title,rn);return}}catch{}const xe=Ir&&Ir.state||{};if(xe.selectedCustomerId){B(xe.selectedCustomerId);try{window.history.replaceState({},document.title)}catch{}}},[Ir]);const tn=ie.reduce((xe,Qe)=>xe+Qe.amount,0),se=parseFloat(L)||0,yt=parseFloat(ne)||0,Yt=tn-se+yt,St=xe=>{const Qe=O.find(rn=>rn.id===xe);if(!Qe)return;const pt={productId:Qe.id,productName:Qe.name,rate:Qe.salePrice,quantity:1,amount:Qe.salePrice};ye([...ie,pt]),f(!1),p("")},G=(xe,Qe)=>{const pt=[...ie];pt[xe].quantity=Math.max(1,Qe),pt[xe].amount=pt[xe].rate*pt[xe].quantity,ye(pt)},de=xe=>{ye(ie.filter((Qe,pt)=>pt!==xe))},Le=async()=>{if(!R||ie.length===0||s&&!K){const xe=R?ie.length?"Order number is not set. Please wait for it to load.":"Please add at least one product.":"Please select a customer.";Pe(xe),M.error(xe);return}if(!(r!=null&&r.id)){M.error("User session expired. Please log in again."),Pe("User session expired. Please log in again.");return}te(!0),Pe(null);try{const xe=ie.reduce((Vi,Va)=>Vi+Va.amount,0),Qe=parseFloat(L)||0,pt=parseFloat(ne)||0,rn=xe-Qe+pt,vr=new Date,lr=vr.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),Lr=vr.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"});let Rt=R;if(Vp(Rt)){const Vi=await V9(Rt,7e3);if(!Vi){const Va="Customer is still being saved. Please wait a moment and try again.";Pe(Va),M.error(Va);return}Rt=Vi}const ll={orderDate:H,customerId:Rt,createdBy:"",status:s&&E?E.status:De.ON_HOLD,items:ie,subtotal:xe,discount:Qe,shipping:pt,total:rn,notes:I,paidAmount:s&&E?E.paidAmount:0,history:s&&E?E.history:{created:`${r.name} created this order on ${lr}, at ${Lr}`}},Af=s?{...ll,orderNumber:K}:ll;if(s)await P.mutateAsync({id:e,updates:Af}),M.success("Order updated successfully"),t("/orders");else{const Vi=await T.mutateAsync(Af);M.success("Order created successfully"),t(`/orders/${Vi.id}`)}}catch(xe){console.error("Failed to save order:",xe);const Qe=xe instanceof Error?xe.message:"Failed to save order";Pe(Qe),M.error(Qe)}finally{te(!1)}},Ie=ve?(et==null?void 0:et.data)||[]:(ze==null?void 0:ze.data)||[],vt=Ie.find(xe=>xe.id===R)||void 0;return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s?"Edit Order":"New Order"}),c.jsx("button",{onClick:()=>t("/orders"),className:"text-gray-500 hover:text-gray-700 font-medium text-sm px-4 py-2 border border-gray-200 rounded-lg bg-white transition-all",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-1 relative md:col-span-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Select Customer"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>Z(!U),className:"w-full text-left px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl hover:bg-white focus:ring-2 focus:ring-[#3c5a82] transition-all flex justify-between items-center group",children:[vt?c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("span",{className:"font-bold block text-sm text-gray-900",children:vt.name}),c.jsx("p",{className:"text-[10px] text-gray-500 leading-none mt-0.5",children:vt.phone}),c.jsx("p",{className:"text-[10px] ${theme.colors.primary[600]} italic truncate mt-1",children:vt.address})]}):c.jsx("span",{className:"text-gray-400 text-sm",children:"Select Customer..."}),c.jsx("div",{className:`transition-transform duration-200 ${U?"rotate-90":""}`,children:ae.ChevronRight})]}),U&&c.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full max-w-xs bg-white border border-gray-200 shadow-2xl rounded-lg z-[110] p-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search name or phone...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:q,onChange:xe=>ge(xe.target.value)})]}),c.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-0.5 custom-scrollbar",children:(Ie||[]).map(xe=>c.jsxs("button",{onClick:()=>{B(xe.id),Z(!1),ge("")},className:"w-full px-4 py-2.5 text-left hover:bg-[#ebf4ff] rounded-lg group transition-colors",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.primary[700]}",children:xe.name}),c.jsx("p",{className:"text-[10px] text-gray-400 group-hover:${theme.colors.primary[600]}/60",children:xe.phone})]},xe.id))}),c.jsx("button",{onClick:()=>{Z(!1),t("/customers/new",{state:{fromOrderForm:!0,redirectPath:s?`/orders/edit/${e}`:"/orders/new"}})},className:"w-full mt-2 py-3 ${theme.colors.primary[600]} text-[10px] font-black uppercase tracking-widest border-t border-gray-50 hover:bg-[#ebf4ff] transition-colors",children:"+ Add New Customer"})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Date"}),c.jsx("input",{type:"date",value:H,onChange:xe=>Y(xe.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] focus:bg-white transition-all cursor-pointer font-bold text-sm"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Number"}),c.jsx("input",{type:"text",readOnly:!0,value:K,placeholder:C?s?"Order number":"Assigned on save":"Loading...",className:"w-full px-4 py-3 bg-gray-100 border border-gray-100 rounded-xl font-mono ${theme.colors.primary[700]} text-sm font-bold"})]})]}),c.jsx("div",{className:"border border-gray-100 rounded-lg overflow-visible bg-white",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Product Item"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Rate"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Qty"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),c.jsx("th",{className:"px-4 py-4"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-50",children:[ie.map((xe,Qe)=>{var pt,rn;return c.jsxs("tr",{className:"group hover:bg-gray-50/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[((pt=O.find(vr=>vr.id===xe.productId))==null?void 0:pt.image)&&c.jsx("img",{src:(rn=O.find(vr=>vr.id===xe.productId))==null?void 0:rn.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-800 text-sm",children:xe.productName})]})}),c.jsx("td",{className:"px-4 py-4 text-center text-sm font-bold text-gray-600",children:we(xe.rate)}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsx("input",{type:"number",value:xe.quantity,onChange:vr=>G(Qe,parseInt(vr.target.value)),className:"w-16 text-center py-2 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold outline-none"})}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 text-sm",children:we(xe.amount)}),c.jsx("td",{className:"px-4 py-4 text-right",children:c.jsx("button",{onClick:()=>de(Qe),className:"p-2 text-red-200 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:ae.Delete})})]},Qe)}),c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-5 relative",children:c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>f(!u),className:"flex items-center gap-2 ${theme.colors.primary[600]} font-black text-[10px] uppercase tracking-widest hover:bg-[#ebf4ff] px-4 py-2.5 rounded-xl border-2 border-dashed border-[#c7dff5] transition-all",children:[ae.Plus," Add an item"]}),u&&c.jsxs("div",{className:"absolute top-full left-0 mt-3 w-full max-w-md bg-white border border-gray-200 shadow-2xl rounded-lg z-[100] p-2 overflow-hidden animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search catalog...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:h,onChange:xe=>p(xe.target.value)})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto space-y-0.5 custom-scrollbar",children:O.filter(xe=>xe.name.toLowerCase().includes(h.toLowerCase())).map(xe=>c.jsxs("button",{onClick:()=>St(xe.id),className:"flex items-center gap-4 w-full px-4 py-3 text-left hover:bg-[#ebf4ff] rounded-xl group transition-all",children:[xe.image&&c.jsx("img",{src:xe.image,className:"w-10 h-10 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.primary[700]} truncate",children:xe.name}),c.jsx("p",{className:"text-[10px] font-bold ${theme.colors.primary[600]}/60 uppercase tracking-widest",children:we(xe.salePrice)})]})]},xe.id))})]})]})})})]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-12 pt-6",children:[c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Notes / Terms"}),c.jsx("textarea",{placeholder:"Internal notes or special instructions for this order...",value:I,onChange:xe=>D(xe.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-100 rounded-lg h-32 focus:ring-2 focus:ring-[#3c5a82] focus:bg-white outline-none font-medium text-sm transition-all"})]}),c.jsxs("div",{className:"w-full md:w-96 space-y-4 bg-gray-50/50 p-8 rounded-lg border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-[12px] font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Subtotal"}),c.jsx("span",{className:"text-gray-900 font-black",children:we(tn)})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-[12px] font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Discount"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-gray-500 font-black",children:""}),c.jsx("input",{type:"number",value:L,onChange:xe=>V(xe.target.value),className:"w-20 text-right py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-[12px] font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Shipping"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-gray-500 font-black",children:""}),c.jsx("input",{type:"number",value:ne,onChange:xe=>he(xe.target.value),className:"w-20 text-right py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]})]}),c.jsxs("div",{className:"pt-6 border-t-4 border-[#c7dff5] flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-black text-gray-900 uppercase tracking-tighter",children:"Total"}),c.jsx("span",{className:"text-sm font-black text-[#3c5a82]",children:we(Yt)})]}),_e&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:_e instanceof Error?_e.message:String(_e)})}),c.jsx(Je,{onClick:Le,variant:"primary",size:"lg",className:"w-full mt-4",disabled:ke,loading:ke,children:s?"Update Order":"Create Order"})]})]})]})]})},Koe=()=>{var D,U,Z,q,ge,ve;const{id:e}=zn(),t=Et(),r=Ue(),n=Vr(),a=Se.currentUser,s=a.role===Ge.ADMIN,{data:l,isPending:u,error:f}=r1(e||""),{data:h}=zp(l?l.customerId:void 0),{data:p=[]}=Bi(),{data:g=[]}=a1(),{data:y=[]}=Fs(),{data:v}=Kp(),{data:x}=Hp(),w=rf();Gp();const _=af(),N=nf(),[O,E]=j.useState(!1),[C,T]=j.useState(!1),[P,M]=j.useState(!1),[R,B]=j.useState({date:new Date().toISOString().split("T")[0],accountId:Se.settings.defaults.accountId||"",amount:0}),[H,Y]=j.useState(!1),K=l?p.find(pe=>pe.id===l.createdBy):void 0,me=a.role===Ge.EMPLOYEE,ie=l?l.createdBy===a.id:!1,ye=u;if(ye)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading order..."});if(f||!l)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(f==null?void 0:f.message)||"Order not found."});const L=async(pe,ke,te)=>{if(l)try{const _e={...l,status:pe,history:ke?{...l.history,[ke]:te}:l.history};await w.mutateAsync({id:e,updates:_e}),r.invalidateQueries({queryKey:["order",e]}),Y(!1)}catch(_e){console.error("Failed to update order status:",_e),n.error("Failed to update order status")}},V=async()=>{const pe=`Marked as processing by ${a.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await L(De.PROCESSING,"processing",pe)},ne=async()=>{const pe=`Marked as picked by courier, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await L(De.PICKED,"picked",pe)},he=async()=>{let pe=y.find(ze=>ze.id===R.accountId);if(!pe){if(!R.accountId){n.error("Please select an account");return}pe={id:R.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const ke=l.paidAmount+R.amount;new Date(R.date);const te=`Payment of ${we(R.amount)} received by ${a.name} on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`,_e=R.amount<l.total,Pe=De.COMPLETED,ce={...l,paidAmount:ke,status:Pe,history:{...l.history,payment:te}};try{const ze={id:Math.random().toString(36).substr(2,9),date:R.date,type:"Income",category:Se.settings.defaults.incomeCategoryId||"income_sales",accountId:R.accountId,amount:l.total,description:`Payment for Order #${l.orderNumber}`,referenceId:l.id,contactId:l.customerId,paymentMethod:Se.settings.defaults.paymentMethod||"Cash",createdBy:a.id};if(await _.mutateAsync(ze),_e){const jt=l.total-R.amount,Ft={id:Math.random().toString(36).substr(2,9),date:R.date,type:"Expense",category:"expense_shipping",accountId:R.accountId,amount:jt,description:`Shipping costs for Order #${l.orderNumber}`,paymentMethod:Se.settings.defaults.paymentMethod||"Cash",createdBy:a.id};await _.mutateAsync(Ft)}const Fe=R.amount,et=await Promise.allSettled([w.mutateAsync({id:e,updates:ce}),N.mutateAsync({id:R.accountId,updates:{currentBalance:pe.currentBalance+Fe}})]);if(et[0].status==="rejected"||et[1].status==="rejected"){const jt=et[0].status==="rejected"?"failed":"succeeded",Ft=et[1].status==="rejected"?"failed":"succeeded";throw new Error(`Payment update failed: Order update ${jt}, Account update ${Ft}`)}r.invalidateQueries({queryKey:["order",e]}),r.invalidateQueries({queryKey:["orders"]}),E(!1),n.success("Payment recorded successfully")}catch(ze){console.error("Failed to record payment:",ze),n.error("Failed to record payment")}},I=()=>{B({date:new Date().toISOString().split("T")[0],accountId:"",amount:l.total-l.paidAmount}),E(!0)};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsx(ef,{isLoading:ye&&!l,message:"Loading order details..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/orders"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500 transition-all",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-md md:text-2xl font-bold text-gray-900",children:l.orderNumber}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${Bp(l.status)}`,children:l.status}),l.status!==De.COMPLETED&&l.status!==De.CANCELLED&&((U=(D=l.history)==null?void 0:D.courier)==null?void 0:U.includes("Steadfast"))&&c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-6 h-6 rounded-full"}),l.status!==De.COMPLETED&&l.status!==De.CANCELLED&&((q=(Z=l.history)==null?void 0:Z.courier)==null?void 0:q.includes("CarryBee"))&&c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-6 h-6 rounded-full"})]}),c.jsxs("div",{className:"flex items-center gap-2 relative",children:[c.jsxs("button",{onClick:()=>Cp(e,t),className:"hidden md:flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg bg-white hover:bg-gray-50 transition-all shadow-sm",children:[ae.Print," Print"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>Y(!H),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg ${oe.colors.primary[600]} text-white hover:${oe.colors.primary[700]} transition-all shadow-md`,children:[ae.More," ",c.jsx("span",{className:"hidden md:inline",children:"Actions"})]}),H&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>Y(!1)}),c.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-100 rounded-xl shadow-2xl z-50 py-2 animate-in fade-in zoom-in duration-150 origin-top-right",children:[c.jsxs("button",{onClick:()=>{Cp(e,t),Y(!1)},className:"md:hidden w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Print," Print"]}),c.jsx("div",{className:"md:hidden border-t my-1"}),(s||ie||me&&l.status===De.ON_HOLD)&&c.jsxs("button",{onClick:()=>t(`/orders/edit/${l.id}`),className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit Order"]}),s&&l.status!==De.COMPLETED&&c.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",onClick:I,children:[ae.Banking," Add Payment"]}),c.jsx("div",{className:"border-t my-1"}),s&&c.jsxs("button",{onClick:()=>L(De.CANCELLED),disabled:l.status===De.COMPLETED,className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 disabled:hover:bg-gray-50 flex items-center gap-2 text-red-500 font-bold disabled:text-gray-300 disabled:cursor-not-allowed",children:[ae.Delete," Cancel Order"]})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[c.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden",children:c.jsxs("div",{className:"p-3 sm:p-4 md:p-6 lg:p-10 space-y-3 sm:space-y-4 lg:space-y-5",children:[c.jsxs("div",{className:"flex flex-row justify-between items-start gap-3 sm:gap-4 lg:gap-6",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[((v==null?void 0:v.logo)||Se.settings.company.logo)&&c.jsx("img",{src:(v==null?void 0:v.logo)||Se.settings.company.logo,className:"rounded-lg object-cover mb-2 sm:mb-3 lg:mb-4 w-auto h-auto",style:{maxWidth:"min(100px, 20%)",maxHeight:"auto"}}),c.jsx("h1",{className:"text-sm sm:text-base lg:text-xl font-black text-blue-600 uppercase tracking-tighter break-words",children:(v==null?void 0:v.name)||Se.settings.company.name}),c.jsxs("div",{className:"mt-1 sm:mt-2 text-[9px] sm:text-[10px] lg:text-xs text-gray-400 font-medium space-y-0.5 sm:space-y-1",children:[c.jsx("p",{className:"break-words",children:(v==null?void 0:v.address)||Se.settings.company.address}),c.jsxs("p",{className:"text-[8px] sm:text-[9px] break-words",children:[(v==null?void 0:v.phone)||Se.settings.company.phone,"  ",(v==null?void 0:v.email)||Se.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right flex-shrink-0",children:[c.jsx("h2",{className:"text-sm sm:text-2xl lg:text-3xl font-black text-gray-300 uppercase leading-none mb-1 sm:mb-2 break-words",children:(x==null?void 0:x.title)||Se.settings.invoice.title}),c.jsxs("div",{className:"space-y-0.5 sm:space-y-1 lg:space-y-1.5 text-[9px] sm:text-sm",children:[c.jsxs("p",{className:"text-[9px] sm:text-xs lg:text-sm font-bold text-gray-900",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Order No:"})," ",c.jsx("span",{className:"break-all",children:l.orderNumber})]}),c.jsxs("p",{className:"text-[9px] sm:text-xs lg:text-sm font-bold text-gray-900",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Date:"})," ",l.orderDate]})]})]})]}),c.jsxs("div",{className:"border-t border-gray-100 py-2 sm:py-3 lg:py-4",children:[c.jsx("p",{className:"text-[8px] sm:text-[9px] lg:text-[10px] font-black text-gray-400 uppercase tracking-[0.15em] sm:tracking-[0.2em] mb-2 sm:mb-3 lg:mb-4",children:"Billed To"}),c.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-black text-gray-900 break-words",children:h==null?void 0:h.name}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm text-gray-500 leading-relaxed break-words",children:h==null?void 0:h.address}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm font-bold text-cyan-600 mt-1 sm:mt-1.5 lg:mt-2 break-words",children:h==null?void 0:h.phone})]}),c.jsx("div",{className:"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6 lg:-mx-10",children:c.jsx("div",{className:"px-3 sm:px-4 md:px-6 lg:px-10",children:c.jsxs("table",{className:"w-full text-left text-[10px] sm:text-xs lg:text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100",children:[c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 font-black text-gray-400 uppercase",children:"Item Description"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Rate"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Qty"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-right font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:l.items.map((pe,ke)=>{const te=g.find(_e=>_e.id===pe.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-3 sm:py-4 lg:py-6",children:c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 min-w-0",children:[c.jsx("img",{src:te==null?void 0:te.image,className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 rounded-full object-cover border border-gray-100 shadow-sm flex-shrink-0"}),c.jsx("span",{className:"font-bold text-gray-900 text-[10px] sm:text-xs lg:text-base break-words",children:pe.productName})]})}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:we(pe.rate)}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:pe.quantity}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-right font-black text-gray-900 px-1 whitespace-nowrap",children:we(pe.amount)})]},ke)})})]})})}),c.jsx("div",{className:"flex flex-col items-end pt-2 sm:pt-3 lg:pt-6 px-0",children:c.jsxs("div",{className:"w-full sm:w-full md:w-98 lg:max-w-xs space-y-2 sm:space-y-3 lg:space-y-4",children:[c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:we(l.subtotal)})]}),l.discount>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500 flex-shrink-0",children:["-",we(l.discount)]})]}),l.shipping>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:we(l.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 sm:py-3 lg:py-4 border-t-2 border-[#0f2f57] gap-2",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter text-[11px] sm:text-xs lg:text-sm flex-shrink-0",children:"Net Total"}),c.jsx("span",{className:"font-black text-sm sm:text-base lg:text-lg flex-shrink-0",children:we(l.total)})]})]})}),l.notes&&c.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-[10px] border border-gray-100",children:[c.jsx("p",{className:"text-[8px] sm:text-[9px] lg:text-[10px] font-black text-gray-300 uppercase tracking-widest mb-1 sm:mb-2",children:"Terms & Notes"}),c.jsx("p",{className:"text-[9px] sm:text-[10px] lg:text-xs text-gray-600 font-medium italic leading-relaxed",children:l.notes})]})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"1. Creation"}),c.jsx("div",{className:"p-1 bg-[#ebf4ff]0 text-white rounded-full",children:ae.Plus})]}),c.jsx("div",{className:"p-5",children:c.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:l.history.created||`Created by ${(K==null?void 0:K.name)||"Unknown"} on ${l.orderDate}`})})]}),(ge=l.history)!=null&&ge.processing||!me?c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"2. Processing"}),c.jsx("div",{className:`p-1 rounded-full ${l.history.processing?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:ae.ChevronRight})]}),c.jsxs("div",{className:"p-5 space-y-4",children:[l.history.processing?c.jsx("p",{className:"text-xs ${theme.colors.primary[600]} leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:l.history.processing}):!me&&c.jsx("button",{disabled:l.status!==De.ON_HOLD,onClick:V,className:`w-full py-3 ${oe.colors.secondary[600]} hover:${oe.colors.secondary[700]} disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Mark as Processing"}),l.history.courier?c.jsx("p",{className:"text-xs text-gray-700 leading-relaxed font-bold bg-gray-50 p-3 rounded-xl",children:l.history.courier}):!me&&l.status!==De.PICKED&&l.status!==De.COMPLETED&&l.status!==De.CANCELLED&&l.status!==De.ON_HOLD&&!((ve=l.history)!=null&&ve.courier)&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>T(!0),className:"w-full py-3 bg-[#0f2f57] hover:bg-[#0a1f38] text-white font-bold rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:[c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-5 h-5 rounded-full"})," Add to Steadfast"]}),c.jsxs("button",{onClick:()=>M(!0),className:"w-full py-3 bg-[#0f2f57] hover:bg-[#0a1f38] text-white font-bold rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:[c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-5 h-5 rounded-full"})," Add to CarryBee"]})]})]})]}):null,l.history.picked||!me?c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"3. Courier Picked"}),c.jsx("div",{className:`p-1 rounded-full ${l.history.picked?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:ae.Courier})]}),c.jsx("div",{className:"p-5",children:l.history.picked?c.jsx("p",{className:"text-xs text-purple-600 leading-relaxed font-bold bg-purple-50 p-3 rounded-xl",children:l.history.picked}):!me&&c.jsx("button",{disabled:l.status!==De.PROCESSING,onClick:ne,className:"w-full py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95",children:"Mark as Picked"})})]}):null,l.history.payment||!me?c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"4. Payment"}),c.jsx("div",{className:`p-1 rounded-full ${l.paidAmount>=l.total?"bg-[#ebf4ff]0 text-white":"bg-gray-200 text-gray-400"}`,children:ae.Banking})]}),c.jsx("div",{className:"p-5 space-y-3",children:l.history.payment?c.jsx("div",{className:"space-y-2",children:c.jsx("p",{className:"text-xs ${theme.colors.primary[600]} leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:l.history.payment})}):!me&&c.jsxs("div",{className:"space-y-4 text-center",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Amount Due"}),c.jsx("p",{className:"text-2xl font-black text-gray-900",children:we(l.total-l.paidAmount)})]}),c.jsx("button",{onClick:I,className:`w-full py-3 ${oe.colors.primary[600]} hover:${oe.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Add Payment"})]})})]}):null]})]}),c.jsx(t1,{isOpen:O,onClose:()=>E(!1),onSubmit:he,accounts:y,paymentForm:R,setPaymentForm:B,isLoading:w.isPending||_.isPending||N.isPending,title:"Record Payment",buttonText:"Add Payment"}),c.jsx(FD,{isOpen:C,onClose:()=>T(!1),order:l,customer:h}),c.jsx(KD,{isOpen:P,onClose:()=>M(!1),order:l,customer:h})]})},Ef=({page:e,totalPages:t,onPageChange:r,disabled:n})=>c.jsxs("div",{className:"flex items-center justify-between mt-4",children:[c.jsx("div",{className:"text-sm text-gray-600",children:`Page ${e} of ${t}`}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{disabled:n||e<=1,onClick:()=>r(Math.max(1,e-1)),className:`px-3 py-1 rounded-md font-bold ${e<=1?"bg-gray-100 text-gray-400":"bg-white text-gray-700 border"}`,children:"Prev"}),c.jsxs("div",{className:"px-3 py-1 text-sm",children:[e," / ",t]}),c.jsx("button",{disabled:n||e>=t,onClick:()=>r(Math.min(t,e+1)),className:`px-3 py-1 rounded-md font-bold ${e>=t?"bg-gray-100 text-gray-400":"bg-white text-gray-700 border"}`,children:"Next"})]})]}),Qoe=()=>{const e=Et();Ue();const t=Vr(),{searchQuery:r}=Ha(),n=Se.currentUser,{data:a}=Qs(),s=(a==null?void 0:a.recordsPerPage)||xt,[l,u]=j.useState(1),[f,h]=j.useState("All Time"),[p,g]=j.useState({from:"",to:""}),[y,v]=j.useState("All"),[x,w]=j.useState("all"),{data:_=[]}=Bi(),N=j.useMemo(()=>{if(x!=="all")return x==="admins"?_.filter(q=>q.role===Ge.ADMIN).map(q=>q.id):x==="employees"?_.filter(q=>q.role===Ge.EMPLOYEE).map(q=>q.id):[x]},[x,_]),{data:O,isFetching:E}=U9(l,s,{from:p.from,to:p.to,search:r,createdByIds:N}),C=(O==null?void 0:O.data)??[],T=(O==null?void 0:O.count)??0,P=Math.max(1,Math.ceil(T/s)),{data:M=[]}=n1();j.useEffect(()=>{u(1)},[r,f,p.from,p.to,x]);const R=q=>{u(1),h(q),q!=="Custom"&&g({from:"",to:""})},B=q=>{u(1),g(q)},H=q=>{u(1),w(q)},[Y,K]=j.useState(null),[me,ie]=j.useState(null),[ye,L]=j.useState(null),V=$D(),ne=J9(),he=j.useMemo(()=>new Map(_.map(q=>[q.id,q])),[_]),I=q=>{var ge,ve;if((ge=q.createdBy)!=null&&ge.trim()){const pe=he.get(q.createdBy);if(pe!=null&&pe.name)return pe.name}if((ve=q.history)!=null&&ve.created){const pe=q.history.created.match(/Created by\s+(.+?)\s+on/);if(pe&&pe[1])return pe[1]}return null},D=C.filter(q=>y==="All"||q.status===y),U=async q=>{try{const ge=new Date,ve=ge.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),pe=ge.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),ke={billNumber:`PUR-${Math.floor(1e3+Math.random()*9e3)}`,billDate:new Date().toISOString().split("T")[0],vendorId:q.vendorId,createdBy:(n==null?void 0:n.id)||q.createdBy,status:xn.ON_HOLD,items:q.items,subtotal:q.subtotal,discount:q.discount,shipping:q.shipping,total:q.total,paidAmount:0,notes:q.notes,history:{created:`Created as duplicate on ${ve}, at ${pe}`}};await V.mutateAsync(ke)}catch(ge){console.error("Failed to duplicate bill:",ge),t.error("Failed to duplicate bill")}},Z=async q=>{if(confirm("Are you sure you want to delete this bill?"))try{await ne.mutateAsync(q),t.success("Bill deleted successfully")}catch(ge){console.error("Failed to delete bill:",ge),t.error("Failed to delete bill")}};return c.jsxs("div",{className:"space-y-6 pb-12",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:"Purchase Bills"})}),c.jsx(Je,{onClick:()=>e("/bills/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Bill"})]}),c.jsx(_d,{title:"Bills",filterRange:f,setFilterRange:R,customDates:p,setCustomDates:B,statusTab:y,setStatusTab:v,statusOptions:Object.values(xn)}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Created By:"}),c.jsxs("select",{value:x,onChange:q=>H(q.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Users"}),_.some(q=>q.role===Ge.ADMIN)&&c.jsx("option",{value:"admins",children:"All Admins"}),_.some(q=>q.role===Ge.EMPLOYEE)&&c.jsx("option",{value:"employees",children:"All Employees"}),c.jsx("optgroup",{label:"Specific Users",children:_.map(q=>c.jsxs("option",{value:q.id,children:[q.name," ",q.role===Ge.ADMIN?"(Admin)":"(Employee)"]},q.id))})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-visible",children:c.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Bill Details"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Vendor"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Created By"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Status"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] text-right",children:"Net Amount"}),c.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] sm:hidden",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:E?c.jsx($p,{columns:5,rows:8}):D.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-gray-400 italic font-medium",children:"No purchase bills found for this period."})}):D.map(q=>{var ge;return c.jsxs("tr",{onMouseEnter:()=>K(q.id),onMouseLeave:()=>K(null),onClick:()=>e(`/bills/${q.id}`),className:"group relative hover:bg-[#ebf4ff]/20 cursor-pointer transition-all",children:[c.jsxs("td",{className:"px-6 py-5",children:[c.jsxs("span",{className:"font-black text-gray-900",children:["#",q.billNumber]}),c.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-1 tracking-tight",children:q.billDate})]}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:"text-sm font-bold text-gray-700",children:((ge=M.find(ve=>ve.id===q.vendorId))==null?void 0:ge.name)||"Unknown Vendor"})}),c.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500",children:I(q)||""}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${Bp(q.status)}`,children:q.status})}),c.jsx("td",{className:"px-6 py-5 text-right",children:c.jsx("span",{className:"font-black text-gray-900 text-base",children:we(q.total)})}),c.jsx("td",{className:"px-6 py-5 sm:hidden relative z-[999]",onClick:ve=>ve.stopPropagation(),children:c.jsxs("div",{className:"relative z-[999]",children:[c.jsx("button",{onClick:ve=>{const pe=ve.currentTarget;me===q.id?(ie(null),L(null)):(ie(q.id),L(pe))},className:"p-2 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-lg transition-all",children:ae.More}),c.jsxs(V5,{anchorEl:ye,open:me===q.id,onClose:()=>{ie(null),L(null)},children:[c.jsxs("button",{onClick:()=>{e(`/bills/edit/${q.id}`),ie(null),L(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Edit," Edit"]}),c.jsxs("button",{onClick:()=>{U(q),ie(null),L(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-2 font-bold text-gray-700",children:[ae.Duplicate," Duplicate"]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:()=>{Z(q.id),ie(null),L(null)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 flex items-center gap-2 font-bold text-red-600",children:[ae.Delete," Delete"]})]})]})}),Y===q.id&&c.jsx("td",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-10 animate-in fade-in slide-in-from-right-2 duration-200 hidden sm:table-cell",onClick:ve=>ve.stopPropagation(),children:c.jsxs("div",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-[#ebf4ff]",children:[c.jsx("button",{onClick:()=>e(`/bills/edit/${q.id}`),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Edit",children:ae.Edit}),c.jsx("button",{onClick:()=>U(q),className:"p-2.5 text-gray-400 hover:text-[#0f2f57] hover:bg-[#ebf4ff] rounded-xl transition-all",title:"Duplicate",children:ae.Duplicate}),c.jsx("div",{className:"h-5 w-px bg-gray-100 mx-1"}),c.jsx("button",{onClick:()=>Z(q.id),className:"p-2.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:ae.Delete})]})})]},q.id)})})]})})}),c.jsx(Ef,{page:l,totalPages:P,onPageChange:q=>u(q),disabled:E})]})},fT=()=>{const{id:e}=zn(),t=Et(),r=Se.currentUser,n=!!e;if(!r)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(Je,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});const a=Ue(),{data:s,isPending:l,error:u}=DD(e),[f,h]=j.useState(!1),[p,g]=j.useState(""),{data:y=[],isFetching:v}=nt({queryKey:["productsMini"],queryFn:Tm,staleTime:300*1e3,enabled:!1,refetchOnWindowFocus:!1});Ze.useEffect(()=>{if(!f)return;const de=a.getQueryData(["products"]);(!de||de.length===0)&&a.fetchQuery({queryKey:["productsMini"],queryFn:Tm}).catch(()=>{})},[f,a]);const[x,w]=Ze.useState("");Ze.useEffect(()=>{const de=setTimeout(()=>w(p.trim()),300);return()=>clearTimeout(de)},[p]);const{data:_=[],isFetching:N}=nt({queryKey:["productsSearch",x],queryFn:()=>jD(x,100),enabled:f&&!!x,staleTime:60*1e3,refetchOnWindowFocus:!1}),O=a.getQueryData(["products"]),E=O&&O.length>0?O:x?_:y||[],C=$D(),T=UD(),P=Vr(),[M,R]=j.useState(""),[B,H]=j.useState(new Date().toISOString().split("T")[0]),[Y,K]=j.useState(""),[me,ie]=j.useState([]),[ye,L]=j.useState(0),[V,ne]=j.useState(0),[he,I]=j.useState(""),[D,U]=j.useState(!1),[Z,q]=j.useState(""),[ge,ve]=Ze.useState("");Ze.useEffect(()=>{const de=setTimeout(()=>ve(Z.trim()),300);return()=>clearTimeout(de)},[Z]);const pe=20,{data:ke,isFetching:te}=nt({queryKey:["vendors",1,pe,""],queryFn:()=>Ax(1,pe,""),enabled:D&&!ge,staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:_e,isFetching:Pe}=nt({queryKey:["vendors","search",ge],queryFn:()=>Ax(1,pe,ge),enabled:D&&!!ge,staleTime:300*1e3,refetchOnWindowFocus:!1}),[ce,ze]=j.useState(!1),[Fe,et]=j.useState(null);Ze.useEffect(()=>{s?(R(s.vendorId),H(s.billDate),K(s.billNumber),ie(s.items),L(s.discount),ne(s.shipping),I(s.notes||"")):n||K(`PUR-${Math.floor(1e3+Math.random()*9e3)}`)},[s,n]);const jt=me.reduce((de,Le)=>de+Le.amount,0),Ft=jt-ye+V,Ir=de=>{const Le=E.find(vt=>vt.id===de);if(!Le)return;const Ie={productId:Le.id,productName:Le.name,rate:Le.purchasePrice,quantity:1,amount:Le.purchasePrice};ie([...me,Ie]),h(!1),g("")},tn=(de,Le)=>{const Ie=[...me];Ie[de].quantity=Math.max(1,Le),Ie[de].amount=Ie[de].rate*Ie[de].quantity,ie(Ie)},se=de=>{ie(me.filter((Le,Ie)=>Ie!==de))},yt=async()=>{if(!M||me.length===0){et("Please select a vendor and add at least one product.");return}if(!(r!=null&&r.id)){et("User session expired. Please log in again.");return}ze(!0),et(null);try{const de=me.reduce((Qe,pt)=>Qe+pt.amount,0),Le=de-ye+V,Ie=new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),vt=new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),xe={billNumber:Y,billDate:B,vendorId:M,createdBy:r.id,status:n&&s?s.status:xn.ON_HOLD,items:me,subtotal:de,discount:ye,shipping:V,total:Le,notes:he,paidAmount:n&&s?s.paidAmount:0,history:n&&s?s.history:{created:`Created by ${r.name} on ${Ie}, at ${vt}`}};n?(await T.mutateAsync({id:e,updates:xe}),P.success("Bill updated successfully"),ze(!1),t("/bills")):C.mutateAsync(xe).then(Qe=>{ze(!1),P.success("Bill created successfully"),t(`/bills/${Qe.id}`)},Qe=>{ze(!1);const pt=Qe instanceof Error?Qe.message:"Failed to save bill";et(pt),P.error(pt)})}catch(de){console.error("Failed to save bill:",de);const Le=de instanceof Error?de.message:"Failed to save bill";et(Le),P.error(Le),ze(!1)}},Yt=ge?(_e==null?void 0:_e.data)||[]:(ke==null?void 0:ke.data)||[],St=Yt.find(de=>de.id===M)||void 0,G=Un();return Ze.useEffect(()=>{try{const de=new URLSearchParams(G.search),Le=de.get("selectedVendorId");if(Le){R(Le),U(!1),de.delete("selectedVendorId");const Ie=de.toString(),vt=`${G.pathname}${Ie?`?${Ie}`:""}`;t(vt,{replace:!0})}}catch{}},[G.search,Yt,t,G.pathname]),c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Bill":"New Purchase Bill"}),c.jsx("button",{onClick:()=>t("/bills"),className:"text-gray-500 hover:text-gray-700 font-medium text-sm px-4 py-2 border border-gray-200 rounded-lg bg-white transition-all",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-1 relative md:col-span-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Select Vendor"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>U(!D),className:"w-full text-left px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl hover:bg-white focus:ring-2 focus:ring-[#3c5a82] transition-all flex justify-between items-center group",children:[St?c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("span",{className:"font-bold block text-sm text-gray-900",children:St.name}),c.jsx("p",{className:"text-[10px] text-gray-500 leading-none mt-0.5",children:St.phone}),c.jsx("p",{className:"text-[10px] ${theme.colors.secondary[600]} italic truncate mt-1",children:St.address})]}):c.jsx("span",{className:"text-gray-400 text-sm",children:"Select Vendor..."}),c.jsx("div",{className:`transition-transform duration-200 ${D?"rotate-90":""}`,children:ae.ChevronRight})]}),D&&c.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full max-w-xs bg-white border border-gray-200 shadow-2xl rounded-lg z-[110] p-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search business...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:Z,onChange:de=>q(de.target.value)})]}),c.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-0.5 custom-scrollbar",children:(Yt||[]).map(de=>c.jsxs("button",{onClick:()=>{R(de.id),U(!1),q("")},className:"w-full px-4 py-2.5 text-left hover:bg-[#e6f0ff] rounded-lg group transition-colors",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.secondary[700]}",children:de.name}),c.jsx("p",{className:"text-[10px] text-gray-400 group-hover:${theme.colors.secondary[600]}/60",children:de.phone})]},de.id))}),c.jsx(Je,{onClick:()=>{U(!1),t("/vendors/new",{state:{fromBillForm:!0,redirectPath:n?`/bills/edit/${e}`:"/bills/new"}})},variant:"secondary",size:"sm",className:"w-full mt-2 text-[10px]",icon:ae.Plus,children:"Add New Vendor"})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bill Date"}),c.jsx("input",{type:"date",value:B,onChange:de=>H(de.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] focus:bg-white transition-all cursor-pointer font-bold text-sm"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bill Number"}),c.jsx("input",{type:"text",value:Y,onChange:de=>K(de.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl font-mono ${theme.colors.secondary[700]} text-sm font-bold"})]})]}),c.jsx("div",{className:"border border-gray-100 rounded-lg overflow-visible bg-white",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Product Item"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Cost Rate"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Qty"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),c.jsx("th",{className:"px-4 py-4"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-50",children:[me.map((de,Le)=>{var Ie,vt;return c.jsxs("tr",{className:"group hover:bg-gray-50/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[((Ie=E.find(xe=>xe.id===de.productId))==null?void 0:Ie.image)&&c.jsx("img",{src:(vt=E.find(xe=>xe.id===de.productId))==null?void 0:vt.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-800 text-sm",children:de.productName})]})}),c.jsx("td",{className:"px-4 py-4 text-center text-sm font-bold text-gray-600",children:we(de.rate)}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsx("input",{type:"number",value:de.quantity,onChange:xe=>tn(Le,parseInt(xe.target.value)),className:"w-16 text-center py-2 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold outline-none"})}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 text-sm",children:we(de.amount)}),c.jsx("td",{className:"px-4 py-4 text-right",children:c.jsx("button",{onClick:()=>se(Le),className:"p-2 text-red-200 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:ae.Delete})})]},Le)}),c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-5 relative",children:c.jsxs("div",{className:"relative",children:[c.jsx(Je,{onClick:()=>h(!f),variant:"secondary",size:"sm",icon:ae.Plus,className:"border-2 border-dashed border-[#c7e0f5]",children:"Add an item"}),f&&c.jsxs("div",{className:"absolute top-full left-0 mt-3 w-full max-w-md bg-white border border-gray-200 shadow-2xl rounded-lg z-[100] p-2 overflow-hidden animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-300",children:ae.Search}),c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search product...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-[#3c5a82] text-sm font-medium",value:p,onChange:de=>g(de.target.value)})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto space-y-0.5 custom-scrollbar",children:E.filter(de=>de.name.toLowerCase().includes(p.toLowerCase())).map(de=>c.jsxs("button",{onClick:()=>Ir(de.id),className:"flex items-center gap-4 w-full px-4 py-3 text-left hover:bg-[#e6f0ff] rounded-xl group transition-all",children:[de.image&&c.jsx("img",{src:de.image,className:"w-10 h-10 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800 group-hover:${theme.colors.secondary[700]} truncate",children:de.name}),c.jsxs("p",{className:"text-[10px] font-bold ${theme.colors.secondary[600]}/60 uppercase tracking-widest",children:["Cost: ",we(de.purchasePrice)]})]})]},de.id))})]})]})})})]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-12 pt-6",children:[c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Purchase Memo"}),c.jsx("textarea",{placeholder:"Bill details, vendor instructions, or delivery notes...",value:he,onChange:de=>I(de.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-100 rounded-lg h-32 focus:ring-2 focus:ring-[#3c5a82] focus:bg-white outline-none font-medium text-sm transition-all"})]}),c.jsxs("div",{className:"w-full md:w-96 space-y-4 bg-gray-50/50 p-8 rounded-[2rem] border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Subtotal"}),c.jsx("span",{className:"text-gray-900 font-black",children:we(jt)})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Discount"}),c.jsx("input",{type:"number",value:ye,onChange:de=>L(parseFloat(de.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm font-bold uppercase tracking-widest",children:[c.jsx("span",{children:"Shipping"}),c.jsx("input",{type:"number",value:V,onChange:de=>ne(parseFloat(de.target.value)||0),className:"w-24 text-right px-3 py-1.5 border border-gray-100 rounded-lg focus:ring-2 focus:ring-[#3c5a82] font-black text-gray-900 bg-white"})]}),c.jsxs("div",{className:"pt-6 border-t-4 border-[#c7e0f5] flex justify-between items-center",children:[c.jsx("span",{className:"text-lg font-bold text-gray-900 uppercase tracking-tighter",children:"Total Bill"}),c.jsx("span",{className:"text-3xl font-black",children:we(Ft)})]}),c.jsx(Je,{onClick:yt,variant:"primary",size:"lg",className:"w-full mt-4",loading:ce,disabled:ce,children:"Save Purchase Bill"})]})]})]})]})},Hoe=()=>{var L,V,ne,he;const{id:e}=zn(),t=Et(),r=Ue(),n=Se.currentUser,{data:a,isPending:s,error:l}=DD(e||""),{data:u=[]}=n1(),{data:f=[]}=Bi(),{data:h=[]}=Fs(),{data:p=[]}=a1(),{data:g}=Kp(),{data:y}=Hp(),v=UD(),x=af(),w=nf(),_=Vr(),N=v.isPending||x.isPending||w.isPending,O=a?u.find(I=>I.id===a.vendorId):void 0,E=a?f.find(I=>I.id===a.createdBy):void 0,C=s,[T,P]=j.useState(!1),[M,R]=j.useState(!1),[B,H]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:Se.settings.defaults.accountId||"",amount:0});if(C)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading bill..."});if(l||!a)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(l==null?void 0:l.message)||"Bill not found."});const Y=async(I,D,U)=>{if(a)try{const Z={...a,status:I,history:D?{...a.history,[D]:U}:a.history};await v.mutateAsync({id:e,updates:Z}),r.invalidateQueries({queryKey:["bill",e]}),r.invalidateQueries({queryKey:["bills"]}),P(!1)}catch(Z){console.error("Failed to update bill status:",Z),_.error("Failed to update bill status")}},K=async()=>{const I=`Marked as processing by ${n.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await Y(xn.PROCESSING,"processing",I)},me=async()=>{const I=`Marked as received by ${n.name}, on ${new Date().toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`;await Y(xn.RECEIVED,"received",I)},ie=async()=>{if(a)try{let I=h.find(ce=>ce.id===B.accountId);if(!I){if(!B.accountId){_.error("Please select an account");return}I={id:B.accountId,name:"Selected Account",type:"Bank",openingBalance:0,currentBalance:0}}const D=a.paidAmount+B.amount,U=`Payment of ${we(B.amount)} received by ${n.name} on ${new Date(B.date).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}, at ${new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"})}`,q=D>=a.total?xn.PAID:a.status,[ge,ve]=B.time.split(":").map(Number),pe=new Date(B.date);pe.setHours(ge,ve,0,0);const ke=pe.toISOString(),te={...a,paidAmount:D,status:q,history:{...a.history,paid:U},paidAt:B.date};try{const ce={id:Math.random().toString(36).substr(2,9),date:ke,type:"Expense",category:Se.settings.defaults.expenseCategoryId||"expense_purchases",accountId:B.accountId,amount:B.amount,description:`Payment for Bill #${a.billNumber}`,referenceId:a.id,contactId:a.vendorId,paymentMethod:Se.settings.defaults.paymentMethod||"Cash",createdBy:n.id};await x.mutateAsync(ce)}catch(ce){console.error("Failed to create transaction:",ce)}const _e=B.amount,Pe=await Promise.allSettled([v.mutateAsync({id:e,updates:te}),w.mutateAsync({id:B.accountId,updates:{currentBalance:I.currentBalance-_e}})]);if(Pe[0].status==="rejected"||Pe[1].status==="rejected"){const ce=Pe[0].status==="rejected"?"failed":"succeeded",ze=Pe[1].status==="rejected"?"failed":"succeeded";throw new Error(`Payment update failed: Bill update ${ce}, Account update ${ze}`)}r.invalidateQueries({queryKey:["bill",e]}),r.invalidateQueries({queryKey:["bills"]}),R(!1),_.success("Payment recorded successfully")}catch(I){console.error("Failed to record payment:",I),_.error("Failed to record payment")}},ye=()=>{a&&(H({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),accountId:"",amount:a.total-a.paidAmount}),R(!0))};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsx(ef,{isLoading:C&&!a,message:"Loading bill details..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/bills"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500 transition-all",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsxs("h2",{className:"text-md md:text-2xl font-bold text-gray-900",children:["#",a.billNumber]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${Bp(a.status)}`,children:a.status})]}),c.jsxs("div",{className:"flex items-center gap-2 relative",children:[c.jsxs("button",{className:"hidden md:flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg bg-white hover:bg-gray-50 transition-all",children:[ae.Print," Print Bill"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>P(!T),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold border rounded-lg ${oe.colors.primary[600]} text-white hover:${oe.colors.primary[700]} transition-all shadow-md`,children:[ae.More," ",c.jsx("span",{className:"hidden md:inline",children:"Actions"})]}),T&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>P(!1)}),c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border rounded-xl shadow-xl z-50 py-2",children:[c.jsx("button",{onClick:()=>{window.print(),P(!1)},className:"md:hidden w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Print Bill"}),c.jsx("button",{onClick:()=>{window.print(),P(!1)},className:"md:hidden border-t w-full text-left px-4 py-2 text-sm hover:bg-gray-50"}),c.jsx("button",{onClick:()=>{K(),P(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Mark Processing"}),c.jsx("button",{onClick:()=>{me(),P(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Mark Received"}),c.jsx("div",{className:"border-t my-1"}),c.jsx("button",{onClick:()=>{ye(),P(!1)},disabled:a.paidAmount>=a.total,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 text-red-600 font-bold disabled:text-gray-300 disabled:cursor-not-allowed",children:"Record Payment"}),c.jsx("button",{onClick:()=>t(`/bills/edit/${a.id}`),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Edit Bill"})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[c.jsx("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:c.jsxs("div",{className:"p-3 sm:p-4 md:p-6 lg:p-8 space-y-6 sm:space-y-8",children:[c.jsxs("div",{className:"flex flex-row justify-between items-start gap-3 sm:gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[((g==null?void 0:g.logo)||Se.settings.company.logo)&&c.jsx("img",{src:(g==null?void 0:g.logo)||Se.settings.company.logo,className:"rounded-lg object-cover mb-2 sm:mb-3 lg:mb-4 w-auto h-auto",style:{maxWidth:"min(100px, 20%)",maxHeight:"auto"}}),c.jsx("h1",{className:"text-sm sm:text-base lg:text-xl font-black text-blue-600 uppercase tracking-tighter break-words",children:(g==null?void 0:g.name)||Se.settings.company.name}),c.jsxs("div",{className:"mt-1 sm:mt-2 text-[9px] sm:text-[10px] lg:text-xs text-gray-400 font-medium space-y-0.5 sm:space-y-1",children:[c.jsx("p",{className:"break-words",children:(g==null?void 0:g.address)||Se.settings.company.address}),c.jsxs("p",{className:"text-[8px] sm:text-[9px] break-words",children:[(g==null?void 0:g.phone)||Se.settings.company.phone,"  ",(g==null?void 0:g.email)||Se.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right flex-shrink-0",children:[c.jsx("h2",{className:"text-sm sm:text-2xl lg:text-3xl font-black text-gray-300 uppercase leading-none mb-1 sm:mb-2 break-words",children:(y==null?void 0:y.title)||Se.settings.invoice.title}),c.jsxs("div",{className:"space-y-0.5 sm:space-y-1 lg:space-y-1.5 text-[9px] sm:text-sm",children:[c.jsxs("p",{className:"text-[9px] sm:text-sm font-bold text-gray-900 break-words",children:["Bill No: #",a.billNumber]}),c.jsx("p",{className:"text-[9px] sm:text-sm text-gray-500",children:a.billDate})]})]})]}),c.jsxs("div",{className:"border-t border-gray-100 py-2 sm:py-3 lg:py-4",children:[c.jsx("p",{className:"text-[8px] sm:text-[9px] lg:text-[10px] font-black text-gray-400 uppercase tracking-[0.15em] sm:tracking-[0.2em] mb-2 sm:mb-3 lg:mb-4",children:"Bill From (Vendor)"}),c.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-black text-gray-900 break-words",children:O==null?void 0:O.name}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm text-gray-500 leading-relaxed break-words",children:O==null?void 0:O.address}),c.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm font-bold text-cyan-600 mt-1 sm:mt-1.5 lg:mt-2 break-words",children:O==null?void 0:O.phone})]}),c.jsx("div",{className:"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6 lg:-mx-10",children:c.jsx("div",{className:"px-3 sm:px-4 md:px-6 lg:px-10",children:c.jsxs("table",{className:"w-full text-left text-[10px] sm:text-xs lg:text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100",children:[c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 font-black text-gray-400 uppercase",children:"Description"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Cost"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-center font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Qty"}),c.jsx("th",{className:"py-2 sm:py-3 lg:py-4 text-right font-black text-gray-400 uppercase whitespace-nowrap px-1",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:a.items.map((I,D)=>{const U=p.find(Z=>Z.id===I.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-3 sm:py-4 lg:py-6",children:c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 min-w-0",children:[c.jsx("img",{src:U==null?void 0:U.image,className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 rounded-full object-cover border border-gray-100 shadow-sm flex-shrink-0"}),c.jsx("span",{className:"font-bold text-gray-900 text-[10px] sm:text-xs lg:text-base break-words",children:I.productName})]})}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:we(I.rate)}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-center text-gray-500 font-bold px-1 whitespace-nowrap",children:I.quantity}),c.jsx("td",{className:"py-3 sm:py-4 lg:py-6 text-right font-black text-gray-900 px-1 whitespace-nowrap",children:we(I.amount)})]},D)})})]})})}),c.jsx("div",{className:"flex flex-col items-end pt-2 sm:pt-3 lg:pt-6 px-0",children:c.jsxs("div",{className:"w-full sm:w-full md:w-98 lg:max-w-xs space-y-2 sm:space-y-3 lg:space-y-4",children:[c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:we(a.subtotal)})]}),a.discount>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500 flex-shrink-0",children:["-",we(a.discount)]})]}),a.shipping>0&&c.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs lg:text-sm gap-2",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase flex-shrink-0",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900 flex-shrink-0",children:we(a.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 sm:py-3 lg:py-4 border-t-2 border-[#0f2f57] gap-2",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter text-[11px] sm:text-xs lg:text-sm flex-shrink-0",children:"Total Payable"}),c.jsx("span",{className:"font-black text-sm sm:text-base lg:text-lg flex-shrink-0",children:we(a.total)})]})]})})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"1. Creation"}),c.jsx("div",{className:"p-1 bg-[#ebf4ff] text-white rounded-full",children:ae.Plus})]}),c.jsx("div",{className:"p-5",children:c.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:E!=null&&E.name?`${a.history.created} `:((L=a.history)==null?void 0:L.created)||"Creation information unavailable"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"2. Processing"}),c.jsx("div",{className:`p-1 rounded-full ${a.status===xn.PROCESSING?"bg-[#ebf4ff] text-white":"bg-gray-200 text-gray-400"}`,children:ae.ChevronRight})]}),c.jsx("div",{className:"p-5",children:(V=a.history)!=null&&V.processing?c.jsx("p",{className:"text-xs text-blue-600 leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:a.history.processing}):c.jsx("button",{disabled:a.status===xn.RECEIVED,onClick:K,className:`w-full py-3 ${oe.colors.secondary[600]} hover:${oe.colors.secondary[700]} disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Mark as Processing"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"3. Received"}),c.jsx("div",{className:`p-1 rounded-full ${a.status===xn.RECEIVED?"bg-green-100 text-green-600":"bg-gray-200 text-gray-400"}`,children:ae.ChevronRight})]}),c.jsx("div",{className:"p-5",children:(ne=a.history)!=null&&ne.received?c.jsx("p",{className:"text-xs text-green-600 leading-relaxed font-bold bg-green-50 p-3 rounded-xl",children:a.history.received}):c.jsx("button",{disabled:a.status===xn.ON_HOLD,onClick:me,className:"w-full py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-100 disabled:text-gray-400 text-white font-bold rounded-xl shadow-md transition-all active:scale-95",children:"Mark as Received"})})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"4. Payment"}),c.jsx("div",{className:`p-1 rounded-full ${a.paidAmount>0?"bg-[#ebf4ff] text-white":"bg-gray-200 text-gray-400"}`,children:ae.Banking})]}),c.jsx("div",{className:"p-5 space-y-3",children:a.paidAmount>0?c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-blue-600 leading-relaxed font-bold bg-[#ebf4ff] p-3 rounded-xl",children:(he=a.history)==null?void 0:he.paid}),a.paidAt&&c.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:["Payment Date: ",new Date(a.paidAt).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})]}),a.paidAmount<a.total&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-100 mt-2",children:[c.jsx("p",{className:"text-[10px] font-black text-yellow-600 uppercase",children:"Remaining Amount"}),c.jsx("p",{className:"text-lg font-black text-yellow-700",children:we(a.total-a.paidAmount)})]}),c.jsx("button",{onClick:ye,className:`w-full py-3 ${oe.colors.primary[600]} hover:${oe.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Add Balance Payment"})]})]}):c.jsxs("div",{className:"space-y-4 text-center",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Amount Due"}),c.jsx("p",{className:"text-2xl font-black text-gray-900",children:we(a.total-a.paidAmount)})]}),c.jsx("button",{onClick:ye,className:`w-full py-3 ${oe.colors.primary[600]} hover:${oe.colors.primary[700]} text-white font-bold rounded-xl shadow-md transition-all active:scale-95`,children:"Record Payment"})]})})]})]})]}),c.jsx(t1,{isOpen:M,onClose:()=>R(!1),onSubmit:ie,accounts:h,paymentForm:B,setPaymentForm:H,isLoading:N,title:"Record Payment",buttonText:"Add Payment"})]})},Voe=()=>{const{data:e=[],isLoading:t}=Fs(),{searchQuery:r}=Ha(),n=Z9(),a=eF(),s=Vr(),l=j.useMemo(()=>{if(!r.trim())return e;const _=r.toLowerCase();return e.filter(N=>N.name.toLowerCase().includes(_)||N.type.toLowerCase().includes(_))},[e,r]),[u,f]=j.useState(!1),[h,p]=j.useState(null),[g,y]=j.useState({name:"",type:"Bank",openingBalance:0}),v=async()=>{if(g.name)try{await n.mutateAsync({name:g.name,type:g.type,openingBalance:g.openingBalance,currentBalance:g.openingBalance}),f(!1),y({name:"",type:"Bank",openingBalance:0})}catch(_){console.error("Failed to create account:",_),s.error("Failed to create account. Please try again.")}},x=async _=>{const N=e.find(O=>O.id===_);if(N){if(N.currentBalance!==0){s.warning(`Cannot delete account "${N.name}" because it has a balance of ${N.currentBalance}. Please transfer the balance to another account first.`);return}if(confirm(`Are you sure you want to delete the account "${N.name}"?`))try{await a.mutateAsync(_),p(null)}catch(O){console.error("Failed to delete account:",O),s.error("Failed to delete account. Please try again.")}}},w=l.reduce((_,N)=>_+N.currentBalance,0);return c.jsxs("div",{className:"space-y-6",children:[c.jsx(ef,{isLoading:t,message:"Loading accounts..."}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Banking & Accounts"})}),c.jsx(Je,{onClick:()=>f(!0),variant:"primary",size:"md",icon:ae.Plus,disabled:n.isPending,children:"Add Account"})]}),c.jsxs("div",{className:`${oe.colors.primary[600]} rounded-xl p-8 text-white shadow-xl shadow-[#0f2f57]/20 relative overflow-hidden`,children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"text-[#c7dff5] font-medium text-sm mb-1 uppercase tracking-wider",children:"Total Combined Balance"}),c.jsx("h1",{className:"text-4xl font-black",children:we(w)}),c.jsxs("div",{className:"mt-8 flex gap-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[#a8c5e8] text-xs font-bold uppercase",children:"Bank Accounts"}),c.jsx("p",{className:"text-xl font-bold",children:e.filter(_=>_.type==="Bank").length})]}),c.jsx("div",{className:"w-px bg-[#0f2f57]/50 h-10"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[#a8c5e8] text-xs font-bold uppercase",children:"Cash Accounts"}),c.jsx("p",{className:"text-xl font-bold",children:e.filter(_=>_.type==="Cash").length})]})]})]}),c.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none",children:c.jsx("div",{className:"w-48 h-48 border-[24px] border-white rounded-full"})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(_=>c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow group relative",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:`p-3 rounded-xl ${_.type==="Bank"?`bg-[#e6f0ff] ${oe.colors.secondary[600]}`:"bg-orange-50 text-orange-600"}`,children:(_.type==="Bank",ae.Banking)}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>p(h===_.id?null:_.id),className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-lg transition-all",children:ae.More}),h===_.id&&c.jsx("div",{className:"absolute right-0 mt-1 w-40 bg-white border border-gray-100 rounded-lg shadow-lg z-50 py-1",children:c.jsxs("button",{onClick:()=>x(_.id),disabled:_.currentBalance!==0||a.isPending,className:`w-full text-left px-4 py-2.5 text-sm flex items-center gap-2 font-bold ${_.currentBalance!==0||a.isPending?"text-gray-400 cursor-not-allowed":"text-red-600 hover:bg-red-50"}`,title:_.currentBalance!==0?"Account must have zero balance to delete":"Delete account",children:[ae.Delete," Delete"]})})]})]}),c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:_.name}),c.jsxs("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-tight mb-4",children:[_.type," Account"]}),c.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-50",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Opening Balance"}),c.jsx("span",{className:"font-semibold text-gray-700",children:we(_.openingBalance)})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Current Balance"}),c.jsx("span",{className:"text-xl font-black",children:we(_.currentBalance)})]})]})]},_.id))}),u&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>f(!1)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 animate-in fade-in zoom-in duration-200",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Account"})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Account Name"}),c.jsx("input",{type:"text",placeholder:"e.g. City Bank - 0987",className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.name,onChange:_=>y({...g,name:_.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Account Type"}),c.jsxs("select",{className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.type,onChange:_=>y({...g,type:_.target.value}),children:[c.jsx("option",{value:"Bank",children:"Bank"}),c.jsx("option",{value:"Cash",children:"Cash"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Opening Balance"}),c.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-4 py-2 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:g.openingBalance,onChange:_=>y({...g,openingBalance:parseFloat(_.target.value)||0})})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-2xl flex gap-3",children:[c.jsx(Je,{onClick:()=>f(!1),variant:"ghost",disabled:n.isPending,children:"Cancel"}),c.jsx(Je,{onClick:v,variant:"primary",size:"md",className:"flex-1",disabled:n.isPending||!g.name,children:n.isPending?"Creating...":"Create Account"})]})]})]})]})},Goe=()=>{const e=Et(),t=Ue();Vr();const{searchQuery:r}=Ha(),{data:n}=Qs(),a=(n==null?void 0:n.recordsPerPage)||xt,[s,l]=j.useState("All Time"),[u,f]=j.useState({from:"",to:""}),[h,p]=j.useState("All"),[g,y]=j.useState("all"),[v,x]=j.useState(1),{data:w=[]}=Bi(),_=j.useMemo(()=>{if(g!=="all")return g==="admins"?w.filter(I=>I.role===Ge.ADMIN).map(I=>I.id):g==="employees"?w.filter(I=>I.role===Ge.EMPLOYEE).map(I=>I.id):[g]},[g,w]),{data:N,isPending:O}=z9(v,a,{type:h==="All"?void 0:h,from:u.from,to:u.to,search:r,createdByIds:_}),E=(N==null?void 0:N.data)??[],C=(N==null?void 0:N.count)??0,T=Math.max(1,Math.ceil(C/a));Ze.useEffect(()=>{if(!E||E.length===0)return;Array.from(new Set(E.map(D=>D.contactId).filter(Boolean))).forEach(D=>{t.fetchQuery({queryKey:["customer",D],queryFn:()=>Lp(D)}).catch(()=>{}),t.fetchQuery({queryKey:["vendor",D],queryFn:()=>SD(D)}).catch(()=>{})})},[E,t]);const{data:P=[]}=qp(),{data:M=[]}=Fp(),{data:R=[]}=Ks();tF(),j.useEffect(()=>{x(1)},[r,h,s,u.from,u.to,g]);const B=I=>{x(1),p(I)},H=I=>{x(1),l(I),I!=="Custom"&&f({from:"",to:""})},Y=I=>{x(1),f(I)},K=I=>{x(1),y(I)},me=j.useMemo(()=>new Map(w.map(I=>[I.id,I])),[w]),ie=I=>{if(s==="All Time")return!0;const D=new Date(I),U=new Date;if(s==="Today")return D.toDateString()===U.toDateString();if(s==="This Week"){const Z=U.getDate()-U.getDay(),q=Z+6,ge=new Date(new Date().setDate(Z)),ve=new Date(new Date().setDate(q));return D>=ge&&D<=ve}return s==="This Month"?D.getMonth()===U.getMonth()&&D.getFullYear()===U.getFullYear():s==="This Year"?D.getFullYear()===U.getFullYear():s==="Custom"?!u.from||!u.to?!0:D>=new Date(u.from)&&D<=new Date(u.to):!0},ye=I=>{var U,Z;if(!((U=I.createdBy)!=null&&U.trim()))return null;const D=me.get(I.createdBy);if(D!=null&&D.name)return D.name;if((Z=I.history)!=null&&Z.created){const q=I.history.created.match(/Created by (.+?) on/);if(q)return q[1]}return null},L=I=>{if(!I)return null;const D=t.getQueryData(["customer",I]);if(D)return{name:D.name,type:"Customer"};const U=t.getQueryData(["vendor",I]);return U?{name:U.name,type:"Vendor"}:null},V=j.useMemo(()=>{let I=E.filter(D=>ie(D.date)).filter(D=>h==="All"||D.type===h);if(r.trim()){const D=r.toLowerCase();I=I.filter(U=>{var ve,pe;const Z=U.contactId?L(U.contactId):null,q=ye(U),ge=((ve=R.find(ke=>ke.id===U.category))==null?void 0:ve.name)||U.category||"";return U.description.toLowerCase().includes(D)||ge.toLowerCase().includes(D)||U.type.toLowerCase().includes(D)||(Z==null?void 0:Z.name.toLowerCase().includes(D))||((pe=q==null?void 0:q.toLowerCase)==null?void 0:pe.call(q).includes(D))||we(U.amount).includes(D)})}return I},[E,s,u,h,r,R,w]),ne=(I,D)=>{try{const U=I&&I.toString().length>10?I:D||I||"",Z=new Date(U),q="Asia/Dhaka",ge=Z.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric",timeZone:q}),ve=Z.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:q});return{date:ge,time:ve}}catch{return{date:I||D||"",time:""}}},he=I=>{if(I.referenceId){if(P.some(Z=>Z.id===I.referenceId)){e(`/orders/${I.referenceId}`);return}if(M.some(Z=>Z.id===I.referenceId)){e(`/bills/${I.referenceId}`);return}}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900 tracking-tight",children:"Financial Transactions"})}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(Je,{onClick:()=>e("/transactions/new/income"),variant:"primary",size:"md",icon:ae.Plus,children:"Income"}),c.jsx(Je,{onClick:()=>e("/transactions/new/expense"),variant:"danger",size:"md",icon:ae.Minus,children:"Expense"})]})]}),c.jsx(_d,{title:"Transactions",filterRange:s,setFilterRange:H,customDates:u,setCustomDates:Y,statusTab:h,setStatusTab:B,statusOptions:["Income","Expense","Transfer"]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Created By:"}),c.jsxs("select",{value:g,onChange:I=>K(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Users"}),w.some(I=>I.role===Ge.ADMIN)&&c.jsx("option",{value:"admins",children:"All Admins"}),w.some(I=>I.role===Ge.EMPLOYEE)&&c.jsx("option",{value:"employees",children:"All Employees"}),c.jsx("optgroup",{label:"Specific Users",children:w.map(I=>c.jsxs("option",{value:I.id,children:[I.name," ",I.role===Ge.ADMIN?"(Admin)":"(Employee)"]},I.id))})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Type"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Contact"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:c.jsxs(c.Fragment,{children:["Category ",c.jsx("br",{})," Notes"]})}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:O?c.jsx($p,{columns:5,rows:8}):V.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-6 py-16 text-center text-gray-400 italic font-medium",children:"No transactions found."})}):V.map(I=>{var pe;const D=I.contactId?L(I.contactId):null,U=ye(I),Z=I.referenceId&&(P.some(ke=>ke.id===I.referenceId)||M.some(ke=>ke.id===I.referenceId)),q=!!I.referenceId,{date:ge,time:ve}=ne(I.date,I.createdAt);return c.jsxs("tr",{onClick:()=>he(I),className:`hover:bg-gray-50 transition-all group ${Z?"cursor-pointer":""}`,children:[c.jsx("td",{className:"px-6 py-5 text-sm font-bold text-gray-700",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-gray-900",children:ge}),c.jsx("span",{className:"text-[11px] text-gray-400 font-medium",children:ve})]})}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest ${I.type==="Income"?"bg-[#ebf4ff]":I.type==="Expense"?"bg-red-50 text-red-600":"bg-[#e6f0ff]"}`,children:I.type})}),c.jsx("td",{className:"px-6 py-5",children:q?D?c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:D.name}),c.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest",children:D.type})]}):c.jsx("span",{className:"text-gray-300 font-bold text-xs",children:""}):U?c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:U}),c.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest",children:"Created By"})]}):c.jsx("span",{className:"text-gray-300 font-bold text-xs",children:""})}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-sm font-bold text-gray-800",children:((pe=R.find(ke=>ke.id===I.category))==null?void 0:pe.name)||I.category}),c.jsx("p",{className:"text-xs text-gray-400 italic max-w-xs truncate",children:I.description})]})}),c.jsx("td",{className:"px-6 py-5 text-right",children:c.jsxs("span",{className:`font-black text-base ${I.type==="Income"?"text-emerald-600":I.type==="Expense"?"text-red-600":"text-black"}`,children:[I.type==="Income"?"+":I.type==="Expense"?"-":"",we(I.amount)]})})]},I.id)})})]})})}),c.jsx(Ef,{page:v,totalPages:T,onPageChange:I=>x(I),disabled:O})]})},Yoe=()=>{var N;const{type:e}=zn(),t=Et(),r=Se.currentUser,n=e==="income",{data:a=[]}=Fs(),{data:s}=Qs(),{data:l=[]}=ID(),{data:u=[]}=Ks(),f=af(),h=nf(),p=Vr(),g=j.useMemo(()=>u.filter(O=>O.type===(n?"Income":"Expense")),[u,n]),[y,v]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),paymentMethod:(s==null?void 0:s.paymentMethod)||"Cash",accountId:(s==null?void 0:s.accountId)||((N=a[0])==null?void 0:N.id)||"",amount:0,description:"",category:n?(s==null?void 0:s.incomeCategoryId)||"":(s==null?void 0:s.expenseCategoryId)||"",attachmentName:"",attachmentUrl:""}),x=O=>{var C;const E=(C=O.target.files)==null?void 0:C[0];if(E){const T=new FileReader;T.onload=()=>{v({...y,attachmentName:E.name,attachmentUrl:T.result})},T.readAsDataURL(E)}},w=f.isPending||h.isPending,_=async()=>{if(y.amount<=0){p.warning("Amount must be greater than 0");return}if(!y.accountId){p.warning("Please select an account");return}if(!y.category){p.warning("Please select a category");return}if(!(r!=null&&r.id)){p.warning("User session expired. Please log in again.");return}try{if(!n){const Y=a.find(K=>K.id===y.accountId);if(Y&&Y.currentBalance<y.amount){p.error(`Insufficient balance. Account has ${we(Y.currentBalance)} but transaction requires ${we(y.amount)}`);return}}const E=new Date(y.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),C=y.time,[T,P]=y.time.split(":").map(Number),M=new Date(y.date);M.setHours(T,P,0,0);const R=M.toISOString(),B={type:n?"Income":"Expense",date:R,paymentMethod:y.paymentMethod,accountId:y.accountId,amount:y.amount,description:y.description,category:y.category,attachmentName:y.attachmentName,attachmentUrl:y.attachmentUrl,createdBy:r.id,history:{created:`Created by ${r.name} on ${E}, at ${C}`}};await f.mutateAsync(B);const H=a.find(Y=>Y.id===y.accountId);if(H){const Y=n?H.currentBalance+y.amount:H.currentBalance-y.amount;await h.mutateAsync({id:y.accountId,updates:{currentBalance:Y}})}t("/transactions")}catch(O){console.error("Failed to save transaction:",O),p.error("Failed to save transaction: "+(O instanceof Error?O.message:"Unknown error"))}};return c.jsxs("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[c.jsx("div",{children:c.jsxs("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:["Record ",n?"Income":"Expense"]})}),c.jsx("button",{onClick:()=>t(-1),className:"p-3 text-gray-400 hover:text-gray-600 bg-white border border-gray-100 rounded-lg shadow-sm",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l18 18"})})})]}),c.jsxs("div",{className:"bg-white p-8 lg:p-12 rounded-lg border border-gray-100 shadow-xl shadow-gray-200/20 space-y-10",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Amount (BDT)"}),c.jsx("input",{type:"number",className:`w-full text-xl font-black px-6 py-4 bg-gray-50 border-2 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl transition-all outline-none ${n?"${theme.colors.primary[600]}":"text-red-600"}`,value:y.amount,onChange:O=>v({...y,amount:parseFloat(O.target.value)||0}),placeholder:"0.00"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Date"}),c.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:y.date,onChange:O=>v({...y,date:O.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Time"}),c.jsx("input",{type:"time",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:y.time,onChange:O=>v({...y,time:O.target.value})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Connected Account"}),c.jsx("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.accountId,onChange:O=>v({...y,accountId:O.target.value}),children:a.map(O=>c.jsx("option",{value:O.id,children:O.name},O.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Category"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.category,onChange:O=>v({...y,category:O.target.value}),children:[c.jsx("option",{value:"",children:"Select a category"}),g.map(O=>c.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Payment Method"}),c.jsx("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-xl font-bold",value:y.paymentMethod,onChange:O=>v({...y,paymentMethod:O.target.value}),children:l.map(O=>c.jsx("option",{value:O.name,children:O.name},O.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Attachment"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"file",className:"hidden",id:"file-upload",onChange:x}),c.jsx("label",{htmlFor:"file-upload",className:"w-full px-6 py-4 bg-gray-50 border-transparent hover:bg-gray-100 rounded-lg font-bold pl-14 flex items-center cursor-pointer transition-colors",children:y.attachmentName||"Choose file to upload"}),c.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400",children:ae.Print})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Description"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 outline-none",placeholder:"What was this transaction for?",value:y.description,onChange:O=>v({...y,description:O.target.value})})]}),c.jsxs(Je,{onClick:_,variant:n?"primary":"danger",size:"lg",className:"w-full",disabled:w,loading:w,children:["Finalize ",n?"Income":"Expense"]})]})]})},Woe=()=>{Et();const e=Ue(),t=Se.currentUser,{data:r=[]}=Fs(),n=af(),a=nf(),s=Vr(),[l,u]=j.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),fromAccountId:"",toAccountId:"",amount:0,description:""}),f=async()=>{if(!l.amount||!l.fromAccountId||!l.toAccountId){s.warning("Please fill in all fields.");return}if(l.fromAccountId===l.toAccountId){s.warning("Cannot transfer to the same account.");return}const h=r.find(g=>g.id===l.fromAccountId),p=r.find(g=>g.id===l.toAccountId);if(h&&p){if(h.currentBalance<l.amount){s.warning("Insufficient balance in source account.");return}try{const[g,y]=l.time.split(":").map(Number),v=new Date(l.date);v.setHours(g,y,0,0);const x=v.toISOString();await Promise.all([n.mutateAsync({type:"Transfer",date:x,accountId:l.fromAccountId,toAccountId:l.toAccountId,amount:l.amount,description:l.description||`Transfer from ${h.name} to ${p.name}`,category:"Transfer",paymentMethod:"Internal Transfer",createdBy:t.id}),Promise.all([a.mutateAsync({id:l.fromAccountId,updates:{currentBalance:h.currentBalance-l.amount}}),a.mutateAsync({id:l.toAccountId,updates:{currentBalance:p.currentBalance+l.amount}})])]),s.success("Transfer completed successfully"),e.invalidateQueries({queryKey:["accounts"]}),u({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit",hour12:!1}),fromAccountId:"",toAccountId:"",amount:0,description:""})}catch(g){console.error("Transfer failed:",g),s.error("Failed to complete transfer: "+(g instanceof Error?g.message:"Unknown error"))}}};return c.jsxs("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:[c.jsx("div",{className:"mb-8 flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:"Fund Transfer"}),c.jsx("p",{className:"text-gray-500 font-medium",children:"Move balances between your business accounts"})]})}),c.jsxs("div",{className:"bg-white p-8 lg:p-12 rounded-lg border border-gray-100 shadow-xl space-y-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Amount to Transfer (BDT)"}),c.jsx("input",{type:"number",className:`w-full text-xl font-black px-6 py-4 bg-[#ebf4ff] border-2 border-transparent focus:border-[#3c5a82] rounded-xl transition-all outline-none ${oe.colors.primary[600]}`,value:l.amount,onChange:h=>u({...l,amount:parseFloat(h.target.value)||0}),placeholder:"0.00"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"From Account (Source)"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-bold",value:l.fromAccountId,onChange:h=>u({...l,fromAccountId:h.target.value}),children:[c.jsx("option",{value:"",children:"Select an account"}),r.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",we(h.currentBalance),")"]},h.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"To Account (Destination)"}),c.jsxs("select",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-bold",value:l.toAccountId,onChange:h=>u({...l,toAccountId:h.target.value}),children:[c.jsx("option",{value:"",children:"Select an account"}),r.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",we(h.currentBalance),")"]},h.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Transfer Date"}),c.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:l.date,onChange:h=>u({...l,date:h.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Transfer Time"}),c.jsx("input",{type:"time",className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg text-lg font-bold",value:l.time,onChange:h=>u({...l,time:h.target.value})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Memo / Description"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border-transparent focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 outline-none",placeholder:"Reason for transfer...",value:l.description,onChange:h=>u({...l,description:h.target.value})})]}),c.jsx(Je,{onClick:f,variant:"primary",size:"lg",className:"w-full",disabled:n.isPending||a.isPending,children:n.isPending||a.isPending?"Processing Transfer...":"Execute Transfer"})]})]})},Xoe=()=>{const e=Et();Ue();const t=Vr(),{searchQuery:r}=Ha(),{user:n}=_a(),{data:a}=Qs(),s=(a==null?void 0:a.recordsPerPage)||xt,[l,u]=j.useState(1),{data:f=[]}=Bi(),[h,p]=j.useState("all"),g=j.useMemo(()=>{if(h!=="all")return h==="admins"?f.filter(B=>B.role===Ge.ADMIN).map(B=>B.id):h==="employees"?f.filter(B=>B.role===Ge.EMPLOYEE).map(B=>B.id):[h]},[h,f]),{data:y,isFetching:v}=F9(l,s,r,void 0,g),x=(y==null?void 0:y.data)??[],w=(y==null?void 0:y.count)??0,_=Math.max(1,Math.ceil(w/s)),N=lF(),O=(n==null?void 0:n.role)===Ge.ADMIN,[E,C]=j.useState("All Time"),[T,P]=j.useState({from:"",to:""});j.useEffect(()=>{u(1)},[r,h]);const M=x,R=async B=>{if(confirm("Are you sure you want to delete this product?"))try{await N.mutateAsync(B),t.success("Product deleted successfully")}catch(H){console.error("Failed to delete product:",H),t.error("Failed to delete product")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Products Catalog"})}),O&&c.jsx(Je,{onClick:()=>e("/products/new"),variant:"primary",size:"md",icon:ae.Plus,children:"Add Product"})]}),c.jsx(Up,{columns:[{key:"name",label:"Name",render:(B,H)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:H.image||"https://via.placeholder.com/100",alt:H.name,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm"}),c.jsx("div",{children:c.jsx("p",{className:"font-bold text-gray-900",children:H.name})})]})},{key:"category",label:"Category",render:B=>c.jsx("span",{className:"px-2.5 py-1 bg-[#ebf4ff] rounded-lg text-[10px] font-black uppercase tracking-widest",children:B})},{key:"salePrice",label:O?c.jsxs(c.Fragment,{children:["Sale Price",c.jsx("br",{}),"Purchase Price"]}):c.jsx(c.Fragment,{children:"Sale Price"}),render:(B,H)=>c.jsxs("div",{className:"flex flex-col gap-0.5",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-sm font-bold",children:we(H.salePrice)})}),O&&c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-[11px] font-bold text-gray-600",children:we(H.purchasePrice)})})]})},...O?[{key:"id",label:"Actions",align:"right",render:B=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(Bs,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:H=>{H.stopPropagation(),e(`/products/edit/${B}`)}}),c.jsx(Bs,{icon:ae.Delete,variant:"danger",title:"Delete",onClick:H=>{H.stopPropagation(),R(B)}})]})}]:[]],data:M,loading:v,emptyMessage:"No products found"}),c.jsx(Ef,{page:l,totalPages:_,onPageChange:B=>u(B),disabled:v})]})},hT=()=>{const{id:e}=zn(),t=Et(),r=!!e,n=Se.currentUser;if(!n)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in first."}),c.jsx(Je,{onClick:()=>t("/login"),variant:"primary",children:"Back to Login"})]});if(r&&n.role===Ge.EMPLOYEE)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot edit products. Contact an administrator for assistance."}),c.jsx(Je,{onClick:()=>t("/products"),variant:"primary",children:"Back to Products"})]});const{data:a}=K9(r?e:void 0),{data:s=[],isPending:l}=Ks("Product"),u=sF(),f=oF(),[h,p]=j.useState({name:"",category:"",image:"",salePrice:0,purchasePrice:0}),[g,y]=j.useState(!1),[v,x]=j.useState(null);Ze.useEffect(()=>{a&&p(a)},[a]);const w=N=>{var E;const O=(E=N.target.files)==null?void 0:E[0];if(O){const C=new FileReader;C.onload=()=>{p({...h,image:C.result})},C.readAsDataURL(O)}},_=async()=>{if(!h.name||!h.category){x("Name and category are required");return}y(!0),x(null);try{const N={name:h.name||"",category:h.category||"",image:h.image||"https://picsum.photos/200/200?random="+Math.random(),salePrice:h.salePrice||0,purchasePrice:h.purchasePrice||0};r?(await f.mutateAsync({id:e,updates:N}),t("/products")):u.mutateAsync(N).then(()=>{t("/products")},O=>{y(!1),x(O instanceof Error?O.message:"Failed to create product")})}catch(N){console.error("Failed to save product:",N),x(N instanceof Error?N.message:"Failed to save product"),y(!1)}};return c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Product":"Add Product"}),c.jsx("button",{onClick:()=>t("/products"),className:"px-4 py-2 border rounded-xl text-gray-500 font-bold bg-white hover:bg-gray-50",children:"Cancel"})]}),c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Product Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:h.name,onChange:N=>p({...h,name:N.target.value}),placeholder:"e.g. Cotton Polo T-Shirt"})]}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Category"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-emerald-500",value:h.category,onChange:N=>p({...h,category:N.target.value}),disabled:l,children:[c.jsx("option",{value:"",children:l?"Loading...":"Select Category..."}),s.map(N=>c.jsx("option",{value:N.name,children:N.name},N.id))]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Product Image"}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"w-24 h-24 rounded-lg border border-dashed border-gray-300 flex items-center justify-center overflow-hidden bg-gray-50",children:h.image?c.jsx("img",{src:h.image,className:"w-full h-full object-cover"}):c.jsx("span",{className:"text-gray-300 text-xs text-center p-2",children:"No image"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("input",{type:"file",id:"product-image",className:"hidden",onChange:w}),c.jsx("label",{htmlFor:"product-image",className:"inline-block px-6 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-xl cursor-pointer transition-all",children:"Upload File"}),c.jsx("p",{className:"text-[10px] text-gray-400 mt-2 font-medium",children:"Recommended size: 500x500px. JPG, PNG supported."})]})]})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sale Price (BDT)"}),c.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82] font-bold",value:h.salePrice,onChange:N=>p({...h,salePrice:parseFloat(N.target.value)||0})})]}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Purchase Price (BDT)"}),c.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82] text-gray-600 font-bold",value:h.purchasePrice,onChange:N=>p({...h,purchasePrice:parseFloat(N.target.value)||0})})]})]}),c.jsxs("div",{className:"pt-6 space-y-4",children:[v&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:v instanceof Error?v.message:String(v)})}),c.jsx(Je,{onClick:_,variant:"primary",size:"lg",className:"w-full",disabled:g,children:g?"Saving...":r?"Update Product Item":"Create Product Item"})]})]})]})},Joe=()=>{const e=Et(),{user:t}=_a(),{searchQuery:r}=Ha(),{data:n=[],isPending:a}=Bi(),s=(t==null?void 0:t.role)===Ge.ADMIN,l=j.useMemo(()=>{if(!r.trim())return n;const u=r.toLowerCase();return n.filter(f=>f.name.toLowerCase().includes(u)||f.phone.includes(u)||f.role.toLowerCase().includes(u))},[n,r]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Application Users"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Manage staff accounts and system permissions"})]}),s&&c.jsx(Je,{onClick:()=>e("/users/new"),variant:"primary",size:"md",icon:ae.Plus,children:"Add User"})]}),c.jsx(Up,{columns:[{key:"name",label:"User",render:(u,f)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:f.image||"https://picsum.photos/100/100?random="+f.id,className:"w-10 h-10 rounded-full object-cover border"}),c.jsx("span",{className:"font-bold text-gray-900",children:f.name})]})},{key:"role",label:"Role",render:u=>c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${u===Ge.ADMIN?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:u})},{key:"phone",label:"Contact",render:u=>c.jsx("span",{className:"text-sm text-gray-600",children:u})},{key:"id",label:"Actions",align:"right",render:u=>c.jsx(Bs,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:f=>{f.stopPropagation(),e(`/users/edit/${u}`)}})}],data:l,onRowClick:u=>e(`/users/${u.id}`),emptyMessage:"No users found",loading:a})]})},mT=()=>{const{id:e}=zn(),t=Et(),r=!!e,{data:n,isPending:a,error:s}=MD(r?e:void 0),l=rF(),u=zD(),f=qD(),h=Vr(),[p,g]=j.useState(!1),[y,v]=j.useState(!1),[x,w]=j.useState(!1),[_,N]=j.useState({name:"",phone:"",password:"",role:Ge.EMPLOYEE,image:""});Ze.useEffect(()=>{n&&N(n)},[n]);const O=localStorage.getItem("currentUser"),E=O?JSON.parse(O):null,C=(E==null?void 0:E.role)===Ge.ADMIN,T=(E==null?void 0:E.id)===e,P=a,M=H=>{var K;const Y=(K=H.target.files)==null?void 0:K[0];if(Y){const me=new FileReader;me.onload=()=>{N({..._,image:me.result})},me.readAsDataURL(Y)}},R=async()=>{if(!_.name||!_.phone||C&&!r&&!_.password){h.warning("Please fill mandatory fields (Name, Phone, Password)");return}g(!0);try{if(r&&e){const H={name:_.name,phone:_.phone,image:_.image};if(C&&(_.password&&(H.password=_.password),_.role&&(H.role=_.role)),await u.mutateAsync({id:e,updates:H}),T&&E){const Y={...E,...H};localStorage.setItem("currentUser",JSON.stringify(Y))}}else{if(!C){h.error("Only admins can add users"),g(!1);return}await l.mutateAsync({name:_.name||"",phone:_.phone||"",password:_.password||"",role:_.role||Ge.EMPLOYEE,image:_.image||""})}h.success(r?"User updated successfully!":"User created successfully!"),t("/users")}catch(H){console.error("Failed to save user:",H);const Y=sA(H);h.error("Failed to save user: "+Y)}finally{g(!1)}},B=async()=>{if(e){g(!0);try{await f.mutateAsync(e),h.success("User deleted successfully!"),t("/users")}catch(H){console.error("Failed to delete user:",H);const Y=sA(H);h.error("Failed to delete user: "+Y)}finally{g(!1),w(!1)}}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:r?"Edit Profile":"Add User"}),c.jsx("button",{onClick:()=>t("/users"),className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-500 hover:bg-gray-50",children:"Cancel"})]}),r&&P&&c.jsx("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm text-center text-gray-500",children:"Loading user details..."}),s&&c.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-100 text-red-700",children:s.message||"User not found"}),(!r||!P)&&c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-6 p-6 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-20 h-20 rounded-[50%] overflow-hidden bg-white border",children:c.jsx("img",{src:_.image||`https://ui-avatars.com/api/?name=${_.name||"User"}&background=10b981&color=fff`,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-2",children:"Profile Photo"}),c.jsx("input",{type:"file",id:"user-pfp",className:"hidden",onChange:M}),c.jsx("label",{htmlFor:"user-pfp",className:`cursor-pointer px-4 py-2 ${oe.colors.primary[600]} text-white text-xs font-bold rounded-lg hover:${oe.colors.primary[700]}`,children:"Upload Picture"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Full Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:_.name,onChange:H=>N({..._,name:H.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Phone Number"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:_.phone,onChange:H=>N({..._,phone:H.target.value})})]}),C&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Password (Admin Only Access)"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:y?"text":"password",className:"w-full px-4 py-3 pr-10 bg-purple-50 border border-purple-100 rounded-xl focus:ring-2 focus:ring-purple-500",value:_.password,onChange:H=>N({..._,password:H.target.value}),placeholder:r?"Leave blank to keep current password":"Secure system password"}),c.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-purple-500 hover:text-purple-700",children:y?c.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),c.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-14-14zM10 4C6.687 4 3.89 5.945 2.58 8.808c-.35.915-.35 2.468 0 3.384.74 1.94 2.08 3.61 3.756 4.7l1.83-1.83A3.992 3.992 0 016 10a4 4 0 016.956-3.533l1.416-1.416C14.225 4.523 12.15 4 10 4zm7.42 3.192c.35.915.35 2.468 0 3.384C15.26 13.055 12.463 15 9 15a6.966 6.966 0 01-3.15-.744l2.119-2.119A3.992 3.992 0 0114 10c0-.901-.281-1.735-.743-2.434l2.163-2.174z",clipRule:"evenodd"})})})]}),c.jsx("p",{className:"text-[10px] text-purple-400 font-medium",children:"Only administrators can set or change passwords."})]}),C&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"System Role"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-[#3c5a82]",value:_.role,onChange:H=>N({..._,role:H.target.value}),children:[c.jsx("option",{value:Ge.EMPLOYEE,children:"Employee"}),c.jsx("option",{value:Ge.ADMIN,children:"Administrator"})]})]})]}),c.jsxs("div",{className:"pt-6 space-y-3",children:[c.jsx(Je,{onClick:R,variant:"primary",size:"lg",className:"w-full",disabled:p,children:p?"Saving...":"Save Details"}),r&&C&&c.jsx("button",{onClick:()=>w(!0),disabled:p,className:"w-full px-4 py-3 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Delete User"})]})]}),x&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-sm w-full p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete User?"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:["Are you sure you want to delete ",c.jsx("strong",{children:_.name}),"? This action cannot be undone."]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>w(!1),disabled:p,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:B,disabled:p,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:p?"Deleting...":"Delete"})]})]})})]})},Zoe=()=>{const{id:e}=zn(),t=Et(),r=Se.currentUser,{data:n,isPending:a,error:s}=MD(e),l=qD(),u=zD(),f=Vr(),[h,p]=j.useState(!1),[g,y]=j.useState(!0),[v,x]=j.useState("");if(Ze.useEffect(()=>{console.log("[UserDetails] User data loaded:",{id:n==null?void 0:n.id,name:n==null?void 0:n.name,password:n!=null&&n.password?"(exists)":"(missing)"}),n&&n.password?(console.log("[UserDetails] Setting editedPassword from user.password"),x(n.password)):n&&(console.log("[UserDetails] WARNING: user loaded but password is missing/empty!"),x(""))},[n==null?void 0:n.id,n==null?void 0:n.password]),a)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading user..."});if(s||!n)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:(s==null?void 0:s.message)||"User not found."});const w=r.role===Ge.ADMIN||r.id===e,_=r.role===Ge.ADMIN,N=async()=>{if(e)try{await l.mutateAsync(e),f.success("User deleted successfully!"),t("/users")}catch(E){console.error("Failed to delete user:",E),f.error("Failed to delete user: "+(E instanceof Error?E.message:"Unknown error"))}finally{p(!1)}},O=async()=>{if(!e||!v.trim()){f.warning("Please enter a password");return}try{await u.mutateAsync({id:e,updates:{password:v}}),f.success("Password updated successfully!")}catch(E){console.error("Failed to update password:",E),f.error("Failed to update password: "+(E instanceof Error?E.message:"Unknown error"))}};return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/users"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Profile"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[w&&c.jsxs("button",{onClick:()=>t(`/users/edit/${n.id}`),className:`px-6 py-2 ${oe.colors.primary[600]} text-white rounded-xl font-bold hover:${oe.colors.primary[700]} shadow-md flex items-center gap-2`,children:[ae.Edit," Edit Profile"]}),_&&c.jsx("button",{onClick:()=>p(!0),disabled:l.isPending,className:"px-6 py-2 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Delete User"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsx("div",{className:"h-32 bg-gradient-to-r from-[#0f2f57] to-[#1a3a6e]"}),c.jsxs("div",{className:"px-8 pb-8",children:[c.jsxs("div",{className:"relative flex justify-between items-end -mt-12 mb-8",children:[c.jsx("div",{className:"p-1 bg-white rounded-full shadow-xl",children:c.jsx("img",{src:n.image||"https://picsum.photos/200/200?random="+n.id,className:"w-24 h-24 rounded-full object-cover border-1 border-black"})}),c.jsx("span",{className:`px-4 py-1 rounded-full text-xs font-black uppercase tracking-widest ${n.role===Ge.ADMIN?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:n.role})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Full Name"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n.name})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Phone Number"}),c.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.phone})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Joining Date"}),c.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.createdAt?new Date(n.createdAt).toLocaleDateString("en-BD",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[c.jsx("h4",{className:"font-bold text-gray-900",children:"Account Security"}),_?c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:g?"text":"password",value:v,onChange:E=>x(E.target.value),className:"w-full px-4 py-3 pr-10 bg-white border border-purple-300 rounded-lg font-mono text-sm text-gray-700 focus:ring-2 focus:ring-purple-500"}),c.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-purple-600 hover:text-purple-800",children:g?c.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),c.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-14-14zM10 4C6.687 4 3.89 5.945 2.58 8.808c-.35.915-.35 2.468 0 3.384.74 1.94 2.08 3.61 3.756 4.7l1.83-1.83A3.992 3.992 0 016 10a4 4 0 016.956-3.533l1.416-1.416C14.225 4.523 12.15 4 10 4zm7.42 3.192c.35.915.35 2.468 0 3.384C15.26 13.055 12.463 15 9 15a6.966 6.966 0 01-3.15-.744l2.119-2.119A3.992 3.992 0 0114 10c0-.901-.281-1.735-.743-2.434l2.163-2.174z",clipRule:"evenodd"})})})]}),c.jsx("button",{onClick:O,disabled:u.isPending||v===n.password,className:"mt-3 w-full px-3 py-2 bg-purple-600 text-white rounded-lg text-sm font-bold hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u.isPending?"Updating...":"Update Password"}),c.jsx("p",{className:"text-[10px] text-purple-600 font-medium mt-2",children:"Admin access only. Edit and save password here."})]})}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Passwords are managed by system administrators. If you need to reset your password, please contact the IT department."}),c.jsxs("div",{className:"flex items-center gap-2 text-emerald-700 text-sm font-bold",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Active Status Verified"]})]})]})]})]})]}),h&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-sm w-full p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete User?"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:["Are you sure you want to delete ",c.jsx("strong",{children:n.name}),"? This action cannot be undone."]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>p(!1),disabled:l.isPending,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:N,disabled:l.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:l.isPending?"Deleting...":"Delete"})]})]})})]})},ele=()=>{const[e,t]=j.useState("company"),[r,n]=j.useState(null),a=Ue(),{data:s,isPending:l}=Kp(),{data:u,isPending:f}=Qp(),{data:h,isPending:p}=Hp(),{data:g,isPending:y}=Qs(),{data:v,isPending:x}=i1(),{data:w=[],isPending:_}=Ks(),{data:N=[],isPending:O}=ID(),{data:E=[],isPending:C}=Q9(),{data:T=[]}=Fs(),P=cF(),M=uF(),R=dF(),B=fF();hF(),mF();const H=pF(),Y=Vr(),[K,me]=j.useState({name:"",phone:"",email:"",address:"",logo:""}),[ie,ye]=j.useState({prefix:"ORD-",nextNumber:1}),[L,V]=j.useState({steadfast:{baseUrl:"",apiKey:"",secretKey:""},carryBee:{baseUrl:"",clientId:"",clientSecret:"",clientContext:"",storeId:""}}),[ne,he]=j.useState({title:"Invoice",logoWidth:120,logoHeight:120,footer:""}),[I,D]=j.useState({defaultAccountId:"",defaultPaymentMethod:"",incomeCategoryId:"",expenseCategoryId:"",recordsPerPage:10}),[U,Z]=j.useState({name:"",type:"Income",color:"#10B981",parentId:""}),[q,ge]=j.useState({name:"",description:""}),[ve,pe]=j.useState({name:"",shortName:"",description:""}),[ke,te]=j.useState([]),[_e,Pe]=j.useState(!1);Ze.useEffect(()=>{s&&me(s)},[s]),Ze.useEffect(()=>{u&&ye(u)},[u]),Ze.useEffect(()=>{h&&he(h)},[h]),Ze.useEffect(()=>{g&&D(g)},[g]),Ze.useEffect(()=>{v&&V(v)},[v]),j.useEffect(()=>{let se=null;const yt=async()=>{const{baseUrl:Yt,clientId:St,clientSecret:G,clientContext:de}=L.carryBee,Le=Yt==null?void 0:Yt.trim(),Ie=St==null?void 0:St.trim(),vt=G==null?void 0:G.trim(),xe=de==null?void 0:de.trim();if(!Le||!Ie||!vt||!xe){te([]);return}Pe(!0);try{const Qe=await p8({baseUrl:Le,clientId:Ie,clientSecret:vt,clientContext:xe});te(Qe)}catch(Qe){console.error("Failed to fetch CarryBee stores:",Qe),te([])}finally{Pe(!1)}};return se=setTimeout(()=>{yt()},700),()=>{se&&clearTimeout(se)}},[L.carryBee.baseUrl,L.carryBee.clientId,L.carryBee.clientSecret,L.carryBee.clientContext]);const ce=l||f||p||y||x||_||O||C,ze=async()=>{try{const se=Y.loading("Saving all settings...");H.mutateAsync({company:K,order:ie,invoice:ne,defaults:I,courier:L}).then(()=>{Se.settings.company=K,Se.settings.order=ie,Se.settings.invoice=ne,Se.settings.defaults=I,Se.settings.courier=L,Y.update(se,"Settings saved successfully!","success")}).catch(yt=>{console.error("Failed to save settings:",yt),Y.update(se,"Failed to save settings: "+(yt instanceof Error?yt.message:"Unknown error"),"error")})}catch(se){console.error("Failed to initiate settings save:",se),Y.error("Failed to save settings: "+(se instanceof Error?se.message:"Unknown error"))}},Fe=se=>{var Yt;const yt=(Yt=se.target.files)==null?void 0:Yt[0];if(yt){const St=new FileReader;St.onload=()=>{me({...K,logo:St.result})},St.readAsDataURL(yt)}},et=async()=>{if(!U.name.trim()){Y.warning("Please enter a category name");return}const se={id:crypto.randomUUID(),name:U.name,type:U.type,color:U.color,parentId:U.parentId||void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},yt=a.getQueryData(["categories"]);a.setQueryData(["categories"],(G=[])=>[...G,se]);const Yt=Y.loading("Adding category..."),St={...U};Z({name:"",type:"Income",color:"#10B981",parentId:""}),n(null);try{await P.mutateAsync({name:St.name,type:St.type,color:St.color,parentId:St.parentId||void 0}),Y.update(Yt,"Category added successfully!","success")}catch(G){console.error("Failed to add category:",G),a.setQueryData(["categories"],yt),Y.update(Yt,"Failed to add category: "+(G instanceof Error?G.message:"Unknown error"),"error"),n("category"),Z(St)}},jt=async se=>{if(confirm("Are you sure you want to delete this category?"))try{await M.mutateAsync(se),Y.success("Category deleted successfully!")}catch(yt){console.error("Failed to delete category:",yt),Y.error("Failed to delete category: "+(yt instanceof Error?yt.message:"Unknown error"))}},Ft=async()=>{if(!q.name.trim()){Y.warning("Please enter a payment method name");return}const se={id:crypto.randomUUID(),name:q.name,description:q.description||"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},yt=a.getQueryData(["paymentMethods"]);a.setQueryData(["paymentMethods"],(G=[])=>[...G,se]);const Yt=Y.loading("Adding payment method..."),St={...q};ge({name:"",description:""}),n(null);try{await R.mutateAsync({name:St.name,description:St.description||void 0}),Y.update(Yt,"Payment method added successfully!","success")}catch(G){console.error("Failed to add payment method:",G),a.setQueryData(["paymentMethods"],yt),Y.update(Yt,"Failed to add payment method: "+(G instanceof Error?G.message:"Unknown error"),"error"),n("payment"),ge(St)}},Ir=async se=>{if(confirm("Are you sure you want to delete this payment method?"))try{await B.mutateAsync(se),Y.success("Payment method deleted successfully!")}catch(yt){console.error("Failed to delete payment method:",yt),Y.error("Failed to delete payment method: "+(yt instanceof Error?yt.message:"Unknown error"))}},tn=[{id:"company",label:"Company",icon:ae.Dashboard},{id:"order",label:"Order & Invoice",icon:ae.Sales},{id:"defaults",label:"Defaults",icon:ae.Settings},{id:"categories",label:"Categories",icon:ae.More},{id:"payments",label:"Payment Methods",icon:ae.Banking},{id:"courier",label:"Courier",icon:ae.Courier}];return c.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[c.jsx(ef,{isLoading:ce,message:"Loading settings..."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Settings"})}),c.jsx(Je,{onClick:ze,variant:"primary",size:"md",children:"Save Changes"})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[c.jsx("div",{className:"w-full lg:w-64 space-y-1",children:tn.map(se=>c.jsxs("button",{onClick:()=>t(se.id),className:`flex items-center gap-3 w-full px-4 py-3 rounded-xl font-medium transition-all ${e===se.id?`bg-white ${oe.colors.primary[600]} shadow-sm border border-gray-100 ring-1 ring-[#ebf4ff]`:"text-gray-500 hover:bg-gray-100"}`,children:[se.icon,se.label]},se.id))}),c.jsxs("div",{className:"flex-1 bg-white p-8 rounded-xl border border-gray-100 shadow-sm min-h-[500px]",children:[e==="company"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Company Profile"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 flex items-center gap-6 p-6 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden bg-white border",children:K.logo&&c.jsx("img",{src:K.logo,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Company Logo"}),c.jsx("input",{type:"file",id:"logo-input",className:"hidden",onChange:Fe}),c.jsx(Je,{variant:"primary",size:"sm",onClick:()=>{var se;return(se=document.getElementById("logo-input"))==null?void 0:se.click()},children:"Change Logo"})]})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Company Name"}),c.jsx("input",{type:"text",value:K.name,onChange:se=>me({...K,name:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Phone"}),c.jsx("input",{type:"text",value:K.phone,onChange:se=>me({...K,phone:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Email"}),c.jsx("input",{type:"email",value:K.email,onChange:se=>me({...K,email:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-[#3c5a82] transition-all"})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("textarea",{value:K.address,onChange:se=>me({...K,address:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl h-24 focus:ring-2 focus:ring-[#3c5a82] transition-all"})]})]})]}),e==="order"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsxs("section",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Order Logic"}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Order Prefix"}),c.jsx("input",{type:"text",value:ie.prefix,onChange:se=>ye({...ie,prefix:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl font-mono"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Next Number"}),c.jsx("input",{type:"number",value:ie.nextNumber,onChange:se=>ye({...ie,nextNumber:parseInt(se.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]}),c.jsxs("section",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"Invoice Settings"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-1 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Invoice Title"}),c.jsx("input",{type:"text",value:ne.title,onChange:se=>he({...ne,title:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Logo Width (px)"}),c.jsx("input",{type:"number",value:ne.logoWidth,onChange:se=>he({...ne,logoWidth:parseInt(se.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Logo Height (px)"}),c.jsx("input",{type:"number",value:ne.logoHeight,onChange:se=>he({...ne,logoHeight:parseInt(se.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"md:col-span-3 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Invoice Footer"}),c.jsx("textarea",{value:ne.footer,onChange:se=>he({...ne,footer:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl h-24"})]})]})]})]}),e==="defaults"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4",children:"System Defaults"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Account"}),c.jsxs("select",{value:I.defaultAccountId,onChange:se=>D({...I,defaultAccountId:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select an account..."}),T.map(se=>c.jsx("option",{value:se.id,children:se.name},se.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Payment Method"}),c.jsxs("select",{value:I.defaultPaymentMethod,onChange:se=>D({...I,defaultPaymentMethod:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a payment method..."}),N.map(se=>c.jsx("option",{value:se.name,children:se.name},se.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Income Category"}),c.jsxs("select",{value:I.incomeCategoryId,onChange:se=>D({...I,incomeCategoryId:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a category..."}),w.filter(se=>se.type==="Income").map(se=>c.jsx("option",{value:se.id,children:se.name},se.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Default Expense Category"}),c.jsxs("select",{value:I.expenseCategoryId,onChange:se=>D({...I,expenseCategoryId:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl",children:[c.jsx("option",{value:"",children:"Select a category..."}),w.filter(se=>se.type==="Expense").map(se=>c.jsx("option",{value:se.id,children:se.name},se.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Records Per Page"}),c.jsx("input",{type:"number",value:I.recordsPerPage,onChange:se=>D({...I,recordsPerPage:parseInt(se.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]}),e==="categories"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Categories"}),c.jsxs(Je,{onClick:()=>n("category"),variant:"primary",size:"md",children:[ae.Plus," Add"]})]}),_?c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading categories..."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.map(se=>c.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-gray-50/50 hover:shadow-sm transition-all",children:[c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:se.color}}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-800",children:se.name}),c.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:se.type})]}),c.jsx("button",{onClick:()=>jt(se.id),className:"text-red-500 hover:text-red-700 px-2",children:ae.Delete})]},se.id)),w.length===0&&c.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:'No categories yet. Click "Add Category" to create one.'})]})]}),e==="payments"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[c.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Payment Methods"}),c.jsxs(Je,{onClick:()=>n("payment"),variant:"primary",size:"md",children:[ae.Plus," Add"]})]}),O?c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading payment methods..."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.map(se=>c.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50/50 hover:shadow-sm transition-all flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-800",children:se.name}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:se.description||"No description"})]}),c.jsx("button",{onClick:()=>Ir(se.id),className:"text-red-500 hover:text-red-700 px-2",children:ae.Delete})]},se.id)),N.length===0&&c.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:'No payment methods yet. Click "Add Method" to create one.'})]})]}),e==="courier"&&c.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[c.jsxs("section",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4 flex items-center gap-2",children:[c.jsx("img",{src:"/uploads/steadfast.png",alt:"Steadfast",className:"w-6 h-6 rounded-full"}),c.jsx("span",{className:"",children:"Steadfast"})," Secrets"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Base URL"}),c.jsx("input",{type:"text",value:L.steadfast.baseUrl,onChange:se=>V({...L,steadfast:{...L.steadfast,baseUrl:se.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"API Key"}),c.jsx("input",{type:"text",value:L.steadfast.apiKey,onChange:se=>V({...L,steadfast:{...L.steadfast,apiKey:se.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Secret Key"}),c.jsx("input",{type:"text",value:L.steadfast.secretKey,onChange:se=>V({...L,steadfast:{...L.steadfast,secretKey:se.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]})]})]}),c.jsxs("section",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 border-b pb-4 flex items-center gap-2",children:[c.jsx("img",{src:"/uploads/carrybee.png",alt:"CarryBee",className:"w-6 h-6 rounded-full"}),c.jsx("span",{className:"",children:"CarryBee"})," Secrets"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Base URL"}),c.jsx("input",{type:"text",value:L.carryBee.baseUrl,onChange:se=>V({...L,carryBee:{...L.carryBee,baseUrl:se.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client ID"}),c.jsx("input",{type:"text",value:L.carryBee.clientId,onChange:se=>V({...L,carryBee:{...L.carryBee,clientId:se.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client Secret"}),c.jsx("input",{type:"text",value:L.carryBee.clientSecret,onChange:se=>V({...L,carryBee:{...L.carryBee,clientSecret:se.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Client Context"}),c.jsx("input",{type:"text",value:L.carryBee.clientContext,onChange:se=>V({...L,carryBee:{...L.carryBee,clientContext:se.target.value}}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Store ID"}),c.jsxs("select",{value:L.carryBee.storeId,onChange:se=>V({...L,carryBee:{...L.carryBee,storeId:se.target.value}}),disabled:_e||ke.length===0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:_e?"Loading stores...":ke.length===0?"Fill CarryBee credentials first":"Select Store"}),ke.map(se=>c.jsx("option",{value:se.id,children:se.name},se.id))]})]})]})]})]})]})]})]}),r==="category"&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>n(null)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 p-8 space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Category"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:U.name,onChange:se=>Z({...U,name:se.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Type"}),c.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:U.type,onChange:se=>Z({...U,type:se.target.value}),children:[c.jsx("option",{value:"Income",children:"Income"}),c.jsx("option",{value:"Expense",children:"Expense"}),c.jsx("option",{value:"Product",children:"Product"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Color"}),c.jsx("input",{type:"color",className:"w-full h-12 bg-gray-50 border rounded-xl cursor-pointer",value:U.color,onChange:se=>Z({...U,color:se.target.value})})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(Je,{onClick:()=>n(null),variant:"ghost",className:"flex-1",children:"Cancel"}),c.jsx(Je,{onClick:et,variant:"primary",size:"md",className:"flex-1",children:"Add Category"})]})]})]}),r==="payment"&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-sm",onClick:()=>n(null)}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 p-8 space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Payment Method"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Method Name"}),c.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 border rounded-xl",value:q.name,onChange:se=>ge({...q,name:se.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Description"}),c.jsx("textarea",{className:"w-full px-4 py-3 bg-gray-50 border rounded-xl h-24",value:q.description,onChange:se=>ge({...q,description:se.target.value})})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(Je,{onClick:()=>n(null),variant:"ghost",className:"flex-1",children:"Cancel"}),c.jsx(Je,{onClick:Ft,variant:"primary",size:"md",className:"flex-1",children:"Add Method"})]})]})]})]})},tle=()=>{const e=Et(),t=Ue(),r=Vr(),{searchQuery:n}=Ha(),{user:a}=_a(),{data:s}=Qs(),l=(s==null?void 0:s.recordsPerPage)||xt,[u,f]=Ze.useState(1),{data:h,isFetching:p,error:g}=L9(u,l,n),y=(h==null?void 0:h.data)??[],v=(h==null?void 0:h.count)??0,x=Math.max(1,Math.ceil(v/l)),w=W9(),_=(a==null?void 0:a.role)===Ge.ADMIN;j.useEffect(()=>{f(1)},[n]);const N=y,O=async E=>{if(confirm("Are you sure you want to delete this customer?")){if(Vp(E)){t.setQueryData(["customers"],C=>C&&C.filter(T=>T.id!==E)),r.success("Customer deleted");return}try{await w.mutateAsync(E),r.success("Customer deleted successfully")}catch(C){console.error("Failed to delete customer:",C),r.error("Failed to delete customer")}}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Customers"})}),c.jsx(Je,{onClick:()=>e("/customers/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Customer"})]}),g&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsxs("p",{className:"text-red-800",children:[c.jsx("strong",{children:"Error loading customers:"})," ",g instanceof Error?g.message:String(g)]})}),c.jsx(Up,{columns:[{key:"name",label:"Customer Name",render:(E,C)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-400 flex items-center justify-center font-bold text-white",children:C.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 block",children:C.name}),c.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:C.address})]})]})},{key:"phone",label:"Contact",render:E=>c.jsx("span",{className:"text-sm font-medium text-gray-700",children:E})},{key:"totalOrders",label:"Total Orders",align:"center",render:E=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-bold text-gray-600",children:E})},{key:"dueAmount",label:"Due Amount",align:"right",render:E=>c.jsx("span",{className:`font-bold ${E>0?"text-red-500":"text-green-500"}`,children:we(E)})},{key:"id",label:"Actions",align:"right",render:E=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(Bs,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:C=>{C.stopPropagation(),e(`/customers/edit/${E}`)}}),_&&c.jsx(Bs,{icon:ae.Delete,variant:"danger",title:"Delete",onClick:C=>{C.stopPropagation(),O(E)}})]})}],data:N,loading:p,onRowClick:E=>e(`/customers/${E.id}`),emptyMessage:"No customers found"}),c.jsx(Ef,{page:u,totalPages:x,onPageChange:E=>f(E),disabled:p})]})},pT=()=>{const{id:e}=zn(),t=Et(),{isLoading:r}=_a(),n=!!e,[a,s]=j.useState({name:"",phone:"",address:""}),[l,u]=j.useState(null);if(r)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Loading..."}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Authenticating session..."})]});const{data:f,isPending:h,error:p}=zp(n?e:void 0),{data:g=[]}=I9(),y=G9(),v=Y9(),x=Un(),w=Ue();j.useEffect(()=>{if(f){s({name:f.name,phone:f.phone,address:f.address});return}if(e&&Vp(e)){const N=(g||[]).find(O=>O.id===e);N&&s({name:N.name,phone:N.phone,address:N.address})}},[f,g,e]);const _=async()=>{if(!a.name||!a.phone){u("Name and phone are required");return}u(null);try{if(n){const N={name:a.name,phone:a.phone,address:a.address};await v.mutateAsync({id:e,updates:N}),t("/customers")}else{const N={name:a.name,phone:a.phone,address:a.address,totalOrders:0,dueAmount:0};try{const O=await y.mutateAsync(N);try{w.setQueryData(["customers"],C=>C?Array.isArray(C)&&C.some(T=>T.id===O.id)?C:[...C,O]:[O])}catch{}const E=x&&x.state||{};if(E.fromOrderForm&&E.redirectPath){const C=`${E.redirectPath}${E.redirectPath.includes("?")?"&":"?"}selectedCustomerId=${O.id}`;t(C)}else t("/customers")}catch(O){console.error("Create customer failed:",O),u(O instanceof Error?O.message:"Failed to create customer")}}}catch(N){console.error(`Failed to ${n?"update":"create"} customer:`,N),u(N instanceof Error?N.message:`Failed to ${n?"update":"create"} customer`)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:n?"Edit Customer":"New Customer"}),c.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 text-gray-500 font-bold hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"})]}),c.jsx("div",{className:"bg-white p-10 rounded-xl border border-gray-100 shadow-xl space-y-8",children:n&&h?c.jsx("div",{className:"text-center text-gray-500",children:"Loading customer..."}):c.jsxs(c.Fragment,{children:[l&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:l instanceof Error?l.message:String(l)})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Full Name"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:a.name,onChange:N=>s({...a,name:N.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Phone Number"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:a.phone,onChange:N=>s({...a,phone:N.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Address"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 transition-all outline-none",value:a.address,onChange:N=>s({...a,address:N.target.value})})]}),c.jsx(Je,{onClick:_,variant:"primary",size:"lg",className:"w-full",disabled:y.isPending||v.isPending,children:y.isPending||v.isPending?n?"Updating...":"Adding...":n?"Update Customer":"Add Customer"})]})})]})},rle=()=>{const{id:e}=zn(),t=Et(),[r,n]=j.useState(null),a=Se.currentUser,s=(a==null?void 0:a.role)||null,{data:l}=zp(e||""),{data:u=[]}=$9(e||""),{data:f}=Qp(),h=Gp(),p=Vr(),{totalRevenue:g,dueAmount:y}=j.useMemo(()=>{const w=u.filter(E=>E.status===De.COMPLETED),_=u.filter(E=>E.status===De.PROCESSING||E.status===De.PICKED),N=w.reduce((E,C)=>E+C.total,0),O=_.reduce((E,C)=>E+(C.total-C.paidAmount),0);return{totalRevenue:N,dueAmount:O}},[u]),v=w=>{switch(w){case De.ON_HOLD:return"bg-gray-100 text-gray-600";case De.PROCESSING:return"bg-[#e6f0ff] ${theme.colors.secondary[600]}";case De.PICKED:return"bg-purple-100 text-purple-600";case De.COMPLETED:return"bg-green-100 ${theme.colors.primary[600]}";case De.CANCELLED:return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}},x=async w=>{try{if(!l)return;if(!f){p.error("Unable to generate new order number. Please try again.");return}const _=`${f.prefix}${f.nextNumber}`,N=new Date,O=N.toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"}),E=N.toLocaleTimeString("en-BD",{hour:"2-digit",minute:"2-digit"}),C={orderNumber:_,orderDate:new Date().toISOString().split("T")[0],customerId:l.id,createdBy:w.createdBy,status:De.ON_HOLD,items:w.items,subtotal:w.subtotal,discount:w.discount,shipping:w.shipping,total:w.total,paidAmount:0,history:{created:`Duplicated from order #${w.orderNumber} on ${O}, at ${E}`}};await h.mutateAsync(C),p.success("Order duplicated successfully"),t("/orders")}catch(_){console.error("Failed to duplicate order",_),p.error("Failed to duplicate order: "+(_ instanceof Error?_.message:"Unknown error"))}};return s===Ge.EMPLOYEE?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Employees cannot view customer details. Contact an administrator for assistance."}),c.jsx(Je,{onClick:()=>t("/customers"),variant:"primary",children:"Back to Customers"})]}):l?c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/customers"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Profile"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx("button",{onClick:()=>t(`/customers/edit/${e}`),className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-700 hover:bg-gray-50",children:"Edit Profile"})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-[#ebf4ff] ${theme.colors.primary[600]} flex items-center justify-center font-black text-4xl mx-auto mb-4 border-2 border-[#c7dff5]",children:l.name.charAt(0)}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:l.name}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:l.phone}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 space-y-4 text-left",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Address"}),c.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed",children:l.address})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Revenue"}),c.jsx("p",{className:"text-lg font-black text-gray-900",children:we(g)})]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg shadow-[#0f2f57]/20/50 border border-gray-100 text-white",children:[c.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-1",children:"Due Amount"}),c.jsx("h4",{className:"text-lg font-black text-green-600",children:we(y)})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Order History"}),c.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[u.length," Records found"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[c.jsx("th",{className:"px-6 py-4",children:"Order Number"}),c.jsx("th",{className:"px-6 py-4",children:"Order Date"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:u.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-400 italic",children:"No orders found for this customer."})}):u.map(w=>c.jsxs("tr",{onMouseEnter:()=>n(w.id),onMouseLeave:()=>n(null),onClick:()=>t(`/orders/${w.id}`),className:"group relative hover:bg-[#ebf4ff]/30 cursor-pointer transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"font-bold text-gray-900",children:["#",w.orderNumber]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:w.orderDate}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${v(w.status)}`,children:w.status})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("span",{className:"font-black text-gray-900",children:we(w.total)})}),r===w.id&&c.jsx("td",{className:"absolute inset-y-0 right-0 flex items-center pr-6 bg-gradient-to-l from-emerald-50 via-emerald-50 to-transparent",children:c.jsxs("div",{className:"flex items-center gap-1 bg-white p-1 rounded-lg shadow-lg border border-[#c7dff5] animate-in fade-in slide-in-from-right-2 duration-200",onClick:_=>_.stopPropagation(),children:[c.jsx("button",{title:"Edit",onClick:()=>t(`/orders/edit/${w.id}`),className:"p-2 text-gray-500 hover:${theme.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors",children:ae.Edit}),c.jsx("button",{title:"Duplicate",onClick:()=>x(w),className:"p-2 text-gray-500 hover:${theme.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors",children:ae.Duplicate})]})})]},w.id))})]})})]})})]})]}):c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Customer not found."})},nle=()=>{const e=Et();Ue();const t=Vr(),{searchQuery:r}=Ha(),{data:n}=Qs(),a=(n==null?void 0:n.recordsPerPage)||xt,[s,l]=Ze.useState(1),{data:u={data:[],count:0},isFetching:f}=q9(s,a,r),h=u.data||[],p=u.count||0,g=Math.max(1,Math.ceil(p/a)),y=iF();j.useEffect(()=>{l(1)},[r]);const v=h,x=async w=>{if(confirm("Are you sure you want to delete this vendor?"))try{await y.mutateAsync(w),t.success("Vendor deleted successfully")}catch(_){console.error("Failed to delete vendor:",_),t.error("Failed to delete vendor")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("div",{children:c.jsx("h2",{className:"md:text-2xl text-xl font-bold text-gray-900",children:"Vendors"})}),c.jsx(Je,{onClick:()=>e("/vendors/new"),variant:"primary",size:"md",icon:ae.Plus,children:"New Vendor"})]}),c.jsx(Up,{columns:[{key:"name",label:"Vendor Name",render:(w,_)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-400 text-white flex items-center justify-center font-bold",children:_.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 block",children:_.name}),c.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:_.address})]})]})},{key:"phone",label:"Contact",render:w=>c.jsx("span",{className:"text-sm font-medium text-gray-700",children:w})},{key:"totalPurchases",label:"Purchases",align:"center",render:w=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-bold text-gray-600",children:w})},{key:"dueAmount",label:"Balance Payable",align:"right",render:w=>c.jsx("span",{className:`font-bold ${w>0?"text-red-500":"text-green-500"}`,children:we(w)})},{key:"id",label:"Actions",align:"right",render:w=>c.jsxs("div",{className:"justify-end flex items-center gap-2",children:[c.jsx(Bs,{icon:ae.Edit,variant:"primary",title:"Edit",onClick:_=>{_.stopPropagation(),e(`/vendors/edit/${w}`)}}),c.jsx(Bs,{icon:ae.Delete,variant:"danger",title:"Delete",onClick:_=>{_.stopPropagation(),x(w)}})]})}],data:v,loading:f,onRowClick:w=>e(`/vendors/${w.id}`),emptyMessage:"No vendors found"}),c.jsx(Ef,{page:s,totalPages:g,onPageChange:w=>l(w),disabled:f})]})},gT=()=>{const{id:e}=zn(),t=Et(),{isLoading:r}=_a(),n=!!e,[a,s]=j.useState({name:"",phone:"",address:""}),[l,u]=j.useState(null),f=Un();Ue();const{data:h,isPending:p,error:g}=RD(n?e:void 0),y=nF(),v=aF();j.useEffect(()=>{if(h){s({name:h.name,phone:h.phone,address:h.address});return}const w=f&&f.state||{};w.fromBillForm&&w.preFill&&w.preFill.name&&s({name:w.preFill.name,phone:w.preFill.phone||"",address:w.preFill.address||""})},[h,f]);const x=async()=>{if(r){u("Authenticating... Please wait");return}if(!a.name||!a.phone){u("Business name and phone are required");return}u(null);try{if(n){const w={name:a.name,phone:a.phone,address:a.address};await v.mutateAsync({id:e,updates:w}),t("/vendors")}else{const w={name:a.name,phone:a.phone,address:a.address,totalPurchases:0,dueAmount:0};try{const _=await y.mutateAsync(w),N=f&&f.state||{};if(N.fromBillForm&&N.redirectPath){const O=`${N.redirectPath}${N.redirectPath.includes("?")?"&":"?"}selectedVendorId=${_.id}`;t(O)}else t("/vendors")}catch(_){console.error("Create vendor failed:",_),u(_ instanceof Error?_.message:"Failed to create vendor")}}}catch(w){console.error(`Failed to ${n?"update":"create"} vendor:`,w),u(w instanceof Error?w.message:`Failed to ${n?"update":"create"} vendor`)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"md:text-2xl text-xl font-black text-gray-900 tracking-tight",children:n?"Edit Vendor":"New Vendor"}),c.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 text-gray-500 font-bold hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"})]}),c.jsx("div",{className:"bg-white p-10 rounded-xl border border-gray-100 shadow-xl space-y-8",children:n&&p?c.jsx("div",{className:"text-center text-gray-500",children:"Loading vendor..."}):c.jsxs(c.Fragment,{children:[l&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-sm font-bold text-red-600",children:l instanceof Error?l.message:String(l)})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Full Name"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:a.name,onChange:w=>s({...a,name:w.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Phone Number"}),c.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 focus:border-[#3c5a82] focus:bg-white rounded-2xl font-bold transition-all outline-none",value:a.phone,onChange:w=>s({...a,phone:w.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Address"}),c.jsx("textarea",{className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 focus:border-[#3c5a82] focus:bg-white rounded-lg font-medium h-32 transition-all outline-none",value:a.address,onChange:w=>s({...a,address:w.target.value})})]}),c.jsx(Je,{onClick:x,variant:"primary",size:"lg",className:"w-full",disabled:y.isPending||v.isPending,children:y.isPending||v.isPending?n?"Updating...":"Adding...":n?"Update Vendor":"Add Vendor"})]})})]})},ale=()=>{const{id:e}=zn(),t=Et(),{data:r,isPending:n}=RD(e||""),{data:a=[]}=Fp(),[s,l]=j.useState(null);if(n)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading vendor details..."});if(!r)return c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Vendor not found."});const u=a.filter(h=>h.vendorId===r.id),f=h=>{switch(h){case xn.ON_HOLD:return"bg-gray-100 text-gray-600";case xn.PROCESSING:return"bg-blue-100 text-blue-600";case xn.RECEIVED:return"bg-green-100 text-green-600";default:return"bg-gray-100 text-gray-600"}};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("/vendors"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vendor Profile"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"px-4 py-2 border rounded-xl font-bold bg-white text-gray-700 hover:bg-gray-50",children:"Edit Profile"}),c.jsx("button",{className:`px-4 py-2 ${oe.colors.primary[600]} text-white rounded-xl font-bold hover:${oe.colors.primary[700]} shadow-md`,children:"Purchase Statement"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[c.jsx("div",{className:`w-24 h-24 rounded-full bg-[#e6f0ff] ${oe.colors.primary.text} flex items-center justify-center font-black text-4xl mx-auto mb-4 border-2 border-[#c7dff5]`,children:r.name.charAt(0)}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r.name}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r.phone}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 space-y-4 text-left",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Office Address"}),c.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed",children:r.address})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Procurement"}),c.jsx("p",{className:"text-lg font-black text-gray-900",children:we(u.reduce((h,p)=>h+p.total,0))})]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg shadow-[#0f2f57]/20 text-white",children:[c.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-1",children:"Total Payable"}),c.jsx("h4",{className:"text-lg font-black text-red-600",children:we(r.dueAmount)})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Purchase Bills"}),c.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[u.length," Invoices"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[c.jsx("th",{className:"px-6 py-4",children:"Bill Number"}),c.jsx("th",{className:"px-6 py-4",children:"Bill Date"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:u.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-400 italic",children:"No purchase bills found for this vendor."})}):u.map(h=>c.jsxs("tr",{onMouseEnter:()=>l(h.id),onMouseLeave:()=>l(null),onClick:()=>t(`/bills/${h.id}`),className:"group relative hover:bg-blue-50/30 cursor-pointer transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"font-bold text-gray-900",children:["#",h.billNumber]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:h.billDate}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${f(h.status)}`,children:h.status})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("span",{className:"font-black text-gray-900",children:we(h.total)})}),s===h.id&&c.jsx("td",{className:"absolute inset-y-0 right-0 flex items-center pr-6 bg-gradient-to-l from-blue-50 via-blue-50 to-transparent",children:c.jsx("div",{className:"flex items-center gap-1 bg-white p-1 rounded-lg shadow-lg border border-[#c7dff5] animate-in fade-in slide-in-from-right-2 duration-200",onClick:p=>p.stopPropagation(),children:c.jsx("button",{title:"Edit",onClick:()=>t(`/bills/edit/${h.id}`),className:`p-2 text-gray-500 hover:${oe.colors.primary[600]} hover:bg-[#ebf4ff] rounded-md transition-colors`,children:ae.Edit})})})]},h.id))})]})})]})})]})]})},ile=({title:e,description:t,icon:r,color:n,to:a})=>{const s=Et();return c.jsxs("button",{onClick:()=>s(a),className:"flex items-start gap-4 p-6 bg-white rounded-lg border border-gray-100 shadow-sm hover:shadow-md hover:border-[#c7dff5] transition-all text-left w-full group",children:[c.jsx("div",{className:`p-4 rounded-[50%] ${n} transition-transform group-hover:scale-110 duration-300`,children:r}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:e}),c.jsx("p",{className:"text-sm text-gray-500 mt-1 leading-relaxed",children:t}),c.jsxs("div",{className:"mt-4 flex items-center gap-1 text-xs font-bold uppercase tracking-widest opacity-40 group-hover:opacity-100 transition-opacity",children:["View Report ",ae.ChevronRight]})]})]})},sle=()=>{const e=[{title:"Expense Summary",description:"Breakdown of your business spending by category and vendor.",icon:ae.Delete,color:"bg-red-50 text-red-600",to:"/reports/expense"},{title:"Income Summary",description:"Analysis of your revenue streams and payment collections.",icon:ae.PlusCircle,color:`bg-[#ebf4ff] ${oe.colors.primary[600]}`,to:"/reports/income"},{title:"Income vs Expense",description:"Visual comparison of cash inflows and outflows over time.",icon:ae.Transfer,color:`bg-[#e6f0ff] ${oe.colors.secondary[600]}`,to:"/reports/income-vs-expense"},{title:"Profit and Loss",description:"Standard P&L statement to track net business profitability.",icon:ae.Reports,color:"bg-purple-50 text-purple-600",to:"/reports/profit-loss"}];return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Financial Reports"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Deep dive into your business metrics and performance."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,r)=>c.jsx(ile,{...t},r))})]})},ole=()=>{const e=Et(),{data:t=[]}=tf(),{data:r=[]}=n1(),{data:n=[]}=Fs(),{data:a=[]}=Ks(),s=new Map(a.map(g=>[g.id,g.name])),l=t.filter(g=>g.type==="Expense"),u={};l.forEach(g=>{const y=s.get(g.category)||g.category||"Uncategorized";u[y]=(u[y]||0)+g.amount});const f=Object.entries(u).map(([g,y])=>({name:g,value:y})),h=["#EF4444","#F97316","#F59E0B","#8B5CF6","#EC4899","#3B82F6"],p=()=>{const g=`Date,Category,Contact,Account,Amount,Description
`,y=l.map(_=>{var C,T;const N=((C=r.find(P=>P.id===_.contactId))==null?void 0:C.name)||"N/A",O=((T=n.find(P=>P.id===_.accountId))==null?void 0:T.name)||"N/A",E=s.get(_.category)||_.category||"Uncategorized";return`${_.date},"${E}","${N}","${O}",${_.amount},"${_.description}"`}).join(`
`),v=new Blob([g+y],{type:"text/csv"}),x=window.URL.createObjectURL(v),w=document.createElement("a");w.setAttribute("hidden",""),w.setAttribute("href",x),w.setAttribute("download","expense_summary.csv"),document.body.appendChild(w),w.click(),document.body.removeChild(w)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Expense Summary"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-xl font-bold text-sm text-gray-700 hover:bg-gray-50",children:[ae.Download," Export CSV"]}),c.jsx(Je,{variant:"primary",size:"sm",icon:ae.Print,children:"Export Image"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-6",children:"Expenses by Category"}),c.jsx("div",{className:"h-[350px]",children:c.jsx(fc,{width:"100%",height:"100%",children:c.jsxs(K5,{data:f,layout:"vertical",margin:{left:40,right:40},children:[c.jsx(mc,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f1f5f9"}),c.jsx(pc,{type:"number",axisLine:!1,tickLine:!1,tick:{fontSize:10}}),c.jsx(gc,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),c.jsx(Ao,{formatter:g=>we(g),contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),c.jsx(wi,{dataKey:"value",radius:[0,4,4,0],barSize:30,children:f.map((g,y)=>c.jsx(il,{fill:h[y%h.length]},`cell-${y}`))})]})})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm space-y-6",children:[c.jsx("h3",{className:"font-bold text-gray-800",children:"Key Statistics"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[c.jsx("p",{className:"text-[10px] font-bold text-red-400 uppercase tracking-widest",children:"Total Outflow"}),c.jsx("h4",{className:"text-3xl font-black text-red-600",children:we(l.reduce((g,y)=>g+y.amount,0))})]}),c.jsx("div",{className:"divide-y divide-gray-50",children:f.sort((g,y)=>y.value-g.value).slice(0,5).map((g,y)=>c.jsxs("div",{className:"py-3 flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium text-gray-500",children:g.name}),c.jsx("span",{className:"text-sm font-bold text-gray-900",children:we(g.value)})]},y))})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 shadow-sm overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-50",children:c.jsx("h3",{className:"font-bold text-gray-900",children:"Recent Expense Log"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-xs font-bold text-gray-500 uppercase",children:[c.jsx("th",{className:"px-6 py-4",children:"Date"}),c.jsx("th",{className:"px-6 py-4",children:"Category"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:l.slice(0,10).map(g=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:g.date}),c.jsx("td",{className:"px-6 py-4 text-sm font-bold text-gray-800",children:s.get(g.category)||g.category||"Uncategorized"}),c.jsx("td",{className:"px-6 py-4 text-right font-black text-red-600",children:we(g.amount)})]},g.id))})]})})]})]})},lle=()=>{const e=Et(),t=Ue(),{data:r=[]}=tf(),{data:n=[]}=qp(),{data:a=[]}=Ks(),[s,l]=Ze.useState([]),u=new Map(a.map(x=>[x.id,x.name])),f=r.filter(x=>x.type==="Income"),h={};f.forEach(x=>{h[x.category]=(h[x.category]||0)+x.amount});const p=Object.entries(h).map(([x,w])=>({name:u.get(x)||x||"Uncategorized",value:w})),g=["#10B981","#34D399","#6EE7B7","#A7F3D0","#D1FAE5"],y=n.filter(x=>x.status===De.COMPLETED),v={};return y.forEach(x=>{v[x.customerId]=(v[x.customerId]||0)+x.total}),Ze.useEffect(()=>{const w=Object.entries(v).sort((_,N)=>N[1]-_[1]).slice(0,3).map(_=>_[0]);if(w.length===0){l([]);return}Promise.all(w.map(_=>t.fetchQuery({queryKey:["customer",_],queryFn:()=>Lp(_)}))).then(_=>{const N=_.map((O,E)=>({...O||{},revenue:v[w[E]]||0}));l(N.filter(O=>O&&O.revenue>0))}).catch(()=>{l([])})},[n,r]),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Income Summary"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-xl font-bold text-sm text-gray-700 hover:bg-gray-50",children:[ae.Download," Export CSV"]}),c.jsx(Je,{variant:"primary",size:"sm",icon:ae.Print,children:"Export Image"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm flex flex-col items-center",children:[c.jsx("h3",{className:"font-bold text-gray-800 self-start mb-6",children:"Revenue Mix"}),c.jsx("div",{className:"w-full h-[300px]",children:c.jsx(fc,{width:"100%",height:"100%",children:c.jsxs(H5,{children:[c.jsx(rS,{data:p,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:p.map((x,w)=>c.jsx(il,{fill:g[w%g.length]},`cell-${w}`))}),c.jsx(Ao,{formatter:x=>we(x)}),c.jsx(Td,{verticalAlign:"bottom",align:"center"})]})})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:`${oe.colors.primary[600]} p-8 rounded-lg text-white shadow-lg shadow-[#0f2f57]/20`,children:[c.jsx("p",{className:"text-[#c7dff5] text-xs font-bold uppercase tracking-widest mb-1",children:"Total Revenue Collected"}),c.jsx("h4",{className:"text-4xl font-black",children:we(f.reduce((x,w)=>x+w.amount,0))}),c.jsxs("div",{className:"mt-6 p-4 bg-white/10 rounded-xl flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium",children:"Avg Transaction Size"}),c.jsx("span",{className:"font-bold",children:we(f.length?f.reduce((x,w)=>x+w.amount,0)/f.length:0)})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Top Customers"}),c.jsx("div",{className:"space-y-4",children:s.map((x,w)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center font-bold text-xs",children:x.name.charAt(0)}),c.jsx("span",{className:"text-sm font-semibold text-gray-700",children:x.name})]}),c.jsx("span",{className:"text-sm font-black",children:we(x.revenue)})]},w))})]})]})]})]})},cle=()=>{const e=Et(),{data:t=[]}=tf(),r=j.useMemo(()=>{const n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=new Date().getFullYear(),s={};return n.forEach(l=>{s[l]={income:0,expense:0}}),t.forEach(l=>{const u=new Date(l.date);if(u.getFullYear()!==a)return;const f=u.getMonth(),h=n[f];l.type==="Income"?s[h].income+=l.amount:l.type==="Expense"&&(s[h].expense+=l.amount)}),n.map(l=>({name:l,income:s[l].income,expense:s[l].expense,profit:s[l].income-s[l].expense}))},[t]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Income vs Expense Trend"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx(Je,{variant:"primary",size:"sm",icon:ae.Print,children:"Export Full Report"})})]}),c.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 mb-8",children:"Cash Flow Dynamics (Last 6 Months)"}),c.jsx("div",{className:"h-[400px]",children:c.jsx(fc,{width:"100%",height:"100%",children:c.jsxs(Pw,{data:r,children:[c.jsx(mc,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(pc,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12}}),c.jsx(gc,{axisLine:!1,tickLine:!1,tick:{fontSize:12}}),c.jsx(Ao,{formatter:n=>we(n),contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),c.jsx(Td,{verticalAlign:"top",align:"right",height:36}),c.jsx(wi,{dataKey:"income",fill:"#10B981",radius:[4,4,0,0],name:"Total Income",barSize:40}),c.jsx(wi,{dataKey:"expense",fill:"#EF4444",radius:[4,4,0,0],name:"Total Expense",barSize:40}),c.jsx(_p,{type:"monotone",dataKey:"profit",stroke:"#8B5CF6",strokeWidth:4,dot:{r:6,fill:"#8B5CF6",strokeWidth:2,stroke:"#fff"},name:"Net Cash Flow"})]})})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:(()=>{var f,h,p,g;const n=r.reduce((y,v)=>y+v.income,0),a=r.reduce((y,v)=>y+v.expense,0),s=r.length>0?(n-a)/r.length:0,l=r.reduce((y,v,x)=>v.income>r[y].income?x:y,0),u=r.reduce((y,v,x)=>v.expense<r[y].expense?x:y,0);return[{label:"Highest Revenue Month",value:((f=r[l])==null?void 0:f.name)||"",amount:((h=r[l])==null?void 0:h.income)||0},{label:"Least Expense Month",value:((p=r[u])==null?void 0:p.name)||"",amount:((g=r[u])==null?void 0:g.expense)||0},{label:"Average Monthly Profit",value:"Monthly Avg",amount:s,color:"text-purple-600"}].map((y,v)=>c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm",children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:y.label}),c.jsx("h4",{className:"text-xl font-bold text-gray-900 mt-1",children:y.value}),c.jsx("p",{className:`text-lg font-black mt-2 ${y.color}`,children:we(y.amount)})]},v))})()})]})},Da=({label:e,amount:t,isBold:r,isTotal:n,indent:a})=>c.jsxs("div",{className:`flex justify-between py-2 ${r?"font-bold text-gray-900":"text-gray-600"} ${n?"border-t-2 border-gray-100 pt-4 mt-2":""} ${a?"pl-6":""}`,children:[c.jsx("span",{className:"text-sm",children:e}),c.jsx("span",{className:"text-sm font-black",children:we(t)})]}),ule=()=>{const e=Et(),{data:t=[]}=qp(),{data:r=[]}=Fp(),{data:n=[]}=tf(),{data:a=[]}=Ks(),s=new Map(a.map(x=>[x.id,x.name])),[l,u]=j.useState("currentYear"),[f,h]=j.useState(""),[p,g]=j.useState(""),y=x=>{const w=new Date(x),_=new Date;return l==="currentYear"?w.getFullYear()===_.getFullYear():l==="currentMonth"?w.getFullYear()===_.getFullYear()&&w.getMonth()===_.getMonth():l==="custom"?!f||!p?!0:w>=new Date(f)&&w<=new Date(p):!0},v=j.useMemo(()=>{const x=n.filter(R=>R.type==="Income"&&!!R.referenceId&&y(R.date)).reduce((R,B)=>R+B.amount,0),w=x>0?x:t.filter(R=>R.status===De.COMPLETED&&y(R.orderDate)).reduce((R,B)=>R+B.total,0),_=n.filter(R=>R.type==="Expense"&&R.category==="expense_purchases"&&y(R.date)).reduce((R,B)=>R+B.amount,0),N=_>0?_:r.filter(R=>y(R.billDate)).reduce((R,B)=>R+B.total,0),O=w-N,E={};n.filter(R=>R.type==="Expense"&&R.category!=="expense_purchases"&&y(R.date)).forEach(R=>{const B=s.get(R.category)||R.category||"Uncategorized";E[B]=(E[B]||0)+R.amount});const T=Object.entries(E).map(([R,B])=>({categoryName:R,amount:B})).sort((R,B)=>B.amount-R.amount),P=Object.values(E).reduce((R,B)=>R+B,0),M=O-P;return{grossSales:w,costOfPurchases:N,grossProfit:O,expenses:T,totalOperatingExpenses:P,netProfit:M}},[t,r,n,l,f,p,s]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>e("/reports"),className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-gray-200 text-gray-500",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profit and Loss Statement"})]}),c.jsxs("button",{onClick:()=>window.print(),className:`flex items-center gap-2 px-4 py-2 ${oe.colors.primary[600]} hover:${oe.colors.primary[700]} text-white font-bold rounded-xl transition-colors`,children:[ae.Print," Print Statement"]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4",children:"Period"}),c.jsxs("div",{className:"flex gap-4 items-end",children:[c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"currentYear",checked:l==="currentYear",onChange:x=>u(x.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Year"})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"currentMonth",checked:l==="currentMonth",onChange:x=>u(x.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Month"})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"dateRange",value:"custom",checked:l==="custom",onChange:x=>u(x.target.value),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Custom Range"})]})]}),l==="custom"&&c.jsxs("div",{className:"flex gap-3 ml-auto",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-600",children:"From:"}),c.jsx("input",{type:"date",value:f,onChange:x=>h(x.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-600",children:"To:"}),c.jsx("input",{type:"date",value:p,onChange:x=>g(x.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"})]})]})]})]}),c.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"p-8 bg-gray-50 border-b border-gray-100 text-center",children:[Se.settings.company.logo&&c.jsx("img",{src:Se.settings.company.logo,className:"w-16 h-16 rounded-xl mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:Se.settings.company.name})]}),c.jsxs("div",{className:"p-8 space-y-2",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Revenue"}),c.jsx(Da,{label:"Gross Sales (Completed Orders)",amount:v.grossSales}),c.jsx(Da,{label:"Other Operating Income",amount:0}),c.jsx(Da,{label:"Total Revenue",amount:v.grossSales,isBold:!0,isTotal:!0}),c.jsxs("div",{className:"pt-8",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Cost of Goods Sold"}),c.jsx(Da,{label:"Purchases",amount:v.costOfPurchases}),c.jsx(Da,{label:"Total COGS",amount:v.costOfPurchases,isBold:!0,isTotal:!0})]}),c.jsx("div",{className:"pt-8",children:c.jsx(Da,{label:"Gross Profit",amount:v.grossProfit,isBold:!0})}),c.jsxs("div",{className:"pt-8",children:[c.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Operating Expenses"}),v.expenses.length>0?c.jsxs(c.Fragment,{children:[v.expenses.slice(0,5).map((x,w)=>c.jsx(Da,{label:x.categoryName,amount:x.amount,indent:!0},w)),v.expenses.length>5&&c.jsx(Da,{label:"Other Expenses",amount:v.expenses.slice(5).reduce((x,w)=>x+w.amount,0),indent:!0})]}):c.jsx(Da,{label:"None",amount:0,indent:!0}),c.jsx(Da,{label:"Total Operating Expenses",amount:v.totalOperatingExpenses,isBold:!0,isTotal:!0})]}),c.jsx("div",{className:"pt-12",children:c.jsxs("div",{className:`p-6 rounded-lg flex justify-between items-center ${v.netProfit>=0?oe.colors.primary[600]:"bg-red-600"} text-white shadow-xl`,children:[c.jsx("span",{className:"text-lg font-black uppercase tracking-widest",children:"Net Profit / Loss"}),c.jsx("span",{className:"text-3xl font-black",children:we(v.netProfit)})]})})]}),c.jsx("div",{className:"p-8 text-center text-[10px] text-gray-300 italic border-t border-gray-50",children:"This report is generated automatically by BD Hatbela Financial Management System."})]})]})},yT=({order:e,customer:t,products:r,companySettings:n,invoiceSettings:a})=>c.jsxs("div",{className:"space-y-5 print:space-y-4 text-gray-900",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[((n==null?void 0:n.logo)||Se.settings.company.logo)&&c.jsx("img",{src:(n==null?void 0:n.logo)||Se.settings.company.logo,className:"rounded-lg object-cover mb-4",style:{width:(a==null?void 0:a.logoWidth)||Se.settings.invoice.logoWidth,height:(a==null?void 0:a.logoHeight)||Se.settings.invoice.logoHeight},alt:"Company Logo"}),c.jsx("h1",{className:"text-xl font-black uppercase tracking-tighter",children:(n==null?void 0:n.name)||Se.settings.company.name}),c.jsxs("div",{className:"mt-2 text-xs text-gray-400 font-medium space-y-1 print:text-gray-600",children:[c.jsx("p",{children:(n==null?void 0:n.address)||Se.settings.company.address}),c.jsxs("p",{children:[(n==null?void 0:n.phone)||Se.settings.company.phone," "," ",(n==null?void 0:n.email)||Se.settings.company.email]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-300 uppercase leading-none mb-2 print:text-gray-400",children:(a==null?void 0:a.title)||Se.settings.invoice.title}),c.jsxs("div",{className:"space-y-1.5 print:space-y-1",children:[c.jsxs("p",{className:"text-sm font-bold text-gray-900 print:text-gray-800",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Order No:"}),e.orderNumber]}),c.jsxs("p",{className:"text-sm font-bold text-gray-900 print:text-gray-800",children:[c.jsx("span",{className:"text-gray-400 font-medium",children:"Date:"}),new Date(e.orderDate).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-12 border-t border-gray-100 py-4 print:border-gray-300 print:py-3",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 print:mb-2",children:"Billed To"}),c.jsx("h3",{className:"text-md font-black text-gray-900 print:text-gray-800",children:t==null?void 0:t.name}),c.jsx("p",{className:"text-sm text-gray-500 leading-relaxed print:text-gray-600",children:t==null?void 0:t.address}),c.jsx("p",{className:"text-sm font-bold mt-2 print:mt-1",children:t==null?void 0:t.phone})]})}),c.jsxs("table",{className:"w-full text-left print:text-gray-800",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-100 print:border-gray-300",children:[c.jsx("th",{className:"py-4 text-sm font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Item Description"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Rate"}),c.jsx("th",{className:"py-4 text-sm text-center font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Qty"}),c.jsx("th",{className:"py-4 text-sm text-right font-black text-gray-400 uppercase print:text-xs print:py-2",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50 print:divide-gray-300",children:e.items.map((s,l)=>{const u=r.find(f=>f.id===s.productId);return c.jsxs("tr",{className:"group",children:[c.jsx("td",{className:"py-6 print:py-3",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:u==null?void 0:u.image,className:"w-12 h-12 rounded-full object-cover border border-gray-100 shadow-sm print:w-10 print:h-10 print:rounded-full print:border-gray-300 print:shadow-none",alt:s.productName}),c.jsx("span",{className:"font-bold text-gray-900 print:text-sm",children:s.productName})]})}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold print:py-3 print:text-sm",children:we(s.rate)}),c.jsx("td",{className:"py-6 text-center text-gray-500 font-bold print:py-3 print:text-sm",children:s.quantity}),c.jsx("td",{className:"py-6 text-right font-black text-gray-900 print:py-3 print:text-sm",children:we(s.amount)})]},l)})})]}),c.jsx("div",{className:"flex justify-end pt-6 print:pt-4",children:c.jsxs("div",{className:"w-full max-w-xs space-y-4 print:space-y-2 print:text-sm",children:[c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Subtotal"}),c.jsx("span",{className:"font-bold text-gray-900 print:text-gray-800",children:we(e.subtotal)})]}),e.discount>0&&c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Discount"}),c.jsxs("span",{className:"font-bold text-red-500 print:text-red-600",children:["-",we(e.discount)]})]}),e.shipping>0&&c.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[c.jsx("span",{className:"text-gray-400 font-bold uppercase print:text-gray-600",children:"Shipping"}),c.jsx("span",{className:"font-bold text-gray-900 print:text-gray-800",children:we(e.shipping)})]}),c.jsxs("div",{className:"flex justify-between items-center py-6 border-t-2 border-[#0f2f57] print:py-3 print:border-t print:border-gray-400",children:[c.jsx("span",{className:"font-black text-gray-900 uppercase tracking-tighter print:text-gray-800",children:"Net Total"}),c.jsx("span",{className:"font-black text-gray-900 print:text-gray-800",children:we(e.total)})]})]})}),e.notes&&c.jsxs("div",{className:"bg-gray-50 p-4 rounded-[10px] border border-gray-100 print:bg-white print:p-3 print:rounded-lg print:border-gray-300",children:[c.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase tracking-widest mb-2 print:text-gray-500 print:mb-1",children:"Terms & Notes"}),c.jsx("p",{className:"text-xs text-gray-600 font-medium italic leading-relaxed print:text-gray-700",children:e.notes})]})]}),dle=()=>{const{id:e}=zn(),{data:t,isPending:r}=r1(e||""),{data:n}=zp(t?t.customerId:void 0),{data:a=[]}=Bi(),{data:s=[]}=a1(),{data:l}=Kp(),{data:u}=Hp(),f=j.useRef(!1);return t&&a.find(h=>h.id===t.createdBy),j.useEffect(()=>{t&&!r&&!f.current&&(f.current=!0,qoe())},[t,r]),r||!t?c.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading details..."}):c.jsxs("div",{className:"min-h-screen bg-white print:bg-white",children:[c.jsxs("div",{className:"space-y-0 print:space-y-0",children:[c.jsx("div",{className:"bg-white p-6 lg:p-10 print:p-6 min-h-screen print:min-h-fit",children:c.jsx(yT,{order:t,customer:n,products:s,companySettings:l,invoiceSettings:u})}),c.jsx("div",{className:"bg-white p-6 lg:p-10 print:p-6 min-h-screen print:min-h-fit",style:{pageBreakBefore:"always"},children:c.jsx(yT,{order:t,customer:n,products:s,companySettings:l,invoiceSettings:u})})]}),c.jsx("style",{children:`
        @media print {
          body {
            margin: 0;
            padding: 0;
            background: white;
          }
          .no-print {
            display: none !important;
          }
          table {
            page-break-inside: avoid;
          }
          tr {
            page-break-inside: avoid;
          }
          @page {
            margin: 0.25in;
            size: A4;
          }
          .print:page-break-avoid {
            page-break-inside: avoid;
          }
          .grid {
            page-break-inside: avoid;
          }
        }
      `})]})},fle=new w$({defaultOptions:{queries:{staleTime:300*1e3,gcTime:1800*1e3,retry:2,retryDelay:e=>Math.min(1e3*2**e,1e4),refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1},mutations:{retry:1,retryDelay:1e3}}}),hle=({user:e,profile:t,isLoading:r})=>{const n=!!e;return c.jsxs(v6,{children:[c.jsx(Xe,{path:"/login",element:n?c.jsx(Ve,{to:"/dashboard",replace:!0}):c.jsx(k9,{})}),c.jsx(Xe,{path:"/",element:n?c.jsx(Ve,{to:"/dashboard",replace:!0}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/dashboard",element:n?c.jsx(ct,{children:c.jsx(zoe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/orders",element:n?c.jsx(ct,{children:c.jsx(Foe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/orders/new",element:n?c.jsx(ct,{children:c.jsx(dT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/orders/edit/:id",element:n?c.jsx(ct,{children:c.jsx(dT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/orders/:id",element:n?c.jsx(ct,{children:c.jsx(Koe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/print-order/:id",element:n?c.jsx(dle,{}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/bills",element:n?c.jsx(ct,{children:c.jsx(Qoe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/bills/new",element:n?c.jsx(ct,{children:c.jsx(fT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/bills/edit/:id",element:n?c.jsx(ct,{children:c.jsx(fT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/bills/:id",element:n?c.jsx(ct,{children:c.jsx(Hoe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/banking/accounts",element:n?c.jsx(ct,{children:c.jsx(Voe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/banking/transfer",element:n?c.jsx(ct,{children:c.jsx(Woe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/banking/transactions",element:n?c.jsx(ct,{children:c.jsx(Goe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/transactions",element:n?c.jsx(Ve,{to:"/banking/transactions",replace:!0}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/transactions/new/:type",element:n?c.jsx(ct,{children:c.jsx(Yoe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/customers",element:n?c.jsx(ct,{children:c.jsx(tle,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/customers/new",element:n?c.jsx(ct,{children:c.jsx(pT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/customers/edit/:id",element:n?c.jsx(ct,{children:c.jsx(pT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/customers/:id",element:n?c.jsx(ct,{children:c.jsx(rle,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/vendors",element:n?c.jsx(ct,{children:c.jsx(nle,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/vendors/new",element:n?c.jsx(ct,{children:c.jsx(gT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/vendors/edit/:id",element:n?c.jsx(ct,{children:c.jsx(gT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/vendors/:id",element:n?c.jsx(ct,{children:c.jsx(ale,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/products",element:n?c.jsx(ct,{children:c.jsx(Xoe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/products/new",element:n?c.jsx(ct,{children:c.jsx(hT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/products/edit/:id",element:n?c.jsx(ct,{children:c.jsx(hT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/users",element:n?c.jsx(ct,{children:c.jsx(Joe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/users/new",element:n?c.jsx(ct,{children:c.jsx(mT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/users/edit/:id",element:n?c.jsx(ct,{children:c.jsx(mT,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/users/:id",element:n?c.jsx(ct,{children:c.jsx(Zoe,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/reports",element:n?c.jsx(ct,{children:c.jsx(sle,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/reports/expense",element:n?c.jsx(ct,{children:c.jsx(ole,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/reports/income",element:n?c.jsx(ct,{children:c.jsx(lle,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/reports/income-vs-expense",element:n?c.jsx(ct,{children:c.jsx(cle,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/reports/profit-loss",element:n?c.jsx(ct,{children:c.jsx(ule,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/settings",element:n?c.jsx(ct,{children:c.jsx(ele,{})}):c.jsx(Ve,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"*",element:n?c.jsx(Ve,{to:"/dashboard",replace:!0}):c.jsx(Ve,{to:"/login",replace:!0})})]})},mle=()=>{const{user:e,profile:t,isLoading:r}=_a();return console.log("[App] Render - user:",!!e,"profile:",!!t,"isLoading:",r),r?(console.log("[App] Rendering loading screen"),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block p-4",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),c.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading..."})]})})):c.jsx(hle,{user:e,profile:t,isLoading:r})},ple=()=>(console.log("[App] Root component rendering - setting up providers"),c.jsx(j$,{client:fle,children:c.jsx(j8,{children:c.jsx(E8,{children:c.jsx(S8,{children:c.jsx(_8,{children:c.jsx(O8,{children:c.jsxs(q6,{children:[c.jsx(mle,{}),c.jsx(C9,{}),c.jsx(A9,{})]})})})})})})})),G5=document.getElementById("root");if(!G5)throw new Error("Could not find root element to mount to");const gle=wB.createRoot(G5);gle.render(c.jsx(Ze.StrictMode,{children:c.jsx(ple,{})}));window.__testSupabase={async testCustomers(){console.log(" Testing customer fetch...");try{const e=await wD();return console.log(" Success! Customers:",e),e}catch(e){throw console.error(" Error:",e),e}},async testConnection(){console.log(" Testing session (direct table auth)...");try{const e=localStorage.getItem("userData");if(e){const t=JSON.parse(e);return console.log(" User session active:",t),t}return console.log(" No active session - user not logged in"),null}catch(e){throw console.error(" Session check error:",e),e}},help(){console.log("Available test functions:"),console.log("  __testSupabase.testCustomers() - Fetch customers from DB"),console.log("  __testSupabase.testConnection() - Check auth session"),console.log("  __testSupabase.help() - Show this help")}};console.log(" Tip: Type __testSupabase.help() in console for test commands");export{Qa as a,vle as g};
